{"items":[{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652505528,"post_id":72229737,"comment_id":127627493,"body_markdown":"Have a look at this also. https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","body":"Have a look at this also. <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652448894,"creation_date":1652448894,"answer_id":72230438,"question_id":72229737,"body_markdown":"You can get a reference to the controller via method [getController][1] in class `javafx.fxml.FXMLLoader`. Then you can invoke methods of the controller class.\r\n\r\nAdd a method for setting the text of `Change_AdminEdit_Author`, in the controller class:\r\n```java\r\npublic void setAuthor(String text) {\r\n    Change_AdminEdit_Author.setText(text);\r\n}\r\n```\r\nCall the method from `displaySelected` method:  \r\n(Note I assume that your controller class is named `Controller_Admin_Change`)\r\n```java\r\nController_Admin_Change controller = loader.getController();\r\ncontroller.setAuthor(SelectedAuthor);\r\n```\r\nIt is recommended to adhere to [Java naming conventions][2]. The below code is the same as the above code but the names are according to the conventions.\r\n```java\r\npublic void setAuthor(String text) {\r\n    changeAdminEditAuthor.setText(text);\r\n}\r\n```\r\n----------------\r\n```java\r\nString selectedAuthor = selection.getAuthor();\r\nControllerAdminChange controller = loader.getController();\r\ncontroller.setAuthor(selectedAuthor);\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/18/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\r\n  [2]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How i can get selection model from one method to another metod from other class with Table View?","body":"<p>You can get a reference to the controller via method <a href=\"https://openjfx.io/javadoc/18/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\" rel=\"nofollow noreferrer\">getController</a> in class <code>javafx.fxml.FXMLLoader</code>. Then you can invoke methods of the controller class.</p>\n<p>Add a method for setting the text of <code>Change_AdminEdit_Author</code>, in the controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setAuthor(String text) {\n    Change_AdminEdit_Author.setText(text);\n}\n</code></pre>\n<p>Call the method from <code>displaySelected</code> method:<br />\n(Note I assume that your controller class is named <code>Controller_Admin_Change</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Controller_Admin_Change controller = loader.getController();\ncontroller.setAuthor(SelectedAuthor);\n</code></pre>\n<p>It is recommended to adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>. The below code is the same as the above code but the names are according to the conventions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setAuthor(String text) {\n    changeAdminEditAuthor.setText(text);\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>String selectedAuthor = selection.getAuthor();\nControllerAdminChange controller = loader.getController();\ncontroller.setAuthor(selectedAuthor);\n</code></pre>\n"}],"owner":{"account_id":25282196,"reputation":13,"user_id":19109880,"display_name":"Diachenko Danylo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1652450598,"accepted_answer_id":72230438,"answer_count":1,"score":0,"last_activity_date":1652448894,"creation_date":1652445450,"question_id":72229737,"body_markdown":"I want to get one selected model with name, author,key_words to next window. Where it will be in tex fields. After i changing this, i want to save it in database by SQL Update command\r\n\r\n\r\n    public void displaySelected(ActionEvent mouseEvent) {\r\n\r\n        ModelTable selection = Table_View.getSelectionModel().getSelectedItem();\r\n        if (selection == null){\r\n            System.out.println(&quot;not selected&quot;);\r\n        }else {\r\n            String SelectedAuthor = selection.getAuthor();\r\n            String SelectedName = selection.getName();\r\n            String SelectionWord = selection.getWords();\r\n\r\n            FXMLLoader loader = new FXMLLoader();\r\n            loader.setLocation(getClass().getResource(&quot;Admin_Change.fxml&quot;));\r\n            try {\r\n                loader.load();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            Change_Add_Button.getScene().getWindow().hide();\r\n            Parent root = loader.getRoot();\r\n            Stage stage = new Stage();\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n            System.out.println(&quot;Change display&quot;);\r\n        }\r\n    }\r\n\r\nI want to set text field from selected item to new page to \r\n Controller_Admin_Change\r\n\r\n\r\n    @FXML\r\n    private TextField Change_AdminEdit_Author;\r\n\r\n    @FXML\r\n    private TextField Change_AdminEdit_Name;\r\n\r\n    @FXML\r\n    private TextField Change_AdminEdit_Word;\r\nMaybe its common mistake of OOP, but idk how to find a solution\r\nThanks for advice\r\n\r\nSelected item what i what to insert \r\n[From this][1]\r\n\r\nto this fields \r\n[To this][2]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/U6BW4.jpg\r\n  [1]: https://i.stack.imgur.com/wEfST.jpg","title":"How i can get selection model from one method to another metod from other class with Table View?","body":"<p>I want to get one selected model with name, author,key_words to next window. Where it will be in tex fields. After i changing this, i want to save it in database by SQL Update command</p>\n<pre><code>public void displaySelected(ActionEvent mouseEvent) {\n\n    ModelTable selection = Table_View.getSelectionModel().getSelectedItem();\n    if (selection == null){\n        System.out.println(&quot;not selected&quot;);\n    }else {\n        String SelectedAuthor = selection.getAuthor();\n        String SelectedName = selection.getName();\n        String SelectionWord = selection.getWords();\n\n        FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(getClass().getResource(&quot;Admin_Change.fxml&quot;));\n        try {\n            loader.load();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        Change_Add_Button.getScene().getWindow().hide();\n        Parent root = loader.getRoot();\n        Stage stage = new Stage();\n        stage.setScene(new Scene(root));\n        stage.show();\n        System.out.println(&quot;Change display&quot;);\n    }\n}\n</code></pre>\n<p>I want to set text field from selected item to new page to\nController_Admin_Change</p>\n<pre><code>@FXML\nprivate TextField Change_AdminEdit_Author;\n\n@FXML\nprivate TextField Change_AdminEdit_Name;\n\n@FXML\nprivate TextField Change_AdminEdit_Word;\n</code></pre>\n<p>Maybe its common mistake of OOP, but idk how to find a solution\nThanks for advice</p>\n<p>Selected item what i what to insert\n<a href=\"https://i.stack.imgur.com/wEfST.jpg\" rel=\"nofollow noreferrer\">From this</a></p>\n<p>to this fields\n<a href=\"https://i.stack.imgur.com/U6BW4.jpg\" rel=\"nofollow noreferrer\">To this</a></p>\n"},{"tags":["java","clojure","macros"],"answers":[{"tags":[],"owner":{"account_id":20892163,"reputation":2171,"user_id":15347316,"display_name":"Steffan Westcott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652437789,"creation_date":1652436356,"answer_id":72227824,"question_id":72226184,"body_markdown":"I could not tell from your question if your code uses `Reflector` on every call to the `parse` method. If so, you could instead define the `Method` once to use later many times:\r\n```clojure\r\n(def right-version? true)   ; set as appropriate\r\n\r\n(def ^java.lang.reflect.Method parse-method\r\n  (when right-version?\r\n    (.getMethod (Class/forName &quot;java.time.LocalDateTime&quot;)\r\n                &quot;parse&quot;\r\n                (into-array [java.lang.CharSequence]))))\r\n\r\n(defn parse-local-date-time [s]\r\n  (when parse-method\r\n    (.invoke parse-method nil (into-array [s]))))\r\n```\r\n```clojure\r\n(parse-local-date-time &quot;2020-01-01T14:30:00&quot;)\r\n;; =&gt; #object[java.time.LocalDateTime 0x268fc120 &quot;2020-01-01T14:30&quot;]\r\n```","title":"Clojure - compiling project with Java classes that are potentially not available","body":"<p>I could not tell from your question if your code uses <code>Reflector</code> on every call to the <code>parse</code> method. If so, you could instead define the <code>Method</code> once to use later many times:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(def right-version? true)   ; set as appropriate\n\n(def ^java.lang.reflect.Method parse-method\n  (when right-version?\n    (.getMethod (Class/forName &quot;java.time.LocalDateTime&quot;)\n                &quot;parse&quot;\n                (into-array [java.lang.CharSequence]))))\n\n(defn parse-local-date-time [s]\n  (when parse-method\n    (.invoke parse-method nil (into-array [s]))))\n</code></pre>\n<pre class=\"lang-clj prettyprint-override\"><code>(parse-local-date-time &quot;2020-01-01T14:30:00&quot;)\n;; =&gt; #object[java.time.LocalDateTime 0x268fc120 &quot;2020-01-01T14:30&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2041247,"reputation":29451,"user_id":1822379,"accept_rate":60,"display_name":"Alan Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652448773,"creation_date":1652447693,"answer_id":72230200,"question_id":72226184,"body_markdown":"I have been using a macro solution to this problem for 6+ years in [the Tupelo Library][1].  It allows you to write code like:\r\n\r\n```\r\n(defn base64-encoder []\r\n  (if-java-1-8-plus\r\n    (java.util.Base64/getEncoder)\r\n    (throw (RuntimeException. &quot;Unimplemented prior to Java 1.8: &quot;))))\r\n```\r\n\r\nThe macro itself is quite simple:\r\n\r\n```\r\n     (defmacro if-java-1-11-plus  \r\n       &quot;If JVM is Java 1.11 or higher, evaluates if-form into code. Otherwise, evaluates else-form.&quot;\r\n       [if-form else-form]\r\n       (if (is-java-11-plus?)\r\n         `(do ~if-form)\r\n         `(do ~else-form)))\r\n\r\n     (defmacro when-java-1-11-plus  \r\n       &quot;If JVM is Java 1.11 or higher, evaluates forms into code. Otherwise, elide forms.&quot;\r\n       [&amp; forms]\r\n       (when (is-java-11-plus?)\r\n         `(do ~@forms)))\r\n```\r\n\r\nand the version testing functions look like\r\n\r\n```\r\n     ;-----------------------------------------------------------------------------\r\n     ; Java version stuff\r\n     (s/defn version-str-&gt;semantic-vec :- [s/Int]\r\n       &quot;Returns the java version as a semantic vector of integers, like `11.0.17` =&gt; [11 0 17]&quot;\r\n       [s :- s/Str]\r\n       (let [v1 (str/trim s)\r\n             v2 (xsecond (re-matches #&quot;([.0-9]+).*&quot; v1)) ; remove any suffix like on `1.8.0-b097` or `1.8.0_234`\r\n             v3 (str/split v2 #&quot;\\.&quot;)\r\n             v4 (mapv #(Integer/parseInt %) v3)]\r\n         v4))\r\n\r\n     (s/defn java-version-str :- s/Str\r\n       [] (System/getProperty &quot;java.version&quot;))\r\n\r\n     (s/defn java-version-semantic :- [s/Int]\r\n       [] (version-str-&gt;semantic-vec (java-version-str)))\r\n\r\n     (s/defn java-version-min? :- s/Bool\r\n       &quot;Returns true if Java version is at least as great as supplied string.\r\n       Sort is by lexicographic (alphabetic) order.&quot;\r\n       [tgt-version-str :- s/Str]\r\n       (let [tgt-version-vec    (version-str-&gt;semantic-vec tgt-version-str)\r\n             actual-version-vec  (java-version-semantic)\r\n             result             (increasing-or-equal? tgt-version-vec actual-version-vec)]\r\n         result))\r\n\r\n    (when-not (java-version-min? &quot;1.7&quot;)\r\n      (throw (ex-info &quot;Must have at least Java 1.7&quot; {:java-version (java-version-str)})))\r\n\r\n\r\n     (defn is-java-8-plus? [] (java-version-min? &quot;1.8&quot;)) ; ***** NOTE: version string is still `1.8` *****\r\n     (defn is-java-11-plus? [] (java-version-min? &quot;11&quot;))  \r\n     (defn is-java-17-plus? [] (java-version-min? &quot;17&quot;))  \r\n```\r\n\r\nThe advantage of using the macro version is that you can refer to a Java class normally via the symbol `java.util.Base64`. Without macros, this will crash the compiler for older versions of Java even if wrapped by an `if` or `when`, since the symbol will be unresolved before the `if` or `when` is evaluated. \r\n\r\nSince Java doesn&#39;t have macros, the only workaround in that case is to use the string `&quot;java.util.Base64&quot;`\r\nand then `Class/forName`, etc, which is awkward &amp; ugly. Since Clojure has macros, we can take advantage of conditional code compilation to avoid needing the powerful (but awkward) Java Reflection API.\r\n\r\nInstead of copying or re-writing these functions into your own code, just use put\r\n\r\n```\r\n[tupelo &quot;22.05.04&quot;]\r\n```\r\n\r\ninto your `project.clj` and away you go!\r\n\r\n------\r\n**P.S.**\r\n\r\nYou do not need to throw an exception if you detect an older version of Java.  This example simply elides the code if the Java version is too old:\r\n\r\n```\r\n(t/when-java-1-11-plus\r\n\r\n  (dotest\r\n    (throws-not? (Instant/parse &quot;2019-02-14T02:03:04.334Z&quot;))\r\n    (throws-not? (Instant/parse &quot;2019-02-14T02:03:04Z&quot;))\r\n    (throws-not? (Instant/parse &quot;0019-02-14T02:03:04Z&quot;)) ; can handle really old dates w/o throwing\r\n\r\n...)\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/cloojure/tupelo","title":"Clojure - compiling project with Java classes that are potentially not available","body":"<p>I have been using a macro solution to this problem for 6+ years in <a href=\"https://github.com/cloojure/tupelo\" rel=\"nofollow noreferrer\">the Tupelo Library</a>.  It allows you to write code like:</p>\n<pre><code>(defn base64-encoder []\n  (if-java-1-8-plus\n    (java.util.Base64/getEncoder)\n    (throw (RuntimeException. &quot;Unimplemented prior to Java 1.8: &quot;))))\n</code></pre>\n<p>The macro itself is quite simple:</p>\n<pre><code>     (defmacro if-java-1-11-plus  \n       &quot;If JVM is Java 1.11 or higher, evaluates if-form into code. Otherwise, evaluates else-form.&quot;\n       [if-form else-form]\n       (if (is-java-11-plus?)\n         `(do ~if-form)\n         `(do ~else-form)))\n\n     (defmacro when-java-1-11-plus  \n       &quot;If JVM is Java 1.11 or higher, evaluates forms into code. Otherwise, elide forms.&quot;\n       [&amp; forms]\n       (when (is-java-11-plus?)\n         `(do ~@forms)))\n</code></pre>\n<p>and the version testing functions look like</p>\n<pre><code>     ;-----------------------------------------------------------------------------\n     ; Java version stuff\n     (s/defn version-str-&gt;semantic-vec :- [s/Int]\n       &quot;Returns the java version as a semantic vector of integers, like `11.0.17` =&gt; [11 0 17]&quot;\n       [s :- s/Str]\n       (let [v1 (str/trim s)\n             v2 (xsecond (re-matches #&quot;([.0-9]+).*&quot; v1)) ; remove any suffix like on `1.8.0-b097` or `1.8.0_234`\n             v3 (str/split v2 #&quot;\\.&quot;)\n             v4 (mapv #(Integer/parseInt %) v3)]\n         v4))\n\n     (s/defn java-version-str :- s/Str\n       [] (System/getProperty &quot;java.version&quot;))\n\n     (s/defn java-version-semantic :- [s/Int]\n       [] (version-str-&gt;semantic-vec (java-version-str)))\n\n     (s/defn java-version-min? :- s/Bool\n       &quot;Returns true if Java version is at least as great as supplied string.\n       Sort is by lexicographic (alphabetic) order.&quot;\n       [tgt-version-str :- s/Str]\n       (let [tgt-version-vec    (version-str-&gt;semantic-vec tgt-version-str)\n             actual-version-vec  (java-version-semantic)\n             result             (increasing-or-equal? tgt-version-vec actual-version-vec)]\n         result))\n\n    (when-not (java-version-min? &quot;1.7&quot;)\n      (throw (ex-info &quot;Must have at least Java 1.7&quot; {:java-version (java-version-str)})))\n\n\n     (defn is-java-8-plus? [] (java-version-min? &quot;1.8&quot;)) ; ***** NOTE: version string is still `1.8` *****\n     (defn is-java-11-plus? [] (java-version-min? &quot;11&quot;))  \n     (defn is-java-17-plus? [] (java-version-min? &quot;17&quot;))  \n</code></pre>\n<p>The advantage of using the macro version is that you can refer to a Java class normally via the symbol <code>java.util.Base64</code>. Without macros, this will crash the compiler for older versions of Java even if wrapped by an <code>if</code> or <code>when</code>, since the symbol will be unresolved before the <code>if</code> or <code>when</code> is evaluated.</p>\n<p>Since Java doesn't have macros, the only workaround in that case is to use the string <code>&quot;java.util.Base64&quot;</code>\nand then <code>Class/forName</code>, etc, which is awkward &amp; ugly. Since Clojure has macros, we can take advantage of conditional code compilation to avoid needing the powerful (but awkward) Java Reflection API.</p>\n<p>Instead of copying or re-writing these functions into your own code, just use put</p>\n<pre><code>[tupelo &quot;22.05.04&quot;]\n</code></pre>\n<p>into your <code>project.clj</code> and away you go!</p>\n<hr />\n<p><strong>P.S.</strong></p>\n<p>You do not need to throw an exception if you detect an older version of Java.  This example simply elides the code if the Java version is too old:</p>\n<pre><code>(t/when-java-1-11-plus\n\n  (dotest\n    (throws-not? (Instant/parse &quot;2019-02-14T02:03:04.334Z&quot;))\n    (throws-not? (Instant/parse &quot;2019-02-14T02:03:04Z&quot;))\n    (throws-not? (Instant/parse &quot;0019-02-14T02:03:04Z&quot;)) ; can handle really old dates w/o throwing\n\n...)\n</code></pre>\n"}],"owner":{"account_id":1039002,"reputation":3189,"user_id":1045479,"accept_rate":70,"display_name":"alex314159"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72230200,"answer_count":2,"score":1,"last_activity_date":1652448773,"creation_date":1652428481,"question_id":72226184,"body_markdown":"I am wrapping a java library in Clojure. Depending on the java library version, some classes exist or not, so my library can fail to even compile if it can&#39;t find the java classes. My idea was to use Reflector to use the string name of classes.\r\n\r\nExample of what I&#39;m trying to do:\r\n```\r\n(java.time.LocalDateTime/parse &quot;2020-01-01&quot;)\r\n\r\nwould become\r\n\r\n(if right-version?\r\n  (clojure.lang.Reflector/invokeStaticMethod &quot;java.time.LocalDate&quot; &quot;parse&quot; (into-array [&quot;2020-01-01&quot;]))\r\n\r\n```\r\n\r\nThis works but is slower by a factor of 20x. Is there a better way to achieve the same? Can I use a macro that will define the correct function at compile time, depending on the version of the underlying library?\r\n\r\nThanks,","title":"Clojure - compiling project with Java classes that are potentially not available","body":"<p>I am wrapping a java library in Clojure. Depending on the java library version, some classes exist or not, so my library can fail to even compile if it can't find the java classes. My idea was to use Reflector to use the string name of classes.</p>\n<p>Example of what I'm trying to do:</p>\n<pre><code>(java.time.LocalDateTime/parse &quot;2020-01-01&quot;)\n\nwould become\n\n(if right-version?\n  (clojure.lang.Reflector/invokeStaticMethod &quot;java.time.LocalDate&quot; &quot;parse&quot; (into-array [&quot;2020-01-01&quot;]))\n\n</code></pre>\n<p>This works but is slower by a factor of 20x. Is there a better way to achieve the same? Can I use a macro that will define the correct function at compile time, depending on the version of the underlying library?</p>\n<p>Thanks,</p>\n"},{"tags":["java","date","spring-data-jpa","timestamp","java.util.date"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652426364,"post_id":72225705,"comment_id":127607815,"body_markdown":"`@Temporal(TemporalType.DATE)`","body":"<code>@Temporal(TemporalType.DATE)</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652426398,"post_id":72225705,"comment_id":127607826,"body_markdown":"Does this answer your question? [What is the use of the @Temporal annotation in Hibernate?](https://stackoverflow.com/questions/25333711/what-is-the-use-of-the-temporal-annotation-in-hibernate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25333711/what-is-the-use-of-the-temporal-annotation-in-hibernate\">What is the use of the @Temporal annotation in Hibernate?</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652426768,"post_id":72225705,"comment_id":127607932,"body_markdown":"The example in your prose shows a date with a time of day, but your code shows a JSON format for date-only. Which is correct?","body":"The example in your prose shows a date with a time of day, but your code shows a JSON format for date-only. Which is correct?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1652426805,"post_id":72225705,"comment_id":127607943,"body_markdown":"If you&#39;re storing a timestamp, then that instant in time will have happened on different dates in different time zones - which time zone are you interested in?#","body":"If you&#39;re storing a timestamp, then that instant in time will have happened on different dates in different time zones - which time zone are you interested in?#"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1652426890,"post_id":72225705,"comment_id":127607967,"body_markdown":"Both `Date` classes are terribly flawed, and were supplanted years ago by the modern *java.time* classes defined in JSR 310. Specifically replaced by `LocalDate` and `Instant`.","body":"Both <code>Date</code> classes are terribly flawed, and were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310. Specifically replaced by <code>LocalDate</code> and <code>Instant</code>."},{"owner":{"account_id":25279667,"reputation":1,"user_id":19107707,"display_name":"sia"},"score":0,"creation_date":1652427596,"post_id":72225705,"comment_id":127608181,"body_markdown":"@JonSkeet its storing different timestamps instead of UTC(00:00:00).","body":"@JonSkeet its storing different timestamps instead of UTC(00:00:00)."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1652427740,"post_id":72225705,"comment_id":127608219,"body_markdown":"That doesn&#39;t really answer the question. A timestamp represents an instant in time. Right now, it&#39;s 2022-05-13T07:41:00Z. That&#39;s May 13th here in the UK (at 8:41am) but in Hawaii for example, it&#39;s May 12th at 9:41pm. So if that timestamp ended up in the database, would you want to treat it as May 12th or May 13th?","body":"That doesn&#39;t really answer the question. A timestamp represents an instant in time. Right now, it&#39;s 2022-05-13T07:41:00Z. That&#39;s May 13th here in the UK (at 8:41am) but in Hawaii for example, it&#39;s May 12th at 9:41pm. So if that timestamp ended up in the database, would you want to treat it as May 12th or May 13th?"}],"owner":{"account_id":25279667,"reputation":1,"user_id":19107707,"display_name":"sia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652448614,"creation_date":1652426015,"question_id":72225705,"body_markdown":"I have a table in PostgreSQL that stores dob as datatype timestamp without timezone\r\nexample value  &#39;1997-12-03 07:00:00&#39;. \r\n\r\nMy entity class is as follows\r\n\r\n        @Table(name = &quot;customer&quot;)\r\n        public class Customer implements Serializable{ \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n            @Column(name = &quot;id&quot;,unique = true)\r\n            private Long id;\r\n\r\n        \r\n            @Column(name = &quot;username&quot;)\r\n            @NotNull(message = &quot;username cannot be empty&quot;)\r\n            private String username ;\r\n\r\n            @Column(name = &quot;dob&quot;)\r\n            @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n            private Date dob; \r\n        }\r\nI want to find all users with dob &#39;1997-12-03&#39;. But as it has a timestamp it&#39;s not returning any value. How it can get dob without timestamp using query without changing the datatype of dob?\r\n\r\n\r\n        ","title":"How to select date only from database that storing dob as datatype timestamp without timezone in java","body":"<p>I have a table in PostgreSQL that stores dob as datatype timestamp without timezone\nexample value  '1997-12-03 07:00:00'.</p>\n<p>My entity class is as follows</p>\n<pre><code>    @Table(name = &quot;customer&quot;)\n    public class Customer implements Serializable{ \n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\n        @Column(name = &quot;id&quot;,unique = true)\n        private Long id;\n\n    \n        @Column(name = &quot;username&quot;)\n        @NotNull(message = &quot;username cannot be empty&quot;)\n        private String username ;\n\n        @Column(name = &quot;dob&quot;)\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n        private Date dob; \n    }\n</code></pre>\n<p>I want to find all users with dob '1997-12-03'. But as it has a timestamp it's not returning any value. How it can get dob without timestamp using query without changing the datatype of dob?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","dataflow","apache-beam-io"],"answers":[{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652313346,"creation_date":1652313346,"answer_id":72208760,"question_id":72199867,"body_markdown":"The `ValueProvider` values are only supposed to be accessed at runtime. You are trying to access these values during the pipeline construction time resulting in the error. See [here][1] for the correct way to define/use ValueProviders for Dataflow classic templates.\r\n\r\nAlternatively, you can define a [Dataflow flex templates][2] which eliminates the need for ValueProviders.\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/templates/creating-templates\r\n  [2]: https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates","title":"Unable to create a template","body":"<p>The <code>ValueProvider</code> values are only supposed to be accessed at runtime. You are trying to access these values during the pipeline construction time resulting in the error. See <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/creating-templates\" rel=\"nofollow noreferrer\">here</a> for the correct way to define/use ValueProviders for Dataflow classic templates.</p>\n<p>Alternatively, you can define a <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates\" rel=\"nofollow noreferrer\">Dataflow flex templates</a> which eliminates the need for ValueProviders.</p>\n"},{"tags":[],"owner":{"account_id":1671954,"reputation":2038,"user_id":1538258,"accept_rate":77,"display_name":"Praneeth Peiris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652448515,"creation_date":1652448515,"answer_id":72230355,"question_id":72199867,"body_markdown":"Your code uses classic Dataflow templates, and it has several limitations. The biggest one (and what&#39;s also affecting you) is that they can&#39;t support dynamic  parameters. That means, all the parameters MUST be available at the time of running.\r\n\r\nThe reason is, Dataflow generates a compiled template with the DAG and gets uploaded to `--templateLocation`. This file contains the parameters provided when triggering the job. So, each step of the job (in the DAG) should be pre-determined, so they shouldn&#39;t have dynamic values. So, the value for `filename` should be passed at the time of triggering.\r\n\r\nThis is fixed by [Flex templates][1], where the compiled template is generated **after** the job is triggered! The code is enclosed in a Docker image and the pipeline DAG is generated using a separate process (called the launcher VM). Since the compiled template is generated there, we can pass dynamic parameters to the job and it is evaluated by this launcher VM.\r\n\r\nSo, it&#39;s advised to use Flex Templates for production level pipelines.\r\n\r\nI wrote [an article][2] on getting started with Flex Templates for a Python codebase, but it should work more-or-less the same for Java.\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates\r\n  [2]: https://gnomezgrave.com/2020/11/21/dataflow-flex-templates-and-how-to-use-them/","title":"Unable to create a template","body":"<p>Your code uses classic Dataflow templates, and it has several limitations. The biggest one (and what's also affecting you) is that they can't support dynamic  parameters. That means, all the parameters MUST be available at the time of running.</p>\n<p>The reason is, Dataflow generates a compiled template with the DAG and gets uploaded to <code>--templateLocation</code>. This file contains the parameters provided when triggering the job. So, each step of the job (in the DAG) should be pre-determined, so they shouldn't have dynamic values. So, the value for <code>filename</code> should be passed at the time of triggering.</p>\n<p>This is fixed by <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates\" rel=\"nofollow noreferrer\">Flex templates</a>, where the compiled template is generated <strong>after</strong> the job is triggered! The code is enclosed in a Docker image and the pipeline DAG is generated using a separate process (called the launcher VM). Since the compiled template is generated there, we can pass dynamic parameters to the job and it is evaluated by this launcher VM.</p>\n<p>So, it's advised to use Flex Templates for production level pipelines.</p>\n<p>I wrote <a href=\"https://gnomezgrave.com/2020/11/21/dataflow-flex-templates-and-how-to-use-them/\" rel=\"nofollow noreferrer\">an article</a> on getting started with Flex Templates for a Python codebase, but it should work more-or-less the same for Java.</p>\n"}],"owner":{"account_id":6852853,"reputation":13,"user_id":5269482,"display_name":"Ashok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72230355,"answer_count":2,"score":0,"last_activity_date":1652448515,"creation_date":1652266885,"question_id":72199867,"body_markdown":"I am trying to create a dataflow template using the below mvn command And i have a json config file in the bucket where i need to read different config file for each run(i dont want to hard code values`) the code is as below\r\n\r\nDuring the template creation im getting below error for all the 3 args which i have passed for getSchemaJson method \r\n`Value only available at runtime, but accessed from a non-runtime context.`\r\n\r\nCan some one help me if it is possible to send args at runtime for the getSchemaJson method \r\n\r\n ```mvn compile exec:java \\\r\n-Dexec.mainClass=com.mainClass \\\r\n-Dexec.cleanupDaemonThreads=false \\\r\n-Dexec.args=&quot; \\\r\n--project=project \\\r\n--stagingLocation=gs://001test_data_flow/staging \\\r\n--tempLocation=gs://001test_data_flow/temp \\\r\n--templateLocation=gs://001test_data_flow/templates/dataflow.json \\\r\n--runner=DataflowRunner \\\r\n--region=region&quot;``\r\n\r\npublic static String getSchemaJson(ValueProvider&lt;String&gt; projectId, ValueProvider&lt;String&gt; bucketName, ValueProvider&lt;String&gt; filename) {\r\n        String fileContent;\r\n        try {\r\n            Storage storage = StorageOptions.newBuilder().setProjectId(String.valueOf(projectId)).build().getService();\r\n            Blob blob = storage.get(String.valueOf(bucketName), String.valueOf(filename));\r\n            fileContent = new String(blob.getContent());\r\n            return fileContent;\r\n        }\r\n        catch (Exception e) {\r\n            LOG.error(&quot;Exception Occurred While Processing Schema!!&quot;+e.getMessage());\r\n            return null;\r\n        }\r\n    }","title":"Unable to create a template","body":"<p>I am trying to create a dataflow template using the below mvn command And i have a json config file in the bucket where i need to read different config file for each run(i dont want to hard code values`) the code is as below</p>\n<p>During the template creation im getting below error for all the 3 args which i have passed for getSchemaJson method\n<code>Value only available at runtime, but accessed from a non-runtime context.</code></p>\n<p>Can some one help me if it is possible to send args at runtime for the getSchemaJson method</p>\n<pre class=\"lang-xml prettyprint-override\"><code>-Dexec.mainClass=com.mainClass \\\n-Dexec.cleanupDaemonThreads=false \\\n-Dexec.args=&quot; \\\n--project=project \\\n--stagingLocation=gs://001test_data_flow/staging \\\n--tempLocation=gs://001test_data_flow/temp \\\n--templateLocation=gs://001test_data_flow/templates/dataflow.json \\\n--runner=DataflowRunner \\\n--region=region&quot;``\n\npublic static String getSchemaJson(ValueProvider&lt;String&gt; projectId, ValueProvider&lt;String&gt; bucketName, ValueProvider&lt;String&gt; filename) {\n       String fileContent;\n       try {\n           Storage storage = StorageOptions.newBuilder().setProjectId(String.valueOf(projectId)).build().getService();\n           Blob blob = storage.get(String.valueOf(bucketName), String.valueOf(filename));\n           fileContent = new String(blob.getContent());\n           return fileContent;\n       }\n       catch (Exception e) {\n           LOG.error(&quot;Exception Occurred While Processing Schema!!&quot;+e.getMessage());\n           return null;\n       }\n   }\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652448441,"creation_date":1652448441,"answer_id":72230347,"question_id":72216262,"body_markdown":"You can transform the source `Flux` to a hot one with `2` downstream subscribers:\r\n\r\n    Flux&lt;T&gt; flux = sourceFlux.publish().refCount(2);\r\n\r\nThen you can create two `Flux` instances, one taking the first item which will be emitted immediately and another that will be skipping the first item then will sample the next values:\r\n\r\n    Flux&lt;T&gt; first = flux.take(1);\r\n    Flux&lt;T&gt; rest = flux.skip(1).sample(Duration.ofMillis(1000));\r\n\r\nYou can then merge the two `Flux`es:\r\n\r\n    Flux.merge(first, rest);","title":"How do you take an initial sample from a flux?","body":"<p>You can transform the source <code>Flux</code> to a hot one with <code>2</code> downstream subscribers:</p>\n<pre><code>Flux&lt;T&gt; flux = sourceFlux.publish().refCount(2);\n</code></pre>\n<p>Then you can create two <code>Flux</code> instances, one taking the first item which will be emitted immediately and another that will be skipping the first item then will sample the next values:</p>\n<pre><code>Flux&lt;T&gt; first = flux.take(1);\nFlux&lt;T&gt; rest = flux.skip(1).sample(Duration.ofMillis(1000));\n</code></pre>\n<p>You can then merge the two <code>Flux</code>es:</p>\n<pre><code>Flux.merge(first, rest);\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652448441,"creation_date":1652361228,"question_id":72216262,"body_markdown":"The [sample](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#sample-java.time.Duration-) operation takes the first entry from flux after the duration.  How can I make it such that I take the first entry on subscribe and then do the rest?\r\n\r\nMy thinking is that it is something along the lines of [sample with publisher](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#sample-org.reactivestreams.Publisher-) where the publisher sends a signal immediately and followed by intervals, but I am not exactly sure how to go about that.\r\n\r\nAs I typed the above... I am thinking it is something to do with `Flux.concat(Flux.just(true), Flux.interval(Duration.ofSeconds(2)))` for the publisher.","title":"How do you take an initial sample from a flux?","body":"<p>The <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#sample-java.time.Duration-\" rel=\"nofollow noreferrer\">sample</a> operation takes the first entry from flux after the duration.  How can I make it such that I take the first entry on subscribe and then do the rest?</p>\n<p>My thinking is that it is something along the lines of <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#sample-org.reactivestreams.Publisher-\" rel=\"nofollow noreferrer\">sample with publisher</a> where the publisher sends a signal immediately and followed by intervals, but I am not exactly sure how to go about that.</p>\n<p>As I typed the above... I am thinking it is something to do with <code>Flux.concat(Flux.just(true), Flux.interval(Duration.ofSeconds(2)))</code> for the publisher.</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652447475,"creation_date":1652447475,"answer_id":72230159,"question_id":72229545,"body_markdown":"You have to take the number of occurrences into account. So, process the exact matches first, recording the letters not found so far. For each other occurrence in the guess, remove the letter from the recorded letters, so that you will not match it again. E.g.\r\n\r\n```java\r\nArrayList&lt;Character&gt; missing = new ArrayList&lt;&gt;();\r\nfor(int i = 0; i &lt; 5; i++) {\r\n    if(secret.charAt(i) == prop.charAt(i)) {\r\n        status[i] = LetterStatus.IN;\r\n    }\r\n    else missing.add(secret.charAt(i));\r\n}\r\nif(!missing.isEmpty()) {\r\n  for(int i = 0; i &lt; 5; i++) {\r\n      if(secret.charAt(i) != prop.charAt(i)) {\r\n        Object ch = prop.charAt(i); // ensure to use remove(Object) not remove(int)\r\n        status[i] = missing.remove(ch)? LetterStatus.OK: LetterStatus.NOTIN;\r\n      }\r\n  }\r\n}\r\n```\r\n\r\nFor large data, you’d use something like a `Map&lt;Character,Integer&gt;` to record the number of occurrences for each element, but since we have at most five elements here, using an `ArrayList` is simpler while providing reasonable performance. It’s just important to keep in mind that this approach would not scale to other problems.","title":"How can I manage duplicate letters in Wordle Game (JavaFx)?","body":"<p>You have to take the number of occurrences into account. So, process the exact matches first, recording the letters not found so far. For each other occurrence in the guess, remove the letter from the recorded letters, so that you will not match it again. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Character&gt; missing = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; 5; i++) {\n    if(secret.charAt(i) == prop.charAt(i)) {\n        status[i] = LetterStatus.IN;\n    }\n    else missing.add(secret.charAt(i));\n}\nif(!missing.isEmpty()) {\n  for(int i = 0; i &lt; 5; i++) {\n      if(secret.charAt(i) != prop.charAt(i)) {\n        Object ch = prop.charAt(i); // ensure to use remove(Object) not remove(int)\n        status[i] = missing.remove(ch)? LetterStatus.OK: LetterStatus.NOTIN;\n      }\n  }\n}\n</code></pre>\n<p>For large data, you’d use something like a <code>Map&lt;Character,Integer&gt;</code> to record the number of occurrences for each element, but since we have at most five elements here, using an <code>ArrayList</code> is simpler while providing reasonable performance. It’s just important to keep in mind that this approach would not scale to other problems.</p>\n"},{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652448279,"creation_date":1652448279,"answer_id":72230311,"question_id":72229545,"body_markdown":"The simplest seems to be just to override matched letter in a secret every time `secret` character matches `prop` character and then check for the letters whether they&#39;re in or not in the word\r\n\r\n     for (int i = 0; i &lt; 5; i++) {\r\n         if (secret.charAt(i) == prop.charAt(i)) {\r\n             status[i] = LetterStatus.IN;\r\n             secret = secret.substring(0, i) + &quot;-&quot; + secret.substring(i+1); // or any other invalid character that will not be provided by user\r\n         }\r\n     }\r\n\r\n     for (int i = 0; i &lt; 5; i++) {\r\n         if(status[i] == null) {\r\n            if (secret.contains(Character.toString(prop.charAt(i)))) {\r\n                status[i] = LetterStatus.OK;\r\n            } else {\r\n                status[i] = LetterStatus.NOTIN;\r\n            }\r\n         }\r\n      }\r\n\r\n      return status;\r\n\r\nThere is additional question how would you like to treat repeating characters that are yellow (let&#39;s say the user provided `newee` - should both `e` be yellow or only one) and maybe you&#39;d need to tune up a little bit this code\r\n\r\n","title":"How can I manage duplicate letters in Wordle Game (JavaFx)?","body":"<p>The simplest seems to be just to override matched letter in a secret every time <code>secret</code> character matches <code>prop</code> character and then check for the letters whether they're in or not in the word</p>\n<pre><code> for (int i = 0; i &lt; 5; i++) {\n     if (secret.charAt(i) == prop.charAt(i)) {\n         status[i] = LetterStatus.IN;\n         secret = secret.substring(0, i) + &quot;-&quot; + secret.substring(i+1); // or any other invalid character that will not be provided by user\n     }\n }\n\n for (int i = 0; i &lt; 5; i++) {\n     if(status[i] == null) {\n        if (secret.contains(Character.toString(prop.charAt(i)))) {\n            status[i] = LetterStatus.OK;\n        } else {\n            status[i] = LetterStatus.NOTIN;\n        }\n     }\n  }\n\n  return status;\n</code></pre>\n<p>There is additional question how would you like to treat repeating characters that are yellow (let's say the user provided <code>newee</code> - should both <code>e</code> be yellow or only one) and maybe you'd need to tune up a little bit this code</p>\n"}],"owner":{"account_id":23507202,"reputation":61,"user_id":17556283,"display_name":"louis clement"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72230159,"answer_count":2,"score":2,"last_activity_date":1652448279,"creation_date":1652444514,"question_id":72229545,"body_markdown":"In my algorithm to compare the secret word with the guessed word, I need to manage the duplicated letters. For example, \r\n&lt;br/&gt; if the secret word is `newly` and the guessed word is `newer`, the output of this should be &quot;GGGWW&quot; (G = green(Correct Place), W = White(The Letter isn&#39;t in the secret word)), &lt;br/&gt; but instead my algorithm down below outputs &quot;GGGYW&quot; (Y = Yellow(Letter is in the word but not the right place)).\r\n\r\n```\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            if (secret.charAt(i) == prop.charAt(i)) {\r\n                status[i] = LetterStatus.IN;\r\n            } else if (secret.contains(Character.toString(prop.charAt(i)))) {\r\n                status[i] = LetterStatus.OK;\r\n            } else {\r\n                status[i] = LetterStatus.NOTIN;\r\n            }\r\n        }\r\n        return status;\r\n```\r\n\r\nsecret = secretword, the array status is an enum of `(IN, OK, NOTIN)`, so the letter and prop status is the guessed word.\r\n\r\nAny ideas on how to modify this code to solve my problem","title":"How can I manage duplicate letters in Wordle Game (JavaFx)?","body":"<p>In my algorithm to compare the secret word with the guessed word, I need to manage the duplicated letters. For example,\n<br/> if the secret word is <code>newly</code> and the guessed word is <code>newer</code>, the output of this should be &quot;GGGWW&quot; (G = green(Correct Place), W = White(The Letter isn't in the secret word)), <br/> but instead my algorithm down below outputs &quot;GGGYW&quot; (Y = Yellow(Letter is in the word but not the right place)).</p>\n<pre><code>        for (int i = 0; i &lt; 5; i++) {\n            if (secret.charAt(i) == prop.charAt(i)) {\n                status[i] = LetterStatus.IN;\n            } else if (secret.contains(Character.toString(prop.charAt(i)))) {\n                status[i] = LetterStatus.OK;\n            } else {\n                status[i] = LetterStatus.NOTIN;\n            }\n        }\n        return status;\n</code></pre>\n<p>secret = secretword, the array status is an enum of <code>(IN, OK, NOTIN)</code>, so the letter and prop status is the guessed word.</p>\n<p>Any ideas on how to modify this code to solve my problem</p>\n"},{"tags":["java","rest","grpc","grpc-java","grpc-c#"],"owner":{"account_id":9065669,"reputation":11,"user_id":11226453,"display_name":"Leo Himal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652448168,"creation_date":1652199866,"question_id":72189894,"body_markdown":"I am student and on a assignment i was trying to send image from my blazor page to java rest api . As for the api it works perfectly as i tried it with postman but I can not figure it out how to send with blazor -- http client.\r\n\r\n// After 2 days :D I figured it out \r\n\r\n\r\n// Now can anyone help me how to send this received file from java  to C# .net using gRPC \r\nThat would be helpful \r\n  \r\nThis is my java controller \r\n\r\n     @PostMapping(&quot;/upload-Image&quot;)\r\n    public String uploadImage(@RequestBody()MultipartFile file) throws IOException {\r\n\r\n        System.out.println(file.getOriginalFilename());\r\n        System.out.println(file.getName());\r\n        System.out.println(file.getContentType());\r\n        System.out.println(file.getSize());\r\n\r\n\r\n        String pathdirectory = new ClassPathResource(&quot;static/image&quot;).getFile().getAbsolutePath();\r\n        Files.copy(file.getInputStream(), Paths.get(pathdirectory+file.getOriginalFilename()), StandardCopyOption.REPLACE_EXISTING);\r\n\r\n       // return file;\r\n        return &quot;Image is successfully uploaded&quot;;\r\n\r\n    }\r\n\r\n\r\n\r\nMy index.razor file code \r\n\r\n    &lt;InputFile OnChange=&quot;@OnInputFileChange&quot;/&gt;\r\n    @code\r\n{  Client client = new Client();\r\n   \r\n    \r\n    private async void OnInputFileChange(InputFileChangeEventArgs e)\r\n    {\r\n        Console.Write(&quot;Called function&quot;);\r\n\r\n\r\n        var file = e.File;\r\n\r\n       await client.AddAsync(file);\r\n    }\r\n    \r\n}\r\n\r\n\r\n-----Inside My Client.cs class---\r\n\r\n\r\n    public async Task&lt;string&gt; AddAsync(IBrowserFile file)\r\n    {\r\n    \r\n                    var form = new MultipartFormDataContent();\r\n                using (var fs = file.OpenReadStream())\r\n                {\r\n                    using (var streamContent = new StreamContent(fs))\r\n                    {\r\n                        using (var fileContent = new ByteArrayContent(await streamContent.ReadAsByteArrayAsync()))\r\n                        {\r\n                            fileContent.Headers.ContentType = MediaTypeHeaderValue.Parse(&quot;multipart/form-data&quot;);\r\n\r\n                            form.Add(fileContent, &quot;file&quot;, file.Name);\r\n    using var httpClient1 = new HttpClient();\r\n\r\n     HttpResponseMessage responseForImage =\r\n                    await httpClient1.PostAsync($&quot;http://localhost:8080/upload-Image&quot;, form);\r\n\r\n                            \r\n\r\n                        }\r\n                    }\r\n                }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n// Now no error \r\nAnd this is the error \r\n\r\n   \r\n\r\n    ERROR 5686 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.multipart.MultipartFile.getOriginalFilename()&quot; because &quot;file&quot; is null] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fv402.png","title":"Upload image to java rest api from .net http client","body":"<p>I am student and on a assignment i was trying to send image from my blazor page to java rest api . As for the api it works perfectly as i tried it with postman but I can not figure it out how to send with blazor -- http client.</p>\n<p>// After 2 days :D I figured it out</p>\n<p>// Now can anyone help me how to send this received file from java  to C# .net using gRPC\nThat would be helpful</p>\n<p>This is my java controller</p>\n<pre><code> @PostMapping(&quot;/upload-Image&quot;)\npublic String uploadImage(@RequestBody()MultipartFile file) throws IOException {\n\n    System.out.println(file.getOriginalFilename());\n    System.out.println(file.getName());\n    System.out.println(file.getContentType());\n    System.out.println(file.getSize());\n\n\n    String pathdirectory = new ClassPathResource(&quot;static/image&quot;).getFile().getAbsolutePath();\n    Files.copy(file.getInputStream(), Paths.get(pathdirectory+file.getOriginalFilename()), StandardCopyOption.REPLACE_EXISTING);\n\n   // return file;\n    return &quot;Image is successfully uploaded&quot;;\n\n}\n</code></pre>\n<p>My index.razor file code</p>\n<pre><code>&lt;InputFile OnChange=&quot;@OnInputFileChange&quot;/&gt;\n@code\n</code></pre>\n<p>{  Client client = new Client();</p>\n<pre><code>private async void OnInputFileChange(InputFileChangeEventArgs e)\n{\n    Console.Write(&quot;Called function&quot;);\n\n\n    var file = e.File;\n\n   await client.AddAsync(file);\n}\n</code></pre>\n<p>}</p>\n<p>-----Inside My Client.cs class---</p>\n<pre><code>public async Task&lt;string&gt; AddAsync(IBrowserFile file)\n{\n\n                var form = new MultipartFormDataContent();\n            using (var fs = file.OpenReadStream())\n            {\n                using (var streamContent = new StreamContent(fs))\n                {\n                    using (var fileContent = new ByteArrayContent(await streamContent.ReadAsByteArrayAsync()))\n                    {\n                        fileContent.Headers.ContentType = MediaTypeHeaderValue.Parse(&quot;multipart/form-data&quot;);\n\n                        form.Add(fileContent, &quot;file&quot;, file.Name);\nusing var httpClient1 = new HttpClient();\n\n HttpResponseMessage responseForImage =\n                await httpClient1.PostAsync($&quot;http://localhost:8080/upload-Image&quot;, form);\n\n                        \n\n                    }\n                }\n            }\n\n}\n</code></pre>\n<p>// Now no error\nAnd this is the error</p>\n<pre><code>ERROR 5686 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.multipart.MultipartFile.getOriginalFilename()&quot; because &quot;file&quot; is null] \n</code></pre>\n"},{"tags":["java","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":18201145,"reputation":121,"user_id":13245271,"display_name":"k_plan"},"score":0,"creation_date":1661338638,"post_id":72230247,"comment_id":129746963,"body_markdown":"Hi did you manage to find out a solution for this? Because I am trying to implement this too to no avail...","body":"Hi did you manage to find out a solution for this? Because I am trying to implement this too to no avail..."},{"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"score":0,"creation_date":1661416111,"post_id":72230247,"comment_id":129768499,"body_markdown":"@k_plan Unfortunately not. It is not possible because columns have to be strict immutable.","body":"@k_plan Unfortunately not. It is not possible because columns have to be strict immutable."}],"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652447940,"creation_date":1652447940,"question_id":72230247,"body_markdown":"Helo, Is it possible to pass value from `application.properties` to `@Column` annotation in entity?\r\n\r\nI tried this:\r\n\r\n    @Column(name = &quot;${foo.column-name}&quot;)\r\n    private String foo;\r\nand this:\r\n\r\n    @Formula(value= &quot;${foo.column-name}&quot;)\r\n    private String foo;\r\n\r\nIs any way to make it work?","title":"Pass value from properties to @Column annotation","body":"<p>Helo, Is it possible to pass value from <code>application.properties</code> to <code>@Column</code> annotation in entity?</p>\n<p>I tried this:</p>\n<pre><code>@Column(name = &quot;${foo.column-name}&quot;)\nprivate String foo;\n</code></pre>\n<p>and this:</p>\n<pre><code>@Formula(value= &quot;${foo.column-name}&quot;)\nprivate String foo;\n</code></pre>\n<p>Is any way to make it work?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1652444937,"post_id":72229592,"comment_id":127614086,"body_markdown":"Generics are compile-time type safety, you&#39;re talking about parsing some value at runtime. Best you can do is check the properties then cast it. Also, I forgot Jaguars are the only cars with wheels :)","body":"Generics are compile-time type safety, you&#39;re talking about parsing some value at runtime. Best you can do is check the properties then cast it. Also, I forgot Jaguars are the only cars with wheels :)"},{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":1,"creation_date":1652445217,"post_id":72229592,"comment_id":127614201,"body_markdown":"Look here: https://stackoverflow.com/questions/9068544/best-way-to-map-json-to-a-java-object","body":"Look here: <a href=\"https://stackoverflow.com/questions/9068544/best-way-to-map-json-to-a-java-object\" title=\"best way to map json to a java object\">stackoverflow.com/questions/9068544/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652447824,"creation_date":1652447824,"answer_id":72230215,"question_id":72229592,"body_markdown":"You can use [Jackson][1] library to convert the string to class. \r\nAdd the below dependency to your project&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUse the below code to convert the string to Car:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String str = &quot;{ \\&quot;model\\&quot;: { \\&quot;name\\&quot;: \\&quot;Jaguar\\&quot;, \\&quot;wheelsCount\\&quot;: 4 }, \\&quot;body\\&quot;: { \\&quot;carWidth\\&quot;: 100, \\&quot;carHeight\\&quot;: 20 } }&quot;;\r\n    Car&lt;Jaguar&gt; car1 = objectMapper.readValue(str,Car.class);\r\n\r\n\r\nRead more on jackson from [here][2]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.13.2.2\r\n  [2]: https://www.baeldung.com/jackson-object-mapper-tutorial","title":"How to convert String to Generics in java","body":"<p>You can use <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.13.2.2\" rel=\"nofollow noreferrer\">Jackson</a> library to convert the string to class.\nAdd the below dependency to your project</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.13.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use the below code to convert the string to Car:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nString str = &quot;{ \\&quot;model\\&quot;: { \\&quot;name\\&quot;: \\&quot;Jaguar\\&quot;, \\&quot;wheelsCount\\&quot;: 4 }, \\&quot;body\\&quot;: { \\&quot;carWidth\\&quot;: 100, \\&quot;carHeight\\&quot;: 20 } }&quot;;\nCar&lt;Jaguar&gt; car1 = objectMapper.readValue(str,Car.class);\n</code></pre>\n<p>Read more on jackson from <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":23450408,"reputation":21,"user_id":17506652,"display_name":"Manish Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72230215,"answer_count":1,"score":-2,"last_activity_date":1652447824,"creation_date":1652444799,"question_id":72229592,"body_markdown":"I have a class similar to this:\r\n```\r\npublic class Car&lt;T&gt; {\r\n   private T model;\r\n   private CarBodyParts body;\r\n}\r\n\r\n```\r\n```\r\npublic class CarBodyParts {\r\n   private Integer carWidth;\r\n   private Integer carHeight;\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Jaguar {\r\n   private String name;\r\n   private Integer wheelsCount;\r\n}\r\n\r\n```\r\nString val = &quot;{ &quot;model&quot;: { &quot;name&quot;: &quot;Jaguar&quot;, &quot;wheelsCount&quot;: 4 }, &quot;body&quot;: { &quot;carWidth&quot;: 100, &quot;carHeight&quot;: 20 } }&quot;\r\n\r\n\r\nHow can I convert this string val to ``` Car&lt;Jaguar&gt;``` object?","title":"How to convert String to Generics in java","body":"<p>I have a class similar to this:</p>\n<pre><code>public class Car&lt;T&gt; {\n   private T model;\n   private CarBodyParts body;\n}\n\n</code></pre>\n<pre><code>public class CarBodyParts {\n   private Integer carWidth;\n   private Integer carHeight;\n}\n\n</code></pre>\n<pre><code>public class Jaguar {\n   private String name;\n   private Integer wheelsCount;\n}\n\n</code></pre>\n<p>String val = &quot;{ &quot;model&quot;: { &quot;name&quot;: &quot;Jaguar&quot;, &quot;wheelsCount&quot;: 4 }, &quot;body&quot;: { &quot;carWidth&quot;: 100, &quot;carHeight&quot;: 20 } }&quot;</p>\n<p>How can I convert this string val to <code> Car&lt;Jaguar&gt;</code> object?</p>\n"},{"tags":["java","design-patterns","constructor"],"answers":[{"tags":[],"owner":{"account_id":25272955,"reputation":71,"user_id":19102038,"display_name":"T1Space"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652447802,"creation_date":1652358605,"answer_id":72215640,"question_id":72215246,"body_markdown":"What would be wrong with a simple constructor?\r\nI don&#39;t know Java, but would be this in C#:\r\n```\r\nclass Car {\r\n   ...\r\n    public Car(Color color, Engine engine) {\r\n   ... // set properties with the parameters\r\n   }\r\n}\r\n```\r\nOh, and if you want to do some Decoupling, please don&#39;t use the same objects in your Domain as in API. So you will need some kind of Mapper object.\r\n\r\n// EDIT\r\n\r\nSince you are using a request, you could make a requesthandler class. If you use Inversion of Control or a Mediator you could connect the request to the handler in that way. So you could look into those design patterns. You could also look into Clean Architecture to separate your domain code from external systems (API&#39;s in this case)\r\n```\r\npublic CarRequestHandler : IRequestHandler&lt;CarRequest&gt; {\r\n    public CarRequestHandler(IColorRepository colorRepository, IEngineRepository engineRepository) { \r\nthis.colorRepo = colorRepository; //etc.}\r\n    public Handle(CarRequest request) {\r\n// call repositories with the ids and create the domain object and stuff\r\n       \r\n    }\r\n\r\n}\r\n```","title":"What is the best practice to construct a Domain Object depending on external calls?","body":"<p>What would be wrong with a simple constructor?\nI don't know Java, but would be this in C#:</p>\n<pre><code>class Car {\n   ...\n    public Car(Color color, Engine engine) {\n   ... // set properties with the parameters\n   }\n}\n</code></pre>\n<p>Oh, and if you want to do some Decoupling, please don't use the same objects in your Domain as in API. So you will need some kind of Mapper object.</p>\n<p>// EDIT</p>\n<p>Since you are using a request, you could make a requesthandler class. If you use Inversion of Control or a Mediator you could connect the request to the handler in that way. So you could look into those design patterns. You could also look into Clean Architecture to separate your domain code from external systems (API's in this case)</p>\n<pre><code>public CarRequestHandler : IRequestHandler&lt;CarRequest&gt; {\n    public CarRequestHandler(IColorRepository colorRepository, IEngineRepository engineRepository) { \nthis.colorRepo = colorRepository; //etc.}\n    public Handle(CarRequest request) {\n// call repositories with the ids and create the domain object and stuff\n       \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652365307,"creation_date":1652364586,"answer_id":72217163,"question_id":72215246,"body_markdown":"If you aim to keep your design clean, your domain class `Car` should be aware only of the objects like `ColorData` and `EngineSpecificationsonly` that it requires to function properly.\r\n\r\nIt&#39;s not a good idea to inject `apiClient` into the `Car` class because it&#39;s unrelated to its functionality and will increase [**coupling**](https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Low_coupling).\r\n\r\nAlso, what if an API call will fail, do you really want to add the plumbing code that will handle this scenario into a constructor?\r\n\r\nSimilarly, I don&#39;t see an advantage in defining a constructor that expects `CarRequestBody`.\r\n\r\nThe cleanest approach will be to keep the constructors of your domain classes simple and free from objects that are not needed for them to act. And if you want to generalize the process of instantiation of these domain classes, you can introduce utility methods that will take care of it.\r\n","title":"What is the best practice to construct a Domain Object depending on external calls?","body":"<p>If you aim to keep your design clean, your domain class <code>Car</code> should be aware only of the objects like <code>ColorData</code> and <code>EngineSpecificationsonly</code> that it requires to function properly.</p>\n<p>It's not a good idea to inject <code>apiClient</code> into the <code>Car</code> class because it's unrelated to its functionality and will increase <a href=\"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Low_coupling\" rel=\"nofollow noreferrer\"><strong>coupling</strong></a>.</p>\n<p>Also, what if an API call will fail, do you really want to add the plumbing code that will handle this scenario into a constructor?</p>\n<p>Similarly, I don't see an advantage in defining a constructor that expects <code>CarRequestBody</code>.</p>\n<p>The cleanest approach will be to keep the constructors of your domain classes simple and free from objects that are not needed for them to act. And if you want to generalize the process of instantiation of these domain classes, you can introduce utility methods that will take care of it.</p>\n"},{"tags":[],"owner":{"account_id":2521751,"reputation":1991,"user_id":2191979,"accept_rate":37,"display_name":"Pakira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652443297,"creation_date":1652384849,"answer_id":72221351,"question_id":72215246,"body_markdown":"I would suggest using the [Builder][1] design pattern.\r\n\r\nHere you can see the code- \r\n\r\n     \r\nCar.java\r\n----------\r\n\r\n      \r\n     public class Car{   \r\n       private ColorDetails colorDetails;\r\n       private EngineSpecifications specifications;\r\n\r\n      private Car(CarBuilder builder){\r\n          this.colorDetails = builder.colorDetails;\r\n          this.specifications = builder.specifications;\r\n      }\r\n\r\n      public static class CarBuilder {\r\n\r\n          private ColorDetails colorDetails;\r\n          private EngineSpecifications specifications;\r\n\r\n          public CarBuilder withColor(ColorDetails colorDetails) {\r\n            this.colorDetails = colorDetails;\r\n            return this;\r\n        }\r\n         public CarBuilder withSpecifications(EngineSpecifications \r\n              specifications) {\r\n            this.specifications = specifications;\r\n            return this;\r\n        }\r\n\t\t\r\n       public Car build() {\r\n            Car car = new Car(this);\r\n            return car;\r\n           }\r\n\t   }\r\n     }\r\n\r\n\r\n// Client code\r\n\r\n     public class Client{\r\n\r\n      ColorDetails color = colorApiClient.getColor(colorId);\r\n      EngineSpecifications engine = engineApiClient.getEngine(engineId);\r\n     Car car = new Car.CarBuilder()\r\n              .withColor(color)\r\n\t\t\t  .withSpecifications(engine)\r\n\t\t\t  .build();\r\n       }\r\n\r\n  [1]: https://refactoring.guru/design-patterns/builder","title":"What is the best practice to construct a Domain Object depending on external calls?","body":"<p>I would suggest using the <a href=\"https://refactoring.guru/design-patterns/builder\" rel=\"nofollow noreferrer\">Builder</a> design pattern.</p>\n<p>Here you can see the code-</p>\n<h2>Car.java</h2>\n<pre><code> public class Car{   \n   private ColorDetails colorDetails;\n   private EngineSpecifications specifications;\n\n  private Car(CarBuilder builder){\n      this.colorDetails = builder.colorDetails;\n      this.specifications = builder.specifications;\n  }\n\n  public static class CarBuilder {\n\n      private ColorDetails colorDetails;\n      private EngineSpecifications specifications;\n\n      public CarBuilder withColor(ColorDetails colorDetails) {\n        this.colorDetails = colorDetails;\n        return this;\n    }\n     public CarBuilder withSpecifications(EngineSpecifications \n          specifications) {\n        this.specifications = specifications;\n        return this;\n    }\n    \n   public Car build() {\n        Car car = new Car(this);\n        return car;\n       }\n   }\n }\n</code></pre>\n<p>// Client code</p>\n<pre><code> public class Client{\n\n  ColorDetails color = colorApiClient.getColor(colorId);\n  EngineSpecifications engine = engineApiClient.getEngine(engineId);\n Car car = new Car.CarBuilder()\n          .withColor(color)\n          .withSpecifications(engine)\n          .build();\n   }\n</code></pre>\n"}],"owner":{"account_id":8937054,"reputation":1080,"user_id":6667539,"display_name":"Paplusc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72217163,"answer_count":3,"score":1,"last_activity_date":1652447802,"creation_date":1652357105,"question_id":72215246,"body_markdown":"I am trying to build an object that gets its data from external APIs. I will try to explain it with an example:\r\n\r\nFirst of all, I get a POST body in my API to create an object:\r\n\r\n    class CarRequestBody {\r\n        private String colorId;\r\n        private String engineId;\r\n        //Constructors, etc.\r\n    }\r\n\r\nThen with this info I need to build a detailed instance of the Car. Feeding the data from external services:\r\n\r\n    ColorDetails color = colorApiClient.getColor(colorId);\r\n    EngineSpecifications engine = engineApiClient.getEngine(engineId);\r\n\r\nAnd finally I build my Domain Object with all this info.\r\n\r\nSo I would like to know what is the best practice in order to build the instance. I have thought in `3` different ways:\r\n\r\n**1** - A method in CarService like this:\r\n\r\n    public Car createCar(CartRequestBody body) {\r\n        ColorDetails color = colorApiClient.getColor(body.getColorId);\r\n        EngineSpecifications engine = engineApiClient.getEngine(body.getEngineId);\r\n        Car car = new Car(color, engine);\r\n    } \r\n**2** - Feed the data in the constructor:\r\n\r\n    public Car(CarRequestBody body) {\r\n        this.color = colorApiClient.getColor(body.getColorId);\r\n        this.engine = engineApiClient.getEngine(body.getEngineId);\r\n    }\r\n\r\n**3** - In the getters of the domain class:\r\n\r\n    class Car {\r\n        private ColorData color;\r\n        private EngineSpecifications engine;\r\n        //Constructor\r\n\r\n        public ColorData getColor() {\r\n            if (color == null){\r\n                return colorApiClient.getColor(colorId);\r\n            }\r\n            return this.color;\r\n        }\r\n        ....\r\n    }\r\n\r\nIs there some design pattern for this scenario?","title":"What is the best practice to construct a Domain Object depending on external calls?","body":"<p>I am trying to build an object that gets its data from external APIs. I will try to explain it with an example:</p>\n<p>First of all, I get a POST body in my API to create an object:</p>\n<pre><code>class CarRequestBody {\n    private String colorId;\n    private String engineId;\n    //Constructors, etc.\n}\n</code></pre>\n<p>Then with this info I need to build a detailed instance of the Car. Feeding the data from external services:</p>\n<pre><code>ColorDetails color = colorApiClient.getColor(colorId);\nEngineSpecifications engine = engineApiClient.getEngine(engineId);\n</code></pre>\n<p>And finally I build my Domain Object with all this info.</p>\n<p>So I would like to know what is the best practice in order to build the instance. I have thought in <code>3</code> different ways:</p>\n<p><strong>1</strong> - A method in CarService like this:</p>\n<pre><code>public Car createCar(CartRequestBody body) {\n    ColorDetails color = colorApiClient.getColor(body.getColorId);\n    EngineSpecifications engine = engineApiClient.getEngine(body.getEngineId);\n    Car car = new Car(color, engine);\n} \n</code></pre>\n<p><strong>2</strong> - Feed the data in the constructor:</p>\n<pre><code>public Car(CarRequestBody body) {\n    this.color = colorApiClient.getColor(body.getColorId);\n    this.engine = engineApiClient.getEngine(body.getEngineId);\n}\n</code></pre>\n<p><strong>3</strong> - In the getters of the domain class:</p>\n<pre><code>class Car {\n    private ColorData color;\n    private EngineSpecifications engine;\n    //Constructor\n\n    public ColorData getColor() {\n        if (color == null){\n            return colorApiClient.getColor(colorId);\n        }\n        return this.color;\n    }\n    ....\n}\n</code></pre>\n<p>Is there some design pattern for this scenario?</p>\n"},{"tags":["java","spring","hibernate","jsp"],"comments":[{"owner":{"account_id":2056158,"reputation":123,"user_id":1833860,"display_name":"user1833860"},"score":0,"creation_date":1490590390,"post_id":43037814,"comment_id":73161457,"body_markdown":"Can you show me the link or the example?","body":"Can you show me the link or the example?"}],"answers":[{"tags":[],"owner":{"account_id":6146101,"reputation":703,"user_id":4792039,"display_name":"Neha Shettar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1490593321,"creation_date":1490591453,"answer_id":43038365,"question_id":43037814,"body_markdown":"Try as  following to get all rows from table\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic List&lt;Service&gt; Service getServiceData() {\r\n    \t\t \r\n    \t\t return ServiceDaoImpl.getSession().createQuery(&quot;from Service&quot;).list(); \r\n    \t}","title":"How to get all data in the table with hibernate?","body":"<p>Try as  following to get all rows from table</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n    public List&lt;Service&gt; Service getServiceData() {\n\n         return ServiceDaoImpl.getSession().createQuery(\"from Service\").list(); \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9855894,"reputation":151,"user_id":7300403,"display_name":"Radhika"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1533723972,"creation_date":1490697691,"answer_id":43067399,"question_id":43037814,"body_markdown":"\r\n\r\nTry below piece of code and replace Entity with your Entity class\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\t\t\r\n\tpublic List&lt;Entity&gt; getAlldata(){\t\t\r\n    \ttry\r\n    \t{\r\n      \t\treturn sessionFactory.getCurrentSession().createCriteria(Entity.class).list();\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to get all data in the table with hibernate?","body":"<p>Try below piece of code and replace Entity with your Entity class</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")      \npublic List&lt;Entity&gt; getAlldata(){       \n    try\n    {\n        return sessionFactory.getCurrentSession().createCriteria(Entity.class).list();\n    } catch (Exception e) {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10518971,"reputation":71,"user_id":7752186,"display_name":"richard ordo&#241;ez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490825762,"creation_date":1490825762,"answer_id":43105156,"question_id":43037814,"body_markdown":"    public List&lt;Service&gt; getServiceAll(){\r\n         return ServiceDaoImpl.getSession().createCriteria(Service.class).list();\r\n    }","title":"How to get all data in the table with hibernate?","body":"<pre><code>public List&lt;Service&gt; getServiceAll(){\n     return ServiceDaoImpl.getSession().createCriteria(Service.class).list();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10709682,"reputation":67,"user_id":7882267,"display_name":"Bhagvat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1492498677,"creation_date":1492498677,"answer_id":43465590,"question_id":43037814,"body_markdown":"Configuration cfg = new Configuration();\r\n\t\tcfg.configure(&quot;hibernate.cfg.xml&quot;);\r\n\r\n\t\tSessionFactory factory = cfg.buildSessionFactory();\r\n\t\tSession session = factory.openSession();\r\n\r\n\t\t/* Selecting all objects(records) start_______________________ */\r\n\r\n\t\r\n \r\n\t\tQuery qry = session.createQuery(&quot;from Product p&quot;);\r\n \r\n\t\tList l =qry.list();\r\n\t\tSystem.out.println(&quot;Total Number Of Records : &quot;+l.size());\r\n\t\tIterator it = l.iterator();\r\n \r\n\t\twhile(it.hasNext())\r\n\t\t{\r\n\t\t\tObject o = (Object)it.next();\r\n\t\t\tProduct p = (Product)o;\r\n\t\t\tSystem.out.println(&quot;Product id : &quot;+p.getProductId());\r\n\t\t\tSystem.out.println(&quot;Product Name : &quot;+p.getProName());\r\n\t\t\tSystem.out.println(&quot;Product Price : &quot;+p.getPrice());\r\n\t\t\tSystem.out.println(&quot;----------------------&quot;);\r\n\t\t}\t\t\r\n\r\n\t\tsession.close();\r\n\t\tfactory.close();","title":"How to get all data in the table with hibernate?","body":"<p>Configuration cfg = new Configuration();\n        cfg.configure(\"hibernate.cfg.xml\");</p>\n\n<pre><code>    SessionFactory factory = cfg.buildSessionFactory();\n    Session session = factory.openSession();\n\n    /* Selecting all objects(records) start_______________________ */\n\n\n\n    Query qry = session.createQuery(\"from Product p\");\n\n    List l =qry.list();\n    System.out.println(\"Total Number Of Records : \"+l.size());\n    Iterator it = l.iterator();\n\n    while(it.hasNext())\n    {\n        Object o = (Object)it.next();\n        Product p = (Product)o;\n        System.out.println(\"Product id : \"+p.getProductId());\n        System.out.println(\"Product Name : \"+p.getProName());\n        System.out.println(\"Product Price : \"+p.getPrice());\n        System.out.println(\"----------------------\");\n    }       \n\n    session.close();\n    factory.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1410695,"reputation":4554,"user_id":1337352,"accept_rate":38,"display_name":"Babu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1543170529,"creation_date":1543170529,"answer_id":53470583,"question_id":43037814,"body_markdown":" With the Hibernate 5 the `createCriteria` is deprecated use something like this\r\n \r\n\r\n    private static &lt;T&gt; List&lt;T&gt; loadAllData(Class&lt;T&gt; type, Session session) {\r\n        CriteriaBuilder builder = session.getCriteriaBuilder();\r\n        CriteriaQuery&lt;T&gt; criteria = builder.createQuery(type);\r\n        criteria.from(type);\r\n        List&lt;T&gt; data = session.createQuery(criteria).getResultList();\r\n        return data;\r\n      }\r\nusage\r\n\r\n    Session session = HibernateUtils.getSession();\r\n    List&lt;User&gt; users = loadAllData(User.class, session);\r\n\r\n","title":"How to get all data in the table with hibernate?","body":"<p>With the Hibernate 5 the <code>createCriteria</code> is deprecated use something like this</p>\n\n<pre><code>private static &lt;T&gt; List&lt;T&gt; loadAllData(Class&lt;T&gt; type, Session session) {\n    CriteriaBuilder builder = session.getCriteriaBuilder();\n    CriteriaQuery&lt;T&gt; criteria = builder.createQuery(type);\n    criteria.from(type);\n    List&lt;T&gt; data = session.createQuery(criteria).getResultList();\n    return data;\n  }\n</code></pre>\n\n<p>usage</p>\n\n<pre><code>Session session = HibernateUtils.getSession();\nList&lt;User&gt; users = loadAllData(User.class, session);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604089595,"creation_date":1565844987,"answer_id":57505016,"question_id":43037814,"body_markdown":"Since `List&lt;Entity&gt; list = session.createCriteria(Entity.class).list();`\r\nwas deprecated,\r\n&lt;br/&gt;\r\n\r\nYou can use  `CriteriaBuilder()`.\r\n\r\n            try ( Session session = sessionFactory.openSession()) {\r\n                // Create CriteriaBuilder\r\n                CriteriaBuilder builder = session.getCriteriaBuilder();\r\n\r\n                // Create CriteriaQuery\r\n                CriteriaQuery&lt;Entity&gt; criteria = builder.createQuery(Entity.class);\r\n\r\n                // Specify criteria root\r\n                criteria.from(Entity.class);\r\n\r\n                // Execute query\r\n                List&lt;Entity&gt; entityList = session.createQuery(criteria).getResultList();\r\n\r\n                for (Entity e : entityList) {\r\n                 // load the data\r\n                }\r\n            }\r\n\r\nClick [here][1] for the github example.\r\n\r\n\r\n  [1]: https://github.com/treehouse/giflib-hibernate/commit/f97a2828a466e849d8ae84884b5dce60a66cf412","title":"How to get all data in the table with hibernate?","body":"<p>Since <code>List&lt;Entity&gt; list = session.createCriteria(Entity.class).list();</code>\nwas deprecated,\n<br/></p>\n<p>You can use  <code>CriteriaBuilder()</code>.</p>\n<pre><code>        try ( Session session = sessionFactory.openSession()) {\n            // Create CriteriaBuilder\n            CriteriaBuilder builder = session.getCriteriaBuilder();\n\n            // Create CriteriaQuery\n            CriteriaQuery&lt;Entity&gt; criteria = builder.createQuery(Entity.class);\n\n            // Specify criteria root\n            criteria.from(Entity.class);\n\n            // Execute query\n            List&lt;Entity&gt; entityList = session.createQuery(criteria).getResultList();\n\n            for (Entity e : entityList) {\n             // load the data\n            }\n        }\n</code></pre>\n<p>Click <a href=\"https://github.com/treehouse/giflib-hibernate/commit/f97a2828a466e849d8ae84884b5dce60a66cf412\" rel=\"noreferrer\">here</a> for the github example.</p>\n"},{"tags":[],"owner":{"account_id":21719227,"reputation":1,"user_id":16029753,"display_name":"Javohir Uralov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652447513,"creation_date":1652358584,"answer_id":72215633,"question_id":43037814,"body_markdown":"  By using the native query\r\n\r\n```\r\n  Session session = sessionFactory.openSession();\r\n        try {\r\n            List&lt;Book&gt; bookList = session.createNativeQuery(&quot;Select * from book&quot;, Book.class).getResultList();\r\n            return bookList;\r\n        }catch (Exception e){\r\n            return null;\r\n        }finally {\r\n            session.close();\r\n        }\r\n```","title":"How to get all data in the table with hibernate?","body":"<p>By using the native query</p>\n<pre><code>  Session session = sessionFactory.openSession();\n        try {\n            List&lt;Book&gt; bookList = session.createNativeQuery(&quot;Select * from book&quot;, Book.class).getResultList();\n            return bookList;\n        }catch (Exception e){\n            return null;\n        }finally {\n            session.close();\n        }\n</code></pre>\n"}],"owner":{"account_id":2056158,"reputation":123,"user_id":1833860,"display_name":"user1833860"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57192,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":7,"score":12,"last_activity_date":1652447513,"creation_date":1490587881,"question_id":43037814,"body_markdown":"    public Service getServiceData(){\r\n\t\treturn (Service)ServiceDaoImpl.getSession().get(Service.class, new Integer(1));\r\n\t}\r\nThe get method is getting one.\r\nI want to get all data for the jsp page.","title":"How to get all data in the table with hibernate?","body":"<pre><code>public Service getServiceData(){\n    return (Service)ServiceDaoImpl.getSession().get(Service.class, new Integer(1));\n}\n</code></pre>\n\n<p>The get method is getting one.\nI want to get all data for the jsp page.</p>\n"},{"tags":["java","junit","mocking"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":2,"creation_date":1652448179,"post_id":72230145,"comment_id":127615343,"body_markdown":"Something like `new ClassWithDependencies(Mockito.mock(DogCheck.class));` using Mockito?","body":"Something like <code>new ClassWithDependencies(Mockito.mock(DogCheck.class));</code> using Mockito?"},{"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"score":0,"creation_date":1652453987,"post_id":72230145,"comment_id":127617636,"body_markdown":"@NicoVanBelle It&#39;s final though. I&#39;m not sure if it could simply be designed any better","body":"@NicoVanBelle It&#39;s final though. I&#39;m not sure if it could simply be designed any better"}],"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652447409,"creation_date":1652447409,"question_id":72230145,"body_markdown":"I&#39;m not sure if my design is simply stupid, or there&#39;s a good way to make it work. Consider the following classes:\r\n\r\n```\r\npublic abstract class CheckBase {\r\n    protected Collector collector;\r\n\r\n    public void addData(String data) {\r\n        collector.addData(data);\r\n    }\r\n\r\n    public void setCollector(Collector collector) {\r\n        this.collector = collector;\r\n    }\r\n}\r\n\r\ninterface Collector {\r\n    void addData(String data);\r\n}\r\n\r\n\r\nfinal class DogCheck extends CheckBase {\r\n    public void someCheck() {\r\n        // check\r\n        addData(&quot;SomeData&quot;);\r\n    }\r\n}\r\n\r\nclass ClassWithDependencies {\r\n    private final DogCheck dogCheck;\r\n\r\n    public ClassWithDependencies(DogCheck dogCheck) {\r\n        this.dogCheck = dogCheck;\r\n    }\r\n}\r\n```\r\n\r\nNow I want to test something in `ClassWithDependencies`, which does not need `DogCheck`, or should have a mock version of it.\r\n\r\nHow can I do this?","title":"How can I mock dependencies which aren&#39;t interfaces but subclasses?","body":"<p>I'm not sure if my design is simply stupid, or there's a good way to make it work. Consider the following classes:</p>\n<pre><code>public abstract class CheckBase {\n    protected Collector collector;\n\n    public void addData(String data) {\n        collector.addData(data);\n    }\n\n    public void setCollector(Collector collector) {\n        this.collector = collector;\n    }\n}\n\ninterface Collector {\n    void addData(String data);\n}\n\n\nfinal class DogCheck extends CheckBase {\n    public void someCheck() {\n        // check\n        addData(&quot;SomeData&quot;);\n    }\n}\n\nclass ClassWithDependencies {\n    private final DogCheck dogCheck;\n\n    public ClassWithDependencies(DogCheck dogCheck) {\n        this.dogCheck = dogCheck;\n    }\n}\n</code></pre>\n<p>Now I want to test something in <code>ClassWithDependencies</code>, which does not need <code>DogCheck</code>, or should have a mock version of it.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","gurobi"],"answers":[{"tags":[],"owner":{"account_id":200642,"reputation":5503,"user_id":446610,"display_name":"Greg Glockner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652447256,"creation_date":1652447256,"answer_id":72230116,"question_id":72187721,"body_markdown":"The max general constraint should do what you want; here is the [Java documentation for the max general constraint](https://www.gurobi.com/documentation/9.5/refman/java_model_agc_max.html).","title":"Add a max-constraint to a gurobi minimize in Java","body":"<p>The max general constraint should do what you want; here is the <a href=\"https://www.gurobi.com/documentation/9.5/refman/java_model_agc_max.html\" rel=\"nofollow noreferrer\">Java documentation for the max general constraint</a>.</p>\n"}],"owner":{"account_id":25254113,"reputation":1,"user_id":19086149,"display_name":"Flo "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652447256,"creation_date":1652191082,"question_id":72187721,"body_markdown":"i am trying to implement a maximize constraint to a gurobi minimize problem in java.\r\nI am having a MIP with nodes an armlenghts of geometrical objects which i am minimizing by now.\r\nWhat i want to implement is min z(x,y) = max{0, distance(x,y)-1,5), because distance values below 1,5mm are compensable with the screwholes where my modules are screwed together.\r\nby now what is implemented is z(x,y) = distance(x,y) (it&#180;s a pretty complex mathematical function and the code has 1000 rows already, if needed i could provide you more information)\r\n\r\nDoes anybody know how i can implement this max constraint in a minimize problem?\r\nthanks in advance","title":"Add a max-constraint to a gurobi minimize in Java","body":"<p>i am trying to implement a maximize constraint to a gurobi minimize problem in java.\nI am having a MIP with nodes an armlenghts of geometrical objects which i am minimizing by now.\nWhat i want to implement is min z(x,y) = max{0, distance(x,y)-1,5), because distance values below 1,5mm are compensable with the screwholes where my modules are screwed together.\nby now what is implemented is z(x,y) = distance(x,y) (it´s a pretty complex mathematical function and the code has 1000 rows already, if needed i could provide you more information)</p>\n<p>Does anybody know how i can implement this max constraint in a minimize problem?\nthanks in advance</p>\n"},{"tags":["java","swing","text"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1652428927,"post_id":72226233,"comment_id":127608594,"body_markdown":"&quot;this solution doesn&#39;t work&quot; ... why is that? And note: &quot;I do. not have programming experience&quot;; that is something we can&#39;t help you with. You see, if solving a certain problem requires a specific level of knowledge ... and you don&#39;t have that, what do you expect us to do?","body":"&quot;this solution doesn&#39;t work&quot; ... why is that? And note: &quot;I do. not have programming experience&quot;; that is something we can&#39;t help you with. You see, if solving a certain problem requires a specific level of knowledge ... and you don&#39;t have that, what do you expect us to do?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1652430205,"post_id":72226233,"comment_id":127609020,"body_markdown":"Does this help? https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html","body":"Does this help? <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652451482,"post_id":72226233,"comment_id":127616663,"body_markdown":"*I am writing a text editor* - Well usually you don&#39;t undo words in an editor, you undo the entire block of text that was typed or copied. Check out the [Compound Undo Manager](https://tips4java.wordpress.com/2008/10/27/compound-undo-manager/) which tries to mimic Word application undo/redo logic. It will undo/redo blocks of text that are entered sequentially","body":"<i>I am writing a text editor</i> - Well usually you don&#39;t undo words in an editor, you undo the entire block of text that was typed or copied. Check out the <a href=\"https://tips4java.wordpress.com/2008/10/27/compound-undo-manager/\" rel=\"nofollow noreferrer\">Compound Undo Manager</a> which tries to mimic Word application undo/redo logic. It will undo/redo blocks of text that are entered sequentially"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652446347,"creation_date":1652435351,"answer_id":72227594,"question_id":72226233,"body_markdown":"I did a little bit of googling and I came across https://stackoverflow.com/questions/11767130/jtextpane-undo-and-redo-whole-words, which lead me to [Merging UndoableEdits in one to be undone all together in JEditorPane.](http://java-sl.com/tip_merge_undo_edits.html)\r\n\r\nIntrigued by the concept, I pulled it apart and started playing around with, which lead me to (at least one) issue - if you select all the text and delete it, it causes a `BadLocationException`.  So I had a bit more of play around with it and I believe I&#39;ve implemented a suitable fix for it.\r\n\r\nI also added `ChangeListener` support, so you can get notified when the state changes.\r\n\r\n    public class UndoManager extends AbstractUndoableEdit implements UndoableEditListener {\r\n        private String lastEditName = null;\r\n        private List&lt;MergeComponentEdit&gt; edits = new ArrayList&lt;MergeComponentEdit&gt;(32);\r\n        private MergeComponentEdit current;\r\n        private int pointer = -1;\r\n\r\n        private List&lt;ChangeListener&gt; changeListeners = new ArrayList&lt;&gt;(8);\r\n\r\n        public void addChangeListener(ChangeListener changeListener) {\r\n            changeListeners.add(changeListener);\r\n        }\r\n\r\n        public void removeChangeListener(ChangeListener changeListener) {\r\n            changeListeners.remove(changeListener);\r\n        }\r\n\r\n        public void undoableEditHappened(UndoableEditEvent e) {\r\n            UndoableEdit edit = e.getEdit();\r\n            if (edit instanceof AbstractDocument.DefaultDocumentEvent) {\r\n                try {\r\n                    AbstractDocument.DefaultDocumentEvent event = (AbstractDocument.DefaultDocumentEvent) edit;\r\n                    int start = event.getOffset();\r\n                    int len = event.getLength();\r\n                    if (start + len &gt; event.getDocument().getLength()) {\r\n                        createCompoundEdit();\r\n                        current.addEdit(edit);\r\n                        lastEditName = edit.getPresentationName();\r\n                    } else {\r\n\r\n                        String text = event.getDocument().getText(start, len);\r\n                        boolean isNeedStart = false;\r\n                        if (current == null) {\r\n                            isNeedStart = true;\r\n                        } else if (text.contains(&quot; &quot;)) {\r\n                            isNeedStart = true;\r\n                        } else if (lastEditName == null || !lastEditName.equals(edit.getPresentationName())) {\r\n                            isNeedStart = true;\r\n                        }\r\n\r\n                        while (pointer &lt; edits.size() - 1) {\r\n                            edits.remove(edits.size() - 1);\r\n                            isNeedStart = true;\r\n                        }\r\n                        if (isNeedStart) {\r\n                            createCompoundEdit();\r\n                        }\r\n\r\n                        current.addEdit(edit);\r\n                        lastEditName = edit.getPresentationName();\r\n                    }\r\n                    fireStateChanged();\r\n                } catch (BadLocationException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        public void createCompoundEdit() {\r\n            if (current == null) {\r\n                current = new MergeComponentEdit();\r\n            } else if (current.getLength() &gt; 0) {\r\n                current = new MergeComponentEdit();\r\n            }\r\n\r\n            edits.add(current);\r\n            pointer++;\r\n        }\r\n\r\n        public void undo() throws CannotUndoException {\r\n            if (!canUndo()) {\r\n                throw new CannotUndoException();\r\n            }\r\n\r\n            MergeComponentEdit u = edits.get(pointer);\r\n            u.undo();\r\n            pointer--;\r\n\r\n            fireStateChanged();\r\n        }\r\n\r\n        public void redo() throws CannotUndoException {\r\n            if (!canRedo()) {\r\n                throw new CannotUndoException();\r\n            }\r\n\r\n            pointer++;\r\n            MergeComponentEdit u = edits.get(pointer);\r\n            u.redo();\r\n\r\n            fireStateChanged();\r\n        }\r\n\r\n        public boolean canUndo() {\r\n            return pointer &gt;= 0;\r\n        }\r\n\r\n        public boolean canRedo() {\r\n            return edits.size() &gt; 0 &amp;&amp; pointer &lt; edits.size() - 1;\r\n        }\r\n\r\n        protected void fireStateChanged() {\r\n            if (changeListeners.isEmpty()) {\r\n                return;\r\n            }\r\n            ChangeEvent evt = new ChangeEvent(this);\r\n            for (ChangeListener listener : changeListeners) {\r\n                listener.stateChanged(evt);\r\n            }\r\n        }\r\n\r\n        protected class MergeComponentEdit extends CompoundEdit {\r\n            boolean isUnDone = false;\r\n\r\n            public int getLength() {\r\n                return edits.size();\r\n            }\r\n\r\n            public void undo() throws CannotUndoException {\r\n                super.undo();\r\n                isUnDone = true;\r\n            }\r\n\r\n            public void redo() throws CannotUndoException {\r\n                super.redo();\r\n                isUnDone = false;\r\n            }\r\n\r\n            public boolean canUndo() {\r\n                return edits.size() &gt; 0 &amp;&amp; !isUnDone;\r\n            }\r\n\r\n            public boolean canRedo() {\r\n                return edits.size() &gt; 0 &amp;&amp; isUnDone;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n# Runnable Example\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JToolBar;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n    import javax.swing.event.UndoableEditEvent;\r\n    import javax.swing.event.UndoableEditListener;\r\n    import javax.swing.text.AbstractDocument;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.undo.AbstractUndoableEdit;\r\n    import javax.swing.undo.CannotUndoException;\r\n    import javax.swing.undo.CompoundEdit;\r\n    import javax.swing.undo.UndoableEdit;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JButton btnUndo = new JButton(&quot;Undo&quot;);\r\n                    JButton btnRedo = new JButton(&quot;Redo&quot;);\r\n                    UndoManager undoManager = new UndoManager();\r\n                    undoManager.addChangeListener(new ChangeListener() {\r\n                        @Override\r\n                        public void stateChanged(ChangeEvent e) {\r\n                            btnUndo.setEnabled(undoManager.canUndo());\r\n                            btnRedo.setEnabled(undoManager.canRedo());\r\n                        }\r\n                    });\r\n\r\n                    EditorPane editorPane = new EditorPane(undoManager);\r\n\r\n                    JToolBar tb = new JToolBar();\r\n                    btnUndo.addActionListener(new ActionListener() {\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            undoManager.undo();\r\n                        }\r\n                    });\r\n                    tb.add(btnUndo);\r\n                    btnRedo.addActionListener(new ActionListener() {\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            undoManager.redo();\r\n                        }\r\n                    });\r\n                    tb.add(btnRedo);\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(tb, BorderLayout.NORTH);\r\n                    frame.add(new JScrollPane(editorPane));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class EditorPane extends JPanel {\r\n\r\n            private UndoManager undoManager;\r\n\r\n            public EditorPane(UndoManager undoManager) {\r\n                setLayout(new BorderLayout());\r\n                this.undoManager = undoManager;\r\n                JTextArea textArea = new JTextArea(20, 40);\r\n                textArea.getDocument().addUndoableEditListener(undoManager);\r\n                add(new JScrollPane(textArea));\r\n            }\r\n\r\n        }\r\n\r\n        public class UndoManager extends AbstractUndoableEdit implements UndoableEditListener {\r\n            private String lastEditName = null;\r\n            private List&lt;MergeComponentEdit&gt; edits = new ArrayList&lt;MergeComponentEdit&gt;(32);\r\n            private MergeComponentEdit current;\r\n            private int pointer = -1;\r\n\r\n            private List&lt;ChangeListener&gt; changeListeners = new ArrayList&lt;&gt;(8);\r\n\r\n            public void addChangeListener(ChangeListener changeListener) {\r\n                changeListeners.add(changeListener);\r\n            }\r\n\r\n            public void removeChangeListener(ChangeListener changeListener) {\r\n                changeListeners.remove(changeListener);\r\n            }\r\n\r\n            public void undoableEditHappened(UndoableEditEvent e) {\r\n                UndoableEdit edit = e.getEdit();\r\n                if (edit instanceof AbstractDocument.DefaultDocumentEvent) {\r\n                    try {\r\n                        AbstractDocument.DefaultDocumentEvent event = (AbstractDocument.DefaultDocumentEvent) edit;\r\n                        int start = event.getOffset();\r\n                        int len = event.getLength();\r\n                        if (start + len &gt; event.getDocument().getLength()) {\r\n                            createCompoundEdit();\r\n                            current.addEdit(edit);\r\n                            lastEditName = edit.getPresentationName();\r\n                        } else {\r\n\r\n                            String text = event.getDocument().getText(start, len);\r\n                            boolean isNeedStart = false;\r\n                            if (current == null) {\r\n                                isNeedStart = true;\r\n                            } else if (text.contains(&quot; &quot;)) {\r\n                                isNeedStart = true;\r\n                            } else if (lastEditName == null || !lastEditName.equals(edit.getPresentationName())) {\r\n                                isNeedStart = true;\r\n                            }\r\n\r\n                            while (pointer &lt; edits.size() - 1) {\r\n                                edits.remove(edits.size() - 1);\r\n                                isNeedStart = true;\r\n                            }\r\n                            if (isNeedStart) {\r\n                                createCompoundEdit();\r\n                            }\r\n\r\n                            current.addEdit(edit);\r\n                            lastEditName = edit.getPresentationName();\r\n                        }\r\n                        fireStateChanged();\r\n                    } catch (BadLocationException e1) {\r\n                        e1.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            public void createCompoundEdit() {\r\n                if (current == null) {\r\n                    current = new MergeComponentEdit();\r\n                } else if (current.getLength() &gt; 0) {\r\n                    current = new MergeComponentEdit();\r\n                }\r\n\r\n                edits.add(current);\r\n                pointer++;\r\n            }\r\n\r\n            public void undo() throws CannotUndoException {\r\n                if (!canUndo()) {\r\n                    throw new CannotUndoException();\r\n                }\r\n\r\n                MergeComponentEdit u = edits.get(pointer);\r\n                u.undo();\r\n                pointer--;\r\n\r\n                fireStateChanged();\r\n            }\r\n\r\n            public void redo() throws CannotUndoException {\r\n                if (!canRedo()) {\r\n                    throw new CannotUndoException();\r\n                }\r\n\r\n                pointer++;\r\n                MergeComponentEdit u = edits.get(pointer);\r\n                u.redo();\r\n\r\n                fireStateChanged();\r\n            }\r\n\r\n            public boolean canUndo() {\r\n                return pointer &gt;= 0;\r\n            }\r\n\r\n            public boolean canRedo() {\r\n                return edits.size() &gt; 0 &amp;&amp; pointer &lt; edits.size() - 1;\r\n            }\r\n\r\n            protected void fireStateChanged() {\r\n                if (changeListeners.isEmpty()) {\r\n                    return;\r\n                }\r\n                ChangeEvent evt = new ChangeEvent(this);\r\n                for (ChangeListener listener : changeListeners) {\r\n                    listener.stateChanged(evt);\r\n                }\r\n            }\r\n\r\n            protected class MergeComponentEdit extends CompoundEdit {\r\n                boolean isUnDone = false;\r\n\r\n                public int getLength() {\r\n                    return edits.size();\r\n                }\r\n\r\n                public void undo() throws CannotUndoException {\r\n                    super.undo();\r\n                    isUnDone = true;\r\n                }\r\n\r\n                public void redo() throws CannotUndoException {\r\n                    super.redo();\r\n                    isUnDone = false;\r\n                }\r\n\r\n                public boolean canUndo() {\r\n                    return edits.size() &gt; 0 &amp;&amp; !isUnDone;\r\n                }\r\n\r\n                public boolean canRedo() {\r\n                    return edits.size() &gt; 0 &amp;&amp; isUnDone;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cJ4nh.gif","title":"UNDO/REDO for JTextArea","body":"<p>I did a little bit of googling and I came across <a href=\"https://stackoverflow.com/questions/11767130/jtextpane-undo-and-redo-whole-words\">JTextPane undo and redo whole words</a>, which lead me to <a href=\"http://java-sl.com/tip_merge_undo_edits.html\" rel=\"nofollow noreferrer\">Merging UndoableEdits in one to be undone all together in JEditorPane.</a></p>\n<p>Intrigued by the concept, I pulled it apart and started playing around with, which lead me to (at least one) issue - if you select all the text and delete it, it causes a <code>BadLocationException</code>.  So I had a bit more of play around with it and I believe I've implemented a suitable fix for it.</p>\n<p>I also added <code>ChangeListener</code> support, so you can get notified when the state changes.</p>\n<pre><code>public class UndoManager extends AbstractUndoableEdit implements UndoableEditListener {\n    private String lastEditName = null;\n    private List&lt;MergeComponentEdit&gt; edits = new ArrayList&lt;MergeComponentEdit&gt;(32);\n    private MergeComponentEdit current;\n    private int pointer = -1;\n\n    private List&lt;ChangeListener&gt; changeListeners = new ArrayList&lt;&gt;(8);\n\n    public void addChangeListener(ChangeListener changeListener) {\n        changeListeners.add(changeListener);\n    }\n\n    public void removeChangeListener(ChangeListener changeListener) {\n        changeListeners.remove(changeListener);\n    }\n\n    public void undoableEditHappened(UndoableEditEvent e) {\n        UndoableEdit edit = e.getEdit();\n        if (edit instanceof AbstractDocument.DefaultDocumentEvent) {\n            try {\n                AbstractDocument.DefaultDocumentEvent event = (AbstractDocument.DefaultDocumentEvent) edit;\n                int start = event.getOffset();\n                int len = event.getLength();\n                if (start + len &gt; event.getDocument().getLength()) {\n                    createCompoundEdit();\n                    current.addEdit(edit);\n                    lastEditName = edit.getPresentationName();\n                } else {\n\n                    String text = event.getDocument().getText(start, len);\n                    boolean isNeedStart = false;\n                    if (current == null) {\n                        isNeedStart = true;\n                    } else if (text.contains(&quot; &quot;)) {\n                        isNeedStart = true;\n                    } else if (lastEditName == null || !lastEditName.equals(edit.getPresentationName())) {\n                        isNeedStart = true;\n                    }\n\n                    while (pointer &lt; edits.size() - 1) {\n                        edits.remove(edits.size() - 1);\n                        isNeedStart = true;\n                    }\n                    if (isNeedStart) {\n                        createCompoundEdit();\n                    }\n\n                    current.addEdit(edit);\n                    lastEditName = edit.getPresentationName();\n                }\n                fireStateChanged();\n            } catch (BadLocationException e1) {\n                e1.printStackTrace();\n            }\n        }\n    }\n\n    public void createCompoundEdit() {\n        if (current == null) {\n            current = new MergeComponentEdit();\n        } else if (current.getLength() &gt; 0) {\n            current = new MergeComponentEdit();\n        }\n\n        edits.add(current);\n        pointer++;\n    }\n\n    public void undo() throws CannotUndoException {\n        if (!canUndo()) {\n            throw new CannotUndoException();\n        }\n\n        MergeComponentEdit u = edits.get(pointer);\n        u.undo();\n        pointer--;\n\n        fireStateChanged();\n    }\n\n    public void redo() throws CannotUndoException {\n        if (!canRedo()) {\n            throw new CannotUndoException();\n        }\n\n        pointer++;\n        MergeComponentEdit u = edits.get(pointer);\n        u.redo();\n\n        fireStateChanged();\n    }\n\n    public boolean canUndo() {\n        return pointer &gt;= 0;\n    }\n\n    public boolean canRedo() {\n        return edits.size() &gt; 0 &amp;&amp; pointer &lt; edits.size() - 1;\n    }\n\n    protected void fireStateChanged() {\n        if (changeListeners.isEmpty()) {\n            return;\n        }\n        ChangeEvent evt = new ChangeEvent(this);\n        for (ChangeListener listener : changeListeners) {\n            listener.stateChanged(evt);\n        }\n    }\n\n    protected class MergeComponentEdit extends CompoundEdit {\n        boolean isUnDone = false;\n\n        public int getLength() {\n            return edits.size();\n        }\n\n        public void undo() throws CannotUndoException {\n            super.undo();\n            isUnDone = true;\n        }\n\n        public void redo() throws CannotUndoException {\n            super.redo();\n            isUnDone = false;\n        }\n\n        public boolean canUndo() {\n            return edits.size() &gt; 0 &amp;&amp; !isUnDone;\n        }\n\n        public boolean canRedo() {\n            return edits.size() &gt; 0 &amp;&amp; isUnDone;\n        }\n\n    }\n}\n</code></pre>\n<h1>Runnable Example</h1>\n<p><a href=\"https://i.stack.imgur.com/cJ4nh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cJ4nh.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JToolBar;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.event.UndoableEditEvent;\nimport javax.swing.event.UndoableEditListener;\nimport javax.swing.text.AbstractDocument;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.undo.AbstractUndoableEdit;\nimport javax.swing.undo.CannotUndoException;\nimport javax.swing.undo.CompoundEdit;\nimport javax.swing.undo.UndoableEdit;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JButton btnUndo = new JButton(&quot;Undo&quot;);\n                JButton btnRedo = new JButton(&quot;Redo&quot;);\n                UndoManager undoManager = new UndoManager();\n                undoManager.addChangeListener(new ChangeListener() {\n                    @Override\n                    public void stateChanged(ChangeEvent e) {\n                        btnUndo.setEnabled(undoManager.canUndo());\n                        btnRedo.setEnabled(undoManager.canRedo());\n                    }\n                });\n\n                EditorPane editorPane = new EditorPane(undoManager);\n\n                JToolBar tb = new JToolBar();\n                btnUndo.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        undoManager.undo();\n                    }\n                });\n                tb.add(btnUndo);\n                btnRedo.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        undoManager.redo();\n                    }\n                });\n                tb.add(btnRedo);\n\n                JFrame frame = new JFrame();\n                frame.add(tb, BorderLayout.NORTH);\n                frame.add(new JScrollPane(editorPane));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class EditorPane extends JPanel {\n\n        private UndoManager undoManager;\n\n        public EditorPane(UndoManager undoManager) {\n            setLayout(new BorderLayout());\n            this.undoManager = undoManager;\n            JTextArea textArea = new JTextArea(20, 40);\n            textArea.getDocument().addUndoableEditListener(undoManager);\n            add(new JScrollPane(textArea));\n        }\n\n    }\n\n    public class UndoManager extends AbstractUndoableEdit implements UndoableEditListener {\n        private String lastEditName = null;\n        private List&lt;MergeComponentEdit&gt; edits = new ArrayList&lt;MergeComponentEdit&gt;(32);\n        private MergeComponentEdit current;\n        private int pointer = -1;\n\n        private List&lt;ChangeListener&gt; changeListeners = new ArrayList&lt;&gt;(8);\n\n        public void addChangeListener(ChangeListener changeListener) {\n            changeListeners.add(changeListener);\n        }\n\n        public void removeChangeListener(ChangeListener changeListener) {\n            changeListeners.remove(changeListener);\n        }\n\n        public void undoableEditHappened(UndoableEditEvent e) {\n            UndoableEdit edit = e.getEdit();\n            if (edit instanceof AbstractDocument.DefaultDocumentEvent) {\n                try {\n                    AbstractDocument.DefaultDocumentEvent event = (AbstractDocument.DefaultDocumentEvent) edit;\n                    int start = event.getOffset();\n                    int len = event.getLength();\n                    if (start + len &gt; event.getDocument().getLength()) {\n                        createCompoundEdit();\n                        current.addEdit(edit);\n                        lastEditName = edit.getPresentationName();\n                    } else {\n\n                        String text = event.getDocument().getText(start, len);\n                        boolean isNeedStart = false;\n                        if (current == null) {\n                            isNeedStart = true;\n                        } else if (text.contains(&quot; &quot;)) {\n                            isNeedStart = true;\n                        } else if (lastEditName == null || !lastEditName.equals(edit.getPresentationName())) {\n                            isNeedStart = true;\n                        }\n\n                        while (pointer &lt; edits.size() - 1) {\n                            edits.remove(edits.size() - 1);\n                            isNeedStart = true;\n                        }\n                        if (isNeedStart) {\n                            createCompoundEdit();\n                        }\n\n                        current.addEdit(edit);\n                        lastEditName = edit.getPresentationName();\n                    }\n                    fireStateChanged();\n                } catch (BadLocationException e1) {\n                    e1.printStackTrace();\n                }\n            }\n        }\n\n        public void createCompoundEdit() {\n            if (current == null) {\n                current = new MergeComponentEdit();\n            } else if (current.getLength() &gt; 0) {\n                current = new MergeComponentEdit();\n            }\n\n            edits.add(current);\n            pointer++;\n        }\n\n        public void undo() throws CannotUndoException {\n            if (!canUndo()) {\n                throw new CannotUndoException();\n            }\n\n            MergeComponentEdit u = edits.get(pointer);\n            u.undo();\n            pointer--;\n\n            fireStateChanged();\n        }\n\n        public void redo() throws CannotUndoException {\n            if (!canRedo()) {\n                throw new CannotUndoException();\n            }\n\n            pointer++;\n            MergeComponentEdit u = edits.get(pointer);\n            u.redo();\n\n            fireStateChanged();\n        }\n\n        public boolean canUndo() {\n            return pointer &gt;= 0;\n        }\n\n        public boolean canRedo() {\n            return edits.size() &gt; 0 &amp;&amp; pointer &lt; edits.size() - 1;\n        }\n\n        protected void fireStateChanged() {\n            if (changeListeners.isEmpty()) {\n                return;\n            }\n            ChangeEvent evt = new ChangeEvent(this);\n            for (ChangeListener listener : changeListeners) {\n                listener.stateChanged(evt);\n            }\n        }\n\n        protected class MergeComponentEdit extends CompoundEdit {\n            boolean isUnDone = false;\n\n            public int getLength() {\n                return edits.size();\n            }\n\n            public void undo() throws CannotUndoException {\n                super.undo();\n                isUnDone = true;\n            }\n\n            public void redo() throws CannotUndoException {\n                super.redo();\n                isUnDone = false;\n            }\n\n            public boolean canUndo() {\n                return edits.size() &gt; 0 &amp;&amp; !isUnDone;\n            }\n\n            public boolean canRedo() {\n                return edits.size() &gt; 0 &amp;&amp; isUnDone;\n            }\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18466361"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72227594,"answer_count":1,"score":0,"last_activity_date":1652446347,"creation_date":1652428736,"question_id":72226233,"body_markdown":"I am writing a text editor. And here I ran into a problem. I need to implement UNDO and Redo function for JTextArea. For this I use UndoManager. But, if I cancel or return, then the actions will be canceled or returned one character at a time. How to make it so that actions are canceled or returned not by character, but by word.\r\n\r\n\r\nThis is what my code looks like:\r\n```\r\n jta.getDocument().addUndoableEditListener( new UndoableEditListener() {\r\n        public void undoableEditHappened(UndoableEditEvent e) {\r\n             undoManager.addEdit(e.getEdit());      \r\n        }\r\n    });\r\n \r\n         public static void undo() {\r\n        if (undoManager.canUndo())\r\n          try {\r\n            undoManager.undo();\r\n          } catch (CannotRedoException cre) {\r\n            cre.printStackTrace();\r\n          }  \r\n      }\r\n      \r\n      public static void redo() {\r\n        if (undoManager.canRedo())\r\n          try {\r\n            undoManager.redo();\r\n          } catch (CannotRedoException cre) {\r\n            cre.printStackTrace();\r\n          }  \r\n      }\r\n```\r\nUnfortunately, this solution doesn&#39;t work. I don&#39;t understand how to use it as I don&#39;t have enough programming experience:\r\nhttps://stackoverflow.com/questions/11767130/jtextpane-undo-and-redo-whole-words","title":"UNDO/REDO for JTextArea","body":"<p>I am writing a text editor. And here I ran into a problem. I need to implement UNDO and Redo function for JTextArea. For this I use UndoManager. But, if I cancel or return, then the actions will be canceled or returned one character at a time. How to make it so that actions are canceled or returned not by character, but by word.</p>\n<p>This is what my code looks like:</p>\n<pre><code> jta.getDocument().addUndoableEditListener( new UndoableEditListener() {\n        public void undoableEditHappened(UndoableEditEvent e) {\n             undoManager.addEdit(e.getEdit());      \n        }\n    });\n \n         public static void undo() {\n        if (undoManager.canUndo())\n          try {\n            undoManager.undo();\n          } catch (CannotRedoException cre) {\n            cre.printStackTrace();\n          }  \n      }\n      \n      public static void redo() {\n        if (undoManager.canRedo())\n          try {\n            undoManager.redo();\n          } catch (CannotRedoException cre) {\n            cre.printStackTrace();\n          }  \n      }\n</code></pre>\n<p>Unfortunately, this solution doesn't work. I don't understand how to use it as I don't have enough programming experience:\n<a href=\"https://stackoverflow.com/questions/11767130/jtextpane-undo-and-redo-whole-words\">JTextPane undo and redo whole words</a></p>\n"},{"tags":["java","postgresql","hibernate","jpa","enums"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652447151,"post_id":72229075,"comment_id":127614939,"body_markdown":"[This blog](https://vladmihalcea.com/postgresql-array-java-list/) should be a good starting point. As you want to have `varchar[]`as database column, you would most probably need a converter in addition, to convert from enum to varchar and vice versa.","body":"<a href=\"https://vladmihalcea.com/postgresql-array-java-list/\" rel=\"nofollow noreferrer\">This blog</a> should be a good starting point. As you want to have <code>varchar[]</code>as database column, you would most probably need a converter in addition, to convert from enum to varchar and vice versa."},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1652459201,"post_id":72229075,"comment_id":127619546,"body_markdown":"@XtremeBaumer Yeah, it&#39;s so, but not quite clear how to combine them...\nI ended up with still using the converter but which converts Set&lt;Origin&gt; to a String and uses comma as delimiter. The column type is just `varchar`","body":"@XtremeBaumer Yeah, it&#39;s so, but not quite clear how to combine them... I ended up with still using the converter but which converts Set&lt;Origin&gt; to a String and uses comma as delimiter. The column type is just <code>varchar</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1652465182,"post_id":72229075,"comment_id":127621332,"body_markdown":"Why not convert just to a &#39;string&#39; and split incoming strings for &#39;,&#39; to build your list of enums.","body":"Why not convert just to a &#39;string&#39; and split incoming strings for &#39;,&#39; to build your list of enums."}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652446076,"creation_date":1652442442,"question_id":72229075,"body_markdown":"Trying to figure out how to store a list of enums in a single table column.\r\n\r\nI started with a `String` and it worked. I&#39;ll show only the relevant parts of the code:\r\n\r\n    import com.vladmihalcea.hibernate.type.array.ListArrayType;\r\n    \r\n    ...\r\n    \r\n    @Entity\r\n    @TypeDefs({\r\n        @TypeDef(\r\n            name = &quot;list-array&quot;,\r\n            typeClass = ListArrayType.class\r\n        )\r\n    })\r\n    @Table(name = &quot;reports&quot;)\r\n    public class Reports {\r\n    ...\r\n    \r\n        @Type( type = &quot;list-array&quot; )\r\n        @Column(\r\n            name = &quot;origins&quot;,\r\n            columnDefinition = &quot;varchar[]&quot;,\r\n            nullable = false\r\n        )\r\n        private List&lt;String&gt; origins;\r\n    \r\n    ...\r\n\r\nThe corresponding DDL of the column in PostgreSQL is defined as\r\n\r\n    origins _varchar NULL\r\n\r\nIn Liquibase script:\r\n\r\n    &lt;column name=&quot;origins&quot; type=&quot;varchar[]&quot; remarks=&quot;&quot;/&gt;\r\n\r\nHowever when I tried to store enums with the following changes to the code (I basically changed the type and the corresponding getters/setters)\r\n\r\n    private List&lt;Origin&gt; origins;\r\n\r\nThe enum code looks so:\r\n\r\n    public enum Origin {\r\n     A, B, C\r\n    }\r\n\r\n\r\nI got the error:\r\n\r\n    nested exception is org.hibernate.MappingException: Could not instantiate Type: com.vladmihalcea.hibernate.type.array.ListArrayType\r\n\r\n\r\nI also tried it with a converter but without success:\r\n\r\n    @Column(\r\n    \t\tname = &quot;origins&quot;,\r\n    \t\tcolumnDefinition = &quot;varchar[]&quot;,\r\n    \t\tnullable = false\r\n    )\r\n    @Convert(converter = OriginConverter.class)\r\n    private List&lt;Origin&gt; origins;\r\n\r\nThe converter code is below:\r\n\r\n    @Converter\r\n    public class OriginConverter implements AttributeConverter&lt;List&lt;Origin&gt;, List&lt;String&gt;&gt; {\r\n    \r\n        @Override\r\n        public List&lt;String&gt; convertToDatabaseColumn(List&lt;Origin&gt; origins) {\r\n            List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n            origins.forEach(\r\n                origin -&gt; values.add(origin.name())\r\n            );\r\n            return values;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Origin&gt; convertToEntityAttribute(List&lt;String&gt; origins) {\r\n            var values= origins.stream().map(Origin::valueOf).toList();\r\n            return values;\r\n        }\r\n    }\r\n\r\nThe error was:\r\n\r\n    could not insert...\r\n    ...\r\n    Caused by: org.postgresql.util.PSQLException: Unsupported Types value: 21,685,669\r\n\r\nWhat am I missing?","title":"Convert a list of enums and store as &#39;varchar[]&#39;","body":"<p>Trying to figure out how to store a list of enums in a single table column.</p>\n<p>I started with a <code>String</code> and it worked. I'll show only the relevant parts of the code:</p>\n<pre><code>import com.vladmihalcea.hibernate.type.array.ListArrayType;\n\n...\n\n@Entity\n@TypeDefs({\n    @TypeDef(\n        name = &quot;list-array&quot;,\n        typeClass = ListArrayType.class\n    )\n})\n@Table(name = &quot;reports&quot;)\npublic class Reports {\n...\n\n    @Type( type = &quot;list-array&quot; )\n    @Column(\n        name = &quot;origins&quot;,\n        columnDefinition = &quot;varchar[]&quot;,\n        nullable = false\n    )\n    private List&lt;String&gt; origins;\n\n...\n</code></pre>\n<p>The corresponding DDL of the column in PostgreSQL is defined as</p>\n<pre><code>origins _varchar NULL\n</code></pre>\n<p>In Liquibase script:</p>\n<pre><code>&lt;column name=&quot;origins&quot; type=&quot;varchar[]&quot; remarks=&quot;&quot;/&gt;\n</code></pre>\n<p>However when I tried to store enums with the following changes to the code (I basically changed the type and the corresponding getters/setters)</p>\n<pre><code>private List&lt;Origin&gt; origins;\n</code></pre>\n<p>The enum code looks so:</p>\n<pre><code>public enum Origin {\n A, B, C\n}\n</code></pre>\n<p>I got the error:</p>\n<pre><code>nested exception is org.hibernate.MappingException: Could not instantiate Type: com.vladmihalcea.hibernate.type.array.ListArrayType\n</code></pre>\n<p>I also tried it with a converter but without success:</p>\n<pre><code>@Column(\n        name = &quot;origins&quot;,\n        columnDefinition = &quot;varchar[]&quot;,\n        nullable = false\n)\n@Convert(converter = OriginConverter.class)\nprivate List&lt;Origin&gt; origins;\n</code></pre>\n<p>The converter code is below:</p>\n<pre><code>@Converter\npublic class OriginConverter implements AttributeConverter&lt;List&lt;Origin&gt;, List&lt;String&gt;&gt; {\n\n    @Override\n    public List&lt;String&gt; convertToDatabaseColumn(List&lt;Origin&gt; origins) {\n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\n        origins.forEach(\n            origin -&gt; values.add(origin.name())\n        );\n        return values;\n    }\n\n    @Override\n    public List&lt;Origin&gt; convertToEntityAttribute(List&lt;String&gt; origins) {\n        var values= origins.stream().map(Origin::valueOf).toList();\n        return values;\n    }\n}\n</code></pre>\n<p>The error was:</p>\n<pre><code>could not insert...\n...\nCaused by: org.postgresql.util.PSQLException: Unsupported Types value: 21,685,669\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652445536,"creation_date":1652445536,"answer_id":72229756,"question_id":72229622,"body_markdown":"instead of `mNotifyManager.notify(` call, which shows your `Notification`, just use `startActivity(..`? you may need also [`WakeLock`](https://developer.android.com/training/scheduling/wakelock) and `showOnLockScreen` attribute set for this `Activity` in manifest\r\n\r\nedit: and [HERE](https://proandroiddev.com/how-to-show-an-activity-on-lock-screen-instead-of-a-notification-ff288d35bfe5) you can find article with exactly your case tutorial","title":"How to open an activity on the lock screen after FCM notification","body":"<p>instead of <code>mNotifyManager.notify(</code> call, which shows your <code>Notification</code>, just use <code>startActivity(..</code>? you may need also <a href=\"https://developer.android.com/training/scheduling/wakelock\" rel=\"nofollow noreferrer\"><code>WakeLock</code></a> and <code>showOnLockScreen</code> attribute set for this <code>Activity</code> in manifest</p>\n<p>edit: and <a href=\"https://proandroiddev.com/how-to-show-an-activity-on-lock-screen-instead-of-a-notification-ff288d35bfe5\" rel=\"nofollow noreferrer\">HERE</a> you can find article with exactly your case tutorial</p>\n"}],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72229756,"answer_count":1,"score":0,"last_activity_date":1652445536,"creation_date":1652444963,"question_id":72229622,"body_markdown":"How can I open an activity on the lock screen without the user having to click on it? Like for example an alarm or a call.\r\nIn my code I can get the FCM notification and if the user clicks on the notification it is possible to open an activity, but I wanted the user not to have to click on it.\r\n\r\nFirebaseService.java\r\n\r\n    //--- Notificacao\r\n        public void createNotificationChannel(){\r\n            mNotifyManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n    \r\n    \r\n            if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\r\n    \r\n                //create a notification channel\r\n                NotificationChannel notificationChannel = new NotificationChannel(PRIMARY_CHANNEL_ID,\r\n                        &quot;Mascot Notification&quot;, NotificationManager\r\n                        .IMPORTANCE_HIGH);\r\n    \r\n                notificationChannel.enableLights(true);\r\n                notificationChannel.setLightColor(Color.RED);\r\n                notificationChannel.enableVibration(true);\r\n                notificationChannel.setDescription(&quot;Notification from Mascot&quot;);\r\n    \r\n                mNotifyManager.createNotificationChannel(notificationChannel);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void sendNotification(String taskName){\r\n    \r\n            NotificationCompat.Builder notifyBuilder = getNotificationBuilder(taskName);\r\n    \r\n            //agora temos que entregar a notificacao\r\n            mNotifyManager.notify(NOTIFICATION_ID, notifyBuilder.build());\r\n    \r\n        }\r\n    \r\n        public NotificationCompat.Builder getNotificationBuilder(String taskName){\r\n    \r\n            Intent intent = new Intent(this, TesteActivity.class);\r\n            PendingIntent p = getPendingIntent(NOTIFICATION_ID, intent, getApplicationContext());\r\n    \r\n            return new NotificationCompat.Builder(this, PRIMARY_CHANNEL_ID)\r\n                    .setSmallIcon(R.drawable.notification_icon)\r\n                    .setContentText(&quot;titulo teste&quot;)\r\n                    .setContentIntent(p)\r\n                    .setCategory(NotificationCompat.CATEGORY_ALARM)\r\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC);\r\n    \r\n        }\r\n    \r\n        private PendingIntent getPendingIntent(int id, Intent intent, Context context){\r\n            TaskStackBuilder stackBuilder = TaskStackBuilder.create(context);\r\n            stackBuilder.addParentStack(intent.getComponent());\r\n            stackBuilder.addNextIntent(intent);\r\n    \r\n            PendingIntent p = stackBuilder.getPendingIntent(id, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            return p;\r\n        }\r\n\r\nTesteActivity.java\r\n\r\n    public class TesteActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_teste);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\r\n                setTurnScreenOn(true);\r\n                setShowWhenLocked(true);\r\n                KeyguardManager keyguardManager = (KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE);\r\n                keyguardManager.requestDismissKeyguard(this, null);\r\n    \r\n            }","title":"How to open an activity on the lock screen after FCM notification","body":"<p>How can I open an activity on the lock screen without the user having to click on it? Like for example an alarm or a call.\nIn my code I can get the FCM notification and if the user clicks on the notification it is possible to open an activity, but I wanted the user not to have to click on it.</p>\n<p>FirebaseService.java</p>\n<pre><code>//--- Notificacao\n    public void createNotificationChannel(){\n        mNotifyManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n\n\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n\n            //create a notification channel\n            NotificationChannel notificationChannel = new NotificationChannel(PRIMARY_CHANNEL_ID,\n                    &quot;Mascot Notification&quot;, NotificationManager\n                    .IMPORTANCE_HIGH);\n\n            notificationChannel.enableLights(true);\n            notificationChannel.setLightColor(Color.RED);\n            notificationChannel.enableVibration(true);\n            notificationChannel.setDescription(&quot;Notification from Mascot&quot;);\n\n            mNotifyManager.createNotificationChannel(notificationChannel);\n\n        }\n\n    }\n\n    public void sendNotification(String taskName){\n\n        NotificationCompat.Builder notifyBuilder = getNotificationBuilder(taskName);\n\n        //agora temos que entregar a notificacao\n        mNotifyManager.notify(NOTIFICATION_ID, notifyBuilder.build());\n\n    }\n\n    public NotificationCompat.Builder getNotificationBuilder(String taskName){\n\n        Intent intent = new Intent(this, TesteActivity.class);\n        PendingIntent p = getPendingIntent(NOTIFICATION_ID, intent, getApplicationContext());\n\n        return new NotificationCompat.Builder(this, PRIMARY_CHANNEL_ID)\n                .setSmallIcon(R.drawable.notification_icon)\n                .setContentText(&quot;titulo teste&quot;)\n                .setContentIntent(p)\n                .setCategory(NotificationCompat.CATEGORY_ALARM)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setVisibility(NotificationCompat.VISIBILITY_PUBLIC);\n\n    }\n\n    private PendingIntent getPendingIntent(int id, Intent intent, Context context){\n        TaskStackBuilder stackBuilder = TaskStackBuilder.create(context);\n        stackBuilder.addParentStack(intent.getComponent());\n        stackBuilder.addNextIntent(intent);\n\n        PendingIntent p = stackBuilder.getPendingIntent(id, PendingIntent.FLAG_UPDATE_CURRENT);\n        return p;\n    }\n</code></pre>\n<p>TesteActivity.java</p>\n<pre><code>public class TesteActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_teste);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n            setTurnScreenOn(true);\n            setShowWhenLocked(true);\n            KeyguardManager keyguardManager = (KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE);\n            keyguardManager.requestDismissKeyguard(this, null);\n\n        }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","assert"],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652445465,"creation_date":1652445465,"answer_id":72229741,"question_id":72229269,"body_markdown":"You can write a method to search for an element and return `true` if it is available else return `false`.\r\n\r\n\tpublic static boolean isElementDisplayed() {\r\n\t\ttry {\r\n\t\t\tdriver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Budgets&#39;)]&quot;));\r\n\t\t\treturn true;\r\n\t\t} catch (org.openqa.selenium.NoSuchElementException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nIn your tests,\r\n\r\n\t@Test\r\n\tpublic void laydownUserCheck() {\r\n\t\tif (isElementDisplayed()) {\r\n\t\t\tAssert.fail(&quot;Displaying the budget icon for laydown user.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void adminUserCheck() {\r\n\t\tif (!isElementDisplayed()) {\r\n\t\t\tAssert.fail(&quot;Not displaying the budget icon for admin user.&quot;);\r\n\t\t}\r\n\t}","title":"How to write a test case for the icon which is not displayed on the page due to permissions","body":"<p>You can write a method to search for an element and return <code>true</code> if it is available else return <code>false</code>.</p>\n<pre><code>public static boolean isElementDisplayed() {\n    try {\n        driver.findElement(By.xpath(&quot;//span[contains(text(),'Budgets')]&quot;));\n        return true;\n    } catch (org.openqa.selenium.NoSuchElementException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>In your tests,</p>\n<pre><code>@Test\npublic void laydownUserCheck() {\n    if (isElementDisplayed()) {\n        Assert.fail(&quot;Displaying the budget icon for laydown user.&quot;);\n    }\n}\n\n@Test\npublic void adminUserCheck() {\n    if (!isElementDisplayed()) {\n        Assert.fail(&quot;Not displaying the budget icon for admin user.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21425492,"reputation":55,"user_id":15782877,"display_name":"Ket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72229741,"answer_count":1,"score":1,"last_activity_date":1652445465,"creation_date":1652443251,"question_id":72229269,"body_markdown":"I am trying to  write test cases with the different Users with their permissions. \r\nI have a situation where there are two users\r\n 1) Admin- with full permissions  \r\n 2) Laydown User with limited access. \r\n\r\nNow I want to write a testcase when Laydown User is Logged in and hes not able to see his budget Icon. \r\n\r\n  1) Budget Icon is **not present** when he logs in (not hidden as well) so I dont understand how do I uniquely identify it ? I was planning to use IsDisplayed() method but how do I take the path if the icon itself is not present \r\n  \r\n  2) I though of taking path when Admin logs in but that obviously is not working as the Icon is not present when the Laydown logs in  \r\n\r\nIs there any way to assert and test this ? \r\n\r\nBelow is the HTML code when Admin logs in: (You should be able to see Budget here)\r\n\r\n    &lt;nav id=&quot;mainnav-container&quot; ng-if=&quot;Engine.hideMainNav != true&quot; class=&quot;ng-scope&quot;&gt;\r\n        &lt;div class=&quot;navbar-header&quot;&gt;\r\n            &lt;a href=&quot;/app_dev.php/&quot; class=&quot;navbar-brand&quot;&gt;\r\n            &lt;/a&gt;\r\n        &lt;/div&gt;\r\n            &lt;div class=&quot;btn-group btn-group-vertical&quot;&gt;\r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Dashboard&quot; type=&quot;button&quot; class=&quot;btn btn-default inactive tippy_ez0zu8jgw7xqk4ejjan active&quot; dashboard=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-fw fa-home&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Dashboard&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine.budget({start_date:&#39;01-01-2020&#39;,end_date:&#39;31-12-2020&#39;})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Budgets&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_6jf7no4muityj8c8ngcs&quot; budgets=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/budget/&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-fw fa-calculator&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Budgets&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine.activation({start_date:&#39;01-01-2020&#39;,end_date:&#39;31-12-2020&#39;})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Activations&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_ieku06frmxanoz20kb5i1&quot; activations=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/activation/?end_date=31-12-2020&amp;amp;start_date=01-01-2020&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-fw fa-list&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Activations&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine.laydown({&#39;start_date&#39;:&#39;01-05-2022&#39;,&#39;end_date&#39;:&#39;30-09-2022&#39;})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Activities&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_3f19a78v3ungek4l9ejg6&quot; activities=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/activity/?end_date=30-09-2022&amp;amp;start_date=01-05-2022&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-fw fa-heartbeat&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Activities&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine.crmLite&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Manage Users&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_ffkxpknzd1bt8m1jfoso6&quot; manage=&quot;&quot; users=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/manage-users/&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-user-cog&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Manage Users&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine.reporting&quot; ui-sref-active=&quot;active&quot; ng-init=&quot;Engine.sidebarloop6 = true&quot; ng-click=&quot;Engine.sidebarloop6 = !Engine.sidebarloop6&quot; navigator-tooltip=&quot;Reports&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_stuygjcav39xe0mih4g92&quot; reports=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/reporting-suite/&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-fw fa-chart-line&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Reports&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n            \r\n        &lt;/div&gt;\r\n        \r\n        &lt;/nav&gt;\r\n\r\nAnd this is the HTML when Laydown logs-in : He can see only Dashboard and activities\r\n\r\n    &lt;nav id=&quot;mainnav-container&quot; ng-if=&quot;Engine.hideMainNav != true&quot; class=&quot;ng-scope&quot;&gt;\r\n        &lt;div class=&quot;navbar-header&quot;&gt;\r\n            &lt;a href=&quot;/app_dev.php/&quot; class=&quot;navbar-brand&quot;&gt;\r\n            &lt;/a&gt;\r\n        &lt;/div&gt;\r\n            &lt;div class=&quot;btn-group btn-group-vertical&quot;&gt;\r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Dashboard&quot; type=&quot;button&quot; class=&quot;btn btn-default inactive tippy_oq042rw1d68c75d0f67aho active&quot; dashboard=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-fw fa-home&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Dashboard&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n                                                \r\n                                                \r\n                                                                \r\n                &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\r\n                &lt;a ui-sref=&quot;base.engine.laydown({&#39;start_date&#39;:&#39;01-05-2022&#39;,&#39;end_date&#39;:&#39;30-09-2022&#39;})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Activities&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_3npvbbn0bod30zndtigtho&quot; activities=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/activity/?end_date=30-09-2022&amp;amp;start_date=01-05-2022&quot; rel=&quot;tooltip&quot;&gt;\r\n                    &lt;i class=&quot;fal fa-fw fa-heartbeat&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \r\n                    &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Activities&lt;/span&gt;\r\n                                 &lt;/a&gt;\r\n                         \r\n                                                \r\n                                                \r\n            \r\n        &lt;/div&gt;\r\n        \r\n        &lt;/nav&gt;","title":"How to write a test case for the icon which is not displayed on the page due to permissions","body":"<p>I am trying to  write test cases with the different Users with their permissions.\nI have a situation where there are two users</p>\n<ol>\n<li>Admin- with full permissions</li>\n<li>Laydown User with limited access.</li>\n</ol>\n<p>Now I want to write a testcase when Laydown User is Logged in and hes not able to see his budget Icon.</p>\n<ol>\n<li><p>Budget Icon is <strong>not present</strong> when he logs in (not hidden as well) so I dont understand how do I uniquely identify it ? I was planning to use IsDisplayed() method but how do I take the path if the icon itself is not present</p>\n</li>\n<li><p>I though of taking path when Admin logs in but that obviously is not working as the Icon is not present when the Laydown logs in</p>\n</li>\n</ol>\n<p>Is there any way to assert and test this ?</p>\n<p>Below is the HTML code when Admin logs in: (You should be able to see Budget here)</p>\n<pre><code>&lt;nav id=&quot;mainnav-container&quot; ng-if=&quot;Engine.hideMainNav != true&quot; class=&quot;ng-scope&quot;&gt;\n    &lt;div class=&quot;navbar-header&quot;&gt;\n        &lt;a href=&quot;/app_dev.php/&quot; class=&quot;navbar-brand&quot;&gt;\n        &lt;/a&gt;\n    &lt;/div&gt;\n        &lt;div class=&quot;btn-group btn-group-vertical&quot;&gt;\n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Dashboard&quot; type=&quot;button&quot; class=&quot;btn btn-default inactive tippy_ez0zu8jgw7xqk4ejjan active&quot; dashboard=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-fw fa-home&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Dashboard&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine.budget({start_date:'01-01-2020',end_date:'31-12-2020'})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Budgets&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_6jf7no4muityj8c8ngcs&quot; budgets=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/budget/&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-fw fa-calculator&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Budgets&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine.activation({start_date:'01-01-2020',end_date:'31-12-2020'})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Activations&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_ieku06frmxanoz20kb5i1&quot; activations=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/activation/?end_date=31-12-2020&amp;amp;start_date=01-01-2020&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-fw fa-list&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Activations&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine.laydown({'start_date':'01-05-2022','end_date':'30-09-2022'})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Activities&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_3f19a78v3ungek4l9ejg6&quot; activities=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/activity/?end_date=30-09-2022&amp;amp;start_date=01-05-2022&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-fw fa-heartbeat&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Activities&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine.crmLite&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Manage Users&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_ffkxpknzd1bt8m1jfoso6&quot; manage=&quot;&quot; users=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/manage-users/&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-user-cog&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Manage Users&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine.reporting&quot; ui-sref-active=&quot;active&quot; ng-init=&quot;Engine.sidebarloop6 = true&quot; ng-click=&quot;Engine.sidebarloop6 = !Engine.sidebarloop6&quot; navigator-tooltip=&quot;Reports&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_stuygjcav39xe0mih4g92&quot; reports=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/reporting-suite/&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-fw fa-chart-line&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Reports&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n        \n    &lt;/div&gt;\n    \n    &lt;/nav&gt;\n</code></pre>\n<p>And this is the HTML when Laydown logs-in : He can see only Dashboard and activities</p>\n<pre><code>&lt;nav id=&quot;mainnav-container&quot; ng-if=&quot;Engine.hideMainNav != true&quot; class=&quot;ng-scope&quot;&gt;\n    &lt;div class=&quot;navbar-header&quot;&gt;\n        &lt;a href=&quot;/app_dev.php/&quot; class=&quot;navbar-brand&quot;&gt;\n        &lt;/a&gt;\n    &lt;/div&gt;\n        &lt;div class=&quot;btn-group btn-group-vertical&quot;&gt;\n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Dashboard&quot; type=&quot;button&quot; class=&quot;btn btn-default inactive tippy_oq042rw1d68c75d0f67aho active&quot; dashboard=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-fw fa-home&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Dashboard&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n                                            \n                                            \n                                                            \n            &lt;!-- ui-sref-opts=&quot;{reload: true}&quot; --&gt;\n            &lt;a ui-sref=&quot;base.engine.laydown({'start_date':'01-05-2022','end_date':'30-09-2022'})&quot; ui-sref-active=&quot;active&quot; navigator-tooltip=&quot;Activities&quot; type=&quot;button&quot; class=&quot;btn btn-default tippy_3npvbbn0bod30zndtigtho&quot; activities=&quot;&quot; style=&quot;position:relative;&quot; href=&quot;#!/activity/?end_date=30-09-2022&amp;amp;start_date=01-05-2022&quot; rel=&quot;tooltip&quot;&gt;\n                &lt;i class=&quot;fal fa-fw fa-heartbeat&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; \n                &lt;span ng-show=&quot;Engine.offsetMainnav&quot; class=&quot;ng-hide&quot; style=&quot;&quot;&gt;&amp;nbsp;Activities&lt;/span&gt;\n                             &lt;/a&gt;\n                     \n                                            \n                                            \n        \n    &lt;/div&gt;\n    \n    &lt;/nav&gt;\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":14606682,"reputation":6073,"user_id":10549313,"display_name":"Bravo"},"score":1,"creation_date":1652409892,"post_id":72223917,"comment_id":127604760,"body_markdown":"for a start ... if you want your method to return something, it should `return something` ... as for your maths question it should return price with the discount subtracted from the price","body":"for a start ... if you want your method to return something, it should <code>return something</code> ... as for your maths question it should return price with the discount subtracted from the price"},{"owner":{"account_id":14606682,"reputation":6073,"user_id":10549313,"display_name":"Bravo"},"score":0,"creation_date":1652409907,"post_id":72223917,"comment_id":127604764,"body_markdown":"@shree.pat18 guess again","body":"@shree.pat18 guess again"},{"owner":{"account_id":2906812,"reputation":21459,"user_id":2491900,"display_name":"shree.pat18"},"score":0,"creation_date":1652410009,"post_id":72223917,"comment_id":127604774,"body_markdown":"@Bravo D&#39;oh! Should be `price * (1 - discount)`","body":"@Bravo D&#39;oh! Should be <code>price * (1 - discount)</code>"},{"owner":{"account_id":14606682,"reputation":6073,"user_id":10549313,"display_name":"Bravo"},"score":0,"creation_date":1652410062,"post_id":72223917,"comment_id":127604787,"body_markdown":"@shree.pat18 no ... since discount is not even defined!!! try again :p - `price * (1 - percent/100)`","body":"@shree.pat18 no ... since discount is not even defined!!! try again :p - <code>price * (1 - percent&#47;100)</code>"},{"owner":{"account_id":2906812,"reputation":21459,"user_id":2491900,"display_name":"shree.pat18"},"score":0,"creation_date":1652410415,"post_id":72223917,"comment_id":127604845,"body_markdown":"We&#39;re splitting hairs at this point. Percent is not a particularly meaningful variable name to begin with","body":"We&#39;re splitting hairs at this point. Percent is not a particularly meaningful variable name to begin with"}],"answers":[{"tags":[],"owner":{"account_id":19946691,"reputation":102,"user_id":14617194,"display_name":"Anuj Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652410150,"creation_date":1652410150,"answer_id":72223952,"question_id":72223917,"body_markdown":"You can get percent like this\r\n\r\nPrice= 10,000\r\nDiscount= 5%\r\n\r\nPrice after Discount= 10,000 - (10,000 * (5/100))\r\n\r\nAnswer will be= 9,500","title":"How do I return the final discounted price instead of the discounted amount off?","body":"<p>You can get percent like this</p>\n<p>Price= 10,000\nDiscount= 5%</p>\n<p>Price after Discount= 10,000 - (10,000 * (5/100))</p>\n<p>Answer will be= 9,500</p>\n"},{"tags":[],"owner":{"account_id":25122616,"reputation":1,"user_id":18970755,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652413458,"creation_date":1652412298,"answer_id":72224120,"question_id":72223917,"body_markdown":"It&#39;s a good thing to see your effort, but here are the issues with the question.\r\n\r\n1. Like they have noticed in the comments, your code is in `Java` and not `Javascript`\r\n2. As @Anuj Kumar pointed out, the logic of getting the Discounted Price is `Price after Discount= 10,000 - (10,000 * (5/100))`\r\n\r\nWith this implementation I also suggest making the method name specify what argument it accepts by changing it to `lowerPriceByPercentage`\r\n\r\nHere is a working code of what you want to acheive:\r\n\r\n    public class Main{\r\n    \r\n        static double price;\r\n    \r\n\t    public static void main(String[] args) {\r\n\t    \tprice = 10000;\r\n\t    \tlowerPriceByPercentage(5);\r\n            System.out.println(price);\r\n\t    }\r\n\t\r\n\t    public static void lowerPriceByPercentage(double percent){\r\n            price -= price*(percent/100);\r\n        }\r\n    }\r\n\r\nRun this online: https://onlinegdb.com/7V1Z33HbR\r\n\r\n**If you want the method to `return` the value you should:**\r\n\r\n 1. Make the method return type as `double`\r\n 2. Use the `return` keyword  \r\n\r\nWith `return`: \r\n\r\n    public class Main{\r\n    \r\n        static double price;\r\n    \r\n\t    public static void main(String[] args) {\r\n\t    \tprice = 10000;\r\n\t    \tprice = lowerPriceByPercentage(5);\r\n            System.out.println(price);\r\n\t    }\r\n\t\r\n\t    public static double lowerPriceByPercentage(double percent){\r\n            return price - price*(percent/100);\r\n        }\r\n    }\r\n\r\nRun this online: https://onlinegdb.com/bqx3vcYkA","title":"How do I return the final discounted price instead of the discounted amount off?","body":"<p>It's a good thing to see your effort, but here are the issues with the question.</p>\n<ol>\n<li>Like they have noticed in the comments, your code is in <code>Java</code> and not <code>Javascript</code></li>\n<li>As @Anuj Kumar pointed out, the logic of getting the Discounted Price is <code>Price after Discount= 10,000 - (10,000 * (5/100))</code></li>\n</ol>\n<p>With this implementation I also suggest making the method name specify what argument it accepts by changing it to <code>lowerPriceByPercentage</code></p>\n<p>Here is a working code of what you want to acheive:</p>\n<pre><code>public class Main{\n\n    static double price;\n\n    public static void main(String[] args) {\n        price = 10000;\n        lowerPriceByPercentage(5);\n        System.out.println(price);\n    }\n\n    public static void lowerPriceByPercentage(double percent){\n        price -= price*(percent/100);\n    }\n}\n</code></pre>\n<p>Run this online: <a href=\"https://onlinegdb.com/7V1Z33HbR\" rel=\"nofollow noreferrer\">https://onlinegdb.com/7V1Z33HbR</a></p>\n<p><strong>If you want the method to <code>return</code> the value you should:</strong></p>\n<ol>\n<li>Make the method return type as <code>double</code></li>\n<li>Use the <code>return</code> keyword</li>\n</ol>\n<p>With <code>return</code>:</p>\n<pre><code>public class Main{\n\n    static double price;\n\n    public static void main(String[] args) {\n        price = 10000;\n        price = lowerPriceByPercentage(5);\n        System.out.println(price);\n    }\n\n    public static double lowerPriceByPercentage(double percent){\n        return price - price*(percent/100);\n    }\n}\n</code></pre>\n<p>Run this online: <a href=\"https://onlinegdb.com/bqx3vcYkA\" rel=\"nofollow noreferrer\">https://onlinegdb.com/bqx3vcYkA</a></p>\n"}],"owner":{"account_id":24635711,"reputation":1,"user_id":18534380,"display_name":"Hemet420"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652445358,"creation_date":1652409752,"question_id":72223917,"body_markdown":"I am creating a method that takes a percent as a parameter and decreases the price by that percent.\r\n\r\n```\r\npublic void lowerPriceBy(double percent){\r\n    price = price/100*percent;\r\n}\r\n```\r\n\r\nHow to I get my method to return the final discounted price of the car instead of the discounted amount?\r\n\r\nFor example if the car costs $10,000 and the percentage is 5% I want to return Price = $9500 but I&#39;m only getting Price = $500 when I do the calculations.\r\n","title":"How do I return the final discounted price instead of the discounted amount off?","body":"<p>I am creating a method that takes a percent as a parameter and decreases the price by that percent.</p>\n<pre><code>public void lowerPriceBy(double percent){\n    price = price/100*percent;\n}\n</code></pre>\n<p>How to I get my method to return the final discounted price of the car instead of the discounted amount?</p>\n<p>For example if the car costs $10,000 and the percentage is 5% I want to return Price = $9500 but I'm only getting Price = $500 when I do the calculations.</p>\n"},{"tags":["java","classloader","ballerina","reflections"],"answers":[{"tags":[],"owner":{"account_id":1691078,"reputation":21,"user_id":1553400,"display_name":"WaruApz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652445062,"creation_date":1652445062,"answer_id":72229651,"question_id":70693547,"body_markdown":"This NoClassdEfError happens if the internal data structure of the class definition cannot be find or if the previous attempt to load the class was failed due to class path issue.\r\n\r\nBTW we do not recommend to use java reflection to invoke ballerina function from java native side, since async code will not work properly since we do not properly schedule ballerina function call. \r\n\r\nWe have discussed same issue in https://github.com/ballerina-platform/ballerina-lang/issues/34793 and decided to generate ballerina project with the main function which calls the required ballerina function, and use the bal run command to execute the generated project.","title":"Getting `java.lang.ClassNotFoundException: org.apache.commons.pool.PoolableObjectFactory` when using Java reflection","body":"<p>This NoClassdEfError happens if the internal data structure of the class definition cannot be find or if the previous attempt to load the class was failed due to class path issue.</p>\n<p>BTW we do not recommend to use java reflection to invoke ballerina function from java native side, since async code will not work properly since we do not properly schedule ballerina function call.</p>\n<p>We have discussed same issue in <a href=\"https://github.com/ballerina-platform/ballerina-lang/issues/34793\" rel=\"nofollow noreferrer\">https://github.com/ballerina-platform/ballerina-lang/issues/34793</a> and decided to generate ballerina project with the main function which calls the required ballerina function, and use the bal run command to execute the generated project.</p>\n"}],"owner":{"account_id":13077933,"reputation":21,"user_id":15854295,"display_name":"Aneesha Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652445062,"creation_date":1642062942,"question_id":70693547,"body_markdown":"I am trying to invoke a function using java reflection. My initial program is written in Ballerina which is given below. \r\n\r\n    import ballerina/http;\r\n    \r\n    function __getQueryResults() returns error|string{\r\n        http:Client myClient = check new(&quot;https://disease.sh&quot;);\r\n        http:Response response = check myClient-&gt;get(&quot;/v3/covid-19/all&quot;);\r\n        return response.getTextPayload(); }\r\n\r\nI am creating a Ballerina project with above function, build the project, and I am getting a jar file as the result. \r\n\r\nThen I get the URLClassLoader of the jar file as below \r\n\r\n    URL pathUrl = Paths.get(executablePath).toUri().toURL();\r\n    URLClassLoader classLoader = AccessController.doPrivileged((PrivilegedAction&lt;URLClassLoader&gt;) () -&gt;\r\n                        new URLClassLoader(new URL[]{pathUrl}, ClassLoader.getSystemClassLoader()));\r\n\r\nand trying to invoke the `__getQueryResults` function by invoking `$configureInit`, `$moduleInit`, `$moduleStart` and `__getQueryResults` orderly.\r\n\r\nI am getting the below exception when trying to invoke `$moduleInit` function \r\n\r\n`java.lang.NoClassDefFoundError: org/apache/commons/pool/PoolableObjectFactory`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPxl1.png\r\n\r\nAny possible causes or solutions to this issue ?","title":"Getting `java.lang.ClassNotFoundException: org.apache.commons.pool.PoolableObjectFactory` when using Java reflection","body":"<p>I am trying to invoke a function using java reflection. My initial program is written in Ballerina which is given below.</p>\n<pre><code>import ballerina/http;\n\nfunction __getQueryResults() returns error|string{\n    http:Client myClient = check new(&quot;https://disease.sh&quot;);\n    http:Response response = check myClient-&gt;get(&quot;/v3/covid-19/all&quot;);\n    return response.getTextPayload(); }\n</code></pre>\n<p>I am creating a Ballerina project with above function, build the project, and I am getting a jar file as the result.</p>\n<p>Then I get the URLClassLoader of the jar file as below</p>\n<pre><code>URL pathUrl = Paths.get(executablePath).toUri().toURL();\nURLClassLoader classLoader = AccessController.doPrivileged((PrivilegedAction&lt;URLClassLoader&gt;) () -&gt;\n                    new URLClassLoader(new URL[]{pathUrl}, ClassLoader.getSystemClassLoader()));\n</code></pre>\n<p>and trying to invoke the <code>__getQueryResults</code> function by invoking <code>$configureInit</code>, <code>$moduleInit</code>, <code>$moduleStart</code> and <code>__getQueryResults</code> orderly.</p>\n<p>I am getting the below exception when trying to invoke <code>$moduleInit</code> function</p>\n<p><code>java.lang.NoClassDefFoundError: org/apache/commons/pool/PoolableObjectFactory</code></p>\n<p><a href=\"https://i.stack.imgur.com/BPxl1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPxl1.png\" alt=\"enter image description here\" /></a></p>\n<p>Any possible causes or solutions to this issue ?</p>\n"},{"tags":["java","spring-webflux","http-proxy","reactor-netty","spring-webclient"],"comments":[{"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"score":1,"creation_date":1570606585,"post_id":58281220,"comment_id":102961143,"body_markdown":"Possible duplicate of [How can I support an HTTP Proxy using Spring 5 WebClient?](https://stackoverflow.com/questions/46979982/how-can-i-support-an-http-proxy-using-spring-5-webclient)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/46979982/how-can-i-support-an-http-proxy-using-spring-5-webclient\">How can I support an HTTP Proxy using Spring 5 WebClient?</a>"},{"owner":{"account_id":4931123,"reputation":157,"user_id":3970878,"display_name":"Md. Hasan Basri"},"score":0,"creation_date":1570675053,"post_id":58281220,"comment_id":102989893,"body_markdown":"@Isank Thanks you, today I modified the content a bit and tried to clarify my question a bit detail way mentioning some references.","body":"@Isank Thanks you, today I modified the content a bit and tried to clarify my question a bit detail way mentioning some references."},{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1570788771,"post_id":58281220,"comment_id":103033670,"body_markdown":"The quick answer is no. https://github.com/reactor/reactor-netty/issues/159","body":"The quick answer is no. <a href=\"https://github.com/reactor/reactor-netty/issues/159\" rel=\"nofollow noreferrer\">github.com/reactor/reactor-netty/issues/159</a>"}],"answers":[{"tags":[],"owner":{"account_id":6939776,"reputation":80,"user_id":5326546,"display_name":"SharifS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652444627,"creation_date":1652444627,"answer_id":72229564,"question_id":58281220,"body_markdown":"It seems this is still an open [issue][1] in netty.\r\n\r\nI faced the same issue recently and found an workaround which is using jetty-reactive-httpclient as WebClient&#39;s client connector.\r\n\r\nTo use jetty-reactive-httpclient, this dependency is needed:\r\n\r\n    &#39;org.eclipse.jetty:jetty-reactive-httpclient:1.1.11&#39;\r\n\r\nThen use `org.eclipse.jetty.client.HttpClient` instead of `reactor.netty.http.client.HttpClient` like below:\r\n\r\n    HttpClient httpClient = new HttpClient();\r\n    ProxyConfiguration proxyConfig = httpClient.getProxyConfiguration();\r\n    HttpProxy proxy = new HttpProxy(${proxy.host}, ${proxy.port});\r\n    proxyConfig.getProxies().add(proxy);\r\n    JettyClientHttpConnector jettyClientHttpConnector = new JettyClientHttpConnector(httpClient);\r\n    WebClient client = WebClient.builder().clientConnector(jettyClientHttpConnector).build();\r\n\r\n\r\n  [1]: https://github.com/netty/netty/issues/10475","title":"Is it possible to avoid calling CONNECT modifying HTTP proxy configuration while using WebClient?","body":"<p>It seems this is still an open <a href=\"https://github.com/netty/netty/issues/10475\" rel=\"nofollow noreferrer\">issue</a> in netty.</p>\n<p>I faced the same issue recently and found an workaround which is using jetty-reactive-httpclient as WebClient's client connector.</p>\n<p>To use jetty-reactive-httpclient, this dependency is needed:</p>\n<pre><code>'org.eclipse.jetty:jetty-reactive-httpclient:1.1.11'\n</code></pre>\n<p>Then use <code>org.eclipse.jetty.client.HttpClient</code> instead of <code>reactor.netty.http.client.HttpClient</code> like below:</p>\n<pre><code>HttpClient httpClient = new HttpClient();\nProxyConfiguration proxyConfig = httpClient.getProxyConfiguration();\nHttpProxy proxy = new HttpProxy(${proxy.host}, ${proxy.port});\nproxyConfig.getProxies().add(proxy);\nJettyClientHttpConnector jettyClientHttpConnector = new JettyClientHttpConnector(httpClient);\nWebClient client = WebClient.builder().clientConnector(jettyClientHttpConnector).build();\n</code></pre>\n"}],"owner":{"account_id":4931123,"reputation":157,"user_id":3970878,"display_name":"Md. Hasan Basri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1652444627,"creation_date":1570516580,"question_id":58281220,"body_markdown":"During the migration of `spring-web` to `spring-reactive-web`, we blocked by the implementation of `HTTP proxy` at the `WebClient` builder method.\r\n\r\nWe already tried below code snippet earlier, which is referenced at [How can I support an HTTP Proxy using Spring 5 WebClient?][1].\r\n\r\n```\r\nWebClient.Builder currentWebClient = WebClient.builder();\r\nif (StringUtils.isNotBlank(customRequest.getConnectionMap().get(GatewayConstants.PROXY_HOST))) {\r\n    HttpClient httpClient = HttpClient.create()\r\n             .tcpConfiguration(tcpClient -&gt;\r\n                                tcpClient.proxy(proxy -&gt; proxy.type(ProxyProvider.Proxy.HTTP).host(customRequest.getConnectionMap().get(GatewayConstants.PROXY_HOST)).port(Integer.valueOf(customRequest.getConnectionMap().get(GatewayConstants.PROXY_PORT)))));\r\n    ReactorClientHttpConnector connector = new ReactorClientHttpConnector(httpClient);\r\n    currentWebClient = currentWebClient.clientConnector(connector);\r\n}\r\n```\r\nFor the mentioned piece of code required to have TLS enabled proxy support. It try to establish a connection using HTTP-Connect method and for our case we are getting `status: 403 Forbidden`, as we don&#39;t have https support for now. To disable HTTPS features from httpClient I even tried `noSSL()` but it won&#39;t work for me,\r\n\r\n```\r\nHttpClient httpClient = HttpClient.create()\r\n                        .tcpConfiguration(tcpClient -&gt;\r\n                                tcpClient\r\n                                        .noSSL() \r\n                                        ...\r\n```\r\n\r\nNo matter I try enabling or disabling the SSL part from HTTP client, The network activity timeline looks the same, I mean for all the cases it invokes HTTP CONNECT method when I use a proxy.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBelow code looking good and help us calling API&#39;s nice but didn&#39;t find any standard way of associate `HTTP_PROXY (Without HTTP CONNECT method call)` configuration with it.\r\n\r\n```\r\nWebClient.Builder currentWebClient = WebClient.builder();\r\n\r\nMono&lt;CustomHttpResponse&gt; response = WebClient.builder().build()\r\n                    .method(HttpMethod.GET)\r\n                    .uri(url)\r\n                    .exchange()\r\n                    .flatMap(r -&gt; r.bodyToMono(String.class).flatMap(b -&gt; {\r\n                        customHttpResponse.setBodyMap(convertToMap(customRequest, b));\r\n                        return Mono.just(customHttpResponse);\r\n                    }))\r\n                    .timeout(Duration.ofMillis(10000))\r\n                    .doOnRequest(r -&gt; logger.info(&quot;BACKEND_CALL start&quot;))\r\n                    .doOnError(r -&gt; logger.info(&quot;BACKEND_CALL ERROR&quot;));\r\n```\r\n\r\nHere we&#39;re looking for a standard way of implementing HTTP call mechanism for \r\n`GET`, `POST`, `PUT` and `DELETE` HTTP methods using WebClient considering domain-specific `SOCKET_TIMEOUT`, `CONNECTION_TIMEOUT`, `HTTP_PROXY (Without HTTP CONNECT method call)`, `Number of RETRY` for some back-end call.\r\n\r\nFor the dependency part, the effective version for our WebClient coming from,\r\n`Gradle: org.springframework:spring-web:5.1.7.RELEASE`\r\n\r\n&lt;i&gt;Please feel free to comment below if you have any further query relevant to it.&lt;/i&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46979982/how-can-i-support-an-http-proxy-using-spring-5-webclient\r\n  [2]: https://i.stack.imgur.com/83hxq.jpg","title":"Is it possible to avoid calling CONNECT modifying HTTP proxy configuration while using WebClient?","body":"<p>During the migration of <code>spring-web</code> to <code>spring-reactive-web</code>, we blocked by the implementation of <code>HTTP proxy</code> at the <code>WebClient</code> builder method.</p>\n\n<p>We already tried below code snippet earlier, which is referenced at <a href=\"https://stackoverflow.com/questions/46979982/how-can-i-support-an-http-proxy-using-spring-5-webclient\">How can I support an HTTP Proxy using Spring 5 WebClient?</a>.</p>\n\n<pre><code>WebClient.Builder currentWebClient = WebClient.builder();\nif (StringUtils.isNotBlank(customRequest.getConnectionMap().get(GatewayConstants.PROXY_HOST))) {\n    HttpClient httpClient = HttpClient.create()\n             .tcpConfiguration(tcpClient -&gt;\n                                tcpClient.proxy(proxy -&gt; proxy.type(ProxyProvider.Proxy.HTTP).host(customRequest.getConnectionMap().get(GatewayConstants.PROXY_HOST)).port(Integer.valueOf(customRequest.getConnectionMap().get(GatewayConstants.PROXY_PORT)))));\n    ReactorClientHttpConnector connector = new ReactorClientHttpConnector(httpClient);\n    currentWebClient = currentWebClient.clientConnector(connector);\n}\n</code></pre>\n\n<p>For the mentioned piece of code required to have TLS enabled proxy support. It try to establish a connection using HTTP-Connect method and for our case we are getting <code>status: 403 Forbidden</code>, as we don't have https support for now. To disable HTTPS features from httpClient I even tried <code>noSSL()</code> but it won't work for me,</p>\n\n<pre><code>HttpClient httpClient = HttpClient.create()\n                        .tcpConfiguration(tcpClient -&gt;\n                                tcpClient\n                                        .noSSL() \n                                        ...\n</code></pre>\n\n<p>No matter I try enabling or disabling the SSL part from HTTP client, The network activity timeline looks the same, I mean for all the cases it invokes HTTP CONNECT method when I use a proxy.</p>\n\n<p><a href=\"https://i.stack.imgur.com/83hxq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/83hxq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Below code looking good and help us calling API's nice but didn't find any standard way of associate <code>HTTP_PROXY (Without HTTP CONNECT method call)</code> configuration with it.</p>\n\n<pre><code>WebClient.Builder currentWebClient = WebClient.builder();\n\nMono&lt;CustomHttpResponse&gt; response = WebClient.builder().build()\n                    .method(HttpMethod.GET)\n                    .uri(url)\n                    .exchange()\n                    .flatMap(r -&gt; r.bodyToMono(String.class).flatMap(b -&gt; {\n                        customHttpResponse.setBodyMap(convertToMap(customRequest, b));\n                        return Mono.just(customHttpResponse);\n                    }))\n                    .timeout(Duration.ofMillis(10000))\n                    .doOnRequest(r -&gt; logger.info(\"BACKEND_CALL start\"))\n                    .doOnError(r -&gt; logger.info(\"BACKEND_CALL ERROR\"));\n</code></pre>\n\n<p>Here we're looking for a standard way of implementing HTTP call mechanism for \n<code>GET</code>, <code>POST</code>, <code>PUT</code> and <code>DELETE</code> HTTP methods using WebClient considering domain-specific <code>SOCKET_TIMEOUT</code>, <code>CONNECTION_TIMEOUT</code>, <code>HTTP_PROXY (Without HTTP CONNECT method call)</code>, <code>Number of RETRY</code> for some back-end call.</p>\n\n<p>For the dependency part, the effective version for our WebClient coming from,\n<code>Gradle: org.springframework:spring-web:5.1.7.RELEASE</code></p>\n\n<p><i>Please feel free to comment below if you have any further query relevant to it.</i></p>\n"},{"tags":["java","eclipse","processing"],"comments":[{"owner":{"account_id":25113175,"reputation":321,"user_id":18962551,"display_name":"Eskapone"},"score":0,"creation_date":1651822576,"post_id":72135735,"comment_id":127459452,"body_markdown":"Have you tried exporting your application with processing? (You can do so on cli with &quot;...processing-3.5.4\\processing-java.exe&quot; --sketch=&quot;Path to project&quot; --force --export --platform &#39;windows&#39;&quot;). You could then look at the folder structure it generates and what&#39;s different from yours. Maybe exchange the processing generated jar with yours and see what happens (and maybe let us know).","body":"Have you tried exporting your application with processing? (You can do so on cli with &quot;...processing-3.5.4\\processing-java.exe&quot; --sketch=&quot;Path to project&quot; --force --export --platform &#39;windows&#39;&quot;). You could then look at the folder structure it generates and what&#39;s different from yours. Maybe exchange the processing generated jar with yours and see what happens (and maybe let us know)."},{"owner":{"account_id":22688776,"reputation":48,"user_id":16858002,"display_name":"turke1034"},"score":0,"creation_date":1652063200,"post_id":72135735,"comment_id":127506985,"body_markdown":"I have no knowledge of how the processing app works as I&#39;ve only ever used it as a library. When I created an empty sketch with the app it was noticeably different to my files, having much more jars than mine, and has a folder called java that has a plethora of files, with mine not having a java folder all.\nI&#39;m confused on what you&#39;re saying in the first bit, I tried opening the eclipse project with processing but it did not accept folders (or it)","body":"I have no knowledge of how the processing app works as I&#39;ve only ever used it as a library. When I created an empty sketch with the app it was noticeably different to my files, having much more jars than mine, and has a folder called java that has a plethora of files, with mine not having a java folder all. I&#39;m confused on what you&#39;re saying in the first bit, I tried opening the eclipse project with processing but it did not accept folders (or it)"}],"answers":[{"tags":[],"owner":{"account_id":25279343,"reputation":11,"user_id":19107431,"display_name":"Shivum B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652421099,"creation_date":1652421099,"answer_id":72224976,"question_id":72135735,"body_markdown":"had the same issue, so troubleshooted for a while until i found the following solution. i&#39;m assuming that you are using a data file similar to the data file in Processing projects to contain your dependencies.\r\n\r\nin Eclipse, export as a runnable jar and select the option &quot;Extract required libraries into generated JAR&quot;. once the jar is created, put this jar into a new folder. put your data folder into this folder as well. this worked for me.\r\n\r\nno idea why this works - just threw stuff at the wall until this stuck. one troubleshooting technique i used was making a printwriter before loading any data so i could see where the computer was searching for the dependencies. the snippet below outputs the file to the same place that Processing looks for data.\r\n\r\n\t\tPrintWriter pw = createWriter(dataPath(&quot;test.txt&quot;));\r\n\t\tpw.print(&quot;over here&quot;);\r\n\t\tpw.close();\r\n\r\ni used this in combination with dataPath(&quot;&quot;) to find that it was looking for dependencies outside of the jar.","title":"How to export to a runnable jar with Proccessing (Eclipse)","body":"<p>had the same issue, so troubleshooted for a while until i found the following solution. i'm assuming that you are using a data file similar to the data file in Processing projects to contain your dependencies.</p>\n<p>in Eclipse, export as a runnable jar and select the option &quot;Extract required libraries into generated JAR&quot;. once the jar is created, put this jar into a new folder. put your data folder into this folder as well. this worked for me.</p>\n<p>no idea why this works - just threw stuff at the wall until this stuck. one troubleshooting technique i used was making a printwriter before loading any data so i could see where the computer was searching for the dependencies. the snippet below outputs the file to the same place that Processing looks for data.</p>\n<pre><code>    PrintWriter pw = createWriter(dataPath(&quot;test.txt&quot;));\n    pw.print(&quot;over here&quot;);\n    pw.close();\n</code></pre>\n<p>i used this in combination with dataPath(&quot;&quot;) to find that it was looking for dependencies outside of the jar.</p>\n"},{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652443362,"creation_date":1652443362,"answer_id":72229293,"question_id":72135735,"body_markdown":"In the past ([older answer here][1]) I had success exporting runnable .jar projects from eclipse which use Processing&#39;s libraries by using the **Copy required libraries into a sub-folder next to the generated jar** option in **Runnable Jar File Export options**:\r\n\r\n[![eclipse export runnable jar export menu][2]][2]\r\n\r\n[![eclipse runnable jar file export options][3]][3]\r\n\r\nThis made it easier to debug java classpath issues (`-cp` flag when running from command line) and native library paths(`-D.java.library.path` command line flag).\r\n\r\nIf you&#39;re using java packages remember to specify them in `PApplet.main()`:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n        PApplet.main(ShooterGame.class.getCannonicalName());\r\n    }\r\n```\r\n\r\nThe above is useful only if you can&#39;t execute the jar files due to missing libraries (class not found, missing native libraries, etc.)\r\n\r\n\r\nRegarding loading external assets, as Shivoum B mentions, you can make use of [`dataPath()`][4] but also [sketchPath()][5].(See [this similar answer][6]).\r\nWithout seeing the path to the `loadImage()` call you&#39;re making I can only make assumptions, but you might be able to get away with something like this in ShooterGame.java:\r\n\r\n```java\r\nloadImage(sketchPath(&quot;data&quot; + File.separator + &quot;yourImageName.png&quot;);\r\n```\r\n\r\n(Off-topic, if I read this correctly you&#39;re trying to load images in `draw()` ?\r\nI&#39;d recommend loading all assets in `setup()` once instead of multiple times in `draw()`. A special case might be with the loading large assets that take time and using `P2D` or `P3D` where the OpenGL context setup might time out (in which you can load in `draw()` but should use a &quot;debouncing&quot; boolean to ensure assets are loaded only once)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15667973/how-to-get-my-program-to-run-outside-of-eclipse/15688065#15688065\r\n  [2]: https://i.stack.imgur.com/njBne.png\r\n  [3]: https://i.stack.imgur.com/TMv5h.png\r\n  [4]: https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#dataPath-java.lang.String-\r\n  [5]: https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#sketchPath-java.lang.String-\r\n  [6]: https://stackoverflow.com/questions/54000598/error-message-the-file-countries-geo-json-is-missing-or-inaccessible/54048109#54048109","title":"How to export to a runnable jar with Proccessing (Eclipse)","body":"<p>In the past (<a href=\"https://stackoverflow.com/questions/15667973/how-to-get-my-program-to-run-outside-of-eclipse/15688065#15688065\">older answer here</a>) I had success exporting runnable .jar projects from eclipse which use Processing's libraries by using the <strong>Copy required libraries into a sub-folder next to the generated jar</strong> option in <strong>Runnable Jar File Export options</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/njBne.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/njBne.png\" alt=\"eclipse export runnable jar export menu\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TMv5h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TMv5h.png\" alt=\"eclipse runnable jar file export options\" /></a></p>\n<p>This made it easier to debug java classpath issues (<code>-cp</code> flag when running from command line) and native library paths(<code>-D.java.library.path</code> command line flag).</p>\n<p>If you're using java packages remember to specify them in <code>PApplet.main()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        PApplet.main(ShooterGame.class.getCannonicalName());\n    }\n</code></pre>\n<p>The above is useful only if you can't execute the jar files due to missing libraries (class not found, missing native libraries, etc.)</p>\n<p>Regarding loading external assets, as Shivoum B mentions, you can make use of <a href=\"https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#dataPath-java.lang.String-\" rel=\"nofollow noreferrer\"><code>dataPath()</code></a> but also <a href=\"https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#sketchPath-java.lang.String-\" rel=\"nofollow noreferrer\">sketchPath()</a>.(See <a href=\"https://stackoverflow.com/questions/54000598/error-message-the-file-countries-geo-json-is-missing-or-inaccessible/54048109#54048109\">this similar answer</a>).\nWithout seeing the path to the <code>loadImage()</code> call you're making I can only make assumptions, but you might be able to get away with something like this in ShooterGame.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>loadImage(sketchPath(&quot;data&quot; + File.separator + &quot;yourImageName.png&quot;);\n</code></pre>\n<p>(Off-topic, if I read this correctly you're trying to load images in <code>draw()</code> ?\nI'd recommend loading all assets in <code>setup()</code> once instead of multiple times in <code>draw()</code>. A special case might be with the loading large assets that take time and using <code>P2D</code> or <code>P3D</code> where the OpenGL context setup might time out (in which you can load in <code>draw()</code> but should use a &quot;debouncing&quot; boolean to ensure assets are loaded only once)</p>\n"}],"owner":{"account_id":22688776,"reputation":48,"user_id":16858002,"display_name":"turke1034"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652443362,"creation_date":1651806456,"question_id":72135735,"body_markdown":"I have tried to export my processing applet to a runnable jar file from eclipse (which I am using to code it) and it exports successfully but when opened just causes a blank (grey) screen. If I run it with command prompt I get this error:\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;jarPath&quot; is null\r\n\r\nWhen I extracted the jar sample the folders and directories seem to be incorrect too.\r\n\r\n[before][1]\r\n(the dependencies are in the dependencies folder)\r\n\r\n[after][2]\r\n(the dependencies are outside of the now missing dependencies folder)\r\n\r\nI&#39;m sure its an issue with the file structuring on generation, more specifically the dependencies. when I run it as an application eclipse it runs perfectly fine with no exceptions.\r\n\r\nFull message:\r\n  \r\n\r\n&gt;     java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;jarPath&quot; is null\r\n&gt;             at processing.core.PApplet.dataFile(PApplet.java:7673)\r\n&gt;             at processing.core.PApplet.dataPath(PApplet.java:7650)\r\n&gt;             at processing.core.PApplet.createInputRaw(PApplet.java:6741)\r\n&gt;             at processing.core.PApplet.createInput(PApplet.java:6659)\r\n&gt;             at processing.core.PApplet.loadBytes(PApplet.java:6959)\r\n&gt;             at processing.awt.ShimAWT.loadImage(ShimAWT.java:384)\r\n&gt;             at processing.core.PSurfaceNone.loadImage(PSurfaceNone.java:61)\r\n&gt;             at processing.core.PApplet.loadImage(PApplet.java:5311)\r\n&gt;             at processing.core.PApplet.loadImage(PApplet.java:5296)\r\n&gt;             at net.turke1034.shootergame.game.ShooterGame.draw(ShooterGame.java:55)\r\n&gt;             at processing.core.PApplet.handleDraw(PApplet.java:2201)\r\n&gt;             at processing.awt.PSurfaceAWT$10.callDraw(PSurfaceAWT.java:1422)\r\n&gt;             at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:354)\r\n&gt;     java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;jarPath&quot; is null\r\n&gt;             at processing.core.PApplet.dataFile(PApplet.java:7673)\r\n&gt;             at processing.core.PApplet.dataPath(PApplet.java:7650)\r\n&gt;             at processing.core.PApplet.createInputRaw(PApplet.java:6741)\r\n&gt;             at processing.core.PApplet.createInput(PApplet.java:6659)\r\n&gt;             at processing.awt.ShimAWT.loadImageIO(ShimAWT.java:454)\r\n&gt;             at processing.awt.ShimAWT.loadImage(ShimAWT.java:439)\r\n&gt;             at processing.core.PSurfaceNone.loadImage(PSurfaceNone.java:61)\r\n&gt;             at processing.core.PApplet.loadImage(PApplet.java:5311)\r\n&gt;             at processing.core.PApplet.loadImage(PApplet.java:5296)\r\n&gt;             at net.turke1034.shootergame.game.ShooterGame.draw(ShooterGame.java:55)\r\n&gt;             at processing.core.PApplet.handleDraw(PApplet.java:2201)\r\n&gt;             at processing.awt.PSurfaceAWT$10.callDraw(PSurfaceAWT.java:1422)\r\n&gt;             at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:354)\r\n\r\nI have tried the same thing with a test project that requires no dependencies, and it runs as expected (when run in command prompt)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0sWIE.png\r\n  [2]: https://i.stack.imgur.com/iW0Sv.png","title":"How to export to a runnable jar with Proccessing (Eclipse)","body":"<p>I have tried to export my processing applet to a runnable jar file from eclipse (which I am using to code it) and it exports successfully but when opened just causes a blank (grey) screen. If I run it with command prompt I get this error:</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;jarPath&quot; is null</p>\n<p>When I extracted the jar sample the folders and directories seem to be incorrect too.</p>\n<p><a href=\"https://i.stack.imgur.com/0sWIE.png\" rel=\"nofollow noreferrer\">before</a>\n(the dependencies are in the dependencies folder)</p>\n<p><a href=\"https://i.stack.imgur.com/iW0Sv.png\" rel=\"nofollow noreferrer\">after</a>\n(the dependencies are outside of the now missing dependencies folder)</p>\n<p>I'm sure its an issue with the file structuring on generation, more specifically the dependencies. when I run it as an application eclipse it runs perfectly fine with no exceptions.</p>\n<p>Full message:</p>\n<blockquote>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;jarPath&quot; is null\n        at processing.core.PApplet.dataFile(PApplet.java:7673)\n        at processing.core.PApplet.dataPath(PApplet.java:7650)\n        at processing.core.PApplet.createInputRaw(PApplet.java:6741)\n        at processing.core.PApplet.createInput(PApplet.java:6659)\n        at processing.core.PApplet.loadBytes(PApplet.java:6959)\n        at processing.awt.ShimAWT.loadImage(ShimAWT.java:384)\n        at processing.core.PSurfaceNone.loadImage(PSurfaceNone.java:61)\n        at processing.core.PApplet.loadImage(PApplet.java:5311)\n        at processing.core.PApplet.loadImage(PApplet.java:5296)\n        at net.turke1034.shootergame.game.ShooterGame.draw(ShooterGame.java:55)\n        at processing.core.PApplet.handleDraw(PApplet.java:2201)\n        at processing.awt.PSurfaceAWT$10.callDraw(PSurfaceAWT.java:1422)\n        at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:354)\njava.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;jarPath&quot; is null\n        at processing.core.PApplet.dataFile(PApplet.java:7673)\n        at processing.core.PApplet.dataPath(PApplet.java:7650)\n        at processing.core.PApplet.createInputRaw(PApplet.java:6741)\n        at processing.core.PApplet.createInput(PApplet.java:6659)\n        at processing.awt.ShimAWT.loadImageIO(ShimAWT.java:454)\n        at processing.awt.ShimAWT.loadImage(ShimAWT.java:439)\n        at processing.core.PSurfaceNone.loadImage(PSurfaceNone.java:61)\n        at processing.core.PApplet.loadImage(PApplet.java:5311)\n        at processing.core.PApplet.loadImage(PApplet.java:5296)\n        at net.turke1034.shootergame.game.ShooterGame.draw(ShooterGame.java:55)\n        at processing.core.PApplet.handleDraw(PApplet.java:2201)\n        at processing.awt.PSurfaceAWT$10.callDraw(PSurfaceAWT.java:1422)\n        at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:354)\n</code></pre>\n</blockquote>\n<p>I have tried the same thing with a test project that requires no dependencies, and it runs as expected (when run in command prompt)</p>\n"},{"tags":["java","arrays","debugging","data-structures"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":1,"creation_date":1652434992,"post_id":72227445,"comment_id":127610664,"body_markdown":"If `i = 3`, then `i % 3` is `0`. That would mean your if statement becomes false and not true.","body":"If <code>i = 3</code>, then <code>i % 3</code> is <code>0</code>. That would mean your if statement becomes false and not true."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1652435069,"post_id":72227445,"comment_id":127610688,"body_markdown":"And since the if statement is false, that would explain the behavior you are seeing.","body":"And since the if statement is false, that would explain the behavior you are seeing."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1652435118,"post_id":72227445,"comment_id":127610712,"body_markdown":"Your `if` statement doesn&#39;t check `a[i] % 3 != 0` - it checks `i % 3 != 0`. In the first iteration `i` is 5 and `i % 3 != 0` is true. In the second iteration `i` is 3 and `i % 3 != 0` is false and therefore `i` is not decremented and `a[3]` gets printed.","body":"Your <code>if</code> statement doesn&#39;t check <code>a[i] % 3 != 0</code> - it checks <code>i % 3 != 0</code>. In the first iteration <code>i</code> is 5 and <code>i % 3 != 0</code> is true. In the second iteration <code>i</code> is 3 and <code>i % 3 != 0</code> is false and therefore <code>i</code> is not decremented and <code>a[3]</code> gets printed."},{"owner":{"account_id":19329624,"reputation":374,"user_id":14131521,"display_name":"xImperiak"},"score":0,"creation_date":1652435328,"post_id":72227445,"comment_id":127610766,"body_markdown":"```a%b``` is the modulo operator. It returns the reminder of ```a/b```","body":"<code>a%b</code> is the modulo operator. It returns the reminder of <code>a&#47;b</code>"},{"owner":{"account_id":2113493,"reputation":11858,"user_id":1878262,"display_name":"Sherif"},"score":0,"creation_date":1652435592,"post_id":72227445,"comment_id":127610884,"body_markdown":"Your problem is that you decrement `i` twice (_once as a result of the condition and again as an an unconditional part of your forloop_). Instead replace the `if` body with `continue`.","body":"Your problem is that you decrement <code>i</code> twice (<i>once as a result of the condition and again as an an unconditional part of your forloop</i>). Instead replace the <code>if</code> body with <code>continue</code>."}],"answers":[{"tags":[],"owner":{"account_id":3188602,"reputation":1,"user_id":2693512,"display_name":"Boaz Lev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652435530,"creation_date":1652435530,"answer_id":72227637,"question_id":72227445,"body_markdown":"In iteration 2, where i=3 the condition is false, since 3 % 3 = 0","title":"Logic of for loop using with array to access elements of the array in java","body":"<p>In iteration 2, where i=3 the condition is false, since 3 % 3 = 0</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652443326,"creation_date":1652442597,"answer_id":72229119,"question_id":72227445,"body_markdown":"Here is a step by step explanation. `(i % 3 != 0)` checks to see if `i is not divisible by 3`. Also note that in this context, your post and pre-decrements of `i` are not relevant as the outcome would be the same no matter how they are decremented.\r\n``` \r\n i = 5;\r\n i not divisible by 3 so i-- = 4\r\n print a[4] = 19\r\n i-- at end of loop = 3\r\n i is divisible by 3 so i remains 3\r\n print a[3] = 17\r\n i-- at end of loop = 2\r\n i not divisible by 3 so i-- = 1\r\n print a[1] = 15\r\n i-- = 0 so loop terminates.","title":"Logic of for loop using with array to access elements of the array in java","body":"<p>Here is a step by step explanation. <code>(i % 3 != 0)</code> checks to see if <code>i is not divisible by 3</code>. Also note that in this context, your post and pre-decrements of <code>i</code> are not relevant as the outcome would be the same no matter how they are decremented.</p>\n<pre><code> i = 5;\n i not divisible by 3 so i-- = 4\n print a[4] = 19\n i-- at end of loop = 3\n i is divisible by 3 so i remains 3\n print a[3] = 17\n i-- at end of loop = 2\n i not divisible by 3 so i-- = 1\n print a[1] = 15\n i-- = 0 so loop terminates.\n</code></pre>\n"}],"owner":{"account_id":21608329,"reputation":5,"user_id":15935364,"display_name":"AKSHAT MISHRA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72229119,"answer_count":2,"score":0,"last_activity_date":1652443326,"creation_date":1652434706,"question_id":72227445,"body_markdown":"My code to access elements of array using for loop. The output of the program is `[19,17,15]` which are the elements of array `int a[] = { 12, 15, 16, 17, 19, 23 }`. Output after following code is written:\r\n\r\n    public class Tester {\r\n        public static void main(String s[]) {\r\n            int a[] = { 12, 15, 16, 17, 19, 23 };\r\n    \t\tfor (int i = a.length - 1; i &gt; 0; i--) {\r\n    \t\t    if (i % 3 != 0) {\r\n    \t\t\t   \t--i;\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(a[i]);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n \r\nAlgorithm:\r\n1. Iteration 1: `i=5` so `a[5]=23`. &quot;if statement&quot; gets true and `--i` execute. so `i=4`. Hence, `a[4]=19` will get print as first element in output.\r\n\r\n2. Iteration 2: `i=3` so `a[3]=17`. &quot;if statement&quot; gets true again and `--i` should execute but it skips that condition as I tried using debugging tool to see how it is working. And output is `a[3]=17` which is wrong I think.\r\n\r\nCould you help me in understanding why it gives 17 as output? As in my opinion it should skip that part.\r\n ","title":"Logic of for loop using with array to access elements of the array in java","body":"<p>My code to access elements of array using for loop. The output of the program is <code>[19,17,15]</code> which are the elements of array <code>int a[] = { 12, 15, 16, 17, 19, 23 }</code>. Output after following code is written:</p>\n<pre><code>public class Tester {\n    public static void main(String s[]) {\n        int a[] = { 12, 15, 16, 17, 19, 23 };\n        for (int i = a.length - 1; i &gt; 0; i--) {\n            if (i % 3 != 0) {\n                --i;\n            }\n            System.out.println(a[i]);\n        }\n    }\n}\n</code></pre>\n<p>Algorithm:</p>\n<ol>\n<li><p>Iteration 1: <code>i=5</code> so <code>a[5]=23</code>. &quot;if statement&quot; gets true and <code>--i</code> execute. so <code>i=4</code>. Hence, <code>a[4]=19</code> will get print as first element in output.</p>\n</li>\n<li><p>Iteration 2: <code>i=3</code> so <code>a[3]=17</code>. &quot;if statement&quot; gets true again and <code>--i</code> should execute but it skips that condition as I tried using debugging tool to see how it is working. And output is <code>a[3]=17</code> which is wrong I think.</p>\n</li>\n</ol>\n<p>Could you help me in understanding why it gives 17 as output? As in my opinion it should skip that part.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652442889,"creation_date":1652442889,"answer_id":72229176,"question_id":72229057,"body_markdown":"&gt; I received the following results:\r\n\r\n&gt;     1, 10, 100, 101, 102\r\n\r\nThat&#39;s the expected behavior since most likely you&#39;re storing those values as strings and **not** as numbers. Bear in mind that when ordering strings, the order is [lexicographical][1]. For example, 10 is placed before 2. See an example below:\r\n\r\n&gt; 1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 2, 20, 21, 3\r\n\r\n&gt; Is there really any way to get the result in ascending order of document Ids?\r\n\r\nYes, the single option that you have is to change the type of the field to be number and **not** string. Or, check my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/46647150/how-to-order-the-nodes-in-firebase-console-based-on-key\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Lexicographic_order","title":"Firestore Query Default Order","body":"<blockquote>\n<p>I received the following results:</p>\n</blockquote>\n<blockquote>\n<pre><code>1, 10, 100, 101, 102\n</code></pre>\n</blockquote>\n<p>That's the expected behavior since most likely you're storing those values as strings and <strong>not</strong> as numbers. Bear in mind that when ordering strings, the order is <a href=\"https://en.wikipedia.org/wiki/Lexicographic_order\" rel=\"nofollow noreferrer\">lexicographical</a>. For example, 10 is placed before 2. See an example below:</p>\n<blockquote>\n<p>1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 2, 20, 21, 3</p>\n</blockquote>\n<blockquote>\n<p>Is there really any way to get the result in ascending order of document Ids?</p>\n</blockquote>\n<p>Yes, the single option that you have is to change the type of the field to be number and <strong>not</strong> string. Or, check my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46647150/how-to-order-the-nodes-in-firebase-console-based-on-key\">How to order the nodes in firebase console based on key</a></li>\n</ul>\n"}],"owner":{"account_id":9038214,"reputation":2416,"user_id":6733315,"accept_rate":62,"display_name":"beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72229176,"answer_count":1,"score":1,"last_activity_date":1652442932,"creation_date":1652442355,"question_id":72229057,"body_markdown":"The following is stated in the official [documentation][1]:\r\n\r\n&gt; By default, a query retrieves all documents that satisfy the query in ascending order by document ID. You can specify the sort order for your data using orderBy(), and you can limit the number of documents retrieved using the limit().\r\n\r\n\r\nBut I found the above statement false. I have stored the document ids as increment numbers `1,2,3...`\r\n\r\nBut when I fetched the document IDs by the following code.\r\n    \r\n \r\n\r\n    firebaseFirestore.collection(documentPathOnFireStore).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    for(DocumentSnapshot documentSnapshot : task.getResult().getDocuments()){\r\n                        documentsIds += documentSnapshot.getId() + &quot;,&quot;\r\n                    }\r\n             }});\r\n\r\n\r\nI received the following results \r\n\r\n`1, 10, 100, 101, 102....`\r\n\r\n\r\nIs there really any way to get the result in ascending order of document Ids?\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/order-limit-data","title":"Firestore Query Default Order","body":"<p>The following is stated in the official <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>By default, a query retrieves all documents that satisfy the query in ascending order by document ID. You can specify the sort order for your data using orderBy(), and you can limit the number of documents retrieved using the limit().</p>\n</blockquote>\n<p>But I found the above statement false. I have stored the document ids as increment numbers <code>1,2,3...</code></p>\n<p>But when I fetched the document IDs by the following code.</p>\n<pre><code>firebaseFirestore.collection(documentPathOnFireStore).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                for(DocumentSnapshot documentSnapshot : task.getResult().getDocuments()){\n                    documentsIds += documentSnapshot.getId() + &quot;,&quot;\n                }\n         }});\n</code></pre>\n<p>I received the following results</p>\n<p><code>1, 10, 100, 101, 102....</code></p>\n<p>Is there really any way to get the result in ascending order of document Ids?</p>\n"},{"tags":["java","selenium","selenium-webdriver","screenshot"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1652439037,"post_id":72227886,"comment_id":127612053,"body_markdown":"Can you please post complete stack trace?","body":"Can you please post complete stack trace?"},{"owner":{"account_id":25281173,"reputation":11,"user_id":19109042,"display_name":"Surendra Anand"},"score":0,"creation_date":1652441710,"post_id":72227886,"comment_id":127612958,"body_markdown":"Sorry, I&#39;m a newbie to programming. Could you please explain a little more?","body":"Sorry, I&#39;m a newbie to programming. Could you please explain a little more?"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1652442085,"post_id":72227886,"comment_id":127613067,"body_markdown":"The *error* you are getting is just the first line of the stack trace. What I am requesting is that you edit your question and include in the post the whole stack trace (that is, all the output lines of the failing program).","body":"The <i>error</i> you are getting is just the first line of the stack trace. What I am requesting is that you edit your question and include in the post the whole stack trace (that is, all the output lines of the failing program)."},{"owner":{"account_id":25281173,"reputation":11,"user_id":19109042,"display_name":"Surendra Anand"},"score":0,"creation_date":1652442369,"post_id":72227886,"comment_id":127613149,"body_markdown":"I&#39;ve just updated it, mate","body":"I&#39;ve just updated it, mate"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1652442569,"post_id":72227886,"comment_id":127613216,"body_markdown":"Ok then, thank you. I thought the stack trace may help me (or someone else) to suggest a solution to you, but I can&#39;t seem to be able to find out the cause of your problem. Sorry.","body":"Ok then, thank you. I thought the stack trace may help me (or someone else) to suggest a solution to you, but I can&#39;t seem to be able to find out the cause of your problem. Sorry."}],"owner":{"account_id":25281173,"reputation":11,"user_id":19109042,"display_name":"Surendra Anand"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652442351,"creation_date":1652436681,"question_id":72227886,"body_markdown":"When I try to take screenshot using the Robot Class. I&#39;m getting \r\n\r\n    javax.imageio.IIOException: Can&#39;t create an ImageOutputStream!\r\n\r\nerror:\r\n\r\nCode Snippet:\r\n\r\n        public  static void  takeScreenshot() throws AWTException, IOException {\r\n\t\tDateFormat dateFormatFolder=new SimpleDateFormat(&quot;DD-MM-YYYY&quot;);\r\n\t\tDateFormat dateFormatFile=new SimpleDateFormat(&quot;DD-MM-YYYY hh-mm-ss&quot;);\r\n\t\tDate date=new Date();\r\n\t\t\r\n\t\tRobot robot=new Robot();\r\n\t\tDimension screenDimension=Toolkit.getDefaultToolkit().getScreenSize();\r\n\t\tRectangle rectangle=new Rectangle(screenDimension);\r\n\t\tBufferedImage sourceImage=robot.createScreenCapture(rectangle);\r\n\t\tFile dest=new File(&quot;C:\\\\Users\\\\surendraanand.ramas\\\\eclipse-workspace (Local)\\\\CaseStudy\\\\Output\\\\&quot;+dateFormatFolder.format(date)+&quot;\\\\&quot;+&quot;Screesnhot - &quot;+dateFormatFile.format(date)+&quot;.jpeg&quot;);\r\n\t\t\r\n\t\tImageIO.write(sourceImage, &quot;jpeg&quot;, dest);\r\n\t\t\r\n\t}\r\n\r\nNote: if I remove the `dateFormatFolder.format(date)` it works. Not sure what I&#39;m missing.\r\n\r\n\r\n    javax.imageio.IIOException: Can&#39;t create an ImageOutputStream!\r\n    \tat java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1553)\r\n    \tat com.dummy.NewTest.mainTest(NewTest.java:49)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n    \tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:596)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n","title":"Unable to save the screenshot in Selenium using Robot class","body":"<p>When I try to take screenshot using the Robot Class. I'm getting</p>\n<pre><code>javax.imageio.IIOException: Can't create an ImageOutputStream!\n</code></pre>\n<p>error:</p>\n<p>Code Snippet:</p>\n<pre><code>    public  static void  takeScreenshot() throws AWTException, IOException {\n    DateFormat dateFormatFolder=new SimpleDateFormat(&quot;DD-MM-YYYY&quot;);\n    DateFormat dateFormatFile=new SimpleDateFormat(&quot;DD-MM-YYYY hh-mm-ss&quot;);\n    Date date=new Date();\n    \n    Robot robot=new Robot();\n    Dimension screenDimension=Toolkit.getDefaultToolkit().getScreenSize();\n    Rectangle rectangle=new Rectangle(screenDimension);\n    BufferedImage sourceImage=robot.createScreenCapture(rectangle);\n    File dest=new File(&quot;C:\\\\Users\\\\surendraanand.ramas\\\\eclipse-workspace (Local)\\\\CaseStudy\\\\Output\\\\&quot;+dateFormatFolder.format(date)+&quot;\\\\&quot;+&quot;Screesnhot - &quot;+dateFormatFile.format(date)+&quot;.jpeg&quot;);\n    \n    ImageIO.write(sourceImage, &quot;jpeg&quot;, dest);\n    \n}\n</code></pre>\n<p>Note: if I remove the <code>dateFormatFolder.format(date)</code> it works. Not sure what I'm missing.</p>\n<pre><code>javax.imageio.IIOException: Can't create an ImageOutputStream!\n    at java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1553)\n    at com.dummy.NewTest.mainTest(NewTest.java:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n"},{"tags":["java","android","xml","scrollview","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":10641346,"reputation":1,"user_id":7836250,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652365810,"creation_date":1652365810,"answer_id":72217475,"question_id":72217293,"body_markdown":"I think you should remove `app:layout_constraintBottom_toBottomOf=&quot;parent&quot;` from the ImageView and you will be fine","title":"ScrollView too long therefore produce white borders","body":"<p>I think you should remove <code>app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</code> from the ImageView and you will be fine</p>\n"},{"tags":[],"owner":{"account_id":23147519,"reputation":77,"user_id":17250074,"display_name":"Symtox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652441955,"creation_date":1652441955,"answer_id":72228981,"question_id":72217293,"body_markdown":"As mentioned Jack, app:layout_constraintBottom_toBottomOf=&quot;parent&quot; is a mistake but after correcting it, nothing changed. (Idk why I can&#39;t edit my original post)","title":"ScrollView too long therefore produce white borders","body":"<p>As mentioned Jack, app:layout_constraintBottom_toBottomOf=&quot;parent&quot; is a mistake but after correcting it, nothing changed. (Idk why I can't edit my original post)</p>\n"}],"owner":{"account_id":23147519,"reputation":77,"user_id":17250074,"display_name":"Symtox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652441955,"creation_date":1652365082,"question_id":72217293,"body_markdown":"I&#39;m still working on my android application and I still struggle with XML ans scroll views.\r\nI want to display an AlertDialog which contains:\r\n - A JPEG image a the top of the window\r\n - two EditText under the picture, at the same Y coordinate.\r\n (and both the negative and positive button of the dialog which seem to work fine)\r\nthe JPEG is coming from the camera and is quite big to display it in a dialog and hide the two EditText. I decided to embed this in a scrollView to allow the user to scroll if the picture gets too big for the display.\r\n\r\nThe probleme is that now I can display everything thanks to the scroll but I now have white horizontal bars which are useless and look really bad on some devices.\r\n\r\nHere&#39;s the code to display the Dialog:\r\n\r\n            LayoutInflater inflater = LayoutInflater.from(this);\r\n        View inflated = inflater.inflate(R.layout.dialog_modify_picture, null);\r\n        ImageView pictureIV = inflated.findViewById(R.id.picturePrint);\r\n        pictureIV.setImageURI(FileProvider.getUriForFile(\r\n                this,\r\n                BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\r\n                 new File(this.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot;+ p.getPath()+p.getIdentifier()+&quot;.jpeg&quot;)));\r\n\r\n        TextView pTV = inflated.findViewById(R.id.pictureTV);\r\n        pTV.setText(p.getIdentifier()+ &quot;.jpeg&quot;);\r\n        pTV.requestFocus();\r\n\r\n        EditText yET = inflated.findViewById(R.id.yPictureET);\r\n        yET.setBackgroundColor(Color.argb(25, 65, 108, 174));\r\n        yET.setText(((Float)p.getY()).toString());\r\n\r\n        EditText xET = inflated.findViewById(R.id.xPictureET);\r\n        xET.setBackgroundColor(Color.argb(25, 65, 108, 174));\r\n        xET.setText(((Float)p.getX()).toString());\r\n\r\n\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n        builder.setNegativeButton(&quot;Annuler&quot;, (DialogInterface dialog, int which) -&gt; {});\r\n        builder.setPositiveButton(&quot;Ok&quot;, (DialogInterface dialog, int which) -&gt; {\r\n            try {\r\n                p.setX(Float.parseFloat(xET.getText().toString()));\r\n            } catch (NumberFormatException ignored) {}\r\n\r\n            try {\r\n                p.setY(Float.parseFloat(yET.getText().toString()));\r\n            } catch (NumberFormatException ignored) {}\r\n\r\n            new PictureDAO(this).update(p);\r\n        });\r\n        builder.setView(inflated);\r\n        builder.show();\r\n\r\nAnd here&#39;s the XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/picturePrint&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/xPictureET&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:inputType=&quot;numberDecimal&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/pictureTV&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/yPictureET&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:inputType=&quot;numberDecimal&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/xPictureET&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/pictureTV&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/pictureTV&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                android:text=&quot;&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/picturePrint&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nFinally here&#39;s the white bar (there&#39;s another one under the picture)\r\n[GoCheckTheWhiteBars][1]\r\nI&#39;d like to remove the white bars so the image can be on the very top of the dialog\r\n\r\n  [1]: https://i.stack.imgur.com/ML826.png\r\n\r\nThx for reading me :)","title":"ScrollView too long therefore produce white borders","body":"<p>I'm still working on my android application and I still struggle with XML ans scroll views.\nI want to display an AlertDialog which contains:</p>\n<ul>\n<li>A JPEG image a the top of the window</li>\n<li>two EditText under the picture, at the same Y coordinate.\n(and both the negative and positive button of the dialog which seem to work fine)\nthe JPEG is coming from the camera and is quite big to display it in a dialog and hide the two EditText. I decided to embed this in a scrollView to allow the user to scroll if the picture gets too big for the display.</li>\n</ul>\n<p>The probleme is that now I can display everything thanks to the scroll but I now have white horizontal bars which are useless and look really bad on some devices.</p>\n<p>Here's the code to display the Dialog:</p>\n<pre><code>        LayoutInflater inflater = LayoutInflater.from(this);\n    View inflated = inflater.inflate(R.layout.dialog_modify_picture, null);\n    ImageView pictureIV = inflated.findViewById(R.id.picturePrint);\n    pictureIV.setImageURI(FileProvider.getUriForFile(\n            this,\n            BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\n             new File(this.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot;+ p.getPath()+p.getIdentifier()+&quot;.jpeg&quot;)));\n\n    TextView pTV = inflated.findViewById(R.id.pictureTV);\n    pTV.setText(p.getIdentifier()+ &quot;.jpeg&quot;);\n    pTV.requestFocus();\n\n    EditText yET = inflated.findViewById(R.id.yPictureET);\n    yET.setBackgroundColor(Color.argb(25, 65, 108, 174));\n    yET.setText(((Float)p.getY()).toString());\n\n    EditText xET = inflated.findViewById(R.id.xPictureET);\n    xET.setBackgroundColor(Color.argb(25, 65, 108, 174));\n    xET.setText(((Float)p.getX()).toString());\n\n\n\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\n    builder.setNegativeButton(&quot;Annuler&quot;, (DialogInterface dialog, int which) -&gt; {});\n    builder.setPositiveButton(&quot;Ok&quot;, (DialogInterface dialog, int which) -&gt; {\n        try {\n            p.setX(Float.parseFloat(xET.getText().toString()));\n        } catch (NumberFormatException ignored) {}\n\n        try {\n            p.setY(Float.parseFloat(yET.getText().toString()));\n        } catch (NumberFormatException ignored) {}\n\n        new PictureDAO(this).update(p);\n    });\n    builder.setView(inflated);\n    builder.show();\n</code></pre>\n<p>And here's the XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:focusableInTouchMode=&quot;true&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;ScrollView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/picturePrint&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/xPictureET&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:inputType=&quot;numberDecimal&quot;\n            android:padding=&quot;10dp&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/pictureTV&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/yPictureET&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:inputType=&quot;numberDecimal&quot;\n            android:padding=&quot;10dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/xPictureET&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/pictureTV&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/pictureTV&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:padding=&quot;10dp&quot;\n            android:text=&quot;&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/picturePrint&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Finally here's the white bar (there's another one under the picture)\n<a href=\"https://i.stack.imgur.com/ML826.png\" rel=\"nofollow noreferrer\">GoCheckTheWhiteBars</a>\nI'd like to remove the white bars so the image can be on the very top of the dialog</p>\n<p>Thx for reading me :)</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652441787,"creation_date":1652441787,"answer_id":72228937,"question_id":72228738,"body_markdown":"Using `ThreadLocal&lt;Long&gt; endTime` completely defeats the purpose of your value. Each thread has it&#39;s own value. So your start your &quot;Timer&quot; in that run loop there is `endTime.get()` which returns the value for your timer thread. \r\n\r\nIf from another thread you call `endTime.set(...)` it will set the value for **the other thread** that you call the method from. Not your Timer thread.\r\n\r\nMaybe you want an [AtomicLong](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html);","title":"Java cant edit thread stopwatch timeout","body":"<p>Using <code>ThreadLocal&lt;Long&gt; endTime</code> completely defeats the purpose of your value. Each thread has it's own value. So your start your &quot;Timer&quot; in that run loop there is <code>endTime.get()</code> which returns the value for your timer thread.</p>\n<p>If from another thread you call <code>endTime.set(...)</code> it will set the value for <strong>the other thread</strong> that you call the method from. Not your Timer thread.</p>\n<p>Maybe you want an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html\" rel=\"nofollow noreferrer\">AtomicLong</a>;</p>\n"}],"owner":{"account_id":21220775,"reputation":35,"user_id":15607404,"display_name":"konselik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72228937,"answer_count":1,"score":1,"last_activity_date":1652441787,"creation_date":1652440846,"question_id":72228738,"body_markdown":"Hey I created this code for timeout in my tcp communication, but after I run thread, I can&#39;t change the end time? any ideas?\r\n```java\r\npublic class Timer extends Thread{\r\n    ThreadLocal&lt;Long&gt; endTime= new ThreadLocal&lt;&gt;() {\r\n        @Override\r\n        public Long initialValue() {\r\n            return System.currentTimeMillis()+1000;\r\n        }\r\n    };\r\n\r\n    private Client client;\r\n\r\n    public void resetTimer(){\r\n        endTime.set((System.currentTimeMillis())+1000);\r\n    }\r\n\r\n    Timer(Client client){\r\n        this.client=client;\r\n        endTime.set(System.currentTimeMillis()+1000);\r\n    }\r\n\r\n    public void run() {\r\n        while (true) {\r\n            if (endTime.get()&lt;System.currentTimeMillis()) {\r\n                client.endTimeout();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nWell I can, but in the actual if the value stays initial?\r\n","title":"Java cant edit thread stopwatch timeout","body":"<p>Hey I created this code for timeout in my tcp communication, but after I run thread, I can't change the end time? any ideas?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Timer extends Thread{\n    ThreadLocal&lt;Long&gt; endTime= new ThreadLocal&lt;&gt;() {\n        @Override\n        public Long initialValue() {\n            return System.currentTimeMillis()+1000;\n        }\n    };\n\n    private Client client;\n\n    public void resetTimer(){\n        endTime.set((System.currentTimeMillis())+1000);\n    }\n\n    Timer(Client client){\n        this.client=client;\n        endTime.set(System.currentTimeMillis()+1000);\n    }\n\n    public void run() {\n        while (true) {\n            if (endTime.get()&lt;System.currentTimeMillis()) {\n                client.endTimeout();\n                return;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Well I can, but in the actual if the value stays initial?</p>\n"},{"tags":["java","android","mapbox","mapbox-android"],"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":1,"creation_date":1652218269,"post_id":72192627,"comment_id":127552710,"body_markdown":"I don&#39;t know about map box but the way to calculate the distance between a point and a line is to write the line equation as ax + by +c = D. If x,y is on the line the D will be 0. If it isn&#39;t it will be your distance.\n\nTo get the equation of the line you need to rewrite the equation in the form ax+by+c=0 and you can get started.","body":"I don&#39;t know about map box but the way to calculate the distance between a point and a line is to write the line equation as ax + by +c = D. If x,y is on the line the D will be 0. If it isn&#39;t it will be your distance.  To get the equation of the line you need to rewrite the equation in the form ax+by+c=0 and you can get started."},{"owner":{"account_id":21192690,"reputation":335,"user_id":15584866,"display_name":"patpatwithhat"},"score":0,"creation_date":1652252593,"post_id":72192627,"comment_id":127558399,"body_markdown":"Thanks, I already know that. I hoped for some included functions, making my life easier.","body":"Thanks, I already know that. I hoped for some included functions, making my life easier."}],"answers":[{"tags":[],"owner":{"account_id":2058425,"reputation":311,"user_id":1835596,"display_name":"Etherlind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652441499,"creation_date":1652439917,"answer_id":72228571,"question_id":72192627,"body_markdown":"You have some Turf.js (a geospatial analysis library) methods ported to Android:\r\nhttps://docs.mapbox.com/android/java/guides/turf/\r\n\r\n 1. Use `TurfMisc.nearestPointOnLine()` with the line and the user location as an input\r\n 2. Then use `TurfMeasurement.distance()` between the two points\r\n\r\n \r\n","title":"Calculate distance point to line","body":"<p>You have some Turf.js (a geospatial analysis library) methods ported to Android:\n<a href=\"https://docs.mapbox.com/android/java/guides/turf/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/java/guides/turf/</a></p>\n<ol>\n<li>Use <code>TurfMisc.nearestPointOnLine()</code> with the line and the user location as an input</li>\n<li>Then use <code>TurfMeasurement.distance()</code> between the two points</li>\n</ol>\n"}],"owner":{"account_id":21192690,"reputation":335,"user_id":15584866,"display_name":"patpatwithhat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72228571,"answer_count":1,"score":2,"last_activity_date":1652441499,"creation_date":1652214834,"question_id":72192627,"body_markdown":"I&#39;m using Mapbox for Android Java and need to calculate the distance between a drawn line defined by start and endpoint to the users current location.&lt;br&gt;\r\nAny idea on how to implement that with mapbox? ","title":"Calculate distance point to line","body":"<p>I'm using Mapbox for Android Java and need to calculate the distance between a drawn line defined by start and endpoint to the users current location.<br>\nAny idea on how to implement that with mapbox?</p>\n"},{"tags":["java","selenium","selenium-webdriver","action","mouse"],"answers":[{"tags":[],"owner":{"account_id":25174329,"reputation":1,"user_id":19016756,"display_name":"istacklongtime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652441289,"creation_date":1652316418,"answer_id":72208964,"question_id":72088848,"body_markdown":"Unfortunately, Drag &amp; Drop is currently not working.  \r\nFor more information see the issue [w3c/webdriver#1488](https://github.com/w3c/webdriver/issues/1488).","title":"Actions Selenium Java mouse action drag and drop not working when cursor type changes after clickandhold","body":"<p>Unfortunately, Drag &amp; Drop is currently not working.<br />\nFor more information see the issue <a href=\"https://github.com/w3c/webdriver/issues/1488\" rel=\"nofollow noreferrer\">w3c/webdriver#1488</a>.</p>\n"}],"owner":{"account_id":25174329,"reputation":1,"user_id":19016756,"display_name":"istacklongtime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652441289,"creation_date":1651504910,"question_id":72088848,"body_markdown":"\r\nActions Selenium Java mouse action drag and drop not working when cursor type changes after clickandhold\r\n\r\nUse case: \r\n1. Mouse cursor type: Pointer\r\n2. Move to source element.\r\n3. click and hold with mouse cursor type: changing to a rectangle block.\r\n4. Move to target element and release.\r\n\r\n\r\nStart Code snippet:\r\n\r\n    import org.openqa.selenium.interactions.Action;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    \r\n    builder.moveToElement(fromWebElement).clickAndHold().moveToElement(toWebElement).perform();\r\n    \r\n    Thread.sleep(2000);\r\n    \r\n    builder.moveToElement(toWebElement).release().build().perform();\r\n\r\nor:\r\n\r\n    builder.moveToElement(fromWebElement).dragAndDrop(fromWebElement,toWebElement).clickAndHold().build().perform();\r\n\r\nend Code snippet:\r\n\r\n\r\nThe Above 2 code versions do not work fully.\r\nThe mouse pointer moves to the source element and clicks on draggable element as I notice the cursor type change to rectangle block to confirm click and hold. \r\nBut the action of moving to the target element with a draggable element does not happen. \r\nIf I manually move the mouse the cursor type changes back to the pointer and I see the pointer move to the target element without the draggable element.\r\n\r\n\r\n","title":"Actions Selenium Java mouse action drag and drop not working when cursor type changes after clickandhold","body":"<p>Actions Selenium Java mouse action drag and drop not working when cursor type changes after clickandhold</p>\n<p>Use case:</p>\n<ol>\n<li>Mouse cursor type: Pointer</li>\n<li>Move to source element.</li>\n<li>click and hold with mouse cursor type: changing to a rectangle block.</li>\n<li>Move to target element and release.</li>\n</ol>\n<p>Start Code snippet:</p>\n<pre><code>import org.openqa.selenium.interactions.Action;\nimport org.openqa.selenium.interactions.Actions;\n\n\nbuilder.moveToElement(fromWebElement).clickAndHold().moveToElement(toWebElement).perform();\n\nThread.sleep(2000);\n\nbuilder.moveToElement(toWebElement).release().build().perform();\n</code></pre>\n<p>or:</p>\n<pre><code>builder.moveToElement(fromWebElement).dragAndDrop(fromWebElement,toWebElement).clickAndHold().build().perform();\n</code></pre>\n<p>end Code snippet:</p>\n<p>The Above 2 code versions do not work fully.\nThe mouse pointer moves to the source element and clicks on draggable element as I notice the cursor type change to rectangle block to confirm click and hold.\nBut the action of moving to the target element with a draggable element does not happen.\nIf I manually move the mouse the cursor type changes back to the pointer and I see the pointer move to the target element without the draggable element.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1652441234,"post_id":72228498,"comment_id":127612787,"body_markdown":"btw your use of `public volatile int[] count={0};` to get a writeable-int isn&#39;t thread-safe. Your `count[0] = count[0] + 1` aren&#39;t guaranteed to be atomic, so it&#39;s possible that the value never reaches 40 even though both your loops do 20 passes each. You should use `AtomicInteger count` and `count.incrementAndGet()`","body":"btw your use of <code>public volatile int[] count={0};</code> to get a writeable-int isn&#39;t thread-safe. Your <code>count[0] = count[0] + 1</code> aren&#39;t guaranteed to be atomic, so it&#39;s possible that the value never reaches 40 even though both your loops do 20 passes each. You should use <code>AtomicInteger count</code> and <code>count.incrementAndGet()</code>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1652445591,"post_id":72228498,"comment_id":127614323,"body_markdown":"The answers below are correct, but here&#39;s another way of looking at it: https://stackoverflow.com/a/33375616/801894 TLDR: `run()` is a method that _you_ wrote. Calling `run()` is no different from calling any other method that you wrote. `start()` is provided by the Java library, and it does something magic: It launches a new thread, and the new thread calls the `run()` method that you wrote.","body":"The answers below are correct, but here&#39;s another way of looking at it: <a href=\"https://stackoverflow.com/a/33375616/801894\">stackoverflow.com/a/33375616/801894</a> TLDR: <code>run()</code> is a method that <i>you</i> wrote. Calling <code>run()</code> is no different from calling any other method that you wrote. <code>start()</code> is provided by the Java library, and it does something magic: It launches a new thread, and the new thread calls the <code>run()</code> method that you wrote."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1652965482,"post_id":72228498,"comment_id":127738960,"body_markdown":"Reading this again I do not agree: Just because some code is what I provide would not mean I should not call that method. What is the thread &#39;s payload is coming from some other party? I did not write it - yet I should not call it.","body":"Reading this again I do not agree: Just because some code is what I provide would not mean I should not call that method. What is the thread &#39;s payload is coming from some other party? I did not write it - yet I should not call it."}],"answers":[{"tags":[],"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652440490,"creation_date":1652440090,"answer_id":72228599,"question_id":72228498,"body_markdown":"`Thread.run()`, which you are calling in `increaseByThread()` runs the Thread&#39;s `Runnable` **in the current thread**. I think you have confused it with `Thread.start()`, which starts a new thread to run the `Runnable`.\r\n\r\nSee https://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run and https://stackoverflow.com/questions/262816/when-would-you-call-javas-thread-run-instead-of-thread-start","title":"Java : Are sub threads lock the main thread?","body":"<p><code>Thread.run()</code>, which you are calling in <code>increaseByThread()</code> runs the Thread's <code>Runnable</code> <strong>in the current thread</strong>. I think you have confused it with <code>Thread.start()</code>, which starts a new thread to run the <code>Runnable</code>.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run\">What&#39;s the difference between Thread start() and Runnable run()</a> and <a href=\"https://stackoverflow.com/questions/262816/when-would-you-call-javas-thread-run-instead-of-thread-start\">When would you call java&#39;s thread.run() instead of thread.start()?</a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652440115,"creation_date":1652440115,"answer_id":72228606,"question_id":72228498,"body_markdown":"You have not started any new thread yet.\r\n\r\nEach thread needs to run something. That is it&#39;s run method. But by invoking `thread.run` you just execute that code on the calling thread, which is your main thread.\r\n\r\nInstead you need to start the new thread using `thread.start()`. This function will return immediately, and the newly created thread will execute run() in parallel.\r\n\r\nSince you were running everything on the main thread the perception is right that the main thread was blocked until all the runs finished.","title":"Java : Are sub threads lock the main thread?","body":"<p>You have not started any new thread yet.</p>\n<p>Each thread needs to run something. That is it's run method. But by invoking <code>thread.run</code> you just execute that code on the calling thread, which is your main thread.</p>\n<p>Instead you need to start the new thread using <code>thread.start()</code>. This function will return immediately, and the newly created thread will execute run() in parallel.</p>\n<p>Since you were running everything on the main thread the perception is right that the main thread was blocked until all the runs finished.</p>\n"}],"owner":{"account_id":17319340,"reputation":528,"user_id":12545137,"display_name":"Dinh Quang Tuan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661132438,"accepted_answer_id":72228606,"answer_count":2,"score":0,"last_activity_date":1652440490,"creation_date":1652439517,"question_id":72228498,"body_markdown":"I am new to Java, I have want to starts 02 thread to increase an attribute of an object and I want to print out the value of this attribute until it reach a certain value.\r\nI use 02 threads started inside `increaseByThread()` method.\r\n\r\nI use two code snippets as follows but they behave differently.\r\nThe first one I use while loop in the main thread to check for the value change but it only print out the last value after two sub-threads finish running and return 40.\r\n\r\nThe second one I use while loop but inside another sub-thread for checking value and it prints out every value, it means that 03 sub-threads are running in parallel (please see the second snippet below)\r\n\r\nMy question is that why in the first snippet, the while loop block only called after `test.increaseByThread()` finish execution? \r\n\r\n\r\n\r\n    public class ThreadIncrease {\r\n        public volatile int[] count={0};\r\n         public void increaseByThread(){\r\n             Runnable first= () -&gt; {\r\n                 for(int i=0;i&lt;20;i++) {\r\n                     count[0] = count[0] + 1;\r\n                     try {\r\n                         Thread.sleep(1000);\r\n                     } catch (InterruptedException e) {\r\n                         e.printStackTrace();\r\n                     }\r\n    //                 System.out.println(count[0]);\r\n                 }\r\n    \r\n             };\r\n    \r\n             Runnable second= () -&gt; {\r\n                 for(int i=0;i&lt;20;i++) {\r\n                     try {\r\n                         Thread.sleep(1000);\r\n                     } catch (InterruptedException e) {\r\n                         e.printStackTrace();\r\n                     }\r\n                     count[0] = count[0] + 1;\r\n    //                 System.out.println(count[0]);\r\n                 }\r\n    \r\n             };\r\n             Thread firstThread=new Thread(first);\r\n             Thread secondThread=new Thread(second);\r\n             firstThread.run();\r\n             secondThread.run();\r\n         }\r\n    \r\n        public static void main(String[] args) {\r\n            ThreadIncrease test=new ThreadIncrease();\r\n            Runnable check=()-&gt;{\r\n                while(true){\r\n                    System.out.println(test.count[0]);\r\n                    if(test.count[0]&lt;10){\r\n                        System.out.println(&quot;count is: &quot;+test.count[0]);\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Break&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            };\r\n    //        Thread checkThread=new Thread(check);\r\n    //        checkThread.start();\r\n    \r\n            test.increaseByThread();\r\n            while(true){\r\n                System.out.println(test.count[0]);\r\n                if(test.count[0]&lt;10){\r\n                    System.out.println(&quot;count is: &quot;+test.count[0]);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Break&quot;);\r\n                    break;\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe second one I use while loop but inside another sub-thread for checking value and it prints out every value, it means that 03 sub-threads are running in parallel:\r\n\r\n        public class ThreadIncrease {\r\n        public volatile int[] count={0};\r\n         public void increaseByThread(){\r\n             Runnable first= () -&gt; {\r\n                 for(int i=0;i&lt;20;i++) {\r\n                     count[0] = count[0] + 1;\r\n                     try {\r\n                         Thread.sleep(1000);\r\n                     } catch (InterruptedException e) {\r\n                         e.printStackTrace();\r\n                     }\r\n    //                 System.out.println(count[0]);\r\n                 }\r\n    \r\n             };\r\n    \r\n             Runnable second= () -&gt; {\r\n                 for(int i=0;i&lt;20;i++) {\r\n                     try {\r\n                         Thread.sleep(1000);\r\n                     } catch (InterruptedException e) {\r\n                         e.printStackTrace();\r\n                     }\r\n                     count[0] = count[0] + 1;\r\n    //                 System.out.println(count[0]);\r\n                 }\r\n    \r\n             };\r\n             Thread firstThread=new Thread(first);\r\n             Thread secondThread=new Thread(second);\r\n             firstThread.run();\r\n             secondThread.run();\r\n         }\r\n    \r\n        public static void main(String[] args) {\r\n            ThreadIncrease test=new ThreadIncrease();\r\n            Runnable check=()-&gt;{\r\n                while(true){\r\n                    System.out.println(test.count[0]);\r\n                    if(test.count[0]&lt;10){\r\n                        System.out.println(&quot;count is: &quot;+test.count[0]);\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Break&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            };\r\n            Thread checkThread=new Thread(check);\r\n            checkThread.start();\r\n    \r\n            test.increaseByThread();\r\n    //        while(true){\r\n    //            System.out.println(test.count[0]);\r\n    //            if(test.count[0]&lt;10){\r\n    //                System.out.println(&quot;count is: &quot;+test.count[0]);\r\n    //            }\r\n    //            else{\r\n    //                System.out.println(&quot;Break&quot;);\r\n    //                break;\r\n    //            }\r\n    //        }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java : Are sub threads lock the main thread?","body":"<p>I am new to Java, I have want to starts 02 thread to increase an attribute of an object and I want to print out the value of this attribute until it reach a certain value.\nI use 02 threads started inside <code>increaseByThread()</code> method.</p>\n<p>I use two code snippets as follows but they behave differently.\nThe first one I use while loop in the main thread to check for the value change but it only print out the last value after two sub-threads finish running and return 40.</p>\n<p>The second one I use while loop but inside another sub-thread for checking value and it prints out every value, it means that 03 sub-threads are running in parallel (please see the second snippet below)</p>\n<p>My question is that why in the first snippet, the while loop block only called after <code>test.increaseByThread()</code> finish execution?</p>\n<pre><code>public class ThreadIncrease {\n    public volatile int[] count={0};\n     public void increaseByThread(){\n         Runnable first= () -&gt; {\n             for(int i=0;i&lt;20;i++) {\n                 count[0] = count[0] + 1;\n                 try {\n                     Thread.sleep(1000);\n                 } catch (InterruptedException e) {\n                     e.printStackTrace();\n                 }\n//                 System.out.println(count[0]);\n             }\n\n         };\n\n         Runnable second= () -&gt; {\n             for(int i=0;i&lt;20;i++) {\n                 try {\n                     Thread.sleep(1000);\n                 } catch (InterruptedException e) {\n                     e.printStackTrace();\n                 }\n                 count[0] = count[0] + 1;\n//                 System.out.println(count[0]);\n             }\n\n         };\n         Thread firstThread=new Thread(first);\n         Thread secondThread=new Thread(second);\n         firstThread.run();\n         secondThread.run();\n     }\n\n    public static void main(String[] args) {\n        ThreadIncrease test=new ThreadIncrease();\n        Runnable check=()-&gt;{\n            while(true){\n                System.out.println(test.count[0]);\n                if(test.count[0]&lt;10){\n                    System.out.println(&quot;count is: &quot;+test.count[0]);\n                }\n                else{\n                    System.out.println(&quot;Break&quot;);\n                    break;\n                }\n            }\n        };\n//        Thread checkThread=new Thread(check);\n//        checkThread.start();\n\n        test.increaseByThread();\n        while(true){\n            System.out.println(test.count[0]);\n            if(test.count[0]&lt;10){\n                System.out.println(&quot;count is: &quot;+test.count[0]);\n            }\n            else{\n                System.out.println(&quot;Break&quot;);\n                break;\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>The second one I use while loop but inside another sub-thread for checking value and it prints out every value, it means that 03 sub-threads are running in parallel:</p>\n<pre><code>    public class ThreadIncrease {\n    public volatile int[] count={0};\n     public void increaseByThread(){\n         Runnable first= () -&gt; {\n             for(int i=0;i&lt;20;i++) {\n                 count[0] = count[0] + 1;\n                 try {\n                     Thread.sleep(1000);\n                 } catch (InterruptedException e) {\n                     e.printStackTrace();\n                 }\n//                 System.out.println(count[0]);\n             }\n\n         };\n\n         Runnable second= () -&gt; {\n             for(int i=0;i&lt;20;i++) {\n                 try {\n                     Thread.sleep(1000);\n                 } catch (InterruptedException e) {\n                     e.printStackTrace();\n                 }\n                 count[0] = count[0] + 1;\n//                 System.out.println(count[0]);\n             }\n\n         };\n         Thread firstThread=new Thread(first);\n         Thread secondThread=new Thread(second);\n         firstThread.run();\n         secondThread.run();\n     }\n\n    public static void main(String[] args) {\n        ThreadIncrease test=new ThreadIncrease();\n        Runnable check=()-&gt;{\n            while(true){\n                System.out.println(test.count[0]);\n                if(test.count[0]&lt;10){\n                    System.out.println(&quot;count is: &quot;+test.count[0]);\n                }\n                else{\n                    System.out.println(&quot;Break&quot;);\n                    break;\n                }\n            }\n        };\n        Thread checkThread=new Thread(check);\n        checkThread.start();\n\n        test.increaseByThread();\n//        while(true){\n//            System.out.println(test.count[0]);\n//            if(test.count[0]&lt;10){\n//                System.out.println(&quot;count is: &quot;+test.count[0]);\n//            }\n//            else{\n//                System.out.println(&quot;Break&quot;);\n//                break;\n//            }\n//        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1652438415,"post_id":72227772,"comment_id":127611851,"body_markdown":"The errors say that you have installed a plug-in which requires at least Java 11 but you are using Java 8 on Eclipse 2019-09 (4.13) which is now 3 years and 10 releases old. Try running on the current Eclipse 2022-03 (4.23).","body":"The errors say that you have installed a plug-in which requires at least Java 11 but you are using Java 8 on Eclipse 2019-09 (4.13) which is now 3 years and 10 releases old. Try running on the current Eclipse 2022-03 (4.23)."},{"owner":{"account_id":12595678,"reputation":412,"user_id":9160410,"display_name":"Godwin"},"score":0,"creation_date":1652438949,"post_id":72227772,"comment_id":127612028,"body_markdown":"@greg-449 can you please let me know from where can I find and remove that plugin.\n\nwe have deployed only Java 8 in production, so I am using it for development.","body":"@greg-449 can you please let me know from where can I find and remove that plugin.  we have deployed only Java 8 in production, so I am using it for development."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1652439176,"post_id":72227772,"comment_id":127612098,"body_markdown":"You can still develop for Java 8 using the latest Eclipse even though Eclipse itself requires at least Java 11. Just tell Eclipse about the Java 8. Many of the current Eclipse downloads contain a suitable Java as part of the download.","body":"You can still develop for Java 8 using the latest Eclipse even though Eclipse itself requires at least Java 11. Just tell Eclipse about the Java 8. Many of the current Eclipse downloads contain a suitable Java as part of the download."},{"owner":{"account_id":12595678,"reputation":412,"user_id":9160410,"display_name":"Godwin"},"score":0,"creation_date":1652439702,"post_id":72227772,"comment_id":127612287,"body_markdown":"okay thanks, it worked after uninstalling the plugin","body":"okay thanks, it worked after uninstalling the plugin"}],"answers":[{"tags":[],"owner":{"account_id":12595678,"reputation":412,"user_id":9160410,"display_name":"Godwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652440207,"creation_date":1652440207,"answer_id":72228621,"question_id":72227772,"body_markdown":"Thanks @greg-449 for your comment.\r\n\r\n&gt; The errors say that you have installed a plug-in which requires at\r\n&gt; least Java 11 but you are using Java 8 on Eclipse 2019-09 (4.13) which\r\n&gt; is now 3 years and 10 releases old. Try running on the current Eclipse\r\n&gt; 2022-03 (4.23).\r\n\r\nIt resolved after uninstalling the plugin which requires at least Java 11\r\n\r\n","title":"Eclipse freezes while showing hover suggestions like method suggestions in class, method info etc","body":"<p>Thanks @greg-449 for your comment.</p>\n<blockquote>\n<p>The errors say that you have installed a plug-in which requires at\nleast Java 11 but you are using Java 8 on Eclipse 2019-09 (4.13) which\nis now 3 years and 10 releases old. Try running on the current Eclipse\n2022-03 (4.23).</p>\n</blockquote>\n<p>It resolved after uninstalling the plugin which requires at least Java 11</p>\n"}],"owner":{"account_id":12595678,"reputation":412,"user_id":9160410,"display_name":"Godwin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72228621,"answer_count":1,"score":0,"last_activity_date":1652440207,"creation_date":1652436137,"question_id":72227772,"body_markdown":"When I enter a dot operator after entering the class name, Eclipse will show method suggestions auto complete, at that time Eclipse hangs and gets closed automatically.\r\n\r\nIt also happens when showing method info. Can someone help with this?\r\n\r\nWhen I checked Eclipse log, I saw these exceptions\r\n\r\n    eclipse.buildId=4.13.0.I20190916-1045\r\n    java.version=1.8.0_312\r\n    java.vendor=Private Build\r\n    BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_IN\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os linux -ws gtk -arch x86_64 -product org.eclipse.epp.package.jee.product\r\n    \r\n    !ENTRY org.brainwy.liclipsetext.editor 4 0 2022-05-13 14:48:14.576\r\n    !MESSAGE FrameworkEvent ERROR\r\n    !STACK 0\r\n    org.osgi.framework.BundleException: Could not resolve module: org.brainwy.liclipsetext.editor [93]\r\n      Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\r\n      Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;[2.3.0,2.3.1)&quot;\r\n        -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;2.3.0.202104291051&quot;\r\n           org.brainwy.liclipsetext.shared_core [94]\r\n             Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\r\n      Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_ui\r\n        -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_ui; bundle-version=&quot;2.3.0.202104291051&quot;; singleton:=&quot;true&quot;\r\n           org.brainwy.liclipsetext.shared_ui [95]\r\n             Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;[2.3.0,2.3.1)&quot;\r\n               -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;2.3.0.202104291051&quot;\r\n    \r\n    \tat org.eclipse.osgi.container.Module.start(Module.java:462)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1844)\r\n    \tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1837)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1778)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1742)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1664)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\r\n    \r\n    !ENTRY org.brainwy.liclipsetext.shared_core 4 0 2022-05-13 14:48:14.579\r\n    !MESSAGE FrameworkEvent ERROR\r\n    !STACK 0\r\n    org.osgi.framework.BundleException: Could not resolve module: org.brainwy.liclipsetext.shared_core [94]\r\n      Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\r\n    \r\n    \tat org.eclipse.osgi.container.Module.start(Module.java:462)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1844)\r\n    \tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1837)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1778)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1742)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1664)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\r\n    \r\n    !ENTRY org.brainwy.liclipsetext.shared_ui 4 0 2022-05-13 14:48:14.580\r\n    !MESSAGE FrameworkEvent ERROR\r\n    !STACK 0\r\n    org.osgi.framework.BundleException: Could not resolve module: org.brainwy.liclipsetext.shared_ui [95]\r\n      Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\r\n      Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;[2.3.0,2.3.1)&quot;\r\n        -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;2.3.0.202104291051&quot;\r\n           org.brainwy.liclipsetext.shared_core [94]\r\n             Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\r\n    \r\n    \tat org.eclipse.osgi.container.Module.start(Module.java:462)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1844)\r\n    \tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1837)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1778)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1742)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1664)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)","title":"Eclipse freezes while showing hover suggestions like method suggestions in class, method info etc","body":"<p>When I enter a dot operator after entering the class name, Eclipse will show method suggestions auto complete, at that time Eclipse hangs and gets closed automatically.</p>\n<p>It also happens when showing method info. Can someone help with this?</p>\n<p>When I checked Eclipse log, I saw these exceptions</p>\n<pre><code>eclipse.buildId=4.13.0.I20190916-1045\njava.version=1.8.0_312\njava.vendor=Private Build\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_IN\nFramework arguments:  -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os linux -ws gtk -arch x86_64 -product org.eclipse.epp.package.jee.product\n\n!ENTRY org.brainwy.liclipsetext.editor 4 0 2022-05-13 14:48:14.576\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.brainwy.liclipsetext.editor [93]\n  Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\n  Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;[2.3.0,2.3.1)&quot;\n    -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;2.3.0.202104291051&quot;\n       org.brainwy.liclipsetext.shared_core [94]\n         Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\n  Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_ui\n    -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_ui; bundle-version=&quot;2.3.0.202104291051&quot;; singleton:=&quot;true&quot;\n       org.brainwy.liclipsetext.shared_ui [95]\n         Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;[2.3.0,2.3.1)&quot;\n           -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;2.3.0.202104291051&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:462)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1844)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1837)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1778)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1742)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1664)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\n\n!ENTRY org.brainwy.liclipsetext.shared_core 4 0 2022-05-13 14:48:14.579\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.brainwy.liclipsetext.shared_core [94]\n  Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:462)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1844)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1837)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1778)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1742)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1664)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\n\n!ENTRY org.brainwy.liclipsetext.shared_ui 4 0 2022-05-13 14:48:14.580\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.brainwy.liclipsetext.shared_ui [95]\n  Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\n  Unresolved requirement: Require-Bundle: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;[2.3.0,2.3.1)&quot;\n    -&gt; Bundle-SymbolicName: org.brainwy.liclipsetext.shared_core; bundle-version=&quot;2.3.0.202104291051&quot;\n       org.brainwy.liclipsetext.shared_core [94]\n         Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=11))&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:462)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1844)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1837)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1778)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1742)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1664)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\n</code></pre>\n"},{"tags":["java","xpath","soap","apache-camel"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1652696872,"post_id":72228598,"comment_id":127660225,"body_markdown":"The body is a `MessageContentsList` that is a **list** . Try to convert the original body (a MessageContentsList) with the first (and unique ?) item of this list (your pojo I guess ?) using `MessageContentsList.get(0)` before invoking xpath","body":"The body is a <code>MessageContentsList</code> that is a <b>list</b> . Try to convert the original body (a MessageContentsList) with the first (and unique ?) item of this list (your pojo I guess ?) using <code>MessageContentsList.get(0)</code> before invoking xpath"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1652737689,"post_id":72228598,"comment_id":127674251,"body_markdown":"thanks, I did try that, as per [this ancient answer](https://stackoverflow.com/questions/14764627/having-trouble-with-content-based-routing-in-camel-with-a-cxfrs-endpoint-and-xpa?rq=1).  The error changes to BlahBlahAPIRequest can&#39;t be converted to org.w3c.dom.Document.  Adding a &lt;convertBodyTo type=&quot;org.w3c.dom.Document&quot;&gt; after that didn&#39;t work either.  In the end I gave up and made two operations instead of one.","body":"thanks, I did try that, as per <a href=\"https://stackoverflow.com/questions/14764627/having-trouble-with-content-based-routing-in-camel-with-a-cxfrs-endpoint-and-xpa?rq=1\">this ancient answer</a>.  The error changes to BlahBlahAPIRequest can&#39;t be converted to org.w3c.dom.Document.  Adding a &lt;convertBodyTo type=&quot;org.w3c.dom.Document&quot;&gt; after that didn&#39;t work either.  In the end I gave up and made two operations instead of one."}],"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652440089,"creation_date":1652440089,"question_id":72228598,"body_markdown":"I&#39;m handling a web service with camel xml `?dataFormat=POJO` on the `from`\r\n\r\nBut a front end dev is shoving some data in a field now, and I need to check if it&#39;s populated before routing.\r\n\r\nBut xpath won&#39;t work on the SOAP envelope.\r\n\r\n\t\t\t\t    &lt;setHeader headerName=&quot;hasPdfAlready&quot;&gt;\r\n\t\t\t\t\t    &lt;xpath resultType=&quot;java.lang.String&quot;&gt;\r\n\t\t\t\t\t    //EncodedPdf/text()\r\n\t\t\t\t\t    &lt;/xpath&gt;\r\n\t\t\t\t    &lt;/setHeader&gt;\r\n\r\n    NoTypeConversionAvailableException: No type converter available to convert from type: org.apache.cxf.message.MessageContentsList to the required type: org.w3c.dom.Document with value [BlahBlahAPIRequest@0123123123] \r\n\r\n \r\nI need it to be POJO dataformat cause all the other operations expect Soap envelopes.  \r\n\r\nBut now I need to unwrap, in order to test with xpath  (as though I had specified PAYLOAD earlier)\r\n\r\nAny idea how to unwrap a soap message, in camel xml dsl, while keeping POJO dataformat?\r\nThanks","title":"Camel POJO to PAYLOAD","body":"<p>I'm handling a web service with camel xml <code>?dataFormat=POJO</code> on the <code>from</code></p>\n<p>But a front end dev is shoving some data in a field now, and I need to check if it's populated before routing.</p>\n<p>But xpath won't work on the SOAP envelope.</p>\n<pre><code>                &lt;setHeader headerName=&quot;hasPdfAlready&quot;&gt;\n                    &lt;xpath resultType=&quot;java.lang.String&quot;&gt;\n                    //EncodedPdf/text()\n                    &lt;/xpath&gt;\n                &lt;/setHeader&gt;\n\nNoTypeConversionAvailableException: No type converter available to convert from type: org.apache.cxf.message.MessageContentsList to the required type: org.w3c.dom.Document with value [BlahBlahAPIRequest@0123123123] \n</code></pre>\n<p>I need it to be POJO dataformat cause all the other operations expect Soap envelopes.</p>\n<p>But now I need to unwrap, in order to test with xpath  (as though I had specified PAYLOAD earlier)</p>\n<p>Any idea how to unwrap a soap message, in camel xml dsl, while keeping POJO dataformat?\nThanks</p>\n"},{"tags":["java","jpa","collections","java-8","stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652132482,"creation_date":1652132037,"answer_id":72178425,"question_id":72178218,"body_markdown":"You actually don&#39;t to reassign the same reference to `Set&lt;Asset&gt;` because even the set has been modified, it&#39;s still the same object which is &quot;known&quot; to a particular farmer.\r\n\r\nAnd definitely you don&#39;t need streams for this task. Documentation suggests avoiding stateful operations and side-effects while designing stream pipe-lines.\r\n\r\nInstead, you can use `forEach()` method on a list:\r\n```\r\nPage&lt;Farmer&gt; farmers = farmerRepository.findAll(pageable);\r\nList&lt;Farmer&gt; farmersList = new farmers.getContent();\r\n    \r\nfarmersList.forEach(farmer -&gt; farmer.getAssets()\r\n    .removeIf(e -&gt; !e.getIsActive()));\r\n```","title":"How to remove an element from a Set inside a Page of items based on a Condition using Java 8","body":"<p>You actually don't to reassign the same reference to <code>Set&lt;Asset&gt;</code> because even the set has been modified, it's still the same object which is &quot;known&quot; to a particular farmer.</p>\n<p>And definitely you don't need streams for this task. Documentation suggests avoiding stateful operations and side-effects while designing stream pipe-lines.</p>\n<p>Instead, you can use <code>forEach()</code> method on a list:</p>\n<pre><code>Page&lt;Farmer&gt; farmers = farmerRepository.findAll(pageable);\nList&lt;Farmer&gt; farmersList = new farmers.getContent();\n    \nfarmersList.forEach(farmer -&gt; farmer.getAssets()\n    .removeIf(e -&gt; !e.getIsActive()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652439833,"creation_date":1652439833,"answer_id":72228554,"question_id":72178218,"body_markdown":"You have to follow these steps:\r\n1. retrieve the list of farmer entities\r\n2. transform the list of entities to the list of farmer dtos\r\n3. for each farmer dto\r\n    1. fill the data \r\n    2. put the list of assert that are active\r\n```java\r\nList&lt;Farmer&gt; farmers = farmerRepository.findAll(pageable).getContent(); //1\r\nList&lt;FarmerDto&gt; farmersList = farmers.stream() // 2\r\n        .map(farmer -&gt; { // 3\r\n            FarmerDto farmerDto = new FarmerDto();\r\n            // fill farmerDto 3.1\r\n            farmerDto.setAssets(farmer.getAssets().stream().filter(Farmer::getIsActive()).toList()); //3.2\r\n            return farmerDto;\r\n        }).toList();\r\nreturn new PageImpl&lt;FarmerDto&gt;(farmersList, pageable, farmers.getTotalElements());                         \r\n```","title":"How to remove an element from a Set inside a Page of items based on a Condition using Java 8","body":"<p>You have to follow these steps:</p>\n<ol>\n<li>retrieve the list of farmer entities</li>\n<li>transform the list of entities to the list of farmer dtos</li>\n<li>for each farmer dto\n<ol>\n<li>fill the data</li>\n<li>put the list of assert that are active</li>\n</ol>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Farmer&gt; farmers = farmerRepository.findAll(pageable).getContent(); //1\nList&lt;FarmerDto&gt; farmersList = farmers.stream() // 2\n        .map(farmer -&gt; { // 3\n            FarmerDto farmerDto = new FarmerDto();\n            // fill farmerDto 3.1\n            farmerDto.setAssets(farmer.getAssets().stream().filter(Farmer::getIsActive()).toList()); //3.2\n            return farmerDto;\n        }).toList();\nreturn new PageImpl&lt;FarmerDto&gt;(farmersList, pageable, farmers.getTotalElements());                         \n</code></pre>\n"}],"owner":{"account_id":15690375,"reputation":818,"user_id":11597192,"display_name":"Mohammed Idris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72178425,"answer_count":2,"score":0,"last_activity_date":1652439833,"creation_date":1652130397,"question_id":72178218,"body_markdown":"I have a `Page` of `Farmers` coming from a **JPA repository** call `findAll` method. Each Farmer consists of a `Set` of `Farms` which are also coming in the repository call like so: \r\n```\r\npublic class Farmer {\r\n\r\nprivate String name;\r\n@ManyToMany\r\n@JoinTable(name = &quot;farmer_asset&quot;, joinColumns = @JoinColumn(name = &quot;farmer_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;asset_id&quot;, referencedColumnName = &quot;id&quot;))\r\nprivate Set&lt;Asset&gt; assets;\r\n}\r\n```\r\n\r\n`Asset` has a property called `isActive` which indicates that the asset is active or not; \r\n\r\nIn my `Page` of `Farmers` I want to select only farmers&#39; Assets which are active; \r\n\r\nI tried with \r\n```@WhereJoinTable(clause = &quot;is_active =&#39;true&#39;&quot;)```\r\n\r\nHowever, I learnt that the `is_active` property is supposed to be in the intermediate ManyToMany relation Table `farmer_asset`\r\n\r\nNow I am not in a position to change the entity structure, and use ```@WhereJoinTable(clause = &quot;is_active =&#39;true&#39;&quot;)```. \r\n\r\n\r\nSo, I thought of trying to filter the values after making the JPA call. \r\n\r\nHowever, iterating through each `Farmer`, then removing the `inActive Assets` and then adding it back to the Page and maintaining Page elements seemed too performance heavy operation. \r\n\r\nI tried with normal Java Code which looks something like this: \r\n\r\n```\r\n\r\nPage&lt;Farmer&gt; farmers = farmerRepository.findAll(pageable);\r\n\r\nList&lt;Farmer&gt; farmersList = new LinkedList&lt;&gt;();\r\n\r\nfor (FarmerDto eachFarmer : farmers.getContent()) {\r\n\r\n   Set&lt;Asset&gt; eachFarmerAssets = \r\n   eachFarmer.getAssets();\r\n\r\n   eachFarmerAssets.removeIf(e -&gt; \r\n   !e.getIsActive());\r\n\r\n   eachFarmer.setAssets(eachFarmerAssets);\t\t\t\t\r\n   \r\n   farmersList.add(eachFarmer);\r\n\t\t\t   }\r\n\t\t return new PageImpl&lt;FarmerDto&gt;(farmersList, pageable, farmers.getTotalElements());\r\n\r\n```\r\n\r\nI would like to do this is Java 8 using streams but I am not able to iterate a list and change its element which is in turn a `Set&lt;Asset&gt;`\r\n\r\nCame here looking for some suggestions. \r\n\r\nThanks in advance. \r\n","title":"How to remove an element from a Set inside a Page of items based on a Condition using Java 8","body":"<p>I have a <code>Page</code> of <code>Farmers</code> coming from a <strong>JPA repository</strong> call <code>findAll</code> method. Each Farmer consists of a <code>Set</code> of <code>Farms</code> which are also coming in the repository call like so:</p>\n<pre><code>public class Farmer {\n\nprivate String name;\n@ManyToMany\n@JoinTable(name = &quot;farmer_asset&quot;, joinColumns = @JoinColumn(name = &quot;farmer_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;asset_id&quot;, referencedColumnName = &quot;id&quot;))\nprivate Set&lt;Asset&gt; assets;\n}\n</code></pre>\n<p><code>Asset</code> has a property called <code>isActive</code> which indicates that the asset is active or not;</p>\n<p>In my <code>Page</code> of <code>Farmers</code> I want to select only farmers' Assets which are active;</p>\n<p>I tried with\n<code>@WhereJoinTable(clause = &quot;is_active ='true'&quot;)</code></p>\n<p>However, I learnt that the <code>is_active</code> property is supposed to be in the intermediate ManyToMany relation Table <code>farmer_asset</code></p>\n<p>Now I am not in a position to change the entity structure, and use <code>@WhereJoinTable(clause = &quot;is_active ='true'&quot;)</code>.</p>\n<p>So, I thought of trying to filter the values after making the JPA call.</p>\n<p>However, iterating through each <code>Farmer</code>, then removing the <code>inActive Assets</code> and then adding it back to the Page and maintaining Page elements seemed too performance heavy operation.</p>\n<p>I tried with normal Java Code which looks something like this:</p>\n<pre><code>\nPage&lt;Farmer&gt; farmers = farmerRepository.findAll(pageable);\n\nList&lt;Farmer&gt; farmersList = new LinkedList&lt;&gt;();\n\nfor (FarmerDto eachFarmer : farmers.getContent()) {\n\n   Set&lt;Asset&gt; eachFarmerAssets = \n   eachFarmer.getAssets();\n\n   eachFarmerAssets.removeIf(e -&gt; \n   !e.getIsActive());\n\n   eachFarmer.setAssets(eachFarmerAssets);              \n   \n   farmersList.add(eachFarmer);\n               }\n         return new PageImpl&lt;FarmerDto&gt;(farmersList, pageable, farmers.getTotalElements());\n\n</code></pre>\n<p>I would like to do this is Java 8 using streams but I am not able to iterate a list and change its element which is in turn a <code>Set&lt;Asset&gt;</code></p>\n<p>Came here looking for some suggestions.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1652439644,"post_id":72228494,"comment_id":127612262,"body_markdown":"That depends on what you want. I do not dynamically load a class because I have no need for it. Do you have a need for it and if so: why, what need?","body":"That depends on what you want. I do not dynamically load a class because I have no need for it. Do you have a need for it and if so: why, what need?"},{"owner":{"account_id":2745253,"reputation":104,"user_id":2365809,"display_name":"kill-9"},"score":0,"creation_date":1652439732,"post_id":72228494,"comment_id":127612299,"body_markdown":"I want to achieve the same functionality at the method, just without loading the class dynamically. In other words, load the class &quot;classNameToIgnore&quot; without using the loadClass()","body":"I want to achieve the same functionality at the method, just without loading the class dynamically. In other words, load the class &quot;classNameToIgnore&quot; without using the loadClass()"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1652441249,"post_id":72228494,"comment_id":127612795,"body_markdown":"What is the original reason for this method?  You need to understand that before you can find a better fix","body":"What is the original reason for this method?  You need to understand that before you can find a better fix"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652439811,"creation_date":1652439811,"answer_id":72228547,"question_id":72228494,"body_markdown":"It&#39;s the loading a class at runtime that&#39;s insecure - no matter which way you do this.\r\n\r\nTechnically, you could embed a groovy interpreter and execute runtime code that way - this might get you around the warning that you&#39;re mentioning, but you&#39;d be open to exactly the same vulnerabilities: You&#39;re running code that potentially has not been vetted to run on a server or in the environment that you&#39;re running.\r\n\r\nAs you ask for an alternative *in this scenario*: We don&#39;t know your scenario. Some static warnings make you think twice about the technique used. If it is mandatory to use this technique, because you&#39;re implementing *that kind of software*: Ignore it, and document why you do so.\r\n\r\nIf you truly need an alternative, I&#39;d consider this question a [x-y-Problem][1] and you should state your underlying business problem rather than the implementation that you already chose - because it might be the wrong choice for an implementation in the first place.\r\n\r\n\r\n  [1]: https://meta.stackexchange.com/a/66378/364505","title":"Alternative to loading class dynamically in Java","body":"<p>It's the loading a class at runtime that's insecure - no matter which way you do this.</p>\n<p>Technically, you could embed a groovy interpreter and execute runtime code that way - this might get you around the warning that you're mentioning, but you'd be open to exactly the same vulnerabilities: You're running code that potentially has not been vetted to run on a server or in the environment that you're running.</p>\n<p>As you ask for an alternative <em>in this scenario</em>: We don't know your scenario. Some static warnings make you think twice about the technique used. If it is mandatory to use this technique, because you're implementing <em>that kind of software</em>: Ignore it, and document why you do so.</p>\n<p>If you truly need an alternative, I'd consider this question a <a href=\"https://meta.stackexchange.com/a/66378/364505\">x-y-Problem</a> and you should state your underlying business problem rather than the implementation that you already chose - because it might be the wrong choice for an implementation in the first place.</p>\n"}],"owner":{"account_id":2745253,"reputation":104,"user_id":2365809,"display_name":"kill-9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652439811,"creation_date":1652439491,"question_id":72228494,"body_markdown":"I have the following method:\r\n\r\n    private static Class&lt;?&gt; classForName(final String classNameToIgnore) {\r\n        try {\r\n            return TypeAnyHelper.class.getClassLoader().loadClass(classNameToIgnore);\r\n        } catch (final Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nThis has been flagged as potentially insecure as we are dynamically loading a class at runtime:\r\n\r\n    return TypeAnyHelper.class.getClassLoader().loadClass(classNameToIgnore);\r\n\r\nWhat is the best way to implement the same functionality in this scenario without loading the classToIgnoreName dynamically?\r\n\r\nThanks","title":"Alternative to loading class dynamically in Java","body":"<p>I have the following method:</p>\n<pre><code>private static Class&lt;?&gt; classForName(final String classNameToIgnore) {\n    try {\n        return TypeAnyHelper.class.getClassLoader().loadClass(classNameToIgnore);\n    } catch (final Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>This has been flagged as potentially insecure as we are dynamically loading a class at runtime:</p>\n<pre><code>return TypeAnyHelper.class.getClassLoader().loadClass(classNameToIgnore);\n</code></pre>\n<p>What is the best way to implement the same functionality in this scenario without loading the classToIgnoreName dynamically?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1652427314,"post_id":72220170,"comment_id":127608098,"body_markdown":"A `java.util.File` needs to be a physical resource on the file system. Something that is packaged in a jar/war/ear isn&#39;t a physical resource on the file system. So you can only read it with an `InputStream` and not a `File`.","body":"A <code>java.util.File</code> needs to be a physical resource on the file system. Something that is packaged in a jar/war/ear isn&#39;t a physical resource on the file system. So you can only read it with an <code>InputStream</code> and not a <code>File</code>."}],"answers":[{"tags":[],"owner":{"account_id":3852548,"reputation":365,"user_id":3192295,"display_name":"user3192295"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652439535,"creation_date":1652381207,"answer_id":72220692,"question_id":72220170,"body_markdown":"How does your code even compile? You have static reference in non-static env:\r\n\r\n    ... new File(getClass().getResource ...\r\n\r\ntry to get the bytearray before transforming into string:\r\n\r\n    try {\r\n        byte[] tmpba = Files.readAllBytes(Paths.get(&quot;templates/temp.txt&quot;));\r\n        String s = new String(tmpba);\r\n        \r\n        System.out.println(s);\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }","title":"Read entire File to String Spring Boot","body":"<p>How does your code even compile? You have static reference in non-static env:</p>\n<pre><code>... new File(getClass().getResource ...\n</code></pre>\n<p>try to get the bytearray before transforming into string:</p>\n<pre><code>try {\n    byte[] tmpba = Files.readAllBytes(Paths.get(&quot;templates/temp.txt&quot;));\n    String s = new String(tmpba);\n    \n    System.out.println(s);\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":19895303,"reputation":559,"user_id":14576516,"display_name":"sinha-shaurya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652519122,"answer_count":1,"score":0,"last_activity_date":1652439535,"creation_date":1652378111,"question_id":72220170,"body_markdown":"I have a text file with path as `resources/templates/temp.txt`. I tried reading it with built in `Files.readAllBytes()` function found in java.nio but that results in an NullPointerException. My code looks as follows:\r\n\r\n    try {\r\n\t\t\tFile file = new File(getClass().getResource(&quot;templates/temp.txt&quot;).getFile());\r\n\t\t\tString temp = new String(Files.readAllBytes(Paths.get(file.getPath())));\r\n\t\t\tSystem.out.println(temp);\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\nThe file actually does exist at this location because I am able to get an InputStream and use that in an InputStreamReader and BufferedReader to read the file line-by-line.\r\n\r\n        InputStream input = this.getClass().getClassLoader().getResourceAsStream(path)\r\n        //path here is &quot;templates/temp.txt&quot;\r\n\r\nI would like to read this file with a built in method rather than iterating over the entire thing.\r\nWould appreciate it very much if someone can help with this. Thanks in advance!","title":"Read entire File to String Spring Boot","body":"<p>I have a text file with path as <code>resources/templates/temp.txt</code>. I tried reading it with built in <code>Files.readAllBytes()</code> function found in java.nio but that results in an NullPointerException. My code looks as follows:</p>\n<pre><code>try {\n        File file = new File(getClass().getResource(&quot;templates/temp.txt&quot;).getFile());\n        String temp = new String(Files.readAllBytes(Paths.get(file.getPath())));\n        System.out.println(temp);\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The file actually does exist at this location because I am able to get an InputStream and use that in an InputStreamReader and BufferedReader to read the file line-by-line.</p>\n<pre><code>    InputStream input = this.getClass().getClassLoader().getResourceAsStream(path)\n    //path here is &quot;templates/temp.txt&quot;\n</code></pre>\n<p>I would like to read this file with a built in method rather than iterating over the entire thing.\nWould appreciate it very much if someone can help with this. Thanks in advance!</p>\n"},{"tags":["java","linux","file","jakarta-ee","file-io"],"comments":[{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1393775581,"post_id":22129057,"comment_id":33576296,"body_markdown":"you need to point your code for find file in the home directory","body":"you need to point your code for find file in the home directory"},{"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"score":0,"creation_date":1393775996,"post_id":22129057,"comment_id":33576457,"body_markdown":"use apache commons.io library.","body":"use apache commons.io library."}],"answers":[{"tags":[],"owner":{"account_id":1558468,"reputation":1213,"user_id":1448918,"accept_rate":71,"display_name":"bknopper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393773150,"creation_date":1393771819,"answer_id":22129096,"question_id":22129057,"body_markdown":"Java is platform independent, so why do you believe you have to make a different implementation for Linux?\r\n\r\nThe platform dependencies are all handled for you by Java.\r\n\r\nFrom the API (http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listRoots()):\r\n\r\n&gt; public static File[] listRoots()\r\n&gt; \r\n&gt; List the available filesystem roots. \r\n\r\n&gt;A particular Java platform may\r\n&gt; support zero or more hierarchically-organized file systems. Each file\r\n&gt; system has a root directory from which all other files in that file\r\n&gt; system can be reached. Windows platforms, for example, have a root\r\n&gt; directory for each active drive; UNIX platforms have a single root\r\n&gt; directory, namely &quot;/&quot;. The set of available filesystem roots is\r\n&gt; affected by various system-level operations such as the insertion or\r\n&gt; ejection of removable media and the disconnecting or unmounting of\r\n&gt; physical or virtual disk drives.\r\n\r\n&gt;This method returns an array of File objects that denote the root directories of the available filesystem roots.\r\n\r\nAnd you don&#39;t necessarily have to use `File.seperator` instead of the backslash as discussed in https://stackoverflow.com/questions/2417485/file-separator-vs-slash-in-paths.\r\n\r\nBut it might be a good idea to do it anyway...","title":"How to make file search program in java?","body":"<p>Java is platform independent, so why do you believe you have to make a different implementation for Linux?</p>\n\n<p>The platform dependencies are all handled for you by Java.</p>\n\n<p>From the API (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listRoots()\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listRoots()</a>):</p>\n\n<blockquote>\n  <p>public static File[] listRoots()</p>\n  \n  <p>List the available filesystem roots. </p>\n  \n  <p>A particular Java platform may\n  support zero or more hierarchically-organized file systems. Each file\n  system has a root directory from which all other files in that file\n  system can be reached. Windows platforms, for example, have a root\n  directory for each active drive; UNIX platforms have a single root\n  directory, namely \"/\". The set of available filesystem roots is\n  affected by various system-level operations such as the insertion or\n  ejection of removable media and the disconnecting or unmounting of\n  physical or virtual disk drives.</p>\n  \n  <p>This method returns an array of File objects that denote the root directories of the available filesystem roots.</p>\n</blockquote>\n\n<p>And you don't necessarily have to use <code>File.seperator</code> instead of the backslash as discussed in <a href=\"https://stackoverflow.com/questions/2417485/file-separator-vs-slash-in-paths\">File.separator vs Slash in Paths</a>.</p>\n\n<p>But it might be a good idea to do it anyway...</p>\n"},{"tags":[],"owner":{"account_id":2744625,"reputation":8577,"user_id":2365297,"accept_rate":36,"display_name":"Salah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393773838,"creation_date":1393772138,"answer_id":22129161,"question_id":22129057,"body_markdown":"You need to use a forward slash instead of back slashs, split the files using \r\n\r\n    File.separator\r\n\r\nThat should work on both `Linux` and `Windows`","title":"How to make file search program in java?","body":"<p>You need to use a forward slash instead of back slashs, split the files using </p>\n\n<pre><code>File.separator\n</code></pre>\n\n<p>That should work on both <code>Linux</code> and <code>Windows</code></p>\n"},{"tags":[],"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1393773568,"creation_date":1393773568,"answer_id":22129411,"question_id":22129057,"body_markdown":"In Linux/Unix system there is only one root directory: `/`. From the Linux documentation:\r\n\r\n&gt; Everything starts from the root directory, represented by /, and then expands into sub-directories instead of having so-called &#39;drives&#39;.\r\n","title":"How to make file search program in java?","body":"<p>In Linux/Unix system there is only one root directory: <code>/</code>. From the Linux documentation:</p>\n\n<blockquote>\n  <p>Everything starts from the root directory, represented by /, and then expands into sub-directories instead of having so-called 'drives'.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393775897,"creation_date":1393775897,"answer_id":22129868,"question_id":22129057,"body_markdown":"in the Linux you need to point your code to the &quot;home directory&quot; because in Linux os family root is only the one . For file search you need do point make recursive in that directory for more have a look of this tutorial .\r\n\r\n    http://www.mkyong.com/java/search-directories-recursively-for-file-in-java/\r\n\r\n    ","title":"How to make file search program in java?","body":"<p>in the Linux you need to point your code to the \"home directory\" because in Linux os family root is only the one . For file search you need do point make recursive in that directory for more have a look of this tutorial .</p>\n\n<pre><code>http://www.mkyong.com/java/search-directories-recursively-for-file-in-java/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25281407,"reputation":1,"user_id":19109242,"display_name":"archer7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652439526,"creation_date":1652439526,"answer_id":72228499,"question_id":22129057,"body_markdown":"public boolean retrieveFile(String directorypath, String filename )\r\n{\r\n\tboolean found = false; int state = 100;\r\n\t\t\t\t\t\r\n\ttry\r\n\t{ \t\t\t\t\t\r\n\t\tFile dir = new File(directorypath); \r\n\t\t\t\t\t\t\t\t\r\n\t\tString  temp = dir.getAbsolutePath().concat(&quot;\\\\&quot; + filename )\r\n\t\t\t\t\t\t\t\t\r\n\t\tFile[] subdirectories =  dir.listFiles();\r\n\t\t\t\t\t\t\t\t\r\n\t\tfor( int n=0; n&lt;subdirectories.length; n++ )\r\n\t\t{\r\n\t\t\tString subdirectorypath = subdirectories[n].getAbsolutePath(); \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tstate = temp.compareTo( subdirectorypath );\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tif ( state == 0 ) { found = true;  System.out.println( &quot;File Exists.&quot; +  subdirectories[n].getName() ); }\t\t\r\n\t\t}\r\n\r\n\t}\r\n\tcatch(Exception E) {  E.printStackTrace();  }\r\n\t\t\t\t\t\r\n\treturn found;\t\t\t\t\t\r\n}","title":"How to make file search program in java?","body":"<p>public boolean retrieveFile(String directorypath, String filename )\n{\nboolean found = false; int state = 100;</p>\n<pre><code>try\n{                   \n    File dir = new File(directorypath); \n                            \n    String  temp = dir.getAbsolutePath().concat(&quot;\\\\&quot; + filename )\n                            \n    File[] subdirectories =  dir.listFiles();\n                            \n    for( int n=0; n&lt;subdirectories.length; n++ )\n    {\n        String subdirectorypath = subdirectories[n].getAbsolutePath(); \n                                    \n        state = temp.compareTo( subdirectorypath );\n                                    \n        if ( state == 0 ) { found = true;  System.out.println( &quot;File Exists.&quot; +  subdirectories[n].getName() ); }       \n    }\n\n}\ncatch(Exception E) {  E.printStackTrace();  }\n                \nreturn found;                   \n</code></pre>\n<p>}</p>\n"}],"owner":{"display_name":"user2058780"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22129411,"answer_count":5,"score":2,"last_activity_date":1652439526,"creation_date":1393771623,"question_id":22129057,"body_markdown":"I want to make file search using java that works both for Linux and windows, I am able to make file search program for windows but i am clueless about Linux. I am using this logic to show all the disks in the windows.\r\n\r\n    package test;\r\n\r\n    import java.io.File;\r\n\r\n    public class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tFile[] drives = File.listRoots();\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; drives.length; i++) {\r\n\t\t\ttemp += drives[i];\r\n\t\t}\r\n\r\n\t\tString[] dir = temp.split(&quot;\\\\\\\\&quot;);\r\n\t\tfor (int i = 0; i &lt; dir.length; i++) {\r\n\t\t\tSystem.out.println(dir[i]);\r\n\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nAbove code when used in windows then it will show all the roots like c:,d: etc adn when it is used in Linux it shows only /. And i am using this logic to search specific file in windows.\r\n\r\n    public void findFile(String name,File file)\r\n    {\r\n        File[] list = file.listFiles();\r\n        if(list!=null)\r\n        for (File fil : list)\r\n        {\r\n            if (fil.isDirectory())\r\n            {\r\n                findFile(name,fil);\r\n            }\r\n            else if (name.equalsIgnoreCase(fil.getName()))\r\n            {\r\n                System.out.println(fil.getParentFile());\r\n            }\r\n        }\r\n    }\r\nIt is working fine but my problem is how to make it in Linux, i am new to Linux so i am clueless how to make it, I am running out of time, any help will be very much helpful for me.","title":"How to make file search program in java?","body":"<p>I want to make file search using java that works both for Linux and windows, I am able to make file search program for windows but i am clueless about Linux. I am using this logic to show all the disks in the windows.</p>\n\n<pre><code>package test;\n\nimport java.io.File;\n\npublic class Test {\npublic static void main(String[] args) {\n    File[] drives = File.listRoots();\n    String temp = \"\";\n    for (int i = 0; i &lt; drives.length; i++) {\n        temp += drives[i];\n    }\n\n    String[] dir = temp.split(\"\\\\\\\\\");\n    for (int i = 0; i &lt; dir.length; i++) {\n        System.out.println(dir[i]);\n\n    }\n}\n}\n</code></pre>\n\n<p>Above code when used in windows then it will show all the roots like c:,d: etc adn when it is used in Linux it shows only /. And i am using this logic to search specific file in windows.</p>\n\n<pre><code>public void findFile(String name,File file)\n{\n    File[] list = file.listFiles();\n    if(list!=null)\n    for (File fil : list)\n    {\n        if (fil.isDirectory())\n        {\n            findFile(name,fil);\n        }\n        else if (name.equalsIgnoreCase(fil.getName()))\n        {\n            System.out.println(fil.getParentFile());\n        }\n    }\n}\n</code></pre>\n\n<p>It is working fine but my problem is how to make it in Linux, i am new to Linux so i am clueless how to make it, I am running out of time, any help will be very much helpful for me.</p>\n"},{"tags":["java","search","full-text-search"],"comments":[{"owner":{"account_id":18236,"reputation":46374,"user_id":41619,"accept_rate":91,"display_name":"Adam Paynter"},"score":0,"creation_date":1292370129,"post_id":4445401,"comment_id":4854560,"body_markdown":"Is this homework? If so, please edit your question to include what you have accomplished so far and we can help you improve it. :)","body":"Is this homework? If so, please edit your question to include what you have accomplished so far and we can help you improve it. :)"}],"answers":[{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292370214,"creation_date":1292370214,"answer_id":4445429,"question_id":4445401,"body_markdown":"Using a `File` with a `Scanner`, and a `StringBuilder` should give you a good start into that topic.","title":"Searching a Files Content Using Java?","body":"<p>Using a <code>File</code> with a <code>Scanner</code>, and a <code>StringBuilder</code> should give you a good start into that topic.</p>\n"},{"tags":[],"owner":{"account_id":258902,"reputation":413,"user_id":541397,"display_name":"prgmast3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292370439,"creation_date":1292370439,"answer_id":4445446,"question_id":4445401,"body_markdown":"You can read in the text file to a string and then call the split() method. See documentation. This will return an array of strings. After this you can do a search (ie. Binary search) on the array and continue doing it, removing the word you find and saving the location, until all instances have been found. After that you will have all the locations of the search string in the document.\r\n\r\nHere is a wikipedia article on binary search in case you might need it:\r\nhttp://en.m.wikipedia.org/wiki/Binary_search_algorithm?wasRedirected=true","title":"Searching a Files Content Using Java?","body":"<p>You can read in the text file to a string and then call the split() method. See documentation. This will return an array of strings. After this you can do a search (ie. Binary search) on the array and continue doing it, removing the word you find and saving the location, until all instances have been found. After that you will have all the locations of the search string in the document.</p>\n\n<p>Here is a wikipedia article on binary search in case you might need it:\n<a href=\"http://en.m.wikipedia.org/wiki/Binary_search_algorithm?wasRedirected=true\" rel=\"nofollow\">http://en.m.wikipedia.org/wiki/Binary_search_algorithm?wasRedirected=true</a></p>\n"},{"tags":[],"owner":{"account_id":154444,"reputation":6485,"user_id":2359478,"accept_rate":75,"display_name":"idolize"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292370942,"creation_date":1292370623,"answer_id":4445465,"question_id":4445401,"body_markdown":"I would recommend using a hash table of some kind. If your data is not changing (is this just a basic search of a static document, or is it like part of a text editor?) then [Perfect Hashing][1] is going to give you constant-time lookups. This is **VERY** fast. If not, maybe try Cuckoo hashing or even just linear probing.\r\n\r\nI would read in the file using `Scanner` or any buffered reader, hash every word as a key to whatever additional data you want (such as line numbers / word indexes of all occurrences), then you can query the hash table super fast.\r\n\r\n**Edit**: Here is a Java implementation of Perfect hashing for Strings: http://blog.tomgibara.com/post/438939809/minimal-perfect-hash-strings\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Perfect_hash_function","title":"Searching a Files Content Using Java?","body":"<p>I would recommend using a hash table of some kind. If your data is not changing (is this just a basic search of a static document, or is it like part of a text editor?) then <a href=\"http://en.wikipedia.org/wiki/Perfect_hash_function\" rel=\"nofollow\">Perfect Hashing</a> is going to give you constant-time lookups. This is <strong>VERY</strong> fast. If not, maybe try Cuckoo hashing or even just linear probing.</p>\n\n<p>I would read in the file using <code>Scanner</code> or any buffered reader, hash every word as a key to whatever additional data you want (such as line numbers / word indexes of all occurrences), then you can query the hash table super fast.</p>\n\n<p><strong>Edit</strong>: Here is a Java implementation of Perfect hashing for Strings: <a href=\"http://blog.tomgibara.com/post/438939809/minimal-perfect-hash-strings\" rel=\"nofollow\">http://blog.tomgibara.com/post/438939809/minimal-perfect-hash-strings</a></p>\n"},{"tags":[],"owner":{"account_id":254415,"reputation":10285,"user_id":533800,"display_name":"LaGrandMere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292370671,"creation_date":1292370671,"answer_id":4445473,"question_id":4445401,"body_markdown":"To have speed, I would use the BufferedReader. Something like this :\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(givenFile)));\r\n\r\nBufferedReader is the most efficent way of reading a file, IMHO.\r\n\r\nThere is an existing tool, created by Keith Fenske and named [FileSearch][1], that exists. You can dowload the sources and have a look at it :)\r\n\r\n\r\n  [1]: http://www.psc-consulting.ca/fenske/","title":"Searching a Files Content Using Java?","body":"<p>To have speed, I would use the BufferedReader. Something like this :</p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(givenFile)));\n</code></pre>\n\n<p>BufferedReader is the most efficent way of reading a file, IMHO.</p>\n\n<p>There is an existing tool, created by Keith Fenske and named <a href=\"http://www.psc-consulting.ca/fenske/\" rel=\"nofollow\">FileSearch</a>, that exists. You can dowload the sources and have a look at it :)</p>\n"},{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292379492,"creation_date":1292376089,"answer_id":4445907,"question_id":4445401,"body_markdown":"What do you want to do with the search results? Is it just to count the number of occurances of a given word or the phrase? What if the user types &quot;line&quot; and the file contains &quot;lines&quot;; should there be a match? Do you have to allow multiple searches on the same file?\r\n\r\nAnyways the point is that full-text search is a very involved subject. But there is help ;-). My suggestion for you is to create an **in-memory index** of the file to be searched using open source [Lucene][1] project. It is super fast and has answers to all of the above questions and much more. [Here][2] is the code to create that in-memory index. Once you have that index created, you can perform [sophisticated searches][3]\r\n\r\n\r\n  [1]: http://lucene.apache.org/java/docs/index.html\r\n  [2]: http://javatechniques.com/blog/lucene-in-memory-text-search-example/\r\n  [3]: http://lucene.apache.org/java/3_0_3/queryparsersyntax.html","title":"Searching a Files Content Using Java?","body":"<p>What do you want to do with the search results? Is it just to count the number of occurances of a given word or the phrase? What if the user types \"line\" and the file contains \"lines\"; should there be a match? Do you have to allow multiple searches on the same file?</p>\n\n<p>Anyways the point is that full-text search is a very involved subject. But there is help ;-). My suggestion for you is to create an <strong>in-memory index</strong> of the file to be searched using open source <a href=\"http://lucene.apache.org/java/docs/index.html\" rel=\"nofollow\">Lucene</a> project. It is super fast and has answers to all of the above questions and much more. <a href=\"http://javatechniques.com/blog/lucene-in-memory-text-search-example/\" rel=\"nofollow\">Here</a> is the code to create that in-memory index. Once you have that index created, you can perform <a href=\"http://lucene.apache.org/java/3_0_3/queryparsersyntax.html\" rel=\"nofollow\">sophisticated searches</a></p>\n"}],"owner":{"account_id":685683,"reputation":61,"user_id":542698,"accept_rate":0,"display_name":"Des C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1652439342,"creation_date":1292369981,"question_id":4445401,"body_markdown":"I would like to write an application, in java, that allows me to open a file (txt) and using the users input, search for all instances of a particular word or string.\r\n\r\nAs there are probably more experienced programmers here, i would like some advice about how to go about creating such a tool. How would you go about creating a basic text search tool?\r\n\r\nI have been playing around with some java classes such as File, FileOutputStream, FileInputStream, InputStreamReader, OutputStreamReader, FileReader, StreamTokenizer and would like to know  the optimal way to open and search a file using java?\r\n\r\nThanks for any input you may have,\r\nDes.","title":"Searching a Files Content Using Java?","body":"<p>I would like to write an application, in java, that allows me to open a file (txt) and using the users input, search for all instances of a particular word or string.</p>\n\n<p>As there are probably more experienced programmers here, i would like some advice about how to go about creating such a tool. How would you go about creating a basic text search tool?</p>\n\n<p>I have been playing around with some java classes such as File, FileOutputStream, FileInputStream, InputStreamReader, OutputStreamReader, FileReader, StreamTokenizer and would like to know  the optimal way to open and search a file using java?</p>\n\n<p>Thanks for any input you may have,\nDes.</p>\n"},{"tags":["java","hibernate","kotlin","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1652438901,"post_id":72228252,"comment_id":127612009,"body_markdown":"`&quot;WHERE issueTxId = :issueTxId&quot; + &quot;AND consumingTxId IS NULL&quot;`  no space between `:issueTxId` and next lines `AND`","body":"<code>&quot;WHERE issueTxId = :issueTxId&quot; + &quot;AND consumingTxId IS NULL&quot;</code>  no space between <code>:issueTxId</code> and next lines <code>AND</code>"},{"owner":{"account_id":24634485,"reputation":63,"user_id":18533321,"display_name":"h331z"},"score":0,"creation_date":1652439020,"post_id":72228252,"comment_id":127612046,"body_markdown":"Sorry that was just a copy-paste failure, but the spaces are there in the code. Modified my original post.","body":"Sorry that was just a copy-paste failure, but the spaces are there in the code. Modified my original post."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652439489,"post_id":72228252,"comment_id":127612212,"body_markdown":"In that case, you need to transition to `NamedNativeQuery`, as you are implementing a native query instead of one using JPQL. [howtodoinjava guide](https://howtodoinjava.com/jpa/jpa-native-update-sql-query-example/) on how to implement `NamedNativeQuery` for updates","body":"In that case, you need to transition to <code>NamedNativeQuery</code>, as you are implementing a native query instead of one using JPQL. <a href=\"https://howtodoinjava.com/jpa/jpa-native-update-sql-query-example/\" rel=\"nofollow noreferrer\">howtodoinjava guide</a> on how to implement <code>NamedNativeQuery</code> for updates"}],"owner":{"account_id":24634485,"reputation":63,"user_id":18533321,"display_name":"h331z"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652438997,"creation_date":1652438357,"question_id":72228252,"body_markdown":"I encountered a very interesting issue. I want to create an `UPDATE` statement `NamedQuery` for my class (I know this is a bit hacky).\r\n\r\nThe weird thing is if I use positioned parameters in the query like `?1, ?2` etc. it works perfectly. However, if I want to use named parameters like `:id`, it fails with the following error: \r\n\r\n`failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;consumingTxId&#39; near line 1`.\r\n\r\nI&#39;m using Kotlin btw.\r\n\r\nMy entity:\r\n```\r\nclass StateDetailEntity(\r\n        @Id\r\n        @Column(name = &quot;issue_tx_id&quot;)\r\n        val issueTxId: String,\r\n\r\n        @Column(name = &quot;consuming_tx_id&quot;)\r\n        val consumingTxId: String?\r\n)\r\n```\r\n\r\nMy named query:\r\n\r\n```\r\nNamedQuery(\r\n                name = &quot;StateDetailEntity.consume&quot;,\r\n                query = &quot;UPDATE StateDetailEntity SET &quot; +\r\n                        &quot;consumingTxId = :consumingTxId &quot; +\r\n                        &quot;WHERE issueTxId = :issueTxId &quot; +\r\n                        &quot;AND consumingTxId IS NULL&quot;\r\n)\r\n```\r\n\r\nIf I add an alias to the table and re-write the name query to like `UPDATE StateDetailEntity s SET...` I get the following error:\r\n\r\n`org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;s&#39;`.\r\n\r\nThe funny thing is if I change the query like this:\r\n\r\n```\r\nNamedQuery(\r\n                name = &quot;StateDetailEntity.consume&quot;,\r\n                query = &quot;UPDATE StateDetailEntity SET &quot; +\r\n                        &quot;consumingTxId = ?1 &quot; +\r\n                        &quot;WHERE issueTxId = ?2 &quot; +\r\n                        &quot;AND consumingTxId IS NULL&quot;\r\n)\r\n```\r\n\r\nThere are no issues at all. Any ideas? Using Hibernate `5.4.32.Final`.","title":"Hibernate NamedQuery UPDATE statement throws QuerySyntaxException","body":"<p>I encountered a very interesting issue. I want to create an <code>UPDATE</code> statement <code>NamedQuery</code> for my class (I know this is a bit hacky).</p>\n<p>The weird thing is if I use positioned parameters in the query like <code>?1, ?2</code> etc. it works perfectly. However, if I want to use named parameters like <code>:id</code>, it fails with the following error:</p>\n<p><code>failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found 'consumingTxId' near line 1</code>.</p>\n<p>I'm using Kotlin btw.</p>\n<p>My entity:</p>\n<pre><code>class StateDetailEntity(\n        @Id\n        @Column(name = &quot;issue_tx_id&quot;)\n        val issueTxId: String,\n\n        @Column(name = &quot;consuming_tx_id&quot;)\n        val consumingTxId: String?\n)\n</code></pre>\n<p>My named query:</p>\n<pre><code>NamedQuery(\n                name = &quot;StateDetailEntity.consume&quot;,\n                query = &quot;UPDATE StateDetailEntity SET &quot; +\n                        &quot;consumingTxId = :consumingTxId &quot; +\n                        &quot;WHERE issueTxId = :issueTxId &quot; +\n                        &quot;AND consumingTxId IS NULL&quot;\n)\n</code></pre>\n<p>If I add an alias to the table and re-write the name query to like <code>UPDATE StateDetailEntity s SET...</code> I get the following error:</p>\n<p><code>org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found 's'</code>.</p>\n<p>The funny thing is if I change the query like this:</p>\n<pre><code>NamedQuery(\n                name = &quot;StateDetailEntity.consume&quot;,\n                query = &quot;UPDATE StateDetailEntity SET &quot; +\n                        &quot;consumingTxId = ?1 &quot; +\n                        &quot;WHERE issueTxId = ?2 &quot; +\n                        &quot;AND consumingTxId IS NULL&quot;\n)\n</code></pre>\n<p>There are no issues at all. Any ideas? Using Hibernate <code>5.4.32.Final</code>.</p>\n"},{"tags":["java","database","postgresql","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652437439,"post_id":72220256,"comment_id":127611512,"body_markdown":"Don&#39;t reinvent the wheel. Either use your database auto-increment, or - when using Hibernate, use its features for generating IDs. You should **never** just use the maximum id and increment that. That is even unsafe if there is only one instance of your application.","body":"Don&#39;t reinvent the wheel. Either use your database auto-increment, or - when using Hibernate, use its features for generating IDs. You should <b>never</b> just use the maximum id and increment that. That is even unsafe if there is only one instance of your application."},{"owner":{"account_id":7798862,"reputation":1,"user_id":6241690,"display_name":"user311726"},"score":0,"creation_date":1652732343,"post_id":72220256,"comment_id":127672732,"body_markdown":"I think I found answer. This is snowflake algorithm developed by Twitter","body":"I think I found answer. This is snowflake algorithm developed by Twitter"}],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652380533,"creation_date":1652380533,"answer_id":72220573,"question_id":72220256,"body_markdown":"In postgresql there is a function called nexVal(seqId). It is used to reserve an id that no one else can use . It could be one possible solution for your problem","title":"generate auto increment id (int) in java for multi instance application","body":"<p>In postgresql there is a function called nexVal(seqId). It is used to reserve an id that no one else can use . It could be one possible solution for your problem</p>\n"}],"owner":{"account_id":7798862,"reputation":1,"user_id":6241690,"display_name":"user311726"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652438838,"creation_date":1652378618,"question_id":72220256,"body_markdown":"I have a table which stores users information(id, name, surname, address, email, etc). I don&#39;t want to use auto-increment function of the database. So, we don&#39;t want to create sequence. I want to generate id in spring boot application and insert my custom human readable ids(such that 1,2,3, ... n)  to the db while creating new user. In order to do that I always want to select max id and increment it by one and insert as a id for new record. For example, max id is 5 in the users table, I will get max and increment it and new user id will be 6.\r\nIf there is just one instance there will not be any problem but if there are more than 1 instance of spring boot application, there can be problem theoretically. If both instances take max id and increment it, they will get same result and one of them will get exception because of unique key constraint. \r\n\r\nI have some solutions but I think there is better solutions. My solutions\r\n1. storing max key always in redis and while taking max increment it immediately. \r\n2. locking table (bad solution) \r\n3. if I can duplicate constraint exception I will check max again, check id is greater than new user id then increment again and insert it. \r\n\r\nHowever, I think they are not best solutions.\r\nFinally, I just want increment id in application level, I dont want to use db&#39;s sequences. My problem is there can be problem if I will have more than 1 instance. So how can I solve this problem. \r\n\r\n","title":"generate auto increment id (int) in java for multi instance application","body":"<p>I have a table which stores users information(id, name, surname, address, email, etc). I don't want to use auto-increment function of the database. So, we don't want to create sequence. I want to generate id in spring boot application and insert my custom human readable ids(such that 1,2,3, ... n)  to the db while creating new user. In order to do that I always want to select max id and increment it by one and insert as a id for new record. For example, max id is 5 in the users table, I will get max and increment it and new user id will be 6.\nIf there is just one instance there will not be any problem but if there are more than 1 instance of spring boot application, there can be problem theoretically. If both instances take max id and increment it, they will get same result and one of them will get exception because of unique key constraint.</p>\n<p>I have some solutions but I think there is better solutions. My solutions</p>\n<ol>\n<li>storing max key always in redis and while taking max increment it immediately.</li>\n<li>locking table (bad solution)</li>\n<li>if I can duplicate constraint exception I will check max again, check id is greater than new user id then increment again and insert it.</li>\n</ol>\n<p>However, I think they are not best solutions.\nFinally, I just want increment id in application level, I dont want to use db's sequences. My problem is there can be problem if I will have more than 1 instance. So how can I solve this problem.</p>\n"},{"tags":["java","sqlite","sql-update"],"answers":[{"tags":[],"owner":{"account_id":931282,"reputation":13327,"user_id":961125,"accept_rate":83,"display_name":"Sashi Kant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652438398,"creation_date":1352964663,"answer_id":13393146,"question_id":13393114,"body_markdown":"Try this:\r\n\r\n1) \r\nThe method where you are executing the update query:\r\n\r\n    public boolean updateTable() {\r\n    \r\n      boolean isSuccessFul = false;\r\n      // Prepare the statements and the connections\r\n    \r\n      try {\r\n        // Execute the update\r\n    \r\n        isSuccessFul = true;\r\n      } catch(Exception e) {\r\n        // Handle it\r\n      } finally {\r\n         return isSuccessFul;\r\n      }\r\n    }","title":"return value of update statement in sqlite","body":"<p>Try this:</p>\n<p>1)\nThe method where you are executing the update query:</p>\n<pre><code>public boolean updateTable() {\n\n  boolean isSuccessFul = false;\n  // Prepare the statements and the connections\n\n  try {\n    // Execute the update\n\n    isSuccessFul = true;\n  } catch(Exception e) {\n    // Handle it\n  } finally {\n     return isSuccessFul;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":187833,"reputation":2064,"user_id":426180,"accept_rate":35,"display_name":"xarly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352964722,"creation_date":1352964722,"answer_id":13393155,"question_id":13393114,"body_markdown":"If you run the sentence with iOS you get the number of rows modified, I think in Java will be similar","title":"return value of update statement in sqlite","body":"<p>If you run the sentence with iOS you get the number of rows modified, I think in Java will be similar</p>\n"},{"tags":[],"owner":{"account_id":8766766,"reputation":11,"user_id":6554846,"display_name":"PUCHIE4BHAWAII"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528789014,"creation_date":1528789014,"answer_id":50811684,"question_id":13393114,"body_markdown":"&lt;b&gt;int executeUpdate() throws SQLExceptionSQLException&lt;/b&gt;\r\n\r\nExecutes the SQL statement in this PreparedStatement object, which must be an SQL Data Manipulation Language (DML) statement, such as INSERT, UPDATE or DELETE; or an SQL statement that returns nothing, such as a DDL statement.&lt;br&gt;\r\n&lt;b&gt;Returns:&lt;/b&gt;&lt;br&gt;\r\neither (1) &lt;b&gt;the row count for SQL Data Manipulation Language (DML) statements&lt;/b&gt; or (2) 0 for SQL statements that return nothing&lt;br&gt;\r\n&lt;b&gt;Throws:&lt;/b&gt;&lt;br&gt;\r\nSQLException - if a database access error occurs; this method is called on a closed PreparedStatement or the SQL statement returns a ResultSet object\r\n       SQLTimeoutException - when the driver has determined that the timeout value that was specified by the setQueryTimeout method has been exceeded and has at least attempted to cancel the currently running Statement","title":"return value of update statement in sqlite","body":"<p><b>int executeUpdate() throws SQLExceptionSQLException</b></p>\n\n<p>Executes the SQL statement in this PreparedStatement object, which must be an SQL Data Manipulation Language (DML) statement, such as INSERT, UPDATE or DELETE; or an SQL statement that returns nothing, such as a DDL statement.<br>\n<b>Returns:</b><br>\neither (1) <b>the row count for SQL Data Manipulation Language (DML) statements</b> or (2) 0 for SQL statements that return nothing<br>\n<b>Throws:</b><br>\nSQLException - if a database access error occurs; this method is called on a closed PreparedStatement or the SQL statement returns a ResultSet object\n       SQLTimeoutException - when the driver has determined that the timeout value that was specified by the setQueryTimeout method has been exceeded and has at least attempted to cancel the currently running Statement</p>\n"}],"owner":{"account_id":1850503,"reputation":373,"user_id":1677144,"accept_rate":89,"display_name":"hurley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2958,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":13393146,"answer_count":3,"score":1,"last_activity_date":1652438398,"creation_date":1352964423,"question_id":13393114,"body_markdown":"what kind of value does a update statement in sql lite return when invoked via java? is it boolean?\r\n\r\ni&#39;m trying to update a few rows and want to fetch whether it worked correctly or threw exceptions.\r\n\r\nthanks in advance","title":"return value of update statement in sqlite","body":"<p>what kind of value does a update statement in sql lite return when invoked via java? is it boolean?</p>\n\n<p>i'm trying to update a few rows and want to fetch whether it worked correctly or threw exceptions.</p>\n\n<p>thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":7,"creation_date":1652436683,"post_id":72227871,"comment_id":127611263,"body_markdown":"you mean prevent more than one instance of A to be created, or don&#39;t allow A to create more than one Object? If it&#39;s the former, you&#39;re looking for the Singleton pattern","body":"you mean prevent more than one instance of A to be created, or don&#39;t allow A to create more than one Object? If it&#39;s the former, you&#39;re looking for the Singleton pattern"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652436737,"post_id":72227871,"comment_id":127611286,"body_markdown":"https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples","body":"<a href=\"https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples\" rel=\"nofollow noreferrer\">journaldev.com/1377/&hellip;</a>"},{"owner":{"account_id":1864268,"reputation":101,"user_id":1688176,"accept_rate":50,"display_name":"achan1989"},"score":0,"creation_date":1652436794,"post_id":72227871,"comment_id":127611308,"body_markdown":"Yes. The pattern should be singleton we can say.. but it should allow creating the first object using new.. and it should not allow creating any more objects.","body":"Yes. The pattern should be singleton we can say.. but it should allow creating the first object using new.. and it should not allow creating any more objects."},{"owner":{"account_id":169767,"reputation":2742,"user_id":396033,"accept_rate":89,"display_name":"Kamil"},"score":0,"creation_date":1652436828,"post_id":72227871,"comment_id":127611328,"body_markdown":"@achan1989 I&#39;ve already voted for the suggestion of the singleton pattern usage, but is there any chanse that you could share the reason why you need such mechanism?","body":"@achan1989 I&#39;ve already voted for the suggestion of the singleton pattern usage, but is there any chanse that you could share the reason why you need such mechanism?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1652436942,"post_id":72227871,"comment_id":127611373,"body_markdown":"Use a `static` field that determines if a new instance can be created.","body":"Use a <code>static</code> field that determines if a new instance can be created."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652436944,"post_id":72227871,"comment_id":127611375,"body_markdown":"Do you really want to get an exception for a second instantiation attempt? There are mechanisms to prevent the attempt beforehand, i.e. at compile-time.","body":"Do you really want to get an exception for a second instantiation attempt? There are mechanisms to prevent the attempt beforehand, i.e. at compile-time."},{"owner":{"account_id":1864268,"reputation":101,"user_id":1688176,"accept_rate":50,"display_name":"achan1989"},"score":0,"creation_date":1652437234,"post_id":72227871,"comment_id":127611454,"body_markdown":"@Holger yes. It should give exception at compile time.","body":"@Holger yes. It should give exception at compile time."},{"owner":{"account_id":1864268,"reputation":101,"user_id":1688176,"accept_rate":50,"display_name":"achan1989"},"score":0,"creation_date":1652437296,"post_id":72227871,"comment_id":127611471,"body_markdown":"@Kamil Actually I have come across this question while giving an interview. And I don&#39;t find any way to do it.","body":"@Kamil Actually I have come across this question while giving an interview. And I don&#39;t find any way to do it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1652437375,"post_id":72227871,"comment_id":127611493,"body_markdown":"Don’t confuse exceptions and compiler errors. So read [What is an efficient way to implement a singleton pattern in Java?](https://stackoverflow.com/q/70689/2711488)","body":"Don’t confuse exceptions and compiler errors. So read <a href=\"https://stackoverflow.com/q/70689/2711488\">What is an efficient way to implement a singleton pattern in Java?</a>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":2,"creation_date":1652437476,"post_id":72227871,"comment_id":127611527,"body_markdown":"&quot;It should give exception at compile time&quot; =&gt; either it doesn&#39;t compile, or it throws an exception when executed (at runtime). The standard compiler will always let you compile that code even if it then fails at runtime. So if you really want to make it fail at compile time, you should pre-process it (for example with an annotation processor or a custom maven plugin). Even though I really think you simply want a Singleton pattern.","body":"&quot;It should give exception at compile time&quot; =&gt; either it doesn&#39;t compile, or it throws an exception when executed (at runtime). The standard compiler will always let you compile that code even if it then fails at runtime. So if you really want to make it fail at compile time, you should pre-process it (for example with an annotation processor or a custom maven plugin). Even though I really think you simply want a Singleton pattern."}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652436909,"creation_date":1652436909,"answer_id":72227923,"question_id":72227871,"body_markdown":"to try your additional requirement:\r\n\r\nThis should work, but I don&#39;t really see a point to it.\r\n\r\n    public class A {\r\n    \r\n      private static boolean instantiated;\r\n    \r\n      public A() throws Exception {\r\n        if ( instantiated ) {\r\n          throw new Exception(&quot;Already instantiated&quot;);\r\n        }\r\n        instantiated = true;\r\n      }\r\n    }","title":"Restrict a class for creating second object in java","body":"<p>to try your additional requirement:</p>\n<p>This should work, but I don't really see a point to it.</p>\n<pre><code>public class A {\n\n  private static boolean instantiated;\n\n  public A() throws Exception {\n    if ( instantiated ) {\n      throw new Exception(&quot;Already instantiated&quot;);\n    }\n    instantiated = true;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19701987,"reputation":56,"user_id":14906828,"display_name":"rlowell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652438137,"creation_date":1652438137,"answer_id":72228203,"question_id":72227871,"body_markdown":"You can use the special Singleton pattern. Most of the examples are on the internet.\r\n\r\n        public class Singleton {\r\n        private static Singleton instance;\r\n    \r\n        public static synchronized Singleton getInstance() {\r\n            if (instance == null)\r\n                instance = new Singleton();\r\n            return instance;\r\n        }\r\n    }","title":"Restrict a class for creating second object in java","body":"<p>You can use the special Singleton pattern. Most of the examples are on the internet.</p>\n<pre><code>    public class Singleton {\n    private static Singleton instance;\n\n    public static synchronized Singleton getInstance() {\n        if (instance == null)\n            instance = new Singleton();\n        return instance;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1864268,"reputation":101,"user_id":1688176,"accept_rate":50,"display_name":"achan1989"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652438330,"creation_date":1652436608,"question_id":72227871,"body_markdown":"Is there a way where we can restrict a class to create only a single object in java? It should give some exceptions if we try to create another new object.\r\nExample:\r\n\r\n    class A {}\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n        A a1 =new A(); //This should be allowed\r\n        A a2 =new A(); // This should not be allowed\r\n    \r\n        }\r\n    }","title":"Restrict a class for creating second object in java","body":"<p>Is there a way where we can restrict a class to create only a single object in java? It should give some exceptions if we try to create another new object.\nExample:</p>\n<pre><code>class A {}\npublic class Test {\n\n    public static void main(String[] args) {\n\n    A a1 =new A(); //This should be allowed\n    A a2 =new A(); // This should not be allowed\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"score":0,"creation_date":1652435373,"post_id":72227567,"comment_id":127610788,"body_markdown":"Try adding the current directory to the classpath by adding `-cp .` to the `java` command.","body":"Try adding the current directory to the classpath by adding <code>-cp .</code> to the <code>java</code> command."},{"owner":{"account_id":416909,"reputation":5244,"user_id":792589,"accept_rate":72,"display_name":"aarelovich"},"score":0,"creation_date":1652435484,"post_id":72227567,"comment_id":127610842,"body_markdown":"I tried doing this &#39;java Main -cp . &#39; and  it was the exact same error","body":"I tried doing this &#39;java Main -cp . &#39; and  it was the exact same error"},{"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"score":1,"creation_date":1652435798,"post_id":72227567,"comment_id":127610962,"body_markdown":"Also, Main and VMAPI should be in the same package.  You don&#39;t need to use an `import` if they are peers of each other.  In Java, the `package` usually matches the directory structure.\n\nAlternatively: you can fix it by running `mkdir VMAPI &amp;&amp; mv VMAPI.class  VMAPI`","body":"Also, Main and VMAPI should be in the same package.  You don&#39;t need to use an <code>import</code> if they are peers of each other.  In Java, the <code>package</code> usually matches the directory structure.  Alternatively: you can fix it by running <code>mkdir VMAPI &amp;&amp; mv VMAPI.class  VMAPI</code>"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1652436081,"post_id":72227567,"comment_id":127611067,"body_markdown":"please check .class file in directory in which you are running this command.also please check comment of @CarlMastrangelo","body":"please check .class file in directory in which you are running this command.also please check comment of @CarlMastrangelo"},{"owner":{"account_id":416909,"reputation":5244,"user_id":792589,"accept_rate":72,"display_name":"aarelovich"},"score":0,"creation_date":1652436773,"post_id":72227567,"comment_id":127611298,"body_markdown":"@CarlMastrangelo I found a solution in this answer: https://i.stack.imgur.com/d1PIl.png Which seems to do what you suggest as it creates de vmapi directory (swithced to lower case as per the answer&#39;s suggestion). Thank you it is now working!","body":"@CarlMastrangelo I found a solution in this answer: <a href=\"https://i.stack.imgur.com/d1PIl.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/d1PIl.png</a> Which seems to do what you suggest as it creates de vmapi directory (swithced to lower case as per the answer&#39;s suggestion). Thank you it is now working!"},{"owner":{"account_id":416909,"reputation":5244,"user_id":792589,"accept_rate":72,"display_name":"aarelovich"},"score":0,"creation_date":1652436798,"post_id":72227567,"comment_id":127611312,"body_markdown":"The answer that worked for me: https://stackoverflow.com/questions/20365885/how-do-i-run-java-program-with-multiple-classes-from-cmd","body":"The answer that worked for me: <a href=\"https://stackoverflow.com/questions/20365885/how-do-i-run-java-program-with-multiple-classes-from-cmd\" title=\"how do i run java program with multiple classes from cmd\">stackoverflow.com/questions/20365885/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652438165,"post_id":72227567,"comment_id":127611773,"body_markdown":"If both classes are in the same directory, then that directory should be called `VMAPI`, and the `Main` class should also start with `package VMAPI;`. If that is the case, you need to go one directory up, and then you can use `java VMAPI.Main`.","body":"If both classes are in the same directory, then that directory should be called <code>VMAPI</code>, and the <code>Main</code> class should also start with <code>package VMAPI;</code>. If that is the case, you need to go one directory up, and then you can use <code>java VMAPI.Main</code>."}],"answers":[{"tags":[],"owner":{"account_id":6952311,"reputation":13,"user_id":5334565,"display_name":"Kumar Deepak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652435825,"creation_date":1652435825,"answer_id":72227704,"question_id":72227567,"body_markdown":"As per the Java recommendation, you should not have this type of naming convention.\r\nPackage name should be in lower case and class name should start with capital letter (camel) and try to have different names.\r\n\r\nfor example:\r\npackage name - vmapi\r\nclass name - VmapiClass (this is just an example but you know the context)\r\n\r\nthen your import should be like this.\r\n\r\nimport vmapi.VmapiClass;\r\n","title":"Exception java.lang.ClassNotFoundException when importing a class in my local dir","body":"<p>As per the Java recommendation, you should not have this type of naming convention.\nPackage name should be in lower case and class name should start with capital letter (camel) and try to have different names.</p>\n<p>for example:\npackage name - vmapi\nclass name - VmapiClass (this is just an example but you know the context)</p>\n<p>then your import should be like this.</p>\n<p>import vmapi.VmapiClass;</p>\n"}],"owner":{"account_id":416909,"reputation":5244,"user_id":792589,"accept_rate":72,"display_name":"aarelovich"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652438017,"answer_count":1,"score":0,"last_activity_date":1652438308,"creation_date":1652435250,"question_id":72227567,"body_markdown":"I created two files in the same directory.\r\n\r\nOne is called VMAPI.java\r\n\r\n    package VMAPI;\r\n    \r\n    public class VMAPI {\r\n       public VMAPI() {\r\n    \r\n          System.out.println(&quot;Created VMAPI&quot;);\r\n    \r\n       }\r\n    \r\n    } \r\n\r\nThe other one is called Main.java and looks like this:\r\n\r\n     import VMAPI.VMAPI;\r\n     \r\n     public class Main {\r\n    \r\n        public static void main (String[] args){\r\n    \r\n           VMAPI vmapi = new VMAPI();\r\n    \r\n        }\r\n    \r\n    \r\n     }\r\n\r\nI compile this using the command \r\n\r\n    javac *.java\r\n\r\nAnd Run using\r\n\r\n    java Main\r\n\r\nWhen I do, I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: VMAPI/VMAPI\r\n            at Main.main(Main.java:9)\r\n    Caused by: java.lang.ClassNotFoundException: VMAPI.VMAPI\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            ... 1 more\r\n\r\nI understand the error is telling me that it can&#39;t find the VMAPI class, but I don&#39;t understand why. \r\n\r\nAll I want to do is create maybe 2 or 3 classes for a very simple example use in my main function and that&#39;s it. I don&#39;t wan to use an IDE and want to compile, preferably with the command line.\r\n\r\n","title":"Exception java.lang.ClassNotFoundException when importing a class in my local dir","body":"<p>I created two files in the same directory.</p>\n<p>One is called VMAPI.java</p>\n<pre><code>package VMAPI;\n\npublic class VMAPI {\n   public VMAPI() {\n\n      System.out.println(&quot;Created VMAPI&quot;);\n\n   }\n\n} \n</code></pre>\n<p>The other one is called Main.java and looks like this:</p>\n<pre><code> import VMAPI.VMAPI;\n \n public class Main {\n\n    public static void main (String[] args){\n\n       VMAPI vmapi = new VMAPI();\n\n    }\n\n\n }\n</code></pre>\n<p>I compile this using the command</p>\n<pre><code>javac *.java\n</code></pre>\n<p>And Run using</p>\n<pre><code>java Main\n</code></pre>\n<p>When I do, I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: VMAPI/VMAPI\n        at Main.main(Main.java:9)\nCaused by: java.lang.ClassNotFoundException: VMAPI.VMAPI\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 1 more\n</code></pre>\n<p>I understand the error is telling me that it can't find the VMAPI class, but I don't understand why.</p>\n<p>All I want to do is create maybe 2 or 3 classes for a very simple example use in my main function and that's it. I don't wan to use an IDE and want to compile, preferably with the command line.</p>\n"},{"tags":["java","jms","activemq"],"comments":[{"owner":{"account_id":64910,"reputation":19196,"user_id":191367,"accept_rate":100,"display_name":"KeatsPeeks"},"score":0,"creation_date":1517915650,"post_id":48600321,"comment_id":84279806,"body_markdown":"This is supported and your code snippet is correct, so your issue is elsewhere, you&#39;ll need to provide more information.","body":"This is supported and your code snippet is correct, so your issue is elsewhere, you&#39;ll need to provide more information."},{"owner":{"account_id":1578773,"reputation":2048,"user_id":1464597,"accept_rate":42,"display_name":"mohsenJsh"},"score":0,"creation_date":1517995877,"post_id":48600321,"comment_id":84317851,"body_markdown":"@KeatsPeeks what is supported? using same jmsListenerContainerFactory for all jmsListeners?","body":"@KeatsPeeks what is supported? using same jmsListenerContainerFactory for all jmsListeners?"}],"answers":[{"tags":[],"owner":{"display_name":"user9323020"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518173714,"creation_date":1518173714,"answer_id":48704294,"question_id":48600321,"body_markdown":"I think the issues lies in the fact that you have set the concurrency on **1** for the `JmsListenerContainerFactory` used by both listeners.\r\n\r\nIf needed you can create multiple `JmsListenerContainerFactory` and set them for a `JmsListener` by specifying the [JmsListener#containerFactory](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/annotation/JmsListener.html#containerFactory--) property.\r\n\r\n","title":"How to configure multiple JmsListener for multiple topics","body":"<p>I think the issues lies in the fact that you have set the concurrency on <strong>1</strong> for the <code>JmsListenerContainerFactory</code> used by both listeners.</p>\n\n<p>If needed you can create multiple <code>JmsListenerContainerFactory</code> and set them for a <code>JmsListener</code> by specifying the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/annotation/JmsListener.html#containerFactory--\" rel=\"noreferrer\">JmsListener#containerFactory</a> property.</p>\n"},{"tags":[],"owner":{"account_id":1578773,"reputation":2048,"user_id":1464597,"accept_rate":42,"display_name":"mohsenJsh"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1518423368,"creation_date":1518423368,"answer_id":48742011,"question_id":48600321,"body_markdown":"I find out that by **moving `setClientID()` from ActiveMQConnectionFactory provider method to DefaultJmsListenerContainerFactory provider method**, \r\n\r\nI can have only one globaly ActiveMQConnectionFactory provider method and multiple DefaultJmsListenerContainerFactory provider method for each jmsListener:\r\n\r\nSo the final working code is:\r\n\r\n\r\nJMSConfig file:\r\n\r\n\r\n    @Configuration\r\n    @EnableJms\r\n    public class FooJmsConfig {\r\n\r\n    @Bean\r\n    public ActiveMQConnectionFactory connectionFactory() {\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n        connectionFactory.setBrokerURL(BROKER_URL);\r\n        connectionFactory.setPassword(BROKER_USERNAME);\r\n        connectionFactory.setUserName(BROKER_PASSWORD);\r\n        connectionFactory.setUseCompression(true);\r\n        \r\n        connectionFactory.setConnectionIDPrefix(&quot;DRR&quot;);\r\n        connectionFactory.setUseAsyncSend(true);\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean(name= &quot;foo1&quot;)\r\n    public DefaultJmsListenerContainerFactory foo1() {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory());\r\n        factory.setConcurrency(&quot;1-1&quot;);\r\n        factory.setPubSubDomain(true);\r\n        factory.setSubscriptionDurable(true);\r\n\r\n        connectionFactory.setClientID(&quot;FOO_1&quot;);\r\n        return factory;\r\n    }\r\n\r\n     @Bean(name= &quot;foo2&quot;)\r\n    public DefaultJmsListenerContainerFactory foo2() {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory());\r\n        factory.setConcurrency(&quot;1-1&quot;);\r\n        factory.setPubSubDomain(true);\r\n        factory.setSubscriptionDurable(true);\r\n\r\n        connectionFactory.setClientID(&quot;FOO_1&quot;);\r\n        return factory;\r\n    }\r\n\r\n    }\r\n\r\n\r\nand jms listeners will be\r\n\r\n\r\n    @JmsListener(destination = &quot;foo1&quot;, containerFactory=&quot;foo1&quot;)\r\n    public void foo1(final Message jsonMessage) throws JMSException {\r\n    ...\r\n    }\r\n\r\n    @JmsListener(destination = &quot;foo2&quot;, containerFactory=&quot;foo2&quot;)\r\n    public void foo12(final Message jsonMessage) throws JMSException {\r\n    ...\r\n    }\r\n\r\n","title":"How to configure multiple JmsListener for multiple topics","body":"<p>I find out that by <strong>moving <code>setClientID()</code> from ActiveMQConnectionFactory provider method to DefaultJmsListenerContainerFactory provider method</strong>, </p>\n\n<p>I can have only one globaly ActiveMQConnectionFactory provider method and multiple DefaultJmsListenerContainerFactory provider method for each jmsListener:</p>\n\n<p>So the final working code is:</p>\n\n<p>JMSConfig file:</p>\n\n<pre><code>@Configuration\n@EnableJms\npublic class FooJmsConfig {\n\n@Bean\npublic ActiveMQConnectionFactory connectionFactory() {\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n    connectionFactory.setBrokerURL(BROKER_URL);\n    connectionFactory.setPassword(BROKER_USERNAME);\n    connectionFactory.setUserName(BROKER_PASSWORD);\n    connectionFactory.setUseCompression(true);\n\n    connectionFactory.setConnectionIDPrefix(\"DRR\");\n    connectionFactory.setUseAsyncSend(true);\n    return connectionFactory;\n}\n\n@Bean(name= \"foo1\")\npublic DefaultJmsListenerContainerFactory foo1() {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory());\n    factory.setConcurrency(\"1-1\");\n    factory.setPubSubDomain(true);\n    factory.setSubscriptionDurable(true);\n\n    connectionFactory.setClientID(\"FOO_1\");\n    return factory;\n}\n\n @Bean(name= \"foo2\")\npublic DefaultJmsListenerContainerFactory foo2() {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory());\n    factory.setConcurrency(\"1-1\");\n    factory.setPubSubDomain(true);\n    factory.setSubscriptionDurable(true);\n\n    connectionFactory.setClientID(\"FOO_1\");\n    return factory;\n}\n\n}\n</code></pre>\n\n<p>and jms listeners will be</p>\n\n<pre><code>@JmsListener(destination = \"foo1\", containerFactory=\"foo1\")\npublic void foo1(final Message jsonMessage) throws JMSException {\n...\n}\n\n@JmsListener(destination = \"foo2\", containerFactory=\"foo2\")\npublic void foo12(final Message jsonMessage) throws JMSException {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11214422,"reputation":451,"user_id":8227514,"display_name":"YAP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652438175,"creation_date":1652438175,"answer_id":72228211,"question_id":48600321,"body_markdown":"You can have multiple JMSFactory connections established. Default JMS listeners only accepts singleton connectionfactory object. So you need to setup two beans of jmslistenercontainerfactory itself.\r\n\r\nThe code for the connection to the individual topic would be like this: \r\n\r\n    \r\n    @Configuration\r\n    @EnableJms\r\n    @EnableTransactionManagement\r\n    public class JMSConnectionConfig{\r\n\r\n    private static final String AMQP_URI_FORMAT = &quot;amqps://%s?amqp.idleTimeout=%d&quot;;\r\n\r\n    private int idleTimeout;\r\n\r\n    private String hostURL;\r\n\r\n    @Bean(name = &quot;cachingConnectionFactory1&quot;)\r\n    @Primary\r\n    public ConnectionFactory myConnectionFactory1() {\r\n        // set up connection details to the topic\r\n        String remoteUri = String.format(AMQP_URI_FORMAT, hostURL, idleTimeout);\r\n        JmsConnectionFactory jmsConnectionFactory = new JmsConnectionFactory();\r\n        jmsConnectionFactory.setRemoteURI(remoteUri);\r\n        jmsConnectionFactory.setClientID(clientId);\r\n        jmsConnectionFactory.setUsername(topic1SASName);\r\n        jmsConnectionFactory.setPassword(topic1SASKey);\r\n        // create caching factory object and return as connectionfactory parent object\r\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n        cachingConnectionFactory.setTargetConnectionFactory(jmsConnectionFactory);\r\n        cachingConnectionFactory.setReconnectOnException(true);\r\n        return cachingConnectionFactory;\r\n    }\r\n\r\n    @Bean(name = &quot;factory1&quot;)\r\n    public JmsListenerContainerFactory&lt;?&gt; factory1(@Qualifier(&quot;cachingConnectionFactory1&quot;) ConnectionFactory connectionFactory,\r\n                                                    DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n        DefaultJmsListenerContainerFactory topicFactory = new DefaultJmsListenerContainerFactory();\r\n        topicFactory.setConnectionFactory(connectionFactory);\r\n        topicFactory.setSubscriptionDurable(Boolean.TRUE);\r\n        // configure DefaultJmsListenerContainerFactoryConfigurer with caching factory and listener factory\r\n        configurer.configure(topicFactory, connectionFactory);\r\n        return topicFactory;\r\n    }\r\n\r\n    // Goes here for another topic in the same way as above two methods to establish initial connection to the topic\r\n    }\r\n\r\nThe code for JMS listener message receiver class will be like this, you can provide destination as your topic name and for factory, you can provide bean of conenction factory we setup as above:\r\n\r\n    @JmsListener(destination = &quot;${topic.name}&quot;, containerFactory = &quot;factory1&quot;,\r\n            subscription = &quot;${topic.subscription.name}&quot;)\r\n    public void receiveMessage(JmsTextMessage jmsTextMessage) throws JMSException, IOException, InterruptedException {\r\n        // listener code goes here\r\n    }","title":"How to configure multiple JmsListener for multiple topics","body":"<p>You can have multiple JMSFactory connections established. Default JMS listeners only accepts singleton connectionfactory object. So you need to setup two beans of jmslistenercontainerfactory itself.</p>\n<p>The code for the connection to the individual topic would be like this:</p>\n<pre><code>@Configuration\n@EnableJms\n@EnableTransactionManagement\npublic class JMSConnectionConfig{\n\nprivate static final String AMQP_URI_FORMAT = &quot;amqps://%s?amqp.idleTimeout=%d&quot;;\n\nprivate int idleTimeout;\n\nprivate String hostURL;\n\n@Bean(name = &quot;cachingConnectionFactory1&quot;)\n@Primary\npublic ConnectionFactory myConnectionFactory1() {\n    // set up connection details to the topic\n    String remoteUri = String.format(AMQP_URI_FORMAT, hostURL, idleTimeout);\n    JmsConnectionFactory jmsConnectionFactory = new JmsConnectionFactory();\n    jmsConnectionFactory.setRemoteURI(remoteUri);\n    jmsConnectionFactory.setClientID(clientId);\n    jmsConnectionFactory.setUsername(topic1SASName);\n    jmsConnectionFactory.setPassword(topic1SASKey);\n    // create caching factory object and return as connectionfactory parent object\n    CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n    cachingConnectionFactory.setTargetConnectionFactory(jmsConnectionFactory);\n    cachingConnectionFactory.setReconnectOnException(true);\n    return cachingConnectionFactory;\n}\n\n@Bean(name = &quot;factory1&quot;)\npublic JmsListenerContainerFactory&lt;?&gt; factory1(@Qualifier(&quot;cachingConnectionFactory1&quot;) ConnectionFactory connectionFactory,\n                                                DefaultJmsListenerContainerFactoryConfigurer configurer) {\n    DefaultJmsListenerContainerFactory topicFactory = new DefaultJmsListenerContainerFactory();\n    topicFactory.setConnectionFactory(connectionFactory);\n    topicFactory.setSubscriptionDurable(Boolean.TRUE);\n    // configure DefaultJmsListenerContainerFactoryConfigurer with caching factory and listener factory\n    configurer.configure(topicFactory, connectionFactory);\n    return topicFactory;\n}\n\n// Goes here for another topic in the same way as above two methods to establish initial connection to the topic\n}\n</code></pre>\n<p>The code for JMS listener message receiver class will be like this, you can provide destination as your topic name and for factory, you can provide bean of conenction factory we setup as above:</p>\n<pre><code>@JmsListener(destination = &quot;${topic.name}&quot;, containerFactory = &quot;factory1&quot;,\n        subscription = &quot;${topic.subscription.name}&quot;)\npublic void receiveMessage(JmsTextMessage jmsTextMessage) throws JMSException, IOException, InterruptedException {\n    // listener code goes here\n}\n</code></pre>\n"}],"owner":{"account_id":1578773,"reputation":2048,"user_id":1464597,"accept_rate":42,"display_name":"mohsenJsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8389,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":48742011,"answer_count":3,"score":15,"last_activity_date":1652438175,"creation_date":1517680720,"question_id":48600321,"body_markdown":"In my project I add two different JmsListener but when I run project in ActiveMQ panel only one of these topics has consumer!\r\n\r\nSo should I add separate jmsListenerContainerFactory configuration for each JmsListener ??\r\n\r\n    @JmsListener(destination = &quot;foo1&quot;)\r\n    public void foo1(final Message jsonMessage) throws JMSException {\r\n        ...\r\n    }\r\n\r\n    @JmsListener(destination = &quot;foo2&quot;)\r\n    public void foo12(final Message jsonMessage) throws JMSException {\r\n        ...\r\n    }\r\n\r\n**edit:** this is from JMS config file: \r\n\r\n    @Configuration\r\n    @EnableJms\r\n    public class FooJmsConfig {\r\n\r\n        @Bean\r\n        public ActiveMQConnectionFactory connectionFactory() {\r\n            ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n            connectionFactory.setBrokerURL(BROKER_URL);\r\n            connectionFactory.setPassword(BROKER_USERNAME);\r\n            connectionFactory.setUserName(BROKER_PASSWORD);\r\n            connectionFactory.setUseCompression(true);\r\n            connectionFactory.setClientID(&quot;FPP_API&quot;);\r\n            connectionFactory.setConnectionIDPrefix(&quot;DRR&quot;);\r\n            connectionFactory.setUseAsyncSend(true);\r\n            return connectionFactory;\r\n        }\r\n\r\n        @Bean\r\n        public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n            DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n            factory.setConnectionFactory(connectionFactory());\r\n            factory.setConcurrency(&quot;1-1&quot;);\r\n            factory.setPubSubDomain(true);\r\n            factory.setSubscriptionDurable(true);\r\n            return factory;\r\n        }\r\n    }","title":"How to configure multiple JmsListener for multiple topics","body":"<p>In my project I add two different JmsListener but when I run project in ActiveMQ panel only one of these topics has consumer!</p>\n\n<p>So should I add separate jmsListenerContainerFactory configuration for each JmsListener ??</p>\n\n<pre><code>@JmsListener(destination = \"foo1\")\npublic void foo1(final Message jsonMessage) throws JMSException {\n    ...\n}\n\n@JmsListener(destination = \"foo2\")\npublic void foo12(final Message jsonMessage) throws JMSException {\n    ...\n}\n</code></pre>\n\n<p><strong>edit:</strong> this is from JMS config file: </p>\n\n<pre><code>@Configuration\n@EnableJms\npublic class FooJmsConfig {\n\n    @Bean\n    public ActiveMQConnectionFactory connectionFactory() {\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n        connectionFactory.setBrokerURL(BROKER_URL);\n        connectionFactory.setPassword(BROKER_USERNAME);\n        connectionFactory.setUserName(BROKER_PASSWORD);\n        connectionFactory.setUseCompression(true);\n        connectionFactory.setClientID(\"FPP_API\");\n        connectionFactory.setConnectionIDPrefix(\"DRR\");\n        connectionFactory.setUseAsyncSend(true);\n        return connectionFactory;\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory());\n        factory.setConcurrency(\"1-1\");\n        factory.setPubSubDomain(true);\n        factory.setSubscriptionDurable(true);\n        return factory;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1652422904,"post_id":72225209,"comment_id":127606814,"body_markdown":"please share the List instanciation and class of the object into it","body":"please share the List instanciation and class of the object into it"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652427122,"post_id":72225209,"comment_id":127608049,"body_markdown":"what are you searching for? first name, last name, course, ... or gender? any of these? exact or partial match?","body":"what are you searching for? first name, last name, course, ... or gender? any of these? exact or partial match?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652423007,"creation_date":1652423007,"answer_id":72225238,"question_id":72225209,"body_markdown":"You need to compare the one property; also you can use a for-each loop to simplify the code\r\n\r\n```java\r\nfor(Student s : Student.students){\r\n    if(s.getName().equals(searchKey))\r\n        System.out.print(s);\r\n}\r\n```\r\n\r\n\r\n----\r\n\r\nNote : \r\n\r\nWhen you use a condition `Student.students.contains(searchKey)` in a loop, and it doesn&#39;t use the iteration variable that means there is a problem","title":"How do I know if an array list of objects contain a certain string?","body":"<p>You need to compare the one property; also you can use a for-each loop to simplify the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Student s : Student.students){\n    if(s.getName().equals(searchKey))\n        System.out.print(s);\n}\n</code></pre>\n<hr />\n<p>Note :</p>\n<p>When you use a condition <code>Student.students.contains(searchKey)</code> in a loop, and it doesn't use the iteration variable that means there is a problem</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652437998,"creation_date":1652437998,"answer_id":72228173,"question_id":72225209,"body_markdown":"You haven&#39;t defined what &#39;contains&#39; means here but I&#39;m going to assume that it means a Student contains the key if it appears as a substring in any of its String members.  So let&#39;s start with a method that does that.  We can define this as part of the Student class itself.\r\n\r\n    public class Student {\r\n      .... other stuff ....\r\n      /**\r\n       * Return true if any of the properties of this Student\r\n       * contain the given substring, false otherwise\r\n       */\r\n      public boolean contains(String s) {\r\n        // consider addressing null cases - omitting for simplicity\r\n        return firstName.contains(s) ||\r\n          lastName.contains(s) ||\r\n          course.contains(s) ||\r\n          yearLevel.contains(s) ||\r\n          gender.contains(s);\r\n      }\r\n    }\r\n\r\nNow you can iterate over your List&lt;Student&gt; and invoke this method to find the matches.  Note that you need to handle the case that multiple Students may match a given search key (or none may match).  So I would suggest collecting the results in a separate List.  One does not generally iterate over Lists via the index.  This example uses an enhanced for-loop (aka for-each).  \r\n\r\n    public List&lt;Student&gt; findMatches(List&lt;Student&gt; students, String key) {\r\n      List&lt;Student&gt; found = new ArrayList&lt;&gt;();\r\n      for (Student s : students) {\r\n        if (s.contains(key)) {\r\n          found.add(s);\r\n        }\r\n      }\r\n      return found;\r\n    }\r\n\r\nThis is a good case for using the Stream API.\r\n\r\n    public List&lt;Student&gt; findMatches(List&lt;Student&gt; students, String key) {\r\n      return students.stream()\r\n          .filter(s -&gt; s.contains(key))\r\n          .collect(Collectors.toList());\r\n    }","title":"How do I know if an array list of objects contain a certain string?","body":"<p>You haven't defined what 'contains' means here but I'm going to assume that it means a Student contains the key if it appears as a substring in any of its String members.  So let's start with a method that does that.  We can define this as part of the Student class itself.</p>\n<pre><code>public class Student {\n  .... other stuff ....\n  /**\n   * Return true if any of the properties of this Student\n   * contain the given substring, false otherwise\n   */\n  public boolean contains(String s) {\n    // consider addressing null cases - omitting for simplicity\n    return firstName.contains(s) ||\n      lastName.contains(s) ||\n      course.contains(s) ||\n      yearLevel.contains(s) ||\n      gender.contains(s);\n  }\n}\n</code></pre>\n<p>Now you can iterate over your List and invoke this method to find the matches.  Note that you need to handle the case that multiple Students may match a given search key (or none may match).  So I would suggest collecting the results in a separate List.  One does not generally iterate over Lists via the index.  This example uses an enhanced for-loop (aka for-each).</p>\n<pre><code>public List&lt;Student&gt; findMatches(List&lt;Student&gt; students, String key) {\n  List&lt;Student&gt; found = new ArrayList&lt;&gt;();\n  for (Student s : students) {\n    if (s.contains(key)) {\n      found.add(s);\n    }\n  }\n  return found;\n}\n</code></pre>\n<p>This is a good case for using the Stream API.</p>\n<pre><code>public List&lt;Student&gt; findMatches(List&lt;Student&gt; students, String key) {\n  return students.stream()\n      .filter(s -&gt; s.contains(key))\n      .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":25032321,"reputation":31,"user_id":18890007,"display_name":"Silly Bean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1652437998,"creation_date":1652422771,"question_id":72225209,"body_markdown":"I made a method that search through an array list of objects. Then if the searchKey is found in the array list it will print this certain item.\r\n\r\nHere is how I iterate through the array list if it contains the searchKey, but I just realized that it is impossible to compare a string and an object.\r\n\r\n    for(int x = 0; x &lt; Student.students.size(); x ++){\r\n    \tif(Student.students.contains(searchKey))\r\n    \t\tSystem.out.print(Student.students.get(x));\r\n    }\r\n\r\nHere&#39;s how I create the constructor and array list.\r\n\r\n\t\r\n\r\n    String firstName, lastName, course, yearLevel, gender;\r\n    \t\r\n    \tStudent(String firstName, String lastName, String course, String yearLevel, String gender)\r\n    \t{\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.lastName = lastName;\r\n    \t\tthis.course = course;\r\n    \t\tthis.yearLevel = yearLevel;\r\n    \t\tthis.gender = gender;\r\n    \t}\r\n    \r\n    \tstatic ArrayList&lt;Student&gt; students = new ArrayList&lt;Student&gt;();","title":"How do I know if an array list of objects contain a certain string?","body":"<p>I made a method that search through an array list of objects. Then if the searchKey is found in the array list it will print this certain item.</p>\n<p>Here is how I iterate through the array list if it contains the searchKey, but I just realized that it is impossible to compare a string and an object.</p>\n<pre><code>for(int x = 0; x &lt; Student.students.size(); x ++){\n    if(Student.students.contains(searchKey))\n        System.out.print(Student.students.get(x));\n}\n</code></pre>\n<p>Here's how I create the constructor and array list.</p>\n<pre><code>String firstName, lastName, course, yearLevel, gender;\n    \n    Student(String firstName, String lastName, String course, String yearLevel, String gender)\n    {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.course = course;\n        this.yearLevel = yearLevel;\n        this.gender = gender;\n    }\n\n    static ArrayList&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n</code></pre>\n"},{"tags":["java","windows","swing","file-io","windows-explorer"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":4,"creation_date":1369612858,"post_id":16764702,"comment_id":24153032,"body_markdown":"That image is the open dialog from MS Word not Windows Explorer. The latter has no _open_ dialog","body":"That image is the open dialog from MS Word not Windows Explorer. The latter has no <i>open</i> dialog"},{"owner":{"account_id":2819094,"reputation":51,"user_id":2423279,"display_name":"Jasmine Mercier"},"score":0,"creation_date":1369613100,"post_id":16764702,"comment_id":24153074,"body_markdown":"Yea just as an example","body":"Yea just as an example"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1369613193,"post_id":16764702,"comment_id":24153089,"body_markdown":"You need to be more specific. Windows Explorer has no open dialog whereas there is an open dialog for all MS Office apps","body":"You need to be more specific. Windows Explorer has no open dialog whereas there is an open dialog for all MS Office apps"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1369613680,"post_id":16764702,"comment_id":24153166,"body_markdown":"@JasmineMercier The question is, why?  What&#39;s wrong with `JFileChooser`?  Have you tried [`FileDialog`](http://docs.oracle.com/javase/7/docs/api/java/awt/FileDialog.html)","body":"@JasmineMercier The question is, why?  What&#39;s wrong with <code>JFileChooser</code>?  Have you tried <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/FileDialog.html\" rel=\"nofollow noreferrer\"><code>FileDialog</code></a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1369613753,"post_id":16764702,"comment_id":24153187,"body_markdown":"Java doesn&#39;t have access to the API of Windows applications so you can&#39;t invoke those dialogs.","body":"Java doesn&#39;t have access to the API of Windows applications so you can&#39;t invoke those dialogs."},{"owner":{"account_id":2819094,"reputation":51,"user_id":2423279,"display_name":"Jasmine Mercier"},"score":0,"creation_date":1369613952,"post_id":16764702,"comment_id":24153225,"body_markdown":"The program is for non-technical people and I&#39;d like the look to match what they&#39;re used to(Windows Explorer, not Swing&#39;s FileChooser)","body":"The program is for non-technical people and I&#39;d like the look to match what they&#39;re used to(Windows Explorer, not Swing&#39;s FileChooser)"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1369614009,"post_id":16764702,"comment_id":24153237,"body_markdown":"Then set the L&amp;F to that of the current platform","body":"Then set the L&amp;F to that of the current platform"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1369619720,"post_id":16764702,"comment_id":24154142,"body_markdown":"@Reimeus I think you need to make that an answer, may be with a little demo code!","body":"@Reimeus I think you need to make that an answer, may be with a little demo code!"},{"owner":{"account_id":2320147,"reputation":541,"user_id":2036130,"display_name":"John Ranger"},"score":0,"creation_date":1568986138,"post_id":16764702,"comment_id":102461012,"body_markdown":"The question is very ok. I don&#39;t understand the negative votes. Therefore +1 to compensate for the negative vote.","body":"The question is very ok. I don&#39;t understand the negative votes. Therefore +1 to compensate for the negative vote."}],"answers":[{"tags":[],"owner":{"account_id":1316907,"reputation":3571,"user_id":1263556,"accept_rate":60,"display_name":"Stony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1369612186,"creation_date":1369612186,"answer_id":16764736,"question_id":16764702,"body_markdown":"We can use JFileChoose,\r\n\r\n\tJFileChooser chooser = new JFileChooser();\r\n\t\t\t\tint status = chooser.showOpenDialog(null);\r\n\t\t\t\tif (status == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\t\tFile file = chooser.getSelectedFile();\r\n\t\t\t\t\tif (file == null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tString fileName = chooser.getSelectedFile().getAbsolutePath();\r\n       ......\r\n\r\n\t\t\t\t}","title":"Using Windows Explorer&#39;s &quot;Open File&quot; function in Java","body":"<p>We can use JFileChoose,</p>\n\n<pre><code>JFileChooser chooser = new JFileChooser();\n            int status = chooser.showOpenDialog(null);\n            if (status == JFileChooser.APPROVE_OPTION) {\n                File file = chooser.getSelectedFile();\n                if (file == null) {\n                    return;\n                }\n\n                String fileName = chooser.getSelectedFile().getAbsolutePath();\n   ......\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1652437455,"creation_date":1369623052,"answer_id":16765734,"question_id":16764702,"body_markdown":"Have a look at using [JFileChooser][1] while using the native system&#39;s [look &amp; feel][2]:\r\n\r\n![enter image description here][3]\r\n\r\n    public class NativeOpenDialogDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                       ex.printStackTrace();\r\n                    }\r\n    \r\n                    final JFrame frame = new JFrame(&quot;Open File Example&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    JButton openButton = new JButton(&quot;Open&quot;);\r\n                    openButton.addActionListener(new ActionListener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t\t\tJFileChooser chooser = new JFileChooser();\r\n    \t\t\t\t        if (chooser.showOpenDialog(frame) == JFileChooser.APPROVE_OPTION) {\r\n    \t\t\t\t        \t// do something\r\n    \t\t\t\t        }\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n                    frame.add(openButton);\r\n                    frame.pack();\r\n                    frame.setLocationByPlatform(true);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/\r\n  [3]: http://i.stack.imgur.com/POndm.png","title":"Using Windows Explorer&#39;s &quot;Open File&quot; function in Java","body":"<p>Have a look at using <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\" rel=\"nofollow noreferrer\">JFileChooser</a> while using the native system's <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/\" rel=\"nofollow noreferrer\">look &amp; feel</a>:</p>\n<p><img src=\"https://i.stack.imgur.com/POndm.png\" alt=\"enter image description here\" /></p>\n<pre><code>public class NativeOpenDialogDemo {\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                   ex.printStackTrace();\n                }\n\n                final JFrame frame = new JFrame(&quot;Open File Example&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                JButton openButton = new JButton(&quot;Open&quot;);\n                openButton.addActionListener(new ActionListener() {\n                    \n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        JFileChooser chooser = new JFileChooser();\n                        if (chooser.showOpenDialog(frame) == JFileChooser.APPROVE_OPTION) {\n                            // do something\n                        }\n                    }\n                });\n                frame.add(openButton);\n                frame.pack();\n                frame.setLocationByPlatform(true);\n                frame.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2819094,"reputation":51,"user_id":2423279,"display_name":"Jasmine Mercier"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12179,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"closed_date":1369636666,"answer_count":2,"score":3,"last_activity_date":1652437455,"creation_date":1369611765,"question_id":16764702,"body_markdown":"Using this in Java will open Windows Explorer to the C drive:\r\n\r\n    Desktop.getDesktop().open(new File(&quot;c:\\\\&quot;));\r\n\r\nHowever, I also need the &quot;Open File&quot; functions highlighted here: https://i.stack.imgur.com/VNtMj.jpg\r\n\r\nIs there a way to implement this in Java (using Windows Explorer, not Swing&#39;s FileChooser)?","title":"Using Windows Explorer&#39;s &quot;Open File&quot; function in Java","body":"<p>Using this in Java will open Windows Explorer to the C drive:</p>\n\n<pre><code>Desktop.getDesktop().open(new File(\"c:\\\\\"));\n</code></pre>\n\n<p>However, I also need the \"Open File\" functions highlighted here: <a href=\"https://i.stack.imgur.com/VNtMj.jpg\" rel=\"noreferrer\">https://i.stack.imgur.com/VNtMj.jpg</a></p>\n\n<p>Is there a way to implement this in Java (using Windows Explorer, not Swing's FileChooser)?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1652434547,"post_id":72227376,"comment_id":127610514,"body_markdown":"Nothing to do with alternation (the &quot;OR&quot;) - your first pattern is unbounded, so it matches any alphanumeric in any place. Moreover, it only expects one character.","body":"Nothing to do with alternation (the &quot;OR&quot;) - your first pattern is unbounded, so it matches any alphanumeric in any place. Moreover, it only expects one character."},{"owner":{"account_id":24243382,"reputation":21,"user_id":18195443,"display_name":"Nursd"},"score":0,"creation_date":1652435751,"post_id":72227376,"comment_id":127610945,"body_markdown":"How to bound it to meet the requirements ?","body":"How to bound it to meet the requirements ?"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1652436968,"post_id":72227376,"comment_id":127611385,"body_markdown":"[How do I match an entire string with a regex?](https://stackoverflow.com/q/4123455) | [Difference between matches() and find() in Java Regex](https://stackoverflow.com/q/4450045) | [Regex for checking if a string is strictly alphanumeric](https://stackoverflow.com/q/11241690)","body":"<a href=\"https://stackoverflow.com/q/4123455\">How do I match an entire string with a regex?</a> | <a href=\"https://stackoverflow.com/q/4450045\">Difference between matches() and find() in Java Regex</a> | <a href=\"https://stackoverflow.com/q/11241690\">Regex for checking if a string is strictly alphanumeric</a>"},{"owner":{"account_id":17253187,"reputation":15250,"user_id":12492890,"display_name":"lemon"},"score":0,"creation_date":1652437063,"post_id":72227376,"comment_id":127611413,"body_markdown":"You&#39;re missing a + on the first part: `[a-zA-Z0-9]+`, which will tell you the regex to accept one **or more** alphanumeric characters.","body":"You&#39;re missing a + on the first part: <code>[a-zA-Z0-9]+</code>, which will tell you the regex to accept one <b>or more</b> alphanumeric characters."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652437368,"creation_date":1652437368,"answer_id":72228028,"question_id":72227376,"body_markdown":"For me, it&#39;s really hard to determine exactly what your trying to parse out and what you are parsing from. I gathered it&#39;s a json something or another which makes me wonder why you&#39;re not using a json parser. \r\n\r\nIn any case perhaps try this slightly modified regex with `Pattern/Matcher` and pull out group(0) (full matches) with `matcher.find()`, for example:\r\n\r\n    String regex = &quot;\\\\b[a-zA-Z0-9]+\\\\b|^\\\\{(\\\\s*\\\\\\&quot;[a-zA-Z]+\\\\w*\\\\\\&quot;\\\\s*:\\\\s*\\\\\\&quot;?\\\\w+\\\\.*\\\\d*\\\\\\&quot;?\\\\s*)\\\\}$&quot;;\r\n    String string = &quot;Work\\n&quot;\r\n                  + &quot;{\\&quot;name\\&quot;: \\&quot;name\\&quot;}\\n&quot;\r\n                  + &quot;War And Piece&quot;;\r\n        \r\n    final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n    final Matcher matcher = pattern.matcher(string);\r\n        \r\n    while (matcher.find()) {\r\n        System.out.println(&quot;Full match: &quot; + matcher.group(0));\r\n    }\r\n\r\nWhen run I get the following within the console Window:\r\n\r\n```\r\nFull match: Work\r\nFull match: {&quot;name&quot;: &quot;name&quot;}\r\nFull match: War\r\nFull match: And\r\nFull match: Piece\r\n```\r\n\r\nIf this is not what you are looking for then I&#39;ll just delete this post.","title":"Seems RegEx&#39;s &#39;OR&#39; operator does not work","body":"<p>For me, it's really hard to determine exactly what your trying to parse out and what you are parsing from. I gathered it's a json something or another which makes me wonder why you're not using a json parser.</p>\n<p>In any case perhaps try this slightly modified regex with <code>Pattern/Matcher</code> and pull out group(0) (full matches) with <code>matcher.find()</code>, for example:</p>\n<pre><code>String regex = &quot;\\\\b[a-zA-Z0-9]+\\\\b|^\\\\{(\\\\s*\\\\\\&quot;[a-zA-Z]+\\\\w*\\\\\\&quot;\\\\s*:\\\\s*\\\\\\&quot;?\\\\w+\\\\.*\\\\d*\\\\\\&quot;?\\\\s*)\\\\}$&quot;;\nString string = &quot;Work\\n&quot;\n              + &quot;{\\&quot;name\\&quot;: \\&quot;name\\&quot;}\\n&quot;\n              + &quot;War And Piece&quot;;\n    \nfinal Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\nfinal Matcher matcher = pattern.matcher(string);\n    \nwhile (matcher.find()) {\n    System.out.println(&quot;Full match: &quot; + matcher.group(0));\n}\n</code></pre>\n<p>When run I get the following within the console Window:</p>\n<pre><code>Full match: Work\nFull match: {&quot;name&quot;: &quot;name&quot;}\nFull match: War\nFull match: And\nFull match: Piece\n</code></pre>\n<p>If this is not what you are looking for then I'll just delete this post.</p>\n"}],"owner":{"account_id":24243382,"reputation":21,"user_id":18195443,"display_name":"Nursd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652437368,"creation_date":1652434325,"question_id":72227376,"body_markdown":"I have a pattern of regex that should match input that way:\r\n\r\nWork -&gt; correct\r\n\r\n{&quot;name&quot;: &quot;name&quot;} -&gt; correct (any correct json format object)\r\n\r\nWar And Piece -&gt; incorrect\r\n\r\n\r\n    Expression: &quot;[a-zA-Z0-9]|^\\{(\\s*\\&quot;[a-zA-Z]+\\w*\\&quot;\\s*:\\s*\\&quot;?\\w+\\.*\\d*\\&quot;?\\s*)}$&quot;\r\n\r\nbut first part of expression does not work. It accepts\r\n{&quot;name&quot;: &quot;name&quot;}, but does not accept &#39;Work&#39;","title":"Seems RegEx&#39;s &#39;OR&#39; operator does not work","body":"<p>I have a pattern of regex that should match input that way:</p>\n<p>Work -&gt; correct</p>\n<p>{&quot;name&quot;: &quot;name&quot;} -&gt; correct (any correct json format object)</p>\n<p>War And Piece -&gt; incorrect</p>\n<pre><code>Expression: &quot;[a-zA-Z0-9]|^\\{(\\s*\\&quot;[a-zA-Z]+\\w*\\&quot;\\s*:\\s*\\&quot;?\\w+\\.*\\d*\\&quot;?\\s*)}$&quot;\n</code></pre>\n<p>but first part of expression does not work. It accepts\n{&quot;name&quot;: &quot;name&quot;}, but does not accept 'Work'</p>\n"},{"tags":["java","spring-boot","export-to-csv","opencsv"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1652349380,"post_id":72213355,"comment_id":127586865,"body_markdown":"Where are you flushing or closing your writer?","body":"Where are you flushing or closing your writer?"},{"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"score":0,"creation_date":1652349838,"post_id":72213355,"comment_id":127587010,"body_markdown":"Hi k314159, I&#39;m using a Try-With-Resources, so it does the trick automatically","body":"Hi k314159, I&#39;m using a Try-With-Resources, so it does the trick automatically"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1652350753,"post_id":72213355,"comment_id":127587323,"body_markdown":"But I don&#39;t see any try-with-resources in your method above. Perhaps you&#39;re closing it _after_ you read the file and pass it back in your API. Then you&#39;re not reading the full content of the file, because what you&#39;ve just written hasn&#39;t been flushed yet.","body":"But I don&#39;t see any try-with-resources in your method above. Perhaps you&#39;re closing it <i>after</i> you read the file and pass it back in your API. Then you&#39;re not reading the full content of the file, because what you&#39;ve just written hasn&#39;t been flushed yet."},{"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"score":0,"creation_date":1652351953,"post_id":72213355,"comment_id":127587728,"body_markdown":"Thanks for your answer k3, I didn&#39;t think about it, unfortunately shifting the return after closing the try-with-resources didn&#39;t change the result.\n(It&#39;s not visible in the code above because i&#39;m just showing the relevant snippet)","body":"Thanks for your answer k3, I didn&#39;t think about it, unfortunately shifting the return after closing the try-with-resources didn&#39;t change the result. (It&#39;s not visible in the code above because i&#39;m just showing the relevant snippet)"}],"answers":[{"tags":[],"owner":{"account_id":16117709,"reputation":1646,"user_id":11634381,"display_name":"paranaaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652348920,"creation_date":1652348920,"answer_id":72213424,"question_id":72213355,"body_markdown":"Did you try to change ?\r\n\r\n     beanToCSV.write(item); -&gt; beanToCSV.writeNext(item);\r\n\r\n\r\nor \r\n\r\n        for(StacItem item : items){\r\n            beanToCSV.write(item);\r\n        }\r\n\r\n        // to\r\n\r\n        beanToCSV.write(items);","title":"How to write List&lt;Number&gt; with OpenCSV?","body":"<p>Did you try to change ?</p>\n<pre><code> beanToCSV.write(item); -&gt; beanToCSV.writeNext(item);\n</code></pre>\n<p>or</p>\n<pre><code>    for(StacItem item : items){\n        beanToCSV.write(item);\n    }\n\n    // to\n\n    beanToCSV.write(items);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8527984,"reputation":86,"user_id":6392811,"display_name":"Taz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652437345,"creation_date":1652352322,"answer_id":72214186,"question_id":72213355,"body_markdown":"Try using `CsvBindByName` on every field you want to map (specify the `column` attribute of the annotation is not mandatory).\r\n\r\nYou can even use `CsvBindByPosition` if you prefer.","title":"How to write List&lt;Number&gt; with OpenCSV?","body":"<p>Try using <code>CsvBindByName</code> on every field you want to map (specify the <code>column</code> attribute of the annotation is not mandatory).</p>\n<p>You can even use <code>CsvBindByPosition</code> if you prefer.</p>\n"}],"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72214186,"answer_count":2,"score":1,"last_activity_date":1652437345,"creation_date":1652348634,"question_id":72213355,"body_markdown":"I have the following field inside a StacItem Object:\r\n\r\n    @JsonProperty\r\n    private List&lt;Number&gt; bbox = null;\r\n\r\nI made a basic implementation with OpenCSV to write this Object into a CSV, and it mostly works with this code (i&#39;m showing just the relevant part):\r\n\r\n    final StatefulBeanToCsv&lt;Object&gt; beanToCSV = new StatefulBeanToCsvBuilder&lt;&gt;(writer)\r\n\t\t\t\t\t.withSeparator(&#39;;&#39;)\r\n\t\t\t\t\t.build();\r\n\t\t\tfor(StacItem item : items){\r\n\t\t\t\tbeanToCSV.write(item);\r\n\t\t\t}\r\n\t\t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n\t\t\thttpHeaders.set(HttpHeaders.CONTENT_TYPE, &quot;text/csv&quot;);\r\n\t\t\thttpHeaders.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=exportItems.csv&quot;);\r\n\t\t\tlogger.info(&quot;END WRITING&quot;);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(new FileSystemResource(file), HttpStatus.OK);\r\n\r\nHere&#39;s the twist! In the logs of my Microservice, I see the full structure of that StacItem, and it should have this bbox field:\r\n\r\n    bbox=[8.24275148213394, 45.5050129344147, 7.62767704092889, 45.0691351737573]\r\n\r\nWhile my implementation returns just this:\r\n\r\n    &quot;8.24637830863774&quot;\r\n\r\nSo when I open my CSV I just found the column &quot;bbox&quot; with one value but I need the others too..Can you please tell me why it stops on the first one or how to get the others 3?\r\n\r\nUPDATE:\r\nI found that this does the trick! But then...it exports just this single field for every StacItem so I lose every other field in my Object.\r\n\r\n    @CsvBindAndSplitByName(elementType = Number.class, writeDelimiter = &quot;,&quot;)\r\n    \t@JsonProperty(&quot;bbox&quot;)\r\n    \tprivate List&lt;Number&gt; bbox = null;\r\n\r\nThanks","title":"How to write List&lt;Number&gt; with OpenCSV?","body":"<p>I have the following field inside a StacItem Object:</p>\n<pre><code>@JsonProperty\nprivate List&lt;Number&gt; bbox = null;\n</code></pre>\n<p>I made a basic implementation with OpenCSV to write this Object into a CSV, and it mostly works with this code (i'm showing just the relevant part):</p>\n<pre><code>final StatefulBeanToCsv&lt;Object&gt; beanToCSV = new StatefulBeanToCsvBuilder&lt;&gt;(writer)\n                .withSeparator(';')\n                .build();\n        for(StacItem item : items){\n            beanToCSV.write(item);\n        }\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.set(HttpHeaders.CONTENT_TYPE, &quot;text/csv&quot;);\n        httpHeaders.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=exportItems.csv&quot;);\n        logger.info(&quot;END WRITING&quot;);\n        return new ResponseEntity&lt;&gt;(new FileSystemResource(file), HttpStatus.OK);\n</code></pre>\n<p>Here's the twist! In the logs of my Microservice, I see the full structure of that StacItem, and it should have this bbox field:</p>\n<pre><code>bbox=[8.24275148213394, 45.5050129344147, 7.62767704092889, 45.0691351737573]\n</code></pre>\n<p>While my implementation returns just this:</p>\n<pre><code>&quot;8.24637830863774&quot;\n</code></pre>\n<p>So when I open my CSV I just found the column &quot;bbox&quot; with one value but I need the others too..Can you please tell me why it stops on the first one or how to get the others 3?</p>\n<p>UPDATE:\nI found that this does the trick! But then...it exports just this single field for every StacItem so I lose every other field in my Object.</p>\n<pre><code>@CsvBindAndSplitByName(elementType = Number.class, writeDelimiter = &quot;,&quot;)\n    @JsonProperty(&quot;bbox&quot;)\n    private List&lt;Number&gt; bbox = null;\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","image","pdf","itext"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1650565955,"post_id":71841972,"comment_id":127154910,"body_markdown":"You have a loop `for (int i = 1; i &lt;= z; i++) {`. This iterates over all of the pages. Have you tried to adjust the code to only add content to the specific page you want?","body":"You have a loop <code>for (int i = 1; i &lt;= z; i++) {</code>. This iterates over all of the pages. Have you tried to adjust the code to only add content to the specific page you want?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1652691670,"post_id":71841972,"comment_id":127658532,"body_markdown":"You point both a `PdfWriter` and a `PdfReader` to the same path. This cannot work, `PdfReader` needs a complete PDF file from the start that doesn&#39;t change while `PdfWriter` creates a completely new one.","body":"You point both a <code>PdfWriter</code> and a <code>PdfReader</code> to the same path. This cannot work, <code>PdfReader</code> needs a complete PDF file from the start that doesn&#39;t change while <code>PdfWriter</code> creates a completely new one."}],"answers":[{"tags":[],"owner":{"account_id":25281010,"reputation":11,"user_id":19108895,"display_name":"Dmitry Radchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652437026,"creation_date":1652437026,"answer_id":72227948,"question_id":71841972,"body_markdown":"Here is an example how you can add either a barcode or an image to the existing page\r\n\r\n    import com.itextpdf.barcodes.BarcodePDF417;\r\n    import com.itextpdf.kernel.geom.Rectangle;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfReader;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.kernel.pdf.canvas.PdfCanvas;\r\n    import com.itextpdf.kernel.pdf.canvas.wmf.WmfImageData;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            String filename = &quot;barcodeOnCustomPage.pdf&quot;;\r\n            PdfReader reader = new PdfReader(filename);\r\n            PdfWriter writer = new PdfWriter(&quot;out_&quot; + filename);\r\n            PdfDocument document = new PdfDocument(reader, writer);\r\n    \r\n            //Add barcode to the existing page\r\n            String text = &quot;Sample text for barcode&quot;;\r\n            BarcodePDF417 barcode = new BarcodePDF417();\r\n            barcode.setCode(text);\r\n            barcode.placeBarcode(new PdfCanvas(document.getPage(1)), null);\r\n    \r\n            //Add image to the existing page\r\n            new PdfCanvas(document.getPage(1)).addImageFittedIntoRectangle(new WmfImageData(&quot;example.wmf&quot;),\r\n                    new Rectangle(200, 0, 0.1f, 0.1f), false);\r\n    \r\n            document.close();\r\n        }\r\n    }\r\n","title":"How can i add an image into an existing and specific pdf page (Itext)?","body":"<p>Here is an example how you can add either a barcode or an image to the existing page</p>\n<pre><code>import com.itextpdf.barcodes.BarcodePDF417;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfReader;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\nimport com.itextpdf.kernel.pdf.canvas.wmf.WmfImageData;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        String filename = &quot;barcodeOnCustomPage.pdf&quot;;\n        PdfReader reader = new PdfReader(filename);\n        PdfWriter writer = new PdfWriter(&quot;out_&quot; + filename);\n        PdfDocument document = new PdfDocument(reader, writer);\n\n        //Add barcode to the existing page\n        String text = &quot;Sample text for barcode&quot;;\n        BarcodePDF417 barcode = new BarcodePDF417();\n        barcode.setCode(text);\n        barcode.placeBarcode(new PdfCanvas(document.getPage(1)), null);\n\n        //Add image to the existing page\n        new PdfCanvas(document.getPage(1)).addImageFittedIntoRectangle(new WmfImageData(&quot;example.wmf&quot;),\n                new Rectangle(200, 0, 0.1f, 0.1f), false);\n\n        document.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24807893,"reputation":1,"user_id":18689690,"display_name":"Alessandro Punzo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652437026,"creation_date":1649763483,"question_id":71841972,"body_markdown":"I&#39;m developing a &quot;program&quot; that create barcode and insert them on the original pdf.\r\n\r\nThis is my code:\r\n\r\n```\r\npackage com.mycompany.barcodeinserter;\r\n\r\nimport com.itextpdf.io.image.ImageData;\r\nimport com.itextpdf.io.image.ImageDataFactory;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.Image;\r\nimport com.itextpdf.text.pdf.PdfReader;\r\nimport com.itextpdf.text.pdf.parser.PdfTextExtractor;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.io.PrintWriter;\r\nimport java.util.ArrayList;\r\n\r\nimport java.util.Scanner;\r\nimport javax.imageio.ImageIO;\r\n\r\nimport net.sourceforge.barbecue.output.OutputException;\r\nimport org.krysalis.barcode4j.impl.int2of5.Interleaved2Of5Bean;\r\nimport org.krysalis.barcode4j.output.bitmap.BitmapCanvasProvider;\r\n\r\n/**\r\n *\r\n * @author ale\r\n */\r\npublic class main {\r\n\r\n    public static void main(String[] args) throws OutputException {\r\n        \r\n        try {\r\n            PrintWriter out = new PrintWriter(&quot;codici.txt&quot;);\r\n            PdfWriter writer = new PdfWriter(&quot;/Users/ale/Documents/natale.pdf&quot;);\r\n            PdfReader reader = new PdfReader(&quot;/Users/ale/Documents/natale.pdf&quot;);\r\n            PdfDocument pdfDoc = new PdfDocument(writer); \r\n            Document document = new Document(pdfDoc); \r\n            int z = reader.getNumberOfPages();\r\n            String page;\r\n            ArrayList&lt;String&gt; codici = new ArrayList&lt;String&gt;();\r\n            for (int i = 1; i &lt;= z; i++) {\r\n                countchar contatore = new countchar();\r\n                page = PdfTextExtractor.getTextFromPage(reader, i);\r\n                Scanner scanner = new Scanner(page);\r\n                System.out.println(&quot;Pagina:&quot; + i + &quot;\\n&quot;);\r\n                while (scanner.hasNextLine()) {\r\n                    String line = scanner.nextLine();\r\n                    if (line.contains(&quot;cod&quot;)) {\r\n                        String lineasucces = scanner.nextLine();\r\n                        System.out.println(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n                        //countchar contatoredue = new countchar(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n                        switch (contatore.conta(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;))) {\r\n                            case 12:\r\n                                System.out.println(contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6));\r\n                                for (String element : contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6)) {\r\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\r\n                                        codici.add(element);\r\n                                    }\r\n                                }\r\n                                break;\r\n                            default:\r\n                                System.out.println(contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13));\r\n                                for (String element : contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13)) {\r\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\r\n                                        codici.add(element);\r\n                                    }\r\n                                }\r\n                                break;\r\n                        }\r\n\r\n                        switch (contatore.conta(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;))) {\r\n                            case 12:\r\n                                for (String element : contatore.usingSplitMethod(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6)) {\r\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\r\n                                        codici.add(element);\r\n                                    }\r\n                                }\r\n                                break;\r\n                            default:\r\n                                for (String element : contatore.usingSplitMethod(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13)) {\r\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\r\n                                        codici.add(element);\r\n                                    }\r\n                                }\r\n                                break;\r\n                        }\r\n\r\n                        /*\r\n                        if (line.endsWith(&quot;&quot;)) {\r\n                            System.out.println(contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;).replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13));\r\n                            try {\r\n                                switch (contatore.conta()) {\r\n                                    case 12:\r\n                                        System.out.println(contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6));\r\n                                        for (String element : contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6)) {\r\n                                            if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\r\n                                                codici.add(element);\r\n                                            }\r\n                                        }\r\n                                        break;\r\n                                    default:\r\n                                        System.out.println(contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13));\r\n                                        for (String element : contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13)) {\r\n                                            if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\r\n                                                codici.add(element);\r\n                                            }\r\n                                        }\r\n                                        break;\r\n                                }\r\n\r\n                            } catch (NoSuchElementException e) {\r\n                                System.out.println(e);\r\n                            }\r\n\r\n                        }\r\n                         */\r\n                    }\r\n                }\r\n\r\n            }\r\n            //BarcodeGenerator generator;\r\n            int i = 0;\r\n            for (String element : codici) {\r\n                //generator = new BarcodeGenerator(EncodeTypes.EAN_13, &quot;&quot; + element);\r\n                //generator.getParameters().setResolution(400);\r\n                //generator.save(&quot;&quot; + element + &quot;.png&quot;);\r\n                out.println(element);\r\n                i++;\r\n            }\r\n            out.close();\r\n\r\n            File file2 = new File(&quot;codici.txt&quot;);\r\n            BufferedReader br = new BufferedReader(new FileReader(file2));\r\n\r\n            String st;\r\n\r\n            while ((st = br.readLine()) != null) {\r\n                Interleaved2Of5Bean bean = new Interleaved2Of5Bean();\r\n                bean.setHeight(10d);\r\n                bean.doQuietZone(false);\r\n                OutputStream out2 = new java.io.FileOutputStream(new File(st + &quot;.png&quot;));\r\n                BitmapCanvasProvider provider = new BitmapCanvasProvider(out2, &quot;image/x-png&quot;, 110, BufferedImage.TYPE_BYTE_GRAY, false, 0);\r\n                bean.generateBarcode(provider, st);\r\n                provider.finish();\r\n                BufferedImage barcodeImage = provider.getBufferedImage();\r\n                ImageIO.write(barcodeImage, &quot;png&quot;, out2);\r\n            }\r\n                                        \r\n            System.out.println(&quot;\\n\\n&quot;);\r\n            System.out.println(codici);\r\n            System.out.println(i);\r\n            \r\n            while ((st = br.readLine()) != null) { //here i tried to insert that but i&#39;m stuck\r\n                for (int j = 1; j &lt;= z ; j++) {\r\n                    String page2 = PdfTextExtractor.getTextFromPage(reader, j);\r\n                    if (page2.contains(st)) {\r\n                        ImageData imgdata = ImageDataFactory.create(st+&quot;.png&quot;);\r\n                        Image image1 = new Image(imgdata);\r\n                    }\r\n                \r\n                }\r\n            }\r\n            \r\n            \r\n            \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI figured out how to create them but i didn&#39;t found anything on internet that helps me to add it into a specific page but only into all of the pages or only into a new page (which is not my purpose). Thank you for the helping (sorry if my english is not perfect :) ).\r\n","title":"How can i add an image into an existing and specific pdf page (Itext)?","body":"<p>I'm developing a &quot;program&quot; that create barcode and insert them on the original pdf.</p>\n<p>This is my code:</p>\n<pre><code>package com.mycompany.barcodeinserter;\n\nimport com.itextpdf.io.image.ImageData;\nimport com.itextpdf.io.image.ImageDataFactory;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.Image;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.parser.PdfTextExtractor;\nimport java.awt.image.BufferedImage;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\n\nimport java.util.Scanner;\nimport javax.imageio.ImageIO;\n\nimport net.sourceforge.barbecue.output.OutputException;\nimport org.krysalis.barcode4j.impl.int2of5.Interleaved2Of5Bean;\nimport org.krysalis.barcode4j.output.bitmap.BitmapCanvasProvider;\n\n/**\n *\n * @author ale\n */\npublic class main {\n\n    public static void main(String[] args) throws OutputException {\n        \n        try {\n            PrintWriter out = new PrintWriter(&quot;codici.txt&quot;);\n            PdfWriter writer = new PdfWriter(&quot;/Users/ale/Documents/natale.pdf&quot;);\n            PdfReader reader = new PdfReader(&quot;/Users/ale/Documents/natale.pdf&quot;);\n            PdfDocument pdfDoc = new PdfDocument(writer); \n            Document document = new Document(pdfDoc); \n            int z = reader.getNumberOfPages();\n            String page;\n            ArrayList&lt;String&gt; codici = new ArrayList&lt;String&gt;();\n            for (int i = 1; i &lt;= z; i++) {\n                countchar contatore = new countchar();\n                page = PdfTextExtractor.getTextFromPage(reader, i);\n                Scanner scanner = new Scanner(page);\n                System.out.println(&quot;Pagina:&quot; + i + &quot;\\n&quot;);\n                while (scanner.hasNextLine()) {\n                    String line = scanner.nextLine();\n                    if (line.contains(&quot;cod&quot;)) {\n                        String lineasucces = scanner.nextLine();\n                        System.out.println(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\n                        //countchar contatoredue = new countchar(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\n                        switch (contatore.conta(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;))) {\n                            case 12:\n                                System.out.println(contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6));\n                                for (String element : contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6)) {\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\n                                        codici.add(element);\n                                    }\n                                }\n                                break;\n                            default:\n                                System.out.println(contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13));\n                                for (String element : contatore.usingSplitMethod(line.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13)) {\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\n                                        codici.add(element);\n                                    }\n                                }\n                                break;\n                        }\n\n                        switch (contatore.conta(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;))) {\n                            case 12:\n                                for (String element : contatore.usingSplitMethod(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6)) {\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\n                                        codici.add(element);\n                                    }\n                                }\n                                break;\n                            default:\n                                for (String element : contatore.usingSplitMethod(lineasucces.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13)) {\n                                    if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\n                                        codici.add(element);\n                                    }\n                                }\n                                break;\n                        }\n\n                        /*\n                        if (line.endsWith(&quot;&quot;)) {\n                            System.out.println(contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;).replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13));\n                            try {\n                                switch (contatore.conta()) {\n                                    case 12:\n                                        System.out.println(contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6));\n                                        for (String element : contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 6)) {\n                                            if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\n                                                codici.add(element);\n                                            }\n                                        }\n                                        break;\n                                    default:\n                                        System.out.println(contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13));\n                                        for (String element : contatore.usingSplitMethod(scanner.nextLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;), 13)) {\n                                            if ((element != &quot;&quot;) &amp;&amp; (element.length() &gt; 4)) {\n                                                codici.add(element);\n                                            }\n                                        }\n                                        break;\n                                }\n\n                            } catch (NoSuchElementException e) {\n                                System.out.println(e);\n                            }\n\n                        }\n                         */\n                    }\n                }\n\n            }\n            //BarcodeGenerator generator;\n            int i = 0;\n            for (String element : codici) {\n                //generator = new BarcodeGenerator(EncodeTypes.EAN_13, &quot;&quot; + element);\n                //generator.getParameters().setResolution(400);\n                //generator.save(&quot;&quot; + element + &quot;.png&quot;);\n                out.println(element);\n                i++;\n            }\n            out.close();\n\n            File file2 = new File(&quot;codici.txt&quot;);\n            BufferedReader br = new BufferedReader(new FileReader(file2));\n\n            String st;\n\n            while ((st = br.readLine()) != null) {\n                Interleaved2Of5Bean bean = new Interleaved2Of5Bean();\n                bean.setHeight(10d);\n                bean.doQuietZone(false);\n                OutputStream out2 = new java.io.FileOutputStream(new File(st + &quot;.png&quot;));\n                BitmapCanvasProvider provider = new BitmapCanvasProvider(out2, &quot;image/x-png&quot;, 110, BufferedImage.TYPE_BYTE_GRAY, false, 0);\n                bean.generateBarcode(provider, st);\n                provider.finish();\n                BufferedImage barcodeImage = provider.getBufferedImage();\n                ImageIO.write(barcodeImage, &quot;png&quot;, out2);\n            }\n                                        \n            System.out.println(&quot;\\n\\n&quot;);\n            System.out.println(codici);\n            System.out.println(i);\n            \n            while ((st = br.readLine()) != null) { //here i tried to insert that but i'm stuck\n                for (int j = 1; j &lt;= z ; j++) {\n                    String page2 = PdfTextExtractor.getTextFromPage(reader, j);\n                    if (page2.contains(st)) {\n                        ImageData imgdata = ImageDataFactory.create(st+&quot;.png&quot;);\n                        Image image1 = new Image(imgdata);\n                    }\n                \n                }\n            }\n            \n            \n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>I figured out how to create them but i didn't found anything on internet that helps me to add it into a specific page but only into all of the pages or only into a new page (which is not my purpose). Thank you for the helping (sorry if my english is not perfect :) ).</p>\n"},{"tags":["java","docker","ssl","jenkins","ldap"],"answers":[{"tags":[],"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652436956,"creation_date":1652435072,"answer_id":72227526,"question_id":67839689,"body_markdown":"Add server&#39;s certs in your trusted keystore.&lt;br&gt;\r\nNote: *storepass is usually &quot;changeit&quot;*\r\n\r\n    sudo keytool -importcert -keystore &lt;keystore-path&gt;/cacerts -storepass &lt;password&gt; -file &lt;server&#39;s root .crt file path&gt; -alias &quot;ldap&quot;\r\nRestart &amp; check.\r\n\r\nIf the server root cert is not available handy then load it in a file &quot;root.crt&quot; using below:&lt;br&gt;\r\n1. Get the server&#39;s all certificates using the below command &amp; save them in separate files.\r\n\r\n    openssl s_client -showcerts -connect &lt;ldap_server&gt;:&lt;ldap_port&gt;\r\n2. Identify root certificate (Having Issuer(i:) &amp; Subject(s:) same in the certificate file.\r\n3. (Not needed if step-1 included certificate directly) Calculate the sha256 hash of this root certificate, copy it between lines —–BEGIN CERTIFICATE—– —–END CERTIFICATE—– &amp; save this file as root.crt\r\n4. Use this file&#39;s path in the above importcert command.\r\n\r\n","title":"After upgrade to Jenkins 2.277.1 LDAP not working","body":"<p>Add server's certs in your trusted keystore.<br>\nNote: <em>storepass is usually &quot;changeit&quot;</em></p>\n<pre><code>sudo keytool -importcert -keystore &lt;keystore-path&gt;/cacerts -storepass &lt;password&gt; -file &lt;server's root .crt file path&gt; -alias &quot;ldap&quot;\n</code></pre>\n<p>Restart &amp; check.</p>\n<p>If the server root cert is not available handy then load it in a file &quot;root.crt&quot; using below:<br></p>\n<ol>\n<li><p>Get the server's all certificates using the below command &amp; save them in separate files.</p>\n<p>openssl s_client -showcerts -connect &lt;ldap_server&gt;:&lt;ldap_port&gt;</p>\n</li>\n<li><p>Identify root certificate (Having Issuer(i:) &amp; Subject(s:) same in the certificate file.</p>\n</li>\n<li><p>(Not needed if step-1 included certificate directly) Calculate the sha256 hash of this root certificate, copy it between lines —–BEGIN CERTIFICATE—– —–END CERTIFICATE—– &amp; save this file as root.crt</p>\n</li>\n<li><p>Use this file's path in the above importcert command.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2455017,"reputation":571,"user_id":2140431,"accept_rate":25,"display_name":"biesczadka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652436956,"creation_date":1622819487,"question_id":67839689,"body_markdown":"I am running jenkins in docker compose from image jenkins/jenkins. After upgrading to Jenkins 2.277.1 LDAP authentication stopped working and I can&#39;t log in. I am getting following error:\r\n\r\n   \r\n\r\n&gt;  jenkins.docker.new_1  | 2021-06-04 14:49:31.311+0000\r\n&gt; [id=138]\tWARNING\to.j.p.p.DiskUsageCollector#collect: Cannot get disk\r\n&gt; usage data. Install CloudBees Disk Usage Simple plugin to enable\r\n&gt; jenkins.docker.new_1  | 2021-06-04 14:49:32.352+0000\r\n&gt; [id=20]\tWARNING\th.security.LDAPSecurityRealm#throwUnlessConfigIsIgnorable:\r\n&gt; Failed communication with ldap server XXX== (ldaps://XXX:636), will\r\n&gt; _not_ try the next configuration jenkins.docker.new_1  | sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target jenkins.docker.new_1\r\n&gt; | \tat\r\n&gt; sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:451)\r\n&gt; jenkins.docker.new_1  | Caused:\r\n&gt; sun.security.validator.ValidatorException: PKIX path building failed\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:456)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:323)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.validator.Validator.validate(Validator.java:271)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:315)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:223)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\n&gt; jenkins.docker.new_1  | \tat\r\n&gt; sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n&gt; jenkins.docker.new_1  | Caused: javax.net.ssl.SSLHandshakeException:\r\n&gt; PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target jenkins.docker.new_1\r\n&gt; | \tat sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\r\nMy jvm args are:\r\n\r\n            environment:\r\n            - JAVA_OPTS=-Djavax.net.ssl.trustStore=/mnt/jenkins/jenkins_home/cacerts -Dio.jenkins.plugins.casc.ConfigurationAsCode.initialDelay=15000 -Djavax.net.ssl.trustStorePassword=changeit\r\n\r\nWith version 2.263.3 everythings work fine.\r\n\r\nMy LDAP plugin version: \r\n\r\n    version=2.7\r\n    groupId=org.jenkins-ci.plugins\r\n    artifactId=ldap","title":"After upgrade to Jenkins 2.277.1 LDAP not working","body":"<p>I am running jenkins in docker compose from image jenkins/jenkins. After upgrading to Jenkins 2.277.1 LDAP authentication stopped working and I can't log in. I am getting following error:</p>\n<blockquote>\n<p>jenkins.docker.new_1  | 2021-06-04 14:49:31.311+0000\n[id=138]  WARNING o.j.p.p.DiskUsageCollector#collect: Cannot get disk\nusage data. Install CloudBees Disk Usage Simple plugin to enable\njenkins.docker.new_1  | 2021-06-04 14:49:32.352+0000\n[id=20]   WARNING h.security.LDAPSecurityRealm#throwUnlessConfigIsIgnorable:\nFailed communication with ldap server XXX== (ldaps://XXX:636), will\n<em>not</em> try the next configuration jenkins.docker.new_1  | sun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target jenkins.docker.new_1\n|     at\nsun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\njenkins.docker.new_1  |   at\nsun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\njenkins.docker.new_1  |   at\njava.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\njenkins.docker.new_1  |   at\nsun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:451)\njenkins.docker.new_1  | Caused:\nsun.security.validator.ValidatorException: PKIX path building failed\njenkins.docker.new_1  |   at\nsun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:456)\njenkins.docker.new_1  |   at\nsun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:323)\njenkins.docker.new_1  |   at\nsun.security.validator.Validator.validate(Validator.java:271)\njenkins.docker.new_1  |   at\nsun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:315)\njenkins.docker.new_1  |   at\nsun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:223)\njenkins.docker.new_1  |   at\nsun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\njenkins.docker.new_1  |   at\nsun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\njenkins.docker.new_1  | Caused: javax.net.ssl.SSLHandshakeException:\nPKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target jenkins.docker.new_1\n|     at sun.security.ssl.Alert.createSSLException(Alert.java:131)</p>\n</blockquote>\n<p>My jvm args are:</p>\n<pre><code>        environment:\n        - JAVA_OPTS=-Djavax.net.ssl.trustStore=/mnt/jenkins/jenkins_home/cacerts -Dio.jenkins.plugins.casc.ConfigurationAsCode.initialDelay=15000 -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n<p>With version 2.263.3 everythings work fine.</p>\n<p>My LDAP plugin version:</p>\n<pre><code>version=2.7\ngroupId=org.jenkins-ci.plugins\nartifactId=ldap\n</code></pre>\n"},{"tags":["java","debugging","heap-dump","jconsole","jmap"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652433905,"post_id":72225387,"comment_id":127610299,"body_markdown":"This reads more as a rant than a question. Please edit your question and remove the ranting.","body":"This reads more as a rant than a question. Please edit your question and remove the ranting."},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1652433946,"post_id":72225387,"comment_id":127610312,"body_markdown":"I am not sure this is &quot;basics&quot;: in my experience maybe 10-20 out of 100 Java developers know about these tools, and maybe 3-5 use them. Therefore these tools seem to be more marginal than the rest of the Java ecosystem. There are implementation details that could be polished out if this toolset was more mainstream; on the other hand, there are objective limitations coming from the OS etc. I actually think these tools are pretty good compared to other platforms, but maybe I am not aware of the alternatives. What is the platform you have in mind where this would be easy?","body":"I am not sure this is &quot;basics&quot;: in my experience maybe 10-20 out of 100 Java developers know about these tools, and maybe 3-5 use them. Therefore these tools seem to be more marginal than the rest of the Java ecosystem. There are implementation details that could be polished out if this toolset was more mainstream; on the other hand, there are objective limitations coming from the OS etc. I actually think these tools are pretty good compared to other platforms, but maybe I am not aware of the alternatives. What is the platform you have in mind where this would be easy?"},{"owner":{"account_id":10182309,"reputation":159,"user_id":7518605,"display_name":"Mingun"},"score":0,"creation_date":1652441816,"post_id":72225387,"comment_id":127612991,"body_markdown":"Basics because everyone recommends you to use them when you have troubles, but they just not working","body":"Basics because everyone recommends you to use them when you have troubles, but they just not working"}],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652425719,"creation_date":1652425719,"answer_id":72225667,"question_id":72225387,"body_markdown":"Firstly  you need find the real java jpid:\r\n\r\nlaunch jps, find the pid value \r\nlike:\r\n\r\n    ./jps\r\n    15552 org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n    2816 org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n    29504 org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n    34032 Jps\r\n    39616 org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\r\n    10248 org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar\r\n\r\n   Your pid should be one of the list. Please find yours.\r\n\r\n  2. create the dump\r\n  \r\n\r\n    ./jmap -dump:live,format=b,file=heap.bin 39616\r\n    \r\nFinally you will find the heap.bin\r\n","title":"Why all java utils for dumping heap are not working? How to dump heap?","body":"<p>Firstly  you need find the real java jpid:</p>\n<p>launch jps, find the pid value\nlike:</p>\n<pre><code>./jps\n15552 org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n2816 org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n29504 org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n34032 Jps\n39616 org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\n10248 org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar\n</code></pre>\n<p>Your pid should be one of the list. Please find yours.</p>\n<ol start=\"2\">\n<li>create the dump</li>\n</ol>\n<pre><code>./jmap -dump:live,format=b,file=heap.bin 39616\n</code></pre>\n<p>Finally you will find the heap.bin</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652431032,"creation_date":1652431032,"answer_id":72226680,"question_id":72225387,"body_markdown":"What&#39;s your issue?\r\n\r\nJust read the **** manual, search it for the error message/the exception: &quot;com.sun.tools.attach.AttachNotSupportedException&quot;.\r\n\r\nBased on that I would assume that the JVM, that you query for a heap dump, is configured in a way that it does not support the Attach API, and therefore all the console tools are rendered useless …\r\n\r\nUsually, this is the default (or had been the default) for J9 JVMs, but from the provided stacktraces, at least your tools are running on Hotspot.","title":"Why all java utils for dumping heap are not working? How to dump heap?","body":"<p>What's your issue?</p>\n<p>Just read the **** manual, search it for the error message/the exception: &quot;com.sun.tools.attach.AttachNotSupportedException&quot;.</p>\n<p>Based on that I would assume that the JVM, that you query for a heap dump, is configured in a way that it does not support the Attach API, and therefore all the console tools are rendered useless …</p>\n<p>Usually, this is the default (or had been the default) for J9 JVMs, but from the provided stacktraces, at least your tools are running on Hotspot.</p>\n"},{"tags":[],"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652436947,"creation_date":1652433398,"answer_id":72227188,"question_id":72225387,"body_markdown":" 1. `jmap -dump:format=b,file=server.bin ...`: will only work if 1) the JVM is not frozen, e.g. due to permanent full GC, because it uses a cooperative mechanism where the target JVM actually runs commands doing the heap dump (Java Attach API), 2) you run `jmap` as the same user as the one who started the JVM. I take from your comments that condition 1) is not met in your case.\r\n1. `jmap -F -dump:format=b,file=server.bin ...`: the option `-F` was removed in JDK 9.\r\n1. `jhsdb jmap --binaryheap --dumpfile server.bin --pid ...`: fails because you either need to run it as root or set some liberal restrictions in the linux kernel for ptrace ([ptrace_scope](https://www.kernel.org/doc/Documentation/security/Yama.txt) should be 0).\r\n1. `sudo jhsdb jmap --binaryheap --dumpfile server.bin --pid ...`: has a restriction that `jhsdb` must come from the exactly same JDK version as the target JVM (like, if the target JVM has version `14.1.2+3` then I would make sure that `jhsdb` comes from JDK `14.1.2+3` as well just for safety). Seems to be the case in your case because no warning is printed, but I would suggest to check it for sure. The only other thing I can think of is you might need to install `openjdk-debuginfo` as mentioned e.g. [here](https://bugzilla.redhat.com/show_bug.cgi?id=1010786#c15).","title":"Why all java utils for dumping heap are not working? How to dump heap?","body":"<ol>\n<li><code>jmap -dump:format=b,file=server.bin ...</code>: will only work if 1) the JVM is not frozen, e.g. due to permanent full GC, because it uses a cooperative mechanism where the target JVM actually runs commands doing the heap dump (Java Attach API), 2) you run <code>jmap</code> as the same user as the one who started the JVM. I take from your comments that condition 1) is not met in your case.</li>\n<li><code>jmap -F -dump:format=b,file=server.bin ...</code>: the option <code>-F</code> was removed in JDK 9.</li>\n<li><code>jhsdb jmap --binaryheap --dumpfile server.bin --pid ...</code>: fails because you either need to run it as root or set some liberal restrictions in the linux kernel for ptrace (<a href=\"https://www.kernel.org/doc/Documentation/security/Yama.txt\" rel=\"nofollow noreferrer\">ptrace_scope</a> should be 0).</li>\n<li><code>sudo jhsdb jmap --binaryheap --dumpfile server.bin --pid ...</code>: has a restriction that <code>jhsdb</code> must come from the exactly same JDK version as the target JVM (like, if the target JVM has version <code>14.1.2+3</code> then I would make sure that <code>jhsdb</code> comes from JDK <code>14.1.2+3</code> as well just for safety). Seems to be the case in your case because no warning is printed, but I would suggest to check it for sure. The only other thing I can think of is you might need to install <code>openjdk-debuginfo</code> as mentioned e.g. <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1010786#c15\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ol>\n"}],"owner":{"account_id":10182309,"reputation":159,"user_id":7518605,"display_name":"Mingun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1254,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1652436947,"creation_date":1652423986,"question_id":72225387,"body_markdown":"I&#39;m tired to trying to dump java heap when I need it. Any time when I could do that none of utils are not able to do that. I&#39;m trying `jmap`, `jvisualvm`, `jconsole`, `jmc` and none of them not able to do that easy task -- just dump the *** heap!\r\n\r\nHow people uses that programs???\r\n\r\nFirst, I tried visual instruments, but none of them have worked (sorry, but I didn&#39;t think that I&#39;ll need screenshots of their errors). Ok, I did think, but console tools should work!\r\n\r\n```\r\n$ jmap -dump:format=b,file=server.bin 136447\r\nException in thread &quot;main&quot; com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file /proc/136447/root/tmp/.java_pid136447: target process 136447 doesn&#39;t respond within 10500ms or HotSpot VM not loaded\r\n\tat jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:103)\r\n\tat jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:58)\r\n\tat jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\r\n\tat jdk.jcmd/sun.tools.jmap.JMap.executeCommandForPid(JMap.java:128)\r\n\tat jdk.jcmd/sun.tools.jmap.JMap.dump(JMap.java:218)\r\n\tat jdk.jcmd/sun.tools.jmap.JMap.main(JMap.java:114)\r\n```\r\nWhat?\r\n\r\n```\r\n$ jmap -F -dump:format=b,file=server.bin 136447\r\nError: -F option used\r\nCannot connect to core dump or remote debug server. Use jhsdb jmap instead\r\n```\r\nOk...\r\n```\r\n$ jhsdb jmap --binaryheap --dumpfile server.bin --pid 136447\r\nAttaching to process ID 136447, please wait...\r\nERROR: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\r\nError attaching to process: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\r\nsun.jvm.hotspot.debugger.DebuggerException: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal$LinuxDebuggerLocalWorkerThread.execute(LinuxDebuggerLocal.java:179)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach(LinuxDebuggerLocal.java:337)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:672)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebuggerLinux(HotSpotAgent.java:612)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:338)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:141)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:187)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:321)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:406)\r\nCaused by: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach0(Native Method)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal$1AttachTask.doit(LinuxDebuggerLocal.java:328)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal$LinuxDebuggerLocalWorkerThread.run(LinuxDebuggerLocal.java:154)\r\n```\r\nHm...\r\n\r\n```\r\n$ sudo jhsdb jmap --binaryheap --dumpfile server.bin --pid 136447\r\n[sudo] пароль для Mingun: \r\nAttaching to process ID 136447, please wait...\r\nDebugger attached successfully.\r\nServer compiler detected.\r\nJVM version is 14.0.2+12-Ubuntu-120.04\r\nsun.jvm.hotspot.types.WrongTypeException: No suitable match for type of address 0x00007f20500286d0\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.runtime.InstanceConstructor.newWrongTypeException(InstanceConstructor.java:62)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.runtime.VirtualConstructor.instantiateWrapperFor(VirtualConstructor.java:80)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.memory.Universe.heap(Universe.java:102)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.utilities.HeapHprofBinWriter.write(HeapHprofBinWriter.java:423)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.writeHeapHprofBin(JMap.java:182)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.run(JMap.java:97)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.startInternal(Tool.java:262)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:225)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:321)\r\n\tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:406)\r\n```\r\nWTF???\r\n\r\nThis is the basics! Why the java tools are so poor? How I should get the heap? That is not a single case. I&#39;ve got such results every time when I trying to get the dump\r\n\r\nFor the reference, this is how program launched:\r\n```\r\njava -XX:-OmitStackTraceInFastThrow -XX:+ShowCodeDetailsInExceptionMessages -XX:+PrintConcurrentLocks -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9009 -server -Xmx3G -Duser.language=en -Duser.region=US &lt;main class&gt; &lt;app parameters&gt;\r\n```","title":"Why all java utils for dumping heap are not working? How to dump heap?","body":"<p>I'm tired to trying to dump java heap when I need it. Any time when I could do that none of utils are not able to do that. I'm trying <code>jmap</code>, <code>jvisualvm</code>, <code>jconsole</code>, <code>jmc</code> and none of them not able to do that easy task -- just dump the *** heap!</p>\n<p>How people uses that programs???</p>\n<p>First, I tried visual instruments, but none of them have worked (sorry, but I didn't think that I'll need screenshots of their errors). Ok, I did think, but console tools should work!</p>\n<pre><code>$ jmap -dump:format=b,file=server.bin 136447\nException in thread &quot;main&quot; com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file /proc/136447/root/tmp/.java_pid136447: target process 136447 doesn't respond within 10500ms or HotSpot VM not loaded\n    at jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:103)\n    at jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:58)\n    at jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\n    at jdk.jcmd/sun.tools.jmap.JMap.executeCommandForPid(JMap.java:128)\n    at jdk.jcmd/sun.tools.jmap.JMap.dump(JMap.java:218)\n    at jdk.jcmd/sun.tools.jmap.JMap.main(JMap.java:114)\n</code></pre>\n<p>What?</p>\n<pre><code>$ jmap -F -dump:format=b,file=server.bin 136447\nError: -F option used\nCannot connect to core dump or remote debug server. Use jhsdb jmap instead\n</code></pre>\n<p>Ok...</p>\n<pre><code>$ jhsdb jmap --binaryheap --dumpfile server.bin --pid 136447\nAttaching to process ID 136447, please wait...\nERROR: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\nError attaching to process: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\nsun.jvm.hotspot.debugger.DebuggerException: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal$LinuxDebuggerLocalWorkerThread.execute(LinuxDebuggerLocal.java:179)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach(LinuxDebuggerLocal.java:337)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:672)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebuggerLinux(HotSpotAgent.java:612)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:338)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:141)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:187)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:321)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:406)\nCaused by: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process: ptrace(PTRACE_ATTACH, ..) failed for 136447: Операция не позволена\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach0(Native Method)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal$1AttachTask.doit(LinuxDebuggerLocal.java:328)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal$LinuxDebuggerLocalWorkerThread.run(LinuxDebuggerLocal.java:154)\n</code></pre>\n<p>Hm...</p>\n<pre><code>$ sudo jhsdb jmap --binaryheap --dumpfile server.bin --pid 136447\n[sudo] пароль для Mingun: \nAttaching to process ID 136447, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 14.0.2+12-Ubuntu-120.04\nsun.jvm.hotspot.types.WrongTypeException: No suitable match for type of address 0x00007f20500286d0\n    at jdk.hotspot.agent/sun.jvm.hotspot.runtime.InstanceConstructor.newWrongTypeException(InstanceConstructor.java:62)\n    at jdk.hotspot.agent/sun.jvm.hotspot.runtime.VirtualConstructor.instantiateWrapperFor(VirtualConstructor.java:80)\n    at jdk.hotspot.agent/sun.jvm.hotspot.memory.Universe.heap(Universe.java:102)\n    at jdk.hotspot.agent/sun.jvm.hotspot.utilities.HeapHprofBinWriter.write(HeapHprofBinWriter.java:423)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.writeHeapHprofBin(JMap.java:182)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.run(JMap.java:97)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.startInternal(Tool.java:262)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:225)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:321)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:406)\n</code></pre>\n<p>WTF???</p>\n<p>This is the basics! Why the java tools are so poor? How I should get the heap? That is not a single case. I've got such results every time when I trying to get the dump</p>\n<p>For the reference, this is how program launched:</p>\n<pre><code>java -XX:-OmitStackTraceInFastThrow -XX:+ShowCodeDetailsInExceptionMessages -XX:+PrintConcurrentLocks -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9009 -server -Xmx3G -Duser.language=en -Duser.region=US &lt;main class&gt; &lt;app parameters&gt;\n</code></pre>\n"},{"tags":["java","maven","selenium"],"comments":[{"owner":{"account_id":2252907,"reputation":2755,"user_id":1984767,"accept_rate":50,"display_name":"Leviand"},"score":1,"creation_date":1532084807,"post_id":51441108,"comment_id":89852174,"body_markdown":"looks like he&#39;s not finding a file, are you sure it&#39;s there ? `testng.xml is not a valid file`","body":"looks like he&#39;s not finding a file, are you sure it&#39;s there ? <code>testng.xml is not a valid file</code>"},{"owner":{"account_id":13494709,"reputation":1473,"user_id":9735889,"display_name":"Kovacic"},"score":0,"creation_date":1532085351,"post_id":51441108,"comment_id":89852462,"body_markdown":"put it in question please, so it more readable for everyone. tnx","body":"put it in question please, so it more readable for everyone. tnx"},{"owner":{"account_id":10359884,"reputation":563,"user_id":7640700,"display_name":"Gautam Bothra"},"score":0,"creation_date":1532088026,"post_id":51441108,"comment_id":89853904,"body_markdown":"mvn -Ptest clean test\n                                                                                                        \n           try to use this command","body":"mvn -Ptest clean test                                                                                                                     try to use this command"},{"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"score":0,"creation_date":1532095145,"post_id":51441108,"comment_id":89858401,"body_markdown":"I added it for run sevaral test case together.. Is there any better way??","body":"I added it for run sevaral test case together.. Is there any better way??"}],"answers":[{"tags":[],"owner":{"account_id":13494709,"reputation":1473,"user_id":9735889,"display_name":"Kovacic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532084851,"creation_date":1532084851,"answer_id":51441159,"question_id":51441108,"body_markdown":"You have to provide path to xml running via testsuiteXML, here is example bellow:\r\n\r\n    mvn -Dsurefire.suiteXmlFiles=src/test/resources/testng.xml test\r\n\r\nHope this helps,","title":"How to fix maven org.apache.maven.surefire.testset.TestSetFailedException:","body":"<p>You have to provide path to xml running via testsuiteXML, here is example bellow:</p>\n\n<pre><code>mvn -Dsurefire.suiteXmlFiles=src/test/resources/testng.xml test\n</code></pre>\n\n<p>Hope this helps,</p>\n"},{"tags":[],"owner":{"account_id":7857241,"reputation":553,"user_id":5938634,"display_name":"SteroidKing666"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532085246,"creation_date":1532085246,"answer_id":51441288,"question_id":51441108,"body_markdown":"Put your testng.xml file in the project directory instead of any sub directories. Move it to the project directory and then run mvn test. ","title":"How to fix maven org.apache.maven.surefire.testset.TestSetFailedException:","body":"<p>Put your testng.xml file in the project directory instead of any sub directories. Move it to the project directory and then run mvn test. </p>\n"},{"tags":[],"owner":{"account_id":9562641,"reputation":1275,"user_id":7102875,"display_name":"dangi13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532176740,"creation_date":1532085738,"answer_id":51441421,"question_id":51441108,"body_markdown":"try to put your `testng.xml` in `src/main/resources` folder.","title":"How to fix maven org.apache.maven.surefire.testset.TestSetFailedException:","body":"<p>try to put your <code>testng.xml</code> in <code>src/main/resources</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532088146,"creation_date":1532086651,"answer_id":51441687,"question_id":51441108,"body_markdown":"try to put your testng.xml beside the pom.xml and do :\n\n    &lt;suiteXmlFiles&gt;\n          &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n    &lt;/suiteXmlFiles&gt;\n\nif its work try to correct your path in suiteXmlFile if you want to locate your testng.xml in another folder like src/test....\n\nregards\n\n# EDIT1\n\nI dont see that someone propose this solution before, but if its still not working, does the error is exactly the same? \n\nbecause when you see the source code of maven-surefire-plugin this error message is show when suiteXmlFile.isFile() == false... so the content is not the problem for now but the path!","title":"How to fix maven org.apache.maven.surefire.testset.TestSetFailedException:","body":"<p>try to put your testng.xml beside the pom.xml and do :</p>\n<pre><code>&lt;suiteXmlFiles&gt;\n      &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n&lt;/suiteXmlFiles&gt;\n</code></pre>\n<p>if its work try to correct your path in suiteXmlFile if you want to locate your testng.xml in another folder like src/test....</p>\n<p>regards</p>\n<h1>EDIT1</h1>\n<p>I dont see that someone propose this solution before, but if its still not working, does the error is exactly the same?</p>\n<p>because when you see the source code of maven-surefire-plugin this error message is show when suiteXmlFile.isFile() == false... so the content is not the problem for now but the path!</p>\n"},{"tags":[],"owner":{"account_id":15903748,"reputation":1,"user_id":11475494,"display_name":"pbul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652436916,"creation_date":1652436916,"answer_id":72227924,"question_id":51441108,"body_markdown":"Thing that could be wrong,  in my case i use intelij and Ubuntu, is folder/working directory name. If that name is for example &quot;project(thing, thing)&quot; then its better to delete &quot;,&quot;. After that my error is gone. ","title":"How to fix maven org.apache.maven.surefire.testset.TestSetFailedException:","body":"<p>Thing that could be wrong,  in my case i use intelij and Ubuntu, is folder/working directory name. If that name is for example &quot;project(thing, thing)&quot; then its better to delete &quot;,&quot;. After that my error is gone.</p>\n"}],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1652436916,"creation_date":1532084639,"question_id":51441108,"body_markdown":"Currently, I am trying to set up my project to the server. When I run my maven project by `mvn test` its gives error\r\n\r\nI have setup everything as required. I do not understand where I have missed \r\n\r\n    org.apache.maven.surefire.testset.TestSetFailedException: Suite file /home/ubuntu/vrs-schedule-automation/src/test/resources/testng.xml is not a valid file\r\n    \tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.locateTestSets(TestNGXmlTestSuite.java:99)\r\n    \tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)\r\n\r\nIn my pom file \r\n\r\n**Here Is my POM FILE**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;SCHEDULE_RUN_VRS_SITE&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SCHEDULE_RUN_VRS_SITE&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;name&gt;SCHEDULE_RUN_VRS_SITE&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    \r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;6.8&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver --&gt;\r\n           \r\n              &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nI want to know where I did mistake in my code. Can anyone help me to solve this problem?\r\n\r\n**Testing XML**\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot;&gt;\r\n        &lt;test name=&quot;VRS SITE&quot;&gt;\r\n            &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;VRS.redirectandpartneridCheck&quot;&gt; &lt;/class&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n","title":"How to fix maven org.apache.maven.surefire.testset.TestSetFailedException:","body":"<p>Currently, I am trying to set up my project to the server. When I run my maven project by <code>mvn test</code> its gives error</p>\n\n<p>I have setup everything as required. I do not understand where I have missed </p>\n\n<pre><code>org.apache.maven.surefire.testset.TestSetFailedException: Suite file /home/ubuntu/vrs-schedule-automation/src/test/resources/testng.xml is not a valid file\n    at org.apache.maven.surefire.testng.TestNGXmlTestSuite.locateTestSets(TestNGXmlTestSuite.java:99)\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)\n</code></pre>\n\n<p>In my pom file </p>\n\n<p><strong>Here Is my POM FILE</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;SCHEDULE_RUN_VRS_SITE&lt;/groupId&gt;\n    &lt;artifactId&gt;SCHEDULE_RUN_VRS_SITE&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;SCHEDULE_RUN_VRS_SITE&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.8&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver --&gt;\n\n          &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I want to know where I did mistake in my code. Can anyone help me to solve this problem?</p>\n\n<p><strong>Testing XML</strong></p>\n\n<pre><code>&lt;?xml version = \"1.0\" encoding = \"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Suite\" parallel=\"tests\"&gt;\n    &lt;test name=\"VRS SITE\"&gt;\n        &lt;parameter name=\"browser\" value=\"chrome\"/&gt;\n        &lt;classes&gt;\n            &lt;class name=\"VRS.redirectandpartneridCheck\"&gt; &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","jackson","spring-boot","deserialization","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1432901929,"creation_date":1432898568,"answer_id":30528321,"question_id":30527640,"body_markdown":"You can use `@JsonTypeInfo` annotation regardless of the fact that the classes are generated, by adhering to [MixIn&#39;s][1]\r\n\r\n&gt;  &quot;mix-in annotations are&quot;: a way to associate annotations with \r\n&gt; classes, without modifying (target) classes themselves.\r\n&gt; \r\n&gt; That is, you can:\r\n&gt; \r\n&gt; Define that annotations of a mix-in class (or interface) will be used\r\n&gt; with a target class (or interface) such that it appears as if the\r\n&gt; target class had all annotations that the mix-in class has (for\r\n&gt; purposes of configuring serialization / deserialization)\r\n\r\nSo you can write your `AnimalMixIn` class, something like\r\n\r\n    @JsonTypeInfo(  \r\n        use = JsonTypeInfo.Id.NAME,  \r\n        include = JsonTypeInfo.As.PROPERTY,  \r\n        property = &quot;_class&quot;)  \r\n    @JsonSubTypes({  \r\n        @Type(value = Cat.class, name = &quot;com.example.Cat&quot;),  \r\n        @Type(value = Dog.class, name = &quot;com.example.Dog&quot;) })  \r\n    abstract class AnimalMixIn  \r\n    {  \r\n        \r\n    }  \r\n\r\nand configure your deserializer\r\n\r\n        ObjectMapper mapper = new ObjectMapper();  \r\n        mapper.getDeserializationConfig().addMixInAnnotations(  \r\n        Animal.class, AnimalMixIn.class);\r\n\r\n\r\nSince you&#39;re using Spring Boot, you can check the following blog post to see how you can customize the ObjectMapper for using the MixIns, [Customizing the Jackson Object Mapper][2], note especially the [mixIn][3] method of `Jackson2ObjectMapperBuilder`\r\n\r\nUsing customized `ObjectMapper` within `RestTemplate` should be set through converters, something like\r\n\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n        MappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\r\n        jsonMessageConverter.setObjectMapper(objectMapper);\r\n        messageConverters.add(jsonMessageConverter);\r\n        restTemplate.setMessageConverters(messageConverters);\r\n        return restTemplate;\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonMixInAnnotations\r\n  [2]: https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#customizing-the-jackson-objectmapper\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html#mixIn-java.lang.Class-java.lang.Class-\r\n","title":"Java: Deserialize a json to object in rest template using &quot;@class&quot; in json -SpringBoot","body":"<p>You can use <code>@JsonTypeInfo</code> annotation regardless of the fact that the classes are generated, by adhering to <a href=\"http://wiki.fasterxml.com/JacksonMixInAnnotations\" rel=\"noreferrer\">MixIn's</a></p>\n\n<blockquote>\n  <p>\"mix-in annotations are\": a way to associate annotations with \n  classes, without modifying (target) classes themselves.</p>\n  \n  <p>That is, you can:</p>\n  \n  <p>Define that annotations of a mix-in class (or interface) will be used\n  with a target class (or interface) such that it appears as if the\n  target class had all annotations that the mix-in class has (for\n  purposes of configuring serialization / deserialization)</p>\n</blockquote>\n\n<p>So you can write your <code>AnimalMixIn</code> class, something like</p>\n\n<pre><code>@JsonTypeInfo(  \n    use = JsonTypeInfo.Id.NAME,  \n    include = JsonTypeInfo.As.PROPERTY,  \n    property = \"_class\")  \n@JsonSubTypes({  \n    @Type(value = Cat.class, name = \"com.example.Cat\"),  \n    @Type(value = Dog.class, name = \"com.example.Dog\") })  \nabstract class AnimalMixIn  \n{  \n\n}  \n</code></pre>\n\n<p>and configure your deserializer</p>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();  \n    mapper.getDeserializationConfig().addMixInAnnotations(  \n    Animal.class, AnimalMixIn.class);\n</code></pre>\n\n<p>Since you're using Spring Boot, you can check the following blog post to see how you can customize the ObjectMapper for using the MixIns, <a href=\"https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#customizing-the-jackson-objectmapper\" rel=\"noreferrer\">Customizing the Jackson Object Mapper</a>, note especially the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html#mixIn-java.lang.Class-java.lang.Class-\" rel=\"noreferrer\">mixIn</a> method of <code>Jackson2ObjectMapperBuilder</code></p>\n\n<p>Using customized <code>ObjectMapper</code> within <code>RestTemplate</code> should be set through converters, something like</p>\n\n<pre><code>    RestTemplate restTemplate = new RestTemplate();\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n    MappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\n    jsonMessageConverter.setObjectMapper(objectMapper);\n    messageConverters.add(jsonMessageConverter);\n    restTemplate.setMessageConverters(messageConverters);\n    return restTemplate;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652436572,"creation_date":1652436572,"answer_id":72227862,"question_id":30527640,"body_markdown":"Just as an addition to the answer from @Master Slave. He said\r\n&gt; you can customize the ObjectMapper for using the MixIns, Customizing the Jackson Object Mapper, note especially the mixIn method of Jackson2ObjectMapperBuilder\r\n\r\nbut he didn&#39;t define the `ObjectMapper` for the `RestTemplate`. Here is how his answer helped me to figure out my complete answer.\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.addMixIn(Target.class, MixinClass.class)\r\n    .setVisibility(VisibilityChecker.Std.defaultInstance()\r\n        .withFieldVisibility(JsonAutoDetect.Visibility.ANY)\r\n        .withGetterVisibility(JsonAutoDetect.Visibility.ANY)\r\n        .withSetterVisibility(JsonAutoDetect.Visibility.ANY)\r\n        .withCreatorVisibility(JsonAutoDetect.Visibility.ANY)\r\n    );\r\nList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\nMappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\r\njsonMessageConverter.setObjectMapper(objectMapper);\r\nmessageConverters.add(jsonMessageConverter);\r\nrestTemplate.setMessageConverters(messageConverters);\r\nMyResponse response =\r\n    restTemplate.exchange(request, new ParameterizedTypeReference&lt;MyResponse&gt;() {\r\n    }).getBody();\r\n```","title":"Java: Deserialize a json to object in rest template using &quot;@class&quot; in json -SpringBoot","body":"<p>Just as an addition to the answer from @Master Slave. He said</p>\n<blockquote>\n<p>you can customize the ObjectMapper for using the MixIns, Customizing the Jackson Object Mapper, note especially the mixIn method of Jackson2ObjectMapperBuilder</p>\n</blockquote>\n<p>but he didn't define the <code>ObjectMapper</code> for the <code>RestTemplate</code>. Here is how his answer helped me to figure out my complete answer.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.addMixIn(Target.class, MixinClass.class)\n    .setVisibility(VisibilityChecker.Std.defaultInstance()\n        .withFieldVisibility(JsonAutoDetect.Visibility.ANY)\n        .withGetterVisibility(JsonAutoDetect.Visibility.ANY)\n        .withSetterVisibility(JsonAutoDetect.Visibility.ANY)\n        .withCreatorVisibility(JsonAutoDetect.Visibility.ANY)\n    );\nList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\nMappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\njsonMessageConverter.setObjectMapper(objectMapper);\nmessageConverters.add(jsonMessageConverter);\nrestTemplate.setMessageConverters(messageConverters);\nMyResponse response =\n    restTemplate.exchange(request, new ParameterizedTypeReference&lt;MyResponse&gt;() {\n    }).getBody();\n</code></pre>\n"}],"owner":{"account_id":4760244,"reputation":158,"user_id":3847797,"display_name":"Karthik Pala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15672,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30528321,"answer_count":2,"score":3,"last_activity_date":1652436572,"creation_date":1432896512,"question_id":30527640,"body_markdown":"I have to instantiate a class which extends the abstract class from JSON using information in @class as shown below.\r\n\r\n    &quot;name&quot;: {\r\n      &quot;health&quot;: &quot;xxx&quot;,\r\n      &quot;animal&quot;: {\r\n        &quot;_class&quot;: &quot;com.example.Dog&quot;,\r\n        &quot;height&quot; : &quot;20&quot;\r\n        &quot;color&quot; : &quot;white&quot;\r\n      }\r\n    },\r\n\r\n \r\nHere the abstract class is animal and dog extends the animal class. So using the information in @class, can we instantiate dog directly. Also this is the response I am getting in restTemplate\r\n\r\n    ResponseEntity&lt;List&lt;SomeListName&gt;&gt; response = restTemplate.exchange(&quot;http://10.150.15.172:8080/agencies&quot;, HttpMethod.GET, request, responseType);\r\n           \r\nThe following error is coming when this line is executed.\r\nSince the POJO classes are auto-generated, I cannot use annotations like **@JsonTypeInfo**\r\n\r\nI am using Spring boot and maven.\r\nThis error is coming in console.\r\n&gt; Could not read JSON: Can not construct instance of &quot;MyPOJO&quot;, problem: abstract types either need to be mapped to concrete types, have custom deserializer, or be instantiated with additional type information","title":"Java: Deserialize a json to object in rest template using &quot;@class&quot; in json -SpringBoot","body":"<p>I have to instantiate a class which extends the abstract class from JSON using information in @class as shown below.</p>\n\n<pre><code>\"name\": {\n  \"health\": \"xxx\",\n  \"animal\": {\n    \"_class\": \"com.example.Dog\",\n    \"height\" : \"20\"\n    \"color\" : \"white\"\n  }\n},\n</code></pre>\n\n<p>Here the abstract class is animal and dog extends the animal class. So using the information in @class, can we instantiate dog directly. Also this is the response I am getting in restTemplate</p>\n\n<pre><code>ResponseEntity&lt;List&lt;SomeListName&gt;&gt; response = restTemplate.exchange(\"http://10.150.15.172:8080/agencies\", HttpMethod.GET, request, responseType);\n</code></pre>\n\n<p>The following error is coming when this line is executed.\nSince the POJO classes are auto-generated, I cannot use annotations like <strong>@JsonTypeInfo</strong></p>\n\n<p>I am using Spring boot and maven.\nThis error is coming in console.</p>\n\n<blockquote>\n  <p>Could not read JSON: Can not construct instance of \"MyPOJO\", problem: abstract types either need to be mapped to concrete types, have custom deserializer, or be instantiated with additional type information</p>\n</blockquote>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"score":0,"creation_date":1650283741,"post_id":71911538,"comment_id":127072125,"body_markdown":"Your item layout has height wrap_content?","body":"Your item layout has height wrap_content?"},{"owner":{"account_id":8781976,"reputation":120,"user_id":6565331,"display_name":"Mkhakpaki"},"score":0,"creation_date":1650283791,"post_id":71911538,"comment_id":127072140,"body_markdown":"can you add your implementation code here, by this pictures we can not understand how you are using grid layout manager","body":"can you add your implementation code here, by this pictures we can not understand how you are using grid layout manager"},{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1650284011,"post_id":71911538,"comment_id":127072219,"body_markdown":"maybe you are looking for a staggered layout instead of grid layout. staggered layout can make view like this","body":"maybe you are looking for a staggered layout instead of grid layout. staggered layout can make view like this"}],"answers":[{"tags":[],"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650284038,"creation_date":1650284038,"answer_id":71911678,"question_id":71911538,"body_markdown":"use StaggeredGridLayoutManager\r\n\r\n    recyclerView.setLayoutManager(new \r\n             StaggeredGridLayoutManager(2, \r\n             StaggeredGridLayoutManager.VERTICAL));\r\n\r\n","title":"Grid layout manager with dynamic item","body":"<p>use StaggeredGridLayoutManager</p>\n<pre><code>recyclerView.setLayoutManager(new \n         StaggeredGridLayoutManager(2, \n         StaggeredGridLayoutManager.VERTICAL));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650286438,"creation_date":1650286438,"answer_id":71912079,"question_id":71911538,"body_markdown":"Try this one \r\n\r\n    RecyclerView recyclerView = (RecyclerView) \r\n    context.findViewById(R.id.recyclerview);\r\n    FlexboxLayoutManager layoutManager = new FlexboxLayoutManager(context);\r\n    layoutManager.setFlexDirection(FlexDirection.COLUMN);\r\n    layoutManager.setJustifyContent(JustifyContent.FLEX_END);\r\n    \r\n\r\n&gt; https://github.com/google/flexbox-layout\r\n\r\nrecyclerView.setLayoutManager(layoutManager);","title":"Grid layout manager with dynamic item","body":"<p>Try this one</p>\n<pre><code>RecyclerView recyclerView = (RecyclerView) \ncontext.findViewById(R.id.recyclerview);\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(context);\nlayoutManager.setFlexDirection(FlexDirection.COLUMN);\nlayoutManager.setJustifyContent(JustifyContent.FLEX_END);\n</code></pre>\n<blockquote>\n<p><a href=\"https://github.com/google/flexbox-layout\" rel=\"nofollow noreferrer\">https://github.com/google/flexbox-layout</a></p>\n</blockquote>\n<p>recyclerView.setLayoutManager(layoutManager);</p>\n"}],"owner":{"account_id":24986455,"reputation":11,"user_id":18848177,"display_name":"Sahand 83"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1652436273,"creation_date":1650283190,"question_id":71911538,"body_markdown":"I use grid layout manager but not working good for dynamic item\r\n\r\nWhat I want: \r\n\r\n[![enter image description here][1]][1] \r\n\r\nor just like \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd What it shows: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zpEUn.jpg\r\n  [2]: https://i.stack.imgur.com/vpJWY.png\r\n  [3]: https://i.stack.imgur.com/PpgPX.jpg","title":"Grid layout manager with dynamic item","body":"<p>I use grid layout manager but not working good for dynamic item</p>\n<p>What I want:</p>\n<p><a href=\"https://i.stack.imgur.com/zpEUn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpEUn.jpg\" alt=\"enter image description here\" /></a></p>\n<p>or just like</p>\n<p><a href=\"https://i.stack.imgur.com/vpJWY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vpJWY.png\" alt=\"enter image description here\" /></a></p>\n<p>And What it shows:</p>\n<p><a href=\"https://i.stack.imgur.com/PpgPX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PpgPX.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","generics","instantiation"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1652436156,"creation_date":1258191892,"answer_id":1733827,"question_id":1733799,"body_markdown":"I think that the first method should look something like this:\r\n\r\n    public static &lt;T&gt; T create(final String className, Class&lt;T&gt; ifaceClass) \r\n    throws ClassNotFoundException {\r\n        final Class&lt;T&gt; clazz = Class.forName(className).asSubclass(ifaceClass);\r\n        return create(clazz); \r\n    }\r\n\r\nYou cannot do an up-cast typecast using a type parameter ... without those pesky type-safety warnings.\r\n\r\nBy the way, if you ignore those warnings, the create method may create an instance of some class that isn&#39;t compatible with the actual type used by the caller.  This is likely to lead to an unexpected `ClassCastException` later on; e.g. when the instance is assigned.\r\n\r\n---------------------------------------------------------\r\n\r\nEDIT: @Pascal points out that we need to add a typecast to make this compile; i.e.\r\n\r\n    Class&lt;T&gt; clazz = (Class&lt;T&gt;) Class.forName(className).asSubclass(ifaceClass);\r\n\r\nUnfortunately, we *also* need to add a `@SuppressWarnings` annotation.\r\n","title":"Generics and Class.forName","body":"<p>I think that the first method should look something like this:</p>\n<pre><code>public static &lt;T&gt; T create(final String className, Class&lt;T&gt; ifaceClass) \nthrows ClassNotFoundException {\n    final Class&lt;T&gt; clazz = Class.forName(className).asSubclass(ifaceClass);\n    return create(clazz); \n}\n</code></pre>\n<p>You cannot do an up-cast typecast using a type parameter ... without those pesky type-safety warnings.</p>\n<p>By the way, if you ignore those warnings, the create method may create an instance of some class that isn't compatible with the actual type used by the caller.  This is likely to lead to an unexpected <code>ClassCastException</code> later on; e.g. when the instance is assigned.</p>\n<hr />\n<p>EDIT: @Pascal points out that we need to add a typecast to make this compile; i.e.</p>\n<pre><code>Class&lt;T&gt; clazz = (Class&lt;T&gt;) Class.forName(className).asSubclass(ifaceClass);\n</code></pre>\n<p>Unfortunately, we <em>also</em> need to add a <code>@SuppressWarnings</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1258192220,"creation_date":1258192220,"answer_id":1733830,"question_id":1733799,"body_markdown":"I think this is because `Class.forName(..)` isn&#39;t parameterized for T. When you trigger the eclipse autocomplete, it assumes the clazz.newInstance() return Object. So, retain the cast and add @SuppressWarnings. If you don&#39;t use the method properly (i.e. `String str = Utils.create(&quot;java.util.ArrayList&quot;);`) then a `ClassCastException` will occur, but that is normal.","title":"Generics and Class.forName","body":"<p>I think this is because <code>Class.forName(..)</code> isn't parameterized for T. When you trigger the eclipse autocomplete, it assumes the clazz.newInstance() return Object. So, retain the cast and add @SuppressWarnings. If you don't use the method properly (i.e. <code>String str = Utils.create(\"java.util.ArrayList\");</code>) then a <code>ClassCastException</code> will occur, but that is normal.</p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1258194194,"creation_date":1258194194,"answer_id":1733895,"question_id":1733799,"body_markdown":"The second method is fine.\r\n\r\n----------------\r\nBut for the first one, any class name could be passed as a parameter. \r\n\r\nThe point of the method would be to instanciate a class that the calling code doesn&#39;t know at compile-time, it only knows about it at runtime.\r\n\r\nIn these conditions, the calling code cannot set the Type Parameter, so the method cannot be parameterized, so the cast has no point...\r\n\r\nTherefore, I would say **the whole method has no point**.\r\n\r\n--------------------------\r\n\r\nSome point could be given to the method **if the calling code would know a supertype of the class**. That could be passed as a parameter, and the cast would be possible and meaningful.\r\n\r\n    public static &lt;T&gt; T create(final Class&lt;T&gt; superType, final String className) {\r\n      try {\r\n        final Class&lt;?&gt; clazz = Class.forName(className);\r\n        final Object object = clazz.newInstance();\r\n        if (superType.isInstance(object)) {\r\n          return (T)object; // safe cast\r\n        }\r\n        return null; // or other error \r\n      } // catch and other error code\r\n    }\r\n","title":"Generics and Class.forName","body":"<p>The second method is fine.</p>\n\n<hr>\n\n<p>But for the first one, any class name could be passed as a parameter. </p>\n\n<p>The point of the method would be to instanciate a class that the calling code doesn't know at compile-time, it only knows about it at runtime.</p>\n\n<p>In these conditions, the calling code cannot set the Type Parameter, so the method cannot be parameterized, so the cast has no point...</p>\n\n<p>Therefore, I would say <strong>the whole method has no point</strong>.</p>\n\n<hr>\n\n<p>Some point could be given to the method <strong>if the calling code would know a supertype of the class</strong>. That could be passed as a parameter, and the cast would be possible and meaningful.</p>\n\n<pre><code>public static &lt;T&gt; T create(final Class&lt;T&gt; superType, final String className) {\n  try {\n    final Class&lt;?&gt; clazz = Class.forName(className);\n    final Object object = clazz.newInstance();\n    if (superType.isInstance(object)) {\n      return (T)object; // safe cast\n    }\n    return null; // or other error \n  } // catch and other error code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39859,"reputation":318,"user_id":115180,"display_name":"chrisg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367583390,"creation_date":1258197050,"answer_id":1733963,"question_id":1733799,"body_markdown":"Even if you can get the code above to work, the newInstance() method of constructor assumes a zero argument constructor. \r\n\r\nIf the Class does not have one i.e the zero argument constructor of the Class you are trying to create has been explicitly declared private, or package depending on where the method is called from, you will get an IllegalAccessException. Something to add to your precondition, if you get it working.","title":"Generics and Class.forName","body":"<p>Even if you can get the code above to work, the newInstance() method of constructor assumes a zero argument constructor. </p>\n\n<p>If the Class does not have one i.e the zero argument constructor of the Class you are trying to create has been explicitly declared private, or package depending on where the method is called from, you will get an IllegalAccessException. Something to add to your precondition, if you get it working.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258202456,"creation_date":1258202150,"answer_id":1734128,"question_id":1733799,"body_markdown":"You can not restrict a type parameter to contain the type named className. Hence, a caller can supply any type to your create(String) function, which is of course not type safe.\r\n\r\nSince you cannot statically enforce that the returned instance implements any interface (without having the caller tell you by passing the corresponding Class object), I&#39;d dispense with generics, and have the caller cast to whatever type he expects.\r\n\r\n    public static Object create(final String className) {\r\n        try {\r\n            final Class&lt;?&gt; clazz = Class.forName(className);\r\n            return create(clazz); \r\n        }\r\n        catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nA caller can then write:\r\n\r\n    Foo foo = (Foo) create(&quot;my.cool.FooBar&quot;);\r\n\r\nas opposed to \r\n\r\n    Foo foo = create(&quot;my.cool.FooBar&quot;, Foo.class);","title":"Generics and Class.forName","body":"<p>You can not restrict a type parameter to contain the type named className. Hence, a caller can supply any type to your create(String) function, which is of course not type safe.</p>\n\n<p>Since you cannot statically enforce that the returned instance implements any interface (without having the caller tell you by passing the corresponding Class object), I'd dispense with generics, and have the caller cast to whatever type he expects.</p>\n\n<pre><code>public static Object create(final String className) {\n    try {\n        final Class&lt;?&gt; clazz = Class.forName(className);\n        return create(clazz); \n    }\n    catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>A caller can then write:</p>\n\n<pre><code>Foo foo = (Foo) create(\"my.cool.FooBar\");\n</code></pre>\n\n<p>as opposed to </p>\n\n<pre><code>Foo foo = create(\"my.cool.FooBar\", Foo.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2652312,"reputation":2970,"user_id":2293666,"accept_rate":0,"display_name":"osexp2000"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1459256751,"creation_date":1459256751,"answer_id":36285166,"question_id":1733799,"body_markdown":"I found an interesting thing: `Type` can be converted to `Class` directly if it is not a generic type. But i still can not `Class.forName(&quot;java.util.List&lt;SomeType&gt;&quot;)`.\r\n\r\n    import java.lang.reflect.*;\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n        public void func(List&lt;List&lt;String&gt;&gt; listlist, Map&lt;String, List&lt;String&gt;&gt; list, String s) {}\r\n    \r\n        public static void main(String[] args) throws ClassNotFoundException {\r\n            Method m = Main.class.getDeclaredMethods()[1];\r\n    \r\n            Type t0 = m.getGenericParameterTypes()[0];\r\n            boolean b0 = t0 instanceof Class;\r\n    \r\n            boolean b01 = ((ParameterizedType)t0).getRawType() instanceof Class;\r\n    \r\n            Type t1 = m.getGenericParameterTypes()[2];\r\n            boolean b1 = t1 instanceof Class;\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/NdWUZ.png\r\n","title":"Generics and Class.forName","body":"<p>I found an interesting thing: <code>Type</code> can be converted to <code>Class</code> directly if it is not a generic type. But i still can not <code>Class.forName(\"java.util.List&lt;SomeType&gt;\")</code>.</p>\n\n<pre><code>import java.lang.reflect.*;\nimport java.util.*;\n\npublic class Main {\n    public void func(List&lt;List&lt;String&gt;&gt; listlist, Map&lt;String, List&lt;String&gt;&gt; list, String s) {}\n\n    public static void main(String[] args) throws ClassNotFoundException {\n        Method m = Main.class.getDeclaredMethods()[1];\n\n        Type t0 = m.getGenericParameterTypes()[0];\n        boolean b0 = t0 instanceof Class;\n\n        boolean b01 = ((ParameterizedType)t0).getRawType() instanceof Class;\n\n        Type t1 = m.getGenericParameterTypes()[2];\n        boolean b1 = t1 instanceof Class;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NdWUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NdWUZ.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32421,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":1733827,"answer_count":6,"score":26,"last_activity_date":1652436156,"creation_date":1258190958,"question_id":1733799,"body_markdown":"I would like to create an instance of a specified class using its name. My code is shown below.\r\n\r\nI get a compiler warning. Am I doing this the right way? Is it even possible to use the name of a class and get an instance of that type back, as I don&#39;t think there is any way of the compiler knowing what the type should be?\r\n\r\n\r\n    public static &lt;T&gt; T create(final String className) {\r\n        try {\r\n            final Class&lt;?&gt; clazz = Class.forName(className);\r\n\r\n            //WARNING: Type safety: Unchecked cast from capture#2-of ? to T\r\n            return (T) create(clazz); \r\n        }\r\n        catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public static &lt;T&gt; T create(final Class&lt;T&gt; classToCreate) {\r\n        final Constructor&lt;T&gt; constructor;\r\n        try {\r\n            constructor = classToCreate.getDeclaredConstructor();\r\n            final T result = constructor.newInstance();\r\n            return result;\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThanks","title":"Generics and Class.forName","body":"<p>I would like to create an instance of a specified class using its name. My code is shown below.</p>\n\n<p>I get a compiler warning. Am I doing this the right way? Is it even possible to use the name of a class and get an instance of that type back, as I don't think there is any way of the compiler knowing what the type should be?</p>\n\n<pre><code>public static &lt;T&gt; T create(final String className) {\n    try {\n        final Class&lt;?&gt; clazz = Class.forName(className);\n\n        //WARNING: Type safety: Unchecked cast from capture#2-of ? to T\n        return (T) create(clazz); \n    }\n    catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n\npublic static &lt;T&gt; T create(final Class&lt;T&gt; classToCreate) {\n    final Constructor&lt;T&gt; constructor;\n    try {\n        constructor = classToCreate.getDeclaredConstructor();\n        final T result = constructor.newInstance();\n        return result;\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","http-headers","xmlhttprequest"],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554494876,"creation_date":1471380304,"answer_id":38984163,"question_id":38983949,"body_markdown":"What you can do is to modify your http method to :\r\n\r\n     public Response getYourMethod( HttpServletRequest request) \r\n                                 throws Exception, IOException{\r\n      //then your code\r\n     }\r\n\r\nNow after that add the following:\r\n\r\nSince your API looks for `www.yoursite.com:3000` in the Allow Origin Header, you need to make sure this is getting added in the following line:\r\n\r\n    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;www.yoursite.com:3000&quot;);\r\n\r\nTo get the `www.yoursite.com:3000` you can use :\r\n\r\n    String requestUrl = request.getRemoteAddr() + &quot;:&quot; + request.getRemotePort();\r\n\r\nBut if the browser looks for localhost then go for the :\r\n\r\n    request.getRemoteHost().\r\n\r\nSo you can basically have something like this:\r\n\r\n    if (requestUrl.equals(yourAPIURL)){\r\n       //allow access\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, requestUrl);\r\n    }\r\n\r\nAvoid adding `*` because some browsers and API will not still allow that and can be rejected by preflight requests, if you are using a browser.\r\n\r\nMake sure that you add the headers and methods properly as mentioned in the post.\r\n\r\nHope that solves your problem.","title":"Java - Access-Control-Allow-Origin Multiple Origin Domains?","body":"<p>What you can do is to modify your http method to :</p>\n\n<pre><code> public Response getYourMethod( HttpServletRequest request) \n                             throws Exception, IOException{\n  //then your code\n }\n</code></pre>\n\n<p>Now after that add the following:</p>\n\n<p>Since your API looks for <code>www.yoursite.com:3000</code> in the Allow Origin Header, you need to make sure this is getting added in the following line:</p>\n\n<pre><code>response.setHeader(\"Access-Control-Allow-Origin\", \"www.yoursite.com:3000\");\n</code></pre>\n\n<p>To get the <code>www.yoursite.com:3000</code> you can use :</p>\n\n<pre><code>String requestUrl = request.getRemoteAddr() + \":\" + request.getRemotePort();\n</code></pre>\n\n<p>But if the browser looks for localhost then go for the :</p>\n\n<pre><code>request.getRemoteHost().\n</code></pre>\n\n<p>So you can basically have something like this:</p>\n\n<pre><code>if (requestUrl.equals(yourAPIURL)){\n   //allow access\n    response.setHeader(\"Access-Control-Allow-Origin\", requestUrl);\n}\n</code></pre>\n\n<p>Avoid adding <code>*</code> because some browsers and API will not still allow that and can be rejected by preflight requests, if you are using a browser.</p>\n\n<p>Make sure that you add the headers and methods properly as mentioned in the post.</p>\n\n<p>Hope that solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":9620040,"reputation":853,"user_id":7141579,"display_name":"Jose Boretto Blengino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652436111,"creation_date":1535637728,"answer_id":52098977,"question_id":38983949,"body_markdown":"\r\n\r\n    public class CorsInterceptor implements ContainerResponseFilter {\r\n        @Override\r\n        public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext)\r\n                throws IOException {\r\n            //When we send the http-only cookie the &#39;Access-Control-Allow-Origin&#39; header cannot be *\r\n            responseContext.getHeaders().putSingle(&quot;Access-Control-Allow-Origin&quot;, requestContext.getHeaderString(&quot;origin&quot;));\r\n        }\r\n    }\r\n\r\n","title":"Java - Access-Control-Allow-Origin Multiple Origin Domains?","body":"<pre><code>public class CorsInterceptor implements ContainerResponseFilter {\n    @Override\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext)\n            throws IOException {\n        //When we send the http-only cookie the 'Access-Control-Allow-Origin' header cannot be *\n        responseContext.getHeaders().putSingle(&quot;Access-Control-Allow-Origin&quot;, requestContext.getHeaderString(&quot;origin&quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13328924,"reputation":107,"user_id":9620996,"display_name":"Matheus Almeida"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1554505120,"creation_date":1549074248,"answer_id":54489424,"question_id":38983949,"body_markdown":"You can do it like this:\r\n\r\n    private static final String URL = &quot;http://somehost:port&quot;; // URL\r\n    private static final String OTHER_URL = &quot;http://otherhost:port&quot;; // OTHER URL  \r\n    \r\n    private void setAccessControlAllowOrigin(HttpServletResponse response,\r\n         HttpServletRequest request) {\r\n        if (URL.equals(request.getHeader(&quot;Origin&quot;))) {\r\n    \t    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, URL);\r\n    \t} else if (OTHER_URL.equals(request.getHeader(&quot;Origin&quot;))) {\r\n    \t    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, OTHER_URL);\r\n    \t}\r\n    }","title":"Java - Access-Control-Allow-Origin Multiple Origin Domains?","body":"<p>You can do it like this:</p>\n\n<pre><code>private static final String URL = \"http://somehost:port\"; // URL\nprivate static final String OTHER_URL = \"http://otherhost:port\"; // OTHER URL  \n\nprivate void setAccessControlAllowOrigin(HttpServletResponse response,\n     HttpServletRequest request) {\n    if (URL.equals(request.getHeader(\"Origin\"))) {\n        response.setHeader(\"Access-Control-Allow-Origin\", URL);\n    } else if (OTHER_URL.equals(request.getHeader(\"Origin\"))) {\n        response.setHeader(\"Access-Control-Allow-Origin\", OTHER_URL);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621816935,"creation_date":1621816935,"answer_id":67665523,"question_id":38983949,"body_markdown":"This is my approach to allow only specific origins\r\n1. Define a property in `.properties` file to get the value for allowing origins as follow\r\n```properties\r\n#CORS Settings\r\ncors.origins.allowed=https://127.0.0.1:5500, http://127.0.0.1:5000\r\n```\r\nImplement a Filter class where we can modify the response allow origin header\r\n```Java\r\nprivate String setAllowedOrigin(HttpServletRequest request) {\r\n        String requestOrigin = request.getHeader(&quot;origin&quot;);\r\n        log.info(&quot;Request is received with origin header : {}&quot;, requestOrigin);\r\n        List&lt;String&gt; originsList = Arrays.stream(this.origins.split(&quot;,&quot;))\r\n                .map(String::trim).filter(origin -&gt; !origin.equals(&quot;&quot;)).collect(Collectors.toList());\r\n        log.info(&quot;origins List : {}&quot;, originsList);\r\n        if (!originsList.isEmpty() &amp;&amp; requestOrigin != null) {\r\n            Optional&lt;String&gt; origin = originsList.stream().filter(allowedOrigin -&gt; allowedOrigin.equals(requestOrigin)).findFirst();\r\n            return origin.orElseGet(() -&gt; originsList.get(0));\r\n        }\r\n        return &quot;*&quot;;\r\n    }\r\n\r\n\r\n @Override\r\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n            throws IOException, ServletException {\r\n\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, setAllowedOrigin(request));\r\n       \r\n        chain.doFilter(req, res);\r\n    }\r\n```\r\n\r\nThis CORS filter allows only origins mentioned in properties files only\r\nTo illustrate the behaviour, I used  Visual studio code live server with the following code I have a `test` endpoint in my API.\r\n\r\n\r\n```javascript\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;Script&gt;\r\n        fetch(&quot;http://localhost:8080/test&quot;, { method: &quot;get&quot; })\r\n            .then(res =&gt; res.json())\r\n            .then(data =&gt; console.log(data));\r\n    &lt;/Script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n[![Sample Image when I hit the live server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s3Yuo.png","title":"Java - Access-Control-Allow-Origin Multiple Origin Domains?","body":"<p>This is my approach to allow only specific origins</p>\n<ol>\n<li>Define a property in <code>.properties</code> file to get the value for allowing origins as follow</li>\n</ol>\n<pre><code>#CORS Settings\ncors.origins.allowed=https://127.0.0.1:5500, http://127.0.0.1:5000\n</code></pre>\n<p>Implement a Filter class where we can modify the response allow origin header</p>\n<pre><code>private String setAllowedOrigin(HttpServletRequest request) {\n        String requestOrigin = request.getHeader(&quot;origin&quot;);\n        log.info(&quot;Request is received with origin header : {}&quot;, requestOrigin);\n        List&lt;String&gt; originsList = Arrays.stream(this.origins.split(&quot;,&quot;))\n                .map(String::trim).filter(origin -&gt; !origin.equals(&quot;&quot;)).collect(Collectors.toList());\n        log.info(&quot;origins List : {}&quot;, originsList);\n        if (!originsList.isEmpty() &amp;&amp; requestOrigin != null) {\n            Optional&lt;String&gt; origin = originsList.stream().filter(allowedOrigin -&gt; allowedOrigin.equals(requestOrigin)).findFirst();\n            return origin.orElseGet(() -&gt; originsList.get(0));\n        }\n        return &quot;*&quot;;\n    }\n\n\n @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n\n        HttpServletResponse response = (HttpServletResponse) res;\n        HttpServletRequest request = (HttpServletRequest) req;\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, setAllowedOrigin(request));\n       \n        chain.doFilter(req, res);\n    }\n</code></pre>\n<p>This CORS filter allows only origins mentioned in properties files only\nTo illustrate the behaviour, I used  Visual studio code live server with the following code I have a <code>test</code> endpoint in my API.</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;Script&gt;\n        fetch(&quot;http://localhost:8080/test&quot;, { method: &quot;get&quot; })\n            .then(res =&gt; res.json())\n            .then(data =&gt; console.log(data));\n    &lt;/Script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/s3Yuo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s3Yuo.png\" alt=\"Sample Image when I hit the live server\" /></a></p>\n"}],"owner":{"account_id":389277,"reputation":10038,"user_id":748656,"accept_rate":79,"display_name":"Doc Holiday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12915,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1652436111,"creation_date":1471379491,"question_id":38983949,"body_markdown":"So I have read through the other threads regarding this and have not found a solution.\r\n\r\nThe problem Im having is because im setting &quot;access-control-allow-methods&quot; &quot;true&quot; I cant use `setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);`\r\n\r\n\r\nI need to set two specific domains...any help is appreciated.  ","title":"Java - Access-Control-Allow-Origin Multiple Origin Domains?","body":"<p>So I have read through the other threads regarding this and have not found a solution.</p>\n\n<p>The problem Im having is because im setting \"access-control-allow-methods\" \"true\" I cant use <code>setHeader(\"Access-Control-Allow-Origin\", \"*\");</code></p>\n\n<p>I need to set two specific domains...any help is appreciated.  </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1652426575,"post_id":72225760,"comment_id":127607873,"body_markdown":"What is the type of `comment.getPost().getId()`? Given that this sounds like a Java compilation error, I suspect you should be able to reproduce this in a [mcve] which doesn&#39;t refer to spring-boot at all.","body":"What is the type of <code>comment.getPost().getId()</code>? Given that this sounds like a Java compilation error, I suspect you should be able to reproduce this in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which doesn&#39;t refer to spring-boot at all."},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1652427633,"post_id":72225760,"comment_id":127608193,"body_markdown":"Can you provide the full stack trace please?","body":"Can you provide the full stack trace please?"},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":1,"creation_date":1652428017,"post_id":72225760,"comment_id":127608303,"body_markdown":"for checking equality of `long` (lowercase) use `==` -&gt; `if (comment.getPost().getId() != (post.getId())`","body":"for checking equality of <code>long</code> (lowercase) use <code>==</code> -&gt; <code>if (comment.getPost().getId() != (post.getId())</code>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652436089,"creation_date":1652435767,"answer_id":72227690,"question_id":72225760,"body_markdown":"Presumably, the compilation error is on this line:\r\n\r\n    if (!comment.getPost().getId().equals(post.getId())) {\r\n\r\nFrom the error message, we can infer that `post.getId()` returns `long`, and that the `comment.getPost().getId()` expression has a static (reference) type that doesn&#39;t provide an `equals(long)` or `equals(Long)` method.  (It most likely just has the `equals(Object)` inherited from `Object`.)\r\n\r\nSo ... assuming you are actually intending to do an integer equality test here ... there are a couple of ways to do this:\r\n\r\nThis one will work if the return type of `comment.getPost().getId()` is a subtype of `Number`\r\n\r\n    if (comment.getPost().getId().longValue() != post.getId())) {\r\n\r\nThis will only work if the return type is `Long`:\r\n\r\n    if (!comment.getPost().getId().equals(Long.valueOf(post.getId()))) {\r\n\r\nYou could also solve this by being consistent about the return types of your (at least two) `getId()` methods.  (Why does one return `long` and the other something reference type?  You are doing the same thing in the `updateComment` method signature.)\r\n\r\n-----------------------\r\n\r\nNote that this is NOT a solution:\r\n\r\n    if (comment.getPost().getId() != Long.valueOf(post.getId())) {\r\n\r\nYou should not use `==` to compare 2 values whose type are a wrapper class; i.e. `Boolean`, `Byte`, `Short`, `Character`, `Integer`, `Long`, `Float` or `Double`.  The `==` operator will compare references, and that *may* give the wrong answer ... if your intention is to compare numeric values.","title":"Cannot resolve method &#39;equals(long)&#39;","body":"<p>Presumably, the compilation error is on this line:</p>\n<pre><code>if (!comment.getPost().getId().equals(post.getId())) {\n</code></pre>\n<p>From the error message, we can infer that <code>post.getId()</code> returns <code>long</code>, and that the <code>comment.getPost().getId()</code> expression has a static (reference) type that doesn't provide an <code>equals(long)</code> or <code>equals(Long)</code> method.  (It most likely just has the <code>equals(Object)</code> inherited from <code>Object</code>.)</p>\n<p>So ... assuming you are actually intending to do an integer equality test here ... there are a couple of ways to do this:</p>\n<p>This one will work if the return type of <code>comment.getPost().getId()</code> is a subtype of <code>Number</code></p>\n<pre><code>if (comment.getPost().getId().longValue() != post.getId())) {\n</code></pre>\n<p>This will only work if the return type is <code>Long</code>:</p>\n<pre><code>if (!comment.getPost().getId().equals(Long.valueOf(post.getId()))) {\n</code></pre>\n<p>You could also solve this by being consistent about the return types of your (at least two) <code>getId()</code> methods.  (Why does one return <code>long</code> and the other something reference type?  You are doing the same thing in the <code>updateComment</code> method signature.)</p>\n<hr />\n<p>Note that this is NOT a solution:</p>\n<pre><code>if (comment.getPost().getId() != Long.valueOf(post.getId())) {\n</code></pre>\n<p>You should not use <code>==</code> to compare 2 values whose type are a wrapper class; i.e. <code>Boolean</code>, <code>Byte</code>, <code>Short</code>, <code>Character</code>, <code>Integer</code>, <code>Long</code>, <code>Float</code> or <code>Double</code>.  The <code>==</code> operator will compare references, and that <em>may</em> give the wrong answer ... if your intention is to compare numeric values.</p>\n"}],"owner":{"account_id":21213925,"reputation":1,"user_id":15601924,"display_name":"Tretch10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652436089,"creation_date":1652426365,"question_id":72225760,"body_markdown":"I&#39;m working on a spring boot application. However in my service impl class I&#39;m getting a &quot;Cannot resolve method &#39;equals(long)&#39; when I try to use the equals() method. Any ideas on what the issue my be and how to fix it. Here is part of my service class:\r\n```java\r\n    @Override\r\n    public CommentDto updateComment(Long postId, long commentId, CommentDto commentRequest) {\r\n        // retrieve post entity by id\r\n        Post post = postRepository.findById(postId).orElseThrow(\r\n                () -&gt; new ResourceNotFoundException(&quot;Post&quot;, &quot;id&quot;, postId));\r\n\r\n        // retrieve comment by id\r\n        Comment comment = commentRepository.findById(commentId).orElseThrow(() -&gt;\r\n                new ResourceNotFoundException(&quot;Comment&quot;, &quot;id&quot;, commentId));\r\n\r\n        if(!comment.getPost().getId().equals(post.getId())){\r\n            throw new BlogApiException(HttpStatus.BAD_REQUEST, &quot;Comment does not belongs to post&quot;);\r\n        }\r\n\r\n        comment.setName(commentRequest.getName());\r\n        comment.setEmail(commentRequest.getEmail());\r\n        comment.setBody(commentRequest.getBody());\r\n\r\n        Comment updatedComment = commentRepository.save(comment);\r\n        return mapToDTO(updatedComment);\r\n    }\r\n\r\n","title":"Cannot resolve method &#39;equals(long)&#39;","body":"<p>I'm working on a spring boot application. However in my service impl class I'm getting a &quot;Cannot resolve method 'equals(long)' when I try to use the equals() method. Any ideas on what the issue my be and how to fix it. Here is part of my service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public CommentDto updateComment(Long postId, long commentId, CommentDto commentRequest) {\n        // retrieve post entity by id\n        Post post = postRepository.findById(postId).orElseThrow(\n                () -&gt; new ResourceNotFoundException(&quot;Post&quot;, &quot;id&quot;, postId));\n\n        // retrieve comment by id\n        Comment comment = commentRepository.findById(commentId).orElseThrow(() -&gt;\n                new ResourceNotFoundException(&quot;Comment&quot;, &quot;id&quot;, commentId));\n\n        if(!comment.getPost().getId().equals(post.getId())){\n            throw new BlogApiException(HttpStatus.BAD_REQUEST, &quot;Comment does not belongs to post&quot;);\n        }\n\n        comment.setName(commentRequest.getName());\n        comment.setEmail(commentRequest.getEmail());\n        comment.setBody(commentRequest.getBody());\n\n        Comment updatedComment = commentRepository.save(comment);\n        return mapToDTO(updatedComment);\n    }\n\n</code></pre>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":2918545,"reputation":111555,"user_id":2501279,"display_name":"Guru Stron"},"score":0,"creation_date":1652449617,"post_id":72226728,"comment_id":127615940,"body_markdown":"Would it be possible to refactor all `find` methods into something like one `Find(SomeFindParams)` method?","body":"Would it be possible to refactor all <code>find</code> methods into something like one <code>Find(SomeFindParams)</code> method?"},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1652450561,"post_id":72226728,"comment_id":127616298,"body_markdown":"Looks like you have working code, so https://codereview.stackexchange.com might be more appropriate for this question.","body":"Looks like you have working code, so <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a> might be more appropriate for this question."},{"owner":{"account_id":18849596,"reputation":63,"user_id":13749065,"display_name":"Viktor Klyestov"},"score":0,"creation_date":1652453033,"post_id":72226728,"comment_id":127617266,"body_markdown":"@GuruStron Yes, it is possible, but I&#39;m not sure if it helps. It will make it even harder to mock those methods","body":"@GuruStron Yes, it is possible, but I&#39;m not sure if it helps. It will make it even harder to mock those methods"},{"owner":{"account_id":18849596,"reputation":63,"user_id":13749065,"display_name":"Viktor Klyestov"},"score":0,"creation_date":1652453124,"post_id":72226728,"comment_id":127617300,"body_markdown":"@jaco0646 you probably right. Didn&#39;t know about it. Can I move it there or I need to create new question?","body":"@jaco0646 you probably right. Didn&#39;t know about it. Can I move it there or I need to create new question?"},{"owner":{"account_id":2918545,"reputation":111555,"user_id":2501279,"display_name":"Guru Stron"},"score":0,"creation_date":1652453590,"post_id":72226728,"comment_id":127617474,"body_markdown":"@ViktorKlyestov I&#39;m not very familiar with java mocking tools, but at least some in other languages allow easily to define the responses in succession which can be much easier/automatable in some cases. In the nutshell you will need either to mock all needed methods or setup underlying storage in correct way (i.e. moving this more to the realm of integration testing)  if you need to test the scenario. So I would say that in this case you need to come up with some way for easier setup.","body":"@ViktorKlyestov I&#39;m not very familiar with java mocking tools, but at least some in other languages allow easily to define the responses in succession which can be much easier/automatable in some cases. In the nutshell you will need either to mock all needed methods or setup underlying storage in correct way (i.e. moving this more to the realm of integration testing)  if you need to test the scenario. So I would say that in this case you need to come up with some way for easier setup."},{"owner":{"account_id":18849596,"reputation":63,"user_id":13749065,"display_name":"Viktor Klyestov"},"score":0,"creation_date":1652454736,"post_id":72226728,"comment_id":127617950,"body_markdown":"@GuruStron yes it is easy to mock sequential calls. I thought about argument based mocking, that produces different results depending on argument, it is kind of pain. If there is no other magical trick to simplify my code I might use your suggestion. Could you post your comment as an answer, so that people could vote for it?","body":"@GuruStron yes it is easy to mock sequential calls. I thought about argument based mocking, that produces different results depending on argument, it is kind of pain. If there is no other magical trick to simplify my code I might use your suggestion. Could you post your comment as an answer, so that people could vote for it?"},{"owner":{"account_id":18849596,"reputation":63,"user_id":13749065,"display_name":"Viktor Klyestov"},"score":1,"creation_date":1652456229,"post_id":72226728,"comment_id":127618517,"body_markdown":"@GuruStron oh actually some of the methods have different return types... Collection and Optional. That is not visible in my oversimplified example","body":"@GuruStron oh actually some of the methods have different return types... Collection and Optional. That is not visible in my oversimplified example"},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1652457813,"post_id":72226728,"comment_id":127619075,"body_markdown":"@ViktorKlyestov If your question is only regarding about mocking tool, then try to use [jfixture](https://github.com/FlexTradeUKLtd/jfixture). JFixture is an open source library based on the popular .NET library, [AutoFixture](https://github.com/AutoFixture/AutoFixture)","body":"@ViktorKlyestov If your question is only regarding about mocking tool, then try to use <a href=\"https://github.com/FlexTradeUKLtd/jfixture\" rel=\"nofollow noreferrer\">jfixture</a>. JFixture is an open source library based on the popular .NET library, <a href=\"https://github.com/AutoFixture/AutoFixture\" rel=\"nofollow noreferrer\">AutoFixture</a>"},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1652477554,"post_id":72226728,"comment_id":127624451,"body_markdown":"[How do I move my own question to another Stack Exchange site?](https://meta.stackexchange.com/questions/85017) I guess you&#39;re supposed to flag it and ask the moderators to move it for you.","body":"<a href=\"https://meta.stackexchange.com/questions/85017\">How do I move my own question to another Stack Exchange site?</a> I guess you&#39;re supposed to flag it and ask the moderators to move it for you."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652435785,"creation_date":1652434307,"answer_id":72227370,"question_id":72226728,"body_markdown":"In my view, what can be done is creation of cache.\r\nYou will preload all data from database. If there are many data, then preload only most recently used data. Take a look at [LRU caching strategy][1].\r\nRead more [about caching strategies][2]. \r\n\r\nIf count of rows from database is not very big, you can create hashtables for each entity and it will be your cache. Then while creating an object, you can take your object from cache. It will be fast as gettting value from \r\nHashTable is O(1)\r\n\r\n**UPDATE:**\r\n\r\nIf you want to have testable code, then you can use [Dependency inversion Principle][3].\r\n\r\nSo you need to create interfaces of your dependencies and inject concrete objects to your factory.\r\n\r\nLet me show an example. At first you need abstraction:\r\n\r\n    public interface ICarBuilder\r\n    { \r\n    \r\n    }\r\n\r\nThen implement interface in concrete type:\r\n\r\n    public class CarBuilder : ICarBuilder\r\n    {\r\n    }\r\n\r\nAnd the next step is to introduce abstraction in your `CarFactory`:\r\n\r\n    class CarFactory\r\n    {\r\n        private ICarBuilder _carBuilder;\r\n        // other code is omitted for the brevity\r\n    \r\n        public CarFactory(ICarBuilder carBuilder) \r\n        {\r\n            _carBuilder = carBuilder;\r\n        }\r\n    \r\n    \r\n        public Car create()\r\n        {   \r\n            return _carBuilder.buildBasedOn(detail);\r\n            // other code is omitted for the brevity\r\n        }\r\n    }\r\n\r\nThen you can use like this:\r\n\r\n    CarFactory carFactory = new CarFactory(new CarBuilder());\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29225598\r\n  [2]: https://medium.datadriveninvestor.com/all-things-caching-use-cases-benefits-strategies-choosing-a-caching-technology-exploring-fa6c1f2e93aa\r\n  [3]: https://stackoverflow.com/questions/62539/what-is-the-dependency-inversion-principle-and-why-is-it-important\r\n\r\n\r\n","title":"Inappropriate Intimacy in factory","body":"<p>In my view, what can be done is creation of cache.\nYou will preload all data from database. If there are many data, then preload only most recently used data. Take a look at <a href=\"https://stackoverflow.com/a/29225598\">LRU caching strategy</a>.\nRead more <a href=\"https://medium.datadriveninvestor.com/all-things-caching-use-cases-benefits-strategies-choosing-a-caching-technology-exploring-fa6c1f2e93aa\" rel=\"nofollow noreferrer\">about caching strategies</a>.</p>\n<p>If count of rows from database is not very big, you can create hashtables for each entity and it will be your cache. Then while creating an object, you can take your object from cache. It will be fast as gettting value from\nHashTable is O(1)</p>\n<p><strong>UPDATE:</strong></p>\n<p>If you want to have testable code, then you can use <a href=\"https://stackoverflow.com/questions/62539/what-is-the-dependency-inversion-principle-and-why-is-it-important\">Dependency inversion Principle</a>.</p>\n<p>So you need to create interfaces of your dependencies and inject concrete objects to your factory.</p>\n<p>Let me show an example. At first you need abstraction:</p>\n<pre><code>public interface ICarBuilder\n{ \n\n}\n</code></pre>\n<p>Then implement interface in concrete type:</p>\n<pre><code>public class CarBuilder : ICarBuilder\n{\n}\n</code></pre>\n<p>And the next step is to introduce abstraction in your <code>CarFactory</code>:</p>\n<pre><code>class CarFactory\n{\n    private ICarBuilder _carBuilder;\n    // other code is omitted for the brevity\n\n    public CarFactory(ICarBuilder carBuilder) \n    {\n        _carBuilder = carBuilder;\n    }\n\n\n    public Car create()\n    {   \n        return _carBuilder.buildBasedOn(detail);\n        // other code is omitted for the brevity\n    }\n}\n</code></pre>\n<p>Then you can use like this:</p>\n<pre><code>CarFactory carFactory = new CarFactory(new CarBuilder());\n</code></pre>\n"}],"owner":{"account_id":18849596,"reputation":63,"user_id":13749065,"display_name":"Viktor Klyestov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652435785,"creation_date":1652431316,"question_id":72226728,"body_markdown":"My Factory has dependency on Repository. It calls many methods from Repository. Lets say something like this:\r\n\r\n```\r\nclass CarFactory {\r\n    private Repository repository;\r\n\r\n    Car create() {\r\n        detail = repository.findSomeDetail();\r\n        if(detail.large()) {\r\n          anotherDetail = repository.findAnotherDetail();\r\n          return new Car(detail, anotherDetail);\r\n        } else {\r\n          anotherDetail = repository.findYetAnotherDetail();\r\n          if(anotherDetail.expensive()) {\r\n              cheapDetail = repository.findCheapDetail();\r\n              return new SecondHandCar(cheapDetail);\r\n          } else {\r\n              smallDetail = repository.findSmallDetail();\r\n              return new SmallCar(smallDetail);\r\n          }\r\n    }\r\n}\r\n```\r\n\r\nIt is hard to test, I need to mock lots of Repository methods. One problem is that Repository takes a lot of time to find something, so I can not find everything and then pick whatever I need. I need to call its methods only after certain criteria was met. Repository manages only single entity type, so I don&#39;t think it is a ***God Object***.\r\nI tried to use Builder and ended up with:\r\n```\r\nclass CarFactory {\r\n    private Repository repository;\r\n    private CarBuilder builder;\r\n\r\n    Car create() {\r\n        detail = repository.findSomeDetail();\r\n        return builder.buildBasedOn(detail);\r\n    }\r\n}\r\n```\r\nHowever, it introduces new dependency in CarFactory and there is still problems inside Builder itself.","title":"Inappropriate Intimacy in factory","body":"<p>My Factory has dependency on Repository. It calls many methods from Repository. Lets say something like this:</p>\n<pre><code>class CarFactory {\n    private Repository repository;\n\n    Car create() {\n        detail = repository.findSomeDetail();\n        if(detail.large()) {\n          anotherDetail = repository.findAnotherDetail();\n          return new Car(detail, anotherDetail);\n        } else {\n          anotherDetail = repository.findYetAnotherDetail();\n          if(anotherDetail.expensive()) {\n              cheapDetail = repository.findCheapDetail();\n              return new SecondHandCar(cheapDetail);\n          } else {\n              smallDetail = repository.findSmallDetail();\n              return new SmallCar(smallDetail);\n          }\n    }\n}\n</code></pre>\n<p>It is hard to test, I need to mock lots of Repository methods. One problem is that Repository takes a lot of time to find something, so I can not find everything and then pick whatever I need. I need to call its methods only after certain criteria was met. Repository manages only single entity type, so I don't think it is a <em><strong>God Object</strong></em>.\nI tried to use Builder and ended up with:</p>\n<pre><code>class CarFactory {\n    private Repository repository;\n    private CarBuilder builder;\n\n    Car create() {\n        detail = repository.findSomeDetail();\n        return builder.buildBasedOn(detail);\n    }\n}\n</code></pre>\n<p>However, it introduces new dependency in CarFactory and there is still problems inside Builder itself.</p>\n"},{"tags":["java","visual-studio-code","editor"],"comments":[{"owner":{"account_id":23256248,"reputation":81,"user_id":17343261,"display_name":"Java-Enthusiast"},"score":1,"creation_date":1652389234,"post_id":72221667,"comment_id":127601239,"body_markdown":"Is there an absolute requirement to use VSCode?  I do a lot of tutoring for a local university and the students who use VSCode have so many problems with that Java Extension.  The problems are often very strange to debug, for example \\t character needs to be configured in settings if you want TAB to use it instead of &quot;  &quot;(two spaces).\n\nI found this: https://code.visualstudio.com/docs/java/java-build\nwhich may or may not highlight what it is you&#39;re asking about.\n\nALSO:\n\nDo you have the entire Java extension pack?  If you do not, try that!","body":"Is there an absolute requirement to use VSCode?  I do a lot of tutoring for a local university and the students who use VSCode have so many problems with that Java Extension.  The problems are often very strange to debug, for example \\t character needs to be configured in settings if you want TAB to use it instead of &quot;  &quot;(two spaces).  I found this: <a href=\"https://code.visualstudio.com/docs/java/java-build\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-build</a> which may or may not highlight what it is you&#39;re asking about.  ALSO:  Do you have the entire Java extension pack?  If you do not, try that!"},{"owner":{"account_id":23676412,"reputation":21,"user_id":17702591,"display_name":"Used To Love"},"score":0,"creation_date":1652403541,"post_id":72221667,"comment_id":127603951,"body_markdown":"Not really,but some people recommended vscode for lightweight but strong support for most language, I use eclispe and it&#39;s way enough for me,not any bugs but the code completion is much weaker than vscode, I&#39;ve installed all extension packs for java in vscode,but it seems like bugs and not changing settings could fix.","body":"Not really,but some people recommended vscode for lightweight but strong support for most language, I use eclispe and it&#39;s way enough for me,not any bugs but the code completion is much weaker than vscode, I&#39;ve installed all extension packs for java in vscode,but it seems like bugs and not changing settings could fix."},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1652424485,"post_id":72221667,"comment_id":127607215,"body_markdown":"@Used To Love For the first question, I recreated a new Maven project, however I don‘t need to empty the workspace. Of course, I&#39;ve encountered some situations where I need to empty the workspace. And I think it&#39;s acceptable to follow the prompts. And can you describe the second question in more detail?","body":"@Used To Love For the first question, I recreated a new Maven project, however I don‘t need to empty the workspace. Of course, I&#39;ve encountered some situations where I need to empty the workspace. And I think it&#39;s acceptable to follow the prompts. And can you describe the second question in more detail?"},{"owner":{"account_id":23676412,"reputation":21,"user_id":17702591,"display_name":"Used To Love"},"score":0,"creation_date":1652434585,"post_id":72221667,"comment_id":127610524,"body_markdown":"@MingJie-MSFT How do you did that? either do I create a new maven project from Java Project view or from maven view,the new project only display on the file explorer and maven view, it&#39;s doesn&#39;t appear on Java Project view unless I manually cleaned it, suppose I create a javafx project ,I cannot add an fxml on Java Project view in vscode, I have to add on file explorer, while in eclipse I can achieve this","body":"@MingJie-MSFT How do you did that? either do I create a new maven project from Java Project view or from maven view,the new project only display on the file explorer and maven view, it&#39;s doesn&#39;t appear on Java Project view unless I manually cleaned it, suppose I create a javafx project ,I cannot add an fxml on Java Project view in vscode, I have to add on file explorer, while in eclipse I can achieve this"},{"owner":{"account_id":23256248,"reputation":81,"user_id":17343261,"display_name":"Java-Enthusiast"},"score":0,"creation_date":1652527108,"post_id":72221667,"comment_id":127630628,"body_markdown":"@Used To Love\n\nUnless constrained by disc space / processor power / RAM, I don&#39;t see too much benefit to the idea of using one &#39;inferior&#39; IDE for many languages, versus using specialized ones that are designed specifically support the individual language.  &quot;Use the right tool for the right job&quot; rings through my mind in saying this,  A hammer can be used in place of a shovel, but most times... probably shouldn&#39;t.\n\nIf you want more robust support for AutoComplete / IntelliSense... try IntelliJ IDEA Community Edition.  If you enjoy it, the Ultimate version has even more to offer.","body":"@Used To Love  Unless constrained by disc space / processor power / RAM, I don&#39;t see too much benefit to the idea of using one &#39;inferior&#39; IDE for many languages, versus using specialized ones that are designed specifically support the individual language.  &quot;Use the right tool for the right job&quot; rings through my mind in saying this,  A hammer can be used in place of a shovel, but most times... probably shouldn&#39;t.  If you want more robust support for AutoComplete / IntelliSense... try IntelliJ IDEA Community Edition.  If you enjoy it, the Ultimate version has even more to offer."}],"answers":[{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652435257,"creation_date":1652435257,"answer_id":72227570,"question_id":72221667,"body_markdown":"I will publish my operation steps in the answer. You can also refer to the official [documents][1] for more information on project management\r\n\r\n 1. Creat java project\r\n\r\n[![enter image description here][2]][2]\r\n\r\n 2. Creat a new floder to save Maven\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n 3. Vscode automatically generates Maven project and workspace environment\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThere is no need to empty the workspace. Of course, if you want to create a project in the original directory, it may cause similar problems.\r\n\r\nFor your second question, I think java project only manages Java classes. If you want to put other file types, why not use file explorer.\r\n\r\n\r\nJava project has its own things to do\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_create-a-new-java-project\r\n  [2]: https://i.stack.imgur.com/S1MC8.png\r\n  [3]: https://i.stack.imgur.com/G7AfA.png\r\n  [4]: https://i.stack.imgur.com/kSw6j.png","title":"Java Project for vscode doesn&#39;t works fine","body":"<p>I will publish my operation steps in the answer. You can also refer to the official <a href=\"https://code.visualstudio.com/docs/java/java-project#_create-a-new-java-project\" rel=\"nofollow noreferrer\">documents</a> for more information on project management</p>\n<ol>\n<li>Creat java project</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/S1MC8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S1MC8.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Creat a new floder to save Maven</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/G7AfA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G7AfA.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Vscode automatically generates Maven project and workspace environment</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/kSw6j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSw6j.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no need to empty the workspace. Of course, if you want to create a project in the original directory, it may cause similar problems.</p>\n<p>For your second question, I think java project only manages Java classes. If you want to put other file types, why not use file explorer.</p>\n<p>Java project has its own things to do</p>\n"}],"owner":{"account_id":23676412,"reputation":21,"user_id":17702591,"display_name":"Used To Love"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652435257,"creation_date":1652386797,"question_id":72221667,"body_markdown":"Whenever I create a new maven project in vscode, the **Java Project extension** doesn&#39;t update as the file explorer does, so I have to manually clean the workspace caches to make it synchronized. Also, the only file category I could add in **Java Project view** is the .class files, so I have to quire with the explorer. In some cases, suppose I need to add the same file in two or more nested folder like src and target, which is confusing, it&#39; s never the case in eclipse and other refined editors for java, is there a way to solve these two problems?","title":"Java Project for vscode doesn&#39;t works fine","body":"<p>Whenever I create a new maven project in vscode, the <strong>Java Project extension</strong> doesn't update as the file explorer does, so I have to manually clean the workspace caches to make it synchronized. Also, the only file category I could add in <strong>Java Project view</strong> is the .class files, so I have to quire with the explorer. In some cases, suppose I need to add the same file in two or more nested folder like src and target, which is confusing, it' s never the case in eclipse and other refined editors for java, is there a way to solve these two problems?</p>\n"},{"tags":["java","memory","stringbuilder","fortify"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":2,"creation_date":1651672304,"post_id":72113314,"comment_id":127418765,"body_markdown":"garbage collector only clears memory for items that already no longer referenced in the program logic. however you should not rely that the gc will always fire after an object dereferenced. that is why it says, the old array might stay in the memory for long. the DoS attack is very possible if you accumulate unknown amount of strings (e.g. streaming string from tcp connection until the connection closes).","body":"garbage collector only clears memory for items that already no longer referenced in the program logic. however you should not rely that the gc will always fire after an object dereferenced. that is why it says, the old array might stay in the memory for long. the DoS attack is very possible if you accumulate unknown amount of strings (e.g. streaming string from tcp connection until the connection closes)."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1651673589,"post_id":72113314,"comment_id":127419356,"body_markdown":"i&#39;m interested in this question given its pretty hard to define &quot;what the correct buffer size is&quot; given we should treat fortify&#39;s parameter as a black untouchable holy box. in the past there are question regarding this kind of [issue](https://stackoverflow.com/a/51428654). there is no trivial way to set the buffer size, but if we set too small or too large, fortify will complain (again, *sigh*).","body":"i&#39;m interested in this question given its pretty hard to define &quot;what the correct buffer size is&quot; given we should treat fortify&#39;s parameter as a black untouchable holy box. in the past there are question regarding this kind of <a href=\"https://stackoverflow.com/a/51428654\">issue</a>. there is no trivial way to set the buffer size, but if we set too small or too large, fortify will complain (again, <i>sigh</i>)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652189766,"post_id":72113314,"comment_id":127542551,"body_markdown":"If your problem code really looks like shown, just use `request.getParameter(&quot;id&quot;) + request.getParameter(&quot;name&quot;) + request.getParameter(&quot;question&quot;) + request.getParameter(&quot;answer&quot;)`","body":"If your problem code really looks like shown, just use <code>request.getParameter(&quot;id&quot;) + request.getParameter(&quot;name&quot;) + request.getParameter(&quot;question&quot;) + request.getParameter(&quot;answer&quot;)</code>"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1652253476,"post_id":72113314,"comment_id":127558670,"body_markdown":"@holger, i believe you have missed the second point (last paragrap). the string is in range of 0 to 12000 characters. i&#39;m not sure if we will get performance penalty for using `+`.","body":"@holger, i believe you have missed the second point (last paragrap). the string is in range of 0 to 12000 characters. i&#39;m not sure if we will get performance penalty for using <code>+</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652253786,"post_id":72113314,"comment_id":127558780,"body_markdown":"@BagusTesa prior to Java&#160;9, the `+` operator will compile to *exactly the same code* as the manual `StringBuilder` use shown in this question. The advantage is, without seeing the `StringBuilder`, no-one will start a discussion about its initial capacity. When you are using Java&#160;9 or newer and `javac`, the generated code will leave the actual work to the `StringConcatFactory` provided by the runtime, which will (in the default setup of the reference implementation) be even better, because it solves the issue of the initial capacity. To sum it up, there is no performance penalty when using `+`.","body":"@BagusTesa prior to Java 9, the <code>+</code> operator will compile to <i>exactly the same code</i> as the manual <code>StringBuilder</code> use shown in this question. The advantage is, without seeing the <code>StringBuilder</code>, no-one will start a discussion about its initial capacity. When you are using Java 9 or newer and <code>javac</code>, the generated code will leave the actual work to the <code>StringConcatFactory</code> provided by the runtime, which will (in the default setup of the reference implementation) be even better, because it solves the issue of the initial capacity. To sum it up, there is no performance penalty when using <code>+</code>."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1652356851,"post_id":72113314,"comment_id":127589451,"body_markdown":"@Holger *&quot;prior to Java 9, the + operator will compile to exactly the same code as the manual `StringBuilder` use shown in this question&quot;* - if my memory serves me right, fortify static code analyzer can decompile java files and scan that code instead in which it will raise `StringBuilder` issue once again. I believe op using `StringBuilder` for the fact his/her/it source has arbitrary length - unknown at compile time. That code is just an example as working with govt agency wont let you share code online easily. but op silence is pain, i wish he clarified more. i have this exact problem too.","body":"@Holger <i>&quot;prior to Java 9, the + operator will compile to exactly the same code as the manual <code>StringBuilder</code> use shown in this question&quot;</i> - if my memory serves me right, fortify static code analyzer can decompile java files and scan that code instead in which it will raise <code>StringBuilder</code> issue once again. I believe op using <code>StringBuilder</code> for the fact his/her/it source has arbitrary length - unknown at compile time. That code is just an example as working with govt agency wont let you share code online easily. but op silence is pain, i wish he clarified more. i have this exact problem too."}],"answers":[{"tags":[],"owner":{"account_id":15216511,"reputation":61,"user_id":10979744,"display_name":"Doron Cohen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651857216,"creation_date":1651857216,"answer_id":72145203,"question_id":72113314,"body_markdown":"For q2 - guard the size of incoming strings - parameter values here - and like the code snippet in Fortify&#39;s suggestion, reject too long input strings. For an expected input of 0 to 12000 chars, I would assign, say, 100 in the sb constructor, and add that suggested check of input string length. \r\n```\r\nvoid append(StringBuilder sb, String text, int limit) {\r\n  if (sb.length() + text.length() &lt;= limit) {\r\n    sb.append(text);\r\n    return;\r\n  }\r\n  handleError(...);\r\n}\r\n\r\nint LIMIT = 12000;\r\n\r\nStringBuilder sb=new StringBuilder(100);    \r\nappend(sb,request.getParameter(&quot;id&quot;), LIMIT);\r\n...\r\n```","title":"Fortify&#39;s denial of service problem in stringbuilder in java","body":"<p>For q2 - guard the size of incoming strings - parameter values here - and like the code snippet in Fortify's suggestion, reject too long input strings. For an expected input of 0 to 12000 chars, I would assign, say, 100 in the sb constructor, and add that suggested check of input string length.</p>\n<pre><code>void append(StringBuilder sb, String text, int limit) {\n  if (sb.length() + text.length() &lt;= limit) {\n    sb.append(text);\n    return;\n  }\n  handleError(...);\n}\n\nint LIMIT = 12000;\n\nStringBuilder sb=new StringBuilder(100);    \nappend(sb,request.getParameter(&quot;id&quot;), LIMIT);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1651949142,"creation_date":1651949142,"answer_id":72155492,"question_id":72113314,"body_markdown":"This is nonsense.\r\n\r\nThere might be related issue in that, for instance:\r\n\r\n - the input data is huge (though it appears to come from request headers, so should already be limited upstream)\r\n - the individual input is empty, but there are many instances of it, creating all the overhead for sensible values with little input data - so don&#39;t go allocating a larger than default initial capacity if there is any possibility that you might not use it!\r\n - with insufficient care, the generated string could be ambiguous or subject to an injection vulnerability. \r\n\r\n`StringBuilder` will at least double capacity whenever the current buffer is exhausted to amortise the cost to O(n). The `StringBuilder` may well be larger than the input data. Partly this may be an overallocation, perhaps twice the length of this original, if it is not turned into a `String`. Also the original is typically 1-byte per character, but Java has 2-byte `char`s. If the input is compressed, the explosion in size can be surprising, particularly if multiply compressed.\r\n\r\nI recommend having a go at DoSing your own application, although I have seen surprisingly little evidence that application-level DoS attacks are as yet common in the wild.","title":"Fortify&#39;s denial of service problem in stringbuilder in java","body":"<p>This is nonsense.</p>\n<p>There might be related issue in that, for instance:</p>\n<ul>\n<li>the input data is huge (though it appears to come from request headers, so should already be limited upstream)</li>\n<li>the individual input is empty, but there are many instances of it, creating all the overhead for sensible values with little input data - so don't go allocating a larger than default initial capacity if there is any possibility that you might not use it!</li>\n<li>with insufficient care, the generated string could be ambiguous or subject to an injection vulnerability.</li>\n</ul>\n<p><code>StringBuilder</code> will at least double capacity whenever the current buffer is exhausted to amortise the cost to O(n). The <code>StringBuilder</code> may well be larger than the input data. Partly this may be an overallocation, perhaps twice the length of this original, if it is not turned into a <code>String</code>. Also the original is typically 1-byte per character, but Java has 2-byte <code>char</code>s. If the input is compressed, the explosion in size can be surprising, particularly if multiply compressed.</p>\n<p>I recommend having a go at DoSing your own application, although I have seen surprisingly little evidence that application-level DoS attacks are as yet common in the wild.</p>\n"},{"tags":[],"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652435135,"creation_date":1652435135,"answer_id":72227540,"question_id":72113314,"body_markdown":"Answering the two direct questions:\r\n\r\n&gt; &quot;If the garbage collectors free it&#39;s memory , how the attacker can cause denial of service attack? does it applicable ?&quot;  \r\n\r\n1. Realistically the attacker can&#39;t.  Something will almost certainly break first if you are accepting arbitrarily large input data.   Garbage collectors in the JVM are very fast and great at cleaning up short-lived data.\r\n\r\n2.  You could set the initial buffer size to 12K, but that would also put you at risk from an attacker.   Suppose they send many very tiny requests, knowing that you will always allocate 12K for each request.  Further more, let&#39;s say that they can slow down sending the many, tiny requests, so that you can&#39;t free up the buffers until the request completes.  This DOES put you at risk of OOMing, because the buffers can&#39;t be freed until all the data is present.   \r\n\r\nWithout knowing more about the attack vector, fortify is being overly cautious here.   If I were you, I would silence the warning on this method, or just pick a buffer size equals to the StringBuilder default of 16.  The main reason to pick a larger value is if you normally get larger values.\r\n","title":"Fortify&#39;s denial of service problem in stringbuilder in java","body":"<p>Answering the two direct questions:</p>\n<blockquote>\n<p>&quot;If the garbage collectors free it's memory , how the attacker can cause denial of service attack? does it applicable ?&quot;</p>\n</blockquote>\n<ol>\n<li><p>Realistically the attacker can't.  Something will almost certainly break first if you are accepting arbitrarily large input data.   Garbage collectors in the JVM are very fast and great at cleaning up short-lived data.</p>\n</li>\n<li><p>You could set the initial buffer size to 12K, but that would also put you at risk from an attacker.   Suppose they send many very tiny requests, knowing that you will always allocate 12K for each request.  Further more, let's say that they can slow down sending the many, tiny requests, so that you can't free up the buffers until the request completes.  This DOES put you at risk of OOMing, because the buffers can't be freed until all the data is present.</p>\n</li>\n</ol>\n<p>Without knowing more about the attack vector, fortify is being overly cautious here.   If I were you, I would silence the warning on this method, or just pick a buffer size equals to the StringBuilder default of 16.  The main reason to pick a larger value is if you normally get larger values.</p>\n"}],"owner":{"account_id":19370688,"reputation":35,"user_id":14164046,"display_name":"Mohan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2412,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72227540,"answer_count":3,"score":3,"last_activity_date":1652435135,"creation_date":1651668715,"question_id":72113314,"body_markdown":"Fortify client gives the error and recommendations for string builder, \r\n\r\n**problem code:**\r\n\r\n    StringBuilder sb=new StringBuilder();    \r\n    sb.append(request.getParameter(&quot;id&quot;));\r\n    sb.append(request.getParameter(&quot;name&quot;));\r\n    sb.append(request.getParameter(&quot;question&quot;));\r\n    sb.append(request.getParameter(&quot;answer&quot;));\r\n\r\n**Fortify Error:**\r\n\r\nUser-controlled data is appended to a StringBuilder instance initialized with the default constructor\r\n\r\nAppending user-controlled data to a StringBuilder or StringBuffer instance initialized with the default backing character array\r\nsize (16) can cause the application to consume large amounts of heap memory while resizing the underlying array to fit user&#39;s\r\ndata. When data is appended to a StringBuilder or StringBuffer instance, the instance will determine if the backing character\r\narray has enough free space to store the data. If the data does not fit, the StringBuilder or StringBuffer instance will create a new\r\narray with a capacity of at least double the previous array size, and the old array will remain in the heap until it is garbage\r\ncollected. Attackers can use this implementation detail to execute a Denial of Service (DoS) attack.\r\n\r\n**Fortify Recommendations:**\r\nInitialize the StringBuilder or StringBuffer with an initial capacity of the expected appended data size to reduce the number of\r\ntimes the backing array is resized. Check the size of the data before appending it to a StringBuilder or StringBuffer instance.\r\n\r\n    ...\r\n    private final int BUFFER_CAPACITY = 5200;\r\n    StringBuilder sb = new StringBuilder(BUFFER_CAPACITY);\r\n    ...\r\n    final String lineSeparator = System.lineSeparator();\r\n    String[] labels = request.getParameterValues(&quot;label&quot;);\r\n    for (String label : labels) {\r\n    if (label.length() + lineSeparator.length() + sb.length()&lt;= sb.capacity()) {\r\n    sb.append(label).append(lineSeparator);\r\n    } else {\r\n    // Handle error\r\n    }\r\n    }\r\n\r\n**Queries on the problem statement and recommendation :**\r\n\r\n1) If the garbage collectors free it&#39;s memory , how the attacker can cause denial of service attack? does it applicable ?\r\n\r\n2) My requirement to store the dynamic data range of 0 to 12000 max characters in string builder , \r\n   so if i use 12000 characters to initialize the string builder , then if my input has only 100 \r\n   character string means , remaining 11900 length of memory is not required .\r\n   so in that case do i really needs to set the max of characters in String Builder capacity ? \r\n   or i can go with length validation for my input parameters only with default constructor?\r\n\r\n  what will be the better solution for this problem?","title":"Fortify&#39;s denial of service problem in stringbuilder in java","body":"<p>Fortify client gives the error and recommendations for string builder,</p>\n<p><strong>problem code:</strong></p>\n<pre><code>StringBuilder sb=new StringBuilder();    \nsb.append(request.getParameter(&quot;id&quot;));\nsb.append(request.getParameter(&quot;name&quot;));\nsb.append(request.getParameter(&quot;question&quot;));\nsb.append(request.getParameter(&quot;answer&quot;));\n</code></pre>\n<p><strong>Fortify Error:</strong></p>\n<p>User-controlled data is appended to a StringBuilder instance initialized with the default constructor</p>\n<p>Appending user-controlled data to a StringBuilder or StringBuffer instance initialized with the default backing character array\nsize (16) can cause the application to consume large amounts of heap memory while resizing the underlying array to fit user's\ndata. When data is appended to a StringBuilder or StringBuffer instance, the instance will determine if the backing character\narray has enough free space to store the data. If the data does not fit, the StringBuilder or StringBuffer instance will create a new\narray with a capacity of at least double the previous array size, and the old array will remain in the heap until it is garbage\ncollected. Attackers can use this implementation detail to execute a Denial of Service (DoS) attack.</p>\n<p><strong>Fortify Recommendations:</strong>\nInitialize the StringBuilder or StringBuffer with an initial capacity of the expected appended data size to reduce the number of\ntimes the backing array is resized. Check the size of the data before appending it to a StringBuilder or StringBuffer instance.</p>\n<pre><code>...\nprivate final int BUFFER_CAPACITY = 5200;\nStringBuilder sb = new StringBuilder(BUFFER_CAPACITY);\n...\nfinal String lineSeparator = System.lineSeparator();\nString[] labels = request.getParameterValues(&quot;label&quot;);\nfor (String label : labels) {\nif (label.length() + lineSeparator.length() + sb.length()&lt;= sb.capacity()) {\nsb.append(label).append(lineSeparator);\n} else {\n// Handle error\n}\n}\n</code></pre>\n<p><strong>Queries on the problem statement and recommendation :</strong></p>\n<ol>\n<li><p>If the garbage collectors free it's memory , how the attacker can cause denial of service attack? does it applicable ?</p>\n</li>\n<li><p>My requirement to store the dynamic data range of 0 to 12000 max characters in string builder ,\nso if i use 12000 characters to initialize the string builder , then if my input has only 100\ncharacter string means , remaining 11900 length of memory is not required .\nso in that case do i really needs to set the max of characters in String Builder capacity ?\nor i can go with length validation for my input parameters only with default constructor?</p>\n</li>\n</ol>\n<p>what will be the better solution for this problem?</p>\n"},{"tags":["java","android","string","sorting","special-characters"],"answers":[{"tags":[],"owner":{"account_id":30922,"reputation":8920,"user_id":84619,"accept_rate":100,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330088497,"creation_date":1330088005,"answer_id":9431121,"question_id":9431064,"body_markdown":"Use a [Collator][1]. This is a type of [Comparator][2] that performs locale-sensitive String comparison.\r\n\r\nWithout knowing about the Norwegian language/characters, I think you&#39;d want to use the following code:\r\n\r\n    Collator noCollator = Collator.getInstance(new Locale(&quot;no&quot;, &quot;NO&quot;));\r\n    noCollator.setStrength(Collator.SECONDARY);\r\n    ...\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/text/Collator.html\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Comparator.html","title":"Android : How To Sort An Arraylist of Special Characters Alphabetically?","body":"<p>Use a <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/Collator.html\" rel=\"nofollow\">Collator</a>. This is a type of <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Comparator.html\" rel=\"nofollow\">Comparator</a> that performs locale-sensitive String comparison.</p>\n\n<p>Without knowing about the Norwegian language/characters, I think you'd want to use the following code:</p>\n\n<pre><code>Collator noCollator = Collator.getInstance(new Locale(\"no\", \"NO\"));\nnoCollator.setStrength(Collator.SECONDARY);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30922,"reputation":8920,"user_id":84619,"accept_rate":100,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1330091782,"creation_date":1330088654,"answer_id":9431267,"question_id":9431064,"body_markdown":"Take a look at the example based on Norwegian in the [JavaDoc for the RuleBasedCollator class][1].\r\n\r\nBased on that, I&#39;ve created this example that puts &#197; before A based on a accent difference -- note the use of &#39;;&#39; to put \\u00E5 before A. So this works for your example input, but you&#39;ll need to add other accented Norwegian characters based on your knowledge of the language to complete the `norwegian` comparison string.\r\n\r\n    String norwegian = &quot;&lt; a, \\u00E5;A&lt; b,B&lt; c,C&lt; d,D&lt; e,E&lt; f,F&lt; g,G&lt; h,H&lt; i,I&lt; j,J&quot; +\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;  &quot;&lt; k,K&lt; l,L&lt; m,M&lt; n,N&lt; o,O&lt; p,P&lt; q,Q&lt; r,R&lt; s,S&lt; t,T&quot; +\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&quot;&lt; u,U&lt; v,V&lt; w,W&lt; x,X&lt; y,Y&lt; z,Z&quot;; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;\r\n    RuleBasedCollator myNorwegian = new RuleBasedCollator(norwegian); &#160; &#160;&#160;\r\n    List&lt;String&gt; words = \r\n      Arrays.asList(&quot;Arendal Bergen Drammen \\u00E5lesund&quot;.split(&quot;\\\\s&quot;)); &#160; &#160;&#160;\r\n    System.out.println(words); &#160; &#160;&#160;\r\n    Collections.sort(words, myNorwegian); &#160; &#160;&#160;\r\n    System.out.println(words);\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/RuleBasedCollator.html","title":"Android : How To Sort An Arraylist of Special Characters Alphabetically?","body":"<p>Take a look at the example based on Norwegian in the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/RuleBasedCollator.html\" rel=\"nofollow\">JavaDoc for the RuleBasedCollator class</a>.</p>\n\n<p>Based on that, I've created this example that puts Å before A based on a accent difference -- note the use of ';' to put \\u00E5 before A. So this works for your example input, but you'll need to add other accented Norwegian characters based on your knowledge of the language to complete the <code>norwegian</code> comparison string.</p>\n\n<pre><code>String norwegian = \"&lt; a, \\u00E5;A&lt; b,B&lt; c,C&lt; d,D&lt; e,E&lt; f,F&lt; g,G&lt; h,H&lt; i,I&lt; j,J\" +\n                   \"&lt; k,K&lt; l,L&lt; m,M&lt; n,N&lt; o,O&lt; p,P&lt; q,Q&lt; r,R&lt; s,S&lt; t,T\" +\n                   \"&lt; u,U&lt; v,V&lt; w,W&lt; x,X&lt; y,Y&lt; z,Z\";                      \nRuleBasedCollator myNorwegian = new RuleBasedCollator(norwegian);     \nList&lt;String&gt; words = \n  Arrays.asList(\"Arendal Bergen Drammen \\u00E5lesund\".split(\"\\\\s\"));     \nSystem.out.println(words);     \nCollections.sort(words, myNorwegian);     \nSystem.out.println(words);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1660666,"reputation":1303,"user_id":1529028,"display_name":"m4n3k4s"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1374141501,"creation_date":1342445298,"answer_id":11505387,"question_id":9431064,"body_markdown":"Try this\r\n\r\nFor an Object\r\n\r\n    class MyObject\r\n    {\r\n      public String name;\r\n      public int score;\r\n    }\r\n\r\nIf you want to order by name (in this case using Norwegian language), you can do this\r\n\r\n    Locale locale = new Locale(&quot;nb&quot;, &quot;NO&quot;);\r\n    final Collator collator = java.text.Collator.getInstance(locale);\r\n    \r\n    Collections.sort(your_array, new Comparator&lt;MyObject&gt;() {\r\n    \t@Override\r\n    \tpublic int compare(MyObject obj1, MyObject obj2) {\r\n    \t\treturn collator.compare(obj1.name, obj2.name);            \r\n    \t}\r\n    });","title":"Android : How To Sort An Arraylist of Special Characters Alphabetically?","body":"<p>Try this</p>\n\n<p>For an Object</p>\n\n<pre><code>class MyObject\n{\n  public String name;\n  public int score;\n}\n</code></pre>\n\n<p>If you want to order by name (in this case using Norwegian language), you can do this</p>\n\n<pre><code>Locale locale = new Locale(\"nb\", \"NO\");\nfinal Collator collator = java.text.Collator.getInstance(locale);\n\nCollections.sort(your_array, new Comparator&lt;MyObject&gt;() {\n    @Override\n    public int compare(MyObject obj1, MyObject obj2) {\n        return collator.compare(obj1.name, obj2.name);            \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7200814,"reputation":1,"user_id":5498115,"display_name":"techwinlabs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434969,"creation_date":1652434969,"answer_id":72227510,"question_id":9431064,"body_markdown":"  \r\n\r\n      Locale locale = new Locale(&quot;nb&quot;, &quot;NO&quot;);\r\n        final Collator collator = java.text.Collator.getInstance(locale);\r\n        \r\n        Collections.sort(your_array, new Comparator&lt;MyObject&gt;() {\r\n            @Override\r\n            public int compare(MyObject obj1, MyObject obj2) {\r\n                return collator.compare(obj1.name, obj2.name);            \r\n            }\r\n        });","title":"Android : How To Sort An Arraylist of Special Characters Alphabetically?","body":"<pre><code>  Locale locale = new Locale(&quot;nb&quot;, &quot;NO&quot;);\n    final Collator collator = java.text.Collator.getInstance(locale);\n    \n    Collections.sort(your_array, new Comparator&lt;MyObject&gt;() {\n        @Override\n        public int compare(MyObject obj1, MyObject obj2) {\n            return collator.compare(obj1.name, obj2.name);            \n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":428031,"reputation":1179,"user_id":810090,"accept_rate":81,"display_name":"Junaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5978,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9431267,"answer_count":4,"score":3,"last_activity_date":1652434969,"creation_date":1330087791,"question_id":9431064,"body_markdown":"I am developing an android application where i have data in Norwegian language. Now , i have to sort a list of name alphabetically where the names contain special norwegian characters.\r\n\r\n        Comparator&lt;SetGetMethods&gt; comperator = new Comparator&lt;SetGetMethods&gt;() {\r\n\r\n\t\t\tpublic int compare(SetGetMethods object1, SetGetMethods object2) {\r\n\t\t\t\t\r\n\t\t\t\t    return object1.getCityname().compareToIgnoreCase(object2.getCityname());\r\n\t\t \r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\tCollections.sort(temp, comperator);\r\n\r\nI used the code above to sort the list alphabetically. But after sorting , the names with normal characters shown on top and names with special norwegian characters shown below them. For example , the list is shown like below ,\r\n\r\nArendal\r\nBergen\r\nDrammen\r\n&#197;lesund -&gt; ( This should be on top , before Arendal after sorting )\r\n\r\nSo , my question is , how can i sort a list alphabetically where the list data contains special characters(Norwegian characters). I will appreciate any suggestion , idea or sample code to solve the problem. Thanks .....","title":"Android : How To Sort An Arraylist of Special Characters Alphabetically?","body":"<p>I am developing an android application where i have data in Norwegian language. Now , i have to sort a list of name alphabetically where the names contain special norwegian characters.</p>\n\n<pre><code>    Comparator&lt;SetGetMethods&gt; comperator = new Comparator&lt;SetGetMethods&gt;() {\n\n        public int compare(SetGetMethods object1, SetGetMethods object2) {\n\n                return object1.getCityname().compareToIgnoreCase(object2.getCityname());\n\n        }\n\n    };\n    Collections.sort(temp, comperator);\n</code></pre>\n\n<p>I used the code above to sort the list alphabetically. But after sorting , the names with normal characters shown on top and names with special norwegian characters shown below them. For example , the list is shown like below ,</p>\n\n<p>Arendal\nBergen\nDrammen\nÅlesund -> ( This should be on top , before Arendal after sorting )</p>\n\n<p>So , my question is , how can i sort a list alphabetically where the list data contains special characters(Norwegian characters). I will appreciate any suggestion , idea or sample code to solve the problem. Thanks .....</p>\n"},{"tags":["java","class","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1586519700,"creation_date":1586519700,"answer_id":61139726,"question_id":61139658,"body_markdown":"Because `private static final int x = 0;` is compile time constant.\r\nAccording java doc,\r\n\r\n&gt;  Inner classes may not declare static members, unless they are\r\n&gt; compile-time constant fields","title":"nested class has a static variable?","body":"<p>Because <code>private static final int x = 0;</code> is compile time constant.\nAccording java doc,</p>\n\n<blockquote>\n  <p>Inner classes may not declare static members, unless they are\n  compile-time constant fields</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652434921,"creation_date":1586521602,"answer_id":61140211,"question_id":61139658,"body_markdown":"This behavior is mandated by the [Java Language Specification][jls]:\r\n\r\n&gt; 8.1.3. Inner Classes and Enclosing Instances\r\n&gt; ---\r\n&gt;\r\n&gt; An inner class is a nested class that is not explicitly or implicitly declared static.\r\n&gt;\r\n&gt; An inner class may be a non-static member class ([&#167;8.5](https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.5)), a local class ([&#167;14.3](https://docs.oracle.com/javase/specs/jls/se14/html/jls-14.html#jls-14.3)), or an anonymous class ([&#167;15.9.5](https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.9.5)). A member class of an interface is implicitly static ([&#167;9.5](https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.5)) so is never considered to be an inner class.\r\n&gt;\r\n&gt; **It is a compile-time error if an inner class declares a static initializer ([&#167;8.7](https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.7)).**\r\n&gt;\r\n&gt; **It is a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable ([&#167;4.12.4](https://docs.oracle.com/javase/specs/jls/se14/html/jls-4.html#jls-4.12.4)).** \r\n&gt;\r\n&gt; An inner class may inherit static members that are not constant variables even though it cannot declare them.\r\n&gt;\r\n&gt; A nested class that is not an inner class may declare static members freely, in accordance with the usual rules of the Java programming language. \r\n&gt;&gt; Example 8.1.3-1. Inner Class Declarations and Static Members\r\n&gt;&gt;\r\n&gt;&gt;     class HasStatic {\r\n&gt;&gt;          static int j = 100;\r\n&gt;&gt;     }\r\n&gt;&gt;     class Outer {\r\n&gt;&gt;         class Inner extends HasStatic {\r\n&gt;&gt;              static final int x = 3;  // OK: constant variable\r\n&gt;&gt;              static int y = 4;  // Compile-time error: an inner class\r\n&gt;&gt;         }\r\n&gt;&gt;         static class NestedButNotInner{\r\n&gt;&gt;             static int z = 5;    // OK: not an inner class\r\n&gt;&gt;         }\r\n&gt;&gt;         interface NeverInner {}  // Interfaces are never inner\r\n&gt;&gt;     }\r\n\r\nNote that this changed with [Java 16][new-jls]:\r\n\r\n&gt; All of the rules that apply to nested classes apply to inner classes. In particular, an inner class may declare and inherit `static` members ([&#167;8.2](https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.2)), and declare static initializers ([&#167;8.7](https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.7)), even though the inner class itself is not `static`. \r\n\r\n[jls]: https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.1.3\r\n\r\n[new-jls]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.1.3","title":"nested class has a static variable?","body":"<p>This behavior is mandated by the <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<h2>8.1.3. Inner Classes and Enclosing Instances</h2>\n<p>An inner class is a nested class that is not explicitly or implicitly declared static.</p>\n<p>An inner class may be a non-static member class (<a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.5\" rel=\"nofollow noreferrer\">§8.5</a>), a local class (<a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-14.html#jls-14.3\" rel=\"nofollow noreferrer\">§14.3</a>), or an anonymous class (<a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">§15.9.5</a>). A member class of an interface is implicitly static (<a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.5\" rel=\"nofollow noreferrer\">§9.5</a>) so is never considered to be an inner class.</p>\n<p><strong>It is a compile-time error if an inner class declares a static initializer (<a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.7\" rel=\"nofollow noreferrer\">§8.7</a>).</strong></p>\n<p><strong>It is a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable (<a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">§4.12.4</a>).</strong></p>\n<p>An inner class may inherit static members that are not constant variables even though it cannot declare them.</p>\n<p>A nested class that is not an inner class may declare static members freely, in accordance with the usual rules of the Java programming language.</p>\n<blockquote>\n<p>Example 8.1.3-1. Inner Class Declarations and Static Members</p>\n<pre><code>class HasStatic {\n     static int j = 100;\n}\nclass Outer {\n    class Inner extends HasStatic {\n         static final int x = 3;  // OK: constant variable\n         static int y = 4;  // Compile-time error: an inner class\n    }\n    static class NestedButNotInner{\n        static int z = 5;    // OK: not an inner class\n    }\n    interface NeverInner {}  // Interfaces are never inner\n}\n</code></pre>\n</blockquote>\n</blockquote>\n<p>Note that this changed with <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">Java 16</a>:</p>\n<blockquote>\n<p>All of the rules that apply to nested classes apply to inner classes. In particular, an inner class may declare and inherit <code>static</code> members (<a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.2\" rel=\"nofollow noreferrer\">§8.2</a>), and declare static initializers (<a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.7\" rel=\"nofollow noreferrer\">§8.7</a>), even though the inner class itself is not <code>static</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":11603643,"reputation":410,"user_id":8500049,"display_name":"User8500049"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61139726,"answer_count":2,"score":0,"last_activity_date":1652434921,"creation_date":1586519415,"question_id":61139658,"body_markdown":"I know that nested class has not had static member,\r\n\r\n    class OuterClass {\r\n         class InnerClass {\r\n          private static int x = 0; // this is error\r\n         }\r\n\r\n    }\r\nBut when we declared it with final \r\n\r\n     class OuterClass {\r\n         class InnerClass {\r\n          private static final int x = 0; // ok\r\n         }\r\n    }\r\n\r\nis it related with the final keyword, because variable can&#39;t be changed anymore?\r\nOr is there another reason for this?\r\n\r\n\r\n","title":"nested class has a static variable?","body":"<p>I know that nested class has not had static member,</p>\n\n<pre><code>class OuterClass {\n     class InnerClass {\n      private static int x = 0; // this is error\n     }\n\n}\n</code></pre>\n\n<p>But when we declared it with final </p>\n\n<pre><code> class OuterClass {\n     class InnerClass {\n      private static final int x = 0; // ok\n     }\n}\n</code></pre>\n\n<p>is it related with the final keyword, because variable can't be changed anymore?\nOr is there another reason for this?</p>\n"},{"tags":["java","xml","testng","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1652438153,"post_id":72227476,"comment_id":127611771,"body_markdown":"Could you provide more information? How did you know RA not waiting for response?","body":"Could you provide more information? How did you know RA not waiting for response?"},{"owner":{"account_id":11766433,"reputation":35,"user_id":8610874,"display_name":"kiran kumar"},"score":0,"creation_date":1652438251,"post_id":72227476,"comment_id":127611797,"body_markdown":"Test cases were passing in local whereas failing in jenkins","body":"Test cases were passing in local whereas failing in jenkins"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1652438776,"post_id":72227476,"comment_id":127611960,"body_markdown":"Make sure that your server delivers the content of exactly the same size as stated in content-length header","body":"Make sure that your server delivers the content of exactly the same size as stated in content-length header"},{"owner":{"account_id":11766433,"reputation":35,"user_id":8610874,"display_name":"kiran kumar"},"score":0,"creation_date":1652450569,"post_id":72227476,"comment_id":127616301,"body_markdown":"We don&#39;t have content length header actually. We get 2 responses and compare them using compareXML to find the differences. In local, there are no differences whereas on jenkins, we are seeing differences in responses.","body":"We don&#39;t have content length header actually. We get 2 responses and compare them using compareXML to find the differences. In local, there are no differences whereas on jenkins, we are seeing differences in responses."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1652450702,"post_id":72227476,"comment_id":127616352,"body_markdown":"You have to have that header. Otherwise the client might have wrong understanding on when the content is completely delivered","body":"You have to have that header. Otherwise the client might have wrong understanding on when the content is completely delivered"}],"owner":{"account_id":11766433,"reputation":35,"user_id":8610874,"display_name":"kiran kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652434831,"creation_date":1652434831,"question_id":72227476,"body_markdown":"API responses currently we are working on are in xml format. We suspect our test cases in rest assured are failing because we are not really waiting for the response to receive completely.\r\n\r\nAdded a line to check status code but we get 200 everytime.\r\n\r\nAny other possible solution to wait for the complete xml response to receive ?\r\n\r\nThanks in advance.","title":"How to wait for xml response to load in rest assured","body":"<p>API responses currently we are working on are in xml format. We suspect our test cases in rest assured are failing because we are not really waiting for the response to receive completely.</p>\n<p>Added a line to check status code but we get 200 everytime.</p>\n<p>Any other possible solution to wait for the complete xml response to receive ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","java","r","rstudio","qapplication"],"comments":[{"owner":{"account_id":126426,"reputation":69809,"user_id":322912,"accept_rate":100,"display_name":"Roman Luštrik"},"score":0,"creation_date":1453287728,"post_id":34896766,"comment_id":57532846,"body_markdown":"Given that no one has answered in an hour, I would wager a bet that not everyone is clear on what &quot;open the R section&quot; means. This seems like a good place where we could start deciphering the question.","body":"Given that no one has answered in an hour, I would wager a bet that not everyone is clear on what &quot;open the R section&quot; means. This seems like a good place where we could start deciphering the question."},{"owner":{"account_id":6929972,"reputation":101,"user_id":5319736,"accept_rate":25,"display_name":"Aarthika"},"score":0,"creation_date":1453288084,"post_id":34896766,"comment_id":57533101,"body_markdown":"In my system i have r and rstudio. If i open the rstudio it shows like that...","body":"In my system i have r and rstudio. If i open the rstudio it shows like that..."},{"owner":{"account_id":126426,"reputation":69809,"user_id":322912,"accept_rate":100,"display_name":"Roman Luštrik"},"score":0,"creation_date":1453288465,"post_id":34896766,"comment_id":57533396,"body_markdown":"Have you compiled R by hand? Perhaps [this thread](https://support.rstudio.com/hc/en-us/community/posts/207573157-RStudio-white-window) could be of some use?","body":"Have you compiled R by hand? Perhaps <a href=\"https://support.rstudio.com/hc/en-us/community/posts/207573157-RStudio-white-window\" rel=\"nofollow noreferrer\">this thread</a> could be of some use?"},{"owner":{"account_id":126426,"reputation":69809,"user_id":322912,"accept_rate":100,"display_name":"Roman Luštrik"},"score":0,"creation_date":1453365825,"post_id":34896766,"comment_id":57571958,"body_markdown":"I&#39;m not very versed in OSX (not at all), but after searching the internet a bit and judging by the comments it would appear a corrupt installation could be the culprit. Perhaps you don&#39;t have write permission to all the folders?","body":"I&#39;m not very versed in OSX (not at all), but after searching the internet a bit and judging by the comments it would appear a corrupt installation could be the culprit. Perhaps you don&#39;t have write permission to all the folders?"}],"answers":[{"tags":[],"owner":{"account_id":7589264,"reputation":153,"user_id":5758044,"display_name":"Ursulka Siete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455291538,"creation_date":1455291538,"answer_id":35366514,"question_id":34896766,"body_markdown":"I was getting the same error. I do not know if you use also Rstudio, I guess for me the latter was the problem, but not quite sure. What I did is I completely uninstalled both R and R Studio, deleted all the supporting files that are connected with both programs (search your computer!), restart the computer (!) and uploaded both again and it functioned. Hope it will work!","title":"R section not working","body":"<p>I was getting the same error. I do not know if you use also Rstudio, I guess for me the latter was the problem, but not quite sure. What I did is I completely uninstalled both R and R Studio, deleted all the supporting files that are connected with both programs (search your computer!), restart the computer (!) and uploaded both again and it functioned. Hope it will work!</p>\n"},{"tags":[],"owner":{"account_id":7579701,"reputation":1279,"user_id":5750741,"accept_rate":62,"display_name":"Scott Grammilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489317578,"creation_date":1489317578,"answer_id":42746749,"question_id":34896766,"body_markdown":"I was getting the very same error:\r\n    \r\n    Javascript Alert - 127.0.0.1\r\n\r\nInstead of debugging the problem I simply uninstalled both R and RStudio and reinstalled them and it worked. Please uninstall and reinstall and check if it works for you too. Thank you.","title":"R section not working","body":"<p>I was getting the very same error:</p>\n\n<pre><code>Javascript Alert - 127.0.0.1\n</code></pre>\n\n<p>Instead of debugging the problem I simply uninstalled both R and RStudio and reinstalled them and it worked. Please uninstall and reinstall and check if it works for you too. Thank you.</p>\n"},{"tags":[],"owner":{"account_id":3007336,"reputation":21,"user_id":2551579,"display_name":"user2551579"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504949540,"creation_date":1504949540,"answer_id":46129208,"question_id":34896766,"body_markdown":"I experienced the same issue a couple of weeks ago, and for the first time since I use Rstudio: many years either on OSX or windows.\r\nThe same question as been posted many times but I never found any satisfying solution.\r\nI noticed that everything worked fine when I uninstalled Rstudio, removed the RStudio-Desktop folder from %LOCALAPPDATA% (on windows), and reinstalled a fresh version.\r\nHowever, I got the same alert, again, after reopening sessions... Clearly, something goes wrong when RStudio tries to open a session by using some settings, stored from previous ones...\r\nI finally suppressed the RStudio-Desktop folder, reinstalled RStudio, and unchecked everything but &#39;Use debug error handler...&#39; and &#39;Automatically notify me...&#39; in &#39;global options&#39; -&gt; &#39;General settings&#39;. So, no Re-use, Restore or Save.\r\nI&#39;m not able to provide any explanation, sorry about that, but everything works just fine now !\r\n\r\nHope this helps.","title":"R section not working","body":"<p>I experienced the same issue a couple of weeks ago, and for the first time since I use Rstudio: many years either on OSX or windows.\nThe same question as been posted many times but I never found any satisfying solution.\nI noticed that everything worked fine when I uninstalled Rstudio, removed the RStudio-Desktop folder from %LOCALAPPDATA% (on windows), and reinstalled a fresh version.\nHowever, I got the same alert, again, after reopening sessions... Clearly, something goes wrong when RStudio tries to open a session by using some settings, stored from previous ones...\nI finally suppressed the RStudio-Desktop folder, reinstalled RStudio, and unchecked everything but 'Use debug error handler...' and 'Automatically notify me...' in 'global options' -> 'General settings'. So, no Re-use, Restore or Save.\nI'm not able to provide any explanation, sorry about that, but everything works just fine now !</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13221408,"reputation":628,"user_id":9548022,"display_name":"nba2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434823,"creation_date":1652434823,"answer_id":72227473,"question_id":34896766,"body_markdown":"I solved the issue by completely uninstalling R and Rstudio and installing them again from the beginning. ","title":"R section not working","body":"<p>I solved the issue by completely uninstalling R and Rstudio and installing them again from the beginning.</p>\n"}],"owner":{"account_id":6929972,"reputation":101,"user_id":5319736,"accept_rate":25,"display_name":"Aarthika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1652434823,"creation_date":1453283703,"question_id":34896766,"body_markdown":"If i open the R section its shows the `Javascript Alert - 127.0.0.1` box likes this,\r\n\r\n    &lt;p&gt;R encountered a fatal error.&lt;/p&gt;The session was terminated.\r\n\r\nIn the terminal its shows,\r\n\r\n    aarthika@aarthika-HP-406-G1-MT:~$ rstudio\r\n    load glyph failed err=6 face=0x23d2280, glyph=2797\r\n    load glyph failed err=6 face=0x23d2280, glyph=2797\r\n    QIODevice::read: device not open\r\n    QIODevice::read: device not open\r\n    QIODevice::read: device not open\r\n    QIODevice::read: device not open\r\n    QIODevice::read: device not open\r\n    QApplication::qAppName: Please instantiate the QApplication object first\r\n\r\nHow to avoid this problem?","title":"R section not working","body":"<p>If i open the R section its shows the <code>Javascript Alert - 127.0.0.1</code> box likes this,</p>\n\n<pre><code>&lt;p&gt;R encountered a fatal error.&lt;/p&gt;The session was terminated.\n</code></pre>\n\n<p>In the terminal its shows,</p>\n\n<pre><code>aarthika@aarthika-HP-406-G1-MT:~$ rstudio\nload glyph failed err=6 face=0x23d2280, glyph=2797\nload glyph failed err=6 face=0x23d2280, glyph=2797\nQIODevice::read: device not open\nQIODevice::read: device not open\nQIODevice::read: device not open\nQIODevice::read: device not open\nQIODevice::read: device not open\nQApplication::qAppName: Please instantiate the QApplication object first\n</code></pre>\n\n<p>How to avoid this problem?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6183866,"reputation":301,"user_id":4818535,"display_name":"Ilya Khudyakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434716,"creation_date":1652434716,"answer_id":72227449,"question_id":68133840,"body_markdown":"Try to remove id insertion at all.\r\nI think the reason is that you have table specific sequence, that can produce new id for each new insertions\r\n\r\nINSERT INTO event (date, time, name) VALUES (&#39;2021-06-02&#39;, &#39;16:00&#39;, &#39;Test&#39;);\r\n","title":"ERROR: missing FROM-clause entry for table &quot;hibernate_sequence&quot;","body":"<p>Try to remove id insertion at all.\nI think the reason is that you have table specific sequence, that can produce new id for each new insertions</p>\n<p>INSERT INTO event (date, time, name) VALUES ('2021-06-02', '16:00', 'Test');</p>\n"}],"owner":{"account_id":21189127,"reputation":21,"user_id":15581922,"display_name":"Mr Sebbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652434716,"creation_date":1624636403,"question_id":68133840,"body_markdown":"I have a `import.sql` in my `resources` folder to import initial data to my Postgres database with Hibernate.\r\n\r\nNow this works perfectly with a statement like this:\r\n\r\n    INSERT INTO event (id, date, time, name) VALUES (0, &#39;2021-06-02&#39;, &#39;16:00&#39;, &#39;Test&#39;);\r\n\r\nHowever, the id is annotated with `@Id @GeneratedValue(strategy = GenerationType.AUTO)` and should be auto incremented. When preloading data like this I get a primary key violation when adding more data through my application.\r\n\r\nI tried:\r\n\r\n    INSERT INTO event (id, date, time, name) VALUES (hibernate_sequence.NEXTVAL, &#39;2021-06-02&#39;, &#39;16:00&#39;, &#39;Test&#39;);\r\n\r\n    INSERT INTO event (id, date, time, name) VALUES (nextval(&#39;hibernate_sequence&#39;), &#39;2021-06-02&#39;, &#39;16:00&#39;, &#39;Test&#39;);\r\n\r\nbut both didn&#39;t work, I&#39;m just getting this error.\r\n\r\n    org.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;hibernate_sequence&quot;\r\n\r\n","title":"ERROR: missing FROM-clause entry for table &quot;hibernate_sequence&quot;","body":"<p>I have a <code>import.sql</code> in my <code>resources</code> folder to import initial data to my Postgres database with Hibernate.</p>\n<p>Now this works perfectly with a statement like this:</p>\n<pre><code>INSERT INTO event (id, date, time, name) VALUES (0, '2021-06-02', '16:00', 'Test');\n</code></pre>\n<p>However, the id is annotated with <code>@Id @GeneratedValue(strategy = GenerationType.AUTO)</code> and should be auto incremented. When preloading data like this I get a primary key violation when adding more data through my application.</p>\n<p>I tried:</p>\n<pre><code>INSERT INTO event (id, date, time, name) VALUES (hibernate_sequence.NEXTVAL, '2021-06-02', '16:00', 'Test');\n\nINSERT INTO event (id, date, time, name) VALUES (nextval('hibernate_sequence'), '2021-06-02', '16:00', 'Test');\n</code></pre>\n<p>but both didn't work, I'm just getting this error.</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;hibernate_sequence&quot;\n</code></pre>\n"},{"tags":["java","docker","jenkins","containers","jenkins-plugins"],"comments":[{"owner":{"account_id":251366,"reputation":1490,"user_id":528691,"display_name":"winni2k"},"score":0,"creation_date":1649921361,"post_id":68084942,"comment_id":126998309,"body_markdown":"Looks like perhaps your java does not trust the certificate that it is being offered?","body":"Looks like perhaps your java does not trust the certificate that it is being offered?"}],"answers":[{"tags":[],"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434710,"creation_date":1652434710,"answer_id":72227446,"question_id":68084942,"body_markdown":"Add server&#39;s root cert in your trusted keystore.&lt;br&gt;\r\nNote: *storepass is usually &quot;changeit&quot;*\r\n\r\n    sudo keytool -importcert -keystore &lt;keystore-path&gt;/cacerts -storepass &lt;password&gt; -file &lt;server&#39;s root .crt file path&gt; -alias &quot;jenkins-updates&quot;\r\nRestart &amp; check.\r\n\r\nIf the server root cert is not available handy then load it in a file &quot;root.crt&quot; using below:&lt;br&gt;\r\n(There is also a manual way to get the server&#39;s certificate, not going through it here.)\r\n- Paste the URL &quot;https://updates.jenkins.io/update-center.json&quot; in website https://www.ssllabs.com/ssltest/analyze.html &amp; download the server&#39;s certificate &amp; save it as root.crt\r\n- Use this file path in the above importcert command.\r\n\r\n","title":"Unable to download plugin in Jenkins set up on docker container","body":"<p>Add server's root cert in your trusted keystore.<br>\nNote: <em>storepass is usually &quot;changeit&quot;</em></p>\n<pre><code>sudo keytool -importcert -keystore &lt;keystore-path&gt;/cacerts -storepass &lt;password&gt; -file &lt;server's root .crt file path&gt; -alias &quot;jenkins-updates&quot;\n</code></pre>\n<p>Restart &amp; check.</p>\n<p>If the server root cert is not available handy then load it in a file &quot;root.crt&quot; using below:<br>\n(There is also a manual way to get the server's certificate, not going through it here.)</p>\n<ul>\n<li>Paste the URL &quot;https://updates.jenkins.io/update-center.json&quot; in website <a href=\"https://www.ssllabs.com/ssltest/analyze.html\" rel=\"nofollow noreferrer\">https://www.ssllabs.com/ssltest/analyze.html</a> &amp; download the server's certificate &amp; save it as root.crt</li>\n<li>Use this file path in the above importcert command.</li>\n</ul>\n"}],"owner":{"account_id":22021527,"reputation":31,"user_id":16290287,"display_name":"Devi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1652434710,"creation_date":1624370313,"question_id":68084942,"body_markdown":"I have setup Jenkins in docker container in my laptop. But after installation, unable to plugin any of the plugins. Below is the error. Docker image of jenkins used is jenkins/jenkins:2.289.1-lts-jdk11.\r\n\r\nThe docker linux containers are setup in windows 10 laptop. I have already done some workarounds like updating the path to http://updates.jenkins.io/update-center.json instead of https and placing the skip-certificate-check.hpi in the plugins path.\r\n\r\nBut those are not helping in the below error.\r\n\r\n```\r\nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\nCaused: sun.security.validator.ValidatorException: PKIX path building failed\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\n\tat \r\n```","title":"Unable to download plugin in Jenkins set up on docker container","body":"<p>I have setup Jenkins in docker container in my laptop. But after installation, unable to plugin any of the plugins. Below is the error. Docker image of jenkins used is jenkins/jenkins:2.289.1-lts-jdk11.</p>\n<p>The docker linux containers are setup in windows 10 laptop. I have already done some workarounds like updating the path to <a href=\"http://updates.jenkins.io/update-center.json\" rel=\"nofollow noreferrer\">http://updates.jenkins.io/update-center.json</a> instead of https and placing the skip-certificate-check.hpi in the plugins path.</p>\n<p>But those are not helping in the below error.</p>\n<pre><code>sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\nCaused: sun.security.validator.ValidatorException: PKIX path building failed\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\n    at \n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1652435014,"post_id":72226753,"comment_id":127610674,"body_markdown":"You can move the `temp` variable into your swap method, since it is only used there","body":"You can move the <code>temp</code> variable into your swap method, since it is only used there"}],"answers":[{"tags":[],"owner":{"account_id":21516220,"reputation":47,"user_id":15858035,"display_name":"FRS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652432549,"creation_date":1652432549,"answer_id":72227009,"question_id":72226753,"body_markdown":"You can do it in the main function as bellow :\r\n\r\n    \r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] num = { 4, 9, 6, 1 };\r\n        Arrays.sort(num);\r\n    \r\n       for (int j : num){\r\n           System.out.println(j);\r\n       }\r\n\r\n    }\r\n","title":"How to sort a array with a function and using a code like this in java","body":"<p>You can do it in the main function as bellow :</p>\n<pre><code>public static void main(String[] args) {\n\n    int[] num = { 4, 9, 6, 1 };\n    Arrays.sort(num);\n\n   for (int j : num){\n       System.out.println(j);\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21222639,"reputation":23,"user_id":15608860,"display_name":"We work better"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434652,"creation_date":1652434024,"answer_id":72227306,"question_id":72226753,"body_markdown":"Yes, your code does exactly what you need!\r\nThe only minor missing point is the printing statement - System.out.println(num). Instead of it, you may please loop over the array to print the results as shown below. This sample code uses while loop since you already know it.\r\n\r\n    int index = 0;\r\n    while (index &lt; num.length) {\r\n        System.out.println(num[index]);\r\n        index++;\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to sort a array with a function and using a code like this in java","body":"<p>Yes, your code does exactly what you need!\nThe only minor missing point is the printing statement - System.out.println(num). Instead of it, you may please loop over the array to print the results as shown below. This sample code uses while loop since you already know it.</p>\n<pre><code>int index = 0;\nwhile (index &lt; num.length) {\n    System.out.println(num[index]);\n    index++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434634,"creation_date":1652434634,"answer_id":72227430,"question_id":72226753,"body_markdown":"You are printing the array directly which, in Java, doesn&#39;t print the single elements, but a generated reference string. Generally, you can convert arrays into a `List` object which overrides its `toString` method, properly. Depending on your version of Java there are the following options:\r\n\r\n```java\r\njava.util.Arrays.toList(...)\r\n```\r\n\r\nor:\r\n\r\n```java\r\njava.util.List.of(...)\r\n```\r\n\r\nUnfortunately, this doesn&#39;t work for primitive array component types (such as `int`). You need to use the boxed type `Integer`:\r\n\r\n```java\r\npackage com.yaypay;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class AaaTest {\r\n    public static void meinefunktion(Integer[] num,  int i, int j) {\r\n\r\n        if (num[j] &lt; num[i]) {\r\n            int temp = num[i];\r\n            num[i] = num[j];\r\n            num[j] = temp;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Integer[] num = { 4, 9, 6, 1 };\r\n        int i = 0;\r\n        while (i &lt; num.length) {\r\n            int j = i + 1;\r\n            while (j &lt; num.length) {\r\n                meinefunktion(num, i, j);\r\n                j += 1;\r\n            }\r\n            i += 1;\r\n        }\r\n        System.out.println(Arrays.asList(num));\r\n\r\n    }\r\n}\r\n```","title":"How to sort a array with a function and using a code like this in java","body":"<p>You are printing the array directly which, in Java, doesn't print the single elements, but a generated reference string. Generally, you can convert arrays into a <code>List</code> object which overrides its <code>toString</code> method, properly. Depending on your version of Java there are the following options:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.Arrays.toList(...)\n</code></pre>\n<p>or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.List.of(...)\n</code></pre>\n<p>Unfortunately, this doesn't work for primitive array component types (such as <code>int</code>). You need to use the boxed type <code>Integer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.yaypay;\n\nimport java.util.Arrays;\n\npublic class AaaTest {\n    public static void meinefunktion(Integer[] num,  int i, int j) {\n\n        if (num[j] &lt; num[i]) {\n            int temp = num[i];\n            num[i] = num[j];\n            num[j] = temp;\n        }\n    }\n\n    public static void main(String[] args) {\n\n        Integer[] num = { 4, 9, 6, 1 };\n        int i = 0;\n        while (i &lt; num.length) {\n            int j = i + 1;\n            while (j &lt; num.length) {\n                meinefunktion(num, i, j);\n                j += 1;\n            }\n            i += 1;\n        }\n        System.out.println(Arrays.asList(num));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25280453,"reputation":1,"user_id":19108411,"display_name":"Pen4630"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1652434652,"creation_date":1652431436,"question_id":72226753,"body_markdown":"Hello i have a java Code where i the Programm should sort the variable num but it only gives out some weird strings. I would like if you could help my with some tipps.\r\nThe code needs to give out 1,4,6,9 i hope everyone understands what&#39;s about.\r\n\r\n    public class A3 {\r\n\r\n    public static void meinefunktion(int[] num, int temp, int i, int j) {\r\n\r\n        if (num[j] &lt; num[i]) {\r\n            temp = num[i];\r\n            num[i] = num[j];\r\n            num[j] = temp;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] num = { 4, 9, 6, 1 };\r\n        int temp;\r\n        temp = 0;\r\n        int i = 0;\r\n        while (i &lt; num.length) {\r\n            int j = i + 1;\r\n            while (j &lt; num.length) {\r\n                meinefunktion(num, temp, i, j);\r\n                j += 1;\r\n            }\r\n            i += 1;\r\n        }\r\n        System.out.println(num);\r\n\r\n      }\r\n    }","title":"How to sort a array with a function and using a code like this in java","body":"<p>Hello i have a java Code where i the Programm should sort the variable num but it only gives out some weird strings. I would like if you could help my with some tipps.\nThe code needs to give out 1,4,6,9 i hope everyone understands what's about.</p>\n<pre><code>public class A3 {\n\npublic static void meinefunktion(int[] num, int temp, int i, int j) {\n\n    if (num[j] &lt; num[i]) {\n        temp = num[i];\n        num[i] = num[j];\n        num[j] = temp;\n    }\n}\n\npublic static void main(String[] args) {\n\n    int[] num = { 4, 9, 6, 1 };\n    int temp;\n    temp = 0;\n    int i = 0;\n    while (i &lt; num.length) {\n        int j = i + 1;\n        while (j &lt; num.length) {\n            meinefunktion(num, temp, i, j);\n            j += 1;\n        }\n        i += 1;\n    }\n    System.out.println(num);\n\n  }\n}\n</code></pre>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1652404583,"post_id":72223515,"comment_id":127604110,"body_markdown":"No chance at all? What if someone did `someParameter.setCustomerCode(random.nextInt(9000))`?","body":"No chance at all? What if someone did <code>someParameter.setCustomerCode(random.nextInt(9000))</code>?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1652404695,"post_id":72223515,"comment_id":127604123,"body_markdown":"What is `resource`? Is this method supposed to be infinitely recursive, or is `this.createInvoice(...)` calling an overload? Is `invoice.Customer(resource.get());` supposed to be creating a `Customer` object (because if it is you&#39;re just throwing it away), or is it calling a method (in which case you should use standard Java naming conventions and name the method `customer`)?","body":"What is <code>resource</code>? Is this method supposed to be infinitely recursive, or is <code>this.createInvoice(...)</code> calling an overload? Is <code>invoice.Customer(resource.get());</code> supposed to be creating a <code>Customer</code> object (because if it is you&#39;re just throwing it away), or is it calling a method (in which case you should use standard Java naming conventions and name the method <code>customer</code>)?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1652404791,"post_id":72223515,"comment_id":127604136,"body_markdown":"One way to avoid `.get()` is to use `customer.map().orElseThrow()`, and then handle the exception, and maybe map to an Invoice record. Either way, you still need to get the value of the optional","body":"One way to avoid <code>.get()</code> is to use <code>customer.map().orElseThrow()</code>, and then handle the exception, and maybe map to an Invoice record. Either way, you still need to get the value of the optional"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652405248,"creation_date":1652405016,"answer_id":72223557,"question_id":72223515,"body_markdown":"&gt; There is no chance that the customer code in the parameter does not\r\n&gt; exist in the DB.\r\n\r\nIf you are sure that result is present in the optional object you&#39;ve obtained, then instead of `get()` you should call [`orElseThrow()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()) which does the same - retrieves the value (*if present*), but contrary to `get()` it shows your intention to throw `NoSuchElementException` explicitly if optional object doesn&#39;t contains a result.\r\n\r\nThis method has an overloaded version which expects a supplier of type `Throwable` and allows providing the desired type of exception for the case of empty optional.\r\n\r\n","title":"Handling the Optional which doesn&#39;t expected to be empty","body":"<blockquote>\n<p>There is no chance that the customer code in the parameter does not\nexist in the DB.</p>\n</blockquote>\n<p>If you are sure that result is present in the optional object you've obtained, then instead of <code>get()</code> you should call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()\" rel=\"nofollow noreferrer\"><code>orElseThrow()</code></a> which does the same - retrieves the value (<em>if present</em>), but contrary to <code>get()</code> it shows your intention to throw <code>NoSuchElementException</code> explicitly if optional object doesn't contains a result.</p>\n<p>This method has an overloaded version which expects a supplier of type <code>Throwable</code> and allows providing the desired type of exception for the case of empty optional.</p>\n"},{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652406620,"creation_date":1652405259,"answer_id":72223569,"question_id":72223515,"body_markdown":"If you don&#39;t want to handle optional then don&#39;t return it from the repository method, just return the `Customer` entity. You could also [annotate your repository method][1] with `@Nullable` if necessary. \r\n\r\n    interface CustomerRepository extends Repository&lt;Customer, Long&gt; {\r\n    \r\n      Customer findByCode(...);                    \r\n      // or\r\n      @Nullable\r\n      Customer findByCode(...);          \r\n    \r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.nullability.annotations\r\n","title":"Handling the Optional which doesn&#39;t expected to be empty","body":"<p>If you don't want to handle optional then don't return it from the repository method, just return the <code>Customer</code> entity. You could also <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.nullability.annotations\" rel=\"nofollow noreferrer\">annotate your repository method</a> with <code>@Nullable</code> if necessary.</p>\n<pre><code>interface CustomerRepository extends Repository&lt;Customer, Long&gt; {\n\n  Customer findByCode(...);                    \n  // or\n  @Nullable\n  Customer findByCode(...);          \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3788650,"reputation":176,"user_id":3145830,"display_name":"vince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652423819,"creation_date":1652423819,"answer_id":72225358,"question_id":72223515,"body_markdown":"    private Invoice createInvoice(SomeParameter someParameter) {\r\n        Invoice invoice = new Invoice();\r\n        Optional&lt;Customer&gt; customer = customerRepository.findByCode(someParameter.getCustomerCode());\r\n        //1.invoice.Customer(resource.orElse(null));\r\n        //2.resource.ifPresent(res-&gt;invoice.Customer(res));\r\n        //3.invoice.Customer(resource.orElseThrow(()-&gt;new Exception(&quot;xxx&quot;)));\r\n        return this.createInvoice(...);\r\n    }\r\n\r\nWhatever you want","title":"Handling the Optional which doesn&#39;t expected to be empty","body":"<pre><code>private Invoice createInvoice(SomeParameter someParameter) {\n    Invoice invoice = new Invoice();\n    Optional&lt;Customer&gt; customer = customerRepository.findByCode(someParameter.getCustomerCode());\n    //1.invoice.Customer(resource.orElse(null));\n    //2.resource.ifPresent(res-&gt;invoice.Customer(res));\n    //3.invoice.Customer(resource.orElseThrow(()-&gt;new Exception(&quot;xxx&quot;)));\n    return this.createInvoice(...);\n}\n</code></pre>\n<p>Whatever you want</p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72225358,"answer_count":3,"score":0,"last_activity_date":1652434546,"creation_date":1652404404,"question_id":72223515,"body_markdown":"I have the following method\r\n\r\n    private Invoice createInvoice(SomeParameter someParameter) {\r\n        Invoice invoice = new Invoice();\r\n        Optional&lt;Customer&gt; customer = customerRepository.findByCode(someParameter.getCustomerCode());\r\n        invoice.Customer(resource.get());\r\n        return this.createInvoice(...);\r\n    }\r\n\r\nI am looking up the customer that will be assigned to the invoice. There is no chance that the customer code in the parameter does not exist in the DB.\r\n\r\nIn any case, I know that it&#39;s a bad practice to directly call the `get()` method on an optional, but still I don&#39;t want to check if the value is present, that looks like some boilerplate code. There are other fields like the customer which are optional.\r\n\r\nIs there a better way to handle the optional here?","title":"Handling the Optional which doesn&#39;t expected to be empty","body":"<p>I have the following method</p>\n<pre><code>private Invoice createInvoice(SomeParameter someParameter) {\n    Invoice invoice = new Invoice();\n    Optional&lt;Customer&gt; customer = customerRepository.findByCode(someParameter.getCustomerCode());\n    invoice.Customer(resource.get());\n    return this.createInvoice(...);\n}\n</code></pre>\n<p>I am looking up the customer that will be assigned to the invoice. There is no chance that the customer code in the parameter does not exist in the DB.</p>\n<p>In any case, I know that it's a bad practice to directly call the <code>get()</code> method on an optional, but still I don't want to check if the value is present, that looks like some boilerplate code. There are other fields like the customer which are optional.</p>\n<p>Is there a better way to handle the optional here?</p>\n"},{"tags":["java","collections","set"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1395267055,"post_id":22519104,"comment_id":34265643,"body_markdown":"Short answer: no.  Long answer: nooooooooooo.","body":"Short answer: no.  Long answer: nooooooooooo."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395267292,"post_id":22519104,"comment_id":34265756,"body_markdown":"@LouisWasserman Why haven&#39;t you guys added something like that to Guava? It seems you could overload the `union` or `difference` methods of `Sets` to take a `Comparator` of sorts.","body":"@LouisWasserman Why haven&#39;t you guys added something like that to Guava? It seems you could overload the <code>union</code> or <code>difference</code> methods of <code>Sets</code> to take a <code>Comparator</code> of sorts."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1395267852,"post_id":22519104,"comment_id":34266026,"body_markdown":"It&#39;s awkward to do efficiently in a generic way, it&#39;s not actually as common a need as you might think, and it tends to be more readable and less surprising done &quot;the normal way.&quot;  Additionally, our existing `union` and `difference` methods return views, not copies, it&#39;s impossible to do this efficiently in a view, and breaking that precedent would be weird.","body":"It&#39;s awkward to do efficiently in a generic way, it&#39;s not actually as common a need as you might think, and it tends to be more readable and less surprising done &quot;the normal way.&quot;  Additionally, our existing <code>union</code> and <code>difference</code> methods return views, not copies, it&#39;s impossible to do this efficiently in a view, and breaking that precedent would be weird."}],"answers":[{"tags":[],"owner":{"account_id":4197664,"reputation":406,"user_id":3438672,"display_name":"nvamelichev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395268139,"creation_date":1395268139,"answer_id":22519511,"question_id":22519104,"body_markdown":"If you absolutely insist that no `for` loop is used, you can always find the disjoint between two `Collection`s of lowercased `String`s. Using [Google Guava][1], it should be something like:\r\n\r\n    package ru.zombator.stackoverflow;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.Locale;\r\n\r\n    import com.google.common.base.Function;\r\n    import com.google.common.collect.Collections2;\r\n\r\n    public final class DisjointIgnoreCase {\r\n\t    public static void main(String[] args) {\r\n\t        Collection&lt;String&gt; coll1 = Arrays.asList(&quot;donald&quot;, &quot;Duck&quot;);\r\n\t        Collection&lt;String&gt; coll2 = Arrays.asList(&quot;DONALd&quot;, &quot;Donut&quot;);\r\n\t        Collection&lt;String&gt; coll3 = Arrays.asList(&quot;Homer&quot;, &quot;DONUT&quot;);\r\n\t        Collection&lt;String&gt; coll4 = Arrays.asList(&quot;DONALD&quot;, &quot;duck&quot;);\r\n\t\r\n\t        // will all print false\r\n\t        System.out.println(disjointIgnoreCase(coll1, coll2));\r\n\t        System.out.println(disjointIgnoreCase(coll2, coll3));\r\n\t        System.out.println(disjointIgnoreCase(coll1, coll4));\r\n\t\r\n\t        // will print true (no common elements)\r\n\t        System.out.println(disjointIgnoreCase(coll1, coll3));\r\n\t    }    \t\r\n    \t\r\n\t    private static boolean disjointIgnoreCase(Collection&lt;String&gt; coll1, Collection&lt;String&gt; coll2) {\r\n\t        return Collections.disjoint(lowercased(coll1), lowercased(coll2));\r\n\t    }    \t\r\n    \t\r\n\t    private static Collection&lt;String&gt; lowercased(Collection&lt;String&gt; coll) {\r\n\t        return Collections2.transform(coll, new Function&lt;String, String&gt;() {\r\n\t            @Override\r\n\t            public String apply(String input) {\r\n\t                return input.toLowerCase(Locale.US);\r\n\t            }\r\n\t        });\r\n\t    }\r\n    }\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/ &quot;Google Guava&quot;","title":"Find disjoint set irrespective of case of the strings","body":"<p>If you absolutely insist that no <code>for</code> loop is used, you can always find the disjoint between two <code>Collection</code>s of lowercased <code>String</code>s. Using <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\" title=\"Google Guava\">Google Guava</a>, it should be something like:</p>\n\n<pre><code>package ru.zombator.stackoverflow;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Locale;\n\nimport com.google.common.base.Function;\nimport com.google.common.collect.Collections2;\n\npublic final class DisjointIgnoreCase {\n    public static void main(String[] args) {\n        Collection&lt;String&gt; coll1 = Arrays.asList(\"donald\", \"Duck\");\n        Collection&lt;String&gt; coll2 = Arrays.asList(\"DONALd\", \"Donut\");\n        Collection&lt;String&gt; coll3 = Arrays.asList(\"Homer\", \"DONUT\");\n        Collection&lt;String&gt; coll4 = Arrays.asList(\"DONALD\", \"duck\");\n\n        // will all print false\n        System.out.println(disjointIgnoreCase(coll1, coll2));\n        System.out.println(disjointIgnoreCase(coll2, coll3));\n        System.out.println(disjointIgnoreCase(coll1, coll4));\n\n        // will print true (no common elements)\n        System.out.println(disjointIgnoreCase(coll1, coll3));\n    }       \n\n    private static boolean disjointIgnoreCase(Collection&lt;String&gt; coll1, Collection&lt;String&gt; coll2) {\n        return Collections.disjoint(lowercased(coll1), lowercased(coll2));\n    }       \n\n    private static Collection&lt;String&gt; lowercased(Collection&lt;String&gt; coll) {\n        return Collections2.transform(coll, new Function&lt;String, String&gt;() {\n            @Override\n            public String apply(String input) {\n                return input.toLowerCase(Locale.US);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434059,"creation_date":1652434059,"answer_id":72227317,"question_id":22519104,"body_markdown":"An easier way is to convert the values of both lists to lowercase. Creating new lists is not needed as the function is applied to the values the value references are the same - inplace change.\r\n\r\n    c1.stream().map(s -&gt; s.toLowerCase()).collect(Collectors.toList());\r\n    c2.stream().map(s -&gt; s.toLowerCase()).collect(Collectors.toList());\r\n    Collections.disjoint(c1, c2);\r\n\r\nOne cannot put directly the mapping in the disjoint because multiple levels of processing is not allowed here.","title":"Find disjoint set irrespective of case of the strings","body":"<p>An easier way is to convert the values of both lists to lowercase. Creating new lists is not needed as the function is applied to the values the value references are the same - inplace change.</p>\n<pre><code>c1.stream().map(s -&gt; s.toLowerCase()).collect(Collectors.toList());\nc2.stream().map(s -&gt; s.toLowerCase()).collect(Collectors.toList());\nCollections.disjoint(c1, c2);\n</code></pre>\n<p>One cannot put directly the mapping in the disjoint because multiple levels of processing is not allowed here.</p>\n"}],"owner":{"account_id":328500,"reputation":1722,"user_id":651486,"accept_rate":82,"display_name":"Kevindra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2008,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1652434059,"creation_date":1395266513,"question_id":22519104,"body_markdown":"I am using [Collection.disjoint][1] to find the disjoint set of two string collections `c1, c2.` But it does not ignore cases, for example - string `str` is different than `Str`.\r\n\r\n   \r\n\r\n    return Collections.disjoint(c1, c2);\r\n\r\nCan I find the disjoint of both collections ignoring their cases without using a for loop?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Collections.html#disjoint%28java.util.Collection,%20java.util.Collection%29","title":"Find disjoint set irrespective of case of the strings","body":"<p>I am using <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Collections.html#disjoint%28java.util.Collection,%20java.util.Collection%29\" rel=\"nofollow\">Collection.disjoint</a> to find the disjoint set of two string collections <code>c1, c2.</code> But it does not ignore cases, for example - string <code>str</code> is different than <code>Str</code>.</p>\n\n<pre><code>return Collections.disjoint(c1, c2);\n</code></pre>\n\n<p>Can I find the disjoint of both collections ignoring their cases without using a for loop?</p>\n"},{"tags":["java","database","executable-jar","properties-file"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1368950447,"post_id":16632342,"comment_id":23917981,"body_markdown":"It&#39;s not clear to me what you mean by &quot;How can I include a properties file with the jar file not in it&quot; - just don&#39;t put the properties file in the jar file...","body":"It&#39;s not clear to me what you mean by &quot;How can I include a properties file with the jar file not in it&quot; - just don&#39;t put the properties file in the jar file..."},{"owner":{"account_id":1080702,"reputation":30775,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"score":0,"creation_date":1368950871,"post_id":16632342,"comment_id":23918036,"body_markdown":"Um...the closest example I can give is the `App.config` file in .NET. When the executable is created, the file is bundled with it, right? Not _inside_ it.","body":"Um...the closest example I can give is the <code>App.config</code> file in .NET. When the executable is created, the file is bundled with it, right? Not <i>inside</i> it."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1368951434,"post_id":16632342,"comment_id":23918153,"body_markdown":"Sure. So now you&#39;ve provided the code, we can see what you need to do - just use a `FileInputStream` instead of `getResourceAsStream`.","body":"Sure. So now you&#39;ve provided the code, we can see what you need to do - just use a <code>FileInputStream</code> instead of <code>getResourceAsStream</code>."},{"owner":{"account_id":4425690,"reputation":228,"user_id":3604227,"accept_rate":73,"display_name":"user777777"},"score":0,"creation_date":1425294414,"post_id":16632342,"comment_id":45888979,"body_markdown":"Hi Isuru, I was looking for the same info.. Could you pls share some info on where I should be placing the `properties` file? And should I use `FileInputStream` or `getResourceAsStream`?","body":"Hi Isuru, I was looking for the same info.. Could you pls share some info on where I should be placing the <code>properties</code> file? And should I use <code>FileInputStream</code> or <code>getResourceAsStream</code>?"},{"owner":{"account_id":1080702,"reputation":30775,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"score":0,"creation_date":1425307954,"post_id":16632342,"comment_id":45897208,"body_markdown":"@Shruti Hi. Unfortunately I asked this question 2 years ago while working on a university project. I can&#39;t remember any of it now. And I&#39;m not a Java developer anymore. It would be better if you could ask it from someone who&#39;s posted an answer below. Or post a separate question entirely. Sorry.","body":"@Shruti Hi. Unfortunately I asked this question 2 years ago while working on a university project. I can&#39;t remember any of it now. And I&#39;m not a Java developer anymore. It would be better if you could ask it from someone who&#39;s posted an answer below. Or post a separate question entirely. Sorry."},{"owner":{"account_id":4425690,"reputation":228,"user_id":3604227,"accept_rate":73,"display_name":"user777777"},"score":0,"creation_date":1425371936,"post_id":16632342,"comment_id":45924957,"body_markdown":"@Isuru.. no problem, Let me check that again","body":"@Isuru.. no problem, Let me check that again"}],"answers":[{"tags":[],"owner":{"account_id":1088867,"reputation":5614,"user_id":1083951,"accept_rate":84,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368950427,"creation_date":1368950427,"answer_id":16632542,"question_id":16632342,"body_markdown":"Do not hardcode the location of property file. Your approach should be to stream the file from classpath. \r\n\r\nIf not, the better way would be to point to a URL which returns the properties information in a specific data format (say JSON).\r\n\r\nIf you have JAR check [this][1] out. \r\n\r\nIf your application is WAR check [properties in WAR][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2815404/load-properties-file-in-jar\r\n  [2]: https://stackoverflow.com/questions/12507016/load-properties-file-in-servlet-jsp","title":"Include A Properties File With A Jar File","body":"<p>Do not hardcode the location of property file. Your approach should be to stream the file from classpath. </p>\n\n<p>If not, the better way would be to point to a URL which returns the properties information in a specific data format (say JSON).</p>\n\n<p>If you have JAR check <a href=\"https://stackoverflow.com/questions/2815404/load-properties-file-in-jar\">this</a> out. </p>\n\n<p>If your application is WAR check <a href=\"https://stackoverflow.com/questions/12507016/load-properties-file-in-servlet-jsp\">properties in WAR</a>.</p>\n"},{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368950498,"creation_date":1368950498,"answer_id":16632552,"question_id":16632342,"body_markdown":"You can load a property file from the classpath instead. This enables you to bundle the property file inside the jar, but also **outside** the jar. It just needs to be on the classpath of the running application.\r\n\r\nYou can do so in the following way:\r\n\r\n    Properties props = new Properties();\r\n    InputStream inputStream = this.getClass().getClassLoader()\r\n            .getResourceAsStream(propFileName);\r\n\r\n    props.load(inputStream);","title":"Include A Properties File With A Jar File","body":"<p>You can load a property file from the classpath instead. This enables you to bundle the property file inside the jar, but also <strong>outside</strong> the jar. It just needs to be on the classpath of the running application.</p>\n\n<p>You can do so in the following way:</p>\n\n<pre><code>Properties props = new Properties();\nInputStream inputStream = this.getClass().getClassLoader()\n        .getResourceAsStream(propFileName);\n\nprops.load(inputStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1368951582,"creation_date":1368950727,"answer_id":16632573,"question_id":16632342,"body_markdown":"You are right.  If the properties are intended to be modifiable by the user, then putting them in a properties file in the JAR is not going to work\r\n\r\nThere are a couple of approaches:\r\n\r\n - You could put the properties in a property file that you store in the file system.  The problem is figuring out *where* in the filesystem to store them:\r\n\r\n    - On UNIX / Linux there are conventions for where to store system-wide and per-user configuration properties, but these are a bit loose, and in a bit of a state of flux (e.g. certain &quot;desktop&quot; frameworks have their own preference mechanisms.  \r\n\r\n    - There are similar conventions for Windows I believe.\r\n\r\n    - The problem with approach can be permissions issues (you don&#39;t want one user changing another&#39;s preferences), and possibly even issues with read-only file systems and the like.\r\n\r\n    - If you are going to use a property file in the filesystem, it is a bad idea to hardwire the location into your code.  Make it configurable via a command line argument and/or a &quot;system property&quot; that can be set using the `-D` option.\r\n\r\n - On Windows, you could put the properties into the Windows registry.  But you will need to use 3rd party libraries to do this.  And of course, *this is not portable* - it won&#39;t work on a non-Windows platform.\r\n\r\n - You could use the [Java Preferences API][1].  This is portable across multiple platforms but it is a Java-centric solution; i.e. it doesn&#39;t fit well with the platform&#39;s &quot;normal way&quot; of doing things.\r\n\r\nIn short, there is no solution that is ideal from all perspectives.\r\n\r\n--------------\r\n\r\nBut once you&#39;ve decided how to store your preferences, you *could* write your application so that it uses the properties file in your JAR file to provide default or initial settings.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/preferences/overview.html","title":"Include A Properties File With A Jar File","body":"<p>You are right.  If the properties are intended to be modifiable by the user, then putting them in a properties file in the JAR is not going to work</p>\n\n<p>There are a couple of approaches:</p>\n\n<ul>\n<li><p>You could put the properties in a property file that you store in the file system.  The problem is figuring out <em>where</em> in the filesystem to store them:</p>\n\n<ul>\n<li><p>On UNIX / Linux there are conventions for where to store system-wide and per-user configuration properties, but these are a bit loose, and in a bit of a state of flux (e.g. certain \"desktop\" frameworks have their own preference mechanisms.  </p></li>\n<li><p>There are similar conventions for Windows I believe.</p></li>\n<li><p>The problem with approach can be permissions issues (you don't want one user changing another's preferences), and possibly even issues with read-only file systems and the like.</p></li>\n<li><p>If you are going to use a property file in the filesystem, it is a bad idea to hardwire the location into your code.  Make it configurable via a command line argument and/or a \"system property\" that can be set using the <code>-D</code> option.</p></li>\n</ul></li>\n<li><p>On Windows, you could put the properties into the Windows registry.  But you will need to use 3rd party libraries to do this.  And of course, <em>this is not portable</em> - it won't work on a non-Windows platform.</p></li>\n<li><p>You could use the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/preferences/overview.html\" rel=\"noreferrer\">Java Preferences API</a>.  This is portable across multiple platforms but it is a Java-centric solution; i.e. it doesn't fit well with the platform's \"normal way\" of doing things.</p></li>\n</ul>\n\n<p>In short, there is no solution that is ideal from all perspectives.</p>\n\n<hr>\n\n<p>But once you've decided how to store your preferences, you <em>could</em> write your application so that it uses the properties file in your JAR file to provide default or initial settings.</p>\n"},{"tags":[],"owner":{"account_id":3894661,"reputation":91,"user_id":3224030,"display_name":"ekim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390405200,"creation_date":1390404142,"answer_id":21286915,"question_id":16632342,"body_markdown":"instead of \r\n\r\n    in = DatabaseHandler.class.getResourceAsStream(&quot;database.properties&quot;);\r\ntry \r\n\r\n    in = DatabaseHandler.class.getResourceAsStream(&quot;/database.properties&quot;);","title":"Include A Properties File With A Jar File","body":"<p>instead of </p>\n\n<pre><code>in = DatabaseHandler.class.getResourceAsStream(\"database.properties\");\n</code></pre>\n\n<p>try </p>\n\n<pre><code>in = DatabaseHandler.class.getResourceAsStream(\"/database.properties\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24162729,"reputation":1,"user_id":18126017,"display_name":"Kube Dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434055,"creation_date":1652434055,"answer_id":72227315,"question_id":16632342,"body_markdown":"If you are using springboot-based java microservices, you can try spring cloud config. It is very powerful when it comes to managing configs. \r\nIt is centralised, allows you to manage the configs realtime and lets the app use the updated configs without the need to restart applications (@RefreshScope is used for that). Not only this will keep configs consistent across all the apps, but also you can secure it further by storing the configs in a centralised vault.\r\nThese also support environment specific configs.","title":"Include A Properties File With A Jar File","body":"<p>If you are using springboot-based java microservices, you can try spring cloud config. It is very powerful when it comes to managing configs.\nIt is centralised, allows you to manage the configs realtime and lets the app use the updated configs without the need to restart applications (@RefreshScope is used for that). Not only this will keep configs consistent across all the apps, but also you can secure it further by storing the configs in a centralised vault.\nThese also support environment specific configs.</p>\n"}],"owner":{"account_id":1080702,"reputation":30775,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37868,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1652434055,"creation_date":1368948241,"question_id":16632342,"body_markdown":"I&#39;ve written a small application. I&#39;ve put the database specific information in a properties file. \r\n\r\n    db.url=jdbc:mysql://localhost:3306/librarydb\r\n    db.user=root\r\n    db.passwd=pas$w0rd\r\n\r\nWhen I build the application to get the executable jar file, the properties file gets included inside. The whole purpose of putting those information in a properties file is to allow the user to change those but this is making it impossible.\r\n\r\nHow can I include a properties file with the jar file not in it? Kinda like you do with AppSettings file in .NET applications.\r\n\r\nI&#39;m very new to Java so I&#39;d appreciate if you could break it down to a set of steps. \r\n\r\nThank you. \r\n\r\n**EDIT :**\r\n\r\nThis is how I&#39;m getting the values from the properties file in my program.\r\n\r\n    public class DatabaseHandler {\r\n        \r\n        public static Connection connectToDb() {\r\n            Connection con = null;\r\n            Properties props = new Properties();\r\n            InputStream in = null;\r\n            \r\n            try {\r\n                in = DatabaseHandler.class.getResourceAsStream(&quot;database.properties&quot;);\r\n                props.load(in);\r\n                in.close();\r\n                \r\n                String url = props.getProperty(&quot;db.url&quot;);\r\n                String user = props.getProperty(&quot;db.user&quot;);\r\n                String password = props.getProperty(&quot;db.passwd&quot;);\r\n                \r\n                con = DriverManager.getConnection(url, user, password);\r\n            } catch (Exception ex) {        \r\n                Logger.getLogger(DatabaseHandler.class.getName()).log(Level.SEVERE, null, ex); \r\n            }\r\n                return con;\r\n        }\r\n        \r\n    }","title":"Include A Properties File With A Jar File","body":"<p>I've written a small application. I've put the database specific information in a properties file. </p>\n\n<pre><code>db.url=jdbc:mysql://localhost:3306/librarydb\ndb.user=root\ndb.passwd=pas$w0rd\n</code></pre>\n\n<p>When I build the application to get the executable jar file, the properties file gets included inside. The whole purpose of putting those information in a properties file is to allow the user to change those but this is making it impossible.</p>\n\n<p>How can I include a properties file with the jar file not in it? Kinda like you do with AppSettings file in .NET applications.</p>\n\n<p>I'm very new to Java so I'd appreciate if you could break it down to a set of steps. </p>\n\n<p>Thank you. </p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>This is how I'm getting the values from the properties file in my program.</p>\n\n<pre><code>public class DatabaseHandler {\n\n    public static Connection connectToDb() {\n        Connection con = null;\n        Properties props = new Properties();\n        InputStream in = null;\n\n        try {\n            in = DatabaseHandler.class.getResourceAsStream(\"database.properties\");\n            props.load(in);\n            in.close();\n\n            String url = props.getProperty(\"db.url\");\n            String user = props.getProperty(\"db.user\");\n            String password = props.getProperty(\"db.passwd\");\n\n            con = DriverManager.getConnection(url, user, password);\n        } catch (Exception ex) {        \n            Logger.getLogger(DatabaseHandler.class.getName()).log(Level.SEVERE, null, ex); \n        }\n            return con;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1652359887,"post_id":72215861,"comment_id":127590633,"body_markdown":"Does the content of the file look like a zip file if you open it with a text editor?","body":"Does the content of the file look like a zip file if you open it with a text editor?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1652361341,"post_id":72215861,"comment_id":127591240,"body_markdown":"You should first narrow down the error. There are three layers: controller, web tier, HTML/JavaScript. First in the controller write the generated bytes to a file and check if it is ok. If it is ok use a tool like curl or postman to call the URL to download the ZIP file. After that you know in which part the error is and you can debug further.","body":"You should first narrow down the error. There are three layers: controller, web tier, HTML/JavaScript. First in the controller write the generated bytes to a file and check if it is ok. If it is ok use a tool like curl or postman to call the URL to download the ZIP file. After that you know in which part the error is and you can debug further."},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1652362095,"post_id":72215861,"comment_id":127591596,"body_markdown":"@FedericoklezCulloca yes in the browser it appears as a zip file","body":"@FedericoklezCulloca yes in the browser it appears as a zip file"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1652362124,"post_id":72215861,"comment_id":127591612,"body_markdown":"Write your zip file directly to file on server side and check if it is a valid zip file.","body":"Write your zip file directly to file on server side and check if it is a valid zip file."},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1652362564,"post_id":72215861,"comment_id":127591779,"body_markdown":"@Antonioss before converting the zip file into byte[] , we will create a zip file in another location and that zip file is valid one, I am able to extract it","body":"@Antonioss before converting the zip file into byte[] , we will create a zip file in another location and that zip file is valid one, I am able to extract it"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1652362585,"post_id":72215861,"comment_id":127591791,"body_markdown":"@vanje The zip file is valid","body":"@vanje The zip file is valid"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1652362725,"post_id":72215861,"comment_id":127591845,"body_markdown":"`application/octate-stream` -&gt;a typo in `octete` and another one `application/octetstream`","body":"<code>application&#47;octate-stream</code> -&gt;a typo in <code>octete</code> and another one <code>application&#47;octetstream</code>"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1652363094,"post_id":72215861,"comment_id":127591999,"body_markdown":"@Antoniossss still the same issue","body":"@Antoniossss still the same issue"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1652363673,"post_id":72215861,"comment_id":127592245,"body_markdown":"@Thejas: This is nice. Did you do all what I suggested? What is your conclusion?","body":"@Thejas: This is nice. Did you do all what I suggested? What is your conclusion?"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1652364342,"post_id":72215861,"comment_id":127592547,"body_markdown":"@vanje In the java controller I did a file write and was able to get a zip file and was able to extract the contents as well","body":"@vanje In the java controller I did a file write and was able to get a zip file and was able to extract the contents as well"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1652367237,"post_id":72215861,"comment_id":127593781,"body_markdown":"@Thejas: We can not debug your code for you. You have to do this on your own.  We can give you hints and suggestions but if you don&#39;t want to follow them you are on your own. If you had followed my suggestions completely, you would now at least know in which part of your application the error is to be located. (This is some form of divide and conquer.)","body":"@Thejas: We can not debug your code for you. You have to do this on your own.  We can give you hints and suggestions but if you don&#39;t want to follow them you are on your own. If you had followed my suggestions completely, you would now at least know in which part of your application the error is to be located. (This is some form of divide and conquer.)"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1652367468,"post_id":72215861,"comment_id":127593863,"body_markdown":"@vanje okay I have tried the controller side, let me check the curl or postman","body":"@vanje okay I have tried the controller side, let me check the curl or postman"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1652369416,"post_id":72215861,"comment_id":127594629,"body_markdown":"@vanje In the postman I got the response and saved the response to a zip file and was able to get the valid zip file","body":"@vanje In the postman I got the response and saved the response to a zip file and was able to get the valid zip file"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1652455427,"post_id":72215861,"comment_id":127618201,"body_markdown":"Great. Now you know the server code works. Then you can concentrate on debugging your JavaScript code.","body":"Great. Now you know the server code works. Then you can concentrate on debugging your JavaScript code."}],"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652433974,"creation_date":1652359656,"question_id":72215861,"body_markdown":"I am working on a jsp zip file download ,I am able to download the file but while extracing I get Invalid zip file error. In the java controller I have added\r\n\r\n     @RequestMapping(&quot;/upload&quot;)\r\n    public void getDownload(ModelView mv,HttpServletResponse response)\r\n    {\r\n            String fileName = &quot;&quot;;\r\n                String fullZipFileName = zipDir+ zipFileName;\r\n                \r\n                   FileManager fm = FileManager.getInstance();\r\n                \r\n                 zipOS = fm.getZipOutputStream(fullZipFileName);            \r\n                        \r\n                try {​​​​​\r\n                \r\n                   for(int i = 0; i &lt; numOfFiles; i++) {​​​​​\r\n                      fileName = (String) selectedFiles.get(i);\r\n                \r\n                      File file = new File(directory, fileName);\r\n                      \r\n                      bIS = fm.getBufferedInputStream(file.getAbsolutePath());\r\n                     \r\n                      ZipEntry entry = new ZipEntry(file.getName());\r\n                      zipOS.putNextEntry(entry);\r\n                \r\n                      while((count = bIS.read(fileToAddToZip, 0, buffer)) != -1) {​​​​​\r\n                         zipOS.write(fileToAddToZip, 0, count);\r\n                      }​​​​​\r\n                      bIS.close();\r\n                   }​​​​​\r\n                   zipOS.close();\r\n            \r\n            FileManager fm = FileManager.getInstance();\r\n            bIS = fm.getBufferedInputStream(zipFileName);\r\n            \r\n            byte[] byteArray = new byte[bIS.available()];\r\n            bIS.read(byteArray);\r\n            bIS.close();\r\n               \r\n        response.setContentType(&quot;application/octate-stream&quot;);\r\n         response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename&quot; + zippedFilename);    \r\n        response.getOutputStream().write(byteArray);\r\n    }\r\n\r\nIn the jsp side I have added \r\n\r\n        $.ajax({​​​​​​​​​​​\r\n            type: &#39;POST&#39;,\r\n            url: &quot;${​​​​​​​​​​​pageContext.request.contextPath}​​​​​​​​​​​/download&quot;,\r\n           \r\n            contentType: &quot;application/json&quot;,\r\n            data: JSON.stringify(payload),\r\n            success: function (res, textStatus, response) {​​​​​​​​​​​\r\n                var fileName = response.getResponseHeader(&quot;content-disposition&quot;).replace(&quot;attachment;filename=&quot;, &quot;&quot;);\r\n    var fileName = response.getResponseHeader(&quot;Content-Disposition&quot;).replace(&quot;attachment;filename=&quot;, &quot;&quot;);\r\n    \r\n          var bytes = new Uint8Array(res.length);\r\n          for(var i=0;i&lt; res.length;i++)\r\n          {\r\n          var as=res.charCodeAt(i);\r\n          bytes[i]=as;\r\n           }\r\n    \r\n                var blob = new Blob([bytes], {​​​​​​​​​​​ type: &quot;application/octetstream&quot; }​​​​​​​​​​​);\r\n        \r\n                //Check the Browser type and download the File.\r\n        \r\n                var isIE = false || !!document.documentMode;\r\n        \r\n                if (isIE) {​​​​​​​​​​​\r\n        \r\n                    window.navigator.msSaveBlob(blob, fileName);\r\n        \r\n                }​​​​​​​​​​​ else {​​​​​​​​​​​\r\n        \r\n                    var url = window.URL || window.webkitURL;\r\n        \r\n                    link = url.createObjectURL(blob);\r\n        \r\n                    var a = $(&quot;&lt;a /&gt;&quot;);\r\n        \r\n                                        a.attr(&quot;download&quot;, fileName);\r\n        \r\n                    a.attr(&quot;href&quot;, link);\r\n        \r\n                    $(&quot;body&quot;).append(a);\r\n        \r\n                    a[0].click();\r\n        \r\n                    $(&quot;body&quot;).remove(a);\r\n        \r\n                }​​​​​​​​​​​\r\n        \r\n            }​​​​​​​​​​​,\r\n            error: function (e) {​​​​​​​​​​​\r\n               \r\n            }​​​​​​​​​​​\r\n        \r\n        }​​​​​​​​​​​);\r\n\r\nI am able to download the file but when I try to extract the zip file ,I get Invalid zip file. Can someone tell me how can I fix this issue\r\n\r\n","title":"File downloads but while extracting it gives &quot;invalid zip file&quot;","body":"<p>I am working on a jsp zip file download ,I am able to download the file but while extracing I get Invalid zip file error. In the java controller I have added</p>\n<pre><code> @RequestMapping(&quot;/upload&quot;)\npublic void getDownload(ModelView mv,HttpServletResponse response)\n{\n        String fileName = &quot;&quot;;\n            String fullZipFileName = zipDir+ zipFileName;\n            \n               FileManager fm = FileManager.getInstance();\n            \n             zipOS = fm.getZipOutputStream(fullZipFileName);            \n                    \n            try {​​​​​\n            \n               for(int i = 0; i &lt; numOfFiles; i++) {​​​​​\n                  fileName = (String) selectedFiles.get(i);\n            \n                  File file = new File(directory, fileName);\n                  \n                  bIS = fm.getBufferedInputStream(file.getAbsolutePath());\n                 \n                  ZipEntry entry = new ZipEntry(file.getName());\n                  zipOS.putNextEntry(entry);\n            \n                  while((count = bIS.read(fileToAddToZip, 0, buffer)) != -1) {​​​​​\n                     zipOS.write(fileToAddToZip, 0, count);\n                  }​​​​​\n                  bIS.close();\n               }​​​​​\n               zipOS.close();\n        \n        FileManager fm = FileManager.getInstance();\n        bIS = fm.getBufferedInputStream(zipFileName);\n        \n        byte[] byteArray = new byte[bIS.available()];\n        bIS.read(byteArray);\n        bIS.close();\n           \n    response.setContentType(&quot;application/octate-stream&quot;);\n     response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename&quot; + zippedFilename);    \n    response.getOutputStream().write(byteArray);\n}\n</code></pre>\n<p>In the jsp side I have added</p>\n<pre><code>    $.ajax({​​​​​​​​​​​\n        type: 'POST',\n        url: &quot;${​​​​​​​​​​​pageContext.request.contextPath}​​​​​​​​​​​/download&quot;,\n       \n        contentType: &quot;application/json&quot;,\n        data: JSON.stringify(payload),\n        success: function (res, textStatus, response) {​​​​​​​​​​​\n            var fileName = response.getResponseHeader(&quot;content-disposition&quot;).replace(&quot;attachment;filename=&quot;, &quot;&quot;);\nvar fileName = response.getResponseHeader(&quot;Content-Disposition&quot;).replace(&quot;attachment;filename=&quot;, &quot;&quot;);\n\n      var bytes = new Uint8Array(res.length);\n      for(var i=0;i&lt; res.length;i++)\n      {\n      var as=res.charCodeAt(i);\n      bytes[i]=as;\n       }\n\n            var blob = new Blob([bytes], {​​​​​​​​​​​ type: &quot;application/octetstream&quot; }​​​​​​​​​​​);\n    \n            //Check the Browser type and download the File.\n    \n            var isIE = false || !!document.documentMode;\n    \n            if (isIE) {​​​​​​​​​​​\n    \n                window.navigator.msSaveBlob(blob, fileName);\n    \n            }​​​​​​​​​​​ else {​​​​​​​​​​​\n    \n                var url = window.URL || window.webkitURL;\n    \n                link = url.createObjectURL(blob);\n    \n                var a = $(&quot;&lt;a /&gt;&quot;);\n    \n                                    a.attr(&quot;download&quot;, fileName);\n    \n                a.attr(&quot;href&quot;, link);\n    \n                $(&quot;body&quot;).append(a);\n    \n                a[0].click();\n    \n                $(&quot;body&quot;).remove(a);\n    \n            }​​​​​​​​​​​\n    \n        }​​​​​​​​​​​,\n        error: function (e) {​​​​​​​​​​​\n           \n        }​​​​​​​​​​​\n    \n    }​​​​​​​​​​​);\n</code></pre>\n<p>I am able to download the file but when I try to extract the zip file ,I get Invalid zip file. Can someone tell me how can I fix this issue</p>\n"},{"tags":["java","android","android-studio","webview","android-progressbar"],"answers":[{"tags":[],"owner":{"account_id":15731890,"reputation":917,"user_id":13049473,"display_name":"Sreehari K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652433932,"creation_date":1652433932,"answer_id":72227292,"question_id":72227059,"body_markdown":"In WebView there is no progress by default while loading the web page, the three-dot progress that you are viewing must be from the website which you are loading ","title":"How to hide the default android webview progress bar?","body":"<p>In WebView there is no progress by default while loading the web page, the three-dot progress that you are viewing must be from the website which you are loading</p>\n"}],"owner":{"account_id":18078388,"reputation":3,"user_id":13140971,"display_name":"Analog Learner "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72227292,"answer_count":1,"score":0,"last_activity_date":1652433932,"creation_date":1652432775,"question_id":72227059,"body_markdown":"i work on an app that displays a page through a webview. I have implemented my own progress bar and it works fine. However i cannot get rid of the default android progress bar that keeps showing up (the three gray dots). The round progress indicator is mine the dots are the default.\r\n\r\n[The problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UGcfp.png\r\n\r\nMy XML:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:id=&quot;@+id/swipeLayout&quot;&gt;\r\n    \r\n    \r\n        &lt;ViewFlipper\r\n            android:id=&quot;@+id/simpleViewFlipper&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;WebView\r\n                android:id=&quot;@+id/splashWebview&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                /&gt;\r\n    \r\n            &lt;WebView\r\n                android:id=&quot;@+id/webview&quot;\r\n                style=&quot;@android:style/Widget.Material.Light.WebView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                /&gt;\r\n    \r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/progressBar&quot;\r\n                style=&quot;?android:attr/progressBarStyle&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                android:indeterminateTint=&quot;#000000&quot;\r\n                android:layout_gravity=&quot;center_vertical|center_horizontal&quot;\r\n                /&gt;\r\n        &lt;/ViewFlipper&gt;\r\n    \r\n       &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\nI only have this problem with the webview with id=webview.","title":"How to hide the default android webview progress bar?","body":"<p>i work on an app that displays a page through a webview. I have implemented my own progress bar and it works fine. However i cannot get rid of the default android progress bar that keeps showing up (the three gray dots). The round progress indicator is mine the dots are the default.</p>\n<p><a href=\"https://i.stack.imgur.com/UGcfp.png\" rel=\"nofollow noreferrer\">The problem</a></p>\n<p>My XML:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/swipeLayout&quot;&gt;\n\n\n    &lt;ViewFlipper\n        android:id=&quot;@+id/simpleViewFlipper&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;WebView\n            android:id=&quot;@+id/splashWebview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            /&gt;\n\n        &lt;WebView\n            android:id=&quot;@+id/webview&quot;\n            style=&quot;@android:style/Widget.Material.Light.WebView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            /&gt;\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/progressBar&quot;\n            style=&quot;?android:attr/progressBarStyle&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:visibility=&quot;gone&quot;\n            android:indeterminateTint=&quot;#000000&quot;\n            android:layout_gravity=&quot;center_vertical|center_horizontal&quot;\n            /&gt;\n    &lt;/ViewFlipper&gt;\n\n   &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n<p>I only have this problem with the webview with id=webview.</p>\n"},{"tags":["java","aeron"],"answers":[{"tags":[],"owner":{"account_id":1378935,"reputation":1741,"user_id":2164736,"display_name":"Martin Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652433915,"creation_date":1652433915,"answer_id":72227286,"question_id":72226492,"body_markdown":"To extend an existing recording it is necessary to set the initial position of the publication you will use to extend the existing recording. The stream needs to be initialised so it is a genuine extension. This tests shows how it is done.\r\n\r\nhttps://github.com/real-logic/aeron/blob/master/aeron-system-tests/src/test/java/io/aeron/archive/ExtendRecordingTest.java","title":"Aeron Archive - extend existing recording","body":"<p>To extend an existing recording it is necessary to set the initial position of the publication you will use to extend the existing recording. The stream needs to be initialised so it is a genuine extension. This tests shows how it is done.</p>\n<p><a href=\"https://github.com/real-logic/aeron/blob/master/aeron-system-tests/src/test/java/io/aeron/archive/ExtendRecordingTest.java\" rel=\"nofollow noreferrer\">https://github.com/real-logic/aeron/blob/master/aeron-system-tests/src/test/java/io/aeron/archive/ExtendRecordingTest.java</a></p>\n"}],"owner":{"account_id":6440344,"reputation":1856,"user_id":4990550,"accept_rate":86,"display_name":"David Siro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72227286,"answer_count":1,"score":1,"last_activity_date":1652433915,"creation_date":1652430120,"question_id":72226492,"body_markdown":"I have an Aeron Archive and want to extend the existing recording, i.e. that it continuse to append messages after the service restart.\r\n\r\nI wasn&#39;t able to find any actual example how to do that, so I came with the my own code based on Aeron javadoc/[Aeron Cookbook](https://aeroncookbook.com/aeron/overview/).\r\n\r\n**What I have so far**\r\n\r\nI&#39;m trying to get the lastRecordingId, the position etc. from the archive itself first.\r\n\r\n```\r\nprivate void findLatestRecording() {\r\n        final RecordingDescriptorConsumer consumer =\r\n                (controlSessionId, correlationId, recordingId,\r\n                        startTimestamp, stopTimestamp, startPosition,\r\n                        stopPosition, initialTermId, segmentFileLength,\r\n                        termBufferLength, mtuLength, sessionId,\r\n                        streamId, strippedChannel, originalChannel,\r\n                        sourceIdentity) -&gt;  {\r\n                    AeronArchiveJournal.this.lastRecordingId = recordingId;\r\n                    AeronArchiveJournal.this.lastRecordingPosition = stopPosition;\r\n                    AeronArchiveJournal.this.initialTermId = initialTermId;\r\n                    AeronArchiveJournal.this.termBufferLength = termBufferLength;\r\n                };\r\n\r\n        final long fromRecordingId = 0L;\r\n        final int recordCount = 100;\r\n        final int foundCount = archive.listRecordingsForUri(fromRecordingId, recordCount, AeronChannels.ipc(), AeronStreams.STREAM_ID_JOURNAL, consumer);\r\n\r\n        if (foundCount == 0) {\r\n            LOG.info(&quot;No previous recording found, will start a new one&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nthen I&#39;m trying to extend the recording\r\n\r\n```\r\n private void extendExistingRecording() {\r\n        publication = aeron.addExclusivePublication(AeronChannels.ipc(), AeronStreams.STREAM_ID_JOURNAL);\r\n\r\n        String channelUri = new ChannelUriStringBuilder()\r\n                .media(CommonContext.IPC_MEDIA)\r\n                .initialPosition(lastRecordingPosition, initialTermId, termBufferLength)\r\n                .build();\r\n\r\n        LOG.info(&quot;Extending existing recording&quot;);\r\n        LOG.info(&quot;Recording id: {}&quot;, lastRecordingId);\r\n        LOG.info(&quot;Channel URI: {}&quot;, channelUri);\r\n\r\n\r\n        archive.extendRecording(lastRecordingId, channelUri, AeronStreams.STREAM_ID_JOURNAL, SourceLocation.LOCAL);\r\n\r\n        LOG.info(&quot;Waiting for recording to start for session {}&quot;, publication.sessionId());\r\n        final CountersReader counters = aeron.countersReader();\r\n        int counterId = RecordingPos.findCounterIdBySession(counters, publication.sessionId());\r\n\r\n        while (CountersReader.NULL_COUNTER_ID == counterId) {\r\n            journalIdleStrategy.idle();\r\n            counterId = RecordingPos.findCounterIdBySession(counters, publication.sessionId());\r\n        }\r\n        lastRecordingId = RecordingPos.getRecordingId(counters, counterId);\r\n\r\n    }\r\n```\r\n\r\nHowever the `CountersReader` loop never finishes and aeron prints following warning:\r\n```\r\nio.aeron.archive.client.ArchiveEvent: WARN - cannot extend recording 0 image.joinPosition=0 != rec.stopPosition=25312\r\n```\r\n\r\nClearly I&#39;m missing something, but so far I&#39;m not able to figure out what.\r\n\r\n\r\n","title":"Aeron Archive - extend existing recording","body":"<p>I have an Aeron Archive and want to extend the existing recording, i.e. that it continuse to append messages after the service restart.</p>\n<p>I wasn't able to find any actual example how to do that, so I came with the my own code based on Aeron javadoc/<a href=\"https://aeroncookbook.com/aeron/overview/\" rel=\"nofollow noreferrer\">Aeron Cookbook</a>.</p>\n<p><strong>What I have so far</strong></p>\n<p>I'm trying to get the lastRecordingId, the position etc. from the archive itself first.</p>\n<pre><code>private void findLatestRecording() {\n        final RecordingDescriptorConsumer consumer =\n                (controlSessionId, correlationId, recordingId,\n                        startTimestamp, stopTimestamp, startPosition,\n                        stopPosition, initialTermId, segmentFileLength,\n                        termBufferLength, mtuLength, sessionId,\n                        streamId, strippedChannel, originalChannel,\n                        sourceIdentity) -&gt;  {\n                    AeronArchiveJournal.this.lastRecordingId = recordingId;\n                    AeronArchiveJournal.this.lastRecordingPosition = stopPosition;\n                    AeronArchiveJournal.this.initialTermId = initialTermId;\n                    AeronArchiveJournal.this.termBufferLength = termBufferLength;\n                };\n\n        final long fromRecordingId = 0L;\n        final int recordCount = 100;\n        final int foundCount = archive.listRecordingsForUri(fromRecordingId, recordCount, AeronChannels.ipc(), AeronStreams.STREAM_ID_JOURNAL, consumer);\n\n        if (foundCount == 0) {\n            LOG.info(&quot;No previous recording found, will start a new one&quot;);\n        }\n    }\n</code></pre>\n<p>then I'm trying to extend the recording</p>\n<pre><code> private void extendExistingRecording() {\n        publication = aeron.addExclusivePublication(AeronChannels.ipc(), AeronStreams.STREAM_ID_JOURNAL);\n\n        String channelUri = new ChannelUriStringBuilder()\n                .media(CommonContext.IPC_MEDIA)\n                .initialPosition(lastRecordingPosition, initialTermId, termBufferLength)\n                .build();\n\n        LOG.info(&quot;Extending existing recording&quot;);\n        LOG.info(&quot;Recording id: {}&quot;, lastRecordingId);\n        LOG.info(&quot;Channel URI: {}&quot;, channelUri);\n\n\n        archive.extendRecording(lastRecordingId, channelUri, AeronStreams.STREAM_ID_JOURNAL, SourceLocation.LOCAL);\n\n        LOG.info(&quot;Waiting for recording to start for session {}&quot;, publication.sessionId());\n        final CountersReader counters = aeron.countersReader();\n        int counterId = RecordingPos.findCounterIdBySession(counters, publication.sessionId());\n\n        while (CountersReader.NULL_COUNTER_ID == counterId) {\n            journalIdleStrategy.idle();\n            counterId = RecordingPos.findCounterIdBySession(counters, publication.sessionId());\n        }\n        lastRecordingId = RecordingPos.getRecordingId(counters, counterId);\n\n    }\n</code></pre>\n<p>However the <code>CountersReader</code> loop never finishes and aeron prints following warning:</p>\n<pre><code>io.aeron.archive.client.ArchiveEvent: WARN - cannot extend recording 0 image.joinPosition=0 != rec.stopPosition=25312\n</code></pre>\n<p>Clearly I'm missing something, but so far I'm not able to figure out what.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652422157,"post_id":72223574,"comment_id":127606636,"body_markdown":"Which IDEA IntelliJ version do you use? Does your whole build work on plain command line?","body":"Which IDEA IntelliJ version do you use? Does your whole build work on plain command line?"},{"owner":{"account_id":17362205,"reputation":1,"user_id":12578191,"display_name":"helloWorld"},"score":0,"creation_date":1652429049,"post_id":72223574,"comment_id":127608629,"body_markdown":"IntelliJ IDEA 2022.1\nMaven version 3.6.3","body":"IntelliJ IDEA 2022.1 Maven version 3.6.3"},{"owner":{"account_id":17362205,"reputation":1,"user_id":12578191,"display_name":"helloWorld"},"score":0,"creation_date":1652429142,"post_id":72223574,"comment_id":127608667,"body_markdown":"I don&#39;t think it&#39;s a version problem. I tried to change maven 3.6.1 and it didn&#39;t work.","body":"I don&#39;t think it&#39;s a version problem. I tried to change maven 3.6.1 and it didn&#39;t work."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1652429281,"post_id":72223574,"comment_id":127608709,"body_markdown":"Could you share pom file for mall-auth?","body":"Could you share pom file for mall-auth?"},{"owner":{"account_id":17362205,"reputation":1,"user_id":12578191,"display_name":"helloWorld"},"score":0,"creation_date":1652431048,"post_id":72223574,"comment_id":127609287,"body_markdown":"Is the image ok,I can&#39;t display the pom text It always prompts me &quot;It looks like your post is mostly code; please add some more details.&quot;","body":"Is the image ok,I can&#39;t display the pom text It always prompts me &quot;It looks like your post is mostly code; please add some more details.&quot;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652432379,"post_id":72223574,"comment_id":127609787,"body_markdown":"I would suggest to delete the `.idea` directory and import the project from scratch...","body":"I would suggest to delete the <code>.idea</code> directory and import the project from scratch..."},{"owner":{"account_id":17362205,"reputation":1,"user_id":12578191,"display_name":"helloWorld"},"score":0,"creation_date":1652437022,"post_id":72223574,"comment_id":127611401,"body_markdown":"I deleted the .idea directory and re-imported the project as you suggested, but it still doesn&#39;t work, and mall-common does not show plugins and dependencies. Is there something wrong with my Maven parent-child project?","body":"I deleted the .idea directory and re-imported the project as you suggested, but it still doesn&#39;t work, and mall-common does not show plugins and dependencies. Is there something wrong with my Maven parent-child project?"},{"owner":{"account_id":17362205,"reputation":1,"user_id":12578191,"display_name":"helloWorld"},"score":0,"creation_date":1652438326,"post_id":72223574,"comment_id":127611815,"body_markdown":"It was fine before.When I added the public dependencies to Auth-common, I realized that it was missing them","body":"It was fine before.When I added the public dependencies to Auth-common, I realized that it was missing them"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1652876278,"post_id":72223574,"comment_id":127711861,"body_markdown":"Please check idea.log (&quot;Help | Show Log in...&quot;) for errors after running &quot;reload&quot; from maven tool window.","body":"Please check idea.log (&quot;Help | Show Log in...&quot;) for errors after running &quot;reload&quot; from maven tool window."}],"answers":[{"tags":[],"owner":{"account_id":23913608,"reputation":71,"user_id":17910253,"display_name":"Hristijan Slavkoski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652405791,"creation_date":1652405791,"answer_id":72223603,"question_id":72223574,"body_markdown":"You can click right click on the project, and reload maven dependencies.\r\n\r\nhttps://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies","title":"The maven on the right side of the intellij IDEA is missing plugins and dependencies","body":"<p>You can click right click on the project, and reload maven dependencies.</p>\n<p><a href=\"https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies\">Force Intellij IDEA to reread all maven dependencies</a></p>\n"},{"tags":[],"owner":{"account_id":23560615,"reputation":21,"user_id":17602031,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652409296,"creation_date":1652409296,"answer_id":72223886,"question_id":72223574,"body_markdown":"Please click the button like below.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gjfaQ.png","title":"The maven on the right side of the intellij IDEA is missing plugins and dependencies","body":"<p>Please click the button like below.<a href=\"https://i.stack.imgur.com/gjfaQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gjfaQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17362205,"reputation":1,"user_id":12578191,"display_name":"helloWorld"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652433814,"creation_date":1652405314,"question_id":72223574,"body_markdown":"1,The maven on the right side of the intellij IDEA is missing plugins and dependencies.help me This question made me cry.\r\n\r\n2,Problem Description\r\n\r\n    mall\r\n    ---mall-auth\r\n    \tLifecycle\r\n    \t**&lt;missing&gt;**\r\n    \t**&lt;missing&gt;**\r\n    ---mall-common\r\n    \tLifecycle\r\n    \tPlugins\r\n    \tDependencies\r\n    ---mall-admin\r\n    \tLifecycle\r\n    \tPlugins\r\n    \tDependencies\r\n\r\n\r\n[Neither plugins nor dependencies are displayed][1]\r\n\r\nI can&#39;t display the pom text\r\nIt always prompts me &quot;It looks like your post is mostly code; please add some more details.&quot; this is disgusting\r\n\r\n\r\n[mall pom][1]\r\n\r\n[mall-common pom][2]\r\n\r\n[mall-auth][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5AFKD.png\r\n  [2]: https://i.stack.imgur.com/A7TYQ.png\r\n  [3]: https://i.stack.imgur.com/dfXZT.png","title":"The maven on the right side of the intellij IDEA is missing plugins and dependencies","body":"<p>1,The maven on the right side of the intellij IDEA is missing plugins and dependencies.help me This question made me cry.</p>\n<p>2,Problem Description</p>\n<pre><code>mall\n---mall-auth\n    Lifecycle\n    **&lt;missing&gt;**\n    **&lt;missing&gt;**\n---mall-common\n    Lifecycle\n    Plugins\n    Dependencies\n---mall-admin\n    Lifecycle\n    Plugins\n    Dependencies\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5AFKD.png\" rel=\"nofollow noreferrer\">Neither plugins nor dependencies are displayed</a></p>\n<p>I can't display the pom text\nIt always prompts me &quot;It looks like your post is mostly code; please add some more details.&quot; this is disgusting</p>\n<p><a href=\"https://i.stack.imgur.com/5AFKD.png\" rel=\"nofollow noreferrer\">mall pom</a></p>\n<p><a href=\"https://i.stack.imgur.com/A7TYQ.png\" rel=\"nofollow noreferrer\">mall-common pom</a></p>\n<p><a href=\"https://i.stack.imgur.com/dfXZT.png\" rel=\"nofollow noreferrer\">mall-auth</a></p>\n"},{"tags":["java","mysql","database"],"comments":[{"owner":{"account_id":2329559,"reputation":661,"user_id":2043313,"accept_rate":82,"display_name":"Isma90"},"score":0,"creation_date":1589473685,"post_id":61802160,"comment_id":109315614,"body_markdown":"The variable `private String URL = &quot;jdbc:mysql://localhost:3306&quot;;` have the structure jdbc:mysql.... bla bla and in your function have `dbURL = &quot;jdbc:mysql://&quot; + URL + &quot;:&quot;` if you print this, maybe say `jdbc:mysql://jdbc:mysql://localhost:3306:3306...`\nThis is consistent with the error that&#39;s show `Malformed database URL,`.\nI recommend you change the URL variable to `URL = &quot;localhost&quot;`","body":"The variable <code>private String URL = &quot;jdbc:mysql:&#47;&#47;localhost:3306&quot;;</code> have the structure jdbc:mysql.... bla bla and in your function have <code>dbURL = &quot;jdbc:mysql:&#47;&#47;&quot; + URL + &quot;:&quot;</code> if you print this, maybe say <code>jdbc:mysql:&#47;&#47;jdbc:mysql:&#47;&#47;localhost:3306:3306...</code> This is consistent with the error that&#39;s show <code>Malformed database URL,</code>. I recommend you change the URL variable to <code>URL = &quot;localhost&quot;</code>"},{"owner":{"account_id":11443253,"reputation":1175,"user_id":8388057,"display_name":"Avishka Dambawinna"},"score":0,"creation_date":1589478591,"post_id":61802160,"comment_id":109318113,"body_markdown":"Can you show the entire class?","body":"Can you show the entire class?"}],"answers":[{"tags":[],"owner":{"account_id":5729376,"reputation":44,"user_id":4525391,"display_name":"Shiba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589473080,"creation_date":1589473080,"answer_id":61802278,"question_id":61802160,"body_markdown":"You are adding up extra with your URL;\r\nFirst you declared this:\r\n\r\n    private String URL = &quot;jdbc:mysql://localhost:3306&quot;;\r\nNow, in the connectToDatabase method you are building the dbURL by putting that URL in between: \r\n\r\n    dbURL = &quot;jdbc:mysql://&quot; + URL + &quot;:&quot; + port + &quot;/&quot; + dbName + &quot;?verifyServerCertificate=false&quot;;\r\n\r\nYour actual dbURL will practically look like: \r\ndbURL = &quot;jdbc:mysql://&quot; + &quot;jdbc:mysql://localhost:3306&quot; + &quot;:&quot; + port + &quot;/&quot; + dbName + &quot;?verifyServerCertificate=false&quot;;\r\n\r\nSo, initialize URL just as:\r\n\r\n     URL = &quot;localhost&quot;;\r\n","title":"How to solve error: java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>You are adding up extra with your URL;\nFirst you declared this:</p>\n\n<pre><code>private String URL = \"jdbc:mysql://localhost:3306\";\n</code></pre>\n\n<p>Now, in the connectToDatabase method you are building the dbURL by putting that URL in between: </p>\n\n<pre><code>dbURL = \"jdbc:mysql://\" + URL + \":\" + port + \"/\" + dbName + \"?verifyServerCertificate=false\";\n</code></pre>\n\n<p>Your actual dbURL will practically look like: \ndbURL = \"jdbc:mysql://\" + \"jdbc:mysql://localhost:3306\" + \":\" + port + \"/\" + dbName + \"?verifyServerCertificate=false\";</p>\n\n<p>So, initialize URL just as:</p>\n\n<pre><code> URL = \"localhost\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11443253,"reputation":1175,"user_id":8388057,"display_name":"Avishka Dambawinna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589480520,"creation_date":1589480520,"answer_id":61804619,"question_id":61802160,"body_markdown":"I&#39;m just trying to help to resolve the problem with the provided details:).\r\nTry,\r\n\r\n    dbURL = &quot;jdbc:mysql://&quot; + URL + &quot;:&quot; + port + &quot;/&quot; + dbName + &quot;?verifyServerCertificate=false&quot;+ &quot;&amp;useSSL=false&quot;;\r\n                \r\n    Properties p = new Properties();\r\n    p.setProperty(&quot;user&quot;, dbUsername);\r\n    p.setProperty(&quot;password&quot;, dbPassword);\r\n                \r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            \r\n    con = DriverManager.getConnection(dbURL, p);\r\n\r\nNote: I didn&#39;t set `&quot;autoReconnect&quot;, &quot;true&quot;`","title":"How to solve error: java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>I'm just trying to help to resolve the problem with the provided details:).\nTry,</p>\n\n<pre><code>dbURL = \"jdbc:mysql://\" + URL + \":\" + port + \"/\" + dbName + \"?verifyServerCertificate=false\"+ \"&amp;useSSL=false\";\n\nProperties p = new Properties();\np.setProperty(\"user\", dbUsername);\np.setProperty(\"password\", dbPassword);\n\nClass.forName(\"com.mysql.cj.jdbc.Driver\");\n\ncon = DriverManager.getConnection(dbURL, p);\n</code></pre>\n\n<p>Note: I didn't set <code>\"autoReconnect\", \"true\"</code></p>\n"},{"tags":[],"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652433660,"creation_date":1652433660,"answer_id":72227240,"question_id":61802160,"body_markdown":"I was facing the same error. For me it occurred because I was using a very old mysql.connector jar version. Resolved it by upgrading ```mysql.connector.java jar``` from ```mysql:mysql-connector-java:5.4.2``` to ```mysql:mysql-connector-java:8.0.29```.\r\nIn IntelliJ, you can check the version of this jar by navigating to File -&gt; Project Structure -&gt; Libraries -&gt; ```mysql.connector.java```","title":"How to solve error: java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>I was facing the same error. For me it occurred because I was using a very old mysql.connector jar version. Resolved it by upgrading <code>mysql.connector.java jar</code> from <code>mysql:mysql-connector-java:5.4.2</code> to <code>mysql:mysql-connector-java:8.0.29</code>.\nIn IntelliJ, you can check the version of this jar by navigating to File -&gt; Project Structure -&gt; Libraries -&gt; <code>mysql.connector.java</code></p>\n"}],"owner":{"account_id":18583984,"reputation":21,"user_id":13542846,"display_name":"Layth Bazzar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1652433660,"creation_date":1589472745,"question_id":61802160,"body_markdown":"this is my code\r\n\r\n    private String dbURL;\r\n\tprivate String dbUsername = &quot;root&quot;;\r\n\tprivate String dbPassword = &quot;root1234&quot;;\r\n\tprivate String URL = &quot;localhost&quot;;\r\n\tprivate String port = &quot;3306&quot;;\r\n\tprivate String dbName = &quot;university&quot;;\r\n\tprivate Connection con;\r\n\r\n\tprivate void connectToDataBase() throws ClassNotFoundException, SQLException {\r\n\r\n\t\tdbURL = &quot;jdbc:mysql://&quot; + URL + &quot;:&quot; + port + &quot;/&quot; + dbName + &quot;?verifyServerCertificate=false&quot;;\r\n\t\tProperties p = new Properties();\r\n\t\tp.setProperty(&quot;user&quot;, dbUsername);\r\n\t\tp.setProperty(&quot;password&quot;, dbPassword);\r\n\t\tp.setProperty(&quot;useSSL&quot;, &quot;false&quot;);\r\n\t\tp.setProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\r\n\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n\t\tcon = DriverManager.getConnection(dbURL, p);\r\nand i encountered this problem\r\njava.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/huC2N.png","title":"How to solve error: java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>this is my code</p>\n\n<pre><code>private String dbURL;\nprivate String dbUsername = \"root\";\nprivate String dbPassword = \"root1234\";\nprivate String URL = \"localhost\";\nprivate String port = \"3306\";\nprivate String dbName = \"university\";\nprivate Connection con;\n\nprivate void connectToDataBase() throws ClassNotFoundException, SQLException {\n\n    dbURL = \"jdbc:mysql://\" + URL + \":\" + port + \"/\" + dbName + \"?verifyServerCertificate=false\";\n    Properties p = new Properties();\n    p.setProperty(\"user\", dbUsername);\n    p.setProperty(\"password\", dbPassword);\n    p.setProperty(\"useSSL\", \"false\");\n    p.setProperty(\"autoReconnect\", \"true\");\n    Class.forName(\"com.mysql.cj.jdbc.Driver\");\n\n    con = DriverManager.getConnection(dbURL, p);\n</code></pre>\n\n<p>and i encountered this problem\njava.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n<a href=\"https://i.stack.imgur.com/huC2N.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","list","generics","java-stream","unbounded-wildcard"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1652397390,"post_id":72222959,"comment_id":127603025,"body_markdown":"Why do you expect the result of `filterGenericList` to be a `List&lt;SomeObject&gt;`?  Your method doesn&#39;t say that, it says it returns a list of _anything_.","body":"Why do you expect the result of <code>filterGenericList</code> to be a <code>List&lt;SomeObject&gt;</code>?  Your method doesn&#39;t say that, it says it returns a list of <i>anything</i>."},{"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"score":0,"creation_date":1652397533,"post_id":72222959,"comment_id":127603046,"body_markdown":"I know that. I&#39;m trying to get a way to return a list of my object, using the interface to not create a lot of methods (one per class that implements the interface)","body":"I know that. I&#39;m trying to get a way to return a list of my object, using the interface to not create a lot of methods (one per class that implements the interface)"}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652397653,"creation_date":1652397653,"answer_id":72222993,"question_id":72222959,"body_markdown":"\r\nWhen you return `List&lt;?&gt;` that means the method returns a list of some unknown type. Java doesn&#39;t know that it&#39;s the same type of list as the input list. To signal that, create a generic type `T` and have both the input and output lists be `List&lt;T&gt;`.\r\n\r\n```\r\nprivate &lt;T extends SomeInterface&gt; List&lt;T&gt; filterGenericList(List&lt;T&gt; objects, String flag) {\r\n    return objects.stream()\r\n        .filter(it -&gt; it.getFlag().equals(flag))\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"Unable to assign the result returned by the Method that receives a generic List and returns a List&lt;?&gt;","body":"<p>When you return <code>List&lt;?&gt;</code> that means the method returns a list of some unknown type. Java doesn't know that it's the same type of list as the input list. To signal that, create a generic type <code>T</code> and have both the input and output lists be <code>List&lt;T&gt;</code>.</p>\n<pre><code>private &lt;T extends SomeInterface&gt; List&lt;T&gt; filterGenericList(List&lt;T&gt; objects, String flag) {\n    return objects.stream()\n        .filter(it -&gt; it.getFlag().equals(flag))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652399765,"creation_date":1652398028,"answer_id":72223027,"question_id":72222959,"body_markdown":"[Unbounded wildcard](https://docs.oracle.com/javase/tutorial/java/generics/unboundedWildcards.html) `&lt;?&gt;` also called the *unknown type* is a way to tell the compiler that a generic type can&#39;t be predicted, and therefore the compiler will disallow to assign a list of *unknown type* to a list of `SomeObject` because it&#39;s impossible to ensure that this assignment is safe.\r\n\r\nIf you have a list of objects that belong to different classes implementing `SomeInterface` in order to distinguish between them, you can explicitly pass an instance of target class `Class&lt;T&gt;` into a method as an argument.\r\n\r\nSeems like you&#39;re trying to reinvent the same mechanism by utilizing method `getFlag()`. It doesn&#39;t look reliable because nothing can stop you from making a typo or accidentally implementing `getFlag()` in two different classes in such a way that it&#39;ll return the same value.\r\n\r\n    private &lt;T extends SomeInterface&gt; List&lt;T&gt; filterGenericList(List&lt;? extends SomeInterface&gt; objects, \r\n                                                                Class&lt;T&gt; targetClass) {\r\n        return objects.stream()\r\n            .filter(it -&gt; targetClass.isAssignableFrom(it.getClass()))\r\n            .map(targetClass::cast)\r\n            .collect(Collectors.toList());\r\n    }","title":"Unable to assign the result returned by the Method that receives a generic List and returns a List&lt;?&gt;","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/unboundedWildcards.html\" rel=\"nofollow noreferrer\">Unbounded wildcard</a> <code>&lt;?&gt;</code> also called the <em>unknown type</em> is a way to tell the compiler that a generic type can't be predicted, and therefore the compiler will disallow to assign a list of <em>unknown type</em> to a list of <code>SomeObject</code> because it's impossible to ensure that this assignment is safe.</p>\n<p>If you have a list of objects that belong to different classes implementing <code>SomeInterface</code> in order to distinguish between them, you can explicitly pass an instance of target class <code>Class&lt;T&gt;</code> into a method as an argument.</p>\n<p>Seems like you're trying to reinvent the same mechanism by utilizing method <code>getFlag()</code>. It doesn't look reliable because nothing can stop you from making a typo or accidentally implementing <code>getFlag()</code> in two different classes in such a way that it'll return the same value.</p>\n<pre><code>private &lt;T extends SomeInterface&gt; List&lt;T&gt; filterGenericList(List&lt;? extends SomeInterface&gt; objects, \n                                                            Class&lt;T&gt; targetClass) {\n    return objects.stream()\n        .filter(it -&gt; targetClass.isAssignableFrom(it.getClass()))\n        .map(targetClass::cast)\n        .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20418426,"reputation":56,"user_id":14980014,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652398060,"creation_date":1652398060,"answer_id":72223031,"question_id":72222959,"body_markdown":"first of all List&lt;?&gt; doesn&#39;t have any type information. You expect a List of SomeObject but your method just returns a List of any type.\r\n\r\nTo achieve your goal you should define your filter method as\r\n\r\n    private static  &lt;T extends SomeInterface&gt; List&lt;T&gt; filterGenericList(List&lt;T&gt; objects, String flag)\r\nIn this way you guarantee that the returned list is of the same type like the input list","title":"Unable to assign the result returned by the Method that receives a generic List and returns a List&lt;?&gt;","body":"<p>first of all List&lt;?&gt; doesn't have any type information. You expect a List of SomeObject but your method just returns a List of any type.</p>\n<p>To achieve your goal you should define your filter method as</p>\n<pre><code>private static  &lt;T extends SomeInterface&gt; List&lt;T&gt; filterGenericList(List&lt;T&gt; objects, String flag)\n</code></pre>\n<p>In this way you guarantee that the returned list is of the same type like the input list</p>\n"}],"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72222993,"answer_count":3,"score":1,"last_activity_date":1652433649,"creation_date":1652397263,"question_id":72222959,"body_markdown":"I&#39;m trying to filter a List of objects that implements an interface. And I&#39;m trying to create a generic method for all the classes.\r\n\r\nSomething like:\r\n\r\n    \t\r\n    interface SomeInterface {\r\n    \tString getFlag();\r\n    }\r\n    \r\n    \r\n    class SomeObject implements SomeInterface {\r\n    \tpublic String getFlag() {\r\n    \t\treturn &quot;X&quot;;\r\n    \t}\r\n    }\r\n    \r\n    \r\n    List&lt;SomeObject&gt; someObjectList = new ArrayList&lt;&gt;();\r\n    \r\n    // Compilation error here\r\n    List&lt;SomeObject&gt; filterList = filterGenericList(someObjectList, &quot;X&quot;);\r\n    \r\n    \r\n    private List&lt;?&gt; filterGenericList(List&lt;? extends SomeInterface&gt; objects, String flag) {\r\n    \t\treturn objects.stream()\r\n    \t\t\t\t.filter(it -&gt; it.getFlag().equals(flag))\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    }\r\n\r\nHow do I run away from the compilation Error?\r\n\r\n\t Incompatible types. \r\n\t Found: &#39;java.util.List&lt;capture&lt;?&gt;&gt;&#39;, \r\n\t Required: &#39;java.util.List&lt;SomeObject&gt;&#39;","title":"Unable to assign the result returned by the Method that receives a generic List and returns a List&lt;?&gt;","body":"<p>I'm trying to filter a List of objects that implements an interface. And I'm trying to create a generic method for all the classes.</p>\n<p>Something like:</p>\n<pre><code>interface SomeInterface {\n    String getFlag();\n}\n\n\nclass SomeObject implements SomeInterface {\n    public String getFlag() {\n        return &quot;X&quot;;\n    }\n}\n\n\nList&lt;SomeObject&gt; someObjectList = new ArrayList&lt;&gt;();\n\n// Compilation error here\nList&lt;SomeObject&gt; filterList = filterGenericList(someObjectList, &quot;X&quot;);\n\n\nprivate List&lt;?&gt; filterGenericList(List&lt;? extends SomeInterface&gt; objects, String flag) {\n        return objects.stream()\n                .filter(it -&gt; it.getFlag().equals(flag))\n                .collect(Collectors.toList());\n}\n</code></pre>\n<p>How do I run away from the compilation Error?</p>\n<pre><code> Incompatible types. \n Found: 'java.util.List&lt;capture&lt;?&gt;&gt;', \n Required: 'java.util.List&lt;SomeObject&gt;'\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1532069561,"post_id":51436664,"comment_id":89843224,"body_markdown":"Post a complete minimal example reproducing the problem instead of vaguely describing your code.","body":"Post a complete minimal example reproducing the problem instead of vaguely describing your code."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1532070150,"post_id":51436664,"comment_id":89843510,"body_markdown":"You haven&#39;t posted the definition of class B.","body":"You haven&#39;t posted the definition of class B."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1532070884,"post_id":51436664,"comment_id":89843908,"body_markdown":"Oh, sorry, @JBNizet.  I know.  It&#39;s been a long day :-)  I, of course, was thinking of the (arguably superior) static doThrow method.","body":"Oh, sorry, @JBNizet.  I know.  It&#39;s been a long day :-)  I, of course, was thinking of the (arguably superior) static doThrow method."},{"owner":{"account_id":55167,"reputation":1294,"user_id":2632690,"accept_rate":27,"display_name":"JVXR"},"score":0,"creation_date":1532071194,"post_id":51436664,"comment_id":89844081,"body_markdown":"Wouldn&#39;t the execution of statements in the normal flow stop the moment you throw the execution ?","body":"Wouldn&#39;t the execution of statements in the normal flow stop the moment you throw the execution ?"}],"answers":[{"tags":[],"owner":{"account_id":10479654,"reputation":94,"user_id":8852490,"display_name":"Deadpool"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1532079394,"creation_date":1532070203,"answer_id":51436872,"question_id":51436664,"body_markdown":"The problem is: your mocked object `b` is not getting injected into object `a`. For injecting that mocked object `b` into `a` in that test class, you need to annotate your test class with either of them `@RunWith(MockitoJUnitRunner.class)` or `Mockito.initMocks(this)`.","title":"Why Mockito.when(...).thenThrow(...) throw directly an error","body":"<p>The problem is: your mocked object <code>b</code> is not getting injected into object <code>a</code>. For injecting that mocked object <code>b</code> into <code>a</code> in that test class, you need to annotate your test class with either of them <code>@RunWith(MockitoJUnitRunner.class)</code> or <code>Mockito.initMocks(this)</code>.</p>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532075729,"creation_date":1532075729,"answer_id":51438404,"question_id":51436664,"body_markdown":"The method `B#doSomething()` cannot throw an IOException because it is not part of its signature. That is the reason why Mockito does not allow you to do `thenThrow(IOException.class)`.\r\n\r\nYou can see this if you look at the stacktrace of the failing test:\r\n\r\n    java.lang.Exception: Unexpected exception, expected&lt;java.io.IOException&gt; but was&lt;org.mockito.exceptions.base.MockitoException&gt;\r\n    \r\n    \tat org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:28)\r\n    \tat org.mockito.internal.junit.JUnitRule$1.evaluateSafely(JUnitRule.java:52)\r\n    \tat org.mockito.internal.junit.JUnitRule$1.evaluate(JUnitRule.java:43)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n        ....\r\n    Caused by: org.mockito.exceptions.base.MockitoException: \r\n    Checked exception is invalid for this method!","title":"Why Mockito.when(...).thenThrow(...) throw directly an error","body":"<p>The method <code>B#doSomething()</code> cannot throw an IOException because it is not part of its signature. That is the reason why Mockito does not allow you to do <code>thenThrow(IOException.class)</code>.</p>\n\n<p>You can see this if you look at the stacktrace of the failing test:</p>\n\n<pre><code>java.lang.Exception: Unexpected exception, expected&lt;java.io.IOException&gt; but was&lt;org.mockito.exceptions.base.MockitoException&gt;\n\n    at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:28)\n    at org.mockito.internal.junit.JUnitRule$1.evaluateSafely(JUnitRule.java:52)\n    at org.mockito.internal.junit.JUnitRule$1.evaluate(JUnitRule.java:43)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    ....\nCaused by: org.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467283,"reputation":4015,"user_id":872536,"accept_rate":77,"display_name":"Dimitris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652433177,"creation_date":1652430936,"answer_id":72226664,"question_id":51436664,"body_markdown":"Correct solution is to use:\r\n\r\n`doThrow(IOException.class).when(b).doSomething();`\r\n\r\ninstead of: \r\n\r\n`when().thenThrow`\r\n\r\n(Checked this with Mockito `1.10.19` and it works, but with `2.19.0` it doesn&#39;t work)","title":"Why Mockito.when(...).thenThrow(...) throw directly an error","body":"<p>Correct solution is to use:</p>\n<p><code>doThrow(IOException.class).when(b).doSomething();</code></p>\n<p>instead of:</p>\n<p><code>when().thenThrow</code></p>\n<p>(Checked this with Mockito <code>1.10.19</code> and it works, but with <code>2.19.0</code> it doesn't work)</p>\n"}],"owner":{"account_id":6311758,"reputation":155,"user_id":4903090,"display_name":"Betcha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1652433177,"creation_date":1532069451,"question_id":51436664,"body_markdown":"I have the following code :\r\n\r\n    @Mock\r\n    private B b;\r\n\r\n    @InjectMocks\r\n    private A a;\r\n\r\n    @Test(expected = IOException.class)\r\n    public void test() {\r\n        when(b.doSomething())\r\n            .thenThrow(IOException.class);\r\n\r\n        a.doSomethingWithB();\r\n    }\r\n\r\n    public class A {\r\n        private B b;\r\n\r\n        @Autowired\r\n        public a(B b) {\r\n            this.b = b\r\n        }\r\n\r\n        public boolean doSomethingWithB() {\r\n            b.doSomething();\r\n        }\r\n    }\r\n\r\nActually, this test not working correctly, when I debug it, the `thenThrow` line return the `IOException`and by the fact, it never go on `a.doSomethingWithB()`.\r\n\r\nMy Mockito version is 2.19.1.\r\n\r\nThanks for your answers.\r\n","title":"Why Mockito.when(...).thenThrow(...) throw directly an error","body":"<p>I have the following code :</p>\n\n<pre><code>@Mock\nprivate B b;\n\n@InjectMocks\nprivate A a;\n\n@Test(expected = IOException.class)\npublic void test() {\n    when(b.doSomething())\n        .thenThrow(IOException.class);\n\n    a.doSomethingWithB();\n}\n\npublic class A {\n    private B b;\n\n    @Autowired\n    public a(B b) {\n        this.b = b\n    }\n\n    public boolean doSomethingWithB() {\n        b.doSomething();\n    }\n}\n</code></pre>\n\n<p>Actually, this test not working correctly, when I debug it, the <code>thenThrow</code> line return the <code>IOException</code>and by the fact, it never go on <code>a.doSomethingWithB()</code>.</p>\n\n<p>My Mockito version is 2.19.1.</p>\n\n<p>Thanks for your answers.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1519759959,"post_id":20159220,"comment_id":85038013,"body_markdown":"I had a similar problem injecting twice the dependency in a Service by the constructor (AllArgsConstructor by lombok) and field.","body":"I had a similar problem injecting twice the dependency in a Service by the constructor (AllArgsConstructor by lombok) and field."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1385190537,"creation_date":1385187204,"answer_id":20159272,"question_id":20159220,"body_markdown":"Both your method and field are annotated with `@Autowired`. As such, Spring will try to inject both. On one of the runs, it will try to inject\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;nasigoreng&quot;)\r\n    private Food food;\r\n\r\nwhich will work because the injection target is qualified.\r\n\r\nThe method however\r\n\r\n\t@Autowired\r\n\tpublic void setFood(Food food) {\r\n\t\tthis.food = food;\r\n\t}\r\n\r\ndoes not qualify the injection parameter so Spring doesn&#39;t know which bean to inject.\r\n\r\nChange the above to\r\n\r\n\t@Autowired\r\n\tpublic void setFood(@Qualifier(&quot;nasigoreng&quot;) Food food) {\r\n\t\tthis.food = food;\r\n\t}\r\n\r\nBut you should decide one or the other, field or setter injection, otherwise it is redundant and may cause errors.","title":"@Qualifier Annotation in Spring is not working","body":"<p>Both your method and field are annotated with <code>@Autowired</code>. As such, Spring will try to inject both. On one of the runs, it will try to inject</p>\n\n<pre><code>@Autowired\n@Qualifier(\"nasigoreng\")\nprivate Food food;\n</code></pre>\n\n<p>which will work because the injection target is qualified.</p>\n\n<p>The method however</p>\n\n<pre><code>@Autowired\npublic void setFood(Food food) {\n    this.food = food;\n}\n</code></pre>\n\n<p>does not qualify the injection parameter so Spring doesn't know which bean to inject.</p>\n\n<p>Change the above to</p>\n\n<pre><code>@Autowired\npublic void setFood(@Qualifier(\"nasigoreng\") Food food) {\n    this.food = food;\n}\n</code></pre>\n\n<p>But you should decide one or the other, field or setter injection, otherwise it is redundant and may cause errors.</p>\n"},{"tags":[],"owner":{"account_id":3106191,"reputation":1678,"user_id":2628911,"display_name":"Sandhu Santhakumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1385188750,"creation_date":1385188750,"answer_id":20159443,"question_id":20159220,"body_markdown":"Try only removing `@Autowired` from `setFood()` in `PecintaKuliner` \r\n\r\nlike\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;nasigoreng&quot;)\r\n    private Food food;\r\n\r\n    public void setFood(Food food) {\r\n        this.food = food;\r\n    }","title":"@Qualifier Annotation in Spring is not working","body":"<p>Try only removing <code>@Autowired</code> from <code>setFood()</code> in <code>PecintaKuliner</code> </p>\n\n<p>like</p>\n\n<pre><code>@Autowired\n@Qualifier(\"nasigoreng\")\nprivate Food food;\n\npublic void setFood(Food food) {\n    this.food = food;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7668912,"reputation":51,"user_id":5811832,"display_name":"Nawanshu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453225236,"creation_date":1453225236,"answer_id":34883484,"question_id":20159220,"body_markdown":"I tried with Spring 4.2.4. Problem resolved just by adding\r\n`&lt;context:annotation-config /&gt;` in configuration file.","title":"@Qualifier Annotation in Spring is not working","body":"<p>I tried with Spring 4.2.4. Problem resolved just by adding\n<code>&lt;context:annotation-config /&gt;</code> in configuration file.</p>\n"},{"tags":[],"owner":{"account_id":13881634,"reputation":43,"user_id":10021864,"display_name":"Sachitha Ilayperuma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589992929,"creation_date":1589992929,"answer_id":61918384,"question_id":20159220,"body_markdown":"Try removing you constructor from the NasiGoreng class. It worked for me.","title":"@Qualifier Annotation in Spring is not working","body":"<p>Try removing you constructor from the NasiGoreng class. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":24367878,"reputation":31,"user_id":18301333,"display_name":"Prateek Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652433097,"creation_date":1652433097,"answer_id":72227115,"question_id":20159220,"body_markdown":"For others facing issue in Spring 5 -- Use xmlns based configuration..\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n        &lt;context:annotation-config/&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n","title":"@Qualifier Annotation in Spring is not working","body":"<p>For others facing issue in Spring 5 -- Use xmlns based configuration..</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;\nhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n    &lt;context:annotation-config/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"}],"owner":{"account_id":1598481,"reputation":359,"user_id":1480045,"accept_rate":58,"display_name":"Dani Petrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26173,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":20159443,"answer_count":5,"score":7,"last_activity_date":1652433097,"creation_date":1385186835,"question_id":20159220,"body_markdown":"I have just learnt Spring Framework and have been using Spring 2.5 for this learning. I have created three beans with these classes\r\n\r\nFood.java\r\n\r\n    package com.spring.danipetrick;\r\n    \r\n    public interface Food {\r\n    \tvoid ingredients(); \r\n    }\r\n\r\nNasiGoreng.java\r\n\r\n    package com.spring.danipetrick;\r\n    \r\n    public class NasiGoreng implements Food {\r\n    \t\r\n    \tpublic NasiGoreng() {\r\n    \t\r\n    \t}\r\n    \t\r\n    \tpublic void ingredients() {\r\n    \t\tSystem.out.println(&quot;Rice, Coconut oil, Egg, Crackers&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Nasi Goreng&quot;;\r\n    \t}\r\n    }\r\n\r\nRendang.java\r\n\r\n    package com.spring.danipetrick;\r\n    \r\n    public class Rendang implements Food {\r\n    \tpublic void ingredients() {\r\n    \t\tSystem.out.println(&quot;Beef, Coconut milk, spices&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Rendang&quot;;\r\n    \t}\r\n    }\r\n\r\nPecintaKuliner.java\r\n\r\n    package com.spring.danipetrick;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    \r\n    public class PecintaKuliner {\r\n    \t\r\n    \t@Autowired\r\n    \t@Qualifier(&quot;nasigoreng&quot;)\r\n    \tprivate Food food;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic void setFood(Food food) {\r\n    \t\tthis.food = food;\r\n    \t}\r\n    \t\r\n    \tpublic Food getFood() {\r\n    \t\treturn this.food;\r\n    \t}\r\n    \t\r\n    \tpublic void sayMaknyus() {\r\n    \t\tSystem.out.println(food.toString() + &quot; memang maknyus...&quot;);\r\n    \t}\r\n    }\r\n \r\nXml configuration, qualifier-test.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n     xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n         http://www.springframework.org/schema/beans/spring-beans.xsd\r\n         http://www.springframework.org/schema/context \r\n         http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n      &lt;context:annotation-config /&gt;\r\n    \r\n      &lt;bean id=&quot;bondan&quot; class=&quot;com.spring.danipetrick.PecintaKuliner&quot;&gt;\r\n      &lt;/bean&gt;\r\n      \r\n      &lt;bean id=&quot;rendang&quot; class=&quot;com.spring.danipetrick.Rendang&quot;/&gt;\r\n     \r\n      &lt;bean id=&quot;nasigoreng&quot; class=&quot;com.spring.danipetrick.NasiGoreng&quot; /&gt;\r\n      \r\n    &lt;/beans&gt;\r\n\r\nFinally, class with main method is QualifierTestMain.java:\r\n\r\n    package com.spring.danipetrick;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class QualifierTestMain {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;/qualifier-test.xml&quot;); \r\n    \t\t\r\n    \t\tPencintaKuliner bondan = (PencintaKuliner)context.getBean(&quot;bondan&quot;);\r\n    \t\tbondan.sayMaknyus();\r\n    \t}\r\n    }\r\n\r\nWhen I run this project, I have an error like this\r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; unique bean of type [com.spring.danipetrick.Food] is defined: expected\r\n&gt; single matching bean but found 2: [rendang, nasigoreng]\r\n\r\nWhy @Qualifier annotation is not working in my case?","title":"@Qualifier Annotation in Spring is not working","body":"<p>I have just learnt Spring Framework and have been using Spring 2.5 for this learning. I have created three beans with these classes</p>\n\n<p>Food.java</p>\n\n<pre><code>package com.spring.danipetrick;\n\npublic interface Food {\n    void ingredients(); \n}\n</code></pre>\n\n<p>NasiGoreng.java</p>\n\n<pre><code>package com.spring.danipetrick;\n\npublic class NasiGoreng implements Food {\n\n    public NasiGoreng() {\n\n    }\n\n    public void ingredients() {\n        System.out.println(\"Rice, Coconut oil, Egg, Crackers\");\n    }\n\n    @Override\n    public String toString() {\n        return \"Nasi Goreng\";\n    }\n}\n</code></pre>\n\n<p>Rendang.java</p>\n\n<pre><code>package com.spring.danipetrick;\n\npublic class Rendang implements Food {\n    public void ingredients() {\n        System.out.println(\"Beef, Coconut milk, spices\");\n    }\n\n    @Override\n    public String toString() {\n        return \"Rendang\";\n    }\n}\n</code></pre>\n\n<p>PecintaKuliner.java</p>\n\n<pre><code>package com.spring.danipetrick;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\n\npublic class PecintaKuliner {\n\n    @Autowired\n    @Qualifier(\"nasigoreng\")\n    private Food food;\n\n    @Autowired\n    public void setFood(Food food) {\n        this.food = food;\n    }\n\n    public Food getFood() {\n        return this.food;\n    }\n\n    public void sayMaknyus() {\n        System.out.println(food.toString() + \" memang maknyus...\");\n    }\n}\n</code></pre>\n\n<p>Xml configuration, qualifier-test.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xmlns:context=\"http://www.springframework.org/schema/context\"\n xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n     http://www.springframework.org/schema/beans/spring-beans.xsd\n     http://www.springframework.org/schema/context \n     http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n  &lt;context:annotation-config /&gt;\n\n  &lt;bean id=\"bondan\" class=\"com.spring.danipetrick.PecintaKuliner\"&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=\"rendang\" class=\"com.spring.danipetrick.Rendang\"/&gt;\n\n  &lt;bean id=\"nasigoreng\" class=\"com.spring.danipetrick.NasiGoreng\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Finally, class with main method is QualifierTestMain.java:</p>\n\n<pre><code>package com.spring.danipetrick;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class QualifierTestMain {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"/qualifier-test.xml\"); \n\n        PencintaKuliner bondan = (PencintaKuliner)context.getBean(\"bondan\");\n        bondan.sayMaknyus();\n    }\n}\n</code></pre>\n\n<p>When I run this project, I have an error like this</p>\n\n<blockquote>\n  <p>Caused by:\n  org.springframework.beans.factory.NoSuchBeanDefinitionException: No\n  unique bean of type [com.spring.danipetrick.Food] is defined: expected\n  single matching bean but found 2: [rendang, nasigoreng]</p>\n</blockquote>\n\n<p>Why @Qualifier annotation is not working in my case?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1652429482,"post_id":72226330,"comment_id":127608768,"body_markdown":"You&#39;re only creating one list.","body":"You&#39;re only creating one list."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652433086,"creation_date":1652430624,"answer_id":72226600,"question_id":72226330,"body_markdown":"Under `iPsForDays()` method inside `for(Map.Entry&lt;String, String&gt; entry : allIps.entrySet()){` you are reusing same reference of `ipsForDay` for inserting it into map. \r\n\r\nBased on your requirement &amp; hashmap declaration, you should create new list if its new key-value pair. For existing key , you have to retrive existing list , add new value into list &amp; then put it back:\r\n\r\n\r\n\r\n    for(Map.Entry&lt;String, String&gt; entry : allIps.entrySet()){\r\n                String key = entry.getKey().substring(4,7)+&quot;-&quot;+entry.getKey().substring(8,10);\r\n                String value = entry.getValue();\r\n                if(visOnDay.containsKey(key)){\r\n                        System.out.println(&quot;+++++++++++++&quot;);\r\n                        System.out.println(&quot;Current Values&quot;+ipsForDay);\r\n                        System.out.println(&quot;Current key: &quot;+key);\r\n                        System.out.println(&quot;+++++++++++++&quot;);\r\n                        ArrayList&lt;String&gt; existingList=visOnDay.get(key);\r\n                        existingList.add(value);\r\n                        visOnDay.put(key, existingList);\r\n                }\r\n                else{\r\n    \t\t\t        ArrayList&lt;String&gt; ipsForDay = new ArrayList&lt;String&gt;();\r\n                        System.out.println(&quot;____________&quot;);\r\n                        System.out.println(&quot;Current key: &quot;+key);\r\n                        System.out.println(&quot;Currrent value: &quot;+value);\r\n                        System.out.println(&quot;____________&quot;);\r\n                        ipsForDay.add(value);\r\n                        visOnDay.put(key, ipsForDay);\r\n                        System.out.println(&quot;VisOnDay initialisation: &quot;+ visOnDay);\r\n                }\r\n\r\nAlso, remove `ipsForDay ` Arraylist declaration which you have done at beginning of method `iPsForDays` , that is not required.","title":"Hashmap values always being overwritten to last looped value","body":"<p>Under <code>iPsForDays()</code> method inside <code>for(Map.Entry&lt;String, String&gt; entry : allIps.entrySet()){</code> you are reusing same reference of <code>ipsForDay</code> for inserting it into map.</p>\n<p>Based on your requirement &amp; hashmap declaration, you should create new list if its new key-value pair. For existing key , you have to retrive existing list , add new value into list &amp; then put it back:</p>\n<pre><code>for(Map.Entry&lt;String, String&gt; entry : allIps.entrySet()){\n            String key = entry.getKey().substring(4,7)+&quot;-&quot;+entry.getKey().substring(8,10);\n            String value = entry.getValue();\n            if(visOnDay.containsKey(key)){\n                    System.out.println(&quot;+++++++++++++&quot;);\n                    System.out.println(&quot;Current Values&quot;+ipsForDay);\n                    System.out.println(&quot;Current key: &quot;+key);\n                    System.out.println(&quot;+++++++++++++&quot;);\n                    ArrayList&lt;String&gt; existingList=visOnDay.get(key);\n                    existingList.add(value);\n                    visOnDay.put(key, existingList);\n            }\n            else{\n                    ArrayList&lt;String&gt; ipsForDay = new ArrayList&lt;String&gt;();\n                    System.out.println(&quot;____________&quot;);\n                    System.out.println(&quot;Current key: &quot;+key);\n                    System.out.println(&quot;Currrent value: &quot;+value);\n                    System.out.println(&quot;____________&quot;);\n                    ipsForDay.add(value);\n                    visOnDay.put(key, ipsForDay);\n                    System.out.println(&quot;VisOnDay initialisation: &quot;+ visOnDay);\n            }\n</code></pre>\n<p>Also, remove <code>ipsForDay </code> Arraylist declaration which you have done at beginning of method <code>iPsForDays</code> , that is not required.</p>\n"}],"owner":{"account_id":24362166,"reputation":29,"user_id":18296355,"display_name":"NotReallyOliverTwist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72226600,"answer_count":1,"score":1,"last_activity_date":1652433086,"creation_date":1652429308,"question_id":72226330,"body_markdown":"I cannot figure out why my HashMap keeps over writing all of my key/value pairs with the last ip address the method reads. Basically we are meant to store all of the ip addresses of website visitors on a particular day in an arraylist and then append this to a hashmap with the date being the key.\r\n\r\nFor some reason it keeps overwriting my values with the last value it reads. \r\n\r\nCode:\r\n\r\n        \r\n\r\n    public HashMap&lt;String, String&gt; visitorList(){\r\n\r\n        HashMap&lt;String, String&gt; allIps = new HashMap&lt;String, String&gt;();\r\n        for(LogEntry le : records)\r\n        {\r\n                String ipAddr = le.getIpAddress();\r\n                String date = le.getAccessTime().toString();\r\n                allIps.put(date, ipAddr);\r\n        }\r\n        System.out.println(&quot;All visitors: &quot;+allIps);\r\n        return allIps;\r\n    }\r\n\r\n    \r\n\r\n    public HashMap&lt;String, ArrayList&lt;String&gt;&gt; iPsForDays(){\r\n        ArrayList&lt;String&gt; ipsForDay = new ArrayList&lt;String&gt;();\r\n        HashMap&lt;String, ArrayList&lt;String&gt;&gt; visOnDay = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n        HashMap&lt;String, String&gt; allIps = visitorList();\r\n\r\n        for(Map.Entry&lt;String, String&gt; entry : allIps.entrySet()){\r\n                String key = entry.getKey().substring(4,7)+&quot;-&quot;+entry.getKey().substring(8,10);\r\n                String value = entry.getValue();\r\n    //          visOnDay.put(key, ipsForDay);\r\n                ipsForDay.clear();\r\n                if(visOnDay.containsKey(key)){\r\n                        ipsForDay = visOnDay.get(key);\r\n                        System.out.println(&quot;VisOnDay array Value:&quot; +ipsForDay);\r\n                        ipsForDay.add(value);\r\n                        System.out.println(&quot;+++++++++++++&quot;);\r\n                        System.out.println(&quot;Current Values&quot;+ipsForDay);\r\n                        System.out.println(&quot;Current key: &quot;+key);\r\n                        System.out.println(&quot;+++++++++++++&quot;);\r\n                        visOnDay.put(key, ipsForDay);\r\n                }\r\n                else{\r\n                        System.out.println(&quot;____________&quot;);\r\n                        System.out.println(&quot;Current key: &quot;+key);\r\n                        System.out.println(&quot;Currrent value: &quot;+value);\r\n                        System.out.println(&quot;____________&quot;);\r\n                        ipsForDay.add(value);\r\n                        visOnDay.put(key, ipsForDay);\r\n                        System.out.println(&quot;VisOnDay initialisation: &quot;+ visOnDay);\r\n                }\r\n    //          visOnDay.put(key, ipsForDay);\r\n        }\r\n        System.out.println(&quot;Visitors on relevant days: &quot;+visOnDay);\r\n        return visOnDay;\r\n    }\r\n\r\n\r\nThe test file we are meant to use is as follows:\r\n\r\n    84.189.158.117 - - [21/Sep/2015:07:59:14 -0400] &quot;GET /favicon.ico HTTP/1.0&quot; 404 621\r\n    84.189.158.117 - - [30/Sep/2015:07:59:14 -0400] &quot;GET /favicon.ico HTTP/1.0&quot; 404 622\r\n    61.15.121.171 - - [21/Sep/2015:07:59:21 -0400] &quot;GET /software.html HTTP/1.1&quot; 200 1019\r\n    84.133.195.161 - - [14/Sep/2015:07:59:23 -0400] &quot;GET /jflaptmp/ HTTP/1.1&quot; 200 2708\r\n    84.133.195.161 - - [21/Sep/2015:07:59:23 -0400] &quot;GET /images/New.gif HTTP/1.1&quot; 200 390\r\n    84.133.195.161 - - [21/Sep/2015:07:59:30 -0400] &quot;GET /jflaptmp/may15-2011/withoutSource/JFLAP.jar HTTP/1.1&quot; 200 9781243\r\n    61.15.121.171 - - [30/Sep/2015:07:59:46 -0400] &quot;GET /history.html HTTP/1.1&quot; 200 1819\r\n    61.15.121.171 - - [30/Sep/2015:08:00:24 -0400] &quot;GET /framebody.html HTTP/1.1&quot; 200 3550\r\n    177.4.40.87 - - [30/Sep/2015:08:00:32 -0400] &quot;GET / HTTP/1.1&quot; 200 859\r\n    177.4.40.87 - - [30/Sep/2015:08:00:32 -0400] &quot;GET /frameindex.html HTTP/1.1&quot; 200 1127\r\n\r\n\r\nAdditionally the following are custom methods that are including in a file we were given with the homework assignment to assist with parsing files that contain the above data format.\r\n\r\n    import  java.util.*;\r\n    public class LogEntry {\r\n         private String ipAddress;\r\n         private Date accessTime;\r\n         private String request;\r\n         private int statusCode;\r\n         private int bytesReturned;\r\n    \r\n         public LogEntry(String ip, Date time, String req, int status, int bytes) {\r\n           ipAddress = ip;\r\n           accessTime = time;\r\n           request = req;\r\n           statusCode = status;\r\n           bytesReturned = bytes;\r\n    \r\n         }\r\n    \r\n         public String getIpAddress() {\r\n             return ipAddress;\r\n         }\r\n         public Date getAccessTime() {\r\n             return accessTime;\r\n         }\r\n         public String getRequest() {\r\n             return request;\r\n         }\r\n         public int getStatusCode() {\r\n             return statusCode;\r\n         }\r\n         public int getBytesReturned() {\r\n             return bytesReturned;\r\n         }\r\n    \r\n         public String toString() {\r\n           return ipAddress + &quot; &quot; + accessTime + &quot; &quot; + request\r\n               + &quot; &quot; + statusCode + &quot; &quot; + bytesReturned;\r\n         }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    import java.text.*;\r\n    import java.util.*;\r\n    \r\n    public class WebLogParser {\r\n        private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MMM/yyyy:kk:mm:ss Z&quot;, Locale.US);\r\n        private static String munchTo(StringBuilder sb, String delim) {\r\n            int x = sb.indexOf(delim);\r\n            if (x == -1) {\r\n                x = sb.length();\r\n            }\r\n            String ans = sb.substring(0,x);\r\n            sb.delete(0, x + delim.length());\r\n            return ans;\r\n        }\r\n        public static LogEntry parseEntry(String line) {\r\n            //Assumes line is vald and in this format:\r\n            //110.76.104.12 - - [30/Sep/2015:07:47:11 -0400] &quot;GET //favicon.ico HTTP/1.1&quot; 200 3426\r\n            StringBuilder sb = new StringBuilder(line);\r\n            String ip = munchTo(sb, &quot; &quot;);\r\n            munchTo(sb, &quot; &quot;); //ignore -\r\n            munchTo(sb, &quot; [&quot;); //ignore -, and eat the leading [\r\n            String dateStr = munchTo(sb, &quot;] \\&quot;&quot;); //]-space is intentional: eat both\r\n            Date date = parseDate(dateStr);\r\n            String request = munchTo(sb, &quot;\\&quot; &quot;); // quote-space is intentional: eat both\r\n            String statusStr = munchTo(sb, &quot; &quot;);\r\n            int status = Integer.parseInt(statusStr);\r\n            String byteStr = munchTo(sb, &quot; &quot;);\r\n            int bytes = Integer.parseInt(byteStr);\r\n            return new LogEntry(ip, date, request, status, bytes);\r\n        }\r\n        public static Date parseDate(String dateStr) {\r\n            ParsePosition pp = new ParsePosition(0);\r\n            return  dateFormat.parse(dateStr, pp);\r\n        }\r\n    \r\n    }\r\n\r\nTo clarify the loop itself is not complete as I was trying to figure out why it was overwriting all of the key/values.\r\n","title":"Hashmap values always being overwritten to last looped value","body":"<p>I cannot figure out why my HashMap keeps over writing all of my key/value pairs with the last ip address the method reads. Basically we are meant to store all of the ip addresses of website visitors on a particular day in an arraylist and then append this to a hashmap with the date being the key.</p>\n<p>For some reason it keeps overwriting my values with the last value it reads.</p>\n<p>Code:</p>\n<pre><code>public HashMap&lt;String, String&gt; visitorList(){\n\n    HashMap&lt;String, String&gt; allIps = new HashMap&lt;String, String&gt;();\n    for(LogEntry le : records)\n    {\n            String ipAddr = le.getIpAddress();\n            String date = le.getAccessTime().toString();\n            allIps.put(date, ipAddr);\n    }\n    System.out.println(&quot;All visitors: &quot;+allIps);\n    return allIps;\n}\n\n\n\npublic HashMap&lt;String, ArrayList&lt;String&gt;&gt; iPsForDays(){\n    ArrayList&lt;String&gt; ipsForDay = new ArrayList&lt;String&gt;();\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; visOnDay = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    HashMap&lt;String, String&gt; allIps = visitorList();\n\n    for(Map.Entry&lt;String, String&gt; entry : allIps.entrySet()){\n            String key = entry.getKey().substring(4,7)+&quot;-&quot;+entry.getKey().substring(8,10);\n            String value = entry.getValue();\n//          visOnDay.put(key, ipsForDay);\n            ipsForDay.clear();\n            if(visOnDay.containsKey(key)){\n                    ipsForDay = visOnDay.get(key);\n                    System.out.println(&quot;VisOnDay array Value:&quot; +ipsForDay);\n                    ipsForDay.add(value);\n                    System.out.println(&quot;+++++++++++++&quot;);\n                    System.out.println(&quot;Current Values&quot;+ipsForDay);\n                    System.out.println(&quot;Current key: &quot;+key);\n                    System.out.println(&quot;+++++++++++++&quot;);\n                    visOnDay.put(key, ipsForDay);\n            }\n            else{\n                    System.out.println(&quot;____________&quot;);\n                    System.out.println(&quot;Current key: &quot;+key);\n                    System.out.println(&quot;Currrent value: &quot;+value);\n                    System.out.println(&quot;____________&quot;);\n                    ipsForDay.add(value);\n                    visOnDay.put(key, ipsForDay);\n                    System.out.println(&quot;VisOnDay initialisation: &quot;+ visOnDay);\n            }\n//          visOnDay.put(key, ipsForDay);\n    }\n    System.out.println(&quot;Visitors on relevant days: &quot;+visOnDay);\n    return visOnDay;\n}\n</code></pre>\n<p>The test file we are meant to use is as follows:</p>\n<pre><code>84.189.158.117 - - [21/Sep/2015:07:59:14 -0400] &quot;GET /favicon.ico HTTP/1.0&quot; 404 621\n84.189.158.117 - - [30/Sep/2015:07:59:14 -0400] &quot;GET /favicon.ico HTTP/1.0&quot; 404 622\n61.15.121.171 - - [21/Sep/2015:07:59:21 -0400] &quot;GET /software.html HTTP/1.1&quot; 200 1019\n84.133.195.161 - - [14/Sep/2015:07:59:23 -0400] &quot;GET /jflaptmp/ HTTP/1.1&quot; 200 2708\n84.133.195.161 - - [21/Sep/2015:07:59:23 -0400] &quot;GET /images/New.gif HTTP/1.1&quot; 200 390\n84.133.195.161 - - [21/Sep/2015:07:59:30 -0400] &quot;GET /jflaptmp/may15-2011/withoutSource/JFLAP.jar HTTP/1.1&quot; 200 9781243\n61.15.121.171 - - [30/Sep/2015:07:59:46 -0400] &quot;GET /history.html HTTP/1.1&quot; 200 1819\n61.15.121.171 - - [30/Sep/2015:08:00:24 -0400] &quot;GET /framebody.html HTTP/1.1&quot; 200 3550\n177.4.40.87 - - [30/Sep/2015:08:00:32 -0400] &quot;GET / HTTP/1.1&quot; 200 859\n177.4.40.87 - - [30/Sep/2015:08:00:32 -0400] &quot;GET /frameindex.html HTTP/1.1&quot; 200 1127\n</code></pre>\n<p>Additionally the following are custom methods that are including in a file we were given with the homework assignment to assist with parsing files that contain the above data format.</p>\n<pre><code>import  java.util.*;\npublic class LogEntry {\n     private String ipAddress;\n     private Date accessTime;\n     private String request;\n     private int statusCode;\n     private int bytesReturned;\n\n     public LogEntry(String ip, Date time, String req, int status, int bytes) {\n       ipAddress = ip;\n       accessTime = time;\n       request = req;\n       statusCode = status;\n       bytesReturned = bytes;\n\n     }\n\n     public String getIpAddress() {\n         return ipAddress;\n     }\n     public Date getAccessTime() {\n         return accessTime;\n     }\n     public String getRequest() {\n         return request;\n     }\n     public int getStatusCode() {\n         return statusCode;\n     }\n     public int getBytesReturned() {\n         return bytesReturned;\n     }\n\n     public String toString() {\n       return ipAddress + &quot; &quot; + accessTime + &quot; &quot; + request\n           + &quot; &quot; + statusCode + &quot; &quot; + bytesReturned;\n     }\n}\n</code></pre>\n\n<pre><code>import java.text.*;\nimport java.util.*;\n\npublic class WebLogParser {\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MMM/yyyy:kk:mm:ss Z&quot;, Locale.US);\n    private static String munchTo(StringBuilder sb, String delim) {\n        int x = sb.indexOf(delim);\n        if (x == -1) {\n            x = sb.length();\n        }\n        String ans = sb.substring(0,x);\n        sb.delete(0, x + delim.length());\n        return ans;\n    }\n    public static LogEntry parseEntry(String line) {\n        //Assumes line is vald and in this format:\n        //110.76.104.12 - - [30/Sep/2015:07:47:11 -0400] &quot;GET //favicon.ico HTTP/1.1&quot; 200 3426\n        StringBuilder sb = new StringBuilder(line);\n        String ip = munchTo(sb, &quot; &quot;);\n        munchTo(sb, &quot; &quot;); //ignore -\n        munchTo(sb, &quot; [&quot;); //ignore -, and eat the leading [\n        String dateStr = munchTo(sb, &quot;] \\&quot;&quot;); //]-space is intentional: eat both\n        Date date = parseDate(dateStr);\n        String request = munchTo(sb, &quot;\\&quot; &quot;); // quote-space is intentional: eat both\n        String statusStr = munchTo(sb, &quot; &quot;);\n        int status = Integer.parseInt(statusStr);\n        String byteStr = munchTo(sb, &quot; &quot;);\n        int bytes = Integer.parseInt(byteStr);\n        return new LogEntry(ip, date, request, status, bytes);\n    }\n    public static Date parseDate(String dateStr) {\n        ParsePosition pp = new ParsePosition(0);\n        return  dateFormat.parse(dateStr, pp);\n    }\n\n}\n</code></pre>\n<p>To clarify the loop itself is not complete as I was trying to figure out why it was overwriting all of the key/values.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":1,"creation_date":1652430899,"post_id":72226609,"comment_id":127609246,"body_markdown":"`@ConditionalOnBean(VaultPropertySource.class)` perhaps should do it for you.","body":"<code>@ConditionalOnBean(VaultPropertySource.class)</code> perhaps should do it for you."},{"owner":{"account_id":1832012,"reputation":497,"user_id":1663215,"accept_rate":75,"display_name":"Can Bayar"},"score":0,"creation_date":1652434680,"post_id":72226609,"comment_id":127610551,"body_markdown":"Thanks, I didn&#39;t know this feature.","body":"Thanks, I didn&#39;t know this feature."}],"answers":[{"tags":[],"owner":{"account_id":7493746,"reputation":151,"user_id":5694629,"display_name":"pat_b13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652432841,"creation_date":1652432841,"answer_id":72227072,"question_id":72226609,"body_markdown":"Separate the profiles not on the bean but on the configuration class:\r\n\r\n    @Configuration\r\n    @Profile(&quot;!local&quot;)\r\n    class VaultConfiguration {\r\n    \r\n        @Bean\r\n        public VaultPropertySource vaultPropertySource(ConfigurableApplicationContext context) {\r\n            // return real PropertySource\r\n        }\r\n    }\r\n    \r\n    @Configuration\r\n    @Profile(&quot;local&quot;)\r\n    class LocalVaultConfiguration {\r\n    \r\n        @Bean\r\n        public VaultPropertySource vaultPropertySource(ConfigurableApplicationContext context) {\r\n             // return local PropertySource\r\n        }\r\n    }\r\n\r\nThat probably helps.\r\n","title":"Spring @DependsOn For Different Profiles","body":"<p>Separate the profiles not on the bean but on the configuration class:</p>\n<pre><code>@Configuration\n@Profile(&quot;!local&quot;)\nclass VaultConfiguration {\n\n    @Bean\n    public VaultPropertySource vaultPropertySource(ConfigurableApplicationContext context) {\n        // return real PropertySource\n    }\n}\n\n@Configuration\n@Profile(&quot;local&quot;)\nclass LocalVaultConfiguration {\n\n    @Bean\n    public VaultPropertySource vaultPropertySource(ConfigurableApplicationContext context) {\n         // return local PropertySource\n    }\n}\n</code></pre>\n<p>That probably helps.</p>\n"}],"owner":{"account_id":1832012,"reputation":497,"user_id":1663215,"accept_rate":75,"display_name":"Can Bayar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72227072,"answer_count":1,"score":0,"last_activity_date":1652432841,"creation_date":1652430652,"question_id":72226609,"body_markdown":"I have two different beans for the same class with different configurations depending on the given profile. \r\n\r\n    @Bean\r\n    @Profile(&quot;!local&quot;)\r\n    public VaultPropertySource vaultPropertySource(ConfigurableApplicationContext context)\r\n\r\n    @Bean\r\n    @Profile(&quot;local&quot;)\r\n    public VaultPropertySource vaultPropertySourceLocal(ConfigurableApplicationContext context)\r\n\r\nI have another bean that depends on **VaultPropertySource** instance. \r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    @DependsOn({&quot;vaultPropertySource&quot;})\r\n    public class VaultPropertyReader {\r\n    \r\n    \tprivate final VaultPropertySource vaultPropertySource;\r\n\r\nThe problem is bean names are different and it only works on the first instance. How can I make it work on both profiles? Can I make it depend on the bean class instead of bean name? ","title":"Spring @DependsOn For Different Profiles","body":"<p>I have two different beans for the same class with different configurations depending on the given profile.</p>\n<pre><code>@Bean\n@Profile(&quot;!local&quot;)\npublic VaultPropertySource vaultPropertySource(ConfigurableApplicationContext context)\n\n@Bean\n@Profile(&quot;local&quot;)\npublic VaultPropertySource vaultPropertySourceLocal(ConfigurableApplicationContext context)\n</code></pre>\n<p>I have another bean that depends on <strong>VaultPropertySource</strong> instance.</p>\n<pre><code>@Component\n@RequiredArgsConstructor\n@DependsOn({&quot;vaultPropertySource&quot;})\npublic class VaultPropertyReader {\n\n    private final VaultPropertySource vaultPropertySource;\n</code></pre>\n<p>The problem is bean names are different and it only works on the first instance. How can I make it work on both profiles? Can I make it depend on the bean class instead of bean name?</p>\n"},{"tags":["java","android","notifications","notification-channel"],"comments":[{"owner":{"account_id":16113017,"reputation":730,"user_id":11630822,"display_name":"Kousalya"},"score":0,"creation_date":1585057537,"post_id":60831792,"comment_id":107627908,"body_markdown":"@VahidHoseini I want to achieve like WhatsApp incoming call with Answer and Decline actions...","body":"@VahidHoseini I want to achieve like WhatsApp incoming call with Answer and Decline actions..."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1585310792,"post_id":60831792,"comment_id":107720812,"body_markdown":"Please don&#39;t tag questions with the android-studio tag just because you use it: the Android Studio tag should **only** be used when you have questions about the IDE itself, and not any code you write (or want to write) in it. See [when is it appropriate to remove an IDE tag](https://meta.stackoverflow.com/a/315196/6296561), [How do I avoid misusing tags?](https://meta.stackoverflow.com/q/354427/6296561), and [the tagging guide](/help/tagging). Use [android] or other relevant tags instead.","body":"Please don&#39;t tag questions with the android-studio tag just because you use it: the Android Studio tag should <b>only</b> be used when you have questions about the IDE itself, and not any code you write (or want to write) in it. See <a href=\"https://meta.stackoverflow.com/a/315196/6296561\">when is it appropriate to remove an IDE tag</a>, <a href=\"https://meta.stackoverflow.com/q/354427/6296561\">How do I avoid misusing tags?</a>, and <a href=\"/help/tagging\">the tagging guide</a>. Use [android] or other relevant tags instead."},{"owner":{"account_id":14729641,"reputation":2947,"user_id":10637400,"display_name":"quealegriamasalegre"},"score":0,"creation_date":1585367056,"post_id":60831792,"comment_id":107740880,"body_markdown":"have you seen this? https://developer.android.com/training/notify-user/custom-notification aparently you can defie a custom layout for a notification. not surw how powerful it is though","body":"have you seen this? <a href=\"https://developer.android.com/training/notify-user/custom-notification\" rel=\"nofollow noreferrer\">developer.android.com/training/notify-user/custom-notificati&zwnj;&#8203;on</a> aparently you can defie a custom layout for a notification. not surw how powerful it is though"}],"answers":[{"tags":[],"owner":{"account_id":7553150,"reputation":495,"user_id":5733853,"accept_rate":0,"display_name":"VahidHoseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585057098,"creation_date":1585057098,"answer_id":60832200,"question_id":60831792,"body_markdown":"As I understand: you have a problem with your notification you can use this method : \r\n\r\n     private void showSmallNotification(NotificationCompat.Builder mBuilder, int icon, String title, String message, String timeStamp, PendingIntent resultPendingIntent, Uri alarmSound) {\r\n\r\n        NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle();\r\n        inboxStyle.addLine(message);\r\n\r\n        Notification notification;\r\n        notification = mBuilder.setSmallIcon(icon).setTicker(title).setWhen(0)\r\n                .setAutoCancel(true)\r\n                .setContentTitle(title)\r\n                .setContentIntent(resultPendingIntent)\r\n                .setSound(alarmSound)\r\n                .setStyle(inboxStyle)\r\n                .setWhen(getTimeMilliSec(timeStamp))\r\n                .setContentText(message)\r\n                .build();\r\n\r\n        NotificationManager notificationManager = (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        notificationManager.notify(Constant.NOTIFICATION_ID, notification);\r\n    }\r\n\r\n\r\nor this one : \r\n\r\n     private void showBigNotification(Bitmap bitmap, NotificationCompat.Builder mBuilder, int icon, String title, String message, String timeStamp, PendingIntent resultPendingIntent, Uri alarmSound) {\r\n        NotificationCompat.BigPictureStyle bigPictureStyle = new NotificationCompat.BigPictureStyle();\r\n        bigPictureStyle.setBigContentTitle(title);\r\n        bigPictureStyle.setSummaryText(Html.fromHtml(message).toString());\r\n        bigPictureStyle.bigPicture(bitmap);\r\n        Notification notification;\r\n        notification = mBuilder.setSmallIcon(icon).setTicker(title).setWhen(0)\r\n                .setAutoCancel(true)\r\n                .setContentTitle(title)\r\n                .setContentIntent(resultPendingIntent)\r\n                .setSound(alarmSound)\r\n                .setStyle(bigPictureStyle)\r\n                .setWhen(getTimeMilliSec(timeStamp))\r\n\r\n                .setContentText(message)\r\n                .build();\r\n\r\n        NotificationManager notificationManager = (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        notificationManager.notify(Constant.NOTIFICATION_ID_BIG_IMAGE, notification);\r\n    }","title":"Action icon added in notification not showing up","body":"<p>As I understand: you have a problem with your notification you can use this method : </p>\n\n<pre><code> private void showSmallNotification(NotificationCompat.Builder mBuilder, int icon, String title, String message, String timeStamp, PendingIntent resultPendingIntent, Uri alarmSound) {\n\n    NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle();\n    inboxStyle.addLine(message);\n\n    Notification notification;\n    notification = mBuilder.setSmallIcon(icon).setTicker(title).setWhen(0)\n            .setAutoCancel(true)\n            .setContentTitle(title)\n            .setContentIntent(resultPendingIntent)\n            .setSound(alarmSound)\n            .setStyle(inboxStyle)\n            .setWhen(getTimeMilliSec(timeStamp))\n            .setContentText(message)\n            .build();\n\n    NotificationManager notificationManager = (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.notify(Constant.NOTIFICATION_ID, notification);\n}\n</code></pre>\n\n<p>or this one : </p>\n\n<pre><code> private void showBigNotification(Bitmap bitmap, NotificationCompat.Builder mBuilder, int icon, String title, String message, String timeStamp, PendingIntent resultPendingIntent, Uri alarmSound) {\n    NotificationCompat.BigPictureStyle bigPictureStyle = new NotificationCompat.BigPictureStyle();\n    bigPictureStyle.setBigContentTitle(title);\n    bigPictureStyle.setSummaryText(Html.fromHtml(message).toString());\n    bigPictureStyle.bigPicture(bitmap);\n    Notification notification;\n    notification = mBuilder.setSmallIcon(icon).setTicker(title).setWhen(0)\n            .setAutoCancel(true)\n            .setContentTitle(title)\n            .setContentIntent(resultPendingIntent)\n            .setSound(alarmSound)\n            .setStyle(bigPictureStyle)\n            .setWhen(getTimeMilliSec(timeStamp))\n\n            .setContentText(message)\n            .build();\n\n    NotificationManager notificationManager = (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.notify(Constant.NOTIFICATION_ID_BIG_IMAGE, notification);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585700665,"creation_date":1585700665,"answer_id":60961893,"question_id":60831792,"body_markdown":"As per the [Notifications in Android N blog post][1]:\n\n&gt; Notification actions have also received a redesign and are now in a visually separate bar below the notification.\n&gt;\n&gt; **You’ll note that the icons are not present in the new notifications; instead more room is provided for the labels themselves in the constrained space of the notification shade.** However, the notification action icons are still required and continue to be used on older versions of Android and on devices such as Android Wear.\n\nSo it is expected that you do not see the icons associated with notification actions.\n\n  [1]: https://android-developers.googleblog.com/2016/06/notifications-in-android-n.html","title":"Action icon added in notification not showing up","body":"<p>As per the <a href=\"https://android-developers.googleblog.com/2016/06/notifications-in-android-n.html\" rel=\"nofollow noreferrer\">Notifications in Android N blog post</a>:</p>\n<blockquote>\n<p>Notification actions have also received a redesign and are now in a visually separate bar below the notification.</p>\n<p><strong>You’ll note that the icons are not present in the new notifications; instead more room is provided for the labels themselves in the constrained space of the notification shade.</strong> However, the notification action icons are still required and continue to be used on older versions of Android and on devices such as Android Wear.</p>\n</blockquote>\n<p>So it is expected that you do not see the icons associated with notification actions.</p>\n"},{"tags":[],"owner":{"account_id":7427448,"reputation":201,"user_id":5649510,"display_name":"Leons"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585826215,"creation_date":1585826215,"answer_id":60990301,"question_id":60831792,"body_markdown":"If you need more flexibility in creating the notification layout, go for the custom one.\r\n\r\nRef: https://developer.android.com/training/notify-user/custom-notification\r\n\r\nUse the Drawable left/right option to set an icon with text in the button.\r\n\r\n\r\n    // Get the layouts to use in the custom notification\r\n    RemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_small);\r\n    RemoteViews notificationLayoutExpanded = new RemoteViews(getPackageName(), R.layout.notification_large);\r\n    \r\n    // Apply the layouts to the notification\r\n    Notification customNotification = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n            .setSmallIcon(R.drawable.notification_icon)\r\n            .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\r\n            .setCustomContentView(notificationLayout)\r\n            .setCustomBigContentView(notificationLayoutExpanded)\r\n            .build();","title":"Action icon added in notification not showing up","body":"<p>If you need more flexibility in creating the notification layout, go for the custom one.</p>\n\n<p>Ref: <a href=\"https://developer.android.com/training/notify-user/custom-notification\" rel=\"nofollow noreferrer\">https://developer.android.com/training/notify-user/custom-notification</a></p>\n\n<p>Use the Drawable left/right option to set an icon with text in the button.</p>\n\n<pre><code>// Get the layouts to use in the custom notification\nRemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_small);\nRemoteViews notificationLayoutExpanded = new RemoteViews(getPackageName(), R.layout.notification_large);\n\n// Apply the layouts to the notification\nNotification customNotification = new NotificationCompat.Builder(context, CHANNEL_ID)\n        .setSmallIcon(R.drawable.notification_icon)\n        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\n        .setCustomContentView(notificationLayout)\n        .setCustomBigContentView(notificationLayoutExpanded)\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2917069,"reputation":1304,"user_id":2500027,"accept_rate":62,"display_name":"Suchith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652432711,"creation_date":1652432711,"answer_id":72227048,"question_id":60831792,"body_markdown":"To play ringtone you can make use of android mediaplayer as shown below:\r\n\r\n    Var _mediaPlayer = MediaPlayer.Create(this,\r\n    Android.Provider.Settings.System.DefaultRingtoneUri);\r\n    _mediaPlayer.Start();\r\n    Task.Delay(60 * 1000).ContinueWith(t =&gt; _mediaPlayer?.Stop()); //stop after 60sec\r\n\r\nYou can take the global instance of _mediaPlayer and stop this as per user interaction with notification.\r\n\r\nThis is the c# xamarin android example, you can use the same class with java syntax.","title":"Action icon added in notification not showing up","body":"<p>To play ringtone you can make use of android mediaplayer as shown below:</p>\n<pre><code>Var _mediaPlayer = MediaPlayer.Create(this,\nAndroid.Provider.Settings.System.DefaultRingtoneUri);\n_mediaPlayer.Start();\nTask.Delay(60 * 1000).ContinueWith(t =&gt; _mediaPlayer?.Stop()); //stop after 60sec\n</code></pre>\n<p>You can take the global instance of _mediaPlayer and stop this as per user interaction with notification.</p>\n<p>This is the c# xamarin android example, you can use the same class with java syntax.</p>\n"}],"owner":{"account_id":16113017,"reputation":730,"user_id":11630822,"display_name":"Kousalya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1652432711,"creation_date":1585055644,"question_id":60831792,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am trying to create a notification for Incoming call. For that I have added two actions in notification. My action text only is displayed.Action icon is not displayed in notification.\r\nI want to add icon near Answer and cancel which I added as AddAction in Notification. I have added action icon like below,\r\n```\r\n\r\nNotificationCompat.Action answerAction = new NotificationCompat.Action.Builder(R.drawable.answer_call_icon, &quot;Answer&quot;, pendingIntent).build();\r\n            NotificationCompat.Action cancelAction = new NotificationCompat.Action.Builder(R.drawable.cancel, &quot;Cancel&quot;, pendingIntent).build();\r\n       \r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\r\n                .setLargeIcon((BitmapFactory.decodeResource(getResources(), R.drawable.call_logo)))\r\n                .setContentTitle(intent.getStringExtra(&quot;Number&quot;))\r\n                .setSmallIcon(R.drawable.call_logo)\r\n                .setContentIntent(pendingIntent)\r\n                .setAutoCancel(true)\r\n                .setFullScreenIntent(pendingIntent, true)\r\n                .setCategory(NotificationCompat.CATEGORY_CALL)\r\n                .addAction(answerAction)\r\n                .addAction(cancelAction)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\r\n        NotificationManagerCompat nManager = NotificationManagerCompat.from(this);\r\n        nManager.notify(2,builder.build());\r\n```\r\nOne more query,\r\nBelow is my notification channnel,\r\n```\r\nNotificationChannel   chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_HIGH);\r\n            chan.setLightColor(Color.BLUE);\r\n           chan.setLockscreenVisibility(Notification.FLAG_FOREGROUND_SERVICE);\r\n            chan.setImportance(NotificationManager.IMPORTANCE_HIGH);\r\n            chan.setSound(defaultRingToneUri,audioAttributes);\r\n chan.enableLights(true);\r\n            chan.shouldShowLights();\r\n            chan.setVibrationPattern(vibrate);\r\n            chan.enableVibration(true);\r\n            Context context=getApplicationContext();\r\n            NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            assert manager != null;\r\n            manager.createNotificationChannel(chan);\r\n```\r\nNot able to get ringtone while receiving notification. Is the way Im setting sound is right??\r\nAnybody please help me to solve this...\r\nPosted 2 days ago..but till now not able to find solution. \r\n\r\n  [1]: https://i.stack.imgur.com/BBw0q.jpg","title":"Action icon added in notification not showing up","body":"<p><a href=\"https://i.stack.imgur.com/BBw0q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBw0q.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to create a notification for Incoming call. For that I have added two actions in notification. My action text only is displayed.Action icon is not displayed in notification.\nI want to add icon near Answer and cancel which I added as AddAction in Notification. I have added action icon like below,</p>\n\n<pre><code>\nNotificationCompat.Action answerAction = new NotificationCompat.Action.Builder(R.drawable.answer_call_icon, \"Answer\", pendingIntent).build();\n            NotificationCompat.Action cancelAction = new NotificationCompat.Action.Builder(R.drawable.cancel, \"Cancel\", pendingIntent).build();\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\n                .setLargeIcon((BitmapFactory.decodeResource(getResources(), R.drawable.call_logo)))\n                .setContentTitle(intent.getStringExtra(\"Number\"))\n                .setSmallIcon(R.drawable.call_logo)\n                .setContentIntent(pendingIntent)\n                .setAutoCancel(true)\n                .setFullScreenIntent(pendingIntent, true)\n                .setCategory(NotificationCompat.CATEGORY_CALL)\n                .addAction(answerAction)\n                .addAction(cancelAction)\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\n        NotificationManagerCompat nManager = NotificationManagerCompat.from(this);\n        nManager.notify(2,builder.build());\n</code></pre>\n\n<p>One more query,\nBelow is my notification channnel,</p>\n\n<pre><code>NotificationChannel   chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_HIGH);\n            chan.setLightColor(Color.BLUE);\n           chan.setLockscreenVisibility(Notification.FLAG_FOREGROUND_SERVICE);\n            chan.setImportance(NotificationManager.IMPORTANCE_HIGH);\n            chan.setSound(defaultRingToneUri,audioAttributes);\n chan.enableLights(true);\n            chan.shouldShowLights();\n            chan.setVibrationPattern(vibrate);\n            chan.enableVibration(true);\n            Context context=getApplicationContext();\n            NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n            assert manager != null;\n            manager.createNotificationChannel(chan);\n</code></pre>\n\n<p>Not able to get ringtone while receiving notification. Is the way Im setting sound is right??\nAnybody please help me to solve this...\nPosted 2 days ago..but till now not able to find solution. </p>\n"},{"tags":["java","termux"],"answers":[{"tags":[],"owner":{"account_id":24260305,"reputation":1,"user_id":18209957,"display_name":"NoNameMan1231"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652432639,"creation_date":1652429889,"answer_id":72226441,"question_id":72209966,"body_markdown":"It&#39;s impossible to install a .rpm file to Termux. The only way is using qemu or proot","title":"Trying to install rpm file in termux","body":"<p>It's impossible to install a .rpm file to Termux. The only way is using qemu or proot</p>\n"}],"owner":{"account_id":22922827,"reputation":65,"user_id":18645785,"display_name":"Adarshyodha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652432639,"creation_date":1652327855,"question_id":72209966,"body_markdown":" I was trying to install java jdk 18.0.1 in termux and I have its rpm executable file but the problem is that termux does not support rpm . I also searched for its .deb file but main problem is this that there is no build for aarch64 processor from oracle. I also tried to install an alien package to convert the rpm file to deb but the same error hitted me which is. E: Unable to locate package alien \r\n","title":"Trying to install rpm file in termux","body":"<p>I was trying to install java jdk 18.0.1 in termux and I have its rpm executable file but the problem is that termux does not support rpm . I also searched for its .deb file but main problem is this that there is no build for aarch64 processor from oracle. I also tried to install an alien package to convert the rpm file to deb but the same error hitted me which is. E: Unable to locate package alien</p>\n"},{"tags":["java","rest","jersey"],"answers":[{"tags":[],"owner":{"account_id":1188061,"reputation":5354,"user_id":1161594,"accept_rate":79,"display_name":"USer22999299"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1467466944,"creation_date":1467466944,"answer_id":38160831,"question_id":38160790,"body_markdown":"This is the whole idea of Jersy layer / spring controller, they encapsulate it and convert the class to JSON. You can have the same result with Gson\r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(printerObject);\r\n    System.out.println(json);\r\n\r\nNot sure if Jersy is using Gson, but the logic will be probably the same ","title":"Returning XML/JSON in Jersey","body":"<p>This is the whole idea of Jersy layer / spring controller, they encapsulate it and convert the class to JSON. You can have the same result with Gson</p>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(printerObject);\nSystem.out.println(json);\n</code></pre>\n\n<p>Not sure if Jersy is using Gson, but the logic will be probably the same </p>\n"},{"tags":[],"owner":{"account_id":5782764,"reputation":1081,"user_id":4562902,"accept_rate":54,"display_name":"dhyanandra singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467469723,"creation_date":1467469106,"answer_id":38161132,"question_id":38160790,"body_markdown":"When you request for a service from clien side you always mentioned content type there which indicates the response accepted in xml or json.\r\n\r\n    $http({\r\n            method: &quot;GET&quot;,\r\n            contentType: &quot;application/json&quot;,\r\n            url: baseUrl + &#39;/xyz&#39; + id\r\n          }).success(function (response) {\r\n            console.log(response);\r\n            // you can also use\r\n            console.log(JSON.stringify(response);\r\n          }).error(function (response) {\r\n            console.log(response);\r\n          });","title":"Returning XML/JSON in Jersey","body":"<p>When you request for a service from clien side you always mentioned content type there which indicates the response accepted in xml or json.</p>\n\n<pre><code>$http({\n        method: \"GET\",\n        contentType: \"application/json\",\n        url: baseUrl + '/xyz' + id\n      }).success(function (response) {\n        console.log(response);\n        // you can also use\n        console.log(JSON.stringify(response);\n      }).error(function (response) {\n        console.log(response);\n      });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1159314,"reputation":66,"user_id":1139162,"display_name":"kartheek vanapalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467907194,"creation_date":1467882754,"answer_id":38241604,"question_id":38160790,"body_markdown":"Based on &quot;Content-type&quot; in the request, jersey will decide the representation. \r\n\r\nThere are many frameworks that provide support for xml/json representation for jersey. Jackson and JAXB are very popular and efficient frameworks for JSON and XML processing in jersey.\r\n\r\nTake a look to official Jersey documentation for different frameworks : \r\n[https://jersey.java.net/documentation/latest/media.html][1]\r\n\r\n\r\nYou can find many articles related to XML and JSON support in jersey here :  \r\n[http://www.mkyong.com/tutorials/jax-rs-tutorials/][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://jersey.java.net/documentation/latest/media.html\r\n  [2]: http://www.mkyong.com/tutorials/jax-rs-tutorials/","title":"Returning XML/JSON in Jersey","body":"<p>Based on \"Content-type\" in the request, jersey will decide the representation. </p>\n\n<p>There are many frameworks that provide support for xml/json representation for jersey. Jackson and JAXB are very popular and efficient frameworks for JSON and XML processing in jersey.</p>\n\n<p>Take a look to official Jersey documentation for different frameworks : \n<a href=\"https://jersey.java.net/documentation/latest/media.html\" rel=\"nofollow\">https://jersey.java.net/documentation/latest/media.html</a></p>\n\n<p>You can find many articles related to XML and JSON support in jersey here :<br>\n<a href=\"http://www.mkyong.com/tutorials/jax-rs-tutorials/\" rel=\"nofollow\">http://www.mkyong.com/tutorials/jax-rs-tutorials/</a></p>\n"},{"tags":[],"owner":{"account_id":6158120,"reputation":348,"user_id":4800513,"display_name":"serxio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652432584,"creation_date":1652432584,"answer_id":72227018,"question_id":38160790,"body_markdown":"You need to send the header &quot;accept&quot; in the request with the desired value: &quot;application/json&quot; or &quot;application/xml&quot;.","title":"Returning XML/JSON in Jersey","body":"<p>You need to send the header &quot;accept&quot; in the request with the desired value: &quot;application/json&quot; or &quot;application/xml&quot;.</p>\n"}],"owner":{"account_id":8618648,"reputation":158,"user_id":6454491,"accept_rate":81,"display_name":"user6454491"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38160831,"answer_count":4,"score":0,"last_activity_date":1652432584,"creation_date":1467466694,"question_id":38160790,"body_markdown":"    @GET @Path(&quot;/ids/{printerid}&quot;)\r\n    @Produces({&quot;application/json&quot;, &quot;application/xml&quot;})\r\n    public Printer getPrinter(@PathParam(&quot;printerid&quot;) String printerId) { ... }\r\n\r\nis a piece of a code example found here: https://jersey.java.net/documentation/latest/jaxrs-resources.html#d0e2089\r\n\r\nWhat I understand is: \r\n\r\n - the method `getPrinter` is called when the `HTTP method GET` is called on the path `/ids/{printerid}`\r\n - the method `Produces` either a `json` or an `xml` result\r\n - the method returns an `Object` of type Printer, identified by the ID provided in the `URI`\r\n\r\nWhat I don&#39;t understand is, how the returned Printer is represented as an `xml/json` document. We return a Printer in this method, so how do we get an `xml/json` file from that?","title":"Returning XML/JSON in Jersey","body":"<pre><code>@GET @Path(\"/ids/{printerid}\")\n@Produces({\"application/json\", \"application/xml\"})\npublic Printer getPrinter(@PathParam(\"printerid\") String printerId) { ... }\n</code></pre>\n\n<p>is a piece of a code example found here: <a href=\"https://jersey.java.net/documentation/latest/jaxrs-resources.html#d0e2089\" rel=\"nofollow\">https://jersey.java.net/documentation/latest/jaxrs-resources.html#d0e2089</a></p>\n\n<p>What I understand is: </p>\n\n<ul>\n<li>the method <code>getPrinter</code> is called when the <code>HTTP method GET</code> is called on the path <code>/ids/{printerid}</code></li>\n<li>the method <code>Produces</code> either a <code>json</code> or an <code>xml</code> result</li>\n<li>the method returns an <code>Object</code> of type Printer, identified by the ID provided in the <code>URI</code></li>\n</ul>\n\n<p>What I don't understand is, how the returned Printer is represented as an <code>xml/json</code> document. We return a Printer in this method, so how do we get an <code>xml/json</code> file from that?</p>\n"},{"tags":["java","json","gson","file-writing"],"answers":[{"tags":[],"owner":{"account_id":4155298,"reputation":170,"user_id":3406758,"display_name":"DJFliX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652432342,"creation_date":1652431408,"answer_id":72226748,"question_id":72226583,"body_markdown":"You have created a FileWriter, but you are never actually writing anything to the file. This is why the file is empty. \r\n\r\n\r\n      string jsonData = &quot;{}&quot;;\r\n      FileWriter output = new FileWriter(&quot;answer.json&quot;);\r\n      // Writes the string to the file\r\n      output.write(jsonData);\r\n\r\n      // Closes the writer\r\n      output.close();\r\n\r\nThis would allow you to write contents to a file. Make sure to call `close()` on the FileWriter after writing your content. After that your file `answer.json` should contain:\r\n\r\n    {}","title":"Simple java questionnaire using json","body":"<p>You have created a FileWriter, but you are never actually writing anything to the file. This is why the file is empty.</p>\n<pre><code>  string jsonData = &quot;{}&quot;;\n  FileWriter output = new FileWriter(&quot;answer.json&quot;);\n  // Writes the string to the file\n  output.write(jsonData);\n\n  // Closes the writer\n  output.close();\n</code></pre>\n<p>This would allow you to write contents to a file. Make sure to call <code>close()</code> on the FileWriter after writing your content. After that your file <code>answer.json</code> should contain:</p>\n<pre><code>{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20507182,"reputation":1,"user_id":15049687,"display_name":"Readom"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652432063,"creation_date":1652432063,"answer_id":72226892,"question_id":72226583,"body_markdown":"    @Test\r\n    public void test1() {\r\n        try {\r\n            String userJson = &quot;[{\\&quot;question\\&quot;: \\&quot;1.What is your marital status?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Single\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)Married\\&quot;},&quot; +\r\n                    &quot;{\\&quot;question\\&quot;: \\&quot;2.Are you planning on getting married next year?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;},&quot; +\r\n                    &quot;{\\&quot;question\\&quot;: \\&quot;3.How long have you been married?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Less than a year\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)More than a year\\&quot;},&quot; +\r\n                    &quot;{\\&quot;question\\&quot;: \\&quot;4.Have you celebrated your one year anniversary?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot; , \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;}]&quot;;\r\n\r\n            JSONArray jsonArray = JSON.parseArray(userJson);\r\n            System.out.println(jsonArray);\r\n            List&lt;Question&gt; javaList = jsonArray.toJavaList(Question.class);\r\n            writeToFile(javaList);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void writeToFile(List&lt;Question&gt; data) throws Exception {\r\n        BufferedWriter bw;\r\n        try {\r\n            bw = new BufferedWriter(new FileWriter(&quot;D:\\\\test.txt&quot;));\r\n            for (int i = 0; i &lt; data.size(); i++) {\r\n                bw.write(JSON.toJSONString(data.get(i)));\r\n                bw.newLine();\r\n                bw.flush();\r\n            }\r\n            bw.close();\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }","title":"Simple java questionnaire using json","body":"<pre><code>@Test\npublic void test1() {\n    try {\n        String userJson = &quot;[{\\&quot;question\\&quot;: \\&quot;1.What is your marital status?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Single\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)Married\\&quot;},&quot; +\n                &quot;{\\&quot;question\\&quot;: \\&quot;2.Are you planning on getting married next year?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;},&quot; +\n                &quot;{\\&quot;question\\&quot;: \\&quot;3.How long have you been married?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Less than a year\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)More than a year\\&quot;},&quot; +\n                &quot;{\\&quot;question\\&quot;: \\&quot;4.Have you celebrated your one year anniversary?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot; , \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;}]&quot;;\n\n        JSONArray jsonArray = JSON.parseArray(userJson);\n        System.out.println(jsonArray);\n        List&lt;Question&gt; javaList = jsonArray.toJavaList(Question.class);\n        writeToFile(javaList);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n}\n\nprivate void writeToFile(List&lt;Question&gt; data) throws Exception {\n    BufferedWriter bw;\n    try {\n        bw = new BufferedWriter(new FileWriter(&quot;D:\\\\test.txt&quot;));\n        for (int i = 0; i &lt; data.size(); i++) {\n            bw.write(JSON.toJSONString(data.get(i)));\n            bw.newLine();\n            bw.flush();\n        }\n        bw.close();\n    } catch (Exception e) {\n        throw e;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23963691,"reputation":137,"user_id":17953465,"display_name":"Itra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72226748,"answer_count":2,"score":-1,"last_activity_date":1652432342,"creation_date":1652430565,"question_id":72226583,"body_markdown":"I made a simple questionnaire. I need to write the responses to a JSON file. How to do it? \r\nI use IDEA Intellij and library GSON for work with JSON.\r\nThis is main class &quot;Quiz&quot;:\r\n``` \r\npackage questions;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\nimport com.google.gson.GsonBuilder;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Type;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Quiz {\r\n    public static &lt;Outfile&gt; void main(String[] args) throws IOException {\r\n\r\n        String userJson = &quot;[{\\&quot;question\\&quot;: \\&quot;1.What is your marital status?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Single\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)Married\\&quot;},&quot; +\r\n                &quot;{\\&quot;question\\&quot;: \\&quot;2.Are you planning on getting married next year?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;},&quot;+\r\n                &quot;{\\&quot;question\\&quot;: \\&quot;3.How long have you been married?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Less than a year\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)More than a year\\&quot;},&quot;+\r\n                &quot;{\\&quot;question\\&quot;: \\&quot;4.Have you celebrated your one year anniversary?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot; , \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;}]&quot;;\r\n\r\n        Gson gson = new Gson();\r\n        Type questionListType = new TypeToken&lt;ArrayList&lt;Question&gt;&gt;(){}.getType();\r\n\r\n        ArrayList&lt;Question&gt; questionArray = gson.fromJson(userJson, questionListType);\r\n\r\n        FileWriter fileWriter = new FileWriter(&quot;answer.json&quot;);\r\n\r\n\r\n        for(Question question : questionArray) {\r\n            System.out.println(&quot;Question:&quot; + question.question);\r\n            System.out.println(&quot;Answer:&quot; + question.a + &quot;   &quot; + question.b);\r\n            Scanner keyboardInput = new Scanner(System.in);\r\n            String answer = keyboardInput.nextLine();\r\n            System.out.println(&quot;You got: &quot; + answer);\r\n\r\n        }\r\n        \r\n    }}\r\n ```\r\nThis is class &quot;Question&quot;:\r\n``` \r\npackage questions;\r\npublic class Question {\r\n\r\n    public String question;\r\n    public String a;\r\n    public String b;\r\n\r\n    public String getQuestion() {\r\n        return question;\r\n    }\r\n    public void setQuestion(String question) {\r\n        this.question = question;\r\n    }\r\n\r\n    public String getA() {\r\n        return a;\r\n    }\r\n    public void setA(String a) {\r\n        this.a = a;\r\n    }\r\n\r\n    public String getB() {\r\n        return b;\r\n    }\r\n    public void setAnswer2(String b) {\r\n        this.b = b;\r\n    }\r\n  }\r\n\r\n ```\r\nI&#39;m trying to use FileWriter, but I&#39;m doing it wrong. The output file is empty. Help me, pls.","title":"Simple java questionnaire using json","body":"<p>I made a simple questionnaire. I need to write the responses to a JSON file. How to do it?\nI use IDEA Intellij and library GSON for work with JSON.\nThis is main class &quot;Quiz&quot;:</p>\n<pre><code>package questions;\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport com.google.gson.GsonBuilder;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Quiz {\n    public static &lt;Outfile&gt; void main(String[] args) throws IOException {\n\n        String userJson = &quot;[{\\&quot;question\\&quot;: \\&quot;1.What is your marital status?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Single\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)Married\\&quot;},&quot; +\n                &quot;{\\&quot;question\\&quot;: \\&quot;2.Are you planning on getting married next year?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;},&quot;+\n                &quot;{\\&quot;question\\&quot;: \\&quot;3.How long have you been married?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Less than a year\\&quot;, \\&quot;b\\&quot;: \\&quot;(b)More than a year\\&quot;},&quot;+\n                &quot;{\\&quot;question\\&quot;: \\&quot;4.Have you celebrated your one year anniversary?\\&quot;, \\&quot;a\\&quot;: \\&quot;(a)Yes\\&quot; , \\&quot;b\\&quot;: \\&quot;(b)No\\&quot;}]&quot;;\n\n        Gson gson = new Gson();\n        Type questionListType = new TypeToken&lt;ArrayList&lt;Question&gt;&gt;(){}.getType();\n\n        ArrayList&lt;Question&gt; questionArray = gson.fromJson(userJson, questionListType);\n\n        FileWriter fileWriter = new FileWriter(&quot;answer.json&quot;);\n\n\n        for(Question question : questionArray) {\n            System.out.println(&quot;Question:&quot; + question.question);\n            System.out.println(&quot;Answer:&quot; + question.a + &quot;   &quot; + question.b);\n            Scanner keyboardInput = new Scanner(System.in);\n            String answer = keyboardInput.nextLine();\n            System.out.println(&quot;You got: &quot; + answer);\n\n        }\n        \n    }}\n</code></pre>\n<p>This is class &quot;Question&quot;:</p>\n<pre><code>package questions;\npublic class Question {\n\n    public String question;\n    public String a;\n    public String b;\n\n    public String getQuestion() {\n        return question;\n    }\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n\n    public String getA() {\n        return a;\n    }\n    public void setA(String a) {\n        this.a = a;\n    }\n\n    public String getB() {\n        return b;\n    }\n    public void setAnswer2(String b) {\n        this.b = b;\n    }\n  }\n\n</code></pre>\n<p>I'm trying to use FileWriter, but I'm doing it wrong. The output file is empty. Help me, pls.</p>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652432686,"post_id":72226839,"comment_id":127609902,"body_markdown":"As long as you don&#39;t have any required fields in you class, you shouldn&#39;t need `@NoArgsConstructor`. By default java has a no args constructor for every class, unless otherwise specified. As soon as you have required fields in your class, then you need to specify `@NoArgsConstructor` as well as `@RequiredArgsConstructor`. This was [just recently asked](https://stackoverflow.com/questions/72226209/lombok-data-annotation-does-not-add-required-args-constructor-when-no-args-const)","body":"As long as you don&#39;t have any required fields in you class, you shouldn&#39;t need <code>@NoArgsConstructor</code>. By default java has a no args constructor for every class, unless otherwise specified. As soon as you have required fields in your class, then you need to specify <code>@NoArgsConstructor</code> as well as <code>@RequiredArgsConstructor</code>. This was <a href=\"https://stackoverflow.com/questions/72226209/lombok-data-annotation-does-not-add-required-args-constructor-when-no-args-const\">just recently asked</a>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1652433115,"post_id":72226839,"comment_id":127610027,"body_markdown":"NoArgsConstructor being a compile-time annotation (because it needs to generate the constructor over compilation), you&#39;ll need to handle such task with an [annotation processor](https://www.baeldung.com/java-annotation-processing-builder). You can follow the example in the link, the idea would be to get all elements annotated by your DTO annotation, and add to them the NoArgsConstructor annotation in the pre-compilation round.","body":"NoArgsConstructor being a compile-time annotation (because it needs to generate the constructor over compilation), you&#39;ll need to handle such task with an <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">annotation processor</a>. You can follow the example in the link, the idea would be to get all elements annotated by your DTO annotation, and add to them the NoArgsConstructor annotation in the pre-compilation round."},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1652433934,"post_id":72226839,"comment_id":127610307,"body_markdown":"@XtremeBaumer unfortunately my code doesn&#39;t compile without the NoArgsConstructor being specified. I also think this this is curious, since I thought the Data-Annotation would take care of this as well as Java by default...","body":"@XtremeBaumer unfortunately my code doesn&#39;t compile without the NoArgsConstructor being specified. I also think this this is curious, since I thought the Data-Annotation would take care of this as well as Java by default..."}],"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652431823,"creation_date":1652431823,"question_id":72226839,"body_markdown":"I am currently creating my own CRUD-managing class. For this purpose I work with an annotation that looks like this: \r\n\r\n```java\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\npublic @interface DTO {\r\n    String table() default &quot;&quot;;\r\n}\r\n\r\n```\r\n\r\nEvery object annotated with this annotation also needs to have the &quot;NoArgsConstructor&quot;-Annotation from lombok, which can only be applied to class or enum types. Therefore I cannot just add it on top of the annotations of the definition of DTO. How can I achieve, that every class that has the DTO-Annotation also receives the NoArgsConstructor without it being required to add it every time manually?\r\n\r\nThis works fine: \r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@DTO(table = &quot;cast2&quot;)\r\npublic class CastDTO {\r\n    @Column\r\n    private Integer mid;\r\n    @Column\r\n    private Integer pid;\r\n    @Column\r\n    private String role;\r\n}\r\n```\r\n\r\nbut I&#39;d rather not have to add `NoArgsConstructor` every time I create another Class.","title":"Add another annotation when an annotation is present with Java 8","body":"<p>I am currently creating my own CRUD-managing class. For this purpose I work with an annotation that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface DTO {\n    String table() default &quot;&quot;;\n}\n\n</code></pre>\n<p>Every object annotated with this annotation also needs to have the &quot;NoArgsConstructor&quot;-Annotation from lombok, which can only be applied to class or enum types. Therefore I cannot just add it on top of the annotations of the definition of DTO. How can I achieve, that every class that has the DTO-Annotation also receives the NoArgsConstructor without it being required to add it every time manually?</p>\n<p>This works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@DTO(table = &quot;cast2&quot;)\npublic class CastDTO {\n    @Column\n    private Integer mid;\n    @Column\n    private Integer pid;\n    @Column\n    private String role;\n}\n</code></pre>\n<p>but I'd rather not have to add <code>NoArgsConstructor</code> every time I create another Class.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652431530,"creation_date":1652420506,"answer_id":72224909,"question_id":72220772,"body_markdown":"You&#39;re mixing apples with pears, `org.apache.http` with `java.net.http`.\r\n\r\nMaven dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.5.13&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nCode sample:\r\n\r\n    package tests;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    \r\n    public class HttpClientTest {\r\n    \r\n    \tpublic static void main(String[] args) throws ClientProtocolException, IOException {\r\n    \t\tHttpClient client = HttpClientBuilder.create().build();  \r\n            HttpGet request = new HttpGet(&quot;https://demoqa.com/&quot;); \r\n            HttpResponse response = client.execute(request);   \r\n            System.out.println(response.getStatusLine());\r\n            System.out.println(response.getStatusLine().getStatusCode());\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    HTTP/1.1 200 OK\r\n    200","title":"selenium - java - finding broken links","body":"<p>You're mixing apples with pears, <code>org.apache.http</code> with <code>java.net.http</code>.</p>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code sample:</p>\n<pre><code>package tests;\n\nimport java.io.IOException;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.HttpClientBuilder;\n\npublic class HttpClientTest {\n\n    public static void main(String[] args) throws ClientProtocolException, IOException {\n        HttpClient client = HttpClientBuilder.create().build();  \n        HttpGet request = new HttpGet(&quot;https://demoqa.com/&quot;); \n        HttpResponse response = client.execute(request);   \n        System.out.println(response.getStatusLine());\n        System.out.println(response.getStatusLine().getStatusCode());\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>HTTP/1.1 200 OK\n200\n</code></pre>\n"}],"owner":{"account_id":21962722,"reputation":11,"user_id":16240401,"display_name":"selda bozkurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652431530,"creation_date":1652381660,"question_id":72220772,"body_markdown":"      import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    import javax.swing.*;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.sql.Driver;\r\n    import java.time.Duration;  \r\n    \r\n    \r\n    \r\n    \r\n     System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;drivers/chromedriver.exe&quot;);\r\n                WebDriver driver = new ChromeDriver();\r\n        \r\n                driver.get(&quot;https://demoqa.com/&quot;);\r\n                driver.manage().window().maximize();\r\n        \r\n                HttpClient client = HttpClientBuilder.create().build();  \r\n        \r\n                HttpGet request = new HttpGet(&quot;https://demoqa.com/&quot;); \r\n                HttpResponse response = client.execute(request);    \r\n        \r\n                int statusCode = response.statusCode();\r\n                System.out.println(statusCode);\r\n\r\n\r\n\r\nhi,\r\nfirst of all, my first question is when I create the client object with HttpClient, for HttpClient\r\nit throws an error and says &quot;Required type:\r\nHttpClient\r\nProvided:\r\nIt gives a warning like &quot;CloseableHttpClient&quot;.\r\n\r\nSecondly\r\n The execute method in HttpClient is not working.\r\nCan you help me ?","title":"selenium - java - finding broken links","body":"<pre><code>  import org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport javax.swing.*;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.sql.Driver;\nimport java.time.Duration;  \n\n\n\n\n System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;drivers/chromedriver.exe&quot;);\n            WebDriver driver = new ChromeDriver();\n    \n            driver.get(&quot;https://demoqa.com/&quot;);\n            driver.manage().window().maximize();\n    \n            HttpClient client = HttpClientBuilder.create().build();  \n    \n            HttpGet request = new HttpGet(&quot;https://demoqa.com/&quot;); \n            HttpResponse response = client.execute(request);    \n    \n            int statusCode = response.statusCode();\n            System.out.println(statusCode);\n</code></pre>\n<p>hi,\nfirst of all, my first question is when I create the client object with HttpClient, for HttpClient\nit throws an error and says &quot;Required type:\nHttpClient\nProvided:\nIt gives a warning like &quot;CloseableHttpClient&quot;.</p>\n<p>Secondly\nThe execute method in HttpClient is not working.\nCan you help me ?</p>\n"},{"tags":["java","lambda","collections"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1562666826,"post_id":56950105,"comment_id":100439037,"body_markdown":"Is this just a made up example? Why would you keep a set of contiguous integers? There is no point storing `[1, 2, 3, 4, 5]` when you can just store the number 5.","body":"Is this just a made up example? Why would you keep a set of contiguous integers? There is no point storing <code>[1, 2, 3, 4, 5]</code> when you can just store the number 5."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1562667354,"post_id":56950105,"comment_id":100439302,"body_markdown":"if you are staring with `1` and incrementing it&#39;s size, it very much looks like you are just counting them - are you?","body":"if you are staring with <code>1</code> and incrementing it&#39;s size, it very much looks like you are just counting them - are you?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1562667424,"post_id":56950105,"comment_id":100439343,"body_markdown":"I assume (and hope) that this is just a simplified example.","body":"I assume (and hope) that this is just a simplified example."},{"owner":{"account_id":3990118,"reputation":116,"user_id":3289359,"display_name":"BGRT"},"score":1,"creation_date":1562667964,"post_id":56950105,"comment_id":100439606,"body_markdown":"It&#39;s just a simplified example. You can replace the v.add(v.size() + 1) with some other simple one-liner.","body":"It&#39;s just a simplified example. You can replace the v.add(v.size() + 1) with some other simple one-liner."}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562673139,"creation_date":1562667453,"answer_id":56950359,"question_id":56950105,"body_markdown":"Not a one-liner unfortunately but it does its magic and is also directly more readable (downside : it creates a new `HashSet&lt;&gt;()` everytime)\r\n\r\n    m.putIfAbsent(key, new HashSet&lt;&gt;());\r\n    // Solution 1 :\r\n    m.compute(key, (k, v) -&gt; {v.add(v.size() + 1); return v;});\r\n    // Solution 2 :\r\n    Set&lt;Integer&gt; s = m.get(key);\r\n    s.add(s.size() + 1);\r\n\r\nOr as proposed by @Thilo and inspired by @Eran\r\n\r\n    m.computeIfAbsent(key, k -&gt; new HashSet&lt;&gt;()).add(m.get(key).size() + 1);\r\n\r\nThe one liner is possible because it returns the value it computed as mentioned in the [javadoc][1]\r\n\r\n&gt; If the specified key is not already associated with a value (or is mapped to null), attempts to compute its value using the given mapping function and enters it into this map unless null.\r\n\r\n\r\nThere is even a similar example in the [javadoc][1]\r\n\r\n&gt;  map.computeIfAbsent(key, k -&gt; new HashSet&lt;V&gt;()).add(v);\r\n\r\nThe little trade-off of the liner is the extra call to `m.get(key)` which is not happening with the solution of @Eran\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"Is there a more concise way to do this in Java 8 - Map manipulation","body":"<p>Not a one-liner unfortunately but it does its magic and is also directly more readable (downside : it creates a new <code>HashSet&lt;&gt;()</code> everytime)</p>\n\n<pre><code>m.putIfAbsent(key, new HashSet&lt;&gt;());\n// Solution 1 :\nm.compute(key, (k, v) -&gt; {v.add(v.size() + 1); return v;});\n// Solution 2 :\nSet&lt;Integer&gt; s = m.get(key);\ns.add(s.size() + 1);\n</code></pre>\n\n<p>Or as proposed by @Thilo and inspired by @Eran</p>\n\n<pre><code>m.computeIfAbsent(key, k -&gt; new HashSet&lt;&gt;()).add(m.get(key).size() + 1);\n</code></pre>\n\n<p>The one liner is possible because it returns the value it computed as mentioned in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">javadoc</a></p>\n\n<blockquote>\n  <p>If the specified key is not already associated with a value (or is mapped to null), attempts to compute its value using the given mapping function and enters it into this map unless null.</p>\n</blockquote>\n\n<p>There is even a similar example in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">javadoc</a></p>\n\n<blockquote>\n  <p>map.computeIfAbsent(key, k -> new HashSet()).add(v);</p>\n</blockquote>\n\n<p>The little trade-off of the liner is the extra call to <code>m.get(key)</code> which is not happening with the solution of @Eran</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562668285,"creation_date":1562667588,"answer_id":56950387,"question_id":56950105,"body_markdown":"Here&#39;s another alternative:\r\n\r\n    Set&lt;Integer&gt; set = m.computeIfAbsent (key , k -&gt; new HashSet&lt;&gt; ());\r\n    set.add(set.size() + 1);\r\n\r\nThe only reason this is a two liner (instead of one) is the need to obtain the current size of the `Set` in order to decide which value to add to it.","title":"Is there a more concise way to do this in Java 8 - Map manipulation","body":"<p>Here's another alternative:</p>\n\n<pre><code>Set&lt;Integer&gt; set = m.computeIfAbsent (key , k -&gt; new HashSet&lt;&gt; ());\nset.add(set.size() + 1);\n</code></pre>\n\n<p>The only reason this is a two liner (instead of one) is the need to obtain the current size of the <code>Set</code> in order to decide which value to add to it.</p>\n"},{"tags":[],"owner":{"account_id":3788650,"reputation":176,"user_id":3145830,"display_name":"vince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652431097,"creation_date":1652431097,"answer_id":72226689,"question_id":56950105,"body_markdown":"    Set&lt;Integer&gt; v = m.getOrDefault(key, new HashSet&lt;&gt;());\r\n    v.add(v.size() + 1);\r\n    m.put(key, v);","title":"Is there a more concise way to do this in Java 8 - Map manipulation","body":"<pre><code>Set&lt;Integer&gt; v = m.getOrDefault(key, new HashSet&lt;&gt;());\nv.add(v.size() + 1);\nm.put(key, v);\n</code></pre>\n"}],"owner":{"account_id":3990118,"reputation":116,"user_id":3289359,"display_name":"BGRT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1652431097,"creation_date":1562666541,"question_id":56950105,"body_markdown":"A very common operation on maps of collections is to create a new collection with an initial value when the key is not present, or if the key is present, do some function on the existing collection. Take for example a `Map&lt;String, Set&lt;Integer&gt;&gt;`, if the key is not there, create a Set with an initial value of 1. If the key is there, add the value map.size()+1 to the set (or replace this function with some other simple one-liner operation). In Java 7, it&#39;s straightforward with if/else, but pretty verbose. I can only come up with the below code for Java 8, which isn&#39;t much better (actually worse due to more lines of code). Is there a way to make this more concise?\r\n\r\n\tpublic void process(Map&lt;String, Set&lt;Integer&gt;&gt; m, String key) {\r\n\t\tm.compute(key, (k, v) -&gt; {\r\n\t\t\tif (v == null) {\r\n\t\t\t\tv = new HashSet&lt;&gt;();\r\n\t\t\t\tv.add(1);\r\n\t\t\t\treturn v;\r\n\t\t\t} else {\r\n\t\t\t\tv.add(v.size() + 1);\r\n\t\t\t\treturn v;\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"Is there a more concise way to do this in Java 8 - Map manipulation","body":"<p>A very common operation on maps of collections is to create a new collection with an initial value when the key is not present, or if the key is present, do some function on the existing collection. Take for example a <code>Map&lt;String, Set&lt;Integer&gt;&gt;</code>, if the key is not there, create a Set with an initial value of 1. If the key is there, add the value map.size()+1 to the set (or replace this function with some other simple one-liner operation). In Java 7, it's straightforward with if/else, but pretty verbose. I can only come up with the below code for Java 8, which isn't much better (actually worse due to more lines of code). Is there a way to make this more concise?</p>\n\n<pre><code>public void process(Map&lt;String, Set&lt;Integer&gt;&gt; m, String key) {\n    m.compute(key, (k, v) -&gt; {\n        if (v == null) {\n            v = new HashSet&lt;&gt;();\n            v.add(1);\n            return v;\n        } else {\n            v.add(v.size() + 1);\n            return v;\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","spring-cloud-feign"],"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652430617,"creation_date":1652367970,"question_id":72218012,"body_markdown":"I&#39;m trying to add HTTPs to my spring boot services, one of them is a Feign Client that is throwing this error:\r\n\r\n```\r\nxception in thread &quot;Thread-7&quot; feign.FeignException$BadRequest: [400] during [GET] to [http://some REST API]: Bad request This combination of host and port requires TLS.\r\n```\r\n\r\nThe configuration for the feign client is such: \r\n\r\n```\r\n@Bean\r\n   @ConditionalOnProperty(name = FEIGN_CLIENT_NAME_PROPERTY, matchIfMissing = false)\r\n   public Client feignClient(ApplicationContext context) {\r\n      final LoadBalancerClientFactory loadBalancerClientFactory = new LoadBalancerClientFactory();\r\n      loadBalancerClientFactory.setApplicationContext(context);\r\n\r\n      final BlockingLoadBalancerClient loadBalancerClient = new BlockingLoadBalancerClient(loadBalancerClientFactory);\r\n      final FeignBlockingLoadBalancerClient delegate = new FeignBlockingLoadBalancerClient(\r\n         new Client.Default(getSSLSocketFactory(), null), // TODO: specify parameters if SSL is enabled\r\n         loadBalancerClient\r\n      );\r\n\r\n      return new Client() {\r\n         @Override\r\n         public Response execute(Request request, Options options)\r\n            throws IOException {\r\n            return delegate.execute(request, options);\r\n         }\r\n      };\r\n   }\r\n\r\n```\r\n\r\nAccording to the TODO I see the place to insert my own SSLSocketFactory but I&#39;m very unsure as to how? My other services are currently using a pkcs12 keystore (generated using keytools) by using ```server.ssl.*``` properties. But I need the Feign Client to be able to interact with it. So far I&#39;ve just shamelessly copy-pasted the following segment to try:\r\n```\r\n private SSLSocketFactory getSSLSocketFactory() {\r\n\t    try {\r\n\t        TrustStrategy acceptingTrustStrategy = new TrustStrategy() {\r\n\t            @Override\r\n\t            public boolean isTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t                return true;\r\n\t            }\r\n\t        };\r\n\r\n\t        SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n\t        return sslContext.getSocketFactory();\r\n\t    } catch (Exception exception) {\r\n\t    }\r\n\t    return null;\r\n\t}\r\n```\r\n\r\nCould anyone give me pointers on what I should add/change to make sure my FeignClient is working with HTTPS?","title":"Building a SSLSocketFactory to enable HTTPs for custom Feign Client configuration","body":"<p>I'm trying to add HTTPs to my spring boot services, one of them is a Feign Client that is throwing this error:</p>\n<pre><code>xception in thread &quot;Thread-7&quot; feign.FeignException$BadRequest: [400] during [GET] to [http://some REST API]: Bad request This combination of host and port requires TLS.\n</code></pre>\n<p>The configuration for the feign client is such:</p>\n<pre><code>@Bean\n   @ConditionalOnProperty(name = FEIGN_CLIENT_NAME_PROPERTY, matchIfMissing = false)\n   public Client feignClient(ApplicationContext context) {\n      final LoadBalancerClientFactory loadBalancerClientFactory = new LoadBalancerClientFactory();\n      loadBalancerClientFactory.setApplicationContext(context);\n\n      final BlockingLoadBalancerClient loadBalancerClient = new BlockingLoadBalancerClient(loadBalancerClientFactory);\n      final FeignBlockingLoadBalancerClient delegate = new FeignBlockingLoadBalancerClient(\n         new Client.Default(getSSLSocketFactory(), null), // TODO: specify parameters if SSL is enabled\n         loadBalancerClient\n      );\n\n      return new Client() {\n         @Override\n         public Response execute(Request request, Options options)\n            throws IOException {\n            return delegate.execute(request, options);\n         }\n      };\n   }\n\n</code></pre>\n<p>According to the TODO I see the place to insert my own SSLSocketFactory but I'm very unsure as to how? My other services are currently using a pkcs12 keystore (generated using keytools) by using <code>server.ssl.*</code> properties. But I need the Feign Client to be able to interact with it. So far I've just shamelessly copy-pasted the following segment to try:</p>\n<pre><code> private SSLSocketFactory getSSLSocketFactory() {\n        try {\n            TrustStrategy acceptingTrustStrategy = new TrustStrategy() {\n                @Override\n                public boolean isTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n                    return true;\n                }\n            };\n\n            SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n            return sslContext.getSocketFactory();\n        } catch (Exception exception) {\n        }\n        return null;\n    }\n</code></pre>\n<p>Could anyone give me pointers on what I should add/change to make sure my FeignClient is working with HTTPS?</p>\n"},{"tags":["java","shell"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1652427797,"post_id":72225966,"comment_id":127608238,"body_markdown":"Are you using shell (If so, which one? Basic sh, bash, zsh, etc.) or java? They&#39;re very different environments...","body":"Are you using shell (If so, which one? Basic sh, bash, zsh, etc.) or java? They&#39;re very different environments..."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1652427857,"post_id":72225966,"comment_id":127608253,"body_markdown":"And what do you mean by separate?","body":"And what do you mean by separate?"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652430545,"creation_date":1652427657,"answer_id":72226022,"question_id":72225966,"body_markdown":"You can find each match with the following regex:\r\n\r\n```\r\n\\d{11}\\b\r\n```\r\n\r\nHere is a test\r\n\r\nhttps://regex101.com/r/zruNcQ/1\r\n\r\nIf you need to create ranges only with continuous values (even though does not really respect your example, but it wasn&#39;t really clear). You could use a `Scanner` to read each number with a while loop (no need for a regex) and check if the new number read interrupts the continuity of the current range.\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        Scanner sc = new Scanner(new FileReader(&quot;test.txt&quot;));\r\n\r\n        int from, to, temp;\r\n        List&lt;Range&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        if (sc.hasNext()) {\r\n            //Reading the first range number and assigning it to the start and end of range\r\n            from = to = Integer.parseInt(sc.next());\r\n\r\n            //Reading the rest of the numbers\r\n            while (sc.hasNext()) {\r\n                //Reading the number\r\n                temp = Integer.parseInt(sc.next());\r\n\r\n                //Checking if the range is being continued\r\n                if (temp == to + 1) {\r\n                    to = temp;\r\n\r\n                    //Checking if the continuous range has been interrupted and saving the previous range\r\n                } else if (temp &gt; to + 1) {\r\n                    list.add(new Range(from, to));\r\n                    from = to = temp;\r\n                }\r\n            }\r\n\r\n            //Saving the last range\r\n            list.add(new Range(from, to));\r\n        }\r\n\r\n        System.out.println(list);\r\n    }\r\n}\r\n\r\nclass Range {\r\n    int from, to;\r\n\r\n    public Range(int from, int to) {\r\n        this.from = from;\r\n        this.to = to;\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;(%d - %d)&quot;, from, to);\r\n    }\r\n}\r\n```","title":"How to separate files, number wise using regular expressions in java/shell?","body":"<p>You can find each match with the following regex:</p>\n<pre><code>\\d{11}\\b\n</code></pre>\n<p>Here is a test</p>\n<p><a href=\"https://regex101.com/r/zruNcQ/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/zruNcQ/1</a></p>\n<p>If you need to create ranges only with continuous values (even though does not really respect your example, but it wasn't really clear). You could use a <code>Scanner</code> to read each number with a while loop (no need for a regex) and check if the new number read interrupts the continuity of the current range.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) throws FileNotFoundException {\n        Scanner sc = new Scanner(new FileReader(&quot;test.txt&quot;));\n\n        int from, to, temp;\n        List&lt;Range&gt; list = new ArrayList&lt;&gt;();\n\n        if (sc.hasNext()) {\n            //Reading the first range number and assigning it to the start and end of range\n            from = to = Integer.parseInt(sc.next());\n\n            //Reading the rest of the numbers\n            while (sc.hasNext()) {\n                //Reading the number\n                temp = Integer.parseInt(sc.next());\n\n                //Checking if the range is being continued\n                if (temp == to + 1) {\n                    to = temp;\n\n                    //Checking if the continuous range has been interrupted and saving the previous range\n                } else if (temp &gt; to + 1) {\n                    list.add(new Range(from, to));\n                    from = to = temp;\n                }\n            }\n\n            //Saving the last range\n            list.add(new Range(from, to));\n        }\n\n        System.out.println(list);\n    }\n}\n\nclass Range {\n    int from, to;\n\n    public Range(int from, int to) {\n        this.from = from;\n        this.to = to;\n    }\n\n    public String toString() {\n        return String.format(&quot;(%d - %d)&quot;, from, to);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24458380,"reputation":1,"user_id":18379682,"display_name":"Lavanya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652430545,"creation_date":1652427413,"question_id":72225966,"body_markdown":"I want to separate below numbers like as(00 to 04, 10 to 14, 20 to 24)\r\n00000000000\r\n00000000001\r\n00000000002\r\n00000000003\r\n00000000010\r\n00000000011\r\n00000000012\r\n00000000014\r\n00000000020\r\n00000000021\r\n00000000022\r\n00000000024\r\n00000000030\r\n00000000031\r\n00000000032\r\n00000000034\r\n00000000100\r\n00000000101\r\n00000000110\r\n00000000111\r\n00000000120\r\n00000000121","title":"How to separate files, number wise using regular expressions in java/shell?","body":"<p>I want to separate below numbers like as(00 to 04, 10 to 14, 20 to 24)\n00000000000\n00000000001\n00000000002\n00000000003\n00000000010\n00000000011\n00000000012\n00000000014\n00000000020\n00000000021\n00000000022\n00000000024\n00000000030\n00000000031\n00000000032\n00000000034\n00000000100\n00000000101\n00000000110\n00000000111\n00000000120\n00000000121</p>\n"},{"tags":["java","multithreading","parallel-processing","bubble-sort"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1652294557,"post_id":72205986,"comment_id":127574554,"body_markdown":"In your tags you added `bubble-sort` but you didn&#39;t mention it in your question. Does it have to be implemented specifically with bubble-sort or with any sorting algorithm?","body":"In your tags you added <code>bubble-sort</code> but you didn&#39;t mention it in your question. Does it have to be implemented specifically with bubble-sort or with any sorting algorithm?"},{"owner":{"account_id":23444590,"reputation":23,"user_id":17501589,"display_name":"dealerprogrammer"},"score":0,"creation_date":1652361335,"post_id":72205986,"comment_id":127591237,"body_markdown":"Thank you for noticing.\n\nBubble-Sort is kinda the same as Odd-Even Sort, which I need to implement, but the version is in parallel.\n\nOdd-Even Transposition Sort is a parallel sorting algorithm. It is based on the Bubble Sort technique, which compares every 2 consecutive numbers in the array and swaps them if the first is greater than the second to get an ascending order array.","body":"Thank you for noticing.  Bubble-Sort is kinda the same as Odd-Even Sort, which I need to implement, but the version is in parallel.  Odd-Even Transposition Sort is a parallel sorting algorithm. It is based on the Bubble Sort technique, which compares every 2 consecutive numbers in the array and swaps them if the first is greater than the second to get an ascending order array."}],"answers":[{"tags":[],"owner":{"account_id":14809199,"reputation":220,"user_id":10695357,"display_name":"BrockenDuck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652430541,"creation_date":1652396982,"answer_id":72222938,"question_id":72205986,"body_markdown":"Welcome to StackOverflow !\r\n\r\n&gt; How to know how many parts should I divide my array list? For example, I use 17 elements for now to make it more understandable.\r\n\r\nYour intuition to divide the array into subarrays is correct, as it is often the basis for concurrent sorting algorithms. As you know the algorithm already, we only have to discuss the implementation :\r\n\r\n 1. The intuitive solution would be to create a `thread` for every odd index, `start()` all of them for the compare-and-swap and `join()` them to the main thread to wait on the result. Rince and repeat this `N` times. This is very inefficient, however, as the overhead of creating and starting all of the `O(N^2)` threads is far to big for the fast compare-and-swap.\r\n 2. We can also create threads for every odd index, and make them repeatedly compare-and-swap between left and right. This is problematic as we would have to lock left and right repeatedly (to prevent data races), would lead to a lot of useless overhead with the scheduler and we wouldn&#39;t know when we are finished.\r\n 3. Lastly, we can create threads for every odd index, also make them repeatedly alternate between left and right and, every time, make them wait on a barrier. This seems for me to be the correct option as it minimizes thread management overhead and also limits useless comparisons and data races.\r\n\r\nThis leads us to the following code :\r\n``` lang-java\r\nimport java.util.Arrays;\r\nimport java.util.concurrent.BrokenBarrierException;\r\nimport java.util.concurrent.CyclicBarrier;\r\n\r\npublic class OddEvenSort {\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = {83, 71, 72, 26,  6, 81, 53, 72, 20, 35, 40, 79, 3, 90, 89, 52, 30};\r\n\t\tsortArr(arr);\r\n\t\tSystem.out.println(Arrays.toString(arr));\r\n\t}\r\n\t\r\n\tpublic static void sortArr(int[] arr) {\r\n\t\tint threadNum = arr.length/2;\r\n\t\tCyclicBarrier barr = new CyclicBarrier(threadNum);\r\n\t\tThread[] threads = new Thread[threadNum];\r\n\t\tfor (int i = 0; i &lt; threadNum; i++) {\r\n\t\t\tthreads[i] = new Thread(new CompareSwapThread(arr, 2*i + 1, barr));\r\n\t\t\tthreads[i].start();\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; threadNum; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tthreads[i].join();\r\n\t\t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass CompareSwapThread implements Runnable {\r\n\tprivate int[] arr;\r\n\tprivate int index;\r\n\tprivate CyclicBarrier barr;\r\n\t\r\n\tpublic CompareSwapThread(int[] arr, int index, CyclicBarrier barr) {\r\n\t\tthis.arr = arr;\r\n\t\tthis.index = index;\r\n\t\tthis.barr = barr;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif (arr[index - 1] &gt; arr[index]) {\r\n\t\t\t\tint t = arr[index - 1];\r\n\t\t\t\tarr[index - 1] = arr[index];\r\n\t\t\t\tarr[index] = t;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tbarr.await();\r\n\t\t\t} catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\r\n\t\t\tif (index + 1 &lt; arr.length &amp;&amp; arr[index] &gt; arr[index + 1]) {\r\n\t\t\t\tint t = arr[index];\r\n\t\t\t\tarr[index] = arr[index + 1];\r\n\t\t\t\tarr[index + 1] = t;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tbarr.await();\r\n\t\t\t} catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\n\r\nNotice that this algorithm has a runtime of `O(n)` which is not the best for such a parallel algorithm. Another algorithm you can try to implement in parrallel is the **[MergeSort][1]** algorithm. There are a lot of things you can parallelize with this one, but the most important one is the merging, as it is the bottleneck in the sequential algorithm. You can look at **[Batcher Odd-Even Mergesort][2]** or look at [other parallel merges][3].\r\n\r\n&gt; Also, I do not know if I should use something called ExecutorService or just create threads normally.\r\n\r\nJava provides a lot of different tools for parallelism, which operate at different levels of abstraction. One could say that [`ExecutorService`][4] is more &#39;high-level&#39; than basic threads, as it simplifies the thread managment. It also will optimize scheduling of tasks, as to make execution better.\r\n\r\nHere is our implementation, using `ExecutorService` :\r\n```lang-java\r\nimport java.util.Arrays;\r\nimport java.util.concurrent.BrokenBarrierException;\r\nimport java.util.concurrent.CyclicBarrier;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.Future;\r\n\r\npublic class OddEvenSort {\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = {83, 71, 72, 26,  6, 81, 53, 72, 20, 35, 40, 79, 3, 90, 89, 52, 30};\r\n\t\tsortArr(arr);\r\n\t\tSystem.out.println(Arrays.toString(arr));\r\n\t}\r\n\t\r\n\tpublic static void sortArr(int[] arr) {\r\n\t\tint threadNum = arr.length/2;\r\n\t\tCyclicBarrier barr = new CyclicBarrier(threadNum);\r\n\t\tExecutorService exec = Executors.newFixedThreadPool(threadNum);\r\n\t\tFuture&lt;?&gt;[] awaits = new Future&lt;?&gt;[threadNum];\r\n\t\tfor (int i = 0; i &lt; threadNum; i++) {\r\n\t\t\tawaits[i] = exec.submit(new CompareSwapThread(arr, 2*i + 1, barr));\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; threadNum; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tawaits[i].get();\r\n\t\t\t} catch (InterruptedException | ExecutionException e) {e.printStackTrace();}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass CompareSwapThread implements Runnable {\r\n\tprivate int[] arr;\r\n\tprivate int index;\r\n\tprivate CyclicBarrier barr;\r\n\t\r\n\tpublic CompareSwapThread(int[] arr, int index, CyclicBarrier barr) {\r\n\t\tthis.arr = arr;\r\n\t\tthis.index = index;\r\n\t\tthis.barr = barr;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif (arr[index - 1] &gt; arr[index]) {\r\n\t\t\t\tint t = arr[index - 1];\r\n\t\t\t\tarr[index - 1] = arr[index];\r\n\t\t\t\tarr[index] = t;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tbarr.await();\r\n\t\t\t} catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\r\n\t\t\tif (index + 1 &lt; arr.length &amp;&amp; arr[index] &gt; arr[index + 1]) {\r\n\t\t\t\tint t = arr[index];\r\n\t\t\t\tarr[index] = arr[index + 1];\r\n\t\t\t\tarr[index + 1] = t;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tbarr.await();\r\n\t\t\t} catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\nAs you can see, we are using the thread *factory* [`newFixedThreadPool`][5] static method to generate and intantiate all the treads. We then add our tasks to the thread pool, which will return a [`Future`][6] variable. A `Future` will hold the value, when the thread finished (in our case null). Calling the [`Future.get()`][7] method will wait for the result (and thus the thread to be finished). Notice that is you want to implement some sort of nested thread parralelism (for example, when parallelizing MergeSort). You should use [`ForkJoinPool`][8] as it is made specifically for that. Finally, [here][9] is a good tutorial about `ExecutorService`.\r\n\r\nIf you need any detail, feel free to ask in the comments.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Merge_sort#Parallel_merge_sort\r\n  [2]: https://en.wikipedia.org/wiki/Batcher_odd%E2%80%93even_mergesort\r\n  [3]: https://en.wikipedia.org/wiki/Merge_algorithm#Parallel_merge\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html\r\n  [7]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get()\r\n  [8]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ForkJoinPool.html\r\n  [9]: https://www.baeldung.com/java-executor-service-tutorial","title":"Odd-Even sort Java using multithreading","body":"<p>Welcome to StackOverflow !</p>\n<blockquote>\n<p>How to know how many parts should I divide my array list? For example, I use 17 elements for now to make it more understandable.</p>\n</blockquote>\n<p>Your intuition to divide the array into subarrays is correct, as it is often the basis for concurrent sorting algorithms. As you know the algorithm already, we only have to discuss the implementation :</p>\n<ol>\n<li>The intuitive solution would be to create a <code>thread</code> for every odd index, <code>start()</code> all of them for the compare-and-swap and <code>join()</code> them to the main thread to wait on the result. Rince and repeat this <code>N</code> times. This is very inefficient, however, as the overhead of creating and starting all of the <code>O(N^2)</code> threads is far to big for the fast compare-and-swap.</li>\n<li>We can also create threads for every odd index, and make them repeatedly compare-and-swap between left and right. This is problematic as we would have to lock left and right repeatedly (to prevent data races), would lead to a lot of useless overhead with the scheduler and we wouldn't know when we are finished.</li>\n<li>Lastly, we can create threads for every odd index, also make them repeatedly alternate between left and right and, every time, make them wait on a barrier. This seems for me to be the correct option as it minimizes thread management overhead and also limits useless comparisons and data races.</li>\n</ol>\n<p>This leads us to the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.concurrent.BrokenBarrierException;\nimport java.util.concurrent.CyclicBarrier;\n\npublic class OddEvenSort {\n    public static void main(String[] args) {\n        int[] arr = {83, 71, 72, 26,  6, 81, 53, 72, 20, 35, 40, 79, 3, 90, 89, 52, 30};\n        sortArr(arr);\n        System.out.println(Arrays.toString(arr));\n    }\n    \n    public static void sortArr(int[] arr) {\n        int threadNum = arr.length/2;\n        CyclicBarrier barr = new CyclicBarrier(threadNum);\n        Thread[] threads = new Thread[threadNum];\n        for (int i = 0; i &lt; threadNum; i++) {\n            threads[i] = new Thread(new CompareSwapThread(arr, 2*i + 1, barr));\n            threads[i].start();\n        }\n        for (int i = 0; i &lt; threadNum; i++) {\n            try {\n                threads[i].join();\n            } catch (InterruptedException e) {e.printStackTrace();}\n        }\n    }\n}\n\nclass CompareSwapThread implements Runnable {\n    private int[] arr;\n    private int index;\n    private CyclicBarrier barr;\n    \n    public CompareSwapThread(int[] arr, int index, CyclicBarrier barr) {\n        this.arr = arr;\n        this.index = index;\n        this.barr = barr;\n    }\n    \n    @Override\n    public void run() {\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[index - 1] &gt; arr[index]) {\n                int t = arr[index - 1];\n                arr[index - 1] = arr[index];\n                arr[index] = t;\n            }\n            try {\n                barr.await();\n            } catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\n            if (index + 1 &lt; arr.length &amp;&amp; arr[index] &gt; arr[index + 1]) {\n                int t = arr[index];\n                arr[index] = arr[index + 1];\n                arr[index + 1] = t;\n            }\n            try {\n                barr.await();\n            } catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\n        }\n    }   \n}\n</code></pre>\n<p>Notice that this algorithm has a runtime of <code>O(n)</code> which is not the best for such a parallel algorithm. Another algorithm you can try to implement in parrallel is the <strong><a href=\"https://en.wikipedia.org/wiki/Merge_sort#Parallel_merge_sort\" rel=\"nofollow noreferrer\">MergeSort</a></strong> algorithm. There are a lot of things you can parallelize with this one, but the most important one is the merging, as it is the bottleneck in the sequential algorithm. You can look at <strong><a href=\"https://en.wikipedia.org/wiki/Batcher_odd%E2%80%93even_mergesort\" rel=\"nofollow noreferrer\">Batcher Odd-Even Mergesort</a></strong> or look at <a href=\"https://en.wikipedia.org/wiki/Merge_algorithm#Parallel_merge\" rel=\"nofollow noreferrer\">other parallel merges</a>.</p>\n<blockquote>\n<p>Also, I do not know if I should use something called ExecutorService or just create threads normally.</p>\n</blockquote>\n<p>Java provides a lot of different tools for parallelism, which operate at different levels of abstraction. One could say that <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> is more 'high-level' than basic threads, as it simplifies the thread managment. It also will optimize scheduling of tasks, as to make execution better.</p>\n<p>Here is our implementation, using <code>ExecutorService</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.concurrent.BrokenBarrierException;\nimport java.util.concurrent.CyclicBarrier;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class OddEvenSort {\n    public static void main(String[] args) {\n        int[] arr = {83, 71, 72, 26,  6, 81, 53, 72, 20, 35, 40, 79, 3, 90, 89, 52, 30};\n        sortArr(arr);\n        System.out.println(Arrays.toString(arr));\n    }\n    \n    public static void sortArr(int[] arr) {\n        int threadNum = arr.length/2;\n        CyclicBarrier barr = new CyclicBarrier(threadNum);\n        ExecutorService exec = Executors.newFixedThreadPool(threadNum);\n        Future&lt;?&gt;[] awaits = new Future&lt;?&gt;[threadNum];\n        for (int i = 0; i &lt; threadNum; i++) {\n            awaits[i] = exec.submit(new CompareSwapThread(arr, 2*i + 1, barr));\n        }\n        for (int i = 0; i &lt; threadNum; i++) {\n            try {\n                awaits[i].get();\n            } catch (InterruptedException | ExecutionException e) {e.printStackTrace();}\n        }\n    }\n}\n\nclass CompareSwapThread implements Runnable {\n    private int[] arr;\n    private int index;\n    private CyclicBarrier barr;\n    \n    public CompareSwapThread(int[] arr, int index, CyclicBarrier barr) {\n        this.arr = arr;\n        this.index = index;\n        this.barr = barr;\n    }\n    \n    @Override\n    public void run() {\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[index - 1] &gt; arr[index]) {\n                int t = arr[index - 1];\n                arr[index - 1] = arr[index];\n                arr[index] = t;\n            }\n            try {\n                barr.await();\n            } catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\n            if (index + 1 &lt; arr.length &amp;&amp; arr[index] &gt; arr[index + 1]) {\n                int t = arr[index];\n                arr[index] = arr[index + 1];\n                arr[index + 1] = t;\n            }\n            try {\n                barr.await();\n            } catch (InterruptedException | BrokenBarrierException e) {e.printStackTrace();}\n        }\n    }   \n}\n</code></pre>\n<p>As you can see, we are using the thread <em>factory</em> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow noreferrer\"><code>newFixedThreadPool</code></a> static method to generate and intantiate all the treads. We then add our tasks to the thread pool, which will return a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future</code></a> variable. A <code>Future</code> will hold the value, when the thread finished (in our case null). Calling the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\"><code>Future.get()</code></a> method will wait for the result (and thus the thread to be finished). Notice that is you want to implement some sort of nested thread parralelism (for example, when parallelizing MergeSort). You should use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\"><code>ForkJoinPool</code></a> as it is made specifically for that. Finally, <a href=\"https://www.baeldung.com/java-executor-service-tutorial\" rel=\"nofollow noreferrer\">here</a> is a good tutorial about <code>ExecutorService</code>.</p>\n<p>If you need any detail, feel free to ask in the comments.</p>\n"}],"owner":{"account_id":23444590,"reputation":23,"user_id":17501589,"display_name":"dealerprogrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1292,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72222938,"answer_count":1,"score":0,"last_activity_date":1652430541,"creation_date":1652293849,"question_id":72205986,"body_markdown":"I am new to this group, so I believe it is a possibility to get help here since I could not find any information about my question on Google.\r\n\r\nI am trying to implement Java EvenOdd transposition sort parallel. Therefore, as I algorithm I thought that dividing into partitions would be a great idea:\r\n\r\n 1. How to know how many parts should I divide my array list? For example, I use 17 elements for now to make it more understandable.\r\n 2. Also, I do not know if I should use something called ExecutorService or just create threads normally.\r\n \r\nI add my current logic here: Start from the Odd phase and divide into two parts and assign two threads to make these comparisons, after that create a Barrier to wait for threads and therefore start other threads to work with the even indexes similarly. Thanks for any help that you could give me. Currently, I do not know how to implement this algorithm, so any words might help.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OSvJL.png","title":"Odd-Even sort Java using multithreading","body":"<p>I am new to this group, so I believe it is a possibility to get help here since I could not find any information about my question on Google.</p>\n<p>I am trying to implement Java EvenOdd transposition sort parallel. Therefore, as I algorithm I thought that dividing into partitions would be a great idea:</p>\n<ol>\n<li>How to know how many parts should I divide my array list? For example, I use 17 elements for now to make it more understandable.</li>\n<li>Also, I do not know if I should use something called ExecutorService or just create threads normally.</li>\n</ol>\n<p>I add my current logic here: Start from the Odd phase and divide into two parts and assign two threads to make these comparisons, after that create a Barrier to wait for threads and therefore start other threads to work with the even indexes similarly. Thanks for any help that you could give me. Currently, I do not know how to implement this algorithm, so any words might help.<a href=\"https://i.stack.imgur.com/OSvJL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OSvJL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","apache-flink","outer-join","stream-processing"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652430427,"creation_date":1652430116,"answer_id":72226488,"question_id":72219901,"body_markdown":"This is the expected behavior. `withIdleness` doesn&#39;t try to handle the case where all streams are idle. It only helps in cases where there are still events flowing from at least one source partition/shard/split.\r\n\r\nTo get the behavior you desire (in the context of a continuous streaming job), you&#39;ll have to implement a custom watermark strategy that advances the watermark based on a processing time timer. [Here&#39;s an implementation that uses the legacy watermark API.](https://github.com/aljoscha/flink/blob/6e4419e550caa0e5b162bc0d2ccc43f6b0b3860f/flink-streaming-java/src/main/java/org/apache/flink/streaming/api/functions/timestamps/ProcessingTimeTrailingBoundedOutOfOrdernessTimestampExtractor.java) \r\n\r\nOn the other hand, if the job is complete and you just want to drain the final results before shutting it down, you can use the `--drain` option when you stop the job. Or if you use bounded sources this will happen automatically.","title":"How to drain the window after a Flink join using coGroup()?","body":"<p>This is the expected behavior. <code>withIdleness</code> doesn't try to handle the case where all streams are idle. It only helps in cases where there are still events flowing from at least one source partition/shard/split.</p>\n<p>To get the behavior you desire (in the context of a continuous streaming job), you'll have to implement a custom watermark strategy that advances the watermark based on a processing time timer. <a href=\"https://github.com/aljoscha/flink/blob/6e4419e550caa0e5b162bc0d2ccc43f6b0b3860f/flink-streaming-java/src/main/java/org/apache/flink/streaming/api/functions/timestamps/ProcessingTimeTrailingBoundedOutOfOrdernessTimestampExtractor.java\" rel=\"nofollow noreferrer\">Here's an implementation that uses the legacy watermark API.</a></p>\n<p>On the other hand, if the job is complete and you just want to drain the final results before shutting it down, you can use the <code>--drain</code> option when you stop the job. Or if you use bounded sources this will happen automatically.</p>\n"}],"owner":{"account_id":2776621,"reputation":12858,"user_id":2390083,"accept_rate":75,"display_name":"Beryllium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652430427,"creation_date":1652376622,"question_id":72219901,"body_markdown":"I&#39;d like to join data coming in from two Kafka topics (&quot;left&quot; and &quot;right&quot;).\r\n\r\nMatching records are to be joined using an ID, but if a &quot;left&quot; or a &quot;right&quot; record is missing, the other one should be passed downstream after a certain timeout. Therefore I have chosen to use the `coGroup` function.\r\n\r\nThis works, but there is one problem: If there is no message at all, there is always at least one record which stays in an internal buffer for good. It gets pushed out when new messages arrive. Otherwise it is stuck.\r\n\r\nThe expected behaviour is that all records should be pushed out after the configured idle timeout has been reached.\r\n\r\nSome information which might be relevant\r\n\r\n * Flink 1.14.4\r\n * The Flink parallelism is set to 8, so is the number of partitions in both Kafka topics.\r\n * Flink checkpointing is enabled\r\n * Event-time processing is to be used\r\n * Lombok is used: So `val` is like `final var`\r\n\r\nSome code snippets:\r\n\r\n\r\n## Relevant join settings\r\n\r\n    public static final int AUTO_WATERMARK_INTERVAL_MS = 500;\r\n\r\n    public static final Duration SOURCE_MAX_OUT_OF_ORDERNESS = Duration.ofMillis(4000);\r\n    public static final Duration SOURCE_IDLE_TIMEOUT = Duration.ofMillis(1000);\r\n\r\n    public static final Duration TRANSFORMATION_MAX_OUT_OF_ORDERNESS = Duration.ofMillis(5000);\r\n    public static final Duration TRANSFORMATION_IDLE_TIMEOUT = Duration.ofMillis(1000);\r\n\r\n    public static final Time JOIN_WINDOW_SIZE = Time.milliseconds(1500);\r\n\r\n\r\n## Create `KafkaSource`\r\n\r\n    private static KafkaSource&lt;JoinRecord&gt; createKafkaSource(Config config, String topic) {\r\n        val properties = KafkaConfigUtils.createConsumerConfig(config);\r\n\r\n        val deserializationSchema = new KafkaRecordDeserializationSchema&lt;JoinRecord&gt;() {\r\n            @Override\r\n            public void deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record, Collector&lt;JoinRecord&gt; out) {\r\n                val m = JsonUtils.deserialize(record.value(), JoinRecord.class);\r\n\r\n                val copy = m.toBuilder()\r\n                        .partition(record.partition())\r\n                        .build();\r\n\r\n                out.collect(copy);\r\n            }\r\n\r\n            @Override\r\n            public TypeInformation&lt;JoinRecord&gt; getProducedType() {\r\n                return TypeInformation.of(JoinRecord.class);\r\n            }\r\n        };\r\n\r\n        return KafkaSource.&lt;JoinRecord&gt;builder()\r\n                .setProperties(properties)\r\n                .setBootstrapServers(config.kafkaBootstrapServers)\r\n                .setTopics(topic)\r\n                .setGroupId(config.kafkaInputGroupIdPrefix + &quot;-&quot; + String.join(&quot;_&quot;, topic))\r\n                .setDeserializer(deserializationSchema)\r\n                .setStartingOffsets(OffsetsInitializer.latest())\r\n                .build();\r\n    }\r\n\r\n\r\n## Create `DataStreamSource`\r\n\r\nThen the `DataStreamSource` is built on top of the `KafkaSource`:\r\n* Configure &quot;max out of orderness&quot;\r\n* Configure &quot;idleness&quot;\r\n* Extract timestamp from record, to be used for event time processing\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static DataStreamSource&lt;JoinRecord&gt; createLeftSource(Config config,\r\n                                                                 StreamExecutionEnvironment env) {\r\n        val leftKafkaSource = createLeftKafkaSource(config);\r\n\r\n        val leftWms = WatermarkStrategy\r\n                .&lt;JoinRecord&gt;forBoundedOutOfOrderness(SOURCE_MAX_OUT_OF_ORDERNESS)\r\n                .withIdleness(SOURCE_IDLE_TIMEOUT)\r\n                .withTimestampAssigner((joinRecord, __) -&gt; joinRecord.timestamp.toEpochSecond() * 1000L);\r\n\r\n        return env.fromSource(leftKafkaSource, leftWms, &quot;left-kafka-source&quot;);\r\n    }\r\n\r\n\r\n## Use `keyBy`\r\n\r\nThe *keyed sources* are created on top of the `DataSource` instances like this:\r\n * Again configure &quot;out of orderness&quot; and &quot;idleness&quot;\r\n * Again extract timestamp\r\n\r\n        val leftWms = WatermarkStrategy\r\n                .&lt;JoinRecord&gt;forBoundedOutOfOrderness(TRANSFORMATION_MAX_OUT_OF_ORDERNESS)\r\n                .withIdleness(TRANSFORMATION_IDLE_TIMEOUT)\r\n                .withTimestampAssigner((joinRecord, __) -&gt; {\r\n                    if (VERBOSE_JOIN)\r\n                        log.info(&quot;Left : &quot; + joinRecord);\r\n                    return joinRecord.timestamp.toEpochSecond() * 1000L;\r\n                });\r\n\r\n        val leftKeyedSource = leftSource\r\n                .keyBy(jr -&gt; jr.id)\r\n                .assignTimestampsAndWatermarks(leftWms)\r\n                .name(&quot;left-keyed-source&quot;);\r\n\r\n\r\n## Join using `coGroup`\r\n\r\nThe join then combines the left and the right *keyed sources*\r\n\r\n        val joinedStream = leftKeyedSource\r\n                .coGroup(rightKeyedSource)\r\n                .where(left -&gt; left.id)\r\n                .equalTo(right -&gt; right.id)\r\n                .window(TumblingEventTimeWindows.of(JOIN_WINDOW_SIZE))\r\n                .apply(new CoGroupFunction&lt;JoinRecord, JoinRecord, JoinRecord&gt;() {\r\n                           @Override\r\n                           public void coGroup(Iterable&lt;JoinRecord&gt; leftRecords, \r\n                                               Iterable&lt;JoinRecord&gt; rightRecords,\r\n                                               Collector&lt;JoinRecord&gt; out) {\r\n                               // Transform\r\n                               val result = ...;\r\n\r\n                               out.collect(result);\r\n                           }\r\n\r\n## Write stream to console\r\n\r\nThe resulting `joinedStream` is written to the console:\r\n\r\n        val consoleSink = new PrintSinkFunction&lt;JoinRecord&gt;();\r\n        joinedStream.addSink(consoleSink);\r\n\r\n\r\n * How can I configure this join operation, so that all records are pushed downstream after the configured idle timeout?\r\n * If it can&#39;t be done this way: Is there another option?","title":"How to drain the window after a Flink join using coGroup()?","body":"<p>I'd like to join data coming in from two Kafka topics (&quot;left&quot; and &quot;right&quot;).</p>\n<p>Matching records are to be joined using an ID, but if a &quot;left&quot; or a &quot;right&quot; record is missing, the other one should be passed downstream after a certain timeout. Therefore I have chosen to use the <code>coGroup</code> function.</p>\n<p>This works, but there is one problem: If there is no message at all, there is always at least one record which stays in an internal buffer for good. It gets pushed out when new messages arrive. Otherwise it is stuck.</p>\n<p>The expected behaviour is that all records should be pushed out after the configured idle timeout has been reached.</p>\n<p>Some information which might be relevant</p>\n<ul>\n<li>Flink 1.14.4</li>\n<li>The Flink parallelism is set to 8, so is the number of partitions in both Kafka topics.</li>\n<li>Flink checkpointing is enabled</li>\n<li>Event-time processing is to be used</li>\n<li>Lombok is used: So <code>val</code> is like <code>final var</code></li>\n</ul>\n<p>Some code snippets:</p>\n<h2>Relevant join settings</h2>\n<pre><code>public static final int AUTO_WATERMARK_INTERVAL_MS = 500;\n\npublic static final Duration SOURCE_MAX_OUT_OF_ORDERNESS = Duration.ofMillis(4000);\npublic static final Duration SOURCE_IDLE_TIMEOUT = Duration.ofMillis(1000);\n\npublic static final Duration TRANSFORMATION_MAX_OUT_OF_ORDERNESS = Duration.ofMillis(5000);\npublic static final Duration TRANSFORMATION_IDLE_TIMEOUT = Duration.ofMillis(1000);\n\npublic static final Time JOIN_WINDOW_SIZE = Time.milliseconds(1500);\n</code></pre>\n<h2>Create <code>KafkaSource</code></h2>\n<pre><code>private static KafkaSource&lt;JoinRecord&gt; createKafkaSource(Config config, String topic) {\n    val properties = KafkaConfigUtils.createConsumerConfig(config);\n\n    val deserializationSchema = new KafkaRecordDeserializationSchema&lt;JoinRecord&gt;() {\n        @Override\n        public void deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record, Collector&lt;JoinRecord&gt; out) {\n            val m = JsonUtils.deserialize(record.value(), JoinRecord.class);\n\n            val copy = m.toBuilder()\n                    .partition(record.partition())\n                    .build();\n\n            out.collect(copy);\n        }\n\n        @Override\n        public TypeInformation&lt;JoinRecord&gt; getProducedType() {\n            return TypeInformation.of(JoinRecord.class);\n        }\n    };\n\n    return KafkaSource.&lt;JoinRecord&gt;builder()\n            .setProperties(properties)\n            .setBootstrapServers(config.kafkaBootstrapServers)\n            .setTopics(topic)\n            .setGroupId(config.kafkaInputGroupIdPrefix + &quot;-&quot; + String.join(&quot;_&quot;, topic))\n            .setDeserializer(deserializationSchema)\n            .setStartingOffsets(OffsetsInitializer.latest())\n            .build();\n}\n</code></pre>\n<h2>Create <code>DataStreamSource</code></h2>\n<p>Then the <code>DataStreamSource</code> is built on top of the <code>KafkaSource</code>:</p>\n<ul>\n<li>Configure &quot;max out of orderness&quot;</li>\n<li>Configure &quot;idleness&quot;</li>\n<li>Extract timestamp from record, to be used for event time processing</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private static DataStreamSource&lt;JoinRecord&gt; createLeftSource(Config config,\n                                                             StreamExecutionEnvironment env) {\n    val leftKafkaSource = createLeftKafkaSource(config);\n\n    val leftWms = WatermarkStrategy\n            .&lt;JoinRecord&gt;forBoundedOutOfOrderness(SOURCE_MAX_OUT_OF_ORDERNESS)\n            .withIdleness(SOURCE_IDLE_TIMEOUT)\n            .withTimestampAssigner((joinRecord, __) -&gt; joinRecord.timestamp.toEpochSecond() * 1000L);\n\n    return env.fromSource(leftKafkaSource, leftWms, &quot;left-kafka-source&quot;);\n}\n</code></pre>\n<h2>Use <code>keyBy</code></h2>\n<p>The <em>keyed sources</em> are created on top of the <code>DataSource</code> instances like this:</p>\n<ul>\n<li><p>Again configure &quot;out of orderness&quot; and &quot;idleness&quot;</p>\n</li>\n<li><p>Again extract timestamp</p>\n<pre><code> val leftWms = WatermarkStrategy\n         .&lt;JoinRecord&gt;forBoundedOutOfOrderness(TRANSFORMATION_MAX_OUT_OF_ORDERNESS)\n         .withIdleness(TRANSFORMATION_IDLE_TIMEOUT)\n         .withTimestampAssigner((joinRecord, __) -&gt; {\n             if (VERBOSE_JOIN)\n                 log.info(&quot;Left : &quot; + joinRecord);\n             return joinRecord.timestamp.toEpochSecond() * 1000L;\n         });\n\n val leftKeyedSource = leftSource\n         .keyBy(jr -&gt; jr.id)\n         .assignTimestampsAndWatermarks(leftWms)\n         .name(&quot;left-keyed-source&quot;);\n</code></pre>\n</li>\n</ul>\n<h2>Join using <code>coGroup</code></h2>\n<p>The join then combines the left and the right <em>keyed sources</em></p>\n<pre><code>    val joinedStream = leftKeyedSource\n            .coGroup(rightKeyedSource)\n            .where(left -&gt; left.id)\n            .equalTo(right -&gt; right.id)\n            .window(TumblingEventTimeWindows.of(JOIN_WINDOW_SIZE))\n            .apply(new CoGroupFunction&lt;JoinRecord, JoinRecord, JoinRecord&gt;() {\n                       @Override\n                       public void coGroup(Iterable&lt;JoinRecord&gt; leftRecords, \n                                           Iterable&lt;JoinRecord&gt; rightRecords,\n                                           Collector&lt;JoinRecord&gt; out) {\n                           // Transform\n                           val result = ...;\n\n                           out.collect(result);\n                       }\n</code></pre>\n<h2>Write stream to console</h2>\n<p>The resulting <code>joinedStream</code> is written to the console:</p>\n<pre><code>    val consoleSink = new PrintSinkFunction&lt;JoinRecord&gt;();\n    joinedStream.addSink(consoleSink);\n</code></pre>\n<ul>\n<li>How can I configure this join operation, so that all records are pushed downstream after the configured idle timeout?</li>\n<li>If it can't be done this way: Is there another option?</li>\n</ul>\n"},{"tags":["java","swing","awt","java-2d"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652451944,"post_id":72226033,"comment_id":127616840,"body_markdown":"See [Drag a Painted Shape](https://stackoverflow.com/questions/67443343/drag-a-painted-shape) for one approach.","body":"See <a href=\"https://stackoverflow.com/questions/67443343/drag-a-painted-shape\">Drag a Painted Shape</a> for one approach."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652430127,"creation_date":1652430127,"answer_id":72226494,"question_id":72226033,"body_markdown":"Construct a [`new Area(Shape)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Area.html#%3Cinit%3E(java.awt.Shape)) of both rectangles, then [`area1.add(area2)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Area.html#add(java.awt.geom.Area)) (add one to the other). \r\n\r\nSee also the [2D Graphics](https://docs.oracle.com/javase/tutorial/2d/index.html) trail of the tutorial.\r\n\r\n","title":"How to combine rectangles?","body":"<p>Construct a <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Area.html#%3Cinit%3E(java.awt.Shape)\" rel=\"nofollow noreferrer\"><code>new Area(Shape)</code></a> of both rectangles, then <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Area.html#add(java.awt.geom.Area)\" rel=\"nofollow noreferrer\"><code>area1.add(area2)</code></a> (add one to the other).</p>\n<p>See also the <a href=\"https://docs.oracle.com/javase/tutorial/2d/index.html\" rel=\"nofollow noreferrer\">2D Graphics</a> trail of the tutorial.</p>\n"}],"owner":{"account_id":23476858,"reputation":1,"user_id":17529537,"display_name":"KAWFVKe24"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652430395,"creation_date":1652427727,"question_id":72226033,"body_markdown":"I am working with the Java Swing library. I have two rectangles of the same width and height and the same coordinates. I want to combine them into one so I can get a cross. How can I achieve it?\r\n\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/mHEAA.png&quot;&gt;","title":"How to combine rectangles?","body":"<p>I am working with the Java Swing library. I have two rectangles of the same width and height and the same coordinates. I want to combine them into one so I can get a cross. How can I achieve it?</p>\n<img src=\"https://i.stack.imgur.com/mHEAA.png\">\n"},{"tags":["java"],"comments":[{"owner":{"account_id":459249,"reputation":10226,"user_id":859596,"accept_rate":100,"display_name":"Luca Geretti"},"score":2,"creation_date":1341054983,"post_id":11273440,"comment_id":14824180,"body_markdown":"Mind that I rolled back the original question, because your edits missed the whole point of the question itself.","body":"Mind that I rolled back the original question, because your edits missed the whole point of the question itself."},{"owner":{"account_id":177058,"reputation":4569,"user_id":408159,"accept_rate":78,"display_name":"Thomas Clowes"},"score":5,"creation_date":1417606425,"post_id":11273440,"comment_id":43011289,"body_markdown":"The issue is that this is no longer a question, and does not make any sense at all ;)","body":"The issue is that this is no longer a question, and does not make any sense at all ;)"},{"owner":{"account_id":4885235,"reputation":1691,"user_id":3937903,"accept_rate":86,"display_name":"oziomajnr"},"score":0,"creation_date":1484927520,"post_id":11273440,"comment_id":70726518,"body_markdown":"please this question needs edit, it does&#39;nt make sense.","body":"please this question needs edit, it does&#39;nt make sense."},{"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"score":0,"creation_date":1488173971,"post_id":11273440,"comment_id":72097232,"body_markdown":"This question needs moderator attention, looks like due to edits, the question is no longer there.","body":"This question needs moderator attention, looks like due to edits, the question is no longer there."}],"answers":[{"tags":[],"owner":{"account_id":1575352,"reputation":1587,"user_id":1461963,"accept_rate":56,"display_name":"Wayne Rooney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341053215,"creation_date":1341053215,"answer_id":11273457,"question_id":11273440,"body_markdown":"no... Once u have executed the statement anotherList.addAll(list) and after that if u change some list data it does not carry to another list","title":"Inserting one list into another list in java?","body":"<p>no... Once u have executed the statement anotherList.addAll(list) and after that if u change some list data it does not carry to another list</p>\n"},{"tags":[],"owner":{"account_id":34192,"reputation":3560,"user_id":96389,"accept_rate":75,"display_name":"setzamora"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1341055298,"creation_date":1341053296,"answer_id":11273465,"question_id":11273440,"body_markdown":"100, it will hold the same references. Therefore if you make a change to a specific object in the `list`, it will affect the same object in `anotherList`.\r\n\r\nAdding or removing objects in any of the list will not affect the other. \r\n\r\n`list` and `anotherList` are two different instances, they only hold the same references of the objects &quot;inside&quot; them.","title":"Inserting one list into another list in java?","body":"<p>100, it will hold the same references. Therefore if you make a change to a specific object in the <code>list</code>, it will affect the same object in <code>anotherList</code>.</p>\n\n<p>Adding or removing objects in any of the list will not affect the other. </p>\n\n<p><code>list</code> and <code>anotherList</code> are two different instances, they only hold the same references of the objects \"inside\" them.</p>\n"},{"tags":[],"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1341053495,"creation_date":1341053495,"answer_id":11273482,"question_id":11273440,"body_markdown":"An object is only once in memory. Your first addition to `list` just adds the object references. \r\n\r\n`anotherList.addAll` will also just add the references. So still only 100 objects in memory.\r\n\r\nIf you change `list` by adding/removing elements, `anotherList` won&#39;t be changed. But if you change any object in `list`, then it&#39;s content will be also changed, when accessing it from `anotherList`, because the same reference is being pointed to from both lists.","title":"Inserting one list into another list in java?","body":"<p>An object is only once in memory. Your first addition to <code>list</code> just adds the object references. </p>\n\n<p><code>anotherList.addAll</code> will also just add the references. So still only 100 objects in memory.</p>\n\n<p>If you change <code>list</code> by adding/removing elements, <code>anotherList</code> won't be changed. But if you change any object in <code>list</code>, then it's content will be also changed, when accessing it from <code>anotherList</code>, because the same reference is being pointed to from both lists.</p>\n"},{"tags":[],"owner":{"account_id":459249,"reputation":10226,"user_id":859596,"accept_rate":100,"display_name":"Luca Geretti"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1341053541,"creation_date":1341053541,"answer_id":11273491,"question_id":11273440,"body_markdown":"Citing the official javadoc of `List.addAll`:\r\n\r\n    Appends all of the elements in the specified collection to the end of\r\n    this list, in the order that they are returned by the specified\r\n    collection&#39;s iterator (optional operation).  The behavior of this\r\n    operation is undefined if the specified collection is modified while\r\n    the operation is in progress.  (Note that this will occur if the\r\n    specified collection is this list, and it&#39;s nonempty.)\r\n\r\nSo you will copy the references of the objects in `list` to `anotherList`. Any method that does not operate on the referenced objects of `anotherList` (such as removal, addition, sorting) is local to it, and therefore will not influence `list`.","title":"Inserting one list into another list in java?","body":"<p>Citing the official javadoc of <code>List.addAll</code>:</p>\n\n<pre><code>Appends all of the elements in the specified collection to the end of\nthis list, in the order that they are returned by the specified\ncollection's iterator (optional operation).  The behavior of this\noperation is undefined if the specified collection is modified while\nthe operation is in progress.  (Note that this will occur if the\nspecified collection is this list, and it's nonempty.)\n</code></pre>\n\n<p>So you will copy the references of the objects in <code>list</code> to <code>anotherList</code>. Any method that does not operate on the referenced objects of <code>anotherList</code> (such as removal, addition, sorting) is local to it, and therefore will not influence <code>list</code>.</p>\n"},{"tags":[],"owner":{"account_id":913595,"reputation":5828,"user_id":946904,"accept_rate":69,"display_name":"marc wellman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534598852,"creation_date":1341053654,"answer_id":11273502,"question_id":11273440,"body_markdown":"Excerpt from the **Java API** for **addAll(collection c)** in Interface **List** [see here][1]\r\n\r\n*&quot;Appends all of the elements in the specified collection to the end of this list, in the order that they are returned by the specified collection&#39;s iterator (optional operation).&quot;*\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/List.html\r\n\r\nYou you will have as much object as you have in both lists - the number of objects in your first list plus the number of objects you have in your second list - in your case 100.","title":"Inserting one list into another list in java?","body":"<p>Excerpt from the <strong>Java API</strong> for <strong>addAll(collection c)</strong> in Interface <strong>List</strong> <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\">see here</a></p>\n\n<p><em>\"Appends all of the elements in the specified collection to the end of this list, in the order that they are returned by the specified collection's iterator (optional operation).\"</em></p>\n\n<p>You you will have as much object as you have in both lists - the number of objects in your first list plus the number of objects you have in your second list - in your case 100.</p>\n"}],"owner":{"account_id":1001687,"reputation":12271,"user_id":1016403,"accept_rate":56,"display_name":"user1016403"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200211,"favorite_count":0,"down_vote_count":2,"up_vote_count":43,"accepted_answer_id":11273482,"answer_count":5,"score":41,"last_activity_date":1652430038,"creation_date":1341053075,"question_id":11273440,"body_markdown":"I have the below java code:\r\n\r\n    List&lt;SomePojo&gt; list = new ArrayList&lt;SomePojo&gt;();\r\n    //add 100 SomePojo objects to list.\r\n\r\nNow list has 100 objects.\r\n\r\nIf I create one more instance as below:\r\n\r\n    List&lt;SomePojo&gt; anotherList = new ArrayList&lt;SomePojo&gt;();\r\n    anotherList.addAll(list);\r\n\r\nNow, how many objects will be in memory: 100 or 200 objects?\r\n\r\nIn the line below, are objects being added or only references?\r\n\r\n    anotherList.addAll(list);\r\n\r\nIf I make any change to `list`, do the same changes reflect to `anotherList` and vice-versa?\r\n","title":"Inserting one list into another list in java?","body":"<p>I have the below java code:</p>\n<pre><code>List&lt;SomePojo&gt; list = new ArrayList&lt;SomePojo&gt;();\n//add 100 SomePojo objects to list.\n</code></pre>\n<p>Now list has 100 objects.</p>\n<p>If I create one more instance as below:</p>\n<pre><code>List&lt;SomePojo&gt; anotherList = new ArrayList&lt;SomePojo&gt;();\nanotherList.addAll(list);\n</code></pre>\n<p>Now, how many objects will be in memory: 100 or 200 objects?</p>\n<p>In the line below, are objects being added or only references?</p>\n<pre><code>anotherList.addAll(list);\n</code></pre>\n<p>If I make any change to <code>list</code>, do the same changes reflect to <code>anotherList</code> and vice-versa?</p>\n"},{"tags":["java","scala","google-cloud-platform","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":14257522,"reputation":3554,"user_id":10299342,"display_name":"Arvid Heise"},"score":0,"creation_date":1652268936,"post_id":72199736,"comment_id":127564254,"body_markdown":"Please use KafkaSource https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/#kafka-source","body":"Please use KafkaSource <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/#kafka-source\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-master/docs/connectors&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652269222,"creation_date":1652269222,"answer_id":72200419,"question_id":72199736,"body_markdown":"Flink&#39;s `FlinkKafkaConsumer` has indeed been deprecated and replaced by `KafkaSource`. You can find the JavaDocs for the current stable version (Flink 1.15 at this moment) at https://nightlies.apache.org/flink/flink-docs-stable/api/java/org/apache/flink/connector/kafka/source/KafkaSourceBuilder.html","title":"What should I use instead deprecated FlinkKafkaConsumer? Scala Flink","body":"<p>Flink's <code>FlinkKafkaConsumer</code> has indeed been deprecated and replaced by <code>KafkaSource</code>. You can find the JavaDocs for the current stable version (Flink 1.15 at this moment) at <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/api/java/org/apache/flink/connector/kafka/source/KafkaSourceBuilder.html\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-stable/api/java/org/apache/flink/connector/kafka/source/KafkaSourceBuilder.html</a></p>\n"},{"tags":[],"owner":{"account_id":12541029,"reputation":427,"user_id":9125940,"display_name":"Sucheth Shivakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652314410,"creation_date":1652314410,"answer_id":72208849,"question_id":72199736,"body_markdown":"FlinkKafkaConsumer is deprecated, you can use KafkaSource. Below is the piece of code in scala\r\n```\r\n    val sourcea = KafkaSource.builder[String]\r\n      .setBootstrapServers(&quot;localhost:9092&quot;)\r\n      .setTopics(&quot;topic&quot;)\r\n      .setGroupId(&quot;grp&quot;)\r\n      .setStartingOffsets(OffsetsInitializer.earliest)\r\n      .setValueOnlyDeserializer(new SimpleStringSchema)\r\n      .build\r\n```","title":"What should I use instead deprecated FlinkKafkaConsumer? Scala Flink","body":"<p>FlinkKafkaConsumer is deprecated, you can use KafkaSource. Below is the piece of code in scala</p>\n<pre><code>    val sourcea = KafkaSource.builder[String]\n      .setBootstrapServers(&quot;localhost:9092&quot;)\n      .setTopics(&quot;topic&quot;)\n      .setGroupId(&quot;grp&quot;)\n      .setStartingOffsets(OffsetsInitializer.earliest)\n      .setValueOnlyDeserializer(new SimpleStringSchema)\n      .build\n</code></pre>\n"}],"owner":{"account_id":19816805,"reputation":653,"user_id":14514276,"display_name":"some nooby questions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652429482,"creation_date":1652266300,"question_id":72199736,"body_markdown":"I try to get data from Kafka to Flink, I use FlinkKafkaConsumer but Intellij shows me that it is depricated and also ssh console in Google Cloud shows me this error: ```object connectors is not a member of package org.apache.flink.streaming```. How can I rewrite it to work fine? \r\n\r\n```\r\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer\r\n\r\nval topic = &quot;test&quot;\r\nval server = &quot;localhost:9092&quot;\r\n\r\nval properties = new Properties()\r\nproperties.setProperty(&quot;bootstrap.servers&quot;, server)\r\nproperties.setProperty(&quot;group.id&quot;, &quot;test&quot;)\r\n\r\nval inputStream = env.addSource(new FlinkKafkaConsumer[String](topic, new SimpleStringSchema(), properties))\r\n\r\nval crimes = inputStream.filter(s =&gt; !s.startsWith(&quot;ID&quot;)).map(_.split(&quot;,&quot;))\r\n      .map(array =&gt; CrimeEvent(\r\n        date=array(1),\r\n        category=IUCRToCategory.getOrElse(array(2), &quot;unrecognized&quot;),\r\n        district=array(5),\r\n        ifArrest=BooleanToInt(array(3) == &quot;True&quot;),\r\n        domestic=BooleanToInt(array(4) == &quot;True&quot;),\r\n        ifFBI=IUCRToFBI.getOrElse(array(2), 0)\r\n      ))\r\n```","title":"What should I use instead deprecated FlinkKafkaConsumer? Scala Flink","body":"<p>I try to get data from Kafka to Flink, I use FlinkKafkaConsumer but Intellij shows me that it is depricated and also ssh console in Google Cloud shows me this error: <code>object connectors is not a member of package org.apache.flink.streaming</code>. How can I rewrite it to work fine?</p>\n<pre><code>import org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer\n\nval topic = &quot;test&quot;\nval server = &quot;localhost:9092&quot;\n\nval properties = new Properties()\nproperties.setProperty(&quot;bootstrap.servers&quot;, server)\nproperties.setProperty(&quot;group.id&quot;, &quot;test&quot;)\n\nval inputStream = env.addSource(new FlinkKafkaConsumer[String](topic, new SimpleStringSchema(), properties))\n\nval crimes = inputStream.filter(s =&gt; !s.startsWith(&quot;ID&quot;)).map(_.split(&quot;,&quot;))\n      .map(array =&gt; CrimeEvent(\n        date=array(1),\n        category=IUCRToCategory.getOrElse(array(2), &quot;unrecognized&quot;),\n        district=array(5),\n        ifArrest=BooleanToInt(array(3) == &quot;True&quot;),\n        domestic=BooleanToInt(array(4) == &quot;True&quot;),\n        ifFBI=IUCRToFBI.getOrElse(array(2), 0)\n      ))\n</code></pre>\n"},{"tags":["java","coding-style"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1648993690,"post_id":71726495,"comment_id":126758328,"body_markdown":"use constructors or builder pattern","body":"use constructors or builder pattern"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1648994651,"post_id":71726495,"comment_id":126758570,"body_markdown":"There&#39;s nothing in the java syntax that allows that. The builder pattern is the closest thing to what you want, easily integratable using lombok.","body":"There&#39;s nothing in the java syntax that allows that. The builder pattern is the closest thing to what you want, easily integratable using lombok."}],"answers":[{"tags":[],"owner":{"account_id":24789272,"reputation":1,"user_id":18672341,"display_name":"corn_not_slapped"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1648993969,"creation_date":1648993969,"answer_id":71726545,"question_id":71726495,"body_markdown":"Perhaps you could create multiple constructors for mySubObject\r\n\r\n     public MySubObject(String prop1){\r\n         this.prop1 = prop1;\r\n     }\r\n\r\n     public MySubObject(String prop1, String prop2){\r\n         this.prop1 = prop1;\r\n         this.prop2 = prop2;\r\n     }\r\n     .\r\n     .\r\n     .\r\n\r\nYou could then replace\r\n\r\n      with (mySubObject1) {\r\n        setProp1(&quot;prop1&quot;);\r\n        setProp2(&quot;prop2&quot;);\r\n      }\r\n\r\nWith something like:\r\n\r\n    with (myObjectNumberOne) {\r\n      setTitle(&quot;title&quot;);\r\n      setBody(&quot;body&quot;);\r\n      setAutostart(true);\r\n      setMySubObject(new MySubObject(&quot;prop1&quot;, &quot;prop2&quot;));\r\n      setFooter(&quot;footer&quot;);    \r\n    }\r\n\r\nYou could also checkout varargs: https://www.baeldung.com/java-varargs\r\n","title":"Java coding style to be more concise","body":"<p>Perhaps you could create multiple constructors for mySubObject</p>\n<pre><code> public MySubObject(String prop1){\n     this.prop1 = prop1;\n }\n\n public MySubObject(String prop1, String prop2){\n     this.prop1 = prop1;\n     this.prop2 = prop2;\n }\n .\n .\n .\n</code></pre>\n<p>You could then replace</p>\n<pre><code>  with (mySubObject1) {\n    setProp1(&quot;prop1&quot;);\n    setProp2(&quot;prop2&quot;);\n  }\n</code></pre>\n<p>With something like:</p>\n<pre><code>with (myObjectNumberOne) {\n  setTitle(&quot;title&quot;);\n  setBody(&quot;body&quot;);\n  setAutostart(true);\n  setMySubObject(new MySubObject(&quot;prop1&quot;, &quot;prop2&quot;));\n  setFooter(&quot;footer&quot;);    \n}\n</code></pre>\n<p>You could also checkout varargs: <a href=\"https://www.baeldung.com/java-varargs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-varargs</a></p>\n"},{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648994923,"creation_date":1648994611,"answer_id":71726624,"question_id":71726495,"body_markdown":"Make all the setters return the object itself. For example:\r\n    \r\n    MyObject setTitle(String s){\r\n        this.title = s;\r\n        return this;\r\n    }\r\n\r\nHere I assume that your class is called `MyObject`. Once this is done for all the other methods as well, do this instead:\r\n\r\n    myObjectNumberOne.setTitle(&quot;title&quot;)\r\n    .setBody(&quot;body&quot;)\r\n    .setAutostart(true)\r\n    .mySubObject1.setProp1(&quot;prop1&quot;)\r\n    .mySubObject1.setProp2(&quot;prop2&quot;)\r\n    .setFooter(&quot;footer&quot;);\r\n\r\nEdit: This is called method chaining.","title":"Java coding style to be more concise","body":"<p>Make all the setters return the object itself. For example:</p>\n<pre><code>MyObject setTitle(String s){\n    this.title = s;\n    return this;\n}\n</code></pre>\n<p>Here I assume that your class is called <code>MyObject</code>. Once this is done for all the other methods as well, do this instead:</p>\n<pre><code>myObjectNumberOne.setTitle(&quot;title&quot;)\n.setBody(&quot;body&quot;)\n.setAutostart(true)\n.mySubObject1.setProp1(&quot;prop1&quot;)\n.mySubObject1.setProp2(&quot;prop2&quot;)\n.setFooter(&quot;footer&quot;);\n</code></pre>\n<p>Edit: This is called method chaining.</p>\n"},{"tags":[],"owner":{"account_id":24476256,"reputation":11,"user_id":18597145,"display_name":"Creeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649000482,"creation_date":1649000482,"answer_id":71727436,"question_id":71726495,"body_markdown":"Create an inner class in your class and call it Builder\r\nHere&#39;s a simple example:\r\n```\r\npublic class Car {\r\n\r\n    private  String name;\r\n    private int minSpeed;\r\n    private int maxSpeed;\r\n    private int mileAge;\r\n    private String owner;\r\n\r\n\r\n    public String getName(){\r\n        return name;\r\n    }\r\n    public String getOwner(){\r\n        return owner;\r\n    }\r\n\r\n\r\n    public int getMaxSpeed(){\r\n        return maxSpeed;\r\n    }\r\n    public int getMinSpeed(){\r\n        return minSpeed;\r\n    }\r\n    public int getMileAge(){\r\n        return mileAge;\r\n    }\r\n\r\n    public static CarBuilder create(){\r\n        return new Car().new CarBuilder();\r\n    }\r\n\r\n    public class CarBuilder {\r\n        public CarBuilder setName(String name){\r\n            Car.this.name = name;\r\n            return this;\r\n        }\r\n\r\n        public CarBuilder setOwner(String owner){\r\n            Car.this.owner = owner;\r\n            return this;\r\n        }\r\n\r\n        public CarBuilder setMileAge(int mileAge){\r\n            Car.this.mileAge = mileAge;\r\n            return this;\r\n        }\r\n\r\n        public Car build(){\r\n            return Car.this;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nThen you can use it:\r\n```\r\nCar car = Car.create()\r\n.setName(&quot;Audi&quot;)\r\n.setMileAge(200)\r\n.setOwner(&quot;John&quot;)\r\n.build();\r\n```","title":"Java coding style to be more concise","body":"<p>Create an inner class in your class and call it Builder\nHere's a simple example:</p>\n<pre><code>public class Car {\n\n    private  String name;\n    private int minSpeed;\n    private int maxSpeed;\n    private int mileAge;\n    private String owner;\n\n\n    public String getName(){\n        return name;\n    }\n    public String getOwner(){\n        return owner;\n    }\n\n\n    public int getMaxSpeed(){\n        return maxSpeed;\n    }\n    public int getMinSpeed(){\n        return minSpeed;\n    }\n    public int getMileAge(){\n        return mileAge;\n    }\n\n    public static CarBuilder create(){\n        return new Car().new CarBuilder();\n    }\n\n    public class CarBuilder {\n        public CarBuilder setName(String name){\n            Car.this.name = name;\n            return this;\n        }\n\n        public CarBuilder setOwner(String owner){\n            Car.this.owner = owner;\n            return this;\n        }\n\n        public CarBuilder setMileAge(int mileAge){\n            Car.this.mileAge = mileAge;\n            return this;\n        }\n\n        public Car build(){\n            return Car.this;\n        }\n\n\n    }\n\n\n}\n</code></pre>\n<p>Then you can use it:</p>\n<pre><code>Car car = Car.create()\n.setName(&quot;Audi&quot;)\n.setMileAge(200)\n.setOwner(&quot;John&quot;)\n.build();\n</code></pre>\n"}],"owner":{"account_id":14008507,"reputation":581,"user_id":10117882,"display_name":"Phantom Lord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":3,"score":-3,"last_activity_date":1652429439,"creation_date":1648993585,"question_id":71726495,"body_markdown":"How can I compact these code in Java without creating other objects?\r\n\r\n    myObjectNumberOne.setTitle(&quot;title&quot;);\r\n    myObjectNumberOne.setBody(&quot;body&quot;);\r\n    myObjectNumberOne.setAutostart(true);\r\n    myObjectNumberOne.mySubObject1.setProp1(&quot;prop1&quot;);\r\n    myObjectNumberOne.mySubObject1.setProp2(&quot;prop2&quot;);\r\n    myObjectNumberOne.setFooter(&quot;footer&quot;);\r\n\r\nwith something like that other languages do\r\n\r\n    with (myObjectNumberOne) {\r\n      setTitle(&quot;title&quot;);\r\n      setBody(&quot;body&quot;);\r\n      setAutostart(true);\r\n      with (mySubObject1) {\r\n        setProp1(&quot;prop1&quot;);\r\n        setProp2(&quot;prop2&quot;);\r\n      }\r\n      setFooter(&quot;footer&quot;);    \r\n    }\r\n\r\nWithout modifying any classes or using any pattern (Builder or constructors). I mean something in order to write less code","title":"Java coding style to be more concise","body":"<p>How can I compact these code in Java without creating other objects?</p>\n<pre><code>myObjectNumberOne.setTitle(&quot;title&quot;);\nmyObjectNumberOne.setBody(&quot;body&quot;);\nmyObjectNumberOne.setAutostart(true);\nmyObjectNumberOne.mySubObject1.setProp1(&quot;prop1&quot;);\nmyObjectNumberOne.mySubObject1.setProp2(&quot;prop2&quot;);\nmyObjectNumberOne.setFooter(&quot;footer&quot;);\n</code></pre>\n<p>with something like that other languages do</p>\n<pre><code>with (myObjectNumberOne) {\n  setTitle(&quot;title&quot;);\n  setBody(&quot;body&quot;);\n  setAutostart(true);\n  with (mySubObject1) {\n    setProp1(&quot;prop1&quot;);\n    setProp2(&quot;prop2&quot;);\n  }\n  setFooter(&quot;footer&quot;);    \n}\n</code></pre>\n<p>Without modifying any classes or using any pattern (Builder or constructors). I mean something in order to write less code</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1547748588,"post_id":54241759,"comment_id":95308100,"body_markdown":"`MultiValueMap&lt;String, String&gt;` is a `Map&lt;String, List&lt;String&gt;&gt;` in itself, you can just iterate it. Or is there some other problem?","body":"<code>MultiValueMap&lt;String, String&gt;</code> is a <code>Map&lt;String, List&lt;String&gt;&gt;</code> in itself, you can just iterate it. Or is there some other problem?"}],"answers":[{"tags":[],"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547748677,"creation_date":1547748677,"answer_id":54241876,"question_id":54241759,"body_markdown":"Grab the map&#39;s entry set and collect it yourself:\r\n\r\n    Map&lt;String, String[]&gt; result = map.entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(\r\n                Map.Entry::getKey, \r\n                e -&gt; e.getValue().toArray(new String[e.getValue().size()])\r\n            ));","title":"java conversion: MultivalueMap&lt;String,String&gt; to Map&lt;String,String[]&gt;","body":"<p>Grab the map's entry set and collect it yourself:</p>\n\n<pre><code>Map&lt;String, String[]&gt; result = map.entrySet()\n        .stream()\n        .collect(Collectors.toMap(\n            Map.Entry::getKey, \n            e -&gt; e.getValue().toArray(new String[e.getValue().size()])\n        ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25280232,"reputation":41,"user_id":19108207,"display_name":"Emmanuel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652428715,"creation_date":1652428715,"answer_id":72226227,"question_id":54241759,"body_markdown":"Map&lt;String, String&gt; registeredUserDetails = userInfo.entrySet().stream()\r\n\t                .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().get(0)));","title":"java conversion: MultivalueMap&lt;String,String&gt; to Map&lt;String,String[]&gt;","body":"<p>Map&lt;String, String&gt; registeredUserDetails = userInfo.entrySet().stream()\n.collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().get(0)));</p>\n"}],"owner":{"account_id":9233981,"reputation":1491,"user_id":7290845,"accept_rate":39,"display_name":"Zeruno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7913,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1652428715,"creation_date":1547748144,"question_id":54241759,"body_markdown":"I&#39;m working with Java and Spring.\r\n\r\nI&#39;m obtaining a `MultiValueMap&lt;String,String&gt;`. This is helpful to me because I can store more than one value for a each `key`. But a library I&#39;m using requires a type of `Map&lt;String,String[]&gt;` instead. More particularly I am working with a `ParameterMap`. How do I perform such conversion?","title":"java conversion: MultivalueMap&lt;String,String&gt; to Map&lt;String,String[]&gt;","body":"<p>I'm working with Java and Spring.</p>\n\n<p>I'm obtaining a <code>MultiValueMap&lt;String,String&gt;</code>. This is helpful to me because I can store more than one value for a each <code>key</code>. But a library I'm using requires a type of <code>Map&lt;String,String[]&gt;</code> instead. More particularly I am working with a <code>ParameterMap</code>. How do I perform such conversion?</p>\n"},{"tags":["java","kubernetes","quarkus","vert.x"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1651845238,"post_id":72137944,"comment_id":127467643,"body_markdown":"Can you file an issue on Quarkus repo with details about the problem when using the new version with: -Dvertx.disableDnsResolver=true","body":"Can you file an issue on Quarkus repo with details about the problem when using the new version with: -Dvertx.disableDnsResolver=true"}],"answers":[{"tags":[],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652427565,"creation_date":1652427565,"answer_id":72225997,"question_id":72137944,"body_markdown":"I set `quarkus.naming.enableJndi=true` and didn&#39;t use `-Dvertx.disableDnsResolver`  and my app started using the intended dns again","title":"Quarkus upgrade vertx dns resolver ignoring kubernetes dns","body":"<p>I set <code>quarkus.naming.enableJndi=true</code> and didn't use <code>-Dvertx.disableDnsResolver</code>  and my app started using the intended dns again</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72225997,"answer_count":1,"score":0,"last_activity_date":1652427565,"creation_date":1651823511,"question_id":72137944,"body_markdown":"I have upgraded the version of quarkus to 2.8.0.CR1\r\n\r\nMy quarkus apps are using a mix of camel, mutiny, resteasy, mongo, pubsub and it seems to have been reproduced on all.\r\n\r\nIt seems like there was an upgrade to vertx in the mean time that introduced an alternative dns resolver. \r\n\r\nThe issue however is that when I try to now deploy my application through my kubernetes cluster I am getting dns resolution issues.\r\n\r\nIf i try to launch it as is, I get this failure when trying to connect to my spring-cloud-config server (on init). The domain would not resolve since it&#39; susing the google public dns. \r\n\r\n```\r\nMay 06, 2022 7:42:53 AM io.netty.resolver.dns.DefaultDnsServerAddressStreamProvider\r\nWARN: Default DNS servers: [/8.8.8.8:53, /8.8.4.4:53] (Google Public DNS as a fallback)\r\nMay 06, 2022 7:42:55 AM io.quarkus.runtime.ApplicationLifecycleManager run\r\nERROR: Failed to start application (with profile cloud)\r\njava.net.UnknownHostException: Failed to resolve &#39;config-server.servers.svc.cluster.local&#39;. Exceeded max queries per resolve 4 \r\n\tat io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)\r\n\tat io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)\r\n\tat io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)\r\n\tat io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629)\r\n\tat io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66)\r\n\tat io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\r\n\tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)\r\n\tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)\r\n\tat io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216)\r\n\tat io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208)\r\n\tat io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nIf i set `-Dvertx.disableDnsResolver=true` however it seems like it doesn&#39;t even connect to my server instead (no request received on server side and no config being read)\r\n\r\n```\r\n\r\n2022-05-06 06:54:24,160 DEBUG [io.net.uti.ResourceLeakDetector] (main) -Dio.netty.leakDetection.level: simple\r\n2022-05-06 06:54:24,161 DEBUG [io.net.uti.ResourceLeakDetector] (main) -Dio.netty.leakDetection.targetRecords: 4\r\n2022-05-06 06:54:24,172 DEBUG [io.net.cha.MultithreadEventLoopGroup] (main) -Dio.netty.eventLoopThreads: 2\r\n2022-05-06 06:54:24,181 DEBUG [io.net.uti.int.InternalThreadLocalMap] (main) -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n2022-05-06 06:54:24,181 DEBUG [io.net.uti.int.InternalThreadLocalMap] (main) -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n2022-05-06 06:54:24,184 DEBUG [io.net.cha.nio.NioEventLoop] (main) -Dio.netty.noKeySetOptimization: false\r\n2022-05-06 06:54:24,184 DEBUG [io.net.cha.nio.NioEventLoop] (main) -Dio.netty.selectorAutoRebuildThreshold: 512\r\n2022-05-06 06:54:24,188 DEBUG [io.net.uti.int.PlatformDependent] (main) org.jctools-core.MpscChunkedArrayQueue: available\r\n2022-05-06 06:54:24,478 DEBUG [io.qua.spr.clo.con.cli.run.VertxSpringCloudConfigGateway] (main) Attempting to read configuration from &#39;http://config-server.servers.svc.cluster.local:8888/my-camel-service/cloud&#39;.\r\n2022-05-06 06:54:24,560 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv4Stack: false\r\n2022-05-06 06:54:24,560 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv6Addresses: false\r\n2022-05-06 06:54:24,561 DEBUG [io.net.uti.NetUtilInitializations] (main) Loopback interface: lo (lo, 127.0.0.1)\r\n2022-05-06 06:54:24,562 DEBUG [io.net.uti.NetUtil] (main) /proc/sys/net/core/somaxconn: 1024\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.numHeapArenas: 2\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.numDirectArenas: 2\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.pageSize: 8192\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.maxOrder: 3\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.chunkSize: 65536\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.smallCacheSize: 256\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.normalCacheSize: 64\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.cacheTrimInterval: 8192\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.useCacheForAllThreads: true\r\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n2022-05-06 06:54:24,859 DEBUG [io.net.buf.ByteBufUtil] (vert.x-eventloop-thread-1) -Dio.netty.allocator.type: pooled\r\n2022-05-06 06:54:24,859 DEBUG [io.net.buf.ByteBufUtil] (vert.x-eventloop-thread-1) -Dio.netty.threadLocalDirectBufferSize: 0\r\n2022-05-06 06:54:24,859 DEBUG [io.net.buf.ByteBufUtil] (vert.x-eventloop-thread-1) -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n2022-05-06 06:54:25,056 DEBUG [io.net.buf.AbstractByteBuf] (vert.x-eventloop-thread-1) -Dio.netty.buffer.checkAccessible: true\r\n2022-05-06 06:54:25,056 DEBUG [io.net.buf.AbstractByteBuf] (vert.x-eventloop-thread-1) -Dio.netty.buffer.checkBounds: true\r\n2022-05-06 06:54:25,056 DEBUG [io.net.uti.ResourceLeakDetectorFactory] (vert.x-eventloop-thread-1) Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@7e719269\r\n2022-05-06 06:54:25,180 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n2022-05-06 06:54:25,181 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.ratio: 8\r\n2022-05-06 06:54:25,181 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.chunkSize: 32\r\n2022-05-06 06:54:25,181 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.blocking: false\r\n2022-05-06 06:54:26,563 DEBUG [io.net.buf.PoolThreadCache] (vert.x-eventloop-thread-1) Freed 2 thread-local buffer(s) from thread: vert.x-eventloop-thread-1\r\n```\r\n\r\nIf i startup an application with the previous version of quarkus I get:\r\n\r\n```\r\n\r\n\r\n2022-05-06 07:21:16,937 DEBUG [io.net.uti.int.PlatformDependent] (main) org.jctools-core.MpscChunkedArrayQueue: available\r\n2022-05-06 07:21:16,953 DEBUG [io.net.res.dns.DefaultDnsServerAddressStreamProvider] (main) Default DNS servers: [/10.24.0.10:53] (sun.net.dns.ResolverConfiguration)\r\n2022-05-06 07:21:16,956 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv4Stack: false\r\n2022-05-06 07:21:16,956 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv6Addresses: false\r\n2022-05-06 07:21:16,957 DEBUG [io.net.uti.NetUtilInitializations] (main) Loopback interface: lo (lo, 127.0.0.1)\r\n2022-05-06 07:21:16,957 DEBUG [io.net.uti.NetUtil] (main) /proc/sys/net/core/somaxconn: 1024\r\n2022-05-06 07:21:17,248 DEBUG [io.qua.spr.clo.con.cli.run.VertxSpringCloudConfigGateway] (main) Attempting to read configuration from &#39;http://config-server.servers.svc.cluster.local:8888/my-camel-gateway/cloud&#39;.\r\n2022-05-06 07:21:17,541 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-0) -Dio.netty.allocator.numHeapArenas: 2\r\n2022-05-06 07:21:17,541 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-0) -Dio.netty.allocator.numDirectArenas: 2\r\n```\r\n\r\nIs there a way to make it use my local dns configuration  properly?","title":"Quarkus upgrade vertx dns resolver ignoring kubernetes dns","body":"<p>I have upgraded the version of quarkus to 2.8.0.CR1</p>\n<p>My quarkus apps are using a mix of camel, mutiny, resteasy, mongo, pubsub and it seems to have been reproduced on all.</p>\n<p>It seems like there was an upgrade to vertx in the mean time that introduced an alternative dns resolver.</p>\n<p>The issue however is that when I try to now deploy my application through my kubernetes cluster I am getting dns resolution issues.</p>\n<p>If i try to launch it as is, I get this failure when trying to connect to my spring-cloud-config server (on init). The domain would not resolve since it' susing the google public dns.</p>\n<pre><code>May 06, 2022 7:42:53 AM io.netty.resolver.dns.DefaultDnsServerAddressStreamProvider\nWARN: Default DNS servers: [/8.8.8.8:53, /8.8.4.4:53] (Google Public DNS as a fallback)\nMay 06, 2022 7:42:55 AM io.quarkus.runtime.ApplicationLifecycleManager run\nERROR: Failed to start application (with profile cloud)\njava.net.UnknownHostException: Failed to resolve 'config-server.servers.svc.cluster.local'. Exceeded max queries per resolve 4 \n    at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)\n    at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)\n    at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)\n    at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629)\n    at io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66)\n    at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)\n    at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216)\n    at io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208)\n    at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>If i set <code>-Dvertx.disableDnsResolver=true</code> however it seems like it doesn't even connect to my server instead (no request received on server side and no config being read)</p>\n<pre><code>\n2022-05-06 06:54:24,160 DEBUG [io.net.uti.ResourceLeakDetector] (main) -Dio.netty.leakDetection.level: simple\n2022-05-06 06:54:24,161 DEBUG [io.net.uti.ResourceLeakDetector] (main) -Dio.netty.leakDetection.targetRecords: 4\n2022-05-06 06:54:24,172 DEBUG [io.net.cha.MultithreadEventLoopGroup] (main) -Dio.netty.eventLoopThreads: 2\n2022-05-06 06:54:24,181 DEBUG [io.net.uti.int.InternalThreadLocalMap] (main) -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\n2022-05-06 06:54:24,181 DEBUG [io.net.uti.int.InternalThreadLocalMap] (main) -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\n2022-05-06 06:54:24,184 DEBUG [io.net.cha.nio.NioEventLoop] (main) -Dio.netty.noKeySetOptimization: false\n2022-05-06 06:54:24,184 DEBUG [io.net.cha.nio.NioEventLoop] (main) -Dio.netty.selectorAutoRebuildThreshold: 512\n2022-05-06 06:54:24,188 DEBUG [io.net.uti.int.PlatformDependent] (main) org.jctools-core.MpscChunkedArrayQueue: available\n2022-05-06 06:54:24,478 DEBUG [io.qua.spr.clo.con.cli.run.VertxSpringCloudConfigGateway] (main) Attempting to read configuration from 'http://config-server.servers.svc.cluster.local:8888/my-camel-service/cloud'.\n2022-05-06 06:54:24,560 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv4Stack: false\n2022-05-06 06:54:24,560 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv6Addresses: false\n2022-05-06 06:54:24,561 DEBUG [io.net.uti.NetUtilInitializations] (main) Loopback interface: lo (lo, 127.0.0.1)\n2022-05-06 06:54:24,562 DEBUG [io.net.uti.NetUtil] (main) /proc/sys/net/core/somaxconn: 1024\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.numHeapArenas: 2\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.numDirectArenas: 2\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.pageSize: 8192\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.maxOrder: 3\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.chunkSize: 65536\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.smallCacheSize: 256\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.normalCacheSize: 64\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.maxCachedBufferCapacity: 32768\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.cacheTrimInterval: 8192\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.cacheTrimIntervalMillis: 0\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.useCacheForAllThreads: true\n2022-05-06 06:54:24,779 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-1) -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\n2022-05-06 06:54:24,859 DEBUG [io.net.buf.ByteBufUtil] (vert.x-eventloop-thread-1) -Dio.netty.allocator.type: pooled\n2022-05-06 06:54:24,859 DEBUG [io.net.buf.ByteBufUtil] (vert.x-eventloop-thread-1) -Dio.netty.threadLocalDirectBufferSize: 0\n2022-05-06 06:54:24,859 DEBUG [io.net.buf.ByteBufUtil] (vert.x-eventloop-thread-1) -Dio.netty.maxThreadLocalCharBufferSize: 16384\n2022-05-06 06:54:25,056 DEBUG [io.net.buf.AbstractByteBuf] (vert.x-eventloop-thread-1) -Dio.netty.buffer.checkAccessible: true\n2022-05-06 06:54:25,056 DEBUG [io.net.buf.AbstractByteBuf] (vert.x-eventloop-thread-1) -Dio.netty.buffer.checkBounds: true\n2022-05-06 06:54:25,056 DEBUG [io.net.uti.ResourceLeakDetectorFactory] (vert.x-eventloop-thread-1) Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@7e719269\n2022-05-06 06:54:25,180 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.maxCapacityPerThread: 4096\n2022-05-06 06:54:25,181 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.ratio: 8\n2022-05-06 06:54:25,181 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.chunkSize: 32\n2022-05-06 06:54:25,181 DEBUG [io.net.uti.Recycler] (vert.x-eventloop-thread-1) -Dio.netty.recycler.blocking: false\n2022-05-06 06:54:26,563 DEBUG [io.net.buf.PoolThreadCache] (vert.x-eventloop-thread-1) Freed 2 thread-local buffer(s) from thread: vert.x-eventloop-thread-1\n</code></pre>\n<p>If i startup an application with the previous version of quarkus I get:</p>\n<pre><code>\n\n2022-05-06 07:21:16,937 DEBUG [io.net.uti.int.PlatformDependent] (main) org.jctools-core.MpscChunkedArrayQueue: available\n2022-05-06 07:21:16,953 DEBUG [io.net.res.dns.DefaultDnsServerAddressStreamProvider] (main) Default DNS servers: [/10.24.0.10:53] (sun.net.dns.ResolverConfiguration)\n2022-05-06 07:21:16,956 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv4Stack: false\n2022-05-06 07:21:16,956 DEBUG [io.net.uti.NetUtil] (main) -Djava.net.preferIPv6Addresses: false\n2022-05-06 07:21:16,957 DEBUG [io.net.uti.NetUtilInitializations] (main) Loopback interface: lo (lo, 127.0.0.1)\n2022-05-06 07:21:16,957 DEBUG [io.net.uti.NetUtil] (main) /proc/sys/net/core/somaxconn: 1024\n2022-05-06 07:21:17,248 DEBUG [io.qua.spr.clo.con.cli.run.VertxSpringCloudConfigGateway] (main) Attempting to read configuration from 'http://config-server.servers.svc.cluster.local:8888/my-camel-gateway/cloud'.\n2022-05-06 07:21:17,541 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-0) -Dio.netty.allocator.numHeapArenas: 2\n2022-05-06 07:21:17,541 DEBUG [io.net.buf.PooledByteBufAllocator] (vert.x-eventloop-thread-0) -Dio.netty.allocator.numDirectArenas: 2\n</code></pre>\n<p>Is there a way to make it use my local dns configuration  properly?</p>\n"},{"tags":["java","multithreading","scheduled-tasks","scheduledexecutorservice"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652426990,"post_id":72225836,"comment_id":127608010,"body_markdown":"Why do you need multiple threads for a single repeating task?","body":"Why do you need multiple threads for a single repeating task?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652427530,"creation_date":1652427530,"answer_id":72225986,"question_id":72225836,"body_markdown":"For a single task being repeated, you do not need multiple threads. \r\n\r\nUse a single-threaded [scheduled executor service][1].\r\n\r\n    ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\r\n\r\nDefine your task as a `Runnable` or `Callable`. \r\n\r\n    Runnable task = … ;\r\n\r\nSchedule for repeated execution. \r\n\r\n    ScheduledFuture future = ses.scheduleWithFixedDelay( task , 0 , 100 , TimeUnit.MILLISECONDS ) ;\r\n\r\nAll of this has been covered many times already on Stack Overflow. Search to learn more.\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html","title":"Execute a single task with multiple threads on a schedule","body":"<p>For a single task being repeated, you do not need multiple threads.</p>\n<p>Use a single-threaded <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">scheduled executor service</a>.</p>\n<pre><code>ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\n</code></pre>\n<p>Define your task as a <code>Runnable</code> or <code>Callable</code>.</p>\n<pre><code>Runnable task = … ;\n</code></pre>\n<p>Schedule for repeated execution.</p>\n<pre><code>ScheduledFuture future = ses.scheduleWithFixedDelay( task , 0 , 100 , TimeUnit.MILLISECONDS ) ;\n</code></pre>\n<p>All of this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":16238946,"reputation":359,"user_id":11725795,"display_name":"kt-workflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652427530,"creation_date":1652426771,"question_id":72225836,"body_markdown":"I have a function `foo()` that I want to be invoked by multiple threads on an interval. example: want to execute foo() every 100ms with x number of threads. I am unsure how to go about it.\r\n\r\nI am looking at [FixedThreadPool](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29) where you can instantiate a thread pool with number of workers. However when you invoke using this thread pool does it exhaust all threads at once and executes a task? \r\n\r\nany ideas would be appreciated; thanks","title":"Execute a single task with multiple threads on a schedule","body":"<p>I have a function <code>foo()</code> that I want to be invoked by multiple threads on an interval. example: want to execute foo() every 100ms with x number of threads. I am unsure how to go about it.</p>\n<p>I am looking at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29\" rel=\"nofollow noreferrer\">FixedThreadPool</a> where you can instantiate a thread pool with number of workers. However when you invoke using this thread pool does it exhaust all threads at once and executes a task?</p>\n<p>any ideas would be appreciated; thanks</p>\n"},{"tags":["java","oracle","sql-update","jooq","batch-updates"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652427174,"creation_date":1652427174,"answer_id":72225924,"question_id":72222169,"body_markdown":"### The problem you encountered\r\n\r\nThe most likely reason for the problem you&#39;ve encountered is that you have locked the row in another transaction (e.g. in a SQL editor?) and now your program is blocked right after printing the debug message, in the update.\r\n\r\n### Regarding your queries\r\n\r\nWith both of your approaches, you&#39;re not using bind variables, which will be a problem for Oracle&#39;s cursor cache, producing cursor cache contention. At the least, you should execute something like this:\r\n\r\n```java\r\nctx.execute(&quot;update author set first_name = ? where id = ?&quot;, &quot;updateTest-111111&quot;, 1);\r\nctx.execute(&quot;update author set first_name = ? where id = ?&quot;, &quot;updateTest-2222222&quot;, 2);\r\n```\r\n\r\nIn the batch case, you have used the jOOQ parser to get a `Query` representation of your string, but in your case, that seems to be overkill. You can wrap any [plain SQL string][1] in a `Query` using [`DSLContext.query(String)`][2].\r\n\r\nIn that case, again, it would be better to use bind variables, e.g. like this:\r\n\r\n```java\r\nctx.batch(query(&quot;update author set first_name = ? where id = ?&quot;))\r\n   .bind(&quot;updateTest-111&quot;, 1)\r\n   .bind(&quot;updateTest-222&quot;, 2)\r\n   .execute();\r\n```\r\n\r\nOr even just:\r\n\r\n```java\r\nctx.batch(&quot;update author set first_name = ? where id = ?&quot;)\r\n   .bind(&quot;updateTest-111&quot;, 1)\r\n   .bind(&quot;updateTest-222&quot;, 2)\r\n   .execute();\r\n```\r\n\r\n### Regarding code generation\r\n\r\n[I suggest you reconsider using code generation][3]. While there isn&#39;t much benefit in your particular case (at least the parts you&#39;ve shared in this question), it is very useful in general.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#query(java.lang.String)\r\n  [3]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"How to execute multiple update queries using jooq execute or batch execute without code generation?","body":"<h3>The problem you encountered</h3>\n<p>The most likely reason for the problem you've encountered is that you have locked the row in another transaction (e.g. in a SQL editor?) and now your program is blocked right after printing the debug message, in the update.</p>\n<h3>Regarding your queries</h3>\n<p>With both of your approaches, you're not using bind variables, which will be a problem for Oracle's cursor cache, producing cursor cache contention. At the least, you should execute something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.execute(&quot;update author set first_name = ? where id = ?&quot;, &quot;updateTest-111111&quot;, 1);\nctx.execute(&quot;update author set first_name = ? where id = ?&quot;, &quot;updateTest-2222222&quot;, 2);\n</code></pre>\n<p>In the batch case, you have used the jOOQ parser to get a <code>Query</code> representation of your string, but in your case, that seems to be overkill. You can wrap any <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL string</a> in a <code>Query</code> using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#query(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DSLContext.query(String)</code></a>.</p>\n<p>In that case, again, it would be better to use bind variables, e.g. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.batch(query(&quot;update author set first_name = ? where id = ?&quot;))\n   .bind(&quot;updateTest-111&quot;, 1)\n   .bind(&quot;updateTest-222&quot;, 2)\n   .execute();\n</code></pre>\n<p>Or even just:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.batch(&quot;update author set first_name = ? where id = ?&quot;)\n   .bind(&quot;updateTest-111&quot;, 1)\n   .bind(&quot;updateTest-222&quot;, 2)\n   .execute();\n</code></pre>\n<h3>Regarding code generation</h3>\n<p><a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">I suggest you reconsider using code generation</a>. While there isn't much benefit in your particular case (at least the parts you've shared in this question), it is very useful in general.</p>\n"}],"owner":{"account_id":1495696,"reputation":750,"user_id":1401695,"accept_rate":30,"display_name":"codiacTushki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652427174,"creation_date":1652390354,"question_id":72222169,"body_markdown":"I am using JOOQ ( 3.10. 5 ) to update records in ORACLE table without jooq auto code generation in below ways\r\n\r\n**Approach 1- Using DSL execute by using plain SQL String** \r\n\r\n    dslContext.execute(&quot;update author set first_name = &#39;updateTest-111111&#39; where id = 1 &quot;);\r\n    logger.info(&quot;1st update Done &quot;);\r\n    \r\n    dslContext.execute(&quot;update author set first_name = &#39;updateTest-2222222&#39; where id = 2 &quot;);\r\n    logger.info(&quot;2nd update Done &quot;);\r\n\r\n **Approach 2 - Using DSL batch by passing Query list** \r\n\r\n    List&lt;Query&gt; updateQueries = new ArrayList&lt;&gt;();\r\n\r\n    updateQueries.add(dslContext.parser().parseQuery(&quot;update author set first_name = &#39;updateTest-111&#39; where id = 1 &quot;));\r\n\r\n    updateQueries.add(dslContext.parser().parseQuery(&quot;update author set first_name = &#39;updateTest-222&#39; where id = 2 &quot;));\r\n\r\n    dslContext.batch(updateQueries).execute();\r\n\r\n\r\nBut in both cases, it is just updating 1st record and then stop execution , keeps on running. \r\n\r\n**Below is the output for Approach -1** \r\n\r\n    2022-05-13 02:43:50.848  INFO 25524 --- [nio-9010-exec-1] org.jooq.Constants                       : \r\n                                          \r\n    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@  @@        @@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@\r\n    @@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@\r\n    @@@@@@@@@@        @@        @@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n    @@@@@@@@@@        @@        @@@@@@@@@@\r\n    @@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@\r\n    @@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@\r\n    @@@@@@@@@@        @@  @  @  @@@@@@@@@@\r\n    @@@@@@@@@@        @@        @@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.10.5\r\n                                          \r\n    2022-05-13 02:43:50.922  WARN 25524 --- [nio-9010-exec-1] o.a.tomcat.jdbc.pool.ConnectionPool      : minIdle is larger than maxActive, setting minIdle to: 5\r\n    2022-05-13 02:43:50.923  WARN 25524 --- [nio-9010-exec-1] o.a.tomcat.jdbc.pool.ConnectionPool      : maxIdle is larger than maxActive, setting maxIdle to: 5\r\n    2022-05-13 02:43:52.670  INFO 25524 --- [nio-9010-exec-1] c.d.e.dao.ECRebootServiceDaoImpl         : 1st update Done \r\n\r\n\r\nAs you can see it stopped after 1st update Done. \r\n\r\nHow i should be executing multiple update queries using JOOQ ? or is there any better way to do this in JOOQ without code generation?\r\n","title":"How to execute multiple update queries using jooq execute or batch execute without code generation?","body":"<p>I am using JOOQ ( 3.10. 5 ) to update records in ORACLE table without jooq auto code generation in below ways</p>\n<p><strong>Approach 1- Using DSL execute by using plain SQL String</strong></p>\n<pre><code>dslContext.execute(&quot;update author set first_name = 'updateTest-111111' where id = 1 &quot;);\nlogger.info(&quot;1st update Done &quot;);\n\ndslContext.execute(&quot;update author set first_name = 'updateTest-2222222' where id = 2 &quot;);\nlogger.info(&quot;2nd update Done &quot;);\n</code></pre>\n<p><strong>Approach 2 - Using DSL batch by passing Query list</strong></p>\n<pre><code>List&lt;Query&gt; updateQueries = new ArrayList&lt;&gt;();\n\nupdateQueries.add(dslContext.parser().parseQuery(&quot;update author set first_name = 'updateTest-111' where id = 1 &quot;));\n\nupdateQueries.add(dslContext.parser().parseQuery(&quot;update author set first_name = 'updateTest-222' where id = 2 &quot;));\n\ndslContext.batch(updateQueries).execute();\n</code></pre>\n<p>But in both cases, it is just updating 1st record and then stop execution , keeps on running.</p>\n<p><strong>Below is the output for Approach -1</strong></p>\n<pre><code>2022-05-13 02:43:50.848  INFO 25524 --- [nio-9010-exec-1] org.jooq.Constants                       : \n                                      \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@\n@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@\n@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@\n@@@@@@@@@@        @@        @@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@        @@        @@@@@@@@@@\n@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@\n@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@\n@@@@@@@@@@        @@  @  @  @@@@@@@@@@\n@@@@@@@@@@        @@        @@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.10.5\n                                      \n2022-05-13 02:43:50.922  WARN 25524 --- [nio-9010-exec-1] o.a.tomcat.jdbc.pool.ConnectionPool      : minIdle is larger than maxActive, setting minIdle to: 5\n2022-05-13 02:43:50.923  WARN 25524 --- [nio-9010-exec-1] o.a.tomcat.jdbc.pool.ConnectionPool      : maxIdle is larger than maxActive, setting maxIdle to: 5\n2022-05-13 02:43:52.670  INFO 25524 --- [nio-9010-exec-1] c.d.e.dao.ECRebootServiceDaoImpl         : 1st update Done \n</code></pre>\n<p>As you can see it stopped after 1st update Done.</p>\n<p>How i should be executing multiple update queries using JOOQ ? or is there any better way to do this in JOOQ without code generation?</p>\n"},{"tags":["java","null"],"comments":[{"owner":{"account_id":220182,"reputation":21053,"user_id":477451,"accept_rate":100,"display_name":"Mansoor Siddiqui"},"score":0,"creation_date":1315781492,"post_id":7381810,"comment_id":8912761,"body_markdown":"This question is similar enough (but not identical) to hopefully give you some insight: http://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java","body":"This question is similar enough (but not identical) to hopefully give you some insight: <a href=\"http://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java\" title=\"how to avoid null statements in java\">stackoverflow.com/questions/271526/&hellip;</a>"},{"owner":{"account_id":45660,"reputation":36958,"user_id":134702,"accept_rate":81,"display_name":"hookenz"},"score":4,"creation_date":1315781672,"post_id":7381810,"comment_id":8912780,"body_markdown":"There is nothing wrong with what you&#39;ve written.  Writing it so that it looks shorter doesn&#39;t necessarily make it better.","body":"There is nothing wrong with what you&#39;ve written.  Writing it so that it looks shorter doesn&#39;t necessarily make it better."},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":2,"creation_date":1315808818,"post_id":7381810,"comment_id":8915812,"body_markdown":"Plus, you can have breakpoints in different lines for the case of the string being null or nonnull. That helps with debugging.","body":"Plus, you can have breakpoints in different lines for the case of the string being null or nonnull. That helps with debugging."}],"answers":[{"tags":[],"owner":{"account_id":12046,"reputation":188194,"user_id":23528,"accept_rate":71,"display_name":"Daniel A. White"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1315781391,"creation_date":1315781391,"answer_id":7381825,"question_id":7381810,"body_markdown":"Why isn&#39;t there a `lookup` that returns the appropriate foo string?","title":"Is there a more concise way to write this Java code?","body":"<p>Why isn't there a <code>lookup</code> that returns the appropriate foo string?</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1317595983,"creation_date":1315781415,"answer_id":7381826,"question_id":7381810,"body_markdown":"You&#39;ve two questions: is there a *better* way to write the code, and is there a *more concise* way to write the code.\r\n\r\nRegarding more **concise**, this could work:\r\n\r\n    public static String getFooStr(String input) {\r\n        Foo foo = lookup(input);          \r\n        return foo == null ? null : foo.getFooStr();\r\n    }\r\n\r\n\r\nRegarding **better**: I value readability over conciseness any day, and by a wide margin. Your original code looks fine to me. What matters is what looks good to you, and which is easier for you to understand and debug 3 months from now. I&#39;ve heard someone say it best -- write your code so that is easily understandable by others, and even more importantly, by your future self.","title":"Is there a more concise way to write this Java code?","body":"<p>You've two questions: is there a <em>better</em> way to write the code, and is there a <em>more concise</em> way to write the code.</p>\n\n<p>Regarding more <strong>concise</strong>, this could work:</p>\n\n<pre><code>public static String getFooStr(String input) {\n    Foo foo = lookup(input);          \n    return foo == null ? null : foo.getFooStr();\n}\n</code></pre>\n\n<p>Regarding <strong>better</strong>: I value readability over conciseness any day, and by a wide margin. Your original code looks fine to me. What matters is what looks good to you, and which is easier for you to understand and debug 3 months from now. I've heard someone say it best -- write your code so that is easily understandable by others, and even more importantly, by your future self.</p>\n"},{"tags":[],"owner":{"account_id":390316,"reputation":886,"user_id":750297,"display_name":"Jon Gilbert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1315781505,"creation_date":1315781505,"answer_id":7381831,"question_id":7381810,"body_markdown":"I&#39;m not into java, but I do like clean code... Source code should be easy to read and understand for humans - the machine doesn&#39;t care how it looks but your colleagues do. More concise code usually takes a moment or two longer to grasp (sometimes much longeer depending on the quantity and complexity). Keep code understandable and it will be maintainable (even if it is a bit more verbose)!","title":"Is there a more concise way to write this Java code?","body":"<p>I'm not into java, but I do like clean code... Source code should be easy to read and understand for humans - the machine doesn't care how it looks but your colleagues do. More concise code usually takes a moment or two longer to grasp (sometimes much longeer depending on the quantity and complexity). Keep code understandable and it will be maintainable (even if it is a bit more verbose)!</p>\n"},{"tags":[],"owner":{"account_id":124651,"reputation":14990,"user_id":319878,"accept_rate":25,"display_name":"Paul Grime"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1315781978,"creation_date":1315781604,"answer_id":7381833,"question_id":7381810,"body_markdown":"[Groovy does it nicer][1].\r\n\r\n`return lookup(input)?.fooStr`\r\n\r\n[or even just][2]:\r\n\r\n`lookup(input)?.fooStr`\r\n\r\n  [1]: http://docs.codehaus.org/display/GROOVY/Operators#Operators-SafeNavigationOperator%28?.%29\r\n  [2]: http://groovy.codehaus.org/Statements#Statements-Methodcalls","title":"Is there a more concise way to write this Java code?","body":"<p><a href=\"http://docs.codehaus.org/display/GROOVY/Operators#Operators-SafeNavigationOperator%28?.%29\" rel=\"nofollow\">Groovy does it nicer</a>.</p>\n\n<p><code>return lookup(input)?.fooStr</code></p>\n\n<p><a href=\"http://groovy.codehaus.org/Statements#Statements-Methodcalls\" rel=\"nofollow\">or even just</a>:</p>\n\n<p><code>lookup(input)?.fooStr</code></p>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1315781660,"creation_date":1315781660,"answer_id":7381836,"question_id":7381810,"body_markdown":"For Java 7, at some point it was planned that you could just write this:\r\n\r\n\r\n    public static String getFooStr(String input)\r\n    {\r\n    &#160; &#160; Foo foo = lookup(input);\r\n        return foo?.getFooStr();\r\n    }\r\n\r\nBut until this feature is widely known, you will have to stick to the `?:` operator.","title":"Is there a more concise way to write this Java code?","body":"<p>For Java 7, at some point it was planned that you could just write this:</p>\n\n<pre><code>public static String getFooStr(String input)\n{\n    Foo foo = lookup(input);\n    return foo?.getFooStr();\n}\n</code></pre>\n\n<p>But until this feature is widely known, you will have to stick to the <code>?:</code> operator.</p>\n"},{"tags":[],"owner":{"account_id":454180,"reputation":4890,"user_id":851578,"accept_rate":94,"display_name":"Java Ka Baby"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1315784098,"creation_date":1315784098,"answer_id":7382034,"question_id":7381810,"body_markdown":"I do not like multiple returns any where in any code. I will just change it to\r\n&lt;br&gt;\r\n\r\n    public static String getFooStr(String input)\r\n    {\r\n        Foo foo = lookup(input);\r\n        String fooString;\r\n        if(foo!=null)\r\n        {\r\n            fooString = foo.getFooStr();\r\n        }\r\n        return fooString;\r\n    }\r\n\r\nAlso the version from @Hovercraft Full Of Eels is good in my opinion but less readable but still a common way of doing.","title":"Is there a more concise way to write this Java code?","body":"<p>I do not like multiple returns any where in any code. I will just change it to\n<br></p>\n\n<pre><code>public static String getFooStr(String input)\n{\n    Foo foo = lookup(input);\n    String fooString;\n    if(foo!=null)\n    {\n        fooString = foo.getFooStr();\n    }\n    return fooString;\n}\n</code></pre>\n\n<p>Also the version from @Hovercraft Full Of Eels is good in my opinion but less readable but still a common way of doing.</p>\n"},{"tags":[],"owner":{"account_id":3788650,"reputation":176,"user_id":3145830,"display_name":"vince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652427143,"creation_date":1652427143,"answer_id":72225920,"question_id":7381810,"body_markdown":"In Java8:\r\n\r\n    Optional.ofNullable(lookup(input)).map(f-&gt;f.getFooStr()).orElse(null);","title":"Is there a more concise way to write this Java code?","body":"<p>In Java8:</p>\n<pre><code>Optional.ofNullable(lookup(input)).map(f-&gt;f.getFooStr()).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":904440,"reputation":61,"user_id":939647,"display_name":"Brandon Pike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":7,"score":6,"last_activity_date":1652427143,"creation_date":1315781186,"question_id":7381810,"body_markdown":"\r\nThis `foo` that is returned by `lookup` could be `null`.\r\n\r\nThat&#39;s why I&#39;m trying to avoid calling `foo.getFooStr()` on a `null` value by first returning `null` if `foo` is `null`.\r\n\r\nBut is there a better (more concise) way to write this?\r\n\r\n\tpublic static String getFooStr(String input)\r\n\t{\r\n\t\tFoo foo = lookup(input);\r\n\t\tif(foo==null)\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn foo.getFooStr();\r\n\t}\r\n","title":"Is there a more concise way to write this Java code?","body":"<p>This <code>foo</code> that is returned by <code>lookup</code> could be <code>null</code>.</p>\n\n<p>That's why I'm trying to avoid calling <code>foo.getFooStr()</code> on a <code>null</code> value by first returning <code>null</code> if <code>foo</code> is <code>null</code>.</p>\n\n<p>But is there a better (more concise) way to write this?</p>\n\n<pre><code>public static String getFooStr(String input)\n{\n    Foo foo = lookup(input);\n    if(foo==null)\n    {\n        return null;\n    }\n    return foo.getFooStr();\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1652388167,"post_id":72221540,"comment_id":127600957,"body_markdown":"It gives you control of how you manage foreign key in your relational tables, and also a good practice to follow. Like the @Column( name = &quot;my_column&quot; ), where you have control over it.","body":"It gives you control of how you manage foreign key in your relational tables, and also a good practice to follow. Like the @Column( name = &quot;my_column&quot; ), where you have control over it."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652426861,"creation_date":1652398237,"answer_id":72223043,"question_id":72221540,"body_markdown":"[@JoinColumn][1] indicates that this entity is the owner of the relationship, that the corresponding table has a column with a foreign key to the referenced table.\r\n&lt;br&gt;`@JoinColumn` annotation is not mandatory. If you will not specify it framework will perform default configuration instead. Hibernate and JPA follows [convention over configuration][2]. This means that the developer only needs to specify not standard aspects some custom definitions.\r\n&lt;br&gt;In case of `@JoinColumn`, the default column name will be generated like: `[field_name]_[id_column_name]`.\r\n&lt;br&gt;In your case:\r\n&lt;br&gt;`[field_name]` - is `person` field of `Passport` entity.\r\n&lt;br&gt;`[id_column_name]` - is `@Id` column of related entity. It is `id` field of `Person` entity.\r\n\r\nAccording to [documentation][3]:\r\n&gt; 2.2.5. Mapping entity associations/relationships\r\n&gt; &lt;br&gt;If no @JoinColumn is declared on the owner side, the defaults apply. A\r\n&gt; join column(s) will be created in the owner table and its name will be\r\n&gt; the concatenation of the name of the relationship in the owner side, _\r\n&gt; (underscore), and the name of the primary key column(s) in the owned\r\n&gt; side.\r\n\r\n&lt;br&gt;So if you need to override the default convention then that&#39;s exactly what `@JoinColumn` is for.\r\n&lt;br&gt;It covering:\r\n- specify the name of the foreign key column\r\n- specify the name of the column referenced by this foreign key column\r\n- specify column definition\r\n- specify or control the generation of a foreign key definition\r\n- specify the name of the table that contains the column\r\n- whether the property is a unique key\r\n- whether the column is included in SQL UPDATE statements generated by the persistence provider\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/JoinColumn.html\r\n  [2]: https://en.wikipedia.org/wiki/Convention_over_configuration\r\n  [3]: https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/","title":"What is the point of @JoinColumn in hibernate?","body":"<p><a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/JoinColumn.html\" rel=\"nofollow noreferrer\">@JoinColumn</a> indicates that this entity is the owner of the relationship, that the corresponding table has a column with a foreign key to the referenced table.\n<br><code>@JoinColumn</code> annotation is not mandatory. If you will not specify it framework will perform default configuration instead. Hibernate and JPA follows <a href=\"https://en.wikipedia.org/wiki/Convention_over_configuration\" rel=\"nofollow noreferrer\">convention over configuration</a>. This means that the developer only needs to specify not standard aspects some custom definitions.\n<br>In case of <code>@JoinColumn</code>, the default column name will be generated like: <code>[field_name]_[id_column_name]</code>.\n<br>In your case:\n<br><code>[field_name]</code> - is <code>person</code> field of <code>Passport</code> entity.\n<br><code>[id_column_name]</code> - is <code>@Id</code> column of related entity. It is <code>id</code> field of <code>Person</code> entity.</p>\n<p>According to <a href=\"https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>2.2.5. Mapping entity associations/relationships\n<br>If no @JoinColumn is declared on the owner side, the defaults apply. A\njoin column(s) will be created in the owner table and its name will be\nthe concatenation of the name of the relationship in the owner side, _\n(underscore), and the name of the primary key column(s) in the owned\nside.</p>\n</blockquote>\n<p><br>So if you need to override the default convention then that's exactly what <code>@JoinColumn</code> is for.\n<br>It covering:</p>\n<ul>\n<li>specify the name of the foreign key column</li>\n<li>specify the name of the column referenced by this foreign key column</li>\n<li>specify column definition</li>\n<li>specify or control the generation of a foreign key definition</li>\n<li>specify the name of the table that contains the column</li>\n<li>whether the property is a unique key</li>\n<li>whether the column is included in SQL UPDATE statements generated by the persistence provider</li>\n</ul>\n"}],"owner":{"account_id":16115477,"reputation":523,"user_id":11632725,"display_name":"Alexander  Tukanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72223043,"answer_count":1,"score":0,"last_activity_date":1652426861,"creation_date":1652385990,"question_id":72221540,"body_markdown":"I know that `@JoinColumn` is used for creating the foreign key column, but my question is little bit another.\r\nI noticed that if I have main entity with `mapped by` and dependent entity with no `@JoinColumn`, than the hibernate creates two tables correctly anyway.\r\n\r\nFor example, I have Passport ans Person:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @RequiredArgsConstructor\r\n    @Data\r\n    @Entity\r\n    \r\n    public class Person {\r\n        @Id \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n        private int id;\r\n        @NonNull\r\n        private String name;\r\n        @NonNull\r\n        private int age;\r\n        @OneToOne(mappedBy = &quot;person&quot;) \r\n        Passport passport;\r\n    }\r\n\r\nPassport entity:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @RequiredArgsConstructor\r\n    @Data\r\n    @Entity\r\n    \r\n    public class Passport {\r\n        @Id \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n        private int id;\r\n        @NonNull\r\n        private int series;\r\n        @NonNull\r\n        private int number;\r\n    \r\n        @OneToOne\r\n    //    @JoinColumn(name = &quot;person_id&quot;) //with or without this line the hibernate creates person_id in the Passport table\r\n        @ToString.Exclude\r\n        Person person;\r\n    \r\n    }\r\n\r\nIn the both ways (with or without @JoinColumn annotation) hibernte creates the following tables:\r\n\r\nPerson table:\r\n\r\n    ###################\r\n    id ## name ## age #\r\n    ###################\r\n\r\n\r\n\r\nPassport table:\r\n\r\n    #####################################\r\n    id ## series ## number ## person_id #\r\n    #####################################\r\n\r\nSo what&#39;s the point of @JoinColumn annotation if there&#39;s no difference?","title":"What is the point of @JoinColumn in hibernate?","body":"<p>I know that <code>@JoinColumn</code> is used for creating the foreign key column, but my question is little bit another.\nI noticed that if I have main entity with <code>mapped by</code> and dependent entity with no <code>@JoinColumn</code>, than the hibernate creates two tables correctly anyway.</p>\n<p>For example, I have Passport ans Person:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@RequiredArgsConstructor\n@Data\n@Entity\n\npublic class Person {\n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    private int id;\n    @NonNull\n    private String name;\n    @NonNull\n    private int age;\n    @OneToOne(mappedBy = &quot;person&quot;) \n    Passport passport;\n}\n</code></pre>\n<p>Passport entity:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@RequiredArgsConstructor\n@Data\n@Entity\n\npublic class Passport {\n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    private int id;\n    @NonNull\n    private int series;\n    @NonNull\n    private int number;\n\n    @OneToOne\n//    @JoinColumn(name = &quot;person_id&quot;) //with or without this line the hibernate creates person_id in the Passport table\n    @ToString.Exclude\n    Person person;\n\n}\n</code></pre>\n<p>In the both ways (with or without @JoinColumn annotation) hibernte creates the following tables:</p>\n<p>Person table:</p>\n<pre><code>###################\nid ## name ## age #\n###################\n</code></pre>\n<p>Passport table:</p>\n<pre><code>#####################################\nid ## series ## number ## person_id #\n#####################################\n</code></pre>\n<p>So what's the point of @JoinColumn annotation if there's no difference?</p>\n"},{"tags":["java","quartz-scheduler","quartz"],"answers":[{"tags":[],"owner":{"account_id":19741068,"reputation":3,"user_id":14454438,"display_name":"Jinwoo_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652426529,"creation_date":1652334507,"answer_id":72210646,"question_id":42618941,"body_markdown":"\r\n\r\nThere is any code like Scheduler.deleteJob()?\r\n\r\nThis function not only clears job but also clears trigger.\r\n\r\nWould you check that function in your code.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0sjtS.png","title":"Quartz trigger disappears from database","body":"<p>There is any code like Scheduler.deleteJob()?</p>\n<p>This function not only clears job but also clears trigger.</p>\n<p>Would you check that function in your code.</p>\n<p><a href=\"https://i.stack.imgur.com/0sjtS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":2646353,"reputation":167,"user_id":2288952,"accept_rate":82,"display_name":"aeycee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1652426529,"creation_date":1488781883,"question_id":42618941,"body_markdown":"I have quartz schedule that randomly deleted from our database.\r\nThe schedule is expected to run twice a day but one day it did not run and the trigger was deleted in the database.\r\n\r\nI&#39;ve tried researching on what could cause this. One possible cause was the trigger didn&#39;t have NEXTFIRE_TIME so quartz deleted the trigger but all our triggers does not have END_TIME set in the database.\r\n\r\nWhat could cause the deletion of the triggers in the database?\r\nWe are using quartz-2.2.1.jar.","title":"Quartz trigger disappears from database","body":"<p>I have quartz schedule that randomly deleted from our database.\nThe schedule is expected to run twice a day but one day it did not run and the trigger was deleted in the database.</p>\n\n<p>I've tried researching on what could cause this. One possible cause was the trigger didn't have NEXTFIRE_TIME so quartz deleted the trigger but all our triggers does not have END_TIME set in the database.</p>\n\n<p>What could cause the deletion of the triggers in the database?\nWe are using quartz-2.2.1.jar.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8641,"page":1351,"page_size":100}
