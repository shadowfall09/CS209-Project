{"items":[{"tags":["java","spring","postgresql","scheduled-tasks"],"owner":{"account_id":15794864,"reputation":11,"user_id":11407809,"display_name":"Daniel Christofolli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682466337,"creation_date":1682466337,"question_id":76106199,"body_markdown":"I must do a scheduler where the interval is getted from a SQL query in application runtime. If the value is updated on DB, my service must apply it on scheduled task.\r\n```\r\n@Configuration\r\n@EnableScheduling\r\npublic class SchedulingConfiguration implements SchedulingConfigurer {\r\n    private long interval = 1000;\r\n    private Logger logger = LoggerFactory.getLogger(this.getClass());\r\n    private final JdbcTemplate jdbcTemplate;\r\n    private ScheduledTaskRegistrar taskRegistrar;\r\n\r\n    @Autowired\r\n    public SchedulingConfiguration(JdbcTemplate jdbcTemplate) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n\r\n    @Override\r\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n        this.taskRegistrar = taskRegistrar;\r\n        taskRegistrar.addFixedRateTask(this::myTask, interval);\r\n    }\r\n\r\n    private void myTask() {\r\n        logger.info(&quot;Running at {}&quot;, LocalTime.now());\r\n    }\r\n\r\n    public void updateIntervalFromDatabase() {\r\n        String sql = &quot;&quot;&quot;\r\n                SELECT plataforma.platform_interval\r\n                FROM plataformas_dev plataforma\r\n                WHERE platform_name = &#39;VTEX&#39;;&quot;&quot;&quot;;\r\n        Long newInterval = Objects.requireNonNull(jdbcTemplate.queryForObject(sql, Long.class));\r\n        if (!Objects.equals(newInterval, interval)) {\r\n            interval = newInterval;\r\n            taskRegistrar.destroy();\r\n            configureTasks(taskRegistrar);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class SchedulingConfiguration overrides the method configureTasks to create the scheduled task with the interval obtained from the global variable interval. The method updateIntervalFromDatabase is responsible for get the value from database. This method is called from class above\r\n\r\n\r\n```\r\n@Configuration\r\npublic class PlatformService {\r\n    private final SchedulingConfiguration schedulingConfigurer;\r\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n    @Autowired\r\n    public PlatformService(SchedulingConfiguration schedulingConfigurer) {\r\n        this.schedulingConfigurer = schedulingConfigurer;\r\n        scheduleIntervalUpdate();\r\n    }\r\n        private void scheduleIntervalUpdate() {\r\n        scheduler.scheduleAtFixedRate(schedulingConfigurer::updateIntervalFromDatabase, 0, 10, TimeUnit.SECONDS);\r\n    }\r\n}\r\n```\r\nThe method scheduleIntervalUpdate must run every 10 seconds to get the interval from database using the updateIntervalFromDatabase method from the other class.\r\n\r\nMy problem is that once my application getted the value from DB at startup, my scheduled task will run at this interval for whole life, don&#39;t matter how much times I update the value in DB. Any idea for fix it? I know my code is a mess. I&#39;ll fix this after this scheduling start to work.\r\n\r\nI&#39;ve tried every solution I&#39;ve found. I expect the scheduler receives the value from database in application runtime and uses this as interval","title":"How to schedule a task with interval dinamically getted from a SQL query in application runtime?","body":"<p>I must do a scheduler where the interval is getted from a SQL query in application runtime. If the value is updated on DB, my service must apply it on scheduled task.</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class SchedulingConfiguration implements SchedulingConfigurer {\n    private long interval = 1000;\n    private Logger logger = LoggerFactory.getLogger(this.getClass());\n    private final JdbcTemplate jdbcTemplate;\n    private ScheduledTaskRegistrar taskRegistrar;\n\n    @Autowired\n    public SchedulingConfiguration(JdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        this.taskRegistrar = taskRegistrar;\n        taskRegistrar.addFixedRateTask(this::myTask, interval);\n    }\n\n    private void myTask() {\n        logger.info(&quot;Running at {}&quot;, LocalTime.now());\n    }\n\n    public void updateIntervalFromDatabase() {\n        String sql = &quot;&quot;&quot;\n                SELECT plataforma.platform_interval\n                FROM plataformas_dev plataforma\n                WHERE platform_name = 'VTEX';&quot;&quot;&quot;;\n        Long newInterval = Objects.requireNonNull(jdbcTemplate.queryForObject(sql, Long.class));\n        if (!Objects.equals(newInterval, interval)) {\n            interval = newInterval;\n            taskRegistrar.destroy();\n            configureTasks(taskRegistrar);\n        }\n    }\n}\n</code></pre>\n<p>The class SchedulingConfiguration overrides the method configureTasks to create the scheduled task with the interval obtained from the global variable interval. The method updateIntervalFromDatabase is responsible for get the value from database. This method is called from class above</p>\n<pre><code>@Configuration\npublic class PlatformService {\n    private final SchedulingConfiguration schedulingConfigurer;\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\n    @Autowired\n    public PlatformService(SchedulingConfiguration schedulingConfigurer) {\n        this.schedulingConfigurer = schedulingConfigurer;\n        scheduleIntervalUpdate();\n    }\n        private void scheduleIntervalUpdate() {\n        scheduler.scheduleAtFixedRate(schedulingConfigurer::updateIntervalFromDatabase, 0, 10, TimeUnit.SECONDS);\n    }\n}\n</code></pre>\n<p>The method scheduleIntervalUpdate must run every 10 seconds to get the interval from database using the updateIntervalFromDatabase method from the other class.</p>\n<p>My problem is that once my application getted the value from DB at startup, my scheduled task will run at this interval for whole life, don't matter how much times I update the value in DB. Any idea for fix it? I know my code is a mess. I'll fix this after this scheduling start to work.</p>\n<p>I've tried every solution I've found. I expect the scheduler receives the value from database in application runtime and uses this as interval</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea","jar"],"comments":[{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682434662,"post_id":76102519,"comment_id":134213135,"body_markdown":"It&#39;s really hard to tell from here. You need to share code of `PlayerController`, `Player` entity and `PlayerService`","body":"It&#39;s really hard to tell from here. You need to share code of <code>PlayerController</code>, <code>Player</code> entity and <code>PlayerService</code>"},{"owner":{"account_id":28167347,"reputation":3,"user_id":21526371,"display_name":"jen"},"score":0,"creation_date":1682435387,"post_id":76102519,"comment_id":134213348,"body_markdown":"@Demir added to original question","body":"@Demir added to original question"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1682435405,"post_id":76102519,"comment_id":134213355,"body_markdown":"The way you are building the jar doesn&#39;t look right to me. Excluding duplicates will result in jar entries being lost, including the `META-INF/spring/*` files that Boot relies upon. Why not use the `bootJar` task that Boot&#39;s Gradle plugin provides?","body":"The way you are building the jar doesn&#39;t look right to me. Excluding duplicates will result in jar entries being lost, including the <code>META-INF&#47;spring&#47;*</code> files that Boot relies upon. Why not use the <code>bootJar</code> task that Boot&#39;s Gradle plugin provides?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682435542,"post_id":76102519,"comment_id":134213394,"body_markdown":"@Shahar can you share `Player`entity? I think you missed it.","body":"@Shahar can you share <code>Player</code>entity? I think you missed it."},{"owner":{"account_id":28167347,"reputation":3,"user_id":21526371,"display_name":"jen"},"score":0,"creation_date":1682436039,"post_id":76102519,"comment_id":134213563,"body_markdown":"i removed the duplicatesStrategy(DuplicatesStrategy.EXCLUDE) and it solved it. thank you so much!","body":"i removed the duplicatesStrategy(DuplicatesStrategy.EXCLUDE) and it solved it. thank you so much!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682494281,"post_id":76102519,"comment_id":134223121,"body_markdown":"Remove your `jar` task and re-run. This will let Spring Boot generate the proper jar for you.","body":"Remove your <code>jar</code> task and re-run. This will let Spring Boot generate the proper jar for you."}],"answers":[{"tags":[],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682465288,"creation_date":1682465288,"answer_id":76106134,"question_id":76102519,"body_markdown":"[Andy Wilkinson][1] wrote in a comment, \r\n\r\n&gt; The way you are building the jar doesn&#39;t look right to me. Excluding duplicates will result in jar entries being lost, including the `META-INF/spring/*` files that Boot relies upon. \r\n\r\nFollowed by the suggestion to use the `bootJar` task that Boot&#39;s Gradle plugin provides.\r\n\r\nSubsequently, the question author, [Shahar][2], removed `duplicatesStrategy(DuplicatesStrategy.EXCLUDE)` and that solved it. \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1384297/andy-wilkinson\r\n  [2]: https://stackoverflow.com/users/21526371/shahar","title":"java -jar app.jar leads to NoSuchBeanDefinitionException while IDE run works fine","body":"<p><a href=\"https://stackoverflow.com/users/1384297/andy-wilkinson\">Andy Wilkinson</a> wrote in a comment,</p>\n<blockquote>\n<p>The way you are building the jar doesn't look right to me. Excluding duplicates will result in jar entries being lost, including the <code>META-INF/spring/*</code> files that Boot relies upon.</p>\n</blockquote>\n<p>Followed by the suggestion to use the <code>bootJar</code> task that Boot's Gradle plugin provides.</p>\n<p>Subsequently, the question author, <a href=\"https://stackoverflow.com/users/21526371/shahar\">Shahar</a>, removed <code>duplicatesStrategy(DuplicatesStrategy.EXCLUDE)</code> and that solved it.</p>\n"}],"owner":{"account_id":28167347,"reputation":3,"user_id":21526371,"display_name":"jen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76106134,"answer_count":1,"score":0,"last_activity_date":1682465288,"creation_date":1682434127,"question_id":76102519,"body_markdown":"trying to run jar file of a spring boot application . working with gradle and ran the gradle build job in Intellij to create the jar. \r\nwhen running the application from the IDE everything works fine and when i&#39;m running \r\n```\r\njava -jar app.jar \r\n```\r\ni&#39;m getting the NoSuchBeanDefinitionException. what could be the reason?\r\n\r\nbuild. gradle:\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.0.5&#39;\r\n\timplementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-csv&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\njar {\r\n\tenabled = true\r\n\tarchiveClassifier.set(&quot;&quot;)\r\n\tduplicatesStrategy(DuplicatesStrategy.EXCLUDE)\r\n\tmanifest {\r\n\t\tattributes &quot;Main-Class&quot;: &quot;com.example.players.PlayersApplication&quot;\r\n\t}\r\n\r\n\tfrom {\r\n\t\tconfigurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n\t}\r\n}\r\n```\r\noutput of gradle build job:\r\n\r\n```\r\n5:43:46 PM: Executing &#39;build&#39;...\r\n\r\n&gt; Task :compileJava UP-TO-DATE\r\n&gt; Task :processResources UP-TO-DATE\r\n&gt; Task :classes UP-TO-DATE\r\n&gt; Task :resolveMainClassName\r\n&gt; Task :bootJar\r\n&gt; Task :jar\r\n&gt; Task :assemble\r\n&gt; Task :compileTestJava\r\n&gt; Task :processTestResources NO-SOURCE\r\n&gt; Task :testClasses\r\n\r\n&gt; Task :test\r\n2023-04-25T17:44:26.265+03:00  INFO 2092 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-25T17:44:26.267+03:00  INFO 2092 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n2023-04-25T17:44:26.485+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-04-25T17:44:26.505+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-04-25T17:44:26.511+03:00  INFO 2092 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-25T17:44:26.512+03:00  INFO 2092 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n2023-04-25T17:44:26.528+03:00  WARN 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121\r\n2023-04-25T17:44:26.530+03:00 ERROR 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\r\n2023-04-25T17:44:26.537+03:00  WARN 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121\r\n2023-04-25T17:44:26.537+03:00 ERROR 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\r\n2023-04-25T17:44:26.540+03:00  WARN 2092 --- [ionShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name &#39;entityManagerFactory&#39;: org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution\r\n2023-04-25T17:44:26.541+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...\r\n2023-04-25T17:44:26.543+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.\r\n\r\n&gt; Task :check\r\n&gt; Task :build\r\n\r\nBUILD SUCCESSFUL in 39s\r\n7 actionable tasks: 5 executed, 2 up-to-date\r\n5:44:26 PM: Execution finished &#39;build&#39;.\r\n\r\n```\r\noutput of java -jar app.jar:\r\n\r\n```\r\n17:37:23.186 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;playersController&#39;: Unsatisfied dependency expressed through field &#39;playersService&#39;: E\r\nrror creating bean with name &#39;playersService&#39;: Unsatisfied dependency expressed through field &#39;playersRepository&#39;: No qualifying bean of type &#39;com.example.players.repositories.Players\r\nRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)    \r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n        at com.example.players.PlayersApplication.main(PlayersApplication.java:12)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;playersService&#39;: Unsatisfied dependency expressed through field &#39;playersRep\r\nository&#39;: No qualifying bean of type &#39;com.example.players.repositories.PlayersRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotat\r\nions: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)    \r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)    \r\n        ... 19 common frames omitted\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n","title":"java -jar app.jar leads to NoSuchBeanDefinitionException while IDE run works fine","body":"<p>trying to run jar file of a spring boot application . working with gradle and ran the gradle build job in Intellij to create the jar.\nwhen running the application from the IDE everything works fine and when i'm running</p>\n<pre><code>java -jar app.jar \n</code></pre>\n<p>i'm getting the NoSuchBeanDefinitionException. what could be the reason?</p>\n<p>build. gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:3.0.5'\n    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-csv'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.h2database:h2'\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'jakarta.xml.ws:jakarta.xml.ws-api:4.0.0'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\njar {\n    enabled = true\n    archiveClassifier.set(&quot;&quot;)\n    duplicatesStrategy(DuplicatesStrategy.EXCLUDE)\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;com.example.players.PlayersApplication&quot;\n    }\n\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<p>output of gradle build job:</p>\n<pre><code>5:43:46 PM: Executing 'build'...\n\n&gt; Task :compileJava UP-TO-DATE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n&gt; Task :resolveMainClassName\n&gt; Task :bootJar\n&gt; Task :jar\n&gt; Task :assemble\n&gt; Task :compileTestJava\n&gt; Task :processTestResources NO-SOURCE\n&gt; Task :testClasses\n\n&gt; Task :test\n2023-04-25T17:44:26.265+03:00  INFO 2092 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-25T17:44:26.267+03:00  INFO 2092 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\n2023-04-25T17:44:26.485+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-25T17:44:26.505+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-04-25T17:44:26.511+03:00  INFO 2092 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-25T17:44:26.512+03:00  INFO 2092 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\n2023-04-25T17:44:26.528+03:00  WARN 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121\n2023-04-25T17:44:26.530+03:00 ERROR 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\n2023-04-25T17:44:26.537+03:00  WARN 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121\n2023-04-25T17:44:26.537+03:00 ERROR 2092 --- [ionShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\n2023-04-25T17:44:26.540+03:00  WARN 2092 --- [ionShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution\n2023-04-25T17:44:26.541+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...\n2023-04-25T17:44:26.543+03:00  INFO 2092 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.\n\n&gt; Task :check\n&gt; Task :build\n\nBUILD SUCCESSFUL in 39s\n7 actionable tasks: 5 executed, 2 up-to-date\n5:44:26 PM: Execution finished 'build'.\n\n</code></pre>\n<p>output of java -jar app.jar:</p>\n<pre><code>17:37:23.186 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playersController': Unsatisfied dependency expressed through field 'playersService': E\nrror creating bean with name 'playersService': Unsatisfied dependency expressed through field 'playersRepository': No qualifying bean of type 'com.example.players.repositories.Players\nRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)    \n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n        at com.example.players.PlayersApplication.main(PlayersApplication.java:12)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playersService': Unsatisfied dependency expressed through field 'playersRep\nository': No qualifying bean of type 'com.example.players.repositories.PlayersRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotat\nions: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)    \n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)    \n        ... 19 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","db2","checkmarx"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1682520737,"post_id":76104183,"comment_id":134229736,"body_markdown":"Sounds to me like a false positive Checkmarx finding, similar to [this](https://stackoverflow.com/questions/72001344/sql-injection-prevention-in-spring-boot) one.","body":"Sounds to me like a false positive Checkmarx finding, similar to <a href=\"https://stackoverflow.com/questions/72001344/sql-injection-prevention-in-spring-boot\">this</a> one."},{"owner":{"account_id":72216,"reputation":358,"user_id":14795243,"display_name":"NathanL"},"score":0,"creation_date":1682524042,"post_id":76104183,"comment_id":134230723,"body_markdown":"True Positive.  The string concatenation with a value obtained from systemProperties to form the native query is the injection attack vector.","body":"True Positive.  The string concatenation with a value obtained from systemProperties to form the native query is the injection attack vector."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1682540069,"post_id":76104183,"comment_id":134234088,"body_markdown":"@NathanL So from what I&#39;ve read a solution to this seems to be possible using a parameterized query instead of the concatenation. Such as this:\n`entityManager.createNativeQuery(&quot;SELECT NEXTVAL FOR ? FROM SYSIBM.SYSDUMMY1.CNTCT_ID&quot;).setParameter(1, sequenceSchema)`","body":"@NathanL So from what I&#39;ve read a solution to this seems to be possible using a parameterized query instead of the concatenation. Such as this: <code>entityManager.createNativeQuery(&quot;SELECT NEXTVAL FOR ? FROM SYSIBM.SYSDUMMY1.CNTCT_ID&quot;).setParameter(1, sequenceSchema)</code>"},{"owner":{"account_id":72216,"reputation":358,"user_id":14795243,"display_name":"NathanL"},"score":0,"creation_date":1682556673,"post_id":76104183,"comment_id":134236322,"body_markdown":"@scottyboombox it might work, assuming you can bind a value at that location in that statement.","body":"@scottyboombox it might work, assuming you can bind a value at that location in that statement."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1682617132,"post_id":76104183,"comment_id":134248036,"body_markdown":"@NathanL Well you were right about not being able to bind a value at that location. Back to square one...","body":"@NathanL Well you were right about not being able to bind a value at that location. Back to square one..."}],"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682464688,"creation_date":1682445923,"question_id":76104183,"body_markdown":"I am running into an issue where Checkmarx is flagging one of my Services as having a Second Order SQL Injection vulnerability. I have attempted to do some research to figure out how to resolve this but most solutions seem to be around queries that are using parameters. This query that is being flagged does not use any parameters. The code in question is here:\r\n\r\n```java\r\npublic static final String SELECT_NEXTVAL_FOR = &quot;SELECT NEXTVAL FOR &quot;;\r\npublic static final String FROM_SYSIBM = &quot; FROM SYSIBM.SYSDUMMY1&quot;;\r\npublic static final String CONTACT_ID_TABLE = &quot;.CNTCT_ID&quot;;\r\n@Autowired\r\nEntityManager entityManager;\r\n\r\n@Value(&quot;#{ systemProperties[&#39;sequence.schema&#39;]}&quot;)\r\nString sequenceSchema;\r\n\r\npublic Integer getNextContactId() {\r\n    Query getNextContactIdQuery = entityManager.createNativeQuery(\r\n            SELECT_NEXTVAL_FOR + sequenceSchema + CONTACT_ID_TABLE + FROM_SYSIBM);\r\n\r\n    return (Integer)getNextContactIdQuery.getSingleResult();\r\n}\r\n```\r\n\r\nThe message that Checkmarx is giving is here:\r\n&gt;The application&#39;s getNextContactId method executes an SQL query with BinaryExpr, at line 27 of src\\main\\java\\com\\ford\\fcnadealerdata\\cloc\\service\\SequenceService.java. The application constructs this SQL query by embedding an untrusted string into the query without proper sanitization. The concatenated string is submitted to the database, where it is parsed and executed accordingly.\r\n&gt;\r\n&gt;The attacker may be able to write arbitrary data to the database, which is then retrieved by the application with get in sequenceSchema; method at line 23 of service\\SequenceService.java. This data then flows through the code, until it is used directly in the SQL query without sanitization, and then submitted to the database server for execution.\r\n&gt;\r\n&gt;This may enable a Second-Order SQL Injection attack\r\n\r\nIt seems to have an issue with the `+` in between `CONTACT_ID_TABLE` and `FROM_SYSIBM`. As I mentioned all of the similar solutions I found involved parameters being passed in to the queries, here we aren&#39;t doing that so I don&#39;t think that I need something quite as complicated, though I could be wrong.","title":"How to resolve a Second Order SQL Injection issue being thrown by Checkmarx","body":"<p>I am running into an issue where Checkmarx is flagging one of my Services as having a Second Order SQL Injection vulnerability. I have attempted to do some research to figure out how to resolve this but most solutions seem to be around queries that are using parameters. This query that is being flagged does not use any parameters. The code in question is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String SELECT_NEXTVAL_FOR = &quot;SELECT NEXTVAL FOR &quot;;\npublic static final String FROM_SYSIBM = &quot; FROM SYSIBM.SYSDUMMY1&quot;;\npublic static final String CONTACT_ID_TABLE = &quot;.CNTCT_ID&quot;;\n@Autowired\nEntityManager entityManager;\n\n@Value(&quot;#{ systemProperties['sequence.schema']}&quot;)\nString sequenceSchema;\n\npublic Integer getNextContactId() {\n    Query getNextContactIdQuery = entityManager.createNativeQuery(\n            SELECT_NEXTVAL_FOR + sequenceSchema + CONTACT_ID_TABLE + FROM_SYSIBM);\n\n    return (Integer)getNextContactIdQuery.getSingleResult();\n}\n</code></pre>\n<p>The message that Checkmarx is giving is here:</p>\n<blockquote>\n<p>The application's getNextContactId method executes an SQL query with BinaryExpr, at line 27 of src\\main\\java\\com\\ford\\fcnadealerdata\\cloc\\service\\SequenceService.java. The application constructs this SQL query by embedding an untrusted string into the query without proper sanitization. The concatenated string is submitted to the database, where it is parsed and executed accordingly.</p>\n<p>The attacker may be able to write arbitrary data to the database, which is then retrieved by the application with get in sequenceSchema; method at line 23 of service\\SequenceService.java. This data then flows through the code, until it is used directly in the SQL query without sanitization, and then submitted to the database server for execution.</p>\n<p>This may enable a Second-Order SQL Injection attack</p>\n</blockquote>\n<p>It seems to have an issue with the <code>+</code> in between <code>CONTACT_ID_TABLE</code> and <code>FROM_SYSIBM</code>. As I mentioned all of the similar solutions I found involved parameters being passed in to the queries, here we aren't doing that so I don't think that I need something quite as complicated, though I could be wrong.</p>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":28334758,"reputation":70,"user_id":21668471,"display_name":"atlaska826"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682464521,"creation_date":1682024305,"answer_id":76068239,"question_id":76045837,"body_markdown":"After a little bit of research, there are two possible solutions that I have found. In `InventoryClickEvent`, there is a method called `.isShiftClick` which detects if the interaction is a shift click. The other thing I found is something called `PrepareItemCraftEvent` which I believe checks to see if the recipe book is used. However, I haven&#39;t used the event before, so I&#39;m not 100% sure.","title":"How to check when a player is doing sth with the reciepie book in mc 1.19.2","body":"<p>After a little bit of research, there are two possible solutions that I have found. In <code>InventoryClickEvent</code>, there is a method called <code>.isShiftClick</code> which detects if the interaction is a shift click. The other thing I found is something called <code>PrepareItemCraftEvent</code> which I believe checks to see if the recipe book is used. However, I haven't used the event before, so I'm not 100% sure.</p>\n"}],"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682464521,"creation_date":1681828138,"question_id":76045837,"body_markdown":"so I&#39;m trying to make a global inventory that updates whenever basically anything related to a player inventory happens. Everything works but whenever a player goes about shift-clicking in the recipe book it&#39;s not registered by any conventional means (at least I think) What I had done up till now is used:\r\n```\r\n@EventHandler\r\n    public void onInvClick(InventoryClickEvent event) {\r\n        InvUpdate = true;\r\n        invupdateplayer = (Player) event.getWhoClicked();\r\n    }\r\n```\r\nBut the problem is that this code doesn&#39;t register receipe book events, which is what I&#39;m trying to do. Is there a way to listen for this?","title":"How to check when a player is doing sth with the reciepie book in mc 1.19.2","body":"<p>so I'm trying to make a global inventory that updates whenever basically anything related to a player inventory happens. Everything works but whenever a player goes about shift-clicking in the recipe book it's not registered by any conventional means (at least I think) What I had done up till now is used:</p>\n<pre><code>@EventHandler\n    public void onInvClick(InventoryClickEvent event) {\n        InvUpdate = true;\n        invupdateplayer = (Player) event.getWhoClicked();\n    }\n</code></pre>\n<p>But the problem is that this code doesn't register receipe book events, which is what I'm trying to do. Is there a way to listen for this?</p>\n"},{"tags":["java","spring","validation","spring-annotations","spring-validator"],"answers":[{"tags":[],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682461811,"creation_date":1682461811,"answer_id":76105871,"question_id":76104388,"body_markdown":"Did you try to add this configuration bean?\r\n\r\n    @Configuration\r\n    public class ValidationConfig {\r\n        @Bean\r\n        public Validator validator () {\r\n          return new LocalValidatorFactoryBean();\r\n        }\r\n   \r\n        @Bean\r\n        public MethodValidationPostProcessor     methodValidationPostProcessor() {\r\n          MethodValidationPostProcessor  methodValidationPostProcessor = new      MethodValidationPostProcessor();\r\n          methodValidationPostProcessor.setValidator(validator());\r\n\r\n          return methodValidationPostProcessor;\r\n        }\r\n    }","title":"Spring custom validation annotation isn&#39;t working because of null pointer exception?","body":"<p>Did you try to add this configuration bean?</p>\n<pre><code>@Configuration\npublic class ValidationConfig {\n    @Bean\n    public Validator validator () {\n      return new LocalValidatorFactoryBean();\n    }\n\n    @Bean\n    public MethodValidationPostProcessor     methodValidationPostProcessor() {\n      MethodValidationPostProcessor  methodValidationPostProcessor = new      MethodValidationPostProcessor();\n      methodValidationPostProcessor.setValidator(validator());\n\n      return methodValidationPostProcessor;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15264195,"reputation":59,"user_id":11013341,"display_name":"MSmith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682461811,"creation_date":1682447768,"question_id":76104388,"body_markdown":"I have this custom annotation interface:\r\n```\r\n@Documented\r\n@Constraint(validatedBy = NameValidator.class)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD})\r\npublic @interface NameValidation {\r\n\r\n    String message() default &quot;Name invalid&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nwhich has this NameValidator class:\r\n```\r\npublic class NameValidator implements ConstraintValidator&lt;NameValidation, String&gt; {\r\n\r\n    @Autowired\r\n    private NicknameRepository nicknameRepository;\r\n\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n        return nicknameRepository.existsById(1L);\r\n    }\r\n}\r\n```\r\n\r\nNameValidator needs an autowired repository object to test a value in the Database.\r\n\r\nNickname repository\r\n```\r\n@Repository\r\npublic interface NicknameRepository extends JpaRepository&lt;Nickname, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nThe Enitity and use of custom annotation:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name = &quot;Nickname&quot;)\r\n@ToString\r\npublic class Nickname extends RepresentationModel&lt;Nickname&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;nicknameValue&quot;)\r\n    private String nicknameValue;\r\n\r\n    @Column(name = &quot;byUser&quot;)\r\n    @NameValidation(message = &quot;Name is invalid&quot;)   // using custom annotation\r\n    private String byUser;\r\n\r\n}\r\n```\r\n\r\nWhen I run the application and try to add a new Nickname I get an error. \r\nThe nickname repository in the NameValidator class is null.\r\n\r\nThis is the error I get.\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ValidationException: HV000028: Unexpected exception during isValid call.] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;com.proj.repository.NicknameRepository.existsById(Object)&quot; because &quot;this.nicknameRepository&quot; is null\r\n```\r\n\r\n\r\nI have tried many different answers on stackoverflow already such as adding @Service/@Component to NameValidator etc but for some reason Spring still isn&#39;t autowiring the nickname repository.\r\nAutowiring the nickname repository in other classes seems to work fine. ","title":"Spring custom validation annotation isn&#39;t working because of null pointer exception?","body":"<p>I have this custom annotation interface:</p>\n<pre><code>@Documented\n@Constraint(validatedBy = NameValidator.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD})\npublic @interface NameValidation {\n\n    String message() default &quot;Name invalid&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>which has this NameValidator class:</p>\n<pre><code>public class NameValidator implements ConstraintValidator&lt;NameValidation, String&gt; {\n\n    @Autowired\n    private NicknameRepository nicknameRepository;\n\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        return nicknameRepository.existsById(1L);\n    }\n}\n</code></pre>\n<p>NameValidator needs an autowired repository object to test a value in the Database.</p>\n<p>Nickname repository</p>\n<pre><code>@Repository\npublic interface NicknameRepository extends JpaRepository&lt;Nickname, Long&gt; {\n\n}\n</code></pre>\n<p>The Enitity and use of custom annotation:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;Nickname&quot;)\n@ToString\npublic class Nickname extends RepresentationModel&lt;Nickname&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;nicknameValue&quot;)\n    private String nicknameValue;\n\n    @Column(name = &quot;byUser&quot;)\n    @NameValidation(message = &quot;Name is invalid&quot;)   // using custom annotation\n    private String byUser;\n\n}\n</code></pre>\n<p>When I run the application and try to add a new Nickname I get an error.\nThe nickname repository in the NameValidator class is null.</p>\n<p>This is the error I get.</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ValidationException: HV000028: Unexpected exception during isValid call.] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;com.proj.repository.NicknameRepository.existsById(Object)&quot; because &quot;this.nicknameRepository&quot; is null\n</code></pre>\n<p>I have tried many different answers on stackoverflow already such as adding @Service/@Component to NameValidator etc but for some reason Spring still isn't autowiring the nickname repository.\nAutowiring the nickname repository in other classes seems to work fine.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":1,"creation_date":1541397909,"post_id":53149122,"comment_id":93188726,"body_markdown":"include framework project as a module in your main project","body":"include framework project as a module in your main project"},{"owner":{"account_id":14663263,"reputation":1,"user_id":10589808,"display_name":"st0wzz"},"score":0,"creation_date":1541398076,"post_id":53149122,"comment_id":93188773,"body_markdown":"Can you give specific instructions? Because the two projects output 2 apk files, and to perform all the functions, both apk files must be installed.","body":"Can you give specific instructions? Because the two projects output 2 apk files, and to perform all the functions, both apk files must be installed."},{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1541398144,"post_id":53149122,"comment_id":93188795,"body_markdown":"when you will merge 2 codes, then it should output a single apk.","body":"when you will merge 2 codes, then it should output a single apk."},{"owner":{"account_id":14663263,"reputation":1,"user_id":10589808,"display_name":"st0wzz"},"score":0,"creation_date":1541398311,"post_id":53149122,"comment_id":93188842,"body_markdown":"Please teach me how to merge 2 source code. I do not know where to start. please give me a keyword","body":"Please teach me how to merge 2 source code. I do not know where to start. please give me a keyword"},{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1541398390,"post_id":53149122,"comment_id":93188862,"body_markdown":"https://stackoverflow.com/questions/35223028/how-to-add-another-project-in-my-existing-android-studio-project","body":"<a href=\"https://stackoverflow.com/questions/35223028/how-to-add-another-project-in-my-existing-android-studio-project\" title=\"how to add another project in my existing android studio project\">stackoverflow.com/questions/35223028/&hellip;</a>"},{"owner":{"account_id":14663263,"reputation":1,"user_id":10589808,"display_name":"st0wzz"},"score":0,"creation_date":1541398632,"post_id":53149122,"comment_id":93188929,"body_markdown":"Will I have to convert framework project it into a library module?","body":"Will I have to convert framework project it into a library module?"},{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1541398678,"post_id":53149122,"comment_id":93188937,"body_markdown":"yes that&#39;s what I was saying. Import that project as a new module in your main project.","body":"yes that&#39;s what I was saying. Import that project as a new module in your main project."}],"answers":[{"tags":[],"owner":{"account_id":8810953,"reputation":1133,"user_id":6584029,"accept_rate":75,"display_name":"Calaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541414527,"creation_date":1541414527,"answer_id":53152779,"question_id":53149122,"body_markdown":"You can import your old project in the new as a module. See the following instructions.\r\n\r\n 1. Find your old project folder by right-clicking on the project name\r\n   in the &quot;Package Explorer&quot; -&gt; Properties -&gt; &quot;Location&quot;. \r\n 2. Open your\r\n   new project, go to File -&gt; New -&gt; Import Module, browse &quot;Location&quot;\r\n   path and choose your project. \r\n 3. Go to Project structure -&gt;\r\n   Dependencies tab and then add that module as a dependency.","title":"How to merge source code from 2 project Android","body":"<p>You can import your old project in the new as a module. See the following instructions.</p>\n\n<ol>\n<li>Find your old project folder by right-clicking on the project name\nin the \"Package Explorer\" -> Properties -> \"Location\". </li>\n<li>Open your\nnew project, go to File -> New -> Import Module, browse \"Location\"\npath and choose your project. </li>\n<li>Go to Project structure ->\nDependencies tab and then add that module as a dependency.</li>\n</ol>\n"}],"owner":{"account_id":14663263,"reputation":1,"user_id":10589808,"display_name":"st0wzz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682461756,"creation_date":1541397811,"question_id":53149122,"body_markdown":"Very sorry if my questions are stupid. \r\nAfter searching, I get the source code of 2 open source projects. Somewhat difficult to describe, but it is an assistant app instead of google assistant. A project is similar to the framework for the assistant, and the other project that receives information from the assistant to search. I want to put two projects into one and export a single apk.\r\nIt&#39;s hard to get started, so please help me.","title":"How to merge source code from 2 project Android","body":"<p>Very sorry if my questions are stupid. \nAfter searching, I get the source code of 2 open source projects. Somewhat difficult to describe, but it is an assistant app instead of google assistant. A project is similar to the framework for the assistant, and the other project that receives information from the assistant to search. I want to put two projects into one and export a single apk.\nIt's hard to get started, so please help me.</p>\n"},{"tags":["java","postgresql","ssl","java-security"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678308041,"post_id":75674903,"comment_id":133509491,"body_markdown":"Did you use `openssl pkcs8 -topk8 -v2 $symcipher` or `openssl pkey -$symcipher`? Those create PKCS8 using PBES2 encryption, which Java can&#39;t handle using the simple `KeyFactory and Cipher for key.topalgorithm` method that works on PBES1 schemes. Try `pkcs8 -topk8 -v1 PBE-SHA1-3DES` . (Or if the postgres driver supports it, which I don&#39;t know, _and_ your system is secure enough without it, don&#39;t encrypt the key at all.)","body":"Did you use <code>openssl pkcs8 -topk8 -v2 $symcipher</code> or <code>openssl pkey -$symcipher</code>? Those create PKCS8 using PBES2 encryption, which Java can&#39;t handle using the simple <code>KeyFactory and Cipher for key.topalgorithm</code> method that works on PBES1 schemes. Try <code>pkcs8 -topk8 -v1 PBE-SHA1-3DES</code> . (Or if the postgres driver supports it, which I don&#39;t know, <i>and</i> your system is secure enough without it, don&#39;t encrypt the key at all.)"},{"owner":{"account_id":8363529,"reputation":215,"user_id":6281005,"accept_rate":0,"display_name":"Faheem Sultan"},"score":0,"creation_date":1678375130,"post_id":75674903,"comment_id":133523588,"body_markdown":"@dave_thompson_085 i tried with `openssl pkcs8 -topk8 -v1 PBE-SHA1-3DES -inform PEM -outform DER -in postgresql.key -out postgresql.pk8` and here&#39;s the exception i&#39;m getting `Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n\tat java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:975)\n\tat java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1056)`","body":"@dave_thompson_085 i tried with <code>openssl pkcs8 -topk8 -v1 PBE-SHA1-3DES -inform PEM -outform DER -in postgresql.key -out postgresql.pk8</code> and here&#39;s the exception i&#39;m getting <code>Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption. \tat java.base&#47;com.sun.crypto.provider.CipherCore.unpad(CipherCor&zwnj;&#8203;e.java:975) \tat java.base&#47;com.sun.crypto.provider.CipherCore.fillOutputBuffe&zwnj;&#8203;r(CipherCore.java:10&zwnj;&#8203;56)</code>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678414105,"post_id":75674903,"comment_id":133532265,"body_markdown":"Faheem: BadPadding is almost always caused by wrong key, as it says, and in this case the key is derived from the passphrase. Check the passphrase. Especially if it contains any non-ASCII character(s) that may be handled differently by different programs.","body":"Faheem: BadPadding is almost always caused by wrong key, as it says, and in this case the key is derived from the passphrase. Check the passphrase. Especially if it contains any non-ASCII character(s) that may be handled differently by different programs."},{"owner":{"account_id":8363529,"reputation":215,"user_id":6281005,"accept_rate":0,"display_name":"Faheem Sultan"},"score":0,"creation_date":1678805433,"post_id":75674903,"comment_id":133602271,"body_markdown":"@dave_thompson_085 you are right. you can put your comment as an answer so i can accept it","body":"@dave_thompson_085 you are right. you can put your comment as an answer so i can accept it"}],"owner":{"account_id":8363529,"reputation":215,"user_id":6281005,"accept_rate":0,"display_name":"Faheem Sultan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682461703,"creation_date":1678288649,"question_id":75674903,"body_markdown":"I&#39;m trying to connect with PostgreSQL using ssl and getting exception\r\n\r\n```\r\nCaused by: org.postgresql.util.PSQLException: Could not find a java cryptographic algorithm: Cannot find any provider supporting 1.2.840.113549.1.5.13.\r\n\tat org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:271)\r\n\tat java.base/sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1765)\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:251)\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:206)\r\n\tat java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:90)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958)\r\n\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011)\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1382)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1295)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:416)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:388)\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:534)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:149)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:108)\r\n\t... 107 common frames omitted\r\nCaused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting 1.2.840.113549.1.5.13\r\n\tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:565)\r\n\tat org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:223)\r\n\t... 144 common frames omitted\r\n```\r\n\r\nthis is how i&#39;m trying to connect \r\n\r\n```\r\njdbc:postgresql://hostname:5432/dbname?sslmode=require&amp;sslcert=D:\\\\work\\\\linux\\\\postgres-ssl\\\\postgresql.crt&amp;sslkey=D:\\\\work\\\\linux\\\\postgres-ssl\\\\postgresql.pk8&amp;sslrootcert=D:\\\\work\\\\linux\\\\postgres-ssl\\\\root.crt&amp;sslpassword=password&quot;;`\r\n```\r\n\r\ni&#39;m on springboot version 2.5.4 with Java 11. i created the certificates using openssl utility\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\ni created the key using `openssl pkcs8 -topk8 -v1 PBE-SHA1-3DES -inform PEM -outform DER -in postgresql.key -out postgresql.pk8` and now the exception is different \r\n\r\n```\r\nCaused by: java.security.spec.InvalidKeySpecException: Cannot retrieve the PKCS8EncodedKeySpec\r\n\tat java.base/javax.crypto.EncryptedPrivateKeyInfo.getKeySpec(EncryptedPrivateKeyInfo.java:258)\r\n\tat org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:257)\r\n\t... 144 common frames omitted\r\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\tat java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:975)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1056)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:853)\r\n\tat java.base/com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:408)\r\n\tat java.base/com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:440)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\r\n\tat java.base/javax.crypto.EncryptedPrivateKeyInfo.getKeySpec(EncryptedPrivateKeyInfo.java:253)\r\n```","title":"NoSuchAlgorithmException: Cannot find any provider supporting 1.2.840.113549.1.5.13","body":"<p>I'm trying to connect with PostgreSQL using ssl and getting exception</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: Could not find a java cryptographic algorithm: Cannot find any provider supporting 1.2.840.113549.1.5.13.\n    at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:271)\n    at java.base/sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1765)\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:251)\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:206)\n    at java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:90)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958)\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011)\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1382)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1295)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:416)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:388)\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:534)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:149)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:108)\n    ... 107 common frames omitted\nCaused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting 1.2.840.113549.1.5.13\n    at java.base/javax.crypto.Cipher.getInstance(Cipher.java:565)\n    at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:223)\n    ... 144 common frames omitted\n</code></pre>\n<p>this is how i'm trying to connect</p>\n<pre><code>jdbc:postgresql://hostname:5432/dbname?sslmode=require&amp;sslcert=D:\\\\work\\\\linux\\\\postgres-ssl\\\\postgresql.crt&amp;sslkey=D:\\\\work\\\\linux\\\\postgres-ssl\\\\postgresql.pk8&amp;sslrootcert=D:\\\\work\\\\linux\\\\postgres-ssl\\\\root.crt&amp;sslpassword=password&quot;;`\n</code></pre>\n<p>i'm on springboot version 2.5.4 with Java 11. i created the certificates using openssl utility</p>\n<p><strong>UPDATE:</strong></p>\n<p>i created the key using <code>openssl pkcs8 -topk8 -v1 PBE-SHA1-3DES -inform PEM -outform DER -in postgresql.key -out postgresql.pk8</code> and now the exception is different</p>\n<pre><code>Caused by: java.security.spec.InvalidKeySpecException: Cannot retrieve the PKCS8EncodedKeySpec\n    at java.base/javax.crypto.EncryptedPrivateKeyInfo.getKeySpec(EncryptedPrivateKeyInfo.java:258)\n    at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:257)\n    ... 144 common frames omitted\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:975)\n    at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1056)\n    at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:853)\n    at java.base/com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:408)\n    at java.base/com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:440)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\n    at java.base/javax.crypto.EncryptedPrivateKeyInfo.getKeySpec(EncryptedPrivateKeyInfo.java:253)\n</code></pre>\n"},{"tags":["java","shell","gradle"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1434088803,"post_id":30789839,"comment_id":49641496,"body_markdown":"Not sure if it&#39;s doable from command line. Probably you need to define a separate task for that.","body":"Not sure if it&#39;s doable from command line. Probably you need to define a separate task for that."}],"answers":[{"tags":[],"owner":{"account_id":3756562,"reputation":376,"user_id":3122798,"display_name":"lemoncurd"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1446589267,"creation_date":1446589267,"answer_id":33510201,"question_id":30789839,"body_markdown":"The following works for me locally.\r\n\r\n    gradle -Dtest.single=MySuite clean test\r\n\r\nThis actually uses a different approach (test inclusion) versus the more advanced filtering approach used by `--test`. \r\n\r\nAs documented in the referenced link, the example above works by creating a file inclusion pattern of the form `**/MySuite*.class` whereas `--test` attempts to select tests from the scanned test set. I suspect there are some unforseen interactions between the generic test filtering implemented in Gradle and the specific cases around the JUnit Suite runner.\r\n\r\nHaving said that, even the Gradle docs warn that the above approach is superseded, and in reality I would probably echo @Opal&#39;s comment and define an explicit task to run suites for a given phase of testing. For example the following run with `gradle clean testSuite` might run an integration suite. \r\n\r\n    task testSuite(type: Test) {\r\n       include &#39;MySuite.class&#39;  \r\n    }\r\n\r\n*References:*\r\n\r\n* https://docs.gradle.org/current/userguide/java_plugin.html#test_filtering","title":"How can I run a test suite using gradle from the command line","body":"<p>The following works for me locally.</p>\n\n<pre><code>gradle -Dtest.single=MySuite clean test\n</code></pre>\n\n<p>This actually uses a different approach (test inclusion) versus the more advanced filtering approach used by <code>--test</code>. </p>\n\n<p>As documented in the referenced link, the example above works by creating a file inclusion pattern of the form <code>**/MySuite*.class</code> whereas <code>--test</code> attempts to select tests from the scanned test set. I suspect there are some unforseen interactions between the generic test filtering implemented in Gradle and the specific cases around the JUnit Suite runner.</p>\n\n<p>Having said that, even the Gradle docs warn that the above approach is superseded, and in reality I would probably echo @Opal's comment and define an explicit task to run suites for a given phase of testing. For example the following run with <code>gradle clean testSuite</code> might run an integration suite. </p>\n\n<pre><code>task testSuite(type: Test) {\n   include 'MySuite.class'  \n}\n</code></pre>\n\n<p><em>References:</em></p>\n\n<ul>\n<li><a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#test_filtering\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/java_plugin.html#test_filtering</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14989962,"reputation":81,"user_id":10821438,"display_name":"Tomislav Kordic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682461148,"creation_date":1682461148,"answer_id":76105820,"question_id":30789839,"body_markdown":"According to this article: https://alexzh.com/how-to-group-android-tests/ you can run the test suite via the command line using gradle like this: `./gradlew &lt;modulename&gt;:connectedDebugAndroidTest -Pandroid.testInstrumentationRunnerArguments.class=com.my.package.TestSuiteClassName`\r\n\r\nTo avoid running tests twice when executing: `./gradlew &lt;modulename&gt;:connectedDebugAndroidTest` make sure to define the test suites in a different package as explained here: https://medium.com/mesmerhq/accelerate-your-android-espresso-testing-by-grouping-relevant-tests-f492d4ff8809","title":"How can I run a test suite using gradle from the command line","body":"<p>According to this article: <a href=\"https://alexzh.com/how-to-group-android-tests/\" rel=\"nofollow noreferrer\">https://alexzh.com/how-to-group-android-tests/</a> you can run the test suite via the command line using gradle like this: <code>./gradlew &lt;modulename&gt;:connectedDebugAndroidTest -Pandroid.testInstrumentationRunnerArguments.class=com.my.package.TestSuiteClassName</code></p>\n<p>To avoid running tests twice when executing: <code>./gradlew &lt;modulename&gt;:connectedDebugAndroidTest</code> make sure to define the test suites in a different package as explained here: <a href=\"https://medium.com/mesmerhq/accelerate-your-android-espresso-testing-by-grouping-relevant-tests-f492d4ff8809\" rel=\"nofollow noreferrer\">https://medium.com/mesmerhq/accelerate-your-android-espresso-testing-by-grouping-relevant-tests-f492d4ff8809</a></p>\n"}],"owner":{"account_id":349011,"reputation":1583,"user_id":684037,"accept_rate":100,"display_name":"tam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16117,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":33510201,"answer_count":2,"score":18,"last_activity_date":1682461148,"creation_date":1434051170,"question_id":30789839,"body_markdown":"I&#39;m trying to use gradle to run tests with the following command but its not working\r\n\r\n    gradle cleanTest test --tests my.package.TestSuite\r\n\r\nmy test suite looks like the following\r\n\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses({\r\n        ATests.class,\r\n        BTests.class,\r\n        CTests.class\r\n    })\r\n    public class MySuite {\r\n      /* placeholder, use this to contain all integration tests in one spot * */\r\n    }\r\n\r\ntrying to run the following command works, but aggravatingly enough, it runs each test twice. once by itself and then again under the test suite in that same namespace\r\n    \r\n    gradle clean test --tests my.package.*\r\n\r\nI could just drop the test suite and do it this way but I want to better understand whats going on here and why I can&#39;t tell it to directly run the test suite. \r\n","title":"How can I run a test suite using gradle from the command line","body":"<p>I'm trying to use gradle to run tests with the following command but its not working</p>\n\n<pre><code>gradle cleanTest test --tests my.package.TestSuite\n</code></pre>\n\n<p>my test suite looks like the following</p>\n\n<pre><code>@RunWith(Suite.class)\n@Suite.SuiteClasses({\n    ATests.class,\n    BTests.class,\n    CTests.class\n})\npublic class MySuite {\n  /* placeholder, use this to contain all integration tests in one spot * */\n}\n</code></pre>\n\n<p>trying to run the following command works, but aggravatingly enough, it runs each test twice. once by itself and then again under the test suite in that same namespace</p>\n\n<pre><code>gradle clean test --tests my.package.*\n</code></pre>\n\n<p>I could just drop the test suite and do it this way but I want to better understand whats going on here and why I can't tell it to directly run the test suite. </p>\n"},{"tags":["java","docker","jar","dockerfile","classpath"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1682113148,"post_id":76075609,"comment_id":134170136,"body_markdown":"Specifying a classpath with spaces separating the elements is incorrect and won’t work. Show us your attempt using colons.","body":"Specifying a classpath with spaces separating the elements is incorrect and won’t work. Show us your attempt using colons."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1682254970,"post_id":76075609,"comment_id":134183037,"body_markdown":"Also please verify that the name of the class is correct; the convention is that class names begin with a capital letter, so `MainClass` instead of `mainClass`","body":"Also please verify that the name of the class is correct; the convention is that class names begin with a capital letter, so <code>MainClass</code> instead of <code>mainClass</code>"},{"owner":{"account_id":28350574,"reputation":1,"user_id":21682131,"display_name":"boredStackOverflowuser"},"score":0,"creation_date":1682445408,"post_id":76075609,"comment_id":134215952,"body_markdown":"@TimMoore Hi Tim, I did not set these as spaces, that is just how the $CLASSPATH environment variables appears after I do: ENV CLASSPATH=&quot;/opt/service/libs/*&quot; as shown in the question. To use colon seperators I copied the output of $echo CLASSPATH and did a replace on all &quot; &quot;, with &quot;:&quot;, then it finds the MainClass, but not the other jars.","body":"@TimMoore Hi Tim, I did not set these as spaces, that is just how the $CLASSPATH environment variables appears after I do: ENV CLASSPATH=&quot;/opt/service/libs/*&quot; as shown in the question. To use colon seperators I copied the output of $echo CLASSPATH and did a replace on all &quot; &quot;, with &quot;:&quot;, then it finds the MainClass, but not the other jars."},{"owner":{"account_id":28350574,"reputation":1,"user_id":21682131,"display_name":"boredStackOverflowuser"},"score":0,"creation_date":1682445455,"post_id":76075609,"comment_id":134215962,"body_markdown":"@Marcono1234 Hi! Sorry about that typo, yes the name is MainClass. I just typod when making the question.","body":"@Marcono1234 Hi! Sorry about that typo, yes the name is MainClass. I just typod when making the question."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682460663,"creation_date":1682460224,"answer_id":76105756,"question_id":76075609,"body_markdown":"This line looks incorrect:\r\n```Dockerfile\r\nENV CLASSPATH=LIBS_PATH&quot;/*&quot;\r\n```\r\n\r\nIt should probably have a `$` before the variable name, see also the [Dockerfile reference](https://docs.docker.com/engine/reference/builder/#environment-replacement).\r\n```Dockerfile\r\nENV CLASSPATH=$LIBS_PATH&quot;/*&quot;\r\n```\r\n\r\nAdditionally to be safe you should probably put quotes around the `java -cp` argument:\r\n```Dockerfile\r\nENTRYPOINT java -cp &quot;$CLASSPATH&quot; &quot;com.org.service.MainClass&quot;\r\n```\r\n(As mentioned [in the comments](https://stackoverflow.com/questions/76075609/setting-classpath-within-docker-container-using-dockerfile?noredirect=1#comment134215962_76075609), this also uses the correct capitalization of `MainClass`)\r\n\r\n----\r\n\r\n&gt; when I do this and I echo the $CLASSPATH inside of the docker container, (using docker run), it returns all of the adresses of the jar files, but with a space in between\r\n\r\nThis probably performs wildcard expansion in the shell for the `*` in the classpath; you would have to run `echo &quot;$CLASSPATH&quot;` (with quotes) to prevent this and verify that the path is correct. The result from the wildcard expansion might not necessarily be the same as how `java` behaves. For example as seen in [this question](https://stackoverflow.com/q/219585) the shell will expand `*.jar` just fine, but passing it to `java -cp` will not work, you will have to use only `*` (as you have done).\r\n\r\n","title":"Setting CLASSPATH within Docker container using Dockerfile","body":"<p>This line looks incorrect:</p>\n<pre><code>ENV CLASSPATH=LIBS_PATH&quot;/*&quot;\n</code></pre>\n<p>It should probably have a <code>$</code> before the variable name, see also the <a href=\"https://docs.docker.com/engine/reference/builder/#environment-replacement\" rel=\"nofollow noreferrer\">Dockerfile reference</a>.</p>\n<pre><code>ENV CLASSPATH=$LIBS_PATH&quot;/*&quot;\n</code></pre>\n<p>Additionally to be safe you should probably put quotes around the <code>java -cp</code> argument:</p>\n<pre><code>ENTRYPOINT java -cp &quot;$CLASSPATH&quot; &quot;com.org.service.MainClass&quot;\n</code></pre>\n<p>(As mentioned <a href=\"https://stackoverflow.com/questions/76075609/setting-classpath-within-docker-container-using-dockerfile?noredirect=1#comment134215962_76075609\">in the comments</a>, this also uses the correct capitalization of <code>MainClass</code>)</p>\n<hr />\n<blockquote>\n<p>when I do this and I echo the $CLASSPATH inside of the docker container, (using docker run), it returns all of the adresses of the jar files, but with a space in between</p>\n</blockquote>\n<p>This probably performs wildcard expansion in the shell for the <code>*</code> in the classpath; you would have to run <code>echo &quot;$CLASSPATH&quot;</code> (with quotes) to prevent this and verify that the path is correct. The result from the wildcard expansion might not necessarily be the same as how <code>java</code> behaves. For example as seen in <a href=\"https://stackoverflow.com/q/219585\">this question</a> the shell will expand <code>*.jar</code> just fine, but passing it to <code>java -cp</code> will not work, you will have to use only <code>*</code> (as you have done).</p>\n"}],"owner":{"account_id":28350574,"reputation":1,"user_id":21682131,"display_name":"boredStackOverflowuser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682460663,"creation_date":1682099323,"question_id":76075609,"body_markdown":"I have been trying to &quot;dockerize&quot; a microservice that I have built using java. However, I am having some issues with the classpath when using Docker. I am on a Linux machine using java open jdk 1.8. My dockerfile looks something like:\r\n\r\n```\r\nFROM openjdk:version\r\n\r\n#`Make the directories I need\r\nRUN mkdir -p /opt/service/libs\r\n\r\nENV LIBS_PATH=/opt/service/libs\r\nENV CLASSPATH=LIBS_PATH&quot;/*&quot;\r\n\r\nCOPY ./target/libs $LIBS_PATH\r\nCOPY ./target/MY_SERVICE.jar $LIBS_PATH\r\n\r\nENTRYPOINT java -cp $CLASSPATH &quot;com.org.service.mainClass&quot;\r\n```\r\nI have noticed when I do this and I echo the $CLASSPATH inside of the docker container, (using docker run), it returns all of the adresses of the jar files, but with a space in between instead of a : seperator. This implies two things, it knows where all of these jar files are and that the jar files have been successfully copied. I still get an error on the java -cp line. The error is as follows:\r\n\r\n&gt; Error: Could not find or load main class .opt.service.libs.FirstJarInLibsFolder.jar\r\n\r\nIf I change the `CLASSPATH` to have the `:` separators where it is supposed to, I instead get the error:\r\n\r\n&gt; Error: Could not find or load main class com.org.service.mainClass\r\n\r\neven though my JAR contains that class.\r\n\r\nAny thoughts on what it could be?\r\n\r\nI have tried what is detailed above.","title":"Setting CLASSPATH within Docker container using Dockerfile","body":"<p>I have been trying to &quot;dockerize&quot; a microservice that I have built using java. However, I am having some issues with the classpath when using Docker. I am on a Linux machine using java open jdk 1.8. My dockerfile looks something like:</p>\n<pre><code>FROM openjdk:version\n\n#`Make the directories I need\nRUN mkdir -p /opt/service/libs\n\nENV LIBS_PATH=/opt/service/libs\nENV CLASSPATH=LIBS_PATH&quot;/*&quot;\n\nCOPY ./target/libs $LIBS_PATH\nCOPY ./target/MY_SERVICE.jar $LIBS_PATH\n\nENTRYPOINT java -cp $CLASSPATH &quot;com.org.service.mainClass&quot;\n</code></pre>\n<p>I have noticed when I do this and I echo the $CLASSPATH inside of the docker container, (using docker run), it returns all of the adresses of the jar files, but with a space in between instead of a : seperator. This implies two things, it knows where all of these jar files are and that the jar files have been successfully copied. I still get an error on the java -cp line. The error is as follows:</p>\n<blockquote>\n<p>Error: Could not find or load main class .opt.service.libs.FirstJarInLibsFolder.jar</p>\n</blockquote>\n<p>If I change the <code>CLASSPATH</code> to have the <code>:</code> separators where it is supposed to, I instead get the error:</p>\n<blockquote>\n<p>Error: Could not find or load main class com.org.service.mainClass</p>\n</blockquote>\n<p>even though my JAR contains that class.</p>\n<p>Any thoughts on what it could be?</p>\n<p>I have tried what is detailed above.</p>\n"},{"tags":["java","instrumentation"],"answers":[{"tags":[],"owner":{"account_id":6318334,"reputation":1487,"user_id":4907452,"accept_rate":75,"display_name":"Fabian Damken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682459710,"creation_date":1459972756,"answer_id":36461183,"question_id":36460854,"body_markdown":"Transformers (java.lang.instrument.ClassFileTransformer) are used to transform class files on byte code level before they are loaded into the Java Virtual Machine. That feature can be used to modify the methods on byte level (really, you get a byte array) or by using a third-party library like Javassist or ASM where Javassist is on a higher modification layer (you can provide source code that gets compiled during the runtime). ASM works with the bytecode keywords (e.g., `invokevirtual`).\r\n\r\nModifying the classes and its entries during the load time is used in popular Frameworks like AspectJ to provide the ability to load aspects (that is what is called &quot;loadtime-weaving&quot;).\r\n\r\n---\r\n\r\nThe `agentArgs` parameter in the `premain(...)` method is a `String` containing the parameters that where given to the agent on startup. It is a single `String` that shall be parsed by the agent itself.\r\n\r\nYou can provide one for the agent like this:\r\n\r\n    $ java -javaagent:${jarfile}=${agentArgs}\r\n\r\nThe value you enter as `${agentArgs}` will be the value of the `agentArgs` parameter.\r\n\r\nWhy it is called `args` if it only contains one argument? Only god knows.\r\n","title":"Transformer in Java instrumentation","body":"<p>Transformers (java.lang.instrument.ClassFileTransformer) are used to transform class files on byte code level before they are loaded into the Java Virtual Machine. That feature can be used to modify the methods on byte level (really, you get a byte array) or by using a third-party library like Javassist or ASM where Javassist is on a higher modification layer (you can provide source code that gets compiled during the runtime). ASM works with the bytecode keywords (e.g., <code>invokevirtual</code>).</p>\n<p>Modifying the classes and its entries during the load time is used in popular Frameworks like AspectJ to provide the ability to load aspects (that is what is called &quot;loadtime-weaving&quot;).</p>\n<hr />\n<p>The <code>agentArgs</code> parameter in the <code>premain(...)</code> method is a <code>String</code> containing the parameters that where given to the agent on startup. It is a single <code>String</code> that shall be parsed by the agent itself.</p>\n<p>You can provide one for the agent like this:</p>\n<pre><code>$ java -javaagent:${jarfile}=${agentArgs}\n</code></pre>\n<p>The value you enter as <code>${agentArgs}</code> will be the value of the <code>agentArgs</code> parameter.</p>\n<p>Why it is called <code>args</code> if it only contains one argument? Only god knows.</p>\n"}],"owner":{"account_id":7469671,"reputation":255,"user_id":5678059,"accept_rate":86,"display_name":"FAZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36461183,"answer_count":1,"score":2,"last_activity_date":1682459710,"creation_date":1459971563,"question_id":36460854,"body_markdown":"What is the main purpose of the Transformer in the java instrumentation. I know that they are to be added with the instance of instrumentation. Also in the premain method, what parameters are assigned to `agentArgs`in `public static void premain(String agentArgs, Instrumentation inst);`","title":"Transformer in Java instrumentation","body":"<p>What is the main purpose of the Transformer in the java instrumentation. I know that they are to be added with the instance of instrumentation. Also in the premain method, what parameters are assigned to <code>agentArgs</code>in <code>public static void premain(String agentArgs, Instrumentation inst);</code></p>\n"},{"tags":["java","intellij-idea","apache-kafka"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1663945313,"post_id":73823770,"comment_id":130366066,"body_markdown":"I&#39;d recommend you discuss this issue with the plugin development team here https://youtrack.jetbrains.com/issues/BDIDE","body":"I&#39;d recommend you discuss this issue with the plugin development team here <a href=\"https://youtrack.jetbrains.com/issues/BDIDE\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/BDIDE</a>"}],"answers":[{"tags":[],"owner":{"account_id":7947006,"reputation":1,"user_id":5999195,"display_name":"ZDenis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682459401,"creation_date":1682159010,"answer_id":76079140,"question_id":73823770,"body_markdown":"Are you using Windows? If so, then you should write the file path like this:\r\n\r\n    ssl.keystore.location=C:\\\\Users\\\\username\\\\workspace\\\\project\\\\cert\\\\namespace\\\\client\\\\me.p12","title":"How to define keystore for kafka in Big Data tool connections idea plugin?","body":"<p>Are you using Windows? If so, then you should write the file path like this:</p>\n<pre><code>ssl.keystore.location=C:\\\\Users\\\\username\\\\workspace\\\\project\\\\cert\\\\namespace\\\\client\\\\me.p12\n</code></pre>\n"}],"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682459401,"creation_date":1663914625,"question_id":73823770,"body_markdown":"I can&#39;t to connect with Kafka by ssl\r\nI can do it with simple kafka on remote server using Big Data tool connections plugin, but when I try to connect with another Kafka with keystore - plugin requires properties\r\n\r\nI tried to define it like this \r\n\r\n       ssl.keystore.type=PKCS12 \r\n       ssl.keystore.location=/Users/username/workspace/project/cert/namespace/client/me.p12 \r\n       ssl.keystore.password=111111 \r\n       ssl.truststore.location=/Users/username/workspace/project/cert/namespace/client/me.p12 \r\n       ssl.truststore.password=111111 \r\n       ssl.truststore.type=PKCS12\r\n\r\nBut it doen&#39;t help. How to configure this plugin?\r\n","title":"How to define keystore for kafka in Big Data tool connections idea plugin?","body":"<p>I can't to connect with Kafka by ssl\nI can do it with simple kafka on remote server using Big Data tool connections plugin, but when I try to connect with another Kafka with keystore - plugin requires properties</p>\n<p>I tried to define it like this</p>\n<pre><code>   ssl.keystore.type=PKCS12 \n   ssl.keystore.location=/Users/username/workspace/project/cert/namespace/client/me.p12 \n   ssl.keystore.password=111111 \n   ssl.truststore.location=/Users/username/workspace/project/cert/namespace/client/me.p12 \n   ssl.truststore.password=111111 \n   ssl.truststore.type=PKCS12\n</code></pre>\n<p>But it doen't help. How to configure this plugin?</p>\n"},{"tags":["java","swing","jframe","jlabel","jtextfield"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1682457750,"post_id":76105412,"comment_id":134218487,"body_markdown":"`add(sideAEntryPanel, BorderLayout.WEST);` &lt;- You can&#39;t add multiple components to the same location on a `BorderLayout`.  If you really want three components on the `WEST` side, place them into a seperate container and then add that container to the position","body":"<code>add(sideAEntryPanel, BorderLayout.WEST);</code> &lt;- You can&#39;t add multiple components to the same location on a <code>BorderLayout</code>.  If you really want three components on the <code>WEST</code> side, place them into a seperate container and then add that container to the position"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682458031,"creation_date":1682458031,"answer_id":76105556,"question_id":76105412,"body_markdown":"    add(wrapper, BorderLayout.WEST);\r\n    add(sideBEntryPanel, BorderLayout.WEST);\r\n    add(sideCEntryPanel, BorderLayout.WEST);\r\n\r\nYou can&#39;t add multiple components to the same position in `BorderLayout`. `BorderLayout` will only manage the last component added to each position.\r\n\r\nInstead, you need to use a seperate container to contain the components you want and then add that to the desired position, for example...\r\n\r\n    JPanel sidePane = new JPanel(new GridLayout(3, -1));\r\n    sidePane.add(sideAEntryPanel);\r\n    sidePane.add(sideBEntryPanel);\r\n    sidePane.add(sideCEntryPanel);\r\n            \r\n    add(sidePane, BorderLayout.WEST);\r\n\r\nThis is also known as &quot;compound layouts&quot;, which you&#39;re already doing.\r\n\r\nI would also recommend, when you&#39;re brave enough, to have a look at [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.htm)","title":"How to add mutiple JLabel&#39;s inside JFrame","body":"<pre><code>add(wrapper, BorderLayout.WEST);\nadd(sideBEntryPanel, BorderLayout.WEST);\nadd(sideCEntryPanel, BorderLayout.WEST);\n</code></pre>\n<p>You can't add multiple components to the same position in <code>BorderLayout</code>. <code>BorderLayout</code> will only manage the last component added to each position.</p>\n<p>Instead, you need to use a seperate container to contain the components you want and then add that to the desired position, for example...</p>\n<pre><code>JPanel sidePane = new JPanel(new GridLayout(3, -1));\nsidePane.add(sideAEntryPanel);\nsidePane.add(sideBEntryPanel);\nsidePane.add(sideCEntryPanel);\n        \nadd(sidePane, BorderLayout.WEST);\n</code></pre>\n<p>This is also known as &quot;compound layouts&quot;, which you're already doing.</p>\n<p>I would also recommend, when you're brave enough, to have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.htm\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a></p>\n"}],"owner":{"account_id":21324968,"reputation":17,"user_id":15697489,"display_name":"chriscondreay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1682458811,"answer_count":1,"score":-2,"last_activity_date":1682459164,"creation_date":1682456707,"question_id":76105412,"body_markdown":"I&#39;m having trouble adding my other JLabels and JTextFields in the JFrame.\r\n\r\nIn my code I am trying to calculate the area of a triangle and want the user to add in the numbers for the sides. I have inplemented the JLabel variables and JTextFields but the only one that shows up is &quot;Side c&quot;. I have added EntryPanels and added the tag labels to them but nothing seems to work.\r\n\r\nAny help would be appreciated:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.text.DecimalFormat;\r\n\r\n/**\r\n * Calculate the area of a triangle first finding the sides then using Heron&#39;s Formula\r\n * @author Chris Condreay\r\n */\r\npublic class TriangleCalculator extends JPanel {\r\n    \r\n    /* Instance Variables */\r\n    private JButton calcButton;\r\n    private JTextField sideAField;\r\n    private JTextField sideBField;\r\n    private JTextField sideCField;\r\n    private JLabel triangleAreaLabel;\r\n\r\n    /* Constructor */\r\n    public TriangleCalculator()\r\n    {\r\n        this.calcButton = new JButton(&quot;Calculate&quot;);\r\n        this.sideAField = new JTextField(10);\r\n        this.sideBField = new JTextField(10);\r\n        this.sideCField = new JTextField(10);\r\n        this.triangleAreaLabel = new JLabel(&quot;Triangle Area: &quot;);\r\n\r\n        /* Setup listeners */\r\n        ActionListener myListener = new TriangleListener();\r\n        this.calcButton.addActionListener(myListener);\r\n        this.sideAField.addActionListener(myListener);\r\n        this.sideBField.addActionListener(myListener);\r\n        this.sideCField.addActionListener(myListener);\r\n\r\n        /* Sides Entry Panel */\r\n        JPanel sideAEntryPanel = new JPanel();\r\n        JPanel sideBEntryPanel = new JPanel();\r\n        JPanel sideCEntryPanel = new JPanel();\r\n        // sideAEntryPanel.setLayout(new BoxLayout(sideAEntryPanel, BoxLayout.X_AXIS));\r\n        // sideBEntryPanel.setLayout(new BoxLayout(sideBEntryPanel, BoxLayout.X_AXIS));\r\n        // sideCEntryPanel.setLayout(new BoxLayout(sideCEntryPanel, BoxLayout.X_AXIS));\r\n        JLabel sideATagLabel = new JLabel(&quot;Side a: &quot;);\r\n        JLabel sideBTagLabel = new JLabel(&quot;Side b: &quot;);\r\n        JLabel sideCTagLabel = new JLabel(&quot;Side c: &quot;);\r\n        \r\n        sideAEntryPanel.add(sideATagLabel);\r\n        sideBEntryPanel.add(sideBTagLabel);\r\n        sideCEntryPanel.add(sideCTagLabel);\r\n        sideAEntryPanel.add(sideAField);\r\n        sideBEntryPanel.add(sideBField);\r\n        sideCEntryPanel.add(sideCField);\r\n\r\n        /* Sides Panel */\r\n        JPanel resultSubPanel = new JPanel();\r\n        resultSubPanel.setLayout(new BoxLayout(resultSubPanel, BoxLayout.X_AXIS));\r\n        resultSubPanel.add(triangleAreaLabel);\r\n\r\n        /* Setup top-level panel */\r\n        setPreferredSize(new Dimension(400, 150));\r\n        setLayout(new BorderLayout());\r\n        add(this.calcButton, BorderLayout.EAST);\r\n        add(sideAEntryPanel, BorderLayout.WEST);\r\n        add(sideBEntryPanel, BorderLayout.WEST);\r\n        add(sideCEntryPanel, BorderLayout.WEST);\r\n\r\n        add(resultSubPanel, BorderLayout.SOUTH);\r\n    }\r\n\r\n    private void updateCalculation(double a, double b, double c)\r\n    {\r\n        double trianglePerimeter = a + b + c;\r\n        double triangleSide = trianglePerimeter / 2;\r\n        double triangleArea = Math.sqrt(triangleSide * (triangleSide - a) * (triangleSide - b) * (triangleSide - c));\r\n\r\n        DecimalFormat myFormat = new DecimalFormat(&quot;#,###,###.###&quot;);\r\n\r\n        triangleAreaLabel.setText(&quot;Volume: &quot; + myFormat.format(triangleArea));\r\n    }\r\n\r\n    /* Button listener */\r\n    private class TriangleListener implements ActionListener\r\n    {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n            String userSideA = sideAField.getText();\r\n            String userSideB = sideBField.getText();\r\n            String userSideC = sideCField.getText();\r\n            try {\r\n                double a = Double.parseDouble(userSideA);\r\n                double b = Double.parseDouble(userSideB);\r\n                double c = Double.parseDouble(userSideC);\r\n                if (a &lt; 0  ) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Please enter positive values only!&quot;);\r\n                    sideAField.setText(&quot;&quot;);\r\n                }\r\n                else if (b &lt; 0) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Please enter positive values only!&quot;);\r\n                    sideBField.setText(&quot;&quot;);\r\n                }\r\n                else if (c &lt; 0) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Please enter positive values only!&quot;);\r\n                    sideCField.setText(&quot;&quot;);\r\n                } \r\n                else {\r\n                    updateCalculation(a, b, c);\r\n                }\r\n            } catch (NumberFormatException err) {\r\n                JOptionPane.showMessageDialog(null, &quot;Please enter numbers only!&quot;);\r\n                sideAField.setText(&quot;&quot;);\r\n                sideBField.setText(&quot;&quot;);\r\n                sideCField.setText(&quot;&quot;);\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    /* Main Method */\r\n    public static void main(String[] args) \r\n    {\r\n        JFrame myFrame = new JFrame(&quot;Triangle Calculator - Chris Condreay&quot;);\r\n\r\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        /* Add a panel to the frame */\r\n        JPanel myPanel = new TriangleCalculator();\r\n        myFrame.getContentPane().add(myPanel);\r\n\r\n        myFrame.pack();\r\n\r\n        myFrame.setVisible(true);\r\n    }\r\n}\r\n```\r\n[![JFrame][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eWrY0.jpg","title":"How to add mutiple JLabel&#39;s inside JFrame","body":"<p>I'm having trouble adding my other JLabels and JTextFields in the JFrame.</p>\n<p>In my code I am trying to calculate the area of a triangle and want the user to add in the numbers for the sides. I have inplemented the JLabel variables and JTextFields but the only one that shows up is &quot;Side c&quot;. I have added EntryPanels and added the tag labels to them but nothing seems to work.</p>\n<p>Any help would be appreciated:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.text.DecimalFormat;\n\n/**\n * Calculate the area of a triangle first finding the sides then using Heron's Formula\n * @author Chris Condreay\n */\npublic class TriangleCalculator extends JPanel {\n    \n    /* Instance Variables */\n    private JButton calcButton;\n    private JTextField sideAField;\n    private JTextField sideBField;\n    private JTextField sideCField;\n    private JLabel triangleAreaLabel;\n\n    /* Constructor */\n    public TriangleCalculator()\n    {\n        this.calcButton = new JButton(&quot;Calculate&quot;);\n        this.sideAField = new JTextField(10);\n        this.sideBField = new JTextField(10);\n        this.sideCField = new JTextField(10);\n        this.triangleAreaLabel = new JLabel(&quot;Triangle Area: &quot;);\n\n        /* Setup listeners */\n        ActionListener myListener = new TriangleListener();\n        this.calcButton.addActionListener(myListener);\n        this.sideAField.addActionListener(myListener);\n        this.sideBField.addActionListener(myListener);\n        this.sideCField.addActionListener(myListener);\n\n        /* Sides Entry Panel */\n        JPanel sideAEntryPanel = new JPanel();\n        JPanel sideBEntryPanel = new JPanel();\n        JPanel sideCEntryPanel = new JPanel();\n        // sideAEntryPanel.setLayout(new BoxLayout(sideAEntryPanel, BoxLayout.X_AXIS));\n        // sideBEntryPanel.setLayout(new BoxLayout(sideBEntryPanel, BoxLayout.X_AXIS));\n        // sideCEntryPanel.setLayout(new BoxLayout(sideCEntryPanel, BoxLayout.X_AXIS));\n        JLabel sideATagLabel = new JLabel(&quot;Side a: &quot;);\n        JLabel sideBTagLabel = new JLabel(&quot;Side b: &quot;);\n        JLabel sideCTagLabel = new JLabel(&quot;Side c: &quot;);\n        \n        sideAEntryPanel.add(sideATagLabel);\n        sideBEntryPanel.add(sideBTagLabel);\n        sideCEntryPanel.add(sideCTagLabel);\n        sideAEntryPanel.add(sideAField);\n        sideBEntryPanel.add(sideBField);\n        sideCEntryPanel.add(sideCField);\n\n        /* Sides Panel */\n        JPanel resultSubPanel = new JPanel();\n        resultSubPanel.setLayout(new BoxLayout(resultSubPanel, BoxLayout.X_AXIS));\n        resultSubPanel.add(triangleAreaLabel);\n\n        /* Setup top-level panel */\n        setPreferredSize(new Dimension(400, 150));\n        setLayout(new BorderLayout());\n        add(this.calcButton, BorderLayout.EAST);\n        add(sideAEntryPanel, BorderLayout.WEST);\n        add(sideBEntryPanel, BorderLayout.WEST);\n        add(sideCEntryPanel, BorderLayout.WEST);\n\n        add(resultSubPanel, BorderLayout.SOUTH);\n    }\n\n    private void updateCalculation(double a, double b, double c)\n    {\n        double trianglePerimeter = a + b + c;\n        double triangleSide = trianglePerimeter / 2;\n        double triangleArea = Math.sqrt(triangleSide * (triangleSide - a) * (triangleSide - b) * (triangleSide - c));\n\n        DecimalFormat myFormat = new DecimalFormat(&quot;#,###,###.###&quot;);\n\n        triangleAreaLabel.setText(&quot;Volume: &quot; + myFormat.format(triangleArea));\n    }\n\n    /* Button listener */\n    private class TriangleListener implements ActionListener\n    {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            String userSideA = sideAField.getText();\n            String userSideB = sideBField.getText();\n            String userSideC = sideCField.getText();\n            try {\n                double a = Double.parseDouble(userSideA);\n                double b = Double.parseDouble(userSideB);\n                double c = Double.parseDouble(userSideC);\n                if (a &lt; 0  ) {\n                    JOptionPane.showMessageDialog(null, &quot;Please enter positive values only!&quot;);\n                    sideAField.setText(&quot;&quot;);\n                }\n                else if (b &lt; 0) {\n                    JOptionPane.showMessageDialog(null, &quot;Please enter positive values only!&quot;);\n                    sideBField.setText(&quot;&quot;);\n                }\n                else if (c &lt; 0) {\n                    JOptionPane.showMessageDialog(null, &quot;Please enter positive values only!&quot;);\n                    sideCField.setText(&quot;&quot;);\n                } \n                else {\n                    updateCalculation(a, b, c);\n                }\n            } catch (NumberFormatException err) {\n                JOptionPane.showMessageDialog(null, &quot;Please enter numbers only!&quot;);\n                sideAField.setText(&quot;&quot;);\n                sideBField.setText(&quot;&quot;);\n                sideCField.setText(&quot;&quot;);\n            }\n            \n        }\n        \n    }\n\n    /* Main Method */\n    public static void main(String[] args) \n    {\n        JFrame myFrame = new JFrame(&quot;Triangle Calculator - Chris Condreay&quot;);\n\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        /* Add a panel to the frame */\n        JPanel myPanel = new TriangleCalculator();\n        myFrame.getContentPane().add(myPanel);\n\n        myFrame.pack();\n\n        myFrame.setVisible(true);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eWrY0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eWrY0.jpg\" alt=\"JFrame\" /></a></p>\n"},{"tags":["java","spring-boot","yaml"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1682440495,"post_id":76103443,"comment_id":134214824,"body_markdown":"You do not need special env vars. Just use env vars like `SPRING_DATASOURCE_URL`. Then you even do not need the properties in your YAML file. But you are right ... actually it should work. So there must be something in your environment or in your attempts to start the service that you didn&#39;t tell us.","body":"You do not need special env vars. Just use env vars like <code>SPRING_DATASOURCE_URL</code>. Then you even do not need the properties in your YAML file. But you are right ... actually it should work. So there must be something in your environment or in your attempts to start the service that you didn&#39;t tell us."},{"owner":{"account_id":4305639,"reputation":500,"user_id":3518066,"accept_rate":57,"display_name":"nullpointer"},"score":0,"creation_date":1682440940,"post_id":76103443,"comment_id":134214960,"body_markdown":"@Seelenvirtuose I added that as an environment variable and took out that from the yml file as well but still same error. Tried leaving it in yml file as well.","body":"@Seelenvirtuose I added that as an environment variable and took out that from the yml file as well but still same error. Tried leaving it in yml file as well."},{"owner":{"account_id":4305639,"reputation":500,"user_id":3518066,"accept_rate":57,"display_name":"nullpointer"},"score":0,"creation_date":1682441021,"post_id":76103443,"comment_id":134214989,"body_markdown":"Yeah that&#39;s what I am trying to find out, what could be causing this to not read env variables.","body":"Yeah that&#39;s what I am trying to find out, what could be causing this to not read env variables."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682444305,"post_id":76103443,"comment_id":134215742,"body_markdown":"I have just tested your case and it works fine. I have added the environment variable to the run configuration in IDE. And you? How did you set it?","body":"I have just tested your case and it works fine. I have added the environment variable to the run configuration in IDE. And you? How did you set it?"},{"owner":{"account_id":4305639,"reputation":500,"user_id":3518066,"accept_rate":57,"display_name":"nullpointer"},"score":0,"creation_date":1682445467,"post_id":76103443,"comment_id":134215966,"body_markdown":"I am on Windows, I added it using the UI from Advanced system settings.","body":"I am on Windows, I added it using the UI from Advanced system settings."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682446121,"post_id":76103443,"comment_id":134216107,"body_markdown":"This works either. I have tested. However I had to restart my IDE (IntelliJ) after adding the env variable.","body":"This works either. I have tested. However I had to restart my IDE (IntelliJ) after adding the env variable."}],"answers":[{"tags":[],"owner":{"account_id":4305639,"reputation":500,"user_id":3518066,"accept_rate":57,"display_name":"nullpointer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682458216,"creation_date":1682458216,"answer_id":76105573,"question_id":76103443,"body_markdown":"This seems to be an issue with IntelliJ.\r\n\r\nFor some reason it doesn&#39;t read the environment variables once its up and running.\r\n\r\nAs @Mar-Z pointed out, restarting IntelliJ fixed the problem for me.","title":"Springboot config file (yml) does not resolve environment variable","body":"<p>This seems to be an issue with IntelliJ.</p>\n<p>For some reason it doesn't read the environment variables once its up and running.</p>\n<p>As @Mar-Z pointed out, restarting IntelliJ fixed the problem for me.</p>\n"}],"owner":{"account_id":4305639,"reputation":500,"user_id":3518066,"accept_rate":57,"display_name":"nullpointer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":825,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682458216,"creation_date":1682439908,"question_id":76103443,"body_markdown":"I am trying to setup different profiles, one for all our developers, one for Prod etc.\r\n\r\nFor our dev profile, I am trying to use environment variables so developers can have things like database url, username and password set up as environment variables, and the yml file will just work as is without any changes.\r\n\r\nI have it setup like this:\r\n\r\n    spring:\r\n      datasource:\r\n        url: ${URL}\r\n        username: ${USERNAME}\r\n        password: ${PASSWORD}\r\n\r\nBut for whatever reason on boot, Springboot doesn&#39;t translate the values of these environment variables, they stay as is like ${URL} and then the exception like this is thrown:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\r\n\r\n\r\nWhy would these values not be translated to the actual environment variables?","title":"Springboot config file (yml) does not resolve environment variable","body":"<p>I am trying to setup different profiles, one for all our developers, one for Prod etc.</p>\n<p>For our dev profile, I am trying to use environment variables so developers can have things like database url, username and password set up as environment variables, and the yml file will just work as is without any changes.</p>\n<p>I have it setup like this:</p>\n<pre><code>spring:\n  datasource:\n    url: ${URL}\n    username: ${USERNAME}\n    password: ${PASSWORD}\n</code></pre>\n<p>But for whatever reason on boot, Springboot doesn't translate the values of these environment variables, they stay as is like ${URL} and then the exception like this is thrown:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: URL must start with 'jdbc'\n</code></pre>\n<p>Why would these values not be translated to the actual environment variables?</p>\n"},{"tags":["java","flutter","module"],"answers":[{"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1682457982,"creation_date":1682457982,"answer_id":76105546,"question_id":76105342,"body_markdown":"I just figured out the solution\r\nAll I did is to add \r\n\r\n    org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\r\n\r\nto the `gradle.properties` file\r\n\r\nSee this link : https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m/41265267#41265267","title":"Execution failed for task &#39;:app:processDebugMainManifest&#39;. in flutter","body":"<p>I just figured out the solution\nAll I did is to add</p>\n<pre><code>org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\n</code></pre>\n<p>to the <code>gradle.properties</code> file</p>\n<p>See this link : <a href=\"https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m/41265267#41265267\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?</a></p>\n"}],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1868,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76105546,"answer_count":1,"score":0,"last_activity_date":1682457982,"creation_date":1682455865,"question_id":76105342,"body_markdown":"\r\n\r\nI&#39;m trying to run an app in flutter and I got this error. Anyone can help ?\r\n\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7bcea5fe0\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n```","title":"Execution failed for task &#39;:app:processDebugMainManifest&#39;. in flutter","body":"<p>I'm trying to run an app in flutter and I got this error. Anyone can help ?</p>\n<pre><code>* What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7bcea5fe0\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n"},{"tags":["java","arrays","api","time-series","trading"],"comments":[{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1682427689,"post_id":76100593,"comment_id":134210833,"body_markdown":"What you are looking at is an HTTP API. HTTP is the method by which you download things from the web, view web pages, etc. It&#39;s the protocol behind all that. In order to get data from an HTTP Server, you need to configure an HTTP Client. Web browsers are just really really fancy HTTP Clients.\n\nJava has a built-in HTTP Client. To use HTTP APIs you use the HTTP Client to hit the endpoints available to you. Most private/commercial HTTP APIs require that you include some secret in the request. In this case dukascopy requires a parameter called &quot;key&quot;. You have to apply to get the API key.","body":"What you are looking at is an HTTP API. HTTP is the method by which you download things from the web, view web pages, etc. It&#39;s the protocol behind all that. In order to get data from an HTTP Server, you need to configure an HTTP Client. Web browsers are just really really fancy HTTP Clients.  Java has a built-in HTTP Client. To use HTTP APIs you use the HTTP Client to hit the endpoints available to you. Most private/commercial HTTP APIs require that you include some secret in the request. In this case dukascopy requires a parameter called &quot;key&quot;. You have to apply to get the API key."},{"owner":{"account_id":18832129,"reputation":13,"user_id":13735688,"display_name":"Edoardo"},"score":0,"creation_date":1682433356,"post_id":76100593,"comment_id":134212722,"body_markdown":"@TheFunk thanks so much. Looks like it’s a little too advanced for my level.","body":"@TheFunk thanks so much. Looks like it’s a little too advanced for my level."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682434684,"post_id":76100593,"comment_id":134213141,"body_markdown":"You need to learn more about using Java to use HTTP REST APIs. Stackoverflow is not a training site.","body":"You need to learn more about using Java to use HTTP REST APIs. Stackoverflow is not a training site."},{"owner":{"account_id":18832129,"reputation":13,"user_id":13735688,"display_name":"Edoardo"},"score":0,"creation_date":1682453590,"post_id":76100593,"comment_id":134217674,"body_markdown":"@aled You&#39;re right. Sorry.","body":"@aled You&#39;re right. Sorry."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1682457356,"post_id":76100593,"comment_id":134218408,"body_markdown":"Pay no attention to aled.  It may not be a training site, but it is definitely a learning site.  [You don&#39;t know what you don&#39;t know](https://en.wikipedia.org/wiki/There_are_unknown_unknowns#:~:text=In%20it%2C%20Rumsfield%20initially%20defines,%27t%20know%20you%20know%22.), and asking questions helps you get there.  Don&#39;t be afraid to ask and don&#39;t let people discourage you from learning.","body":"Pay no attention to aled.  It may not be a training site, but it is definitely a learning site.  <a href=\"https://en.wikipedia.org/wiki/There_are_unknown_unknowns#:~:text=In%20it%2C%20Rumsfield%20initially%20defines,%27t%20know%20you%20know%22.\" rel=\"nofollow noreferrer\">You don&#39;t know what you don&#39;t know</a>, and asking questions helps you get there.  Don&#39;t be afraid to ask and don&#39;t let people discourage you from learning."}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682457938,"creation_date":1682457938,"answer_id":76105541,"question_id":76100593,"body_markdown":"What you are looking at is a [RESTful service][1] provided by dukascopy.  This is a very quick and dirty explanation, but should help push you in the right direction for your own learning.\r\n\r\nREST services allow people and clients to make requests directly to a backend server and will respond with the requested data.  Every time you visit a webpage, you make a GET request to the server that hosts the webpage and the webpage responds with a visual representation of that data they provide.  REST services allow you to make similar requests, with [many different methods](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods) to shape your request and expected response.\r\n\r\nThere are plenty of tools to consume RESTful services.  You can use [Spring](https://spring.io/guides/gs/consuming-rest/) to code your own client, or you can use a client that is already setup for consuming these services, such as [SoapUI][2] or [Postman][3].  I personally recommend postman for exploring an api before you start writing actual java code.\r\n\r\nThere is a [large list of APIs][4] that you can practice coding against as well.  Many of them are simple, and some even provide instructions on how to use them.\r\n\r\nAPIs are the backbone of the internet and a great place to start your learning.\r\n\r\nHere&#39;s a fun exercise.  Try writing a program that will email you [a new dad joke][5] every day.\r\n\r\nGood Luck and have fun.\r\n\r\n\r\n  [1]: https://restfulapi.net/\r\n  [2]: https://www.soapui.org/\r\n  [3]: https://www.postman.com/\r\n  [4]: https://mixedanalytics.com/blog/list-actually-free-open-no-auth-needed-apis/\r\n  [5]: https://icanhazdadjoke.com/api","title":"Java and Dukascopy history download","body":"<p>What you are looking at is a <a href=\"https://restfulapi.net/\" rel=\"nofollow noreferrer\">RESTful service</a> provided by dukascopy.  This is a very quick and dirty explanation, but should help push you in the right direction for your own learning.</p>\n<p>REST services allow people and clients to make requests directly to a backend server and will respond with the requested data.  Every time you visit a webpage, you make a GET request to the server that hosts the webpage and the webpage responds with a visual representation of that data they provide.  REST services allow you to make similar requests, with <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods\" rel=\"nofollow noreferrer\">many different methods</a> to shape your request and expected response.</p>\n<p>There are plenty of tools to consume RESTful services.  You can use <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">Spring</a> to code your own client, or you can use a client that is already setup for consuming these services, such as <a href=\"https://www.soapui.org/\" rel=\"nofollow noreferrer\">SoapUI</a> or <a href=\"https://www.postman.com/\" rel=\"nofollow noreferrer\">Postman</a>.  I personally recommend postman for exploring an api before you start writing actual java code.</p>\n<p>There is a <a href=\"https://mixedanalytics.com/blog/list-actually-free-open-no-auth-needed-apis/\" rel=\"nofollow noreferrer\">large list of APIs</a> that you can practice coding against as well.  Many of them are simple, and some even provide instructions on how to use them.</p>\n<p>APIs are the backbone of the internet and a great place to start your learning.</p>\n<p>Here's a fun exercise.  Try writing a program that will email you <a href=\"https://icanhazdadjoke.com/api\" rel=\"nofollow noreferrer\">a new dad joke</a> every day.</p>\n<p>Good Luck and have fun.</p>\n"}],"owner":{"account_id":18832129,"reputation":13,"user_id":13735688,"display_name":"Edoardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76105541,"answer_count":1,"score":0,"last_activity_date":1682457938,"creation_date":1682421626,"question_id":76100593,"body_markdown":"first of all I want to make clear I’m still a noob with Java so please forgive my naivness.\r\n\r\n### What I’m trying to achieve\r\nI would like to download historical data from dukascopy, which offer a free service to do that, trough a Java program and export all data to a csv.\r\n\r\nAs you may see, Dukascopy has a web app to download all data manually, my point in having a program is that I need to automate this.\r\n\r\n### What I tried\r\nThere’s an API created by Dukascopy, basically I downloaded a Maven project and from there I was able to see all the functions aviable. Unfortunately I did not found any function that allow to download data, there’s only strategy testing and trading orders submission (remember I’m a noob, maybe I didn’t see the method). Anyway, this is the API I’m referring to: https://www.dukascopy.com/wiki/en/development/get-started-api/development-environment/use-in-eclipse\r\n\r\nThen, I went back to the history downloaded web app and I found this:\r\nhttps://www.dukascopy.com/trading-tools/api/documentation/quotes\r\nThis would be perfect, the functions has all I need, problem is: how do I use that url? I don’t understand how I should use that url in Java to download data. Is anyone familiar with this and can provide further help? Thanks.\r\n\r\nThanks for reading. \r\n","title":"Java and Dukascopy history download","body":"<p>first of all I want to make clear I’m still a noob with Java so please forgive my naivness.</p>\n<h3>What I’m trying to achieve</h3>\n<p>I would like to download historical data from dukascopy, which offer a free service to do that, trough a Java program and export all data to a csv.</p>\n<p>As you may see, Dukascopy has a web app to download all data manually, my point in having a program is that I need to automate this.</p>\n<h3>What I tried</h3>\n<p>There’s an API created by Dukascopy, basically I downloaded a Maven project and from there I was able to see all the functions aviable. Unfortunately I did not found any function that allow to download data, there’s only strategy testing and trading orders submission (remember I’m a noob, maybe I didn’t see the method). Anyway, this is the API I’m referring to: <a href=\"https://www.dukascopy.com/wiki/en/development/get-started-api/development-environment/use-in-eclipse\" rel=\"nofollow noreferrer\">https://www.dukascopy.com/wiki/en/development/get-started-api/development-environment/use-in-eclipse</a></p>\n<p>Then, I went back to the history downloaded web app and I found this:\n<a href=\"https://www.dukascopy.com/trading-tools/api/documentation/quotes\" rel=\"nofollow noreferrer\">https://www.dukascopy.com/trading-tools/api/documentation/quotes</a>\nThis would be perfect, the functions has all I need, problem is: how do I use that url? I don’t understand how I should use that url in Java to download data. Is anyone familiar with this and can provide further help? Thanks.</p>\n<p>Thanks for reading.</p>\n"},{"tags":["java","hibernate","jpa","merge","hibernate-onetomany"],"owner":{"account_id":5735326,"reputation":11,"user_id":4529691,"display_name":"Paolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682457253,"creation_date":1682006545,"question_id":76066140,"body_markdown":"I have a simple OneToMany relationship between two entities like this:\r\n\r\n```\r\npublic class ScheduleInfo {\r\n        ...\r\n\r\n\t@OneToMany(mappedBy = &quot;scheduleInfo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n\tprivate List&lt;PlannedBusinessProcedure&gt; plannedBusinessProcedures = new ArrayList&lt;&gt;();\r\n\r\n\r\n\tpublic void addPLannedBusinessProcedure(PlannedBusinessProcedure plannedBp) {\r\n\t\tplannedBusinessProcedures.add(plannedBp);\r\n\t\tplannedBp.setScheduleInfo(this);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class PlannedBusinessProcedure {\r\n        ...\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY, optional = true)\r\n\t@JoinColumns({ \r\n\t@JoinColumn(name = &quot;SCHEDULE_INFO_ID&quot;, nullable = false, referencedColumnName=&quot;ID&quot;), \r\n\t@JoinColumn(name = &quot;SCHEDULE_INFO_VERSION&quot;, nullable = false, referencedColumnName = &quot;VERSION&quot;) \r\n\t})\r\n\tprivate ScheduleInfo scheduleInfo;\r\n\r\n}\r\n```\r\n\r\nI would like to UPDATE the entity ScheduleInfo adding new PLannedBusinessProcedures and to achieve this I have an helper method which is used to synchronize both sides of the bidirectional association. I would do something like this :\r\n\r\n```\r\npublic void updateScheduleInfo(ScheduleInfo resource) {\r\n\tList&lt;PlannedBusinessProcedure&gt; plannedBpNotExecutedYet = ... ; // list of 5 plannedBusinessProcedures\r\n\tplannedBpNotExecutedYet.forEach(resource::addPLannedBusinessProcedure);\r\n\tentityManager.merge(resource);\r\n}\r\n```\r\n\r\nIf I call the update method it takes too long time to execute, actually it never ends and I can&#39;t figure out why.\r\nDoes anyone have idea why this happen?\r\nThanks.","title":"Hibernate OneToMany bidirectional merge","body":"<p>I have a simple OneToMany relationship between two entities like this:</p>\n<pre><code>public class ScheduleInfo {\n        ...\n\n    @OneToMany(mappedBy = &quot;scheduleInfo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    private List&lt;PlannedBusinessProcedure&gt; plannedBusinessProcedures = new ArrayList&lt;&gt;();\n\n\n    public void addPLannedBusinessProcedure(PlannedBusinessProcedure plannedBp) {\n        plannedBusinessProcedures.add(plannedBp);\n        plannedBp.setScheduleInfo(this);\n    }\n}\n</code></pre>\n<pre><code>public class PlannedBusinessProcedure {\n        ...\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = true)\n    @JoinColumns({ \n    @JoinColumn(name = &quot;SCHEDULE_INFO_ID&quot;, nullable = false, referencedColumnName=&quot;ID&quot;), \n    @JoinColumn(name = &quot;SCHEDULE_INFO_VERSION&quot;, nullable = false, referencedColumnName = &quot;VERSION&quot;) \n    })\n    private ScheduleInfo scheduleInfo;\n\n}\n</code></pre>\n<p>I would like to UPDATE the entity ScheduleInfo adding new PLannedBusinessProcedures and to achieve this I have an helper method which is used to synchronize both sides of the bidirectional association. I would do something like this :</p>\n<pre><code>public void updateScheduleInfo(ScheduleInfo resource) {\n    List&lt;PlannedBusinessProcedure&gt; plannedBpNotExecutedYet = ... ; // list of 5 plannedBusinessProcedures\n    plannedBpNotExecutedYet.forEach(resource::addPLannedBusinessProcedure);\n    entityManager.merge(resource);\n}\n</code></pre>\n<p>If I call the update method it takes too long time to execute, actually it never ends and I can't figure out why.\nDoes anyone have idea why this happen?\nThanks.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":27868102,"reputation":34,"user_id":21279235,"display_name":"LQF-developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681176561,"creation_date":1681176561,"answer_id":75981807,"question_id":75981392,"body_markdown":"`@Transactional` is used to implement local affair. It will make operation  database isolate.So if the environment is stand-alone， you can use it.","title":"Is @Transactional enough to keep concurrency in a table?","body":"<p><code>@Transactional</code> is used to implement local affair. It will make operation  database isolate.So if the environment is stand-alone， you can use it.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681201820,"creation_date":1681201820,"answer_id":75983872,"question_id":75981392,"body_markdown":"Answering the initial Q: \r\n\r\n&gt; What I want to know, if this code is enough to keep concurrency if two or more services are being activated at the same time. Will this code to prevent to use the same code twice?\r\n\r\nNo. The reasoning is following:\r\n\r\n1. in case of `read committed` isolation level (which is the default for the most mature DB&#39;s) your code is facing with `lost update phenomena`: it acquires `Code`s which have `status=free` and updates `status` to `acquired` not taking into account the fact the code has been potentially changed between acquisition and update\r\n2. in case of `repeatable read` isolation level (default for `MySQL`) or higher you code may throw dumb errors like `could not serialize access due to concurrent update` and you should be ready to somehow mitigate such errors.\r\n\r\n[Suggestion of @nathan-hughes](https://stackoverflow.com/a/75982092/3426309) to use `row-level locks` is a good starting point, however `spring-data` API does not provide enough control over locking behaviour to make the code more concurrent.","title":"Is @Transactional enough to keep concurrency in a table?","body":"<p>Answering the initial Q:</p>\n<blockquote>\n<p>What I want to know, if this code is enough to keep concurrency if two or more services are being activated at the same time. Will this code to prevent to use the same code twice?</p>\n</blockquote>\n<p>No. The reasoning is following:</p>\n<ol>\n<li>in case of <code>read committed</code> isolation level (which is the default for the most mature DB's) your code is facing with <code>lost update phenomena</code>: it acquires <code>Code</code>s which have <code>status=free</code> and updates <code>status</code> to <code>acquired</code> not taking into account the fact the code has been potentially changed between acquisition and update</li>\n<li>in case of <code>repeatable read</code> isolation level (default for <code>MySQL</code>) or higher you code may throw dumb errors like <code>could not serialize access due to concurrent update</code> and you should be ready to somehow mitigate such errors.</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/a/75982092/3426309\">Suggestion of @nathan-hughes</a> to use <code>row-level locks</code> is a good starting point, however <code>spring-data</code> API does not provide enough control over locking behaviour to make the code more concurrent.</p>\n"}],"owner":{"account_id":984921,"reputation":1829,"user_id":1901823,"accept_rate":61,"display_name":"Mariano L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682456711,"creation_date":1681168715,"question_id":75981392,"body_markdown":"I have a table that contains a &quot;stock&quot; of codes to be used, like licenses. The repository is called CodeRepository. That code can be used just once so I need to assign those codes, once per service i&#39;m activating. The repository for the services that use those codes is called ServiceRepository. I wrote the following code:\r\n\r\n    @Transactional\r\n    public void assignFreeCodeToService(Service service) {\r\n        Code code = CodeRepository.findFirstByStatus(&quot;free&quot;).orElseThrow(() -&gt; new ApiException(ApiException.ErrorCode.NOT_FOUND, &quot;No available Code was found&quot;));\r\n        // change code status\r\n        code.setStatus(&quot;assigned&quot;);\r\n        // assign the code to the service\r\n        service.setCode(code.geId());\r\n        // save the code new status\r\n        codeRepository.save(code);\r\n        // save the service with the new code\r\n        serviceRepository.save(service);\r\n    }\r\n\r\nSo, when i&#39;m activating a service, this will assign a &quot;code&quot; and save it. What I want to know, if this code is enough to keep concurrency if two or more services are being activated at the same time. Will this code to prevent to use the same code twice?","title":"Is @Transactional enough to keep concurrency in a table?","body":"<p>I have a table that contains a &quot;stock&quot; of codes to be used, like licenses. The repository is called CodeRepository. That code can be used just once so I need to assign those codes, once per service i'm activating. The repository for the services that use those codes is called ServiceRepository. I wrote the following code:</p>\n<pre><code>@Transactional\npublic void assignFreeCodeToService(Service service) {\n    Code code = CodeRepository.findFirstByStatus(&quot;free&quot;).orElseThrow(() -&gt; new ApiException(ApiException.ErrorCode.NOT_FOUND, &quot;No available Code was found&quot;));\n    // change code status\n    code.setStatus(&quot;assigned&quot;);\n    // assign the code to the service\n    service.setCode(code.geId());\n    // save the code new status\n    codeRepository.save(code);\n    // save the service with the new code\n    serviceRepository.save(service);\n}\n</code></pre>\n<p>So, when i'm activating a service, this will assign a &quot;code&quot; and save it. What I want to know, if this code is enough to keep concurrency if two or more services are being activated at the same time. Will this code to prevent to use the same code twice?</p>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1682452556,"post_id":76104902,"comment_id":134217465,"body_markdown":"Huh?  Then read the queue name from the properties file and pass it in to the context.lookup method.","body":"Huh?  Then read the queue name from the properties file and pass it in to the context.lookup method."},{"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"score":0,"creation_date":1682452986,"post_id":76104902,"comment_id":134217552,"body_markdown":"I need to dynamically change the value of the queue in Runtime. And I don’t understand how to do this, so I decided to try to do it through the method parameters, but I don’t understand how to substitute this value","body":"I need to dynamically change the value of the queue in Runtime. And I don’t understand how to do this, so I decided to try to do it through the method parameters, but I don’t understand how to substitute this value"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1682453082,"post_id":76104902,"comment_id":134217568,"body_markdown":"`Queue queue = (Queue) initialContext.lookup(queue);`","body":"<code>Queue queue = (Queue) initialContext.lookup(queue);</code>"},{"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"score":0,"creation_date":1682453389,"post_id":76104902,"comment_id":134217636,"body_markdown":"Well, I will pull from a file, but I need it without the InitialContext class","body":"Well, I will pull from a file, but I need it without the InitialContext class"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1682453654,"post_id":76104902,"comment_id":134217696,"body_markdown":"you can&#39;t bind to a queue dynamically without an initialcontext.  That&#39;s how JMS works, so I really don&#39;t understand the question, or what you are trying to do.  Best of luck.","body":"you can&#39;t bind to a queue dynamically without an initialcontext.  That&#39;s how JMS works, so I really don&#39;t understand the question, or what you are trying to do.  Best of luck."},{"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"score":0,"creation_date":1682453828,"post_id":76104902,"comment_id":134217741,"body_markdown":"And if you dynamically change the context file, and then change the values ​​in it at runtime?","body":"And if you dynamically change the context file, and then change the values ​​in it at runtime?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682456588,"creation_date":1682454724,"answer_id":76105213,"question_id":76104902,"body_markdown":"Since you&#39;re using ActiveMQ Artemis you can use the `dynamicQueues` prefix when looking up the queue via JNDI. This is explained in the [ActiveMQ Artemis documentation][1] which states:\r\n\r\n&gt; It is also possible to look-up JMS destinations which haven&#39;t been configured explicitly in the JNDI context environment. This is possible using `dynamicQueues/` or `dynamicTopics/` in the look-up string. For example, if the client wanted to look-up the aforementioned &quot;OrderQueue&quot; it could do so simply by using the string &quot;dynamicQueues/OrderQueue&quot;. Note, the text that follows `dynamicQueues/` or `dynamicTopics/` must correspond *exactly* to the name of the destination on the server.\r\n\r\nYour code would look something like this:\r\n```java\r\npublic static void initialization(String queue, String ConnectionFactory) throws NamingException, JMSException, IOException {\r\n   InitialContext initialContext = new InitialContext();\r\n   Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + queue);\r\n   QueueConnectionFactory cf = (QueueConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\r\n}\r\n```\r\nUsing this method you don&#39;t need any queue definitions in your `jndi.properties` file.\r\n\r\nAnother option would be to simply instantiate the destination using the JMS API. You can do this with the [`createQueue`][2] and [`createTopic`][3] methods on the JMS `Session`. This is also described in the [ActiveMQ Artemis documentation][4].\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/using-jms.html#destination-jndi\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createQueue-java.lang.String-\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createTopic-java.lang.String-\r\n  [4]: https://activemq.apache.org/components/artemis/documentation/latest/using-jms.html#directly-instantiating-jms-resources-without-using-jndi","title":"How to get the queue not from the context, but through the field?","body":"<p>Since you're using ActiveMQ Artemis you can use the <code>dynamicQueues</code> prefix when looking up the queue via JNDI. This is explained in the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/using-jms.html#destination-jndi\" rel=\"nofollow noreferrer\">ActiveMQ Artemis documentation</a> which states:</p>\n<blockquote>\n<p>It is also possible to look-up JMS destinations which haven't been configured explicitly in the JNDI context environment. This is possible using <code>dynamicQueues/</code> or <code>dynamicTopics/</code> in the look-up string. For example, if the client wanted to look-up the aforementioned &quot;OrderQueue&quot; it could do so simply by using the string &quot;dynamicQueues/OrderQueue&quot;. Note, the text that follows <code>dynamicQueues/</code> or <code>dynamicTopics/</code> must correspond <em>exactly</em> to the name of the destination on the server.</p>\n</blockquote>\n<p>Your code would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void initialization(String queue, String ConnectionFactory) throws NamingException, JMSException, IOException {\n   InitialContext initialContext = new InitialContext();\n   Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + queue);\n   QueueConnectionFactory cf = (QueueConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\n}\n</code></pre>\n<p>Using this method you don't need any queue definitions in your <code>jndi.properties</code> file.</p>\n<p>Another option would be to simply instantiate the destination using the JMS API. You can do this with the <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createQueue-java.lang.String-\" rel=\"nofollow noreferrer\"><code>createQueue</code></a> and <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createTopic-java.lang.String-\" rel=\"nofollow noreferrer\"><code>createTopic</code></a> methods on the JMS <code>Session</code>. This is also described in the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/using-jms.html#directly-instantiating-jms-resources-without-using-jndi\" rel=\"nofollow noreferrer\">ActiveMQ Artemis documentation</a>.</p>\n"}],"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76105213,"answer_count":1,"score":0,"last_activity_date":1682456588,"creation_date":1682452215,"question_id":76104902,"body_markdown":"I have a code that gets the name of the queue from a file, but how can I make it get it by the value passed in the method?\r\n\r\n\r\n```\r\npublic static void initialization(String queue, String ConnectionFactory) throws NamingException, JMSException, IOException {\r\n   InitialContext initialContext = new InitialContext();\r\n   Queue queue = (Queue) initialContext.lookup(&quot;queue&quot;);\r\n   QueueConnectionFactory cf = (QueueConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\r\n}\r\n```\r\n\r\n\r\nHere is the file where I get the name of the queue:\r\n\r\n```\r\nconnectionFactory.ConnectionFactory=tcp://localhost:61616\r\nqueue.queue=exampleQueue\r\n\r\n```\r\n\r\n\r\n\r\n\r\nAnd I need to take it not from a file, but from the method parameters","title":"How to get the queue not from the context, but through the field?","body":"<p>I have a code that gets the name of the queue from a file, but how can I make it get it by the value passed in the method?</p>\n<pre><code>public static void initialization(String queue, String ConnectionFactory) throws NamingException, JMSException, IOException {\n   InitialContext initialContext = new InitialContext();\n   Queue queue = (Queue) initialContext.lookup(&quot;queue&quot;);\n   QueueConnectionFactory cf = (QueueConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\n}\n</code></pre>\n<p>Here is the file where I get the name of the queue:</p>\n<pre><code>connectionFactory.ConnectionFactory=tcp://localhost:61616\nqueue.queue=exampleQueue\n\n</code></pre>\n<p>And I need to take it not from a file, but from the method parameters</p>\n"},{"tags":["java","spring","caffeine-cache"],"answers":[{"tags":[],"owner":{"account_id":28142630,"reputation":1,"user_id":21505432,"display_name":"승조짱"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681778801,"creation_date":1681778801,"answer_id":76040282,"question_id":76039809,"body_markdown":"Sorry I&#39;m not good at English. It seems that &quot;getAppConfig&quot; returns null.","title":"Class cast exception during caffeine cache access","body":"<p>Sorry I'm not good at English. It seems that &quot;getAppConfig&quot; returns null.</p>\n"},{"tags":[],"owner":{"account_id":28142630,"reputation":1,"user_id":21505432,"display_name":"승조짱"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682039382,"creation_date":1682039382,"answer_id":76069240,"question_id":76039809,"body_markdown":"It is possible that the key value is entered with a different value.","title":"Class cast exception during caffeine cache access","body":"<p>It is possible that the key value is entered with a different value.</p>\n"},{"tags":[],"owner":{"account_id":10510915,"reputation":1,"user_id":7746656,"display_name":"kkrn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682455162,"creation_date":1682455162,"answer_id":76105271,"question_id":76039809,"body_markdown":"I had same issue, I guess you are using @Cacheable(key=&quot;#configKey&quot;) more than one place in different service code in your project. The duplicated configKey overwriting your current configKey information. That&#39;s why you are getting class cast exception. \r\n\r\nFind where are all these **key=&quot;#configKey&quot;** exactly you have used, rename with different key name. Problem solved. ","title":"Class cast exception during caffeine cache access","body":"<p>I had same issue, I guess you are using @Cacheable(key=&quot;#configKey&quot;) more than one place in different service code in your project. The duplicated configKey overwriting your current configKey information. That's why you are getting class cast exception.</p>\n<p>Find where are all these <strong>key=&quot;#configKey&quot;</strong> exactly you have used, rename with different key name. Problem solved.</p>\n"}],"owner":{"account_id":11479479,"reputation":3,"user_id":8414035,"display_name":"T.J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682455162,"creation_date":1681771378,"question_id":76039809,"body_markdown":"\r\nWhen I execute following code\r\n\r\n    AppConfigurationCacheService appCache = getAppContext().getBean(&quot;appConfigurationCacheService&quot;);\r\n    appCache.getAppConfig(&quot;LANDING_PAGE&quot;);\r\n\r\nI get a following exception:\r\n\r\n    java.lang.String cannot be cast to my.daomodel.AppConfiguration: java.lang.ClassCastException: java.lang.String cannot be cast to my.daomodel.AppConfiguration\r\n    \tat my.service.cache.AppConfigurationCacheService$$EnhancerBySpringCGLI$$8a364268.getAppConfig(&lt;generated&gt;)\r\n\t\t\r\n&lt;br&gt;\r\n\r\nHowever, if I make the getAppConfig return String, then I no longer get the exception. So I&#39;m not sure why getAppConfig method is trying to return String instead of AppConfiguration object. Did I configure the cache incorrectly? Please help.\r\n&lt;br&gt;&lt;br&gt;Below are classes in detail&lt;br&gt;\r\nThank you in advance.&lt;br&gt;\r\n\r\nEntity class\r\n\r\n    @Component\r\n    @Entity\r\n    @Table(name=&quot;APP_CONFIGURATION&quot;)\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class AppConfiguration implements Serializable{\r\n    \t@Id\r\n    \t@SequenceGenerator(name&quot;AppConfigIdSeq&quot; sequenceName=&quot;APP_CONFIG_ID_SEQ&quot;, initialValue=1, allocationSize=1)\r\n    \t@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;AppConfigIdSeq&quot;)\r\n    \t@Column(name=&quot;APP_CONFIG_ID&quot;, nullable=false)\r\n    \tprivate long appConfigId;\r\n    \t\r\n    \t@Column(name=&quot;CONFIG_KEY&quot;, nullable=false)\r\n    \t@Type(type=&quot;string&quot;)\r\n    \tprivate String configKey;\r\n    \t\r\n    \t@Column(name=&quot;CONFIG_VALUE&quot;)\r\n    \t@Type(type=&quot;string&quot;)\r\n    \tprivate String configValue;\r\n    \t\r\n    \tpublic AppConfiguration(){\r\n    \t}\r\n    \t\r\n    \tpublic long getAppConfigId(){\r\n    \t\treturn appConfigId;\r\n    \t}\r\n    \t\r\n    \tpublic void setAppConfigId(long appConfigId){\r\n    \t\tthis.appConfigId = appConfigId;\r\n    \t}\r\n    \t\r\n    \tpublic String getConfigKey(){\r\n    \t\treturn configKey;\r\n    \t}\r\n    \t\r\n    \tpublic void setConfigKey(String configKey){\r\n    \t\tthis.configKey = configKey;\r\n    \t}\r\n    \t\r\n    \tpublic String getConfigValue(){\r\n    \t\treturn configValue;\r\n    \t}\r\n    \t\r\n    \tpublic void setConfigValue(String configValue) {\r\n    \t\tthis.configValue = configValue;\r\n    \t}\r\n    }\r\nCache manager class&lt;br&gt;\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CaffeineCacheManager extends CachingConfigurerSupport{\r\n    \t@Bean\r\n    \tpublic CacheManager cacheManager(){\r\n    \t\tCaffeineCacheManager cacheManager = new CaffeinieCacheManager(&quot;appConfigCache&quot;);\r\n    \t\tcacheManager.setCaffeine(\r\n    \t\t\tCaffeine.newBuilder()\r\n    \t\t\t\t.initialCapacity(300)\r\n    \t\t\t\t.maximumSize(1000)\r\n    \t\t\t\t.recordStats()\r\n    \t\t\t);\r\n    \t\treturn cacheManager;\r\n    \t}\r\n    }\r\n\r\nCache service Class&lt;br&gt;\r\n\r\n    @Service\r\n    @CacheConfig(cacheName={&quot;appConfigCache&quot;})\r\n    public class AppConfigurationCacheService{\r\n    \t@Autowired\r\n    \tprivate AppConfigurationDao appConfigurationDao;\r\n    \t\r\n    \t@Cacheable(key=&quot;#configKey&quot;)\r\n    \tpublic AppConfiguration getAppConfig(String configKey){\r\n    \t\tAppConfiguration appConfig = appConfigurationDao.getAppConfigurationByKey(configKey);\r\n    \t\treturn appConfig;\r\n    \t}\r\n    }\r\n","title":"Class cast exception during caffeine cache access","body":"<p>When I execute following code</p>\n<pre><code>AppConfigurationCacheService appCache = getAppContext().getBean(&quot;appConfigurationCacheService&quot;);\nappCache.getAppConfig(&quot;LANDING_PAGE&quot;);\n</code></pre>\n<p>I get a following exception:</p>\n<pre><code>java.lang.String cannot be cast to my.daomodel.AppConfiguration: java.lang.ClassCastException: java.lang.String cannot be cast to my.daomodel.AppConfiguration\n    at my.service.cache.AppConfigurationCacheService$$EnhancerBySpringCGLI$$8a364268.getAppConfig(&lt;generated&gt;)\n    \n</code></pre>\n<br>\n<p>However, if I make the getAppConfig return String, then I no longer get the exception. So I'm not sure why getAppConfig method is trying to return String instead of AppConfiguration object. Did I configure the cache incorrectly? Please help.\n<br><br>Below are classes in detail<br>\nThank you in advance.<br></p>\n<p>Entity class</p>\n<pre><code>@Component\n@Entity\n@Table(name=&quot;APP_CONFIGURATION&quot;)\n@SuppressWarnings(&quot;serial&quot;)\npublic class AppConfiguration implements Serializable{\n    @Id\n    @SequenceGenerator(name&quot;AppConfigIdSeq&quot; sequenceName=&quot;APP_CONFIG_ID_SEQ&quot;, initialValue=1, allocationSize=1)\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;AppConfigIdSeq&quot;)\n    @Column(name=&quot;APP_CONFIG_ID&quot;, nullable=false)\n    private long appConfigId;\n    \n    @Column(name=&quot;CONFIG_KEY&quot;, nullable=false)\n    @Type(type=&quot;string&quot;)\n    private String configKey;\n    \n    @Column(name=&quot;CONFIG_VALUE&quot;)\n    @Type(type=&quot;string&quot;)\n    private String configValue;\n    \n    public AppConfiguration(){\n    }\n    \n    public long getAppConfigId(){\n        return appConfigId;\n    }\n    \n    public void setAppConfigId(long appConfigId){\n        this.appConfigId = appConfigId;\n    }\n    \n    public String getConfigKey(){\n        return configKey;\n    }\n    \n    public void setConfigKey(String configKey){\n        this.configKey = configKey;\n    }\n    \n    public String getConfigValue(){\n        return configValue;\n    }\n    \n    public void setConfigValue(String configValue) {\n        this.configValue = configValue;\n    }\n}\n</code></pre>\n<p>Cache manager class<br></p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CaffeineCacheManager extends CachingConfigurerSupport{\n    @Bean\n    public CacheManager cacheManager(){\n        CaffeineCacheManager cacheManager = new CaffeinieCacheManager(&quot;appConfigCache&quot;);\n        cacheManager.setCaffeine(\n            Caffeine.newBuilder()\n                .initialCapacity(300)\n                .maximumSize(1000)\n                .recordStats()\n            );\n        return cacheManager;\n    }\n}\n</code></pre>\n<p>Cache service Class<br></p>\n<pre><code>@Service\n@CacheConfig(cacheName={&quot;appConfigCache&quot;})\npublic class AppConfigurationCacheService{\n    @Autowired\n    private AppConfigurationDao appConfigurationDao;\n    \n    @Cacheable(key=&quot;#configKey&quot;)\n    public AppConfiguration getAppConfig(String configKey){\n        AppConfiguration appConfig = appConfigurationDao.getAppConfigurationByKey(configKey);\n        return appConfig;\n    }\n}\n</code></pre>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":3,"creation_date":1682455364,"post_id":76105217,"comment_id":134218033,"body_markdown":"You almost certainly do not want a static context here. Static and DI don&#39;t mix well, generally. Also, FindBugs isn&#39;t end-all-be-all - it&#39;s a suggestion of things to review for correctness. If you review it, and determine it&#39;s correct enough for you - move on.","body":"You almost certainly do not want a static context here. Static and DI don&#39;t mix well, generally. Also, FindBugs isn&#39;t end-all-be-all - it&#39;s a suggestion of things to review for correctness. If you review it, and determine it&#39;s correct enough for you - move on."},{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":2,"creation_date":1682456399,"post_id":76105217,"comment_id":134218235,"body_markdown":"Also, understand that you are using DI to inject the value of `filename` at runtime - but from compile time&#39;s perspective, the value of `filename` is always null. A static analysis tool, such as FindBugs/SpotBugs will flag this since it&#39;s unusual, and might indicate a programming error was made based on an assumption that `filename` may or may not be null at runtime - a contradiction to the code above. We know DI will work it&#39;s &quot;magic&quot; for you, but your tools may not understand this, understand it poorly or incompletely.","body":"Also, understand that you are using DI to inject the value of <code>filename</code> at runtime - but from compile time&#39;s perspective, the value of <code>filename</code> is always null. A static analysis tool, such as FindBugs/SpotBugs will flag this since it&#39;s unusual, and might indicate a programming error was made based on an assumption that <code>filename</code> may or may not be null at runtime - a contradiction to the code above. We know DI will work it&#39;s &quot;magic&quot; for you, but your tools may not understand this, understand it poorly or incompletely."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1682480427,"post_id":76105217,"comment_id":134221056,"body_markdown":"*&quot;Honestly, I don&#39;t see why having this field static is a mistake.&quot;* - Consider what might happen if `Launcher.main` was called more than once; e.g. if you added another entrypoint that calls `Launcher.main` programatically.  (It maybe is not realistic in your use-case, but I&#39;ve seen it ....)  Consider what happens if you wanted to write unit tests for your `Launcher` class that entailed calling `main` more than once (across all of the tests).  And consider SnakeDoc&#39;s point about `static` vs DI. The point is ... it **could be** a mistake.","body":"<i>&quot;Honestly, I don&#39;t see why having this field static is a mistake.&quot;</i> - Consider what might happen if <code>Launcher.main</code> was called more than once; e.g. if you added another entrypoint that calls <code>Launcher.main</code> programatically.  (It maybe is not realistic in your use-case, but I&#39;ve seen it ....)  Consider what happens if you wanted to write unit tests for your <code>Launcher</code> class that entailed calling <code>main</code> more than once (across all of the tests).  And consider SnakeDoc&#39;s point about <code>static</code> vs DI. The point is ... it <b>could be</b> a mistake."}],"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682454749,"creation_date":1682454749,"question_id":76105217,"body_markdown":"The code below is generating the SpotBugs warning, `&quot;D&#39;Oh! A nonsensical invocation of isNullOrEmpty(String) in com.myco.Launcher.validArguments() [Scary(7), Normal confidence]&quot;` (DMI_DOH).\r\n\r\n```java\r\npublic class Launcher {\r\n    @Injected(name=&quot;-f&quot;, description=&quot;optional name of file&quot;)\r\n    private static String filename;\r\n\r\n    public static void main(String[] args) {\r\n        if (validArguments()) {\r\n            ...\r\n    }\r\n\r\n    private boolean validArguments() {\r\n        boolean result = true;\r\n        if (com.google.common.base.Strings.isNullOrEmpty(Launcher.filename)) {\r\n            result = false;\r\n        }\r\n        else if (...) {\r\n            ...\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n`filename` is a value collected from the command line as I&#39;m using a CLI library to set that value for me if/when it&#39;s supplied.  If the user doesn&#39;t supply the value on the command line, the field will be `null`.  My hunch is this is a false positive and I&#39;ll need to suppress this warning.  If not, please help me understand how this invocation is a blunder.\r\n\r\nI removed the `static` modifier from the field and it appeared to resolve it.  It seems this warning is best suited for invocations such as:\r\n\r\n```java\r\nStrings.isNullOrEmpty(&quot;abcd&quot;);\r\n```\r\nThat&#39;s a blunder. LOL!\r\n\r\nHonestly, I don&#39;t see why having this field `static` is a mistake.  My CLI library sets it correctly either way.  And without the annotation, it&#39;s going to be `null` either way, but non-static somehow satisfies it?","title":"False positive in SpotBugs (D&#39;Oh! Nonsensical invocation - DMI_DOH)?","body":"<p>The code below is generating the SpotBugs warning, <code>&quot;D'Oh! A nonsensical invocation of isNullOrEmpty(String) in com.myco.Launcher.validArguments() [Scary(7), Normal confidence]&quot;</code> (DMI_DOH).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Launcher {\n    @Injected(name=&quot;-f&quot;, description=&quot;optional name of file&quot;)\n    private static String filename;\n\n    public static void main(String[] args) {\n        if (validArguments()) {\n            ...\n    }\n\n    private boolean validArguments() {\n        boolean result = true;\n        if (com.google.common.base.Strings.isNullOrEmpty(Launcher.filename)) {\n            result = false;\n        }\n        else if (...) {\n            ...\n        }\n        return result;\n    }\n}\n</code></pre>\n<p><code>filename</code> is a value collected from the command line as I'm using a CLI library to set that value for me if/when it's supplied.  If the user doesn't supply the value on the command line, the field will be <code>null</code>.  My hunch is this is a false positive and I'll need to suppress this warning.  If not, please help me understand how this invocation is a blunder.</p>\n<p>I removed the <code>static</code> modifier from the field and it appeared to resolve it.  It seems this warning is best suited for invocations such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Strings.isNullOrEmpty(&quot;abcd&quot;);\n</code></pre>\n<p>That's a blunder. LOL!</p>\n<p>Honestly, I don't see why having this field <code>static</code> is a mistake.  My CLI library sets it correctly either way.  And without the annotation, it's going to be <code>null</code> either way, but non-static somehow satisfies it?</p>\n"},{"tags":["java","json","spring-mvc","spring-boot","jackson"],"comments":[{"owner":{"account_id":8636556,"reputation":773,"user_id":6466540,"display_name":"Indra Uprade"},"score":0,"creation_date":1471264848,"post_id":38955167,"comment_id":65264285,"body_markdown":"what are the approached you tried so far to convert response directly into pojo ?","body":"what are the approached you tried so far to convert response directly into pojo ?"},{"owner":{"account_id":1952872,"reputation":613,"user_id":1756591,"accept_rate":83,"display_name":"Rengas"},"score":0,"creation_date":1471265145,"post_id":38955167,"comment_id":65264455,"body_markdown":"I have already stated what I have tried in my question. The part when I tried to....","body":"I have already stated what I have tried in my question. The part when I tried to...."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1471266010,"post_id":38955167,"comment_id":65264940,"body_markdown":"The problem&#39;s really on the server side. Why are you sending JSON with a content type of `application/octet-stream`?","body":"The problem&#39;s really on the server side. Why are you sending JSON with a content type of <code>application&#47;octet-stream</code>?"},{"owner":{"account_id":1952872,"reputation":613,"user_id":1756591,"accept_rate":83,"display_name":"Rengas"},"score":0,"creation_date":1471266152,"post_id":38955167,"comment_id":65265028,"body_markdown":"@AndyWilkinson. That is what I receive from ISBNdb. I do not have any control over it.","body":"@AndyWilkinson. That is what I receive from ISBNdb. I do not have any control over it."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1471277657,"post_id":38955167,"comment_id":65271842,"body_markdown":"Ugh. Then you should do what @jny has suggested below and configure your `RestTemplate` with a Jackson-based converter that treats `application/octet-stream` responses as JSON.","body":"Ugh. Then you should do what @jny has suggested below and configure your <code>RestTemplate</code> with a Jackson-based converter that treats <code>application&#47;octet-stream</code> responses as JSON."}],"answers":[{"tags":[],"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1603329136,"creation_date":1471269909,"answer_id":38956626,"question_id":38955167,"body_markdown":"You need to conifigure restTemplate with message converters. In your configuration do the following:\r\n\r\n \r\n\r\n       @Bean\r\n        public RestOperations restTemplate() {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            \r\n            MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n    \r\n            \r\n            converter.setSupportedMediaTypes(\r\n                    Arrays.asList(new MediaType[]{MediaType.APPLICATION_JSON, MediaType.APPLICATION_OCTET_STREAM}));\r\n    \r\n            restTemplate.setMessageConverters(Arrays.asList(converter, new FormHttpMessageConverter()));\r\n            return restTemplate;\r\n        }","title":"How to use RestTemplate with application/octet-stream response type","body":"<p>You need to conifigure restTemplate with message converters. In your configuration do the following:</p>\n<pre><code>   @Bean\n    public RestOperations restTemplate() {\n        RestTemplate restTemplate = new RestTemplate();\n        \n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n\n        \n        converter.setSupportedMediaTypes(\n                Arrays.asList(new MediaType[]{MediaType.APPLICATION_JSON, MediaType.APPLICATION_OCTET_STREAM}));\n\n        restTemplate.setMessageConverters(Arrays.asList(converter, new FormHttpMessageConverter()));\n        return restTemplate;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5357593,"reputation":351,"user_id":4269869,"display_name":"Vity"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1498491876,"creation_date":1498491876,"answer_id":44763502,"question_id":38955167,"body_markdown":"I guess the better solution is to just add another converter, not to modify current ones:\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n        restTemplate.getMessageConverters().add(jacksonSupportsMoreTypes());\r\n        return restTemplate;\r\n    }\r\n\r\n\r\n    private HttpMessageConverter jacksonSupportsMoreTypes() {//eg. Gitlab returns JSON as plain text \r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        converter.setSupportedMediaTypes(Arrays.asList(MediaType.parseMediaType(&quot;text/plain;charset=utf-8&quot;), MediaType.APPLICATION_OCTET_STREAM));\r\n        return converter;\r\n    }\r\n","title":"How to use RestTemplate with application/octet-stream response type","body":"<p>I guess the better solution is to just add another converter, not to modify current ones:</p>\n\n<pre><code>@Bean\npublic RestTemplate restTemplate() {\n    final RestTemplate restTemplate = new RestTemplate();\n    restTemplate.getMessageConverters().add(jacksonSupportsMoreTypes());\n    return restTemplate;\n}\n\n\nprivate HttpMessageConverter jacksonSupportsMoreTypes() {//eg. Gitlab returns JSON as plain text \n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    converter.setSupportedMediaTypes(Arrays.asList(MediaType.parseMediaType(\"text/plain;charset=utf-8\"), MediaType.APPLICATION_OCTET_STREAM));\n    return converter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682454465,"creation_date":1678267466,"answer_id":75671292,"question_id":38955167,"body_markdown":"Neither of these answers worked for me, albeit I did not try very long. This solution does not map to POJO directly but resolves the issue with a single additional line of code.\r\n\r\nI got it working by changing\r\n\r\n\t\tResponseEntity&lt;AbInitioResponse&gt; responseEntity = restTemplate.exchange(urlTemplate, HttpMethod.GET, requestEntity, AbInitioResponse.class, params);\r\n\t\tAbInitioResponse abInitioResponse = responseEntity.getBody();\r\n\r\ninto the following, ie getting the response as a byte[] and then explicitly serialising it to the desired class\r\n\r\n\t\tResponseEntity&lt;byte[]&gt; responseEntity = restTemplate.exchange(urlTemplate, HttpMethod.GET, requestEntity, byte[].class, params);\r\n\t\tbyte[] abInitioOctetResponse = responseEntity.getBody();\r\n\t\tAbInitioResponse abInitioResponse = objectMapper.readValue(abInitioOctetResponse, AbInitioResponse.class);\r\n\r\nwhere `objectMapper` is an `@Autowired com.fasterxml.jackson.databind.ObjectMapper`\r\n\r\nThis answer was was helped by [download-file-of-content-type-octet-stream-using-resttemplate][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70633840/","title":"How to use RestTemplate with application/octet-stream response type","body":"<p>Neither of these answers worked for me, albeit I did not try very long. This solution does not map to POJO directly but resolves the issue with a single additional line of code.</p>\n<p>I got it working by changing</p>\n<pre><code>    ResponseEntity&lt;AbInitioResponse&gt; responseEntity = restTemplate.exchange(urlTemplate, HttpMethod.GET, requestEntity, AbInitioResponse.class, params);\n    AbInitioResponse abInitioResponse = responseEntity.getBody();\n</code></pre>\n<p>into the following, ie getting the response as a byte[] and then explicitly serialising it to the desired class</p>\n<pre><code>    ResponseEntity&lt;byte[]&gt; responseEntity = restTemplate.exchange(urlTemplate, HttpMethod.GET, requestEntity, byte[].class, params);\n    byte[] abInitioOctetResponse = responseEntity.getBody();\n    AbInitioResponse abInitioResponse = objectMapper.readValue(abInitioOctetResponse, AbInitioResponse.class);\n</code></pre>\n<p>where <code>objectMapper</code> is an <code>@Autowired com.fasterxml.jackson.databind.ObjectMapper</code></p>\n<p>This answer was was helped by <a href=\"https://stackoverflow.com/a/70633840/\">download-file-of-content-type-octet-stream-using-resttemplate</a>.</p>\n"}],"owner":{"account_id":1952872,"reputation":613,"user_id":1756591,"accept_rate":83,"display_name":"Rengas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26008,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":38956626,"answer_count":3,"score":10,"last_activity_date":1682454465,"creation_date":1471264385,"question_id":38955167,"body_markdown":"I am using a [ISBNdB][1] to get info about the books.The reponse type is application/octet-stream. A sample json response I get looks as follows \r\n\r\n    {\r\n    &quot;index_searched&quot; : &quot;isbn&quot;,\r\n    &quot;data&quot; : [\r\n      {\r\n         &quot;publisher_id&quot; : &quot;john_wiley_sons_inc&quot;,\r\n         &quot;publisher_name&quot; : &quot;John Wiley &amp; Sons, Inc&quot;,\r\n         &quot;title_latin&quot; : &quot;Java programming interviews exposed&quot;,\r\n         &quot;language&quot; : &quot;eng&quot;,\r\n         &quot;summary&quot; : &quot;&quot;,\r\n         &quot;physical_description_text&quot; : &quot;1 online resource (xvi, 368 pages) :&quot;,\r\n         &quot;author_data&quot; : [\r\n            {\r\n               &quot;name&quot; : &quot;Markham, Noel&quot;,\r\n               &quot;id&quot; : &quot;markham_noel&quot;\r\n            },\r\n            {\r\n               &quot;id&quot; : &quot;greg_milette&quot;,\r\n               &quot;name&quot; : &quot;Greg Milette&quot;\r\n            }\r\n         ],\r\n         &quot;title_long&quot; : &quot;Java programming interviews exposed&quot;,\r\n         &quot;urls_text&quot; : &quot;&quot;,\r\n         &quot;publisher_text&quot; : &quot;New York; John Wiley &amp; Sons, Inc&quot;,\r\n         &quot;book_id&quot; : &quot;java_programming_interviews_exposed&quot;,\r\n         &quot;awards_text&quot; : &quot;; &quot;,\r\n         &quot;subject_ids&quot; : [],\r\n         &quot;isbn13&quot; : &quot;9781118722862&quot;,\r\n         &quot;lcc_number&quot; : &quot;&quot;,\r\n         &quot;title&quot; : &quot;Java programming interviews exposed&quot;,\r\n         &quot;isbn10&quot; : &quot;1118722868&quot;,\r\n         &quot;dewey_decimal&quot; : &quot;005.13/3&quot;,\r\n         &quot;edition_info&quot; : &quot;; &quot;,\r\n         &quot;notes&quot; : &quot;\\&quot;Wrox programmer to programmer\\&quot;--Cover.; Acceso restringido a usuarios UCM = For UCM patrons only.&quot;,\r\n         &quot;marc_enc_level&quot; : &quot;&quot;,\r\n         &quot;dewey_normal&quot; : &quot;5.133&quot;\r\n      }\r\n      ]\r\n      }\r\n\r\nI am using Jackson to convert this reponse. My Pojo looks as follows\r\n\r\n \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\n    public class value {\r\n    \tprivate  String index_searched;\r\n    \t// Another pojo in different file with ignore properties\r\n    \tprivate data[] dat;\r\n    \r\n    \tpublic value(){\r\n    \t\t\r\n    \t}\r\n    \tpublic data[] getDat() {\r\n    \t\treturn dat;\r\n    \t}\r\n    \r\n    \tpublic void setDat(data[] dat) {\r\n    \t\tthis.dat = dat;\r\n    \t}\r\n    \tpublic String getIndex_searched() {\r\n    \t\treturn index_searched;\r\n    \t}\r\n    \tpublic void setIndex_searched(String index_searched) {\r\n    \t\tthis.index_searched = index_searched;\r\n    \t} \r\n       }\r\n\r\nWhen I tried following  \r\n\r\n      value book = restTemplate.getForObject(FINAL_URL, value.class);\r\n\r\nI get this exception\r\n\r\n    org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.rocketrenga.mylibrary.domain.value] and content type [application/octet-stream]\r\n\r\nBut I am able to map the response to String \r\n\r\n    String book = restTemplate.getForObject(FINAL_URL, String.class);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\tvalue val = mapper.readValue(book, value.class);\r\n\tSystem.out.println(val.getIndex_searched());\r\n\r\nHow to go about mapping the response directly POJO instead of String and converting back to POJO\r\n\r\n\r\n  [1]: http://isbndb.com/api/v2/docs","title":"How to use RestTemplate with application/octet-stream response type","body":"<p>I am using a <a href=\"http://isbndb.com/api/v2/docs\" rel=\"noreferrer\">ISBNdB</a> to get info about the books.The reponse type is application/octet-stream. A sample json response I get looks as follows </p>\n\n<pre><code>{\n\"index_searched\" : \"isbn\",\n\"data\" : [\n  {\n     \"publisher_id\" : \"john_wiley_sons_inc\",\n     \"publisher_name\" : \"John Wiley &amp; Sons, Inc\",\n     \"title_latin\" : \"Java programming interviews exposed\",\n     \"language\" : \"eng\",\n     \"summary\" : \"\",\n     \"physical_description_text\" : \"1 online resource (xvi, 368 pages) :\",\n     \"author_data\" : [\n        {\n           \"name\" : \"Markham, Noel\",\n           \"id\" : \"markham_noel\"\n        },\n        {\n           \"id\" : \"greg_milette\",\n           \"name\" : \"Greg Milette\"\n        }\n     ],\n     \"title_long\" : \"Java programming interviews exposed\",\n     \"urls_text\" : \"\",\n     \"publisher_text\" : \"New York; John Wiley &amp; Sons, Inc\",\n     \"book_id\" : \"java_programming_interviews_exposed\",\n     \"awards_text\" : \"; \",\n     \"subject_ids\" : [],\n     \"isbn13\" : \"9781118722862\",\n     \"lcc_number\" : \"\",\n     \"title\" : \"Java programming interviews exposed\",\n     \"isbn10\" : \"1118722868\",\n     \"dewey_decimal\" : \"005.13/3\",\n     \"edition_info\" : \"; \",\n     \"notes\" : \"\\\"Wrox programmer to programmer\\\"--Cover.; Acceso restringido a usuarios UCM = For UCM patrons only.\",\n     \"marc_enc_level\" : \"\",\n     \"dewey_normal\" : \"5.133\"\n  }\n  ]\n  }\n</code></pre>\n\n<p>I am using Jackson to convert this reponse. My Pojo looks as follows</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n\npublic class value {\n    private  String index_searched;\n    // Another pojo in different file with ignore properties\n    private data[] dat;\n\n    public value(){\n\n    }\n    public data[] getDat() {\n        return dat;\n    }\n\n    public void setDat(data[] dat) {\n        this.dat = dat;\n    }\n    public String getIndex_searched() {\n        return index_searched;\n    }\n    public void setIndex_searched(String index_searched) {\n        this.index_searched = index_searched;\n    } \n   }\n</code></pre>\n\n<p>When I tried following  </p>\n\n<pre><code>  value book = restTemplate.getForObject(FINAL_URL, value.class);\n</code></pre>\n\n<p>I get this exception</p>\n\n<pre><code>org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.rocketrenga.mylibrary.domain.value] and content type [application/octet-stream]\n</code></pre>\n\n<p>But I am able to map the response to String </p>\n\n<pre><code>String book = restTemplate.getForObject(FINAL_URL, String.class);\nObjectMapper mapper = new ObjectMapper();\nvalue val = mapper.readValue(book, value.class);\nSystem.out.println(val.getIndex_searched());\n</code></pre>\n\n<p>How to go about mapping the response directly POJO instead of String and converting back to POJO</p>\n"},{"tags":["java","swing","jcombobox","itemlistener"],"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":1,"creation_date":1373902932,"post_id":58939,"comment_id":25717643,"body_markdown":"Excellent question, since I&#39;ve noticed that actionPerformed fires on loading a combobox, but NOT on selecting when one would expect it.","body":"Excellent question, since I&#39;ve noticed that actionPerformed fires on loading a combobox, but NOT on selecting when one would expect it."}],"answers":[{"tags":[],"owner":{"account_id":2978,"reputation":49999,"user_id":4223,"accept_rate":93,"display_name":"jodonnell"},"down_vote_count":5,"up_vote_count":200,"is_accepted":true,"score":195,"last_activity_date":1388860981,"creation_date":1221226342,"answer_id":58963,"question_id":58939,"body_markdown":"It should respond to [ActionListeners][1], like this:\r\n\r\n    combo.addActionListener (new ActionListener () {\r\n        public void actionPerformed(ActionEvent e) {\r\n            doSomething();\r\n        }\r\n    });\r\n\r\n[@John Calsbeek][2] rightly points out that `addItemListener()` will work, too.  You may get 2 `ItemEvents`, though, one for the deselection of the previously selected item, and another for the selection of the new item. Just don&#39;t use both event types!\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/event/ActionListener.html\r\n  [2]: https://stackoverflow.com/a/58965/1429387","title":"JComboBox Selection Change Listener?","body":"<p>It should respond to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/ActionListener.html\" rel=\"noreferrer\">ActionListeners</a>, like this:</p>\n\n<pre><code>combo.addActionListener (new ActionListener () {\n    public void actionPerformed(ActionEvent e) {\n        doSomething();\n    }\n});\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/58965/1429387\">@John Calsbeek</a> rightly points out that <code>addItemListener()</code> will work, too.  You may get 2 <code>ItemEvents</code>, though, one for the deselection of the previously selected item, and another for the selection of the new item. Just don't use both event types!</p>\n"},{"tags":[],"owner":{"account_id":3889,"reputation":36047,"user_id":5696,"accept_rate":100,"display_name":"John Calsbeek"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1221226430,"creation_date":1221226430,"answer_id":58965,"question_id":58939,"body_markdown":"I would try the `itemStateChanged()` method of the [`ItemListener`][1] interface if [jodonnell&#39;s][2] solution fails.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/event/ItemListener.html\r\n  [2]: #58963","title":"JComboBox Selection Change Listener?","body":"<p>I would try the <code>itemStateChanged()</code> method of the <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/ItemListener.html\" rel=\"noreferrer\"><code>ItemListener</code></a> interface if jodonnell's solution fails.</p>\n"},{"tags":[],"owner":{"account_id":586866,"reputation":123,"user_id":264662,"display_name":"JavaKeith"},"down_vote_count":5,"up_vote_count":13,"is_accepted":false,"score":8,"last_activity_date":1473847610,"creation_date":1265139488,"answer_id":2187058,"question_id":58939,"body_markdown":"You may try these\r\n \r\n  \r\n\r\n     int selectedIndex = myComboBox.getSelectedIndex();\r\n\r\n-or-\r\n\r\n    Object selectedObject = myComboBox.getSelectedItem();\r\n\r\n-or-\r\n\r\n    String selectedValue = myComboBox.getSelectedValue().toString();\r\n\r\n","title":"JComboBox Selection Change Listener?","body":"<p>You may try these</p>\n\n<pre><code> int selectedIndex = myComboBox.getSelectedIndex();\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>Object selectedObject = myComboBox.getSelectedItem();\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>String selectedValue = myComboBox.getSelectedValue().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1035725,"reputation":5463,"user_id":1043067,"accept_rate":88,"display_name":"Viacheslav"},"down_vote_count":0,"up_vote_count":180,"is_accepted":false,"score":180,"last_activity_date":1358684917,"creation_date":1358684917,"answer_id":14424530,"question_id":58939,"body_markdown":"Code example of `ItemListener` implementation\r\n\r\n    class ItemChangeListener implements ItemListener{\r\n    \t@Override\r\n    \tpublic void itemStateChanged(ItemEvent event) {\r\n    \t   if (event.getStateChange() == ItemEvent.SELECTED) {\r\n              Object item = event.getItem();\r\n              // do something with object\r\n    \t   }\r\n    \t}\t\t\r\n    }\r\n\r\nNow we will get only selected item.\r\n\r\nThen just add listener to your JComboBox\r\n\r\n    addItemListener(new ItemChangeListener());","title":"JComboBox Selection Change Listener?","body":"<p>Code example of <code>ItemListener</code> implementation</p>\n\n<pre><code>class ItemChangeListener implements ItemListener{\n    @Override\n    public void itemStateChanged(ItemEvent event) {\n       if (event.getStateChange() == ItemEvent.SELECTED) {\n          Object item = event.getItem();\n          // do something with object\n       }\n    }       \n}\n</code></pre>\n\n<p>Now we will get only selected item.</p>\n\n<p>Then just add listener to your JComboBox</p>\n\n<pre><code>addItemListener(new ItemChangeListener());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1720702,"reputation":4649,"user_id":1654250,"accept_rate":62,"display_name":"Craig Wayne"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359843788,"creation_date":1359843788,"answer_id":14667156,"question_id":58939,"body_markdown":"I was recently looking for this very same solution and managed to find a simple one without assigning specific variables for the last selected item and the new selected item. And this question, although very helpful, didn&#39;t provide the solution I needed. This solved my problem, I hope it solves yours and others. Thanks.\r\n\r\nhttps://stackoverflow.com/questions/14647439/how-to-get-previous-last-item-jcombobox","title":"JComboBox Selection Change Listener?","body":"<p>I was recently looking for this very same solution and managed to find a simple one without assigning specific variables for the last selected item and the new selected item. And this question, although very helpful, didn't provide the solution I needed. This solved my problem, I hope it solves yours and others. Thanks.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14647439/how-to-get-previous-last-item-jcombobox\">How do I get the previous or last item?</a></p>\n"},{"tags":[],"owner":{"account_id":3045745,"reputation":427,"user_id":2581460,"accept_rate":40,"display_name":"Ahuramazda"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1584904730,"creation_date":1374707283,"answer_id":17846338,"question_id":58939,"body_markdown":"Here is creating a ComboBox adding a listener for item selection change:\r\n```java\r\nJComboBox comboBox = new JComboBox();\r\n\t\t\r\ncomboBox.setBounds(84, 45, 150, 20);\r\ncontentPane.add(comboBox);\r\n\t\t\r\nJComboBox comboBox_1 = new JComboBox();\r\ncomboBox_1.setBounds(84, 97, 150, 20);\r\ncontentPane.add(comboBox_1);\r\ncomboBox.addItemListener(new ItemListener() {\r\n    public void itemStateChanged(ItemEvent arg0) {\r\n\t    //Do Something\r\n    }\r\n});\r\n```","title":"JComboBox Selection Change Listener?","body":"<p>Here is creating a ComboBox adding a listener for item selection change:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>JComboBox comboBox = new JComboBox();\n\ncomboBox.setBounds(84, 45, 150, 20);\ncontentPane.add(comboBox);\n\nJComboBox comboBox_1 = new JComboBox();\ncomboBox_1.setBounds(84, 97, 150, 20);\ncontentPane.add(comboBox_1);\ncomboBox.addItemListener(new ItemListener() {\n    public void itemStateChanged(ItemEvent arg0) {\n        //Do Something\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8795718,"reputation":346,"user_id":6573672,"display_name":"Mehmet Onar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604925894,"creation_date":1604557778,"answer_id":64692212,"question_id":58939,"body_markdown":"you can do this with jdk &gt;= 8\r\n\r\n    getComboBox().addItemListener(this::comboBoxitemStateChanged);\r\n\r\nso\r\n\r\n\tpublic void comboBoxitemStateChanged(ItemEvent e) {\r\n\t\tif (e.getStateChange() == ItemEvent.SELECTED) {\r\n\t\t\tYourObject selectedItem = (YourObject) e.getItem();\r\n\t\t\t//TODO your actitons\r\n\t\t}\r\n\t}","title":"JComboBox Selection Change Listener?","body":"<p>you can do this with jdk &gt;= 8</p>\n<pre><code>getComboBox().addItemListener(this::comboBoxitemStateChanged);\n</code></pre>\n<p>so</p>\n<pre><code>public void comboBoxitemStateChanged(ItemEvent e) {\n    if (e.getStateChange() == ItemEvent.SELECTED) {\n        YourObject selectedItem = (YourObject) e.getItem();\n        //TODO your actitons\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16671486,"reputation":53,"user_id":12048805,"display_name":"EverCpp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629220728,"creation_date":1629220728,"answer_id":68821546,"question_id":58939,"body_markdown":"I use this:\r\n\r\n    \tcb = new JComboBox&lt;String&gt;();\r\n\t\tcb.setBounds(10, 33, 46, 22);\r\n\t\tpanelConfig.add(cb);\r\n\t\tfor(int i = 0; i &lt; 10; ++i)\r\n\t\t{\r\n\t\t\tcb.addItem(Integer.toString(i));\r\n\t\t}\r\n\t\tcb.addItemListener(new ItemListener()\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void itemStateChanged(ItemEvent e)\r\n\t\t\t{\r\n\t\t\t\tif(e.getID() == temEvent.ITEM_STATE_CHANGED)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(e.getStateChange() == ItemEvent.SELECTED)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tJComboBox&lt;String&gt; cb = (JComboBox&lt;String&gt;) e.getSource();\r\n\t\t\t\t\t\tString newSelection = (String) cb.getSelectedItem();\r\n\t\t\t\t\t\tSystem.out.println(&quot;newSelection: &quot; + newSelection);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n","title":"JComboBox Selection Change Listener?","body":"<p>I use this:</p>\n<pre><code>    cb = new JComboBox&lt;String&gt;();\n    cb.setBounds(10, 33, 46, 22);\n    panelConfig.add(cb);\n    for(int i = 0; i &lt; 10; ++i)\n    {\n        cb.addItem(Integer.toString(i));\n    }\n    cb.addItemListener(new ItemListener()\n    {\n        @Override\n        public void itemStateChanged(ItemEvent e)\n        {\n            if(e.getID() == temEvent.ITEM_STATE_CHANGED)\n            {\n                if(e.getStateChange() == ItemEvent.SELECTED)\n                {\n                    JComboBox&lt;String&gt; cb = (JComboBox&lt;String&gt;) e.getSource();\n                    String newSelection = (String) cb.getSelectedItem();\n                    System.out.println(&quot;newSelection: &quot; + newSelection);\n                }\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":1781,"reputation":91962,"user_id":2443,"accept_rate":82,"display_name":"Allain Lalonde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385910,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":58963,"answer_count":8,"score":171,"last_activity_date":1682454133,"creation_date":1221225856,"question_id":58939,"body_markdown":"I&#39;m trying to get an event to fire whenever a choice is made from a `JComboBox`.\r\n\r\nThe problem I&#39;m having is that there is no obvious `addSelectionListener()` method.\r\n\r\nI&#39;ve tried to use `actionPerformed()`, but it never fires.\r\n\r\nShort of overriding the model for the `JComboBox`, I&#39;m out of ideas.\r\n\r\nHow do I get notified of a selection change on a `JComboBox`?**\r\n\r\n**Edit:** I have to apologize. It turns out I was using a misbehaving subclass of `JComboBox`, but I&#39;ll leave the question up since your answer is good.\r\n","title":"JComboBox Selection Change Listener?","body":"<p>I'm trying to get an event to fire whenever a choice is made from a <code>JComboBox</code>.</p>\n\n<p>The problem I'm having is that there is no obvious <code>addSelectionListener()</code> method.</p>\n\n<p>I've tried to use <code>actionPerformed()</code>, but it never fires.</p>\n\n<p>Short of overriding the model for the <code>JComboBox</code>, I'm out of ideas.</p>\n\n<p>How do I get notified of a selection change on a <code>JComboBox</code>?**</p>\n\n<p><strong>Edit:</strong> I have to apologize. It turns out I was using a misbehaving subclass of <code>JComboBox</code>, but I'll leave the question up since your answer is good.</p>\n"},{"tags":["java","jms","failover","ems"],"answers":[{"tags":[],"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682453546,"creation_date":1658423701,"answer_id":73070257,"question_id":73058464,"body_markdown":"I think I found the origin of my problem:\r\n\r\naccording to the page [Tibco-Ems Failover Issue][1], the error message\r\n\r\n      reconnect failed: connection unknown for id=8\r\n\r\nmeans: *&quot;the store (ems db) was&#39;nt share between the active and the standby node, so when the active ems failed, the new active ems was&#39;nt able to recover connections and messages.&quot;*\r\n\r\nI realized that it is painful to configure a shared store. To avoid it, I configured two tibems on the same host, by following the page [Step By Step How to Setup TIBCO EMS In Fault Tolerant Mode][2]:\r\n\r\n* two `tibemsd.conf` configuration files \r\n* configure a different `listen` port in each file\r\n* configure `ft_active` with url of other server\r\n* configure `factories.conf`\r\n\r\nBy doing so, I can replay my test and it works as expected\r\n\r\n  [1]: https://stackoverflow.com/a/49256704/\r\n  [2]: https://tutorialspedia.com/step-by-step-how-to-setup-tibco-ems-in-fault-tolerant-mode/","title":"Problem at creating EMS application supporting Failover/FaultTolerance","body":"<p>I think I found the origin of my problem:</p>\n<p>according to the page <a href=\"https://stackoverflow.com/a/49256704/\">Tibco-Ems Failover Issue</a>, the error message</p>\n<pre><code>  reconnect failed: connection unknown for id=8\n</code></pre>\n<p>means: <em>&quot;the store (ems db) was'nt share between the active and the standby node, so when the active ems failed, the new active ems was'nt able to recover connections and messages.&quot;</em></p>\n<p>I realized that it is painful to configure a shared store. To avoid it, I configured two tibems on the same host, by following the page <a href=\"https://tutorialspedia.com/step-by-step-how-to-setup-tibco-ems-in-fault-tolerant-mode/\" rel=\"nofollow noreferrer\">Step By Step How to Setup TIBCO EMS In Fault Tolerant Mode</a>:</p>\n<ul>\n<li>two <code>tibemsd.conf</code> configuration files</li>\n<li>configure a different <code>listen</code> port in each file</li>\n<li>configure <code>ft_active</code> with url of other server</li>\n<li>configure <code>factories.conf</code></li>\n</ul>\n<p>By doing so, I can replay my test and it works as expected</p>\n"}],"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682453546,"creation_date":1658353663,"question_id":73058464,"body_markdown":"I am starting to study how can I implement an application supporting Failover/FaultTolerance on top of JMS, more precisely EMS\r\n\r\nI configured two EMS servers working both with FaultTolerance enabled:\r\n\r\nFor EMS running on server on ``server1`` I have\r\n* in ``tibemsd.conf``\r\n\r\n        ft_active = tcp://server2:7232\r\n* in ``factories.conf``\r\n   \r\n      [GenericConnectionFactory]\r\n        type                  = generic\r\n        url                   = tcp://server1:7232\r\n  \r\n      [FTTopicConnectionFactory]\r\n        type                  = topic\r\n        url                   = tcp://server1:7232,tcp://server2:7232\r\n  \r\n      [FTQueueConnectionFactory]\r\n        type                  = queue\r\n        url                   = tcp://server1:7232,tcp://server2:7232\r\n \r\nAnd for EMS running on server on ``server2`` I have\r\n* in ``tibemsd.conf``\r\n\r\n        ft_active = tcp://server1:7232\r\n* in ``factories.conf``\r\n   \r\n      [GenericConnectionFactory]\r\n        type                  = generic\r\n        url                   = tcp://server2:7232\r\n  \r\n      [FTTopicConnectionFactory]\r\n        type                  = topic\r\n        url                   = tcp://server2:7232,tcp://server1:7232\r\n  \r\n      [FTQueueConnectionFactory]\r\n        type                  = queue\r\n        url                   = tcp://server2:7232,tcp://server1:7232\r\n\r\n\r\nI am not a TIBCO EMS expert but my config seems to be good: When I start EMS on server1 I get:\r\n\r\n      $ tibemsd -config tibemsd.conf\r\n      ...\r\n      2022-07-20 23:04:58.566 Server is active.\r\n      2022-07-20 23:05:18.563 Standby server &#39;SERVERNAME@server1&#39; has connected.\r\n\r\nthen if I start EMS on server2, I get\r\n\r\n      $ tibemsd -config tibemsd.conf\r\n      ...\r\n      2022-07-20 23:05:18.564 Accepting connections on tcp://server2:7232.\r\n      2022-07-20 23:05:18.564 Server is in standby state for &#39;tcp://server1:7232&#39;\r\n\r\nMoreover, if I kill *active* EMS on server1, I immediately get the following message on  server2:\r\n\r\n      2022-07-20 23:21:52.891 Connection to active server &#39;tcp://server1:7232&#39; has been lost.\r\n      2022-07-20 23:21:52.891 Server activating on failure of &#39;tcp://server1:7232&#39;.\r\n      ...\r\n      2022-07-20 23:21:52.924 Server is now active.\r\n\r\n\r\n**Until here, everything looks OK**, active/standby EMS servers seems to be correctly configured\r\n\r\n\r\nThings get more complicated when I write a piece of code how is supposed to connect to these EMS servers and to periodically publish messages. Let&#39;s try with the following code sample:\r\n\r\n```java\r\n    @Test\r\n    public void testEmsFailover() throws JMSException, InterruptedException {\r\n        int NB = 1000;\r\n\r\n        TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\r\n        factory.setServerUrl(&quot;tcp://server1:7232,tcp://server2:7232&quot;);\r\n        Connection connection = factory.createConnection();\r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n        connection.start();\r\n\r\n        for (int i = 0; i &lt; NB; i++) {\r\n            LOG.info(&quot;sending message&quot;);\r\n            Queue queue = session.createQueue(QUEUE__CLIENT_TO_FRONTDOOR__CONNECTION_REQUEST);\r\n            MessageProducer producer = session.createProducer(queue);\r\n            MapMessage mapMessage = session.createMapMessage();\r\n            mapMessage.setStringProperty(PROPERTY__CLIENT_KIND, USER.toString());\r\n            mapMessage.setStringProperty(PROPERTY__CLIENT_NAME, &quot;name&quot;);\r\n            producer.send(mapMessage);\r\n            LOG.info(&quot;done!&quot;);\r\n\r\n            Thread.sleep(1000);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nIf I run this code while both active and standby servers are up, everything looks good\r\n\r\n      23:26:32.431 [main] INFO JmsEndpointTest - sending message\r\n      23:26:32.458 [main] INFO JmsEndpointTest - done!\r\n      23:26:33.458 [main] INFO JmsEndpointTest - sending message\r\n      23:26:33.482 [main] INFO JmsEndpointTest - done!\r\n\r\nNow If I kill the active EMS server, I would expect that\r\n* the standby server would instantaneously become the active one\r\n* my code would continue to publish such as if nothing had happened\r\n\r\nHowever, in my code I get the following error:\r\n\r\n\r\n    javax.jms.JMSException: Connection is closed\r\n\r\n\t    at com.tibco.tibjms.TibjmsxLink.sendRequest(TibjmsxLink.java:307)\r\n    \tat com.tibco.tibjms.TibjmsxLink.sendRequestMsg(TibjmsxLink.java:261)\r\n\t    at com.tibco.tibjms.TibjmsxSessionImp._createProducer(TibjmsxSessionImp.java:1004)\r\n    \tat com.tibco.tibjms.TibjmsxSessionImp.createProducer(TibjmsxSessionImp.java:4854)\r\n\t    at JmsEndpointTest.testEmsFailover(JmsEndpointTest.java:103)\r\n    ...\r\n\r\nand in the logs of the server (the previous standby server supposed to be now the active one) I get\r\n\r\n    2022-07-20 23:32:44.447 [anonymous@cersei]: connect failed: server not in active state\r\n    2022-07-20 23:33:02.969 Connection to active server &#39;tcp://server2:7232&#39; has been lost.\r\n    2022-07-20 23:33:02.969 Server activating on failure of &#39;tcp://server2:7232&#39;.\r\n    2022-07-20 23:33:02.969 Server rereading configuration.\r\n    2022-07-20 23:33:02.971 Recovering state, please wait.\r\n    2022-07-20 23:33:02.980 Recovered 46 messages.\r\n    2022-07-20 23:33:02.980 Server is now active.\r\n    2022-07-20 23:33:03.545 [anonymous@cersei]: reconnect failed: connection unknown for id=8\r\n    2022-07-20 23:33:04.187 [anonymous@cersei]: reconnect failed: connection unknown for id=8\r\n    2022-07-20 23:33:04.855 [anonymous@cersei]: reconnect failed: connection unknown for id=8\r\n    2022-07-20 23:33:05.531 [anonymous@cersei]: reconnect failed: connection unknown for id=8\r\n\r\nI would appreciate any help to enhance my code\r\n\r\nThank you","title":"Problem at creating EMS application supporting Failover/FaultTolerance","body":"<p>I am starting to study how can I implement an application supporting Failover/FaultTolerance on top of JMS, more precisely EMS</p>\n<p>I configured two EMS servers working both with FaultTolerance enabled:</p>\n<p>For EMS running on server on <code>server1</code> I have</p>\n<ul>\n<li><p>in <code>tibemsd.conf</code></p>\n<pre><code>  ft_active = tcp://server2:7232\n</code></pre>\n</li>\n<li><p>in <code>factories.conf</code></p>\n<pre><code>[GenericConnectionFactory]\n  type                  = generic\n  url                   = tcp://server1:7232\n\n[FTTopicConnectionFactory]\n  type                  = topic\n  url                   = tcp://server1:7232,tcp://server2:7232\n\n[FTQueueConnectionFactory]\n  type                  = queue\n  url                   = tcp://server1:7232,tcp://server2:7232\n</code></pre>\n</li>\n</ul>\n<p>And for EMS running on server on <code>server2</code> I have</p>\n<ul>\n<li><p>in <code>tibemsd.conf</code></p>\n<pre><code>  ft_active = tcp://server1:7232\n</code></pre>\n</li>\n<li><p>in <code>factories.conf</code></p>\n<pre><code>[GenericConnectionFactory]\n  type                  = generic\n  url                   = tcp://server2:7232\n\n[FTTopicConnectionFactory]\n  type                  = topic\n  url                   = tcp://server2:7232,tcp://server1:7232\n\n[FTQueueConnectionFactory]\n  type                  = queue\n  url                   = tcp://server2:7232,tcp://server1:7232\n</code></pre>\n</li>\n</ul>\n<p>I am not a TIBCO EMS expert but my config seems to be good: When I start EMS on server1 I get:</p>\n<pre><code>  $ tibemsd -config tibemsd.conf\n  ...\n  2022-07-20 23:04:58.566 Server is active.\n  2022-07-20 23:05:18.563 Standby server 'SERVERNAME@server1' has connected.\n</code></pre>\n<p>then if I start EMS on server2, I get</p>\n<pre><code>  $ tibemsd -config tibemsd.conf\n  ...\n  2022-07-20 23:05:18.564 Accepting connections on tcp://server2:7232.\n  2022-07-20 23:05:18.564 Server is in standby state for 'tcp://server1:7232'\n</code></pre>\n<p>Moreover, if I kill <em>active</em> EMS on server1, I immediately get the following message on  server2:</p>\n<pre><code>  2022-07-20 23:21:52.891 Connection to active server 'tcp://server1:7232' has been lost.\n  2022-07-20 23:21:52.891 Server activating on failure of 'tcp://server1:7232'.\n  ...\n  2022-07-20 23:21:52.924 Server is now active.\n</code></pre>\n<p><strong>Until here, everything looks OK</strong>, active/standby EMS servers seems to be correctly configured</p>\n<p>Things get more complicated when I write a piece of code how is supposed to connect to these EMS servers and to periodically publish messages. Let's try with the following code sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testEmsFailover() throws JMSException, InterruptedException {\n        int NB = 1000;\n\n        TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\n        factory.setServerUrl(&quot;tcp://server1:7232,tcp://server2:7232&quot;);\n        Connection connection = factory.createConnection();\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n        connection.start();\n\n        for (int i = 0; i &lt; NB; i++) {\n            LOG.info(&quot;sending message&quot;);\n            Queue queue = session.createQueue(QUEUE__CLIENT_TO_FRONTDOOR__CONNECTION_REQUEST);\n            MessageProducer producer = session.createProducer(queue);\n            MapMessage mapMessage = session.createMapMessage();\n            mapMessage.setStringProperty(PROPERTY__CLIENT_KIND, USER.toString());\n            mapMessage.setStringProperty(PROPERTY__CLIENT_NAME, &quot;name&quot;);\n            producer.send(mapMessage);\n            LOG.info(&quot;done!&quot;);\n\n            Thread.sleep(1000);\n        }\n\n    }\n</code></pre>\n<p>If I run this code while both active and standby servers are up, everything looks good</p>\n<pre><code>  23:26:32.431 [main] INFO JmsEndpointTest - sending message\n  23:26:32.458 [main] INFO JmsEndpointTest - done!\n  23:26:33.458 [main] INFO JmsEndpointTest - sending message\n  23:26:33.482 [main] INFO JmsEndpointTest - done!\n</code></pre>\n<p>Now If I kill the active EMS server, I would expect that</p>\n<ul>\n<li>the standby server would instantaneously become the active one</li>\n<li>my code would continue to publish such as if nothing had happened</li>\n</ul>\n<p>However, in my code I get the following error:</p>\n<pre><code>javax.jms.JMSException: Connection is closed\n\n    at com.tibco.tibjms.TibjmsxLink.sendRequest(TibjmsxLink.java:307)\n    at com.tibco.tibjms.TibjmsxLink.sendRequestMsg(TibjmsxLink.java:261)\n    at com.tibco.tibjms.TibjmsxSessionImp._createProducer(TibjmsxSessionImp.java:1004)\n    at com.tibco.tibjms.TibjmsxSessionImp.createProducer(TibjmsxSessionImp.java:4854)\n    at JmsEndpointTest.testEmsFailover(JmsEndpointTest.java:103)\n...\n</code></pre>\n<p>and in the logs of the server (the previous standby server supposed to be now the active one) I get</p>\n<pre><code>2022-07-20 23:32:44.447 [anonymous@cersei]: connect failed: server not in active state\n2022-07-20 23:33:02.969 Connection to active server 'tcp://server2:7232' has been lost.\n2022-07-20 23:33:02.969 Server activating on failure of 'tcp://server2:7232'.\n2022-07-20 23:33:02.969 Server rereading configuration.\n2022-07-20 23:33:02.971 Recovering state, please wait.\n2022-07-20 23:33:02.980 Recovered 46 messages.\n2022-07-20 23:33:02.980 Server is now active.\n2022-07-20 23:33:03.545 [anonymous@cersei]: reconnect failed: connection unknown for id=8\n2022-07-20 23:33:04.187 [anonymous@cersei]: reconnect failed: connection unknown for id=8\n2022-07-20 23:33:04.855 [anonymous@cersei]: reconnect failed: connection unknown for id=8\n2022-07-20 23:33:05.531 [anonymous@cersei]: reconnect failed: connection unknown for id=8\n</code></pre>\n<p>I would appreciate any help to enhance my code</p>\n<p>Thank you</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682453330,"creation_date":1682453330,"answer_id":76105059,"question_id":76090387,"body_markdown":"You can use both of them , setException method works for this two case, they give the same result","title":"Throwing exception in apache camel","body":"<p>You can use both of them , setException method works for this two case, they give the same result</p>\n"}],"owner":{"account_id":19943168,"reputation":45,"user_id":14614483,"display_name":"viktor nagla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76105059,"answer_count":1,"score":1,"last_activity_date":1682453330,"creation_date":1682327829,"question_id":76090387,"body_markdown":"In apache camel is there a difference if I just :\r\n\r\n    throw new RuntimeException();\r\nor :\r\n\r\n    exchnage.setException(new RuntimeException())\r\n?","title":"Throwing exception in apache camel","body":"<p>In apache camel is there a difference if I just :</p>\n<pre><code>throw new RuntimeException();\n</code></pre>\n<p>or :</p>\n<pre><code>exchnage.setException(new RuntimeException())\n</code></pre>\n<p>?</p>\n"},{"tags":["java","apache-beam","apache-beam-jdbcio"],"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682453288,"creation_date":1682141109,"question_id":76078146,"body_markdown":"I have an Apache Beam pipeline that gets stuck indefinitely when using the `Wait.on` transform alongside `JdbcIO`. Here&#39;s a simplified version of my code, focusing on the relevant parts:\r\n\r\n```java\r\nPCollection&lt;String&gt; result = p.\r\n    apply(&quot;Pubsub&quot;, PubsubIO.readMessagesWithAttributes().fromSubscription(/*...*/))\r\n    .apply(&quot;Transform&quot;, ParDo.of(new MyTransformer()));\r\n\r\nPCollection&lt;Void&gt; insert = result.apply(&quot;Inserting&quot;,\r\n    JdbcIO.&lt;String&gt;writeVoid()\r\n        .withDataSourceProviderFn(/*...*/)\r\n        .withStatement(/*...*/)\r\n        .withPreparedStatementSetter(/*...*/)\r\n);\r\n\r\nresult.apply(Wait.on(insert))\r\n    .apply(&quot;Selecting&quot;, new SomeTransform())\r\n    .apply(&quot;PubsubMessaging&quot;, ParDo.of(new NextTransformer()));\r\np.run();\r\n\r\n```\r\nIn the code, I&#39;m using the `Wait.on` transform to make the pipeline wait until the `insert` transform (which uses JdbcIO to write data) is completed before executing the next steps. However, the pipeline gets stuck and doesn&#39;t progress further.\r\n\r\nI&#39;ve tried adding logging messages in my transforms to track the progress and identify where it&#39;s getting stuck, but I haven&#39;t been able to pinpoint the issue. I&#39;ve also looked through multiple Stack Overflow posts on this topic, but none of them provided a successful solution for my problem.\r\n\r\nCan anyone provide any insights or suggestions on how to debug and resolve this issue involving `Wait.on` and JdbcIO in my Apache Beam pipeline?\r\n\r\nsample code https://github.com/j1cs/app-beam\r\n\r\n**Update**: according to this discussion https://lists.apache.org/thread/z5phzd01nln6jnr5qn20sojqlj3tqqhd appears the problem is the implementation of pubsub using direct-runner. i haven&#39;t tested it yet using dataflow as a backend.","title":"Apache Beam pipeline stuck indefinitely using Wait.on transform with JdbcIO","body":"<p>I have an Apache Beam pipeline that gets stuck indefinitely when using the <code>Wait.on</code> transform alongside <code>JdbcIO</code>. Here's a simplified version of my code, focusing on the relevant parts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PCollection&lt;String&gt; result = p.\n    apply(&quot;Pubsub&quot;, PubsubIO.readMessagesWithAttributes().fromSubscription(/*...*/))\n    .apply(&quot;Transform&quot;, ParDo.of(new MyTransformer()));\n\nPCollection&lt;Void&gt; insert = result.apply(&quot;Inserting&quot;,\n    JdbcIO.&lt;String&gt;writeVoid()\n        .withDataSourceProviderFn(/*...*/)\n        .withStatement(/*...*/)\n        .withPreparedStatementSetter(/*...*/)\n);\n\nresult.apply(Wait.on(insert))\n    .apply(&quot;Selecting&quot;, new SomeTransform())\n    .apply(&quot;PubsubMessaging&quot;, ParDo.of(new NextTransformer()));\np.run();\n\n</code></pre>\n<p>In the code, I'm using the <code>Wait.on</code> transform to make the pipeline wait until the <code>insert</code> transform (which uses JdbcIO to write data) is completed before executing the next steps. However, the pipeline gets stuck and doesn't progress further.</p>\n<p>I've tried adding logging messages in my transforms to track the progress and identify where it's getting stuck, but I haven't been able to pinpoint the issue. I've also looked through multiple Stack Overflow posts on this topic, but none of them provided a successful solution for my problem.</p>\n<p>Can anyone provide any insights or suggestions on how to debug and resolve this issue involving <code>Wait.on</code> and JdbcIO in my Apache Beam pipeline?</p>\n<p>sample code <a href=\"https://github.com/j1cs/app-beam\" rel=\"nofollow noreferrer\">https://github.com/j1cs/app-beam</a></p>\n<p><strong>Update</strong>: according to this discussion <a href=\"https://lists.apache.org/thread/z5phzd01nln6jnr5qn20sojqlj3tqqhd\" rel=\"nofollow noreferrer\">https://lists.apache.org/thread/z5phzd01nln6jnr5qn20sojqlj3tqqhd</a> appears the problem is the implementation of pubsub using direct-runner. i haven't tested it yet using dataflow as a backend.</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1682437836,"post_id":76102713,"comment_id":134214100,"body_markdown":"You need to use use `Pattern.MULTILINE` mode as you are using `^` in a multi line string.","body":"You need to use use <code>Pattern.MULTILINE</code> mode as you are using <code>^</code> in a multi line string."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682438386,"post_id":76102713,"comment_id":134214249,"body_markdown":"Is this a programming exercise, or are you just trying to fix your wp-config.php file?  If it’s the latter, you will find using the `sed` command is easier than writing a Java program.","body":"Is this a programming exercise, or are you just trying to fix your wp-config.php file?  If it’s the latter, you will find using the <code>sed</code> command is easier than writing a Java program."},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":1,"creation_date":1682452416,"post_id":76102713,"comment_id":134217440,"body_markdown":"@anubhava thank you, it works! https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#MULTILINE\nThis the correct line: `Pattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;, Pattern.MULTILINE);`","body":"@anubhava thank you, it works! <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#MULTILINE\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/regex/&hellip;</a> This the correct line: <code>Pattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;, Pattern.MULTILINE);</code>"}],"answers":[{"tags":[],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682452720,"creation_date":1682452720,"answer_id":76104973,"question_id":76102713,"body_markdown":"I got it! Thanks @anubhava\r\n\r\nI have to use `Pattern.MULTILINE`:\r\n\r\n```java\r\nPattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;, Pattern.MULTILINE);\r\n```\r\n\r\nFrom the [documentation][1]:\r\n&gt; In multiline mode the expressions ^ and $ match just after or just before, respectively, a line terminator or the end of the input sequence. By default these expressions only match at the beginning and the end of the entire input sequence.\r\n\r\n\r\n\r\nComplete code:\r\n\r\n```java\r\npackage test;\r\n\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String file = &quot;/tmp/wp-config.php&quot;;\r\n        Path path = Paths.get(file);\r\n        Charset charset = StandardCharsets.UTF_8;\r\n\r\n        try {\r\n            String content = new String(Files.readAllBytes(path), charset);\r\n            Pattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;, Pattern.MULTILINE);\r\n            Matcher mDbName = pDbName.matcher(content);\r\n            if (mDbName.find()) {\r\n                System.err.println(&quot;mDbName FOUND&quot;);\r\n                content = mDbName.replaceAll(&quot;XXXXX$1&quot;);\r\n            } else {\r\n                System.err.println(&quot;mDbName not found&quot;);\r\n            }\r\n\r\n            Files.write(path, content.getBytes(charset));\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#MULTILINE","title":"Replace string in file by regex capture/match group","body":"<p>I got it! Thanks @anubhava</p>\n<p>I have to use <code>Pattern.MULTILINE</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;, Pattern.MULTILINE);\n</code></pre>\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#MULTILINE\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>In multiline mode the expressions ^ and $ match just after or just before, respectively, a line terminator or the end of the input sequence. By default these expressions only match at the beginning and the end of the entire input sequence.</p>\n</blockquote>\n<p>Complete code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String file = &quot;/tmp/wp-config.php&quot;;\n        Path path = Paths.get(file);\n        Charset charset = StandardCharsets.UTF_8;\n\n        try {\n            String content = new String(Files.readAllBytes(path), charset);\n            Pattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;, Pattern.MULTILINE);\n            Matcher mDbName = pDbName.matcher(content);\n            if (mDbName.find()) {\n                System.err.println(&quot;mDbName FOUND&quot;);\n                content = mDbName.replaceAll(&quot;XXXXX$1&quot;);\n            } else {\n                System.err.println(&quot;mDbName not found&quot;);\n            }\n\n            Files.write(path, content.getBytes(charset));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76104973,"answer_count":1,"score":1,"last_activity_date":1682452720,"creation_date":1682435184,"question_id":76102713,"body_markdown":"I want to replace number in line using match/capture group:\r\n\r\n```php\r\ndefine( &#39;DB_NAME&#39;, &#39;ab20002&#39; );\r\n```\r\n\r\nit&#39;s `wp-config.php`.\r\n\r\nI have regex `^define.+DB_NAME.+ab([0-9]{5}).*` that works on https://regex101.com/ but in my app, it doesn&#39;t work. There is my code:\r\n\r\n```java\r\npackage test;\r\n\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tString file = &quot;/tmp/wp-config.php&quot;;\r\n\t\tPath path = Paths.get(file);\r\n\t\tCharset charset = StandardCharsets.UTF_8;\r\n\r\n\t\ttry {\r\n\t\t\tString content = new String(Files.readAllBytes(path), charset);\r\n\t\t\tPattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;);\r\n\t\t\tMatcher mDbName = pDbName.matcher(content);\r\n\t\t\tif (mDbName.find()) {\r\n\t\t\t\tSystem.err.println(&quot;mDbName FOUND&quot;);\r\n\t\t\t\tcontent = mDbName.replaceAll(&quot;XXXXX$1&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;mDbName not found&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tFiles.write(path, content.getBytes(charset));\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```\r\nThe output should be:\r\n```php\r\ndefine( &#39;DB_NAME&#39;, &#39;abXXXXX&#39; );\r\n```\r\n\r\nApp can&#39;t match, I see &quot;mDbName not found&quot; on stderr.\r\n\r\nWhat I&#39;m doing bad?\r\n","title":"Replace string in file by regex capture/match group","body":"<p>I want to replace number in line using match/capture group:</p>\n<pre class=\"lang-php prettyprint-override\"><code>define( 'DB_NAME', 'ab20002' );\n</code></pre>\n<p>it's <code>wp-config.php</code>.</p>\n<p>I have regex <code>^define.+DB_NAME.+ab([0-9]{5}).*</code> that works on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> but in my app, it doesn't work. There is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String file = &quot;/tmp/wp-config.php&quot;;\n        Path path = Paths.get(file);\n        Charset charset = StandardCharsets.UTF_8;\n\n        try {\n            String content = new String(Files.readAllBytes(path), charset);\n            Pattern pDbName = Pattern.compile(&quot;^define.+DB_NAME.+ab([0-9]{5}).*&quot;);\n            Matcher mDbName = pDbName.matcher(content);\n            if (mDbName.find()) {\n                System.err.println(&quot;mDbName FOUND&quot;);\n                content = mDbName.replaceAll(&quot;XXXXX$1&quot;);\n            } else {\n                System.err.println(&quot;mDbName not found&quot;);\n            }\n\n            Files.write(path, content.getBytes(charset));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>The output should be:</p>\n<pre class=\"lang-php prettyprint-override\"><code>define( 'DB_NAME', 'abXXXXX' );\n</code></pre>\n<p>App can't match, I see &quot;mDbName not found&quot; on stderr.</p>\n<p>What I'm doing bad?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-sqs","amazon-kinesis"],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682452349,"creation_date":1682452349,"question_id":76104923,"body_markdown":"I have a `lambda` which has `eventsource` as `KDS`. Since `Lambda` receives the `KDS` records as a `batch`, I have implemented the `StreamEventResponse` mentioned [here][1] to return the failed record for `retry`. After retries are exhausted I am sending the failed records to `SQS` as failure destination. \r\n\r\nNow as per the [doc][2], only the metadata of the `kdsbatch` is sent to SQS. So I am trying to fetch KDS details using `shardId` and `sequencenumber` details mentioned in the `SQSEvent`. Lets say in a batch of records with sequencenumbers `A,B,C,D`, `B and C` records `fail` and are sent to SQS. SQSEvent will have 2 records each with `startsequencenumber=A` and `endsequencenumber=D`. Now how do I find out records `B and C` from KDS since I dont have their sequencenumber in the SQSEvent in the first place. I only have start and end sequence numbers of the entire batch. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/with-kinesis.html#services-kinesis-batchfailurereporting\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/with-kinesis.html#services-kinesis-errors\r\n\r\n\r\n**Below is Example SQS Event**\r\n\r\n    {\r\n        &quot;requestContext&quot;: {\r\n            &quot;requestId&quot;: &quot;c9b8fa9f-5a7f-xmpl-af9c-0c604cde93a5&quot;,\r\n            &quot;functionArn&quot;: &quot;arn:aws:lambda:us-east-2:123456789012:function:myfunction&quot;,\r\n            &quot;condition&quot;: &quot;RetryAttemptsExhausted&quot;,\r\n            &quot;approximateInvokeCount&quot;: 1\r\n        },\r\n        &quot;responseContext&quot;: {\r\n            &quot;statusCode&quot;: 200,\r\n            &quot;executedVersion&quot;: &quot;$LATEST&quot;,\r\n            &quot;functionError&quot;: &quot;Unhandled&quot;\r\n        },\r\n        &quot;version&quot;: &quot;1.0&quot;,\r\n        &quot;timestamp&quot;: &quot;2019-11-14T00:38:06.021Z&quot;,\r\n        &quot;KinesisBatchInfo&quot;: {\r\n            &quot;shardId&quot;: &quot;shardId-000000000001&quot;,\r\n            &quot;startSequenceNumber&quot;: &quot;A&quot;,\r\n            &quot;endSequenceNumber&quot;: &quot;D&quot;,\r\n            &quot;approximateArrivalOfFirstRecord&quot;: &quot;2019-11-14T00:38:04.835Z&quot;,\r\n            &quot;approximateArrivalOfLastRecord&quot;: &quot;2019-11-14T00:38:05.580Z&quot;,\r\n            &quot;batchSize&quot;: 4,\r\n            &quot;streamArn&quot;: &quot;arn:aws:kinesis:us-east-2:123456789012:stream/mystream&quot;\r\n        }\r\n    }","title":"Read kinesis records using startsequencenumber and endsequencenumber in the SQS Event of failure","body":"<p>I have a <code>lambda</code> which has <code>eventsource</code> as <code>KDS</code>. Since <code>Lambda</code> receives the <code>KDS</code> records as a <code>batch</code>, I have implemented the <code>StreamEventResponse</code> mentioned <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-kinesis.html#services-kinesis-batchfailurereporting\" rel=\"nofollow noreferrer\">here</a> to return the failed record for <code>retry</code>. After retries are exhausted I am sending the failed records to <code>SQS</code> as failure destination.</p>\n<p>Now as per the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-kinesis.html#services-kinesis-errors\" rel=\"nofollow noreferrer\">doc</a>, only the metadata of the <code>kdsbatch</code> is sent to SQS. So I am trying to fetch KDS details using <code>shardId</code> and <code>sequencenumber</code> details mentioned in the <code>SQSEvent</code>. Lets say in a batch of records with sequencenumbers <code>A,B,C,D</code>, <code>B and C</code> records <code>fail</code> and are sent to SQS. SQSEvent will have 2 records each with <code>startsequencenumber=A</code> and <code>endsequencenumber=D</code>. Now how do I find out records <code>B and C</code> from KDS since I dont have their sequencenumber in the SQSEvent in the first place. I only have start and end sequence numbers of the entire batch.</p>\n<p><strong>Below is Example SQS Event</strong></p>\n<pre><code>{\n    &quot;requestContext&quot;: {\n        &quot;requestId&quot;: &quot;c9b8fa9f-5a7f-xmpl-af9c-0c604cde93a5&quot;,\n        &quot;functionArn&quot;: &quot;arn:aws:lambda:us-east-2:123456789012:function:myfunction&quot;,\n        &quot;condition&quot;: &quot;RetryAttemptsExhausted&quot;,\n        &quot;approximateInvokeCount&quot;: 1\n    },\n    &quot;responseContext&quot;: {\n        &quot;statusCode&quot;: 200,\n        &quot;executedVersion&quot;: &quot;$LATEST&quot;,\n        &quot;functionError&quot;: &quot;Unhandled&quot;\n    },\n    &quot;version&quot;: &quot;1.0&quot;,\n    &quot;timestamp&quot;: &quot;2019-11-14T00:38:06.021Z&quot;,\n    &quot;KinesisBatchInfo&quot;: {\n        &quot;shardId&quot;: &quot;shardId-000000000001&quot;,\n        &quot;startSequenceNumber&quot;: &quot;A&quot;,\n        &quot;endSequenceNumber&quot;: &quot;D&quot;,\n        &quot;approximateArrivalOfFirstRecord&quot;: &quot;2019-11-14T00:38:04.835Z&quot;,\n        &quot;approximateArrivalOfLastRecord&quot;: &quot;2019-11-14T00:38:05.580Z&quot;,\n        &quot;batchSize&quot;: 4,\n        &quot;streamArn&quot;: &quot;arn:aws:kinesis:us-east-2:123456789012:stream/mystream&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","mapbox","mapbox-android"],"owner":{"account_id":25275566,"reputation":1,"user_id":19104262,"display_name":"PascalP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682452290,"creation_date":1682452290,"question_id":76104914,"body_markdown":"I try to use the latest version of the java SDK on the maven repository as documented on these pages :\r\nhttps://docs.mapbox.com/android/maps/guides/install/\r\nhttps://docs.mapbox.com/android/java/guides/install/\r\n\r\nI always get Unauthorized (401) error when running `mvn clean package`\r\n\r\n```\r\n[ERROR] Failed to execute goal on project : Could not resolve dependencies for project\r\nproject:jar:1.0: \r\nFailed to collect dependencies at com.mapbox.mapboxsdk:mapbox-sdk-services:jar:6.11.0: \r\nFailed to read artifact descriptor for com.mapbox.mapboxsdk:mapbox-sdk-services:jar:6.11.0: \r\nThe following artifacts could not be resolved: com.mapbox.mapboxsdk:mapbox-sdk-services:pom:6.11.0 (absent): \r\nCould not transfer artifact com.mapbox.mapboxsdk:mapbox-sdk-services:pom:6.11.0 from/to mapbox (https://api.mapbox.com/downloads/v2/releases/maven): status code: 401, \r\nreason phrase: Unauthorized (401) -&gt; [Help 1]\r\n```\r\n\r\n# Project configuration\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.group1&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project1&lt;/artifactId&gt;\r\n    &lt;name&gt;Project Name&lt;/name&gt;\r\n    &lt;description&gt;Project description&lt;/description&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mapbox.mapboxsdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapbox-sdk-services&lt;/artifactId&gt;\r\n            &lt;version&gt;6.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mapbox.mapboxsdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapbox-sdk-turf&lt;/artifactId&gt;\r\n            &lt;version&gt;6.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;finalName&gt;jar-with-dependencies&lt;/finalName&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;launchClass&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**settings.xml**\r\n\r\n```\r\n&lt;settings&gt;\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;mapbox&lt;/id&gt;\r\n            &lt;username&gt;mapbox&lt;/username&gt;\r\n            &lt;password&gt;[Token generated on my mapbox account]&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nI don&#39;t find any documentation concerning this configuration.\r\n\r\nThanks you","title":"Mapbox SDK : Unable to authenticate (401) to maven repository for my java project","body":"<p>I try to use the latest version of the java SDK on the maven repository as documented on these pages :\n<a href=\"https://docs.mapbox.com/android/maps/guides/install/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/maps/guides/install/</a>\n<a href=\"https://docs.mapbox.com/android/java/guides/install/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/java/guides/install/</a></p>\n<p>I always get Unauthorized (401) error when running <code>mvn clean package</code></p>\n<pre><code>[ERROR] Failed to execute goal on project : Could not resolve dependencies for project\nproject:jar:1.0: \nFailed to collect dependencies at com.mapbox.mapboxsdk:mapbox-sdk-services:jar:6.11.0: \nFailed to read artifact descriptor for com.mapbox.mapboxsdk:mapbox-sdk-services:jar:6.11.0: \nThe following artifacts could not be resolved: com.mapbox.mapboxsdk:mapbox-sdk-services:pom:6.11.0 (absent): \nCould not transfer artifact com.mapbox.mapboxsdk:mapbox-sdk-services:pom:6.11.0 from/to mapbox (https://api.mapbox.com/downloads/v2/releases/maven): status code: 401, \nreason phrase: Unauthorized (401) -&gt; [Help 1]\n</code></pre>\n<h1>Project configuration</h1>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.group1&lt;/groupId&gt;\n    &lt;artifactId&gt;project1&lt;/artifactId&gt;\n    &lt;name&gt;Project Name&lt;/name&gt;\n    &lt;description&gt;Project description&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mapbox.mapboxsdk&lt;/groupId&gt;\n            &lt;artifactId&gt;mapbox-sdk-services&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mapbox.mapboxsdk&lt;/groupId&gt;\n            &lt;artifactId&gt;mapbox-sdk-turf&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;finalName&gt;jar-with-dependencies&lt;/finalName&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;launchClass&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>settings.xml</strong></p>\n<pre><code>&lt;settings&gt;\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;mapbox&lt;/id&gt;\n            &lt;username&gt;mapbox&lt;/username&gt;\n            &lt;password&gt;[Token generated on my mapbox account]&lt;/password&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>I don't find any documentation concerning this configuration.</p>\n<p>Thanks you</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":9532102,"reputation":6466,"user_id":7083401,"accept_rate":100,"display_name":"ice1000"},"score":4,"creation_date":1521967053,"post_id":4962416,"comment_id":85950285,"body_markdown":"It&#39;s a pity that `JComboBox` has a generic parameter but `getSelectedItem` is not using it,","body":"It&#39;s a pity that <code>JComboBox</code> has a generic parameter but <code>getSelectedItem</code> is not using it,"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1297370900,"creation_date":1297370551,"answer_id":4962444,"question_id":4962416,"body_markdown":"If you have only put (non-null) `String` references in the JComboBox, then either way is fine.\r\n\r\nHowever, the first solution would also allow for future modifications in which you insert `Integer`s, `Doubles`s, `LinkedList`s etc. as items in the combo box.\r\n\r\nTo be robust against `null` values (still without casting) you may consider a third option:\r\n\r\n    String x = String.valueOf(JComboBox.getSelectedItem());\r\n","title":"Preferred way of getting the selected item of a JComboBox","body":"<p>If you have only put (non-null) <code>String</code> references in the JComboBox, then either way is fine.</p>\n\n<p>However, the first solution would also allow for future modifications in which you insert <code>Integer</code>s, <code>Doubles</code>s, <code>LinkedList</code>s etc. as items in the combo box.</p>\n\n<p>To be robust against <code>null</code> values (still without casting) you may consider a third option:</p>\n\n<pre><code>String x = String.valueOf(JComboBox.getSelectedItem());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":276572,"reputation":5365,"user_id":570081,"accept_rate":100,"display_name":"James"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1297370638,"creation_date":1297370638,"answer_id":4962456,"question_id":4962416,"body_markdown":"The first method is right.\r\n\r\nThe second method kills kittens if you attempt to do anything with `x` after the fact other than `Object` methods.","title":"Preferred way of getting the selected item of a JComboBox","body":"<p>The first method is right.</p>\n\n<p>The second method kills kittens if you attempt to do anything with <code>x</code> after the fact other than <code>Object</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":242394,"reputation":4585,"user_id":513872,"accept_rate":70,"display_name":"Mike Yockey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297370654,"creation_date":1297370654,"answer_id":4962457,"question_id":4962416,"body_markdown":"Don&#39;t cast unless you must. There&#39;s nothign wrong with calling toString().","title":"Preferred way of getting the selected item of a JComboBox","body":"<p>Don't cast unless you must. There's nothign wrong with calling toString().</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1449103280,"creation_date":1297372196,"answer_id":4962721,"question_id":4962416,"body_markdown":"Note this isn&#39;t at heart a question about JComboBox, but about any collection that can include multiple types of objects. The same could be said for &quot;How do I get a String out of a List?&quot; or &quot;How do I get a `String` out of an `Object[]`?&quot;","title":"Preferred way of getting the selected item of a JComboBox","body":"<p>Note this isn't at heart a question about JComboBox, but about any collection that can include multiple types of objects. The same could be said for \"How do I get a String out of a List?\" or \"How do I get a <code>String</code> out of an <code>Object[]</code>?\"</p>\n"},{"tags":[],"owner":{"account_id":967432,"reputation":342,"user_id":990605,"display_name":"androminor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482796796,"creation_date":1475147902,"answer_id":39768815,"question_id":4962416,"body_markdown":"    String x = JComboBox.getSelectedItem().toString();\r\nwill convert any value weather it is Integer, Double, Long, Short into text\r\non the other hand, \r\n\r\n    String x = String.valueOf(JComboBox.getSelectedItem());\r\n\r\nwill avoid null values, and convert the selected item from object to string","title":"Preferred way of getting the selected item of a JComboBox","body":"<pre><code>String x = JComboBox.getSelectedItem().toString();\n</code></pre>\n\n<p>will convert any value weather it is Integer, Double, Long, Short into text\non the other hand, </p>\n\n<pre><code>String x = String.valueOf(JComboBox.getSelectedItem());\n</code></pre>\n\n<p>will avoid null values, and convert the selected item from object to string</p>\n"},{"tags":[],"owner":{"account_id":9511079,"reputation":1,"user_id":7068992,"display_name":"RamKrishna Thapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489271007,"creation_date":1482568164,"answer_id":41311645,"question_id":4962416,"body_markdown":"    JComboBox mycombo=new JComboBox(); //Creates mycombo JComboBox.\r\n    add(mycombo); //Adds it to the jframe.\r\n\r\n    mycombo.addItem(&quot;Hello Nepal&quot;);  //Adds data to the JComboBox.\r\n    \r\n    String s=String.valueOf(mycombo.getSelectedItem());  //Assigns &quot;Hello Nepal&quot; to s.\r\n\r\n    System.out.println(s);  //Prints &quot;Hello Nepal&quot;.\r\n\r\n","title":"Preferred way of getting the selected item of a JComboBox","body":"<pre><code>JComboBox mycombo=new JComboBox(); //Creates mycombo JComboBox.\nadd(mycombo); //Adds it to the jframe.\n\nmycombo.addItem(\"Hello Nepal\");  //Adds data to the JComboBox.\n\nString s=String.valueOf(mycombo.getSelectedItem());  //Assigns \"Hello Nepal\" to s.\n\nSystem.out.println(s);  //Prints \"Hello Nepal\".\n</code></pre>\n"}],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151110,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":4962444,"answer_count":6,"score":34,"last_activity_date":1682452289,"creation_date":1297370456,"question_id":4962416,"body_markdown":"HI,\r\n\r\nWhich is the correct way to get the value from a JComboBox as a String and why is it the correct way. Thanks.\r\n\r\n\r\n    String x = JComboBox.getSelectedItem().toString();\r\n\r\nor\r\n\r\n    String x = (String)JComboBox.getSelectedItem();\r\n\r\n\r\n","title":"Preferred way of getting the selected item of a JComboBox","body":"<p>HI,</p>\n\n<p>Which is the correct way to get the value from a JComboBox as a String and why is it the correct way. Thanks.</p>\n\n<pre><code>String x = JComboBox.getSelectedItem().toString();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>String x = (String)JComboBox.getSelectedItem();\n</code></pre>\n"},{"tags":["java","spring","ssl","broadleaf-commerce","usps"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678512593,"post_id":75701192,"comment_id":133551116,"body_markdown":"(corrected) It&#39;s not about &#39;answering&#39; CCS; in 1.3 CCS is ignored by the protocol, but often sent anyway to work-around broken middleboxes; see rfc8446 D.4. However the several Java&#39;s I can quickly test DO send it as client, although looking at the source I didn&#39;t see where it does so. Exactly what Java are you running? Can you capture the working local-Java case and see if/how it looks different?","body":"(corrected) It&#39;s not about &#39;answering&#39; CCS; in 1.3 CCS is ignored by the protocol, but often sent anyway to work-around broken middleboxes; see rfc8446 D.4. However the several Java&#39;s I can quickly test DO send it as client, although looking at the source I didn&#39;t see where it does so. Exactly what Java are you running? Can you capture the working local-Java case and see if/how it looks different?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678518363,"post_id":75701192,"comment_id":133551641,"body_markdown":"(added) okay, with some further work I mangaged to test the case with HelloRetry (which before I didn&#39;t) and in this case JSSE client does NOT send CCS on second flight (with tweaked Hello) as recommended, it sends it on _third_ flight (with Finished). This at least makes your capture consistent with my results, which is less alarming. The USPS server _could_ be failing for this reason, although it _shouldn&#39;t_, because this is _allowed_ by the rfc though not recommended. But it doesn&#39;t explain how the local-Java to USPS case succeeds, so I would still like to see that.","body":"(added) okay, with some further work I mangaged to test the case with HelloRetry (which before I didn&#39;t) and in this case JSSE client does NOT send CCS on second flight (with tweaked Hello) as recommended, it sends it on <i>third</i> flight (with Finished). This at least makes your capture consistent with my results, which is less alarming. The USPS server <i>could</i> be failing for this reason, although it <i>shouldn&#39;t</i>, because this is <i>allowed</i> by the rfc though not recommended. But it doesn&#39;t explain how the local-Java to USPS case succeeds, so I would still like to see that."},{"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"score":0,"creation_date":1682452104,"post_id":75701192,"comment_id":134217376,"body_markdown":"Thanks @dave_thompson_085, I&#39;ll have to revert and run again to capture those logs.","body":"Thanks @dave_thompson_085, I&#39;ll have to revert and run again to capture those logs."}],"answers":[{"tags":[],"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682452219,"creation_date":1682451795,"answer_id":76104853,"question_id":75701192,"body_markdown":"Turns out that Java 11 and TLS 1.3 have a history (see [this][1] and [this][2] among others). I ended up restricting the app to only use TLS 1.2 and the issue was resolved. USPS is the only API we&#39;re using currently that supports TLS 1.3 and hence why it was the only call failing.\r\n\r\n```\r\njava -jar -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 app.jar\r\n```\r\n\r\nUltimately, this is not a satisfying answer (and not accepted) because these issues are old (and for older versions of Java 11) and there must be a version that works by this point. \r\n\r\nAlso, this explanation/solution does not square with the fact that the same docker image works locally but not remotely (the Java / Spring Boot versions would be identical). It also is just kicking the can down the road until TLS 1.3 becomes mandatory. We plan to migrate to Java 17 by EoY so hopefully support is better with that version of Java and associated dependencies.\r\n\r\nI will update the answer (or accept a competitor) if/when I find a more satisfactory solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60955206/java-11-sslhandshakeexception-with-tls-1-3-how-do-i-revert-to-tls-1-2\r\n  [2]: https://jira.atlassian.com/browse/BSERV-12374","title":"Spring RestTemplate call fails SSL Handshake with USPS","body":"<p>Turns out that Java 11 and TLS 1.3 have a history (see <a href=\"https://stackoverflow.com/questions/60955206/java-11-sslhandshakeexception-with-tls-1-3-how-do-i-revert-to-tls-1-2\">this</a> and <a href=\"https://jira.atlassian.com/browse/BSERV-12374\" rel=\"nofollow noreferrer\">this</a> among others). I ended up restricting the app to only use TLS 1.2 and the issue was resolved. USPS is the only API we're using currently that supports TLS 1.3 and hence why it was the only call failing.</p>\n<pre><code>java -jar -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 app.jar\n</code></pre>\n<p>Ultimately, this is not a satisfying answer (and not accepted) because these issues are old (and for older versions of Java 11) and there must be a version that works by this point.</p>\n<p>Also, this explanation/solution does not square with the fact that the same docker image works locally but not remotely (the Java / Spring Boot versions would be identical). It also is just kicking the can down the road until TLS 1.3 becomes mandatory. We plan to migrate to Java 17 by EoY so hopefully support is better with that version of Java and associated dependencies.</p>\n<p>I will update the answer (or accept a competitor) if/when I find a more satisfactory solution.</p>\n"}],"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682452219,"creation_date":1678483845,"question_id":75701192,"body_markdown":"We have a service that makes a REST call to the USPS address validation service. We recently upgraded to a new version of our e-commerce framework (Broadleaf Commerce) with associated updates to Spring Boot and Java version. Since the upgrade, we are no longer able to connect to the USPS service. We fail as the SSL Handshake does not complete (seems the change cipher request is never answered). The existing production version of the code works as-is.\r\n\r\nThe weird part is that it works locally and if I make a cURL request from the target server, it works. But when I make the call from the application on the target server, it does not complete the handshake.\r\n\r\nI have been searching the internet and stack overflow for answers but have not found one that fixes my issues. Here are the troubleshooting steps I have followed to date:\r\n1. I have tested the code locally and the USPS call works\r\n2. I have tested the server firewall / networking by executing a cURL command from the server. It worked as expected (TLS was negotiated properly)\r\n1. I dockerized the application to validate that the java versions and Java Trust Store certificates were consistent across environments. The dockerized application works on my local machine, it fails on the target machines with the same SSL Handshake errors.\r\n1. I have tested another REST call to another SSL secured endpoint. It worked properly. The differences between it and the USPS call are (1) the second endpoint is internal to our network and (2) the internal endpoint uses TLS 1.2, USPS uses TLS 1.3. Both are supported by the application per the logs.\r\n1. I attempted to force the JVM supported TLS versions using the `jdk.tls.client.protocols` and `https.protocols` properties. This had no effect (which was expected as TLS 1.2 and 1.3 are the current defaults).\r\n1. I have done a WireShark trace on both the cURL command and the Application call. WireShark shows cURL negotiating the Handshake properly. For the app, it seems that the request to change ciphers is never answered.\r\n1. I have verified with USPS that they have not blocked our IPs or anything like that.\r\n\r\nI am out of ideas of what to test to identify the root cause of the issue. Doesn&#39;t seem to be code-related (the code works locally), it doesn&#39;t seem to be server network/firewall related (cURL works on the server). \r\n\r\nWhat is left? What am I missing?\r\n\r\nError Message:\r\n```\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://stg-secure.shippingapis.com/ShippingAPI.dll&quot;: Remote host terminated the handshake; nested exception is javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n```\r\n\r\nRestCall Code:\r\n```\r\n@Value(&quot;${usps.addressValidation.url}&quot;)\r\nprivate String url;\r\n\r\nprivate ResponseEntity&lt;String&gt; callUsps() {\r\nMap&lt;String, String&gt; uriVariables = new HashMap&lt;&gt;();\r\n    uriVariables.put(&quot;userId&quot;, apiKey);\r\n    ... more variables ...\r\n\r\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, null, String.class, uriVariables);\r\n}\r\n```\r\n\r\nRestTemplate config:\r\n```\r\n@Bean\r\npublic RestTemplate restTemplate() {\r\n\tRestTemplate restTemplate = new RestTemplate();\r\n\trestTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory()); // HttpComponents added for debug logging purposes, originally it was stock rest template\r\n\treturn restTemplate;\r\n}\r\n```\r\n\r\nLog output:\r\n```\r\n2023-03-09 20:43:39.007 DEBUG 1 --- [io-8080-exec-11] o.s.web.client.RestTemplate              : HTTP POST https://stg-secure.shippingapis.com/ShippingAPI.dll?API=Verify&amp;XML=%3CAddressValidateRequest%20USERID%3D%22&lt;userId&gt;%22%20PASSWORD%3D%22&lt;password&gt;%22%3E%3CRevision%3E1%3C/Revision%3E%3CAddress%20ID%3D%220%22%3E%3CAddress1%3E%3C/Address1%3E%3CAddress2%3E&lt;Address&gt;%3C/Address2%3E%3CCity%3E&lt;City&gt;%3C/City%3E%3CState%3E&lt;State&gt;%3C/State%3E%3CZip5%3E&lt;Zip&gt;%3C/Zip5%3E%3CZip4%3E%3C/Zip4%3E%3C/Address%3E%3C/AddressValidateRequest%3E\r\n2023-03-09 20:43:39.007 DEBUG 1 --- [io-8080-exec-11] o.s.web.client.RestTemplate              : Accept=[text/plain, application/xml, text/xml, application/json, application/x-jackson-smile, application/*+xml, application/*+json, */*]\r\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] o.a.h.client.protocol.RequestAddCookies  : CookieSpec selected: default\r\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] o.a.h.client.protocol.RequestAuthCache   : Auth cache not set in the context\r\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] h.i.c.PoolingHttpClientConnectionManager : Connection request: [route: {s}-&gt;https://stg-secure.shippingapis.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 10]\r\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] h.i.c.PoolingHttpClientConnectionManager : Connection leased: [id: 4][route: {s}-&gt;https://stg-secure.shippingapis.com:443][total available: 1; route allocated: 1 of 5; total allocated: 2 of 10]\r\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] o.a.http.impl.execchain.MainClientExec   : Opening connection {s}-&gt;https://stg-secure.shippingapis.com:443\r\n2023-03-09 20:43:39.047 DEBUG 1 --- [io-8080-exec-11] .i.c.DefaultHttpClientConnectionOperator : Connecting to stg-secure.shippingapis.com/72.21.81.70:443\r\n2023-03-09 20:43:39.047 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Connecting socket to stg-secure.shippingapis.com/72.21.81.70:443 with timeout 0\r\n2023-03-09 20:43:39.070 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Enabled protocols: [TLSv1.3, TLSv1.2]\r\n2023-03-09 20:43:39.071 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Enabled cipher suites:[TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n2023-03-09 20:43:39.071 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Starting handshake\r\n2023-03-09 20:44:19.722 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\r\n2023-03-09 20:44:19.722 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\r\n2023-03-09 20:44:19.723 DEBUG 1 --- [nection evictor] h.i.c.DefaultManagedHttpClientConnection : http-outgoing-1: Close connection\r\n2023-03-09 20:44:19.723 DEBUG 1 --- [nection evictor] h.i.c.DefaultManagedHttpClientConnection : http-outgoing-0: Close connection\r\n2023-03-09 20:44:19.731 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\r\n2023-03-09 20:44:19.731 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\r\n2023-03-09 20:44:25.397 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\r\n2023-03-09 20:44:25.397 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\r\n2023-03-09 20:44:25.401 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\r\n2023-03-09 20:44:25.402 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\r\n2023-03-09 20:44:39.520 DEBUG 1 --- [io-8080-exec-11] h.i.c.DefaultManagedHttpClientConnection : http-outgoing-4: Shutdown connection\r\n2023-03-09 20:44:39.520 DEBUG 1 --- [io-8080-exec-11] o.a.http.impl.execchain.MainClientExec   : Connection discarded\r\n2023-03-09 20:44:39.520 DEBUG 1 --- [io-8080-exec-11] h.i.c.PoolingHttpClientConnectionManager : Connection released: [id: 4][route: {s}-&gt;https://stg-secure.shippingapis.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 10]\r\n2023-03-09 20:44:39.521 ERROR 1 --- [io-8080-exec-11] b.c.b.s.v.a.AddressValidationServiceImpl : Exception while validating address.\r\n2023-03-09 20:44:39.527 ERROR 1 --- [io-8080-exec-11] b.c.b.s.v.a.AddressValidationServiceImpl : Root exception: \r\n\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://stg-secure.shippingapis.com/ShippingAPI.dll&quot;: Remote host terminated the handshake; nested exception is javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:732)\r\n\tat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:477)\r\n\tat company.commerce.broadleaf.wsclient.usps.service.UspsAddressValidationServiceClientImpl.callUsps(UspsAddressValidationServiceClientImpl.java:76)\r\n\tat company.commerce.broadleaf.wsclient.usps.service.UspsAddressValidationServiceClientImpl.validateAddress(UspsAddressValidationServiceClientImpl.java:62)\r\n\tat company.commerce.broadleaf.service.validation.address.AddressValidationServiceImpl.standardizeAddress(AddressValidationServiceImpl.java:85)\r\n\tat company.commerce.broadleaf.controller.account.AddressVerificationController.validateShippingAddress(AddressVerificationController.java:40)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n...\r\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1697)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1515)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1417)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n\t... 201 common frames omitted\r\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1507)\r\n\t... 220 common frames omitted\r\n```\r\n\r\nWireShark Output (failed call from Java app):\r\n```\r\nNo.     Time           Source                Destination           Protocol Length Info\r\n      1 0.000000       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      74     49116 → 443 [SYN] Seq=0 Win=64240 Len=0 MSS=1460 SACK_PERM TSval=2640145959 TSecr=0 WS=128\r\n      2 0.023028       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      74     443 → 49116 [SYN, ACK] Seq=0 Ack=1 Win=65535 Len=0 MSS=1380 SACK_PERM TSval=3604861692 TSecr=2640145959 WS=512\r\n      3 0.023028       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     49116 → 443 [ACK] Seq=1 Ack=1 Win=64256 Len=0 TSval=2640145982 TSecr=3604861692\r\n      4 0.023836       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  481    Client Hello\r\n      5 0.024180       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 49116 [ACK] Seq=1 Ack=416 Win=32768 Len=0 TSval=3604861692 TSecr=2640145982\r\n      6 0.047150       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  159    Hello Retry Request\r\n      7 0.047151       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  72     Change Cipher Spec\r\n      8 0.047151       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     49116 → 443 [ACK] Seq=416 Ack=94 Win=64256 Len=0 TSval=2640146006 TSecr=3604861715\r\n      9 0.047175       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     49116 → 443 [ACK] Seq=416 Ack=100 Win=64256 Len=0 TSval=2640146006 TSecr=3604861715\r\n     10 0.048275       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  514    Client Hello\r\n     11 0.048280       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 49116 [ACK] Seq=100 Ack=864 Win=32256 Len=0 TSval=3604861716 TSecr=2640146007\r\n```\r\n\r\nWireShark Output (successful call from cURL):\r\n```\r\nNo.     Time           Source                Destination           Protocol Length Info\r\n      1 0.000000       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      74     58184 → 443 [SYN] Seq=0 Win=64240 Len=0 MSS=1460 SACK_PERM TSval=3286965270 TSecr=0 WS=128\r\n      2 0.023011       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      74     443 → 58184 [SYN, ACK] Seq=0 Ack=1 Win=65535 Len=0 MSS=1380 SACK_PERM TSval=401053718 TSecr=3286965270 WS=512\r\n      3 0.023011       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1 Ack=1 Win=64256 Len=0 TSval=3286965293 TSecr=401053718\r\n      4 0.029806       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  583    Client Hello\r\n      5 0.030079       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=1 Ack=518 Win=32768 Len=0 TSval=401053718 TSecr=3286965300\r\n      6 0.252624       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  159    Hello Retry Request\r\n      7 0.252625       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  72     Change Cipher Spec\r\n      8 0.252625       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=518 Ack=94 Win=64256 Len=0 TSval=3286965523 TSecr=401053941\r\n      9 0.252625       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=518 Ack=100 Win=64256 Len=0 TSval=3286965523 TSecr=401053941\r\n     10 0.252852       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  589    Change Cipher Spec, Client Hello\r\n     11 0.252853       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=100 Ack=1041 Win=31744 Len=0 TSval=401053941 TSecr=3286965523\r\n     12 0.277201       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1434   Server Hello, Application Data\r\n     13 0.277203       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      1434   443 → 58184 [PSH, ACK] Seq=1468 Ack=1041 Win=68096 Len=1368 TSval=401053972 TSecr=3286965523 [TCP segment of a reassembled PDU]\r\n     14 0.277269       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1354   Application Data, Application Data, Application Data\r\n     15 0.277271       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1041 Ack=4124 Win=62592 Len=0 TSval=3286965547 TSecr=401053972\r\n     16 0.278039       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  140    Application Data\r\n     17 0.278385       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  112    Application Data\r\n     18 0.278385       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  115    Application Data\r\n     19 0.278386       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  101    Application Data\r\n     20 0.278386       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  414    Application Data\r\n     21 0.300775       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=4124 Ack=1115 Win=68096 Len=0 TSval=401053996 TSecr=3286965548\r\n     22 0.300776       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\r\n     23 0.300776       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\r\n     24 0.300777       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  162    Application Data, Application Data\r\n     25 0.300828       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  97     Application Data\r\n     26 0.301368       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=4730 Ack=1593 Win=69120 Len=0 TSval=401053997 TSecr=3286965548\r\n     27 0.301724       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  97     Application Data\r\n     28 0.343705       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1624 Ack=4761 Win=64128 Len=0 TSval=3286965614 TSecr=401053997\r\n     29 0.364919       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=4761 Ack=1624 Win=69120 Len=0 TSval=401054060 TSecr=3286965571\r\n     30 0.365596       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  849    Application Data, Application Data, Application Data\r\n     31 0.365600       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1624 Ack=5544 Win=64128 Len=0 TSval=3286965636 TSecr=401054061\r\n     32 0.365952       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  90     Application Data\r\n     33 0.366549       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [FIN, ACK] Seq=1648 Ack=5544 Win=64128 Len=0 TSval=3286965637 TSecr=401054061\r\n     34 0.388421       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=5544 Ack=1648 Win=69120 Len=0 TSval=401054084 TSecr=3286965636\r\n     35 0.388421       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  90     Application Data\r\n     36 0.388421       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [FIN, ACK] Seq=5568 Ack=1648 Win=69120 Len=0 TSval=401054084 TSecr=3286965636\r\n     37 0.388422       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58184 → 443 [RST] Seq=1648 Win=0 Len=0\r\n     38 0.388422       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58184 → 443 [RST] Seq=1648 Win=0 Len=0\r\n     39 80.823845      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      74     58192 → 443 [SYN] Seq=0 Win=64240 Len=0 MSS=1460 SACK_PERM TSval=3287046092 TSecr=0 WS=128\r\n     40 80.846555      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      74     443 → 58192 [SYN, ACK] Seq=0 Ack=1 Win=65535 Len=0 MSS=1380 SACK_PERM TSval=472250826 TSecr=3287046092 WS=512\r\n     41 80.846556      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=1 Ack=1 Win=64256 Len=0 TSval=3287046115 TSecr=472250826\r\n     42 80.853620      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  583    Client Hello\r\n     43 80.854172      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=1 Ack=518 Win=32768 Len=0 TSval=472250826 TSecr=3287046122\r\n     44 80.876813      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  159    Hello Retry Request\r\n     45 80.876818      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=518 Ack=94 Win=64256 Len=0 TSval=3287046145 TSecr=472250848\r\n     46 80.876818      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  72     Change Cipher Spec\r\n     47 80.876818      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=518 Ack=100 Win=64256 Len=0 TSval=3287046145 TSecr=472250848\r\n     48 80.877240      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  589    Change Cipher Spec, Client Hello\r\n     49 80.877240      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=100 Ack=1041 Win=31744 Len=0 TSval=472250849 TSecr=3287046146\r\n     50 80.900887      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1434   Server Hello, Application Data\r\n     51 80.900888      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      1434   443 → 58192 [PSH, ACK] Seq=1468 Ack=1041 Win=68096 Len=1368 TSval=472250881 TSecr=3287046145 [TCP segment of a reassembled PDU]\r\n     52 80.900888      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1354   Application Data, Application Data, Application Data\r\n     53 80.901181      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=1041 Ack=4124 Win=62592 Len=0 TSval=3287046170 TSecr=472250881\r\n     54 80.902491      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  140    Application Data\r\n     55 80.903307      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  112    Application Data\r\n     56 80.903307      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  115    Application Data\r\n     57 80.903495      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  101    Application Data\r\n     58 80.903496      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  414    Application Data\r\n     59 80.924618      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4124 Ack=1115 Win=68096 Len=0 TSval=472250905 TSecr=3287046171\r\n     60 80.924630      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\r\n     61 80.924725      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\r\n     62 80.924725      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  162    Application Data, Application Data\r\n     63 80.925401      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4730 Ack=1210 Win=68096 Len=0 TSval=472250906 TSecr=3287046172\r\n     64 80.925401      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  97     Application Data\r\n     65 80.925649      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  97     Application Data\r\n     66 80.925817      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4761 Ack=1593 Win=69120 Len=0 TSval=472250906 TSecr=3287046172\r\n     67 80.987738      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4761 Ack=1624 Win=69120 Len=0 TSval=472250968 TSecr=3287046194\r\n     68 80.989877      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  849    Application Data, Application Data, Application Data\r\n     69 80.992126      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  90     Application Data\r\n     70 80.992648      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [FIN, ACK] Seq=1648 Ack=5544 Win=64128 Len=0 TSval=3287046261 TSecr=472250970\r\n     71 81.014173      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=5544 Ack=1648 Win=69120 Len=0 TSval=472250994 TSecr=3287046261\r\n     72 81.014173      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  90     Application Data\r\n     73 81.014173      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [FIN, ACK] Seq=5568 Ack=1648 Win=69120 Len=0 TSval=472250994 TSecr=3287046261\r\n     74 81.014313      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58192 → 443 [RST] Seq=1648 Win=0 Len=0\r\n     75 81.014314      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58192 → 443 [RST] Seq=1648 Win=0 Len=0\r\n```","title":"Spring RestTemplate call fails SSL Handshake with USPS","body":"<p>We have a service that makes a REST call to the USPS address validation service. We recently upgraded to a new version of our e-commerce framework (Broadleaf Commerce) with associated updates to Spring Boot and Java version. Since the upgrade, we are no longer able to connect to the USPS service. We fail as the SSL Handshake does not complete (seems the change cipher request is never answered). The existing production version of the code works as-is.</p>\n<p>The weird part is that it works locally and if I make a cURL request from the target server, it works. But when I make the call from the application on the target server, it does not complete the handshake.</p>\n<p>I have been searching the internet and stack overflow for answers but have not found one that fixes my issues. Here are the troubleshooting steps I have followed to date:</p>\n<ol>\n<li>I have tested the code locally and the USPS call works</li>\n<li>I have tested the server firewall / networking by executing a cURL command from the server. It worked as expected (TLS was negotiated properly)</li>\n<li>I dockerized the application to validate that the java versions and Java Trust Store certificates were consistent across environments. The dockerized application works on my local machine, it fails on the target machines with the same SSL Handshake errors.</li>\n<li>I have tested another REST call to another SSL secured endpoint. It worked properly. The differences between it and the USPS call are (1) the second endpoint is internal to our network and (2) the internal endpoint uses TLS 1.2, USPS uses TLS 1.3. Both are supported by the application per the logs.</li>\n<li>I attempted to force the JVM supported TLS versions using the <code>jdk.tls.client.protocols</code> and <code>https.protocols</code> properties. This had no effect (which was expected as TLS 1.2 and 1.3 are the current defaults).</li>\n<li>I have done a WireShark trace on both the cURL command and the Application call. WireShark shows cURL negotiating the Handshake properly. For the app, it seems that the request to change ciphers is never answered.</li>\n<li>I have verified with USPS that they have not blocked our IPs or anything like that.</li>\n</ol>\n<p>I am out of ideas of what to test to identify the root cause of the issue. Doesn't seem to be code-related (the code works locally), it doesn't seem to be server network/firewall related (cURL works on the server).</p>\n<p>What is left? What am I missing?</p>\n<p>Error Message:</p>\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://stg-secure.shippingapis.com/ShippingAPI.dll&quot;: Remote host terminated the handshake; nested exception is javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n</code></pre>\n<p>RestCall Code:</p>\n<pre><code>@Value(&quot;${usps.addressValidation.url}&quot;)\nprivate String url;\n\nprivate ResponseEntity&lt;String&gt; callUsps() {\nMap&lt;String, String&gt; uriVariables = new HashMap&lt;&gt;();\n    uriVariables.put(&quot;userId&quot;, apiKey);\n    ... more variables ...\n\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, null, String.class, uriVariables);\n}\n</code></pre>\n<p>RestTemplate config:</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate() {\n    RestTemplate restTemplate = new RestTemplate();\n    restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory()); // HttpComponents added for debug logging purposes, originally it was stock rest template\n    return restTemplate;\n}\n</code></pre>\n<p>Log output:</p>\n<pre><code>2023-03-09 20:43:39.007 DEBUG 1 --- [io-8080-exec-11] o.s.web.client.RestTemplate              : HTTP POST https://stg-secure.shippingapis.com/ShippingAPI.dll?API=Verify&amp;XML=%3CAddressValidateRequest%20USERID%3D%22&lt;userId&gt;%22%20PASSWORD%3D%22&lt;password&gt;%22%3E%3CRevision%3E1%3C/Revision%3E%3CAddress%20ID%3D%220%22%3E%3CAddress1%3E%3C/Address1%3E%3CAddress2%3E&lt;Address&gt;%3C/Address2%3E%3CCity%3E&lt;City&gt;%3C/City%3E%3CState%3E&lt;State&gt;%3C/State%3E%3CZip5%3E&lt;Zip&gt;%3C/Zip5%3E%3CZip4%3E%3C/Zip4%3E%3C/Address%3E%3C/AddressValidateRequest%3E\n2023-03-09 20:43:39.007 DEBUG 1 --- [io-8080-exec-11] o.s.web.client.RestTemplate              : Accept=[text/plain, application/xml, text/xml, application/json, application/x-jackson-smile, application/*+xml, application/*+json, */*]\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] o.a.h.client.protocol.RequestAddCookies  : CookieSpec selected: default\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] o.a.h.client.protocol.RequestAuthCache   : Auth cache not set in the context\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] h.i.c.PoolingHttpClientConnectionManager : Connection request: [route: {s}-&gt;https://stg-secure.shippingapis.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 10]\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] h.i.c.PoolingHttpClientConnectionManager : Connection leased: [id: 4][route: {s}-&gt;https://stg-secure.shippingapis.com:443][total available: 1; route allocated: 1 of 5; total allocated: 2 of 10]\n2023-03-09 20:43:39.008 DEBUG 1 --- [io-8080-exec-11] o.a.http.impl.execchain.MainClientExec   : Opening connection {s}-&gt;https://stg-secure.shippingapis.com:443\n2023-03-09 20:43:39.047 DEBUG 1 --- [io-8080-exec-11] .i.c.DefaultHttpClientConnectionOperator : Connecting to stg-secure.shippingapis.com/72.21.81.70:443\n2023-03-09 20:43:39.047 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Connecting socket to stg-secure.shippingapis.com/72.21.81.70:443 with timeout 0\n2023-03-09 20:43:39.070 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Enabled protocols: [TLSv1.3, TLSv1.2]\n2023-03-09 20:43:39.071 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Enabled cipher suites:[TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n2023-03-09 20:43:39.071 DEBUG 1 --- [io-8080-exec-11] o.a.h.c.ssl.SSLConnectionSocketFactory   : Starting handshake\n2023-03-09 20:44:19.722 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\n2023-03-09 20:44:19.722 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\n2023-03-09 20:44:19.723 DEBUG 1 --- [nection evictor] h.i.c.DefaultManagedHttpClientConnection : http-outgoing-1: Close connection\n2023-03-09 20:44:19.723 DEBUG 1 --- [nection evictor] h.i.c.DefaultManagedHttpClientConnection : http-outgoing-0: Close connection\n2023-03-09 20:44:19.731 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\n2023-03-09 20:44:19.731 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\n2023-03-09 20:44:25.397 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\n2023-03-09 20:44:25.397 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\n2023-03-09 20:44:25.401 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing expired connections\n2023-03-09 20:44:25.402 DEBUG 1 --- [nection evictor] h.i.c.PoolingHttpClientConnectionManager : Closing connections idle longer than 50000 MILLISECONDS\n2023-03-09 20:44:39.520 DEBUG 1 --- [io-8080-exec-11] h.i.c.DefaultManagedHttpClientConnection : http-outgoing-4: Shutdown connection\n2023-03-09 20:44:39.520 DEBUG 1 --- [io-8080-exec-11] o.a.http.impl.execchain.MainClientExec   : Connection discarded\n2023-03-09 20:44:39.520 DEBUG 1 --- [io-8080-exec-11] h.i.c.PoolingHttpClientConnectionManager : Connection released: [id: 4][route: {s}-&gt;https://stg-secure.shippingapis.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 10]\n2023-03-09 20:44:39.521 ERROR 1 --- [io-8080-exec-11] b.c.b.s.v.a.AddressValidationServiceImpl : Exception while validating address.\n2023-03-09 20:44:39.527 ERROR 1 --- [io-8080-exec-11] b.c.b.s.v.a.AddressValidationServiceImpl : Root exception: \n\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://stg-secure.shippingapis.com/ShippingAPI.dll&quot;: Remote host terminated the handshake; nested exception is javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:732)\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:477)\n    at company.commerce.broadleaf.wsclient.usps.service.UspsAddressValidationServiceClientImpl.callUsps(UspsAddressValidationServiceClientImpl.java:76)\n    at company.commerce.broadleaf.wsclient.usps.service.UspsAddressValidationServiceClientImpl.validateAddress(UspsAddressValidationServiceClientImpl.java:62)\n    at company.commerce.broadleaf.service.validation.address.AddressValidationServiceImpl.standardizeAddress(AddressValidationServiceImpl.java:85)\n    at company.commerce.broadleaf.controller.account.AddressVerificationController.validateShippingAddress(AddressVerificationController.java:40)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n...\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n    at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1697)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1515)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1417)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n    ... 201 common frames omitted\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1507)\n    ... 220 common frames omitted\n</code></pre>\n<p>WireShark Output (failed call from Java app):</p>\n<pre><code>No.     Time           Source                Destination           Protocol Length Info\n      1 0.000000       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      74     49116 → 443 [SYN] Seq=0 Win=64240 Len=0 MSS=1460 SACK_PERM TSval=2640145959 TSecr=0 WS=128\n      2 0.023028       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      74     443 → 49116 [SYN, ACK] Seq=0 Ack=1 Win=65535 Len=0 MSS=1380 SACK_PERM TSval=3604861692 TSecr=2640145959 WS=512\n      3 0.023028       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     49116 → 443 [ACK] Seq=1 Ack=1 Win=64256 Len=0 TSval=2640145982 TSecr=3604861692\n      4 0.023836       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  481    Client Hello\n      5 0.024180       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 49116 [ACK] Seq=1 Ack=416 Win=32768 Len=0 TSval=3604861692 TSecr=2640145982\n      6 0.047150       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  159    Hello Retry Request\n      7 0.047151       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  72     Change Cipher Spec\n      8 0.047151       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     49116 → 443 [ACK] Seq=416 Ack=94 Win=64256 Len=0 TSval=2640146006 TSecr=3604861715\n      9 0.047175       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     49116 → 443 [ACK] Seq=416 Ack=100 Win=64256 Len=0 TSval=2640146006 TSecr=3604861715\n     10 0.048275       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  514    Client Hello\n     11 0.048280       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 49116 [ACK] Seq=100 Ack=864 Win=32256 Len=0 TSval=3604861716 TSecr=2640146007\n</code></pre>\n<p>WireShark Output (successful call from cURL):</p>\n<pre><code>No.     Time           Source                Destination           Protocol Length Info\n      1 0.000000       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      74     58184 → 443 [SYN] Seq=0 Win=64240 Len=0 MSS=1460 SACK_PERM TSval=3286965270 TSecr=0 WS=128\n      2 0.023011       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      74     443 → 58184 [SYN, ACK] Seq=0 Ack=1 Win=65535 Len=0 MSS=1380 SACK_PERM TSval=401053718 TSecr=3286965270 WS=512\n      3 0.023011       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1 Ack=1 Win=64256 Len=0 TSval=3286965293 TSecr=401053718\n      4 0.029806       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  583    Client Hello\n      5 0.030079       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=1 Ack=518 Win=32768 Len=0 TSval=401053718 TSecr=3286965300\n      6 0.252624       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  159    Hello Retry Request\n      7 0.252625       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  72     Change Cipher Spec\n      8 0.252625       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=518 Ack=94 Win=64256 Len=0 TSval=3286965523 TSecr=401053941\n      9 0.252625       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=518 Ack=100 Win=64256 Len=0 TSval=3286965523 TSecr=401053941\n     10 0.252852       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  589    Change Cipher Spec, Client Hello\n     11 0.252853       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=100 Ack=1041 Win=31744 Len=0 TSval=401053941 TSecr=3286965523\n     12 0.277201       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1434   Server Hello, Application Data\n     13 0.277203       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      1434   443 → 58184 [PSH, ACK] Seq=1468 Ack=1041 Win=68096 Len=1368 TSval=401053972 TSecr=3286965523 [TCP segment of a reassembled PDU]\n     14 0.277269       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1354   Application Data, Application Data, Application Data\n     15 0.277271       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1041 Ack=4124 Win=62592 Len=0 TSval=3286965547 TSecr=401053972\n     16 0.278039       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  140    Application Data\n     17 0.278385       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  112    Application Data\n     18 0.278385       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  115    Application Data\n     19 0.278386       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  101    Application Data\n     20 0.278386       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  414    Application Data\n     21 0.300775       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=4124 Ack=1115 Win=68096 Len=0 TSval=401053996 TSecr=3286965548\n     22 0.300776       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\n     23 0.300776       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\n     24 0.300777       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  162    Application Data, Application Data\n     25 0.300828       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  97     Application Data\n     26 0.301368       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=4730 Ack=1593 Win=69120 Len=0 TSval=401053997 TSecr=3286965548\n     27 0.301724       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  97     Application Data\n     28 0.343705       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1624 Ack=4761 Win=64128 Len=0 TSval=3286965614 TSecr=401053997\n     29 0.364919       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=4761 Ack=1624 Win=69120 Len=0 TSval=401054060 TSecr=3286965571\n     30 0.365596       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  849    Application Data, Application Data, Application Data\n     31 0.365600       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [ACK] Seq=1624 Ack=5544 Win=64128 Len=0 TSval=3286965636 TSecr=401054061\n     32 0.365952       &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  90     Application Data\n     33 0.366549       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58184 → 443 [FIN, ACK] Seq=1648 Ack=5544 Win=64128 Len=0 TSval=3286965637 TSecr=401054061\n     34 0.388421       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [ACK] Seq=5544 Ack=1648 Win=69120 Len=0 TSval=401054084 TSecr=3286965636\n     35 0.388421       &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  90     Application Data\n     36 0.388421       &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58184 [FIN, ACK] Seq=5568 Ack=1648 Win=69120 Len=0 TSval=401054084 TSecr=3286965636\n     37 0.388422       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58184 → 443 [RST] Seq=1648 Win=0 Len=0\n     38 0.388422       &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58184 → 443 [RST] Seq=1648 Win=0 Len=0\n     39 80.823845      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      74     58192 → 443 [SYN] Seq=0 Win=64240 Len=0 MSS=1460 SACK_PERM TSval=3287046092 TSecr=0 WS=128\n     40 80.846555      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      74     443 → 58192 [SYN, ACK] Seq=0 Ack=1 Win=65535 Len=0 MSS=1380 SACK_PERM TSval=472250826 TSecr=3287046092 WS=512\n     41 80.846556      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=1 Ack=1 Win=64256 Len=0 TSval=3287046115 TSecr=472250826\n     42 80.853620      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  583    Client Hello\n     43 80.854172      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=1 Ack=518 Win=32768 Len=0 TSval=472250826 TSecr=3287046122\n     44 80.876813      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  159    Hello Retry Request\n     45 80.876818      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=518 Ack=94 Win=64256 Len=0 TSval=3287046145 TSecr=472250848\n     46 80.876818      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  72     Change Cipher Spec\n     47 80.876818      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=518 Ack=100 Win=64256 Len=0 TSval=3287046145 TSecr=472250848\n     48 80.877240      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  589    Change Cipher Spec, Client Hello\n     49 80.877240      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=100 Ack=1041 Win=31744 Len=0 TSval=472250849 TSecr=3287046146\n     50 80.900887      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1434   Server Hello, Application Data\n     51 80.900888      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      1434   443 → 58192 [PSH, ACK] Seq=1468 Ack=1041 Win=68096 Len=1368 TSval=472250881 TSecr=3287046145 [TCP segment of a reassembled PDU]\n     52 80.900888      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  1354   Application Data, Application Data, Application Data\n     53 80.901181      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [ACK] Seq=1041 Ack=4124 Win=62592 Len=0 TSval=3287046170 TSecr=472250881\n     54 80.902491      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  140    Application Data\n     55 80.903307      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  112    Application Data\n     56 80.903307      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  115    Application Data\n     57 80.903495      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  101    Application Data\n     58 80.903496      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  414    Application Data\n     59 80.924618      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4124 Ack=1115 Win=68096 Len=0 TSval=472250905 TSecr=3287046171\n     60 80.924630      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\n     61 80.924725      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  321    Application Data\n     62 80.924725      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  162    Application Data, Application Data\n     63 80.925401      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4730 Ack=1210 Win=68096 Len=0 TSval=472250906 TSecr=3287046172\n     64 80.925401      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  97     Application Data\n     65 80.925649      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  97     Application Data\n     66 80.925817      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4761 Ack=1593 Win=69120 Len=0 TSval=472250906 TSecr=3287046172\n     67 80.987738      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=4761 Ack=1624 Win=69120 Len=0 TSval=472250968 TSecr=3287046194\n     68 80.989877      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  849    Application Data, Application Data, Application Data\n     69 80.992126      &lt;Our IP&gt;              &lt;USPS IP&gt;             TLSv1.3  90     Application Data\n     70 80.992648      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      66     58192 → 443 [FIN, ACK] Seq=1648 Ack=5544 Win=64128 Len=0 TSval=3287046261 TSecr=472250970\n     71 81.014173      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [ACK] Seq=5544 Ack=1648 Win=69120 Len=0 TSval=472250994 TSecr=3287046261\n     72 81.014173      &lt;USPS IP&gt;             &lt;Our IP&gt;              TLSv1.3  90     Application Data\n     73 81.014173      &lt;USPS IP&gt;             &lt;Our IP&gt;              TCP      66     443 → 58192 [FIN, ACK] Seq=5568 Ack=1648 Win=69120 Len=0 TSval=472250994 TSecr=3287046261\n     74 81.014313      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58192 → 443 [RST] Seq=1648 Win=0 Len=0\n     75 81.014314      &lt;Our IP&gt;              &lt;USPS IP&gt;             TCP      60     58192 → 443 [RST] Seq=1648 Win=0 Len=0\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682412807,"creation_date":1682412807,"answer_id":76099284,"question_id":76093710,"body_markdown":"**TL;DR:** As a hotfix, downgrading `spring-security-oauth2-client` to version `5.7.5` helped, but that&#39;s not a definitive solution.\r\n\r\n**Explanation:**\r\n\r\nI was debugging to see difference between the old working version of `spring-security-oauth2-client` (`5.4.4`) and the new version(`5.7.7`).\r\n\r\nThe difference was, that method [OidcUserService.shouldRetrieveUserInfo(...)][1] in the old version returned `false`, which meant that the code which throws the exception didn&#39;t get executed.\r\n\r\nThe [new version][2] of the method returns `true` because of [this line][3], which checks if the access token scopes are empty. The check was added in [this commit][4], which is a part of version `5.7.6`. That&#39;s why downgrading to version `5.7.5` solved my issue.\r\n\r\nAlso worth of noting is the fact that in the older version, the scopes were not empty like in the newer version. This is because of [another commit][5], which changed the implementation of `DefaultAuthorizationCodeTokenResponseClient`. This commit was a part of version `5.7.4`.\r\n\r\nSo my problem was caused by the combination of the two aforementioned commits. I&#39;m still not sure whether this is a bug in Spring Security, or a configuration issue with the OAuth2 server which I&#39;m connecting to.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/abc523c063becc72de115cae9a6fa29d374ab549/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L157\r\n  [2]: https://github.com/spring-projects/spring-security/blob/faadadf71a10f2523d57230ff664ecf52aafd251/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L157\r\n  [3]: https://github.com/spring-projects/spring-security/blob/faadadf71a10f2523d57230ff664ecf52aafd251/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L181\r\n  [4]: https://github.com/spring-projects/spring-security/commit/fde26e003a648a670be40c690a028970f0d1137b\r\n  [5]: https://github.com/spring-projects/spring-security/commit/75004587a419a96d18909030b20c6b16b226ecbe","title":"Spring Security OAuth: [invalid_user_info_response]","body":"<p><strong>TL;DR:</strong> As a hotfix, downgrading <code>spring-security-oauth2-client</code> to version <code>5.7.5</code> helped, but that's not a definitive solution.</p>\n<p><strong>Explanation:</strong></p>\n<p>I was debugging to see difference between the old working version of <code>spring-security-oauth2-client</code> (<code>5.4.4</code>) and the new version(<code>5.7.7</code>).</p>\n<p>The difference was, that method <a href=\"https://github.com/spring-projects/spring-security/blob/abc523c063becc72de115cae9a6fa29d374ab549/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L157\" rel=\"nofollow noreferrer\">OidcUserService.shouldRetrieveUserInfo(...)</a> in the old version returned <code>false</code>, which meant that the code which throws the exception didn't get executed.</p>\n<p>The <a href=\"https://github.com/spring-projects/spring-security/blob/faadadf71a10f2523d57230ff664ecf52aafd251/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L157\" rel=\"nofollow noreferrer\">new version</a> of the method returns <code>true</code> because of <a href=\"https://github.com/spring-projects/spring-security/blob/faadadf71a10f2523d57230ff664ecf52aafd251/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L181\" rel=\"nofollow noreferrer\">this line</a>, which checks if the access token scopes are empty. The check was added in <a href=\"https://github.com/spring-projects/spring-security/commit/fde26e003a648a670be40c690a028970f0d1137b\" rel=\"nofollow noreferrer\">this commit</a>, which is a part of version <code>5.7.6</code>. That's why downgrading to version <code>5.7.5</code> solved my issue.</p>\n<p>Also worth of noting is the fact that in the older version, the scopes were not empty like in the newer version. This is because of <a href=\"https://github.com/spring-projects/spring-security/commit/75004587a419a96d18909030b20c6b16b226ecbe\" rel=\"nofollow noreferrer\">another commit</a>, which changed the implementation of <code>DefaultAuthorizationCodeTokenResponseClient</code>. This commit was a part of version <code>5.7.4</code>.</p>\n<p>So my problem was caused by the combination of the two aforementioned commits. I'm still not sure whether this is a bug in Spring Security, or a configuration issue with the OAuth2 server which I'm connecting to.</p>\n"}],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76099284,"answer_count":1,"score":0,"last_activity_date":1682452134,"creation_date":1682351101,"question_id":76093710,"body_markdown":"I inherited an app that uses OAuth login via Spring Boot &amp; Spring Security, and when I try to login with valid credentials, I get the following exception:\r\n\r\n```\r\norg.springframework.security.oauth2.core.OAuth2AuthenticationException: [invalid_user_info_response] \r\n\tat org.springframework.security.oauth2.client.oidc.userinfo.OidcUserService.loadUser(OidcUserService.java:127)\r\n\tat org.springframework.security.oauth2.client.oidc.userinfo.OidcUserService.loadUser(OidcUserService.java:66)\r\n\tat org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:156)\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)\r\n\tat org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:195)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n...\r\n\r\n```\r\n\r\nThe exception is thrown by [this line][1], specifically when the following condition is met:\r\n\r\n```java\r\nif (!userInfo.getSubject().equals(userRequest.getIdToken().getSubject()))\r\n```\r\nWhen debugging, I noticed that `userInfo.getSubject()` is returning &quot;CORPO\\MyUsername&quot;, where &quot;MyUsername&quot; is the user name I used to login, and `userRequest.getIdToken().getSubject()` is returning an 8 digit number, such as &quot;12345678&quot;, which are not equal and hence the exception is thrown.\r\n\r\nBut I have also noticed that `userInfo` has a claim with name `ssouid` whose value is the exact same 8 digit number (&quot;12345678&quot; in our example).\r\n\r\nIs this perhaps some configuration issue, or incompatibility of the OAuth server with my app?\r\n\r\nMy app uses Spring Boot 2.7.9 with spring-security-oauth2-client 5.7.7\r\n\r\n**EDIT:** I&#39;ve found out that the currently deployed version uses Spring Boot 2.4.4 and it works, so the error must&#39;ve been caused by upgrading to 2.7.9\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/e57e8b3722e796724a4b5ebcce16b165c869fcdf/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L127","title":"Spring Security OAuth: [invalid_user_info_response]","body":"<p>I inherited an app that uses OAuth login via Spring Boot &amp; Spring Security, and when I try to login with valid credentials, I get the following exception:</p>\n<pre><code>org.springframework.security.oauth2.core.OAuth2AuthenticationException: [invalid_user_info_response] \n    at org.springframework.security.oauth2.client.oidc.userinfo.OidcUserService.loadUser(OidcUserService.java:127)\n    at org.springframework.security.oauth2.client.oidc.userinfo.OidcUserService.loadUser(OidcUserService.java:66)\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:156)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)\n    at org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:195)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n...\n\n</code></pre>\n<p>The exception is thrown by <a href=\"https://github.com/spring-projects/spring-security/blob/e57e8b3722e796724a4b5ebcce16b165c869fcdf/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java#L127\" rel=\"nofollow noreferrer\">this line</a>, specifically when the following condition is met:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!userInfo.getSubject().equals(userRequest.getIdToken().getSubject()))\n</code></pre>\n<p>When debugging, I noticed that <code>userInfo.getSubject()</code> is returning &quot;CORPO\\MyUsername&quot;, where &quot;MyUsername&quot; is the user name I used to login, and <code>userRequest.getIdToken().getSubject()</code> is returning an 8 digit number, such as &quot;12345678&quot;, which are not equal and hence the exception is thrown.</p>\n<p>But I have also noticed that <code>userInfo</code> has a claim with name <code>ssouid</code> whose value is the exact same 8 digit number (&quot;12345678&quot; in our example).</p>\n<p>Is this perhaps some configuration issue, or incompatibility of the OAuth server with my app?</p>\n<p>My app uses Spring Boot 2.7.9 with spring-security-oauth2-client 5.7.7</p>\n<p><strong>EDIT:</strong> I've found out that the currently deployed version uses Spring Boot 2.4.4 and it works, so the error must've been caused by upgrading to 2.7.9</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682450976,"creation_date":1682450976,"answer_id":76104765,"question_id":76102325,"body_markdown":"In order to have the fields initialized, you&#39;ll need to create the exception by calling the single-argument constructor you&#39;ve declared. To do so, you must replace the mocking here:\r\n\r\n    when(userDetailsService.findAppUserById(any()))\r\n        .thenThrow(ResourceNotFoundException.class);\r\n\r\nand make the mock return an actual object (therefore calling the one-argument constructor):\r\n\r\n    when(userDetailsService.findAppUserById(any()))\r\n        .thenThrow(new ResourceNotFoundException(&quot;test err msg&quot;));\r\n","title":"Custom exception is thrown but the fields are not set, using MockMvc","body":"<p>In order to have the fields initialized, you'll need to create the exception by calling the single-argument constructor you've declared. To do so, you must replace the mocking here:</p>\n<pre><code>when(userDetailsService.findAppUserById(any()))\n    .thenThrow(ResourceNotFoundException.class);\n</code></pre>\n<p>and make the mock return an actual object (therefore calling the one-argument constructor):</p>\n<pre><code>when(userDetailsService.findAppUserById(any()))\n    .thenThrow(new ResourceNotFoundException(&quot;test err msg&quot;));\n</code></pre>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76104765,"answer_count":1,"score":0,"last_activity_date":1682450976,"creation_date":1682432956,"question_id":76102325,"body_markdown":"I am testing my endpoints using `MockMvc`. But, I get an error of `No matching constant for [0]\r\n\tat org.springframework.http.HttpStatus.valueOf ....`. I know what causes this error.\r\n\r\nThe error occurs in my exception handler class. `applicationException.getHttpStatusCode()` is `0` that&#39;s why, the exception is thrown. That means my `applicationException` fields are not set.(all of them either empty/0 or null) \r\n\r\nThis is my controller advice for exception handling. \r\n\r\n```\r\n@ControllerAdvice\r\npublic class AppExceptionHandler {\r\n    @ExceptionHandler(value = {ApplicationException.class})\r\n    public ResponseEntity&lt;ApplicationException&gt; handleApplicationException(ApplicationException applicationException) {\r\n        return new ResponseEntity&lt;&gt;(applicationException, HttpStatus.valueOf(applicationException.getHttpStatusCode()));\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am getting the error while testing `AppUserController.findAppUserById(UUID)` service.\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@WithMockUser(username = &quot;user&quot;)\r\nclass AppUserControllerTest {\r\n\r\n\r\n    @MockBean\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @MockBean\r\n    private AppUserService appUserService;\r\n\r\n    @MockBean\r\n    private AppUserMapper appUserMapper;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n  @Test\r\n    void findAppUserById_throwsNotFound() throws Exception {\r\n\r\n        //given\r\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\r\n\r\n        //when\r\n        when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\r\n        MvcResult mvcResult = mockMvc\r\n                .perform(get(&quot;/app-users/&quot; + uuid))\r\n                .andExpect(status().isNotFound())\r\n                .andExpect(result -&gt; assertTrue(result.getResolvedException() instanceof ResourceNotFoundException))\r\n                .andReturn();\r\n        String resultContent = mvcResult.getResponse().getContentAsString();\r\n        ResourceNotFoundException response = objectMapper.readValue(resultContent, ResourceNotFoundException.class);\r\n\r\n        //then\r\n        assertNotNull(response);\r\n        assertEquals(404, response.getHttpStatusCode());\r\n\r\n    }\r\n}\r\n```\r\n\r\n**AppUserController**\r\n```\r\n   @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;AppUserResponse&gt; findAppUserById(@PathVariable UUID id) throws ResourceNotFoundException {\r\n        return new ResponseEntity&lt;&gt;(appUserMapper.appUserToResponse(userDetailsService.findAppUserById(id)), HttpStatus.OK);\r\n    }\r\n\r\n```\r\n\r\n**AppUserService.findAppUserById()** This service throws `ResourceNotFoundException`. And I am mocking this service with `Mockito` and tell the service to throw exception with this line of code in my `AppUserControllerTest` class.\r\n\r\n```\r\nwhen(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\r\n```\r\n\r\n```\r\n    public AppUser findAppUserById(UUID id) throws ResourceNotFoundException {\r\n        AppUser appUser = appUserRepository.findById(id).orElseThrow(\r\n                () -&gt; new ResourceNotFoundException(&quot;Kullanıcı bulunamadı&quot;)\r\n        );\r\n        if (!appUser.isEnabled()) {\r\n            throw new InvalidRequestException(PASSIVE_USER_MESSAGE);\r\n        }\r\n        return appUser;\r\n    }\r\n```\r\n\r\nAnd this is the `ResoruceNotFoundException` exception, base exception(`ApplicationExcception`).\r\n```\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties({&quot;stackTrace&quot;, &quot;cause&quot;, &quot;suppressed&quot;, &quot;localizedMessage&quot;})\r\npublic class ApplicationException extends RuntimeException {\r\n\r\n    private final int resultCode;\r\n    private final String message;\r\n    private final int httpStatusCode;\r\n    private final ZonedDateTime thrownAt;\r\n\r\n    private static final String ZONE_ID = &quot;Europe/Istanbul&quot;;\r\n\r\n    public ApplicationException(int resultCode, String message, HttpStatus httpStatus) {\r\n        super();\r\n        this.resultCode = resultCode;\r\n        this.message = message;\r\n        this.httpStatusCode = httpStatus.value();\r\n        this.thrownAt = ZonedDateTime.now(ZoneId.of(ZONE_ID));\r\n    }\r\n\r\n }\r\n```\r\n\r\n```\r\n@ResponseStatus(HttpStatus.NOT_FOUND)\r\npublic class ResourceNotFoundException extends ApplicationException {\r\n    public ResourceNotFoundException(String message) {\r\n        super(-1,message,HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe problem is that, I could throw the exception. I know that because `assertTrue(result.getResolvedException() instanceof ResourceNotFoundException)` is true. However, the fields of `ResourceNotFoundException` are not set. I know that because\r\n[![enter image description here][1]][1]\r\n\r\n``\r\nWhy the `ResourceNotFoundException`&#39;s fields are not set? Any comment? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TAkcC.png","title":"Custom exception is thrown but the fields are not set, using MockMvc","body":"<p>I am testing my endpoints using <code>MockMvc</code>. But, I get an error of <code>No matching constant for [0] at org.springframework.http.HttpStatus.valueOf ....</code>. I know what causes this error.</p>\n<p>The error occurs in my exception handler class. <code>applicationException.getHttpStatusCode()</code> is <code>0</code> that's why, the exception is thrown. That means my <code>applicationException</code> fields are not set.(all of them either empty/0 or null)</p>\n<p>This is my controller advice for exception handling.</p>\n<pre><code>@ControllerAdvice\npublic class AppExceptionHandler {\n    @ExceptionHandler(value = {ApplicationException.class})\n    public ResponseEntity&lt;ApplicationException&gt; handleApplicationException(ApplicationException applicationException) {\n        return new ResponseEntity&lt;&gt;(applicationException, HttpStatus.valueOf(applicationException.getHttpStatusCode()));\n    }\n}\n\n</code></pre>\n<p>I am getting the error while testing <code>AppUserController.findAppUserById(UUID)</code> service.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@WithMockUser(username = &quot;user&quot;)\nclass AppUserControllerTest {\n\n\n    @MockBean\n    private UserDetailsServiceImpl userDetailsService;\n\n    @MockBean\n    private AppUserService appUserService;\n\n    @MockBean\n    private AppUserMapper appUserMapper;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n  @Test\n    void findAppUserById_throwsNotFound() throws Exception {\n\n        //given\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\n\n        //when\n        when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\n        MvcResult mvcResult = mockMvc\n                .perform(get(&quot;/app-users/&quot; + uuid))\n                .andExpect(status().isNotFound())\n                .andExpect(result -&gt; assertTrue(result.getResolvedException() instanceof ResourceNotFoundException))\n                .andReturn();\n        String resultContent = mvcResult.getResponse().getContentAsString();\n        ResourceNotFoundException response = objectMapper.readValue(resultContent, ResourceNotFoundException.class);\n\n        //then\n        assertNotNull(response);\n        assertEquals(404, response.getHttpStatusCode());\n\n    }\n}\n</code></pre>\n<p><strong>AppUserController</strong></p>\n<pre><code>   @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;AppUserResponse&gt; findAppUserById(@PathVariable UUID id) throws ResourceNotFoundException {\n        return new ResponseEntity&lt;&gt;(appUserMapper.appUserToResponse(userDetailsService.findAppUserById(id)), HttpStatus.OK);\n    }\n\n</code></pre>\n<p><strong>AppUserService.findAppUserById()</strong> This service throws <code>ResourceNotFoundException</code>. And I am mocking this service with <code>Mockito</code> and tell the service to throw exception with this line of code in my <code>AppUserControllerTest</code> class.</p>\n<pre><code>when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\n</code></pre>\n<pre><code>    public AppUser findAppUserById(UUID id) throws ResourceNotFoundException {\n        AppUser appUser = appUserRepository.findById(id).orElseThrow(\n                () -&gt; new ResourceNotFoundException(&quot;Kullanıcı bulunamadı&quot;)\n        );\n        if (!appUser.isEnabled()) {\n            throw new InvalidRequestException(PASSIVE_USER_MESSAGE);\n        }\n        return appUser;\n    }\n</code></pre>\n<p>And this is the <code>ResoruceNotFoundException</code> exception, base exception(<code>ApplicationExcception</code>).</p>\n<pre><code>@Getter\n@Setter\n@JsonIgnoreProperties({&quot;stackTrace&quot;, &quot;cause&quot;, &quot;suppressed&quot;, &quot;localizedMessage&quot;})\npublic class ApplicationException extends RuntimeException {\n\n    private final int resultCode;\n    private final String message;\n    private final int httpStatusCode;\n    private final ZonedDateTime thrownAt;\n\n    private static final String ZONE_ID = &quot;Europe/Istanbul&quot;;\n\n    public ApplicationException(int resultCode, String message, HttpStatus httpStatus) {\n        super();\n        this.resultCode = resultCode;\n        this.message = message;\n        this.httpStatusCode = httpStatus.value();\n        this.thrownAt = ZonedDateTime.now(ZoneId.of(ZONE_ID));\n    }\n\n }\n</code></pre>\n<pre><code>@ResponseStatus(HttpStatus.NOT_FOUND)\npublic class ResourceNotFoundException extends ApplicationException {\n    public ResourceNotFoundException(String message) {\n        super(-1,message,HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n<p>The problem is that, I could throw the exception. I know that because <code>assertTrue(result.getResolvedException() instanceof ResourceNotFoundException)</code> is true. However, the fields of <code>ResourceNotFoundException</code> are not set. I know that because\n<a href=\"https://i.stack.imgur.com/TAkcC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAkcC.png\" alt=\"enter image description here\" /></a></p>\n<p>``\nWhy the <code>ResourceNotFoundException</code>'s fields are not set? Any comment?</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1535575006,"post_id":52085570,"comment_id":91121714,"body_markdown":"Please, take a look at the _Network_ tab in the devtools and post the exact response body. The code posted below the text _but the body contains two JSONs_ text is not a [valid](https://jsonformatter.curiousconcept.com/) JSON","body":"Please, take a look at the <i>Network</i> tab in the devtools and post the exact response body. The code posted below the text <i>but the body contains two JSONs</i> text is not a <a href=\"https://jsonformatter.curiousconcept.com/\" rel=\"nofollow noreferrer\">valid</a> JSON"},{"owner":{"account_id":2326045,"reputation":3457,"user_id":2040545,"display_name":"Clemens Klein-Robbenhaar"},"score":0,"creation_date":1535579151,"post_id":52085570,"comment_id":91123319,"body_markdown":"Any chance that there is an extra servlet filter configured which adds extra JSON to the response in case it sees a 201 status code ?","body":"Any chance that there is an extra servlet filter configured which adds extra JSON to the response in case it sees a 201 status code ?"},{"owner":{"account_id":8253802,"reputation":500,"user_id":6207558,"display_name":"Mr. Wrong"},"score":0,"creation_date":1535608362,"post_id":52085570,"comment_id":91129842,"body_markdown":"@lealceldeiro That&#39;s exactly the problem. The two concatenated JSONs are directly copied from the response as seen in my browser&#39;s Network tab.","body":"@lealceldeiro That&#39;s exactly the problem. The two concatenated JSONs are directly copied from the response as seen in my browser&#39;s Network tab."},{"owner":{"account_id":8253802,"reputation":500,"user_id":6207558,"display_name":"Mr. Wrong"},"score":0,"creation_date":1535616896,"post_id":52085570,"comment_id":91134280,"body_markdown":"@ClemensKlein-Robbenhaar The project is a spring boot application, so there&#39;s Spring, but nothing else.","body":"@ClemensKlein-Robbenhaar The project is a spring boot application, so there&#39;s Spring, but nothing else."},{"owner":{"account_id":2326045,"reputation":3457,"user_id":2040545,"display_name":"Clemens Klein-Robbenhaar"},"score":0,"creation_date":1537129584,"post_id":52085570,"comment_id":91660697,"body_markdown":"With spring boot there is still the usual java webapp stack, including servlet filters. spring boot might actually add a bunch of them in its default configuration","body":"With spring boot there is still the usual java webapp stack, including servlet filters. spring boot might actually add a bunch of them in its default configuration"},{"owner":{"account_id":2326045,"reputation":3457,"user_id":2040545,"display_name":"Clemens Klein-Robbenhaar"},"score":0,"creation_date":1537132683,"post_id":52085570,"comment_id":91661358,"body_markdown":"I have not found a class ``RequestUtil`` with a method ``getResourceURI``. In which package can I find this class?","body":"I have not found a class <code>RequestUtil</code> with a method <code>getResourceURI</code>. In which package can I find this class?"},{"owner":{"account_id":8253802,"reputation":500,"user_id":6207558,"display_name":"Mr. Wrong"},"score":0,"creation_date":1537172460,"post_id":52085570,"comment_id":91671110,"body_markdown":"RequestUtil is a class we created to return the URI of the resource created in case that response is a http 201 Created. I have added it to the question.","body":"RequestUtil is a class we created to return the URI of the resource created in case that response is a http 201 Created. I have added it to the question."},{"owner":{"account_id":7000812,"reputation":445,"user_id":5366912,"display_name":"JavaSloth"},"score":1,"creation_date":1587981275,"post_id":52085570,"comment_id":108713156,"body_markdown":"Hello @Mr.Wrong\nI am having the same issue, did you ever find the cause of this ?","body":"Hello @Mr.Wrong I am having the same issue, did you ever find the cause of this ?"}],"answers":[{"tags":[],"owner":{"account_id":16429401,"reputation":44,"user_id":11868631,"display_name":"Lebeau Da&#239;kini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682450874,"creation_date":1682450874,"answer_id":76104749,"question_id":52085570,"body_markdown":"I had the same problem with an old version of spring boot, I had to add in my **application.properties** \r\n`server.error.include-message=never`\r\nor if you&#39;re using **application.yml**, add\r\n\r\n    server:\r\n      error:\r\n        include-message: never\r\n\r\n\r\nIt worked for me \r\n\r\n","title":"Spring ResponsEntity body contains extra json with timestamp, status and more","body":"<p>I had the same problem with an old version of spring boot, I had to add in my <strong>application.properties</strong>\n<code>server.error.include-message=never</code>\nor if you're using <strong>application.yml</strong>, add</p>\n<pre><code>server:\n  error:\n    include-message: never\n</code></pre>\n<p>It worked for me</p>\n"}],"owner":{"account_id":8253802,"reputation":500,"user_id":6207558,"display_name":"Mr. Wrong"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682450874,"creation_date":1535574347,"question_id":52085570,"body_markdown":"We have an REST endpoint that will add a new empty ingredient to an existing meal:\r\n\r\n    @RequestMapping(value = &quot;/add&quot;, method = RequestMethod.PUT, consumes = &quot;application/json;charset=UTF-8&quot;)\r\n    public ResponseEntity&lt;Object&gt; add(@RequestBody final Meal meal) throws URISyntaxException\r\n    {\r\n        Optional&lt;Meal&gt; optionalMeal = mealRepository.findById(meal.getId());\r\n        if (!optionalMeal.isPresent()) {\r\n            return ResponseEntity\r\n                .status(HttpStatus.NOT_FOUND)\r\n                .body(MessageUtil.parse(MSG_404_MEAL, meal.getId() + &quot;&quot;));\r\n        }\r\n    \r\n        Ingredient ingredient = new Ingredient();\r\n        ingredient.setMeal(optionalMeal.get());\r\n        ingredientRepository.saveAndFlush(ingredient);\r\n    \r\n        ResponseEntity re = ResponseEntity\r\n            .created(RequestUtil.getResourceURI(ingredient.getId()))\r\n            .body(ingredient);\r\n    \r\n        return re;\r\n    }\r\n\r\nIngredient is an entity class with some fields:\r\n\r\n    public class Ingredient implements Serializable\r\n    {\r\n        @Id\r\n        private Integer id;\r\n        private Meal meal;\r\n        private Grocery grocery;\r\n        private Float amount;\r\n        \r\n        ...\r\n    }\r\n\r\nRequestUtil takes care of creating the URI where the newly created resource is to be found:\r\n\r\n    public class RequestUtil\r\n    {\r\n        public static URI getResourceURI(int id) throws URISyntaxException \r\n        {\r\n            final String url = RequestUtil.getCurrentRequest().getRequestURL().toString();\r\n            final String req = RequestUtil.omitLast(url);\r\n        \r\n            return new URI(req + &quot;get/&quot; + id);\r\n        }\r\n    \r\n        public static HttpServletRequest getCurrentRequest() \r\n        {\r\n            RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n            return ((ServletRequestAttributes) requestAttributes).getRequest();\r\n        }\r\n    \r\n        public static String omitLast(final String url) {\r\n            return url.substring(0, url.lastIndexOf(&quot;/&quot;) + 1);\r\n        }\r\n    }\r\n\r\nThe http status code and resource URI end up correctly in the response headers, but the body contains two JSONs:\r\n\r\n    {\r\n      &quot;id&quot;: 407,\r\n      &quot;meal&quot;: {\r\n        &quot;id&quot;: 99,\r\n        &quot;name&quot;: &quot;New Meal&quot;,\r\n        &quot;active&quot;: true\r\n      },\r\n      &quot;grocery&quot;: null,\r\n      &quot;amount&quot;: null,\r\n      &quot;bought&quot;: false\r\n    } {\r\n      &quot;timestamp&quot;: &quot;2018-08-29T19:25:31.466+0000&quot;,\r\n      &quot;status&quot;: 201,\r\n      &quot;error&quot;: &quot;Created&quot;,\r\n      &quot;message&quot;: &quot;No message available&quot;,\r\n      &quot;path&quot;: &quot;/ingredient/add&quot;\r\n    }\r\n\r\nOur javascript code does not expect this extra data and fails with\r\n\r\n    SyntaxError: JSON.parse: unexpected non-whitespace character after JSON data at line 1 column 114 of the JSON data\r\n\r\nUsing a debugger, we can see that by the time the code reaches the return statement in add(), the ResponseEntity does not contain this extra data. Can someone explain where it comes from, and how we stop it from polluting the response?\r\n\r\nThanks for any help!\r\n\r\n","title":"Spring ResponsEntity body contains extra json with timestamp, status and more","body":"<p>We have an REST endpoint that will add a new empty ingredient to an existing meal:</p>\n\n<pre><code>@RequestMapping(value = \"/add\", method = RequestMethod.PUT, consumes = \"application/json;charset=UTF-8\")\npublic ResponseEntity&lt;Object&gt; add(@RequestBody final Meal meal) throws URISyntaxException\n{\n    Optional&lt;Meal&gt; optionalMeal = mealRepository.findById(meal.getId());\n    if (!optionalMeal.isPresent()) {\n        return ResponseEntity\n            .status(HttpStatus.NOT_FOUND)\n            .body(MessageUtil.parse(MSG_404_MEAL, meal.getId() + \"\"));\n    }\n\n    Ingredient ingredient = new Ingredient();\n    ingredient.setMeal(optionalMeal.get());\n    ingredientRepository.saveAndFlush(ingredient);\n\n    ResponseEntity re = ResponseEntity\n        .created(RequestUtil.getResourceURI(ingredient.getId()))\n        .body(ingredient);\n\n    return re;\n}\n</code></pre>\n\n<p>Ingredient is an entity class with some fields:</p>\n\n<pre><code>public class Ingredient implements Serializable\n{\n    @Id\n    private Integer id;\n    private Meal meal;\n    private Grocery grocery;\n    private Float amount;\n\n    ...\n}\n</code></pre>\n\n<p>RequestUtil takes care of creating the URI where the newly created resource is to be found:</p>\n\n<pre><code>public class RequestUtil\n{\n    public static URI getResourceURI(int id) throws URISyntaxException \n    {\n        final String url = RequestUtil.getCurrentRequest().getRequestURL().toString();\n        final String req = RequestUtil.omitLast(url);\n\n        return new URI(req + \"get/\" + id);\n    }\n\n    public static HttpServletRequest getCurrentRequest() \n    {\n        RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n        return ((ServletRequestAttributes) requestAttributes).getRequest();\n    }\n\n    public static String omitLast(final String url) {\n        return url.substring(0, url.lastIndexOf(\"/\") + 1);\n    }\n}\n</code></pre>\n\n<p>The http status code and resource URI end up correctly in the response headers, but the body contains two JSONs:</p>\n\n<pre><code>{\n  \"id\": 407,\n  \"meal\": {\n    \"id\": 99,\n    \"name\": \"New Meal\",\n    \"active\": true\n  },\n  \"grocery\": null,\n  \"amount\": null,\n  \"bought\": false\n} {\n  \"timestamp\": \"2018-08-29T19:25:31.466+0000\",\n  \"status\": 201,\n  \"error\": \"Created\",\n  \"message\": \"No message available\",\n  \"path\": \"/ingredient/add\"\n}\n</code></pre>\n\n<p>Our javascript code does not expect this extra data and fails with</p>\n\n<pre><code>SyntaxError: JSON.parse: unexpected non-whitespace character after JSON data at line 1 column 114 of the JSON data\n</code></pre>\n\n<p>Using a debugger, we can see that by the time the code reaches the return statement in add(), the ResponseEntity does not contain this extra data. Can someone explain where it comes from, and how we stop it from polluting the response?</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["java","spring","swagger","openapi","springdoc-openapi-ui"],"owner":{"account_id":19015121,"reputation":162,"user_id":16180016,"display_name":"zakpruitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682450079,"creation_date":1682450079,"question_id":76104664,"body_markdown":"I am wanting to essentially replicate a `@RequestBody` with `@Parameter`. I found this in Swagger documentation: &quot;Also without a `@RequestBody` annotated parameter and with no `@RequestBody` annotation at method level or as field of Operation#requestBody, if a parameter is annotated with `@Parameter` with no in field specified and no JAX-RS annotation (`@QueryParam`, `@HeaderParam`, `@BeanParam`), the parameter is resolved as a request body.&quot; \r\n\r\nMy use case is that I have an annotation that will be used across many microservices, so we want to define it once in our common library. Spring does not pick up `@RequestBody` as a meta-annotation, while `@Parameter` is picked up. Essentially, I am trying to use `@Parameter` as an `@RequestBody`.\r\n\r\nMy code:\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.PARAMETER)\r\n@Parameter(\r\n        in = ParameterIn.DEFAULT,\r\n        description = &quot;Dynamic query string that will be used to query/filter this resource.&quot;,\r\n        required = true,\r\n        examples = {\r\n                @ExampleObject(\r\n                        name = &quot;example1&quot;,\r\n                        summary = &quot;Search for a...&quot;,\r\n                        value = &quot;hello==4567*&quot;,\r\n                        description = &quot;blah&quot;\r\n                ),\r\n                @ExampleObject(\r\n                        name = &quot;example2&quot;,\r\n                        summary = &quot;samplee&quot;,\r\n                        value = &quot;hello==John*&quot;,\r\n                        description = &quot;blahhh&quot;\r\n                )\r\n        },\r\n        schema = @Schema(\r\n                description = &quot;Query Field and Value&quot;,\r\n                name = &quot;Query&quot;,\r\n                allowableValues = {&quot;query&quot;})\r\n)\r\npublic @interface Query {\r\n    Class&lt;?&gt; value();\r\n}\r\n```\r\n\r\nThis works so far EXCEPT for the `examples =`. It does work with `@RequestBody`, but not with `@Parameter`. How can I get `@ExampleObject` or something similar work with `@Parameter`? `example = ` does work, but it doesn&#39;t have the same toggle option `examples` gives. We are using OpenAPI 3.0. \r\n\r\nThanks so much.","title":"How to have examples in @Parameter in OpenAPI (Swagger) in Spring Boot?","body":"<p>I am wanting to essentially replicate a <code>@RequestBody</code> with <code>@Parameter</code>. I found this in Swagger documentation: &quot;Also without a <code>@RequestBody</code> annotated parameter and with no <code>@RequestBody</code> annotation at method level or as field of Operation#requestBody, if a parameter is annotated with <code>@Parameter</code> with no in field specified and no JAX-RS annotation (<code>@QueryParam</code>, <code>@HeaderParam</code>, <code>@BeanParam</code>), the parameter is resolved as a request body.&quot;</p>\n<p>My use case is that I have an annotation that will be used across many microservices, so we want to define it once in our common library. Spring does not pick up <code>@RequestBody</code> as a meta-annotation, while <code>@Parameter</code> is picked up. Essentially, I am trying to use <code>@Parameter</code> as an <code>@RequestBody</code>.</p>\n<p>My code:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\n@Parameter(\n        in = ParameterIn.DEFAULT,\n        description = &quot;Dynamic query string that will be used to query/filter this resource.&quot;,\n        required = true,\n        examples = {\n                @ExampleObject(\n                        name = &quot;example1&quot;,\n                        summary = &quot;Search for a...&quot;,\n                        value = &quot;hello==4567*&quot;,\n                        description = &quot;blah&quot;\n                ),\n                @ExampleObject(\n                        name = &quot;example2&quot;,\n                        summary = &quot;samplee&quot;,\n                        value = &quot;hello==John*&quot;,\n                        description = &quot;blahhh&quot;\n                )\n        },\n        schema = @Schema(\n                description = &quot;Query Field and Value&quot;,\n                name = &quot;Query&quot;,\n                allowableValues = {&quot;query&quot;})\n)\npublic @interface Query {\n    Class&lt;?&gt; value();\n}\n</code></pre>\n<p>This works so far EXCEPT for the <code>examples =</code>. It does work with <code>@RequestBody</code>, but not with <code>@Parameter</code>. How can I get <code>@ExampleObject</code> or something similar work with <code>@Parameter</code>? <code>example = </code> does work, but it doesn't have the same toggle option <code>examples</code> gives. We are using OpenAPI 3.0.</p>\n<p>Thanks so much.</p>\n"},{"tags":["java","maven","graphql"],"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682449801,"creation_date":1682449801,"question_id":76104639,"body_markdown":"I am trying with below maven plugin but getting error: Execution default of goal io.github.deweyjose:graphqlcodegen-maven-plugin:1.14:generate failed: Schema File: /Users/abc/Documents/GitHub/application-name/src/main/resources/graphql does not exist! -&gt;\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.github.deweyjose&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;graphqlcodegen-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;id1&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;SchemaPaths&gt;\r\n    \t\t\t\t\t\t\t\t&lt;SchemaPath&gt;${project.basedir}/src/main/resources/el/schema1.graphqls&lt;/SchemaPath&gt;\r\n    \t\t\t\t\t\t\t&lt;/SchemaPaths&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDir&gt;${project.build.directory}/generated-sources/el/graphql&lt;/outputDir&gt;\r\n    \t\t\t\t\t\t\t&lt;packageName&gt;com.graphql.model&lt;/packageName&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;id2&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;SchemaPaths&gt;\r\n    \t\t\t\t\t\t\t\t&lt;SchemaPath&gt;${project.basedir}/src/main/resources/pr/schema2.graphqls&lt;/SchemaPath&gt;\r\n    \t\t\t\t\t\t\t&lt;/SchemaPaths&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDir&gt;${project.build.directory}/generated-sources/pr/graphql&lt;/outputDir&gt;\r\n    \t\t\t\t\t\t\t&lt;packageName&gt;com.graphql.model&lt;/packageName&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nI am not getting any clue for the error why it is searching /resources/graphql folder.","title":"How to generate java classes using more than 2 graphqls schema file?","body":"<p>I am trying with below maven plugin but getting error: Execution default of goal io.github.deweyjose:graphqlcodegen-maven-plugin:1.14:generate failed: Schema File: /Users/abc/Documents/GitHub/application-name/src/main/resources/graphql does not exist! -&gt;</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.github.deweyjose&lt;/groupId&gt;\n                &lt;artifactId&gt;graphqlcodegen-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;id1&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;SchemaPaths&gt;\n                                &lt;SchemaPath&gt;${project.basedir}/src/main/resources/el/schema1.graphqls&lt;/SchemaPath&gt;\n                            &lt;/SchemaPaths&gt;\n                            &lt;outputDir&gt;${project.build.directory}/generated-sources/el/graphql&lt;/outputDir&gt;\n                            &lt;packageName&gt;com.graphql.model&lt;/packageName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;id2&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;SchemaPaths&gt;\n                                &lt;SchemaPath&gt;${project.basedir}/src/main/resources/pr/schema2.graphqls&lt;/SchemaPath&gt;\n                            &lt;/SchemaPaths&gt;\n                            &lt;outputDir&gt;${project.build.directory}/generated-sources/pr/graphql&lt;/outputDir&gt;\n                            &lt;packageName&gt;com.graphql.model&lt;/packageName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I am not getting any clue for the error why it is searching /resources/graphql folder.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1555858845,"post_id":55783827,"comment_id":98238486,"body_markdown":"Seems to be a duplicate of [this question](https://stackoverflow.com/questions/4358732/is-incrementing-a-field-in-mysql-atomic).  For MyISAM, the whole table would be locked, by whatever thread reaches first.  For InnoDB, the row would be locked.","body":"Seems to be a duplicate of <a href=\"https://stackoverflow.com/questions/4358732/is-incrementing-a-field-in-mysql-atomic\">this question</a>.  For MyISAM, the whole table would be locked, by whatever thread reaches first.  For InnoDB, the row would be locked."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1555859648,"post_id":55783827,"comment_id":98238698,"body_markdown":"@TimBiegeleisen, InnoDB does not use a row lock for incrementing a table&#39;s auto-inc value. It uses a special type of table lock.","body":"@TimBiegeleisen, InnoDB does not use a row lock for incrementing a table&#39;s auto-inc value. It uses a special type of table lock."},{"owner":{"account_id":12058179,"reputation":31,"user_id":8818164,"display_name":"Tao.Aaron"},"score":0,"creation_date":1555899758,"post_id":55783827,"comment_id":98247013,"body_markdown":"@Bill Karwin  Can you specify the process?","body":"@Bill Karwin  Can you specify the process?"}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1682449779,"creation_date":1555859018,"answer_id":55783893,"question_id":55783827,"body_markdown":"Basically the same way any other thread-safe code works: by creating a [critical section of code][1], so no more than one thread has access to increment a given table&#39;s auto-increment value unless it first acquires a special type of table-lock.\r\n\r\nIt&#39;s a lock that lasts very briefly, only long enough to increment the table&#39;s auto-increment value. Then the lock is released, allowing another thread to do the same in thread-safe manner.\r\n\r\nThe lock is also per-table, unlike traditional implementations of critical section code, which often use a global mutex around a specific section of code.\r\n\r\nThere are options that control how the table lock is acquired and released in InnoDB. You might like to read https://dev.mysql.com/doc/refman/8.0/en/innodb-auto-increment-handling.html\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Critical_section","title":"How can Mysql ensure that the primary key self-increasing is thread-safe?","body":"<p>Basically the same way any other thread-safe code works: by creating a <a href=\"https://en.wikipedia.org/wiki/Critical_section\" rel=\"nofollow noreferrer\">critical section of code</a>, so no more than one thread has access to increment a given table's auto-increment value unless it first acquires a special type of table-lock.</p>\n<p>It's a lock that lasts very briefly, only long enough to increment the table's auto-increment value. Then the lock is released, allowing another thread to do the same in thread-safe manner.</p>\n<p>The lock is also per-table, unlike traditional implementations of critical section code, which often use a global mutex around a specific section of code.</p>\n<p>There are options that control how the table lock is acquired and released in InnoDB. You might like to read <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-auto-increment-handling.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-auto-increment-handling.html</a></p>\n"}],"owner":{"account_id":12058179,"reputation":31,"user_id":8818164,"display_name":"Tao.Aaron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682449779,"creation_date":1555858583,"question_id":55783827,"body_markdown":"A row tuple of inserts concurrent with two transactions does not specify a primary key id, which is self-increasing\r\n\r\n\r\n\r\nHow does Mysql ensure that two transactions are inserted smoothly, with different primary key ids?\r\n\r\n\r\nIf possible, I would like to be able to answer the execution process of insert statements, including inserting intentional locks, ensuring that the primary key ID does not conflict, and what locks are held after insert is completed.","title":"How can Mysql ensure that the primary key self-increasing is thread-safe?","body":"<p>A row tuple of inserts concurrent with two transactions does not specify a primary key id, which is self-increasing</p>\n\n<p>How does Mysql ensure that two transactions are inserted smoothly, with different primary key ids?</p>\n\n<p>If possible, I would like to be able to answer the execution process of insert statements, including inserting intentional locks, ensuring that the primary key ID does not conflict, and what locks are held after insert is completed.</p>\n"},{"tags":["java","generics","collections","casting"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1682448472,"post_id":76104454,"comment_id":134216615,"body_markdown":"Do you want to convert a `List&lt;Object&gt;` to a `List&lt;Integer&gt;`?","body":"Do you want to convert a <code>List&lt;Object&gt;</code> to a <code>List&lt;Integer&gt;</code>?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1682448479,"post_id":76104454,"comment_id":134216616,"body_markdown":"1) Don&#39;t use rawtypes, 2) Generics are erased at runtime, A `List&lt;Integer&gt;` is the same as a `List` at that point, 3) The objects held by a variable are not modified in any way when you cast them (an `Object o = &quot;yolo&quot;;` is still a string, `List&lt;Integer&gt; ex = (List&lt;Integer&gt;)(List&lt;?&gt;) someStringList` is still a list of strings), so casting `List&lt;A&gt;` to `List&lt;B&gt;` means that `List&lt;B&gt;` still has `A` objects in it, and _will_ throw a class cast exception on trying to use it.","body":"1) Don&#39;t use rawtypes, 2) Generics are erased at runtime, A <code>List&lt;Integer&gt;</code> is the same as a <code>List</code> at that point, 3) The objects held by a variable are not modified in any way when you cast them (an <code>Object o = &quot;yolo&quot;;</code> is still a string, <code>List&lt;Integer&gt; ex = (List&lt;Integer&gt;)(List&lt;?&gt;) someStringList</code> is still a list of strings), so casting <code>List&lt;A&gt;</code> to <code>List&lt;B&gt;</code> means that <code>List&lt;B&gt;</code> still has <code>A</code> objects in it, and <i>will</i> throw a class cast exception on trying to use it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1682448633,"post_id":76104454,"comment_id":134216649,"body_markdown":"Right, to repeat what Rogue said, you &quot;can&quot; do this but it&#39;s super unsafe.  If you have legacy code like this it might be better to read each object from the list, cast it and put it in a new list.  At least that way you&#39;ll catch errors more quickly.","body":"Right, to repeat what Rogue said, you &quot;can&quot; do this but it&#39;s super unsafe.  If you have legacy code like this it might be better to read each object from the list, cast it and put it in a new list.  At least that way you&#39;ll catch errors more quickly."},{"owner":{"account_id":19973237,"reputation":21,"user_id":14638215,"display_name":"David Johnson"},"score":0,"creation_date":1682448844,"post_id":76104454,"comment_id":134216690,"body_markdown":"@Rogue &quot;casting List&lt;A&gt; to List&lt;B&gt; means that List&lt;B&gt; still has A objects in it&quot; -&gt; this wont happen if a raw list is passed then its assured that it will only contain objects of Class class.","body":"@Rogue &quot;casting List&lt;A&gt; to List&lt;B&gt; means that List&lt;B&gt; still has A objects in it&quot; -&gt; this wont happen if a raw list is passed then its assured that it will only contain objects of Class class."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1682449076,"post_id":76104454,"comment_id":134216740,"body_markdown":"This looks like [XY problem](https://meta.stackexchange.com/q/66377). What is the goal here? What are you trying to *accomplish* in this code? If you want to create method which can accept *any* list maybe you can use generic method like `public static &lt;T&gt; void handleAllLists(List&lt;T&gt; ls){...}`.","body":"This looks like <a href=\"https://meta.stackexchange.com/q/66377\">XY problem</a>. What is the goal here? What are you trying to <i>accomplish</i> in this code? If you want to create method which can accept <i>any</i> list maybe you can use generic method like <code>public static &lt;T&gt; void handleAllLists(List&lt;T&gt; ls){...}</code>."},{"owner":{"account_id":19973237,"reputation":21,"user_id":14638215,"display_name":"David Johnson"},"score":0,"creation_date":1682449084,"post_id":76104454,"comment_id":134216742,"body_markdown":"@Mr.Polywhirl as Rogue mentioned the concerns I think this will help too &quot;List&lt;Object&gt; to a List&lt;class&gt;&quot;","body":"@Mr.Polywhirl as Rogue mentioned the concerns I think this will help too &quot;List&lt;Object&gt; to a List&lt;class&gt;&quot;"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1682462568,"post_id":76104454,"comment_id":134219194,"body_markdown":"@DavidJohnson that is simply not true - I could call your method like this: `raw2generic(Arrays.asList(1,2,3), String.class)`, and there wouldn&#39;t be a single error until after compiling and running the code. Further, your method name seems to suggest you want to convert some raw type into a generic one - but this idea _doesn&#39;t exist_ after the code is compiled. So that just leaves compile time fixes, which means changing code. If you&#39;re changing the code to make a raw list generic, why not just use a non-raw list to begin with?","body":"@DavidJohnson that is simply not true - I could call your method like this: <code>raw2generic(Arrays.asList(1,2,3), String.class)</code>, and there wouldn&#39;t be a single error until after compiling and running the code. Further, your method name seems to suggest you want to convert some raw type into a generic one - but this idea <i>doesn&#39;t exist</i> after the code is compiled. So that just leaves compile time fixes, which means changing code. If you&#39;re changing the code to make a raw list generic, why not just use a non-raw list to begin with?"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682449768,"creation_date":1682449142,"answer_id":76104560,"question_id":76104454,"body_markdown":"The following &quot;works&quot; but please heed the warnings in the comments.  It is super dangerous.\r\n\r\n       public static &lt;T&gt; List&lt;T&gt; raw2generic( List list, Class&lt;T&gt; c ) {\r\n          return (List&lt;T&gt;)list;\r\n       }\r\n       \r\nNote the class type isn&#39;t needed, unless you were told to use it and then you probably are expected to actually check the types in the list.\r\n\r\n\r\n       public static &lt;T&gt; List&lt;T&gt; raw2generic( List list ) {\r\n          return (List&lt;T&gt;)list;\r\n       }\r\n\r\nP.S. `List&lt;Object&gt;` works exactly the same way.  It is super super unsafe though.\r\n\r\n   \r\n\r\n       public static &lt;T&gt; List&lt;T&gt; raw2generic( List&lt;Object&gt; list ) {\r\n          return (List&lt;T&gt;)list;\r\n       }\r\n       ","title":"Dynamic casting of Java collection?","body":"<p>The following &quot;works&quot; but please heed the warnings in the comments.  It is super dangerous.</p>\n<pre><code>   public static &lt;T&gt; List&lt;T&gt; raw2generic( List list, Class&lt;T&gt; c ) {\n      return (List&lt;T&gt;)list;\n   }\n   \n</code></pre>\n<p>Note the class type isn't needed, unless you were told to use it and then you probably are expected to actually check the types in the list.</p>\n<pre><code>   public static &lt;T&gt; List&lt;T&gt; raw2generic( List list ) {\n      return (List&lt;T&gt;)list;\n   }\n</code></pre>\n<p>P.S. <code>List&lt;Object&gt;</code> works exactly the same way.  It is super super unsafe though.</p>\n<pre><code>   public static &lt;T&gt; List&lt;T&gt; raw2generic( List&lt;Object&gt; list ) {\n      return (List&lt;T&gt;)list;\n   }\n   \n</code></pre>\n"}],"owner":{"account_id":19973237,"reputation":21,"user_id":14638215,"display_name":"David Johnson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76104560,"answer_count":1,"score":-2,"last_activity_date":1682449768,"creation_date":1682448284,"question_id":76104454,"body_markdown":"     public static void raw2generic(List&lt;Object&gt; ls, Class class)\r\n        {\r\n            //class.cast(ls);\r\n           //List&lt;class&gt; newLs= (List&lt;class&gt;)ls;\r\n        }\r\n\r\nI want to cast the raw List (ls) of type Class (class)... class could be legacy classes like Integer.class, String.class etc. ls is guaranteed will be filled with elements of type class.\r\nIs it possible?","title":"Dynamic casting of Java collection?","body":"<pre><code> public static void raw2generic(List&lt;Object&gt; ls, Class class)\n    {\n        //class.cast(ls);\n       //List&lt;class&gt; newLs= (List&lt;class&gt;)ls;\n    }\n</code></pre>\n<p>I want to cast the raw List (ls) of type Class (class)... class could be legacy classes like Integer.class, String.class etc. ls is guaranteed will be filled with elements of type class.\nIs it possible?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682446655,"post_id":76104211,"comment_id":134216231,"body_markdown":"In your stream usage, if you mapped your keys to `String`, and your values to `Double`, why would you expect a `Map&lt;String, Integer&gt;`? You definitely can&#39;t hold `3.5` in that.","body":"In your stream usage, if you mapped your keys to <code>String</code>, and your values to <code>Double</code>, why would you expect a <code>Map&lt;String, Integer&gt;</code>? You definitely can&#39;t hold <code>3.5</code> in that."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682446703,"post_id":76104211,"comment_id":134216248,"body_markdown":"what is the actual result and the expected result?","body":"what is the actual result and the expected result?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682447215,"post_id":76104211,"comment_id":134216349,"body_markdown":"you want the average of each student, or the average of each course, or something else?","body":"you want the average of each student, or the average of each course, or something else?"},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1682447558,"post_id":76104211,"comment_id":134216413,"body_markdown":"I made a mistake when I wrote Map&lt;String, Integer&gt;. I fixed it on Map&lt;String, Double&gt;, but it still doesn&#39;t work.\nThe result should be as follows: all the student&#39;s grades in all subjects are added up and the average grade is found","body":"I made a mistake when I wrote Map&lt;String, Integer&gt;. I fixed it on Map&lt;String, Double&gt;, but it still doesn&#39;t work. The result should be as follows: all the student&#39;s grades in all subjects are added up and the average grade is found"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1682447888,"post_id":76104211,"comment_id":134216483,"body_markdown":"`flatMap` the `value` of the entrySet and then perform the everage","body":"<code>flatMap</code> the <code>value</code> of the entrySet and then perform the everage"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682449525,"creation_date":1682448151,"answer_id":76104440,"question_id":76104211,"body_markdown":"You need to collect each student&#39;s marks as a `Map&lt;String, Double&gt;`.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Student {\r\n    public static Function&lt;Map&lt;String, List&lt;Integer&gt;&gt;, Map&lt;String, Double&gt;&gt; averager = (marks) -&gt;\r\n        marks.entrySet()\r\n            .stream().collect(Collectors.toMap(\r\n                    entry -&gt; entry.getKey(),\r\n                    entry -&gt; entry.getValue().stream()\r\n                            .mapToDouble(Integer::doubleValue)\r\n                            .average()\r\n                            .getAsDouble()));\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, Arrays.asList(4, 4, 5));\r\n        markAnn.put(&quot;Mathematics&quot;, Arrays.asList(2, 3, 4));\r\n        markAnn.put(&quot;History&quot;, Arrays.asList(3, 3, 3));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, Arrays.asList(1, 2, 3));\r\n        markKate.put(&quot;Mathematics&quot;, Arrays.asList(5, 5, 3));\r\n        markKate.put(&quot;History&quot;, Arrays.asList(4, 2, 5));\r\n\r\n        Student[] students = {\r\n                new Student(&quot;Ann&quot;, markAnn),\r\n                new Student(&quot;Kate&quot;, markKate)\r\n        };\r\n\r\n        Map&lt;String, Map&lt;String, Double&gt;&gt; averages = Arrays.stream(students)\r\n                .collect(Collectors.toMap(Student::getName,\r\n                        student -&gt; averager.apply(student.getMarks())));\r\n\r\n        System.out.println(averages);\r\n    }\r\n\r\n    public Student(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n        this.name = name;\r\n        this.marks = marks;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n}\r\n```\r\n\r\nOutput (formatted):\r\n\r\n```\r\n{\r\n  Ann = {\r\n    Mathematics = 3.0,\r\n    History = 3.0,\r\n    Physics = 4.333333333333333\r\n  },\r\n  Kate = {\r\n    Mathematics = 4.333333333333333,\r\n    History = 3.6666666666666665,\r\n    Physics = 2.0\r\n  }\r\n}\r\n```\r\n\r\nIf you want just the overall averages, you can flat-map all the marks:\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Student {\r\n    public static Function&lt;Map&lt;String, List&lt;Integer&gt;&gt;, Double&gt; averager = (marks) -&gt;\r\n        marks.values().stream()\r\n            .flatMap(List::stream)\r\n            .mapToDouble(Integer::doubleValue)\r\n            .average()\r\n            .getAsDouble();\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, Arrays.asList(4, 4, 5));\r\n        markAnn.put(&quot;Mathematics&quot;, Arrays.asList(2, 3, 4));\r\n        markAnn.put(&quot;History&quot;, Arrays.asList(3, 3, 3));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, Arrays.asList(1, 2, 3));\r\n        markKate.put(&quot;Mathematics&quot;, Arrays.asList(5, 5, 3));\r\n        markKate.put(&quot;History&quot;, Arrays.asList(4, 2, 5));\r\n\r\n        Student[] students = {\r\n                new Student(&quot;Ann&quot;, markAnn),\r\n                new Student(&quot;Kate&quot;, markKate)\r\n        };\r\n\r\n        Map&lt;String, Double&gt; averages = Arrays.stream(students)\r\n                .collect(Collectors.toMap(Student::getName,\r\n                        student -&gt; averager.apply(student.getMarks())));\r\n\r\n        System.out.println(averages);\r\n    }\r\n\r\n    public Student(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n        this.name = name;\r\n        this.marks = marks;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n}\r\n```\r\n\r\nOutput (formatted):\r\n\r\n```\r\n{\r\n  Ann = 3.4444444444444446,\r\n  Kate = 3.3333333333333335\r\n}\r\n```","title":"I can&#39;t apply the average() method in the stream","body":"<p>You need to collect each student's marks as a <code>Map&lt;String, Double&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Student {\n    public static Function&lt;Map&lt;String, List&lt;Integer&gt;&gt;, Map&lt;String, Double&gt;&gt; averager = (marks) -&gt;\n        marks.entrySet()\n            .stream().collect(Collectors.toMap(\n                    entry -&gt; entry.getKey(),\n                    entry -&gt; entry.getValue().stream()\n                            .mapToDouble(Integer::doubleValue)\n                            .average()\n                            .getAsDouble()));\n\n    public static void main(String[] args) {\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n        markAnn.put(&quot;Physics&quot;, Arrays.asList(4, 4, 5));\n        markAnn.put(&quot;Mathematics&quot;, Arrays.asList(2, 3, 4));\n        markAnn.put(&quot;History&quot;, Arrays.asList(3, 3, 3));\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n        markKate.put(&quot;Physics&quot;, Arrays.asList(1, 2, 3));\n        markKate.put(&quot;Mathematics&quot;, Arrays.asList(5, 5, 3));\n        markKate.put(&quot;History&quot;, Arrays.asList(4, 2, 5));\n\n        Student[] students = {\n                new Student(&quot;Ann&quot;, markAnn),\n                new Student(&quot;Kate&quot;, markKate)\n        };\n\n        Map&lt;String, Map&lt;String, Double&gt;&gt; averages = Arrays.stream(students)\n                .collect(Collectors.toMap(Student::getName,\n                        student -&gt; averager.apply(student.getMarks())));\n\n        System.out.println(averages);\n    }\n\n    public Student(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n        this.name = name;\n        this.marks = marks;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n        return marks;\n    }\n\n    private String name;\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\n}\n</code></pre>\n<p>Output (formatted):</p>\n<pre><code>{\n  Ann = {\n    Mathematics = 3.0,\n    History = 3.0,\n    Physics = 4.333333333333333\n  },\n  Kate = {\n    Mathematics = 4.333333333333333,\n    History = 3.6666666666666665,\n    Physics = 2.0\n  }\n}\n</code></pre>\n<p>If you want just the overall averages, you can flat-map all the marks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Student {\n    public static Function&lt;Map&lt;String, List&lt;Integer&gt;&gt;, Double&gt; averager = (marks) -&gt;\n        marks.values().stream()\n            .flatMap(List::stream)\n            .mapToDouble(Integer::doubleValue)\n            .average()\n            .getAsDouble();\n\n    public static void main(String[] args) {\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n        markAnn.put(&quot;Physics&quot;, Arrays.asList(4, 4, 5));\n        markAnn.put(&quot;Mathematics&quot;, Arrays.asList(2, 3, 4));\n        markAnn.put(&quot;History&quot;, Arrays.asList(3, 3, 3));\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n        markKate.put(&quot;Physics&quot;, Arrays.asList(1, 2, 3));\n        markKate.put(&quot;Mathematics&quot;, Arrays.asList(5, 5, 3));\n        markKate.put(&quot;History&quot;, Arrays.asList(4, 2, 5));\n\n        Student[] students = {\n                new Student(&quot;Ann&quot;, markAnn),\n                new Student(&quot;Kate&quot;, markKate)\n        };\n\n        Map&lt;String, Double&gt; averages = Arrays.stream(students)\n                .collect(Collectors.toMap(Student::getName,\n                        student -&gt; averager.apply(student.getMarks())));\n\n        System.out.println(averages);\n    }\n\n    public Student(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n        this.name = name;\n        this.marks = marks;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n        return marks;\n    }\n\n    private String name;\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\n}\n</code></pre>\n<p>Output (formatted):</p>\n<pre><code>{\n  Ann = 3.4444444444444446,\n  Kate = 3.3333333333333335\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682449353,"creation_date":1682449353,"answer_id":76104587,"question_id":76104211,"body_markdown":"this code works. I forgot to add flatmap\r\n\r\n    Map&lt;String,Double&gt; map = Arrays.stream(students)\r\n                       .collect(Collectors.toMap(St3_1::getName,\r\n                        student -&gt; student.getMarks().entrySet()\r\n                                .stream()\r\n                                .flatMap(z -&gt; z.getValue().stream())\r\n                                .mapToDouble(Integer::doubleValue)\r\n                                .average()\r\n                                .getAsDouble()));","title":"I can&#39;t apply the average() method in the stream","body":"<p>this code works. I forgot to add flatmap</p>\n<pre><code>Map&lt;String,Double&gt; map = Arrays.stream(students)\n                   .collect(Collectors.toMap(St3_1::getName,\n                    student -&gt; student.getMarks().entrySet()\n                            .stream()\n                            .flatMap(z -&gt; z.getValue().stream())\n                            .mapToDouble(Integer::doubleValue)\n                            .average()\n                            .getAsDouble()));\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682449525,"creation_date":1682446136,"question_id":76104211,"body_markdown":"I need to find the average of all the student&#39;s subjects. the result should be similar to this \r\nAnn 3.5 \r\nKate 4.0\r\nfor each student, all his grades in all subjects are added up.\r\nmy solution doesn&#39;t work, I don&#39;t understand why\r\n\r\n    class St3_1 {\r\n    \r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n\r\n\r\n    public St3_1(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n        this.name = name;\r\n        this.marks = marks;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n   \r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, List.of(4, 4, 5));\r\n        markAnn.put(&quot;Mathematics&quot;, List.of(2, 3, 4));\r\n        markAnn.put(&quot;History&quot;, List.of(3, 3, 3));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, List.of(1, 2, 3));\r\n        markKate.put(&quot;Mathematics&quot;, List.of(5, 5, 3));\r\n        markKate.put(&quot;History&quot;, List.of(4, 2, 5));\r\n\r\n        St3_1 [] students = { new St3_1(&quot;Ann&quot;, markAnn),\r\n                              new St3_1(&quot;Kate&quot;, markKate)\r\n        };\r\n        Map&lt;String,Double&gt; map = Arrays.stream(students)\r\n                .collect(Collectors.toMap(St3_1::getName,\r\n                        x -&gt; x.getMarks().entrySet()\r\n                                .stream()\r\n                                .mapToDouble(Integer::doubleValue)\r\n                                .average()\r\n                                .getAsDouble()\r\n                                )\r\n                );\r\n    }\r\n}","title":"I can&#39;t apply the average() method in the stream","body":"<p>I need to find the average of all the student's subjects. the result should be similar to this\nAnn 3.5\nKate 4.0\nfor each student, all his grades in all subjects are added up.\nmy solution doesn't work, I don't understand why</p>\n<pre><code>class St3_1 {\n\nprivate String name;\nprivate Map&lt;String, List&lt;Integer&gt;&gt; marks;\n\n\npublic St3_1(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n    this.name = name;\n    this.marks = marks;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n    return marks;\n}\n\npublic static void main(String[] args) {\n\n    Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n    markAnn.put(&quot;Physics&quot;, List.of(4, 4, 5));\n    markAnn.put(&quot;Mathematics&quot;, List.of(2, 3, 4));\n    markAnn.put(&quot;History&quot;, List.of(3, 3, 3));\n\n    Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n    markKate.put(&quot;Physics&quot;, List.of(1, 2, 3));\n    markKate.put(&quot;Mathematics&quot;, List.of(5, 5, 3));\n    markKate.put(&quot;History&quot;, List.of(4, 2, 5));\n\n    St3_1 [] students = { new St3_1(&quot;Ann&quot;, markAnn),\n                          new St3_1(&quot;Kate&quot;, markKate)\n    };\n    Map&lt;String,Double&gt; map = Arrays.stream(students)\n            .collect(Collectors.toMap(St3_1::getName,\n                    x -&gt; x.getMarks().entrySet()\n                            .stream()\n                            .mapToDouble(Integer::doubleValue)\n                            .average()\n                            .getAsDouble()\n                            )\n            );\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","apache-kafka","spring-kafka-test"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1682399361,"post_id":76097736,"comment_id":134204723,"body_markdown":"Looks like you do not have the kafka libs in your classpath","body":"Looks like you do not have the kafka libs in your classpath"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682403201,"creation_date":1682401716,"answer_id":76097950,"question_id":76097736,"body_markdown":"Something is odd here. The test is apparently trying to load a class called `kafka.common.KafkaException`. But according to the javadocs, the real class name is `org.apache.kafka.common.KafkaException`. \r\n\r\nSo then I look at the source code for the class where this is occurring.\r\n\r\nhttps://github.com/spring-projects/spring-kafka/blob/main/spring-kafka-test/src/main/java/org/springframework/kafka/test/EmbeddedKafkaBroker.java\r\n\r\n... specifically the commit with the title: &quot;kafka-clients 3.3.2 Compatibility&quot;.  It looks like the test code prior to this commit was using `kafka.common.KafkaException` !!!\r\n\r\nSo ... I reckon that you need to update SpringKafka to v3.0.2 or later.   \r\n\r\nSee also the [release note][1] for the SpringKafka v3.0.2 release, and [this pull request][2].  And [this commit][3] too.\r\n\r\n------------------\r\n\r\n&gt; Minimum supported JAVA version with kafka-client 3.4.0\r\n\r\nThe Java version is not the problem.  This is a regression in SpringKafka apparently caused by changes in the Kafka client.  You just need to use a version of SpringKafka with the fix for the regression.\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-kafka/releases/tag/v3.0.2\r\n  [2]: https://github.com/spring-projects/spring-kafka/pull/2540\r\n  [3]: https://github.com/spring-projects/spring-kafka/commit/f079f6159d9d6e0f5bcba60051f8f57bef79cc4d","title":"Minimun supported JAVA version with kafka-client 3.4.0","body":"<p>Something is odd here. The test is apparently trying to load a class called <code>kafka.common.KafkaException</code>. But according to the javadocs, the real class name is <code>org.apache.kafka.common.KafkaException</code>.</p>\n<p>So then I look at the source code for the class where this is occurring.</p>\n<p><a href=\"https://github.com/spring-projects/spring-kafka/blob/main/spring-kafka-test/src/main/java/org/springframework/kafka/test/EmbeddedKafkaBroker.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/blob/main/spring-kafka-test/src/main/java/org/springframework/kafka/test/EmbeddedKafkaBroker.java</a></p>\n<p>... specifically the commit with the title: &quot;kafka-clients 3.3.2 Compatibility&quot;.  It looks like the test code prior to this commit was using <code>kafka.common.KafkaException</code> !!!</p>\n<p>So ... I reckon that you need to update SpringKafka to v3.0.2 or later.</p>\n<p>See also the <a href=\"https://github.com/spring-projects/spring-kafka/releases/tag/v3.0.2\" rel=\"nofollow noreferrer\">release note</a> for the SpringKafka v3.0.2 release, and <a href=\"https://github.com/spring-projects/spring-kafka/pull/2540\" rel=\"nofollow noreferrer\">this pull request</a>.  And <a href=\"https://github.com/spring-projects/spring-kafka/commit/f079f6159d9d6e0f5bcba60051f8f57bef79cc4d\" rel=\"nofollow noreferrer\">this commit</a> too.</p>\n<hr />\n<blockquote>\n<p>Minimum supported JAVA version with kafka-client 3.4.0</p>\n</blockquote>\n<p>The Java version is not the problem.  This is a regression in SpringKafka apparently caused by changes in the Kafka client.  You just need to use a version of SpringKafka with the fix for the regression.</p>\n"}],"owner":{"account_id":28395706,"reputation":11,"user_id":21720810,"display_name":"Sanjana kumari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1682449110,"creation_date":1682398636,"question_id":76097736,"body_markdown":"We are trying to upgarde kafka-client from 2.8.2 to 3.4.0 with JAVA 11.\r\nBut while building the application its failing.\r\n\r\n    Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.543 sec &lt;&lt;&lt; FAILURE!\r\n    testConfigurationNotificationForCMD(com.amadeus.hotel.cde.test.rs.ConfigurationNotificationResourceIntegrationTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\r\n    java.lang.NoClassDefFoundError: kafka/common/KafkaException\r\n    \tat org.springframework.kafka.test.context.EmbeddedKafkaContextCustomizer.customizeContext(EmbeddedKafkaContextCustomizer.java:71)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextCustomizerAdapter.initialize(SpringBootContextLoader.java:330)\r\n    \tat org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:604)\r\n    \tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:373)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:306)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\r\nCan someone help me what are the things required to upgarde kafka-client to 3.4.0\r\n","title":"Minimun supported JAVA version with kafka-client 3.4.0","body":"<p>We are trying to upgarde kafka-client from 2.8.2 to 3.4.0 with JAVA 11.\nBut while building the application its failing.</p>\n<pre><code>Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.543 sec &lt;&lt;&lt; FAILURE!\ntestConfigurationNotificationForCMD(com.amadeus.hotel.cde.test.rs.ConfigurationNotificationResourceIntegrationTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\njava.lang.NoClassDefFoundError: kafka/common/KafkaException\n    at org.springframework.kafka.test.context.EmbeddedKafkaContextCustomizer.customizeContext(EmbeddedKafkaContextCustomizer.java:71)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextCustomizerAdapter.initialize(SpringBootContextLoader.java:330)\n    at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:604)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:373)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:306)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n</code></pre>\n<p>Can someone help me what are the things required to upgarde kafka-client to 3.4.0</p>\n"},{"tags":["java","jvm","fips"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1582029043,"post_id":60219944,"comment_id":106628554,"body_markdown":"Could explain a bit more in detail what you want to check. Which check you did till Java 12?","body":"Could explain a bit more in detail what you want to check. Which check you did till Java 12?"},{"owner":{"account_id":5513230,"reputation":3625,"user_id":4378853,"accept_rate":100,"display_name":"GotoFinal"},"score":0,"creation_date":1582046624,"post_id":60219944,"comment_id":106638662,"body_markdown":"isn&#39;t that enough? https://docs.oracle.com/middleware/1213/wls/SECMG/fips.htm#SECMG773 but please provide more context how you were checking this before and what exacly you need","body":"isn&#39;t that enough? <a href=\"https://docs.oracle.com/middleware/1213/wls/SECMG/fips.htm#SECMG773\" rel=\"nofollow noreferrer\">docs.oracle.com/middleware/1213/wls/SECMG/fips.htm#SECMG773</a> but please provide more context how you were checking this before and what exacly you need"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1582058225,"post_id":60219944,"comment_id":106643947,"body_markdown":"@GotoFinal If this is really what the @user1684651 wants to achieve he shouldn&#39;t bother about it when he is using Java &gt;= 1.8.0_161. It&#39;s enabled by default (possible exceptions are mentioned on the bug report) https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8170157 and can be checked easily with e.g. `Cipher.getMaxAllowedKeyLength(&quot;AES&quot;)` if the result is &gt; 128 then Java Cryptography Extension (JCE) Unlimited Strength is enabled. Which still would leave the question what is the relation to Java &gt; 12 in the question.","body":"@GotoFinal If this is really what the @user1684651 wants to achieve he shouldn&#39;t bother about it when he is using Java &gt;= 1.8.0_161. It&#39;s enabled by default (possible exceptions are mentioned on the bug report) <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8170157\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8170157</a> and can be checked easily with e.g. <code>Cipher.getMaxAllowedKeyLength(&quot;AES&quot;)</code> if the result is &gt; 128 then Java Cryptography Extension (JCE) Unlimited Strength is enabled. Which still would leave the question what is the relation to Java &gt; 12 in the question."}],"answers":[{"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682449039,"creation_date":1582176614,"answer_id":60313461,"question_id":60219944,"body_markdown":"You can use `java.security.Security` class that centralize Security configurations and providers, and then check if a FIPS provider is registered.\r\n\r\nJavadoc: [Security][1]\r\n\r\nYou can iterate over security providers and check if you have a FIPS provider, e.g. **BouncyCastleFipsProvider** or any other FIPS provider.\r\n\r\nAlso, You can check if you have the SunJSSE FIPS in compliant mode (SunPKCS11-NSS  provider). Bear in mind that the SunJSSE Fips compliant mode is being removed in JDK13 and as comments say, the provider is available until Java 13 but since Java 9 it probably won&#39;t work properly.  It is a point to consider and test.\r\n\r\nJavadoc Provider: [javadoc here][2]).\r\n\r\nFor example:\r\n\r\n    Provider[] providers=Security.getProviders();\r\n    for (int i=0; i &lt; providers.length;i++){\r\n         if (providers[i].getName().contains(“Fips”)) return true;\r\n    }\r\n\r\nHope it helps.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/Security.html\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/Provider.html","title":"How to programmatically check if FIPS is enabled on JVM","body":"<p>You can use <code>java.security.Security</code> class that centralize Security configurations and providers, and then check if a FIPS provider is registered.</p>\n<p>Javadoc: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/Security.html\" rel=\"nofollow noreferrer\">Security</a></p>\n<p>You can iterate over security providers and check if you have a FIPS provider, e.g. <strong>BouncyCastleFipsProvider</strong> or any other FIPS provider.</p>\n<p>Also, You can check if you have the SunJSSE FIPS in compliant mode (SunPKCS11-NSS  provider). Bear in mind that the SunJSSE Fips compliant mode is being removed in JDK13 and as comments say, the provider is available until Java 13 but since Java 9 it probably won't work properly.  It is a point to consider and test.</p>\n<p>Javadoc Provider: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/Provider.html\" rel=\"nofollow noreferrer\">javadoc here</a>).</p>\n<p>For example:</p>\n<pre><code>Provider[] providers=Security.getProviders();\nfor (int i=0; i &lt; providers.length;i++){\n     if (providers[i].getName().contains(“Fips”)) return true;\n}\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":1859873,"reputation":410,"user_id":1684651,"accept_rate":40,"display_name":"user1684651"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1682449039,"creation_date":1581654041,"question_id":60219944,"body_markdown":"After Java 12, internal package com.sun.net.ssl is removed.\r\nIs there any way that allow me to programmatically check if FIPS is enabled on JVM? ","title":"How to programmatically check if FIPS is enabled on JVM","body":"<p>After Java 12, internal package com.sun.net.ssl is removed.\nIs there any way that allow me to programmatically check if FIPS is enabled on JVM? </p>\n"},{"tags":["java","configuration","akka","typesafe","typesafe-stack"],"comments":[{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1430283734,"post_id":29934698,"comment_id":47991482,"body_markdown":"Try `System.out.println(config.getString(&quot;location&quot;));`","body":"Try <code>System.out.println(config.getString(&quot;location&quot;));</code>"},{"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":0,"creation_date":1430283797,"post_id":29934698,"comment_id":47991504,"body_markdown":"`com.typesafe.config.ConfigException$Missing: No configuration setting found for key &#39;location&#39;`","body":"<code>com.typesafe.config.ConfigException$Missing: No configuration setting found for key &#39;location&#39;</code>"},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1430283896,"post_id":29934698,"comment_id":47991545,"body_markdown":"You&#39;ve misspelled the filename `test.module.config` instead of `test.module.conf`","body":"You&#39;ve misspelled the filename <code>test.module.config</code> instead of <code>test.module.conf</code>"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1430288467,"post_id":29934698,"comment_id":47993407,"body_markdown":"What about &quot;/module/test.module.conf&quot;  to include package?","body":"What about &quot;/module/test.module.conf&quot;  to include package?"},{"owner":{"account_id":1295811,"reputation":2575,"user_id":1246909,"accept_rate":70,"display_name":"nuvio"},"score":0,"creation_date":1470210817,"post_id":29934698,"comment_id":64849878,"body_markdown":"You can also add `ConfigParseOptions parseOptions = ConfigParseOptions.defaults().setAllowMissing(false);` \nand then do `ConfigFactory.parseResources(&quot;whatever.conf&quot;, parseOptions);`\n\nwhich will throw an error if the resource is not found","body":"You can also add <code>ConfigParseOptions parseOptions = ConfigParseOptions.defaults().setAllowMissing(false);</code>  and then do <code>ConfigFactory.parseResources(&quot;whatever.conf&quot;, parseOptions);</code>  which will throw an error if the resource is not found"},{"owner":{"account_id":1707751,"reputation":407,"user_id":1566477,"accept_rate":71,"display_name":"ericpeters"},"score":0,"creation_date":1522242416,"post_id":29934698,"comment_id":86077169,"body_markdown":"@nuvio thanks!  This is exactly what I was looking for","body":"@nuvio thanks!  This is exactly what I was looking for"}],"answers":[{"tags":[],"owner":{"account_id":2674438,"reputation":35313,"user_id":2311148,"display_name":"cmbaxter"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1430309782,"creation_date":1430309782,"answer_id":29943502,"question_id":29934698,"body_markdown":"If you want to load that test config file try this:\r\n\r\n    ConfigFactory.load(&quot;modules/test.module&quot;)\r\n\r\nThe base `ConfigFactory.load()` method looks to load &#39;application.conf&#39;.  If you want it to load a different file you need to tell it what that different file is.","title":"Typesafe Config: Load configuration from src/test/resources","body":"<p>If you want to load that test config file try this:</p>\n\n<pre><code>ConfigFactory.load(\"modules/test.module\")\n</code></pre>\n\n<p>The base <code>ConfigFactory.load()</code> method looks to load 'application.conf'.  If you want it to load a different file you need to tell it what that different file is.</p>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682448721,"creation_date":1682448162,"answer_id":76104441,"question_id":29934698,"body_markdown":"To load from test-resource-root: \r\n\r\n\r\nf.ex:\r\n\r\n    someModule/src/test/resources/some.conf\r\n\r\n\r\nThis works for me:\r\n\r\n    ConfigParseOptions options = ConfigParseOptions.defaults().setAllowMissing(false);\r\n            \r\n    final Config config =  ConfigFactory.parseResources(&quot;some.conf&quot;, options);","title":"Typesafe Config: Load configuration from src/test/resources","body":"<p>To load from test-resource-root:</p>\n<p>f.ex:</p>\n<pre><code>someModule/src/test/resources/some.conf\n</code></pre>\n<p>This works for me:</p>\n<pre><code>ConfigParseOptions options = ConfigParseOptions.defaults().setAllowMissing(false);\n        \nfinal Config config =  ConfigFactory.parseResources(&quot;some.conf&quot;, options);\n</code></pre>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19678,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29943502,"answer_count":2,"score":11,"last_activity_date":1682448721,"creation_date":1430283388,"question_id":29934698,"body_markdown":"This is a beginner question. So my app structure looks like  \r\n\r\n    src/main/java/...\r\n    src/main/resources/application.conf\r\n    \r\n    src/test/java/...\r\n    src/test/resources/module/test.module.conf\r\n\r\n\r\n**application.conf**\r\n\r\n    location: mainLocation\r\n\r\n**test.module.conf**\r\n\r\n    location: testLocation\r\n\r\nIn my test, I do  \r\n\r\n      @Test\r\n      public void testLoadConfig() {\r\n        final Config config = ConfigFactory.parseResources(&quot;test.module.conf&quot;);\r\n        System.out.println(config);\r\n      }\r\n\r\nand what I see  \r\n\r\n    Config(SimpleConfigObject({}))\r\n\r\nSurely something is not right, but I can&#39;t spot it  \r\n\r\n**UPDATE**  \r\n\r\nWhen I do just\r\n\r\n      @Test\r\n      public void testActorForFailure() {\r\n    //    final Config config = ConfigFactory.load(&quot;test.module.conf&quot;);\r\n        final Config config = ConfigFactory.load();\r\n        System.out.println(config.getString(&quot;location&quot;));\r\n    \r\n      }\r\n\r\n\r\nI see  \r\n\r\n    mainLocation\r\n\r\nSo overriding is not working, why?","title":"Typesafe Config: Load configuration from src/test/resources","body":"<p>This is a beginner question. So my app structure looks like  </p>\n\n<pre><code>src/main/java/...\nsrc/main/resources/application.conf\n\nsrc/test/java/...\nsrc/test/resources/module/test.module.conf\n</code></pre>\n\n<p><strong>application.conf</strong></p>\n\n<pre><code>location: mainLocation\n</code></pre>\n\n<p><strong>test.module.conf</strong></p>\n\n<pre><code>location: testLocation\n</code></pre>\n\n<p>In my test, I do  </p>\n\n<pre><code>  @Test\n  public void testLoadConfig() {\n    final Config config = ConfigFactory.parseResources(\"test.module.conf\");\n    System.out.println(config);\n  }\n</code></pre>\n\n<p>and what I see  </p>\n\n<pre><code>Config(SimpleConfigObject({}))\n</code></pre>\n\n<p>Surely something is not right, but I can't spot it  </p>\n\n<p><strong>UPDATE</strong>  </p>\n\n<p>When I do just</p>\n\n<pre><code>  @Test\n  public void testActorForFailure() {\n//    final Config config = ConfigFactory.load(\"test.module.conf\");\n    final Config config = ConfigFactory.load();\n    System.out.println(config.getString(\"location\"));\n\n  }\n</code></pre>\n\n<p>I see  </p>\n\n<pre><code>mainLocation\n</code></pre>\n\n<p>So overriding is not working, why?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1682425035,"post_id":76100666,"comment_id":134210057,"body_markdown":"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#_reactive_kafka_binder","body":"<a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#_reactive_kafka_binder\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1682430443,"post_id":76100666,"comment_id":134211793,"body_markdown":"Not clear what you are a asking. So, you want `findAllByUserId()` to be as a part of that `getEventsFlux`? Why then do you need Kafka in between?","body":"Not clear what you are a asking. So, you want <code>findAllByUserId()</code> to be as a part of that <code>getEventsFlux</code>? Why then do you need Kafka in between?"},{"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"score":0,"creation_date":1682433436,"post_id":76100666,"comment_id":134212745,"body_markdown":"Hi Artem! I don&#39;t want that specifically, right now I have one endpoint to get the messages from the topic, and another one to produce them. Instead, I want both thing in the same endpoint.","body":"Hi Artem! I don&#39;t want that specifically, right now I have one endpoint to get the messages from the topic, and another one to produce them. Instead, I want both thing in the same endpoint."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1682440294,"post_id":76100666,"comment_id":134214772,"body_markdown":"But you already call that `generateFirstNotification()`  from your `getEventsFlux()` controller method. What is wrong with that?","body":"But you already call that <code>generateFirstNotification()</code>  from your <code>getEventsFlux()</code> controller method. What is wrong with that?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682448761,"post_id":76100666,"comment_id":134216674,"body_markdown":"Ideally, Kafka consumer is always running on a background thread. Not started from HTTP action. Then your HTTP action can query the database that is populated from that Kafka consumer, running elsewhere.","body":"Ideally, Kafka consumer is always running on a background thread. Not started from HTTP action. Then your HTTP action can query the database that is populated from that Kafka consumer, running elsewhere."},{"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"score":0,"creation_date":1682492964,"post_id":76100666,"comment_id":134222816,"body_markdown":"Hi Artem! The problem is that with that code I don&#39;t receive any messages. With two different endpoints everything is working fine, I get all the notifications from the database, but if I use only one, I don&#39;t get any notification","body":"Hi Artem! The problem is that with that code I don&#39;t receive any messages. With two different endpoints everything is working fine, I get all the notifications from the database, but if I use only one, I don&#39;t get any notification"},{"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"score":0,"creation_date":1682493464,"post_id":76100666,"comment_id":134222931,"body_markdown":"Hi OneC! I have to run the reactive consumer from the front-end in order to get all the notifications in a reactive way, I mean, if I have a new notification, I want it on my app asap, so because of that we have to open the consumer from http request","body":"Hi OneC! I have to run the reactive consumer from the front-end in order to get all the notifications in a reactive way, I mean, if I have a new notification, I want it on my app asap, so because of that we have to open the consumer from http request"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1682502472,"post_id":76100666,"comment_id":134224956,"body_markdown":"maybe you could return Flux from generateFirstNotification method and then just subsribe a new Consumer to it which will call &quot;kafkaFlux.filter(...&quot;","body":"maybe you could return Flux from generateFirstNotification method and then just subsribe a new Consumer to it which will call &quot;kafkaFlux.filter(...&quot;"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1682513736,"post_id":76100666,"comment_id":134227670,"body_markdown":"Let&#39;s see if `auto.offset.reset=earliest` cam help you somehow!","body":"Let&#39;s see if <code>auto.offset.reset=earliest</code> cam help you somehow!"},{"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"score":0,"creation_date":1682577147,"post_id":76100666,"comment_id":134238424,"body_markdown":"It didn&#39;t work :(","body":"It didn&#39;t work :("}],"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682448676,"creation_date":1682422154,"question_id":76100666,"body_markdown":"I want to create a reactive endpoint using WebFlux and Reactor Kafka in order to get the notifications for a user.\r\n\r\nThe idea is to bring the stored notifications in the database in the first place and then keep the endpoint open to listen to new notifications.\r\n\r\nController\r\n```\r\n@GetMapping(&quot;/notifications/users/{userId}&quot;)\r\nFlux&lt;ServerSentEvent&gt; getEventsFlux(@PathVariable String userId) {\r\n    Flux&lt;ReceiverRecord&lt;String, String&gt;&gt; kafkaFlux = kafkaReceiver.receive();\r\n    kafkaNotificationService.generateFirstNotification(userId);\r\n    return kafkaFlux.filter(sN -&gt; sN.value().toLowerCase().contains(userId))\r\n            .map(r -&gt; ServerSentEvent.builder().event(r.value()).build());\r\n}\r\n```\r\n\r\nService\r\n```\r\npublic void generateFirstNotification(String userId) {\r\n    Flux&lt;Notification&gt; notifications = notificationRepository.findAllByUserId(UUID.fromString(userId));\r\n    sender.&lt;Notification&gt;send(notifications\r\n                .map(i -&gt; SenderRecord.create(new ProducerRecord&lt;&gt;(TOPIC, &quot;Key&quot;, objectMapper.convertValue(i, JSONObject.class).toJSONString()), i)))\r\n                .doOnError(e -&gt; log.error(&quot;Send failed&quot;, e))\r\n                .subscribe();\r\n    }\r\n```\r\n\r\nIf I create two endpoints like the ones below, one for receiving messages and other for producing the first notifications(using the service above) it&#39;s working.\r\n\r\nController\r\n```\r\n@GetMapping(&quot;/notifications/produce-messages/{userId}&quot;)\r\nvoid getEventsFlux(@PathVariable String userId) {\r\n    kafkaService.generateFirstNotification(userId);\r\n}\r\n\r\n@GetMapping(&quot;/notifications/get-messages/{userId}&quot;)\r\nFlux&lt;ServerSentEvent&gt; getMessages(@PathVariable String userId) {\r\n    Flux&lt;ReceiverRecord&lt;String, String&gt;&gt; kafkaFlux = kafkaReceiver.receive();\r\n    return kafkaFlux.filter(sN -&gt;sN.value().toLowerCase().contains(userId))\r\n                .map(r -&gt; ServerSentEvent.builder().event(r.value()).build());\r\n}\r\n```\r\n\r\nI would like to have one single endpoint to do everything.\r\n\r\nThank you so much\r\nBest regards","title":"How can I produce and consume messages in same endpoint using kafka reactor?","body":"<p>I want to create a reactive endpoint using WebFlux and Reactor Kafka in order to get the notifications for a user.</p>\n<p>The idea is to bring the stored notifications in the database in the first place and then keep the endpoint open to listen to new notifications.</p>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/notifications/users/{userId}&quot;)\nFlux&lt;ServerSentEvent&gt; getEventsFlux(@PathVariable String userId) {\n    Flux&lt;ReceiverRecord&lt;String, String&gt;&gt; kafkaFlux = kafkaReceiver.receive();\n    kafkaNotificationService.generateFirstNotification(userId);\n    return kafkaFlux.filter(sN -&gt; sN.value().toLowerCase().contains(userId))\n            .map(r -&gt; ServerSentEvent.builder().event(r.value()).build());\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public void generateFirstNotification(String userId) {\n    Flux&lt;Notification&gt; notifications = notificationRepository.findAllByUserId(UUID.fromString(userId));\n    sender.&lt;Notification&gt;send(notifications\n                .map(i -&gt; SenderRecord.create(new ProducerRecord&lt;&gt;(TOPIC, &quot;Key&quot;, objectMapper.convertValue(i, JSONObject.class).toJSONString()), i)))\n                .doOnError(e -&gt; log.error(&quot;Send failed&quot;, e))\n                .subscribe();\n    }\n</code></pre>\n<p>If I create two endpoints like the ones below, one for receiving messages and other for producing the first notifications(using the service above) it's working.</p>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/notifications/produce-messages/{userId}&quot;)\nvoid getEventsFlux(@PathVariable String userId) {\n    kafkaService.generateFirstNotification(userId);\n}\n\n@GetMapping(&quot;/notifications/get-messages/{userId}&quot;)\nFlux&lt;ServerSentEvent&gt; getMessages(@PathVariable String userId) {\n    Flux&lt;ReceiverRecord&lt;String, String&gt;&gt; kafkaFlux = kafkaReceiver.receive();\n    return kafkaFlux.filter(sN -&gt;sN.value().toLowerCase().contains(userId))\n                .map(r -&gt; ServerSentEvent.builder().event(r.value()).build());\n}\n</code></pre>\n<p>I would like to have one single endpoint to do everything.</p>\n<p>Thank you so much\nBest regards</p>\n"},{"tags":["java","android","android-room","datastore","transactiontoolargeexception"],"comments":[{"owner":{"account_id":1308536,"reputation":2467,"user_id":2123586,"accept_rate":67,"display_name":"Zsolt Boldizsar"},"score":0,"creation_date":1682448867,"post_id":76104496,"comment_id":134216695,"body_markdown":"What are you using the list for on the other side?","body":"What are you using the list for on the other side?"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682455230,"post_id":76104496,"comment_id":134218005,"body_markdown":"Does this answer your question? [What to do on TransactionTooLargeException](https://stackoverflow.com/questions/11451393/what-to-do-on-transactiontoolargeexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11451393/what-to-do-on-transactiontoolargeexception\">What to do on TransactionTooLargeException</a>"}],"owner":{"account_id":17837080,"reputation":41,"user_id":12955842,"display_name":"Shams Choudhury"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682448592,"creation_date":1682448592,"question_id":76104496,"body_markdown":"one of our Android application is crashing sometimes with TransactionTooLargeException as we are putting an ArrayList of approx size 500 (Shallow Size of 85,000 / Retained size of 1,400,000). I understand that we need to use **DataStore** or **Room DB** instead of ```intent.putExtras(bundle)```. Any suggestion on which method is ideal for this type of scenario?  and if you can point me to a good resource on how to implement it in SDK 33?\r\n\r\n```\r\nTransaction too large, intent: Intent { cmp=client.*****/.********* (has extras) }, extras size: 603940, icicle size: 0\r\n14:19:54.677  E  Second failure launching client.*****/.********, giving up\r\n                 android.os.TransactionTooLargeException: data parcel size 606852 bytes\r\n                 \tat android.os.BinderProxy.transactNative(Native Method)\r\n                 \tat android.os.BinderProxy.transact(BinderProxy.java:653)\r\n                 \tat android.app.IApplicationThread$Stub$Proxy.scheduleTransaction(IApplicationThread.java:2031)\r\n                 \tat android.app.servertransaction.ClientTransaction.schedule(ClientTransaction.java:136)\r\n                 \tat com.android.server.wm.ClientLifecycleManager.scheduleTransaction(ClientLifecycleManager.java:47)\r\n                 \tat com.android.server.wm.ActivityTaskSupervisor.realStartActivityLocked(ActivityTaskSupervisor.java:1063)\r\n                 \tat com.android.server.wm.RootWindowContainer$AttachApplicationHelper.test(RootWindowContainer.java:4219)\r\n                 \tat com.android.server.wm.RootWindowContainer$AttachApplicationHelper.test(RootWindowContainer.java:4169)\r\n                 \tat com.android.server.wm.ActivityRecord.forAllActivities(ActivityRecord.java:5362)\r\n                 \tat com.android.server.wm.WindowContainer.forAllActivities(WindowContainer.java:1712)\r\n                 \tat com.android.server.wm.WindowContainer.forAllActivities(WindowContainer.java:1706)\r\n                 \tat com.android.server.wm.RootWindowContainer$AttachApplicationHelper.accept(RootWindowContainer.java:4207)\r\n                 \tat com.android.server.wm.RootWindowContainer$AttachApplicationHelper.accept(RootWindowContainer.java:4169)\r\n                 \tat com.android.server.wm.Task.forAllRootTasks(Task.java:4033)\r\n                 \tat com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\r\n                 \tat com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\r\n                 \tat com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\r\n                 \tat com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\r\n                 \tat com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\r\n                 \tat com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\r\n                 \tat com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2081)\r\n                 \tat com.android.server.wm.RootWindowContainer$AttachApplicationHelper.process(RootWindowContainer.java:4185)\r\n                 \tat com.android.server.wm.RootWindowContainer.attachApplication(RootWindowContainer.java:2203)\r\n                 \tat com.android.server.wm.ActivityTaskManagerService$LocalService.attachApplication(ActivityTaskManagerService.java:7573)\r\n                 \tat com.android.server.am.ActivityManagerService.attachApplicationLocked(ActivityManagerService.java:5782)\r\n                 \tat com.android.server.am.ActivityManagerService.attachApplication(ActivityManagerService.java:5890)\r\n                 \tat android.app.IActivityManager$Stub.onTransact(IActivityManager.java:2764)\r\n                 \tat com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:3077)\r\n                 \tat android.os.Binder.execTransactInternal(Binder.java:1316)\r\n                 \tat android.os.Binder.execTransact(Binder.java:1280)\r\n```","title":"how to tackle TransactionTooLargeException in Android applications?","body":"<p>one of our Android application is crashing sometimes with TransactionTooLargeException as we are putting an ArrayList of approx size 500 (Shallow Size of 85,000 / Retained size of 1,400,000). I understand that we need to use <strong>DataStore</strong> or <strong>Room DB</strong> instead of <code>intent.putExtras(bundle)</code>. Any suggestion on which method is ideal for this type of scenario?  and if you can point me to a good resource on how to implement it in SDK 33?</p>\n<pre><code>Transaction too large, intent: Intent { cmp=client.*****/.********* (has extras) }, extras size: 603940, icicle size: 0\n14:19:54.677  E  Second failure launching client.*****/.********, giving up\n                 android.os.TransactionTooLargeException: data parcel size 606852 bytes\n                    at android.os.BinderProxy.transactNative(Native Method)\n                    at android.os.BinderProxy.transact(BinderProxy.java:653)\n                    at android.app.IApplicationThread$Stub$Proxy.scheduleTransaction(IApplicationThread.java:2031)\n                    at android.app.servertransaction.ClientTransaction.schedule(ClientTransaction.java:136)\n                    at com.android.server.wm.ClientLifecycleManager.scheduleTransaction(ClientLifecycleManager.java:47)\n                    at com.android.server.wm.ActivityTaskSupervisor.realStartActivityLocked(ActivityTaskSupervisor.java:1063)\n                    at com.android.server.wm.RootWindowContainer$AttachApplicationHelper.test(RootWindowContainer.java:4219)\n                    at com.android.server.wm.RootWindowContainer$AttachApplicationHelper.test(RootWindowContainer.java:4169)\n                    at com.android.server.wm.ActivityRecord.forAllActivities(ActivityRecord.java:5362)\n                    at com.android.server.wm.WindowContainer.forAllActivities(WindowContainer.java:1712)\n                    at com.android.server.wm.WindowContainer.forAllActivities(WindowContainer.java:1706)\n                    at com.android.server.wm.RootWindowContainer$AttachApplicationHelper.accept(RootWindowContainer.java:4207)\n                    at com.android.server.wm.RootWindowContainer$AttachApplicationHelper.accept(RootWindowContainer.java:4169)\n                    at com.android.server.wm.Task.forAllRootTasks(Task.java:4033)\n                    at com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\n                    at com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\n                    at com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\n                    at com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\n                    at com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\n                    at com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2088)\n                    at com.android.server.wm.WindowContainer.forAllRootTasks(WindowContainer.java:2081)\n                    at com.android.server.wm.RootWindowContainer$AttachApplicationHelper.process(RootWindowContainer.java:4185)\n                    at com.android.server.wm.RootWindowContainer.attachApplication(RootWindowContainer.java:2203)\n                    at com.android.server.wm.ActivityTaskManagerService$LocalService.attachApplication(ActivityTaskManagerService.java:7573)\n                    at com.android.server.am.ActivityManagerService.attachApplicationLocked(ActivityManagerService.java:5782)\n                    at com.android.server.am.ActivityManagerService.attachApplication(ActivityManagerService.java:5890)\n                    at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:2764)\n                    at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:3077)\n                    at android.os.Binder.execTransactInternal(Binder.java:1316)\n                    at android.os.Binder.execTransact(Binder.java:1280)\n</code></pre>\n"},{"tags":["java","amazon-s3","apache-kafka","apache-kafka-connect"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682448583,"creation_date":1682448583,"answer_id":76104494,"question_id":76101279,"body_markdown":"It does allocate a buffer, but in heap, and not files. \r\n\r\n[This issue](https://github.com/confluentinc/kafka-connect-storage-cloud/issues/177#issuecomment-402249805) describes how it is done with TimebasedPartitioner. ","title":"Does Kafka S3 Sink Connector allocate temporary files or offheap memory before commiting files to S3?","body":"<p>It does allocate a buffer, but in heap, and not files.</p>\n<p><a href=\"https://github.com/confluentinc/kafka-connect-storage-cloud/issues/177#issuecomment-402249805\" rel=\"nofollow noreferrer\">This issue</a> describes how it is done with TimebasedPartitioner.</p>\n"}],"owner":{"account_id":330259,"reputation":5603,"user_id":654269,"accept_rate":93,"display_name":"Majid Azimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76104494,"answer_count":1,"score":0,"last_activity_date":1682448583,"creation_date":1682426375,"question_id":76101279,"body_markdown":"I&#39;m looking into [Kafka connect S3 sink][1] source code, to figure out whether it creates temporary files before uploading to S3.\r\n\r\nWhat I have found is that records are appended to an in-memory [queue][2] `Queue&lt;SinkRecord&gt;`. However, I also found in record writer, there is also `DataFileWriter` to write [Avro][3] files which makes it confusing. \r\n\r\nCan any anyone confirm whether S3 sink connector (with Avro format) creates temporary files or allocate off heap memory?\r\n\r\n\r\n  [1]: https://github.com/confluentinc/kafka-connect-storage-cloud/tree/master/kafka-connect-s3/src/main/java/io/confluent/connect/s3\r\n  [2]: https://github.com/confluentinc/kafka-connect-storage-cloud/blob/8702881c7c781ad26cb7b278ac556f75b2bd8f01/kafka-connect-s3/src/main/java/io/confluent/connect/s3/TopicPartitionWriter.java#L73\r\n  [3]: https://github.com/confluentinc/kafka-connect-storage-cloud/blob/8702881c7c781ad26cb7b278ac556f75b2bd8f01/kafka-connect-s3/src/main/java/io/confluent/connect/s3/format/avro/AvroRecordWriterProvider.java#L61","title":"Does Kafka S3 Sink Connector allocate temporary files or offheap memory before commiting files to S3?","body":"<p>I'm looking into <a href=\"https://github.com/confluentinc/kafka-connect-storage-cloud/tree/master/kafka-connect-s3/src/main/java/io/confluent/connect/s3\" rel=\"nofollow noreferrer\">Kafka connect S3 sink</a> source code, to figure out whether it creates temporary files before uploading to S3.</p>\n<p>What I have found is that records are appended to an in-memory <a href=\"https://github.com/confluentinc/kafka-connect-storage-cloud/blob/8702881c7c781ad26cb7b278ac556f75b2bd8f01/kafka-connect-s3/src/main/java/io/confluent/connect/s3/TopicPartitionWriter.java#L73\" rel=\"nofollow noreferrer\">queue</a> <code>Queue&lt;SinkRecord&gt;</code>. However, I also found in record writer, there is also <code>DataFileWriter</code> to write <a href=\"https://github.com/confluentinc/kafka-connect-storage-cloud/blob/8702881c7c781ad26cb7b278ac556f75b2bd8f01/kafka-connect-s3/src/main/java/io/confluent/connect/s3/format/avro/AvroRecordWriterProvider.java#L61\" rel=\"nofollow noreferrer\">Avro</a> files which makes it confusing.</p>\n<p>Can any anyone confirm whether S3 sink connector (with Avro format) creates temporary files or allocate off heap memory?</p>\n"},{"tags":["java","string","oop","java-8","substring"],"comments":[{"owner":{"account_id":1582991,"reputation":2281,"user_id":1467914,"accept_rate":75,"display_name":"topsail"},"score":2,"creation_date":1682443938,"post_id":76103912,"comment_id":134215667,"body_markdown":"Are you sure what you read was accurate? Where did you read it?","body":"Are you sure what you read was accurate? Where did you read it?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1682452201,"post_id":76103912,"comment_id":134217392,"body_markdown":"I suspect you are talking about how the _old_ implementation of `substring` could cause a memory _leak_.","body":"I suspect you are talking about how the <i>old</i> implementation of <code>substring</code> could cause a memory <i>leak</i>."},{"owner":{"account_id":28414546,"reputation":1,"user_id":21737497,"display_name":"Shubham"},"score":0,"creation_date":1682533664,"post_id":76103912,"comment_id":134232944,"body_markdown":"yes yes ,in the old implementation","body":"yes yes ,in the old implementation"}],"answers":[{"tags":[],"owner":{"account_id":91942,"reputation":8072,"user_id":252218,"accept_rate":91,"display_name":"BoppreH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682448117,"creation_date":1682444306,"answer_id":76103992,"question_id":76103912,"body_markdown":"This could happen if you&#39;re processing long strings with sizes close to your available memory. The function subString returns a copy starting from a given index, and this copy uses some memory.\r\n\r\nExample: you have 6 GB of memory, and are processing a string that is 4 GB long. You call `myString.substring(1)`, which returns a full copy (minus 1 byte). The system will have to allocate 4 GB for the new copy, but it doesn&#39;t have enough. Result: OutOfMemoryError.\r\n\r\nNote that strings are usually much, much smaller than available memory, so this is not a common concern. An uncompressed copy of the entire Wikipedia is on the order of 10&#39;s of gigabytes, for example, and you&#39;re unlikely to load that as a string in Java.","title":"How does the subString method cause memory overflow","body":"<p>This could happen if you're processing long strings with sizes close to your available memory. The function subString returns a copy starting from a given index, and this copy uses some memory.</p>\n<p>Example: you have 6 GB of memory, and are processing a string that is 4 GB long. You call <code>myString.substring(1)</code>, which returns a full copy (minus 1 byte). The system will have to allocate 4 GB for the new copy, but it doesn't have enough. Result: OutOfMemoryError.</p>\n<p>Note that strings are usually much, much smaller than available memory, so this is not a common concern. An uncompressed copy of the entire Wikipedia is on the order of 10's of gigabytes, for example, and you're unlikely to load that as a string in Java.</p>\n"}],"owner":{"account_id":28414546,"reputation":1,"user_id":21737497,"display_name":"Shubham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682448117,"creation_date":1682443712,"question_id":76103912,"body_markdown":"I read somewhere that the String subString method causes memory overflow.How does that happen\r\n\r\nI tried to read the documentation but was not able to understand ","title":"How does the subString method cause memory overflow","body":"<p>I read somewhere that the String subString method causes memory overflow.How does that happen</p>\n<p>I tried to read the documentation but was not able to understand</p>\n"},{"tags":["java","android","call","incoming-call"],"answers":[{"tags":[],"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682405622,"creation_date":1682405622,"answer_id":76098342,"question_id":76097725,"body_markdown":"You can try doing this inside your BroadcastReceiver class,\r\n\r\n        public class IncomingCallInterceptor extends BroadcastReceiver {\r\n         @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n\r\n        String callingSIM = &quot;&quot;;\r\n        Bundle bundle = intent.getExtras();\r\n        callingSIM =String.valueOf(bundle.getInt(&quot;simId&quot;, -1));\r\n\r\n        if(callingSIM == &quot;0&quot;){\r\n            // Incoming call from SIM1\r\n        }\r\n        else if(callingSIM ==&quot;1&quot;){\r\n            // Incoming call from SIM2\r\n        }\r\n        }","title":"Detecting which SIM a incoming call is coming from android?","body":"<p>You can try doing this inside your BroadcastReceiver class,</p>\n<pre><code>    public class IncomingCallInterceptor extends BroadcastReceiver {\n     @Override\n    public void onReceive(Context context, Intent intent) {\n\n    String callingSIM = &quot;&quot;;\n    Bundle bundle = intent.getExtras();\n    callingSIM =String.valueOf(bundle.getInt(&quot;simId&quot;, -1));\n\n    if(callingSIM == &quot;0&quot;){\n        // Incoming call from SIM1\n    }\n    else if(callingSIM ==&quot;1&quot;){\n        // Incoming call from SIM2\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682448035,"creation_date":1682448035,"answer_id":76104426,"question_id":76097725,"body_markdown":"You can try the following solution for this using `SubscriptionInfo` class.\r\n * But this works only when the phone number is associated with the SIM card.\r\n \r\n\r\n       TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n        SubscriptionManager subscriptionManager = SubscriptionManager.from(getApplicationContext());\r\n        \r\n        // Create a PhoneStateListener to detect incoming calls\r\n        PhoneStateListener phoneStateListener = new PhoneStateListener() {\r\n            @Override\r\n            public void onCallStateChanged(int state, String phoneNumber) {\r\n                if (state == TelephonyManager.CALL_STATE_RINGING) {\r\n                    // Retrieve the list of active subscriptions\r\n                    List&lt;SubscriptionInfo&gt; subscriptionInfoList = subscriptionManager.getActiveSubscriptionInfoList();\r\n                    if (subscriptionInfoList != null) {\r\n                        // Loop through the list of active subscriptions\r\n                        for (SubscriptionInfo subscriptionInfo : subscriptionInfoList) {\r\n                            // Retrieve the phone number of the SIM card\r\n                            String simPhoneNumber = telephonyManager.getLine1Number(subscriptionInfo.getSubscriptionId());\r\n                            if (simPhoneNumber != null &amp;&amp; simPhoneNumber.equals(phoneNumber)) {\r\n                                // The incoming call belongs to this SIM card\r\n                                int simSlotIndex = subscriptionInfo.getSimSlotIndex();\r\n                                Log.d(TAG, &quot;Incoming call belongs to SIM card in slot &quot; + simSlotIndex);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        \r\nRegister the PhoneStateListener,\r\n\r\n    telephonyManager.listen(phoneStateListener, PhoneStateListener.LISTEN_CALL_STATE);\r\n\r\n","title":"Detecting which SIM a incoming call is coming from android?","body":"<p>You can try the following solution for this using <code>SubscriptionInfo</code> class.</p>\n<ul>\n<li><p>But this works only when the phone number is associated with the SIM card.</p>\n<pre><code>TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n SubscriptionManager subscriptionManager = SubscriptionManager.from(getApplicationContext());\n\n // Create a PhoneStateListener to detect incoming calls\n PhoneStateListener phoneStateListener = new PhoneStateListener() {\n     @Override\n     public void onCallStateChanged(int state, String phoneNumber) {\n         if (state == TelephonyManager.CALL_STATE_RINGING) {\n             // Retrieve the list of active subscriptions\n             List&lt;SubscriptionInfo&gt; subscriptionInfoList = subscriptionManager.getActiveSubscriptionInfoList();\n             if (subscriptionInfoList != null) {\n                 // Loop through the list of active subscriptions\n                 for (SubscriptionInfo subscriptionInfo : subscriptionInfoList) {\n                     // Retrieve the phone number of the SIM card\n                     String simPhoneNumber = telephonyManager.getLine1Number(subscriptionInfo.getSubscriptionId());\n                     if (simPhoneNumber != null &amp;&amp; simPhoneNumber.equals(phoneNumber)) {\n                         // The incoming call belongs to this SIM card\n                         int simSlotIndex = subscriptionInfo.getSimSlotIndex();\n                         Log.d(TAG, &quot;Incoming call belongs to SIM card in slot &quot; + simSlotIndex);\n                         break;\n                     }\n                 }\n             }\n         }\n     }\n };\n</code></pre>\n</li>\n</ul>\n<p>Register the PhoneStateListener,</p>\n<pre><code>telephonyManager.listen(phoneStateListener, PhoneStateListener.LISTEN_CALL_STATE);\n</code></pre>\n"}],"owner":{"account_id":6746145,"reputation":4817,"user_id":5197712,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682448035,"creation_date":1682398449,"question_id":76097725,"body_markdown":" I neeed to detect target sim card of incoming call on multiple sim devices. I have tired a lot of posts and tried many solutions, but all the solutions are outdated. Not working on newer version of Android. \r\n\r\nI tried the below solutions, nothing helps\r\n\r\n        int simSlot = intent.getIntExtra(&quot;simSlot&quot;, -1);\r\n        int simId = intent.getIntExtra(&quot;simId&quot;, -1);\r\n        int slot = intent.getIntExtra(&quot;slot&quot;, -1);\r\n\r\nThese all are `returns -1`\r\n\r\n    String[] array = new String[]{\r\n            &quot;extra_asus_dial_use_dualsim&quot;,\r\n            &quot;com.android.phone.extra.slot&quot;,\r\n            &quot;slot&quot;,\r\n            &quot;simslot&quot;,\r\n            &quot;sim_slot&quot;,\r\n            &quot;subscription&quot;,\r\n            &quot;Subscription&quot;,\r\n            &quot;phone&quot;,\r\n            &quot;com.android.phone.DialingMode&quot;,\r\n            &quot;simSlot&quot;,\r\n            &quot;slot_id&quot;,\r\n            &quot;simId&quot;,\r\n            &quot;simnum&quot;,\r\n            &quot;phone_type&quot;,\r\n            &quot;slotId&quot;,\r\n            &quot;slotIdx&quot;\r\n    };\r\n    \r\n    for (String item :\r\n            array) {\r\n        Log.i(TAG, &quot;Sim Card - &quot; + item + &quot; -----&gt; &quot; + intent.getExtras().getInt(item));\r\n    }\r\n\r\n   The output is always `returns 0`\r\n\r\nSome articles shows it&#39;s not possible. But TrueCaller shows the target simcard for all incomming calls in all android mobiles. \r\n\r\nI want to know solution like this\r\n\r\n\r\n**I tried so many ways nothing helps. Any help will be highly appriciated. Thanks in advance**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vqyuI.jpg","title":"Detecting which SIM a incoming call is coming from android?","body":"<p>I neeed to detect target sim card of incoming call on multiple sim devices. I have tired a lot of posts and tried many solutions, but all the solutions are outdated. Not working on newer version of Android.</p>\n<p>I tried the below solutions, nothing helps</p>\n<pre><code>    int simSlot = intent.getIntExtra(&quot;simSlot&quot;, -1);\n    int simId = intent.getIntExtra(&quot;simId&quot;, -1);\n    int slot = intent.getIntExtra(&quot;slot&quot;, -1);\n</code></pre>\n<p>These all are <code>returns -1</code></p>\n<pre><code>String[] array = new String[]{\n        &quot;extra_asus_dial_use_dualsim&quot;,\n        &quot;com.android.phone.extra.slot&quot;,\n        &quot;slot&quot;,\n        &quot;simslot&quot;,\n        &quot;sim_slot&quot;,\n        &quot;subscription&quot;,\n        &quot;Subscription&quot;,\n        &quot;phone&quot;,\n        &quot;com.android.phone.DialingMode&quot;,\n        &quot;simSlot&quot;,\n        &quot;slot_id&quot;,\n        &quot;simId&quot;,\n        &quot;simnum&quot;,\n        &quot;phone_type&quot;,\n        &quot;slotId&quot;,\n        &quot;slotIdx&quot;\n};\n\nfor (String item :\n        array) {\n    Log.i(TAG, &quot;Sim Card - &quot; + item + &quot; -----&gt; &quot; + intent.getExtras().getInt(item));\n}\n</code></pre>\n<p>The output is always <code>returns 0</code></p>\n<p>Some articles shows it's not possible. But TrueCaller shows the target simcard for all incomming calls in all android mobiles.</p>\n<p>I want to know solution like this</p>\n<p><strong>I tried so many ways nothing helps. Any help will be highly appriciated. Thanks in advance</strong></p>\n<p><a href=\"https://i.stack.imgur.com/vqyuI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vqyuI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1682443122,"post_id":76103794,"comment_id":134215482,"body_markdown":"&quot;As we are creating objects of type Vehicles which is an interface&quot; - which line of code do you think is *creating* an instance of the `Vehicle` interface?","body":"&quot;As we are creating objects of type Vehicles which is an interface&quot; - which line of code do you think is <i>creating</i> an instance of the <code>Vehicle</code> interface?"},{"owner":{"account_id":1469659,"reputation":3413,"user_id":1381529,"display_name":"azbarcea"},"score":0,"creation_date":1682443317,"post_id":76103794,"comment_id":134215528,"body_markdown":"Replace `sum += /* expression */;` with `sum += v.getMileage();`","body":"Replace <code>sum += &#47;* expression *&#47;;</code> with <code>sum += v.getMileage();</code>"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682443485,"creation_date":1682443485,"answer_id":76103878,"question_id":76103794,"body_markdown":"Note this very important bit:\r\n\r\n&gt; // There may be instance variables, constructors, and methods are not shown.\r\n\r\nWhile you are correct that `new Vehicle()` is not a legal statement, this note in the problem allows for additional code like the following:\r\n\r\n```java\r\nfinal class Car implements Vehicle {\r\n  private final double mileage;\r\n  Car(double mileage) {\r\n    this.mileage = mileage;\r\n  }\r\n  public double getMileage() {\r\n    return mileage;\r\n  }\r\n}\r\n```\r\nThen one could add the result of `new Car(10.0)` to the fleet of vehicles.\r\n\r\n(If you are worried that a class is not &quot;an instance variable, constructor, or method,&quot; one can &quot;implement&quot; `Vehicle` with a reference to any method that takes no arguments and returns a double.)\r\n\r\n\r\n\r\nThus, the correct answer is &quot;(a), `v.getMileage()`&quot;","title":"In Java isn&#39;t it impossible to make objects of interface type?","body":"<p>Note this very important bit:</p>\n<blockquote>\n<p>// There may be instance variables, constructors, and methods are not shown.</p>\n</blockquote>\n<p>While you are correct that <code>new Vehicle()</code> is not a legal statement, this note in the problem allows for additional code like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class Car implements Vehicle {\n  private final double mileage;\n  Car(double mileage) {\n    this.mileage = mileage;\n  }\n  public double getMileage() {\n    return mileage;\n  }\n}\n</code></pre>\n<p>Then one could add the result of <code>new Car(10.0)</code> to the fleet of vehicles.</p>\n<p>(If you are worried that a class is not &quot;an instance variable, constructor, or method,&quot; one can &quot;implement&quot; <code>Vehicle</code> with a reference to any method that takes no arguments and returns a double.)</p>\n<p>Thus, the correct answer is &quot;(a), <code>v.getMileage()</code>&quot;</p>\n"},{"tags":[],"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682443549,"creation_date":1682443549,"answer_id":76103888,"question_id":76103794,"body_markdown":"This is called Polymorphism. https://en.wikipedia.org/wiki/Polymorphism_(computer_science)\r\n\r\nThe list does not have to specify the concrete types, but may contain any type(class) that implements the Vehicle.\r\n\r\nSo in this case if you had classes\r\n\r\n    class BMW implements Vehicle { //implement getMileage() method }\r\n    class Ford implements Vehicle { //implement getMileage() method }\r\n\r\nYou could add both BMWs or Fords to the `List&lt;Vehicle&gt;`\r\n\r\n    List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\r\n    vehicles.add(new BMW());\r\n    vehicles.add(new Ford());\r\n\r\nWhen iterating over the `vehicles`, the `getMileage()` method would call the method of particular instance class.\r\n\r\n","title":"In Java isn&#39;t it impossible to make objects of interface type?","body":"<p>This is called Polymorphism. <a href=\"https://en.wikipedia.org/wiki/Polymorphism_(computer_science)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Polymorphism_(computer_science)</a></p>\n<p>The list does not have to specify the concrete types, but may contain any type(class) that implements the Vehicle.</p>\n<p>So in this case if you had classes</p>\n<pre><code>class BMW implements Vehicle { //implement getMileage() method }\nclass Ford implements Vehicle { //implement getMileage() method }\n</code></pre>\n<p>You could add both BMWs or Fords to the <code>List&lt;Vehicle&gt;</code></p>\n<pre><code>List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\nvehicles.add(new BMW());\nvehicles.add(new Ford());\n</code></pre>\n<p>When iterating over the <code>vehicles</code>, the <code>getMileage()</code> method would call the method of particular instance class.</p>\n"},{"tags":[],"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682444263,"creation_date":1682444263,"answer_id":76103985,"question_id":76103794,"body_markdown":"&gt; In Java isn&#39;t it impossible to make objects of interface type?\r\n\r\nThis is true, but no one said you can&#39;t create instances of the interface. Note also that Java has anonymous types (See https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java), so it is entirely possible to create an object which implements the interface without (explicitly) declaring a class:\r\n\r\n```java\r\nVehicle myVehicle = new Vehicle() {\r\n  @Override\r\n  public double getMileage() {\r\n    return 199879.5;\r\n  }\r\n};\r\n```\r\n\r\nSince Java 8, it can even be shortened to just:\r\n\r\n```\r\nVehicle myVehicle = () -&gt; 199879.5;\r\n```","title":"In Java isn&#39;t it impossible to make objects of interface type?","body":"<blockquote>\n<p>In Java isn't it impossible to make objects of interface type?</p>\n</blockquote>\n<p>This is true, but no one said you can't create instances of the interface. Note also that Java has anonymous types (See <a href=\"https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java\">How are Anonymous inner classes used in Java?</a>), so it is entirely possible to create an object which implements the interface without (explicitly) declaring a class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vehicle myVehicle = new Vehicle() {\n  @Override\n  public double getMileage() {\n    return 199879.5;\n  }\n};\n</code></pre>\n<p>Since Java 8, it can even be shortened to just:</p>\n<pre><code>Vehicle myVehicle = () -&gt; 199879.5;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682447829,"creation_date":1682447829,"answer_id":76104395,"question_id":76103794,"body_markdown":"This is perfectly allowable, and is common in production code. At no point does the code require you to actually instantiate the interface &quot;directly&quot;; rather, the list contains objects that implement the `Vehicle` interface.\r\n\r\nThat being said, the correct answer to the question is (a): `v.getMileage()`. The key insight is that you don&#39;t particularly care what kind of vehicle you&#39;ve been given - all that you care about is that the object in question &quot;promises&quot; that it implements the `getMileage()` method.\r\n\r\nThe ability to do this is critical to several design patterns, such as the [Factory pattern](https://en.wikipedia.org/wiki/Factory_method_pattern), where the factory method&#39;s return type will either be an interface or a base class.\r\n\r\nThis is also commonly used in automated testing, where you may want to replace certain components with special versions of the component. This is particularly the case if the component interacts with an external component, such as a web service. For example, I use a library called [Moq](https://github.com/Moq), which (at risk of oversimplification) allows you to easily create &quot;fake&quot; implementations of interfaces for testing.","title":"In Java isn&#39;t it impossible to make objects of interface type?","body":"<p>This is perfectly allowable, and is common in production code. At no point does the code require you to actually instantiate the interface &quot;directly&quot;; rather, the list contains objects that implement the <code>Vehicle</code> interface.</p>\n<p>That being said, the correct answer to the question is (a): <code>v.getMileage()</code>. The key insight is that you don't particularly care what kind of vehicle you've been given - all that you care about is that the object in question &quot;promises&quot; that it implements the <code>getMileage()</code> method.</p>\n<p>The ability to do this is critical to several design patterns, such as the <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">Factory pattern</a>, where the factory method's return type will either be an interface or a base class.</p>\n<p>This is also commonly used in automated testing, where you may want to replace certain components with special versions of the component. This is particularly the case if the component interacts with an external component, such as a web service. For example, I use a library called <a href=\"https://github.com/Moq\" rel=\"nofollow noreferrer\">Moq</a>, which (at risk of oversimplification) allows you to easily create &quot;fake&quot; implementations of interfaces for testing.</p>\n"}],"owner":{"account_id":28414227,"reputation":21,"user_id":21737217,"display_name":"user21737217"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76104395,"answer_count":4,"score":0,"last_activity_date":1682447829,"creation_date":1682442734,"question_id":76103794,"body_markdown":"I was practicing for AP computer science and came across this question:\r\n\r\nConsider the following interface and class declarations. Which of the following can be used to replace /* expression */ so that getTotalMileage returns the total of the miles traveled for all vehicles in the fleet?\r\n\r\n```\r\npublic interface Vehicle\r\n{\r\n    /** @return the mileage traveled by this Vehicle */\r\n    double getMileage();\r\n}\r\n\r\npublic class Fleet\r\n{\r\n    private List&lt;Vehicle&gt; myVehicles;\r\n    /** @return the mileage traveled by all vehicles in this Fleet */\r\n    \r\n    public double getTotalMileage()\r\n    {\r\n        double sum = 0.0;\r\n        for (Vehicle v : myVehicles)\r\n        {\r\n            sum += /* expression */;\r\n        }\r\n        return sum;\r\n    }\r\n    // There may be instance variables, constructors, and methods are not shown.\r\n}\r\n\r\n```\r\n\r\nOptions:\r\n(a) `v.getMileage()`\r\n\r\n(b) `getMileage(v)`\r\n\r\n(c) `Vehicle.get(v).getMileage()`\r\n\r\n(d) `myVehicles.get(v).getMileage()`\r\n\r\n(e) This code will not compile because no methods can be called from a List interface reference variable.\r\n\r\nThe list myVehicles stores objects of type vehicle right?\r\n\r\nIf so, Shouldn&#39;t there be a compile time error while running this? As we are creating objects of type Vehicles which is an interface.","title":"In Java isn&#39;t it impossible to make objects of interface type?","body":"<p>I was practicing for AP computer science and came across this question:</p>\n<p>Consider the following interface and class declarations. Which of the following can be used to replace /* expression */ so that getTotalMileage returns the total of the miles traveled for all vehicles in the fleet?</p>\n<pre><code>public interface Vehicle\n{\n    /** @return the mileage traveled by this Vehicle */\n    double getMileage();\n}\n\npublic class Fleet\n{\n    private List&lt;Vehicle&gt; myVehicles;\n    /** @return the mileage traveled by all vehicles in this Fleet */\n    \n    public double getTotalMileage()\n    {\n        double sum = 0.0;\n        for (Vehicle v : myVehicles)\n        {\n            sum += /* expression */;\n        }\n        return sum;\n    }\n    // There may be instance variables, constructors, and methods are not shown.\n}\n\n</code></pre>\n<p>Options:\n(a) <code>v.getMileage()</code></p>\n<p>(b) <code>getMileage(v)</code></p>\n<p>(c) <code>Vehicle.get(v).getMileage()</code></p>\n<p>(d) <code>myVehicles.get(v).getMileage()</code></p>\n<p>(e) This code will not compile because no methods can be called from a List interface reference variable.</p>\n<p>The list myVehicles stores objects of type vehicle right?</p>\n<p>If so, Shouldn't there be a compile time error while running this? As we are creating objects of type Vehicles which is an interface.</p>\n"},{"tags":["java","memory-leaks","jvm","arcgis","jemalloc"],"answers":[{"tags":[],"owner":{"account_id":25791720,"reputation":1,"user_id":19535671,"display_name":"Jared Faulk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682447764,"creation_date":1682447764,"answer_id":76104387,"question_id":76016446,"body_markdown":"FOLLOW UP:\r\n\r\nThere appears to be an Esri memory leak for Linux systems only. The Esri developers are debugging now, and my initial interpretations were correct.","title":"Am I running into a an ArcGIS SDK memory leak?","body":"<p>FOLLOW UP:</p>\n<p>There appears to be an Esri memory leak for Linux systems only. The Esri developers are debugging now, and my initial interpretations were correct.</p>\n"}],"owner":{"account_id":25791720,"reputation":1,"user_id":19535671,"display_name":"Jared Faulk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76104387,"answer_count":1,"score":0,"last_activity_date":1682447764,"creation_date":1681484278,"question_id":76016446,"body_markdown":"## The Problem\r\nI am building a GIS module for a system using ArcGIS Java Map SDK v200.0.0. The general functionality flow is, I connect to a few Esri servers, pull down some features/data using their APIs, run a few calculations, and write to a file. Since building my module and running the calculations on a local test server I noticed our virtual memory usage kept climbing higher and higher with each subsequent calculation (until ultimately our application crashes). So clearly this sounds like some form of  memory leak.\r\n\r\n## What I Tried\r\nFirstly, I investigated the memory usage of the JVM, thinking perhaps some large objects are not being garbage collected. I mapped our memory usage in VisualVM as seen [here](https://i.stack.imgur.com/5LX41.png), however, everything is performing as expected. Memory usage spikes for each new calculation, and then all unreferenced objects are garbage collected at the end of the calculation. I also checked our metaspace usage, but that never exceeds 50MB (so metaspace is not the issue). I therefore am running into some form of native memory leak.\r\n\r\nBecause the memory leak is outside of the JVM, the most typical culprits are some form of file stream not being closed. I do write to a file at the end of my calculation but I DO close it as seen here:\r\n\r\n```\r\n. . .\r\n//map here is an esri ArcGISMap object that holds some data and must be loaded fully\r\nmap.addDoneLoadingListener(() -&gt; { \r\n\t\t\tif (map.getLoadStatus() == LoadStatus.LOADED) { \r\n\t\t\t\tString mapJson = map.toJson(); \r\n\t\t\t\tFileWriter jsonFileWriter = null; \r\n\t\t\t\ttry {\r\n                                //file here is a valid File already created\r\n\t\t\t\t\tjsonFileWriter = new FileWriter(file); \r\n\t\t\t\t\tjsonFileWriter.write(mapJson); \r\n\t\t\t\t\tmapDoneWriting = true; \r\n\t\t\t\t} catch (IOException e) { \r\n\t\t\t\t\te.printStackTrace(); \r\n\t\t\t\t} finally { \r\n\t\t\t\t\ttry { \r\n\t\t\t\t\t\tif (jsonFileWriter != null) { \r\n\t\t\t\t\t\t\tjsonFileWriter.flush(); \r\n\t\t\t\t\t\t\tjsonFileWriter.close(); \r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t} catch (IOException e) { \r\n\t\t\t\t\t\te.printStackTrace(); \r\n\t\t\t\t\t} \r\n\t\t\t\t} \r\n\t\t\t} else \r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Error writing json map file&quot;); \r\n});\r\n\r\n. . .\r\n```\r\n\r\nTo further chase this leak I discovered this blog [here](https://technology.blog.gov.uk/2015/12/11/using-jemalloc-to-get-to-the-bottom-of-a-memory-leak/) and [here](https://www.evanjones.ca/java-native-leak-bug.html) which seemed to have a very similar obscure memory leak. The blog posts in summary: other large java systems had a native memory leak that could not be found, and both blogs successfully debugged and later patched the leak using a tool called jemalloc (spoiler, the culprit was some form of Inflator/Deflator Object used for compression/decompression not being closed). Jemalloc is essentially a memory allocator exactly like malloc, but with further debugging functionalities added. I replaced the JVM&#39;s default memory allocator &#39;malloc&#39; to use &#39;jemalloc&#39; and then created memory usage reports in a tree structure using jeprof (a built in reporting tool with jemalloc). Now here is where my debugging is hitting a road block.\r\n\r\nHere are the reports generated from jeprof (zoomed into the most likely culprits):\r\n[Overview](https://i.stack.imgur.com/wgUdy.png)\r\n\r\nZooming into some weird potential culprits: [Weirdness](https://i.stack.imgur.com/TMRGj.png)\r\n\r\nAnd further weirdness: [Weirdness 2](https://i.stack.imgur.com/BhyVv.png)\r\n\r\nHere is where I need some help. I am interpreting these results based solely off of the other examples I have seen from similar results (i.e. each blog post I link shows an example, I could not find documentation detailing interpreting this graph). *From my understanding*, the bottom percentage is the percentage of total memory used from my application from that method. Which then points to 90% of my memory used at RT_Vector_setElementRemovedCallback, and 70% of that is in lerc_decodeToDouble (?).  I found the LERC project, which has a github repository: [Lerc Repository](https://github.com/Esri/lerc) *Correct me if I am interpreting these results wrongly.*\r\n\r\n\r\n## MY QUESTION IS:  \r\nDoes this appear to be a Esri memory leak in the SDK? Or am I interpreting these results wrong? As anyone who has chased a memory leak can understand, knowing where to go next is difficult. If there are any other places I should check, Please let me know. Thank you. \r\n\r\n","title":"Am I running into a an ArcGIS SDK memory leak?","body":"<h2>The Problem</h2>\n<p>I am building a GIS module for a system using ArcGIS Java Map SDK v200.0.0. The general functionality flow is, I connect to a few Esri servers, pull down some features/data using their APIs, run a few calculations, and write to a file. Since building my module and running the calculations on a local test server I noticed our virtual memory usage kept climbing higher and higher with each subsequent calculation (until ultimately our application crashes). So clearly this sounds like some form of  memory leak.</p>\n<h2>What I Tried</h2>\n<p>Firstly, I investigated the memory usage of the JVM, thinking perhaps some large objects are not being garbage collected. I mapped our memory usage in VisualVM as seen <a href=\"https://i.stack.imgur.com/5LX41.png\" rel=\"nofollow noreferrer\">here</a>, however, everything is performing as expected. Memory usage spikes for each new calculation, and then all unreferenced objects are garbage collected at the end of the calculation. I also checked our metaspace usage, but that never exceeds 50MB (so metaspace is not the issue). I therefore am running into some form of native memory leak.</p>\n<p>Because the memory leak is outside of the JVM, the most typical culprits are some form of file stream not being closed. I do write to a file at the end of my calculation but I DO close it as seen here:</p>\n<pre><code>. . .\n//map here is an esri ArcGISMap object that holds some data and must be loaded fully\nmap.addDoneLoadingListener(() -&gt; { \n            if (map.getLoadStatus() == LoadStatus.LOADED) { \n                String mapJson = map.toJson(); \n                FileWriter jsonFileWriter = null; \n                try {\n                                //file here is a valid File already created\n                    jsonFileWriter = new FileWriter(file); \n                    jsonFileWriter.write(mapJson); \n                    mapDoneWriting = true; \n                } catch (IOException e) { \n                    e.printStackTrace(); \n                } finally { \n                    try { \n                        if (jsonFileWriter != null) { \n                            jsonFileWriter.flush(); \n                            jsonFileWriter.close(); \n                        } \n                    } catch (IOException e) { \n                        e.printStackTrace(); \n                    } \n                } \n            } else \n                throw new IllegalArgumentException(&quot;Error writing json map file&quot;); \n});\n\n. . .\n</code></pre>\n<p>To further chase this leak I discovered this blog <a href=\"https://technology.blog.gov.uk/2015/12/11/using-jemalloc-to-get-to-the-bottom-of-a-memory-leak/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.evanjones.ca/java-native-leak-bug.html\" rel=\"nofollow noreferrer\">here</a> which seemed to have a very similar obscure memory leak. The blog posts in summary: other large java systems had a native memory leak that could not be found, and both blogs successfully debugged and later patched the leak using a tool called jemalloc (spoiler, the culprit was some form of Inflator/Deflator Object used for compression/decompression not being closed). Jemalloc is essentially a memory allocator exactly like malloc, but with further debugging functionalities added. I replaced the JVM's default memory allocator 'malloc' to use 'jemalloc' and then created memory usage reports in a tree structure using jeprof (a built in reporting tool with jemalloc). Now here is where my debugging is hitting a road block.</p>\n<p>Here are the reports generated from jeprof (zoomed into the most likely culprits):\n<a href=\"https://i.stack.imgur.com/wgUdy.png\" rel=\"nofollow noreferrer\">Overview</a></p>\n<p>Zooming into some weird potential culprits: <a href=\"https://i.stack.imgur.com/TMRGj.png\" rel=\"nofollow noreferrer\">Weirdness</a></p>\n<p>And further weirdness: <a href=\"https://i.stack.imgur.com/BhyVv.png\" rel=\"nofollow noreferrer\">Weirdness 2</a></p>\n<p>Here is where I need some help. I am interpreting these results based solely off of the other examples I have seen from similar results (i.e. each blog post I link shows an example, I could not find documentation detailing interpreting this graph). <em>From my understanding</em>, the bottom percentage is the percentage of total memory used from my application from that method. Which then points to 90% of my memory used at RT_Vector_setElementRemovedCallback, and 70% of that is in lerc_decodeToDouble (?).  I found the LERC project, which has a github repository: <a href=\"https://github.com/Esri/lerc\" rel=\"nofollow noreferrer\">Lerc Repository</a> <em>Correct me if I am interpreting these results wrongly.</em></p>\n<h2>MY QUESTION IS:</h2>\n<p>Does this appear to be a Esri memory leak in the SDK? Or am I interpreting these results wrong? As anyone who has chased a memory leak can understand, knowing where to go next is difficult. If there are any other places I should check, Please let me know. Thank you.</p>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681640155,"post_id":76025293,"comment_id":134086154,"body_markdown":"the tutorial you are using is outdated https://github.com/Tandolf/spring-security-jwt-demo","body":"the tutorial you are using is outdated <a href=\"https://github.com/Tandolf/spring-security-jwt-demo\" rel=\"nofollow noreferrer\">github.com/Tandolf/spring-security-jwt-demo</a>"},{"owner":{"account_id":20926883,"reputation":11,"user_id":21653377,"display_name":"King of Cookies"},"score":0,"creation_date":1681651171,"post_id":76025293,"comment_id":134087474,"body_markdown":"Tutorial, I&#39;ve been using was published 3 month ago. It was published 3 month ago to describe Spring Boot Security configuration.\nBut thanks for the URL","body":"Tutorial, I&#39;ve been using was published 3 month ago. It was published 3 month ago to describe Spring Boot Security configuration. But thanks for the URL"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681653109,"post_id":76025293,"comment_id":134087731,"body_markdown":"I’m saying its outdated, read the spring security jwt docs and you’ll see why. what you do with that information is up to you. If you choose to not listen then that is also up to you. You are the one asking for help not me. Good luck! &#128075;&#127995;","body":"I’m saying its outdated, read the spring security jwt docs and you’ll see why. what you do with that information is up to you. If you choose to not listen then that is also up to you. You are the one asking for help not me. Good luck! 👋🏻"}],"answers":[{"tags":[],"owner":{"account_id":20926883,"reputation":11,"user_id":21653377,"display_name":"King of Cookies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682447356,"creation_date":1682186954,"answer_id":76081205,"question_id":76025293,"body_markdown":"JFI: an error was caused by the UserDetailsImplementation class, which implements a UserDetails intrface. An overriding for the isEnabled() method had returned wrong (reverted value) which throws &quot;User is disabled&quot; exception.\r\nAfter the fixing this method, everything started to work.","title":"Java Spring Boot Security - Authorization returns 403","body":"<p>JFI: an error was caused by the UserDetailsImplementation class, which implements a UserDetails intrface. An overriding for the isEnabled() method had returned wrong (reverted value) which throws &quot;User is disabled&quot; exception.\nAfter the fixing this method, everything started to work.</p>\n"}],"owner":{"account_id":20926883,"reputation":11,"user_id":21653377,"display_name":"King of Cookies"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1682261691,"accepted_answer_id":76081205,"answer_count":1,"score":-1,"last_activity_date":1682447356,"creation_date":1681603045,"question_id":76025293,"body_markdown":"I have configured a custom `OncePerRequestFilter` that grants a spring authority for authorization\r\n```\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    public JwtAuthenticationFilter(JwtService jwtService, UserDetailsService userDetailsService) {\r\n        this.jwtService = jwtService;\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String username;\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authHeader.substring(7);\r\n        username = jwtService.extractUsername(jwt);\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n            if (jwtService.isTokenValid(jwt, userDetails)) {\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nThis is my Spring Security Config:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    private final AuthenticationProvider authenticationProvider;\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n\r\n    @Autowired\r\n    public SecurityConfig(AuthenticationProvider authenticationProvider, JwtAuthenticationFilter jwtAuthFilter) {\r\n        this.authenticationProvider = authenticationProvider;\r\n        this.jwtAuthFilter = jwtAuthFilter;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)        //White list for not using token\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)         //Session creation describing :: STATELESS - create session for each request\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);     //Run custom filters before the standard filter logic\r\n\r\n        return httpSecurity.build();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is a method for authorization:\r\n\r\n```\r\npublic AuthenticationResponse authenticate(AuthenticationRequest request) throws NotFoundException {\r\n        this.authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                    request.getUsername(),\r\n                    request.getPassword()\r\n            )\r\n        );\r\n        var user = userDao.getUser(request.getUsername());\r\n        var jwtToken = jwtService.generateToken(\r\n                UserDetailsImplementation.build(user)\r\n        );\r\n\r\n        return new AuthenticationResponse(jwtToken);\r\n    }\r\n```\r\n\r\n\r\nWhat have I missed in my configuration? What did I miss in my configuration that I can&#39;t authorize the user?\r\nThere is still a method for registration, but it works fine and returns the token to me. \r\n\r\nI have debugged code and found out that the problem is that the method execution stops after the `authenticate` is called. Therefore, the method call from `userDao` does not occur.","title":"Java Spring Boot Security - Authorization returns 403","body":"<p>I have configured a custom <code>OncePerRequestFilter</code> that grants a spring authority for authorization</p>\n<pre><code>public class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    public JwtAuthenticationFilter(JwtService jwtService, UserDetailsService userDetailsService) {\n        this.jwtService = jwtService;\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String username;\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        username = jwtService.extractUsername(jwt);\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n            if (jwtService.isTokenValid(jwt, userDetails)) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>This is my Spring Security Config:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    private final AuthenticationProvider authenticationProvider;\n    private final JwtAuthenticationFilter jwtAuthFilter;\n\n    @Autowired\n    public SecurityConfig(AuthenticationProvider authenticationProvider, JwtAuthenticationFilter jwtAuthFilter) {\n        this.authenticationProvider = authenticationProvider;\n        this.jwtAuthFilter = jwtAuthFilter;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)        //White list for not using token\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)         //Session creation describing :: STATELESS - create session for each request\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);     //Run custom filters before the standard filter logic\n\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p>And this is a method for authorization:</p>\n<pre><code>public AuthenticationResponse authenticate(AuthenticationRequest request) throws NotFoundException {\n        this.authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    request.getUsername(),\n                    request.getPassword()\n            )\n        );\n        var user = userDao.getUser(request.getUsername());\n        var jwtToken = jwtService.generateToken(\n                UserDetailsImplementation.build(user)\n        );\n\n        return new AuthenticationResponse(jwtToken);\n    }\n</code></pre>\n<p>What have I missed in my configuration? What did I miss in my configuration that I can't authorize the user?\nThere is still a method for registration, but it works fine and returns the token to me.</p>\n<p>I have debugged code and found out that the problem is that the method execution stops after the <code>authenticate</code> is called. Therefore, the method call from <code>userDao</code> does not occur.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682445636,"post_id":76103253,"comment_id":134216019,"body_markdown":"Do Q1, Q2, Q3, Q4, and Q5 have anything in them?  Also, GridBagConstraints.CENTER is not a valid fill value.  Did you mean to set anchor instead?","body":"Do Q1, Q2, Q3, Q4, and Q5 have anything in them?  Also, GridBagConstraints.CENTER is not a valid fill value.  Did you mean to set anchor instead?"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682446931,"creation_date":1682446294,"answer_id":76104230,"question_id":76103253,"body_markdown":"The code you posted wasn&#39;t a complete runnable example, so I had to make some assumptions.\r\n\r\nHere&#39;s the GUI I came up with.\r\n\r\n[![One server][1]][1]\r\n\r\nHere&#39;s the GUI after I selected 3.\r\n\r\n[![Three servers][2]][2]\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nI used a `FlowLayout` for the main `JPanel`, since it appeared from your code that you wanted a horizontal layout.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class MultiPanelExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new MultiPanelExample());\r\n    \r\n    \t}\r\n    \r\n    \tprivate int numberOfServers;\r\n    \r\n    \tprivate JFrame frame;\r\n    \r\n    \tprivate JPanel mainPanel;\r\n    \r\n    \tpublic MultiPanelExample() {\r\n    \t\tthis.numberOfServers = 1;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tframe = new JFrame(&quot;MultiPanel Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createComboBoxPanel(), BorderLayout.WEST);\r\n    \t\tmainPanel = createMainPanel();\r\n    \t\tframe.add(mainPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createComboBoxPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\tInteger[] values = { 1, 2, 3, 4, 5 };\r\n    \t\tJComboBox&lt;Integer&gt; serverComboBox = new JComboBox&lt;&gt;(values);\r\n    \t\tserverComboBox.addActionListener(event -&gt; {\r\n    \t\t\tthis.numberOfServers = (Integer) serverComboBox.getSelectedItem();\r\n    \t\t\tframe.remove(mainPanel);\r\n    \t\t\tmainPanel = createMainPanel();\r\n    \t\t\tframe.add(mainPanel, BorderLayout.CENTER);\r\n    \t\t\tframe.pack();\r\n    \t\t});\r\n    \t\tpanel.add(serverComboBox);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\tfor (int index = 0; index &lt; numberOfServers; index++) {\r\n    \t\t\tpanel.add(createServerPanel(index + 1));\r\n    \t\t}\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createServerPanel(int number) {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setBorder(BorderFactory.createLineBorder(Color.BLUE, 3));\r\n    \t\tpanel.setPreferredSize(new Dimension(200, 100));\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Server &quot; + number);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xi0bo.png\r\n  [2]: https://i.stack.imgur.com/avOCR.png","title":"How can I update the design of my panel in java swing","body":"<p>The code you posted wasn't a complete runnable example, so I had to make some assumptions.</p>\n<p>Here's the GUI I came up with.</p>\n<p><a href=\"https://i.stack.imgur.com/xi0bo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xi0bo.png\" alt=\"One server\" /></a></p>\n<p>Here's the GUI after I selected 3.</p>\n<p><a href=\"https://i.stack.imgur.com/avOCR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/avOCR.png\" alt=\"Three servers\" /></a></p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I used a <code>FlowLayout</code> for the main <code>JPanel</code>, since it appeared from your code that you wanted a horizontal layout.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class MultiPanelExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new MultiPanelExample());\n\n    }\n\n    private int numberOfServers;\n\n    private JFrame frame;\n\n    private JPanel mainPanel;\n\n    public MultiPanelExample() {\n        this.numberOfServers = 1;\n    }\n\n    @Override\n    public void run() {\n        frame = new JFrame(&quot;MultiPanel Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createComboBoxPanel(), BorderLayout.WEST);\n        mainPanel = createMainPanel();\n        frame.add(mainPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createComboBoxPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        Integer[] values = { 1, 2, 3, 4, 5 };\n        JComboBox&lt;Integer&gt; serverComboBox = new JComboBox&lt;&gt;(values);\n        serverComboBox.addActionListener(event -&gt; {\n            this.numberOfServers = (Integer) serverComboBox.getSelectedItem();\n            frame.remove(mainPanel);\n            mainPanel = createMainPanel();\n            frame.add(mainPanel, BorderLayout.CENTER);\n            frame.pack();\n        });\n        panel.add(serverComboBox);\n\n        return panel;\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        for (int index = 0; index &lt; numberOfServers; index++) {\n            panel.add(createServerPanel(index + 1));\n        }\n\n        return panel;\n    }\n\n    private JPanel createServerPanel(int number) {\n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createLineBorder(Color.BLUE, 3));\n        panel.setPreferredSize(new Dimension(200, 100));\n\n        JLabel label = new JLabel(&quot;Server &quot; + number);\n        panel.add(label);\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26216381,"reputation":45,"user_id":19894458,"display_name":"Cornel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682446931,"creation_date":1682438622,"question_id":76103253,"body_markdown":"I have a problem updating my design in my panel. I have a big panel, which I want to include smaller ones. I have a comboBox and i choose how many panels I want to have and update the number of small panels in the big one every time I change the index in the comboBox.\r\n\r\nThis is the code for the listener\r\n```\r\nclass listenerComboBox implements ActionListener\r\n    {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            int selectedIndex = simulationFrame.getServersNumberComboBox().getSelectedIndex();\r\n            arrangeCenterPanels(simulationFrame.getjCenter(), simulationFrame.getPanelQ1(), simulationFrame.getPanelQ2(), simulationFrame.getPanelQ3(), simulationFrame.getPanelQ4(), simulationFrame.getPanelQ5(), selectedIndex+1);\r\n        }\r\n    }\r\n```\r\n\r\nand this is the code for the design\r\n```\r\npublic static void arrangeCenterPanels(JPanel jCenter, JPanel Q1, JPanel Q2, JPanel Q3, JPanel Q4, JPanel Q5, int serversNumber)\r\n    {\r\n        if (serversNumber == 1)\r\n        {\r\n            System.out.println(serversNumber);\r\n            jCenter.removeAll();\r\n\r\n            GridBagConstraints c = new GridBagConstraints();\r\n            c.gridy = 0;\r\n            c.insets = new Insets(2, 10, 2, 10);\r\n            c.fill = GridBagConstraints.CENTER;\r\n            c.gridx = 0;\r\n            jCenter.add(Q1, c);\r\n\r\n            jCenter.updateUI();\r\n        }\r\n        if (serversNumber == 2)\r\n        {\r\n            System.out.println(serversNumber);\r\n            jCenter.removeAll();\r\n\r\n            GridBagConstraints c2 = new GridBagConstraints();\r\n            c2.gridy = 0;\r\n            c2.insets = new Insets(2, 10, 2, 10);\r\n            c2.fill = GridBagConstraints.CENTER;\r\n            c2.gridx = 0;\r\n            jCenter.add(Q1, c2);\r\n            c2.gridx = 1;\r\n            jCenter.add(Q2, c2);\r\n            jCenter.updateUI();\r\n\r\n        }\r\n        if (serversNumber == 3)\r\n        {\r\n            System.out.println(serversNumber);\r\n            jCenter.removeAll();\r\n\r\n            GridBagConstraints c3 = new GridBagConstraints();\r\n            c3.gridy = 0;\r\n            c3.insets = new Insets(2, 10, 2, 10);\r\n            c3.fill = GridBagConstraints.CENTER;\r\n            c3.gridx = 0;\r\n            jCenter.add(Q1, c3);\r\n            c3.gridx = 1;\r\n            jCenter.add(Q2, c3);\r\n            c3.gridx = 2;\r\n            jCenter.add(Q3, c3);\r\n\r\n            jCenter.updateUI();\r\n\r\n        }\r\n        if (serversNumber == 4)\r\n        {\r\n            System.out.println(serversNumber);\r\n            jCenter.removeAll();\r\n\r\n            GridBagConstraints c4 = new GridBagConstraints();\r\n            c4.gridy = 0;\r\n            c4.insets = new Insets(2, 10, 2, 10);\r\n            c4.fill = GridBagConstraints.CENTER;\r\n            c4.gridx = 0;\r\n            jCenter.add(Q1, c4);\r\n            c4.gridx = 1;\r\n            jCenter.add(Q2, c4);\r\n            c4.gridx = 2;\r\n            jCenter.add(Q3, c4);\r\n            c4.gridx = 3;\r\n            jCenter.add(Q4, c4);\r\n\r\n            jCenter.updateUI();\r\n\r\n        }\r\n        if (serversNumber == 5)\r\n        {\r\n            System.out.println(serversNumber);\r\n\r\n            jCenter.removeAll();\r\n            GridBagConstraints c5 = new GridBagConstraints();\r\n\r\n            Q1.repaint();\r\n            c5.gridy = 0;\r\n            c5.insets = new Insets(2, 10, 2, 10);\r\n            c5.fill = GridBagConstraints.CENTER;\r\n            c5.gridx = 0;\r\n            jCenter.add(Q1, c5);\r\n            c5.gridx = 1;\r\n            jCenter.add(Q2, c5);\r\n            c5.gridx = 2;\r\n            jCenter.add(Q3, c5);\r\n            c5.gridx = 3;\r\n            jCenter.add(Q4, c5);\r\n            c5.gridx = 4;\r\n            jCenter.add(Q5, c5);\r\n\r\n            jCenter.updateUI();\r\n\r\n        }\r\n```\r\n\r\nI have a bigger class, where I design the entire frame, and there all i did was to declare the panels. For now, that code does nothing, nothing is showing up.\r\n","title":"How can I update the design of my panel in java swing","body":"<p>I have a problem updating my design in my panel. I have a big panel, which I want to include smaller ones. I have a comboBox and i choose how many panels I want to have and update the number of small panels in the big one every time I change the index in the comboBox.</p>\n<p>This is the code for the listener</p>\n<pre><code>class listenerComboBox implements ActionListener\n    {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            int selectedIndex = simulationFrame.getServersNumberComboBox().getSelectedIndex();\n            arrangeCenterPanels(simulationFrame.getjCenter(), simulationFrame.getPanelQ1(), simulationFrame.getPanelQ2(), simulationFrame.getPanelQ3(), simulationFrame.getPanelQ4(), simulationFrame.getPanelQ5(), selectedIndex+1);\n        }\n    }\n</code></pre>\n<p>and this is the code for the design</p>\n<pre><code>public static void arrangeCenterPanels(JPanel jCenter, JPanel Q1, JPanel Q2, JPanel Q3, JPanel Q4, JPanel Q5, int serversNumber)\n    {\n        if (serversNumber == 1)\n        {\n            System.out.println(serversNumber);\n            jCenter.removeAll();\n\n            GridBagConstraints c = new GridBagConstraints();\n            c.gridy = 0;\n            c.insets = new Insets(2, 10, 2, 10);\n            c.fill = GridBagConstraints.CENTER;\n            c.gridx = 0;\n            jCenter.add(Q1, c);\n\n            jCenter.updateUI();\n        }\n        if (serversNumber == 2)\n        {\n            System.out.println(serversNumber);\n            jCenter.removeAll();\n\n            GridBagConstraints c2 = new GridBagConstraints();\n            c2.gridy = 0;\n            c2.insets = new Insets(2, 10, 2, 10);\n            c2.fill = GridBagConstraints.CENTER;\n            c2.gridx = 0;\n            jCenter.add(Q1, c2);\n            c2.gridx = 1;\n            jCenter.add(Q2, c2);\n            jCenter.updateUI();\n\n        }\n        if (serversNumber == 3)\n        {\n            System.out.println(serversNumber);\n            jCenter.removeAll();\n\n            GridBagConstraints c3 = new GridBagConstraints();\n            c3.gridy = 0;\n            c3.insets = new Insets(2, 10, 2, 10);\n            c3.fill = GridBagConstraints.CENTER;\n            c3.gridx = 0;\n            jCenter.add(Q1, c3);\n            c3.gridx = 1;\n            jCenter.add(Q2, c3);\n            c3.gridx = 2;\n            jCenter.add(Q3, c3);\n\n            jCenter.updateUI();\n\n        }\n        if (serversNumber == 4)\n        {\n            System.out.println(serversNumber);\n            jCenter.removeAll();\n\n            GridBagConstraints c4 = new GridBagConstraints();\n            c4.gridy = 0;\n            c4.insets = new Insets(2, 10, 2, 10);\n            c4.fill = GridBagConstraints.CENTER;\n            c4.gridx = 0;\n            jCenter.add(Q1, c4);\n            c4.gridx = 1;\n            jCenter.add(Q2, c4);\n            c4.gridx = 2;\n            jCenter.add(Q3, c4);\n            c4.gridx = 3;\n            jCenter.add(Q4, c4);\n\n            jCenter.updateUI();\n\n        }\n        if (serversNumber == 5)\n        {\n            System.out.println(serversNumber);\n\n            jCenter.removeAll();\n            GridBagConstraints c5 = new GridBagConstraints();\n\n            Q1.repaint();\n            c5.gridy = 0;\n            c5.insets = new Insets(2, 10, 2, 10);\n            c5.fill = GridBagConstraints.CENTER;\n            c5.gridx = 0;\n            jCenter.add(Q1, c5);\n            c5.gridx = 1;\n            jCenter.add(Q2, c5);\n            c5.gridx = 2;\n            jCenter.add(Q3, c5);\n            c5.gridx = 3;\n            jCenter.add(Q4, c5);\n            c5.gridx = 4;\n            jCenter.add(Q5, c5);\n\n            jCenter.updateUI();\n\n        }\n</code></pre>\n<p>I have a bigger class, where I design the entire frame, and there all i did was to declare the panels. For now, that code does nothing, nothing is showing up.</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1682417905,"post_id":76097824,"comment_id":134208380,"body_markdown":"When you say &quot;I need to set MCA User ID ... &quot;, do you mean you need to influence what is set in the runtime queue manager side MCAUSER - i.e. the user ID that is used for authentication and authorisation checks?","body":"When you say &quot;I need to set MCA User ID ... &quot;, do you mean you need to influence what is set in the runtime queue manager side MCAUSER - i.e. the user ID that is used for authentication and authorisation checks?"},{"owner":{"account_id":25341062,"reputation":13,"user_id":19159432,"display_name":"Krystina"},"score":0,"creation_date":1682428355,"post_id":76097824,"comment_id":134211073,"body_markdown":"Sorry, yes I need to set MCA User ID on my (client side) in my application","body":"Sorry, yes I need to set MCA User ID on my (client side) in my application"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1682445714,"post_id":76097824,"comment_id":134216035,"body_markdown":"Why not set this: `connectionFactory.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP,false);`  this will cause the client to send the USERID and PASSWORD in the MQMD instead of the MQCSP.  If you leave it set to true those values are sent in the MQCSP and the MQMD user is set to the user.name.  in the queue manager side it will see no MQCSP and use the MQMD values for USERID and PASSWORD for authIentication.   One limitation is the MQMD fields USERID and PASSWORD are limited to 12 characters each.I","body":"Why not set this: <code>connectionFactory.setBooleanProperty(WMQConstants.USER_AUTHE&zwnj;&#8203;NTICATION_MQCSP,fals&zwnj;&#8203;e);</code>  this will cause the client to send the USERID and PASSWORD in the MQMD instead of the MQCSP.  If you leave it set to true those values are sent in the MQCSP and the MQMD user is set to the user.name.  in the queue manager side it will see no MQCSP and use the MQMD values for USERID and PASSWORD for authIentication.   One limitation is the MQMD fields USERID and PASSWORD are limited to 12 characters each.I"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1682445957,"post_id":76097824,"comment_id":134216071,"body_markdown":"Another limitation is that if you are not using TLS on your channels the password will transmit in the clear.   If you use MQCSP it will have at least some encryption (3DES). Always better to have a TLS1.2 or higher non-NULL cipher on your channel.","body":"Another limitation is that if you are not using TLS on your channels the password will transmit in the clear.   If you use MQCSP it will have at least some encryption (3DES). Always better to have a TLS1.2 or higher non-NULL cipher on your channel."},{"owner":{"account_id":25341062,"reputation":13,"user_id":19159432,"display_name":"Krystina"},"score":0,"creation_date":1682496869,"post_id":76097824,"comment_id":134223643,"body_markdown":"With connectionFactory.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP,false); I got  error  &quot;IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2012&#39; (&#39;MQRC_ENVIRONMENT_ERROR&#39;)&quot;","body":"With connectionFactory.setBooleanProperty(WMQConstants.USER_AUTHE&zwnj;&#8203;NTICATION_MQCSP,fals&zwnj;&#8203;e); I got  error  &quot;IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2012&#39; (&#39;MQRC_ENVIRONMENT_ERROR&#39;)&quot;"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1682509867,"post_id":76097824,"comment_id":134226612,"body_markdown":"I world suggest trying a few different versions such as the latest 9 3.0.x (LTS) release or 9.2.0.x.  both are still in support.   If you find one that works then likely you have uncovered a defect in the 9.3 CD and should open a case with IBM.","body":"I world suggest trying a few different versions such as the latest 9 3.0.x (LTS) release or 9.2.0.x.  both are still in support.   If you find one that works then likely you have uncovered a defect in the 9.3 CD and should open a case with IBM."}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682444493,"creation_date":1682444493,"answer_id":76104018,"question_id":76097824,"body_markdown":"You cannot set the MCAUSER attribute of the channel from the client-side.\r\n\r\nThe simplest solution is to have the MQAdmin set the UserId in the MCAUSER attribute of the channel.\r\n\r\nEvery application should have their own SVRCONN channel, so setting it should not be a problem and your application will still be able to perform authentication with the UserId and Password.","title":"IBM MQ setup MCA UserId","body":"<p>You cannot set the MCAUSER attribute of the channel from the client-side.</p>\n<p>The simplest solution is to have the MQAdmin set the UserId in the MCAUSER attribute of the channel.</p>\n<p>Every application should have their own SVRCONN channel, so setting it should not be a problem and your application will still be able to perform authentication with the UserId and Password.</p>\n"}],"owner":{"account_id":25341062,"reputation":13,"user_id":19159432,"display_name":"Krystina"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682446591,"creation_date":1682399910,"question_id":76097824,"body_markdown":"I need to set MCA User ID for IBM MQ Connection Factory in Java 8 (MQConnectionFactory com.ibm.mq.allclient:9.3.2.0).\r\n\r\nOn MQ Server I have a parameter ADOPTCTX(NO) and authentication works by java username on client side (-Duser.name) and after by username/password. I cant setup user.name in java because another system will not work. \r\n\r\nI can&#39;t change ADOPTCTX to YES because MQ Server is third party provider. \r\n\r\nI tried setup param in MQEnviroment.userID, but it doesnt work. \r\n\r\nNow I have this code: \r\n\r\n\r\n```\r\n        com.ibm.msg.client.wmq.compat.base.internal.MQEnvironment.userID = mcauserid;\r\n        com.ibm.mq.MQEnvironment.userID = mcauserid;\r\n        PropertyStore.user_name = mcauserid;\r\n        ....\r\n        MQConnectionFactory connectionFactory = new MQConnectionFactory();\r\n        connectionFactory.setStringProperty(WMQConstants.USERID, username);\r\n        connectionFactory.setStringProperty(WMQConstants.PASSWORD, password);\r\n        connectionFactory.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, true);\r\n        ...\r\n```\r\n\r\nThis works if java param user.name setted up to mcauserid.\r\nExist another way for define MCA UserID for connection factory? \r\n","title":"IBM MQ setup MCA UserId","body":"<p>I need to set MCA User ID for IBM MQ Connection Factory in Java 8 (MQConnectionFactory com.ibm.mq.allclient:9.3.2.0).</p>\n<p>On MQ Server I have a parameter ADOPTCTX(NO) and authentication works by java username on client side (-Duser.name) and after by username/password. I cant setup user.name in java because another system will not work.</p>\n<p>I can't change ADOPTCTX to YES because MQ Server is third party provider.</p>\n<p>I tried setup param in MQEnviroment.userID, but it doesnt work.</p>\n<p>Now I have this code:</p>\n<pre><code>        com.ibm.msg.client.wmq.compat.base.internal.MQEnvironment.userID = mcauserid;\n        com.ibm.mq.MQEnvironment.userID = mcauserid;\n        PropertyStore.user_name = mcauserid;\n        ....\n        MQConnectionFactory connectionFactory = new MQConnectionFactory();\n        connectionFactory.setStringProperty(WMQConstants.USERID, username);\n        connectionFactory.setStringProperty(WMQConstants.PASSWORD, password);\n        connectionFactory.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, true);\n        ...\n</code></pre>\n<p>This works if java param user.name setted up to mcauserid.\nExist another way for define MCA UserID for connection factory?</p>\n"},{"tags":["java","junit","mockito","junit4"],"answers":[{"tags":[],"owner":{"account_id":13072898,"reputation":1,"user_id":9445942,"display_name":"Muhammad Arsil Khan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682445574,"creation_date":1682445574,"answer_id":76104139,"question_id":76103872,"body_markdown":"```\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.mockito.Mockito.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\npublic class YourClassTest {\r\n\r\n    @Mock\r\n    private GetFiles getFiles;\r\n    \r\n    private YourClass yourClass;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n        yourClass = new YourClass();\r\n        yourClass.setGetFiles(getFiles);\r\n    }\r\n\r\n    @After\r\n    public void tearDown() {\r\n        // Clean up any resources used by the test\r\n    }\r\n\r\n    @Test\r\n    public void testReadFileWithValidData() throws IOException {\r\n        // Step 1: Prepare mock objects\r\n        String testDate = &quot;2023-04-25&quot;;\r\n        String dateConverted = FormatsDates.fileAEDateFormat(testDate);\r\n        String readDataFile = &quot;test_file.txt&quot;;\r\n        List&lt;String&gt; expectedList = new ArrayList&lt;&gt;();\r\n        expectedList.add(&quot;separator1&quot;);\r\n        expectedList.add(&quot;separator2&quot;);\r\n        \r\n        when(getFiles.getFileAE(dateConverted)).thenReturn(readDataFile);\r\n\r\n        // Step 2: Call the method\r\n        List&lt;String&gt; resultList = yourClass.readFile(testDate);\r\n\r\n        // Step 3: Assert expected results\r\n        assertNotNull(resultList);\r\n        assertEquals(&quot;Expected list size&quot;, expectedList.size(), resultList.size());\r\n        assertEquals(&quot;Expected list elements&quot;, expectedList, resultList);\r\n        \r\n        // Step 4: Verify mock interactions\r\n        verify(getFiles).getFileAE(dateConverted);\r\n    }\r\n    \r\n    @Test\r\n    public void testReadFileWithEmptyDataFile() throws IOException {\r\n        // Step 1: Prepare mock objects\r\n        String testDate = &quot;2023-04-25&quot;;\r\n        String dateConverted = FormatsDates.fileAEDateFormat(testDate);\r\n        String readDataFile = &quot;&quot;;\r\n        List&lt;String&gt; expectedList = new ArrayList&lt;&gt;();\r\n        \r\n        when(getFiles.getFileAE(dateConverted)).thenReturn(readDataFile);\r\n\r\n        // Step 2: Call the method\r\n        List&lt;String&gt; resultList = yourClass.readFile(testDate);\r\n\r\n        // Step 3: Assert expected results\r\n        assertNotNull(resultList);\r\n        assertEquals(&quot;Expected list size&quot;, expectedList.size(), resultList.size());\r\n        \r\n        // Step 4: Verify mock interactions\r\n        verify(getFiles).getFileAE(dateConverted);\r\n    }\r\n\r\n    // Additional tests and edge cases can be added here\r\n}\r\n\r\n```\r\n\r\nYou can try something like this.","title":"how to do a Unit Test with Junit and mockito in java on methods that I need to test","body":"<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.mockito.Mockito.*;\n\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\npublic class YourClassTest {\n\n    @Mock\n    private GetFiles getFiles;\n    \n    private YourClass yourClass;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        yourClass = new YourClass();\n        yourClass.setGetFiles(getFiles);\n    }\n\n    @After\n    public void tearDown() {\n        // Clean up any resources used by the test\n    }\n\n    @Test\n    public void testReadFileWithValidData() throws IOException {\n        // Step 1: Prepare mock objects\n        String testDate = &quot;2023-04-25&quot;;\n        String dateConverted = FormatsDates.fileAEDateFormat(testDate);\n        String readDataFile = &quot;test_file.txt&quot;;\n        List&lt;String&gt; expectedList = new ArrayList&lt;&gt;();\n        expectedList.add(&quot;separator1&quot;);\n        expectedList.add(&quot;separator2&quot;);\n        \n        when(getFiles.getFileAE(dateConverted)).thenReturn(readDataFile);\n\n        // Step 2: Call the method\n        List&lt;String&gt; resultList = yourClass.readFile(testDate);\n\n        // Step 3: Assert expected results\n        assertNotNull(resultList);\n        assertEquals(&quot;Expected list size&quot;, expectedList.size(), resultList.size());\n        assertEquals(&quot;Expected list elements&quot;, expectedList, resultList);\n        \n        // Step 4: Verify mock interactions\n        verify(getFiles).getFileAE(dateConverted);\n    }\n    \n    @Test\n    public void testReadFileWithEmptyDataFile() throws IOException {\n        // Step 1: Prepare mock objects\n        String testDate = &quot;2023-04-25&quot;;\n        String dateConverted = FormatsDates.fileAEDateFormat(testDate);\n        String readDataFile = &quot;&quot;;\n        List&lt;String&gt; expectedList = new ArrayList&lt;&gt;();\n        \n        when(getFiles.getFileAE(dateConverted)).thenReturn(readDataFile);\n\n        // Step 2: Call the method\n        List&lt;String&gt; resultList = yourClass.readFile(testDate);\n\n        // Step 3: Assert expected results\n        assertNotNull(resultList);\n        assertEquals(&quot;Expected list size&quot;, expectedList.size(), resultList.size());\n        \n        // Step 4: Verify mock interactions\n        verify(getFiles).getFileAE(dateConverted);\n    }\n\n    // Additional tests and edge cases can be added here\n}\n\n</code></pre>\n<p>You can try something like this.</p>\n"}],"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682445574,"creation_date":1682443443,"question_id":76103872,"body_markdown":"I&#39;m new to Junit and Mockito Testing in Java, can someone give me an example or an idea of ​​how I can test a method that basically reads a file and at the same time receives a date:\r\n\r\n    public List&lt;String&gt; readFile(String date) {\r\n\t\tString dateConverted = FormatsDates.fileAEDateFormat(date);\r\n\t\tGetFiles getFiles = new GetFiles();\r\n\t\tString readDataFile = getFiles.getFileAE(dateConverted);\r\n\t\t\r\n\t\tList&lt;String&gt; obtainList = new ArrayList&lt;&gt;();\r\n\r\n\t\tif (!readDataFile.isEmpty()) {\r\n\t\t\ttry (FileReader fileReader = new FileReader(readDataFile); \r\n\t\t\t\t BufferedReader bufferedReader = new BufferedReader(fileReader)) {\r\n\r\n\t\t\t\tString separator;\r\n\t\t\t\tString line;\r\n\t\t\t\tint cont = 0;\r\n\r\n\t\t\t\twhile ((line = bufferedReader.readLine()) != null) {\r\n\t\t\t\t\tcont++;\r\n\t\t\t\t\tif (cont &gt; 1) {\r\n\t\t\t\t\t\tline = line.replace(ConstantsFiles.LIN_WIT_SPA, ConstantsFiles.REP_SPA_LIN);\r\n\t\t\t\t\t\tseparator = line.substring(POS_CLTE, LONG_CLTE);\r\n\t\t\t\t\t\tlogger.info(&quot;Longitud correcta: &quot; + separator);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (separator.length() == Integer.parseInt(ConstantsFiles.LENGTH_CLIENT)) {\r\n\t\t\t\t\t\t\tobtainList.add(separator);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlogger.error(&quot;Longitud incorrecta: &quot; + separator);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (FileNotFoundException ex) {\r\n\t\t\t\tlogger.error(&quot;Error, archivo no encontrado: &quot; + ex.getMessage(), ex);\r\n\t\t\t} catch (IOException ex) {\r\n\t\t\t\tlogger.error(&quot;Error de lectura, archivo Ejecutivos Facultados: &quot; + ex.getMessage(), ex);\r\n\t\t\t}\r\n\t\t\treturn obtainList;\r\n\t\t}\r\n\t\treturn obtainList;\r\n\t}","title":"how to do a Unit Test with Junit and mockito in java on methods that I need to test","body":"<p>I'm new to Junit and Mockito Testing in Java, can someone give me an example or an idea of ​​how I can test a method that basically reads a file and at the same time receives a date:</p>\n<pre><code>public List&lt;String&gt; readFile(String date) {\n    String dateConverted = FormatsDates.fileAEDateFormat(date);\n    GetFiles getFiles = new GetFiles();\n    String readDataFile = getFiles.getFileAE(dateConverted);\n    \n    List&lt;String&gt; obtainList = new ArrayList&lt;&gt;();\n\n    if (!readDataFile.isEmpty()) {\n        try (FileReader fileReader = new FileReader(readDataFile); \n             BufferedReader bufferedReader = new BufferedReader(fileReader)) {\n\n            String separator;\n            String line;\n            int cont = 0;\n\n            while ((line = bufferedReader.readLine()) != null) {\n                cont++;\n                if (cont &gt; 1) {\n                    line = line.replace(ConstantsFiles.LIN_WIT_SPA, ConstantsFiles.REP_SPA_LIN);\n                    separator = line.substring(POS_CLTE, LONG_CLTE);\n                    logger.info(&quot;Longitud correcta: &quot; + separator);\n                    \n                    if (separator.length() == Integer.parseInt(ConstantsFiles.LENGTH_CLIENT)) {\n                        obtainList.add(separator);\n                        \n                    } else {\n                        logger.error(&quot;Longitud incorrecta: &quot; + separator);\n                    }\n                }\n            }\n        } catch (FileNotFoundException ex) {\n            logger.error(&quot;Error, archivo no encontrado: &quot; + ex.getMessage(), ex);\n        } catch (IOException ex) {\n            logger.error(&quot;Error de lectura, archivo Ejecutivos Facultados: &quot; + ex.getMessage(), ex);\n        }\n        return obtainList;\n    }\n    return obtainList;\n}\n</code></pre>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":2,"creation_date":1425704901,"post_id":28911331,"comment_id":46081952,"body_markdown":"What&#39;s the JNI equivalent of `void someMethod() {super.someMethod();}`?","body":"What&#39;s the JNI equivalent of <code>void someMethod() {super.someMethod();}</code>?"},{"owner":{"account_id":474899,"reputation":1399,"user_id":884893,"accept_rate":70,"display_name":"over_optimistic"},"score":0,"creation_date":1425710750,"post_id":28911331,"comment_id":46082982,"body_markdown":"to call super I was thinking along the lines of FindClass(&quot;com.whatever.superclass&quot;), GetMethodId(), then the regular Call&lt;Type&gt;Method? I never needed to do that though. If what you say is it, the documentation should really say &quot;call super class&quot; instead of the strange wording they have. Perhaps you should make that an answer.","body":"to call super I was thinking along the lines of FindClass(&quot;com.whatever.superclass&quot;), GetMethodId(), then the regular Call&lt;Type&gt;Method? I never needed to do that though. If what you say is it, the documentation should really say &quot;call super class&quot; instead of the strange wording they have. Perhaps you should make that an answer."}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1682445368,"creation_date":1425711828,"answer_id":28912351,"question_id":28911331,"body_markdown":"As the documentation says, `Call&lt;Type&gt;Method` calls the method in the object&#39;s actual class, while `CallNonvirtual&lt;Type&gt;Method` calls the method in the class you specify.\r\n\r\nConsider this Java code:\r\n\r\n    public class A {\r\n        public void doSomething() {\r\n            System.out.println(&quot;A.doSomething &quot; + this.getClass().getName());\r\n        }\r\n    }\r\n\r\n    public class B extends A {\r\n        public void doSomething() {\r\n            System.out.println(&quot;B.doSomething &quot; + this.getClass().getName());\r\n        }\r\n    }\r\n\r\n    public class Test {\r\n        public static native jniTest(B b);\r\n        public static void main(String[] args) {\r\n            B obj = new B();\r\n            jniTest(obj);\r\n        }\r\n    }\r\n\r\nIf `jniTest` tries to call `doSomething` on its parameter using `CallVoidMethod`, it will print &quot;B.doSomething B&quot;. If it uses `CallNonvirtualVoidMethod`, it will print &quot;A.doSomething B&quot;.\r\n\r\nThis is the same mechanism used for `super.` calls in Java (by the `invokespecial` bytecode); however, it is not restricted to calling methods in the current class&#39;s immediate superclass - you can&#39;t do `super.super.something()` or `new B().super.doSomething()` in Java, but you can with JNI.\r\n","title":"When to use CallNonvirtualObjectMethod and its related methods?","body":"<p>As the documentation says, <code>Call&lt;Type&gt;Method</code> calls the method in the object's actual class, while <code>CallNonvirtual&lt;Type&gt;Method</code> calls the method in the class you specify.</p>\n<p>Consider this Java code:</p>\n<pre><code>public class A {\n    public void doSomething() {\n        System.out.println(&quot;A.doSomething &quot; + this.getClass().getName());\n    }\n}\n\npublic class B extends A {\n    public void doSomething() {\n        System.out.println(&quot;B.doSomething &quot; + this.getClass().getName());\n    }\n}\n\npublic class Test {\n    public static native jniTest(B b);\n    public static void main(String[] args) {\n        B obj = new B();\n        jniTest(obj);\n    }\n}\n</code></pre>\n<p>If <code>jniTest</code> tries to call <code>doSomething</code> on its parameter using <code>CallVoidMethod</code>, it will print &quot;B.doSomething B&quot;. If it uses <code>CallNonvirtualVoidMethod</code>, it will print &quot;A.doSomething B&quot;.</p>\n<p>This is the same mechanism used for <code>super.</code> calls in Java (by the <code>invokespecial</code> bytecode); however, it is not restricted to calling methods in the current class's immediate superclass - you can't do <code>super.super.something()</code> or <code>new B().super.doSomething()</code> in Java, but you can with JNI.</p>\n"}],"owner":{"account_id":474899,"reputation":1399,"user_id":884893,"accept_rate":70,"display_name":"over_optimistic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28912351,"answer_count":1,"score":2,"last_activity_date":1682445368,"creation_date":1425702089,"question_id":28911331,"body_markdown":"It seems like `CallStaticObjectMethod`, `CallObjectMethodMethod` and etc... are all you need. According to the docs\r\n\r\n&gt;  `CallNonvirtual&lt;type&gt;Method` families of routines and the `Call&lt;type&gt;Method` families of routines are different. `Call&lt;type&gt;Method` routines invoke the method based on the class of the object, while `CallNonvirtual&lt;type&gt;Method` routines invoke the method based on the class, designated by the `clazz` parameter, from which the method ID is obtained. The method ID must be obtained from the real class of the object or from one of its superclasses.\r\n\r\nFrom that description it also sounds that the specific method `CallNonvirtualObjectMethod` has no use.","title":"When to use CallNonvirtualObjectMethod and its related methods?","body":"<p>It seems like <code>CallStaticObjectMethod</code>, <code>CallObjectMethodMethod</code> and etc... are all you need. According to the docs</p>\n\n<blockquote>\n  <p><code>CallNonvirtual&lt;type&gt;Method</code> families of routines and the <code>Call&lt;type&gt;Method</code> families of routines are different. <code>Call&lt;type&gt;Method</code> routines invoke the method based on the class of the object, while <code>CallNonvirtual&lt;type&gt;Method</code> routines invoke the method based on the class, designated by the <code>clazz</code> parameter, from which the method ID is obtained. The method ID must be obtained from the real class of the object or from one of its superclasses.</p>\n</blockquote>\n\n<p>From that description it also sounds that the specific method <code>CallNonvirtualObjectMethod</code> has no use.</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"owner":{"account_id":23275440,"reputation":1,"user_id":17359669,"display_name":"pbale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682445351,"creation_date":1682445351,"question_id":76104112,"body_markdown":"I have two applications. one of them is spring boot and other is spring java application. The call goes from springboot application to the java application and performs some action. \r\nI am using spring-boot-starter-data-mongodb-3.0.0 and connecting to mongo through configuring in properties. \r\nFor java application, its configured in xml \r\n```\r\n&lt;mongo:db-factory id=&quot;mongoDbFactory&quot; connection-string=&quot;${MONGO_CONNECTION_STRING}&quot;/&gt;\r\n&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot; &gt;\r\n    &lt;constructor-arg ref=&quot;mongoDbFactory&quot; /&gt;\r\n&lt;/bean&gt;\r\n  \r\n  &lt;!-- bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot;/&gt; --&gt;\r\n  &lt;mongo:repositories base-package=&quot;edu.illinois.techservices.cloudbroker.core.repository&quot; mongo-template-ref=&quot;mongoTemplate&quot; /&gt;\r\n  &lt;context:annotation-config /&gt; \r\n```\r\nAt some point, the application is throwing:\r\n\r\njava.lang.IllegalStateException: state should be: open\r\n\tat com.mongodb.assertions.Assertions.isTrue(Assertions.java:79)\r\n\tat com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:165)\r\n\tat com.mongodb.internal.connection.AbstractMultiServerCluster.getDescription(AbstractMultiServerCluster.java:50)\r\n\tat com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:144)\r\n\tat com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:101)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:291)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:183)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2968)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2692)\r\n\tat org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:220)\r\n\tat org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:132)\r\n\tat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$6(AbstractMongoQuery.java:188)\r\n\tat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:152)\r\n\tat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:127)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy35.findByName(Unknown Source)\r\n\r\nIt looks like spring boot is resetting the connection some where? I am not able to figure out where and how this is happening.\r\n\r\nThanks,\r\nPbale","title":"mongo db - IllegalStateException - state should be open","body":"<p>I have two applications. one of them is spring boot and other is spring java application. The call goes from springboot application to the java application and performs some action.\nI am using spring-boot-starter-data-mongodb-3.0.0 and connecting to mongo through configuring in properties.\nFor java application, its configured in xml</p>\n<pre><code>&lt;mongo:db-factory id=&quot;mongoDbFactory&quot; connection-string=&quot;${MONGO_CONNECTION_STRING}&quot;/&gt;\n&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot; &gt;\n    &lt;constructor-arg ref=&quot;mongoDbFactory&quot; /&gt;\n&lt;/bean&gt;\n  \n  &lt;!-- bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot;/&gt; --&gt;\n  &lt;mongo:repositories base-package=&quot;edu.illinois.techservices.cloudbroker.core.repository&quot; mongo-template-ref=&quot;mongoTemplate&quot; /&gt;\n  &lt;context:annotation-config /&gt; \n</code></pre>\n<p>At some point, the application is throwing:</p>\n<p>java.lang.IllegalStateException: state should be: open\nat com.mongodb.assertions.Assertions.isTrue(Assertions.java:79)\nat com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:165)\nat com.mongodb.internal.connection.AbstractMultiServerCluster.getDescription(AbstractMultiServerCluster.java:50)\nat com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:144)\nat com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:101)\nat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:291)\nat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:183)\nat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135)\nat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92)\nat org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2968)\nat org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2692)\nat org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:220)\nat org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:132)\nat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$6(AbstractMongoQuery.java:188)\nat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:152)\nat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:127)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\nat com.sun.proxy.$Proxy35.findByName(Unknown Source)</p>\n<p>It looks like spring boot is resetting the connection some where? I am not able to figure out where and how this is happening.</p>\n<p>Thanks,\nPbale</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675515208,"post_id":75345157,"comment_id":132947852,"body_markdown":"Try taking the &lt;scope&gt;test&lt;/scope&gt; out as an experiment.","body":"Try taking the &lt;scope&gt;test&lt;/scope&gt; out as an experiment."},{"owner":{"account_id":2228780,"reputation":542,"user_id":1966940,"accept_rate":80,"display_name":"Jamie Reid"},"score":0,"creation_date":1675515507,"post_id":75345157,"comment_id":132947893,"body_markdown":"Same result unfortunately.","body":"Same result unfortunately."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675516261,"post_id":75345157,"comment_id":132948031,"body_markdown":"FWIW I imported the project to Eclipse and works great. Maybe Intelli project settings.","body":"FWIW I imported the project to Eclipse and works great. Maybe Intelli project settings."},{"owner":{"account_id":2228780,"reputation":542,"user_id":1966940,"accept_rate":80,"display_name":"Jamie Reid"},"score":0,"creation_date":1675516547,"post_id":75345157,"comment_id":132948079,"body_markdown":"I&#39;m not the biggest fan of Eclipse, I also had a problem when I tried it on Eclipse and I couldn&#39;t find the main class when trying to run as a Java Application (likely due to not using Eclipse for such a long time)\nI guess I need an IntelliJ expert","body":"I&#39;m not the biggest fan of Eclipse, I also had a problem when I tried it on Eclipse and I couldn&#39;t find the main class when trying to run as a Java Application (likely due to not using Eclipse for such a long time) I guess I need an IntelliJ expert"},{"owner":{"account_id":2228780,"reputation":542,"user_id":1966940,"accept_rate":80,"display_name":"Jamie Reid"},"score":0,"creation_date":1675520852,"post_id":75345157,"comment_id":132948786,"body_markdown":"This is what I get in Eclipse: Error: Could not find or load main class com.jreid.spring.basics.movierecommendersystem.withbeans.MovieRecommenderSystem.class  Caused by: java.lang.ClassNotFoundException: com.jreid.spring.basics.movierecommendersystem.withbeans.MovieRecommenderSystem.class","body":"This is what I get in Eclipse: Error: Could not find or load main class com.jreid.spring.basics.movierecommendersystem.withbeans.Mov&zwnj;&#8203;ieRecommenderSystem.&zwnj;&#8203;class  Caused by: java.lang.ClassNotFoundException: com.jreid.spring.basics.movierecommendersystem.withbeans.Mov&zwnj;&#8203;ieRecommenderSystem.&zwnj;&#8203;class"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675522292,"post_id":75345157,"comment_id":132949019,"body_markdown":"Project setup - can’t find class files. Try Project &gt;&gt; clean","body":"Project setup - can’t find class files. Try Project &gt;&gt; clean"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1675665933,"post_id":75345157,"comment_id":132970320,"body_markdown":"I&#39;m getting 404 for the repo in question. Make sure it is not a private repository","body":"I&#39;m getting 404 for the repo in question. Make sure it is not a private repository"}],"answers":[{"tags":[],"owner":{"account_id":8759841,"reputation":1,"user_id":6550073,"display_name":"NatKot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675516898,"creation_date":1675516898,"answer_id":75345385,"question_id":75345157,"body_markdown":"Enable auto import for maven dependency in settings `Import Maven projects automatically`. And do `mvn clean install`. If it won&#39;t work, use `Invalidate Caches` menu to reindex mvn repository. \r\nAnd be sure you have all dependencies in pom.xml of course","title":"I am having a problem with intelliJ not finding the imports","body":"<p>Enable auto import for maven dependency in settings <code>Import Maven projects automatically</code>. And do <code>mvn clean install</code>. If it won't work, use <code>Invalidate Caches</code> menu to reindex mvn repository.\nAnd be sure you have all dependencies in pom.xml of course</p>\n"},{"tags":[],"owner":{"account_id":1986063,"reputation":391,"user_id":1781257,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682445336,"creation_date":1682445336,"answer_id":76104109,"question_id":75345157,"body_markdown":"My remedy to the solution when intellij does not find jupiter or Q* objects (generated and compiled from another project):\r\n\r\n1. Exit Intellij\r\n2. mvn clean install -&gt; must be successfull\r\n3. start Intellij\r\n4. Open Maven register (on my screen the right side)\r\n5. Select Profiles on the top of the list\r\n6. press the button &quot;Reload all maven projects&quot;\r\n7. wait, then try to start the spring boot service\r\n..\r\nin some cases this still does not work, then I do the same again, and very often this helps\r\n\r\nBuild,execution,deployment.build tools.reload project after changes in the build script.enabled\r\nBuild,execution,deployment.build tools.maven.execute goals recursively.enabled\r\nBuild,execution,deployment.build tools.maven.use settings from mvn/config.enabled\r\nBuild,execution,deployment.build tools.maven.runner.Delegate IDE buildrun actions to Maven.DISabled\r\nBuild,execution,deployment.build tools.maven.runner.Run in background.enabled\r\nBuild,execution,deployment.build tools.maven.runner.Skip Tests.DISabled\r\n\r\n","title":"I am having a problem with intelliJ not finding the imports","body":"<p>My remedy to the solution when intellij does not find jupiter or Q* objects (generated and compiled from another project):</p>\n<ol>\n<li>Exit Intellij</li>\n<li>mvn clean install -&gt; must be successfull</li>\n<li>start Intellij</li>\n<li>Open Maven register (on my screen the right side)</li>\n<li>Select Profiles on the top of the list</li>\n<li>press the button &quot;Reload all maven projects&quot;</li>\n<li>wait, then try to start the spring boot service\n..\nin some cases this still does not work, then I do the same again, and very often this helps</li>\n</ol>\n<p>Build,execution,deployment.build tools.reload project after changes in the build script.enabled\nBuild,execution,deployment.build tools.maven.execute goals recursively.enabled\nBuild,execution,deployment.build tools.maven.use settings from mvn/config.enabled\nBuild,execution,deployment.build tools.maven.runner.Delegate IDE buildrun actions to Maven.DISabled\nBuild,execution,deployment.build tools.maven.runner.Run in background.enabled\nBuild,execution,deployment.build tools.maven.runner.Skip Tests.DISabled</p>\n"}],"owner":{"account_id":2228780,"reputation":542,"user_id":1966940,"accept_rate":80,"display_name":"Jamie Reid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682445336,"creation_date":1675514501,"question_id":75345157,"body_markdown":"I am having a problem with IntelliJ not finding the imports (and subsequently the classes)\r\n\r\nAt the moment the code is bare bones and doesn&#39;t do anything, I am in the process of practicing my skills but I can&#39;t get past this error.\r\n\r\nThe IntelliJ project can be found on [GitHub here](https://github.com/jareid/SpringPractice)\r\n\r\nThe code in question is MovieRecommenderSystemApplicationTests.java\r\n```\r\npackage com.jreid.spring.basics.movierecommendersystem;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass MovieRecommenderSystemApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd the errors are as follows:\r\n```\r\njava: package org.junit.jupiter.api does not exist\r\njava: package org.springframework.boot.test.context does not exist\r\njava: cannot find symbol\r\n  symbol: class SpringBootTest\r\njava: cannot find symbol\r\n  symbol:   class Test\r\n  location: class com.jreid.spring.basics.movierecommendersystem.MovieRecommenderSystemApplicationTests\r\n```\r\n\r\nIntelliJ finds the symbols without any problems.\r\n\r\nAny help would be appreciated. Thanks","title":"I am having a problem with intelliJ not finding the imports","body":"<p>I am having a problem with IntelliJ not finding the imports (and subsequently the classes)</p>\n<p>At the moment the code is bare bones and doesn't do anything, I am in the process of practicing my skills but I can't get past this error.</p>\n<p>The IntelliJ project can be found on <a href=\"https://github.com/jareid/SpringPractice\" rel=\"nofollow noreferrer\">GitHub here</a></p>\n<p>The code in question is MovieRecommenderSystemApplicationTests.java</p>\n<pre><code>package com.jreid.spring.basics.movierecommendersystem;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass MovieRecommenderSystemApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>And the errors are as follows:</p>\n<pre><code>java: package org.junit.jupiter.api does not exist\njava: package org.springframework.boot.test.context does not exist\njava: cannot find symbol\n  symbol: class SpringBootTest\njava: cannot find symbol\n  symbol:   class Test\n  location: class com.jreid.spring.basics.movierecommendersystem.MovieRecommenderSystemApplicationTests\n</code></pre>\n<p>IntelliJ finds the symbols without any problems.</p>\n<p>Any help would be appreciated. Thanks</p>\n"},{"tags":["java","console","passwords"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682446174,"post_id":76104106,"comment_id":134216119,"body_markdown":"You depart significantly from the [Javadoc example](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html) I suggest you don&#39;t ;)","body":"You depart significantly from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html\" rel=\"nofollow noreferrer\">Javadoc example</a> I suggest you don&#39;t ;)"},{"owner":{"account_id":17813223,"reputation":344,"user_id":12937340,"display_name":"Andrew Richesson"},"score":0,"creation_date":1682446377,"post_id":76104106,"comment_id":134216152,"body_markdown":"I ran your code, and it lets me type in an entire password.","body":"I ran your code, and it lets me type in an entire password."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682446540,"post_id":76104106,"comment_id":134216190,"body_markdown":"If you&#39;re running it from an IDE console, some get IO, particularly I, wrong","body":"If you&#39;re running it from an IDE console, some get IO, particularly I, wrong"}],"owner":{"account_id":92193,"reputation":943,"user_id":252759,"accept_rate":42,"display_name":"Andy Jacobs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682445334,"creation_date":1682445334,"question_id":76104106,"body_markdown":"When I run my program with:\r\n```\r\n        String line;\r\n        if (null != System.console())\r\n        {\r\n            char [] c = System.console().readPassword(&quot;prompt&gt;&quot;);\r\n            line = (null != c) ? new String(c) : &quot;&quot;;\r\n        }\r\n```\r\n\r\nI get the prompt, and if my password were &quot;abcd&quot;, as soon as I type the &quot;a&quot; (without pressing Enter, or anything else) the `readPassword()` is returning with just the single letter &quot;a&quot; in the `c` array, and not waiting for me to type &quot;bcd&quot;.  What am I doing wrong, or am I supposed to call `readPassword()` in a loop?  (The examples I&#39;ve seen don&#39;t seem to do that).  That is, I am expecting (and want) `readPassword()` to read a line until the user presses Enter, but it is returning after a single character is typed.\r\n\r\nThanks.","title":"Only reading a single character with readPassword()","body":"<p>When I run my program with:</p>\n<pre><code>        String line;\n        if (null != System.console())\n        {\n            char [] c = System.console().readPassword(&quot;prompt&gt;&quot;);\n            line = (null != c) ? new String(c) : &quot;&quot;;\n        }\n</code></pre>\n<p>I get the prompt, and if my password were &quot;abcd&quot;, as soon as I type the &quot;a&quot; (without pressing Enter, or anything else) the <code>readPassword()</code> is returning with just the single letter &quot;a&quot; in the <code>c</code> array, and not waiting for me to type &quot;bcd&quot;.  What am I doing wrong, or am I supposed to call <code>readPassword()</code> in a loop?  (The examples I've seen don't seem to do that).  That is, I am expecting (and want) <code>readPassword()</code> to read a line until the user presses Enter, but it is returning after a single character is typed.</p>\n<p>Thanks.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":4074458,"reputation":41,"user_id":3346490,"display_name":"Perla Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682444991,"creation_date":1682432315,"answer_id":76102210,"question_id":76102209,"body_markdown":"Possible Solution\r\n```\r\nDynamoDbClient.builder()  \r\n    .region(Region.of(getRegion()))  \r\n    .endpointOverride(URI.create(getEndpoint()))  \r\n    .credentialsProvider(StaticCredentialsProvider.create(credentials))\r\n    .overrideConfiguration(o -&gt; o.putHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)).build();\r\n```","title":"Getting Crc32MismatchException when using dynamodb enhanced client when we are using queryPaginator","body":"<p>Possible Solution</p>\n<pre><code>DynamoDbClient.builder()  \n    .region(Region.of(getRegion()))  \n    .endpointOverride(URI.create(getEndpoint()))  \n    .credentialsProvider(StaticCredentialsProvider.create(credentials))\n    .overrideConfiguration(o -&gt; o.putHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)).build();\n</code></pre>\n"}],"owner":{"account_id":4074458,"reputation":41,"user_id":3346490,"display_name":"Perla Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682444991,"creation_date":1682432315,"question_id":76102209,"body_markdown":"**Bug description**\r\n\r\nWe tried to queryPaginator using DynamoDbEnhancedClient but we got `software.amazon.awssdk.core.exception.Crc32MismatchException`.\r\n\r\n&gt;software.amazon.awssdk.core.exception.Crc32MismatchException: Expected 4178815326 as the Crc32 checksum but the actual calculated checksum was 3264908315\r\n\r\n**Expected Behavior**\r\nI should be able to queryPaginator results\r\n\r\n**Current Behavior**\r\n\r\n**Error logs:**\r\n\r\n\r\n&gt;\\&quot;exception\\&quot;:\\&quot;software.amazon.awssdk.core.exception.Crc32MismatchException: Expected 4178815326 as the Crc32 checksum but the actual calculated checksum was 3264908315\\\\n\\\\tat software.amazon.awssdk.core.exception.Crc32MismatchException$BuilderImpl.build(Crc32MismatchException.java:88)\\\\n\\\\tat software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.validateChecksum(Crc32ChecksumValidatingInputStream.java:62)\\\\n\\\\tat software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.close(Crc32ChecksumValidatingInputStream.java:50)\\\\n\\\\tat java.base/java.io.FilterInputStream.close(FilterInputStream.java:179)\\\\n\\\\tat software.amazon.awssdk.utils.FunctionalUtils.lambda$safeRunnable$5(FunctionalUtils.java:124)\\\\n\\\\tat software.amazon.awssdk.utils.FunctionalUtils.invokeSafely(FunctionalUtils.java:140)\\\\n\\\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.lambda$handle$2(JsonResponseHandler.java:87)\\\\n\\\\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\\\\n\\\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:87)\\\\n\\\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:36)\\\\n\\\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.AwsJsonResponseHandler.handle(AwsJsonResponseHandler.java:43)\\\\n\\\\tat software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\\\\n\\\\tat software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:63)\\\\n\\\\tat software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\\\\n\\\\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:95)\\\\n\\\\tat software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$resultTransformationResponseHandler$8(BaseClientHandler.java:262)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleSuccessResponse(CombinedResponseHandler.java:99)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:75)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\\\\n\\\\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\\\\n\\\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\\\\n\\\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\\\\n\\\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\\\\n\\\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\\\\n\\\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\\\\n\\\\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\\\\n\\\\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\\\\n\\\\tat software.amazon.awssdk.services.dynamodb.DefaultDynamoDbClient.query(DefaultDynamoDbClient.java:4046)\\\\n\\\\tat software.amazon.awssdk.services.dynamodb.paginators.QueryIterable$QueryResponseFetcher.nextPage(QueryIterable.java:134)\\\\n\\\\tat software.amazon.awssdk.services.dynamodb.paginators.QueryIterable$QueryResponseFetcher.nextPage(QueryIterable.java:125)\\\\n\\\\tat software.amazon.awssdk.core.pagination.sync.PaginatedResponsesIterator.next(PaginatedResponsesIterator.java:58)\\\\n\\\\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\\\\n\\\\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\\\\n\\\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\\\\n\\\\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\\\\n\\\\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\\\\n\\\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\\\\n\\\\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:693)\\\\n\\\\tat \r\n\r\n\r\n\r\n**AWS Java SDK version used and Java Version used**\r\n\r\n2.17.27\r\n\r\njava 17\r\n\r\n**Snipped code:**\r\n\r\n     AwsBasicCredentials credentials = AwsBasicCredentials.create(getAccessKey(), getSecretKey());\r\n    \r\n     DynamoDbClient.builder()\r\n        .region(Region.of(getRegion()))                    \r\n        .endpointOverride(URI.create(getEndpoint()))                    \r\n        .credentialsProvider(StaticCredentialsProvider.create(credentials))\r\n        .build();\r\n\r\n**Related same issue but we are unable to find the solution:**\r\n\r\nhttps://stackoverflow.com/questions/75176090/getting-crc32mismatchexception-when-using-dynamodb-enhanced-client\r\n\r\nhttps://github.com/aws/aws-sdk-java-v2/issues/3703\r\n\r\nhttps://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/exception/Crc32MismatchException.html\r\n","title":"Getting Crc32MismatchException when using dynamodb enhanced client when we are using queryPaginator","body":"<p><strong>Bug description</strong></p>\n<p>We tried to queryPaginator using DynamoDbEnhancedClient but we got <code>software.amazon.awssdk.core.exception.Crc32MismatchException</code>.</p>\n<blockquote>\n<p>software.amazon.awssdk.core.exception.Crc32MismatchException: Expected 4178815326 as the Crc32 checksum but the actual calculated checksum was 3264908315</p>\n</blockquote>\n<p><strong>Expected Behavior</strong>\nI should be able to queryPaginator results</p>\n<p><strong>Current Behavior</strong></p>\n<p><strong>Error logs:</strong></p>\n<blockquote>\n<p>&quot;exception&quot;:&quot;software.amazon.awssdk.core.exception.Crc32MismatchException: Expected 4178815326 as the Crc32 checksum but the actual calculated checksum was 3264908315\\n\\tat software.amazon.awssdk.core.exception.Crc32MismatchException$BuilderImpl.build(Crc32MismatchException.java:88)\\n\\tat software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.validateChecksum(Crc32ChecksumValidatingInputStream.java:62)\\n\\tat software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.close(Crc32ChecksumValidatingInputStream.java:50)\\n\\tat java.base/java.io.FilterInputStream.close(FilterInputStream.java:179)\\n\\tat software.amazon.awssdk.utils.FunctionalUtils.lambda$safeRunnable$5(FunctionalUtils.java:124)\\n\\tat software.amazon.awssdk.utils.FunctionalUtils.invokeSafely(FunctionalUtils.java:140)\\n\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.lambda$handle$2(JsonResponseHandler.java:87)\\n\\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\\n\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:87)\\n\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:36)\\n\\tat software.amazon.awssdk.protocols.json.internal.unmarshall.AwsJsonResponseHandler.handle(AwsJsonResponseHandler.java:43)\\n\\tat software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\\n\\tat software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:63)\\n\\tat software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\\n\\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:95)\\n\\tat software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$resultTransformationResponseHandler$8(BaseClientHandler.java:262)\\n\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleSuccessResponse(CombinedResponseHandler.java:99)\\n\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:75)\\n\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\\n\\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\\n\\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\\n\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\\n\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\\n\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\\n\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\\n\\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\\n\\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\\n\\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\\n\\tat software.amazon.awssdk.services.dynamodb.DefaultDynamoDbClient.query(DefaultDynamoDbClient.java:4046)\\n\\tat software.amazon.awssdk.services.dynamodb.paginators.QueryIterable$QueryResponseFetcher.nextPage(QueryIterable.java:134)\\n\\tat software.amazon.awssdk.services.dynamodb.paginators.QueryIterable$QueryResponseFetcher.nextPage(QueryIterable.java:125)\\n\\tat software.amazon.awssdk.core.pagination.sync.PaginatedResponsesIterator.next(PaginatedResponsesIterator.java:58)\\n\\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\\n\\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\\n\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\\n\\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\\n\\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\\n\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\\n\\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:693)\\n\\tat</p>\n</blockquote>\n<p><strong>AWS Java SDK version used and Java Version used</strong></p>\n<p>2.17.27</p>\n<p>java 17</p>\n<p><strong>Snipped code:</strong></p>\n<pre><code> AwsBasicCredentials credentials = AwsBasicCredentials.create(getAccessKey(), getSecretKey());\n\n DynamoDbClient.builder()\n    .region(Region.of(getRegion()))                    \n    .endpointOverride(URI.create(getEndpoint()))                    \n    .credentialsProvider(StaticCredentialsProvider.create(credentials))\n    .build();\n</code></pre>\n<p><strong>Related same issue but we are unable to find the solution:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/75176090/getting-crc32mismatchexception-when-using-dynamodb-enhanced-client\">Getting Crc32MismatchException when using dynamodb enhanced client</a></p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2/issues/3703\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/issues/3703</a></p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/exception/Crc32MismatchException.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/exception/Crc32MismatchException.html</a></p>\n"},{"tags":["java","json","jackson","gson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682444363,"creation_date":1682442179,"answer_id":76103733,"question_id":76103453,"body_markdown":"The easiest way to deserialize your data would be to set up some POJOs that conform to your JSON data:\r\n\r\nSince your top-level objects can contain the keys: `oneImageBlock`, `fourImageBlock`, or `oneTextBlock`, you need an object that defines all three of those as possibilities. They are defined in the `Entry` class below.\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport com.fasterxml.jackson.core.exc.StreamReadException;\r\nimport com.fasterxml.jackson.databind.DatabindException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class BlockDeserializer {\r\n    protected static ObjectMapper mapper = new ObjectMapper();\r\n\r\n    public static void main(String[] args) throws StreamReadException, DatabindException, IOException {\r\n        Entry[] entries = mapper.readValue(new File(&quot;src/main/resources/blocks.json&quot;), Entry[].class);\r\n        System.out.println(entries);\r\n    }\r\n\r\n    private static class Entry {\r\n        public ImageBlock[] oneImageBlock;\r\n        public ImageBlock[] fourImageBlock;\r\n        public TextBlock[] oneTextBlock;\r\n        public TextBlock[] fourTextBlock;\r\n    }\r\n\r\n    private static class ImageBlock {\r\n        public String imagePath;\r\n        public MobileImageOverride mobileImageOverride;\r\n        public String imageAltText;\r\n        public String imageCaptionText;\r\n        public CaptionTextReplacement captionTextReplacement;\r\n        public String urlPath;\r\n        public boolean displayURLInModal;\r\n    }\r\n\r\n    private static class TextBlock {\r\n        public String text;\r\n        public String textAlignment;\r\n        public MobileTextOverride mobileTextOverride;\r\n        public String altText;\r\n        public String urlPath;\r\n    }\r\n\r\n    private static class CaptionTextReplacement {\r\n        public String type;\r\n    }\r\n\r\n    private static class MobileImageOverride {\r\n        public String imagePath;\r\n    }\r\n\r\n    private static class MobileTextOverride {\r\n        public String text;\r\n    }\r\n}\r\n```\r\n\r\nAlso, make sure your `oneTextBlock` value is an array of objects. Looks like your JSON is invalid.\r\n\r\n```json\r\n[\r\n  //...\r\n  {\r\n    &quot;oneTextBlock&quot;: [\r\n      {\r\n        &quot;text&quot;: &quot;test&quot;,\r\n        &quot;textAlignment&quot;: &quot;centre&quot;,\r\n        &quot;mobileTextOverride&quot;: {\r\n          &quot;text&quot;: &quot;test&quot;\r\n        },\r\n        &quot;altText&quot;: &quot;alt&quot;,\r\n        &quot;urlPath&quot;: &quot;/url&quot;\r\n      }\r\n    ]\r\n  },\r\n  // ...\r\n]\r\n```\r\n\r\nAlternatively, you can create your own deserializer so that you can correctly deserialize into the correct &quot;block&quot; type.\r\n\r\nI removed the `Entry` concept and added a `Block` interface to all the sub-blocks.\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport com.fasterxml.jackson.core.JacksonException;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.exc.StreamReadException;\r\nimport com.fasterxml.jackson.databind.DatabindException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\n\r\npublic class BlockDeserializerDriver {\r\n    protected static ObjectMapper mapper;\r\n    protected static SimpleModule module;\r\n\r\n    static {\r\n        mapper = new ObjectMapper();\r\n        module = new SimpleModule();\r\n\r\n        module.addDeserializer(Block.class, new BlockDeserializer());\r\n        mapper.registerModule(module);\r\n    }\r\n\r\n    public static void main(String[] args) throws StreamReadException, DatabindException, IOException {\r\n        Block[] entries = loadBlocks(&quot;src/main/resources/blocks.json&quot;);\r\n\r\n        System.out.println(entries[0] instanceof OneImageBlock); // true\r\n        System.out.println(entries[1] instanceof FourImageBlock); // true\r\n        System.out.println(entries[2] instanceof FourImageBlock); // true\r\n        System.out.println(entries[3] instanceof OneImageBlock); // true\r\n        System.out.println(entries[4] instanceof OneTextBlock); // true\r\n        System.out.println(entries[5] instanceof FourImageBlock); // true\r\n    }\r\n\r\n    public static Block[] loadBlocks(String filePath) throws StreamReadException, DatabindException, IOException {\r\n        return mapper.readValue(new File(filePath), Block[].class);\r\n    }\r\n\r\n    private static interface Block {\r\n    }\r\n\r\n    private static class OneImageBlock implements Block {\r\n        public ImageBlock[] oneImageBlock;\r\n    }\r\n\r\n    private static class FourImageBlock implements Block {\r\n        public ImageBlock[] fourImageBlock;\r\n    }\r\n\r\n    private static class OneTextBlock implements Block {\r\n        public TextBlock[] oneTextBlock;\r\n    }\r\n\r\n    private static class FourTextBlock implements Block {\r\n        public TextBlock[] fourTextBlock;\r\n    }\r\n\r\n    private static class ImageBlock {\r\n        public String imagePath;\r\n        public MobileImageOverride mobileImageOverride;\r\n        public String imageAltText;\r\n        public String imageCaptionText;\r\n        public CaptionTextReplacement captionTextReplacement;\r\n        public String urlPath;\r\n        public boolean displayURLInModal;\r\n    }\r\n\r\n    private static class TextBlock {\r\n        public String text;\r\n        public String textAlignment;\r\n        public MobileTextOverride mobileTextOverride;\r\n        public String altText;\r\n        public String urlPath;\r\n    }\r\n\r\n    private static class CaptionTextReplacement {\r\n        public String type;\r\n    }\r\n\r\n    private static class MobileImageOverride {\r\n        public String imagePath;\r\n    }\r\n\r\n    private static class MobileTextOverride {\r\n        public String text;\r\n    }\r\n\r\n    // See: https://www.baeldung.com/jackson-deserialization\r\n    private static class BlockDeserializer extends StdDeserializer&lt;Block&gt; {\r\n        public BlockDeserializer() {\r\n            this(null);\r\n        }\r\n\r\n        public BlockDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n\r\n        @Override\r\n        public Block deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JacksonException {\r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n\r\n            if (node.has(&quot;oneImageBlock&quot;)) {\r\n                return mapper.convertValue(node, OneImageBlock.class);\r\n            } else if (node.has(&quot;fourImageBlock&quot;)) {\r\n                return mapper.convertValue(node, FourImageBlock.class);\r\n            } else if (node.has(&quot;oneTextBlock&quot;)) {\r\n                return mapper.convertValue(node, OneTextBlock.class);\r\n            } else if (node.has(&quot;fourTextBlock&quot;)) {\r\n                return mapper.convertValue(node, FourTextBlock.class);\r\n            }\r\n\r\n            return null; // Could not parse Block\r\n        }\r\n    }\r\n}\r\n```","title":"How to convert below JSON into POJO in java for deserialisation purpose","body":"<p>The easiest way to deserialize your data would be to set up some POJOs that conform to your JSON data:</p>\n<p>Since your top-level objects can contain the keys: <code>oneImageBlock</code>, <code>fourImageBlock</code>, or <code>oneTextBlock</code>, you need an object that defines all three of those as possibilities. They are defined in the <code>Entry</code> class below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport com.fasterxml.jackson.core.exc.StreamReadException;\nimport com.fasterxml.jackson.databind.DatabindException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class BlockDeserializer {\n    protected static ObjectMapper mapper = new ObjectMapper();\n\n    public static void main(String[] args) throws StreamReadException, DatabindException, IOException {\n        Entry[] entries = mapper.readValue(new File(&quot;src/main/resources/blocks.json&quot;), Entry[].class);\n        System.out.println(entries);\n    }\n\n    private static class Entry {\n        public ImageBlock[] oneImageBlock;\n        public ImageBlock[] fourImageBlock;\n        public TextBlock[] oneTextBlock;\n        public TextBlock[] fourTextBlock;\n    }\n\n    private static class ImageBlock {\n        public String imagePath;\n        public MobileImageOverride mobileImageOverride;\n        public String imageAltText;\n        public String imageCaptionText;\n        public CaptionTextReplacement captionTextReplacement;\n        public String urlPath;\n        public boolean displayURLInModal;\n    }\n\n    private static class TextBlock {\n        public String text;\n        public String textAlignment;\n        public MobileTextOverride mobileTextOverride;\n        public String altText;\n        public String urlPath;\n    }\n\n    private static class CaptionTextReplacement {\n        public String type;\n    }\n\n    private static class MobileImageOverride {\n        public String imagePath;\n    }\n\n    private static class MobileTextOverride {\n        public String text;\n    }\n}\n</code></pre>\n<p>Also, make sure your <code>oneTextBlock</code> value is an array of objects. Looks like your JSON is invalid.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  //...\n  {\n    &quot;oneTextBlock&quot;: [\n      {\n        &quot;text&quot;: &quot;test&quot;,\n        &quot;textAlignment&quot;: &quot;centre&quot;,\n        &quot;mobileTextOverride&quot;: {\n          &quot;text&quot;: &quot;test&quot;\n        },\n        &quot;altText&quot;: &quot;alt&quot;,\n        &quot;urlPath&quot;: &quot;/url&quot;\n      }\n    ]\n  },\n  // ...\n]\n</code></pre>\n<p>Alternatively, you can create your own deserializer so that you can correctly deserialize into the correct &quot;block&quot; type.</p>\n<p>I removed the <code>Entry</code> concept and added a <code>Block</code> interface to all the sub-blocks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\n\nimport com.fasterxml.jackson.core.JacksonException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.exc.StreamReadException;\nimport com.fasterxml.jackson.databind.DatabindException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\npublic class BlockDeserializerDriver {\n    protected static ObjectMapper mapper;\n    protected static SimpleModule module;\n\n    static {\n        mapper = new ObjectMapper();\n        module = new SimpleModule();\n\n        module.addDeserializer(Block.class, new BlockDeserializer());\n        mapper.registerModule(module);\n    }\n\n    public static void main(String[] args) throws StreamReadException, DatabindException, IOException {\n        Block[] entries = loadBlocks(&quot;src/main/resources/blocks.json&quot;);\n\n        System.out.println(entries[0] instanceof OneImageBlock); // true\n        System.out.println(entries[1] instanceof FourImageBlock); // true\n        System.out.println(entries[2] instanceof FourImageBlock); // true\n        System.out.println(entries[3] instanceof OneImageBlock); // true\n        System.out.println(entries[4] instanceof OneTextBlock); // true\n        System.out.println(entries[5] instanceof FourImageBlock); // true\n    }\n\n    public static Block[] loadBlocks(String filePath) throws StreamReadException, DatabindException, IOException {\n        return mapper.readValue(new File(filePath), Block[].class);\n    }\n\n    private static interface Block {\n    }\n\n    private static class OneImageBlock implements Block {\n        public ImageBlock[] oneImageBlock;\n    }\n\n    private static class FourImageBlock implements Block {\n        public ImageBlock[] fourImageBlock;\n    }\n\n    private static class OneTextBlock implements Block {\n        public TextBlock[] oneTextBlock;\n    }\n\n    private static class FourTextBlock implements Block {\n        public TextBlock[] fourTextBlock;\n    }\n\n    private static class ImageBlock {\n        public String imagePath;\n        public MobileImageOverride mobileImageOverride;\n        public String imageAltText;\n        public String imageCaptionText;\n        public CaptionTextReplacement captionTextReplacement;\n        public String urlPath;\n        public boolean displayURLInModal;\n    }\n\n    private static class TextBlock {\n        public String text;\n        public String textAlignment;\n        public MobileTextOverride mobileTextOverride;\n        public String altText;\n        public String urlPath;\n    }\n\n    private static class CaptionTextReplacement {\n        public String type;\n    }\n\n    private static class MobileImageOverride {\n        public String imagePath;\n    }\n\n    private static class MobileTextOverride {\n        public String text;\n    }\n\n    // See: https://www.baeldung.com/jackson-deserialization\n    private static class BlockDeserializer extends StdDeserializer&lt;Block&gt; {\n        public BlockDeserializer() {\n            this(null);\n        }\n\n        public BlockDeserializer(Class&lt;?&gt; vc) {\n            super(vc);\n        }\n\n        @Override\n        public Block deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JacksonException {\n            JsonNode node = jp.getCodec().readTree(jp);\n\n            if (node.has(&quot;oneImageBlock&quot;)) {\n                return mapper.convertValue(node, OneImageBlock.class);\n            } else if (node.has(&quot;fourImageBlock&quot;)) {\n                return mapper.convertValue(node, FourImageBlock.class);\n            } else if (node.has(&quot;oneTextBlock&quot;)) {\n                return mapper.convertValue(node, OneTextBlock.class);\n            } else if (node.has(&quot;fourTextBlock&quot;)) {\n                return mapper.convertValue(node, FourTextBlock.class);\n            }\n\n            return null; // Could not parse Block\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76103733,"answer_count":1,"score":0,"last_activity_date":1682444363,"creation_date":1682439958,"question_id":76103453,"body_markdown":"How to write the equivalent POJO for below type JSON :\r\n\r\n```\r\n[\r\n  {\r\n    &quot;oneImageBlock&quot;: [{\r\n      &quot;imagePath&quot;: &quot;/abc&quot;,\r\n      &quot;mobileImageOverride&quot;: {\r\n        &quot;imagePath&quot;: &quot;/abc&quot;\r\n      },\r\n      &quot;imageAltText&quot;: &quot;image&quot;,\r\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\r\n      &quot;captionTextReplacement&quot;: {\r\n        &quot;type&quot;: &quot;overlay&quot;\r\n      },\r\n      &quot;urlPath&quot;: &quot;/url&quot;,\r\n      &quot;displayURLInModal&quot;: true\r\n    }]\r\n  },\r\n  {\r\n    &quot;fourImageBlock&quot;: [{\r\n      &quot;imagePath&quot;: &quot;/abc&quot;,\r\n      &quot;mobileImageOverride&quot;: {\r\n        &quot;imagePath&quot;: &quot;/abc&quot;\r\n      },\r\n      &quot;imageAltText&quot;: &quot;image&quot;,\r\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\r\n      &quot;captionTextReplacement&quot;: {\r\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\r\n      },\r\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\r\n      &quot;displayURLInModal&quot;: true\r\n     },\r\n     {\r\n      &quot;imagePath&quot;: &quot;/abc&quot;,\r\n      &quot;mobileImageOverride&quot;: {\r\n        &quot;imagePath&quot;: &quot;/abc&quot;\r\n      },\r\n      &quot;imageAltText&quot;: &quot;image&quot;,\r\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\r\n      &quot;captionTextReplacement&quot;: {\r\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\r\n      },\r\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\r\n      &quot;displayURLInModal&quot;: true\r\n     },\r\n     {\r\n      &quot;imagePath&quot;: &quot;/abc&quot;,\r\n      &quot;mobileImageOverride&quot;: {\r\n        &quot;imagePath&quot;: &quot;/abc&quot;\r\n      },\r\n      &quot;imageAltText&quot;: &quot;image&quot;,\r\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\r\n      &quot;captionTextReplacement&quot;: {\r\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\r\n      },\r\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\r\n      &quot;displayURLInModal&quot;: true\r\n     },\r\n     {\r\n      &quot;imagePath&quot;: &quot;/abc&quot;,\r\n      &quot;mobileImageOverride&quot;: {\r\n        &quot;imagePath&quot;: &quot;/abc&quot;\r\n      },\r\n      &quot;imageAltText&quot;: &quot;image&quot;,\r\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\r\n      &quot;captionTextReplacement&quot;: {\r\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\r\n      },\r\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\r\n      &quot;displayURLInModal&quot;: true\r\n     } \r\n    ]\r\n  },\r\n  {\r\n    &quot;fourImageBlock&quot;: [\r\n      \r\n    ]\r\n  },\r\n  {\r\n    &quot;oneImageBlock&quot;: [\r\n      \r\n    ]\r\n  },\r\n  {\r\n    &quot;oneTextBlock&quot;: [\r\n      &quot;text&quot;: &quot;test&quot;,\r\n      &quot;textAlignment&quot;: &quot;centre&quot;,\r\n      &quot;mobileTextOverride&quot;: {\r\n        &quot;text&quot;: &quot;test&quot;\r\n      },\r\n      &quot;altText&quot;: &quot;alt&quot;,\r\n      &quot;urlPath&quot;: &quot;/url&quot;\r\n    ]\r\n  },\r\n  {\r\n    &quot;fourImageBlock&quot;: [\r\n      \r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nprovided there can be multiple objects with the same key in the JSON like here in example it has 2 occurrence of `oneImageBlock` &amp; 3 occurrence of `fourImageBlock` and also there is no fixed order as well i.e it&#39;s possible that in the JSON we have first 5 objects with `fourImageBlock` followed by 2 objects with `oneImageBlock` again followed by 2 objects with `fourImageBlock`.\r\n","title":"How to convert below JSON into POJO in java for deserialisation purpose","body":"<p>How to write the equivalent POJO for below type JSON :</p>\n<pre><code>[\n  {\n    &quot;oneImageBlock&quot;: [{\n      &quot;imagePath&quot;: &quot;/abc&quot;,\n      &quot;mobileImageOverride&quot;: {\n        &quot;imagePath&quot;: &quot;/abc&quot;\n      },\n      &quot;imageAltText&quot;: &quot;image&quot;,\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\n      &quot;captionTextReplacement&quot;: {\n        &quot;type&quot;: &quot;overlay&quot;\n      },\n      &quot;urlPath&quot;: &quot;/url&quot;,\n      &quot;displayURLInModal&quot;: true\n    }]\n  },\n  {\n    &quot;fourImageBlock&quot;: [{\n      &quot;imagePath&quot;: &quot;/abc&quot;,\n      &quot;mobileImageOverride&quot;: {\n        &quot;imagePath&quot;: &quot;/abc&quot;\n      },\n      &quot;imageAltText&quot;: &quot;image&quot;,\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\n      &quot;captionTextReplacement&quot;: {\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\n      },\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\n      &quot;displayURLInModal&quot;: true\n     },\n     {\n      &quot;imagePath&quot;: &quot;/abc&quot;,\n      &quot;mobileImageOverride&quot;: {\n        &quot;imagePath&quot;: &quot;/abc&quot;\n      },\n      &quot;imageAltText&quot;: &quot;image&quot;,\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\n      &quot;captionTextReplacement&quot;: {\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\n      },\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\n      &quot;displayURLInModal&quot;: true\n     },\n     {\n      &quot;imagePath&quot;: &quot;/abc&quot;,\n      &quot;mobileImageOverride&quot;: {\n        &quot;imagePath&quot;: &quot;/abc&quot;\n      },\n      &quot;imageAltText&quot;: &quot;image&quot;,\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\n      &quot;captionTextReplacement&quot;: {\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\n      },\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\n      &quot;displayURLInModal&quot;: true\n     },\n     {\n      &quot;imagePath&quot;: &quot;/abc&quot;,\n      &quot;mobileImageOverride&quot;: {\n        &quot;imagePath&quot;: &quot;/abc&quot;\n      },\n      &quot;imageAltText&quot;: &quot;image&quot;,\n      &quot;imageCaptionText&quot;: &quot;caption&quot;,\n      &quot;captionTextReplacement&quot;: {\n        &quot;type&quot;: &quot;overlay/Below Image&quot;\n      },\n      &quot;urlPath&quot;: &quot;/l/123&quot;,\n      &quot;displayURLInModal&quot;: true\n     } \n    ]\n  },\n  {\n    &quot;fourImageBlock&quot;: [\n      \n    ]\n  },\n  {\n    &quot;oneImageBlock&quot;: [\n      \n    ]\n  },\n  {\n    &quot;oneTextBlock&quot;: [\n      &quot;text&quot;: &quot;test&quot;,\n      &quot;textAlignment&quot;: &quot;centre&quot;,\n      &quot;mobileTextOverride&quot;: {\n        &quot;text&quot;: &quot;test&quot;\n      },\n      &quot;altText&quot;: &quot;alt&quot;,\n      &quot;urlPath&quot;: &quot;/url&quot;\n    ]\n  },\n  {\n    &quot;fourImageBlock&quot;: [\n      \n    ]\n  }\n]\n</code></pre>\n<p>provided there can be multiple objects with the same key in the JSON like here in example it has 2 occurrence of <code>oneImageBlock</code> &amp; 3 occurrence of <code>fourImageBlock</code> and also there is no fixed order as well i.e it's possible that in the JSON we have first 5 objects with <code>fourImageBlock</code> followed by 2 objects with <code>oneImageBlock</code> again followed by 2 objects with <code>fourImageBlock</code>.</p>\n"},{"tags":["javascript","java","spring-boot"],"comments":[{"owner":{"account_id":7159281,"reputation":10608,"user_id":5470544,"display_name":"JSON Derulo"},"score":0,"creation_date":1682453857,"post_id":76103537,"comment_id":134217748,"body_markdown":"There is no question in your question","body":"There is no question in your question"}],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682444121,"creation_date":1682444121,"answer_id":76103965,"question_id":76103537,"body_markdown":"Storing images in a database is a bad idea. The wise way is instead of storing the image in a database, storing the image in a file system and then, storing the path/link of that image in the database.  Because images can take space megabytes, this will slow down your server a lot.\r\n\r\nIf you really want to store the image in a database. You need to store it as blob data.\r\n\r\nrequest the image file separately from the post and make the following change in your post controller and write a method that converts `MultiPartFile` to `byte array`. Finally convert the file to bytes and execute this code before saving the post. ` post.setPostImage(convertFileToByte(image));`\r\n\r\n```\r\n  @PostMapping\r\n    public ResponseEntity&lt;Post&gt; createPost(@RequestBody Post post, @RequestPart MultipartFile image) {\r\n          post.setPostImage(convertFileToByte(image));\r\n        Post newPost = postRepository.save(post);\r\n        return new ResponseEntity&lt;&gt;(newPost, HttpStatus.CREATED);\r\n    }\r\n\r\n```\r\n\r\nand do not forget to add this to your application.properties. because the attackers may try to load gigabytes of data into your database.\r\n\r\n```\r\nspring.http.multipart.max-file-size=10MB\r\nspring.http.multipart.max-request-size=10MB\r\n```\r\n\r\nAs I said before, do not try to save the image directly in your database, it will lead to inflation in your DB.\r\n","title":"How would I implement a spring contractor to send blob data to mySql database","body":"<p>Storing images in a database is a bad idea. The wise way is instead of storing the image in a database, storing the image in a file system and then, storing the path/link of that image in the database.  Because images can take space megabytes, this will slow down your server a lot.</p>\n<p>If you really want to store the image in a database. You need to store it as blob data.</p>\n<p>request the image file separately from the post and make the following change in your post controller and write a method that converts <code>MultiPartFile</code> to <code>byte array</code>. Finally convert the file to bytes and execute this code before saving the post. <code> post.setPostImage(convertFileToByte(image));</code></p>\n<pre><code>  @PostMapping\n    public ResponseEntity&lt;Post&gt; createPost(@RequestBody Post post, @RequestPart MultipartFile image) {\n          post.setPostImage(convertFileToByte(image));\n        Post newPost = postRepository.save(post);\n        return new ResponseEntity&lt;&gt;(newPost, HttpStatus.CREATED);\n    }\n\n</code></pre>\n<p>and do not forget to add this to your application.properties. because the attackers may try to load gigabytes of data into your database.</p>\n<pre><code>spring.http.multipart.max-file-size=10MB\nspring.http.multipart.max-request-size=10MB\n</code></pre>\n<p>As I said before, do not try to save the image directly in your database, it will lead to inflation in your DB.</p>\n"}],"owner":{"account_id":25655883,"reputation":1,"user_id":19422296,"display_name":"Simeon Tuyoleni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682444121,"creation_date":1682440510,"question_id":76103537,"body_markdown":"Here is my Post class Entity.\r\n\r\nThe aim is to send images to the database through an API endpoint that I will youse in my website.\r\n\r\n\r\n```\r\n@Entity(name = &quot;posts&quot;)\r\npublic class Post {\r\n\r\n  @Id\r\n  @Column(name = &quot;Id&quot;, nullable = false)\r\n  private String id;\r\n\r\n  @Column(name = &quot;Post_title&quot;, nullable = false)\r\n  private String title;\r\n\r\n  @Column(name = &quot;creator&quot;, nullable = false)\r\n  private String creator;\r\n\r\n  @Lob\r\n  @Column(name = &quot;post_image&quot;, nullable = false)\r\n  private Byte[] postImage;\r\n\r\n  @Column(name = &quot;descriptions&quot;, nullable = false)\r\n  private String descriptions;\r\n\r\n  public String getId() {\r\n    return id;\r\n  }\r\n\r\n  public void setId(String id) {\r\n    this.id = id;\r\n  }\r\n\r\n  public String getTitle() {\r\n    return title;\r\n  }\r\n\r\n  public void setTitle(String title) {\r\n    this.title = title;\r\n  }\r\n\r\n  public String getCreator() {\r\n    return creator;\r\n  }\r\n\r\n  public void setCreator(String creator) {\r\n    this.creator = creator;\r\n  }\r\n\r\n  public Byte[] getPostImage() {\r\n    return postImage;\r\n  }\r\n\r\n  public void setPostImage(Byte[] postImage) {\r\n    this.postImage = postImage;\r\n  }\r\n\r\n  public String getDescriptions() {\r\n    return descriptions;\r\n  }\r\n\r\n  public void setDescriptions(String descriptions) {\r\n    this.descriptions = descriptions;\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the java spring controller for the api\r\nThe plan is to convert the image with javaScript, I want to have less java code\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/posts&quot;)\r\npublic class PostController {\r\n\r\n    @Autowired\r\n    private PostRepository postRepository;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Post&gt; createPost(@RequestBody Post post) {\r\n        Post newPost = postRepository.save(post);\r\n        return new ResponseEntity&lt;&gt;(newPost, HttpStatus.CREATED);\r\n    }\r\n}\r\n```\r\n\r\n\r\nhere is how I implemented the convention of images into a byte\r\n\r\n```\r\nconst inputElement = document.getElementById(&quot;image-input&quot;);\r\n\r\ninputElement.addEventListener(&quot;change&quot;, function() {\r\n  const file = inputElement.files[0];\r\n  const reader = new FileReader();\r\n  reader.readAsBinaryString(file);\r\n  reader.onload = function() {\r\n    const blob = new Blob([reader.result], { type: file.type });\r\n    const byteArray = new Uint8Array(blob);\r\n    // Now you can send the byteArray to your API endpoint\r\n  };\r\n});\r\n\r\n```\r\n","title":"How would I implement a spring contractor to send blob data to mySql database","body":"<p>Here is my Post class Entity.</p>\n<p>The aim is to send images to the database through an API endpoint that I will youse in my website.</p>\n<pre><code>@Entity(name = &quot;posts&quot;)\npublic class Post {\n\n  @Id\n  @Column(name = &quot;Id&quot;, nullable = false)\n  private String id;\n\n  @Column(name = &quot;Post_title&quot;, nullable = false)\n  private String title;\n\n  @Column(name = &quot;creator&quot;, nullable = false)\n  private String creator;\n\n  @Lob\n  @Column(name = &quot;post_image&quot;, nullable = false)\n  private Byte[] postImage;\n\n  @Column(name = &quot;descriptions&quot;, nullable = false)\n  private String descriptions;\n\n  public String getId() {\n    return id;\n  }\n\n  public void setId(String id) {\n    this.id = id;\n  }\n\n  public String getTitle() {\n    return title;\n  }\n\n  public void setTitle(String title) {\n    this.title = title;\n  }\n\n  public String getCreator() {\n    return creator;\n  }\n\n  public void setCreator(String creator) {\n    this.creator = creator;\n  }\n\n  public Byte[] getPostImage() {\n    return postImage;\n  }\n\n  public void setPostImage(Byte[] postImage) {\n    this.postImage = postImage;\n  }\n\n  public String getDescriptions() {\n    return descriptions;\n  }\n\n  public void setDescriptions(String descriptions) {\n    this.descriptions = descriptions;\n  }\n}\n\n</code></pre>\n<p>This is the java spring controller for the api\nThe plan is to convert the image with javaScript, I want to have less java code</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/posts&quot;)\npublic class PostController {\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @PostMapping\n    public ResponseEntity&lt;Post&gt; createPost(@RequestBody Post post) {\n        Post newPost = postRepository.save(post);\n        return new ResponseEntity&lt;&gt;(newPost, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>here is how I implemented the convention of images into a byte</p>\n<pre><code>const inputElement = document.getElementById(&quot;image-input&quot;);\n\ninputElement.addEventListener(&quot;change&quot;, function() {\n  const file = inputElement.files[0];\n  const reader = new FileReader();\n  reader.readAsBinaryString(file);\n  reader.onload = function() {\n    const blob = new Blob([reader.result], { type: file.type });\n    const byteArray = new Uint8Array(blob);\n    // Now you can send the byteArray to your API endpoint\n  };\n});\n\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1670110,"reputation":877,"user_id":1536713,"accept_rate":82,"display_name":"David"},"score":0,"creation_date":1361377064,"post_id":14984664,"comment_id":21043140,"body_markdown":"Just convert the string to an int and convert it back to a string.","body":"Just convert the string to an int and convert it back to a string."},{"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"score":0,"creation_date":1361377316,"post_id":14984664,"comment_id":21043306,"body_markdown":"@David: That cuts of all non-integers.","body":"@David: That cuts of all non-integers."}],"answers":[{"tags":[],"owner":{"account_id":1268813,"reputation":21599,"user_id":1225541,"accept_rate":100,"display_name":"alestanis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1361377219,"creation_date":1361377219,"answer_id":14984738,"question_id":14984664,"body_markdown":"What about replacing\r\n\r\n    (\\d*\\.\\d*)0*$\r\n\r\nby\r\n\r\n    \\1\r\n\r\n?","title":"Remove trailing zero in Java","body":"<p>What about replacing</p>\n\n<pre><code>(\\d*\\.\\d*)0*$\n</code></pre>\n\n<p>by</p>\n\n<pre><code>\\1\n</code></pre>\n\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":913852,"reputation":3958,"user_id":947114,"accept_rate":74,"display_name":"mdm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361381017,"creation_date":1361377400,"answer_id":14984818,"question_id":14984664,"body_markdown":"You could replace with:\r\n\r\n    String result = (str.indexOf(&quot;.&quot;)&gt;=0?str.replaceAll(&quot;\\\\.?0+$&quot;,&quot;&quot;):str);\r\n\r\nTo keep the Regex as simple as possible. (And account for inputs like `1000` as pointed out in comments)","title":"Remove trailing zero in Java","body":"<p>You could replace with:</p>\n\n<pre><code>String result = (str.indexOf(\".\")&gt;=0?str.replaceAll(\"\\\\.?0+$\",\"\"):str);\n</code></pre>\n\n<p>To keep the Regex as simple as possible. (And account for inputs like <code>1000</code> as pointed out in comments)</p>\n"},{"tags":[],"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1571224293,"creation_date":1361378570,"answer_id":14985235,"question_id":14984664,"body_markdown":"there are possibilities:\r\n\r\n    1000    -&gt; 1000\r\n    10.000  -&gt; 10 (without point in result)\r\n    10.0100 -&gt; 10.01 \r\n    10.1234 -&gt; 10.1234\r\n\r\nI am lazy and stupid, just\r\n\r\n    s = s.indexOf(&quot;.&quot;) &lt; 0 ? s : s.replaceAll(&quot;0*$&quot;, &quot;&quot;).replaceAll(&quot;\\\\.$&quot;, &quot;&quot;);\r\n\r\nSame solution using `contains` instead of `indexOf` as mentioned in some of the comments for easy understanding\r\n\r\n     s = s.contains(&quot;.&quot;) ? s.replaceAll(&quot;0*$&quot;,&quot;&quot;).replaceAll(&quot;\\\\.$&quot;,&quot;&quot;) : s","title":"Remove trailing zero in Java","body":"<p>there are possibilities:</p>\n\n<pre><code>1000    -&gt; 1000\n10.000  -&gt; 10 (without point in result)\n10.0100 -&gt; 10.01 \n10.1234 -&gt; 10.1234\n</code></pre>\n\n<p>I am lazy and stupid, just</p>\n\n<pre><code>s = s.indexOf(\".\") &lt; 0 ? s : s.replaceAll(\"0*$\", \"\").replaceAll(\"\\\\.$\", \"\");\n</code></pre>\n\n<p>Same solution using <code>contains</code> instead of <code>indexOf</code> as mentioned in some of the comments for easy understanding</p>\n\n<pre><code> s = s.contains(\".\") ? s.replaceAll(\"0*$\",\"\").replaceAll(\"\\\\.$\",\"\") : s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1361389829,"creation_date":1361389829,"answer_id":14988679,"question_id":14984664,"body_markdown":"Use **DecimalFormat**, its cleanest way\r\n\r\n    String s = &quot;10.1200&quot;;\r\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;0.#####&quot;);\r\n    String result = decimalFormat.format(Double.valueOf(s));\r\n    System.out.println(result);","title":"Remove trailing zero in Java","body":"<p>Use <strong>DecimalFormat</strong>, its cleanest way</p>\n\n<pre><code>String s = \"10.1200\";\nDecimalFormat decimalFormat = new DecimalFormat(\"0.#####\");\nString result = decimalFormat.format(Double.valueOf(s));\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1418679995,"creation_date":1402689888,"answer_id":24213093,"question_id":14984664,"body_markdown":"I find all the other solution too complicated. Simply\n\n    s.replaceFirst(&quot;\\\\.0*$|(\\\\.\\\\d*?)0+$&quot;, &quot;$1&quot;);\n\ndoes the job. It tries the first alternative first, so that dot followed by all zeros gets replaced by nothing (as the group doesn&#39;t get set). Otherwise, if it finds a dot followed by some digits (as few as possible due to the lazy quantifier `*?`) followed by some zeros, the zeros get discarded as they&#39;re not included in the group. [It works][1].\n\n### Warning\n\nMy code relies on my [assumption that appending a unmatched group does nothing][q]. This is true for the Oracle implementation, but not for others, including **Android**, which seem to append the string &quot;null&quot;. I&#39;d call the such implementations broken as it just may no sense, but they&#39;re [correct according to the Javadoc][a].\n\n[1]: https://dl.dropboxusercontent.com/u/4971686/published/maaartin/so/RemoveTrailingZerosTest.java\n[q]: https://stackoverflow.com/q/27439931/581205\n[a]: https://stackoverflow.com/a/27440141/581205","title":"Remove trailing zero in Java","body":"<p>I find all the other solution too complicated. Simply</p>\n<pre><code>s.replaceFirst(&quot;\\\\.0*$|(\\\\.\\\\d*?)0+$&quot;, &quot;$1&quot;);\n</code></pre>\n<p>does the job. It tries the first alternative first, so that dot followed by all zeros gets replaced by nothing (as the group doesn't get set). Otherwise, if it finds a dot followed by some digits (as few as possible due to the lazy quantifier <code>*?</code>) followed by some zeros, the zeros get discarded as they're not included in the group. <a href=\"https://dl.dropboxusercontent.com/u/4971686/published/maaartin/so/RemoveTrailingZerosTest.java\" rel=\"nofollow noreferrer\">It works</a>.</p>\n<h3>Warning</h3>\n<p>My code relies on my <a href=\"https://stackoverflow.com/q/27439931/581205\">assumption that appending a unmatched group does nothing</a>. This is true for the Oracle implementation, but not for others, including <strong>Android</strong>, which seem to append the string &quot;null&quot;. I'd call the such implementations broken as it just may no sense, but they're <a href=\"https://stackoverflow.com/a/27440141/581205\">correct according to the Javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":4913449,"reputation":1,"user_id":3958087,"display_name":"Anand"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1408485554,"creation_date":1408485554,"answer_id":25393666,"question_id":14984664,"body_markdown":"Separate out the fraction part first. Then you can use the below logic.\r\n\r\n\tBigDecimal value = BigDecimal.valueOf(345000);\r\n\tBigDecimal div = new BigDecimal(10).pow(Integer.numberOfTrailingZeros(value.intValue()));\r\n\tSystem.out.println(value.divide(div).intValue());","title":"Remove trailing zero in Java","body":"<p>Separate out the fraction part first. Then you can use the below logic.</p>\n\n<pre><code>BigDecimal value = BigDecimal.valueOf(345000);\nBigDecimal div = new BigDecimal(10).pow(Integer.numberOfTrailingZeros(value.intValue()));\nSystem.out.println(value.divide(div).intValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4135884,"reputation":1674,"user_id":3420618,"display_name":"PAC"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1428922167,"creation_date":1428922167,"answer_id":29603501,"question_id":14984664,"body_markdown":"    String value = &quot;10.010&quot;\r\n    String s = new DecimalFormat(&quot;0.####&quot;).format(Double.parseDouble(value));\r\n    System.out.println(s);\r\n    \r\n    Output:\r\n    \r\n       10.01","title":"Remove trailing zero in Java","body":"<pre><code>String value = \"10.010\"\nString s = new DecimalFormat(\"0.####\").format(Double.parseDouble(value));\nSystem.out.println(s);\n\nOutput:\n\n   10.01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7999332,"reputation":31,"user_id":6034683,"display_name":"Pit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457447052,"creation_date":1457446055,"answer_id":35869568,"question_id":14984664,"body_markdown":"The following works for all the following examples: \r\n\r\n    &quot;1&quot; -&gt; &quot;1&quot;\r\n    &quot;1.0&quot; -&gt; &quot;1&quot;\r\n    &quot;1.01500&quot; -&gt; &quot;1.015&quot;\r\n    &quot;1.103&quot; -&gt; &quot;1.103&quot;\r\n    \r\n    s = s.replaceAll(&quot;()\\\\.0+$|(\\\\..+?)0+$&quot;, &quot;$2&quot;);","title":"Remove trailing zero in Java","body":"<p>The following works for all the following examples: </p>\n\n<pre><code>\"1\" -&gt; \"1\"\n\"1.0\" -&gt; \"1\"\n\"1.01500\" -&gt; \"1.015\"\n\"1.103\" -&gt; \"1.103\"\n\ns = s.replaceAll(\"()\\\\.0+$|(\\\\..+?)0+$\", \"$2\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4983383,"reputation":301,"user_id":4007690,"display_name":"Komoo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1497617250,"creation_date":1497617250,"answer_id":44589639,"question_id":14984664,"body_markdown":"&lt;a href=&quot;https://stackoverflow.com/users/164835/kent&quot;&gt;Kent&#39;s&lt;/a&gt; string manipulation answer magically works and also caters for precision loss, But here&#39;s a cleaner solution using BigDecimal\r\n\r\n    String value = &quot;10.234000&quot;;\r\n    BigDecimal stripedVal = new BigDecimal(value).stripTrailingZeros();\r\n\r\nYou can then convert to other types\r\n\r\n    String stringValue = stripedVal.toPlainString();\r\n    double doubleValue = stripedVal.doubleValue();\r\n    long longValue = stripedVal.longValue();\r\n\r\nIf precision loss is an ultimate concern for you, then obtain the exact primitive value. This would throw ArithmeticException if there&#39;ll be any precision loss for the primitive. See below\r\n\r\n    int intValue = stripedVal.intValueExact();\r\n","title":"Remove trailing zero in Java","body":"<p><a href=\"https://stackoverflow.com/users/164835/kent\">Kent's</a> string manipulation answer magically works and also caters for precision loss, But here's a cleaner solution using BigDecimal</p>\n\n<pre><code>String value = \"10.234000\";\nBigDecimal stripedVal = new BigDecimal(value).stripTrailingZeros();\n</code></pre>\n\n<p>You can then convert to other types</p>\n\n<pre><code>String stringValue = stripedVal.toPlainString();\ndouble doubleValue = stripedVal.doubleValue();\nlong longValue = stripedVal.longValue();\n</code></pre>\n\n<p>If precision loss is an ultimate concern for you, then obtain the exact primitive value. This would throw ArithmeticException if there'll be any precision loss for the primitive. See below</p>\n\n<pre><code>int intValue = stripedVal.intValueExact();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10161796,"reputation":4025,"user_id":7505029,"accept_rate":56,"display_name":"Vadim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539348863,"creation_date":1539348863,"answer_id":52779968,"question_id":14984664,"body_markdown":"My implementation with possibility to select numbers of digits after divider:\r\n\r\n    public static String removeTrailingZero(String number, int minPrecise, char divider) {\r\n        int dividerIndex = number.indexOf(divider);\r\n\r\n        if (dividerIndex == -1) {\r\n            return number;\r\n        }\r\n\r\n        int removeCount = 0;\r\n        for (int i = dividerIndex + 1; i &lt; number.length(); i++) {\r\n            if (number.charAt(i) == &#39;0&#39;) {\r\n                removeCount++;\r\n            } else {\r\n                removeCount = 0;\r\n            }\r\n        }\r\n\r\n        int fracLen = number.length() - dividerIndex - 1;\r\n\r\n        if (fracLen - removeCount &lt; minPrecise) {\r\n            removeCount = fracLen - minPrecise;\r\n        }\r\n\r\n        if (removeCount &lt; 0) {\r\n            return number;\r\n        }\r\n\r\n        String result = number.substring(0, number.length() - removeCount);\r\n        \r\n        if (result.endsWith(String.valueOf(divider))) {\r\n            return result.substring(0, result.length() - 1);\r\n        }\r\n\r\n        return result;\r\n    }","title":"Remove trailing zero in Java","body":"<p>My implementation with possibility to select numbers of digits after divider:</p>\n\n<pre><code>public static String removeTrailingZero(String number, int minPrecise, char divider) {\n    int dividerIndex = number.indexOf(divider);\n\n    if (dividerIndex == -1) {\n        return number;\n    }\n\n    int removeCount = 0;\n    for (int i = dividerIndex + 1; i &lt; number.length(); i++) {\n        if (number.charAt(i) == '0') {\n            removeCount++;\n        } else {\n            removeCount = 0;\n        }\n    }\n\n    int fracLen = number.length() - dividerIndex - 1;\n\n    if (fracLen - removeCount &lt; minPrecise) {\n        removeCount = fracLen - minPrecise;\n    }\n\n    if (removeCount &lt; 0) {\n        return number;\n    }\n\n    String result = number.substring(0, number.length() - removeCount);\n\n    if (result.endsWith(String.valueOf(divider))) {\n        return result.substring(0, result.length() - 1);\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9573245,"reputation":549,"user_id":7110268,"accept_rate":55,"display_name":"coldembrace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587797677,"creation_date":1587797677,"answer_id":61422038,"question_id":14984664,"body_markdown":"In addition to **Kent**&#39;s answer.\r\n\r\nBe careful with regex in **Kotlin**. You have to manually write `Regex()` constructor instead of a simple string!\r\n```\r\ns = if (s.contains(&quot;.&quot;)) \r\n        s.replace(Regex(&quot;0*\\$&quot;),&quot;&quot;).replace(Regex(&quot;\\\\.\\$&quot;),&quot;&quot;) \r\n    else s\r\n```","title":"Remove trailing zero in Java","body":"<p>In addition to <strong>Kent</strong>'s answer.</p>\n\n<p>Be careful with regex in <strong>Kotlin</strong>. You have to manually write <code>Regex()</code> constructor instead of a simple string!</p>\n\n<pre><code>s = if (s.contains(\".\")) \n        s.replace(Regex(\"0*\\$\"),\"\").replace(Regex(\"\\\\.\\$\"),\"\") \n    else s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672118752,"creation_date":1672118752,"answer_id":74925939,"question_id":14984664,"body_markdown":"Try to use this code:\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#0.#####&quot;);\r\n    \r\n    String value1 = df.format(101.00000);\r\n    String value2 = df.format(102.02000);\r\n    String value3 = df.format(103.20000);\r\n    String value4 = df.format(104.30020);\r\n\r\nOutput:\r\n\r\n    101\r\n    102.02\r\n    103.2\r\n    104.3002","title":"Remove trailing zero in Java","body":"<p>Try to use this code:</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot;#0.#####&quot;);\n\nString value1 = df.format(101.00000);\nString value2 = df.format(102.02000);\nString value3 = df.format(103.20000);\nString value4 = df.format(104.30020);\n</code></pre>\n<p>Output:</p>\n<pre><code>101\n102.02\n103.2\n104.3002\n</code></pre>\n"}],"owner":{"account_id":1508804,"reputation":1497,"user_id":1411449,"accept_rate":62,"display_name":"fivelements"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97043,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":14985235,"answer_count":12,"score":51,"last_activity_date":1682442928,"creation_date":1361376980,"question_id":14984664,"body_markdown":"I have Strings (from DB), which may contain numeric values. If it contains numeric values, I&#39;d like to remove trailing zeros such as:\r\n\r\n* `10.0000`\r\n* \r\n`10.234000`\r\n\r\n`str.replaceAll(&quot;\\\\.0*$&quot;, &quot;&quot;)`, works on the first one, but not the second one.\r\n\r\nA lot of the answers point to use `BigDecimal`, but the `String` I get may not be numeric. So I think a better solution probably is through the Regex.","title":"Remove trailing zero in Java","body":"<p>I have Strings (from DB), which may contain numeric values. If it contains numeric values, I'd like to remove trailing zeros such as:</p>\n\n<ul>\n<li><code>10.0000</code></li>\n<li>\n<code>10.234000</code></li>\n</ul>\n\n<p><code>str.replaceAll(\"\\\\.0*$\", \"\")</code>, works on the first one, but not the second one.</p>\n\n<p>A lot of the answers point to use <code>BigDecimal</code>, but the <code>String</code> I get may not be numeric. So I think a better solution probably is through the Regex.</p>\n"},{"tags":["java","oracle","jdbc","jparepository"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682442400,"post_id":76103569,"comment_id":134215329,"body_markdown":"Please remember to format errors as code.","body":"Please remember to format errors as code."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1682442447,"post_id":76103569,"comment_id":134215337,"body_markdown":"Does this answer your question? [ORA-00904: invalid identifier](https://stackoverflow.com/questions/6027961/ora-00904-invalid-identifier)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6027961/ora-00904-invalid-identifier\">ORA-00904: invalid identifier</a>"},{"owner":{"account_id":28414001,"reputation":1,"user_id":21737031,"display_name":"Павлюченко Антон"},"score":0,"creation_date":1682446251,"post_id":76103569,"comment_id":134216130,"body_markdown":"I am a beginner in this, please do not be offended, but I really do not understand how that answer can solve my problem, since sql is considered there, and I only have Java and I do not know how to work with sql. Help(","body":"I am a beginner in this, please do not be offended, but I really do not understand how that answer can solve my problem, since sql is considered there, and I only have Java and I do not know how to work with sql. Help("},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1682446620,"post_id":76103569,"comment_id":134216218,"body_markdown":"That answer suggests that if the database column names were created with quotes it may cause that error. I suspect in your case it may be also related to non-english characters in the identifiers names. I&#39;m sorry but if you are not familiar with the topics of the question (Oracle database and Java) then Stackoverflow may not be the appropriate place to help you.","body":"That answer suggests that if the database column names were created with quotes it may cause that error. I suspect in your case it may be also related to non-english characters in the identifiers names. I&#39;m sorry but if you are not familiar with the topics of the question (Oracle database and Java) then Stackoverflow may not be the appropriate place to help you."}],"owner":{"account_id":28414001,"reputation":1,"user_id":21737031,"display_name":"Павлюченко Антон"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682442388,"creation_date":1682440795,"question_id":76103569,"body_markdown":"I am using @Entity to import data from database, this annotation in turn needs an id column, however my database doesn&#39;t have such a column (all other columns are spelled correctly)\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CashFlowTrainingData {\r\n\r\n    @Column(name = &quot;DATE&quot;)\r\n    private LocalDate date;\r\n\r\n    @Column(name = &quot;SUMTYPE&quot;)\r\n    private String sumType;\r\n\r\n    @Column(name = &quot;SUM&quot;)\r\n    private Double sum;\r\n}\r\n```\r\nWhat do I need to do?\r\n\r\nI have tried to add:\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nprivate Long id;\r\n```\r\nBut the errors are:\r\n```\r\nSQL Error: 904, SQLState: 42000\r\nORA-00904: &quot;C1_0&quot;.&quot;ID&quot;: ???????????? ?????????????\r\noracle.jdbc.OracleDatabaseException: ORA-00904: &quot;C1_0&quot;.&quot;ID&quot;: ???????????? ?????????????\r\n```","title":"SQL Error: 904, SQLState: 42000; ORA-00904: &quot;C1_0&quot;.&quot;ID&quot;: ???????????? ????????????? when the id is not in the database","body":"<p>I am using @Entity to import data from database, this annotation in turn needs an id column, however my database doesn't have such a column (all other columns are spelled correctly)</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CashFlowTrainingData {\n\n    @Column(name = &quot;DATE&quot;)\n    private LocalDate date;\n\n    @Column(name = &quot;SUMTYPE&quot;)\n    private String sumType;\n\n    @Column(name = &quot;SUM&quot;)\n    private Double sum;\n}\n</code></pre>\n<p>What do I need to do?</p>\n<p>I have tried to add:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n</code></pre>\n<p>But the errors are:</p>\n<pre><code>SQL Error: 904, SQLState: 42000\nORA-00904: &quot;C1_0&quot;.&quot;ID&quot;: ???????????? ?????????????\noracle.jdbc.OracleDatabaseException: ORA-00904: &quot;C1_0&quot;.&quot;ID&quot;: ???????????? ?????????????\n</code></pre>\n"},{"tags":["java","linked-list","priority-queue"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1682440104,"post_id":76103289,"comment_id":134214720,"body_markdown":"Please share definition of `ListNode`. Most probably it does not implement [Comparable](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html) and custom comparator is needed. The constructor in question is explained in the [docs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html#%3Cinit%3E(int,java.util.Comparator)).","body":"Please share definition of <code>ListNode</code>. Most probably it does not implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> and custom comparator is needed. The constructor in question is explained in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html#%3Cinit%3E(int,java.util.Comparator)\" rel=\"nofollow noreferrer\">docs</a>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1682441397,"post_id":76103289,"comment_id":134215096,"body_markdown":"This question should help - [How do I use a PriorityQueue?](https://stackoverflow.com/questions/683041/how-do-i-use-a-priorityqueue). Also, you are not inserting an integer, you insert a `ListNode`, since your queue is declared to contain nodes - `PriorityQueue&lt;ListNode&gt; pq = ...`.","body":"This question should help - <a href=\"https://stackoverflow.com/questions/683041/how-do-i-use-a-priorityqueue\">How do I use a PriorityQueue?</a>. Also, you are not inserting an integer, you insert a <code>ListNode</code>, since your queue is declared to contain nodes - <code>PriorityQueue&lt;ListNode&gt; pq = ...</code>."},{"owner":{"account_id":24050842,"reputation":1,"user_id":18029355,"display_name":"Naina Mathur"},"score":0,"creation_date":1682444628,"post_id":76103289,"comment_id":134215791,"body_markdown":"Thanks! This link helped me in clearing all my doubts","body":"Thanks! This link helped me in clearing all my doubts"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682449216,"post_id":76103289,"comment_id":134216774,"body_markdown":"BTW it is recommended not to use `a.val-b.val` - subtraction can overflow/underflow - better use `Integer.compare()`","body":"BTW it is recommended not to use <code>a.val-b.val</code> - subtraction can overflow/underflow - better use <code>Integer.compare()</code>"}],"owner":{"account_id":24050842,"reputation":1,"user_id":18029355,"display_name":"Naina Mathur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682441983,"creation_date":1682438847,"question_id":76103289,"body_markdown":"I have been facing problems with this code for Merging K sorted Linked List for a long time.\r\nhttps://leetcode.com/problems/merge-k-sorted-lists/description/  \r\nI&#39;d appreciate it if someone can help me with the code.\r\n\r\nListNode definition:\r\n```\r\npublic class ListNode {\r\n  \r\n  int val;\r\n  ListNode next;\r\n\r\n  ListNode() {\r\n  }\r\n\r\n  ListNode(int val) {\r\n    this.val = val;\r\n  }\r\n\r\n  ListNode(int val, ListNode next) {\r\n    this.val = val;\r\n    this.next = next;\r\n  }\r\n}\r\n```\r\n\r\n    class Solution {\r\n        public ListNode mergeKLists(ListNode[] lists) {\r\n            if (lists==null || lists.length==0) return null;\r\n             PriorityQueue&lt;ListNode&gt; pq= new PriorityQueue&lt;ListNode&gt;(lists.length, (a,b)-&gt; a.val-b.val);\r\n             ListNode head=new ListNode(-1);\r\n            ListNode tail=head;\r\n            for(ListNode node:lists){\r\n              if(node!=null)\r\n               pq.add(node);\r\n            }\r\n    \r\n            \r\n            while(!pq.isEmpty()){\r\n                tail.next=pq.poll();\r\n                tail=tail.next;\r\n    \r\n                if(tail.next!=null){\r\n                    pq.add(tail.next);\r\n                }\r\n            }\r\n            return head.next;\r\n        }\r\n    }\r\n\r\n\r\n**I am facing problem in the line:** ***`PriorityQueue&lt;ListNode&gt; pq= new PriorityQueue&lt;ListNode&gt;(lists.length, (a,b)-&gt; a.val-b.val);`***\r\n\r\nI am unable to understand why we even need this line. By default priority queue gives the highest priority to the smallest element. Why can&#39;t we simply add nodes and remove them later? Also, Why don&#39;t we need a comparator when we insert an integer? ","title":"Merge K sorted LinkedList-Priority Queue Comparator","body":"<p>I have been facing problems with this code for Merging K sorted Linked List for a long time.\n<a href=\"https://leetcode.com/problems/merge-k-sorted-lists/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/merge-k-sorted-lists/description/</a><br />\nI'd appreciate it if someone can help me with the code.</p>\n<p>ListNode definition:</p>\n<pre><code>public class ListNode {\n  \n  int val;\n  ListNode next;\n\n  ListNode() {\n  }\n\n  ListNode(int val) {\n    this.val = val;\n  }\n\n  ListNode(int val, ListNode next) {\n    this.val = val;\n    this.next = next;\n  }\n}\n</code></pre>\n<pre><code>class Solution {\n    public ListNode mergeKLists(ListNode[] lists) {\n        if (lists==null || lists.length==0) return null;\n         PriorityQueue&lt;ListNode&gt; pq= new PriorityQueue&lt;ListNode&gt;(lists.length, (a,b)-&gt; a.val-b.val);\n         ListNode head=new ListNode(-1);\n        ListNode tail=head;\n        for(ListNode node:lists){\n          if(node!=null)\n           pq.add(node);\n        }\n\n        \n        while(!pq.isEmpty()){\n            tail.next=pq.poll();\n            tail=tail.next;\n\n            if(tail.next!=null){\n                pq.add(tail.next);\n            }\n        }\n        return head.next;\n    }\n}\n</code></pre>\n<p><strong>I am facing problem in the line:</strong> <em><strong><code>PriorityQueue&lt;ListNode&gt; pq= new PriorityQueue&lt;ListNode&gt;(lists.length, (a,b)-&gt; a.val-b.val);</code></strong></em></p>\n<p>I am unable to understand why we even need this line. By default priority queue gives the highest priority to the smallest element. Why can't we simply add nodes and remove them later? Also, Why don't we need a comparator when we insert an integer?</p>\n"},{"tags":["java","database","sqlite"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682441772,"creation_date":1682441772,"answer_id":76103685,"question_id":76103610,"body_markdown":"You&#39;re catching SQLExceptions and reacting to it by:\r\n\r\n* Tossing away the pertinent information about what went wrong.\r\n* Continue, silently.\r\n\r\nThis is, in a word, __dangerous__. And that&#39;s putting it mildly.\r\n\r\nIf you can&#39;t handle an exception (logging it, is not handling it) - and note that almost all exceptions cannot be handled, the correct thing to do is to toss it onwards. Any method whose very essence inherently involves databases should be declared to `throws SQLException`. If the method&#39;s nature is more general than that, you should catch that SQLException but rethrow it as something else (e.g. `throw new RuntimeException(&quot;unhandled&quot;, e);` - that is the most bare bones body of a catch block when you don&#39;t know what to do and don&#39;t want to think about it too much).\r\n\r\nSeparate from that, the proper way to close things is to use try-with. Looks like this:\r\n\r\n```\r\ntry (\r\n  Connection connection = DriverManager.getConnection(DB_URL);\r\n  PreparedStatement ps = connection.prepareStatement(&quot;Select * from users&quot;); \r\n  ResultSet rs = ps.executeQuery();\r\n) {\r\n\r\n  // loop through rs here\r\n  // do not call close() - there is no need.\r\n}\r\n// resources have been closed here, no matter how we exit the block.\r\n// even if the code inside the block throws, or `return;`s.\r\n```\r\n\r\nIf you do it as above, you won&#39;t get that &#39;locked&#39; thing happening. Unless you are interacting with the db from multiple threads and each is acquiring locks, in which case this gets _much_ more complicated.\r\n","title":"What&#39;s the correct way to close SQLite connection after making a request?","body":"<p>You're catching SQLExceptions and reacting to it by:</p>\n<ul>\n<li>Tossing away the pertinent information about what went wrong.</li>\n<li>Continue, silently.</li>\n</ul>\n<p>This is, in a word, <strong>dangerous</strong>. And that's putting it mildly.</p>\n<p>If you can't handle an exception (logging it, is not handling it) - and note that almost all exceptions cannot be handled, the correct thing to do is to toss it onwards. Any method whose very essence inherently involves databases should be declared to <code>throws SQLException</code>. If the method's nature is more general than that, you should catch that SQLException but rethrow it as something else (e.g. <code>throw new RuntimeException(&quot;unhandled&quot;, e);</code> - that is the most bare bones body of a catch block when you don't know what to do and don't want to think about it too much).</p>\n<p>Separate from that, the proper way to close things is to use try-with. Looks like this:</p>\n<pre><code>try (\n  Connection connection = DriverManager.getConnection(DB_URL);\n  PreparedStatement ps = connection.prepareStatement(&quot;Select * from users&quot;); \n  ResultSet rs = ps.executeQuery();\n) {\n\n  // loop through rs here\n  // do not call close() - there is no need.\n}\n// resources have been closed here, no matter how we exit the block.\n// even if the code inside the block throws, or `return;`s.\n</code></pre>\n<p>If you do it as above, you won't get that 'locked' thing happening. Unless you are interacting with the db from multiple threads and each is acquiring locks, in which case this gets <em>much</em> more complicated.</p>\n"}],"owner":{"account_id":23386074,"reputation":75,"user_id":17451411,"display_name":"Yahia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682441772,"creation_date":1682441154,"question_id":76103610,"body_markdown":"I&#39;m working on a Java desktop application integrated with SQLite db,I&#39;m having an exception that says `[SQLITE_BUSY] The database file is locked (database is locked)`\r\n. I&#39;ve read a bit and found that I need to *release* the connection off the database file after each making request . What is the correct to do it ? suppose I have:\r\n\r\n    try{\r\n    Connection connection = DriverManager.getConnection(DB_URL);\r\n    PreparedStatement ps = connection.prepareStatement(&quot;Select * from users&quot;); \r\n    ResultSet rs = ps.executeQuery();\r\n    ...\r\n    ps = connection.prepareStatement(&quot;Select * from employees&quot;);\r\n    rs = ps.executeQuery(); // raises SQLException mentioned above\r\n    ...\r\n    }catch(SQLException ex){}","title":"What&#39;s the correct way to close SQLite connection after making a request?","body":"<p>I'm working on a Java desktop application integrated with SQLite db,I'm having an exception that says <code>[SQLITE_BUSY] The database file is locked (database is locked)</code>\n. I've read a bit and found that I need to <em>release</em> the connection off the database file after each making request . What is the correct to do it ? suppose I have:</p>\n<pre><code>try{\nConnection connection = DriverManager.getConnection(DB_URL);\nPreparedStatement ps = connection.prepareStatement(&quot;Select * from users&quot;); \nResultSet rs = ps.executeQuery();\n...\nps = connection.prepareStatement(&quot;Select * from employees&quot;);\nrs = ps.executeQuery(); // raises SQLException mentioned above\n...\n}catch(SQLException ex){}\n</code></pre>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":35012,"reputation":32108,"user_id":99024,"accept_rate":47,"display_name":"Vanuan"},"score":0,"creation_date":1296677193,"post_id":1323244,"comment_id":5426116,"body_markdown":"http://stackoverflow.com/questions/2979383/java-clear-the-console","body":"<a href=\"http://stackoverflow.com/questions/2979383/java-clear-the-console\" title=\"java clear the console\">stackoverflow.com/questions/2979383/java-clear-the-console</a>"},{"owner":{"account_id":35012,"reputation":32108,"user_id":99024,"accept_rate":47,"display_name":"Vanuan"},"score":0,"creation_date":1296677314,"post_id":1323244,"comment_id":5426140,"body_markdown":"http://stackoverflow.com/questions/606086/how-do-you-clear-the-java-console","body":"<a href=\"http://stackoverflow.com/questions/606086/how-do-you-clear-the-java-console\" title=\"how do you clear the java console\">stackoverflow.com/questions/606086/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16784,"reputation":4255,"user_id":36924,"accept_rate":100,"display_name":"Jim Blizard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1251129882,"creation_date":1251129882,"answer_id":1323266,"question_id":1323244,"body_markdown":"The process of clearing a console is going to be VERY device dependent (i.e. Windows cmd is going to be very different than a VT100 or Linux xterm. You would probably need something like [Curses for Java][1].\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/","title":"Clear Console in Java","body":"<p>The process of clearing a console is going to be VERY device dependent (i.e. Windows cmd is going to be very different than a VT100 or Linux xterm. You would probably need something like <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"nofollow noreferrer\">Curses for Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":876345,"reputation":628,"user_id":124955,"display_name":"John McG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251130377,"creation_date":1251130377,"answer_id":1323310,"question_id":1323244,"body_markdown":"Instead of writing to the console have you tried logging the info you need from your app to a separate file instead of the console?","title":"Clear Console in Java","body":"<p>Instead of writing to the console have you tried logging the info you need from your app to a separate file instead of the console?</p>\n"}],"owner":{"account_id":41283,"reputation":3873,"user_id":119919,"accept_rate":93,"display_name":"Kryten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1323266,"answer_count":2,"score":2,"last_activity_date":1682441685,"creation_date":1251129641,"question_id":1323244,"body_markdown":"Is there any way to clear the Console?  \r\n\r\n(I.e. all the output of my class and the output of everything outputted from other programs run before, not always Java)","title":"Clear Console in Java","body":"<p>Is there any way to clear the Console?</p>\n<p>(I.e. all the output of my class and the output of everything outputted from other programs run before, not always Java)</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1682519750,"post_id":76102863,"comment_id":134229458,"body_markdown":"Mar-Z&#39;s answer is correct, and this is not a bug - You are mistaken in where and when the error is being caused by. This is not a DB SQL query error; you are using JPA entities, and are trying to sort on the Java entity&#39;s id property - it is accessible in JPQL and JPA criteria queries as &quot;id&quot; just as if you were using KittingEntity.id in the java object. Your mappings will automatically translate the queries to correctly use &quot;KitID&quot; in the SQL queries that are issued (assuming you haven&#39;t messed with the naming strategies; I agree, spring/hibernate changing column strings is a confusing pain)","body":"Mar-Z&#39;s answer is correct, and this is not a bug - You are mistaken in where and when the error is being caused by. This is not a DB SQL query error; you are using JPA entities, and are trying to sort on the Java entity&#39;s id property - it is accessible in JPQL and JPA criteria queries as &quot;id&quot; just as if you were using KittingEntity.id in the java object. Your mappings will automatically translate the queries to correctly use &quot;KitID&quot; in the SQL queries that are issued (assuming you haven&#39;t messed with the naming strategies; I agree, spring/hibernate changing column strings is a confusing pain)"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682440805,"creation_date":1682438238,"answer_id":76103193,"question_id":76102863,"body_markdown":"The name attribute used in the `@Column` annotation is only applicable for the name of the database column. In JPA repository and in related queries, you should use the Java field names from the entity class.\r\n\r\nIn addition, JPA provides a bunch of predefined methods, which you can see in the [Spring Data JPA reference documentation][1]. Following your example, you could get all kittings ordered ascending by id by using the JPA method:\r\n\r\n    List&lt;KittingEntity&gt; kittings = kittingsRepository.findAllOrderedByIdAsc();\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods","title":"Spring Boot + Hibernate changes case of column name when performing query","body":"<p>The name attribute used in the <code>@Column</code> annotation is only applicable for the name of the database column. In JPA repository and in related queries, you should use the Java field names from the entity class.</p>\n<p>In addition, JPA provides a bunch of predefined methods, which you can see in the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">Spring Data JPA reference documentation</a>. Following your example, you could get all kittings ordered ascending by id by using the JPA method:</p>\n<pre><code>List&lt;KittingEntity&gt; kittings = kittingsRepository.findAllOrderedByIdAsc();\n</code></pre>\n"}],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76103193,"answer_count":1,"score":0,"last_activity_date":1682441575,"creation_date":1682436086,"question_id":76102863,"body_markdown":"I&#39;m using Spring Boot 2.6.1 and attempting to access a database wherein all column names are capitalized.  When performing a &#39;findAll&#39; query via the repository, I get the following error:\r\n```\r\norg.springframework.data.mapping.PropertyReferenceException: No property kitID found for type KittingEntity!\r\n```\r\nThe query is structured like so:\r\n``` lang-java\r\nList&lt;KittingEntity&gt; kittingEntities =\r\n                repository.getKittingRepository().findAll(\r\n                        Sort.by(\r\n                                new Sort.Order(\r\n                                        Sort.Direction.ASC,\r\n                                        KittingEntity.Constants.COLUMN_ID_NAME)));\r\n```\r\nThe Entity class (relevant fields only) has the following structure:\r\n``` lang-java\r\n@Entity\r\n@Table(name = KittingEntity.Constants.TABLE_NAME, indexes = {\r\n        @Index(name = &quot;IX_Kitting_ProductID&quot;, columnList = &quot;ProductID&quot;)\r\n})\r\npublic class KittingEntity implements Serializable {\r\n    private static final long serialVersionUID = 6857112617148711718L;\r\n    @Id\r\n    @Column(name = Constants.COLUMN_ID_NAME, nullable = false)\r\n    private Integer id;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public static class Constants {\r\n        public static final String TABLE_NAME = &quot;Kitting&quot;;\r\n        public static final String COLUMN_ID_NAME = &quot;KitID&quot;;\r\n    }\r\n}\r\n```\r\n\r\nIt appears that Spring is changing my column names to camel case rather than using the annotation which specifies the correct column name.  Why is Spring changing my column name strings and how can I prevent this?\r\n\r\nHere&#39;s the full PropertyReferenceException:\r\n```\r\norg.springframework.data.mapping.PropertyReferenceException: No property kitID found for type KittingEntity!\r\n\tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat java.util.concurrent.ConcurrentMap.computeIfAbsent(Unknown Source) ~[?:1.8.0_351]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryUtils.toJpaOrder(QueryUtils.java:601) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryUtils.toOrders(QueryUtils.java:554) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:781) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:761) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:440) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:84) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_351]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat com.sun.proxy.$Proxy133.findAll(Unknown Source) ~[?:?]\r\n\tat com.conceptualsystems.SyncMessageGenerator.generateGetKitsResponse(SyncMessageGenerator.java:269) ~[tms-common-2.1.1.jar!/:?]\r\n\tat com.conceptualsystems.net.InboundHttpMessageProcessorServer.processHttpRequestMessage(InboundHttpMessageProcessorServer.java:100) [tms-common-2.1.1.jar!/:?]\r\n\tat com.conceptualsystems.net.InboundHttpMessageProcessorServer.processHttpMessage(InboundHttpMessageProcessorServer.java:45) [tms-common-2.1.1.jar!/:?]\r\n\tat com.conceptualsystems.mds.spring.MessageController.receiveMessage(MessageController.java:179) [classes!/:3.0.1]\r\n\tat com.conceptualsystems.mds.spring.MessageController$$FastClassBySpringCGLIB$$8758bac3.invoke(&lt;generated&gt;) [classes!/:3.0.1]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) [spring-core-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) [spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) [spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) [spring-tx-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) [spring-tx-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) [spring-tx-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) [spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) [spring-aop-5.3.13.jar!/:5.3.13]\r\n\tat com.conceptualsystems.mds.spring.MessageController$$EnhancerBySpringCGLIB$$911e6d90.receiveMessage(&lt;generated&gt;) [classes!/:3.0.1]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_351]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.13.jar!/:5.3.13]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.13.jar!/:5.3.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.55.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:1.8.0_351]\r\n```\r\n\r\nIt looks like it passes through the PropertyPath initialization and calls `Introspector.decapitalize()`.  The naming strategy doesn&#39;t seem to affect this hard-coded case change.  I&#39;ve tried the following naming strategies:\r\n```\r\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```\r\nAnd\r\n```\r\nspring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy\r\n```","title":"Spring Boot + Hibernate changes case of column name when performing query","body":"<p>I'm using Spring Boot 2.6.1 and attempting to access a database wherein all column names are capitalized.  When performing a 'findAll' query via the repository, I get the following error:</p>\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property kitID found for type KittingEntity!\n</code></pre>\n<p>The query is structured like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;KittingEntity&gt; kittingEntities =\n                repository.getKittingRepository().findAll(\n                        Sort.by(\n                                new Sort.Order(\n                                        Sort.Direction.ASC,\n                                        KittingEntity.Constants.COLUMN_ID_NAME)));\n</code></pre>\n<p>The Entity class (relevant fields only) has the following structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = KittingEntity.Constants.TABLE_NAME, indexes = {\n        @Index(name = &quot;IX_Kitting_ProductID&quot;, columnList = &quot;ProductID&quot;)\n})\npublic class KittingEntity implements Serializable {\n    private static final long serialVersionUID = 6857112617148711718L;\n    @Id\n    @Column(name = Constants.COLUMN_ID_NAME, nullable = false)\n    private Integer id;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public static class Constants {\n        public static final String TABLE_NAME = &quot;Kitting&quot;;\n        public static final String COLUMN_ID_NAME = &quot;KitID&quot;;\n    }\n}\n</code></pre>\n<p>It appears that Spring is changing my column names to camel case rather than using the annotation which specifies the correct column name.  Why is Spring changing my column name strings and how can I prevent this?</p>\n<p>Here's the full PropertyReferenceException:</p>\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property kitID found for type KittingEntity!\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at java.util.concurrent.ConcurrentMap.computeIfAbsent(Unknown Source) ~[?:1.8.0_351]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryUtils.toJpaOrder(QueryUtils.java:601) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryUtils.toOrders(QueryUtils.java:554) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:781) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:761) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:440) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:84) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_351]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar!/:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar!/:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar!/:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar!/:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar!/:5.3.13]\n    at com.sun.proxy.$Proxy133.findAll(Unknown Source) ~[?:?]\n    at com.conceptualsystems.SyncMessageGenerator.generateGetKitsResponse(SyncMessageGenerator.java:269) ~[tms-common-2.1.1.jar!/:?]\n    at com.conceptualsystems.net.InboundHttpMessageProcessorServer.processHttpRequestMessage(InboundHttpMessageProcessorServer.java:100) [tms-common-2.1.1.jar!/:?]\n    at com.conceptualsystems.net.InboundHttpMessageProcessorServer.processHttpMessage(InboundHttpMessageProcessorServer.java:45) [tms-common-2.1.1.jar!/:?]\n    at com.conceptualsystems.mds.spring.MessageController.receiveMessage(MessageController.java:179) [classes!/:3.0.1]\n    at com.conceptualsystems.mds.spring.MessageController$$FastClassBySpringCGLIB$$8758bac3.invoke(&lt;generated&gt;) [classes!/:3.0.1]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) [spring-core-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) [spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) [spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) [spring-tx-5.3.13.jar!/:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) [spring-tx-5.3.13.jar!/:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) [spring-tx-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) [spring-aop-5.3.13.jar!/:5.3.13]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) [spring-aop-5.3.13.jar!/:5.3.13]\n    at com.conceptualsystems.mds.spring.MessageController$$EnhancerBySpringCGLIB$$911e6d90.receiveMessage(&lt;generated&gt;) [classes!/:3.0.1]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_351]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.13.jar!/:5.3.13]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.55.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.13.jar!/:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.55.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.55.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:1.8.0_351]\n</code></pre>\n<p>It looks like it passes through the PropertyPath initialization and calls <code>Introspector.decapitalize()</code>.  The naming strategy doesn't seem to affect this hard-coded case change.  I've tried the following naming strategies:</p>\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>And</p>\n<pre><code>spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy\n</code></pre>\n"},{"tags":["java","android","android-studio","google-maps"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1669504964,"post_id":74586173,"comment_id":131656468,"body_markdown":"It may help to know about: https://developers.google.com/maps/documentation/android-sdk/utility The key term is &quot;points of interest&quot;.","body":"It may help to know about: <a href=\"https://developers.google.com/maps/documentation/android-sdk/utility\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/android-sdk/utility</a> The key term is &quot;points of interest&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682441376,"creation_date":1673365098,"answer_id":75072327,"question_id":74586173,"body_markdown":"When your app starts you can state where you want the camera and the zoom level with the following line.    \r\n\r\n    map.moveCamera(CameraUpdateFactory.newLatLngZoom(defaultLocation, DEFAULT_ZOOM))\r\n\r\nFor the markers. I would suggest you make a class for these EV stations.\r\nEverything on a GoogleMap is placed using a &#39;LatLng&#39;. So it&#39;s best to have that datatype in your EVStation Class for ease of use. This class should also have at least a name, Id and LatLng. But you ideally would also store the address and other information you need for the app. The iD field is important, because when you click on marker, you&#39;ll location which EVStation it represents by their id&#39;s.\r\n\r\nOnce you have your EVStation Class. You&#39;ll have to find a way of importing this data. But just starting out, you can and write some temp data that gets initialed on app startup. \r\n\r\nThese EVStations that get loaded in will be put into an `ArrayList&lt;EVSTation&gt;();`\r\n\r\nOnce you have that arraylist, you can the loop through it to create markers on the map.\r\n\r\n    public static ArrayList&lt;Marker&gt; markEVStations(Context mContext,\r\n                                                     GoogleMap map,\r\n                                                     ArrayList&lt;EVStation&gt; eVStations)\r\n        //Create an empty array to store the markers.\r\n    {   ArrayList&lt;Marker&gt; allEVStationMarkers = new ArrayList&lt;&gt;();\r\n        //Loop throw the EVStations, createing a marker for them and adding that marker to allEVStationMarkers arraylist\r\n        for (EVStation e : eVStations) {\r\n\r\n            Marker evStationMarker = map.addMarker(new MarkerOptions()\r\n                    .position(e.getLatLng())\r\n                    .title(e.getName())\r\n                    .icon(YOUREVSTATIONICON)\r\n                    .draggable(false));\r\n            evStationMarker.setTag(e.getId());\r\n\r\n            allEVStationMarkers.add(evStationMarker);\r\n        }\r\n        return allEVStationMarkers;\r\n    }\r\n\r\nJust running the above method will put markers on the map. The ArrayList it returns isn&#39;t needed, but it makes it easier to use the markers individually once they&#39;ve been created.\r\n\r\nIf you need more help with this project. I suggest just sitting down and breaking it up into a bunch of features (This is what the professions do). Then address each feature one at a time. Because right now, your question is very broad, and you provided no code. It&#39;s hard to give you a technical answer. My code example, may not fit your intended solution.\r\nGood luck!\r\n","title":"How do you make Google Map have markers for several different places (such as gas stations)?","body":"<p>When your app starts you can state where you want the camera and the zoom level with the following line.</p>\n<pre><code>map.moveCamera(CameraUpdateFactory.newLatLngZoom(defaultLocation, DEFAULT_ZOOM))\n</code></pre>\n<p>For the markers. I would suggest you make a class for these EV stations.\nEverything on a GoogleMap is placed using a 'LatLng'. So it's best to have that datatype in your EVStation Class for ease of use. This class should also have at least a name, Id and LatLng. But you ideally would also store the address and other information you need for the app. The iD field is important, because when you click on marker, you'll location which EVStation it represents by their id's.</p>\n<p>Once you have your EVStation Class. You'll have to find a way of importing this data. But just starting out, you can and write some temp data that gets initialed on app startup.</p>\n<p>These EVStations that get loaded in will be put into an <code>ArrayList&lt;EVSTation&gt;();</code></p>\n<p>Once you have that arraylist, you can the loop through it to create markers on the map.</p>\n<pre><code>public static ArrayList&lt;Marker&gt; markEVStations(Context mContext,\n                                                 GoogleMap map,\n                                                 ArrayList&lt;EVStation&gt; eVStations)\n    //Create an empty array to store the markers.\n{   ArrayList&lt;Marker&gt; allEVStationMarkers = new ArrayList&lt;&gt;();\n    //Loop throw the EVStations, createing a marker for them and adding that marker to allEVStationMarkers arraylist\n    for (EVStation e : eVStations) {\n\n        Marker evStationMarker = map.addMarker(new MarkerOptions()\n                .position(e.getLatLng())\n                .title(e.getName())\n                .icon(YOUREVSTATIONICON)\n                .draggable(false));\n        evStationMarker.setTag(e.getId());\n\n        allEVStationMarkers.add(evStationMarker);\n    }\n    return allEVStationMarkers;\n}\n</code></pre>\n<p>Just running the above method will put markers on the map. The ArrayList it returns isn't needed, but it makes it easier to use the markers individually once they've been created.</p>\n<p>If you need more help with this project. I suggest just sitting down and breaking it up into a bunch of features (This is what the professions do). Then address each feature one at a time. Because right now, your question is very broad, and you provided no code. It's hard to give you a technical answer. My code example, may not fit your intended solution.\nGood luck!</p>\n"}],"owner":{"account_id":22577495,"reputation":31,"user_id":16762708,"display_name":"phez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682441376,"creation_date":1669502900,"question_id":74586173,"body_markdown":"Im new to Android Dev but also knee deep in a project, just being held up by the APIs. \r\n\r\nI am working on an Electric Vehicle app. It has an option to click a button (titled EV STATIONS) that takes you to a map. When you get to this map, it should have markers (which I want to be EV station drawable icons) on all EV stations in the direct area/city (I currently have it pointing to Atlanta). \r\n\r\nI have the map set and loaded with an API key from Google console and all. The emulator runs and the map is of North America with a marker on Atlanta (where I want to focus it). \r\n\r\nI would like for the map to be zoomed into the city of Atlanta, with all Electric Vehicle stations in Atlanta marked.\r\n\r\nHow do I do this? Is it possible? ","title":"How do you make Google Map have markers for several different places (such as gas stations)?","body":"<p>Im new to Android Dev but also knee deep in a project, just being held up by the APIs.</p>\n<p>I am working on an Electric Vehicle app. It has an option to click a button (titled EV STATIONS) that takes you to a map. When you get to this map, it should have markers (which I want to be EV station drawable icons) on all EV stations in the direct area/city (I currently have it pointing to Atlanta).</p>\n<p>I have the map set and loaded with an API key from Google console and all. The emulator runs and the map is of North America with a marker on Atlanta (where I want to focus it).</p>\n<p>I would like for the map to be zoomed into the city of Atlanta, with all Electric Vehicle stations in Atlanta marked.</p>\n<p>How do I do this? Is it possible?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1645231124,"creation_date":1645231124,"answer_id":71181377,"question_id":71180379,"body_markdown":"Mapstruct does not support such kind mapping. See Mapstruct contributor [answer][1] regarding this problem. &lt;br&gt;\r\nLike workaround you can implement your own mapping method for converting to wrapped class.\r\n\r\n    @org.mapstruct.Mapper\r\n    public interface Mapper {\r\n        List&lt;Person&gt; map(List&lt;Employee&gt; employees);\r\n\r\n        Person map(Employee employee);\r\n    \r\n        default Group mapGroup(List&lt;Employee&gt; employees) {\r\n            Group group = new Group();\r\n            group.people = map(employees);\r\n            return group;\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/2326","title":"Mapstruct map list to an object containing list","body":"<p>Mapstruct does not support such kind mapping. See Mapstruct contributor <a href=\"https://github.com/mapstruct/mapstruct/issues/2326\" rel=\"nofollow noreferrer\">answer</a> regarding this problem. <br>\nLike workaround you can implement your own mapping method for converting to wrapped class.</p>\n<pre><code>@org.mapstruct.Mapper\npublic interface Mapper {\n    List&lt;Person&gt; map(List&lt;Employee&gt; employees);\n\n    Person map(Employee employee);\n\n    default Group mapGroup(List&lt;Employee&gt; employees) {\n        Group group = new Group();\n        group.people = map(employees);\n        return group;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645548731,"creation_date":1645543964,"answer_id":71224041,"question_id":71180379,"body_markdown":"MapStruct supports mapping from a source parameter to a target parameter. This means that you can configure MapStruct to map the source list parameter to a target list property. However, as pointed out in https://stackoverflow.com/a/71181377/1115491 it is not possible to map form a single collection parameter to a target parameter. The only way it works is if there are multiple source parameters.\r\n\r\ne.g.\r\n\r\n```\r\n@Mapper\r\npublic interface Mapper {\r\n\r\n    @Mapping(target = &quot;people&quot;, source = &quot;employees&quot;)\r\n    @Mapping(target = &quot;groupID&quot;, source = &quot;groupId&quot;)\r\n    Group map(String groupId, List&lt;Employee&gt; employees);\r\n\r\n}\r\n```","title":"Mapstruct map list to an object containing list","body":"<p>MapStruct supports mapping from a source parameter to a target parameter. This means that you can configure MapStruct to map the source list parameter to a target list property. However, as pointed out in <a href=\"https://stackoverflow.com/a/71181377/1115491\">https://stackoverflow.com/a/71181377/1115491</a> it is not possible to map form a single collection parameter to a target parameter. The only way it works is if there are multiple source parameters.</p>\n<p>e.g.</p>\n<pre><code>@Mapper\npublic interface Mapper {\n\n    @Mapping(target = &quot;people&quot;, source = &quot;employees&quot;)\n    @Mapping(target = &quot;groupID&quot;, source = &quot;groupId&quot;)\n    Group map(String groupId, List&lt;Employee&gt; employees);\n\n}\n</code></pre>\n"}],"owner":{"account_id":7238205,"reputation":105,"user_id":5522629,"display_name":"stackyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32009,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71181377,"answer_count":2,"score":3,"last_activity_date":1682441313,"creation_date":1645221965,"question_id":71180379,"body_markdown":"I want to have a 2 way mapping from a List of an object to an Object which contains a List.\r\n\r\n```\r\nclass Person {\r\n  String firstName;\r\n  String lastName;\r\n}\r\n\r\nclass Group { // Source\r\n  List&lt;Person&gt; people;\r\n  String groupID; \r\n  ...\r\n}\r\n\r\nclass Employee { // target\r\n  String firstName;\r\n  String lastName;\r\n  String employeeNumber;\r\n  ...\r\n}\r\n```\r\n\r\nI used ReportingPolicy.IGNORED to ignore all the irrelevant fields. I just want a mapping between Group to List&lt;Employee&gt; with the fields firstName and lastName. \r\n\r\nIs it possible at all? I have tried but it&#39;s giving me error during build &quot;impossible to map iterable to non-iterable.&quot; \r\n```\r\n@Mapping(target=&quot;people&quot;, source&quot;.&quot;)\r\nGroup map(List&lt;Employee&gt;)\r\n```\r\n","title":"Mapstruct map list to an object containing list","body":"<p>I want to have a 2 way mapping from a List of an object to an Object which contains a List.</p>\n<pre><code>class Person {\n  String firstName;\n  String lastName;\n}\n\nclass Group { // Source\n  List&lt;Person&gt; people;\n  String groupID; \n  ...\n}\n\nclass Employee { // target\n  String firstName;\n  String lastName;\n  String employeeNumber;\n  ...\n}\n</code></pre>\n<p>I used ReportingPolicy.IGNORED to ignore all the irrelevant fields. I just want a mapping between Group to List with the fields firstName and lastName.</p>\n<p>Is it possible at all? I have tried but it's giving me error during build &quot;impossible to map iterable to non-iterable.&quot;</p>\n<pre><code>@Mapping(target=&quot;people&quot;, source&quot;.&quot;)\nGroup map(List&lt;Employee&gt;)\n</code></pre>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":4,"creation_date":1257442429,"post_id":1682212,"comment_id":1556366,"body_markdown":"Clear *what* screen? Are you talking about a console application?","body":"Clear <i>what</i> screen? Are you talking about a console application?"},{"owner":{"account_id":53844,"reputation":975,"user_id":161004,"accept_rate":40,"display_name":"user161004"},"score":0,"creation_date":1257442718,"post_id":1682212,"comment_id":1556410,"body_markdown":"yes about the console application","body":"yes about the console application"}],"answers":[{"tags":[],"owner":{"account_id":62810,"reputation":5725,"user_id":186338,"accept_rate":95,"display_name":"James Cronen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1257442541,"creation_date":1257442541,"answer_id":1682268,"question_id":1682212,"body_markdown":"If you&#39;re talking about the console, then no.  Writing to the console is just a special case of an output stream.  Output streams don&#39;t know anything about the screen, as they can be just as easily redirected to a file or another system device.","title":"Clear console screen in Java","body":"<p>If you're talking about the console, then no.  Writing to the console is just a special case of an output stream.  Output streams don't know anything about the screen, as they can be just as easily redirected to a file or another system device.</p>\n"},{"tags":[],"owner":{"account_id":62138,"reputation":3297,"user_id":184792,"accept_rate":81,"display_name":"msp"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1257442616,"creation_date":1257442616,"answer_id":1682278,"question_id":1682212,"body_markdown":"If you&#39;re talking about a console application, then there isn&#39;t a clear screen option AFAIK. A **quite dirty** option would be to invoke the clear screen command of the underlying OS.\r\n\r\nThen it&#39;s something like\r\n\r\n    Runtime.getRuntime().exec(&quot;cls&quot;);\r\n\r\nfor Windows or \r\n\r\n    Runtime.getRuntime().exec(&quot;clear&quot;);\r\n\r\nfor a load of other OS. You can find out the OS with `System.getProperty(&quot;os.name&quot;)`.\r\n\r\n","title":"Clear console screen in Java","body":"<p>If you're talking about a console application, then there isn't a clear screen option AFAIK. A <strong>quite dirty</strong> option would be to invoke the clear screen command of the underlying OS.</p>\n\n<p>Then it's something like</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cls\");\n</code></pre>\n\n<p>for Windows or </p>\n\n<pre><code>Runtime.getRuntime().exec(\"clear\");\n</code></pre>\n\n<p>for a load of other OS. You can find out the OS with <code>System.getProperty(\"os.name\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1257443584,"creation_date":1257443584,"answer_id":1682372,"question_id":1682212,"body_markdown":"For Windows, &lt;a href=&quot;http://code.google.com/p/java-console-api/&quot;&gt;Java Console API&lt;/a&gt; project provides functionality to determine console size and set cursor position. Clearing the screen is trivial with that. It&#39;s a version 0.2 now so it&#39;s not exactly production ready, but it works. \r\n\r\nAlternatively, you can simply print out some new lines via `System.out.println()`. 640 should be enough for everybody :-) It&#39;s not the same as clearing screen, but for user&#39;s intents and purposes it&#39;d do.","title":"Clear console screen in Java","body":"<p>For Windows, <a href=\"http://code.google.com/p/java-console-api/\" rel=\"nofollow noreferrer\">Java Console API</a> project provides functionality to determine console size and set cursor position. Clearing the screen is trivial with that. It's a version 0.2 now so it's not exactly production ready, but it works. </p>\n\n<p>Alternatively, you can simply print out some new lines via <code>System.out.println()</code>. 640 should be enough for everybody :-) It's not the same as clearing screen, but for user's intents and purposes it'd do.</p>\n"},{"tags":[],"owner":{"account_id":29723,"reputation":12111,"user_id":80530,"accept_rate":71,"display_name":"LB40"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1257443602,"creation_date":1257443602,"answer_id":1682374,"question_id":1682212,"body_markdown":"On linux, you can do something like:\r\n\r\n    System.out.println(&quot;\\f&quot;);\r\n\r\n\r\nYou can also use [Jcurses][1]\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/","title":"Clear console screen in Java","body":"<p>On linux, you can do something like:</p>\n\n<pre><code>System.out.println(\"\\f\");\n</code></pre>\n\n<p>You can also use <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"noreferrer\">Jcurses</a></p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1257444016,"creation_date":1257443694,"answer_id":1682381,"question_id":1682212,"body_markdown":"As dirty hacks go, I like [msparer&#39;s solution][1].  An even dirtier method that I&#39;ve seen used (I would never do this myself.  I swear.  Really.) is to write a bunch of newlines to the console.  This doesn&#39;t clear the screen at all, but creates the illusion of a clear screen to the user.\r\n\r\n    char c = &#39;\\n&#39;;\r\n    int length = 25;\r\n    char[] chars = new char[length];\r\n    Arrays.fill(chars, c);\r\n    System.out.print(String.valueOf(chars));\r\n\r\n\r\n  [1]: #1682278","title":"Clear console screen in Java","body":"<p>As dirty hacks go, I like msparer's solution.  An even dirtier method that I've seen used (I would never do this myself.  I swear.  Really.) is to write a bunch of newlines to the console.  This doesn't clear the screen at all, but creates the illusion of a clear screen to the user.</p>\n\n<pre><code>char c = '\\n';\nint length = 25;\nchar[] chars = new char[length];\nArrays.fill(chars, c);\nSystem.out.print(String.valueOf(chars));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1257443827,"creation_date":1257443827,"answer_id":1682397,"question_id":1682212,"body_markdown":"For any console which supports ANSI escapes the following would work (would e.g. work in Win98 console).\r\n\r\n    private final String ANSI_CLS = &quot;\\u001b[2J&quot;;\r\n    ....\r\n    System.out.print(ANSI_CLS);\r\n    System.out.flush();\r\n    ...\r\n\r\nStarting with Win NT this won&#39;t work anymore and you can either\r\n\r\n- Do a JNI call (e.g. like here: [Java: Clear console and control attributes][1]\r\n- Or write out a bunch of empty lines\r\n\r\nOtherwise you are out of luck.\r\n\r\nAnd btw. you must keep in mind that `System.out` and `System.err` don&#39;t have to be console they could be set to what ever (writing into a file e.g.) an usecase where clearing the screen wouldn&#39;t make any sense at all.\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0047.html","title":"Clear console screen in Java","body":"<p>For any console which supports ANSI escapes the following would work (would e.g. work in Win98 console).</p>\n\n<pre><code>private final String ANSI_CLS = \"\\u001b[2J\";\n....\nSystem.out.print(ANSI_CLS);\nSystem.out.flush();\n...\n</code></pre>\n\n<p>Starting with Win NT this won't work anymore and you can either</p>\n\n<ul>\n<li>Do a JNI call (e.g. like here: <a href=\"http://www.rgagnon.com/javadetails/java-0047.html\" rel=\"noreferrer\">Java: Clear console and control attributes</a></li>\n<li>Or write out a bunch of empty lines</li>\n</ul>\n\n<p>Otherwise you are out of luck.</p>\n\n<p>And btw. you must keep in mind that <code>System.out</code> and <code>System.err</code> don't have to be console they could be set to what ever (writing into a file e.g.) an usecase where clearing the screen wouldn't make any sense at all.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1257450437,"creation_date":1257448764,"answer_id":1682917,"question_id":1682212,"body_markdown":"you should give a try with JNA and try mapping native libraries: \r\n\r\n - on linux you must map C functions from **ncurses** library\r\n - on windows you must map functions from both **msvcrt** and **kernel32**, as clearly stated [here][1]\r\n\r\nPS\r\n\r\nlet me known if you need some sample code\r\n\r\n  [1]: http://support.microsoft.com/kb/816180","title":"Clear console screen in Java","body":"<p>you should give a try with JNA and try mapping native libraries: </p>\n\n<ul>\n<li>on linux you must map C functions from <strong>ncurses</strong> library</li>\n<li>on windows you must map functions from both <strong>msvcrt</strong> and <strong>kernel32</strong>, as clearly stated <a href=\"http://support.microsoft.com/kb/816180\" rel=\"nofollow noreferrer\">here</a></li>\n</ul>\n\n<p>PS</p>\n\n<p>let me known if you need some sample code</p>\n"},{"tags":[],"owner":{"display_name":"user693228"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302027877,"creation_date":1302027877,"answer_id":5556596,"question_id":1682212,"body_markdown":"**Jansi** is an excellent workaround. I am an amateur coder and Jansi is easy to setup especially with Eclipse.\r\n\r\nThe following is a link to the homepage of Jansi:\r\n\r\nhttp://jansi.fusesource.org/\r\n\r\nThe following is a link to a site containing a code as a demonstration of AnsiConsole class contained in the Jansi package:\r\n\r\nhttp://www.rgagnon.com/javadetails/java-0047.html","title":"Clear console screen in Java","body":"<p><strong>Jansi</strong> is an excellent workaround. I am an amateur coder and Jansi is easy to setup especially with Eclipse.</p>\n\n<p>The following is a link to the homepage of Jansi:</p>\n\n<p><a href=\"http://jansi.fusesource.org/\" rel=\"nofollow\">http://jansi.fusesource.org/</a></p>\n\n<p>The following is a link to a site containing a code as a demonstration of AnsiConsole class contained in the Jansi package:</p>\n\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0047.html\" rel=\"nofollow\">http://www.rgagnon.com/javadetails/java-0047.html</a></p>\n"},{"tags":[],"owner":{"account_id":938843,"reputation":31,"user_id":967298,"display_name":"Dhickey90"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328869159,"creation_date":1328868508,"answer_id":9226047,"question_id":1682212,"body_markdown":"To clear the screen just type:\r\n\r\n    System.out.print(&#39;\\u000C&#39;);","title":"Clear console screen in Java","body":"<p>To clear the screen just type:</p>\n\n<pre><code>System.out.print('\\u000C');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2031366,"reputation":1970,"user_id":1814987,"accept_rate":67,"display_name":"gon1332"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399388173,"creation_date":1395578499,"answer_id":22591050,"question_id":1682212,"body_markdown":"You can also try ANSI Escape Codes:\r\n\r\nIf your terminal support them, try something like this:\r\n\r\n\r\n    System.out.print(&quot;\\033[2J\\033[1;1H&quot;);\r\n\r\n\r\nYou can include `\\0333[1;1H` to be sure if `\\0333[2J` does not move the cursor in the upper left corner.\r\n\r\nMore specifically:\r\n\r\n - `033` is the octal of `ESC`\r\n - `2J` is for clearing the entire console/terminal screen\r\n - `1;1H` moves the cursor to row 1 and column 1","title":"Clear console screen in Java","body":"<p>You can also try ANSI Escape Codes:</p>\n\n<p>If your terminal support them, try something like this:</p>\n\n<pre><code>System.out.print(\"\\033[2J\\033[1;1H\");\n</code></pre>\n\n<p>You can include <code>\\0333[1;1H</code> to be sure if <code>\\0333[2J</code> does not move the cursor in the upper left corner.</p>\n\n<p>More specifically:</p>\n\n<ul>\n<li><code>033</code> is the octal of <code>ESC</code></li>\n<li><code>2J</code> is for clearing the entire console/terminal screen</li>\n<li><code>1;1H</code> moves the cursor to row 1 and column 1</li>\n</ul>\n"}],"owner":{"account_id":53844,"reputation":975,"user_id":161004,"accept_rate":40,"display_name":"user161004"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98407,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1446037460,"accepted_answer_id":1682381,"answer_count":10,"score":10,"last_activity_date":1682441184,"creation_date":1257442155,"question_id":1682212,"body_markdown":"Is there any option to clear the console screen in Java as clrscr() in C?","title":"Clear console screen in Java","body":"<p>Is there any option to clear the console screen in Java as clrscr() in C?</p>\n"},{"tags":["java","kotlin","ui-automation","maestro"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1668183597,"post_id":74300894,"comment_id":131351492,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":11856306,"reputation":1,"user_id":8676219,"display_name":"Ilyos Yuldoshev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671511849,"creation_date":1671511849,"answer_id":74858638,"question_id":74300894,"body_markdown":"It seems to me that you currently have two JDK versions, for Maestro it works fine if you install JDK 11 and delete the other versions and then check","title":"Maestro UI test run after this error printing?","body":"<p>It seems to me that you currently have two JDK versions, for Maestro it works fine if you install JDK 11 and delete the other versions and then check</p>\n"}],"owner":{"account_id":11856306,"reputation":1,"user_id":8676219,"display_name":"Ilyos Yuldoshev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74858638,"answer_count":1,"score":0,"last_activity_date":1682440512,"creation_date":1667468479,"question_id":74300894,"body_markdown":"I am UI tesrting with maestro UI test automation tools for flutter app, but after running a test this error occurred:\r\n\r\n```\r\ni@is-MacBook-Pro samples % maestro test android-flow.yaml \r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: java.io.InputStream.readAllBytes()[B\r\n\tat maestro.cli.device.ios.Simctl.list(Simctl.kt:14)\r\n\tat maestro.cli.device.DeviceService.listIOSDevices(DeviceService.kt:164)\r\n\tat maestro.cli.device.DeviceService.listDevices(DeviceService.kt:124)\r\n\tat maestro.cli.device.DeviceService.listConnectedDevices(DeviceService.kt:114)\r\n\tat maestro.cli.device.PickDeviceInteractor.pickDeviceInternal(PickDeviceInteractor.kt:33)\r\n\tat maestro.cli.device.PickDeviceInteractor.pickDevice(PickDeviceInteractor.kt:14)\r\n\tat maestro.cli.util.MaestroFactory.createMaestro(MaestroFactory.kt:35)\r\n\tat maestro.cli.command.TestCommand.call(TestCommand.kt:63)\r\n\tat maestro.cli.command.TestCommand.call(TestCommand.kt:31)\r\n\tat picocli.CommandLine.executeUserObject(CommandLine.java:1933)\r\n\tat picocli.CommandLine.access$1200(CommandLine.java:145)\r\n\tat picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2332)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2326)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2291)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2159)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2058)\r\n\tat maestro.cli.AppKt.main(App.kt:97)\r\n```\r\n\r\n\r\ni@is-MacBook-Pro samples % maestro test android-flow.yaml ","title":"Maestro UI test run after this error printing?","body":"<p>I am UI tesrting with maestro UI test automation tools for flutter app, but after running a test this error occurred:</p>\n<pre><code>i@is-MacBook-Pro samples % maestro test android-flow.yaml \nException in thread &quot;main&quot; java.lang.NoSuchMethodError: java.io.InputStream.readAllBytes()[B\n    at maestro.cli.device.ios.Simctl.list(Simctl.kt:14)\n    at maestro.cli.device.DeviceService.listIOSDevices(DeviceService.kt:164)\n    at maestro.cli.device.DeviceService.listDevices(DeviceService.kt:124)\n    at maestro.cli.device.DeviceService.listConnectedDevices(DeviceService.kt:114)\n    at maestro.cli.device.PickDeviceInteractor.pickDeviceInternal(PickDeviceInteractor.kt:33)\n    at maestro.cli.device.PickDeviceInteractor.pickDevice(PickDeviceInteractor.kt:14)\n    at maestro.cli.util.MaestroFactory.createMaestro(MaestroFactory.kt:35)\n    at maestro.cli.command.TestCommand.call(TestCommand.kt:63)\n    at maestro.cli.command.TestCommand.call(TestCommand.kt:31)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1933)\n    at picocli.CommandLine.access$1200(CommandLine.java:145)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2332)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2326)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2291)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2159)\n    at picocli.CommandLine.execute(CommandLine.java:2058)\n    at maestro.cli.AppKt.main(App.kt:97)\n</code></pre>\n<p>i@is-MacBook-Pro samples % maestro test android-flow.yaml</p>\n"},{"tags":["java","iso8583","jpos"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682440148,"creation_date":1681756838,"answer_id":76038283,"question_id":76031925,"body_markdown":"You can use a `Switch` transaction participant with transaction groups like this:\r\n```xml\r\n&lt;txnmgr class=&quot;org.jpos.transaction.TransactionManager&quot; logger=&quot;Q2&quot;&gt;\r\n    &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\r\n    &lt;property name=&quot;sessions&quot; value=&quot;10&quot;/&gt;\r\n    &lt;property name=&quot;max-sessions&quot; value=&quot;100&quot;/&gt;\r\n\r\n    &lt;participant class=&quot;org.jpos.transaction.participant.Switch&quot;\r\n      logger=&quot;Q2&quot; realm=&quot;Switch&quot;&gt;\r\n      &lt;property name=&quot;txnname&quot; value=&quot;&lt;CONTEXT_KEY_TO_SWITCH_ON&gt;&quot;/&gt; &lt;!--1--&gt;\r\n      &lt;property name=&quot;&lt;LOCAL_VALUE&gt;&quot; value=&quot;LOCAL&quot;/&gt;                &lt;!--2--&gt;\r\n      &lt;property name=&quot;&lt;UAT_VALUE&gt;&quot; value=&quot;UAT&quot;/&gt;                    &lt;!--3--&gt;\r\n      &lt;property name=&quot;unknown&quot; value=&quot;&lt;DEFAULT_ENDPOINT_OR_ERROR_GROUP&gt;&quot;/&gt;  &lt;!--4--&gt;\r\n    &lt;/participant&gt;\r\n    &lt;group name=&quot;LOCAL&quot;&gt;\r\n        &lt;participant name=&quot;LOCAL&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \r\n...\r\n       &lt;/participant&gt;\r\n     &lt;/group&gt;    \r\n     &lt;group name=&quot;UAT&quot;&gt;\r\n       &lt;participant name=&quot;UAT&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \r\n...\r\n       &lt;/participant&gt;\r\n    &lt;/group&gt;\r\n    &lt;participant class=&quot;org.jpos.transaction.participant.SendResponse&quot;&gt;        \r\n    &lt;/participant&gt;\r\n&lt;/txnmgr&gt;\r\n\r\n```\r\n\r\n1. `&lt;CONTEXT_KEY_TO_SWITCH_ON&gt;` is the context key that contains the value based on which you want to select the destiny.\r\n2. `&lt;LOCAL_VALUE&gt;` is the value of that key that should make the transaction go to local\r\n3. `&lt;UAT_VALUE&gt;` is the value of that key that should make the transaction go to UAT.\r\n4. `&lt;DEFAULT_ENDPOINT_OR_ERROR_GROUP&gt;` is the endpoint (or an error group, if you want to handle it like that) where you want to go if none of the previous match. Like the `default` on a java `switch` statement.\r\n\r\nThe `Switch` transaction participant is documented in the [jPOS Programmer&#39;s Guide][1] section 9.8.1.\r\n\r\nBasically, we are saying that if the key matches `&lt;LOCAL_VALUE&gt;` run group `LOCAL`, if it matches `&lt;UAT_VALUE&gt;` run group `UAT`, else run whatever group you define there. Participants in each group get executed right after the `Switch` participant, and before the next one.\r\n\r\n# Select endpoint based on a property of a context object.\r\n\r\nThe OP asked in a comment to be able to select the endpoint based on a field of the request. For this we need to use code, it can be in a scripted participant.\r\n\r\nBest option would be to use `GroovyParticipant` since it enables to precompile the script, but since the OP is not using jPOS-EE, not clear if he doesn&#39;t want to, or just isn&#39;t but willing to do.\r\n\r\n## Using `BSHGroupSelector`.\r\n\r\nThe simplest option is to use `BSHGroupSelector` since we just need to modify the `Switch` participant for this xml:\r\n\r\n```xml\r\n  &lt;participant class=&quot;org.jpos.transaction.participant.BSHGroupSelector&quot;&gt;\r\n    &lt;select&gt;\r\n      import org.jpos.iso.*;\r\n      ISOMsg m = context.get(&quot;REQUEST&quot;);\r\n      String de3 = m.getString(3);\r\n      result = (/*condition on DE3 for selecting UAT*/) ?  &quot;UAT&quot; : &quot;LOCAL&quot;;\r\n    &lt;/select&gt;\r\n  &lt;/participant&gt;\r\n```\r\n`result` is the variable used by `GroupSelector` to determine the result of the `select` method, i.e., get the group to run.\r\n\r\n## Using `JSParticipant`\r\n\r\nThere is no way to write a `GroupSelector` with `JSParticipant` that I know of. However, we can use a `JSParticipant` to extract field 3 to a context key. We would need to add this participant, previous to the `Switch` participant:\r\n\r\n```xml\r\n&lt;participant class=&quot;org.jpos.transaction.participant.JSParticipant&quot;\r\n  logger=&quot;Q2&quot; realm=&quot;js&quot; src=&#39;cfg/extract-de3.js&#39; /&gt;\r\n&lt;/participant&gt;\r\n```\r\nWhere `cfg/extract-de3.js` has the following content:\r\n```javascript\r\nvar K = Java.type(&quot;org.jpos.transaction.TransactionConstants&quot;);\r\nvar prepare = function(id, ctx) {\r\n  //put de 3 in context under de3 key.  ctx.put(&quot;de3&quot;, \r\n  ctx.get(&quot;REQUEST&quot;).getString(3);\r\n  return K.PREPARED;\r\n}\r\n```\r\n\r\nThe `Switch` participant definition would be as follows:\r\n```xml\r\n    &lt;participant class=&quot;org.jpos.transaction.participant.Switch&quot;\r\n      logger=&quot;Q2&quot; realm=&quot;Switch&quot;&gt;\r\n      &lt;property name=&quot;txnname&quot; value=&quot;de3&quot;/&gt; \r\n      &lt;property name=&quot;&lt;LOCAL_VALUE&gt;&quot; value=&quot;LOCAL&quot;/&gt;                \r\n      &lt;property name=&quot;&lt;UAT_VALUE&gt;&quot; value=&quot;UAT&quot;/&gt;                    \r\n      &lt;property name=&quot;unknown&quot; value=&quot;&lt;DEFAULT_ENDPOINT_OR_ERROR_GROUP&gt;&quot;/&gt;\r\n    &lt;/participant&gt;\r\n```\r\n  [1]: http://jpos.org/doc/proguide-draft.pdf","title":"conditionally skip transaction participant in my Jpos-template project","body":"<p>You can use a <code>Switch</code> transaction participant with transaction groups like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;txnmgr class=&quot;org.jpos.transaction.TransactionManager&quot; logger=&quot;Q2&quot;&gt;\n    &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\n    &lt;property name=&quot;sessions&quot; value=&quot;10&quot;/&gt;\n    &lt;property name=&quot;max-sessions&quot; value=&quot;100&quot;/&gt;\n\n    &lt;participant class=&quot;org.jpos.transaction.participant.Switch&quot;\n      logger=&quot;Q2&quot; realm=&quot;Switch&quot;&gt;\n      &lt;property name=&quot;txnname&quot; value=&quot;&lt;CONTEXT_KEY_TO_SWITCH_ON&gt;&quot;/&gt; &lt;!--1--&gt;\n      &lt;property name=&quot;&lt;LOCAL_VALUE&gt;&quot; value=&quot;LOCAL&quot;/&gt;                &lt;!--2--&gt;\n      &lt;property name=&quot;&lt;UAT_VALUE&gt;&quot; value=&quot;UAT&quot;/&gt;                    &lt;!--3--&gt;\n      &lt;property name=&quot;unknown&quot; value=&quot;&lt;DEFAULT_ENDPOINT_OR_ERROR_GROUP&gt;&quot;/&gt;  &lt;!--4--&gt;\n    &lt;/participant&gt;\n    &lt;group name=&quot;LOCAL&quot;&gt;\n        &lt;participant name=&quot;LOCAL&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \n...\n       &lt;/participant&gt;\n     &lt;/group&gt;    \n     &lt;group name=&quot;UAT&quot;&gt;\n       &lt;participant name=&quot;UAT&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \n...\n       &lt;/participant&gt;\n    &lt;/group&gt;\n    &lt;participant class=&quot;org.jpos.transaction.participant.SendResponse&quot;&gt;        \n    &lt;/participant&gt;\n&lt;/txnmgr&gt;\n\n</code></pre>\n<ol>\n<li><code>&lt;CONTEXT_KEY_TO_SWITCH_ON&gt;</code> is the context key that contains the value based on which you want to select the destiny.</li>\n<li><code>&lt;LOCAL_VALUE&gt;</code> is the value of that key that should make the transaction go to local</li>\n<li><code>&lt;UAT_VALUE&gt;</code> is the value of that key that should make the transaction go to UAT.</li>\n<li><code>&lt;DEFAULT_ENDPOINT_OR_ERROR_GROUP&gt;</code> is the endpoint (or an error group, if you want to handle it like that) where you want to go if none of the previous match. Like the <code>default</code> on a java <code>switch</code> statement.</li>\n</ol>\n<p>The <code>Switch</code> transaction participant is documented in the <a href=\"http://jpos.org/doc/proguide-draft.pdf\" rel=\"nofollow noreferrer\">jPOS Programmer's Guide</a> section 9.8.1.</p>\n<p>Basically, we are saying that if the key matches <code>&lt;LOCAL_VALUE&gt;</code> run group <code>LOCAL</code>, if it matches <code>&lt;UAT_VALUE&gt;</code> run group <code>UAT</code>, else run whatever group you define there. Participants in each group get executed right after the <code>Switch</code> participant, and before the next one.</p>\n<h1>Select endpoint based on a property of a context object.</h1>\n<p>The OP asked in a comment to be able to select the endpoint based on a field of the request. For this we need to use code, it can be in a scripted participant.</p>\n<p>Best option would be to use <code>GroovyParticipant</code> since it enables to precompile the script, but since the OP is not using jPOS-EE, not clear if he doesn't want to, or just isn't but willing to do.</p>\n<h2>Using <code>BSHGroupSelector</code>.</h2>\n<p>The simplest option is to use <code>BSHGroupSelector</code> since we just need to modify the <code>Switch</code> participant for this xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;participant class=&quot;org.jpos.transaction.participant.BSHGroupSelector&quot;&gt;\n    &lt;select&gt;\n      import org.jpos.iso.*;\n      ISOMsg m = context.get(&quot;REQUEST&quot;);\n      String de3 = m.getString(3);\n      result = (/*condition on DE3 for selecting UAT*/) ?  &quot;UAT&quot; : &quot;LOCAL&quot;;\n    &lt;/select&gt;\n  &lt;/participant&gt;\n</code></pre>\n<p><code>result</code> is the variable used by <code>GroupSelector</code> to determine the result of the <code>select</code> method, i.e., get the group to run.</p>\n<h2>Using <code>JSParticipant</code></h2>\n<p>There is no way to write a <code>GroupSelector</code> with <code>JSParticipant</code> that I know of. However, we can use a <code>JSParticipant</code> to extract field 3 to a context key. We would need to add this participant, previous to the <code>Switch</code> participant:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;participant class=&quot;org.jpos.transaction.participant.JSParticipant&quot;\n  logger=&quot;Q2&quot; realm=&quot;js&quot; src='cfg/extract-de3.js' /&gt;\n&lt;/participant&gt;\n</code></pre>\n<p>Where <code>cfg/extract-de3.js</code> has the following content:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var K = Java.type(&quot;org.jpos.transaction.TransactionConstants&quot;);\nvar prepare = function(id, ctx) {\n  //put de 3 in context under de3 key.  ctx.put(&quot;de3&quot;, \n  ctx.get(&quot;REQUEST&quot;).getString(3);\n  return K.PREPARED;\n}\n</code></pre>\n<p>The <code>Switch</code> participant definition would be as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;participant class=&quot;org.jpos.transaction.participant.Switch&quot;\n      logger=&quot;Q2&quot; realm=&quot;Switch&quot;&gt;\n      &lt;property name=&quot;txnname&quot; value=&quot;de3&quot;/&gt; \n      &lt;property name=&quot;&lt;LOCAL_VALUE&gt;&quot; value=&quot;LOCAL&quot;/&gt;                \n      &lt;property name=&quot;&lt;UAT_VALUE&gt;&quot; value=&quot;UAT&quot;/&gt;                    \n      &lt;property name=&quot;unknown&quot; value=&quot;&lt;DEFAULT_ENDPOINT_OR_ERROR_GROUP&gt;&quot;/&gt;\n    &lt;/participant&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681783393,"creation_date":1681783393,"answer_id":76040540,"question_id":76031925,"body_markdown":"You can take advantage of jPOS environment variables and add the `enabled` attribute.\r\n\r\nYou can have a couple of environment variables, i.e:`uat.enabled`and `local.enabled` that you can configure like this:\r\n\r\n```xml\r\n&lt;participant name=&quot;LOCAL&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot; enabled=&quot;${local.enabled}&quot;&gt; \r\n    ...\r\n    ...\r\n&lt;/participant&gt;\r\n&lt;participant name=&quot;UAT&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot; enabled-&quot;${uat.enabled}&quot;&gt;  \r\n   ...\r\n   ...\r\n&lt;/participant&gt;\r\n  \r\n```\r\n\r\n\r\nThe you can either use YAML configurations or just environment variables (`LOCAL_ENABLED` and `UAT_ENABLED`).\r\n\r\nThis is documented in [jPOS Programmer&#39;s Guide](http://jpos.org/doc/proguide.pdf) section 3.3.\r\n","title":"conditionally skip transaction participant in my Jpos-template project","body":"<p>You can take advantage of jPOS environment variables and add the <code>enabled</code> attribute.</p>\n<p>You can have a couple of environment variables, i.e:<code>uat.enabled</code>and <code>local.enabled</code> that you can configure like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;participant name=&quot;LOCAL&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot; enabled=&quot;${local.enabled}&quot;&gt; \n    ...\n    ...\n&lt;/participant&gt;\n&lt;participant name=&quot;UAT&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot; enabled-&quot;${uat.enabled}&quot;&gt;  \n   ...\n   ...\n&lt;/participant&gt;\n  \n</code></pre>\n<p>The you can either use YAML configurations or just environment variables (<code>LOCAL_ENABLED</code> and <code>UAT_ENABLED</code>).</p>\n<p>This is documented in <a href=\"http://jpos.org/doc/proguide.pdf\" rel=\"nofollow noreferrer\">jPOS Programmer's Guide</a> section 3.3.</p>\n"}],"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76038283,"answer_count":2,"score":2,"last_activity_date":1682440148,"creation_date":1681708886,"question_id":76031925,"body_markdown":"I have multiple participants in my transaction manager config as below. I want to switch between `UAT` and `LOCAL` participants based on the object property that the current context holds (like if specific fields have specific values). How can I achieve this without having to change Java code and just modify the XML config? I am not sure if `org.jpos.transaction.participant.JSParticipant` is the way to go.\r\n\r\n**NOTE**: I am simply using **jpos-template** project but not the **Jpos-EE**\r\n\r\n```xml\r\n&lt;txnmgr class=&quot;org.jpos.transaction.TransactionManager&quot; logger=&quot;Q2&quot;&gt;\r\n    &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\r\n    &lt;property name=&quot;sessions&quot; value=&quot;10&quot;/&gt;\r\n    &lt;property name=&quot;max-sessions&quot; value=&quot;100&quot;/&gt;\r\n\r\n \r\n    &lt;participant name=&quot;LOCAL&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \r\n\r\n        &lt;property name=&quot;server-signature-public-key&quot;\r\n                  value=&quot;***&quot;/&gt;\r\n        &lt;property name=&quot;server-encryption-public-key&quot;\r\n                  value=&quot;***&quot;/&gt;\r\n        &lt;property name=&quot;base64-client-signature-private-key&quot;\r\n                  value=&quot;***&quot;/&gt;\r\n        &lt;property name=&quot;base64-client-encryption-private-key&quot;\r\n                  value=&quot;***&quot;/&gt;\t\t\t\t  \r\n    &lt;/participant&gt;\r\n\t\r\n\t &lt;participant name=&quot;UAT&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \r\n\r\n        &lt;property name=&quot;server-signature-public-key&quot;\r\n                  value=&quot;***&quot;/&gt;\r\n        &lt;property name=&quot;server-encryption-public-key&quot;\r\n                  value=&quot;***&quot;/&gt;\r\n        &lt;property name=&quot;base64-client-signature-private-key&quot;\r\n                  value=&quot;***&quot;/&gt;\r\n        &lt;property name=&quot;base64-client-encryption-private-key&quot;\r\n                  value=&quot;***&quot;/&gt;\t\t\t\t  \r\n    &lt;/participant&gt;\r\n\r\n    &lt;participant class=&quot;org.jpos.transaction.participant.SendResponse&quot;&gt;        \r\n    &lt;/participant&gt;\r\n&lt;/txnmgr&gt;\r\n```","title":"conditionally skip transaction participant in my Jpos-template project","body":"<p>I have multiple participants in my transaction manager config as below. I want to switch between <code>UAT</code> and <code>LOCAL</code> participants based on the object property that the current context holds (like if specific fields have specific values). How can I achieve this without having to change Java code and just modify the XML config? I am not sure if <code>org.jpos.transaction.participant.JSParticipant</code> is the way to go.</p>\n<p><strong>NOTE</strong>: I am simply using <strong>jpos-template</strong> project but not the <strong>Jpos-EE</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;txnmgr class=&quot;org.jpos.transaction.TransactionManager&quot; logger=&quot;Q2&quot;&gt;\n    &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\n    &lt;property name=&quot;sessions&quot; value=&quot;10&quot;/&gt;\n    &lt;property name=&quot;max-sessions&quot; value=&quot;100&quot;/&gt;\n\n \n    &lt;participant name=&quot;LOCAL&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \n\n        &lt;property name=&quot;server-signature-public-key&quot;\n                  value=&quot;***&quot;/&gt;\n        &lt;property name=&quot;server-encryption-public-key&quot;\n                  value=&quot;***&quot;/&gt;\n        &lt;property name=&quot;base64-client-signature-private-key&quot;\n                  value=&quot;***&quot;/&gt;\n        &lt;property name=&quot;base64-client-encryption-private-key&quot;\n                  value=&quot;***&quot;/&gt;               \n    &lt;/participant&gt;\n    \n     &lt;participant name=&quot;UAT&quot; class=&quot;com.sanjok.qbean.RestParticipant&quot;&gt;     \n\n        &lt;property name=&quot;server-signature-public-key&quot;\n                  value=&quot;***&quot;/&gt;\n        &lt;property name=&quot;server-encryption-public-key&quot;\n                  value=&quot;***&quot;/&gt;\n        &lt;property name=&quot;base64-client-signature-private-key&quot;\n                  value=&quot;***&quot;/&gt;\n        &lt;property name=&quot;base64-client-encryption-private-key&quot;\n                  value=&quot;***&quot;/&gt;               \n    &lt;/participant&gt;\n\n    &lt;participant class=&quot;org.jpos.transaction.participant.SendResponse&quot;&gt;        \n    &lt;/participant&gt;\n&lt;/txnmgr&gt;\n</code></pre>\n"},{"tags":["java","hashmap","treemap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1443122448,"post_id":32769266,"comment_id":53377627,"body_markdown":"This is normal ordering for Strings.  If you need to order them differently, use a `Comparator` that compares strings in whatever order you need.","body":"This is normal ordering for Strings.  If you need to order them differently, use a <code>Comparator</code> that compares strings in whatever order you need."},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":1,"creation_date":1443122644,"post_id":32769266,"comment_id":53377713,"body_markdown":"What order do you want them in?","body":"What order do you want them in?"},{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":0,"creation_date":1443122702,"post_id":32769266,"comment_id":53377751,"body_markdown":"I want order like: {R0=11, R1=0, R2=22, R3=33, R4=44..}","body":"I want order like: {R0=11, R1=0, R2=22, R3=33, R4=44..}"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1443122754,"post_id":32769266,"comment_id":53377783,"body_markdown":"Are all keys in form of `R[number]` or can there be keys like `A[number]` `BB[number]`?","body":"Are all keys in form of <code>R[number]</code> or can there be keys like <code>A[number]</code> <code>BB[number]</code>?"},{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":0,"creation_date":1443122790,"post_id":32769266,"comment_id":53377801,"body_markdown":"All in R[Number] only.","body":"All in R[Number] only."}],"answers":[{"tags":[],"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443122793,"creation_date":1443122793,"answer_id":32769371,"question_id":32769266,"body_markdown":"You can create an `Set` of `Entry` object from the `Map`. Then pass a custom `Comparator` to the `Collections.sort()` along with the `Set`. I have give the template below.\r\n\r\n    Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\r\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\r\n    Collections.sort( list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()\r\n    {\r\n      public int compare( Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2 )\r\n      {\r\n        // Put your logic here for sorting.\r\n      }\r\n    } );\r\n\r\nYou can use the `regex` or `substring` method from `String` for separating the chars and numbers from the `String`.","title":"How to sort alphanumeric keys in Hashmap in best possible manner?","body":"<p>You can create an <code>Set</code> of <code>Entry</code> object from the <code>Map</code>. Then pass a custom <code>Comparator</code> to the <code>Collections.sort()</code> along with the <code>Set</code>. I have give the template below.</p>\n\n<pre><code>Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\nList&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\nCollections.sort( list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()\n{\n  public int compare( Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2 )\n  {\n    // Put your logic here for sorting.\n  }\n} );\n</code></pre>\n\n<p>You can use the <code>regex</code> or <code>substring</code> method from <code>String</code> for separating the chars and numbers from the <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1443123047,"creation_date":1443122836,"answer_id":32769382,"question_id":32769266,"body_markdown":"Create and pass to your TreeMap Comparator which will compare only integer part from keys (assuming that all keys are in form of `R[number]`).\r\n\r\nIn Java 8 your map can look like\r\n\r\n\tMap&lt;String, Integer&gt; mp = new TreeMap&lt;&gt;(\r\n\t\t\tComparator.comparingInt(key -&gt; Integer.parseInt(key.substring(1))));\r\n\r\nIn Java 7 you can use rewrite it as\r\n\r\n\tMap&lt;String, Integer&gt; mp = new TreeMap&lt;&gt;(new Comparator&lt;String&gt;(){\r\n\t\t@Override\r\n\t\tpublic int compare(String key1, String key2) {\r\n                   //parse only text after first letter\r\n\t\t\tint k1 = Integer.parseInt(key1.substring(1));\r\n\t\t\tint k2 = Integer.parseInt(key2.substring(1));\r\n\t\t\treturn Integer.compare(k1, k2);\r\n\t\t}\r\n\t});\r\n\r\nIt will order elements in a way:\r\n\r\n    {R0=11, R1=0, R2=22, R3=33, R4=44, R5=55, R6=66, R7=77, R8=88, R9=99, R10=1010, R11=1111, R12=1212, R13=1313, R14=1414, R15=1515, R17=1717, R19=1919}","title":"How to sort alphanumeric keys in Hashmap in best possible manner?","body":"<p>Create and pass to your TreeMap Comparator which will compare only integer part from keys (assuming that all keys are in form of <code>R[number]</code>).</p>\n\n<p>In Java 8 your map can look like</p>\n\n<pre><code>Map&lt;String, Integer&gt; mp = new TreeMap&lt;&gt;(\n        Comparator.comparingInt(key -&gt; Integer.parseInt(key.substring(1))));\n</code></pre>\n\n<p>In Java 7 you can use rewrite it as</p>\n\n<pre><code>Map&lt;String, Integer&gt; mp = new TreeMap&lt;&gt;(new Comparator&lt;String&gt;(){\n    @Override\n    public int compare(String key1, String key2) {\n               //parse only text after first letter\n        int k1 = Integer.parseInt(key1.substring(1));\n        int k2 = Integer.parseInt(key2.substring(1));\n        return Integer.compare(k1, k2);\n    }\n});\n</code></pre>\n\n<p>It will order elements in a way:</p>\n\n<pre><code>{R0=11, R1=0, R2=22, R3=33, R4=44, R5=55, R6=66, R7=77, R8=88, R9=99, R10=1010, R11=1111, R12=1212, R13=1313, R14=1414, R15=1515, R17=1717, R19=1919}\n</code></pre>\n"}],"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32769382,"answer_count":2,"score":0,"last_activity_date":1682439769,"creation_date":1443122400,"question_id":32769266,"body_markdown":"I have map like\r\n\r\n    Map&lt;String,Integer&gt; mp = new TreeMap&lt;&gt;();\r\n    \t\tmp.put(&quot;R1&quot;, 00);\r\n    \t\tmp.put(&quot;R0&quot;, 11);\r\n    \t\tmp.put(&quot;R2&quot;, 22);\r\n    \t\tmp.put(&quot;R3&quot;, 33);\r\n    \t\tmp.put(&quot;R5&quot;, 55);\r\n    \t\tmp.put(&quot;R8&quot;, 88);\r\n    \t\tmp.put(&quot;R4&quot;, 44);\r\n    \t\tmp.put(&quot;R6&quot;, 66);\r\n    \t\tmp.put(&quot;R9&quot;, 99);\r\n    \t\tmp.put(&quot;R7&quot;, 77);\r\n    \t\tmp.put(&quot;R11&quot;, 1111);\r\n    \t\tmp.put(&quot;R14&quot;, 1414);\r\n    \t\tmp.put(&quot;R10&quot;, 1010);\r\n    \t\tmp.put(&quot;R12&quot;, 1212);\r\n    \t\tmp.put(&quot;R13&quot;, 1313);\r\n    \t\tmp.put(&quot;R15&quot;, 1515);\r\n    \t\tmp.put(&quot;R17&quot;, 1717);\r\n    \t\tmp.put(&quot;R19&quot;, 1919);\r\n\r\nI want to sort based upon keys. TreeMap is not working because of alphanumeric, getting output\r\n\r\n    {R0=11, R1=0, R10=1010, R11=1111, R12=1212, R13=1313, R14=1414, R15=1515, R17=1717, R19=1919, R2=22, R3=33, R4=44, R5=55, R6=66, R7=77, R8=88, R9=99}\r\n\r\nSuggest how to do this?\r\n\r\n","title":"How to sort alphanumeric keys in Hashmap in best possible manner?","body":"<p>I have map like</p>\n\n<pre><code>Map&lt;String,Integer&gt; mp = new TreeMap&lt;&gt;();\n        mp.put(\"R1\", 00);\n        mp.put(\"R0\", 11);\n        mp.put(\"R2\", 22);\n        mp.put(\"R3\", 33);\n        mp.put(\"R5\", 55);\n        mp.put(\"R8\", 88);\n        mp.put(\"R4\", 44);\n        mp.put(\"R6\", 66);\n        mp.put(\"R9\", 99);\n        mp.put(\"R7\", 77);\n        mp.put(\"R11\", 1111);\n        mp.put(\"R14\", 1414);\n        mp.put(\"R10\", 1010);\n        mp.put(\"R12\", 1212);\n        mp.put(\"R13\", 1313);\n        mp.put(\"R15\", 1515);\n        mp.put(\"R17\", 1717);\n        mp.put(\"R19\", 1919);\n</code></pre>\n\n<p>I want to sort based upon keys. TreeMap is not working because of alphanumeric, getting output</p>\n\n<pre><code>{R0=11, R1=0, R10=1010, R11=1111, R12=1212, R13=1313, R14=1414, R15=1515, R17=1717, R19=1919, R2=22, R3=33, R4=44, R5=55, R6=66, R7=77, R8=88, R9=99}\n</code></pre>\n\n<p>Suggest how to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1682430650,"post_id":76101920,"comment_id":134211886,"body_markdown":"You can use `java.util.Properties` to load properties and write them back to a file. However this will not work when you package your properties file into a .jar file (which maven will do with anything inside `src/main/resources`), as everything in it will be read-only.","body":"You can use <code>java.util.Properties</code> to load properties and write them back to a file. However this will not work when you package your properties file into a .jar file (which maven will do with anything inside <code>src&#47;main&#47;resources</code>), as everything in it will be read-only."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682430723,"post_id":76101920,"comment_id":134211912,"body_markdown":"If it&#39;s a &quot;resource&quot; of *that app* though, it&#39;s intended to be read-only","body":"If it&#39;s a &quot;resource&quot; of <i>that app</i> though, it&#39;s intended to be read-only"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1682430972,"post_id":76101920,"comment_id":134211985,"body_markdown":"@f1sh there are definitely some weird hacks for changing jarfile resources on-the-fly, but I don&#39;t really recommend them (and any anti-virus program will rightfully lose their mind). @OP Rather, a simpler/more standard way is to use that resource as a &quot;default&quot; file, save it somewhere (e.g. `%APPDATA%` or `~` or `/usr/local/...`), and then save/load/modify/etc that file instead.","body":"@f1sh there are definitely some weird hacks for changing jarfile resources on-the-fly, but I don&#39;t really recommend them (and any anti-virus program will rightfully lose their mind). @OP Rather, a simpler/more standard way is to use that resource as a &quot;default&quot; file, save it somewhere (e.g. <code>%APPDATA%</code> or <code>~</code> or <code>&#47;usr&#47;local&#47;...</code>), and then save/load/modify/etc that file instead."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1682432138,"post_id":76101920,"comment_id":134212364,"body_markdown":"Save the configuration to e.g. `~/.config/`. Windows, Mac, and Linux all have different config locations. This way you can either load the bundled config, or detect a user config and read/write to that. For example, take a look at [JD GUI&#39;s config service](https://github.com/java-decompiler/jd-gui/blob/master/app/src/main/java/org/jd/gui/service/configuration/ConfigurationXmlPersisterProvider.java#L30).","body":"Save the configuration to e.g. <code>~&#47;.config&#47;</code>. Windows, Mac, and Linux all have different config locations. This way you can either load the bundled config, or detect a user config and read/write to that. For example, take a look at <a href=\"https://github.com/java-decompiler/jd-gui/blob/master/app/src/main/java/org/jd/gui/service/configuration/ConfigurationXmlPersisterProvider.java#L30\" rel=\"nofollow noreferrer\">JD GUI&#39;s config service</a>."}],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682431003,"creation_date":1682431003,"answer_id":76101987,"question_id":76101920,"body_markdown":"Use java.util.Properties \r\n\r\n   \t\r\n\r\n    FileReader reader = new FileReader(&quot;Config.properties&quot;);\r\n    \t\t\r\n    \tProperties prop = new Properties();\r\n    \tprop.load(reader);\r\n\r\nnow you can get value based on key from prop object and change it and write back to file","title":"How to change settings in &quot;resources&quot; folder?","body":"<p>Use java.util.Properties</p>\n<pre><code>FileReader reader = new FileReader(&quot;Config.properties&quot;);\n        \n    Properties prop = new Properties();\n    prop.load(reader);\n</code></pre>\n<p>now you can get value based on key from prop object and change it and write back to file</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682439470,"creation_date":1682434726,"answer_id":76102618,"question_id":76101920,"body_markdown":"If you have a properties file located at: `src/main/resources/default.properties`. The following application will handle loading and saving a user-specific properties file located in their config directory.\r\n\r\nThis example assumes you have a Maven POM with a structure of:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;java-config&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n  &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n### `src/main/java/org/example/App.java`\r\n\r\nThe code below is a stripped-down version of JD-GUI&#39;s [`ConfigurationXmlPersisterProvider`](https://github.com/java-decompiler/jd-gui/blob/master/app/src/main/java/org/jd/gui/service/configuration/ConfigurationXmlPersisterProvider.java#L30) class. It has been modified to load and save a Java `Properties` object to memory.\r\n\r\nIn Windows, a config file will be generated under: `%AppData%\\app-overrides.properties`\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class App {\r\n    // Config override file location\r\n    public static final String CONFIG_FILENAME = &quot;app-overrides.properties&quot;;\r\n\r\n    protected static final File FILE = getConfigFile();\r\n\r\n    // Bundled resource\r\n    private static final String DEFAULT_PROPERTIES_RESOURCE = &quot;/default.properties&quot;;\r\n    private static final String PROP_KEY_MY_NAME = &quot;my.name&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        Properties props = load();\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // Show the loaded config\r\n        System.out.printf(&quot;Stored: %s%n&quot;, props);\r\n\r\n        // Override the default config\r\n        System.out.printf(&quot;Enter a value for %s: &quot;, PROP_KEY_MY_NAME);\r\n        String newValue = scanner.nextLine();\r\n        props.setProperty(PROP_KEY_MY_NAME, newValue);\r\n\r\n        // Update the user config\r\n        save(props);\r\n\r\n        scanner.close(); // Always close resources\r\n    }\r\n\r\n    protected static File getConfigFile() {\r\n        String configFilePath = System.getProperty(CONFIG_FILENAME);\r\n        if (configFilePath != null) {\r\n            File configFile = new File(configFilePath);\r\n            if (configFile.exists()) {\r\n                return configFile;\r\n            }\r\n        }\r\n        if (PlatformService.getInstance().isLinux()) {\r\n            String xdgConfigHome = System.getenv(&quot;XDG_CONFIG_HOME&quot;);\r\n            if (xdgConfigHome != null) {\r\n                File xdgConfigHomeFile = new File(xdgConfigHome);\r\n                if (xdgConfigHomeFile.exists()) {\r\n                    return new File(xdgConfigHomeFile, CONFIG_FILENAME);\r\n                }\r\n            }\r\n            File userConfigFile = new File(System.getProperty(&quot;user.home&quot;), &quot;.config&quot;);\r\n            if (userConfigFile.exists()) {\r\n                return new File(userConfigFile, CONFIG_FILENAME);\r\n            }\r\n        } else if (PlatformService.getInstance().isWindows()) {\r\n            String roamingConfigHome = System.getenv(&quot;APPDATA&quot;);\r\n            if (roamingConfigHome != null) {\r\n                File roamingConfigHomeFile = new File(roamingConfigHome);\r\n                if (roamingConfigHomeFile.exists()) {\r\n                    return new File(roamingConfigHomeFile, CONFIG_FILENAME);\r\n                }\r\n            }\r\n        }\r\n        return new File(CONFIG_FILENAME);\r\n    }\r\n\r\n    public static Properties load() {\r\n        // Load the default props for fall-back values\r\n        Properties defaultProps = new Properties();\r\n        try {\r\n            defaultProps.load(App.class.getResourceAsStream(DEFAULT_PROPERTIES_RESOURCE));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Load the stored user overrides\r\n        Properties props = new Properties();\r\n        if (FILE.exists()) {\r\n            try (FileInputStream fis = new FileInputStream(FILE)) {\r\n                props.load(fis);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        // If the stored value is undefined, use the default\r\n        String myName = props.getProperty(PROP_KEY_MY_NAME);\r\n        if (myName == null || myName.equals(&quot;&quot;)) {\r\n            props.setProperty(PROP_KEY_MY_NAME, defaultProps.getProperty(PROP_KEY_MY_NAME));\r\n        }\r\n\r\n        return props;\r\n    }\r\n\r\n    public static void save(Properties props) {\r\n        try (FileOutputStream fos = new FileOutputStream(FILE)) {\r\n            props.store(fos, null);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Based on JD-GUI&#39;s org.jd.gui.service.platform.PlatformService\r\n    private static class PlatformService {\r\n        protected static final PlatformService PLATFORM_SERVICE = new PlatformService();\r\n\r\n        public enum OS {\r\n            Linux, MacOSX, Windows\r\n        }\r\n\r\n        protected final OS os;\r\n\r\n        protected PlatformService() {\r\n            os = detectOS();\r\n        }\r\n\r\n        public static PlatformService getInstance() {\r\n            return PLATFORM_SERVICE;\r\n        }\r\n\r\n        public OS getOs() {\r\n            return os;\r\n        }\r\n\r\n        public boolean isLinux() {\r\n            return os == OS.Linux;\r\n        }\r\n\r\n        public boolean isMac() {\r\n            return os == OS.MacOSX;\r\n        }\r\n\r\n        public boolean isWindows() {\r\n            return os == OS.Windows;\r\n        }\r\n\r\n        private static OS detectOS() {\r\n            String osName = System.getProperty(&quot;os.name&quot;).toLowerCase(Locale.US);\r\n            if (osName.contains(&quot;windows&quot;)) {\r\n                return OS.Windows;\r\n            } else if (osName.contains(&quot;mac os&quot;)) {\r\n                return OS.MacOSX;\r\n            } else {\r\n                return OS.Linux;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How to change settings in &quot;resources&quot; folder?","body":"<p>If you have a properties file located at: <code>src/main/resources/default.properties</code>. The following application will handle loading and saving a user-specific properties file located in their config directory.</p>\n<p>This example assumes you have a Maven POM with a structure of:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;java-config&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<h3><code>src/main/java/org/example/App.java</code></h3>\n<p>The code below is a stripped-down version of JD-GUI's <a href=\"https://github.com/java-decompiler/jd-gui/blob/master/app/src/main/java/org/jd/gui/service/configuration/ConfigurationXmlPersisterProvider.java#L30\" rel=\"nofollow noreferrer\"><code>ConfigurationXmlPersisterProvider</code></a> class. It has been modified to load and save a Java <code>Properties</code> object to memory.</p>\n<p>In Windows, a config file will be generated under: <code>%AppData%\\app-overrides.properties</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.io.*;\nimport java.util.*;\n\npublic class App {\n    // Config override file location\n    public static final String CONFIG_FILENAME = &quot;app-overrides.properties&quot;;\n\n    protected static final File FILE = getConfigFile();\n\n    // Bundled resource\n    private static final String DEFAULT_PROPERTIES_RESOURCE = &quot;/default.properties&quot;;\n    private static final String PROP_KEY_MY_NAME = &quot;my.name&quot;;\n\n    public static void main(String[] args) {\n        Properties props = load();\n        Scanner scanner = new Scanner(System.in);\n\n        // Show the loaded config\n        System.out.printf(&quot;Stored: %s%n&quot;, props);\n\n        // Override the default config\n        System.out.printf(&quot;Enter a value for %s: &quot;, PROP_KEY_MY_NAME);\n        String newValue = scanner.nextLine();\n        props.setProperty(PROP_KEY_MY_NAME, newValue);\n\n        // Update the user config\n        save(props);\n\n        scanner.close(); // Always close resources\n    }\n\n    protected static File getConfigFile() {\n        String configFilePath = System.getProperty(CONFIG_FILENAME);\n        if (configFilePath != null) {\n            File configFile = new File(configFilePath);\n            if (configFile.exists()) {\n                return configFile;\n            }\n        }\n        if (PlatformService.getInstance().isLinux()) {\n            String xdgConfigHome = System.getenv(&quot;XDG_CONFIG_HOME&quot;);\n            if (xdgConfigHome != null) {\n                File xdgConfigHomeFile = new File(xdgConfigHome);\n                if (xdgConfigHomeFile.exists()) {\n                    return new File(xdgConfigHomeFile, CONFIG_FILENAME);\n                }\n            }\n            File userConfigFile = new File(System.getProperty(&quot;user.home&quot;), &quot;.config&quot;);\n            if (userConfigFile.exists()) {\n                return new File(userConfigFile, CONFIG_FILENAME);\n            }\n        } else if (PlatformService.getInstance().isWindows()) {\n            String roamingConfigHome = System.getenv(&quot;APPDATA&quot;);\n            if (roamingConfigHome != null) {\n                File roamingConfigHomeFile = new File(roamingConfigHome);\n                if (roamingConfigHomeFile.exists()) {\n                    return new File(roamingConfigHomeFile, CONFIG_FILENAME);\n                }\n            }\n        }\n        return new File(CONFIG_FILENAME);\n    }\n\n    public static Properties load() {\n        // Load the default props for fall-back values\n        Properties defaultProps = new Properties();\n        try {\n            defaultProps.load(App.class.getResourceAsStream(DEFAULT_PROPERTIES_RESOURCE));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // Load the stored user overrides\n        Properties props = new Properties();\n        if (FILE.exists()) {\n            try (FileInputStream fis = new FileInputStream(FILE)) {\n                props.load(fis);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        // If the stored value is undefined, use the default\n        String myName = props.getProperty(PROP_KEY_MY_NAME);\n        if (myName == null || myName.equals(&quot;&quot;)) {\n            props.setProperty(PROP_KEY_MY_NAME, defaultProps.getProperty(PROP_KEY_MY_NAME));\n        }\n\n        return props;\n    }\n\n    public static void save(Properties props) {\n        try (FileOutputStream fos = new FileOutputStream(FILE)) {\n            props.store(fos, null);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Based on JD-GUI's org.jd.gui.service.platform.PlatformService\n    private static class PlatformService {\n        protected static final PlatformService PLATFORM_SERVICE = new PlatformService();\n\n        public enum OS {\n            Linux, MacOSX, Windows\n        }\n\n        protected final OS os;\n\n        protected PlatformService() {\n            os = detectOS();\n        }\n\n        public static PlatformService getInstance() {\n            return PLATFORM_SERVICE;\n        }\n\n        public OS getOs() {\n            return os;\n        }\n\n        public boolean isLinux() {\n            return os == OS.Linux;\n        }\n\n        public boolean isMac() {\n            return os == OS.MacOSX;\n        }\n\n        public boolean isWindows() {\n            return os == OS.Windows;\n        }\n\n        private static OS detectOS() {\n            String osName = System.getProperty(&quot;os.name&quot;).toLowerCase(Locale.US);\n            if (osName.contains(&quot;windows&quot;)) {\n                return OS.Windows;\n            } else if (osName.contains(&quot;mac os&quot;)) {\n                return OS.MacOSX;\n            } else {\n                return OS.Linux;\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1682439470,"creation_date":1682430531,"question_id":76101920,"body_markdown":"I want to change the properties file in the &quot;resources&quot; folder when entering the number 1 from the keyboard\r\n\r\n```\r\nScanner scanner = new Scanner(System.in);\r\n            int a = scanner.nextInt();\r\n            if (a == 1) {\r\n                \r\n            }\r\n```\r\nCode in file properties: \r\n\r\n\r\n```\r\nmy.name=Test\r\n```\r\n\r\n\r\nI don&#39;t understand through which class and method to change the value of the field &quot;my.name&quot;","title":"How to change settings in &quot;resources&quot; folder?","body":"<p>I want to change the properties file in the &quot;resources&quot; folder when entering the number 1 from the keyboard</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n            int a = scanner.nextInt();\n            if (a == 1) {\n                \n            }\n</code></pre>\n<p>Code in file properties:</p>\n<pre><code>my.name=Test\n</code></pre>\n<p>I don't understand through which class and method to change the value of the field &quot;my.name&quot;</p>\n"},{"tags":["java","postgresql","jpa","jpa-2.0"],"answers":[{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357221075,"creation_date":1357221075,"answer_id":14140214,"question_id":14137479,"body_markdown":"REGEXP or ~ are not part of the JPQL standard.  You could use a native SQL query.\r\n\r\nIf using EclipseLink, REGEXP is supported, and will work on Postgres,\r\n\r\nhttp://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_regexp.htm#regexp\r\n\r\nYou can also use the SQL function to call any SQL specific syntax inside JPQL,\r\n\r\nhttp://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_sql.htm#sql\r\n","title":"How to use a native db operator (postgres ~ ) with JPA criteria builder?","body":"<p>REGEXP or ~ are not part of the JPQL standard.  You could use a native SQL query.</p>\n\n<p>If using EclipseLink, REGEXP is supported, and will work on Postgres,</p>\n\n<p><a href=\"http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_regexp.htm#regexp\" rel=\"nofollow\">http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_regexp.htm#regexp</a></p>\n\n<p>You can also use the SQL function to call any SQL specific syntax inside JPQL,</p>\n\n<p><a href=\"http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_sql.htm#sql\" rel=\"nofollow\">http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_sql.htm#sql</a></p>\n"},{"tags":[],"owner":{"account_id":8542655,"reputation":425,"user_id":6402192,"display_name":"adkisson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682439463,"creation_date":1682439463,"answer_id":76103381,"question_id":14137479,"body_markdown":"There is no need to define an extra function for this.\r\n `textregexeq(string, pattern)` is equivalent to `string ~ pattern`\r\n\r\n\r\n    Expression&lt;Boolean&gt; regexp_search = cb.function(&quot;textregexeq&quot;, Boolean.class, message, cb.literal(re));","title":"How to use a native db operator (postgres ~ ) with JPA criteria builder?","body":"<p>There is no need to define an extra function for this.\n<code>textregexeq(string, pattern)</code> is equivalent to <code>string ~ pattern</code></p>\n<pre><code>Expression&lt;Boolean&gt; regexp_search = cb.function(&quot;textregexeq&quot;, Boolean.class, message, cb.literal(re));\n</code></pre>\n"}],"owner":{"account_id":33741,"reputation":6525,"user_id":94691,"accept_rate":74,"display_name":"m2o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4090,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1682439463,"creation_date":1357210517,"question_id":14137479,"body_markdown":"I am using JPA 2.0 criteria to build the following query (simplified):\r\n\r\n    select n from notif n where n.message ~ &#39;b.*la&#39;\r\n\r\nI am using postgresql db, and I really need the ~ operator,not like. Is there something equivalent to the CriteriaBuilder.function I can use? Alternatively, is there a function form of the ~ operator in postgres so I can use the mentioned cb.function method. I have only found the postgresql regexp_matches function, but it returns an array of matches not a boolean.\r\n\r\nSolution:\r\nSince moving from the criteria API to JPQL was out of the question, I ended up writing a postgres function:\r\n\r\n    &#39;CREATE OR REPLACE FUNCTION &quot;regexp_search&quot;(character varying,character varying) RETURNS boolean AS \\&#39;select $1 ~ $2;\\&#39; LANGUAGE sql;&#39;\r\n\r\nAnd calling it with cb.function:\r\n\r\n    Expression&lt;Boolean&gt; regexp_search = cb.function(&quot;regexp_search&quot;, Boolean.class, message,cb.literal(re));","title":"How to use a native db operator (postgres ~ ) with JPA criteria builder?","body":"<p>I am using JPA 2.0 criteria to build the following query (simplified):</p>\n\n<pre><code>select n from notif n where n.message ~ 'b.*la'\n</code></pre>\n\n<p>I am using postgresql db, and I really need the ~ operator,not like. Is there something equivalent to the CriteriaBuilder.function I can use? Alternatively, is there a function form of the ~ operator in postgres so I can use the mentioned cb.function method. I have only found the postgresql regexp_matches function, but it returns an array of matches not a boolean.</p>\n\n<p>Solution:\nSince moving from the criteria API to JPQL was out of the question, I ended up writing a postgres function:</p>\n\n<pre><code>'CREATE OR REPLACE FUNCTION \"regexp_search\"(character varying,character varying) RETURNS boolean AS \\'select $1 ~ $2;\\' LANGUAGE sql;'\n</code></pre>\n\n<p>And calling it with cb.function:</p>\n\n<pre><code>Expression&lt;Boolean&gt; regexp_search = cb.function(\"regexp_search\", Boolean.class, message,cb.literal(re));\n</code></pre>\n"},{"tags":["java","recursion","post-increment","pre-increment"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":3,"creation_date":1682436742,"post_id":76102930,"comment_id":134213764,"body_markdown":"1. you don&#39;t have any pre-increment here. 2. post-increment will *first* return the value *then* increment. And since you only pass in the returned value, it&#39;s only the one before it is incremented. So, zero. Same as if you do `int depth = 0; System.out.println(depth++)` you&#39;d still get a zero printed. That&#39;s how post-increment always works. Recursion has no real bearing on it.","body":"1. you don&#39;t have any pre-increment here. 2. post-increment will <i>first</i> return the value <i>then</i> increment. And since you only pass in the returned value, it&#39;s only the one before it is incremented. So, zero. Same as if you do <code>int depth = 0; System.out.println(depth++)</code> you&#39;d still get a zero printed. That&#39;s how post-increment always works. Recursion has no real bearing on it."},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":2,"creation_date":1682436842,"post_id":76102930,"comment_id":134213788,"body_markdown":"Does this answer your question? [How do the post increment (i++) and pre increment (++i) operators work in Java?](https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java\">How do the post increment (i++) and pre increment (++i) operators work in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23173771,"reputation":215,"user_id":17272599,"display_name":"dbakr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682439286,"creation_date":1682437203,"answer_id":76103017,"question_id":76102930,"body_markdown":"you aren&#39;t pre-incrementing. Your function is passing 0 before it increments, thereby effectively not incrementing. try this:  \r\n\r\n```java\r\npublic static void main(String[] args){\r\n        Screen.clear();\r\n        System.out.println(depth(5,0));\r\n        \r\n    }\r\n\r\npublic static int depth(int n, int depth){\r\n        System.out.println(depth);\r\n        if(n == 0)return depth;\r\n        else{\r\n           System.out.println(depth);          \r\n           return depth(n-1, ++depth);\r\n        }\r\n    }\r\n```\r\nor (if you want to use the post-increment)\r\n```java\r\npublic static void main(String[] args){\r\n        Screen.clear();\r\n        System.out.println(depth(5,0));\r\n        \r\n    }\r\n\r\npublic static int depth(int n, int depth){\r\n        System.out.println(depth);\r\n        if(n == 0)return depth;\r\n        else{\r\n           System.out.println(depth++);          \r\n           return depth(n-1, depth);\r\n        }\r\n    }\r\n```","title":"Why is pre and post increment operator not working in recursion?","body":"<p>you aren't pre-incrementing. Your function is passing 0 before it increments, thereby effectively not incrementing. try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n        Screen.clear();\n        System.out.println(depth(5,0));\n        \n    }\n\npublic static int depth(int n, int depth){\n        System.out.println(depth);\n        if(n == 0)return depth;\n        else{\n           System.out.println(depth);          \n           return depth(n-1, ++depth);\n        }\n    }\n</code></pre>\n<p>or (if you want to use the post-increment)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n        Screen.clear();\n        System.out.println(depth(5,0));\n        \n    }\n\npublic static int depth(int n, int depth){\n        System.out.println(depth);\n        if(n == 0)return depth;\n        else{\n           System.out.println(depth++);          \n           return depth(n-1, depth);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682439461,"creation_date":1682439461,"answer_id":76103380,"question_id":76102930,"body_markdown":"The first time you call `depth`, you pass 5 for `n` and 0 for `depth` (btw, in general it&#39;s a bad idea to have the same name for methods and parameters). You are doing it like this:\r\n\r\n```\r\nSystem.out.println(depth(5,0));\r\n```\r\n\r\nLater on, you are calling it like this:\r\n\r\n```\r\nreturn depth(n-1, depth++);\r\n```\r\n\r\nLet&#39;s see what happens:\r\n\r\n- you subtract 1 from `n` and pass the result to the new function call\r\n- you pass the unchanged `depth` and then increment it (`depth++` evaluates to its initial value and increments it without, whereas `++depth` would increment it first and evaluate the result)\r\n\r\nSo, these are the values of `n` and `depth` respectively upon each call:\r\n\r\n- 5, 0\r\n- 4, 0\r\n- 3, 0\r\n- 2, 0\r\n- 1, 0\r\n- 0, 0\r\n\r\nTo understand this even better, let&#39;s try the following:\r\n\r\n```\r\nint i = 1;\r\nSystem.out.println(i++); //1\r\nSystem.out.println(i); //2\r\nint j = 1;\r\nSystem.out.println(++j); //2\r\nSystem.out.println(j); //2\r\n```","title":"Why is pre and post increment operator not working in recursion?","body":"<p>The first time you call <code>depth</code>, you pass 5 for <code>n</code> and 0 for <code>depth</code> (btw, in general it's a bad idea to have the same name for methods and parameters). You are doing it like this:</p>\n<pre><code>System.out.println(depth(5,0));\n</code></pre>\n<p>Later on, you are calling it like this:</p>\n<pre><code>return depth(n-1, depth++);\n</code></pre>\n<p>Let's see what happens:</p>\n<ul>\n<li>you subtract 1 from <code>n</code> and pass the result to the new function call</li>\n<li>you pass the unchanged <code>depth</code> and then increment it (<code>depth++</code> evaluates to its initial value and increments it without, whereas <code>++depth</code> would increment it first and evaluate the result)</li>\n</ul>\n<p>So, these are the values of <code>n</code> and <code>depth</code> respectively upon each call:</p>\n<ul>\n<li>5, 0</li>\n<li>4, 0</li>\n<li>3, 0</li>\n<li>2, 0</li>\n<li>1, 0</li>\n<li>0, 0</li>\n</ul>\n<p>To understand this even better, let's try the following:</p>\n<pre><code>int i = 1;\nSystem.out.println(i++); //1\nSystem.out.println(i); //2\nint j = 1;\nSystem.out.println(++j); //2\nSystem.out.println(j); //2\n</code></pre>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76103017,"answer_count":2,"score":-1,"last_activity_date":1682439461,"creation_date":1682436488,"question_id":76102930,"body_markdown":"I have the following:\r\n\r\n    public static void main(String[] args){\r\n            Screen.clear();\r\n            System.out.println(depth(5,0));\r\n            \r\n        }\r\n\r\n    public static int depth(int n, int depth){\r\n            System.out.println(depth);\r\n            if(n == 0)return depth;\r\n            else{\r\n               System.out.println(depth);          \r\n               return depth(n-1, depth++);\r\n            }\r\n            \r\n        }\r\n\r\nwhy does this always print out 0, n times?  Why isn&#39;t depth being incremented?","title":"Why is pre and post increment operator not working in recursion?","body":"<p>I have the following:</p>\n<pre><code>public static void main(String[] args){\n        Screen.clear();\n        System.out.println(depth(5,0));\n        \n    }\n\npublic static int depth(int n, int depth){\n        System.out.println(depth);\n        if(n == 0)return depth;\n        else{\n           System.out.println(depth);          \n           return depth(n-1, depth++);\n        }\n        \n    }\n</code></pre>\n<p>why does this always print out 0, n times?  Why isn't depth being incremented?</p>\n"},{"tags":["java","spring","hibernate","sorting","jpa"],"answers":[{"tags":[],"owner":{"account_id":5156075,"reputation":30,"user_id":4129281,"display_name":"JanVerbeke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645613465,"creation_date":1645613465,"answer_id":71235547,"question_id":71168743,"body_markdown":"You should be able to add a dot &quot;.&quot; between the parent and the nested property you want to sort upon.\r\n\r\neg: course.something","title":"Sort entity and its nested collection @OneToMany Spring Data JPA with Pageable","body":"<p>You should be able to add a dot &quot;.&quot; between the parent and the nested property you want to sort upon.</p>\n<p>eg: course.something</p>\n"}],"owner":{"account_id":14843774,"reputation":107,"user_id":10719691,"display_name":"M. Mis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1682438559,"creation_date":1645162059,"question_id":71168743,"body_markdown":"Is there a way to sort an entity and its nested collection in a @OneToMany relationship with a Pageable interface?\r\n\r\nI have these two entities\r\n```\r\n@Entity\r\n@Table(name = &quot;course&quot;)\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;course&quot;)\r\n    private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\r\n\r\n    ....contructors, getters and setters\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;review&quot;)\r\npublic class Review {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String rating;\r\n\r\n    @ManyToOne\r\n    private Course course;\r\n\r\n    ....contructors, getters and setters\r\n}\r\n```\r\nThis repository\r\n```\r\n@Repository\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\r\n}\r\n```\r\nThis service\r\n```\r\n@Service\r\npublic class CourseService {\r\n\r\n    @Autowired\r\n    CourseRepository courseRepository;\r\n\r\n    public Page&lt;Course&gt; getCourses(Pageable pageable) {\r\n        return courseRepository.findAll(pageable);\r\n    }\r\n\r\n}\r\n```\r\nAnd this controller\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class CourseController {\r\n\r\n    @Autowired\r\n    CourseService courseService;\r\n\r\n    @RequestMapping(value=&quot;/courses&quot;, method= RequestMethod.GET)\r\n    public ResponseEntity&lt;Page&lt;CourseDTO&gt;&gt; readInteractionsPagedParam(Pageable pageable) {\r\n        Page&lt;Course&gt; pageCourse = courseService.getCourses(pageable);\r\n        ... To DTO and return it\r\n    }\r\n}\r\n```\r\nI found other similar questions but in the answers the sorting become static, like @OrderBy annotation but the need is that the sorting will be dynamic, I mean, I must order by any property in course and review. I must use Pagable too.\r\n\r\nI need something like these but I tried them and only sort the entity Course, the entity Review never is sorted\r\n```\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,asc\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,desc\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,asc\r\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,desc\r\n```\r\nI new in all of this, Java, Spring, JPA, Hibernate, etc and I would like to know if is there a way to achieve this?","title":"Sort entity and its nested collection @OneToMany Spring Data JPA with Pageable","body":"<p>Is there a way to sort an entity and its nested collection in a @OneToMany relationship with a Pageable interface?</p>\n<p>I have these two entities</p>\n<pre><code>@Entity\n@Table(name = &quot;course&quot;)\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;course&quot;)\n    private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\n\n    ....contructors, getters and setters\n}\n\n@Entity\n@Table(name = &quot;review&quot;)\npublic class Review {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String rating;\n\n    @ManyToOne\n    private Course course;\n\n    ....contructors, getters and setters\n}\n</code></pre>\n<p>This repository</p>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\n}\n</code></pre>\n<p>This service</p>\n<pre><code>@Service\npublic class CourseService {\n\n    @Autowired\n    CourseRepository courseRepository;\n\n    public Page&lt;Course&gt; getCourses(Pageable pageable) {\n        return courseRepository.findAll(pageable);\n    }\n\n}\n</code></pre>\n<p>And this controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class CourseController {\n\n    @Autowired\n    CourseService courseService;\n\n    @RequestMapping(value=&quot;/courses&quot;, method= RequestMethod.GET)\n    public ResponseEntity&lt;Page&lt;CourseDTO&gt;&gt; readInteractionsPagedParam(Pageable pageable) {\n        Page&lt;Course&gt; pageCourse = courseService.getCourses(pageable);\n        ... To DTO and return it\n    }\n}\n</code></pre>\n<p>I found other similar questions but in the answers the sorting become static, like @OrderBy annotation but the need is that the sorting will be dynamic, I mean, I must order by any property in course and review. I must use Pagable too.</p>\n<p>I need something like these but I tried them and only sort the entity Course, the entity Review never is sorted</p>\n<pre><code>.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,asc\n.../api/courses?page=0&amp;size=10&amp;sort=name,asc&amp;sort=reviews.rating,desc\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,asc\n.../api/courses?page=0&amp;size=10&amp;sort=name,desc&amp;sort=reviews.rating,desc\n</code></pre>\n<p>I new in all of this, Java, Spring, JPA, Hibernate, etc and I would like to know if is there a way to achieve this?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682102610,"post_id":76075626,"comment_id":134168421,"body_markdown":"I believe that your problem is at the deserialise phase not the serialise. In the absence of a definition of problematicProperty Jackson can’t deserialise it. If a superset class with lots of JsonIgnore can be defined then that would work. Maybe Map&lt;String, Object&gt; problematicProperty or Map&lt;String, List&lt;String&gt;&gt;","body":"I believe that your problem is at the deserialise phase not the serialise. In the absence of a definition of problematicProperty Jackson can’t deserialise it. If a superset class with lots of JsonIgnore can be defined then that would work. Maybe Map&lt;String, Object&gt; problematicProperty or Map&lt;String, List&lt;String&gt;&gt;"},{"owner":{"account_id":1913341,"reputation":21,"user_id":1726546,"display_name":"Marko D"},"score":0,"creation_date":1682346987,"post_id":76075626,"comment_id":134196509,"body_markdown":"I can&#39;t change the type to Map because, sometime problematicProperty will be String, like this: &quot;problematicProperty&quot; :  &quot;randomText&quot;","body":"I can&#39;t change the type to Map because, sometime problematicProperty will be String, like this: &quot;problematicProperty&quot; :  &quot;randomText&quot;"}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682337389,"creation_date":1682337389,"answer_id":76091597,"question_id":76075626,"body_markdown":"A complete example would help here. If I create a dummy example from your code - see below, then it works as expected.\r\n\r\nThe `{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}` JSON is coming from what is most likely a Scala type, probably a Scala Map. It&#39;s difficult to say how to fix it without seeing where this data is coming from. One possible solution might be to change the problematicProperty field type to a (Java) Map, and convert the Scala Map when the object is constructed.\r\n\r\n    \r\n    import com.fasterxml.jackson.annotation.*;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.*;\r\n    \r\n    public class JacksonTest {\r\n\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        public static class MyClass {\r\n    \r\n            private String property1;\r\n            private Double property2;\r\n            private Boolean property3;\r\n            private Object problematicProperty;\r\n    \r\n            public MyClass() {}\r\n    \r\n            public MyClass(String property1, Double property2, Boolean property3, Object problematicProperty) {\r\n                this.property1 = property1;\r\n                this.property2 = property2;\r\n                this.property3 = property3;\r\n                this.problematicProperty = problematicProperty;\r\n            }\r\n    \r\n            // getters and setters\r\n        }\r\n    \r\n        private static final String TEST_JSON = &quot;{\\n&quot; +\r\n                &quot;\\&quot;property1\\&quot; : \\&quot;randomString\\&quot;,\\n&quot; +\r\n                &quot;\\&quot;property2\\&quot; : 0.3,\\n&quot; +\r\n                &quot;\\&quot;property3\\&quot; : false,\\n&quot; +\r\n                &quot;\\&quot;problematicProperty\\&quot; :  {\\n&quot; +\r\n                &quot;                \\&quot;yearFromDate\\&quot;: [\\n&quot; +\r\n                &quot;                    \\&quot;dob\\&quot;,\\n&quot; +\r\n                &quot;                    \\&quot;yyyyMMdd\\&quot;\\n&quot; +\r\n                &quot;                ]\\n&quot; +\r\n                &quot;            }\\n&quot; +\r\n                &quot;}&quot;;\r\n    \r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            final ObjectMapper obj = new ObjectMapper();\r\n            obj.enable(SerializationFeature.INDENT_OUTPUT);\r\n            obj.enable(SerializationFeature.WRAP_ROOT_VALUE);\r\n    \r\n            MyClass myPOJO = obj.readValue(TEST_JSON, MyClass.class);\r\n    \r\n            final String json = obj\r\n                    .writerWithDefaultPrettyPrinter()\r\n                    .writeValueAsString(myPOJO);\r\n    \r\n            System.out.println(json);\r\n        }\r\n    }\r\n","title":"POJO to JSON - writing to string - getting {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false} with Jackson","body":"<p>A complete example would help here. If I create a dummy example from your code - see below, then it works as expected.</p>\n<p>The <code>{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}</code> JSON is coming from what is most likely a Scala type, probably a Scala Map. It's difficult to say how to fix it without seeing where this data is coming from. One possible solution might be to change the problematicProperty field type to a (Java) Map, and convert the Scala Map when the object is constructed.</p>\n<pre><code>import com.fasterxml.jackson.annotation.*;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\n\npublic class JacksonTest {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public static class MyClass {\n\n        private String property1;\n        private Double property2;\n        private Boolean property3;\n        private Object problematicProperty;\n\n        public MyClass() {}\n\n        public MyClass(String property1, Double property2, Boolean property3, Object problematicProperty) {\n            this.property1 = property1;\n            this.property2 = property2;\n            this.property3 = property3;\n            this.problematicProperty = problematicProperty;\n        }\n\n        // getters and setters\n    }\n\n    private static final String TEST_JSON = &quot;{\\n&quot; +\n            &quot;\\&quot;property1\\&quot; : \\&quot;randomString\\&quot;,\\n&quot; +\n            &quot;\\&quot;property2\\&quot; : 0.3,\\n&quot; +\n            &quot;\\&quot;property3\\&quot; : false,\\n&quot; +\n            &quot;\\&quot;problematicProperty\\&quot; :  {\\n&quot; +\n            &quot;                \\&quot;yearFromDate\\&quot;: [\\n&quot; +\n            &quot;                    \\&quot;dob\\&quot;,\\n&quot; +\n            &quot;                    \\&quot;yyyyMMdd\\&quot;\\n&quot; +\n            &quot;                ]\\n&quot; +\n            &quot;            }\\n&quot; +\n            &quot;}&quot;;\n\n    public static void main(String[] args) throws JsonProcessingException {\n        final ObjectMapper obj = new ObjectMapper();\n        obj.enable(SerializationFeature.INDENT_OUTPUT);\n        obj.enable(SerializationFeature.WRAP_ROOT_VALUE);\n\n        MyClass myPOJO = obj.readValue(TEST_JSON, MyClass.class);\n\n        final String json = obj\n                .writerWithDefaultPrettyPrinter()\n                .writeValueAsString(myPOJO);\n\n        System.out.println(json);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1913341,"reputation":21,"user_id":1726546,"display_name":"Marko D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682438403,"creation_date":1682347161,"answer_id":76093079,"question_id":76075626,"body_markdown":"Inspired by [this][1] answer and [this][2] link\r\nI added \r\n\r\n    objectMapper.registerModule(new DefaultScalaModule());\r\nAnd now it works fine and code looks like this:\r\n\r\n    MyClass myPOJO = myRepository.getOne(pojoID);\r\n    ObjectMapper obj = getObjectMapper();\r\n    objectMapper.registerModule(new DefaultScalaModule());\r\n    obj.enable(SerializationFeature.INDENT_OUTPUT);\r\n    obj.enable(SerializationFeature.WRAP_ROOT_VALUE);\r\n\r\n    String stringLayout = obj\r\n        .writerWithDefaultPrettyPrinter()\r\n        .writeValueAsString(myPOJO);\r\n\r\n  [1]: https://stackoverflow.com/a/76091597/1726546\r\n  [2]: https://github.com/FasterXML/jackson-module-scala/issues/94#issuecomment-934174682","title":"POJO to JSON - writing to string - getting {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false} with Jackson","body":"<p>Inspired by <a href=\"https://stackoverflow.com/a/76091597/1726546\">this</a> answer and <a href=\"https://github.com/FasterXML/jackson-module-scala/issues/94#issuecomment-934174682\" rel=\"nofollow noreferrer\">this</a> link\nI added</p>\n<pre><code>objectMapper.registerModule(new DefaultScalaModule());\n</code></pre>\n<p>And now it works fine and code looks like this:</p>\n<pre><code>MyClass myPOJO = myRepository.getOne(pojoID);\nObjectMapper obj = getObjectMapper();\nobjectMapper.registerModule(new DefaultScalaModule());\nobj.enable(SerializationFeature.INDENT_OUTPUT);\nobj.enable(SerializationFeature.WRAP_ROOT_VALUE);\n\nString stringLayout = obj\n    .writerWithDefaultPrettyPrinter()\n    .writeValueAsString(myPOJO);\n</code></pre>\n"}],"owner":{"account_id":1913341,"reputation":21,"user_id":1726546,"display_name":"Marko D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76093079,"answer_count":2,"score":0,"last_activity_date":1682438403,"creation_date":1682099493,"question_id":76075626,"body_markdown":"I&#39;m having json type in my Postgres DB and getting it as `POJO`.\r\nThen I&#39;m trying to write my `POJO` to `String`.\r\n`POJO` is being populated correctly, but when Jackson writes it to `String`, I get  `{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}` for nested `JSON` whose type in `POJO` is `Object`.\r\n\r\nMy `POJO`:\r\n\r\n```\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class MyClass {\r\n\r\n  private String property1;\r\n  private Double property2;\r\n  private Boolean property3;\r\n  private Object problematicProperty;\r\n\r\n}\r\n```\r\n\r\nJSON I&#39;m retrieving from DB:\r\n\r\n```\r\n{\r\n&quot;property1&quot; : &quot;randomString&quot;,\r\n&quot;property2&quot; : 0.3,\r\n&quot;property3&quot; : false,\r\n&quot;problematicProperty&quot; :  {\r\n                &quot;yearFromDate&quot;: [\r\n                    &quot;dob&quot;,\r\n                    &quot;yyyyMMdd&quot;\r\n                ]\r\n            }\r\n}\r\n```\r\n\r\nMy code:\r\n\r\n```\r\nMyClass myPOJO = myRepository.getOne(pojoID);\r\nObjectMapper obj = getObjectMapper();\r\nobj.enable(SerializationFeature.INDENT_OUTPUT);\r\nobj.enable(SerializationFeature.WRAP_ROOT_VALUE);\r\n\r\nString stringLayout = obj\r\n        .writerWithDefaultPrettyPrinter()\r\n        .writeValueAsString(myPOJO);\r\n```\r\n\r\nWhen I print stringLayout, I get:\r\n\r\n```\r\n{\r\n&quot;property1&quot; : &quot;randomString&quot;,\r\n&quot;property2&quot; : 0.3,\r\n&quot;property3&quot; : false,\r\n&quot;problematicProperty&quot; :  {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}\r\n}\r\n```\r\n\r\ninstead of\r\n\r\n```\r\n{\r\n&quot;property1&quot; : &quot;randomString&quot;,\r\n&quot;property2&quot; : 0.3,\r\n&quot;property3&quot; : false,\r\n&quot;problematicProperty&quot; :  {\r\n                &quot;yearFromDate&quot;: [\r\n                    &quot;dob&quot;,\r\n                    &quot;yyyyMMdd&quot;\r\n                ]\r\n            }\r\n}\r\n```\r\n\r\nI used java.lang.Object type because problematicProperty is &quot;dynamic&quot;, sometimes it will be nested json like above, and sometimes string e.g. like this:\r\n\r\n```\r\n&quot;problematicProperty&quot; :  &quot;randomText&quot;\r\n```\r\n\r\nWhen testing, if I use `com.fasterxml.jackson.databind.node.ObjectNode` type instead of `Object`, string is properly being written. But I can&#39;t use `ObjectNode` with Hibernate.\r\n\r\nWhy is this happening and is there a way to configure `objectMapper` to write `java.lang.Object`(that is actually a nested `JSON`) to `String` properly?","title":"POJO to JSON - writing to string - getting {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false} with Jackson","body":"<p>I'm having json type in my Postgres DB and getting it as <code>POJO</code>.\nThen I'm trying to write my <code>POJO</code> to <code>String</code>.\n<code>POJO</code> is being populated correctly, but when Jackson writes it to <code>String</code>, I get  <code>{&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}</code> for nested <code>JSON</code> whose type in <code>POJO</code> is <code>Object</code>.</p>\n<p>My <code>POJO</code>:</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class MyClass {\n\n  private String property1;\n  private Double property2;\n  private Boolean property3;\n  private Object problematicProperty;\n\n}\n</code></pre>\n<p>JSON I'm retrieving from DB:</p>\n<pre><code>{\n&quot;property1&quot; : &quot;randomString&quot;,\n&quot;property2&quot; : 0.3,\n&quot;property3&quot; : false,\n&quot;problematicProperty&quot; :  {\n                &quot;yearFromDate&quot;: [\n                    &quot;dob&quot;,\n                    &quot;yyyyMMdd&quot;\n                ]\n            }\n}\n</code></pre>\n<p>My code:</p>\n<pre><code>MyClass myPOJO = myRepository.getOne(pojoID);\nObjectMapper obj = getObjectMapper();\nobj.enable(SerializationFeature.INDENT_OUTPUT);\nobj.enable(SerializationFeature.WRAP_ROOT_VALUE);\n\nString stringLayout = obj\n        .writerWithDefaultPrettyPrinter()\n        .writeValueAsString(myPOJO);\n</code></pre>\n<p>When I print stringLayout, I get:</p>\n<pre><code>{\n&quot;property1&quot; : &quot;randomString&quot;,\n&quot;property2&quot; : 0.3,\n&quot;property3&quot; : false,\n&quot;problematicProperty&quot; :  {&quot;traversableAgain&quot; : true, &quot;empty&quot; : false}\n}\n</code></pre>\n<p>instead of</p>\n<pre><code>{\n&quot;property1&quot; : &quot;randomString&quot;,\n&quot;property2&quot; : 0.3,\n&quot;property3&quot; : false,\n&quot;problematicProperty&quot; :  {\n                &quot;yearFromDate&quot;: [\n                    &quot;dob&quot;,\n                    &quot;yyyyMMdd&quot;\n                ]\n            }\n}\n</code></pre>\n<p>I used java.lang.Object type because problematicProperty is &quot;dynamic&quot;, sometimes it will be nested json like above, and sometimes string e.g. like this:</p>\n<pre><code>&quot;problematicProperty&quot; :  &quot;randomText&quot;\n</code></pre>\n<p>When testing, if I use <code>com.fasterxml.jackson.databind.node.ObjectNode</code> type instead of <code>Object</code>, string is properly being written. But I can't use <code>ObjectNode</code> with Hibernate.</p>\n<p>Why is this happening and is there a way to configure <code>objectMapper</code> to write <code>java.lang.Object</code>(that is actually a nested <code>JSON</code>) to <code>String</code> properly?</p>\n"},{"tags":["java","javafx","filter","treeview"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1682378696,"post_id":76095646,"comment_id":134202903,"body_markdown":"What is `FilterableTreeItem`? Is it your own class or is it from a library? Because it&#39;s not in standard JavaFX.","body":"What is <code>FilterableTreeItem</code>? Is it your own class or is it from a library? Because it&#39;s not in standard JavaFX."},{"owner":{"account_id":14329804,"reputation":19,"user_id":10350837,"display_name":"Jose Teixeira"},"score":0,"creation_date":1682428475,"post_id":76095646,"comment_id":134211109,"body_markdown":"Hi, Slaw ! https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/demos/org.eclipse.fx.ui.controls.sample/src/org/eclipse/fx/ui/controls/sample/FilterableTreeItemSample.java","body":"Hi, Slaw ! <a href=\"https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/demos/org.eclipse.fx.ui.controls.sample/src/org/eclipse/fx/ui/controls/sample/FilterableTreeItemSample.java\" rel=\"nofollow noreferrer\">git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/&hellip;</a>"},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1682434658,"post_id":76095646,"comment_id":134213133,"body_markdown":"@JoseTeixeira, I followed the example in the link you posted. Everything works fine and I was able to perform the search. One problem in your code is that you might be initializing the root twice. `root = new FilterableTreeItem(...)`. Also, you didn&#39;t share the path splitter in your code.","body":"@JoseTeixeira, I followed the example in the link you posted. Everything works fine and I was able to perform the search. One problem in your code is that you might be initializing the root twice. <code>root = new FilterableTreeItem(...)</code>. Also, you didn&#39;t share the path splitter in your code."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682483126,"post_id":76095646,"comment_id":134221288,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682438164,"creation_date":1682438164,"answer_id":76103182,"question_id":76095646,"body_markdown":"Search is not performed because you&#39;re creating tree items using `new TreeItem&lt;&gt;(value)`. In order to make the tree filterable from the root down, you should create the children using `new FilterableTreeItem&lt;&gt;(value)`. Note that you have to use `getInternalChildren()` instead of `getChildren()` when adding new items, otherwise an exception will be thrown (`FilterableTreeItem` replaces the implementation of children using reflection to enable filtering. Check the [source code][1]).\r\n\r\nWorking code:\r\n```java\r\nprivate &lt;S,T&gt; TreeView&lt;T&gt; createTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, T rootValue) {\r\n    FilterableTreeItem&lt;T&gt; root = new FilterableTreeItem&lt;&gt;(rootValue);\r\n    populateTree(paths, pathSplitter, root);\r\n    TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\r\n    tree.setShowRoot(false);\r\n    return tree;\r\n}\r\n\r\nprivate &lt;S, T&gt; void populateTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, FilterableTreeItem&lt;T&gt; root) {\r\n    for (S path : paths) {\r\n        FilterableTreeItem&lt;T&gt; current = root ;\r\n        for (T component : pathSplitter.apply(path)) {\r\n            current = getOrCreateChild(current, component);\r\n        }\r\n    }\r\n}\r\n\r\nprivate &lt;T&gt; FilterableTreeItem&lt;T&gt; getOrCreateChild(FilterableTreeItem&lt;T&gt; parent, T value) {\r\n    for (TreeItem&lt;T&gt; child : parent.getInternalChildren()) {\r\n        if (value.equals(child.getValue())) {\r\n            return (FilterableTreeItem&lt;T&gt;) child;\r\n        }\r\n    }\r\n    FilterableTreeItem&lt;T&gt; newChild = new FilterableTreeItem&lt;&gt;(value);\r\n    parent.getInternalChildren().add(newChild);\r\n    return newChild;\r\n}\r\n```\r\n\r\nAssuming that your path splitter splits paths by `.`, here is what a demo filterable tree looks like:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/bundles/runtime/org.eclipse.fx.ui.controls/src/org/eclipse/fx/ui/controls/tree/FilterableTreeItem.java\r\n  [2]: https://i.stack.imgur.com/hntod.gif","title":"Filter TreeView JavaFX FilterableTreeItem List Strings","body":"<p>Search is not performed because you're creating tree items using <code>new TreeItem&lt;&gt;(value)</code>. In order to make the tree filterable from the root down, you should create the children using <code>new FilterableTreeItem&lt;&gt;(value)</code>. Note that you have to use <code>getInternalChildren()</code> instead of <code>getChildren()</code> when adding new items, otherwise an exception will be thrown (<code>FilterableTreeItem</code> replaces the implementation of children using reflection to enable filtering. Check the <a href=\"https://git.eclipse.org/c/efxclipse/org.eclipse.efxclipse.git/tree/bundles/runtime/org.eclipse.fx.ui.controls/src/org/eclipse/fx/ui/controls/tree/FilterableTreeItem.java\" rel=\"nofollow noreferrer\">source code</a>).</p>\n<p>Working code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;S,T&gt; TreeView&lt;T&gt; createTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, T rootValue) {\n    FilterableTreeItem&lt;T&gt; root = new FilterableTreeItem&lt;&gt;(rootValue);\n    populateTree(paths, pathSplitter, root);\n    TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\n    tree.setShowRoot(false);\n    return tree;\n}\n\nprivate &lt;S, T&gt; void populateTree(List&lt;S&gt; paths, Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, FilterableTreeItem&lt;T&gt; root) {\n    for (S path : paths) {\n        FilterableTreeItem&lt;T&gt; current = root ;\n        for (T component : pathSplitter.apply(path)) {\n            current = getOrCreateChild(current, component);\n        }\n    }\n}\n\nprivate &lt;T&gt; FilterableTreeItem&lt;T&gt; getOrCreateChild(FilterableTreeItem&lt;T&gt; parent, T value) {\n    for (TreeItem&lt;T&gt; child : parent.getInternalChildren()) {\n        if (value.equals(child.getValue())) {\n            return (FilterableTreeItem&lt;T&gt;) child;\n        }\n    }\n    FilterableTreeItem&lt;T&gt; newChild = new FilterableTreeItem&lt;&gt;(value);\n    parent.getInternalChildren().add(newChild);\n    return newChild;\n}\n</code></pre>\n<p>Assuming that your path splitter splits paths by <code>.</code>, here is what a demo filterable tree looks like:\n<a href=\"https://i.stack.imgur.com/hntod.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hntod.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14329804,"reputation":19,"user_id":10350837,"display_name":"Jose Teixeira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682438396,"creation_date":1682366372,"question_id":76095646,"body_markdown":"I tried to use the following code ( example )\r\n\r\nI&#39;m using `FilterableTreeItem` class to filter\r\n\r\n```java\r\npublic class TreeFromPaths extends Application {\r\n\r\n    private final List&lt;String&gt; paths = Arrays.asList(\r\n        //&quot;input1&quot;,\r\n        &quot;Registrations.People&quot;,\r\n        &quot;Querys.sub2&quot;,\r\n        &quot;Reports.sub2.subsub1&quot;,\r\n        &quot;Miscellaneous.sub3&quot;,\r\n        &quot;input3&quot;,\r\n        &quot;input3.sub1&quot;,\r\n        &quot;input3.sub1.subsub1&quot;,\r\n        &quot;input3.sub1.subsub1.subsubsub1&quot;,\r\n        &quot;input3.sub2&quot;\r\n    );\r\n\r\n    private &lt;S,T&gt; TreeView&lt;T&gt; createTree(\r\n            List&lt;S&gt; paths, \r\n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \r\n            T rootValue) {\r\n\r\n        TreeItem&lt;T&gt; root = new TreeItem&lt;&gt;(rootValue);\r\n        populateTree(paths, pathSplitter, root);\r\n        TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\r\n        tree.setShowRoot(false);\r\n        return tree;\r\n    }\r\n\r\n    private &lt;S,T&gt; void populateTree(\r\n            List&lt;S&gt; paths, \r\n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \r\n            TreeItem&lt;T&gt; root) {\r\n\r\n        for (S path : paths) {\r\n            TreeItem&lt;T&gt; current = root ;\r\n            for (T component : pathSplitter.apply(path)) {\r\n                current = getOrCreateChild(current, component);\r\n            }\r\n        }\r\n    }\r\n\r\n    private &lt;T&gt; TreeItem&lt;T&gt; getOrCreateChild(TreeItem&lt;T&gt; parent, T value) {\r\n        for (TreeItem&lt;T&gt; child : parent.getChildren()) {\r\n            if (value.equals(child.getValue())) {\r\n                return child ;\r\n            }\r\n        }\r\n        TreeItem&lt;T&gt; newChild = new TreeItem&lt;&gt;(value);\r\n        parent.getChildren().add(newChild);\r\n        return newChild ;\r\n    }\r\n\r\n   ...\r\n}\r\n```\r\n\r\nTextField filter to scroll through the filter\r\n\r\n```java\r\nFilterableTreeItem&lt;String&gt; root = new FilterableTreeItem&lt;&gt;(new String(&quot;root&quot;));\r\npaths.forEach(actor -&gt; root.getInternalChildren().add(new FilterableTreeItem&lt;&gt;(actor)));\r\n  \r\nroot.predicateProperty().bind(Bindings.createObjectBinding(() -&gt; {\r\n    if (filterField.getText() == null || filterField.getText().isEmpty())\r\n        return null;\r\n    return TreeItemPredicate.create(actor -&gt; actor.toString().contains(filterField.getText()));\r\n}, filterField.textProperty()));\r\n```\r\n\r\nit can find it but without updating the treeview.\r\n\r\nThe strange thing is that if you use a Bean, the filter will run. How can I solve this problem?\r\n\r\n ","title":"Filter TreeView JavaFX FilterableTreeItem List Strings","body":"<p>I tried to use the following code ( example )</p>\n<p>I'm using <code>FilterableTreeItem</code> class to filter</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TreeFromPaths extends Application {\n\n    private final List&lt;String&gt; paths = Arrays.asList(\n        //&quot;input1&quot;,\n        &quot;Registrations.People&quot;,\n        &quot;Querys.sub2&quot;,\n        &quot;Reports.sub2.subsub1&quot;,\n        &quot;Miscellaneous.sub3&quot;,\n        &quot;input3&quot;,\n        &quot;input3.sub1&quot;,\n        &quot;input3.sub1.subsub1&quot;,\n        &quot;input3.sub1.subsub1.subsubsub1&quot;,\n        &quot;input3.sub2&quot;\n    );\n\n    private &lt;S,T&gt; TreeView&lt;T&gt; createTree(\n            List&lt;S&gt; paths, \n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \n            T rootValue) {\n\n        TreeItem&lt;T&gt; root = new TreeItem&lt;&gt;(rootValue);\n        populateTree(paths, pathSplitter, root);\n        TreeView&lt;T&gt; tree = new TreeView&lt;&gt;(root);\n        tree.setShowRoot(false);\n        return tree;\n    }\n\n    private &lt;S,T&gt; void populateTree(\n            List&lt;S&gt; paths, \n            Function&lt;S, ? extends Iterable&lt;T&gt;&gt; pathSplitter, \n            TreeItem&lt;T&gt; root) {\n\n        for (S path : paths) {\n            TreeItem&lt;T&gt; current = root ;\n            for (T component : pathSplitter.apply(path)) {\n                current = getOrCreateChild(current, component);\n            }\n        }\n    }\n\n    private &lt;T&gt; TreeItem&lt;T&gt; getOrCreateChild(TreeItem&lt;T&gt; parent, T value) {\n        for (TreeItem&lt;T&gt; child : parent.getChildren()) {\n            if (value.equals(child.getValue())) {\n                return child ;\n            }\n        }\n        TreeItem&lt;T&gt; newChild = new TreeItem&lt;&gt;(value);\n        parent.getChildren().add(newChild);\n        return newChild ;\n    }\n\n   ...\n}\n</code></pre>\n<p>TextField filter to scroll through the filter</p>\n<pre class=\"lang-java prettyprint-override\"><code>FilterableTreeItem&lt;String&gt; root = new FilterableTreeItem&lt;&gt;(new String(&quot;root&quot;));\npaths.forEach(actor -&gt; root.getInternalChildren().add(new FilterableTreeItem&lt;&gt;(actor)));\n  \nroot.predicateProperty().bind(Bindings.createObjectBinding(() -&gt; {\n    if (filterField.getText() == null || filterField.getText().isEmpty())\n        return null;\n    return TreeItemPredicate.create(actor -&gt; actor.toString().contains(filterField.getText()));\n}, filterField.textProperty()));\n</code></pre>\n<p>it can find it but without updating the treeview.</p>\n<p>The strange thing is that if you use a Bean, the filter will run. How can I solve this problem?</p>\n"},{"tags":["java","javafx","path","jar"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1682437260,"post_id":76102752,"comment_id":134213919,"body_markdown":"there is no way around _learning_ how to lookup resources (vs. random experimenting :) see f.i. the duplicate which explains in detail what/how to do it.","body":"there is no way around <i>learning</i> how to lookup resources (vs. random experimenting :) see f.i. the duplicate which explains in detail what/how to do it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682438435,"post_id":76102752,"comment_id":134214268,"body_markdown":"That code cannot possibly produce that exception, unless I am missing something;","body":"That code cannot possibly produce that exception, unless I am missing something;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682441318,"post_id":76102752,"comment_id":134215081,"body_markdown":"Did you actually check to see if the image is in the jar file?","body":"Did you actually check to see if the image is in the jar file?"}],"owner":{"account_id":25275477,"reputation":1,"user_id":19104188,"display_name":"Trupka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682437019,"answer_count":0,"score":0,"last_activity_date":1682438270,"creation_date":1682435354,"question_id":76102752,"body_markdown":"I have my JavaFX app.\r\n\r\nI&#39;m trying to display some images on Scene it looks like this:\r\n\r\n```java\r\n    private ImageView createChampionImageView(Champion champion)\r\n    {\r\n        ImageView imageView = new ImageView(&quot;/images/champions/&quot; + champion.getName().toLowerCase().replaceAll(&quot;[. ]&quot;, &quot;&quot;) + &quot;.png&quot;);\r\n        imageView.setFitHeight(60);\r\n        imageView.setFitWidth(60);\r\n        RoundCorners.setRoundedCornerImageView(imageView);\r\n        return imageView;\r\n    }\r\n```\r\nMy error looks like this and it only happens to JAR file, if i run the program in IntelliJ everything is fine:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:138)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:91)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:75)\r\n\tat me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\nI&#39;m calling this method (createChampionImageView()) in this method:\r\n\r\n```java\r\npublic void fillChampionsPane()\r\n    {\r\n        if (championsPageParser.champions() == null)\r\n            return;\r\n        ArrayList&lt;Champion&gt; champions = championsPageParser.champions();\r\n        for (Champion champion : champions)\r\n        {\r\n// This addToTilePane calls the createChampionImageView\r\n            addToTilePane(champion);\r\n        }\r\n    }\r\n```\r\nAnd this method above is called from here (it is called from a different controller):\r\n\r\n```java\r\n@FXML\r\n    private void setChampionsParserUGG()\r\n    {\r\n        JavaLeagueBuilds.chosenPage = U_GG;\r\n        JavaLeagueBuilds.getInstance().switchToLoading();\r\n        CompletableFuture.runAsync(() -&gt; ChampionsScene.getInstance().setChampionsPageParser(new HtmlChampionsUGGParser()))\r\n                .thenRun(() -&gt; Platform.runLater(() -&gt; {\r\n                    ChampionsScene.getInstance().fillChampionsPane();\r\n                    JavaLeagueBuilds.getInstance().switchToChampions();\r\n                }));\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI tried using getClass().getResource() and getResourceAsStream() but it seems nothing has worked.\r\n\r\nEDIT: So I tried the getResource() again following the guide, but when I run my program as JAR i get this:\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:141)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:94)\r\n\tat me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:78)\r\n\tat me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nWhat is very strange that the app icon is loaded normaly and works but other images dont.\r\n\r\n[Here](https://github.com/Trup10ka/JLB-JavaLeagueBuilds) is my github repository if you need to check anything else","title":"When running executable JAR, JAR cannot find my images","body":"<p>I have my JavaFX app.</p>\n<p>I'm trying to display some images on Scene it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private ImageView createChampionImageView(Champion champion)\n    {\n        ImageView imageView = new ImageView(&quot;/images/champions/&quot; + champion.getName().toLowerCase().replaceAll(&quot;[. ]&quot;, &quot;&quot;) + &quot;.png&quot;);\n        imageView.setFitHeight(60);\n        imageView.setFitWidth(60);\n        RoundCorners.setRoundedCornerImageView(imageView);\n        return imageView;\n    }\n</code></pre>\n<p>My error looks like this and it only happens to JAR file, if i run the program in IntelliJ everything is fine:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n    at me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:138)\n    at me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:91)\n    at me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:75)\n    at me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>I'm calling this method (createChampionImageView()) in this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void fillChampionsPane()\n    {\n        if (championsPageParser.champions() == null)\n            return;\n        ArrayList&lt;Champion&gt; champions = championsPageParser.champions();\n        for (Champion champion : champions)\n        {\n// This addToTilePane calls the createChampionImageView\n            addToTilePane(champion);\n        }\n    }\n</code></pre>\n<p>And this method above is called from here (it is called from a different controller):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\n    private void setChampionsParserUGG()\n    {\n        JavaLeagueBuilds.chosenPage = U_GG;\n        JavaLeagueBuilds.getInstance().switchToLoading();\n        CompletableFuture.runAsync(() -&gt; ChampionsScene.getInstance().setChampionsPageParser(new HtmlChampionsUGGParser()))\n                .thenRun(() -&gt; Platform.runLater(() -&gt; {\n                    ChampionsScene.getInstance().fillChampionsPane();\n                    JavaLeagueBuilds.getInstance().switchToChampions();\n                }));\n    }\n</code></pre>\n<p>I tried using getClass().getResource() and getResourceAsStream() but it seems nothing has worked.</p>\n<p>EDIT: So I tried the getResource() again following the guide, but when I run my program as JAR i get this:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n    at me.trup10ka.jlb.controllers.ChampionsScene.createChampionImageView(ChampionsScene.java:141)\n    at me.trup10ka.jlb.controllers.ChampionsScene.addToTilePane(ChampionsScene.java:94)\n    at me.trup10ka.jlb.controllers.ChampionsScene.fillChampionsPane(ChampionsScene.java:78)\n    at me.trup10ka.jlb.controllers.MainScene.lambda$setChampionsParserUGG$3(MainScene.java:48)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>What is very strange that the app icon is loaded normaly and works but other images dont.</p>\n<p><a href=\"https://github.com/Trup10ka/JLB-JavaLeagueBuilds\" rel=\"nofollow noreferrer\">Here</a> is my github repository if you need to check anything else</p>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682110221,"post_id":76076613,"comment_id":134169696,"body_markdown":"Details: Does the text field use word wrap? Are you interested in the line as measured by hard line-breaks or by hard *and soft* breaks (a la word wrap)? Note that it is usually best to ask a question *after* you have done significant research and have tried something.","body":"Details: Does the text field use word wrap? Are you interested in the line as measured by hard line-breaks or by hard <i>and soft</i> breaks (a la word wrap)? Note that it is usually best to ask a question <i>after</i> you have done significant research and have tried something."},{"owner":{"account_id":28279766,"reputation":1,"user_id":21621621,"display_name":"AtlasRR"},"score":0,"creation_date":1682110475,"post_id":76076613,"comment_id":134169741,"body_markdown":"No, it doesn&#39;t use word wrap, I am interested on hard-line breaks","body":"No, it doesn&#39;t use word wrap, I am interested on hard-line breaks"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682110542,"post_id":76076613,"comment_id":134169759,"body_markdown":"I have my doubts about it, because the line number could differ based on the so many different variables","body":"I have my doubts about it, because the line number could differ based on the so many different variables"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1682110606,"post_id":76076613,"comment_id":134169773,"body_markdown":"*&quot;I am interested on hard-line breaks&quot;* - then discard the text area and search the text itself, maybe breaking the text down into an array/list of lines","body":"<i>&quot;I am interested on hard-line breaks&quot;</i> - then discard the text area and search the text itself, maybe breaking the text down into an array/list of lines"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682110845,"post_id":76076613,"comment_id":134169803,"body_markdown":"Rob Camick (site user camickr) has or had some text utilities that might be of use in adding line numbers to text areas, but I can&#39;t find the link","body":"Rob Camick (site user camickr) has or had some text utilities that might be of use in adding line numbers to text areas, but I can&#39;t find the link"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1682112802,"post_id":76076613,"comment_id":134170083,"body_markdown":"if you use the getLineOfOffset() method you should use the &quot;Documents&quot; getText() method since it will only contain a &quot;\\n&quot; for each line so the offset will be returned correctly. If you use the getText() method of the text area the String may contain &quot;\\r\\n&quot; which could result in an incorrect offset for the string location.","body":"if you use the getLineOfOffset() method you should use the &quot;Documents&quot; getText() method since it will only contain a &quot;\\n&quot; for each line so the offset will be returned correctly. If you use the getText() method of the text area the String may contain &quot;\\r\\n&quot; which could result in an incorrect offset for the string location."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1682112997,"post_id":76076613,"comment_id":134170107,"body_markdown":"You could also try looking at [Text Utilities](https://tips4java.wordpress.com/2008/10/26/text-utilities/). You can&#39;t use any of the methods directly, but the code in the methods may help you iterate through each Element (line of text) in the Document to search for the word in question.","body":"You could also try looking at <a href=\"https://tips4java.wordpress.com/2008/10/26/text-utilities/\" rel=\"nofollow noreferrer\">Text Utilities</a>. You can&#39;t use any of the methods directly, but the code in the methods may help you iterate through each Element (line of text) in the Document to search for the word in question."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1682130107,"post_id":76076613,"comment_id":134171581,"body_markdown":"@user16320675, Oops, I made a wrong statement. If you start with an empty JTextArea or JTextPane and just type text, then the getText() method with only return a &quot;\\n&quot;. However, if you use the `read(...)` method to read a file into a JTextArea or JTextPane the text area works the same however the JTextPane.getText() will return the &quot;\\r\\n&quot; on Windows. I made an unnecessary comment since might only be an issue with a JTextPane and reading from a file.","body":"@user16320675, Oops, I made a wrong statement. If you start with an empty JTextArea or JTextPane and just type text, then the getText() method with only return a &quot;\\n&quot;. However, if you use the <code>read(...)</code> method to read a file into a JTextArea or JTextPane the text area works the same however the JTextPane.getText() will return the &quot;\\r\\n&quot; on Windows. I made an unnecessary comment since might only be an issue with a JTextPane and reading from a file."},{"owner":{"account_id":28279766,"reputation":1,"user_id":21621621,"display_name":"AtlasRR"},"score":0,"creation_date":1682178524,"post_id":76076613,"comment_id":134176039,"body_markdown":"Thanks to all people with comments, I&#39;ll upload the solution on how I did it as soon as I can.","body":"Thanks to all people with comments, I&#39;ll upload the solution on how I did it as soon as I can."}],"answers":[{"tags":[],"owner":{"account_id":24195440,"reputation":3,"user_id":18154064,"display_name":"XYink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682438265,"creation_date":1682438265,"answer_id":76103200,"question_id":76076613,"body_markdown":"To do that, you will need to get the text of the JTextArea. Here, I will put it as an array where each line in the array is a line in the JTextArea. I found this code from [this guy on stackoverflow][1].\r\n\r\n    String lines[] = jTextArea1.getText().split(&quot;\\\\r?\\\\n&quot;);\r\n\r\n*This uses [regexes][2], kinda hard to explain so there’s the documentation for you.*\r\n\r\nAfterwards, you can [loop through the lines of the array][3] and look for x word. To find x word in a string, you can use [`String.contains(String);`][4]\r\n\r\n    for (int i = 0; i &lt; lines.length; i++) {\r\n        if(lines[i].contains(x);\r\n            System.out.println(i);\r\n    }\r\n\r\nHere, the line where the word is located is `i`.\r\n\r\nThere is a problem though. There could be multiple of the same word. There are multiple ways to *fix* this: keep the last one; keep the first one; keep of them; and many others. \r\n\r\nTo keep the last one, you could assign a variable to the value of `i`. As that variable’s would get changed each time that word comes up, the last time the word would appear would be the value of that variable. \r\n\r\n    for (int i = 0; i &lt; lines.length; i++) {\r\n        if(lines[i].contains(x))\r\n            myVar = i;\r\n    }\r\n\r\nTo keep the first one, you can create a boolean variable that is first assigned to true and when you find the word in the string, simply put it to false. Add an if statement and yeah, should work.\r\n\r\n\r\n    boolean xShowedUp = false;\r\n    for (int i = 0; i &lt; lines.length; i++) {\r\n        if(lines[i].contains(x) &amp;&amp; !xShowedUp)\r\n        {\r\n            myVar = i;\r\n            xShowedUp = true;\r\n        }\r\n    }\r\n\r\nTo keep all of them, you can make an array and add the value of `i` to the array when you find the word in the string.\r\n\r\nIf you would like to learn more about the the JTextArea, you can look [here][6]!\r\n\r\n*This is one of my first answer, please forgive me for any misspellings of any errors in my explaining. Thanks!*\r\n\r\n  [1]: https://stackoverflow.com/a/20432540/18154064\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/regex/\r\n  [3]: https://www.w3schools.com/java/java_arrays_loop.asp\r\n  [4]: https://www.w3schools.com/java/ref_string_contains.asp\r\n  [5]: https://www.javatpoint.com/understanding-toString()-method\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#:~:text=A%20JTextArea%20is%20a%20multi,it%20can%20reasonably%20do%20so.","title":"How can I get the line where a specific word is written on a JTextArea in Java?","body":"<p>To do that, you will need to get the text of the JTextArea. Here, I will put it as an array where each line in the array is a line in the JTextArea. I found this code from <a href=\"https://stackoverflow.com/a/20432540/18154064\">this guy on stackoverflow</a>.</p>\n<pre><code>String lines[] = jTextArea1.getText().split(&quot;\\\\r?\\\\n&quot;);\n</code></pre>\n<p><em>This uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regexes</a>, kinda hard to explain so there’s the documentation for you.</em></p>\n<p>Afterwards, you can <a href=\"https://www.w3schools.com/java/java_arrays_loop.asp\" rel=\"nofollow noreferrer\">loop through the lines of the array</a> and look for x word. To find x word in a string, you can use <a href=\"https://www.w3schools.com/java/ref_string_contains.asp\" rel=\"nofollow noreferrer\"><code>String.contains(String);</code></a></p>\n<pre><code>for (int i = 0; i &lt; lines.length; i++) {\n    if(lines[i].contains(x);\n        System.out.println(i);\n}\n</code></pre>\n<p>Here, the line where the word is located is <code>i</code>.</p>\n<p>There is a problem though. There could be multiple of the same word. There are multiple ways to <em>fix</em> this: keep the last one; keep the first one; keep of them; and many others.</p>\n<p>To keep the last one, you could assign a variable to the value of <code>i</code>. As that variable’s would get changed each time that word comes up, the last time the word would appear would be the value of that variable.</p>\n<pre><code>for (int i = 0; i &lt; lines.length; i++) {\n    if(lines[i].contains(x))\n        myVar = i;\n}\n</code></pre>\n<p>To keep the first one, you can create a boolean variable that is first assigned to true and when you find the word in the string, simply put it to false. Add an if statement and yeah, should work.</p>\n<pre><code>boolean xShowedUp = false;\nfor (int i = 0; i &lt; lines.length; i++) {\n    if(lines[i].contains(x) &amp;&amp; !xShowedUp)\n    {\n        myVar = i;\n        xShowedUp = true;\n    }\n}\n</code></pre>\n<p>To keep all of them, you can make an array and add the value of <code>i</code> to the array when you find the word in the string.</p>\n<p>If you would like to learn more about the the JTextArea, you can look <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#:%7E:text=A%20JTextArea%20is%20a%20multi,it%20can%20reasonably%20do%20so.\" rel=\"nofollow noreferrer\">here</a>!</p>\n<p><em>This is one of my first answer, please forgive me for any misspellings of any errors in my explaining. Thanks!</em></p>\n"}],"owner":{"account_id":28279766,"reputation":1,"user_id":21621621,"display_name":"AtlasRR"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682438265,"creation_date":1682110113,"question_id":76076613,"body_markdown":"I&#39;m trying to iterate through a JTextArea and get the line where a specific word is written so I can insert the line number into a table or an array but I don&#39;t have a clear idea on how to address it.\r\n\r\nI haven&#39;t tried too much until now for the same reason that I don&#39;t have the idea of how to do it.  ","title":"How can I get the line where a specific word is written on a JTextArea in Java?","body":"<p>I'm trying to iterate through a JTextArea and get the line where a specific word is written so I can insert the line number into a table or an array but I don't have a clear idea on how to address it.</p>\n<p>I haven't tried too much until now for the same reason that I don't have the idea of how to do it.</p>\n"},{"tags":["java","instantiation"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1251697412,"post_id":1355810,"comment_id":1192759,"body_markdown":"Instance initialisers are quite rare (unless you bump into code from someone keen on the double brace idiom).","body":"Instance initialisers are quite rare (unless you bump into code from someone keen on the double brace idiom)."},{"owner":{"account_id":1492142,"reputation":772,"user_id":1399001,"display_name":"lboullo0"},"score":1,"creation_date":1671195847,"post_id":1355810,"comment_id":132052440,"body_markdown":"The kind of code you only find in interviews for a job","body":"The kind of code you only find in interviews for a job"}],"answers":[{"tags":[],"owner":{"account_id":27644,"reputation":8450,"user_id":73148,"accept_rate":80,"display_name":"Rahul Garg"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1251694086,"creation_date":1251694086,"answer_id":1355834,"question_id":1355810,"body_markdown":"When you have many constructors and want some common code to be executed for each constructor you can use instance initializer.As it is called for all constructors.","title":"How is an instance initializer different from a constructor?","body":"<p>When you have many constructors and want some common code to be executed for each constructor you can use instance initializer.As it is called for all constructors.</p>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1682438091,"creation_date":1251694183,"answer_id":1355839,"question_id":1355810,"body_markdown":"In terms of object lifecycle, there is no difference. Both are invoked at construction time, and logically the initializer block can be considered part of construction.\r\n\r\nSemantically, an initializer is a nice tool to have for several reasons:\r\n\r\nthe initializer can improve code readability by keeping the initialization logic next to the variable being initialized:\r\n   \r\n       public class Universe {\r\n           public int theAnswer;\r\n           {\r\n             int SIX = 6;\r\n             int NINE = 7;\r\n             theAnswer = SIX * NINE;\r\n           }\r\n\r\n           // a bunch of other vars\r\n       }\r\n   \r\n   vs\r\n   \r\n       public class Universe {\r\n           public int theAnswer;\r\n\r\n           // a bunch of other vars\r\n\r\n           public Universe() {\r\n             int SIX = 6;\r\n             int NINE = 7;\r\n             theAnswer = SIX * NINE;\r\n\r\n             // other constructor logic\r\n           }\r\n       }\r\n   \r\n   Initializers are invoked regardless\r\n   of which constructor is used.\r\n   \r\n   Initializers can be used in anonymous\r\n   inner classes, where constructors\r\n   can&#39;t.\r\n\r\n","title":"How is an instance initializer different from a constructor?","body":"<p>In terms of object lifecycle, there is no difference. Both are invoked at construction time, and logically the initializer block can be considered part of construction.</p>\n<p>Semantically, an initializer is a nice tool to have for several reasons:</p>\n<p>the initializer can improve code readability by keeping the initialization logic next to the variable being initialized:</p>\n<pre><code>   public class Universe {\n       public int theAnswer;\n       {\n         int SIX = 6;\n         int NINE = 7;\n         theAnswer = SIX * NINE;\n       }\n\n       // a bunch of other vars\n   }\n</code></pre>\n<p>vs</p>\n<pre><code>   public class Universe {\n       public int theAnswer;\n\n       // a bunch of other vars\n\n       public Universe() {\n         int SIX = 6;\n         int NINE = 7;\n         theAnswer = SIX * NINE;\n\n         // other constructor logic\n       }\n   }\n</code></pre>\n<p>Initializers are invoked regardless\nof which constructor is used.</p>\n<p>Initializers can be used in anonymous\ninner classes, where constructors\ncan't.</p>\n"},{"tags":[],"owner":{"account_id":13696,"reputation":17521,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1411840524,"creation_date":1251694256,"answer_id":1355843,"question_id":1355810,"body_markdown":"This seems to explain it well:\r\n\r\n&gt; Instance initializers are a useful alternative to instance variable\r\n&gt; initializers whenever: \r\n&gt; \r\n&gt; + initializer code must catch exceptions, or \r\n&gt; \r\n&gt; + perform fancy calculations that can&#39;t be expressed with an instance variable initializer. *You could, of course, always write such code in\r\n&gt; constructors.* \r\n&gt; \r\n&gt; **But in a class that had multiple constructors, you would have to repeat the code in each constructor. With an instance initializer, you\r\n&gt; can just write the code once, and it will be executed no matter what\r\n&gt; constructor is used to create the object. Instance initializers are\r\n&gt; also useful in anonymous inner classes, which can&#39;t declare any\r\n&gt; constructors at all.**\r\n\r\nFrom: JavaWorld [Object initialization in Java][1].\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-03-1998/jw-03-initialization.html?page=4","title":"How is an instance initializer different from a constructor?","body":"<p>This seems to explain it well:</p>\n\n<blockquote>\n  <p>Instance initializers are a useful alternative to instance variable\n  initializers whenever: </p>\n  \n  <ul>\n  <li><p>initializer code must catch exceptions, or </p></li>\n  <li><p>perform fancy calculations that can't be expressed with an instance variable initializer. <em>You could, of course, always write such code in\n  constructors.</em> </p></li>\n  </ul>\n  \n  <p><strong>But in a class that had multiple constructors, you would have to repeat the code in each constructor. With an instance initializer, you\n  can just write the code once, and it will be executed no matter what\n  constructor is used to create the object. Instance initializers are\n  also useful in anonymous inner classes, which can't declare any\n  constructors at all.</strong></p>\n</blockquote>\n\n<p>From: JavaWorld <a href=\"http://www.javaworld.com/javaworld/jw-03-1998/jw-03-initialization.html?page=4\" rel=\"noreferrer\">Object initialization in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1251726412,"creation_date":1251726412,"answer_id":1357545,"question_id":1355810,"body_markdown":"I would avoid the instance initializer idiom in general - the only real advantage it gives over variable initializers is exception handling.  \r\n\r\nAnd since an init method (callable from constructor) can also do exception handling and also centralizes constructor setup code, but has the advantage that it can operate on constructor parameter values, I&#39;d say that the instance initializer is redundant, and therefore to be avoided.  ","title":"How is an instance initializer different from a constructor?","body":"<p>I would avoid the instance initializer idiom in general - the only real advantage it gives over variable initializers is exception handling.  </p>\n\n<p>And since an init method (callable from constructor) can also do exception handling and also centralizes constructor setup code, but has the advantage that it can operate on constructor parameter values, I'd say that the instance initializer is redundant, and therefore to be avoided.  </p>\n"},{"tags":[],"owner":{"account_id":6581989,"reputation":101,"user_id":5086005,"accept_rate":0,"display_name":"dnyanesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445148433,"creation_date":1445147317,"answer_id":33194764,"question_id":1355810,"body_markdown":"Initializer is way to share code between constructors and it make code more readable if initializer is used with variable declaration.\r\n\r\nThe Java compiler copies initializer blocks into every constructor. Therefore, this approach can be used to share a block of code between multiple constructors.\r\n[Oracle documentation][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html","title":"How is an instance initializer different from a constructor?","body":"<p>Initializer is way to share code between constructors and it make code more readable if initializer is used with variable declaration.</p>\n\n<p>The Java compiler copies initializer blocks into every constructor. Therefore, this approach can be used to share a block of code between multiple constructors.\n<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow\">Oracle documentation</a></p>\n"},{"tags":[],"owner":{"account_id":5256683,"reputation":1188,"user_id":4199385,"display_name":"padippist"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536698445,"creation_date":1465471115,"answer_id":37724496,"question_id":1355810,"body_markdown":"The **real advantage of instance initializers over constructors is seen when we use an anonymous inner class**.\r\n\r\n**Anonymous inner classes can&#39;t have a constructor** (as they&#39;re anonymous)**,** **so** they&#39;re a pretty natural fit for **instance initializers**.","title":"How is an instance initializer different from a constructor?","body":"<p>The <strong>real advantage of instance initializers over constructors is seen when we use an anonymous inner class</strong>.</p>\n\n<p><strong>Anonymous inner classes can't have a constructor</strong> (as they're anonymous)<strong>,</strong> <strong>so</strong> they're a pretty natural fit for <strong>instance initializers</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6179671,"reputation":462,"user_id":4815580,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574171747,"creation_date":1574171747,"answer_id":58935701,"question_id":1355810,"body_markdown":"At the time of object creation, if we want to perform initialise of instance variables, then we should go for Constructor, other than initialisation activity if we want to perform any activity at the time of object creation then we should go for instance block.\r\n\r\nWe can&#39;t replace constructor with instance block because constructor can take argument but instance block can&#39;t take arguments.\r\n\r\nWe can&#39;t replace instance block wih constructor because a class can contain more than one constructor. If we want to replace instance block with constructor then in every constructor we have to write instance block code because at runtime which constructor will be called we can&#39;t expect, this will unnecesarily increase duplicate code.\r\n\r\n**Example :** \r\n\r\n    class MyClass{\r\n\r\n\t    static int object_count = 0;\r\n\t\r\n\t    MyClass(){\r\n\t\t    object_count++;\r\n\t    }\r\n\t\r\n\t    MyClass(int i){\r\n\t\t\r\n\t\t    object_count++;\r\n\t    }\r\n\t\r\n        void getCount() {\r\n\t\t\r\n\t\t    System.out.println(object_count);\r\n\t    }\r\n\r\n\t    public static void main(String... args) {\r\n\t\t    MyClass one = new MyClass();\r\n\t\t    MyClass two = new MyClass(2);\r\n            two.getCount();\r\n\t    }\r\n    }\r\n\r\n**Output :** `2`\r\n\r\n    class MyClass{\r\n\r\n\t    static int object_count = 0;\r\n\t\r\n        {\r\n            object_count++;\r\n        }\r\n\t    \r\n        MyClass(){\r\n\t\t    \r\n\t    }\r\n\t\r\n\t    MyClass(int i){\t\t\r\n\t\t    \r\n\t    }\r\n\t\r\n        void getCount() {\r\n\t\t\r\n\t\t    System.out.println(object_count);\r\n\t    }\r\n\r\n\t    public static void main(String... args) {\r\n\t\t    MyClass one = new MyClass();\r\n\t\t    MyClass two = new MyClass(2);\r\n            two.getCount();\r\n\t    }\r\n    }\r\n\r\n**Output :** `2`","title":"How is an instance initializer different from a constructor?","body":"<p>At the time of object creation, if we want to perform initialise of instance variables, then we should go for Constructor, other than initialisation activity if we want to perform any activity at the time of object creation then we should go for instance block.</p>\n\n<p>We can't replace constructor with instance block because constructor can take argument but instance block can't take arguments.</p>\n\n<p>We can't replace instance block wih constructor because a class can contain more than one constructor. If we want to replace instance block with constructor then in every constructor we have to write instance block code because at runtime which constructor will be called we can't expect, this will unnecesarily increase duplicate code.</p>\n\n<p><strong>Example :</strong> </p>\n\n<pre><code>class MyClass{\n\n    static int object_count = 0;\n\n    MyClass(){\n        object_count++;\n    }\n\n    MyClass(int i){\n\n        object_count++;\n    }\n\n    void getCount() {\n\n        System.out.println(object_count);\n    }\n\n    public static void main(String... args) {\n        MyClass one = new MyClass();\n        MyClass two = new MyClass(2);\n        two.getCount();\n    }\n}\n</code></pre>\n\n<p><strong>Output :</strong> <code>2</code></p>\n\n<pre><code>class MyClass{\n\n    static int object_count = 0;\n\n    {\n        object_count++;\n    }\n\n    MyClass(){\n\n    }\n\n    MyClass(int i){     \n\n    }\n\n    void getCount() {\n\n        System.out.println(object_count);\n    }\n\n    public static void main(String... args) {\n        MyClass one = new MyClass();\n        MyClass two = new MyClass(2);\n        two.getCount();\n    }\n}\n</code></pre>\n\n<p><strong>Output :</strong> <code>2</code></p>\n"}],"owner":{"account_id":54143,"reputation":7398,"user_id":161967,"accept_rate":53,"display_name":"Ajay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25437,"favorite_count":0,"down_vote_count":1,"up_vote_count":88,"accepted_answer_id":1355843,"answer_count":7,"score":87,"last_activity_date":1682438091,"creation_date":1251693591,"question_id":1355810,"body_markdown":"In other words, why would you need an instance initializer? What difference or advantage do you have in writing a instance initializer over a constructor?","title":"How is an instance initializer different from a constructor?","body":"<p>In other words, why would you need an instance initializer? What difference or advantage do you have in writing a instance initializer over a constructor?</p>\n"},{"tags":["java","spring","timeout","webclient"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682439759,"post_id":76103133,"comment_id":134214623,"body_markdown":"“WebClient seems to convert these to an HTTP status” - typically which http status do you receive in a response when the connection is interrupted?","body":"“WebClient seems to convert these to an HTTP status” - typically which http status do you receive in a response when the connection is interrupted?"},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":0,"creation_date":1682441785,"post_id":76103133,"comment_id":134215186,"body_markdown":"I&#39;m getting 404.","body":"I&#39;m getting 404."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682442751,"post_id":76103133,"comment_id":134215389,"body_markdown":"A 404 is definitely not a connection issue. The request has made its way to the server. The server does not have code to service the path called so responds with a 404 (not_found).","body":"A 404 is definitely not a connection issue. The request has made its way to the server. The server does not have code to service the path called so responds with a 404 (not_found)."},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":0,"creation_date":1682450912,"post_id":76103133,"comment_id":134217103,"body_markdown":"Agreed but I&#39;ve made sure the server isn&#39;t listening and I still get 404. I&#39;m wondering if it&#39;s a limitation of WebClient?","body":"Agreed but I&#39;ve made sure the server isn&#39;t listening and I still get 404. I&#39;m wondering if it&#39;s a limitation of WebClient?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682451155,"post_id":76103133,"comment_id":134217163,"body_markdown":"A 404 is a response from something that talks http. Do you have any sort of proxy between client and server that might return a 404 to a client when the proxy can’t reach the server.","body":"A 404 is a response from something that talks http. Do you have any sort of proxy between client and server that might return a 404 to a client when the proxy can’t reach the server."},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":0,"creation_date":1682488655,"post_id":76103133,"comment_id":134221988,"body_markdown":"I guess the question is - how to tell when a connection *does* fail?","body":"I guess the question is - how to tell when a connection <i>does</i> fail?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682499394,"post_id":76103133,"comment_id":134224209,"body_markdown":"I think that the answers here are a good start - https://stackoverflow.com/questions/65841285/handling-connection-errors-in-spring-reactive-webclient . Just to reiterate, http errors (4xx &amp; 5xx) are not generated by WebClient. They are returned by servers (or possibly by proxies, eg nginx)","body":"I think that the answers here are a good start - <a href=\"https://stackoverflow.com/questions/65841285/handling-connection-errors-in-spring-reactive-webclient\" title=\"handling connection errors in spring reactive webclient\">stackoverflow.com/questions/65841285/&hellip;</a> . Just to reiterate, http errors (4xx &amp; 5xx) are not generated by WebClient. They are returned by servers (or possibly by proxies, eg nginx)"}],"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682437902,"creation_date":1682437902,"question_id":76103133,"body_markdown":"I&#39;m trying to catch TCP/IP connection resets and read timeouts when using WebClient. WebClient seems to convert these to an HTTP status. Is there a way of working out when these have occurred?\r\n","title":"Is there a way to tell when Spring WebClient encounters a connection failure?","body":"<p>I'm trying to catch TCP/IP connection resets and read timeouts when using WebClient. WebClient seems to convert these to an HTTP status. Is there a way of working out when these have occurred?</p>\n"},{"tags":["java","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1682439023,"post_id":76103132,"comment_id":134214440,"body_markdown":"Remove `extends TestRunner ` and put all 3 classes in the same package. Use only `TestRunner` in your suite.","body":"Remove <code>extends TestRunner </code> and put all 3 classes in the same package. Use only <code>TestRunner</code> in your suite."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1682439382,"post_id":76103132,"comment_id":134214524,"body_markdown":"@M.P.Korstanje But I need to execute different tests in my suite. If I will add TestRunner in the smoke.xml - which test (feature) will be executed?","body":"@M.P.Korstanje But I need to execute different tests in my suite. If I will add TestRunner in the smoke.xml - which test (feature) will be executed?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1682442937,"post_id":76103132,"comment_id":134215440,"body_markdown":"The one you select with `features = {&quot;....&quot;}`. You can also put your feature selection in your xml suite. https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#configure-cucumber-options-via-testng-xml","body":"The one you select with <code>features = {&quot;....&quot;}</code>. You can also put your feature selection in your xml suite. <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#configure-cucumber-options-via-testng-xml\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1682604457,"post_id":76103132,"comment_id":134244768,"body_markdown":"@M.P.Korstanje\nThanks, obviously I saw this reference before but understood after your pointed me. This solution works well.","body":"@M.P.Korstanje Thanks, obviously I saw this reference before but understood after your pointed me. This solution works well."}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682437901,"creation_date":1682437901,"question_id":76103132,"body_markdown":"I try to execute cucumber tests, but my solution isn&#39;t working.\r\nI had simplified the code to a very simple instance:\r\n\r\n```java\r\npublic class FirstSteps extends TestRunner {\r\n\r\n    @When(&quot;First Step&quot;)\r\n    public void firstStep() {\r\n        System.out.println(&quot;FirstSteps::firstStep&quot;);\r\n    }\r\n\r\n    @Then(&quot;Second Step&quot;)\r\n    public void secondStep() {\r\n        System.out.println(&quot;FirstSteps::secondStep&quot;);\r\n    }\r\n}\r\n\r\npublic class SecondSteps extends TestRunner {\r\n    @When(&quot;First Function&quot;)\r\n    public void firstFunction() throws InterruptedException {\r\n        Thread.sleep(1000);\r\n        System.out.println(&quot;SecondSteps::firstFunction &quot;);\r\n    }\r\n\r\n    @Then(&quot;Second Function&quot;)\r\n    public void secondFunction() {\r\n        System.out.println(&quot;SecondSteps::secondFunction&quot;);\r\n    }\r\n}\r\n\r\n@CucumberOptions(\r\n        features = {&quot;src/test/resources&quot;})\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n}\r\n```\r\n\r\nsmoke.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Test Debug&quot;&gt;\r\n    &lt;test name=&quot;Test 1&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.projectname.tests.suites.FirstSteps&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\npom.xml:\r\n```xml\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;!-- pass testng.xml files as argument from command line --&gt;\r\n                            ${suiteXmlFile}\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n - command to test execution:\r\n\r\n`mvn clean test -DsuiteXmlFile=&quot;src/test/resources/suites/smoke.xml&quot;`\r\n\r\n**Expected result:**\r\n\r\n&gt;FirstSteps::firstStep  \r\n&gt;FirstSteps::secondStep\r\n\r\n**Actual result:**\r\n\r\n&gt;FirstSteps::firstStep  \r\n&gt;FirstSteps::secondStep  \r\n&gt;SecondSteps::firstFunction   \r\n&gt;SecondSteps::secondFunction\r\n\r\n---\r\n\r\nAs we can see the testing executes both classes: `FirstSteps` and `SecondSteps`, although I setup only `FirstSteps` in the `smoke.xml`\r\n\r\n\r\n\r\n\r\n\r\n\r\n    ```","title":"How to execute separate feature with cucumber and testng?","body":"<p>I try to execute cucumber tests, but my solution isn't working.\nI had simplified the code to a very simple instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FirstSteps extends TestRunner {\n\n    @When(&quot;First Step&quot;)\n    public void firstStep() {\n        System.out.println(&quot;FirstSteps::firstStep&quot;);\n    }\n\n    @Then(&quot;Second Step&quot;)\n    public void secondStep() {\n        System.out.println(&quot;FirstSteps::secondStep&quot;);\n    }\n}\n\npublic class SecondSteps extends TestRunner {\n    @When(&quot;First Function&quot;)\n    public void firstFunction() throws InterruptedException {\n        Thread.sleep(1000);\n        System.out.println(&quot;SecondSteps::firstFunction &quot;);\n    }\n\n    @Then(&quot;Second Function&quot;)\n    public void secondFunction() {\n        System.out.println(&quot;SecondSteps::secondFunction&quot;);\n    }\n}\n\n@CucumberOptions(\n        features = {&quot;src/test/resources&quot;})\npublic class TestRunner extends AbstractTestNGCucumberTests {\n}\n</code></pre>\n<p>smoke.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Test Debug&quot;&gt;\n    &lt;test name=&quot;Test 1&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.projectname.tests.suites.FirstSteps&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;suiteXmlFiles&gt;\n                            &lt;!-- pass testng.xml files as argument from command line --&gt;\n                            ${suiteXmlFile}\n                        &lt;/suiteXmlFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n</code></pre>\n<ul>\n<li>command to test execution:</li>\n</ul>\n<p><code>mvn clean test -DsuiteXmlFile=&quot;src/test/resources/suites/smoke.xml&quot;</code></p>\n<p><strong>Expected result:</strong></p>\n<blockquote>\n<p>FirstSteps::firstStep<br />\nFirstSteps::secondStep</p>\n</blockquote>\n<p><strong>Actual result:</strong></p>\n<blockquote>\n<p>FirstSteps::firstStep<br />\nFirstSteps::secondStep<br />\nSecondSteps::firstFunction<br />\nSecondSteps::secondFunction</p>\n</blockquote>\n<hr />\n<p>As we can see the testing executes both classes: <code>FirstSteps</code> and <code>SecondSteps</code>, although I setup only <code>FirstSteps</code> in the <code>smoke.xml</code></p>\n<pre><code>```\n</code></pre>\n"},{"tags":["java","android","yt-dlp"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1682434200,"post_id":76102438,"comment_id":134212986,"body_markdown":"android studio has nothing to do with it","body":"android studio has nothing to do with it"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1682435692,"post_id":76102438,"comment_id":134213448,"body_markdown":"Android Studio is an IDE that helps to develop and build apps. If you want to make it &quot;work witth android studio&quot; this means to develop a plugin for AS (what you don&#39;t want). You simply want to execute an executable (that is included in the APK) from within your app. Not sure if execution is still possible on recent Android versions, please see https://stackoverflow.com/questions/66933528/running-binary-files","body":"Android Studio is an IDE that helps to develop and build apps. If you want to make it &quot;work witth android studio&quot; this means to develop a plugin for AS (what you don&#39;t want). You simply want to execute an executable (that is included in the APK) from within your app. Not sure if execution is still possible on recent Android versions, please see <a href=\"https://stackoverflow.com/questions/66933528/running-binary-files\" title=\"running binary files\">stackoverflow.com/questions/66933528/running-binary-files</a>"},{"owner":{"account_id":20769004,"reputation":1,"user_id":15252178,"display_name":"melad samir"},"score":0,"creation_date":1682436790,"post_id":76102438,"comment_id":134213779,"body_markdown":"i mean that i need the app run the library","body":"i mean that i need the app run the library"}],"owner":{"account_id":20769004,"reputation":1,"user_id":15252178,"display_name":"melad samir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682437035,"creation_date":1682433639,"question_id":76102438,"body_markdown":"I&#39;m trying to use https://github.com/yt-dlp/yt-dlp library and add it to the android studio, but I can&#39;t get it to work\r\n\r\nWhat I understood from the research I did was that I would use java ProcessBuilder and give it the path of the file\r\nBefore that, I wrote code to copy the lib file from the assets files to the internal storage, and then give it to the proccess builder as a command \r\n\r\n\r\n```\r\n String FILE_NAME=&quot;yt-dlp_linux_armv7l&quot;;\r\n        File  outputFile;\r\n\r\n        /////////////\r\n        try {\r\n            InputStream inputStream = assetManager.open(FILE_NAME);\r\n\r\n            // Write the yt_dlp file to a local file in the application&#39;s data directory\r\n             outputFile = new File(context.getFilesDir(), FILE_NAME);\r\n            outputFile.setExecutable(true);\r\n            OutputStream outputStream = new FileOutputStream(outputFile);\r\n            byte[] buffer = new byte[2048];\r\n            int length;\r\n            while ((length = inputStream.read(buffer)) &gt; 0) {\r\n                outputStream.write(buffer, 0, length);\r\n            }\r\n            outputStream.flush();\r\n            outputStream.close();\r\n            inputStream.close();\r\n            //important\r\n            outputFile.setExecutable(true);\r\n\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n```\r\n\r\n**excute command **\r\n\r\n```\r\nist&lt;String&gt; command = new ArrayList&lt;&gt;();\r\n        command.add(**outputFile.getAbsolutePath() **);\r\n        command.add(videoUrl);\r\n\r\n        ProcessBuilder pb = new ProcessBuilder(command);\r\n        pb.redirectErrorStream(true);\r\n\r\n        try {\r\n            Process process = pb.start();\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n                return line;\r\n            }\r\n            try {\r\n                process.waitFor();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n                return e.getMessage();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return e.getMessage();\r\n        }\r\n```\r\n\r\nwhatever prebuilt file type i try it doesn&#39;t work\r\n\r\n[if i use aarch64 file](https://i.stack.imgur.com/aizJw.png)\r\n\r\n\r\n[if i use linux_armv7l from ](https://i.stack.imgur.com/QlEiv.png)\r\n\r\n\r\n[avaliable lib prebuild files](https://i.stack.imgur.com/51iX8.png)\r\n\r\n\r\n\r\ni want to make &quot;linux_armv7l&quot; or &quot;aarch64&quot; prebuild files to work with android app\r\n","title":"how to use yt-dlp in android native app - how to add aarch64 excutable file and excute it in android studio native app","body":"<p>I'm trying to use <a href=\"https://github.com/yt-dlp/yt-dlp\" rel=\"nofollow noreferrer\">https://github.com/yt-dlp/yt-dlp</a> library and add it to the android studio, but I can't get it to work</p>\n<p>What I understood from the research I did was that I would use java ProcessBuilder and give it the path of the file\nBefore that, I wrote code to copy the lib file from the assets files to the internal storage, and then give it to the proccess builder as a command</p>\n<pre><code> String FILE_NAME=&quot;yt-dlp_linux_armv7l&quot;;\n        File  outputFile;\n\n        /////////////\n        try {\n            InputStream inputStream = assetManager.open(FILE_NAME);\n\n            // Write the yt_dlp file to a local file in the application's data directory\n             outputFile = new File(context.getFilesDir(), FILE_NAME);\n            outputFile.setExecutable(true);\n            OutputStream outputStream = new FileOutputStream(outputFile);\n            byte[] buffer = new byte[2048];\n            int length;\n            while ((length = inputStream.read(buffer)) &gt; 0) {\n                outputStream.write(buffer, 0, length);\n            }\n            outputStream.flush();\n            outputStream.close();\n            inputStream.close();\n            //important\n            outputFile.setExecutable(true);\n\n        }\n        catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n</code></pre>\n<p>**excute command **</p>\n<pre><code>ist&lt;String&gt; command = new ArrayList&lt;&gt;();\n        command.add(**outputFile.getAbsolutePath() **);\n        command.add(videoUrl);\n\n        ProcessBuilder pb = new ProcessBuilder(command);\n        pb.redirectErrorStream(true);\n\n        try {\n            Process process = pb.start();\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                System.out.println(line);\n                return line;\n            }\n            try {\n                process.waitFor();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n                return e.getMessage();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            return e.getMessage();\n        }\n</code></pre>\n<p>whatever prebuilt file type i try it doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/aizJw.png\" rel=\"nofollow noreferrer\">if i use aarch64 file</a></p>\n<p><a href=\"https://i.stack.imgur.com/QlEiv.png\" rel=\"nofollow noreferrer\">if i use linux_armv7l from </a></p>\n<p><a href=\"https://i.stack.imgur.com/51iX8.png\" rel=\"nofollow noreferrer\">avaliable lib prebuild files</a></p>\n<p>i want to make &quot;linux_armv7l&quot; or &quot;aarch64&quot; prebuild files to work with android app</p>\n"},{"tags":["java","generics","yaml","classcastexception","snakeyaml"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682438308,"post_id":76102913,"comment_id":134214225,"body_markdown":"It would seem that your attempted way of getting snakeyaml to parse your data into objects didn&#39;t work. In raw data terms, you have a `Map&lt;String, Map&lt;String, String&gt;&gt;`, which is what you got back anyhow. You _could_ manually serialize/deserialize these things, but since it looks like you&#39;re using a jackson-esque library for this, I would look into some form of type adapter for the library. When I last used snakeyaml (a pretty long time ago), I don&#39;t believe there were mechanisms for this, so data types needed a flag for what they were.","body":"It would seem that your attempted way of getting snakeyaml to parse your data into objects didn&#39;t work. In raw data terms, you have a <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code>, which is what you got back anyhow. You <i>could</i> manually serialize/deserialize these things, but since it looks like you&#39;re using a jackson-esque library for this, I would look into some form of type adapter for the library. When I last used snakeyaml (a pretty long time ago), I don&#39;t believe there were mechanisms for this, so data types needed a flag for what they were."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1682523526,"post_id":76102913,"comment_id":134230569,"body_markdown":"Usually you&#39;d use `putMapPropertyType` but that only works on properties in other beans, not on the root type. You can write a custom constructor but it&#39;s quite the hassle.","body":"Usually you&#39;d use <code>putMapPropertyType</code> but that only works on properties in other beans, not on the root type. You can write a custom constructor but it&#39;s quite the hassle."}],"owner":{"account_id":19173164,"reputation":119,"user_id":14006438,"display_name":"Liam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682436360,"creation_date":1682436360,"question_id":76102913,"body_markdown":"I have the following YAML file:\r\n```\r\na:\r\n  name: alpha\r\nb:\r\n  name: beta\r\n```\r\n\r\nI want to turn this into a `Map&lt;String, Item&gt;`, where an `Item` looks like this:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic static class Item {\r\n    String name;\r\n}\r\n```\r\nMy approach was to define a class representing this map:\r\n```\r\npublic static class ItemMap extends HashMap&lt;String, Item&gt; {\r\n}\r\n```\r\nAnd then I parse the file using a `Yaml` object from the `SnakeYAML` library:\r\n```\r\nItemMap result = new Yaml().loadAs(yaml, ItemMap.class);\r\n```\r\nHowever, the values in this `ItemMap` are not of type `Item` - they are of type `Map&lt;String, String&gt;` - so when I call `result.get(&quot;a&quot;)` I get this error:\r\n```\r\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.Item\r\n```\r\nIs what I&#39;m trying to do possible? ","title":"Can SnakeYAML be used to parse a map of objects?","body":"<p>I have the following YAML file:</p>\n<pre><code>a:\n  name: alpha\nb:\n  name: beta\n</code></pre>\n<p>I want to turn this into a <code>Map&lt;String, Item&gt;</code>, where an <code>Item</code> looks like this:</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic static class Item {\n    String name;\n}\n</code></pre>\n<p>My approach was to define a class representing this map:</p>\n<pre><code>public static class ItemMap extends HashMap&lt;String, Item&gt; {\n}\n</code></pre>\n<p>And then I parse the file using a <code>Yaml</code> object from the <code>SnakeYAML</code> library:</p>\n<pre><code>ItemMap result = new Yaml().loadAs(yaml, ItemMap.class);\n</code></pre>\n<p>However, the values in this <code>ItemMap</code> are not of type <code>Item</code> - they are of type <code>Map&lt;String, String&gt;</code> - so when I call <code>result.get(&quot;a&quot;)</code> I get this error:</p>\n<pre><code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.Item\n</code></pre>\n<p>Is what I'm trying to do possible?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1512494477,"post_id":47659151,"comment_id":82277110,"body_markdown":"You need to tell Eclipse to refresh Maven dependencies. Right click on the project, select Maven, select update dependencies, tick the force refresh checkbox too. Something like that, I don&#39;t have an Eclipse in front of me right now","body":"You need to tell Eclipse to refresh Maven dependencies. Right click on the project, select Maven, select update dependencies, tick the force refresh checkbox too. Something like that, I don&#39;t have an Eclipse in front of me right now"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1512495730,"post_id":47659151,"comment_id":82277869,"body_markdown":"So you have these both projects in same workspace in your Eclipse?","body":"So you have these both projects in same workspace in your Eclipse?"},{"owner":{"account_id":5313963,"reputation":611,"user_id":4239402,"accept_rate":3,"display_name":"Jean"},"score":0,"creation_date":1512551402,"post_id":47659151,"comment_id":82299729,"body_markdown":"Yes they are in the same workspace.","body":"Yes they are in the same workspace."},{"owner":{"account_id":5313963,"reputation":611,"user_id":4239402,"accept_rate":3,"display_name":"Jean"},"score":0,"creation_date":1512551445,"post_id":47659151,"comment_id":82299755,"body_markdown":"I&#39;ve already tried Maven Update dependencies with no success.","body":"I&#39;ve already tried Maven Update dependencies with no success."}],"owner":{"account_id":5313963,"reputation":611,"user_id":4239402,"accept_rate":3,"display_name":"Jean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682435714,"creation_date":1512494108,"question_id":47659151,"body_markdown":"I work on two projects with a friend on Eclipse. One of them (Project 2) create a Maven Jar with dependencies which is used on the other project(Project 1).\r\n\r\nEvery time I change one of the objects created on my Project 2, Eclipse doesn&#39;t realize there is an update that can be used by project 1. \r\n\r\nI clean, refresh, update project but 99% of the time, my Tomcat cannot be launched. It took me most of the times between a few hours and 48 hours to fix the problem without never knowing what went wrong.\r\n\r\nHow could I fix this?","title":"Eclipse - Maven Update Jar with dependencies struggling to be updated","body":"<p>I work on two projects with a friend on Eclipse. One of them (Project 2) create a Maven Jar with dependencies which is used on the other project(Project 1).</p>\n<p>Every time I change one of the objects created on my Project 2, Eclipse doesn't realize there is an update that can be used by project 1.</p>\n<p>I clean, refresh, update project but 99% of the time, my Tomcat cannot be launched. It took me most of the times between a few hours and 48 hours to fix the problem without never knowing what went wrong.</p>\n<p>How could I fix this?</p>\n"},{"tags":["java","android","google-image-search"],"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682435674,"creation_date":1682435674,"question_id":76102799,"body_markdown":"I coded the app a year ago. Its works and easily search images by providing the image in the Google search bar, latter in 2023 when I upload an image for searching, it says the image search is unavailable.\r\n\r\n**my code is** \r\n\r\n     String hash = GooglePhotoHash.hashFromBitmap(bitmap); \r\n     Intent openHashURLinBrowser = (new Intent(SingleFrmGall.this, WebActivity.class));\r\n     openHashURLinBrowser.setData(Uri.parse(hash));\r\n\r\n**GooglePhotoHash code is**\r\n\r\n\r\n    public class GooglePhotoHash {\r\n        private static final String GOOGLE_IMAGE_UPLOAD_URL = &quot;https://www.google.com/searchbyimage/upload&quot;;\r\n    \r\n        private static HttpEntity buildRequestForBitmap(Bitmap bitmap) {\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 50, bos);\r\n            byte[] data = bos.toByteArray();\r\n            @SuppressLint(&quot;DefaultLocale&quot;) String fileName = String.format(&quot;File_%d.png&quot;, new Date().getTime());\r\n            ByteArrayBody bab = new ByteArrayBody(data, fileName);\r\n            return MultipartEntityBuilder.create().addPart(&quot;encoded_image&quot;, bab)\r\n                    .addPart(&quot;image_url&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;image_content&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;filename&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;h1&quot;, new StringBody(&quot;en&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;bih&quot;, new StringBody(&quot;179&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;biw&quot;, new StringBody(&quot;1600&quot;, ContentType.TEXT_PLAIN)).build();\r\n        }\r\n    \r\n        // Post request and get response\r\n        private static BufferedReader sendRequest(CloseableHttpClient client, HttpPost post, HttpEntity entity)\r\n                throws IOException {\r\n            post.setEntity(entity);\r\n            CloseableHttpResponse response = client.execute(post);\r\n            InputStream content = response.getEntity().getContent();\r\n            return new BufferedReader(new InputStreamReader(content));\r\n        }\r\n    \r\n        // Parse response\r\n        private static String parseResponse(BufferedReader reader) throws IOException {\r\n            String line;\r\n            String hashURL = &quot;&quot;;\r\n            while ((line = reader.readLine()) != null)\r\n                if (line.indexOf(&quot;HREF&quot;) &gt; 0)\r\n                    hashURL = line.substring(9, line.length() - 11);\r\n            if (hashURL.equals(&quot;&quot;))\r\n                throw new IOException();\r\n            return hashURL;\r\n        }\r\n    \r\n        // Accepts file object of image and returns hash URL\r\n        public static String hashFromBitmap(Bitmap bitmap) throws IOException {\r\n            CloseableHttpClient client = HttpClients.createDefault();\r\n            HttpPost post = new HttpPost(GOOGLE_IMAGE_UPLOAD_URL);\r\n            HttpEntity entity = buildRequestForBitmap(bitmap);\r\n            BufferedReader reader = sendRequest(client, post, entity);\r\n            return parseResponse(reader);\r\n        }}\r\n\r\n**and show the following result** \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xp6d9.png","title":"How to search image by image based search (reverse image search Google) in android java","body":"<p>I coded the app a year ago. Its works and easily search images by providing the image in the Google search bar, latter in 2023 when I upload an image for searching, it says the image search is unavailable.</p>\n<p><strong>my code is</strong></p>\n<pre><code> String hash = GooglePhotoHash.hashFromBitmap(bitmap); \n Intent openHashURLinBrowser = (new Intent(SingleFrmGall.this, WebActivity.class));\n openHashURLinBrowser.setData(Uri.parse(hash));\n</code></pre>\n<p><strong>GooglePhotoHash code is</strong></p>\n<pre><code>public class GooglePhotoHash {\n    private static final String GOOGLE_IMAGE_UPLOAD_URL = &quot;https://www.google.com/searchbyimage/upload&quot;;\n\n    private static HttpEntity buildRequestForBitmap(Bitmap bitmap) {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 50, bos);\n        byte[] data = bos.toByteArray();\n        @SuppressLint(&quot;DefaultLocale&quot;) String fileName = String.format(&quot;File_%d.png&quot;, new Date().getTime());\n        ByteArrayBody bab = new ByteArrayBody(data, fileName);\n        return MultipartEntityBuilder.create().addPart(&quot;encoded_image&quot;, bab)\n                .addPart(&quot;image_url&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;image_content&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;filename&quot;, new StringBody(&quot;&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;h1&quot;, new StringBody(&quot;en&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;bih&quot;, new StringBody(&quot;179&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;biw&quot;, new StringBody(&quot;1600&quot;, ContentType.TEXT_PLAIN)).build();\n    }\n\n    // Post request and get response\n    private static BufferedReader sendRequest(CloseableHttpClient client, HttpPost post, HttpEntity entity)\n            throws IOException {\n        post.setEntity(entity);\n        CloseableHttpResponse response = client.execute(post);\n        InputStream content = response.getEntity().getContent();\n        return new BufferedReader(new InputStreamReader(content));\n    }\n\n    // Parse response\n    private static String parseResponse(BufferedReader reader) throws IOException {\n        String line;\n        String hashURL = &quot;&quot;;\n        while ((line = reader.readLine()) != null)\n            if (line.indexOf(&quot;HREF&quot;) &gt; 0)\n                hashURL = line.substring(9, line.length() - 11);\n        if (hashURL.equals(&quot;&quot;))\n            throw new IOException();\n        return hashURL;\n    }\n\n    // Accepts file object of image and returns hash URL\n    public static String hashFromBitmap(Bitmap bitmap) throws IOException {\n        CloseableHttpClient client = HttpClients.createDefault();\n        HttpPost post = new HttpPost(GOOGLE_IMAGE_UPLOAD_URL);\n        HttpEntity entity = buildRequestForBitmap(bitmap);\n        BufferedReader reader = sendRequest(client, post, entity);\n        return parseResponse(reader);\n    }}\n</code></pre>\n<p><strong>and show the following result</strong>\n<a href=\"https://i.stack.imgur.com/xp6d9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xp6d9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rabbitmq","amqp","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682430231,"creation_date":1682430231,"answer_id":76101864,"question_id":76100648,"body_markdown":"Not clear what is wrong with your code, but the feature works well:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is Spring Boot code I used to test against my locally running RabbitMQ.\r\n\r\nIn the `application.properties` I just have this:\r\n\r\n    spring.rabbitmq.listener.simple.retry.enabled=true\r\n\r\nTo enable retry on a listener container with 3 attempts and `RejectAndDontRequeueRecoverer` as a default policy. See `AbstractRabbitListenerContainerFactoryConfigurer` for more information.\r\n\r\nThe code looks like this:\r\n\r\n    @SpringBootApplication\r\n    public class So76100648Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So76100648Application.class, args);\r\n    \t}\r\n    \r\n    \tprivate final String testDLQ = &quot;testDLQ&quot;;\r\n    \r\n    \tprivate final String testDLX = &quot;testDLX&quot;;\r\n    \r\n    \tprivate final String testQueue = &quot;testQueue&quot;;\r\n    \r\n    \tprivate final String testExchange = &quot;testExchange&quot;;\r\n    \r\n    \t@Bean\r\n    \tQueue testMsgDLQ() {\r\n    \t\treturn QueueBuilder.durable(testDLQ).build();\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tDirectExchange testMsgDLX() {\r\n    \t\treturn new DirectExchange(testDLX);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tBinding testDLBinding(Queue testMsgDLQ, DirectExchange testMsgDLX) {\r\n    \t\treturn BindingBuilder.bind(testMsgDLQ)\r\n    \t\t\t\t.to(testMsgDLX).with(testDLQ);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tQueue testMsgQueue() {\r\n    \t\treturn QueueBuilder.durable(testQueue)\r\n    \t\t\t\t.withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\r\n    \t\t\t\t.withArgument(&quot;x-dead-letter-routing-key&quot;, testDLQ).build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tDirectExchange testMsgExchange() {\r\n    \t\treturn new DirectExchange(testExchange);\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tBinding testMessageQueue(Queue testMsgQueue, DirectExchange testMsgExchange) {\r\n    \t\treturn BindingBuilder.bind(testMsgQueue)\r\n    \t\t\t\t.to(testMsgExchange).with(testQueue);\r\n    \t}\r\n    \r\n    \t@RabbitListener(queues = testQueue)\r\n    \tpublic void testListener(Object payload) {\r\n    \t\tthrow new RuntimeException(&quot;intentional&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tApplicationRunner applicationRunner(RabbitTemplate rabbitTemplate) {\r\n    \t\treturn args -&gt; rabbitTemplate.convertAndSend(testExchange, testQueue, &quot;test data&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nSo, I have exactly the same AMQP objects like in your code and then I have a `@RabbitListener` which just throws an exception on message receipt.\r\n\r\nIn logs after sending ad receiving message I have:\r\n\r\n    2023-04-25T09:36:55.827-04:00  WARN 12456 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\r\n    \r\n    org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Retry Policy Exhausted\r\n    \t...\r\n    Caused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: null\r\n    \t... 21 common frames omitted\r\n    Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method &#39;public void com.example.so76100648.So76100648Application.testListener(java.lang.Object)&#39; threw exception\r\n\r\nSo, everything confirms that we are OK. \r\n\r\nPlease, share with us a simple minimal project to reproduce.\r\n\r\n  [1]: https://i.stack.imgur.com/0f271.png","title":"dead letter queue not getting message after retry completed","body":"<p>Not clear what is wrong with your code, but the feature works well:</p>\n<p><a href=\"https://i.stack.imgur.com/0f271.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0f271.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is Spring Boot code I used to test against my locally running RabbitMQ.</p>\n<p>In the <code>application.properties</code> I just have this:</p>\n<pre><code>spring.rabbitmq.listener.simple.retry.enabled=true\n</code></pre>\n<p>To enable retry on a listener container with 3 attempts and <code>RejectAndDontRequeueRecoverer</code> as a default policy. See <code>AbstractRabbitListenerContainerFactoryConfigurer</code> for more information.</p>\n<p>The code looks like this:</p>\n<pre><code>@SpringBootApplication\npublic class So76100648Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So76100648Application.class, args);\n    }\n\n    private final String testDLQ = &quot;testDLQ&quot;;\n\n    private final String testDLX = &quot;testDLX&quot;;\n\n    private final String testQueue = &quot;testQueue&quot;;\n\n    private final String testExchange = &quot;testExchange&quot;;\n\n    @Bean\n    Queue testMsgDLQ() {\n        return QueueBuilder.durable(testDLQ).build();\n    }\n\n\n    @Bean\n    DirectExchange testMsgDLX() {\n        return new DirectExchange(testDLX);\n    }\n\n    @Bean\n    Binding testDLBinding(Queue testMsgDLQ, DirectExchange testMsgDLX) {\n        return BindingBuilder.bind(testMsgDLQ)\n                .to(testMsgDLX).with(testDLQ);\n    }\n\n    @Bean\n    Queue testMsgQueue() {\n        return QueueBuilder.durable(testQueue)\n                .withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\n                .withArgument(&quot;x-dead-letter-routing-key&quot;, testDLQ).build();\n    }\n\n    @Bean\n    DirectExchange testMsgExchange() {\n        return new DirectExchange(testExchange);\n    }\n\n\n    @Bean\n    Binding testMessageQueue(Queue testMsgQueue, DirectExchange testMsgExchange) {\n        return BindingBuilder.bind(testMsgQueue)\n                .to(testMsgExchange).with(testQueue);\n    }\n\n    @RabbitListener(queues = testQueue)\n    public void testListener(Object payload) {\n        throw new RuntimeException(&quot;intentional&quot;);\n    }\n\n    @Bean\n    ApplicationRunner applicationRunner(RabbitTemplate rabbitTemplate) {\n        return args -&gt; rabbitTemplate.convertAndSend(testExchange, testQueue, &quot;test data&quot;);\n    }\n\n}\n</code></pre>\n<p>So, I have exactly the same AMQP objects like in your code and then I have a <code>@RabbitListener</code> which just throws an exception on message receipt.</p>\n<p>In logs after sending ad receiving message I have:</p>\n<pre><code>2023-04-25T09:36:55.827-04:00  WARN 12456 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\n\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Retry Policy Exhausted\n    ...\nCaused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: null\n    ... 21 common frames omitted\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.example.so76100648.So76100648Application.testListener(java.lang.Object)' threw exception\n</code></pre>\n<p>So, everything confirms that we are OK.</p>\n<p>Please, share with us a simple minimal project to reproduce.</p>\n"}],"owner":{"account_id":6445413,"reputation":129,"user_id":4994052,"display_name":"Prithivi Thiyagu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682435334,"creation_date":1682422035,"question_id":76100648,"body_markdown":"After retry limit reached message is not pushed to DLQ. Also my message in main queue is also removed getting empty logs after retry done. But retry is happening for the specified limit. After retry nothing is happening. Also tried by throwing AmqpRejectAndDontRequeueException  from consumer  but till  facing  same issue. DLQ not receving any message. After retry message not routed to DLQ                                                                                                    \r\n                                                                                                     \r\n                                                                                                     \r\n                                                                                     \r\n                                                                                                                              \r\n                                                                                             \r\n```\r\n    @Bean\r\n    Queue testMsgDLQ() {\r\n        return QueueBuilder.durable(testDLQ).build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    DirectExchange testMsgDLX() {\r\n        return new DirectExchange(testDLX);\r\n    }\r\n\r\n    @Bean\r\n    Binding testDLBinding(Queue testMsgDLQ,DirectExchange testMsgDLX) {\r\n        return BindingBuilder.bind(testMsgDLQ)\r\n                .to(testMsgDLX).with(testDLQ);\r\n    }\r\n    @Bean\r\n    Queue testMsgQueue() {\r\n        return QueueBuilder.durable(testQueue)\r\n                .withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\r\n                .withArgument(&quot;x-dead-letter-routing-key&quot;,testDLQ).build();\r\n    }\r\n\r\n    @Bean\r\n    DirectExchange testMsgExchange() {\r\n        return new DirectExchange(testExchange);\r\n    }\r\n\r\n\r\n    @Bean\r\n    Binding testMessageQueue(Queue testMsgQueue,DirectExchange testMsgExchange) {\r\n        return BindingBuilder.bind(testMsgQueue)\r\n                .to(testMsgExchange).with(testQueue);\r\n    }\r\n\r\n**&gt;Configuration**\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n        cachingConnectionFactory.setHost(host);\r\n        cachingConnectionFactory.setPort(port);\r\n        cachingConnectionFactory.setUsername(username);\r\n        cachingConnectionFactory.setPassword(password);\r\n        cachingConnectionFactory.setAddresses(address);\r\n        cachingConnectionFactory.setUri(url);\r\n/*        cachingConnectionFactory.setPublisherReturns(true);\r\n        cachingConnectionFactory.setPublisherConfirmType(CachingConnectionFactory.ConfirmType.CORRELATED);*/\r\n        cachingConnectionFactory.setCacheMode(CachingConnectionFactory.CacheMode.CONNECTION);\r\n        cachingConnectionFactory.setRequestedHeartBeat(10);\r\n\r\n        return cachingConnectionFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory() {\r\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory());\r\n        factory.setConcurrentConsumers(concurrentConsumers);\r\n        factory.setMaxConcurrentConsumers(maxConcurrentConsumers);\r\n       factory.setDefaultRequeueRejected(false);\r\n        factory.setAdviceChain(RetryInterceptorBuilder.stateless()\r\n                .recoverer(new RejectAndDontRequeueRecoverer())\r\n                .maxAttempts(5)\r\n                .backOffOptions(2000, 2.0, 10000) // initialInterval, multiplier, maxInterval\r\n\r\n                .build());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(final ConnectionFactory publisherConnectionFactory) {\r\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(publisherConnectionFactory);\r\n        rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\r\n        return rabbitTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\r\n        return new MappingJackson2MessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    public DefaultMessageHandlerMethodFactory messageHandlerMethodFactory() {\r\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n        factory.setMessageConverter(consumerJackson2MessageConverter());\r\n        return factory;\r\n    }\r\n\r\n    @Override\r\n    public void configureRabbitListeners(final RabbitListenerEndpointRegistrar registrar) {\r\n        registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\r\n    }\r\n\r\n**&gt;Consumer**\r\n    @RabbitListener(containerFactory=&quot;rabbitListenerContainerFactory&quot;, queues = &quot;${rabbitmq.email.queue.name}&quot;)\r\n    public void receiveMessage(MessageKeyVo messageId) {\r\n\r\n        System.out.println(&quot;Demo&quot;);\r\n\r\n        throw new RuntimeException(&quot;q&quot;);\r\n\r\n       }\r\n\r\n","title":"dead letter queue not getting message after retry completed","body":"<p>After retry limit reached message is not pushed to DLQ. Also my message in main queue is also removed getting empty logs after retry done. But retry is happening for the specified limit. After retry nothing is happening. Also tried by throwing AmqpRejectAndDontRequeueException  from consumer  but till  facing  same issue. DLQ not receving any message. After retry message not routed to DLQ</p>\n<pre><code>    @Bean\n    Queue testMsgDLQ() {\n        return QueueBuilder.durable(testDLQ).build();\n    }\n\n\n    @Bean\n    DirectExchange testMsgDLX() {\n        return new DirectExchange(testDLX);\n    }\n\n    @Bean\n    Binding testDLBinding(Queue testMsgDLQ,DirectExchange testMsgDLX) {\n        return BindingBuilder.bind(testMsgDLQ)\n                .to(testMsgDLX).with(testDLQ);\n    }\n    @Bean\n    Queue testMsgQueue() {\n        return QueueBuilder.durable(testQueue)\n                .withArgument(&quot;x-dead-letter-exchange&quot;, testDLX)\n                .withArgument(&quot;x-dead-letter-routing-key&quot;,testDLQ).build();\n    }\n\n    @Bean\n    DirectExchange testMsgExchange() {\n        return new DirectExchange(testExchange);\n    }\n\n\n    @Bean\n    Binding testMessageQueue(Queue testMsgQueue,DirectExchange testMsgExchange) {\n        return BindingBuilder.bind(testMsgQueue)\n                .to(testMsgExchange).with(testQueue);\n    }\n\n**&gt;Configuration**\n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n        cachingConnectionFactory.setHost(host);\n        cachingConnectionFactory.setPort(port);\n        cachingConnectionFactory.setUsername(username);\n        cachingConnectionFactory.setPassword(password);\n        cachingConnectionFactory.setAddresses(address);\n        cachingConnectionFactory.setUri(url);\n/*        cachingConnectionFactory.setPublisherReturns(true);\n        cachingConnectionFactory.setPublisherConfirmType(CachingConnectionFactory.ConfirmType.CORRELATED);*/\n        cachingConnectionFactory.setCacheMode(CachingConnectionFactory.CacheMode.CONNECTION);\n        cachingConnectionFactory.setRequestedHeartBeat(10);\n\n        return cachingConnectionFactory;\n    }\n\n\n    @Bean\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory() {\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory());\n        factory.setConcurrentConsumers(concurrentConsumers);\n        factory.setMaxConcurrentConsumers(maxConcurrentConsumers);\n       factory.setDefaultRequeueRejected(false);\n        factory.setAdviceChain(RetryInterceptorBuilder.stateless()\n                .recoverer(new RejectAndDontRequeueRecoverer())\n                .maxAttempts(5)\n                .backOffOptions(2000, 2.0, 10000) // initialInterval, multiplier, maxInterval\n\n                .build());\n        return factory;\n    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(final ConnectionFactory publisherConnectionFactory) {\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(publisherConnectionFactory);\n        rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\n        return rabbitTemplate;\n    }\n\n    @Bean\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n\n    @Bean\n    public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n\n    @Bean\n    public DefaultMessageHandlerMethodFactory messageHandlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n        factory.setMessageConverter(consumerJackson2MessageConverter());\n        return factory;\n    }\n\n    @Override\n    public void configureRabbitListeners(final RabbitListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\n    }\n\n**&gt;Consumer**\n    @RabbitListener(containerFactory=&quot;rabbitListenerContainerFactory&quot;, queues = &quot;${rabbitmq.email.queue.name}&quot;)\n    public void receiveMessage(MessageKeyVo messageId) {\n\n        System.out.println(&quot;Demo&quot;);\n\n        throw new RuntimeException(&quot;q&quot;);\n\n       }\n\n</code></pre>\n"},{"tags":["java","spring-boot","cloud-foundry","pcfdev"],"comments":[{"owner":{"account_id":8466250,"reputation":69,"user_id":6350335,"display_name":"Susheel Rao"},"score":0,"creation_date":1686766500,"post_id":76102744,"comment_id":134845792,"body_markdown":"Do you get any solution for this ..  I am facing the same problem","body":"Do you get any solution for this ..  I am facing the same problem"},{"owner":{"account_id":82275,"reputation":1064,"user_id":231460,"accept_rate":77,"display_name":"Rezler"},"score":0,"creation_date":1690368657,"post_id":76102744,"comment_id":135342850,"body_markdown":"See https://stackoverflow.com/questions/75543408/can-i-continue-using-brave-headers-in-spring-boot-3-with-micrometer","body":"See <a href=\"https://stackoverflow.com/questions/75543408/can-i-continue-using-brave-headers-in-spring-boot-3-with-micrometer\" title=\"can i continue using brave headers in spring boot 3 with micrometer\">stackoverflow.com/questions/75543408/&hellip;</a>"}],"owner":{"account_id":28412397,"reputation":11,"user_id":21735653,"display_name":"Prince"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682435321,"creation_date":1682435321,"question_id":76102744,"body_markdown":"As sleuth project is moved into the Micrometer Tracing project as of SpringBoot 3, having issue with x_b3_traceid when deploying the application to PCF. Before Springboot 3, used to get the same x_b3_traceid in the log and the PCF&#39;s GOrouter logs. \r\n\r\nBut now seeing different x_b3_traceid between application logs and GOrouter logs- 6447d6557ff6934ce613142682e7f6ff (expected) vs 4a947108c123812a06f86bb13c05bab0 (actual)\r\n\r\nSample Logs (application and Gorouter log) -\r\n\r\n```\r\n2023-04-25T09:32:05.556-04:00 [APP/PROC/WEB/2] [OUT] 2023-04-25T13:32:05.555Z INFO [sample-api,**6447d6557ff6934ce613142682e7f6ff**,67ed0eca64b448c1] 15 --- [nio-8080-exec-1] sample.controller.DemoController : Fetching the user info\r\n\r\n2023-04-25T09:32:05.561-04:00 [RTR/11] [OUT] sample-api.com - [2023-04-25T13:32:05.542389295Z] &quot;GET /demo HTTP/1.1&quot; 200 0 55 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; &quot;127.0.0.1:12345&quot; &quot;127.0.0.1:12345&quot; x_forwarded_for:&quot;127.0.0.1&quot; x_forwarded_proto:&quot;https&quot; vcap_request_id:&quot;a3bae067-9e04-4299-6d50-c6a4256740e6&quot; response_time:0.018694 gorouter_time:0.000253 app_id:&quot;23f0f921-7931-4190-8453-344a595698ed&quot; app_index:&quot;2&quot; instance_id:&quot;3d2bb4f7-3fc3-450c-7853-9305&quot; x_cf_routererror:&quot;-&quot; x_b3_traceid:&quot;**4a947108c123812a06f86bb13c05bab0**&quot; x_b3_spanid:&quot;06f86bb13c05bab0&quot; x_b3_parentspanid:&quot;-&quot; b3:&quot;4a947108c123812a06f86bb13c05bab0-06f86bb13c05bab0&quot;\r\n```\r\n\r\nDependencies - \r\n\r\n```     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zipkin-reporter-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThese are the configs I have - \r\n```\r\nlogging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]  #To add trace and span ids to logs\r\n\r\nspring.sleuth.propagation.type=w3c,b3 #To have b3 headers. As PCF Zipkin accepts b3 instead of default w3c\r\n```\r\n\r\nTried different tracers - OpenZipkin Brave and OpenTelemetry. Got the same result and it looks PCF&#39;s Gorouter ignoring the b3 traceid in the header and generating its own traceid.","title":"After upgrading to Spring Boot 3, PCF Gorouter emits different x-b3-traceid","body":"<p>As sleuth project is moved into the Micrometer Tracing project as of SpringBoot 3, having issue with x_b3_traceid when deploying the application to PCF. Before Springboot 3, used to get the same x_b3_traceid in the log and the PCF's GOrouter logs.</p>\n<p>But now seeing different x_b3_traceid between application logs and GOrouter logs- 6447d6557ff6934ce613142682e7f6ff (expected) vs 4a947108c123812a06f86bb13c05bab0 (actual)</p>\n<p>Sample Logs (application and Gorouter log) -</p>\n<pre><code>2023-04-25T09:32:05.556-04:00 [APP/PROC/WEB/2] [OUT] 2023-04-25T13:32:05.555Z INFO [sample-api,**6447d6557ff6934ce613142682e7f6ff**,67ed0eca64b448c1] 15 --- [nio-8080-exec-1] sample.controller.DemoController : Fetching the user info\n\n2023-04-25T09:32:05.561-04:00 [RTR/11] [OUT] sample-api.com - [2023-04-25T13:32:05.542389295Z] &quot;GET /demo HTTP/1.1&quot; 200 0 55 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; &quot;127.0.0.1:12345&quot; &quot;127.0.0.1:12345&quot; x_forwarded_for:&quot;127.0.0.1&quot; x_forwarded_proto:&quot;https&quot; vcap_request_id:&quot;a3bae067-9e04-4299-6d50-c6a4256740e6&quot; response_time:0.018694 gorouter_time:0.000253 app_id:&quot;23f0f921-7931-4190-8453-344a595698ed&quot; app_index:&quot;2&quot; instance_id:&quot;3d2bb4f7-3fc3-450c-7853-9305&quot; x_cf_routererror:&quot;-&quot; x_b3_traceid:&quot;**4a947108c123812a06f86bb13c05bab0**&quot; x_b3_spanid:&quot;06f86bb13c05bab0&quot; x_b3_parentspanid:&quot;-&quot; b3:&quot;4a947108c123812a06f86bb13c05bab0-06f86bb13c05bab0&quot;\n</code></pre>\n<p>Dependencies -</p>\n<pre><code>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\n            &lt;artifactId&gt;zipkin-reporter-brave&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>These are the configs I have -</p>\n<pre><code>logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]  #To add trace and span ids to logs\n\nspring.sleuth.propagation.type=w3c,b3 #To have b3 headers. As PCF Zipkin accepts b3 instead of default w3c\n</code></pre>\n<p>Tried different tracers - OpenZipkin Brave and OpenTelemetry. Got the same result and it looks PCF's Gorouter ignoring the b3 traceid in the header and generating its own traceid.</p>\n"},{"tags":["java","android","apk","code-signing","jar-signing"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1529855893,"post_id":50874282,"comment_id":89015853,"body_markdown":"As the signing takes place on the USB device a key size limitation is strange. Are you sure that your Java version is not an old one restricted for export (RSA keys larger 2048 were restricted in such versions). Make sure to use a current unrestricted Java version (e.g. 6u181, 7u171, 8u161) or install JCE Unlimited Strength policy files.","body":"As the signing takes place on the USB device a key size limitation is strange. Are you sure that your Java version is not an old one restricted for export (RSA keys larger 2048 were restricted in such versions). Make sure to use a current unrestricted Java version (e.g. 6u181, 7u171, 8u161) or install JCE Unlimited Strength policy files."},{"owner":{"account_id":995061,"reputation":3330,"user_id":1016105,"accept_rate":98,"display_name":"burnersk"},"score":0,"creation_date":1529904464,"post_id":50874282,"comment_id":89025998,"body_markdown":"This (limitation) has nothing to do with Java. The PIV standard describes explicitly only 1024 and 2048 RSA keys and nothing else (nothing else is allowed). This question is about how to setup the communication between the Yubikey and Keytool via the Yubikey OpenPGP applet.","body":"This (limitation) has nothing to do with Java. The PIV standard describes explicitly only 1024 and 2048 RSA keys and nothing else (nothing else is allowed). This question is about how to setup the communication between the Yubikey and Keytool via the Yubikey OpenPGP applet."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1530040906,"post_id":50874282,"comment_id":89091122,"body_markdown":"IMHO using an outdated apk signer tool like yubico-piv-tool is more security relevant than the used key for signing. The outdated tools only support the deprecated? v1 signature, apk signature v2 has some major security advantages and AFAIR Google is just in progress of releasing the [v3 signature](https://www.xda-developers.com/apk-signature-scheme-v3-key-rotation/). Anyway you can sign an APK using multiple signatures may be that is a solution for you?","body":"IMHO using an outdated apk signer tool like yubico-piv-tool is more security relevant than the used key for signing. The outdated tools only support the deprecated? v1 signature, apk signature v2 has some major security advantages and AFAIR Google is just in progress of releasing the <a href=\"https://www.xda-developers.com/apk-signature-scheme-v3-key-rotation/\" rel=\"nofollow noreferrer\">v3 signature</a>. Anyway you can sign an APK using multiple signatures may be that is a solution for you?"},{"owner":{"account_id":995061,"reputation":3330,"user_id":1016105,"accept_rate":98,"display_name":"burnersk"},"score":0,"creation_date":1530109815,"post_id":50874282,"comment_id":89120650,"body_markdown":"Sounds promising, anyway I cannot use it since Android 6 devices are being used (v1 only).","body":"Sounds promising, anyway I cannot use it since Android 6 devices are being used (v1 only)."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1530110900,"post_id":50874282,"comment_id":89121369,"body_markdown":"The signature v2 is AFAIK transparent for old devices, therefore you can use it. Old devices check v1, new devices use v2. And in 2023 when your key should no longer be used Android 6 devices should not be a problem anymore.","body":"The signature v2 is AFAIK transparent for old devices, therefore you can use it. Old devices check v1, new devices use v2. And in 2023 when your key should no longer be used Android 6 devices should not be a problem anymore."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552108288,"creation_date":1552098269,"answer_id":55073407,"question_id":50874282,"body_markdown":"Use an USB token or a SmartCard which supports RSA &lt;strike&gt;3072&lt;/strike&gt;  4096 for personal identity verification? Not even the [Yubikey 5][1] does support that for PIV / [FIPS 201-2][2] (which is a SmartCard emulation). I&#39;ve searched for a while, but it seems there barely is any hardware which supports it yet (in case it&#39;s even applicable); alternatives I could find were [RSA SecurID][3], [Nitrokey Pro 2][4] and [Gemalto IDBridge K50][5].\r\n\r\nWith APK signing [v2][6] or [v3][7], the strength of the *upload key* might not even matter that much ... it says `RSA 1024, RSA 2048, RSA 4096, RSA 8192, RSA 16384` are being supported, but it says nowhere which strength the actual *release key* would have, which would be the rather interesting part of it. The [V3SchemeSigner][8] hints for PKCS1 V1.5 encoding format; but the only way to find out would be to check the public key of a package from the Play Store by running `ssh-keygen -lf ./rsa_key.pub` (which shows the fingerprint of the public key file, which also displays the strength of the key).\r\n\r\n[security.stackexchange.com][9] might provide further clues.\r\n\r\n\r\n  [1]: https://www.yubico.com/product/yubikey-5-nano/\r\n  [2]: https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.201-2.pdf\r\n  [3]: https://www.rsa.com/content/dam/en/data-sheet/rsa-securid-hardware-tokens.pdf\r\n  [4]: https://www.nitrokey.com/files/doc/Nitrokey_Pro_factsheet.pdf\r\n  [5]: https://safenet.gemalto.com/multi-factor-authentication/smart-card-readers/\r\n  [6]: https://source.android.com/security/apksigning/v2\r\n  [7]: https://source.android.com/security/apksigning/v3\r\n  [8]: https://android.googlesource.com/platform/tools/apksig/+/master/src/main/java/com/android/apksig/internal/apk/v3/V3SchemeSigner.java\r\n  [9]: https://security.stackexchange.com/questions/tagged/code-signing","title":"How to sign an application package (APK) using OpenPGP (Yubikey)?","body":"<p>Use an USB token or a SmartCard which supports RSA <strike>3072</strike>  4096 for personal identity verification? Not even the <a href=\"https://www.yubico.com/product/yubikey-5-nano/\" rel=\"nofollow noreferrer\">Yubikey 5</a> does support that for PIV / <a href=\"https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.201-2.pdf\" rel=\"nofollow noreferrer\">FIPS 201-2</a> (which is a SmartCard emulation). I've searched for a while, but it seems there barely is any hardware which supports it yet (in case it's even applicable); alternatives I could find were <a href=\"https://www.rsa.com/content/dam/en/data-sheet/rsa-securid-hardware-tokens.pdf\" rel=\"nofollow noreferrer\">RSA SecurID</a>, <a href=\"https://www.nitrokey.com/files/doc/Nitrokey_Pro_factsheet.pdf\" rel=\"nofollow noreferrer\">Nitrokey Pro 2</a> and <a href=\"https://safenet.gemalto.com/multi-factor-authentication/smart-card-readers/\" rel=\"nofollow noreferrer\">Gemalto IDBridge K50</a>.</p>\n\n<p>With APK signing <a href=\"https://source.android.com/security/apksigning/v2\" rel=\"nofollow noreferrer\">v2</a> or <a href=\"https://source.android.com/security/apksigning/v3\" rel=\"nofollow noreferrer\">v3</a>, the strength of the <em>upload key</em> might not even matter that much ... it says <code>RSA 1024, RSA 2048, RSA 4096, RSA 8192, RSA 16384</code> are being supported, but it says nowhere which strength the actual <em>release key</em> would have, which would be the rather interesting part of it. The <a href=\"https://android.googlesource.com/platform/tools/apksig/+/master/src/main/java/com/android/apksig/internal/apk/v3/V3SchemeSigner.java\" rel=\"nofollow noreferrer\">V3SchemeSigner</a> hints for PKCS1 V1.5 encoding format; but the only way to find out would be to check the public key of a package from the Play Store by running <code>ssh-keygen -lf ./rsa_key.pub</code> (which shows the fingerprint of the public key file, which also displays the strength of the key).</p>\n\n<p><a href=\"https://security.stackexchange.com/questions/tagged/code-signing\">security.stackexchange.com</a> might provide further clues.</p>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682435271,"creation_date":1682435271,"answer_id":76102733,"question_id":50874282,"body_markdown":"It&#39;s possible to use the OpenPGP applet on the Yubikey to sign an APK by using the [OpenSC][1] PKCS#11 module. By default OpenSC will use the keys from the PIV applet, the trick is to set the environment variable `OPENSC_DRIVER=openpgp` to force the use of the OpenPGP applet.\r\n\r\nThe syntax will look like this:\r\n\r\n\tOPENSC_DRIVER=openpgp \\\r\n\tapksigner sign -ks NONE --ks-type PKCS11 \\\r\n\t               --ks-key-alias SIGN \\\r\n\t               --provider-class sun.security.pkcs11.SunPKCS11 \\\r\n\t               --provider-arg opensc.cfg \\\r\n\t               myapp.apk\r\n\r\nand opensc.cfg is the SunPKCS11 configuration file for OpenSC:\r\n\r\n\tname=OpenSC\r\n\tlibrary=/usr/lib/x86_64-linux-gnu/opensc-pkcs11.so\r\n\tslot=8\r\n\r\n(the actual slot may be different)\r\n\r\n\r\n  [1]: https://github.com/OpenSC/OpenSC/wiki","title":"How to sign an application package (APK) using OpenPGP (Yubikey)?","body":"<p>It's possible to use the OpenPGP applet on the Yubikey to sign an APK by using the <a href=\"https://github.com/OpenSC/OpenSC/wiki\" rel=\"nofollow noreferrer\">OpenSC</a> PKCS#11 module. By default OpenSC will use the keys from the PIV applet, the trick is to set the environment variable <code>OPENSC_DRIVER=openpgp</code> to force the use of the OpenPGP applet.</p>\n<p>The syntax will look like this:</p>\n<pre><code>OPENSC_DRIVER=openpgp \\\napksigner sign -ks NONE --ks-type PKCS11 \\\n               --ks-key-alias SIGN \\\n               --provider-class sun.security.pkcs11.SunPKCS11 \\\n               --provider-arg opensc.cfg \\\n               myapp.apk\n</code></pre>\n<p>and opensc.cfg is the SunPKCS11 configuration file for OpenSC:</p>\n<pre><code>name=OpenSC\nlibrary=/usr/lib/x86_64-linux-gnu/opensc-pkcs11.so\nslot=8\n</code></pre>\n<p>(the actual slot may be different)</p>\n"}],"owner":{"account_id":995061,"reputation":3330,"user_id":1016105,"accept_rate":98,"display_name":"burnersk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":2,"score":41,"last_activity_date":1682435271,"creation_date":1529060660,"question_id":50874282,"body_markdown":"I want to **sign APK** files with a OpenPGP key stored within the **OpenPGP applet of my Yubikey**.\r\n\r\nI am aware, that there is a [solution for APK signing using Yubikey&#39;s PIV applet](https://developers.yubico.com/PIV/Guides/Android_code_signing.html). The PIV applet, however, can only handle RSA keys up to 2048 bits in key length.\r\n\r\nThe [BSI TR-02102-1 Cryptographic Mechanisms Technical Guidelines](https://www.bsi.bund.de/SharedDocs/Downloads/EN/BSI/Publications/TechGuidelines/TG02102/BSI-TR-02102-1.pdf?__blob=publicationFile&amp;v=8) (translated english version) states that from the year 2023 on (or for the usage in 2023 and later), only RSA keys with a key length greater or equal to 3000 bits are allowed. The first available _standard_ key length would be 3072 bits. I have to be compliant to the _BSI TR-02102_.\r\n\r\nThis sums up into the requirement, that I have to use 3072 bits for the key length and RSA as the algorithm, and I cannot use the PIV APK singing approach.\r\n\r\n**Is there a way to use the OpenPGP applet of Yubikey 4 to sign APK files using the standard procedure, or using a custom procedure?**\r\n\r\n_Note_: The private key is generated on the Yubikey and is not exportable. This is due to the design of the Yubikey and by my minimum security requirements. So exportation and conversation is not a possible solution.","title":"How to sign an application package (APK) using OpenPGP (Yubikey)?","body":"<p>I want to <strong>sign APK</strong> files with a OpenPGP key stored within the <strong>OpenPGP applet of my Yubikey</strong>.</p>\n\n<p>I am aware, that there is a <a href=\"https://developers.yubico.com/PIV/Guides/Android_code_signing.html\" rel=\"noreferrer\">solution for APK signing using Yubikey's PIV applet</a>. The PIV applet, however, can only handle RSA keys up to 2048 bits in key length.</p>\n\n<p>The <a href=\"https://www.bsi.bund.de/SharedDocs/Downloads/EN/BSI/Publications/TechGuidelines/TG02102/BSI-TR-02102-1.pdf?__blob=publicationFile&amp;v=8\" rel=\"noreferrer\">BSI TR-02102-1 Cryptographic Mechanisms Technical Guidelines</a> (translated english version) states that from the year 2023 on (or for the usage in 2023 and later), only RSA keys with a key length greater or equal to 3000 bits are allowed. The first available <em>standard</em> key length would be 3072 bits. I have to be compliant to the <em>BSI TR-02102</em>.</p>\n\n<p>This sums up into the requirement, that I have to use 3072 bits for the key length and RSA as the algorithm, and I cannot use the PIV APK singing approach.</p>\n\n<p><strong>Is there a way to use the OpenPGP applet of Yubikey 4 to sign APK files using the standard procedure, or using a custom procedure?</strong></p>\n\n<p><em>Note</em>: The private key is generated on the Yubikey and is not exportable. This is due to the design of the Yubikey and by my minimum security requirements. So exportation and conversation is not a possible solution.</p>\n"},{"tags":["java","maven","ant"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1681912984,"post_id":76055438,"comment_id":134133801,"body_markdown":"Does this answer your question? [Make Maven to copy dependencies into target/lib](https://stackoverflow.com/questions/97640/make-maven-to-copy-dependencies-into-target-lib) or [this one](https://stackoverflow.com/q/6689511/10952503)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/97640/make-maven-to-copy-dependencies-into-target-lib\">Make Maven to copy dependencies into target/lib</a> or <a href=\"https://stackoverflow.com/q/6689511/10952503\">this one</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681913813,"post_id":76055438,"comment_id":134134058,"body_markdown":"Use the maven-assembly-plugin to create the structure and package that into tar.gz/tar/zip file if really needed....","body":"Use the maven-assembly-plugin to create the structure and package that into tar.gz/tar/zip file if really needed...."}],"answers":[{"tags":[],"owner":{"account_id":15138431,"reputation":36,"user_id":10924206,"display_name":"Marcos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682092028,"creation_date":1682092028,"answer_id":76074769,"question_id":76055438,"body_markdown":"I&#39;m not sure about your question but if you only want to copy files creating target directories on the fly you can use the maven-antrun-plugin.\r\n\r\nSomething like\r\n\r\n   \t&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;copywar&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;target name=&quot;copy war into install folder&quot;&gt;\r\n\t\t\t\t\t&lt;copy \r\n\t\t\t\t\t\tfile=&quot;target/my.war&quot;\r\n\t\t\t\t\t\ttofile=&quot;/install/my/${maven.build.timestamp}/my.war&quot; /&gt;\r\n\t\t\t\t&lt;/target&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\t\t\r\n\r\n\r\n Is this what you are looking for?","title":"How to use Maven to create directories then copy jars and dependencies into those directories","body":"<p>I'm not sure about your question but if you only want to copy files creating target directories on the fly you can use the maven-antrun-plugin.</p>\n<p>Something like</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n&lt;version&gt;1.7&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;copywar&lt;/id&gt;\n        &lt;phase&gt;install&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;target name=&quot;copy war into install folder&quot;&gt;\n                &lt;copy \n                    file=&quot;target/my.war&quot;\n                    tofile=&quot;/install/my/${maven.build.timestamp}/my.war&quot; /&gt;\n            &lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;       \n</code></pre>\n<p>Is this what you are looking for?</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682435203,"creation_date":1681912865,"question_id":76055438,"body_markdown":"I am converting a Java project from an any build process to Maven.\r\n\r\nMaven can currently compile the jars from the project but to fully replace Ant I need to do two additional steps:\r\n1. Create a file tree \r\n2. Copy the compiled jars and other files stored in the project into desired directories created in step 1. \r\n\r\nThis tree needs to mirror the structure that both jars and resource files will appear in installed machine.\r\n\r\ne.g. the contents of `srs/foo/bar/scripts` might need to be moved to `/usr/local/myFoo/spam/bar/scripts`\r\n\r\nwhile jars might need to\r\ngo from `./myPjroject/target/*.jar` to `/usr/local/tomcat/webaps/fooApp/WEB-IBF/lib`\r\n\r\nect\r\n\r\nthis tree does not then get zipped but processed by a subsequent program. \r\n\r\nI have read that that install mojo can copy the jars but I have not seen any documentation showing that it can also copy the other files I need to move. \r\n","title":"How to use Maven to create directories then copy jars and dependencies into those directories","body":"<p>I am converting a Java project from an any build process to Maven.</p>\n<p>Maven can currently compile the jars from the project but to fully replace Ant I need to do two additional steps:</p>\n<ol>\n<li>Create a file tree</li>\n<li>Copy the compiled jars and other files stored in the project into desired directories created in step 1.</li>\n</ol>\n<p>This tree needs to mirror the structure that both jars and resource files will appear in installed machine.</p>\n<p>e.g. the contents of <code>srs/foo/bar/scripts</code> might need to be moved to <code>/usr/local/myFoo/spam/bar/scripts</code></p>\n<p>while jars might need to\ngo from <code>./myPjroject/target/*.jar</code> to <code>/usr/local/tomcat/webaps/fooApp/WEB-IBF/lib</code></p>\n<p>ect</p>\n<p>this tree does not then get zipped but processed by a subsequent program.</p>\n<p>I have read that that install mojo can copy the jars but I have not seen any documentation showing that it can also copy the other files I need to move.</p>\n"},{"tags":["java","enumset"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1682360890,"post_id":76094978,"comment_id":134199886,"body_markdown":"A little wonky, but how about: `if (!sideRestricted.remove(side)) { sideRestricted.add(side); }`. You want to avoid iterating the set to find it, but unless you extended the class I don&#39;t think there&#39;s a direct swap available. Note that operations on `EnumSet` are _extremely_ fast (it&#39;s bit logic on a `long` using `Enum#ordinal`, so extending would avail you that ability).","body":"A little wonky, but how about: <code>if (!sideRestricted.remove(side)) { sideRestricted.add(side); }</code>. You want to avoid iterating the set to find it, but unless you extended the class I don&#39;t think there&#39;s a direct swap available. Note that operations on <code>EnumSet</code> are <i>extremely</i> fast (it&#39;s bit logic on a <code>long</code> using <code>Enum#ordinal</code>, so extending would avail you that ability)."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682368592,"post_id":76094978,"comment_id":134201411,"body_markdown":"To do the bit flip in the case of extending, you&#39;d want `this.set ^= yourEnumConstant.ordinal()`, where `this.set` would be the bitfield/`long` held by `EnumSet`. Note even with the direct bit manipulation, there&#39;s still at least the three read-update-write operations. Compound assignment operators are not atomic, so (slightly) not thread safe here","body":"To do the bit flip in the case of extending, you&#39;d want <code>this.set ^= yourEnumConstant.ordinal()</code>, where <code>this.set</code> would be the bitfield/<code>long</code> held by <code>EnumSet</code>. Note even with the direct bit manipulation, there&#39;s still at least the three read-update-write operations. Compound assignment operators are not atomic, so (slightly) not thread safe here"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682381988,"creation_date":1682381988,"answer_id":76096912,"question_id":76094978,"body_markdown":"No.  `EnumSet` only exposes the basic `Set` methods, which do not include a toggle of the form you describe.\r\n\r\nI would suspect that the reason it does not provide such a method is that it would be very rarely used.  Most usages of Sets -- certainly those that&#39;d require high performance -- seem likely to only need to add and remove.","title":"XOR toggle an Enum value in or out of an EnumSet","body":"<p>No.  <code>EnumSet</code> only exposes the basic <code>Set</code> methods, which do not include a toggle of the form you describe.</p>\n<p>I would suspect that the reason it does not provide such a method is that it would be very rarely used.  Most usages of Sets -- certainly those that'd require high performance -- seem likely to only need to add and remove.</p>\n"},{"tags":[],"owner":{"account_id":6014861,"reputation":18112,"user_id":7939871,"display_name":"L&#233;a Gris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682435191,"creation_date":1682424888,"answer_id":76101064,"question_id":76094978,"body_markdown":"Given my requirements to abstract away from the implementation, keep decent performances and [Louis&#39;s answer](https://stackoverflow.com/a/76096912/7939871) confirming the absence of toggling in the `EnumSet` implementations; There is a good middle-ground for my use case.\r\n\r\nThe implementation details can be moved away from the main class, while still flipping bits.\r\n\r\nI found it out when I realised my abstraction could be reused for other kind of enumerated boolean properties packed into a binary number, where those also need a byte representation of the sided boolean state : to transmit, save and load persistent data in a minimal byte space.\r\n\r\nRewrote it this way:\r\n\r\n```java\r\npublic class EnumBoolean&lt;T extends Enum&lt;T&gt;&gt; {\r\n\r\n    public long bits = 0;\r\n\r\n    public void set(final T enumValue) {\r\n        bits |= (1L &lt;&lt; enumValue.ordinal());\r\n    }\r\n\r\n    public void clear(final T enumValue) {\r\n        bits &amp;= ~(1L &lt;&lt; enumValue.ordinal());\r\n    }\r\n\r\n    public void setBoolean(final T enumValue, final boolean boolValue) {\r\n        if (boolValue) set(enumValue);\r\n        else clear(enumValue);\r\n    }\r\n\r\n    public boolean get(final T enumValue) {\r\n        return (bits &amp; (1L &lt;&lt; enumValue.ordinal())) != 0;\r\n    }\r\n\r\n    public void toggle(final T enumValue) {\r\n        bits ^= (1L &lt;&lt; enumValue.ordinal());\r\n    }\r\n}\r\n```\r\n\r\nThen the byte bit state can be obtained by casting, saved and reloaded very efficiently.\r\n\r\nIf I had persisted with the `EnumSet` it would have required looping through values, turn it to bit and the other way to load. Or worse overkill implementation with a `BitSet` of the persistence byte, which uses and returns an array. (way too much bloat for 6-bits). I examine the `RegularEnumSet` implementation, and while switching bits internally, it also contains lots of boilerplate, type testing and checks that are useless bloat for this use case.\r\n\r\n```java\r\nEnumBoolean&lt;ForgeDirection&gt; disabledInput = new EnumBoolean&lt;&gt;();\r\n\r\n// yada yada yada\r\n\r\npublic void saveNBTData(final NBTTagCompound nbtTagCompound) {\r\n   nbtTagCompound.setByte(&quot;disabledInput&quot;, (byte) disabledInput.bits);\r\n}\r\n\r\npublic void loadNBTData(final NBTTagCompound nbtTagCompound) {\r\n    disabledInput.bits = nbtTagCompound.getByte(&quot;disabledInput&quot;);\r\n}\r\n```","title":"XOR toggle an Enum value in or out of an EnumSet","body":"<p>Given my requirements to abstract away from the implementation, keep decent performances and <a href=\"https://stackoverflow.com/a/76096912/7939871\">Louis's answer</a> confirming the absence of toggling in the <code>EnumSet</code> implementations; There is a good middle-ground for my use case.</p>\n<p>The implementation details can be moved away from the main class, while still flipping bits.</p>\n<p>I found it out when I realised my abstraction could be reused for other kind of enumerated boolean properties packed into a binary number, where those also need a byte representation of the sided boolean state : to transmit, save and load persistent data in a minimal byte space.</p>\n<p>Rewrote it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EnumBoolean&lt;T extends Enum&lt;T&gt;&gt; {\n\n    public long bits = 0;\n\n    public void set(final T enumValue) {\n        bits |= (1L &lt;&lt; enumValue.ordinal());\n    }\n\n    public void clear(final T enumValue) {\n        bits &amp;= ~(1L &lt;&lt; enumValue.ordinal());\n    }\n\n    public void setBoolean(final T enumValue, final boolean boolValue) {\n        if (boolValue) set(enumValue);\n        else clear(enumValue);\n    }\n\n    public boolean get(final T enumValue) {\n        return (bits &amp; (1L &lt;&lt; enumValue.ordinal())) != 0;\n    }\n\n    public void toggle(final T enumValue) {\n        bits ^= (1L &lt;&lt; enumValue.ordinal());\n    }\n}\n</code></pre>\n<p>Then the byte bit state can be obtained by casting, saved and reloaded very efficiently.</p>\n<p>If I had persisted with the <code>EnumSet</code> it would have required looping through values, turn it to bit and the other way to load. Or worse overkill implementation with a <code>BitSet</code> of the persistence byte, which uses and returns an array. (way too much bloat for 6-bits). I examine the <code>RegularEnumSet</code> implementation, and while switching bits internally, it also contains lots of boilerplate, type testing and checks that are useless bloat for this use case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumBoolean&lt;ForgeDirection&gt; disabledInput = new EnumBoolean&lt;&gt;();\n\n// yada yada yada\n\npublic void saveNBTData(final NBTTagCompound nbtTagCompound) {\n   nbtTagCompound.setByte(&quot;disabledInput&quot;, (byte) disabledInput.bits);\n}\n\npublic void loadNBTData(final NBTTagCompound nbtTagCompound) {\n    disabledInput.bits = nbtTagCompound.getByte(&quot;disabledInput&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":6014861,"reputation":18112,"user_id":7939871,"display_name":"L&#233;a Gris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76096912,"answer_count":2,"score":0,"last_activity_date":1682435191,"creation_date":1682360681,"question_id":76094978,"body_markdown":"I am refactoring some code that used low-level bit manipulation and masking to reimplement it with an `EnumSet`. The incentive is: having a much more maintainable and readable code. I find it appropriate to abstract the logic away from low-level implementation like bits and memory units, while trading some minor efficiency loss (if any).\r\n\r\nI already wrote the base methods to set, unset various states to replace bits. But I also need a method to flip a flag (set if unset, unset if set).\r\n\r\nHere is a simplified subset of my class. It handles the state of input restriction per side of a block in a MinecraftForge mod (if context matters). Most of the time, player interacts with the setting of the side restriction, to flip it one way or the other (thus using the `flip()` method).\r\n\r\n```java\r\npublic class InputRestrictor {\r\n\r\n    protected EnumSet&lt;ForgeDirection&gt; sideRestricted = EnumSet.noneOf(ForgeDirection.class);\r\n\r\n    public void set(final ForgeDirection side, final boolean isInputOnly) {\r\n        if (isInputOnly) sideRestricted.add(side);\r\n        else sideRestricted.remove(side);\r\n    }\r\n\r\n    public boolean get(final ForgeDirection side) {\r\n        return sideRestricted.contains(side);\r\n    }\r\n\r\n    public void flip(final ForgeDirection side) {\r\n        set(side, !get(side));\r\n    }\r\n}\r\n```\r\n\r\nI think if the `EnumSet` had a native method to flip an enum value in-out of the set, it would be more efficient than first fetching the boolean state, inverting it and setting it or removing it conditionally.\r\n\r\nI read in this post https://stackoverflow.com/q/14536665/7939871, an EnumSet is internally implemented using a bit-mask or bit-field. Would be convenient if one could just toggle XOR one or more enum values (in or out of the set) in one step like you&#39;d do with:\r\n\r\n```java\r\nbyte bits = 0b000111;\r\nbits ^= (byte) 1 &lt;&lt; 2; // inverted bit 2: bits = 0b00011\r\nbits ^= (byte) 0b111111; // inverted all at once: bits = 0b111100\r\n```\r\n\r\nAre there more direct toggling methods beside going low level with bit manipulation?\r\n\r\n","title":"XOR toggle an Enum value in or out of an EnumSet","body":"<p>I am refactoring some code that used low-level bit manipulation and masking to reimplement it with an <code>EnumSet</code>. The incentive is: having a much more maintainable and readable code. I find it appropriate to abstract the logic away from low-level implementation like bits and memory units, while trading some minor efficiency loss (if any).</p>\n<p>I already wrote the base methods to set, unset various states to replace bits. But I also need a method to flip a flag (set if unset, unset if set).</p>\n<p>Here is a simplified subset of my class. It handles the state of input restriction per side of a block in a MinecraftForge mod (if context matters). Most of the time, player interacts with the setting of the side restriction, to flip it one way or the other (thus using the <code>flip()</code> method).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InputRestrictor {\n\n    protected EnumSet&lt;ForgeDirection&gt; sideRestricted = EnumSet.noneOf(ForgeDirection.class);\n\n    public void set(final ForgeDirection side, final boolean isInputOnly) {\n        if (isInputOnly) sideRestricted.add(side);\n        else sideRestricted.remove(side);\n    }\n\n    public boolean get(final ForgeDirection side) {\n        return sideRestricted.contains(side);\n    }\n\n    public void flip(final ForgeDirection side) {\n        set(side, !get(side));\n    }\n}\n</code></pre>\n<p>I think if the <code>EnumSet</code> had a native method to flip an enum value in-out of the set, it would be more efficient than first fetching the boolean state, inverting it and setting it or removing it conditionally.</p>\n<p>I read in this post <a href=\"https://stackoverflow.com/q/14536665/7939871\">Why an EnumSet or an EnumMap is likely to be more performant than their hashed counterparts?</a>, an EnumSet is internally implemented using a bit-mask or bit-field. Would be convenient if one could just toggle XOR one or more enum values (in or out of the set) in one step like you'd do with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte bits = 0b000111;\nbits ^= (byte) 1 &lt;&lt; 2; // inverted bit 2: bits = 0b00011\nbits ^= (byte) 0b111111; // inverted all at once: bits = 0b111100\n</code></pre>\n<p>Are there more direct toggling methods beside going low level with bit manipulation?</p>\n"},{"tags":["java","spring-boot","pdf-generation","itextrenderer"],"owner":{"account_id":8082039,"reputation":29,"user_id":6090871,"display_name":"Sreekanth Dabbeeru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682434413,"creation_date":1682425007,"question_id":76101078,"body_markdown":"I am trying to generate a pdf from HTML page. For this I am using ITextRenderer. In my html code having multiple check boxes. I have disabled those check boxes. But when I convert HTML to pdf , PDF is generated. When I opened it on browser, all the check box fields are editable. How can I made a PDF non editable. Below is my code.[![code snippet image][1]][1]\r\n\r\n    \r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A1x3W.png","title":"Making non editable pdf using ItextRender","body":"<p>I am trying to generate a pdf from HTML page. For this I am using ITextRenderer. In my html code having multiple check boxes. I have disabled those check boxes. But when I convert HTML to pdf , PDF is generated. When I opened it on browser, all the check box fields are editable. How can I made a PDF non editable. Below is my code.<a href=\"https://i.stack.imgur.com/A1x3W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A1x3W.png\" alt=\"code snippet image\" /></a></p>\n"},{"tags":["java","reflection","runtime"],"comments":[{"owner":{"account_id":20772,"reputation":55133,"user_id":49942,"accept_rate":80,"display_name":"ChrisW"},"score":1,"creation_date":1246892136,"post_id":1087401,"comment_id":901054,"body_markdown":"In C# you can do this by iterating through the definition of every class in an assembly, and testing each of these classes to see whether it implements that interface.","body":"In C# you can do this by iterating through the definition of every class in an assembly, and testing each of these classes to see whether it implements that interface."},{"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":3,"creation_date":1246892456,"post_id":1087401,"comment_id":901099,"body_markdown":"Sadly, the question is not about c#.","body":"Sadly, the question is not about c#."},{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":1,"creation_date":1246892660,"post_id":1087401,"comment_id":901119,"body_markdown":"Duplicate? &#39;How do you find all subclasses of a given class in Java?&#39;, http://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java","body":"Duplicate? &#39;How do you find all subclasses of a given class in Java?&#39;, <a href=\"http://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java\" title=\"how do you find all subclasses of a given class in java\">stackoverflow.com/questions/492184/&hellip;</a>"},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1246893490,"post_id":1087401,"comment_id":901213,"body_markdown":"this question is more oriented about service loader pattern?","body":"this question is more oriented about service loader pattern?"},{"owner":{"account_id":3002540,"reputation":6032,"user_id":2547739,"accept_rate":67,"display_name":"Paul Lo"},"score":0,"creation_date":1383323388,"post_id":1087401,"comment_id":29315063,"body_markdown":"You could also refer to another old article [here](http://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection) for more details, I believe it&#39;s useful for you :)","body":"You could also refer to another old article <a href=\"http://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection\">here</a> for more details, I believe it&#39;s useful for you :)"},{"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"score":0,"creation_date":1449584522,"post_id":1087401,"comment_id":56063164,"body_markdown":"Using comment section to make a true &quot;comment&quot;: Java Reflection is annoying :S","body":"Using comment section to make a true &quot;comment&quot;: Java Reflection is annoying :S"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1246892063,"creation_date":1246892063,"answer_id":1087425,"question_id":1087401,"body_markdown":"The short answer is no.\r\n\r\nThe long answer is that subclasses can come into existence in many ways, which basically makes it impossible to categorically find them all.\r\n\r\nYou can&#39;t do it at runtime but you can&#39;t find classes until they&#39;re loaded and how do you know they&#39;re loaded? You could scan every JAR and class file but that&#39;s not definitive. Plus there are things like URL class loaders.\r\n\r\nInner classes (static and non-static) are another case to consider. Named inner classes are easier to find. Anonymous inner classes are potentially much more difficult to find.\r\n\r\nYou also have to consider that if a class has subclasses then new subclasses can be created at a later point.\r\n\r\n","title":"Is it possible to get all the subclasses of a class?","body":"<p>The short answer is no.</p>\n\n<p>The long answer is that subclasses can come into existence in many ways, which basically makes it impossible to categorically find them all.</p>\n\n<p>You can't do it at runtime but you can't find classes until they're loaded and how do you know they're loaded? You could scan every JAR and class file but that's not definitive. Plus there are things like URL class loaders.</p>\n\n<p>Inner classes (static and non-static) are another case to consider. Named inner classes are easier to find. Anonymous inner classes are potentially much more difficult to find.</p>\n\n<p>You also have to consider that if a class has subclasses then new subclasses can be created at a later point.</p>\n"},{"tags":[],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1246892168,"creation_date":1246892168,"answer_id":1087437,"question_id":1087401,"body_markdown":"If you only load classes from the disk or from URLs then you can scan the classpath and find subclasses &quot;manually&quot;.","title":"Is it possible to get all the subclasses of a class?","body":"<p>If you only load classes from the disk or from URLs then you can scan the classpath and find subclasses \"manually\".</p>\n"},{"tags":[],"owner":{"account_id":24554,"reputation":13200,"user_id":62544,"accept_rate":79,"display_name":"uriDium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246892195,"creation_date":1246892195,"answer_id":1087440,"question_id":1087401,"body_markdown":"I am trying to reason through the answer here so I am probably wrong. It would not make sense for a class to have information about its descendants or subclasses because at any point in time someone can create a new subclass of your class. Then you would have to recompile your class to include this new information every time. This does not make sense for extendable code. It is more likely for a class to contain information about its ancestors. So the only solution that I can see is for you to iterate over every class in your problem space and check but this is more than likely a horrible solution for you. ","title":"Is it possible to get all the subclasses of a class?","body":"<p>I am trying to reason through the answer here so I am probably wrong. It would not make sense for a class to have information about its descendants or subclasses because at any point in time someone can create a new subclass of your class. Then you would have to recompile your class to include this new information every time. This does not make sense for extendable code. It is more likely for a class to contain information about its ancestors. So the only solution that I can see is for you to iterate over every class in your problem space and check but this is more than likely a horrible solution for you. </p>\n"},{"tags":[],"owner":{"account_id":560337,"reputation":685,"user_id":95603,"display_name":"Tim H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246892235,"creation_date":1246892235,"answer_id":1087444,"question_id":1087401,"body_markdown":"I can always create a new subclass for any non-final class, add the subclass to the classpath, and defeat your intent. Subclassing is an open-ended proposition.\r\n\r\nAbout the best you can do is say that for a given classpath, you know what the subclasses are, and to do that, you&#39;d have to scan each class in the classpath.","title":"Is it possible to get all the subclasses of a class?","body":"<p>I can always create a new subclass for any non-final class, add the subclass to the classpath, and defeat your intent. Subclassing is an open-ended proposition.</p>\n\n<p>About the best you can do is say that for a given classpath, you know what the subclasses are, and to do that, you'd have to scan each class in the classpath.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1682434306,"creation_date":1246892516,"answer_id":1087477,"question_id":1087401,"body_markdown":"It&#39;s fairly simple using reflection.  Read [this article][1] from JavaWorld.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/javatips/jw-javatip113.html","title":"Is it possible to get all the subclasses of a class?","body":"<p>It's fairly simple using reflection.  Read <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip113.html\" rel=\"nofollow noreferrer\">this article</a> from JavaWorld.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246893115,"creation_date":1246892635,"answer_id":1087488,"question_id":1087401,"body_markdown":"The only way you&#39;d be able to do it is walking the package hierarchy for the packages available in the classpath checking each class via reflection (and that&#39;s gonna suck because you&#39;ll effectively load every class, unless you restrict your search to certain packages).  \r\n\r\nThe trouble with this sort of auto-magical behavior is that it becomes hard to quantify the application without running it, which is a maintenance headache.  I&#39;d always prefer to go the injection route (a-la Spring) passing instances via some sort of configuration.","title":"Is it possible to get all the subclasses of a class?","body":"<p>The only way you'd be able to do it is walking the package hierarchy for the packages available in the classpath checking each class via reflection (and that's gonna suck because you'll effectively load every class, unless you restrict your search to certain packages).  </p>\n\n<p>The trouble with this sort of auto-magical behavior is that it becomes hard to quantify the application without running it, which is a maintenance headache.  I'd always prefer to go the injection route (a-la Spring) passing instances via some sort of configuration.</p>\n"},{"tags":[],"owner":{"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246893090,"creation_date":1246893090,"answer_id":1087534,"question_id":1087401,"body_markdown":"Do you want to enumerate classes that implement a particular interface or enumerate classes that derive from some base class? These are two different issues.  Both as far as I know would be hard to implement since new implementations can be created/installed on a PC at any time in the future.  It sounds like you are trying to create a factory method to instantiate a particular instance and you don&#39;t want to hard-code the class name in the code.  Usually using a config file that enumerates all the classes that implement the interface is the way to go (or a database can be used).  As new classes implement the interface, you add them to the config file and the factory should pick up the new class name.","title":"Is it possible to get all the subclasses of a class?","body":"<p>Do you want to enumerate classes that implement a particular interface or enumerate classes that derive from some base class? These are two different issues.  Both as far as I know would be hard to implement since new implementations can be created/installed on a PC at any time in the future.  It sounds like you are trying to create a factory method to instantiate a particular instance and you don't want to hard-code the class name in the code.  Usually using a config file that enumerates all the classes that implement the interface is the way to go (or a database can be used).  As new classes implement the interface, you add them to the config file and the factory should pick up the new class name.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1246893457,"creation_date":1246893457,"answer_id":1087569,"question_id":1087401,"body_markdown":"you should use Java [ServiceLoader][1] that is a builtin class. It is capable of iterating at runtime over all know service (interface) implementations. \r\n\r\nIf for some reason you don&#39;t want it, you can use ClassLoader.getSystemResources() to iterate over all resources; e.g. if you have 6 times the file /META-INF/com.interface you&#39;ll get 6 iterations.  \r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Is it possible to get all the subclasses of a class?","body":"<p>you should use Java <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"noreferrer\">ServiceLoader</a> that is a builtin class. It is capable of iterating at runtime over all know service (interface) implementations. </p>\n\n<p>If for some reason you don't want it, you can use ClassLoader.getSystemResources() to iterate over all resources; e.g. if you have 6 times the file /META-INF/com.interface you'll get 6 iterations.  </p>\n"}],"owner":{"account_id":45376,"reputation":215,"user_id":2409371,"display_name":"Chris Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35119,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"closed_date":1247058509,"accepted_answer_id":1087425,"answer_count":8,"score":17,"last_activity_date":1682434306,"creation_date":1246891838,"question_id":1087401,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [How do you find all subclasses of a given class in Java?](https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java)  \r\n\r\n\r\nHi,\r\n\r\nI would like to get a list of classes that implement an interface in Java at runtime so I can do a lookup service without having to hard code it.  Is there a simple way of doing this?  I fear not.\r\n","title":"Is it possible to get all the subclasses of a class?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java\">How do you find all subclasses of a given class in Java?</a>  </p>\n</blockquote>\n\n<p>Hi,</p>\n\n<p>I would like to get a list of classes that implement an interface in Java at runtime so I can do a lookup service without having to hard code it.  Is there a simple way of doing this?  I fear not.</p>\n"},{"tags":["java","firebase","android-studio","datetime","qr-code"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682489480,"post_id":76102537,"comment_id":134222109,"body_markdown":"Are you getting any errors when you try to write an object of type `StoreInfo` to the Realtime Database?","body":"Are you getting any errors when you try to write an object of type <code>StoreInfo</code> to the Realtime Database?"},{"owner":{"account_id":28412975,"reputation":5,"user_id":21736153,"display_name":"michy"},"score":0,"creation_date":1682496696,"post_id":76102537,"comment_id":134223602,"body_markdown":"No, but nothing is displaying. @AlexMamo","body":"No, but nothing is displaying. @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682497448,"post_id":76102537,"comment_id":134223778,"body_markdown":"Have you tried to see what happens when the task is not successful?","body":"Have you tried to see what happens when the task is not successful?"},{"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"score":0,"creation_date":1682502434,"post_id":76102537,"comment_id":134224948,"body_markdown":"You need to grab the ```key``` first while doing the push before ```setValue``` like this: ```String key = dbref.push().getKey();\ndbref.child(key).setValue(storeInfo);```","body":"You need to grab the <code>key</code> first while doing the push before <code>setValue</code> like this: <code>String key = dbref.push().getKey(); dbref.child(key).setValue(storeInfo);</code>"}],"owner":{"account_id":28412975,"reputation":5,"user_id":21736153,"display_name":"michy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682434300,"creation_date":1682434246,"question_id":76102537,"body_markdown":"```\r\npublic void handleResult(Result result) {\r\n        String data = result.getText().toString();\r\n        Date dateAndTime = (Date) Calendar.getInstance().getTime();\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.getDefault());\r\n        SimpleDateFormat timeFormat = new SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault());\r\n        String date = dateFormat.format(dateAndTime);\r\n        String time = timeFormat.format(dateAndTime);\r\n\r\n        StoreInfo storeInfo = new StoreInfo(data, date, time);\r\n\r\n        dbref.push().setValue(storeInfo).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                scanner.qrtext.setText(&quot;Course: &quot; + data);\r\n                scanner.date.setText(&quot;Date: &quot; + date);\r\n                scanner.arrival.setText(&quot;Arrival time: &quot; + time);\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nIf I change the `dbref.push().setValue(data)` only 1 data are storing in firebase, but when I change it to  `dbref.push().setValue(storeInfo)`, nothing is saving. \r\n\r\nI expect to store the data of qr, date, and time.","title":"Only one data are displaying dbref.push().setValue().addOnCompleteListener","body":"<pre><code>public void handleResult(Result result) {\n        String data = result.getText().toString();\n        Date dateAndTime = (Date) Calendar.getInstance().getTime();\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.getDefault());\n        SimpleDateFormat timeFormat = new SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault());\n        String date = dateFormat.format(dateAndTime);\n        String time = timeFormat.format(dateAndTime);\n\n        StoreInfo storeInfo = new StoreInfo(data, date, time);\n\n        dbref.push().setValue(storeInfo).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                scanner.qrtext.setText(&quot;Course: &quot; + data);\n                scanner.date.setText(&quot;Date: &quot; + date);\n                scanner.arrival.setText(&quot;Arrival time: &quot; + time);\n                onBackPressed();\n            }\n        });\n    }\n</code></pre>\n<p>If I change the <code>dbref.push().setValue(data)</code> only 1 data are storing in firebase, but when I change it to  <code>dbref.push().setValue(storeInfo)</code>, nothing is saving.</p>\n<p>I expect to store the data of qr, date, and time.</p>\n"},{"tags":["java","maven","build","artifact"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1621286750,"post_id":67577185,"comment_id":119445424,"body_markdown":"an &quot;artifact&quot; is indeed most of the time a jar, but it could be anything that your project generates, a `war`, an `ear` or even a PDF document","body":"an &quot;artifact&quot; is indeed most of the time a jar, but it could be anything that your project generates, a <code>war</code>, an <code>ear</code> or even a PDF document"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1621287056,"post_id":67577185,"comment_id":119445507,"body_markdown":"Yes. Maven tries not to pigeon-hole itself as something than can only build Java projects, so you may find some of the documentation slightly vague. They are trying to avoid saying something like &quot;converting Java source to JARs&quot;, because that&#39;s not *all* it can do. In practice, 99% of the time, Java projects are what Maven&#39;s used for. For most Java projects, a JAR is going to be your main artifact. Increasingly, rather than a JAR, you might make a Docker image or even a native executable (e.g. graalvm)","body":"Yes. Maven tries not to pigeon-hole itself as something than can only build Java projects, so you may find some of the documentation slightly vague. They are trying to avoid saying something like &quot;converting Java source to JARs&quot;, because that&#39;s not <i>all</i> it can do. In practice, 99% of the time, Java projects are what Maven&#39;s used for. For most Java projects, a JAR is going to be your main artifact. Increasingly, rather than a JAR, you might make a Docker image or even a native executable (e.g. graalvm)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1621288537,"post_id":67577185,"comment_id":119445925,"body_markdown":"... or XML reports (JaCoCo), or HTML pages (JavaDoc), or...","body":"... or XML reports (JaCoCo), or HTML pages (JavaDoc), or..."},{"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"score":0,"creation_date":1621357975,"post_id":67577185,"comment_id":119470284,"body_markdown":"And can the byte code files themselves be considered an artifact?","body":"And can the byte code files themselves be considered an artifact?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1621299318,"creation_date":1621293507,"answer_id":67578099,"question_id":67577185,"body_markdown":"When trying to understand terminology, Wikipedia is only ever a secondary source.\r\n\r\nThe [Apache Maven Glossary][1] says:\r\n\r\n&gt; Artifact: An artifact is something that is either produced or used by a project. Examples of artifacts produced by Maven for a project include: JARs, source and binary distributions, WARs. Each artifact is identified by a group id, an artifact ID, a version, an extension and a classifier (extension+classifier may be named by a type).\r\n\r\n(There may be a *more* definitive source than this.  If someone can find it, please comment.)\r\n\r\nSo, yes, a JAR is an example of an artifact according to Maven terminology.  \r\n\r\nNote that the JAR doesn&#39;t need to have been produced by Maven to be an artifact in the sense that Maven uses the concept.  You can take a JAR file that was produced by (say) running the `jar` command by hand, and then ascribe it artifact coordinates by adding it to your local repo.\r\n\r\n\r\n  [1]: https://maven.apache.org/glossary.html","title":"Would a jar file be considered an artifact in Java?","body":"<p>When trying to understand terminology, Wikipedia is only ever a secondary source.</p>\n<p>The <a href=\"https://maven.apache.org/glossary.html\" rel=\"nofollow noreferrer\">Apache Maven Glossary</a> says:</p>\n<blockquote>\n<p>Artifact: An artifact is something that is either produced or used by a project. Examples of artifacts produced by Maven for a project include: JARs, source and binary distributions, WARs. Each artifact is identified by a group id, an artifact ID, a version, an extension and a classifier (extension+classifier may be named by a type).</p>\n</blockquote>\n<p>(There may be a <em>more</em> definitive source than this.  If someone can find it, please comment.)</p>\n<p>So, yes, a JAR is an example of an artifact according to Maven terminology.</p>\n<p>Note that the JAR doesn't need to have been produced by Maven to be an artifact in the sense that Maven uses the concept.  You can take a JAR file that was produced by (say) running the <code>jar</code> command by hand, and then ascribe it artifact coordinates by adding it to your local repo.</p>\n"}],"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67578099,"answer_count":1,"score":1,"last_activity_date":1682434273,"creation_date":1621286600,"question_id":67577185,"body_markdown":"Currently I&#39;m learning Maven and upon studying it I have encountered the following definition on [Wikipedia][1]:\r\n\r\n&gt; In software development, a build is the process of converting source code files into standalone software artifact(s) that can be run on a computer, or the result of doing so.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Software_build\r\n\r\nI would assume in Java the standalone artifact would be the jar file since it is the by-product from the compiled source code and it can be run standalone. However I&#39;m not entirely sure if this would be the case.\r\n","title":"Would a jar file be considered an artifact in Java?","body":"<p>Currently I'm learning Maven and upon studying it I have encountered the following definition on <a href=\"https://en.wikipedia.org/wiki/Software_build\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>In software development, a build is the process of converting source code files into standalone software artifact(s) that can be run on a computer, or the result of doing so.</p>\n</blockquote>\n<p>I would assume in Java the standalone artifact would be the jar file since it is the by-product from the compiled source code and it can be run standalone. However I'm not entirely sure if this would be the case.</p>\n"},{"tags":["java","list","stream"],"comments":[{"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"score":1,"creation_date":1682428438,"post_id":76101512,"comment_id":134211094,"body_markdown":"It&#39;s not clear what you want, and what kind of matching you are looking for.\nYou are talking 3 levels of steps, and want to update the status for 2nd level? And that is supposed to happen when the name of a step matches the name of parent step and has any child step with similar name?","body":"It&#39;s not clear what you want, and what kind of matching you are looking for. You are talking 3 levels of steps, and want to update the status for 2nd level? And that is supposed to happen when the name of a step matches the name of parent step and has any child step with similar name?"},{"owner":{"account_id":26128103,"reputation":13,"user_id":19819243,"display_name":"Gaurav Matta"},"score":0,"creation_date":1682428911,"post_id":76101512,"comment_id":134211232,"body_markdown":"The name of step and sub steps will always be different. Yes I have 3 levels of step and first attribute is step name.\nI want to change the status at 3rd level only.\nSo for example I have parent step P1,child step C1 and in the child I have anther child CC1.\nI want to change the status of CC1 and return the Parent list.","body":"The name of step and sub steps will always be different. Yes I have 3 levels of step and first attribute is step name. I want to change the status at 3rd level only. So for example I have parent step P1,child step C1 and in the child I have anther child CC1. I want to change the status of CC1 and return the Parent list."}],"answers":[{"tags":[],"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682434232,"creation_date":1682430051,"answer_id":76101832,"question_id":76101512,"body_markdown":"You are not specifying what kind of stream usage you are looking for. You don&#39;t need `flatMap` because you are not going to update the structure of the list but only modify the values in it.\r\n\r\nYou can forcibly use the `stream()` to iterate over your lists and update the values in place.\r\n\r\n        List&lt;StepsDto&gt; l1steps = new ArrayList&lt;&gt;();\r\n\r\n        l1steps.stream().forEach(l1step -&gt; {\r\n            l1step.sub_steps.stream().forEach(l2step -&gt; {\r\n                l2step.sub_steps.stream().forEach(l3step -&gt; {\r\n                    if(l3step.step.equals(l2step.step) &amp;&amp; l3step.step.equals(l1step.step)){\r\n                        l3step.status = &quot;newStatus&quot;;\r\n                    }\r\n                });\r\n            });\r\n        });\r\nAlternatively, if you don&#39;t want to modify the values in place, instead of `foreach` you could use `map` while creating new instances of steps each time.\r\n\r\n\r\n        List&lt;StepsDto&gt; result = l1steps.stream().map(l1step -&gt; {\r\n            List&lt;StepsDto&gt; l1SubSteps = l1step.sub_steps.stream().map(l2step -&gt; {\r\n                List&lt;StepsDto&gt; l2SubSteps = l2step.sub_steps.stream().map(l3Step -&gt; {\r\n                    return new StepsDto(l3Step.step, l3Step.status.equals(l2step.status) &amp;&amp; l3Step.status.equals(l1step.status) ? &quot;newStatus&quot; : l3Step.status, l3Step.sub_steps, l3Step.previousStep, l3Step.nextStep);\r\n                }).collect(Collectors.toList());\r\n                return new StepsDto(l2step.step, l2step.status, l2SubSteps, l2step.previousStep, l2step.nextStep);\r\n            }).collect(Collectors.toList());\r\n            return new StepsDto(l1step.step, l1step.status, l1SubSteps, l1step.previousStep, l1step.nextStep);\r\n        }).collect(Collectors.toList());","title":"Java use streams to modify nested list and return parent list","body":"<p>You are not specifying what kind of stream usage you are looking for. You don't need <code>flatMap</code> because you are not going to update the structure of the list but only modify the values in it.</p>\n<p>You can forcibly use the <code>stream()</code> to iterate over your lists and update the values in place.</p>\n<pre><code>    List&lt;StepsDto&gt; l1steps = new ArrayList&lt;&gt;();\n\n    l1steps.stream().forEach(l1step -&gt; {\n        l1step.sub_steps.stream().forEach(l2step -&gt; {\n            l2step.sub_steps.stream().forEach(l3step -&gt; {\n                if(l3step.step.equals(l2step.step) &amp;&amp; l3step.step.equals(l1step.step)){\n                    l3step.status = &quot;newStatus&quot;;\n                }\n            });\n        });\n    });\n</code></pre>\n<p>Alternatively, if you don't want to modify the values in place, instead of <code>foreach</code> you could use <code>map</code> while creating new instances of steps each time.</p>\n<pre><code>    List&lt;StepsDto&gt; result = l1steps.stream().map(l1step -&gt; {\n        List&lt;StepsDto&gt; l1SubSteps = l1step.sub_steps.stream().map(l2step -&gt; {\n            List&lt;StepsDto&gt; l2SubSteps = l2step.sub_steps.stream().map(l3Step -&gt; {\n                return new StepsDto(l3Step.step, l3Step.status.equals(l2step.status) &amp;&amp; l3Step.status.equals(l1step.status) ? &quot;newStatus&quot; : l3Step.status, l3Step.sub_steps, l3Step.previousStep, l3Step.nextStep);\n            }).collect(Collectors.toList());\n            return new StepsDto(l2step.step, l2step.status, l2SubSteps, l2step.previousStep, l2step.nextStep);\n        }).collect(Collectors.toList());\n        return new StepsDto(l1step.step, l1step.status, l1SubSteps, l1step.previousStep, l1step.nextStep);\n    }).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682432452,"creation_date":1682432452,"answer_id":76102238,"question_id":76101512,"body_markdown":"you could do this as follows\r\n\r\n    substeps.stream().filter(x -&gt; x.status == originalStatus)\r\n    .map(x -&gt; x.substeps).flatMap(Collection::stream).filter(x -&gt; x.status == originalStatus)\r\n    .findFirst()\r\n\r\nWhat happens above is that you take the substeps of you parent step,\r\n\r\nyou filter out the steps with different status\r\n\r\nthen you map each substep to its substeps : this gives you a stream of lists of steps, the flatmap will &quot;remove the list layer&quot; and will return a stream of all the grandchildren steps\r\n\r\nthen you filter out the grand children with a different status.\r\n\r\ntheoritically, the remaining step will have the same status as their parent and grandparent.\r\n\r\nyou can test further into the hierarchy by adding extra map.flatmap.filter steps\r\n","title":"Java use streams to modify nested list and return parent list","body":"<p>you could do this as follows</p>\n<pre><code>substeps.stream().filter(x -&gt; x.status == originalStatus)\n.map(x -&gt; x.substeps).flatMap(Collection::stream).filter(x -&gt; x.status == originalStatus)\n.findFirst()\n</code></pre>\n<p>What happens above is that you take the substeps of you parent step,</p>\n<p>you filter out the steps with different status</p>\n<p>then you map each substep to its substeps : this gives you a stream of lists of steps, the flatmap will &quot;remove the list layer&quot; and will return a stream of all the grandchildren steps</p>\n<p>then you filter out the grand children with a different status.</p>\n<p>theoritically, the remaining step will have the same status as their parent and grandparent.</p>\n<p>you can test further into the hierarchy by adding extra map.flatmap.filter steps</p>\n"}],"owner":{"account_id":26128103,"reputation":13,"user_id":19819243,"display_name":"Gaurav Matta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76101832,"answer_count":2,"score":0,"last_activity_date":1682434232,"creation_date":1682428074,"question_id":76101512,"body_markdown":"I have following dto\r\n```\r\npublic class StepsDto {\r\n\t\r\n\tprivate String step_name;\r\n\tprivate String status;\r\n\tprivate List&lt;StepsDto&gt; sub_steps;\r\n\tprivate String previousStep;\r\n\tprivate String nextStep;\r\n}\r\n```\r\nUsing streams I need to change the status of Substeps if name of a particular step and its substep and its sub sub step matches.\r\nAnd then I need to return the complete Parent list of Steps.\r\n\r\nI have tried using flatmap but it returns sublist and not the main list.\r\n\r\nSo for example I have parent step P1,child step C1 and in the child I have another child CC1. I want to change the status of CC1 and return the Parent list.","title":"Java use streams to modify nested list and return parent list","body":"<p>I have following dto</p>\n<pre><code>public class StepsDto {\n    \n    private String step_name;\n    private String status;\n    private List&lt;StepsDto&gt; sub_steps;\n    private String previousStep;\n    private String nextStep;\n}\n</code></pre>\n<p>Using streams I need to change the status of Substeps if name of a particular step and its substep and its sub sub step matches.\nAnd then I need to return the complete Parent list of Steps.</p>\n<p>I have tried using flatmap but it returns sublist and not the main list.</p>\n<p>So for example I have parent step P1,child step C1 and in the child I have another child CC1. I want to change the status of CC1 and return the Parent list.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1682433490,"post_id":76102339,"comment_id":134212766,"body_markdown":"The root cause is the last exception in the stack trace ... what have you tried to investigate that exception? In particular, does the Person class bear the necessary annotations? Is entity scanning set up appropriately?","body":"The root cause is the last exception in the stack trace ... what have you tried to investigate that exception? In particular, does the Person class bear the necessary annotations? Is entity scanning set up appropriately?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1682434926,"post_id":76102339,"comment_id":134213212,"body_markdown":"Spring Boot itself has rich documentation with practical examples. I would follow that rather than a random example on github. I.E. : https://spring.io/guides/gs/accessing-data-jpa/","body":"Spring Boot itself has rich documentation with practical examples. I would follow that rather than a random example on github. I.E. : <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a>"}],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682434135,"creation_date":1682434135,"answer_id":76102521,"question_id":76102339,"body_markdown":"The problem is in your `Person` class. You are importing your annotations from `javax.persistence.*`. After Spring Boot 3, `javax` replaced with `jakarta`.\r\n\r\nSo basically\r\n\r\nremove this line from `Person`\r\n\r\n`import javax.persistence.*`\r\n\r\nand replace it with\r\n\r\n`import jakarta.persistence.Table`","title":"Error creating bean with name &#39;personController&#39;: Unsatisfied dependency expressed through field &#39;personRepository&#39;","body":"<p>The problem is in your <code>Person</code> class. You are importing your annotations from <code>javax.persistence.*</code>. After Spring Boot 3, <code>javax</code> replaced with <code>jakarta</code>.</p>\n<p>So basically</p>\n<p>remove this line from <code>Person</code></p>\n<p><code>import javax.persistence.*</code></p>\n<p>and replace it with</p>\n<p><code>import jakarta.persistence.Table</code></p>\n"}],"owner":{"account_id":3532110,"reputation":514,"user_id":2951327,"display_name":"FrankZhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76102521,"answer_count":1,"score":0,"last_activity_date":1682434135,"creation_date":1682433010,"question_id":76102339,"body_markdown":"I am building an example project to demonstrate springboot with webservice enabled. project build successful, but had run error below, \r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personController&#39;: Unsatisfied dependency expressed through field &#39;personRepository&#39;: Error creating bean with name &#39;personRepository&#39; defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat com.example.demo3.Demo3Application.main(Demo3Application.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personRepository&#39; defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.demo3.model.Person\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 30 common frames omitted\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:56936&#39;, transport: &#39;socket&#39;\r\n```\r\n\r\nfor reference, the whole project repo can be found at\r\nhttps://github.com/fzhcary/Springboot\r\n\r\nThanks a lot!","title":"Error creating bean with name &#39;personController&#39;: Unsatisfied dependency expressed through field &#39;personRepository&#39;","body":"<p>I am building an example project to demonstrate springboot with webservice enabled. project build successful, but had run error below,</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personController': Unsatisfied dependency expressed through field 'personRepository': Error creating bean with name 'personRepository' defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at com.example.demo3.Demo3Application.main(Demo3Application.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'personRepository' defined in com.example.demo3.repository.PersonRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo3.model.Person\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.demo3.model.Person\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 30 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:56936', transport: 'socket'\n</code></pre>\n<p>for reference, the whole project repo can be found at\n<a href=\"https://github.com/fzhcary/Springboot\" rel=\"nofollow noreferrer\">https://github.com/fzhcary/Springboot</a></p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring","spring-shell"],"owner":{"account_id":28412868,"reputation":11,"user_id":21736062,"display_name":"AlexZape"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682434028,"creation_date":1682434028,"question_id":76102503,"body_markdown":"I am trying to create a CLI application that has several commands using Spring Shell, having dependencies on another project and Spring. This is my pom:\r\n\r\n\r\n```\r\n  &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\r\n  &lt;artifactId&gt;cli&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!--  Add the assemble plugin with standard configuration  --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-assembly&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;  \r\n      &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe Main.java is the following:\r\n\r\n\r\n```\r\npackage es.uca.dss.sigeca;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Main \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\n\r\nAnd my commands:\r\n\r\n\r\n```\r\npackage es.uca.dss.sigeca;\r\n\r\nimport org.springframework.shell.standard.ShellMethod;\r\n\r\nimport java.util.Date;\r\n\r\nimport org.springframework.shell.standard.ShellComponent;\r\n\r\n@ShellComponent\r\npublic class MyCommands \r\n{\r\n\tIServicesClient servicesClient = ServicesProvider.getClientServices();\r\n\tIServicesVehicle servicesVehicle = ServicesProvider.getVehicleServices();\r\n\tIServicesReserve servicesReserve = ServicesProvider.getReserveServices();\r\n\t\r\n\t@ShellMethod(&quot;Consults if a car is avalaible between two determined dates.&quot;)\r\n\tpublic void consultDisponibility(String enrollment, Date start, Date end)\r\n\t{\r\n\t\tif(servicesReserve.isAvailable(servicesVehicle.getVehicle(enrollment), start, end))\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;It is avalaible.\\n&quot;);\r\n\t\t} else System.out.println(&quot;It is not avalaible.\\n&quot;);\r\n\t}\r\n\t\r\n\t@ShellMethod(&quot;Register a new client.&quot;)\r\n\tpublic void clientRegister(String ID, String contact, String name)\r\n\t{\r\n\t\tservicesClient.registerClient(ID, contact, name);\r\n\t}\r\n\t\r\n\t@ShellMethod(&quot;Edit data from a client.&quot;)\r\n\tpublic void clientEdit(String ID, String contact, int incidences)\r\n\t{\r\n\t\tservicesClient.editClient(ID, contact, incidences);\r\n\t}\r\n}\r\n```\r\n\r\nDependencies with the other project seems to be fine, as the .jar generated file contains them, and i have no compiling problems.\r\n\r\n\r\n\r\n\r\nI tried to execute it with *mvn clean install -DskipTests* and then *java -jar target/cli1.0-jar-with-dependencies.jar*, and spring initialices, but there is no Spring Shell output or prompt for me to issue the commands, it just finishes executing.\r\n\r\nThis is the output:\r\n\r\n\r\n```\r\njava -jar target/cli-1.0-jar-with-dependencies.jar \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.6)\r\n\r\n15:31:09.186 [main] INFO es.uca.dss.sigeca.Main -- Starting Main using Java 17.0.7 with PID 39497 (/home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli/target/cli-1.0-jar-with-dependencies.jar started by alex in /home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli)\r\n15:31:09.190 [main] DEBUG es.uca.dss.sigeca.Main -- Running with Spring Boot, Spring\r\n15:31:09.192 [main] INFO es.uca.dss.sigeca.Main -- No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n15:31:09.194 [main] DEBUG org.springframework.boot.SpringApplication -- Loading source class es.uca.dss.sigeca.Main\r\n15:31:09.309 [main] DEBUG \r\n\r\n/* A lot of mor DEBUGs... */\r\n\r\n&#39;org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration&#39;\r\n15:31:11.105 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean &#39;spring.sql.init-org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties&#39;\r\n15:31:11.143 [main] INFO es.uca.dss.sigeca.Main -- Started Main in 2.279 seconds (process running for 2.6)\r\n15:31:11.146 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext -- Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@2b4a2ec7, started on Tue Apr 25 15:31:09 CEST 2023\r\n\r\n```\r\n\r\nI hope anyone can help me, I&#39;ve been around this for a long time now.\r\n","title":"Spring Shell not initializing","body":"<p>I am trying to create a CLI application that has several commands using Spring Shell, having dependencies on another project and Spring. This is my pom:</p>\n<pre><code>  &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\n  &lt;artifactId&gt;cli&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;es.uca.dss.sigeca&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.shell&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-shell-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!--  Add the assemble plugin with standard configuration  --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;es.uca.dss.sigeca.Main&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-assembly&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;  \n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The Main.java is the following:</p>\n<pre><code>package es.uca.dss.sigeca;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main \n{\n    public static void main( String[] args )\n    {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<p>And my commands:</p>\n<pre><code>package es.uca.dss.sigeca;\n\nimport org.springframework.shell.standard.ShellMethod;\n\nimport java.util.Date;\n\nimport org.springframework.shell.standard.ShellComponent;\n\n@ShellComponent\npublic class MyCommands \n{\n    IServicesClient servicesClient = ServicesProvider.getClientServices();\n    IServicesVehicle servicesVehicle = ServicesProvider.getVehicleServices();\n    IServicesReserve servicesReserve = ServicesProvider.getReserveServices();\n    \n    @ShellMethod(&quot;Consults if a car is avalaible between two determined dates.&quot;)\n    public void consultDisponibility(String enrollment, Date start, Date end)\n    {\n        if(servicesReserve.isAvailable(servicesVehicle.getVehicle(enrollment), start, end))\n        {\n            System.out.println(&quot;It is avalaible.\\n&quot;);\n        } else System.out.println(&quot;It is not avalaible.\\n&quot;);\n    }\n    \n    @ShellMethod(&quot;Register a new client.&quot;)\n    public void clientRegister(String ID, String contact, String name)\n    {\n        servicesClient.registerClient(ID, contact, name);\n    }\n    \n    @ShellMethod(&quot;Edit data from a client.&quot;)\n    public void clientEdit(String ID, String contact, int incidences)\n    {\n        servicesClient.editClient(ID, contact, incidences);\n    }\n}\n</code></pre>\n<p>Dependencies with the other project seems to be fine, as the .jar generated file contains them, and i have no compiling problems.</p>\n<p>I tried to execute it with <em>mvn clean install -DskipTests</em> and then <em>java -jar target/cli1.0-jar-with-dependencies.jar</em>, and spring initialices, but there is no Spring Shell output or prompt for me to issue the commands, it just finishes executing.</p>\n<p>This is the output:</p>\n<pre><code>java -jar target/cli-1.0-jar-with-dependencies.jar \n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n15:31:09.186 [main] INFO es.uca.dss.sigeca.Main -- Starting Main using Java 17.0.7 with PID 39497 (/home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli/target/cli-1.0-jar-with-dependencies.jar started by alex in /home/alex/Documentos/DSS/dss2022-2023-SiGeCa/cli)\n15:31:09.190 [main] DEBUG es.uca.dss.sigeca.Main -- Running with Spring Boot, Spring\n15:31:09.192 [main] INFO es.uca.dss.sigeca.Main -- No active profile set, falling back to 1 default profile: &quot;default&quot;\n15:31:09.194 [main] DEBUG org.springframework.boot.SpringApplication -- Loading source class es.uca.dss.sigeca.Main\n15:31:09.309 [main] DEBUG \n\n/* A lot of mor DEBUGs... */\n\n'org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration'\n15:31:11.105 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'spring.sql.init-org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties'\n15:31:11.143 [main] INFO es.uca.dss.sigeca.Main -- Started Main in 2.279 seconds (process running for 2.6)\n15:31:11.146 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext -- Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@2b4a2ec7, started on Tue Apr 25 15:31:09 CEST 2023\n\n</code></pre>\n<p>I hope anyone can help me, I've been around this for a long time now.</p>\n"},{"tags":["java","netty","reactor-netty","netty4"],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682433952,"creation_date":1682433952,"answer_id":76102490,"question_id":76102308,"body_markdown":"`HttpContentDecompressor.decode` sources:\r\n```\r\n...\r\n// set new content encoding,\r\nCharSequence targetContentEncoding = getTargetContentEncoding(contentEncoding);\r\nif (HttpHeaderValues.IDENTITY.contentEquals(targetContentEncoding)) {\r\n    // Do NOT set the &#39;Content-Encoding&#39; header if the target encoding is &#39;identity&#39;\r\n    // as per: https://tools.ietf.org/html/rfc2616#section-14.11\r\n    headers.remove(HttpHeaderNames.CONTENT_ENCODING);\r\n} else {\r\n    headers.set(HttpHeaderNames.CONTENT_ENCODING, targetContentEncoding);\r\n}\r\n...\r\n```\r\n\r\nUse the following snippet to prevent `Content-Encoding` header modification:\r\n```\r\npipeline.addLast(new HttpContentDecompressor() {\r\n    @Override\r\n    protected String getTargetContentEncoding(String contentEncoding) throws Exception {\r\n        return contentEncoding;\r\n    }\r\n})\r\n```","title":"Netty Server HttpContentDecompressor is removing content-encoding header from the request, can we configure it to not do so?","body":"<p><code>HttpContentDecompressor.decode</code> sources:</p>\n<pre><code>...\n// set new content encoding,\nCharSequence targetContentEncoding = getTargetContentEncoding(contentEncoding);\nif (HttpHeaderValues.IDENTITY.contentEquals(targetContentEncoding)) {\n    // Do NOT set the 'Content-Encoding' header if the target encoding is 'identity'\n    // as per: https://tools.ietf.org/html/rfc2616#section-14.11\n    headers.remove(HttpHeaderNames.CONTENT_ENCODING);\n} else {\n    headers.set(HttpHeaderNames.CONTENT_ENCODING, targetContentEncoding);\n}\n...\n</code></pre>\n<p>Use the following snippet to prevent <code>Content-Encoding</code> header modification:</p>\n<pre><code>pipeline.addLast(new HttpContentDecompressor() {\n    @Override\n    protected String getTargetContentEncoding(String contentEncoding) throws Exception {\n        return contentEncoding;\n    }\n})\n</code></pre>\n"}],"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76102490,"answer_count":1,"score":2,"last_activity_date":1682433952,"creation_date":1682432821,"question_id":76102308,"body_markdown":"I am using netty io.netty.handler.codec.http.HttpContentDecompressor by adding it into pipeline in my spring boot server, its decompressing the incoming request successfully but also removing the &#39;content-encoding:gzip&#39; header from request. Is there any way to configure netty server to stop removing this header after decompression as we really want to know if original request had come in the compressed format or decompressed format?","title":"Netty Server HttpContentDecompressor is removing content-encoding header from the request, can we configure it to not do so?","body":"<p>I am using netty io.netty.handler.codec.http.HttpContentDecompressor by adding it into pipeline in my spring boot server, its decompressing the incoming request successfully but also removing the 'content-encoding:gzip' header from request. Is there any way to configure netty server to stop removing this header after decompression as we really want to know if original request had come in the compressed format or decompressed format?</p>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":1,"creation_date":1682350790,"post_id":76092974,"comment_id":134197555,"body_markdown":"You can check out this [JWT login sample](https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login) provided by the Spring Security team.","body":"You can check out this <a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login\" rel=\"nofollow noreferrer\">JWT login sample</a> provided by the Spring Security team."}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682433881,"creation_date":1682432697,"answer_id":76102289,"question_id":76092974,"body_markdown":"&gt; How to Implement SecurityConfig in java spring for jwt token\r\n&gt; validation\r\n\r\nHere are steps to follow:\r\n\r\n**1)** Add all necessary dependencies to your project.\r\n\r\n**2)** Create a `UserDetailsServiceImpl`  class that implements the `UserDetailsService interface` which is used to load user-specific data during authentication. This class has a method to retrieve the user&#39;s details based on the username or any other data passed in the request. It is possible to use any data source  such as a database, a remote service to retrieve the user details.\r\n\r\nHere is the code example:\r\n```\r\nimport com.zufar.onlinestore.security.repository.UserDetailsRepository;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\tprivate final UserDetailsRepository userDetailsRepository;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(final String username) throws UsernameNotFoundException {\r\n\t\treturn userDetailsRepository\r\n\t\t\t\t.findByUsername(username)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User doesn&#39;t exists&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n**3)** Create a `JwtTokenUtil` class. This class is responsible for generating JWT tokens with a secret key and an expiration time, and also for validating JWT tokens passed in the HTTP header of incoming requests.\r\n\r\n\r\nHere is the code example:\r\n```\r\n@Component\r\npublic class JwtTokenUtil {\r\n\r\n    private static final String SECRET_KEY = &quot;your-secret-key&quot;;\r\n    private static final long EXPIRATION_TIME = 89990000L;\r\n\r\n    public String generateToken(UserDetails userDetails) {\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\r\n                .signWith(SignatureAlgorithm.HS256, SECRET_KEY)\r\n                .compact();\r\n    }\r\n\r\n    public boolean validateToken(String token) {\r\n        try {\r\n            Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token);\r\n            return true;\r\n        } catch (JwtException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public String getUsernameFromToken(String token) {\r\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody().getSubject();\r\n    }\r\n}\r\n```\r\n\r\n\r\n**4)** Create a class that implements `Filter` and extends `OncePerRequestFilter`. This filter is used to validate the JWT token in the incoming requests. This filter works this way: \r\n - The token is retrieved from the header of the HTTP request\r\n - The token is validated.\r\n - If the token is valid, the filter sets the authentication in the `SecurityContextHolder`.\r\n\r\nHere is the code example:\r\n```\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\tprivate final JwtAuthenticationProvider jwtAuthenticationProvider;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(@NonNull final HttpServletRequest httpRequest,\r\n\t                                @NonNull final HttpServletResponse httpResponse,\r\n\t                                @NonNull final FilterChain filterChain) throws ServletException, IOException {\r\n\t\tOptional&lt;UsernamePasswordAuthenticationToken&gt; authenticationTokenOptional = jwtAuthenticationProvider.get(httpRequest);\r\n\r\n\t\tif (authenticationTokenOptional.isPresent()) {\r\n\t\t\tUsernamePasswordAuthenticationToken authenticationToken = authenticationTokenOptional.get();\r\n\t\t\tSecurityContextHolder\r\n\t\t\t\t\t.getContext()\r\n\t\t\t\t\t.setAuthentication(authenticationToken);\r\n\t\t}\r\n\r\n\t\tfilterChain.doFilter(httpRequest, httpResponse);\r\n\t}\r\n}\r\n```\r\n**5)** Create a `SpringSecurityConfiguration` class to configure the Spring Security filter chain. This way we can:\r\n - customize the authentication and authorization mechanisms, \r\n - specify the login and logout pages, \r\n - enable/disable CSRF protection,\r\n - and more.\r\n\r\nHere is the code example:\r\n```\r\nimport com.zufar.onlinestore.security.authentication.UserDetailsServiceImpl;\r\nimport com.zufar.onlinestore.security.jwt.filter.JwtAuthenticationFilter;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SpringSecurityConfiguration {\r\n\tprivate static final String API_AUTH_URL_PREFIX = &quot;/api/auth/**&quot;;\r\n\tpublic static final String ACTUATOR_ENDPOINTS_URL_PREFIX = &quot;/actuator/**&quot;;\r\n\r\n\tprivate final UserDetailsServiceImpl userDetailsService;\r\n\tprivate final JwtAuthenticationFilter jwtTokenFilter;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(final HttpSecurity httpSecurity) throws Exception {\r\n\t\treturn httpSecurity\r\n\t\t\t\t.csrf().disable()\r\n\t\t\t\t.authorizeHttpRequests()\r\n\t\t\t\t.requestMatchers(API_AUTH_URL_PREFIX).permitAll()\r\n\t\t\t\t.requestMatchers(ACTUATOR_ENDPOINTS_URL_PREFIX).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t\t.and()\r\n\t\t\t\t.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService);\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(final HttpSecurity httpSecurity,\r\n\t                                                   final PasswordEncoder passwordEncoder,\r\n\t                                                   final UserDetailsServiceImpl userDetailService) throws Exception {\r\n\t\treturn httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\r\n\t\t\t\t.userDetailsService(userDetailService)\r\n\t\t\t\t.passwordEncoder(passwordEncoder)\r\n\t\t\t\t.and()\r\n\t\t\t\t.build();\r\n\t}\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n}\r\n\r\n```\r\n","title":"How to Implement SecurityConfig in java spring for jwt token validation","body":"<blockquote>\n<p>How to Implement SecurityConfig in java spring for jwt token\nvalidation</p>\n</blockquote>\n<p>Here are steps to follow:</p>\n<p><strong>1)</strong> Add all necessary dependencies to your project.</p>\n<p><strong>2)</strong> Create a <code>UserDetailsServiceImpl</code>  class that implements the <code>UserDetailsService interface</code> which is used to load user-specific data during authentication. This class has a method to retrieve the user's details based on the username or any other data passed in the request. It is possible to use any data source  such as a database, a remote service to retrieve the user details.</p>\n<p>Here is the code example:</p>\n<pre><code>import com.zufar.onlinestore.security.repository.UserDetailsRepository;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    private final UserDetailsRepository userDetailsRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(final String username) throws UsernameNotFoundException {\n        return userDetailsRepository\n                .findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User doesn't exists&quot;));\n    }\n}\n</code></pre>\n<p><strong>3)</strong> Create a <code>JwtTokenUtil</code> class. This class is responsible for generating JWT tokens with a secret key and an expiration time, and also for validating JWT tokens passed in the HTTP header of incoming requests.</p>\n<p>Here is the code example:</p>\n<pre><code>@Component\npublic class JwtTokenUtil {\n\n    private static final String SECRET_KEY = &quot;your-secret-key&quot;;\n    private static final long EXPIRATION_TIME = 89990000L;\n\n    public String generateToken(UserDetails userDetails) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\n                .signWith(SignatureAlgorithm.HS256, SECRET_KEY)\n                .compact();\n    }\n\n    public boolean validateToken(String token) {\n        try {\n            Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token);\n            return true;\n        } catch (JwtException e) {\n            return false;\n        }\n    }\n\n    public String getUsernameFromToken(String token) {\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody().getSubject();\n    }\n}\n</code></pre>\n<p><strong>4)</strong> Create a class that implements <code>Filter</code> and extends <code>OncePerRequestFilter</code>. This filter is used to validate the JWT token in the incoming requests. This filter works this way:</p>\n<ul>\n<li>The token is retrieved from the header of the HTTP request</li>\n<li>The token is validated.</li>\n<li>If the token is valid, the filter sets the authentication in the <code>SecurityContextHolder</code>.</li>\n</ul>\n<p>Here is the code example:</p>\n<pre><code>import org.springframework.lang.NonNull;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport lombok.RequiredArgsConstructor;\n\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n    private final JwtAuthenticationProvider jwtAuthenticationProvider;\n\n    @Override\n    protected void doFilterInternal(@NonNull final HttpServletRequest httpRequest,\n                                    @NonNull final HttpServletResponse httpResponse,\n                                    @NonNull final FilterChain filterChain) throws ServletException, IOException {\n        Optional&lt;UsernamePasswordAuthenticationToken&gt; authenticationTokenOptional = jwtAuthenticationProvider.get(httpRequest);\n\n        if (authenticationTokenOptional.isPresent()) {\n            UsernamePasswordAuthenticationToken authenticationToken = authenticationTokenOptional.get();\n            SecurityContextHolder\n                    .getContext()\n                    .setAuthentication(authenticationToken);\n        }\n\n        filterChain.doFilter(httpRequest, httpResponse);\n    }\n}\n</code></pre>\n<p><strong>5)</strong> Create a <code>SpringSecurityConfiguration</code> class to configure the Spring Security filter chain. This way we can:</p>\n<ul>\n<li>customize the authentication and authorization mechanisms,</li>\n<li>specify the login and logout pages,</li>\n<li>enable/disable CSRF protection,</li>\n<li>and more.</li>\n</ul>\n<p>Here is the code example:</p>\n<pre><code>import com.zufar.onlinestore.security.authentication.UserDetailsServiceImpl;\nimport com.zufar.onlinestore.security.jwt.filter.JwtAuthenticationFilter;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SpringSecurityConfiguration {\n    private static final String API_AUTH_URL_PREFIX = &quot;/api/auth/**&quot;;\n    public static final String ACTUATOR_ENDPOINTS_URL_PREFIX = &quot;/actuator/**&quot;;\n\n    private final UserDetailsServiceImpl userDetailsService;\n    private final JwtAuthenticationFilter jwtTokenFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(final HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(API_AUTH_URL_PREFIX).permitAll()\n                .requestMatchers(ACTUATOR_ENDPOINTS_URL_PREFIX).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(final HttpSecurity httpSecurity,\n                                                       final PasswordEncoder passwordEncoder,\n                                                       final UserDetailsServiceImpl userDetailService) throws Exception {\n        return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\n                .userDetailsService(userDetailService)\n                .passwordEncoder(passwordEncoder)\n                .and()\n                .build();\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":16623085,"reputation":3880,"user_id":12012828,"display_name":"Rahul Kavati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76102289,"answer_count":1,"score":0,"last_activity_date":1682433881,"creation_date":1682346496,"question_id":76092974,"body_markdown":"I&#39;m trying to implement Security Config for java spring project for JWT Token validation using spring security 6. Can anyone suggest the steps to implement it using bearer token. \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private JwtTokenFilter jwtTokenFilter;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/authenticate&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .sessionManagement(management -&gt; management.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n        // http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\n\r\nFacing issues to setup configure.\r\n","title":"How to Implement SecurityConfig in java spring for jwt token validation","body":"<p>I'm trying to implement Security Config for java spring project for JWT Token validation using spring security 6. Can anyone suggest the steps to implement it using bearer token.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    private JwtTokenFilter jwtTokenFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/authenticate&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement(management -&gt; management.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n        // http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>Facing issues to setup configure.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9517,"page":475,"page_size":100}
