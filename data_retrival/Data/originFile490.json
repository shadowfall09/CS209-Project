{"items":[{"tags":["java","spring","postgresql","concurrency","jparepository"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1681215323,"post_id":75982840,"comment_id":134017299,"body_markdown":"Do you have an exception thrown in the console? Could you also provide the code of your Message class?","body":"Do you have an exception thrown in the console? Could you also provide the code of your Message class?"},{"owner":{"account_id":19637320,"reputation":64,"user_id":14374327,"display_name":"tatar88t"},"score":0,"creation_date":1681401902,"post_id":75982840,"comment_id":134054035,"body_markdown":"in console there are no exceptions, and some of messages sent set to status message_seen: true but some are not.\nAdded Class Message to question","body":"in console there are no exceptions, and some of messages sent set to status message_seen: true but some are not. Added Class Message to question"}],"answers":[{"tags":[],"owner":{"account_id":19637320,"reputation":64,"user_id":14374327,"display_name":"tatar88t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681900396,"creation_date":1681900396,"answer_id":76053479,"question_id":75982840,"body_markdown":"the issue was resolved by change method setSeen from recieving messages with STOMP ( @MessageMapping(&quot;/setSeen&quot;)) to simple @PostMapping(&quot;/setSeen) so it was some problem with STOMP, but what was that problem still a question...","title":"Consecutive update requests in JPA repository","body":"<p>the issue was resolved by change method setSeen from recieving messages with STOMP ( @MessageMapping(&quot;/setSeen&quot;)) to simple @PostMapping(&quot;/setSeen) so it was some problem with STOMP, but what was that problem still a question...</p>\n"}],"owner":{"account_id":19637320,"reputation":64,"user_id":14374327,"display_name":"tatar88t"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681900396,"creation_date":1681193343,"question_id":75982840,"body_markdown":"I have a table &quot;message&quot;. In this table there is column message_seen boolean. In my application i have chat, and when user_1 have dialog page opened with user_2 i need to set all incoming messages as message_seen: true.\r\n\r\nSo i have a request within JPA repository:\r\n\r\n```\r\n@Modifying\r\n@Query(&quot;UPDATE Message m SET m.message_seen = true WHERE m.message_id = :messageId&quot;)\r\nvoid setMessageSeen(@Param(&quot;messageId&quot;) Long messageId);\r\n```\r\nand in controller i call it (i recieve messages by STOMP)\r\n```\r\n@Transactional\r\n@MessageMapping(&quot;/setSeen&quot;)\r\npublic void setSeen(Map&lt;String, Integer&gt; messageIdObj){\r\n  System.out.println(messageIdObj.get(&quot;messageId&quot;))\r\n  messageRepository.setMessageSeen(messageIdObj.get(&quot;messageId&quot;));\r\n}\r\n\r\n```\r\n\r\nBut when i make requests one by one in a short time interval (about  one second or two) \r\nin console i see all messageId i have sent,\r\nbut not all messages in table (I&#39;m using postgresql db) have field &quot;message_seen&quot; set to true, If i make interval between sending messages longer everything works properly. What is the reason of this behaviour? Is this related to concurrency and how i can fix it? \r\n\r\nChatGPT3 did not help me, it offers to add \r\n\r\n`@Lock(LockModeType.PESSIMISTIC_WRITE)` \r\n\r\nbut it didn&#39;t work for me\r\nhere is Message class\r\n```\r\n@Entity\r\n@Table(name = &quot;message&quot;)\r\npublic class Message {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;message_id&quot;)\r\n    private Integer messageId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;from_user&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    private User fromUser;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;to_user&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    private User toUser;\r\n\r\n    @Column(name = &quot;message_text&quot;, nullable = false)\r\n    private String messageText;\r\n\r\n    @Column(name = &quot;sent_date&quot;, nullable = false)\r\n    private LocalDateTime sentDate;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;friendship_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    private Friendship friendship;\r\n\r\n    @Column(name=&quot;type&quot;)\r\n    private String type;\r\n\r\n    @Column(name=&quot;message_seen&quot;)\r\n    private Boolean messageSeen;\r\n\r\n\r\n//constructor, getters, setters\r\n```\r\n\r\nthis is message repository\r\n```\r\npublic interface MessageRepository extends JpaRepository&lt;Message, Integer&gt; {\r\n\r\n    List&lt;Message&gt; findByFriendshipId(int friendshipId);\r\n\r\n    @Query(&quot;SELECT m FROM Message m WHERE m.toUser.id = :toUser AND m.messageSeen = false&quot;)\r\n    List&lt;Message&gt; findUnreadMessagesByToUser(@Param(&quot;toUser&quot;) Integer toUser);\r\n\r\n    @Modifying\r\n    @Query(&quot;UPDATE Message m SET m.messageSeen = true WHERE m.messageId = :messageId&quot;)\r\n    void setMessageSeen(@Param(&quot;messageId&quot;) Integer messageId);\r\n}\r\n```","title":"Consecutive update requests in JPA repository","body":"<p>I have a table &quot;message&quot;. In this table there is column message_seen boolean. In my application i have chat, and when user_1 have dialog page opened with user_2 i need to set all incoming messages as message_seen: true.</p>\n<p>So i have a request within JPA repository:</p>\n<pre><code>@Modifying\n@Query(&quot;UPDATE Message m SET m.message_seen = true WHERE m.message_id = :messageId&quot;)\nvoid setMessageSeen(@Param(&quot;messageId&quot;) Long messageId);\n</code></pre>\n<p>and in controller i call it (i recieve messages by STOMP)</p>\n<pre><code>@Transactional\n@MessageMapping(&quot;/setSeen&quot;)\npublic void setSeen(Map&lt;String, Integer&gt; messageIdObj){\n  System.out.println(messageIdObj.get(&quot;messageId&quot;))\n  messageRepository.setMessageSeen(messageIdObj.get(&quot;messageId&quot;));\n}\n\n</code></pre>\n<p>But when i make requests one by one in a short time interval (about  one second or two)\nin console i see all messageId i have sent,\nbut not all messages in table (I'm using postgresql db) have field &quot;message_seen&quot; set to true, If i make interval between sending messages longer everything works properly. What is the reason of this behaviour? Is this related to concurrency and how i can fix it?</p>\n<p>ChatGPT3 did not help me, it offers to add</p>\n<p><code>@Lock(LockModeType.PESSIMISTIC_WRITE)</code></p>\n<p>but it didn't work for me\nhere is Message class</p>\n<pre><code>@Entity\n@Table(name = &quot;message&quot;)\npublic class Message {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;message_id&quot;)\n    private Integer messageId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;from_user&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private User fromUser;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;to_user&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private User toUser;\n\n    @Column(name = &quot;message_text&quot;, nullable = false)\n    private String messageText;\n\n    @Column(name = &quot;sent_date&quot;, nullable = false)\n    private LocalDateTime sentDate;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;friendship_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Friendship friendship;\n\n    @Column(name=&quot;type&quot;)\n    private String type;\n\n    @Column(name=&quot;message_seen&quot;)\n    private Boolean messageSeen;\n\n\n//constructor, getters, setters\n</code></pre>\n<p>this is message repository</p>\n<pre><code>public interface MessageRepository extends JpaRepository&lt;Message, Integer&gt; {\n\n    List&lt;Message&gt; findByFriendshipId(int friendshipId);\n\n    @Query(&quot;SELECT m FROM Message m WHERE m.toUser.id = :toUser AND m.messageSeen = false&quot;)\n    List&lt;Message&gt; findUnreadMessagesByToUser(@Param(&quot;toUser&quot;) Integer toUser);\n\n    @Modifying\n    @Query(&quot;UPDATE Message m SET m.messageSeen = true WHERE m.messageId = :messageId&quot;)\n    void setMessageSeen(@Param(&quot;messageId&quot;) Integer messageId);\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","java-11","azul-zulu"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1681847254,"post_id":76048459,"comment_id":134122145,"body_markdown":"Use `jenv`? https://github.com/jenv/jenv.","body":"Use <code>jenv</code>? <a href=\"https://github.com/jenv/jenv\" rel=\"nofollow noreferrer\">github.com/jenv/jenv</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1681849048,"post_id":76048459,"comment_id":134122555,"body_markdown":"Why would you want 11.0.7 rather than 11.0.18? The third number indicates a release for bug fixes and security improvements, without changes to features.","body":"Why would you want 11.0.7 rather than 11.0.18? The third number indicates a release for bug fixes and security improvements, without changes to features."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1681849260,"post_id":76048459,"comment_id":134122605,"body_markdown":"If you *really* need an outmoded minor update version, check the archives of some JDK vendors. For example, [Adoptium](https://adoptium.net/) has archives, but their version 11 only goes back to 11.0.12. Besides Azul and Adoptium, other JDK vendors include: Microsoft, Amazon, BellSoft, SAP, Oracle, IBM, Red Hat, and more.","body":"If you <i>really</i> need an outmoded minor update version, check the archives of some JDK vendors. For example, <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a> has archives, but their version 11 only goes back to 11.0.12. Besides Azul and Adoptium, other JDK vendors include: Microsoft, Amazon, BellSoft, SAP, Oracle, IBM, Red Hat, and more."}],"answers":[{"tags":[],"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681900069,"creation_date":1681900069,"answer_id":76053421,"question_id":76048459,"body_markdown":"You can download older updates of the Zulu builds of OpenJDK from our content delivery server:\r\n\r\nhttps://cdn.azul.com/zulu/bin/\r\n\r\nAs others have pointed out, the use of older updates is not recommended due to the number of security vulnerabilities that you will be exposed to.","title":"How to install specific jdk/jre version in macos","body":"<p>You can download older updates of the Zulu builds of OpenJDK from our content delivery server:</p>\n<p><a href=\"https://cdn.azul.com/zulu/bin/\" rel=\"nofollow noreferrer\">https://cdn.azul.com/zulu/bin/</a></p>\n<p>As others have pointed out, the use of older updates is not recommended due to the number of security vulnerabilities that you will be exposed to.</p>\n"}],"owner":{"account_id":3861019,"reputation":1631,"user_id":3198767,"accept_rate":17,"display_name":"Deepak Kothari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681900069,"creation_date":1681846591,"question_id":76048459,"body_markdown":"How to install specific jdk/jre version in macos. I would need to install `11.0.7`.\r\n\r\nI installed 11 version from here https://www.azul.com/downloads/?version=java-11-download-lts&amp;os=macos#zulu but it ended up on version `11.0.18`. Also I don&#39;t find articles to download specific minor version `11.0.7`. Any suggestions?","title":"How to install specific jdk/jre version in macos","body":"<p>How to install specific jdk/jre version in macos. I would need to install <code>11.0.7</code>.</p>\n<p>I installed 11 version from here <a href=\"https://www.azul.com/downloads/?version=java-11-download-lts&amp;os=macos#zulu\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?version=java-11-download-lts&amp;os=macos#zulu</a> but it ended up on version <code>11.0.18</code>. Also I don't find articles to download specific minor version <code>11.0.7</code>. Any suggestions?</p>\n"},{"tags":["java","spring","spring-data","spring-data-jdbc","localdatetime"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1606060907,"post_id":64886345,"comment_id":114838854,"body_markdown":"This looks like a bug to me. Could you create an issue including a reproducer? https://jira.spring.io/projects/DATAJDBC","body":"This looks like a bug to me. Could you create an issue including a reproducer? <a href=\"https://jira.spring.io/projects/DATAJDBC\" rel=\"nofollow noreferrer\">jira.spring.io/projects/DATAJDBC</a>"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1606482717,"post_id":64886345,"comment_id":114981143,"body_markdown":"Not related to the issue at hand, but `LocalDateTime` is not suiteable for time stamping since it does not denote a point in time. Uset `Instant` instead.","body":"Not related to the issue at hand, but <code>LocalDateTime</code> is not suiteable for time stamping since it does not denote a point in time. Uset <code>Instant</code> instead."},{"owner":{"account_id":4475393,"reputation":41,"user_id":3640641,"display_name":"Paras Vanjani"},"score":0,"creation_date":1606611088,"post_id":64886345,"comment_id":115013250,"body_markdown":"And does `Instant` gets converted to `java.sql.Timestamp`? I wonder why the custom converter didn’t kick in when I tried converting `LocalDateTime` to `java.sql.Timestamp`","body":"And does <code>Instant</code> gets converted to <code>java.sql.Timestamp</code>? I wonder why the custom converter didn’t kick in when I tried converting <code>LocalDateTime</code> to <code>java.sql.Timestamp</code>"},{"owner":{"account_id":4475393,"reputation":41,"user_id":3640641,"display_name":"Paras Vanjani"},"score":0,"creation_date":1606615490,"post_id":64886345,"comment_id":115013941,"body_markdown":"I’ll try using `Instant`","body":"I’ll try using <code>Instant</code>"},{"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"score":0,"creation_date":1611133985,"post_id":64886345,"comment_id":116349734,"body_markdown":"Same issue with `Instant`","body":"Same issue with <code>Instant</code>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606487838,"creation_date":1606487838,"answer_id":65039155,"question_id":64886345,"body_markdown":"The problem is that Spring Data JDBC considers `Date` as the target type to be used with JDBC. But `Date` only has millisecond precision.\r\n\r\nI currently can&#39;t think of an easy workaround, this should be fixed in Spring Data JDBC and therefore I created a ticket for it: https://jira.spring.io/browse/DATAJDBC-637","title":"Spring-data-jdbc microsecond precision lost during insert of LocalDateTime type variable","body":"<p>The problem is that Spring Data JDBC considers <code>Date</code> as the target type to be used with JDBC. But <code>Date</code> only has millisecond precision.</p>\n<p>I currently can't think of an easy workaround, this should be fixed in Spring Data JDBC and therefore I created a ticket for it: <a href=\"https://jira.spring.io/browse/DATAJDBC-637\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAJDBC-637</a></p>\n"}],"owner":{"account_id":4475393,"reputation":41,"user_id":3640641,"display_name":"Paras Vanjani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1677,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1681900057,"creation_date":1605668131,"question_id":64886345,"body_markdown":"It seems to me that when we run `repository.save(entity)` and the entity has a `LocaldateTime` variable mapped to a column of type `timestamp(6)`, spring-data-jdbc (or some underlying library) is rounding off the data inserted in the column to 3 decimal points and appending zeros\r\n\r\n\r\nBelow is the simple `CustomerOrder` entity I plan to insert\r\n\r\n    public class CustomerOrder {\r\n\r\n    @Id\r\n    String id;\r\n\r\n    LocalDateTime createdAt;\r\n\r\n}\r\n\r\n\r\nHere is the schema\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS customer_order (\r\n    id char(36) NOT NULL PRIMARY KEY ,\r\n    created_at timestamp(6)\r\n);\r\n```\r\n\r\nThe CRUD repo interface extension\r\n```\r\n@Repository\r\npublic interface OrderRepository extends CrudRepository&lt;CustomerOrder, String&gt; {\r\n}\r\n```\r\n\r\nThe configuration class to set the ID\r\n```\r\n@Configuration\r\npublic class SampleAppConfig {\r\n\r\n    @Bean\r\n    public ApplicationListener&lt;?&gt; idAndTimeStampSetting() {\r\n        return new ApplicationListener&lt;BeforeSaveEvent&gt;() {\r\n            @Override\r\n            public void onApplicationEvent(BeforeSaveEvent beforeSaveEvent) {\r\n                var entity =beforeSaveEvent.getEntity();\r\n                if ( entity instanceof  CustomerOrder ){\r\n                    CustomerOrder customerEntity = (CustomerOrder) entity;\r\n                    customerEntity.setId(UUID.randomUUID().toString());\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe app\r\n\r\n```\r\n@SpringBootApplication\r\npublic class SampleApp {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SampleApp.class, args);\r\n    }\r\n}\r\n```\r\n\r\nThe Test case\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\nclass CustomerOrderRepositoryTest {\r\n    @Autowired\r\n    OrderRepository repository;\r\n    @Test\r\n    public void testFind() {\r\n        // create entity to insert\r\n        CustomerOrder expectedCustomerOrder = new CustomerOrder();\r\n        expectedCustomerOrder\r\n              .setCreatedAt(LocalDateTime.now().truncatedTo(ChronoUnit.MICROS));\r\n\r\n        // run the insert\r\n        repository.save(expectedCustomerOrder);\r\n        \r\n        // run findall to get everything\r\n        List&lt;CustomerOrder&gt; allActualOrders = StreamSupport.stream(repository.findAll().spliterator(), false).collect(Collectors.toList());\r\n        \r\n        //validate data\r\n        assertEquals(1, allActualOrders.size());\r\n        assertEquals(expectedCustomerOrder, allActualOrders.get(0));\r\n    }\r\n}\r\n```\r\n\r\n\r\nTest Case output\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HBwY8.png\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :CustomerOrder(id=c8a9fc0e-ee9a-4798-b273-323b3a922a43, createdAt=2020-11-18T10:44:03.390097)\r\nActual   :CustomerOrder(id=c8a9fc0e-ee9a-4798-b273-323b3a922a43, createdAt=2020-11-18T10:44:03.390)\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\r\n\tat org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1124)\r\n\tat com.test.sample.sdj.CustomerOrderRepositoryTest.testFind(CustomerOrderRepositoryTest.java:36)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have tried writing a custom converter and registering the same to make sure I explicitly convert `java.time.LocalDateTime` to `java.sql.Timestamp` . No Joy!\r\n\r\nThis works when I change the datatype of `createdAt` from `LocalDateTime` to `Timestamp` but that is not what I would like to do for my domain model. \r\n\r\nI blame the `save` instead of `findAll` here instead of update because I see the records in my database with millisecond precision and appended zeros\r\n\r\nThis is ran against H2(v1.4.200) and MYSQL (v5.7) .\r\n\r\nAny known issues with spring-data-jdbc or any available workarounds? ","title":"Spring-data-jdbc microsecond precision lost during insert of LocalDateTime type variable","body":"<p>It seems to me that when we run <code>repository.save(entity)</code> and the entity has a <code>LocaldateTime</code> variable mapped to a column of type <code>timestamp(6)</code>, spring-data-jdbc (or some underlying library) is rounding off the data inserted in the column to 3 decimal points and appending zeros</p>\n<p>Below is the simple <code>CustomerOrder</code> entity I plan to insert</p>\n<pre><code>public class CustomerOrder {\n\n@Id\nString id;\n\nLocalDateTime createdAt;\n</code></pre>\n<p>}</p>\n<p>Here is the schema</p>\n<pre><code>CREATE TABLE IF NOT EXISTS customer_order (\n    id char(36) NOT NULL PRIMARY KEY ,\n    created_at timestamp(6)\n);\n</code></pre>\n<p>The CRUD repo interface extension</p>\n<pre><code>@Repository\npublic interface OrderRepository extends CrudRepository&lt;CustomerOrder, String&gt; {\n}\n</code></pre>\n<p>The configuration class to set the ID</p>\n<pre><code>@Configuration\npublic class SampleAppConfig {\n\n    @Bean\n    public ApplicationListener&lt;?&gt; idAndTimeStampSetting() {\n        return new ApplicationListener&lt;BeforeSaveEvent&gt;() {\n            @Override\n            public void onApplicationEvent(BeforeSaveEvent beforeSaveEvent) {\n                var entity =beforeSaveEvent.getEntity();\n                if ( entity instanceof  CustomerOrder ){\n                    CustomerOrder customerEntity = (CustomerOrder) entity;\n                    customerEntity.setId(UUID.randomUUID().toString());\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>The app</p>\n<pre><code>@SpringBootApplication\npublic class SampleApp {\n    public static void main(String[] args) {\n        SpringApplication.run(SampleApp.class, args);\n    }\n}\n</code></pre>\n<p>The Test case</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\nclass CustomerOrderRepositoryTest {\n    @Autowired\n    OrderRepository repository;\n    @Test\n    public void testFind() {\n        // create entity to insert\n        CustomerOrder expectedCustomerOrder = new CustomerOrder();\n        expectedCustomerOrder\n              .setCreatedAt(LocalDateTime.now().truncatedTo(ChronoUnit.MICROS));\n\n        // run the insert\n        repository.save(expectedCustomerOrder);\n        \n        // run findall to get everything\n        List&lt;CustomerOrder&gt; allActualOrders = StreamSupport.stream(repository.findAll().spliterator(), false).collect(Collectors.toList());\n        \n        //validate data\n        assertEquals(1, allActualOrders.size());\n        assertEquals(expectedCustomerOrder, allActualOrders.get(0));\n    }\n}\n</code></pre>\n<p>Test Case output</p>\n<p><a href=\"https://i.stack.imgur.com/HBwY8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HBwY8.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :CustomerOrder(id=c8a9fc0e-ee9a-4798-b273-323b3a922a43, createdAt=2020-11-18T10:44:03.390097)\nActual   :CustomerOrder(id=c8a9fc0e-ee9a-4798-b273-323b3a922a43, createdAt=2020-11-18T10:44:03.390)\n&lt;Click to see difference&gt;\n\n\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\n    at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1124)\n    at com.test.sample.sdj.CustomerOrderRepositoryTest.testFind(CustomerOrderRepositoryTest.java:36)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n<p>I have tried writing a custom converter and registering the same to make sure I explicitly convert <code>java.time.LocalDateTime</code> to <code>java.sql.Timestamp</code> . No Joy!</p>\n<p>This works when I change the datatype of <code>createdAt</code> from <code>LocalDateTime</code> to <code>Timestamp</code> but that is not what I would like to do for my domain model.</p>\n<p>I blame the <code>save</code> instead of <code>findAll</code> here instead of update because I see the records in my database with millisecond precision and appended zeros</p>\n<p>This is ran against H2(v1.4.200) and MYSQL (v5.7) .</p>\n<p>Any known issues with spring-data-jdbc or any available workarounds?</p>\n"},{"tags":["java","file-upload","postman","multipartform-data","resteasy"],"answers":[{"tags":[],"owner":{"account_id":11406710,"reputation":23,"user_id":8361949,"display_name":"G&#246;rkem Demirkol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681899998,"creation_date":1681899998,"answer_id":76053407,"question_id":75756849,"body_markdown":"Do you set header Content/type while calling your webservice at /upload? if yes this could be the issue. Maybe your problem is similar to this below issue \r\n\r\nhttps://stackoverflow.com/questions/36005436/the-request-was-rejected-because-no-multipart-boundary-was-found-in-springboot\r\n\r\n\r\n","title":"Debugging RESTEasy File Upload - `org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request`","body":"<p>Do you set header Content/type while calling your webservice at /upload? if yes this could be the issue. Maybe your problem is similar to this below issue</p>\n<p><a href=\"https://stackoverflow.com/questions/36005436/the-request-was-rejected-because-no-multipart-boundary-was-found-in-springboot\">The request was rejected because no multipart boundary was found in springboot</a></p>\n"}],"owner":{"account_id":12978750,"reputation":1,"user_id":9821627,"display_name":"crazypanda666"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681899998,"creation_date":1678972861,"question_id":75756849,"body_markdown":"I am getting the following error when I try to call a webservice at `/upload` to upload a multipart-form data using RESTEasy.\r\n\r\n`org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found.`\r\n\r\n`/upload` webservice:\r\n\r\n```\r\n@POST\r\n\t@Path(&quot;/upload&quot;)\r\n\t@Consumes(&quot;multipart/form-data&quot;)\r\n\tpublic Response uploadFile(MultipartFormDataInput input) {\r\n\r\n\t\tString fileName = &quot;&quot;;\r\n\t\t\r\n\t\tMap&lt;String, List&lt;InputPart&gt;&gt; uploadForm = input.getFormDataMap();\r\n\t\tList&lt;InputPart&gt; inputParts = uploadForm.get(&quot;uploadedFile&quot;);\r\n\r\n\t\tfor (InputPart inputPart : inputParts) {\r\n\r\n\t\t try {\r\n\r\n\t\t\tMultivaluedMap&lt;String, String&gt; header = inputPart.getHeaders();\r\n\t\t\tfileName = getFileName(header);\r\n\r\n\t\t\t//convert the uploaded file to inputstream\r\n\t\t\tInputStream inputStream = inputPart.getBody(InputStream.class,null);\r\n\r\n\t\t\tbyte [] bytes = IOUtils.toByteArray(inputStream);\r\n\t\t\t\t\r\n\t\t\t//constructs upload file path\r\n\t\t\tfileName = UPLOADED_FILE_PATH + fileName;\r\n\t\t\t\t\r\n\t\t\twriteFile(bytes,fileName);\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\r\n\t\t  } catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t  }\r\n\r\n\t\t}\r\n\r\n\t\treturn Response.status(200)\r\n\t\t    .entity(&quot;uploadFile is called, Uploaded file name : &quot; + fileName).build();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * header sample\r\n\t * {\r\n\t * \tContent-Type=[image/png], \r\n\t * \tContent-Disposition=[form-data; name=&quot;file&quot;; filename=&quot;filename.extension&quot;]\r\n\t * }\r\n\t **/\r\n\t//get uploaded filename, is there a easy way in RESTEasy?\r\n\tprivate String getFileName(MultivaluedMap&lt;String, String&gt; header) {\r\n\r\n\t\tString[] contentDisposition = header.getFirst(&quot;Content-Disposition&quot;).split(&quot;;&quot;);\r\n\t\t\r\n\t\tfor (String filename : contentDisposition) {\r\n\t\t\tif ((filename.trim().startsWith(&quot;filename&quot;))) {\r\n\r\n\t\t\t\tString[] name = filename.split(&quot;=&quot;);\r\n\t\t\t\t\r\n\t\t\t\tString finalFileName = name[1].trim().replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\r\n\t\t\t\treturn finalFileName;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;unknown&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhen I try to debug it with debug points inside the web service, the debug control is not going inside the webservice.\r\n\r\nI used Postman with the correct headers to send the request and got the following error as response:\r\n\r\n&gt; java.lang.RuntimeException: RESTEASY007500: Could find no Content-Dispostion header within part\r\n\r\nTo make sure I am looking at the right method in the web service&#39;s code, I replaced the entire method with a return statement that returned a 500 Internal Server Error. This meant I should receive a 500 Internal Server error upon calling the /upload endpoint; however, I still received the same error as before.\r\n\r\nIt appears some other logic is run before the control ever reaches the /upload method, and I can&#39;t for the life of me figure out where that&#39;s coming from. It might be a decorator of some sort, but I&#39;m not too familiar with Java, so any pointers would be helpful.\r\n\r\n**Sidenote:** As I was unsure what was causing this error, I even looked at the [source code for RESTEasy on GitHub](https://github.com/resteasy/resteasy/blob/ab69a05700e6df987d6bf8de00d58fc57263c4fb/providers/multipart/src/main/java/org/jboss/resteasy/plugins/providers/multipart/i18n/Messages.java#L27). I figured it has something to do with `Content-Disposition` header not being provided correctly, but I am providing it correctly to the best of my knowledge. \r\n\r\nI also tried to provide Content-Disposition header within the multipart form body, but that did not help.\r\n\r\nHow do I resolve this error?","title":"Debugging RESTEasy File Upload - `org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request`","body":"<p>I am getting the following error when I try to call a webservice at <code>/upload</code> to upload a multipart-form data using RESTEasy.</p>\n<p><code>org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found.</code></p>\n<p><code>/upload</code> webservice:</p>\n<pre><code>@POST\n    @Path(&quot;/upload&quot;)\n    @Consumes(&quot;multipart/form-data&quot;)\n    public Response uploadFile(MultipartFormDataInput input) {\n\n        String fileName = &quot;&quot;;\n        \n        Map&lt;String, List&lt;InputPart&gt;&gt; uploadForm = input.getFormDataMap();\n        List&lt;InputPart&gt; inputParts = uploadForm.get(&quot;uploadedFile&quot;);\n\n        for (InputPart inputPart : inputParts) {\n\n         try {\n\n            MultivaluedMap&lt;String, String&gt; header = inputPart.getHeaders();\n            fileName = getFileName(header);\n\n            //convert the uploaded file to inputstream\n            InputStream inputStream = inputPart.getBody(InputStream.class,null);\n\n            byte [] bytes = IOUtils.toByteArray(inputStream);\n                \n            //constructs upload file path\n            fileName = UPLOADED_FILE_PATH + fileName;\n                \n            writeFile(bytes,fileName);\n                \n            System.out.println(&quot;Done&quot;);\n\n          } catch (IOException e) {\n            e.printStackTrace();\n          }\n\n        }\n\n        return Response.status(200)\n            .entity(&quot;uploadFile is called, Uploaded file name : &quot; + fileName).build();\n\n    }\n\n    /**\n     * header sample\n     * {\n     *  Content-Type=[image/png], \n     *  Content-Disposition=[form-data; name=&quot;file&quot;; filename=&quot;filename.extension&quot;]\n     * }\n     **/\n    //get uploaded filename, is there a easy way in RESTEasy?\n    private String getFileName(MultivaluedMap&lt;String, String&gt; header) {\n\n        String[] contentDisposition = header.getFirst(&quot;Content-Disposition&quot;).split(&quot;;&quot;);\n        \n        for (String filename : contentDisposition) {\n            if ((filename.trim().startsWith(&quot;filename&quot;))) {\n\n                String[] name = filename.split(&quot;=&quot;);\n                \n                String finalFileName = name[1].trim().replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\n                return finalFileName;\n            }\n        }\n        return &quot;unknown&quot;;\n    }\n}\n</code></pre>\n<p>When I try to debug it with debug points inside the web service, the debug control is not going inside the webservice.</p>\n<p>I used Postman with the correct headers to send the request and got the following error as response:</p>\n<blockquote>\n<p>java.lang.RuntimeException: RESTEASY007500: Could find no Content-Dispostion header within part</p>\n</blockquote>\n<p>To make sure I am looking at the right method in the web service's code, I replaced the entire method with a return statement that returned a 500 Internal Server Error. This meant I should receive a 500 Internal Server error upon calling the /upload endpoint; however, I still received the same error as before.</p>\n<p>It appears some other logic is run before the control ever reaches the /upload method, and I can't for the life of me figure out where that's coming from. It might be a decorator of some sort, but I'm not too familiar with Java, so any pointers would be helpful.</p>\n<p><strong>Sidenote:</strong> As I was unsure what was causing this error, I even looked at the <a href=\"https://github.com/resteasy/resteasy/blob/ab69a05700e6df987d6bf8de00d58fc57263c4fb/providers/multipart/src/main/java/org/jboss/resteasy/plugins/providers/multipart/i18n/Messages.java#L27\" rel=\"nofollow noreferrer\">source code for RESTEasy on GitHub</a>. I figured it has something to do with <code>Content-Disposition</code> header not being provided correctly, but I am providing it correctly to the best of my knowledge.</p>\n<p>I also tried to provide Content-Disposition header within the multipart form body, but that did not help.</p>\n<p>How do I resolve this error?</p>\n"},{"tags":["java","regex","intellij-idea","regex-group"],"answers":[{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681899937,"creation_date":1681899937,"answer_id":76053400,"question_id":76053216,"body_markdown":"You need to make your groups [non-capturing][1] `(?: ... )` and then wrap them into capturing ones. Something like:\r\n```\r\n&quot;\\\\+?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){1,3}?)[._\\\\- ]?\\\\(?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3})\\\\)?[._\\\\- ]?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3})[._\\\\- ]?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){4})&quot;;\r\n```\r\n\r\nReasoning: if group matched multiple times only last occurrence is captured.\r\n\r\nAlso, I&#39;ve put spaces into symbol classes of delimiters.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/3512471","title":"Why does my RegEx gives me only one element instead of the complete group in Java?","body":"<p>You need to make your groups <a href=\"https://stackoverflow.com/q/3512471\">non-capturing</a> <code>(?: ... )</code> and then wrap them into capturing ones. Something like:</p>\n<pre><code>&quot;\\\\+?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){1,3}?)[._\\\\- ]?\\\\(?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3})\\\\)?[._\\\\- ]?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3})[._\\\\- ]?((?:zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){4})&quot;;\n</code></pre>\n<p>Reasoning: if group matched multiple times only last occurrence is captured.</p>\n<p>Also, I've put spaces into symbol classes of delimiters.</p>\n"}],"owner":{"account_id":28348008,"reputation":1,"user_id":21679886,"display_name":"unCoderCeleste"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76053400,"answer_count":1,"score":-2,"last_activity_date":1681899937,"creation_date":1681898631,"question_id":76053216,"body_markdown":"I am new here and this is my first post. I&#39;am also new to Java and RegEx. So...\r\n\r\nI am working in Java and writing a RegEx to match phone numbers in a chat with this format: `+XXX (XXX) XXX XXXX` Written in numbers and/or in words.\r\n\r\nThis is my regex:\r\n\r\n`&quot;\\\\+?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){1,3}?[._\\\\-]?\r\n\\\\(?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3}\\\\)?[._\\\\-]?\r\n(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3}[._\\\\-]?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){4}&quot;;`\r\n\r\nThen using the method `.group()` to print the complete match and it works fine but if I want to print every different group with this loop:\r\n\r\n```\r\nfor (int i = 1; i &lt;= match.groupCount(); i++) {\r\n    if (match.group(i) != null) {\r\n        System.out.println(&quot;Group &quot; + i + &quot;: &quot; + match.group(i));\r\n    }\r\n}\r\n```\r\n\r\nthen it prints ONLY JUST ONE DIGIT (OR WORD) of every group.\r\n\r\nWhy is that? And what do I have to do to print every element of every group?\r\n\r\n\r\nI&#39;ve also tried this regex\r\n\r\n`&quot;\\\\+?(zero{1,3}|uno{1,3}|due{1,3}|tre{1,3}|quattro{1,3}|cinque{1,3}|sei{1,3}|sette{1,3}|otto{1,3}|nove{1,3}|\\\\d{1,3})?[._\\\\-]?\\\\(?(zero{3}|uno{3}|due{3}|tre{3}|quattro{3}|cinque{3}|sei{3}|sette{3}|otto{3}|nove{3}|\\\\d{3})\\\\)?[._\\\\-]?(zero{3}|uno{3}|due{3}|tre{3}|quattro{3}|cinque{3}|sei{3}|sette{3}|otto{3}|nove{3}|\\\\d{3})[._\\\\-]?(zero{4}|uno{4}|due{4}|tre{4}|quattro{4}|cinque{4}|sei{4}|sette{4}|otto{4}|nove{4}|\\\\d{4})&quot;;`\r\n\r\n...and also this one:\r\n\r\n`&quot;\\\\+?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{1,3})?[._\\\\-]?\\\\(?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{3})\\\\)?[._\\\\-]?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{3})[._\\\\-]?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{4})&quot;;`\r\n\r\nThanks in advance! :)\r\n\r\n","title":"Why does my RegEx gives me only one element instead of the complete group in Java?","body":"<p>I am new here and this is my first post. I'am also new to Java and RegEx. So...</p>\n<p>I am working in Java and writing a RegEx to match phone numbers in a chat with this format: <code>+XXX (XXX) XXX XXXX</code> Written in numbers and/or in words.</p>\n<p>This is my regex:</p>\n<p><code>&quot;\\\\+?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){1,3}?[._\\\\-]? \\\\(?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3}\\\\)?[._\\\\-]? (zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){3}[._\\\\-]?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d){4}&quot;;</code></p>\n<p>Then using the method <code>.group()</code> to print the complete match and it works fine but if I want to print every different group with this loop:</p>\n<pre><code>for (int i = 1; i &lt;= match.groupCount(); i++) {\n    if (match.group(i) != null) {\n        System.out.println(&quot;Group &quot; + i + &quot;: &quot; + match.group(i));\n    }\n}\n</code></pre>\n<p>then it prints ONLY JUST ONE DIGIT (OR WORD) of every group.</p>\n<p>Why is that? And what do I have to do to print every element of every group?</p>\n<p>I've also tried this regex</p>\n<p><code>&quot;\\\\+?(zero{1,3}|uno{1,3}|due{1,3}|tre{1,3}|quattro{1,3}|cinque{1,3}|sei{1,3}|sette{1,3}|otto{1,3}|nove{1,3}|\\\\d{1,3})?[._\\\\-]?\\\\(?(zero{3}|uno{3}|due{3}|tre{3}|quattro{3}|cinque{3}|sei{3}|sette{3}|otto{3}|nove{3}|\\\\d{3})\\\\)?[._\\\\-]?(zero{3}|uno{3}|due{3}|tre{3}|quattro{3}|cinque{3}|sei{3}|sette{3}|otto{3}|nove{3}|\\\\d{3})[._\\\\-]?(zero{4}|uno{4}|due{4}|tre{4}|quattro{4}|cinque{4}|sei{4}|sette{4}|otto{4}|nove{4}|\\\\d{4})&quot;;</code></p>\n<p>...and also this one:</p>\n<p><code>&quot;\\\\+?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{1,3})?[._\\\\-]?\\\\(?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{3})\\\\)?[._\\\\-]?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{3})[._\\\\-]?(zero|uno|due|tre|quattro|cinque|sei|sette|otto|nove|\\\\d{4})&quot;;</code></p>\n<p>Thanks in advance! :)</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681902028,"post_id":76053372,"comment_id":134130790,"body_markdown":"I don&#39;t know where do you get it from but the build configuration is wrong. If you are starting a new project then you can generate it here https://start.spring.io/","body":"I don&#39;t know where do you get it from but the build configuration is wrong. If you are starting a new project then you can generate it here <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1681905805,"post_id":76053372,"comment_id":134131704,"body_markdown":"the problem looks like to be with ur logging configuration - please show ur logging config file (for example `logback.xml`)","body":"the problem looks like to be with ur logging configuration - please show ur logging config file (for example <code>logback.xml</code>)"}],"owner":{"account_id":9181424,"reputation":164,"user_id":6825083,"display_name":"Harmeet Kaur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681899715,"creation_date":1681899715,"question_id":76053372,"body_markdown":"I&#39;m creating a spring-boot starter application. The build is giving success but I&#39;m unable to start the application it is stuck at a particular point and not moving forward not even throwing any error. I tried waiting for some time after running the app but nothing happened.\r\nattaching ss for the same.\r\n\r\nAlso attaching my build.gradle\r\n\r\n    [![buildscript {\r\n        dependencies{\r\n    //        classpath(libs.plugin.sphinx.gradle)\r\n            classpath(&quot;com.github.davidmc24.gradle.plugin:gradle-avro-plugin:1.2.0&quot;)\r\n        }\r\n        ext {\r\n    //        jib_version = &#39;2.7.1&#39;\r\n            gradle_git_version = &#39;1.5.1&#39;\r\n            spring_boot_version = &#39;2.6.6&#39;\r\n            spring_dependency_management_version = &#39;1.0.11.RELEASE&#39;\r\n    //        sphinx_version = &#39;2.6.1&#39;\r\n    //        sonar_qube_version = &#39;2.8&#39;\r\n    //        johnrengelman_processes = &#39;0.5.0&#39;\r\n    //        openapi_gradle_plugin = &#39;1.3.0&#39;\r\n    //        franzbecker_gradle_plugin = &#39;4.0.0&#39;\r\n    //        openapi_core_version = &#39;1.4.3&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &#39;groovy&#39;\r\n        id &#39;jacoco&#39;\r\n        alias(libs.plugins.plugin.gcloud.jib)\r\n        alias(libs.plugins.plugin.springframework.boot)\r\n        alias(libs.plugins.plugin.gradle.git.properties)\r\n        alias(libs.plugins.plugin.spring.dependencymgmt)\r\n    //    alias(libs.plugins.plugin.openapi.gen)\r\n        alias(libs.plugins.plugin.sonarqube)\r\n        alias(libs.plugins.plugin.freeair.lombok)\r\n    //    alias(libs.plugins.plugin.kotlin.jvm)\r\n    }\r\n    /*\r\n    plugins.withType(JacocoPlugin) {\r\n        tasks\\[&quot;test&quot;\\].finalizedBy &#39;jacocoTestReport&#39;\r\n    }*/\r\n    \r\n    springBoot {\r\n        buildInfo()\r\n    }\r\n    \r\n    \r\n    /*jib {\r\n        // specify the name of docker image to be built\r\n        to.image = &quot;eu.gcr.io/dmn01-rskctl-bld-01-2fd1/rsk/nfr-op-consumer-svc/nfr-op-consumer-svc&quot;\r\n    \r\n        // specify the exact base image to be used.\r\n        //eg: harbor.mgmt-bld.oncp.dev/mve_tools_rtl/sbs-java-wss-distroless:release_v0.8.0\r\n    //    from.image = &quot;&lt;key your base image&gt;&quot;\r\n        from.image = &quot;harbor.mgmt-bld.oncp.dev/base_images/distroless/java:nonroot_912dc0513659&quot;\r\n        container.user = &quot;nonroot&quot;\r\n    }*/\r\n    \r\n    configurations {\r\n        all*.exclude module : &#39;spring-boot-starter-logging&#39;\r\n    }\r\n    \r\n    repositories {\r\n        maven {\r\n            url = &quot;https://nexus.mgmt-bld.oncp.dev/repository/maven-public/&quot;\r\n        }\r\n        maven {\r\n            url = &quot;https://nexus.sbs-bld.oncp.dev/repository/shared-services/&quot;\r\n        }\r\n        mavenCentral()\r\n    }\r\n    \r\n    def spring_cloud_version = &#39;Hoxton.SR12&#39;\r\n    def gcp_cloud_version = &#39;24.3.0&#39;\r\n    def lombok_version = &#39;1.18.26&#39;\r\n    def spring_boot_version = &#39;2.6.6&#39;\r\n    def spring_cloud_gcp_version = &quot;4.1.4&quot;\r\n    \r\n    \r\n    \r\n    dependencies {\r\n        implementation &quot;org.projectlombok:lombok:${lombok_version}&quot;\r\n    \r\n        implementation &#39;org.json:json:20220320&#39;\r\n    \r\n        implementation &quot;org.springframework.boot:spring-boot-starter-log4j2:${spring_boot_version}&quot;\r\n        implementation &#39;org.springframework:spring-core:5.3.20&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;com.google.cloud:google-cloud-core&#39;\r\n    \r\n        implementation &#39;com.google.cloud:spring-cloud-gcp-starter-storage&#39;\r\n        implementation &#39;com.google.cloud:google-cloud-bigquery&#39;\r\n        implementation platform(&#39;com.google.cloud:libraries-bom:26.11.0&#39;)\r\n    \r\n    \r\n        testImplementation (&#39;org.springframework.boot:spring-boot-starter-test:2.6.6&#39;) {\r\n            exclude group: &#39;junit&#39;, module: &#39;junit&#39;\r\n        }\r\n    \r\n        annotationProcessor &quot;org.projectlombok:lombok:${lombok_version}&quot;\r\n    \r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${spring_cloud_version}&quot;\r\n            mavenBom &quot;com.google.cloud:libraries-bom:${gcp_cloud_version}&quot;\r\n            mavenBom &quot;com.google.cloud:spring-cloud-gcp-dependencies:${spring_cloud_gcp_version}&quot;\r\n        }\r\n    }\r\n    \r\n    group = &quot;com.lbg.dmn01.rsk&quot;\r\n    version = &quot;1.0.0&quot;\r\n    sourceCompatibility = &#39;11&#39;\r\n    targetCompatibility = &#39;11&#39;\r\n    \r\n    publishing {\r\n        publications {\r\n            maven(MavenPublication) {\r\n                from(components.java)\r\n            }\r\n        }\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &quot;UTF-8&quot;\r\n    //    dependsOn openApiGenerate\r\n    }\r\n    \r\n    /*sphinx {\r\n        sourceDirectory = &quot;${projectDir}/documentation/source&quot;\r\n        outputDirectory = &quot;${projectDir}/documentation/target&quot;\r\n    }*/\r\n    \r\n    sonarqube {\r\n        properties {\r\n            property &quot;sonar.sourceEncoding&quot;, &quot;UTF-8&quot;\r\n            property &quot;sonar.exclusions&quot;, &quot;**/package-name1/**, **/package-name2/**, **/ClassName1.java, **/ClassName2.java&quot;\r\n            property &#39;sonar.coverage.jacoco.xmlReportPaths&#39;, &quot;$projectDir/build/reports/jacoco/test/jacocoTestReport.xml&quot;\r\n            property &quot;sonar.junit.reportsPath&quot;, &quot;$projectDir/build/test-results/test&quot;\r\n            //ignore listed rules\r\n            property &quot;sonar.issue.ignore.multicriteria&quot;, &quot;e1&quot;\r\n            //Local-Variable Type Inference should be used (Declare this local variable with &quot;var&quot; instead., )\r\n            property &quot;sonar.issue.ignore.multicriteria.e1.ruleKey&quot;, &quot;java:S6212&quot;\r\n            property &quot;sonar.issue.ignore.multicriteria.e1.resourceKey&quot;, &quot;**/*&quot;\r\n        }\r\n    }\r\n    \r\n    /*jacocoTestReport {\r\n        reports {\r\n            xml.enabled true\r\n            csv.enabled false\r\n        }\r\n    }*/\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }][1]][1]\r\n[![Error images][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OoJ0p.png","title":"Unable to start Spring boot Microservice","body":"<p>I'm creating a spring-boot starter application. The build is giving success but I'm unable to start the application it is stuck at a particular point and not moving forward not even throwing any error. I tried waiting for some time after running the app but nothing happened.\nattaching ss for the same.</p>\n<p>Also attaching my build.gradle</p>\n<pre><code>[![buildscript {\n    dependencies{\n//        classpath(libs.plugin.sphinx.gradle)\n        classpath(&quot;com.github.davidmc24.gradle.plugin:gradle-avro-plugin:1.2.0&quot;)\n    }\n    ext {\n//        jib_version = '2.7.1'\n        gradle_git_version = '1.5.1'\n        spring_boot_version = '2.6.6'\n        spring_dependency_management_version = '1.0.11.RELEASE'\n//        sphinx_version = '2.6.1'\n//        sonar_qube_version = '2.8'\n//        johnrengelman_processes = '0.5.0'\n//        openapi_gradle_plugin = '1.3.0'\n//        franzbecker_gradle_plugin = '4.0.0'\n//        openapi_core_version = '1.4.3'\n    }\n}\n\nplugins {\n    id 'java'\n    id 'maven-publish'\n    id 'groovy'\n    id 'jacoco'\n    alias(libs.plugins.plugin.gcloud.jib)\n    alias(libs.plugins.plugin.springframework.boot)\n    alias(libs.plugins.plugin.gradle.git.properties)\n    alias(libs.plugins.plugin.spring.dependencymgmt)\n//    alias(libs.plugins.plugin.openapi.gen)\n    alias(libs.plugins.plugin.sonarqube)\n    alias(libs.plugins.plugin.freeair.lombok)\n//    alias(libs.plugins.plugin.kotlin.jvm)\n}\n/*\nplugins.withType(JacocoPlugin) {\n    tasks\\[&quot;test&quot;\\].finalizedBy 'jacocoTestReport'\n}*/\n\nspringBoot {\n    buildInfo()\n}\n\n\n/*jib {\n    // specify the name of docker image to be built\n    to.image = &quot;eu.gcr.io/dmn01-rskctl-bld-01-2fd1/rsk/nfr-op-consumer-svc/nfr-op-consumer-svc&quot;\n\n    // specify the exact base image to be used.\n    //eg: harbor.mgmt-bld.oncp.dev/mve_tools_rtl/sbs-java-wss-distroless:release_v0.8.0\n//    from.image = &quot;&lt;key your base image&gt;&quot;\n    from.image = &quot;harbor.mgmt-bld.oncp.dev/base_images/distroless/java:nonroot_912dc0513659&quot;\n    container.user = &quot;nonroot&quot;\n}*/\n\nconfigurations {\n    all*.exclude module : 'spring-boot-starter-logging'\n}\n\nrepositories {\n    maven {\n        url = &quot;https://nexus.mgmt-bld.oncp.dev/repository/maven-public/&quot;\n    }\n    maven {\n        url = &quot;https://nexus.sbs-bld.oncp.dev/repository/shared-services/&quot;\n    }\n    mavenCentral()\n}\n\ndef spring_cloud_version = 'Hoxton.SR12'\ndef gcp_cloud_version = '24.3.0'\ndef lombok_version = '1.18.26'\ndef spring_boot_version = '2.6.6'\ndef spring_cloud_gcp_version = &quot;4.1.4&quot;\n\n\n\ndependencies {\n    implementation &quot;org.projectlombok:lombok:${lombok_version}&quot;\n\n    implementation 'org.json:json:20220320'\n\n    implementation &quot;org.springframework.boot:spring-boot-starter-log4j2:${spring_boot_version}&quot;\n    implementation 'org.springframework:spring-core:5.3.20'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.google.cloud:google-cloud-core'\n\n    implementation 'com.google.cloud:spring-cloud-gcp-starter-storage'\n    implementation 'com.google.cloud:google-cloud-bigquery'\n    implementation platform('com.google.cloud:libraries-bom:26.11.0')\n\n\n    testImplementation ('org.springframework.boot:spring-boot-starter-test:2.6.6') {\n        exclude group: 'junit', module: 'junit'\n    }\n\n    annotationProcessor &quot;org.projectlombok:lombok:${lombok_version}&quot;\n\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${spring_cloud_version}&quot;\n        mavenBom &quot;com.google.cloud:libraries-bom:${gcp_cloud_version}&quot;\n        mavenBom &quot;com.google.cloud:spring-cloud-gcp-dependencies:${spring_cloud_gcp_version}&quot;\n    }\n}\n\ngroup = &quot;com.lbg.dmn01.rsk&quot;\nversion = &quot;1.0.0&quot;\nsourceCompatibility = '11'\ntargetCompatibility = '11'\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            from(components.java)\n        }\n    }\n}\n\ntasks.withType(JavaCompile) {\n    options.encoding = &quot;UTF-8&quot;\n//    dependsOn openApiGenerate\n}\n\n/*sphinx {\n    sourceDirectory = &quot;${projectDir}/documentation/source&quot;\n    outputDirectory = &quot;${projectDir}/documentation/target&quot;\n}*/\n\nsonarqube {\n    properties {\n        property &quot;sonar.sourceEncoding&quot;, &quot;UTF-8&quot;\n        property &quot;sonar.exclusions&quot;, &quot;**/package-name1/**, **/package-name2/**, **/ClassName1.java, **/ClassName2.java&quot;\n        property 'sonar.coverage.jacoco.xmlReportPaths', &quot;$projectDir/build/reports/jacoco/test/jacocoTestReport.xml&quot;\n        property &quot;sonar.junit.reportsPath&quot;, &quot;$projectDir/build/test-results/test&quot;\n        //ignore listed rules\n        property &quot;sonar.issue.ignore.multicriteria&quot;, &quot;e1&quot;\n        //Local-Variable Type Inference should be used (Declare this local variable with &quot;var&quot; instead., )\n        property &quot;sonar.issue.ignore.multicriteria.e1.ruleKey&quot;, &quot;java:S6212&quot;\n        property &quot;sonar.issue.ignore.multicriteria.e1.resourceKey&quot;, &quot;**/*&quot;\n    }\n}\n\n/*jacocoTestReport {\n    reports {\n        xml.enabled true\n        csv.enabled false\n    }\n}*/\n\ntasks.named('test') {\n    useJUnitPlatform()\n}][1]][1]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OoJ0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OoJ0p.png\" alt=\"Error images\" /></a></p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1681797859,"post_id":76041011,"comment_id":134110188,"body_markdown":"I didn&#39;t understand your problem, is the query being printed after the insert your problem?","body":"I didn&#39;t understand your problem, is the query being printed after the insert your problem?"},{"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"score":0,"creation_date":1681807570,"post_id":76041011,"comment_id":134112193,"body_markdown":"@ArunSudhakaran If i am inserting 10 insert queries in db with batch size 5 , I would like to see only 2 insert queries in console","body":"@ArunSudhakaran If i am inserting 10 insert queries in db with batch size 5 , I would like to see only 2 insert queries in console"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1681811969,"post_id":76041011,"comment_id":134113161,"body_markdown":"https://stackoverflow.com/questions/42002249/hibernate-how-to-verify-if-batch-insert-is-really-performed\nhttps://stackoverflow.com/questions/46184020/hibernate-batch-processing","body":"<a href=\"https://stackoverflow.com/questions/42002249/hibernate-how-to-verify-if-batch-insert-is-really-performed\" title=\"hibernate how to verify if batch insert is really performed\">stackoverflow.com/questions/42002249/&hellip;</a> <a href=\"https://stackoverflow.com/questions/46184020/hibernate-batch-processing\" title=\"hibernate batch processing\">stackoverflow.com/questions/46184020/hibernate-batch-process&zwnj;&#8203;ing</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681895238,"post_id":76041011,"comment_id":134129220,"body_markdown":"Please use code tags to post code and not images. ALso you are using MySQL which needs additional configuration on the driver level for batching. At least according to your tags you are using MySQL and not SQL Server). Finally check at the database side what you are actually receiving, the logging is from hibernate while the actual batching might take place at the driver level (which isn&#39;t being logged), this is for instance the case with MySQL. Hibernate will log indidivual queries while in the end it will be a single one.","body":"Please use code tags to post code and not images. ALso you are using MySQL which needs additional configuration on the driver level for batching. At least according to your tags you are using MySQL and not SQL Server). Finally check at the database side what you are actually receiving, the logging is from hibernate while the actual batching might take place at the driver level (which isn&#39;t being logged), this is for instance the case with MySQL. Hibernate will log indidivual queries while in the end it will be a single one."}],"answers":[{"tags":[],"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681809406,"creation_date":1681797203,"answer_id":76041176,"question_id":76041011,"body_markdown":"This feature works only if hibernate_sequence is set for ID&#39;s generation process for your entities, not with AUTO or IDENTITY managed by DB provider.\r\n\r\nUpdate (example):\r\n&gt; @Id @GeneratedValue(strategy=GenerationType.SEQUENCE,\r\n&gt;                 generator=&quot;users_seq&quot;) @SequenceGenerator(name=&quot;users_seq&quot;\r\n&gt; , allocationSize = 1)","title":"Batch Insert in hibernate generating mulitiple queries","body":"<p>This feature works only if hibernate_sequence is set for ID's generation process for your entities, not with AUTO or IDENTITY managed by DB provider.</p>\n<p>Update (example):</p>\n<blockquote>\n<p>@Id @GeneratedValue(strategy=GenerationType.SEQUENCE,\ngenerator=&quot;users_seq&quot;) @SequenceGenerator(name=&quot;users_seq&quot;\n, allocationSize = 1)</p>\n</blockquote>\n"}],"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681899650,"creation_date":1681790369,"question_id":76041011,"body_markdown":"I have 10 records and I am trying to insert 5 records at a time using batch insert in hibernate.But the problem here is after every session.save() it is generating insert query. So if i want to insert 1000 records it will generate 1000 insert queries. \r\nI wanted to insert 5 records at a time.\r\nBelow is the code snippet\r\n\r\n    public void saveobjects(List&lt;DBDimAssetGroup&gt; objects) {\r\n\t\t Session session = super.getsession();\r\n\t\tfor (int i = 1; i &lt;= 10; i++) {\r\n\t\t\tSystem.out.println(&quot;Statement Queued : &quot; + i);\r\n\t\t\tDBDimAssetGroup obj = objects.get(i);\r\n\t\t\tsession.save(obj);\t\t\r\n\t\t\tif (i % 5 == 0) {\r\n\t\t\t\tsession.flush();\r\n\t\t\t\tsession.clear();\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tsession.close();\r\n\t}\r\n\r\nBelow is the ScreenShot of console generating 10 queries for 10 inserts\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBelow is the Hibernate Configuration\r\n[![enter image description here][2]][2]\r\n    \r\n\r\n\r\n**EDIT 1**:\r\nAfter changing GenerationType to Sequence in Entity Class , I am getting below error \r\n[![enter image description here][3]][3]\r\n\r\n\r\nBelow is the Entity class\r\n[![enter image description here][4]][4]\r\n\r\n\r\n**EDIT 2**:\r\nEven after setting generationtype to sequence It is generating multiple queries\r\nBelow is the console\r\n[![enter image description here][5]][5]\r\n\r\n\r\nBelow is the Entity Class\r\n\t\r\n\t\r\n\r\n    @Id\r\n\t@GeneratedValue(strategy=GenerationType.SEQUENCE,generator=&quot;users_seq&quot;)\r\n\t@SequenceGenerator(name=&quot;users_seq&quot; , allocationSize = 1, sequenceName = &quot;DIM_ASSET_GROUP_SEQ&quot;)\r\n\t@Column(name=&quot;ASSET_GROUP_ID&quot;, updatable = false, insertable = false)\r\n\tprivate int assetgroupid;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CJKtw.png\r\n  [2]: https://i.stack.imgur.com/kUqLM.png\r\n  [3]: https://i.stack.imgur.com/FRumL.png\r\n  [4]: https://i.stack.imgur.com/QJuQi.png\r\n  [5]: https://i.stack.imgur.com/0ottj.png\r\n  [6]: https://i.stack.imgur.com/k92Oi.png","title":"Batch Insert in hibernate generating mulitiple queries","body":"<p>I have 10 records and I am trying to insert 5 records at a time using batch insert in hibernate.But the problem here is after every session.save() it is generating insert query. So if i want to insert 1000 records it will generate 1000 insert queries.\nI wanted to insert 5 records at a time.\nBelow is the code snippet</p>\n<pre><code>public void saveobjects(List&lt;DBDimAssetGroup&gt; objects) {\n     Session session = super.getsession();\n    for (int i = 1; i &lt;= 10; i++) {\n        System.out.println(&quot;Statement Queued : &quot; + i);\n        DBDimAssetGroup obj = objects.get(i);\n        session.save(obj);      \n        if (i % 5 == 0) {\n            session.flush();\n            session.clear();        \n        }\n    }\n    session.close();\n}\n</code></pre>\n<p>Below is the ScreenShot of console generating 10 queries for 10 inserts\n<a href=\"https://i.stack.imgur.com/CJKtw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CJKtw.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the Hibernate Configuration\n<a href=\"https://i.stack.imgur.com/kUqLM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kUqLM.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 1</strong>:\nAfter changing GenerationType to Sequence in Entity Class , I am getting below error\n<a href=\"https://i.stack.imgur.com/FRumL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FRumL.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the Entity class\n<a href=\"https://i.stack.imgur.com/QJuQi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QJuQi.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 2</strong>:\nEven after setting generationtype to sequence It is generating multiple queries\nBelow is the console\n<a href=\"https://i.stack.imgur.com/0ottj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ottj.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the Entity Class</p>\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.SEQUENCE,generator=&quot;users_seq&quot;)\n@SequenceGenerator(name=&quot;users_seq&quot; , allocationSize = 1, sequenceName = &quot;DIM_ASSET_GROUP_SEQ&quot;)\n@Column(name=&quot;ASSET_GROUP_ID&quot;, updatable = false, insertable = false)\nprivate int assetgroupid;\n</code></pre>\n"},{"tags":["java","constructor"],"answers":[{"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412275487,"creation_date":1412275487,"answer_id":26167448,"question_id":26167397,"body_markdown":"This line:\r\n\r\n    this.geboortedatum = new Datum();\r\n\r\nIs using the default constructor.  This will set no values.  Try to pass the parameters in via constructor like this:\r\n\r\n    this.geboortedatum = new Datum(1, 2, 3);\r\n\r\nIf you want to take advantage of the `static` method you wrote (which is where you ask for user input), then do the following:\r\n\r\n    this.geboortedatum = Datum.newDatum();","title":"Java constructor vs static method","body":"<p>This line:</p>\n\n<pre><code>this.geboortedatum = new Datum();\n</code></pre>\n\n<p>Is using the default constructor.  This will set no values.  Try to pass the parameters in via constructor like this:</p>\n\n<pre><code>this.geboortedatum = new Datum(1, 2, 3);\n</code></pre>\n\n<p>If you want to take advantage of the <code>static</code> method you wrote (which is where you ask for user input), then do the following:</p>\n\n<pre><code>this.geboortedatum = Datum.newDatum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4321138,"reputation":2844,"user_id":3529323,"accept_rate":50,"display_name":"bcsb1001"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1412348628,"creation_date":1412275825,"answer_id":26167547,"question_id":26167397,"body_markdown":"I think you don&#39;t understand constructors in Java. You are merely ignoring the result of `newDatum()` in the constructor. Also, if it did have the expected effect, it might recurse infinitely in the constructor invocation inside `newDatum()`. Use something like this; allowing `newDatum()` to edit the instance will work:\r\n\r\n    Datum() {\r\n        newDatum(this);\r\n    }\r\n\r\n    public static void newDatum(Datum instance) {\r\n        String input = Opgave5.userInput(&quot;Geboortedatum gast&quot;); \r\n        boolean b = input.matches(patroon); \r\n\r\n        if (b) {\r\n            String[] str = input.split(&quot;-&quot;);\r\n\r\n            int dag = Integer.parseInt(str[0]);\r\n            int maand = Integer.parseInt(str[1]);\r\n            int jaar = Integer.parseInt(str[2]);\r\n\r\n            instance.dag = dag;\r\n            instance.maand = maand;\r\n            instance.jaar = jaar;\r\n            System.out.println(instance);\r\n        }\r\n        else {\r\n            new Datum();\r\n        }\r\n        // ^^ Above code may be buggy, see my answer above code\r\n    }","title":"Java constructor vs static method","body":"<p>I think you don't understand constructors in Java. You are merely ignoring the result of <code>newDatum()</code> in the constructor. Also, if it did have the expected effect, it might recurse infinitely in the constructor invocation inside <code>newDatum()</code>. Use something like this; allowing <code>newDatum()</code> to edit the instance will work:</p>\n\n<pre><code>Datum() {\n    newDatum(this);\n}\n\npublic static void newDatum(Datum instance) {\n    String input = Opgave5.userInput(\"Geboortedatum gast\"); \n    boolean b = input.matches(patroon); \n\n    if (b) {\n        String[] str = input.split(\"-\");\n\n        int dag = Integer.parseInt(str[0]);\n        int maand = Integer.parseInt(str[1]);\n        int jaar = Integer.parseInt(str[2]);\n\n        instance.dag = dag;\n        instance.maand = maand;\n        instance.jaar = jaar;\n        System.out.println(instance);\n    }\n    else {\n        new Datum();\n    }\n    // ^^ Above code may be buggy, see my answer above code\n}\n</code></pre>\n"}],"owner":{"account_id":3781084,"reputation":107,"user_id":3140559,"accept_rate":71,"display_name":"Fabian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":26167547,"answer_count":2,"score":0,"last_activity_date":1681899606,"creation_date":1412275233,"question_id":26167397,"body_markdown":"I just started programming in Java and encountered a strange problem concerning printing an object.  \r\n\r\nWhen a new object of type gast is created, the user has to enter his or her birthday. This all works fine, however, it shows &quot;0-0-0&quot; when I print it. Why is that? \r\n\r\nBy the way, if I create a new Datum object directly with the parameter constructor it works fine. Wherein lies the problem? I just can&#39;t figure it out.\r\n\r\n    public class Datum {\r\n\t    private static String patroon = &quot;\\\\d{2}-\\\\d{2}-\\\\d{4}&quot;;\r\n\t    public int dag;\r\n\t    public int maand;\r\n\t    public int jaar;\r\n\r\n\t    Datum() {\r\n\t    \tnewDatum();\r\n\t    }\r\n\r\n\t    Datum(int dag, int maand, int jaar) {\r\n\t    \tSystem.out.print(&quot;constructor: &quot; + dag);\r\n\t\t    this.dag = dag;\r\n\t\t    System.out.println(&quot;, dag: &quot; + this.dag);\r\n\t\t    this.maand = maand;\r\n\t    \tthis.jaar = jaar;\r\n\t    }\r\n\r\n\t    /* Static Method */\r\n\t    public static Datum newDatum() {\r\n\t\t    String input = Opgave5.userInput(&quot;Geboortedatum gast&quot;);\t\r\n\t\t    boolean b = input.matches(patroon);\t\r\n\r\n\t    \tif (b) {\r\n\t\t    \tString[] str = input.split(&quot;-&quot;);\r\n\r\n\t\t    \tint dag = Integer.parseInt(str[0]);\r\n\t\t    \tint maand = Integer.parseInt(str[1]);\r\n\t\t    \tint jaar = Integer.parseInt(str[2]);\r\n\r\n\t\t    \tDatum datum = new Datum(dag, maand, jaar);\r\n\t\t    \tSystem.out.println(datum);\r\n\t\t\t    return datum;\r\n\t    \t}\r\n\t    \telse {\r\n\t\t    \treturn new Datum();\r\n\t    \t}\r\n\t    }\r\n\r\n\t    public String toString() {\r\n\t    \treturn this.dag + &quot;-&quot; + this.maand + &quot;-&quot; + this.jaar;\r\n\t    }\r\n    }\r\n\r\nSecond class:\r\n\r\n\tGast() {\r\n\t\tthis.firstName = Opgave5.userInput(&quot;Voornaam gast&quot;);\r\n\t\tthis.lastName = Opgave5.userInput(&quot;Achternaam gast&quot;);\r\n\t\tthis.geboortedatum = new Datum();\r\n\r\n\t\tSystem.out.println(&quot;gast: &quot; + this.geboortedatum); // &lt;--- this prints out 0-0-0\r\n\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\treturn this.firstName + &quot; &quot; + this.lastName + &quot; &quot; + this.geboortedatum;\r\n\t}","title":"Java constructor vs static method","body":"<p>I just started programming in Java and encountered a strange problem concerning printing an object.</p>\n<p>When a new object of type gast is created, the user has to enter his or her birthday. This all works fine, however, it shows &quot;0-0-0&quot; when I print it. Why is that?</p>\n<p>By the way, if I create a new Datum object directly with the parameter constructor it works fine. Wherein lies the problem? I just can't figure it out.</p>\n<pre><code>public class Datum {\n    private static String patroon = &quot;\\\\d{2}-\\\\d{2}-\\\\d{4}&quot;;\n    public int dag;\n    public int maand;\n    public int jaar;\n\n    Datum() {\n        newDatum();\n    }\n\n    Datum(int dag, int maand, int jaar) {\n        System.out.print(&quot;constructor: &quot; + dag);\n        this.dag = dag;\n        System.out.println(&quot;, dag: &quot; + this.dag);\n        this.maand = maand;\n        this.jaar = jaar;\n    }\n\n    /* Static Method */\n    public static Datum newDatum() {\n        String input = Opgave5.userInput(&quot;Geboortedatum gast&quot;); \n        boolean b = input.matches(patroon); \n\n        if (b) {\n            String[] str = input.split(&quot;-&quot;);\n\n            int dag = Integer.parseInt(str[0]);\n            int maand = Integer.parseInt(str[1]);\n            int jaar = Integer.parseInt(str[2]);\n\n            Datum datum = new Datum(dag, maand, jaar);\n            System.out.println(datum);\n            return datum;\n        }\n        else {\n            return new Datum();\n        }\n    }\n\n    public String toString() {\n        return this.dag + &quot;-&quot; + this.maand + &quot;-&quot; + this.jaar;\n    }\n}\n</code></pre>\n<p>Second class:</p>\n<pre><code>Gast() {\n    this.firstName = Opgave5.userInput(&quot;Voornaam gast&quot;);\n    this.lastName = Opgave5.userInput(&quot;Achternaam gast&quot;);\n    this.geboortedatum = new Datum();\n\n    System.out.println(&quot;gast: &quot; + this.geboortedatum); // &lt;--- this prints out 0-0-0\n\n}\n\npublic String toString() {\n    return this.firstName + &quot; &quot; + this.lastName + &quot; &quot; + this.geboortedatum;\n}\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1681899143,"creation_date":1374733920,"answer_id":17850653,"question_id":17850614,"body_markdown":"It&#39;s useful when the String your passing to `logger.debug(...)` takes time to evaluate, in that case you can skip this evaluation if debug is not enabled.\r\n\r\n    if(logger.isDebugEnabled()) {\r\n        logger.debug(&quot;The meaning of life is &quot; + calculateMeaningOfLife());\r\n    }\r\n\r\nIMO this makes the code a lot less readable so it should only be used when there&#39;s a significant performance improvement.\r\n\r\n\r\n**Edit 10 years after the original answer:**\r\n\r\nNow that we have lambdas, loggers have added support for suppliers that are only called when necessary. So the above code could be simplified to:\r\n\r\n        logger.debug(&quot;The meaning of life is {}&quot;, () -&gt; calculateMeaningOfLife());\r\n\r\nAnd the logger will only call `calculateMeaningOfLife()` if the message should be logged.","title":"Is Log4j isDebugEnabled() necessary before using logger.debug()?","body":"<p>It's useful when the String your passing to <code>logger.debug(...)</code> takes time to evaluate, in that case you can skip this evaluation if debug is not enabled.</p>\n<pre><code>if(logger.isDebugEnabled()) {\n    logger.debug(&quot;The meaning of life is &quot; + calculateMeaningOfLife());\n}\n</code></pre>\n<p>IMO this makes the code a lot less readable so it should only be used when there's a significant performance improvement.</p>\n<p><strong>Edit 10 years after the original answer:</strong></p>\n<p>Now that we have lambdas, loggers have added support for suppliers that are only called when necessary. So the above code could be simplified to:</p>\n<pre><code>    logger.debug(&quot;The meaning of life is {}&quot;, () -&gt; calculateMeaningOfLife());\n</code></pre>\n<p>And the logger will only call <code>calculateMeaningOfLife()</code> if the message should be logged.</p>\n"},{"tags":[],"owner":{"account_id":3028597,"reputation":326,"user_id":2568068,"display_name":"Jean B"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1374735089,"creation_date":1374735089,"answer_id":17850980,"question_id":17850614,"body_markdown":"Java must first resolve the string parameter passed to the debug method before it can call it.\r\n\r\n    logger.debug(&quot;Something.. var1=&quot; + variable1 + &quot;  var2=&quot; + variable2);\r\n\r\nThe above code will result in multiple String objects being created as each + creates another String so you&#39;ll have about 5 or more objects created before calling the method. \r\n\r\nDebugging will mostly not be enabled so it&#39;s more efficient to check if debugging is enabled than to resolve the parameters all the time.","title":"Is Log4j isDebugEnabled() necessary before using logger.debug()?","body":"<p>Java must first resolve the string parameter passed to the debug method before it can call it.</p>\n\n<pre><code>logger.debug(\"Something.. var1=\" + variable1 + \"  var2=\" + variable2);\n</code></pre>\n\n<p>The above code will result in multiple String objects being created as each + creates another String so you'll have about 5 or more objects created before calling the method. </p>\n\n<p>Debugging will mostly not be enabled so it's more efficient to check if debugging is enabled than to resolve the parameters all the time.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1394445908,"creation_date":1374735111,"answer_id":17850984,"question_id":17850614,"body_markdown":"isDebugEnabled is typically used to avoid unnecessary String concatination, eg this call\r\n\r\n    logger.debug(&quot;Line number = &quot; + n);\r\n\r\nfirst invokes Strings concatination then debug() and only then Logger detects that debug is not enabled and simply returns. This may significantly affect app performance.\r\n\r\n\r\nThis problem is solved in SLF4J which has formatted logging methods like this \r\n\r\n    public void debug(String format, Object arg);\r\n\r\n   \r\n\r\n","title":"Is Log4j isDebugEnabled() necessary before using logger.debug()?","body":"<p>isDebugEnabled is typically used to avoid unnecessary String concatination, eg this call</p>\n\n<pre><code>logger.debug(\"Line number = \" + n);\n</code></pre>\n\n<p>first invokes Strings concatination then debug() and only then Logger detects that debug is not enabled and simply returns. This may significantly affect app performance.</p>\n\n<p>This problem is solved in SLF4J which has formatted logging methods like this </p>\n\n<pre><code>public void debug(String format, Object arg);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374735162,"creation_date":1374735162,"answer_id":17851004,"question_id":17850614,"body_markdown":"The statement:\r\n\r\n    if(log.isDebugEnabled()){\r\n\r\nIs used just for performance reasons. It&#39;s use is optional since it is called by the log method internally.\r\n\r\nBut now you ask if this check is made internally, so why should I use it? It&#39;s very simple: if you log something as simple as this:\r\n\r\n    log.debug(&quot;ResultSet rs is retrieved from OracleTypes&quot;);\r\n\r\nThen you don&#39;t need to do any check. If you compose a string to log using the append operator (+) like this:\r\n\r\n    log.debug(&quot;[&quot; + System.getTimeInMillis() + &quot;] ResultSet rs is retrieved from OracleTypes&quot;);\r\n\r\nIn this case you should check if the log is enabled or not, because if it isn&#39;t, even if the log is not made, the string composition is. And I must remind you that the use of operator &quot;+&quot; to concatenate strings is very inefficient.","title":"Is Log4j isDebugEnabled() necessary before using logger.debug()?","body":"<p>The statement:</p>\n\n<pre><code>if(log.isDebugEnabled()){\n</code></pre>\n\n<p>Is used just for performance reasons. It's use is optional since it is called by the log method internally.</p>\n\n<p>But now you ask if this check is made internally, so why should I use it? It's very simple: if you log something as simple as this:</p>\n\n<pre><code>log.debug(\"ResultSet rs is retrieved from OracleTypes\");\n</code></pre>\n\n<p>Then you don't need to do any check. If you compose a string to log using the append operator (+) like this:</p>\n\n<pre><code>log.debug(\"[\" + System.getTimeInMillis() + \"] ResultSet rs is retrieved from OracleTypes\");\n</code></pre>\n\n<p>In this case you should check if the log is enabled or not, because if it isn't, even if the log is not made, the string composition is. And I must remind you that the use of operator \"+\" to concatenate strings is very inefficient.</p>\n"},{"tags":[],"owner":{"account_id":421479,"reputation":725,"user_id":799750,"accept_rate":64,"display_name":"Disper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433237555,"creation_date":1433237555,"answer_id":30592318,"question_id":17850614,"body_markdown":"SLF4J implementation (checked on version 1.7.10) calls `isDebugEnabled()` in some methods like: \r\n\r\n    public void debug(String format, Object... arguments) {\r\n    \tif(this.log.isDebugEnabled()) {\r\n    \t\tFormattingTuple ft = MessageFormatter.arrayFormat(format, arguments);\r\n    \t\tthis.log.debug(ft.getMessage(), ft.getThrowable());\r\n    \t}\r\n    }\r\n\r\nbut there are also method overloads which doesn&#39;t internally check whether given loggin level is enabled, like in:\r\n\r\n    public void debug(String msg, Throwable t) {\r\n    \tthis.log.debug(msg, t);\r\n    }\r\n\r\nAnother thing is that Logger implementation can be changed so if you want to be always sure your logger is called according to it&#39;s logging level, then you might want to consider using `isDebugEnabled()` method.\r\n","title":"Is Log4j isDebugEnabled() necessary before using logger.debug()?","body":"<p>SLF4J implementation (checked on version 1.7.10) calls <code>isDebugEnabled()</code> in some methods like: </p>\n\n<pre><code>public void debug(String format, Object... arguments) {\n    if(this.log.isDebugEnabled()) {\n        FormattingTuple ft = MessageFormatter.arrayFormat(format, arguments);\n        this.log.debug(ft.getMessage(), ft.getThrowable());\n    }\n}\n</code></pre>\n\n<p>but there are also method overloads which doesn't internally check whether given loggin level is enabled, like in:</p>\n\n<pre><code>public void debug(String msg, Throwable t) {\n    this.log.debug(msg, t);\n}\n</code></pre>\n\n<p>Another thing is that Logger implementation can be changed so if you want to be always sure your logger is called according to it's logging level, then you might want to consider using <code>isDebugEnabled()</code> method.</p>\n"}],"owner":{"account_id":2289947,"reputation":3522,"user_id":2013044,"accept_rate":60,"display_name":"prasanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32892,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"closed_date":1433385620,"accepted_answer_id":17850653,"answer_count":5,"score":30,"last_activity_date":1681899143,"creation_date":1374733784,"question_id":17850614,"body_markdown":"When I was going through some code, I noticed the use of logger as follows,   \r\n\r\n    if(logger.isDebugEnabled())   \r\n        logger.debug(&quot;Something..&quot;);\r\n\r\nBut in some codes, I observed like this.\r\n\r\n    logger.debug(&quot;Something..&quot;);\r\n\r\nWhen I looked at the source of log4j, in the `debug()` method of Logger itself  `if(logger.isDebugEnabled())` was checked. Then why do we need this unnecessary overhead `if(logger.isDebugEnabled())`??","title":"Is Log4j isDebugEnabled() necessary before using logger.debug()?","body":"<p>When I was going through some code, I noticed the use of logger as follows,   </p>\n\n<pre><code>if(logger.isDebugEnabled())   \n    logger.debug(\"Something..\");\n</code></pre>\n\n<p>But in some codes, I observed like this.</p>\n\n<pre><code>logger.debug(\"Something..\");\n</code></pre>\n\n<p>When I looked at the source of log4j, in the <code>debug()</code> method of Logger itself  <code>if(logger.isDebugEnabled())</code> was checked. Then why do we need this unnecessary overhead <code>if(logger.isDebugEnabled())</code>??</p>\n"},{"tags":["java","c++","dsdm-atern"],"comments":[{"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"score":1,"creation_date":1323233354,"post_id":8410392,"comment_id":10387827,"body_markdown":"I think this would be a better question for http://programmers.stackexchange.com/ .","body":"I think this would be a better question for <a href=\"http://programmers.stackexchange.com/\">programmers.stackexchange.com</a> ."}],"answers":[{"tags":[],"owner":{"account_id":1029905,"reputation":1357,"user_id":1038438,"accept_rate":38,"display_name":"Noufal Panolan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323235802,"creation_date":1323235802,"answer_id":8410828,"question_id":8410392,"body_markdown":"The term **project lifecycle** models how a project is planned, controlled, and monitored from its inception to its completion.\r\n\r\nwhile the **systems development life cycle** (SDLC), or software development life cycle in systems engineering, information systems and software engineering, is a **process of creating or altering information systems, and the models and methodologies that people use to **develop these systems.**","title":"what is the difference between the system development life cycle and the project life cycle?","body":"<p>The term <strong>project lifecycle</strong> models how a project is planned, controlled, and monitored from its inception to its completion.</p>\n\n<p>while the <strong>systems development life cycle</strong> (SDLC), or software development life cycle in systems engineering, information systems and software engineering, is a <strong>process of creating or altering information systems, and the models and methodologies that people use to **develop these systems.</strong></p>\n"},{"tags":[],"owner":{"account_id":454081,"reputation":12893,"user_id":851432,"accept_rate":70,"display_name":"Jomoos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323236534,"creation_date":1323236534,"answer_id":8410912,"question_id":8410392,"body_markdown":"From [Wikipedia][1]:\r\n\r\n    According to Taylor (2004) &quot;the project life cycle encompasses all the \r\n    activities of the project, while the systems development life cycle focuses \r\n    on realizing the product requirements&quot;.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Systems_development_life-cycle","title":"what is the difference between the system development life cycle and the project life cycle?","body":"<p>From <a href=\"http://en.wikipedia.org/wiki/Systems_development_life-cycle\" rel=\"nofollow\">Wikipedia</a>:</p>\n\n<pre><code>According to Taylor (2004) \"the project life cycle encompasses all the \nactivities of the project, while the systems development life cycle focuses \non realizing the product requirements\".\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365945,"reputation":4216,"user_id":711170,"accept_rate":88,"display_name":"Darren Burgess"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324254848,"creation_date":1324254848,"answer_id":8556022,"question_id":8410392,"body_markdown":"The SDLC becomes a part of the PLC.\r\n\r\n1.)The PLC focuses on the project management phases, processes, tools and techniques for effectively managing the project.\r\n\r\n2.)The SDLC focuses on the software engineering phases, processes, tools and techniques for building and/or implementing the IT solution.","title":"what is the difference between the system development life cycle and the project life cycle?","body":"<p>The SDLC becomes a part of the PLC.</p>\n\n<p>1.)The PLC focuses on the project management phases, processes, tools and techniques for effectively managing the project.</p>\n\n<p>2.)The SDLC focuses on the software engineering phases, processes, tools and techniques for building and/or implementing the IT solution.</p>\n"},{"tags":[],"owner":{"account_id":19997907,"reputation":1,"user_id":14657542,"display_name":"A A"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1608299573,"creation_date":1608298071,"answer_id":65357891,"question_id":8410392,"body_markdown":"**Project Life Cycle** is pertaining to specific project scope (customer, time, etc..). Typical phases where of Project Life Cycle may be Project Scope Definition, Implementation, User Training, Support etc.\r\n\r\n*PLC* phases are as follows:\r\n\r\n1. Idea generation and screening\r\n2. Research\r\n3. Development\r\n4. Testing\r\n5. Analysis\r\n6. Introduction\r\n\r\nIn **SDLC**, software scope is pertaining to specific Product Development. Typical phases in this scenario is requirement elicitation (product features/functionalities), product development, Testing, Product Commercialization, Product support/maintenance.\r\n\r\n*SDLC* phases are as follows:\r\n\r\n1. Requirements gathering or analyzing user requirements\r\n2. Designing the program\r\n3. Coding the program\r\n4. Documentation and testing of the system\r\n5. Operation and maintenance of the system","title":"what is the difference between the system development life cycle and the project life cycle?","body":"<p><strong>Project Life Cycle</strong> is pertaining to specific project scope (customer, time, etc..). Typical phases where of Project Life Cycle may be Project Scope Definition, Implementation, User Training, Support etc.</p>\n<p><em>PLC</em> phases are as follows:</p>\n<ol>\n<li>Idea generation and screening</li>\n<li>Research</li>\n<li>Development</li>\n<li>Testing</li>\n<li>Analysis</li>\n<li>Introduction</li>\n</ol>\n<p>In <strong>SDLC</strong>, software scope is pertaining to specific Product Development. Typical phases in this scenario is requirement elicitation (product features/functionalities), product development, Testing, Product Commercialization, Product support/maintenance.</p>\n<p><em>SDLC</em> phases are as follows:</p>\n<ol>\n<li>Requirements gathering or analyzing user requirements</li>\n<li>Designing the program</li>\n<li>Coding the program</li>\n<li>Documentation and testing of the system</li>\n<li>Operation and maintenance of the system</li>\n</ol>\n"}],"owner":{"account_id":1089663,"reputation":47,"user_id":1084586,"display_name":"Fair Fire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15953,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1681898807,"creation_date":1323232052,"question_id":8410392,"body_markdown":"i know DSDM consists of different phases, and phase two is the project life cycle, but what is the difference?\r\n\r\n            ","title":"what is the difference between the system development life cycle and the project life cycle?","body":"<p>i know DSDM consists of different phases, and phase two is the project life cycle, but what is the difference?</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1309420587,"post_id":6531632,"comment_id":7690834,"body_markdown":"Do you *just* have a time, or also a date?","body":"Do you <i>just</i> have a time, or also a date?"},{"owner":{"account_id":7924875,"reputation":271,"user_id":5984600,"accept_rate":55,"display_name":"Swift"},"score":0,"creation_date":1484045642,"post_id":6531632,"comment_id":70338229,"body_markdown":"@JonSkeet : only time","body":"@JonSkeet : only time"}],"answers":[{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1467302031,"creation_date":1309420644,"answer_id":6531664,"question_id":6531632,"body_markdown":"Assuming that you use [SimpleDateFormat][1] implicitly or explicitly, you need to use `H` instead of `h` in the format string.\r\n\r\nE.g\r\n\r\n`HH:mm:ss`\r\n\r\ninstead of\r\n\r\n`hh:mm:ss`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>Assuming that you use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> implicitly or explicitly, you need to use <code>H</code> instead of <code>h</code> in the format string.</p>\n\n<p>E.g</p>\n\n<p><code>HH:mm:ss</code></p>\n\n<p>instead of</p>\n\n<p><code>hh:mm:ss</code></p>\n"},{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1309421031,"creation_date":1309421031,"answer_id":6531748,"question_id":6531632,"body_markdown":"Try this:\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n       public static void main(String [] args) throws Exception {\r\n           SimpleDateFormat displayFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n           SimpleDateFormat parseFormat = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n           Date date = parseFormat.parse(&quot;10:30 PM&quot;);\r\n           System.out.println(parseFormat.format(date) + &quot; = &quot; + displayFormat.format(date));\r\n       }\r\n    }\r\n\r\nwhich produces:\r\n\r\n    10:30 PM = 22:30\r\n\r\nSee: http://download.oracle.com/javase/1.5.0/docs/api/java/text/SimpleDateFormat.html","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>Try this:</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main {\n   public static void main(String [] args) throws Exception {\n       SimpleDateFormat displayFormat = new SimpleDateFormat(\"HH:mm\");\n       SimpleDateFormat parseFormat = new SimpleDateFormat(\"hh:mm a\");\n       Date date = parseFormat.parse(\"10:30 PM\");\n       System.out.println(parseFormat.format(date) + \" = \" + displayFormat.format(date));\n   }\n}\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>10:30 PM = 22:30\n</code></pre>\n\n<p>See: <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">http://download.oracle.com/javase/1.5.0/docs/api/java/text/SimpleDateFormat.html</a></p>\n"},{"tags":[],"owner":{"account_id":2115642,"reputation":301,"user_id":3172824,"accept_rate":0,"display_name":"user3172824"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389177406,"creation_date":1389177406,"answer_id":20993128,"question_id":6531632,"body_markdown":"    SimpleDateFormat parseFormat = new SimpleDateFormat(&quot;hh:mm a&quot;); \r\n\r\n   provided by Bart Kiers answer  should be replaced with somethig like \r\n\r\n    SimpleDateFormat parseFormat = new SimpleDateFormat(&quot;hh:mm a&quot;,Locale.UK);","title":"Conversion from 12 hours time to 24 hours time in java","body":"<pre><code>SimpleDateFormat parseFormat = new SimpleDateFormat(\"hh:mm a\"); \n</code></pre>\n\n<p>provided by Bart Kiers answer  should be replaced with somethig like </p>\n\n<pre><code>SimpleDateFormat parseFormat = new SimpleDateFormat(\"hh:mm a\",Locale.UK);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1808758,"reputation":37,"user_id":1645246,"display_name":"Usman Zafar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444441022,"creation_date":1422538483,"answer_id":28216081,"question_id":6531632,"body_markdown":"Try This\r\n\r\n    public static String convertTo24Hour(String Time) {\r\n        DateFormat f1 = new SimpleDateFormat(&quot;hh:mm a&quot;); //11:00 pm\r\n        Date d = null;\r\n        try {\r\n            d = f1.parse(Time);\r\n        } catch (ParseException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        DateFormat f2 = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n        String x = f2.format(d); // &quot;23:00&quot;\r\n\r\n        return x;\r\n    }","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>Try This</p>\n\n<pre><code>public static String convertTo24Hour(String Time) {\n    DateFormat f1 = new SimpleDateFormat(\"hh:mm a\"); //11:00 pm\n    Date d = null;\n    try {\n        d = f1.parse(Time);\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    DateFormat f2 = new SimpleDateFormat(\"HH:mm\");\n    String x = f2.format(d); // \"23:00\"\n\n    return x;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1231052,"reputation":983,"user_id":1195632,"display_name":"Cloud"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1539803833,"creation_date":1463999150,"answer_id":37388524,"question_id":6531632,"body_markdown":"# java.time\r\n\r\nIn Java 8 and later it could be done in one line using class [*java.time.LocalTime*][1]. \r\n\r\nIn the formatting pattern, lowercase `hh` means 12-hour clock while uppercase `HH` means 24-hour clock.\r\n\r\n\r\nCode example:\r\n\r\n    String result =                                       // Text representing the value of our date-time object.\r\n        LocalTime.parse(                                  // Class representing a time-of-day value without a date and without a time zone.\r\n            &quot;03:30 PM&quot; ,                                  // Your `String` input text.\r\n            DateTimeFormatter.ofPattern(                  // Define a formatting pattern to match your input text.\r\n                &quot;hh:mm a&quot; ,\r\n                Locale.US                                 // `Locale` determines the human language and cultural norms used in localization. Needed here to translate the `AM` &amp; `PM` value.\r\n            )                                             // Returns a `DateTimeFormatter` object.\r\n        )                                                 // Return a `LocalTime` object.\r\n        .format( DateTimeFormatter.ofPattern(&quot;HH:mm&quot;) )   // Generate text in a specific format. Returns a `String` object.\r\n    ;\r\n\r\nSee this [code run live at IdeOne.com.][2]\r\n\r\n&gt;15:30\r\n\r\nSee [Oracle Tutorial][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalTime.html\r\n  [2]: https://ideone.com/KWIyQx\r\n  [3]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html","title":"Conversion from 12 hours time to 24 hours time in java","body":"<h1>java.time</h1>\n\n<p>In Java 8 and later it could be done in one line using class <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalTime.html\" rel=\"noreferrer\"><em>java.time.LocalTime</em></a>. </p>\n\n<p>In the formatting pattern, lowercase <code>hh</code> means 12-hour clock while uppercase <code>HH</code> means 24-hour clock.</p>\n\n<p>Code example:</p>\n\n<pre><code>String result =                                       // Text representing the value of our date-time object.\n    LocalTime.parse(                                  // Class representing a time-of-day value without a date and without a time zone.\n        \"03:30 PM\" ,                                  // Your `String` input text.\n        DateTimeFormatter.ofPattern(                  // Define a formatting pattern to match your input text.\n            \"hh:mm a\" ,\n            Locale.US                                 // `Locale` determines the human language and cultural norms used in localization. Needed here to translate the `AM` &amp; `PM` value.\n        )                                             // Returns a `DateTimeFormatter` object.\n    )                                                 // Return a `LocalTime` object.\n    .format( DateTimeFormatter.ofPattern(\"HH:mm\") )   // Generate text in a specific format. Returns a `String` object.\n;\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/KWIyQx\" rel=\"noreferrer\">code run live at IdeOne.com.</a></p>\n\n<blockquote>\n  <p>15:30</p>\n</blockquote>\n\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":2936547,"reputation":954,"user_id":2515313,"accept_rate":55,"display_name":"RQube"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501660688,"creation_date":1501658878,"answer_id":45454202,"question_id":6531632,"body_markdown":"I was looking for same thing but in number, means from integer xx hour, xx minutes and AM/PM to 24 hour format xx hour and xx minutes, so here what i have done: \r\n\r\n    private static final int AM = 0;\r\n    private static final int PM = 1;\r\n    /**\r\n       * Based on concept: day start from 00:00AM and ends at 11:59PM, \r\n       * afternoon 12 is 12PM, 12:xxAM is basically 00:xxAM\r\n       * @param hour12Format\r\n       * @param amPm\r\n       * @return\r\n       */\r\n      private int get24FormatHour(int hour12Format,int amPm){\r\n        if(hour12Format==12 &amp;&amp; amPm==AM){\r\n          hour12Format=0;\r\n        }\r\n        if(amPm == PM &amp;&amp; hour12Format!=12){\r\n          hour12Format+=12;\r\n        }\r\n        return hour12Format;\r\n      }`\r\n\r\n        private int minutesTillMidnight(int hour12Format,int minutes, int amPm){\r\n            int hour24Format=get24FormatHour(hour12Format,amPm);\r\n            System.out.println(&quot;24 Format :&quot;+hour24Format+&quot;:&quot;+minutes); \r\n            return (hour24Format*60)+minutes;\r\n          }\r\n\r\n \r\n","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>I was looking for same thing but in number, means from integer xx hour, xx minutes and AM/PM to 24 hour format xx hour and xx minutes, so here what i have done: </p>\n\n<pre><code>private static final int AM = 0;\nprivate static final int PM = 1;\n/**\n   * Based on concept: day start from 00:00AM and ends at 11:59PM, \n   * afternoon 12 is 12PM, 12:xxAM is basically 00:xxAM\n   * @param hour12Format\n   * @param amPm\n   * @return\n   */\n  private int get24FormatHour(int hour12Format,int amPm){\n    if(hour12Format==12 &amp;&amp; amPm==AM){\n      hour12Format=0;\n    }\n    if(amPm == PM &amp;&amp; hour12Format!=12){\n      hour12Format+=12;\n    }\n    return hour12Format;\n  }`\n\n    private int minutesTillMidnight(int hour12Format,int minutes, int amPm){\n        int hour24Format=get24FormatHour(hour12Format,amPm);\n        System.out.println(\"24 Format :\"+hour24Format+\":\"+minutes); \n        return (hour24Format*60)+minutes;\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7196111,"reputation":447,"user_id":5494899,"accept_rate":33,"display_name":"venkata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509986209,"creation_date":1509930638,"answer_id":47128377,"question_id":6531632,"body_markdown":"Using LocalTime in Java 8, LocalTime has many useful methods like `getHour()` or the `getMinute()` method,\r\n\r\nFor example,\r\n\r\n    LocalTime intime = LocalTime.parse(inputString, DateTimeFormatter.ofPattern(&quot;h:m a&quot;));\r\n    String outtime = intime.format(DateTimeFormatter.ISO_LOCAL_TIME);\r\n\r\nIn some cases, First line alone can do the required parsing","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>Using LocalTime in Java 8, LocalTime has many useful methods like <code>getHour()</code> or the <code>getMinute()</code> method,</p>\n\n<p>For example,</p>\n\n<pre><code>LocalTime intime = LocalTime.parse(inputString, DateTimeFormatter.ofPattern(\"h:m a\"));\nString outtime = intime.format(DateTimeFormatter.ISO_LOCAL_TIME);\n</code></pre>\n\n<p>In some cases, First line alone can do the required parsing</p>\n"},{"tags":[],"owner":{"account_id":11962627,"reputation":1,"user_id":8753270,"display_name":"Ranjeet_Automation_Tester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557829879,"creation_date":1530966406,"answer_id":51223226,"question_id":6531632,"body_markdown":"## Try this to calculate time difference between two times. ###\nfirst it will convert 12 hours time into 24 hours then it will take diff between two times \n\n    String a = &quot;09/06/18 01:55:33 AM&quot;;\n                String b = &quot;07/06/18 05:45:33 PM&quot;;\n                String [] b2 = b.split(&quot; &quot;);\n                String [] a2 = a.split(&quot; &quot;);\n                SimpleDateFormat displayFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n                SimpleDateFormat parseFormat = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\n                String time1 = null ;\n                String time2 = null ;\n                if ( a.contains(&quot;PM&quot;) &amp;&amp; b.contains(&quot;AM&quot;)) {\n                     \n                     Date date = parseFormat.parse(a2[1]+&quot; PM&quot;);\n                     time1 = displayFormat.format(date);\n                     time2 = b2[1];\n                }else if (b.contains(&quot;PM&quot;) &amp;&amp; a.contains(&quot;AM&quot;)) {\n                    Date date = parseFormat.parse(a2[1]+&quot; PM&quot;);\n                    time1 = a2[1];\n                    time2 = displayFormat.format(date);\n                }else if (a.contains(&quot;PM&quot;) &amp;&amp; b.contains(&quot;PM&quot;)){\n                    Date datea = parseFormat.parse(a2[1]+&quot; PM&quot;);\n                    Date dateb = parseFormat.parse(b2[1]+&quot; PM&quot;);\n                    time1 = displayFormat.format(datea);\n                    time2 = displayFormat.format(dateb);\n                }   \n                System.out.println(time1);\n                System.out.println(time2);      \n                SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n                Date date1 = format.parse(time1);\n                Date date2 = format.parse(time2);\n                long difference = date2.getTime() - date1.getTime(); \n                System.out.println(difference);\n                System.out.println(&quot;Duration: &quot;+DurationFormatUtils.formatDuration(difference, &quot;HH:mm&quot;));\n\nFor More Details [Click Here ][1]\n\n\n  [1]: https://tech-automation.blogspot.com/2018/07/convert-12-hour-format-to-24-hour.html","title":"Conversion from 12 hours time to 24 hours time in java","body":"<h2>Try this to calculate time difference between two times.</h2>\n<p>first it will convert 12 hours time into 24 hours then it will take diff between two times</p>\n<pre><code>String a = &quot;09/06/18 01:55:33 AM&quot;;\n            String b = &quot;07/06/18 05:45:33 PM&quot;;\n            String [] b2 = b.split(&quot; &quot;);\n            String [] a2 = a.split(&quot; &quot;);\n            SimpleDateFormat displayFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n            SimpleDateFormat parseFormat = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\n            String time1 = null ;\n            String time2 = null ;\n            if ( a.contains(&quot;PM&quot;) &amp;&amp; b.contains(&quot;AM&quot;)) {\n                 \n                 Date date = parseFormat.parse(a2[1]+&quot; PM&quot;);\n                 time1 = displayFormat.format(date);\n                 time2 = b2[1];\n            }else if (b.contains(&quot;PM&quot;) &amp;&amp; a.contains(&quot;AM&quot;)) {\n                Date date = parseFormat.parse(a2[1]+&quot; PM&quot;);\n                time1 = a2[1];\n                time2 = displayFormat.format(date);\n            }else if (a.contains(&quot;PM&quot;) &amp;&amp; b.contains(&quot;PM&quot;)){\n                Date datea = parseFormat.parse(a2[1]+&quot; PM&quot;);\n                Date dateb = parseFormat.parse(b2[1]+&quot; PM&quot;);\n                time1 = displayFormat.format(datea);\n                time2 = displayFormat.format(dateb);\n            }   \n            System.out.println(time1);\n            System.out.println(time2);      \n            SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n            Date date1 = format.parse(time1);\n            Date date2 = format.parse(time2);\n            long difference = date2.getTime() - date1.getTime(); \n            System.out.println(difference);\n            System.out.println(&quot;Duration: &quot;+DurationFormatUtils.formatDuration(difference, &quot;HH:mm&quot;));\n</code></pre>\n<p>For More Details <a href=\"https://tech-automation.blogspot.com/2018/07/convert-12-hour-format-to-24-hour.html\" rel=\"nofollow noreferrer\">Click Here </a></p>\n"},{"tags":[],"owner":{"account_id":12965855,"reputation":31,"user_id":9373412,"display_name":"Odatha Bandara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539790116,"creation_date":1539790116,"answer_id":52858516,"question_id":6531632,"body_markdown":"   This is the extract of code that I have done.\r\n\r\n        String s=&quot;08:10:45&quot;;\r\n        String[] s1=s.split(&quot;:&quot;);\r\n        int milipmHrs=0;\r\n        char[] arr=s1[2].toCharArray();\r\n        boolean isFound=s1[2].contains(&quot;PM&quot;);\r\n        if(isFound){\r\n            int pmHrs=Integer.parseInt(s1[0]);\r\n            milipmHrs=pmHrs+12;\r\n            return(milipmHrs+&quot;:&quot;+s1[1]+&quot;:&quot;+arr[0]+arr[1]);\r\n        }\r\n        else{\r\n           \r\n            return(s1[0]+&quot;:&quot;+s1[1]+&quot;:&quot;+arr[0]+arr[1]);\r\n        }","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>This is the extract of code that I have done.</p>\n\n<pre><code>    String s=\"08:10:45\";\n    String[] s1=s.split(\":\");\n    int milipmHrs=0;\n    char[] arr=s1[2].toCharArray();\n    boolean isFound=s1[2].contains(\"PM\");\n    if(isFound){\n        int pmHrs=Integer.parseInt(s1[0]);\n        milipmHrs=pmHrs+12;\n        return(milipmHrs+\":\"+s1[1]+\":\"+arr[0]+arr[1]);\n    }\n    else{\n\n        return(s1[0]+\":\"+s1[1]+\":\"+arr[0]+arr[1]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548156316,"creation_date":1548156316,"answer_id":54307230,"question_id":6531632,"body_markdown":"    import java.text.SimpleDateFormat;\r\n    import java.text.DateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n       public static void main(String [] args){\r\n           try {\r\n                DateFormat parseFormat = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss a&quot;);\r\n                String sDate = &quot;22-01-2019 9:0:0 PM&quot;;\r\n                Date date = parseFormat.parse(sDate);\r\n                SimpleDateFormat displayFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n                sDate = displayFormat.format(date);\r\n                LOGGER.info(&quot;The required format : &quot; + sDate);\r\n               } catch (Exception e) {}\r\n          }\r\n    }","title":"Conversion from 12 hours time to 24 hours time in java","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.text.DateFormat;\nimport java.util.Date;\n\npublic class Main {\n   public static void main(String [] args){\n       try {\n            DateFormat parseFormat = new SimpleDateFormat(\"dd-MM-yyyy hh:mm:ss a\");\n            String sDate = \"22-01-2019 9:0:0 PM\";\n            Date date = parseFormat.parse(sDate);\n            SimpleDateFormat displayFormat = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\n            sDate = displayFormat.format(date);\n            LOGGER.info(\"The required format : \" + sDate);\n           } catch (Exception e) {}\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15322772,"reputation":11,"user_id":11054729,"display_name":"Dheeraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550039092,"creation_date":1550039092,"answer_id":54663841,"question_id":6531632,"body_markdown":"       static String timeConversion(String s)\r\n       {\r\n        String s1[]=s.split(&quot;:&quot;);\r\n        char c[]=s1[2].toCharArray();\r\n        if(s1[2].contains(&quot;PM&quot;))\r\n        {\r\n            int n=Integer.parseInt(s1[0]);\r\n            n=n+12;\r\n            return n+&quot;:&quot;+s1[1]+&quot;:&quot;+c[0]+c[1];\r\n        }\r\n        else``\r\n        return s1[0]+&quot;:&quot;+s1[1]+&quot;:&quot;+c[0]+c[1];\r\n         }","title":"Conversion from 12 hours time to 24 hours time in java","body":"<pre><code>   static String timeConversion(String s)\n   {\n    String s1[]=s.split(\":\");\n    char c[]=s1[2].toCharArray();\n    if(s1[2].contains(\"PM\"))\n    {\n        int n=Integer.parseInt(s1[0]);\n        n=n+12;\n        return n+\":\"+s1[1]+\":\"+c[0]+c[1];\n    }\n    else``\n    return s1[0]+\":\"+s1[1]+\":\"+c[0]+c[1];\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15181110,"reputation":25,"user_id":10954358,"display_name":"KEERTHAN SHETTY"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1550819215,"creation_date":1550819215,"answer_id":54821788,"question_id":6531632,"body_markdown":"We can solve this by using String Buffer\r\nString s;\r\n\r\n    static String timeConversion(String s) {\r\n       StringBuffer st=new StringBuffer(s);\r\n       for(int i=0;i&lt;=st.length();i++){\r\n           \r\n           if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;1&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;3&#39;);\r\n           }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;2&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;4&#39;);\r\n            }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;3&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;5&#39;);\r\n             }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;4&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;6&#39;);\r\n             }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;5&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;7&#39;);\r\n             }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;6&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;8&#39;);\r\n             }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;7&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;9&#39;);\r\n             }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;8&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;2&#39;);\r\n                    st.setCharAt(1, &#39;0&#39;);\r\n             }else if(st.charAt(0)==&#39;0&#39; &amp;&amp; st.charAt(1)==&#39;9&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;2&#39;);\r\n                    st.setCharAt(1, &#39;1&#39;);\r\n             }else if(st.charAt(0)==&#39;1&#39; &amp;&amp; st.charAt(1)==&#39;0&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;2&#39;);\r\n                    st.setCharAt(1, &#39;2&#39;);\r\n             }else if(st.charAt(0)==&#39;1&#39; &amp;&amp; st.charAt(1)==&#39;1&#39; &amp;&amp;st.charAt(8)==&#39;P&#39; ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;2&#39;);\r\n                    st.setCharAt(1, &#39;3&#39;);\r\n             }else if(st.charAt(0)==&#39;1&#39; &amp;&amp; st.charAt(1)==&#39;2&#39; &amp;&amp;st.charAt(8)==&#39;A&#39;  ){\r\n            //    if(st.charAt(2)==&#39;1&#39;){\r\n                   // st.replace(1,2,&quot;13&quot;);\r\n                    st.setCharAt(0, &#39;0&#39;);\r\n                    st.setCharAt(1, &#39;0&#39;);\r\n             }else if(st.charAt(0)==&#39;1&#39; &amp;&amp; st.charAt(1)==&#39;2&#39; &amp;&amp;st.charAt(8)==&#39;P&#39;  ){\r\n                    st.setCharAt(0, &#39;1&#39;);\r\n                    st.setCharAt(1, &#39;2&#39;);\r\n             }\r\n             if(st.charAt(8)==&#39;P&#39;){\r\n                 st.setCharAt(8,&#39; &#39;);\r\n\r\n             }else if(st.charAt(8)== &#39;A&#39;){\r\n                 st.setCharAt(8,&#39; &#39;);\r\n             }\r\n             if(st.charAt(9)==&#39;M&#39;){\r\n                 st.setCharAt(9,&#39; &#39;);\r\n             }\r\n       }\r\n       String result=st.toString();\r\n       return result;\r\n    }\r\n\r\n\r\n\r\n","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>We can solve this by using String Buffer\nString s;</p>\n\n<pre><code>static String timeConversion(String s) {\n   StringBuffer st=new StringBuffer(s);\n   for(int i=0;i&lt;=st.length();i++){\n\n       if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='1' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '3');\n       }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='2' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '4');\n        }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='3' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '5');\n         }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='4' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '6');\n         }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='5' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '7');\n         }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='6' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '8');\n         }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='7' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '9');\n         }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='8' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '2');\n                st.setCharAt(1, '0');\n         }else if(st.charAt(0)=='0' &amp;&amp; st.charAt(1)=='9' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '2');\n                st.setCharAt(1, '1');\n         }else if(st.charAt(0)=='1' &amp;&amp; st.charAt(1)=='0' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '2');\n                st.setCharAt(1, '2');\n         }else if(st.charAt(0)=='1' &amp;&amp; st.charAt(1)=='1' &amp;&amp;st.charAt(8)=='P' ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '2');\n                st.setCharAt(1, '3');\n         }else if(st.charAt(0)=='1' &amp;&amp; st.charAt(1)=='2' &amp;&amp;st.charAt(8)=='A'  ){\n        //    if(st.charAt(2)=='1'){\n               // st.replace(1,2,\"13\");\n                st.setCharAt(0, '0');\n                st.setCharAt(1, '0');\n         }else if(st.charAt(0)=='1' &amp;&amp; st.charAt(1)=='2' &amp;&amp;st.charAt(8)=='P'  ){\n                st.setCharAt(0, '1');\n                st.setCharAt(1, '2');\n         }\n         if(st.charAt(8)=='P'){\n             st.setCharAt(8,' ');\n\n         }else if(st.charAt(8)== 'A'){\n             st.setCharAt(8,' ');\n         }\n         if(st.charAt(9)=='M'){\n             st.setCharAt(9,' ');\n         }\n   }\n   String result=st.toString();\n   return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564421894,"creation_date":1564421894,"answer_id":57258863,"question_id":6531632,"body_markdown":"**12 to 24 hour time conversion and can be reversed if change time formate in output and input SimpleDateFormat class parameter**\r\n\r\n**Test Data Input:** \r\n\r\n String input = &quot;07:05:45PM&quot;;\r\n        timeCoversion12to24(input);\r\n\r\n**output**\r\n\r\n19:05:45\r\n\r\n\r\n     public static String timeCoversion12to24(String twelveHoursTime) throws ParseException {\r\n    \r\n            //Date/time pattern of input date (12 Hours format - hh used for 12 hours)\r\n            DateFormat df = new SimpleDateFormat(&quot;hh:mm:ssaa&quot;);\r\n    \r\n            //Date/time pattern of desired output date (24 Hours format HH - Used for 24 hours)\r\n            DateFormat outputformat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n            Date date = null;\r\n            String output = null;\r\n    \r\n            //Returns Date object\r\n            date = df.parse(twelveHoursTime);\r\n    \r\n            //old date format to new date format\r\n            output = outputformat.format(date);\r\n            System.out.println(output);\r\n    \r\n            return output;\r\n        }","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p><strong>12 to 24 hour time conversion and can be reversed if change time formate in output and input SimpleDateFormat class parameter</strong></p>\n\n<p><strong>Test Data Input:</strong> </p>\n\n<p>String input = \"07:05:45PM\";\n        timeCoversion12to24(input);</p>\n\n<p><strong>output</strong></p>\n\n<p>19:05:45</p>\n\n<pre><code> public static String timeCoversion12to24(String twelveHoursTime) throws ParseException {\n\n        //Date/time pattern of input date (12 Hours format - hh used for 12 hours)\n        DateFormat df = new SimpleDateFormat(\"hh:mm:ssaa\");\n\n        //Date/time pattern of desired output date (24 Hours format HH - Used for 24 hours)\n        DateFormat outputformat = new SimpleDateFormat(\"HH:mm:ss\");\n        Date date = null;\n        String output = null;\n\n        //Returns Date object\n        date = df.parse(twelveHoursTime);\n\n        //old date format to new date format\n        output = outputformat.format(date);\n        System.out.println(output);\n\n        return output;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7503750,"reputation":5055,"user_id":5701085,"display_name":"Asad Ali Choudhry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579503553,"creation_date":1579503553,"answer_id":59818311,"question_id":6531632,"body_markdown":"I have written a simple utility function.\r\n\r\n    public static String convert24HourTimeTo12Hour(String timeStr) {\r\n        try {\r\n            DateFormat inFormat = new SimpleDateFormat( &quot;HH:mm:ss&quot;);\r\n            DateFormat outFormat = new SimpleDateFormat( &quot;hh:mm a&quot;);\r\n            Date date = inFormat.parse(timeStr);\r\n            return outFormat.format(date);\r\n        }catch (Exception e){}\r\n\r\n        return &quot;&quot;;\r\n    }","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>I have written a simple utility function.</p>\n\n<pre><code>public static String convert24HourTimeTo12Hour(String timeStr) {\n    try {\n        DateFormat inFormat = new SimpleDateFormat( \"HH:mm:ss\");\n        DateFormat outFormat = new SimpleDateFormat( \"hh:mm a\");\n        Date date = inFormat.parse(timeStr);\n        return outFormat.format(date);\n    }catch (Exception e){}\n\n    return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10627017,"reputation":39,"user_id":7826370,"display_name":"MichealCob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631556396,"creation_date":1631442351,"answer_id":69150545,"question_id":6531632,"body_markdown":"Try this below code,\r\n    \r\n    public static String timeConversion(String s) {    \r\n            String militaryTime = &quot;&quot;;     \r\n            String hourString = s.substring(0,2);\r\n            String timeFormat = s.substring(8,10);\r\n            String timeBody = s.substring(2,8);\r\n            \r\n            if (timeFormat.equals(&quot;AM&quot;)){\r\n                if (hourString.equals(&quot;12&quot;)){\r\n                    militaryTime = &quot;00&quot; + timeBody;\r\n                }else{\r\n                    militaryTime = hourString + timeBody;\r\n                }\r\n            }else if (timeFormat.equals(&quot;PM&quot;)){\r\n                if (hourString.equals(&quot;12&quot;)){\r\n                    militaryTime = hourString + timeBody;\r\n                }else{\r\n                    int value = Integer.parseInt(hourString) + 12;\r\n                    militaryTime = String.valueOf(value) + timeBody;\r\n                }\r\n            }\r\n            return militaryTime;\r\n    }\r\n\r\n","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>Try this below code,</p>\n<pre><code>public static String timeConversion(String s) {    \n        String militaryTime = &quot;&quot;;     \n        String hourString = s.substring(0,2);\n        String timeFormat = s.substring(8,10);\n        String timeBody = s.substring(2,8);\n        \n        if (timeFormat.equals(&quot;AM&quot;)){\n            if (hourString.equals(&quot;12&quot;)){\n                militaryTime = &quot;00&quot; + timeBody;\n            }else{\n                militaryTime = hourString + timeBody;\n            }\n        }else if (timeFormat.equals(&quot;PM&quot;)){\n            if (hourString.equals(&quot;12&quot;)){\n                militaryTime = hourString + timeBody;\n            }else{\n                int value = Integer.parseInt(hourString) + 12;\n                militaryTime = String.valueOf(value) + timeBody;\n            }\n        }\n        return militaryTime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14173507,"reputation":118,"user_id":10239461,"display_name":"Heena Tabassum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669396516,"creation_date":1637160062,"answer_id":70006411,"question_id":6531632,"body_markdown":"It can be done using Java8 LocalTime. Here is the code.\r\n\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class TimeConversion {\r\n        public String timeConversion(String s) {  \r\n            LocalTime.parse(s, DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;));    \r\n        }\r\n    }\r\n\r\nAnd Here is the test case for the same:\r\n\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    class TimeConversionTest {\r\n    \r\n        @Test\r\n        void shouldReturnTimeIn24HrFormat() {\r\n            TimeConversion timeConversion = new TimeConversion();            \r\n            Assertions.assertEquals(&quot;22:30&quot;, timeConversion.timeConversion(&quot;10:30 PM&quot;));\r\n    \r\n        }\r\n    \r\n    }","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>It can be done using Java8 LocalTime. Here is the code.</p>\n<pre><code>import java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class TimeConversion {\n    public String timeConversion(String s) {  \n        LocalTime.parse(s, DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;));    \n    }\n}\n</code></pre>\n<p>And Here is the test case for the same:</p>\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nclass TimeConversionTest {\n\n    @Test\n    void shouldReturnTimeIn24HrFormat() {\n        TimeConversion timeConversion = new TimeConversion();            \n        Assertions.assertEquals(&quot;22:30&quot;, timeConversion.timeConversion(&quot;10:30 PM&quot;));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3310356,"reputation":1,"user_id":2784025,"display_name":"RobertBaratheon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652542537,"creation_date":1652542537,"answer_id":72241702,"question_id":6531632,"body_markdown":"Without using library methods\r\n\r\n    public static String timeConversion(String s) {\r\n        String[] timeElements = s.split(&quot;:&quot;);\r\n        if (s.contains(&quot;PM&quot;)) {\r\n            timeElements[0] = getPMHours(timeElements[0]);\r\n        } else {\r\n            timeElements[0] = getAMHours(timeElements[0]);\r\n        }\r\n        timeElements[2] = timeElements[2].substring(0,2);\r\n        return timeElements[0]+&quot;:&quot;+timeElements[1]+&quot;:&quot;+timeElements[2];\r\n    }\r\n    private static String getAMHours(String hour) {\r\n        if(Integer.parseInt(hour) == 12) return &quot;00&quot;;\r\n        return hour;\r\n    }\r\n    private static String getPMHours(String hour) {\r\n        int i = Integer.parseInt(hour);\r\n        if(i != 12) return 12+i+&quot;&quot;;\r\n        return i+&quot;&quot;;\r\n    }\r\n\r\n","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>Without using library methods</p>\n<pre><code>public static String timeConversion(String s) {\n    String[] timeElements = s.split(&quot;:&quot;);\n    if (s.contains(&quot;PM&quot;)) {\n        timeElements[0] = getPMHours(timeElements[0]);\n    } else {\n        timeElements[0] = getAMHours(timeElements[0]);\n    }\n    timeElements[2] = timeElements[2].substring(0,2);\n    return timeElements[0]+&quot;:&quot;+timeElements[1]+&quot;:&quot;+timeElements[2];\n}\nprivate static String getAMHours(String hour) {\n    if(Integer.parseInt(hour) == 12) return &quot;00&quot;;\n    return hour;\n}\nprivate static String getPMHours(String hour) {\n    int i = Integer.parseInt(hour);\n    if(i != 12) return 12+i+&quot;&quot;;\n    return i+&quot;&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":387690,"reputation":3691,"user_id":746190,"accept_rate":59,"display_name":"koti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145095,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":6531748,"answer_count":17,"score":39,"last_activity_date":1681898516,"creation_date":1309420485,"question_id":6531632,"body_markdown":"In my app, I have a requirement to format `12 hours` time to `24 hours` time. What is the method I have to use?\r\n\r\nFor example, time like `10:30 AM`. How can I convert to 24 hours time in java?","title":"Conversion from 12 hours time to 24 hours time in java","body":"<p>In my app, I have a requirement to format <code>12 hours</code> time to <code>24 hours</code> time. What is the method I have to use?</p>\n\n<p>For example, time like <code>10:30 AM</code>. How can I convert to 24 hours time in java?</p>\n"},{"tags":["java","apache-poi","worksheet-function","autofilter"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681985060,"post_id":76053145,"comment_id":134145860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26893085,"reputation":1,"user_id":20471512,"display_name":"Wonder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681898176,"creation_date":1681898176,"question_id":76053145,"body_markdown":"I am using Apache poi 4.1.1 for SXSSFSheet. When calling sheet2.setAutoFilter(new CellRangeAddress(2,2,0,17)); internally the poi library validates sheetname. For this it group the letters and digits separately and tries to parse them. Eg. For sheetname AB00000000000000000011, it will split into AB and 00000000000000000011.Tried to adjust the range for autofilter. Tried to to change version of poi library.However the parsing logic for digit is as below in library which throws NumberFormatExcpetion for bigger values. Is there an alternative to set filter for worksheets with bigger sheet names.In org.apache.poi.ss.util.CellReference.java in method isRowWithinRange it is trying to do Long.parseLong(rowStr) throwing exception for bigger values.\r\n`your text`","title":"For SXSSFSheet autofilter is not working for Sheetname with bigger numeric values","body":"<p>I am using Apache poi 4.1.1 for SXSSFSheet. When calling sheet2.setAutoFilter(new CellRangeAddress(2,2,0,17)); internally the poi library validates sheetname. For this it group the letters and digits separately and tries to parse them. Eg. For sheetname AB00000000000000000011, it will split into AB and 00000000000000000011.Tried to adjust the range for autofilter. Tried to to change version of poi library.However the parsing logic for digit is as below in library which throws NumberFormatExcpetion for bigger values. Is there an alternative to set filter for worksheets with bigger sheet names.In org.apache.poi.ss.util.CellReference.java in method isRowWithinRange it is trying to do Long.parseLong(rowStr) throwing exception for bigger values.\n<code>your text</code></p>\n"},{"tags":["java","date","web-services","timezone"],"answers":[{"tags":[],"owner":{"account_id":8005892,"reputation":121,"user_id":6039215,"display_name":"Issam El omri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681897809,"creation_date":1681897809,"answer_id":76053090,"question_id":76052787,"body_markdown":"As it turned out, it was Postman that was converting the date.\r\n\r\nI have edited the endpoint to return the date as string and in the result of the test in Postman the date was exactly what i was expecting.\r\n\r\nIt&#39;s Postman that is considering the date as if it was GMT and not java. And as i&#39;m not int GMT zone Postman convert the date to the SystemDefault TimeZone. This bring me to another question. Would the server or other adpater using my endPoint do the same thing as Postman ?","title":"Java automaticallly convert date from GMT to systemDefault Zone","body":"<p>As it turned out, it was Postman that was converting the date.</p>\n<p>I have edited the endpoint to return the date as string and in the result of the test in Postman the date was exactly what i was expecting.</p>\n<p>It's Postman that is considering the date as if it was GMT and not java. And as i'm not int GMT zone Postman convert the date to the SystemDefault TimeZone. This bring me to another question. Would the server or other adpater using my endPoint do the same thing as Postman ?</p>\n"}],"owner":{"account_id":8005892,"reputation":121,"user_id":6039215,"display_name":"Issam El omri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681897809,"creation_date":1681895949,"question_id":76052787,"body_markdown":"I have an endPoint that get an object containing a java.util.date.\r\nThis data stored in DB have date in the format dd/MM/yyyy\r\nThroughout the whole process java get the correct date, repository, service and the controller\r\nBut when I test the WS in Postman the date is incorrect.\r\n\r\nEx : in DB i have the date 31/03/2021, when i request the WS the result show me this \r\n[![enter image description here](https://i.stack.imgur.com/hRB60.png)](https://i.stack.imgur.com/hRB60.png)\r\n\r\nI think Java is considering the recovered date as GMT date, and when it&#39;s returned in the EndPoint it&#39;s converted to systemDefault Zone. (31/03/2021 00:00:00 -&gt; 30/03/2021 22:00:00)\r\n\r\nI just want java to return the date the same as it was recovered from DB without converting it to any TimeZone\r\n\r\nI have i tried this solution once and it worked\r\n[![enter image description here](https://i.stack.imgur.com/udg4o.png)](https://i.stack.imgur.com/udg4o.png)\r\nThen i tried to externalize code to a new class utils, this led it to not working, i reverted the code to the working version, but it didn&#39;t work this time ...\r\n\r\nI debuged the whole code and to the point just before return the date is not converted ...","title":"Java automaticallly convert date from GMT to systemDefault Zone","body":"<p>I have an endPoint that get an object containing a java.util.date.\nThis data stored in DB have date in the format dd/MM/yyyy\nThroughout the whole process java get the correct date, repository, service and the controller\nBut when I test the WS in Postman the date is incorrect.</p>\n<p>Ex : in DB i have the date 31/03/2021, when i request the WS the result show me this\n<a href=\"https://i.stack.imgur.com/hRB60.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRB60.png\" alt=\"enter image description here\" /></a></p>\n<p>I think Java is considering the recovered date as GMT date, and when it's returned in the EndPoint it's converted to systemDefault Zone. (31/03/2021 00:00:00 -&gt; 30/03/2021 22:00:00)</p>\n<p>I just want java to return the date the same as it was recovered from DB without converting it to any TimeZone</p>\n<p>I have i tried this solution once and it worked\n<a href=\"https://i.stack.imgur.com/udg4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/udg4o.png\" alt=\"enter image description here\" /></a>\nThen i tried to externalize code to a new class utils, this led it to not working, i reverted the code to the working version, but it didn't work this time ...</p>\n<p>I debuged the whole code and to the point just before return the date is not converted ...</p>\n"},{"tags":["java","oracle","spring-boot","plsql"],"comments":[{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":1,"creation_date":1681877420,"post_id":76050189,"comment_id":134125947,"body_markdown":"Define &quot;general&quot; and &quot;detailed&quot; in this context.  Does the procedure throw what you consider to be a detailed error message when called from, say, SQL Developer?  If so, what is the difference between that error message and the error message you are getting here?  It&#39;s hard to guess whether the procedure simply doesn&#39;t throw a sufficiently detailed error (because, say, it has a `when others` exception handler), whether you want to look at the chain of SQLExceptions, or something else.","body":"Define &quot;general&quot; and &quot;detailed&quot; in this context.  Does the procedure throw what you consider to be a detailed error message when called from, say, SQL Developer?  If so, what is the difference between that error message and the error message you are getting here?  It&#39;s hard to guess whether the procedure simply doesn&#39;t throw a sufficiently detailed error (because, say, it has a <code>when others</code> exception handler), whether you want to look at the chain of SQLExceptions, or something else."},{"owner":{"account_id":26966040,"reputation":3,"user_id":20532884,"display_name":"GreatGig"},"score":0,"creation_date":1681939713,"post_id":76050189,"comment_id":134139669,"body_markdown":"What i&#39;am trying to build is a spring boot web application that calls stored procedures, execute them, if it&#39;s correct it print &#39;correct&#39;, if not i want to get a detailed report like the line containing the error etc, i really need help in this project, i can contact you for more information.","body":"What i&#39;am trying to build is a spring boot web application that calls stored procedures, execute them, if it&#39;s correct it print &#39;correct&#39;, if not i want to get a detailed report like the line containing the error etc, i really need help in this project, i can contact you for more information."},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1681943075,"post_id":76050189,"comment_id":134140111,"body_markdown":"I understand that.  But I still don’t understand exactly what details you are missing.  For example, I can write a stored procedure which doesn’t return a meaningful error when it fails.  Or I can create one that gives a meaningful stack trace. Hence the question- does the procedure throw what you consider a “detailed” error when executed from SQL Developer?  What details are you missing in your app?","body":"I understand that.  But I still don’t understand exactly what details you are missing.  For example, I can write a stored procedure which doesn’t return a meaningful error when it fails.  Or I can create one that gives a meaningful stack trace. Hence the question- does the procedure throw what you consider a “detailed” error when executed from SQL Developer?  What details are you missing in your app?"},{"owner":{"account_id":26966040,"reputation":3,"user_id":20532884,"display_name":"GreatGig"},"score":0,"creation_date":1681943927,"post_id":76050189,"comment_id":134140213,"body_markdown":"For exemple i have this stored procedure that inserts user in users table, when i change the table name and compile it with SQL developer it says &quot;table dosen&#39;t exist&quot; but if i execute it with my app it says &quot;PLS-00905: object SYSTEM.INSERT_USER is not valid&quot;, i get this error for almost any wrong procedure\n`create or replace NONEDITIONABLE PROCEDURE insert_user (\n  p_username IN users.username%TYPE,\n  p_email IN users.email%TYPE,\n  p_password IN users.password%TYPE\n) AS\nBEGIN\n  INSERT INTO eusers (username, email, password)\n  VALUES (p_username, p_email, p_password);\n  COMMIT;\nEND;`","body":"For exemple i have this stored procedure that inserts user in users table, when i change the table name and compile it with SQL developer it says &quot;table dosen&#39;t exist&quot; but if i execute it with my app it says &quot;PLS-00905: object SYSTEM.INSERT_USER is not valid&quot;, i get this error for almost any wrong procedure <code>create or replace NONEDITIONABLE PROCEDURE insert_user (   p_username IN users.username%TYPE,   p_email IN users.email%TYPE,   p_password IN users.password%TYPE ) AS BEGIN   INSERT INTO eusers (username, email, password)   VALUES (p_username, p_email, p_password);   COMMIT; END;</code>"},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1681950526,"post_id":76050189,"comment_id":134140925,"body_markdown":"OK, so that&#39;s helpful information that should be added to your question.  Are you really worried about compilation errors though?  You should basically never encounter a compilation error in production code-- that implies that something has failed catastrophically during the deploy process.  Applications would normally only concern themselves with runtime errors which should be vastly more common.  If you really wanted to, you could query `all_errors` for the object in question to see the compilation errors and report that information but that would be very, very, very unusual.","body":"OK, so that&#39;s helpful information that should be added to your question.  Are you really worried about compilation errors though?  You should basically never encounter a compilation error in production code-- that implies that something has failed catastrophically during the deploy process.  Applications would normally only concern themselves with runtime errors which should be vastly more common.  If you really wanted to, you could query <code>all_errors</code> for the object in question to see the compilation errors and report that information but that would be very, very, very unusual."},{"owner":{"account_id":26966040,"reputation":3,"user_id":20532884,"display_name":"GreatGig"},"score":0,"creation_date":1681956566,"post_id":76050189,"comment_id":134141497,"body_markdown":"Sadly, that&#39;s what i trying to do, it&#39;s like creating a SQL PLUS web app","body":"Sadly, that&#39;s what i trying to do, it&#39;s like creating a SQL PLUS web app"},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1682023595,"post_id":76050189,"comment_id":134154934,"body_markdown":"OK.  So, again, that&#39;s very useful information to edit into the question.  But take a look at how `SQL*Plus` works.  If you issue a DDL statement (your `create or replace procedure`) you just get back a message saying that the object failed to compile.  If you want to see the compilation errors, you have to issue a second command `show errors` which queries `all_errors` to show you the errors.  If you try to run an invalid procedure, you just get the ORA-00905 error you posted.  It doesn&#39;t tell you what the compilation errors are.","body":"OK.  So, again, that&#39;s very useful information to edit into the question.  But take a look at how <code>SQL*Plus</code> works.  If you issue a DDL statement (your <code>create or replace procedure</code>) you just get back a message saying that the object failed to compile.  If you want to see the compilation errors, you have to issue a second command <code>show errors</code> which queries <code>all_errors</code> to show you the errors.  If you try to run an invalid procedure, you just get the ORA-00905 error you posted.  It doesn&#39;t tell you what the compilation errors are."},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1682023704,"post_id":76050189,"comment_id":134154954,"body_markdown":"Incidentally, never, never, never, never create objects in the `SYS` or `SYSTEM` schema.  Those are reserved for Oracle.  Create your own schema.  Those are special.  Occasionally, code behaves differently in those schemas in a way that is contrary to &quot;normal&quot; documentation.","body":"Incidentally, never, never, never, never create objects in the <code>SYS</code> or <code>SYSTEM</code> schema.  Those are reserved for Oracle.  Create your own schema.  Those are special.  Occasionally, code behaves differently in those schemas in a way that is contrary to &quot;normal&quot; documentation."},{"owner":{"account_id":26966040,"reputation":3,"user_id":20532884,"display_name":"GreatGig"},"score":0,"creation_date":1682047917,"post_id":76050189,"comment_id":134157668,"body_markdown":"So, sir, what do you suggest? My purpose is that have many PLSQL blocks, i just want to build this app and compile then to see if they are still valid or not. Ofc with compilation error identification.","body":"So, sir, what do you suggest? My purpose is that have many PLSQL blocks, i just want to build this app and compile then to see if they are still valid or not. Ofc with compilation error identification."},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1682083859,"post_id":76050189,"comment_id":134164330,"body_markdown":"If you are only trying to determine whether stored PL/SQL blocks you have previously created are still valid, query `all_objects` to get the `status` and `all_errors` to get the errors.  Probably after doing a recompile on the schema.","body":"If you are only trying to determine whether stored PL/SQL blocks you have previously created are still valid, query <code>all_objects</code> to get the <code>status</code> and <code>all_errors</code> to get the errors.  Probably after doing a recompile on the schema."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681897763,"creation_date":1681897763,"answer_id":76053083,"question_id":76050189,"body_markdown":"Generally speaking if your code is catching an exception it is a good habit to print out a full stacktrace. Usually with the logger. It has a convenient interface to print the stacktrace of exception.\r\n\r\n**Solution** \r\n\r\nAdd Lombok plugin and dependency\r\n\r\nAdd following annotation to your class\r\n\r\n    @Slf4j\r\n\r\nAdd logging to the catch block\r\n\r\n    } catch (SQLException e) {\r\n        log.error(&quot;SQL exception: {}, e);\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n    }\r\n\r\n","title":"how do I get a detailed Plsql Error review","body":"<p>Generally speaking if your code is catching an exception it is a good habit to print out a full stacktrace. Usually with the logger. It has a convenient interface to print the stacktrace of exception.</p>\n<p><strong>Solution</strong></p>\n<p>Add Lombok plugin and dependency</p>\n<p>Add following annotation to your class</p>\n<pre><code>@Slf4j\n</code></pre>\n<p>Add logging to the catch block</p>\n<pre><code>} catch (SQLException e) {\n    log.error(&quot;SQL exception: {}, e);\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":26966040,"reputation":3,"user_id":20532884,"display_name":"GreatGig"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681897763,"creation_date":1681869194,"question_id":76050189,"body_markdown":"I have this api that calls a procedure by name and execute it, it&#39;s working fine, but when I test with a stored procedure that has an error it gives me a general error message, how do I make it provide me a detailed error message?\r\n\r\nThis is the code: \r\n\r\n    @PostMapping(&quot;/procedures/{procedureName}&quot;)\r\n        public ResponseEntity&lt;String&gt; executeProcedure(@PathVariable String procedureName) {\r\n            String sql = &quot;{CALL &quot; + procedureName + &quot;}&quot;; \r\n            try (Connection conn = jdbcTemplate.getDataSource().getConnection();\r\n                 CallableStatement stmt = conn.prepareCall(sql)) {\r\n                stmt.execute(); // execute the procedure\r\n                return ResponseEntity.ok(&quot;Procedure executed successfully&quot;);\r\n            } catch (SQLException e) {\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n            }\r\n        }\r\n\r\nGet a detailed error message.","title":"how do I get a detailed Plsql Error review","body":"<p>I have this api that calls a procedure by name and execute it, it's working fine, but when I test with a stored procedure that has an error it gives me a general error message, how do I make it provide me a detailed error message?</p>\n<p>This is the code:</p>\n<pre><code>@PostMapping(&quot;/procedures/{procedureName}&quot;)\n    public ResponseEntity&lt;String&gt; executeProcedure(@PathVariable String procedureName) {\n        String sql = &quot;{CALL &quot; + procedureName + &quot;}&quot;; \n        try (Connection conn = jdbcTemplate.getDataSource().getConnection();\n             CallableStatement stmt = conn.prepareCall(sql)) {\n            stmt.execute(); // execute the procedure\n            return ResponseEntity.ok(&quot;Procedure executed successfully&quot;);\n        } catch (SQLException e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n        }\n    }\n</code></pre>\n<p>Get a detailed error message.</p>\n"},{"tags":["javascript","java","html","spring"],"answers":[{"tags":[],"owner":{"account_id":27462264,"reputation":1,"user_id":20952632,"display_name":"Mohammed Umar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681606366,"creation_date":1681547558,"answer_id":76021158,"question_id":76020833,"body_markdown":"`&lt;a href=&quot;file.pdf&quot;&gt;PDF&lt;/a&gt;`, simply set up an anchor tag like this, you can also add up a button in between or keep the plain text. Now, when your PDF text is clicked, your pdf document shall open in pdf format \r\n\r\nmail me at mulla786mohammedumar@yahoo.com for further queries :)","title":"Embed PDF File to HTML Web Page for Which data is coming from Backend Server","body":"<p><code>&lt;a href=&quot;file.pdf&quot;&gt;PDF&lt;/a&gt;</code>, simply set up an anchor tag like this, you can also add up a button in between or keep the plain text. Now, when your PDF text is clicked, your pdf document shall open in pdf format</p>\n<p>mail me at mulla786mohammedumar@yahoo.com for further queries :)</p>\n"},{"tags":[],"owner":{"account_id":28072921,"reputation":11,"user_id":21445230,"display_name":"Rahul Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681897709,"creation_date":1681585423,"answer_id":76024233,"question_id":76020833,"body_markdown":"So I had asked this question. And, after some research, I found out that the approach was right, but I was omitting crucial headers which indicated that the data being sent from the backend is to be rendered as PDF or image.\r\n    \r\nSo if any one working on spring boot and facing same problem can follow this:\r\n    \r\n1. Controller – endpoints mapping:\r\n\r\n   ![1](https://i.stack.imgur.com/RuHto.png)\r\n\r\n   ```java        \r\n   @GetMapping(\r\n       path = &quot;/documentExplore/{documentId}&quot;,\r\n       produces ={\r\n           MediaType.APPLICATION_PDF_VALUE,\r\n           MediaType.IMAGE_PNG_VALUE\r\n       }\r\n   )\r\n   public byte[] viewDocument (@PathVariable(value = &quot;documentId&quot;) Long documentId)\r\n   throws IOException, InterruptedException, SQLException, DocumentException\r\n   {            \r\n       return scannerService.getDocumentData(documentId);\r\n   }\r\n   ```\r\n    \r\n2. ScannerService Interface \r\n\r\n   ```java\r\n   byte[] getDocumentData (Long documentId) throws IOException, DocumentException;\r\n   ```\r\n\r\n3. ScannerService Implementation – this renders PDF as well convert image into PDF for viewing \r\n\r\n   ```java\r\n   @Override\r\n   public byte[] getDocumentData(Long documentId) throws IOException, DocumentException\r\n   {\r\n       Document document = documentRepository.findById(documentId).get();\r\n       Path documentPath = Paths.get(uploadPath + document.getDocumentPath());\r\n\r\n       if(document.getDocumentExtension().contains(&quot;png&quot;)) {\r\n           Image image = Image.getInstance(Files.readAllBytes(documentPath));\r\n           float height = image.getHeight();\r\n           float width = image.getWidth();\r\n           String tmpdir = Files\r\n                           .createTempDirectory(&quot;DmsCache&quot;)\r\n                           .toFile()\r\n                           .getAbsolutePath();\r\n           System.out.println(tmpdir);\r\n           com.itextpdf.text.Document doc = new com.itextpdf.text.Document();\r\n\r\n           Rectangle pageSize = new Rectangle(width,height);\r\n           doc.setPageSize(pageSize);\r\n           PdfWriter.getInstance(doc, new FileOutputStream(tmpdir+&quot;/doc.pdf&quot;));\r\n\r\n           doc.open();\r\n           doc.add(image);\r\n           doc.close();\r\n        \r\n           Path tempPath = Paths.get(tmpdir+&quot;/doc.pdf&quot;);\r\n           byte[] documentData = Files.readAllBytes(tempPath);\r\n           System.out.println(&quot;Img&quot;);\r\n           return documentData;\r\n       }\r\n       else {\r\n           byte[] documentData = Files.readAllBytes(documentPath);\r\n           System.out.println(&quot;Pdf&quot;);\r\n           return documentData;\r\n       }\r\n        \r\n   }\r\n   ```\r\n\r\n4. My JavaScript call method to dynamically render different files and embed into frame \r\n\r\n   ```js\r\n   function readDocument(x){\r\n       console.log(x.parentElement);\r\n       console.log(x.parentElement.children);\r\n       var documentId = x.parentElement.children.item(1).textContent;\r\n        \r\n       var urlDoc = &#39;http://localhost:8080/data/documentExplore/&#39; + documentId;\r\n       var viewElement = document.getElementById(&quot;dockit&quot;);\r\n       viewElement.children.item(0).remove();\r\n\r\n       var newObjectEl = document.createElement(&quot;embed&quot;);\r\n       newObjectEl.type=&quot;application/pdf&quot;\r\n       newObjectEl.src=urlDoc.valueOf();\r\n       newObjectEl.width=&quot;100%&quot;\r\n       newObjectEl.height=&quot;100%&quot;\r\n\r\n       viewElement.append(newObjectEl);\r\n   }\r\n   ```\r\n\r\n5. HTML embed tag to embed the rendered PDF into webpage:\r\n\r\n   ```html\r\n   &lt;div class=&quot;window-main-body&quot; id=&quot;dockit&quot;&gt;\r\n       &lt;embed\r\n           type=&quot;application/pdf&quot;\r\n           src=&quot;&quot;\r\n           width=&quot;100%&quot;\r\n           height=&quot;100%&quot;\r\n       &gt;\r\n   &lt;/div&gt;\r\n   ```\r\n\r\n6. Due to security reason, embedding is generally disabled for which we have to manually configure these setting into spring boot:\r\n\r\n   ```java\r\n   .and().headers().frameOptions().sameOrigin().and()\r\n   ```\r\n\r\n   The above should be added to Security Filter Chain in security configuration.\r\n","title":"Embed PDF File to HTML Web Page for Which data is coming from Backend Server","body":"<p>So I had asked this question. And, after some research, I found out that the approach was right, but I was omitting crucial headers which indicated that the data being sent from the backend is to be rendered as PDF or image.</p>\n<p>So if any one working on spring boot and facing same problem can follow this:</p>\n<ol>\n<li><p>Controller – endpoints mapping:</p>\n<p><img src=\"https://i.stack.imgur.com/RuHto.png\" alt=\"1\" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(\n    path = &quot;/documentExplore/{documentId}&quot;,\n    produces ={\n        MediaType.APPLICATION_PDF_VALUE,\n        MediaType.IMAGE_PNG_VALUE\n    }\n)\npublic byte[] viewDocument (@PathVariable(value = &quot;documentId&quot;) Long documentId)\nthrows IOException, InterruptedException, SQLException, DocumentException\n{            \n    return scannerService.getDocumentData(documentId);\n}\n</code></pre>\n</li>\n<li><p>ScannerService Interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] getDocumentData (Long documentId) throws IOException, DocumentException;\n</code></pre>\n</li>\n<li><p>ScannerService Implementation – this renders PDF as well convert image into PDF for viewing</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic byte[] getDocumentData(Long documentId) throws IOException, DocumentException\n{\n    Document document = documentRepository.findById(documentId).get();\n    Path documentPath = Paths.get(uploadPath + document.getDocumentPath());\n\n    if(document.getDocumentExtension().contains(&quot;png&quot;)) {\n        Image image = Image.getInstance(Files.readAllBytes(documentPath));\n        float height = image.getHeight();\n        float width = image.getWidth();\n        String tmpdir = Files\n                        .createTempDirectory(&quot;DmsCache&quot;)\n                        .toFile()\n                        .getAbsolutePath();\n        System.out.println(tmpdir);\n        com.itextpdf.text.Document doc = new com.itextpdf.text.Document();\n\n        Rectangle pageSize = new Rectangle(width,height);\n        doc.setPageSize(pageSize);\n        PdfWriter.getInstance(doc, new FileOutputStream(tmpdir+&quot;/doc.pdf&quot;));\n\n        doc.open();\n        doc.add(image);\n        doc.close();\n\n        Path tempPath = Paths.get(tmpdir+&quot;/doc.pdf&quot;);\n        byte[] documentData = Files.readAllBytes(tempPath);\n        System.out.println(&quot;Img&quot;);\n        return documentData;\n    }\n    else {\n        byte[] documentData = Files.readAllBytes(documentPath);\n        System.out.println(&quot;Pdf&quot;);\n        return documentData;\n    }\n\n}\n</code></pre>\n</li>\n<li><p>My JavaScript call method to dynamically render different files and embed into frame</p>\n<pre class=\"lang-js prettyprint-override\"><code>function readDocument(x){\n    console.log(x.parentElement);\n    console.log(x.parentElement.children);\n    var documentId = x.parentElement.children.item(1).textContent;\n\n    var urlDoc = 'http://localhost:8080/data/documentExplore/' + documentId;\n    var viewElement = document.getElementById(&quot;dockit&quot;);\n    viewElement.children.item(0).remove();\n\n    var newObjectEl = document.createElement(&quot;embed&quot;);\n    newObjectEl.type=&quot;application/pdf&quot;\n    newObjectEl.src=urlDoc.valueOf();\n    newObjectEl.width=&quot;100%&quot;\n    newObjectEl.height=&quot;100%&quot;\n\n    viewElement.append(newObjectEl);\n}\n</code></pre>\n</li>\n<li><p>HTML embed tag to embed the rendered PDF into webpage:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;window-main-body&quot; id=&quot;dockit&quot;&gt;\n    &lt;embed\n        type=&quot;application/pdf&quot;\n        src=&quot;&quot;\n        width=&quot;100%&quot;\n        height=&quot;100%&quot;\n    &gt;\n&lt;/div&gt;\n</code></pre>\n</li>\n<li><p>Due to security reason, embedding is generally disabled for which we have to manually configure these setting into spring boot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.and().headers().frameOptions().sameOrigin().and()\n</code></pre>\n<p>The above should be added to Security Filter Chain in security configuration.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28072921,"reputation":11,"user_id":21445230,"display_name":"Rahul Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681897709,"creation_date":1681542411,"question_id":76020833,"body_markdown":"Trying to Embed PDF into my HTML Web Page for which I am calling an AJAX function.\r\n\r\nThe function retrieves the data from my backend of the PDF but instead of rendering that as PDF, my frame keep showing the data of that PDF as shown in screenshot.\r\n\r\n![](https://i.stack.imgur.com/8gkwW.png)\r\n\r\nAny suggestion on how to make my page render it into PDF, as webpages by default support showing PDFs.\r\n\r\nMy data from backend is in `byte[]` format, further suggestion to improve","title":"Embed PDF File to HTML Web Page for Which data is coming from Backend Server","body":"<p>Trying to Embed PDF into my HTML Web Page for which I am calling an AJAX function.</p>\n<p>The function retrieves the data from my backend of the PDF but instead of rendering that as PDF, my frame keep showing the data of that PDF as shown in screenshot.</p>\n<p><img src=\"https://i.stack.imgur.com/8gkwW.png\" alt=\"\" /></p>\n<p>Any suggestion on how to make my page render it into PDF, as webpages by default support showing PDFs.</p>\n<p>My data from backend is in <code>byte[]</code> format, further suggestion to improve</p>\n"},{"tags":["java","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681891242,"creation_date":1681891242,"answer_id":76052039,"question_id":76050297,"body_markdown":"This should work\r\n\r\n    V1DeleteOptions v1DeleteOptions = new V1DeleteOptions();\r\n    v1DeleteOptions.setGracePeriodSeconds(0L);\r\n    V1Pod deleteNamespacedPod = coreV1Api.deleteNamespacedPod(\r\n            podName,\r\n            namespace,\r\n            null,\r\n            &quot;false&quot;,\r\n            0,\r\n            true,\r\n            null,\r\n            v1DeleteOptions);","title":"How to delete pod immediately?","body":"<p>This should work</p>\n<pre><code>V1DeleteOptions v1DeleteOptions = new V1DeleteOptions();\nv1DeleteOptions.setGracePeriodSeconds(0L);\nV1Pod deleteNamespacedPod = coreV1Api.deleteNamespacedPod(\n        podName,\n        namespace,\n        null,\n        &quot;false&quot;,\n        0,\n        true,\n        null,\n        v1DeleteOptions);\n</code></pre>\n"}],"owner":{"account_id":21207981,"reputation":21,"user_id":15597209,"display_name":"zmetry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681897659,"creation_date":1681870776,"question_id":76050297,"body_markdown":"I want to force delete a `pod` immediately by using `io.kubernetes:ClientJavaApi`.\r\n\r\nI tried to use the following command to delete, but there is still a delay\r\n\r\n\r\n```\r\noptions = new V1DeleteOptions();\r\noptions.setGracePeriodSeconds(0L);\r\noptions.setPropagationPolicy(&quot;Foreground&quot;);\r\noptions.setOrphanDependents(false);\r\n\r\nV1Pod result = coreV1Api.deleteNamespacedPod(name, namespace, &quot;true&quot;, null,\r\n                    gracePeriodSeconds, null, null, options);\r\n```\r\n","title":"How to delete pod immediately?","body":"<p>I want to force delete a <code>pod</code> immediately by using <code>io.kubernetes:ClientJavaApi</code>.</p>\n<p>I tried to use the following command to delete, but there is still a delay</p>\n<pre><code>options = new V1DeleteOptions();\noptions.setGracePeriodSeconds(0L);\noptions.setPropagationPolicy(&quot;Foreground&quot;);\noptions.setOrphanDependents(false);\n\nV1Pod result = coreV1Api.deleteNamespacedPod(name, namespace, &quot;true&quot;, null,\n                    gracePeriodSeconds, null, null, options);\n</code></pre>\n"},{"tags":["java","transactions","hexagonal-architecture"],"answers":[{"tags":[],"owner":{"account_id":8024142,"reputation":752,"user_id":6051839,"display_name":"Ilia Yatsenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681897342,"creation_date":1681896698,"answer_id":76052915,"question_id":76032741,"body_markdown":"I agree with you that making any of `core`, `api` or `persistence` responsible for transactions does not look well.\r\n\r\nUsually, there is one more layer, called like `Application`, which is placed between controllers (`api` layer in your case) and domain logic (your `core`). This `Application` layer contains application use-cases, and is responsible of high-level coordination: managing transactions, dispatching integration events, etc. \r\n\r\nBut adding a whole new layer only for one task may be an overhead for your case. If you are sure that there will not appear any other tasks fitting &quot;somewhere in between&quot; `api` and `core`, I&#39;d suggest to put transaction management in the `api` layer.\r\n\r\nBut I&#39;m pretty sure that this is not the only concern in your app, which fits &quot;in between&quot;. So, adding `Application` layer may be worth it. For example, writing logs, or triggering integration events are also good candidates to be placed here.\r\n\r\n**P.S.** Also your words &quot;If the core is wired to a different kind of persistency, these Transactionals would become useless.&quot; make me suspect that coupling between your `core` and `persistence` is too high. Ideally, core should not be &quot;wired&quot; on any persistence mechanisms, and **abstracting via interface is still dependency**, though inverted. What I&#39;d suggest is adding `app` layer which will be &quot;wired&quot; on `persistence` layer, instead. Then `core` will be isolated completely. I offer you to read this amazing article about core isolation and completion, it will clarify why the additional layer may be required: [https://enterprisecraftsmanship.com/posts/domain-model-purity-completeness][1]. And this one will explain why inverted dependency on persistence is still dependency, and thus should be avoided: [https://enterprisecraftsmanship.com/posts/how-to-know-if-your-domain-model-is-properly-isolated][2]\r\n\r\n\r\n  [1]: https://enterprisecraftsmanship.com/posts/domain-model-purity-completeness\r\n  [2]: https://enterprisecraftsmanship.com/posts/how-to-know-if-your-domain-model-is-properly-isolated/","title":"In a hexagonal Java application, which part ought to control the transaction?","body":"<p>I agree with you that making any of <code>core</code>, <code>api</code> or <code>persistence</code> responsible for transactions does not look well.</p>\n<p>Usually, there is one more layer, called like <code>Application</code>, which is placed between controllers (<code>api</code> layer in your case) and domain logic (your <code>core</code>). This <code>Application</code> layer contains application use-cases, and is responsible of high-level coordination: managing transactions, dispatching integration events, etc.</p>\n<p>But adding a whole new layer only for one task may be an overhead for your case. If you are sure that there will not appear any other tasks fitting &quot;somewhere in between&quot; <code>api</code> and <code>core</code>, I'd suggest to put transaction management in the <code>api</code> layer.</p>\n<p>But I'm pretty sure that this is not the only concern in your app, which fits &quot;in between&quot;. So, adding <code>Application</code> layer may be worth it. For example, writing logs, or triggering integration events are also good candidates to be placed here.</p>\n<p><strong>P.S.</strong> Also your words &quot;If the core is wired to a different kind of persistency, these Transactionals would become useless.&quot; make me suspect that coupling between your <code>core</code> and <code>persistence</code> is too high. Ideally, core should not be &quot;wired&quot; on any persistence mechanisms, and <strong>abstracting via interface is still dependency</strong>, though inverted. What I'd suggest is adding <code>app</code> layer which will be &quot;wired&quot; on <code>persistence</code> layer, instead. Then <code>core</code> will be isolated completely. I offer you to read this amazing article about core isolation and completion, it will clarify why the additional layer may be required: <a href=\"https://enterprisecraftsmanship.com/posts/domain-model-purity-completeness\" rel=\"nofollow noreferrer\">https://enterprisecraftsmanship.com/posts/domain-model-purity-completeness</a>. And this one will explain why inverted dependency on persistence is still dependency, and thus should be avoided: <a href=\"https://enterprisecraftsmanship.com/posts/how-to-know-if-your-domain-model-is-properly-isolated/\" rel=\"nofollow noreferrer\">https://enterprisecraftsmanship.com/posts/how-to-know-if-your-domain-model-is-properly-isolated</a></p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681897342,"creation_date":1681717257,"question_id":76032741,"body_markdown":"In my Java application, I try to implement hexagonal architecture:\r\n\r\n- Its inner `core` package contains the pure business logic. These are in the form of plain old Java objects and interfaces.\r\n\r\n- On one side of the core, I have a _port_ package `api` that receives requests from the outside and calls the business logic&#39;s interfaces to perform the required steps, such as retrieving or creating an entity.\r\n\r\n- On another side, I have an _adapter_ package `persistency` that implements data retrieval and storage in a database. It is decoupled in hexagonal way, meaning the core provides and calls interfaces, which are implemented by classes in this package.\r\n\r\nIn a typical scenario, the api receives a REST call, calls the core, and the core calls the persistency-backed adapters for creating/reading/updating/deleting something.\r\n\r\n**Which of these components optimally creates the database transaction?** More precisely, since I use Spring Boot, which package should contain the `@Transactional`-annotated methods?\r\n\r\n- At first thought, my guess would have been that the core should be in control of this, as consistent rollback seems to be a key task to ensuring consistent business data. However, at second glance, transactionality seems to be more of a database detail, and a different implementation of the adapter, such as sending the data on via REST for outside storage, uses completely different schemes.\r\n\r\n- In non-hexagonal layered architectures, we usually find @Transactional on the uppermost layer, meaning the controllers&#39; methods in the api package. This seems to be in sync with the idea that it is the REST endpoint that decides whether the request is stored completely or partially. However, it seems weird that this border package (api) should manage the details of another border package (persistency). If the core is wired to a different kind of persistency, these Transactionals would become useless.\r\n\r\n- Another idea could be to put the @Transactionals into the persistency package. But this would mean that other packages are completely unable to control the level of detail and multiple database accesses might result unintentionally in a series of transactions instead of one common one.","title":"In a hexagonal Java application, which part ought to control the transaction?","body":"<p>In my Java application, I try to implement hexagonal architecture:</p>\n<ul>\n<li><p>Its inner <code>core</code> package contains the pure business logic. These are in the form of plain old Java objects and interfaces.</p>\n</li>\n<li><p>On one side of the core, I have a <em>port</em> package <code>api</code> that receives requests from the outside and calls the business logic's interfaces to perform the required steps, such as retrieving or creating an entity.</p>\n</li>\n<li><p>On another side, I have an <em>adapter</em> package <code>persistency</code> that implements data retrieval and storage in a database. It is decoupled in hexagonal way, meaning the core provides and calls interfaces, which are implemented by classes in this package.</p>\n</li>\n</ul>\n<p>In a typical scenario, the api receives a REST call, calls the core, and the core calls the persistency-backed adapters for creating/reading/updating/deleting something.</p>\n<p><strong>Which of these components optimally creates the database transaction?</strong> More precisely, since I use Spring Boot, which package should contain the <code>@Transactional</code>-annotated methods?</p>\n<ul>\n<li><p>At first thought, my guess would have been that the core should be in control of this, as consistent rollback seems to be a key task to ensuring consistent business data. However, at second glance, transactionality seems to be more of a database detail, and a different implementation of the adapter, such as sending the data on via REST for outside storage, uses completely different schemes.</p>\n</li>\n<li><p>In non-hexagonal layered architectures, we usually find @Transactional on the uppermost layer, meaning the controllers' methods in the api package. This seems to be in sync with the idea that it is the REST endpoint that decides whether the request is stored completely or partially. However, it seems weird that this border package (api) should manage the details of another border package (persistency). If the core is wired to a different kind of persistency, these Transactionals would become useless.</p>\n</li>\n<li><p>Another idea could be to put the @Transactionals into the persistency package. But this would mean that other packages are completely unable to control the level of detail and multiple database accesses might result unintentionally in a series of transactions instead of one common one.</p>\n</li>\n</ul>\n"},{"tags":["java","spring-boot","rest","download"],"comments":[{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1681914543,"post_id":76052955,"comment_id":134134274,"body_markdown":"try to simplify and locate the problem. (a) replace `result` in response with empty `ByteArrayInputStream`. (b) try in debug mode to read (log) full content of your `result` before sending response. (c) disable anti-virus software if any.","body":"try to simplify and locate the problem. (a) replace <code>result</code> in response with empty <code>ByteArrayInputStream</code>. (b) try in debug mode to read (log) full content of your <code>result</code> before sending response. (c) disable anti-virus software if any."}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681896942,"creation_date":1681896942,"question_id":76052955,"body_markdown":"I have simple end point via spring-boot app that is used to export zip as InputStreamResource.\r\n\r\nMy questions are:\r\n1. Why does it fail to get response?\r\n2. The zip was already generated and hence it should not be timeout problem? Simply saying, the result should be returned in a few seconds.\r\n3. When I want to export single file in same approach then it is possible. Is possible that the issue is related somehow with zip format?\r\n4. What can I do to fix it?\r\n\r\n```\r\nClientAbortException:  java.io.IOException: An established connection was aborted by the software in your host machine\r\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:413)\r\n    at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:480)\r\n    at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:366)\r\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:438)\r\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:426)\r\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:91)\r\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:1862)\r\n    at com.fa\r\n...\r\n```\r\n\r\n```\r\n@RequestMapping(value = &#39;/data/zip/{id}&#39;, method = GET)\r\npublic ResponseEntity&lt;InputStreamResource&gt; getZip(@PathVariable Long id) throws IOException {\r\n   try {\r\n       // service.getResult(id) returns ZIP that is included in Map&lt;Long, InputStream&gt;\r\n       InputStream result = service.getResult(id); /\r\n       HttpHeaders headers = new HttpHeaders();\r\n       headers.headers(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + &quot;test.zip&quot;);\r\n       return ResponseEntity.ok().headers(headers).contentType(&#39;application/zip&#39;).body(new InputStreamResource(result));\r\n   }\r\n}\r\n```\r\n\r\nChecked [this similar thread][1] but it does not help. Just for reference. Thanks for any positive direction.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25852152/an-established-connection-was-aborted-by-the-software-in-your-host-machine-tomca","title":"Spring boot end point to export file - established connection was aborted","body":"<p>I have simple end point via spring-boot app that is used to export zip as InputStreamResource.</p>\n<p>My questions are:</p>\n<ol>\n<li>Why does it fail to get response?</li>\n<li>The zip was already generated and hence it should not be timeout problem? Simply saying, the result should be returned in a few seconds.</li>\n<li>When I want to export single file in same approach then it is possible. Is possible that the issue is related somehow with zip format?</li>\n<li>What can I do to fix it?</li>\n</ol>\n<pre><code>ClientAbortException:  java.io.IOException: An established connection was aborted by the software in your host machine\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:413)\n    at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:480)\n    at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:366)\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:438)\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:426)\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:91)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:1862)\n    at com.fa\n...\n</code></pre>\n<pre><code>@RequestMapping(value = '/data/zip/{id}', method = GET)\npublic ResponseEntity&lt;InputStreamResource&gt; getZip(@PathVariable Long id) throws IOException {\n   try {\n       // service.getResult(id) returns ZIP that is included in Map&lt;Long, InputStream&gt;\n       InputStream result = service.getResult(id); /\n       HttpHeaders headers = new HttpHeaders();\n       headers.headers(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + &quot;test.zip&quot;);\n       return ResponseEntity.ok().headers(headers).contentType('application/zip').body(new InputStreamResource(result));\n   }\n}\n</code></pre>\n<p>Checked <a href=\"https://stackoverflow.com/questions/25852152/an-established-connection-was-aborted-by-the-software-in-your-host-machine-tomca\">this similar thread</a> but it does not help. Just for reference. Thanks for any positive direction.</p>\n"},{"tags":["java","ldap"],"answers":[{"tags":[],"owner":{"account_id":383083,"reputation":4808,"user_id":738708,"display_name":"Ludovic Poitou"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574155927,"creation_date":1574155927,"answer_id":58930712,"question_id":58911874,"body_markdown":"Depending on the version of Java 8 you were using, there could be several reasons for this error:\r\n\r\n - Java 11 (and recent versions of Java 8) now enforce hostname\r\n   verification when establishing SSL connections. So the server&#39;s\r\n   certificate much match the hostname you are trying to connect to.\r\n - Java 11 also has newer cipher suites and TLS versions, and deprecated some old cipher suites. You may want to enable SSL\r\n   debugging to see what is exchanged on the SSL layer.\r\n - Finally, there are several issues with TLS(1.3), cipher suites in the early versions of Java 11, so you might want to switch to the\r\n   latest update (11.0.5)","title":"Java upgrade 8 to 11 causing issue with LDAPS connection (Connection or outbound has closed)","body":"<p>Depending on the version of Java 8 you were using, there could be several reasons for this error:</p>\n\n<ul>\n<li>Java 11 (and recent versions of Java 8) now enforce hostname\nverification when establishing SSL connections. So the server's\ncertificate much match the hostname you are trying to connect to.</li>\n<li>Java 11 also has newer cipher suites and TLS versions, and deprecated some old cipher suites. You may want to enable SSL\ndebugging to see what is exchanged on the SSL layer.</li>\n<li>Finally, there are several issues with TLS(1.3), cipher suites in the early versions of Java 11, so you might want to switch to the\nlatest update (11.0.5)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3406565,"reputation":3857,"user_id":2857477,"accept_rate":50,"display_name":"akelec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634047503,"creation_date":1634047503,"answer_id":69542006,"question_id":58911874,"body_markdown":"You can change default params like RSA keysize etc. by modifying the file `java.security`. However, please be aware that there is a second file `java.config` (on Linux it is located: `/etc/crypto-policies/back-ends/java.config`) that overrides the params in `java.security`. \r\n\r\nThis is controlled by the property (in `java.security`):  \r\n\r\n`security.useSystemPropertiesFile=true`\r\n\r\nSo, either change that property to `false`, or modify params directly in `java.config`.\r\n\r\nI was stuck with that for a long time!","title":"Java upgrade 8 to 11 causing issue with LDAPS connection (Connection or outbound has closed)","body":"<p>You can change default params like RSA keysize etc. by modifying the file <code>java.security</code>. However, please be aware that there is a second file <code>java.config</code> (on Linux it is located: <code>/etc/crypto-policies/back-ends/java.config</code>) that overrides the params in <code>java.security</code>.</p>\n<p>This is controlled by the property (in <code>java.security</code>):</p>\n<p><code>security.useSystemPropertiesFile=true</code></p>\n<p>So, either change that property to <code>false</code>, or modify params directly in <code>java.config</code>.</p>\n<p>I was stuck with that for a long time!</p>\n"},{"tags":[],"owner":{"account_id":3853439,"reputation":373,"user_id":3192945,"accept_rate":67,"display_name":"user0011"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681896281,"creation_date":1635043406,"answer_id":69693505,"question_id":58911874,"body_markdown":"wrote a test script to connect with ldap ( with ssl logs enable) @ jdk 11\r\n \r\n\r\n    /opt/soft/jdk_installed/jdk-11.0.2/bin/java -XX:+UseSerialGC -DLdapsConnect -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/opt/soft/tomcat/conf/svrtrust -Djavax.net.ssl.trustStorePassword=hsqlIiza -Djavax.net.ssl.keyStore=/opt/soft/tomcat/conf/svrkeystore.jks -Djavax.net.ssl.keyStorePassword=hsqlIiza -classpath /tmp/ LdapsConnect $*\r\n\r\nfound that below error in ssl logs\r\n\r\n    javax.net.ssl|ERROR|1D|Thread-0|2020-01-22 10:55:21.632 CET|TransportContext.java:313|Fatal (CERTIFICATE_UNKNOWN): No subject alternative DNS name matching ad1.xxxx.zz found.\r\n\r\n\r\nConclusion/Solution : Ldap certificate should be modified to have ad1.ngssm-ru.zz which is missing.\r\nAs Java 8u181 has changes as below in ldap support which does not allow old way after java version 8u181 and above.\r\n\r\nJava is trying to make sure the host name in your connection configuration matches the host names in the remote LDAPS TLS server certificate and that those host names in the certificate are valid. The correct solution for a secure connection is to have your LDAP server administrators correct the LDAPs certificate the ldap server is using so that the improved endpoint identification algorithms work. This is for our protection.\r\n\r\nhttps://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html\r\nChanges\r\ncore-libs/javax.naming\r\n? Improve LDAP support\r\nEndpoint identification has been enabled on LDAPS connections.\r\n\r\nTo improve the robustness of LDAPS (secure LDAP over TLS) connections, endpoint identification algorithms have been enabled by default.\r\n\r\nNote that there may be situations where some applications that were previously able to successfully connect to an LDAPS server may no longer be able to do so. Such applications may, if they deem appropriate, disable endpoint identification using a new system property: `com.sun.jndi.ldap.object.disableEndpointIdentification`.\r\n\r\nDefine this system property (or set it to true) to disable endpoint identification algorithms.\r\n","title":"Java upgrade 8 to 11 causing issue with LDAPS connection (Connection or outbound has closed)","body":"<p>wrote a test script to connect with ldap ( with ssl logs enable) @ jdk 11</p>\n<pre><code>/opt/soft/jdk_installed/jdk-11.0.2/bin/java -XX:+UseSerialGC -DLdapsConnect -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/opt/soft/tomcat/conf/svrtrust -Djavax.net.ssl.trustStorePassword=hsqlIiza -Djavax.net.ssl.keyStore=/opt/soft/tomcat/conf/svrkeystore.jks -Djavax.net.ssl.keyStorePassword=hsqlIiza -classpath /tmp/ LdapsConnect $*\n</code></pre>\n<p>found that below error in ssl logs</p>\n<pre><code>javax.net.ssl|ERROR|1D|Thread-0|2020-01-22 10:55:21.632 CET|TransportContext.java:313|Fatal (CERTIFICATE_UNKNOWN): No subject alternative DNS name matching ad1.xxxx.zz found.\n</code></pre>\n<p>Conclusion/Solution : Ldap certificate should be modified to have ad1.ngssm-ru.zz which is missing.\nAs Java 8u181 has changes as below in ldap support which does not allow old way after java version 8u181 and above.</p>\n<p>Java is trying to make sure the host name in your connection configuration matches the host names in the remote LDAPS TLS server certificate and that those host names in the certificate are valid. The correct solution for a secure connection is to have your LDAP server administrators correct the LDAPs certificate the ldap server is using so that the improved endpoint identification algorithms work. This is for our protection.</p>\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html</a>\nChanges\ncore-libs/javax.naming\n? Improve LDAP support\nEndpoint identification has been enabled on LDAPS connections.</p>\n<p>To improve the robustness of LDAPS (secure LDAP over TLS) connections, endpoint identification algorithms have been enabled by default.</p>\n<p>Note that there may be situations where some applications that were previously able to successfully connect to an LDAPS server may no longer be able to do so. Such applications may, if they deem appropriate, disable endpoint identification using a new system property: <code>com.sun.jndi.ldap.object.disableEndpointIdentification</code>.</p>\n<p>Define this system property (or set it to true) to disable endpoint identification algorithms.</p>\n"}],"owner":{"account_id":3853439,"reputation":373,"user_id":3192945,"accept_rate":67,"display_name":"user0011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16863,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69693505,"answer_count":3,"score":4,"last_activity_date":1681896400,"creation_date":1574070769,"question_id":58911874,"body_markdown":"This issue seen after java upgrade. LDAP with DNS alias does not connect with java 11.0.2 where as it worked with java 8\r\n\r\nDNS alias as below this remain same no change here only change is java upgrade 8 to 11:\r\n```\r\n$ nslookup ad1.XXXXX.zz\r\n\r\n    Server:         10.222.249.209\r\n    Address:        10.222.249.209#53\r\n    \r\n    Name:   ad1.XXXXX.zz\r\n    Address: 10.222.249.205\r\n    Name:   ad1.XXXXX.zz\r\n    Address: 10.222.249.204\r\n    Name:   ad1.XXXXX.zz\r\n    Address: 10.222.249.210\r\n```\r\nLDAP direct IP with java 11.0.2 it works no issue:\r\n\r\n```\r\n$ nslookup qdegsf.XXXXX.zz\r\n\r\n    Server:         10.222.249.209\r\n    Address:        10.222.249.209#53\r\n    \r\n    Name:   qdegsf.XXXXX.zz\r\n    Address: 10.222.249.210\r\n```\r\nProcess parameters:\r\n```\r\n/opt/3rdparty/jdk_installed/jdk-11.0.2/bin/java -Dsserver -Djdk.serialFilter=*  -Dfile.encoding=UTF8  -Djavax.net.ssl.trustStore=/opt/3rdparty/tomcat/conf/svrtrust -Djavax.net.ssl.trustStorePassword=XXXX -Djavax.net.ssl.keyStore=/opt/3rdparty/tomcat/conf/svrkeystore.jks    \r\n```\r\nBelow is the issue traces when ldap connection is made\r\n\r\n    java.lang.RuntimeException: connection to ldap server failed;url;ldaps://ad1.XXXXX.zz:636;authDN;sa_XXX@XXXXX.zz\r\n    javax.naming.CommunicationException: simple bind failed: ad1.XXXXX.zz:636 [Root exception is java.net.SocketException: Connection or outbound has closed]\r\n    java.net.SocketException: Connection or outbound has closed\r\n    Trace for the thrown exceptions:\r\n    java.lang.RuntimeException: connection to ldap server failed;url;ldaps://ad1.XXXXX.zz:636;authDN;sa_XXX@XXXXX.zz\r\n    \tat auth.ldap.LdapConnection.testConnection(LdapConnection.java:46)\r\n    \r\n    \t\r\n    Caused by: javax.naming.CommunicationException: simple bind failed: ad1.XXXXX.zz:636 [Root exception is java.net.SocketException: Connection or outbound has closed]\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:192)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:210)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:153)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:83)\r\n    \tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\r\n    \tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\r\n    \tat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\r\n    \tat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\r\n    \tat java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:101)\r\n    \tat auth.ldap.LdapConnection.testConnection(LdapConnection.java:41)\r\n    \t... 3 more\r\n    Caused by: java.net.SocketException: Connection or outbound has closed\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:976)\r\n    \tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n    \tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n    \tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\r\n    \tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\r\n    \t... 15 more\r\n    javax.naming.CommunicationException: simple bind failed: ad1.XXXXX.zz:636 [Root exception is java.net.SocketException: Connection or outbound has closed]\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:192)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:210)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:153)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:83)\r\n    \tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\r\n    \tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\r\n    \tat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\r\n    \tat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\r\n    \tat java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:101)\r\n    \tat auth.ldap.LdapConnection.testConnection(LdapConnection.java:41)\r\n    Caused by: java.net.SocketException: Connection or outbound has closed\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:976)\r\n    \tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n    \tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n    \tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\r\n    \tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\r\n    \t... 15 more\r\n    java.net.SocketException: Connection or outbound has closed\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:976)\r\n    \tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n    \tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n    \tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\r\n    \tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:192)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:210)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:153)\r\n    \tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:83)\r\n    \tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\r\n    \tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\r\n    \tat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\r\n    \tat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\r\n    \tat java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:101)\r\n    \tat nims.auth.ldap.LdapConnection.testConnection(LdapConnection.java:41)\r\n    \tat auth.LdapAuthenticationService.doTestConnection(LdapAuthenticationService.java:50)\r\n\r\n\r\nUpdate getting below error when:\r\n```\r\n$ openssl s_client -connect  ad1.XXXXX-ru.zz:636\r\n\r\nCONNECTED(00000003)\r\ndepth=0 \r\nverify error:num=20:**unable to get local issuer certificate**\r\nverify return:1\r\ndepth=0 \r\nverify error:num=27:**certificate not trusted**\r\nverify return:1\r\ndepth=0 \r\nverify error:num=21:**unable to verify the first certificate**\r\nverify return:1\r\n\r\nCertificate chain\r\n 0 s:\r\n   i:/DC=zz/DC=XXXXX-ru/CN=XXXXX-ru-ROOT-CA\r\n\r\nServer certificate\r\n-----BEGIN CERTIFICATE-----\r\nMIIFfjCCBGagAwIBAgITLwAAAKgllUHEZUjzRwAAAAAAqDANBgkqhkiG9w0BA.................\r\n\r\nAPpwNrloBJjZo2bJ7pqe4gXN\r\n-----END CERTIFICATE-----\r\n\r\nsubject=\r\nissuer=/DC=zz/DC=XXXXX-ru/CN=XXXXX-ru-ROOT-CA\r\n\r\nNo client certificate CA names sent\r\nServer Temp Key: ECDH, prime256v1, 256 bits\r\n\r\nSSL handshake has read 1980 bytes and written 441 bytes\r\n\r\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-SHA384\r\nServer public key is 2048 bit\r\nSecure Renegotiation IS supported\r\nCompression: NONE\r\nExpansion: NONE\r\nSSL-Session:\r\n    Protocol  : TLSv1.2\r\n    Cipher    : ECDHE-RSA-AES256-SHA384\r\n    Session-ID: C51900006745E495E1C8CA132C0EDF901C3638DE9E5EEA506551E298E2374372\r\n    Session-ID-ctx: \r\n    Master-Key: A8B4C4E2B01FE11822CE047D3B7D692EE1C001DA551DFE63FBC314737177BE7A285F79D6FF36B67D3E1AFF72C1402D2D\r\n    Key-Arg   : None\r\n    Krb5 Principal: None\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    Start Time: 1574232095\r\n    Timeout   : 300 (sec)\r\n    Verify return code: 21 (unable to verify the first certificate)\r\n```","title":"Java upgrade 8 to 11 causing issue with LDAPS connection (Connection or outbound has closed)","body":"<p>This issue seen after java upgrade. LDAP with DNS alias does not connect with java 11.0.2 where as it worked with java 8</p>\n<p>DNS alias as below this remain same no change here only change is java upgrade 8 to 11:</p>\n<pre><code>$ nslookup ad1.XXXXX.zz\n\n    Server:         10.222.249.209\n    Address:        10.222.249.209#53\n    \n    Name:   ad1.XXXXX.zz\n    Address: 10.222.249.205\n    Name:   ad1.XXXXX.zz\n    Address: 10.222.249.204\n    Name:   ad1.XXXXX.zz\n    Address: 10.222.249.210\n</code></pre>\n<p>LDAP direct IP with java 11.0.2 it works no issue:</p>\n<pre><code>$ nslookup qdegsf.XXXXX.zz\n\n    Server:         10.222.249.209\n    Address:        10.222.249.209#53\n    \n    Name:   qdegsf.XXXXX.zz\n    Address: 10.222.249.210\n</code></pre>\n<p>Process parameters:</p>\n<pre><code>/opt/3rdparty/jdk_installed/jdk-11.0.2/bin/java -Dsserver -Djdk.serialFilter=*  -Dfile.encoding=UTF8  -Djavax.net.ssl.trustStore=/opt/3rdparty/tomcat/conf/svrtrust -Djavax.net.ssl.trustStorePassword=XXXX -Djavax.net.ssl.keyStore=/opt/3rdparty/tomcat/conf/svrkeystore.jks    \n</code></pre>\n<p>Below is the issue traces when ldap connection is made</p>\n<pre><code>java.lang.RuntimeException: connection to ldap server failed;url;ldaps://ad1.XXXXX.zz:636;authDN;sa_XXX@XXXXX.zz\njavax.naming.CommunicationException: simple bind failed: ad1.XXXXX.zz:636 [Root exception is java.net.SocketException: Connection or outbound has closed]\njava.net.SocketException: Connection or outbound has closed\nTrace for the thrown exceptions:\njava.lang.RuntimeException: connection to ldap server failed;url;ldaps://ad1.XXXXX.zz:636;authDN;sa_XXX@XXXXX.zz\n    at auth.ldap.LdapConnection.testConnection(LdapConnection.java:46)\n\n    \nCaused by: javax.naming.CommunicationException: simple bind failed: ad1.XXXXX.zz:636 [Root exception is java.net.SocketException: Connection or outbound has closed]\n    at java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\n    at java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\n    at java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:192)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:210)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:153)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:83)\n    at java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\n    at java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\n    at java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\n    at java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\n    at java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:101)\n    at auth.ldap.LdapConnection.testConnection(LdapConnection.java:41)\n    ... 3 more\nCaused by: java.net.SocketException: Connection or outbound has closed\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:976)\n    at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n    at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\n    at java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\n    at java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\n    at java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\n    at java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\n    ... 15 more\njavax.naming.CommunicationException: simple bind failed: ad1.XXXXX.zz:636 [Root exception is java.net.SocketException: Connection or outbound has closed]\n    at java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\n    at java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\n    at java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:192)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:210)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:153)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:83)\n    at java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\n    at java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\n    at java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\n    at java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\n    at java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:101)\n    at auth.ldap.LdapConnection.testConnection(LdapConnection.java:41)\nCaused by: java.net.SocketException: Connection or outbound has closed\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:976)\n    at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n    at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\n    at java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\n    at java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\n    at java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\n    at java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\n    ... 15 more\njava.net.SocketException: Connection or outbound has closed\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:976)\n    at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n    at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\n    at java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\n    at java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\n    at java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\n    at java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\n    at java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\n    at java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:192)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:210)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:153)\n    at java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:83)\n    at java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\n    at java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\n    at java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\n    at java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\n    at java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:101)\n    at nims.auth.ldap.LdapConnection.testConnection(LdapConnection.java:41)\n    at auth.LdapAuthenticationService.doTestConnection(LdapAuthenticationService.java:50)\n</code></pre>\n<p>Update getting below error when:</p>\n<pre><code>$ openssl s_client -connect  ad1.XXXXX-ru.zz:636\n\nCONNECTED(00000003)\ndepth=0 \nverify error:num=20:**unable to get local issuer certificate**\nverify return:1\ndepth=0 \nverify error:num=27:**certificate not trusted**\nverify return:1\ndepth=0 \nverify error:num=21:**unable to verify the first certificate**\nverify return:1\n\nCertificate chain\n 0 s:\n   i:/DC=zz/DC=XXXXX-ru/CN=XXXXX-ru-ROOT-CA\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIFfjCCBGagAwIBAgITLwAAAKgllUHEZUjzRwAAAAAAqDANBgkqhkiG9w0BA.................\n\nAPpwNrloBJjZo2bJ7pqe4gXN\n-----END CERTIFICATE-----\n\nsubject=\nissuer=/DC=zz/DC=XXXXX-ru/CN=XXXXX-ru-ROOT-CA\n\nNo client certificate CA names sent\nServer Temp Key: ECDH, prime256v1, 256 bits\n\nSSL handshake has read 1980 bytes and written 441 bytes\n\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-SHA384\n    Session-ID: C51900006745E495E1C8CA132C0EDF901C3638DE9E5EEA506551E298E2374372\n    Session-ID-ctx: \n    Master-Key: A8B4C4E2B01FE11822CE047D3B7D692EE1C001DA551DFE63FBC314737177BE7A285F79D6FF36B67D3E1AFF72C1402D2D\n    Key-Arg   : None\n    Krb5 Principal: None\n    PSK identity: None\n    PSK identity hint: None\n    Start Time: 1574232095\n    Timeout   : 300 (sec)\n    Verify return code: 21 (unable to verify the first certificate)\n</code></pre>\n"},{"tags":["java","arraylist","double"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1681857545,"post_id":76049520,"comment_id":134123993,"body_markdown":"Hint: How many array objects do you create in this code?","body":"Hint: How many array objects do you create in this code?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1681857934,"post_id":76049520,"comment_id":134124042,"body_markdown":"See https://stackoverflow.com/questions/19843506/why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list","body":"See <a href=\"https://stackoverflow.com/questions/19843506/why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list\" title=\"why does my arraylist contain n copies of the last item added to the list\">stackoverflow.com/questions/19843506/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681860358,"post_id":76049520,"comment_id":134124340,"body_markdown":"Assuming you need a copy of each inner array from the original 2D array and using a stream operation: `return Arrays.stream(fitArchive) .map(inner -&gt; Arrays.copyOf(inner, 4)) .collect(Collectors.toCollection(ArrayList::new));`. If reusing the same inner arrays is OK, just `return new ArrayList&lt;&gt;(Arrays.asList(fitArchive));`.","body":"Assuming you need a copy of each inner array from the original 2D array and using a stream operation: <code>return Arrays.stream(fitArchive) .map(inner -&gt; Arrays.copyOf(inner, 4)) .collect(Collectors.toCollection(ArrayList::new));</code>. If reusing the same inner arrays is OK, just <code>return new ArrayList&lt;&gt;(Arrays.asList(fitArchive));</code>."}],"owner":{"account_id":26605513,"reputation":1,"user_id":20226426,"display_name":"Diana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681896292,"creation_date":1681857268,"question_id":76049520,"body_markdown":"I have a 2d array of double. I need to convert it into `ArrayList&lt;double []&gt;` so each row in the original array can represent an element in the ArrayList.\r\n\r\nThe problem is when I try to print the ArrayList content it just keeps printing the last row in the array.\r\n\r\nHow can I solve this problem?\r\n\r\n```\r\npublic ArrayList&lt;double []&gt; archiveFitConstract(double [][] fitArchive)\r\n    {\r\n \t   double [] tempFit=new double [4];\r\n\t\t   ArrayList&lt;double []&gt; archiveFitness=new ArrayList&lt;double []&gt;();\r\n\r\n\t      for (int x=0;x&lt;fitArchive.length;x++)\r\n\t       {\r\n\t\t      for(int y =0;y&lt;4;y++)\r\n\t\t       {\r\n\t\t\t     tempFit[y]= fitArchive[x][y];\r\n\t\t\t     System.out.print(tempFit[y]+&quot;         &quot;);\r\n\t\t\t     }\r\n\t\t      System.out.println();\r\n\t\t      archiveFitness.add(tempFit);\r\n\t       }\r\n\t      System.out.println();\r\n\t      System.out.println(&quot;intial archive&quot;);\r\n\t      printArchive(archiveFitness);\r\n\t      return archiveFitness; \r\n    }\r\n```\r\n\r\nThis the 2d array I would like to convert to ArrayList. As you can see later it just keeps printing the last line. \r\n\r\n```none\r\nFitness\r\n   \r\n60.0                219.71666666666667                0.18490938396984746                124.368696169                \r\n61.0                155.76730190571715                0.13125463164401524                93.7106673432257                \r\n62.0                195.78210894552723                0.16487933436614927                112.8983281476222                \r\n63.0                172.07394540942929                0.14536074970791915                101.58210404696774                \r\n65.0                203.10251256281407                0.17129050559257727                116.43772718840202                \r\n66.0                153.63791374122368                0.1296451817308891                92.7160987213641                \r\n67.0                226.977977977978                0.19146426027887184                127.89617891149551                \r\n68.0                165.14566532258064                0.1387625314912389                98.15649544751814                \r\n69.0                181.1142573273721                0.15296231218997905                105.91493516689121                \r\n70.0                203.6655086848635                0.1716285585233586                116.69287491470966                \r\n71.0                151.820806371329                0.12795824700977737                91.82175284299453                \r\n72.0                254.11498257839722                0.21458682827303988                140.93654224981182                \r\n73.0                164.41480377545952                0.13847785040993182                97.85100366623547                \r\n74.0                149.65465465465465                0.12609544650795482                90.77683821827023                \r\n75.0                288.0574541852402                0.24265368482941108                157.1753589652719                \r\n76.0                247.961328705999                0.2089940208629129                137.94852911407042                \r\n77.0                145.296875                0.12225987589989051                88.6607317501875                \r\n78.0                158.8627254509018                0.13376831269214443                95.1824816904569                \r\n79.0                160.6795443288757                0.13551520267957398                96.08478335697477                \r\n80.0                176.28185907046478                0.14868345373249442                103.57125396525937                \r\n81.0                145.4545905707196                0.122585391559813                88.76641840025809                \r\n82.0                200.48725637181408                0.16923434552396546                115.19983416749625                \r\n83.0                177.11773547094188                0.1489717667820992                103.91939441294389                \r\n84.0                147.9602187966186                0.12460673053359415                89.95450722083342                \r\n85.0                246.1454094292804                0.20790815415809186                137.11770216774192                \r\n86.0                158.18762575452718                0.13359432412223482                94.91485849890745                \r\n87.0                213.99343434343433                0.18013274330415796                121.62711220754545                \r\n88.0                149.65589259075088                0.12621611751934492                90.79556545980905                \r\n89.0                219.7357071213641                0.18515866929216437                124.4016367294223                \r\n90.0                162.8432055749129                0.13731868967845387                97.1197535226202                \r\n91.0                223.26102204408818                0.1881499445138285                126.09513421467133                \r\n92.0                268.625                0.2258859896560145                147.81821620650004                \r\n93.0                206.26036981509245                0.17357178775937412                117.91098175005698                \r\n94.0                162.75236671649228                0.1371873166945113                97.06870347565919                \r\n95.0                312.63992075284796                0.26419870501412723                169.02942509182168                \r\n97.0                258.4793635007459                0.21827167555156368                143.03042665575728                \r\n98.0                147.9395740465577                0.12471049003907862                89.96318732004161                \r\n99.0                180.23282828282828                0.15148130611084                105.40034930627272                \r\n        \r\n\r\nintial archive\r\n  \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \r\n```   \r\n \r\n","title":"How to convert 2d array of double into arraylist of array of double","body":"<p>I have a 2d array of double. I need to convert it into <code>ArrayList&lt;double []&gt;</code> so each row in the original array can represent an element in the ArrayList.</p>\n<p>The problem is when I try to print the ArrayList content it just keeps printing the last row in the array.</p>\n<p>How can I solve this problem?</p>\n<pre><code>public ArrayList&lt;double []&gt; archiveFitConstract(double [][] fitArchive)\n    {\n       double [] tempFit=new double [4];\n           ArrayList&lt;double []&gt; archiveFitness=new ArrayList&lt;double []&gt;();\n\n          for (int x=0;x&lt;fitArchive.length;x++)\n           {\n              for(int y =0;y&lt;4;y++)\n               {\n                 tempFit[y]= fitArchive[x][y];\n                 System.out.print(tempFit[y]+&quot;         &quot;);\n                 }\n              System.out.println();\n              archiveFitness.add(tempFit);\n           }\n          System.out.println();\n          System.out.println(&quot;intial archive&quot;);\n          printArchive(archiveFitness);\n          return archiveFitness; \n    }\n</code></pre>\n<p>This the 2d array I would like to convert to ArrayList. As you can see later it just keeps printing the last line.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Fitness\n   \n60.0                219.71666666666667                0.18490938396984746                124.368696169                \n61.0                155.76730190571715                0.13125463164401524                93.7106673432257                \n62.0                195.78210894552723                0.16487933436614927                112.8983281476222                \n63.0                172.07394540942929                0.14536074970791915                101.58210404696774                \n65.0                203.10251256281407                0.17129050559257727                116.43772718840202                \n66.0                153.63791374122368                0.1296451817308891                92.7160987213641                \n67.0                226.977977977978                0.19146426027887184                127.89617891149551                \n68.0                165.14566532258064                0.1387625314912389                98.15649544751814                \n69.0                181.1142573273721                0.15296231218997905                105.91493516689121                \n70.0                203.6655086848635                0.1716285585233586                116.69287491470966                \n71.0                151.820806371329                0.12795824700977737                91.82175284299453                \n72.0                254.11498257839722                0.21458682827303988                140.93654224981182                \n73.0                164.41480377545952                0.13847785040993182                97.85100366623547                \n74.0                149.65465465465465                0.12609544650795482                90.77683821827023                \n75.0                288.0574541852402                0.24265368482941108                157.1753589652719                \n76.0                247.961328705999                0.2089940208629129                137.94852911407042                \n77.0                145.296875                0.12225987589989051                88.6607317501875                \n78.0                158.8627254509018                0.13376831269214443                95.1824816904569                \n79.0                160.6795443288757                0.13551520267957398                96.08478335697477                \n80.0                176.28185907046478                0.14868345373249442                103.57125396525937                \n81.0                145.4545905707196                0.122585391559813                88.76641840025809                \n82.0                200.48725637181408                0.16923434552396546                115.19983416749625                \n83.0                177.11773547094188                0.1489717667820992                103.91939441294389                \n84.0                147.9602187966186                0.12460673053359415                89.95450722083342                \n85.0                246.1454094292804                0.20790815415809186                137.11770216774192                \n86.0                158.18762575452718                0.13359432412223482                94.91485849890745                \n87.0                213.99343434343433                0.18013274330415796                121.62711220754545                \n88.0                149.65589259075088                0.12621611751934492                90.79556545980905                \n89.0                219.7357071213641                0.18515866929216437                124.4016367294223                \n90.0                162.8432055749129                0.13731868967845387                97.1197535226202                \n91.0                223.26102204408818                0.1881499445138285                126.09513421467133                \n92.0                268.625                0.2258859896560145                147.81821620650004                \n93.0                206.26036981509245                0.17357178775937412                117.91098175005698                \n94.0                162.75236671649228                0.1371873166945113                97.06870347565919                \n95.0                312.63992075284796                0.26419870501412723                169.02942509182168                \n97.0                258.4793635007459                0.21827167555156368                143.03042665575728                \n98.0                147.9395740465577                0.12471049003907862                89.96318732004161                \n99.0                180.23282828282828                0.15148130611084                105.40034930627272                \n        \n\nintial archive\n  \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n99.0        180.23282828282828        6.601474635215334        105.40034930627272        \n</code></pre>\n"},{"tags":["java","printing"],"owner":{"account_id":28347380,"reputation":1,"user_id":21679354,"display_name":"Trung Kien Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681896169,"creation_date":1681895412,"question_id":76052709,"body_markdown":"I am working on a Java application that needs to print labels using a Brother QL-700 label printer. I am using the Java Printing API and have set the paper size to 62mm x 29mm in my code using the following code:\r\n\r\n```\r\nPageFormat pageFormat = job.defaultPage();\r\nPaper paper = pageFormat.getPaper();\r\ndouble width = 620;\r\ndouble height = 290;\r\ndouble margin = 0;\r\npaper.setSize(width, height);\r\npaper.setImageableArea(margin, margin, width, height);\r\npageFormat.setPaper(paper);\r\n```\r\n\r\nHowever, when I print using a 62mm roll paper, the printer outputs a label that is 10cm long. When I switch to a DK-11209 label that has a size of 62mm x 29mm, the printer reports that the paper size is incorrect and that I have specified 62mm x 100mm in my code.\r\n\r\nI have tried various ways of setting the paper size, such as using values in inches or points, but nothing seems to work. I have also tried querying the printer for supported media sizes using the following code:\r\n\r\n```\r\nPrintService printService = PrintServiceLookup.lookupDefaultPrintService();\r\nMedia[] res = (Media[]) printService.getSupportedAttributeValues(Media.class, null, null);\r\nfor (Media media : res) {\r\n    if (media instanceof MediaSizeName) {\r\n        MediaSizeName msn = (MediaSizeName) media;\r\n        MediaSize ms = MediaSize.getMediaSizeForName(msn);\r\n        float width = ms.getX(MediaSize.INCH);\r\n        float height = ms.getY(MediaSize.INCH);\r\n        System.out.println(media + &quot;: width = &quot; + width + &quot;; height = &quot; + height);\r\n    }\r\n}\r\n```\r\n\r\nBut the list of supported media sizes does not include 62mm x 29mm, even though the printer&#39;s manual (https://www.brother.eu/-/media/product-downloads/devices/label-printers/ql/cz/ql-700_broura.pdf) states that it supports this size.\r\n\r\nI have ensured that all paper sizes are correctly set in both the Brother software and the printer itself. When printing with P-touch Editor or printing a test page, everything works perfectly.\r\n[[enter image description here](https://i.stack.imgur.com/NdOEv.png)](https://i.stack.imgur.com/lgb3e.png)\r\n\r\nCan anyone help me figure out how to set the correct paper size for the Brother QL-700 printer in Java? Thank you in advance for any suggestions.","title":"Unable to change paper size for Brother QL-700 in Java","body":"<p>I am working on a Java application that needs to print labels using a Brother QL-700 label printer. I am using the Java Printing API and have set the paper size to 62mm x 29mm in my code using the following code:</p>\n<pre><code>PageFormat pageFormat = job.defaultPage();\nPaper paper = pageFormat.getPaper();\ndouble width = 620;\ndouble height = 290;\ndouble margin = 0;\npaper.setSize(width, height);\npaper.setImageableArea(margin, margin, width, height);\npageFormat.setPaper(paper);\n</code></pre>\n<p>However, when I print using a 62mm roll paper, the printer outputs a label that is 10cm long. When I switch to a DK-11209 label that has a size of 62mm x 29mm, the printer reports that the paper size is incorrect and that I have specified 62mm x 100mm in my code.</p>\n<p>I have tried various ways of setting the paper size, such as using values in inches or points, but nothing seems to work. I have also tried querying the printer for supported media sizes using the following code:</p>\n<pre><code>PrintService printService = PrintServiceLookup.lookupDefaultPrintService();\nMedia[] res = (Media[]) printService.getSupportedAttributeValues(Media.class, null, null);\nfor (Media media : res) {\n    if (media instanceof MediaSizeName) {\n        MediaSizeName msn = (MediaSizeName) media;\n        MediaSize ms = MediaSize.getMediaSizeForName(msn);\n        float width = ms.getX(MediaSize.INCH);\n        float height = ms.getY(MediaSize.INCH);\n        System.out.println(media + &quot;: width = &quot; + width + &quot;; height = &quot; + height);\n    }\n}\n</code></pre>\n<p>But the list of supported media sizes does not include 62mm x 29mm, even though the printer's manual (<a href=\"https://www.brother.eu/-/media/product-downloads/devices/label-printers/ql/cz/ql-700_broura.pdf\" rel=\"nofollow noreferrer\">https://www.brother.eu/-/media/product-downloads/devices/label-printers/ql/cz/ql-700_broura.pdf</a>) states that it supports this size.</p>\n<p>I have ensured that all paper sizes are correctly set in both the Brother software and the printer itself. When printing with P-touch Editor or printing a test page, everything works perfectly.\n[<a href=\"https://i.stack.imgur.com/NdOEv.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/lgb3e.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lgb3e.png</a>)</p>\n<p>Can anyone help me figure out how to set the correct paper size for the Brother QL-700 printer in Java? Thank you in advance for any suggestions.</p>\n"},{"tags":["java","spring","firebase","spring-boot","google-cloud-firestore"],"comments":[{"owner":{"account_id":4672584,"reputation":10125,"user_id":3784008,"display_name":"anothermh"},"score":0,"creation_date":1680888121,"post_id":75955092,"comment_id":133976559,"body_markdown":"[You should not *force* a tag into your title.](https://stackoverflow.com/help/tagging) Because the tags appear below the question and tags are indexed by search engines along with the content of your question, you can trust that other people will be able to find your question based on tags they follow or search for.","body":"<a href=\"https://stackoverflow.com/help/tagging\">You should not <i>force</i> a tag into your title.</a> Because the tags appear below the question and tags are indexed by search engines along with the content of your question, you can trust that other people will be able to find your question based on tags they follow or search for."}],"answers":[{"tags":[],"owner":{"account_id":10419544,"reputation":29,"user_id":7682573,"display_name":"Trexano Truong"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681896072,"creation_date":1681896072,"answer_id":76052807,"question_id":75955092,"body_markdown":"Try to add the following dependency \r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\r\n        &lt;version&gt;${your.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nIt will help to autoconfigure all necessary beans.\r\n\r\nYou can also remove `@EnableReactiveFirestoreRepositories` because `FirestoreReactiveRepository` is extended in repository instance and it detects as a repository automatically as well. ","title":"Can not create bean of &#39;firestoreTemplate&#39;","body":"<p>Try to add the following dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\n    &lt;version&gt;${your.version}&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>It will help to autoconfigure all necessary beans.</p>\n<p>You can also remove <code>@EnableReactiveFirestoreRepositories</code> because <code>FirestoreReactiveRepository</code> is extended in repository instance and it detects as a repository automatically as well.</p>\n"}],"owner":{"account_id":24044141,"reputation":21,"user_id":18292542,"display_name":"Derithus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681896072,"creation_date":1680834881,"question_id":75955092,"body_markdown":"When I try to run my application, I get this error, ```Field textbookRepository in com.uga.backend.controller.TextbookController required a bean named &#39;firestoreTemplate&#39; that could not be found.``` No matter what I have tried I get this error, from my understanding the ```firestoreTemplate``` bean should be a valid candidate for the ```@Autowired``` decorator because I set up my firebase configurations correctly in application.properties and I&#39;m using the ```@EnableFirestoreReactiveRepositories``` decorator in the main class, but so far there has been no luck, would love to see if anyone here could help me out. There doesn&#39;t seem to be a way to manually create a bean the for firestoreTemplate either or at least I have not been able to find a way yet. Here is the rest of my code \r\n\r\n**TextbookRepository.java**\r\n```\r\npackage com.uga.backend.repository;\r\n\r\n\r\nimport org.springframework.cloud.gcp.data.firestore.FirestoreReactiveRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.uga.backend.entity.Textbook;\r\n\r\n@Repository(&quot;textbookRepository&quot;)\r\npublic interface TextbookRepository extends FirestoreReactiveRepository&lt;Textbook&gt; {\r\n\r\n}\r\n```\r\n**TextbookController.java**\r\n```\r\npackage com.uga.backend.controller;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.uga.backend.entity.Textbook;\r\nimport com.uga.backend.repository.TextbookRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/textbooks&quot;)\r\npublic class TextbookController {\r\n\r\n    @Autowired\r\n    TextbookRepository textbookRepository;\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public Mono&lt;Textbook&gt; save(@RequestBody Textbook textbook) {\r\n        return this.textbookRepository.save(textbook);\r\n    }\r\n\r\n    @GetMapping(&quot;/get&quot;)\r\n    public Mono&lt;Textbook&gt; getById(@RequestParam String id) {\r\n        return this.textbookRepository.findById(id);\r\n    }\r\n\r\n    @GetMapping(&quot;/getAll&quot;)\r\n    public Flux&lt;Textbook&gt; getAll() {\r\n        return this.textbookRepository.findAll();\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete&quot;)\r\n    public Mono&lt;Void&gt; delete(String id) {\r\n        return this.textbookRepository.deleteById(id);\r\n    }\r\n\r\n}\r\n```\r\n**BackendApplication.java**\r\n```\r\npackage com.uga.backend;\r\n\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.gcp.data.firestore.repository.config.EnableReactiveFirestoreRepositories;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@EnableReactiveFirestoreRepositories(&quot;com.uga.backend.repository&quot;)\r\n@ComponentScan(&quot;com.uga.backend.controllers&quot;)\r\npublic class BackendApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackendApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n**application.properties**\r\n```\r\nspring.cloud.gcp.firestore.project-id=project-id\r\nspring.cloud.gcp.firestore.credentials.location=file:./serviceAccount.json\r\nspring.cloud.gcp.firestore.enabled=true\r\nspring.cloud.gcp.firestore.auto-create-indices=true\r\n```","title":"Can not create bean of &#39;firestoreTemplate&#39;","body":"<p>When I try to run my application, I get this error, <code>Field textbookRepository in com.uga.backend.controller.TextbookController required a bean named 'firestoreTemplate' that could not be found.</code> No matter what I have tried I get this error, from my understanding the <code>firestoreTemplate</code> bean should be a valid candidate for the <code>@Autowired</code> decorator because I set up my firebase configurations correctly in application.properties and I'm using the <code>@EnableFirestoreReactiveRepositories</code> decorator in the main class, but so far there has been no luck, would love to see if anyone here could help me out. There doesn't seem to be a way to manually create a bean the for firestoreTemplate either or at least I have not been able to find a way yet. Here is the rest of my code</p>\n<p><strong>TextbookRepository.java</strong></p>\n<pre><code>package com.uga.backend.repository;\n\n\nimport org.springframework.cloud.gcp.data.firestore.FirestoreReactiveRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.uga.backend.entity.Textbook;\n\n@Repository(&quot;textbookRepository&quot;)\npublic interface TextbookRepository extends FirestoreReactiveRepository&lt;Textbook&gt; {\n\n}\n</code></pre>\n<p><strong>TextbookController.java</strong></p>\n<pre><code>package com.uga.backend.controller;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.uga.backend.entity.Textbook;\nimport com.uga.backend.repository.TextbookRepository;\n\n@RestController\n@RequestMapping(&quot;/api/textbooks&quot;)\npublic class TextbookController {\n\n    @Autowired\n    TextbookRepository textbookRepository;\n\n    @PostMapping(&quot;/save&quot;)\n    public Mono&lt;Textbook&gt; save(@RequestBody Textbook textbook) {\n        return this.textbookRepository.save(textbook);\n    }\n\n    @GetMapping(&quot;/get&quot;)\n    public Mono&lt;Textbook&gt; getById(@RequestParam String id) {\n        return this.textbookRepository.findById(id);\n    }\n\n    @GetMapping(&quot;/getAll&quot;)\n    public Flux&lt;Textbook&gt; getAll() {\n        return this.textbookRepository.findAll();\n    }\n\n    @DeleteMapping(&quot;/delete&quot;)\n    public Mono&lt;Void&gt; delete(String id) {\n        return this.textbookRepository.deleteById(id);\n    }\n\n}\n</code></pre>\n<p><strong>BackendApplication.java</strong></p>\n<pre><code>package com.uga.backend;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.gcp.data.firestore.repository.config.EnableReactiveFirestoreRepositories;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@EnableReactiveFirestoreRepositories(&quot;com.uga.backend.repository&quot;)\n@ComponentScan(&quot;com.uga.backend.controllers&quot;)\npublic class BackendApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.cloud.gcp.firestore.project-id=project-id\nspring.cloud.gcp.firestore.credentials.location=file:./serviceAccount.json\nspring.cloud.gcp.firestore.enabled=true\nspring.cloud.gcp.firestore.auto-create-indices=true\n</code></pre>\n"},{"tags":["java","sql","timestamp","increment"],"comments":[{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1316205273,"post_id":7450045,"comment_id":9010983,"body_markdown":"The only problem you&#39;d have to worry about is leap seconds, and those happen once every few years. If your program had been running since 1970 it would be off by a total of 24 seconds. Your plan of adding 86.4M seconds is perfectly viable.","body":"The only problem you&#39;d have to worry about is leap seconds, and those happen once every few years. If your program had been running since 1970 it would be off by a total of 24 seconds. Your plan of adding 86.4M seconds is perfectly viable."},{"owner":{"display_name":"user800014"},"score":0,"creation_date":1316205288,"post_id":7450045,"comment_id":9010987,"body_markdown":"How about working with Calendar or Joda? http://joda-time.sourceforge.net/","body":"How about working with Calendar or Joda? <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">joda-time.sourceforge.net</a>"},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1316205391,"post_id":7450045,"comment_id":9011017,"body_markdown":"I guess the real question is... have you identified this as a blocker for your app? If you haven&#39;t, just go with it. If it is a problem, it will present itself and you can tackle it then.","body":"I guess the real question is... have you identified this as a blocker for your app? If you haven&#39;t, just go with it. If it is a problem, it will present itself and you can tackle it then."},{"owner":{"display_name":"user890904"},"score":0,"creation_date":1316206253,"post_id":7450045,"comment_id":9011242,"body_markdown":"not an answer for your question but a suggestion to try something out: you mentioned that the timestamp is used as a boundary for start date and end date. instead of calculating the end date timestamp in java and then passing it in your query, why not pass the start date timestamp that you have and then make the end date timestamp be calculated with database date/time functions based on it?","body":"not an answer for your question but a suggestion to try something out: you mentioned that the timestamp is used as a boundary for start date and end date. instead of calculating the end date timestamp in java and then passing it in your query, why not pass the start date timestamp that you have and then make the end date timestamp be calculated with database date/time functions based on it?"},{"owner":{"account_id":429767,"reputation":12856,"user_id":812837,"accept_rate":100,"display_name":"Clockwork-Muse"},"score":1,"creation_date":1316206703,"post_id":7450045,"comment_id":9011360,"body_markdown":"Is there some reason you need an exact, inclusive `timestamp`?  Why not use an inclusive-&gt;exclusive range (`date` or `timestamp`) instead?  So, `&gt;= startDate AND &lt; endDate` - then just add 14 days, and you don&#39;t have to worry about seconds at all...","body":"Is there some reason you need an exact, inclusive <code>timestamp</code>?  Why not use an inclusive-&gt;exclusive range (<code>date</code> or <code>timestamp</code>) instead?  So, <code>&gt;= startDate AND &lt; endDate</code> - then just add 14 days, and you don&#39;t have to worry about seconds at all..."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":3,"up_vote_count":12,"is_accepted":true,"score":9,"last_activity_date":1316205244,"creation_date":1316205244,"answer_id":7450103,"question_id":7450045,"body_markdown":"It worth noting that 14 days is not always 14 * 24 * 3600 seconds.  When you have daylight savings, this can be an hour shorter or longer. Historically it can be much more complex than that.\r\n\r\nInstead I would suggest using JodaTime or the Calendar to perform the time zone dependant calculation.","title":"How do I increment a java.sql.Timestamp by 14 days?","body":"<p>It worth noting that 14 days is not always 14 * 24 * 3600 seconds.  When you have daylight savings, this can be an hour shorter or longer. Historically it can be much more complex than that.</p>\n\n<p>Instead I would suggest using JodaTime or the Calendar to perform the time zone dependant calculation.</p>\n"},{"tags":[],"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1441180907,"creation_date":1316205810,"answer_id":7450191,"question_id":7450045,"body_markdown":"    java.sql.Timestamp ts = ...\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(ts);\r\n    cal.add(Calendar.DAY_OF_WEEK, 14);\r\n    ts.setTime(cal.getTime().getTime()); // or\r\n    ts = new Timestamp(cal.getTime().getTime());\r\n\r\nThis will correctly cater for daylight-time transitions in your default Timezone.  You can tell the Calendar class to use a different Timezone if need be.","title":"How do I increment a java.sql.Timestamp by 14 days?","body":"<pre><code>java.sql.Timestamp ts = ...\nCalendar cal = Calendar.getInstance();\ncal.setTime(ts);\ncal.add(Calendar.DAY_OF_WEEK, 14);\nts.setTime(cal.getTime().getTime()); // or\nts = new Timestamp(cal.getTime().getTime());\n</code></pre>\n\n<p>This will correctly cater for daylight-time transitions in your default Timezone.  You can tell the Calendar class to use a different Timezone if need be.</p>\n"},{"tags":[],"owner":{"account_id":3148653,"reputation":645,"user_id":2662587,"accept_rate":40,"display_name":"Admir Sabanovic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1445427865,"creation_date":1445427865,"answer_id":33258449,"question_id":7450045,"body_markdown":"    private Long dayToMiliseconds(int days){\r\n        Long result = Long.valueOf(days * 24 * 60 * 60 * 1000);\r\n        return result;\r\n    }\r\n\r\n    public Timestamp addDays(int days, Timestamp t1) throws Exception{\r\n        if(days &lt; 0){\r\n            throw new Exception(&quot;Day in wrong format.&quot;);\r\n        }\r\n        Long miliseconds = dayToMiliseconds(days);\r\n        return new Timestamp(t1.getTime() + miliseconds);\r\n    }","title":"How do I increment a java.sql.Timestamp by 14 days?","body":"<pre><code>private Long dayToMiliseconds(int days){\n    Long result = Long.valueOf(days * 24 * 60 * 60 * 1000);\n    return result;\n}\n\npublic Timestamp addDays(int days, Timestamp t1) throws Exception{\n    if(days &lt; 0){\n        throw new Exception(\"Day in wrong format.\");\n    }\n    Long miliseconds = dayToMiliseconds(days);\n    return new Timestamp(t1.getTime() + miliseconds);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18152,"reputation":3361,"user_id":41324,"display_name":"Anders B"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1681895733,"creation_date":1496059955,"answer_id":44242213,"question_id":7450045,"body_markdown":"Java 8\r\n\r\n    Timestamp old;\r\n    ZonedDateTime zonedDateTime = old.toInstant().atZone(ZoneId.of(&quot;UTC&quot;));\r\n    Timestamp newTimestamp = Timestamp.from(zonedDateTime.plus(14, ChronoUnit.DAYS).toInstant());","title":"How do I increment a java.sql.Timestamp by 14 days?","body":"<p>Java 8</p>\n<pre><code>Timestamp old;\nZonedDateTime zonedDateTime = old.toInstant().atZone(ZoneId.of(&quot;UTC&quot;));\nTimestamp newTimestamp = Timestamp.from(zonedDateTime.plus(14, ChronoUnit.DAYS).toInstant());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633918693,"creation_date":1633706463,"answer_id":69498219,"question_id":7450045,"body_markdown":"```\r\nTimestamp my14DaysAfter = Timestamp.valueOf(myTimestamp.toLocalDateTime().plusDays(14));\r\n```","title":"How do I increment a java.sql.Timestamp by 14 days?","body":"<pre><code>Timestamp my14DaysAfter = Timestamp.valueOf(myTimestamp.toLocalDateTime().plusDays(14));\n</code></pre>\n"}],"owner":{"account_id":162495,"reputation":3996,"user_id":383986,"accept_rate":99,"display_name":"davidahines"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78443,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":7450103,"answer_count":5,"score":29,"last_activity_date":1681895733,"creation_date":1316204958,"question_id":7450045,"body_markdown":"I have an app that takes a Timestamp as a boundary for the start date and end date of a sql  selection, I want to populate a hashmap with weeks this year since the first monday of the year as the values and the week number as the keys. I&#39;m finding it really hard to work with timestamps and I don&#39;t feel very good about adding 86,400,000 seconds to it to increment the day, as this doesn&#39;t  account for the leap days, hours, seconds. \r\n\r\n\r\nI plan on adding 13 days 23 hours, 59 minutes and 59 seconds to it so that I can lookup the start date in the map by the week as the key, then use the start date to get the end date. \r\n\r\nSo I&#39;m looking to try to get something like this:\r\n\r\n    Week  startDate              endDate\r\n    1     2011-01-03 00:00:00    2011-01-16 23:59:59\r\n    2     2011-01-17 00:00:00    2011-01-30 23:59:59\r\n\r\nWith the first two columns in the Map and the last one being calculated after looking it up. How do I safely increment a java.sql.Timestamp?","title":"How do I increment a java.sql.Timestamp by 14 days?","body":"<p>I have an app that takes a Timestamp as a boundary for the start date and end date of a sql  selection, I want to populate a hashmap with weeks this year since the first monday of the year as the values and the week number as the keys. I'm finding it really hard to work with timestamps and I don't feel very good about adding 86,400,000 seconds to it to increment the day, as this doesn't  account for the leap days, hours, seconds. </p>\n\n<p>I plan on adding 13 days 23 hours, 59 minutes and 59 seconds to it so that I can lookup the start date in the map by the week as the key, then use the start date to get the end date. </p>\n\n<p>So I'm looking to try to get something like this:</p>\n\n<pre><code>Week  startDate              endDate\n1     2011-01-03 00:00:00    2011-01-16 23:59:59\n2     2011-01-17 00:00:00    2011-01-30 23:59:59\n</code></pre>\n\n<p>With the first two columns in the Map and the last one being calculated after looking it up. How do I safely increment a java.sql.Timestamp?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1681919656,"post_id":76051919,"comment_id":134135695,"body_markdown":"As @kleopatra said, show a `JOptionPane`.  Use a main `JPanel` with a `CardLayout` to switch from a registration `JPanel` to an application `JPanel`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"As @kleopatra said, show a <code>JOptionPane</code>.  Use a main <code>JPanel</code> with a <code>CardLayout</code> to switch from a registration <code>JPanel</code> to an application <code>JPanel</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"owner":{"account_id":28157307,"reputation":11,"user_id":21517844,"display_name":"Ijoma Chinaza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681895434,"creation_date":1681890386,"question_id":76051919,"body_markdown":"I have a submit button in java. I want after clicking on the button it will after taking user data show a message then collapse the ui pane\r\n\r\n```\r\nsubmitButton = new JButton(&quot;Submit&quot;);\r\n        submitButton.setBounds(100, 270, 80, 25);\r\n        submitButton.addActionListener(e -&gt; {\r\n            String Firstname = firstname.getText();\r\n            String Lastname = lastname.getText();\r\n            String Disability = disability.getText();\r\n            String email = Email.getText();\r\n            String Phonenumber = phonenumber.getText();\r\n            String Username = userName.getText();\r\n            String Password = passwordField.getText();\r\n            insertUserData(Firstname,Lastname, Disability, email, Phonenumber, Username, Password );\r\n        });\r\n        panel.add(submitButton);\r\n\r\n        add(panel);\r\n        setVisible(true);\r\n```","title":"how to make submit button show a message after being clicked","body":"<p>I have a submit button in java. I want after clicking on the button it will after taking user data show a message then collapse the ui pane</p>\n<pre><code>submitButton = new JButton(&quot;Submit&quot;);\n        submitButton.setBounds(100, 270, 80, 25);\n        submitButton.addActionListener(e -&gt; {\n            String Firstname = firstname.getText();\n            String Lastname = lastname.getText();\n            String Disability = disability.getText();\n            String email = Email.getText();\n            String Phonenumber = phonenumber.getText();\n            String Username = userName.getText();\n            String Password = passwordField.getText();\n            insertUserData(Firstname,Lastname, Disability, email, Phonenumber, Username, Password );\n        });\n        panel.add(submitButton);\n\n        add(panel);\n        setVisible(true);\n</code></pre>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681888523,"creation_date":1681886947,"answer_id":76051491,"question_id":76051316,"body_markdown":"Doing it in ES would probably be fastest and while the database would be able to do it very fast as well you&#39;d have to send the data over the wire multiple times.\r\n\r\nWhen doing it in Java you&#39;d need to consider the complexity of all the methods and the data structures you&#39;re using (since both lists are of comparable size I just assume they have the same size n for simplicity):\r\n\r\n**2 Lists with removeAll() or a similarly simple approach**\r\n\r\nUsing 2 lists (not even talking ArrayLists here) would mean a time complexity of O(n^n).\r\n\r\n**TreeMap for the DB data**\r\n\r\nUsing a TreeMap for the DB data and a list for the ES data would turn that into O(n * log(n))\r\n- O(n * log(n)) for building the TreeMap\r\n- O(n * log(n)) for iterating over the list and checking for values in the TreeMap\r\n\r\nHowever, here&#39;s where the list structure also plays a role: removing elements from an ArrayList will cause data to be shifted, even if you iterate backwards. However, you don&#39;t really need fast random access to that list so a LinkedList would be better for this.\r\n\r\nAlso, using a HashMap instead of a TreeMap could improve timing as this basically turns building the map into O(n) and doing lookups into O(n) as well (O(n) for list iteration and O(1) for the lookup if the map is configured with the correct size). It will use more memory and won&#39;t allow for duplicates (but neither does TreeMap) though so that would need to be considered.\r\n\r\nExample:\r\n\r\n    List&lt;DBRecord&gt; dbRecords = loadFromDB();\r\n    List&lt;ESRecord&gt; esRecords = loadFromES();\r\n\r\n    Map&lt;Key, DBREcord&gt; dbMap = new HashMap&lt;&gt;();\r\n    dbRecords.forEach(r -&gt; dbMap.put(r.getKey(), r));\r\n\r\n    //not needed if esRecords is a LinkedList already and you want to modify it directly\r\n    List&lt;ESRecord&gt; resultList = new LinkedList&lt;&gt;(esRecords);\r\n    for(Iterator&lt;ESRecord&gt; itr = resultList.iterator(); itr.hasNext(); ) {\r\n      ESRecord esRecord = itr.next();\r\n      DBRecord dbRecord = dbMap.get(esRecord.getKey());\r\n\r\n      if(dbRecord != null) {\r\n        //found a match so remove it - what&#39;s left are the records to remove\r\n        itr.remove();\r\n      }\r\n    }\r\n\r\n**Working with 2 sorted lists**\r\n\r\nIf you can&#39;t use a HashMap you could try using 2 sorted lists and advance them at the same time. If you can get the lists presorted from ES and the DB then this would have O(n) complexity, otherwise you&#39;d need to sort them first which would turn this into O(n * log(n)).\r\n\r\nWhen you have the lists sorted you basically iterate over both of them at the same time, applying the following logic:\r\n- If the elements at the respective current cursor (e.g. iterator or index) are different, advance the cursor of the list with the smaller value\r\n- If the elements are equal you found a match, so remove it from one of the lists or collect it into some result list. Additionally you advance the cursor of both lists.\r\n\r\nExample:\r\n\r\n    //Assumption: the lists you get are already sorted and contain at least 1 element\r\n    List&lt;DBRecord&gt; dbRecords = loadFromDB();\r\n    List&lt;ESRecord&gt; esRecords = loadFromES();\r\n\r\n    Iterator&lt;DBRecord&gt; dbItr = dbRecords.iterator();\r\n    Iterator&lt;ESRecord&gt; esItr = esRecords.iterator();\r\n\r\n    //get the first elements\r\n    DBRecord dbCurrent = dbItr.next();\r\n    ESRecord esCurrent = esItr.next();\r\n\r\n    while( dbItr.hasNext() &amp;&amp; esItr.hasNext()) {\r\n      int comparison = dbCurrent.getKey().compareTo(esCurrent.getKey());\r\n\r\n      if( comparison &lt; 0) {\r\n        //the db record&#39;s key was smaller\r\n        dbCurrent = dbItr.next();\r\n      } else if ( comparison &gt; 0) {\r\n        //the es record&#39;s key was smaller - if you collect records to remove, do it here\r\n        esCurrent = esItr.next();\r\n      } else {\r\n        //found a match\r\n\r\n        //we&#39;re removing matches in this example\r\n        esItr.remove();\r\n\r\n        dbCurrent = dbItr.next();\r\n        esCurrent = esItr.next();\r\n      }\r\n    }\r\n\r\n    //when you&#39;re here you might not have looked at all es records but those that remain are no matches\r\n    //if you&#39;re collecting differences, keep using esItr until there are no more records","title":"Whats the fastest way of java collection removeAll from two large collections","body":"<p>Doing it in ES would probably be fastest and while the database would be able to do it very fast as well you'd have to send the data over the wire multiple times.</p>\n<p>When doing it in Java you'd need to consider the complexity of all the methods and the data structures you're using (since both lists are of comparable size I just assume they have the same size n for simplicity):</p>\n<p><strong>2 Lists with removeAll() or a similarly simple approach</strong></p>\n<p>Using 2 lists (not even talking ArrayLists here) would mean a time complexity of O(n^n).</p>\n<p><strong>TreeMap for the DB data</strong></p>\n<p>Using a TreeMap for the DB data and a list for the ES data would turn that into O(n * log(n))</p>\n<ul>\n<li>O(n * log(n)) for building the TreeMap</li>\n<li>O(n * log(n)) for iterating over the list and checking for values in the TreeMap</li>\n</ul>\n<p>However, here's where the list structure also plays a role: removing elements from an ArrayList will cause data to be shifted, even if you iterate backwards. However, you don't really need fast random access to that list so a LinkedList would be better for this.</p>\n<p>Also, using a HashMap instead of a TreeMap could improve timing as this basically turns building the map into O(n) and doing lookups into O(n) as well (O(n) for list iteration and O(1) for the lookup if the map is configured with the correct size). It will use more memory and won't allow for duplicates (but neither does TreeMap) though so that would need to be considered.</p>\n<p>Example:</p>\n<pre><code>List&lt;DBRecord&gt; dbRecords = loadFromDB();\nList&lt;ESRecord&gt; esRecords = loadFromES();\n\nMap&lt;Key, DBREcord&gt; dbMap = new HashMap&lt;&gt;();\ndbRecords.forEach(r -&gt; dbMap.put(r.getKey(), r));\n\n//not needed if esRecords is a LinkedList already and you want to modify it directly\nList&lt;ESRecord&gt; resultList = new LinkedList&lt;&gt;(esRecords);\nfor(Iterator&lt;ESRecord&gt; itr = resultList.iterator(); itr.hasNext(); ) {\n  ESRecord esRecord = itr.next();\n  DBRecord dbRecord = dbMap.get(esRecord.getKey());\n\n  if(dbRecord != null) {\n    //found a match so remove it - what's left are the records to remove\n    itr.remove();\n  }\n}\n</code></pre>\n<p><strong>Working with 2 sorted lists</strong></p>\n<p>If you can't use a HashMap you could try using 2 sorted lists and advance them at the same time. If you can get the lists presorted from ES and the DB then this would have O(n) complexity, otherwise you'd need to sort them first which would turn this into O(n * log(n)).</p>\n<p>When you have the lists sorted you basically iterate over both of them at the same time, applying the following logic:</p>\n<ul>\n<li>If the elements at the respective current cursor (e.g. iterator or index) are different, advance the cursor of the list with the smaller value</li>\n<li>If the elements are equal you found a match, so remove it from one of the lists or collect it into some result list. Additionally you advance the cursor of both lists.</li>\n</ul>\n<p>Example:</p>\n<pre><code>//Assumption: the lists you get are already sorted and contain at least 1 element\nList&lt;DBRecord&gt; dbRecords = loadFromDB();\nList&lt;ESRecord&gt; esRecords = loadFromES();\n\nIterator&lt;DBRecord&gt; dbItr = dbRecords.iterator();\nIterator&lt;ESRecord&gt; esItr = esRecords.iterator();\n\n//get the first elements\nDBRecord dbCurrent = dbItr.next();\nESRecord esCurrent = esItr.next();\n\nwhile( dbItr.hasNext() &amp;&amp; esItr.hasNext()) {\n  int comparison = dbCurrent.getKey().compareTo(esCurrent.getKey());\n\n  if( comparison &lt; 0) {\n    //the db record's key was smaller\n    dbCurrent = dbItr.next();\n  } else if ( comparison &gt; 0) {\n    //the es record's key was smaller - if you collect records to remove, do it here\n    esCurrent = esItr.next();\n  } else {\n    //found a match\n\n    //we're removing matches in this example\n    esItr.remove();\n\n    dbCurrent = dbItr.next();\n    esCurrent = esItr.next();\n  }\n}\n\n//when you're here you might not have looked at all es records but those that remain are no matches\n//if you're collecting differences, keep using esItr until there are no more records\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1987526,"reputation":333,"user_id":1782357,"display_name":"user1782357"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681895281,"creation_date":1681895281,"answer_id":76052691,"question_id":76051316,"body_markdown":"Potential solution:\r\nmssql DB trigger which will put IDs of physical deleted records into a new table + some date.\r\n\r\nThen a new job triggered by enterprise integration pattern &quot;polling consumer&quot; + REST API will gather the next 60.000 (default max clauses is 65xxx) IDs from DB and remove them from elasticsearch via delete by query.  \r\n\r\n","title":"Whats the fastest way of java collection removeAll from two large collections","body":"<p>Potential solution:\nmssql DB trigger which will put IDs of physical deleted records into a new table + some date.</p>\n<p>Then a new job triggered by enterprise integration pattern &quot;polling consumer&quot; + REST API will gather the next 60.000 (default max clauses is 65xxx) IDs from DB and remove them from elasticsearch via delete by query.</p>\n"}],"owner":{"account_id":1987526,"reputation":333,"user_id":1782357,"display_name":"user1782357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681895281,"creation_date":1681885487,"question_id":76051316,"body_markdown":"I have ~6 million records in a mssql (master data)  \r\n~6 million records in an elasticsearch\r\n\r\nI want to remove records from elasticsearch which do not exist in database.\r\n\r\nWhen I use two ArrayLists in java it is very slow. Also with a TreeMap on the left-hand-side. I have increased a timeout to 10mins, but it wont finish within this period.\r\nWhats a much faster option in java only?\r\n\r\nIf there is no much faster option it would be possible to make a mssql table for this purpose and let mssql handle the diff operation.\r\n\r\nWould it make sense to make an elasticsearch &quot;delete by query&quot; with 6m clauses? Can I increase the much clauses just for only query? Preferably by url query param or in request body?","title":"Whats the fastest way of java collection removeAll from two large collections","body":"<p>I have ~6 million records in a mssql (master data)<br />\n~6 million records in an elasticsearch</p>\n<p>I want to remove records from elasticsearch which do not exist in database.</p>\n<p>When I use two ArrayLists in java it is very slow. Also with a TreeMap on the left-hand-side. I have increased a timeout to 10mins, but it wont finish within this period.\nWhats a much faster option in java only?</p>\n<p>If there is no much faster option it would be possible to make a mssql table for this purpose and let mssql handle the diff operation.</p>\n<p>Would it make sense to make an elasticsearch &quot;delete by query&quot; with 6m clauses? Can I increase the much clauses just for only query? Preferably by url query param or in request body?</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":32380,"reputation":134937,"user_id":89806,"accept_rate":58,"display_name":"moinudin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1293921885,"creation_date":1293916041,"answer_id":4575781,"question_id":4575723,"body_markdown":"We know that T&lt;sub&gt;285&lt;/sub&gt; = P&lt;sub&gt;165&lt;/sub&gt; = H&lt;sub&gt;143&lt;/sub&gt; = 40755. We start with `nt=286`, `np=166` and `nh=144` and work out the respective triangle, pentagonal, and hexagonal numbers. Whichever resulting number is smallest, we bump up its `n` value. Continue doing this until all numbers are equal and you have your answer.\r\n\r\nA Python implementation of this algorithm runs in 0.1 seconds on my computer.\r\n\r\nThe problem with your code is overflow. While the answer fits into a 32 bit `int`, the temporary values `i * (3 * i - 1)` overflows before reaching the answer. Using 64 bit `long` values fixes your code.","title":"Project euler 45","body":"<p>We know that T<sub>285</sub> = P<sub>165</sub> = H<sub>143</sub> = 40755. We start with <code>nt=286</code>, <code>np=166</code> and <code>nh=144</code> and work out the respective triangle, pentagonal, and hexagonal numbers. Whichever resulting number is smallest, we bump up its <code>n</code> value. Continue doing this until all numbers are equal and you have your answer.</p>\n\n<p>A Python implementation of this algorithm runs in 0.1 seconds on my computer.</p>\n\n<p>The problem with your code is overflow. While the answer fits into a 32 bit <code>int</code>, the temporary values <code>i * (3 * i - 1)</code> overflows before reaching the answer. Using 64 bit <code>long</code> values fixes your code.</p>\n"},{"tags":[],"owner":{"account_id":200231,"reputation":18449,"user_id":445976,"display_name":"Blastfurnace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1293921038,"creation_date":1293918208,"answer_id":4575917,"question_id":4575723,"body_markdown":"Your code looks like it will produce the correct answer fairly quickly. The while loop can be simplified if you just print the result after the loop terminates:\r\n\r\n    while (p != h) {\r\n        n++;\r\n        h = n * (2 * n - 1);\r\n        while (h &gt; p) {\r\n            i++;\r\n            p = i * ((3 * i - 1) / 2);\r\n        }\r\n    }\r\n    System.out.println(&quot;the next triangular number is&quot; + h);\r\n\r\nNote: your inner loop looks very much like the inner loop of my C++ solution. It produced the desired answer in about 0.002 seconds on my machine.","title":"Project euler 45","body":"<p>Your code looks like it will produce the correct answer fairly quickly. The while loop can be simplified if you just print the result after the loop terminates:</p>\n\n<pre><code>while (p != h) {\n    n++;\n    h = n * (2 * n - 1);\n    while (h &gt; p) {\n        i++;\n        p = i * ((3 * i - 1) / 2);\n    }\n}\nSystem.out.println(\"the next triangular number is\" + h);\n</code></pre>\n\n<p>Note: your inner loop looks very much like the inner loop of my C++ solution. It produced the desired answer in about 0.002 seconds on my machine.</p>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421456811,"creation_date":1421456811,"answer_id":27995088,"question_id":4575723,"body_markdown":"Another solution that takes **2 ms**:\r\n\r\n    public class P45 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong H = 0;\r\n    \t\tlong i = 144;\r\n    \t\twhile(true) {\r\n    \t\t\tH = i*((i&lt;&lt;1)-1);\r\n    \t\t\tif ( isPentagonal(H) &amp;&amp; isTriangle(H) ) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\tSystem.out.println(H);\r\n    \t}\r\n    \t\r\n    \tprivate static boolean isPentagonal(long x) {\r\n    \t\tdouble n = (1 + Math.sqrt(24*x+1)) / 6;\r\n    \t\treturn n == (long)n;\r\n    \t}\r\n    \t\r\n    \tprivate static boolean isTriangle(long x) {\r\n    \t\tdouble n = (-1 + Math.sqrt((x&lt;&lt;3)+1)) / 2;\r\n    \t\treturn n == (long)n;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Improved**:\r\n\r\n* You already specified that: hexagonal numbers are triangle numbers, but I add a short proof: `k*(2*k-1)` can be written in the following form `i*(i+1)/2` if `i = 2*k-1`.\r\n* In this case `isTriangle` can be removed.\r\n* The performance will be similar because that function was called seldom (it was called only when the number was pentagonal).","title":"Project euler 45","body":"<p>Another solution that takes <strong>2 ms</strong>:</p>\n\n<pre><code>public class P45 {\n\n    public static void main(String[] args) {\n        long H = 0;\n        long i = 144;\n        while(true) {\n            H = i*((i&lt;&lt;1)-1);\n            if ( isPentagonal(H) &amp;&amp; isTriangle(H) ) {\n                break;\n            }\n            i++;\n        }\n        System.out.println(H);\n    }\n\n    private static boolean isPentagonal(long x) {\n        double n = (1 + Math.sqrt(24*x+1)) / 6;\n        return n == (long)n;\n    }\n\n    private static boolean isTriangle(long x) {\n        double n = (-1 + Math.sqrt((x&lt;&lt;3)+1)) / 2;\n        return n == (long)n;\n    }\n\n}\n</code></pre>\n\n<p><strong>Improved</strong>:</p>\n\n<ul>\n<li>You already specified that: hexagonal numbers are triangle numbers, but I add a short proof: <code>k*(2*k-1)</code> can be written in the following form <code>i*(i+1)/2</code> if <code>i = 2*k-1</code>.</li>\n<li>In this case <code>isTriangle</code> can be removed.</li>\n<li>The performance will be similar because that function was called seldom (it was called only when the number was pentagonal).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681894813,"creation_date":1681040821,"answer_id":75970297,"question_id":4575723,"body_markdown":"---\r\nMath\r\n---\r\nThe key is:\r\n&gt; ti = hi*2 - 1\r\n\r\nwhere `ti` and `hi` are indices of T and H respectively.\r\n\r\nThat means for any `H(hi)`, there is always a `T(ti)`.  \r\nThus only need to find the `P(pi)` = `H(hi)`, and that can be solved linear.\r\n\r\n---\r\nCode (`go`)\r\n---\r\n- Solution:\r\n\t&lt;!-- language: go --&gt;\r\n    ```\r\n    package p45\r\n\r\n    // refer:\thttps://projecteuler.net/problem=45\r\n\r\n    func NextAllEqual(startHi, startPi int32) (v int64, hi, pi int32) {\r\n        start := calculateH(startHi)\r\n        h, p := nextH(start, startHi), nextP(start, startPi)\r\n        hi, pi = startHi+1, startPi+1\r\n\r\n        for h != p {\r\n            if hi &lt;= 0 || pi &lt;= 0 { // out of range,\r\n                return -1, -1, -1\r\n            }\r\n\r\n            if h &lt; p {\r\n                h = nextH(h, hi)\r\n                hi++\r\n            } else {\r\n                p = nextP(p, pi)\r\n                pi++\r\n            }\r\n        }\r\n\r\n        return h, hi, pi\r\n    }\r\n\r\n    // h(i) = i * (2*i - 1)\r\n    func calculateH(i int32) int64 {\r\n        return int64(i) * (int64(i)&lt;&lt;1 - 1)\r\n    }\r\n\r\n    // h(i+1) = h(i) + (4*i + 1)\r\n    func nextH(h int64, i int32) int64 {\r\n        return h + (int64(i)&lt;&lt;2 + 1)\r\n    }\r\n\r\n    // p(i+1) = p(i) + (3*i + 1)\r\n    func nextP(p int64, i int32) int64 {\r\n        return p + (3*int64(i) + 1)\r\n    }\r\n\r\n    // ti = 2*hi- 1\r\n    func TQiFromHi(hi int32) int32 {\r\n        return hi&lt;&lt;1 - 1\r\n    }\r\n    ```\r\n\r\n- Test case:\r\n\t&lt;!-- language: go --&gt;\r\n    ```\r\n    package p45\r\n\r\n    import (\r\n        &quot;fmt&quot;\r\n        &quot;testing&quot;\r\n    )\r\n\r\n    const (\r\n        zeroHi, zeroPi   = int32(1), int32(1)\r\n        firstHi, firstPi = 143, 165\r\n    )\r\n\r\n    func TestNextAllEqual_first(t *testing.T) {\r\n        // runOnce_NextAllEqual(t, zeroHi, zeroPi)\r\n        runOnce_NextAllEqual(t, firstHi, firstPi)\r\n    }\r\n\r\n    func runOnce_NextAllEqual(t *testing.T, preHi, prePi int32) (v int64, hi, pi int32) {\r\n        v, hi, pi = NextAllEqual(preHi, prePi)\r\n        if v &gt; 0 {\r\n            ti := TQiFromHi(hi)\r\n            fmt.Printf(&quot;v = %d, indices:\\n\\tti = %d, pi = %d, hi = %d\\n\\n&quot;, v, ti, pi, hi)\r\n\r\n        } else {\r\n            fmt.Println(&quot;Done, index out of range of int32&quot;)\r\n        }\r\n\r\n        return v, hi, pi\r\n    }\r\n\r\n    // find all with indices in range of int32,\r\n    func TestNextAllEqual_all_int32_indices(t *testing.T) {\r\n        hi, pi := zeroHi, zeroPi\r\n        var v int64\r\n        for seq := 1; ; seq++ {\r\n            fmt.Printf(&quot;[%d]\\t&quot;, seq)\r\n            v, hi, pi = runOnce_NextAllEqual(t, hi, pi)\r\n            if v &lt;= 0 {\r\n                break\r\n            }\r\n        }\r\n    }\r\n    ```\r\n---\r\nResult\r\n---\r\n*(Run on an old laptop)*\r\n\r\n- For problem 44:  \r\n    It took about `2ms`.\r\n\r\n    ```\r\n    === RUN   TestNextAllEqual_first\r\n    v = 1533776805, indices:\r\n        ti = 55385, pi = 31977, hi = 27693\r\n\r\n    --- PASS: TestNextAllEqual_first (0.00s)\r\n    ```\r\n\r\n- To find all such indices within range of signed 32 bits.  \r\n    It took about `5.4s`, there are 4 such values, not including the start one `(1,1,1)`.\r\n    ```\r\n    === RUN   TestNextAllEqual_all_int32_indices\r\n    [1]\tv = 40755, indices:\r\n        ti = 285, pi = 165, hi = 143\r\n\r\n    [2]\tv = 1533776805, indices:\r\n        ti = 55385, pi = 31977, hi = 27693\r\n\r\n    [3]\tv = 57722156241751, indices:\r\n        ti = 10744501, pi = 6203341, hi = 5372251\r\n\r\n    [4]\tv = 2172315626468283465, indices:\r\n        ti = 2084377905, pi = 1203416145, hi = 1042188953\r\n\r\n    [5]\tDone, index out of range of int32\r\n    --- PASS: TestNextAllEqual_all_int32_indices (5.33s)\r\n    ```\r\n","title":"Project euler 45","body":"<hr />\n<h2>Math</h2>\n<p>The key is:</p>\n<blockquote>\n<p>ti = hi*2 - 1</p>\n</blockquote>\n<p>where <code>ti</code> and <code>hi</code> are indices of T and H respectively.</p>\n<p>That means for any <code>H(hi)</code>, there is always a <code>T(ti)</code>.<br />\nThus only need to find the <code>P(pi)</code> = <code>H(hi)</code>, and that can be solved linear.</p>\n<hr />\n<h2>Code (<code>go</code>)</h2>\n<ul>\n<li><p>Solution:</p>\n  <pre class=\"lang-golang prettyprint-override\"><code>package p45\n\n// refer:   https://projecteuler.net/problem=45\n\nfunc NextAllEqual(startHi, startPi int32) (v int64, hi, pi int32) {\n    start := calculateH(startHi)\n    h, p := nextH(start, startHi), nextP(start, startPi)\n    hi, pi = startHi+1, startPi+1\n\n    for h != p {\n        if hi &lt;= 0 || pi &lt;= 0 { // out of range,\n            return -1, -1, -1\n        }\n\n        if h &lt; p {\n            h = nextH(h, hi)\n            hi++\n        } else {\n            p = nextP(p, pi)\n            pi++\n        }\n    }\n\n    return h, hi, pi\n}\n\n// h(i) = i * (2*i - 1)\nfunc calculateH(i int32) int64 {\n    return int64(i) * (int64(i)&lt;&lt;1 - 1)\n}\n\n// h(i+1) = h(i) + (4*i + 1)\nfunc nextH(h int64, i int32) int64 {\n    return h + (int64(i)&lt;&lt;2 + 1)\n}\n\n// p(i+1) = p(i) + (3*i + 1)\nfunc nextP(p int64, i int32) int64 {\n    return p + (3*int64(i) + 1)\n}\n\n// ti = 2*hi- 1\nfunc TQiFromHi(hi int32) int32 {\n    return hi&lt;&lt;1 - 1\n}\n</code></pre>\n</li>\n<li><p>Test case:</p>\n  <pre class=\"lang-golang prettyprint-override\"><code>package p45\n\nimport (\n    &quot;fmt&quot;\n    &quot;testing&quot;\n)\n\nconst (\n    zeroHi, zeroPi   = int32(1), int32(1)\n    firstHi, firstPi = 143, 165\n)\n\nfunc TestNextAllEqual_first(t *testing.T) {\n    // runOnce_NextAllEqual(t, zeroHi, zeroPi)\n    runOnce_NextAllEqual(t, firstHi, firstPi)\n}\n\nfunc runOnce_NextAllEqual(t *testing.T, preHi, prePi int32) (v int64, hi, pi int32) {\n    v, hi, pi = NextAllEqual(preHi, prePi)\n    if v &gt; 0 {\n        ti := TQiFromHi(hi)\n        fmt.Printf(&quot;v = %d, indices:\\n\\tti = %d, pi = %d, hi = %d\\n\\n&quot;, v, ti, pi, hi)\n\n    } else {\n        fmt.Println(&quot;Done, index out of range of int32&quot;)\n    }\n\n    return v, hi, pi\n}\n\n// find all with indices in range of int32,\nfunc TestNextAllEqual_all_int32_indices(t *testing.T) {\n    hi, pi := zeroHi, zeroPi\n    var v int64\n    for seq := 1; ; seq++ {\n        fmt.Printf(&quot;[%d]\\t&quot;, seq)\n        v, hi, pi = runOnce_NextAllEqual(t, hi, pi)\n        if v &lt;= 0 {\n            break\n        }\n    }\n}\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Result</h2>\n<p><em>(Run on an old laptop)</em></p>\n<ul>\n<li><p>For problem 44:<br />\nIt took about <code>2ms</code>.</p>\n<pre><code>=== RUN   TestNextAllEqual_first\nv = 1533776805, indices:\n    ti = 55385, pi = 31977, hi = 27693\n\n--- PASS: TestNextAllEqual_first (0.00s)\n</code></pre>\n</li>\n<li><p>To find all such indices within range of signed 32 bits.<br />\nIt took about <code>5.4s</code>, there are 4 such values, not including the start one <code>(1,1,1)</code>.</p>\n<pre><code>=== RUN   TestNextAllEqual_all_int32_indices\n[1] v = 40755, indices:\n    ti = 285, pi = 165, hi = 143\n\n[2] v = 1533776805, indices:\n    ti = 55385, pi = 31977, hi = 27693\n\n[3] v = 57722156241751, indices:\n    ti = 10744501, pi = 6203341, hi = 5372251\n\n[4] v = 2172315626468283465, indices:\n    ti = 2084377905, pi = 1203416145, hi = 1042188953\n\n[5] Done, index out of range of int32\n--- PASS: TestNextAllEqual_all_int32_indices (5.33s)\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":690121,"reputation":33,"user_id":559970,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2593,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4575781,"answer_count":4,"score":3,"last_activity_date":1681894813,"creation_date":1293915253,"question_id":4575723,"body_markdown":"I&#39;m not yet a skilled programmer but I thought this was an interesting problem and I thought I&#39;d give it a go.\r\n\r\n&gt; Triangle, pentagonal, and hexagonal\r\n&gt; numbers are generated by the following\r\n&gt; formulae:\r\n&gt;\r\n&gt; * Triangle     T_(n)=n(n+1)/2 \r\n&gt; 1, 3, 6, 10, 15, ...\r\n&gt; * Pentagonal     P_(n)=n(3n−1)/2     1, 5, 12, 22, 35,\r\n&gt; ...\r\n&gt; * Hexagonal     H_(n)=n(2n−1)     1,\r\n&gt; 6, 15, 28, 45, ...\r\n&gt; \r\n&gt; It can be verified that T_(285) =\r\n&gt; P_(165) = H_(143) = 40755.\r\n&gt; \r\n&gt; Find the next triangle number that is\r\n&gt; also pentagonal and hexagonal.\r\n\r\nIs the task description.\r\n\r\nI know that Hexagonal numbers are a subset of triangle numbers which means that you only have to find a number where Hn=Pn.\r\nBut I can&#39;t seem to get my code to work. I only know java language which is why I&#39;m having trouble finding a solution on the net womewhere. Anyway hope someone can help. Here&#39;s my code\r\n\r\n    public class NextNumber {\r\n    \r\n        public NextNumber() {\r\n        next();\r\n        }\r\n    \r\n        public void next() {\r\n    \r\n    \r\n    int n = 144;\r\n    int i = 165;\r\n    int p = i * (3 * i - 1) / 2;\r\n    int h = n * (2 * n - 1);\r\n            while(p!=h) {\r\n                n++;\r\n               h = n * (2 * n - 1);\r\n                \r\n                if (h == p) {\r\n                    System.out.println(&quot;the next triangular number is&quot; + h);\r\n                } else {\r\n                    while (h &gt; p) {\r\n                        i++;\r\n                        p = i * (3 * i - 1) / 2;\r\n                    }\r\n                    if (h == p) {\r\n                        System.out.println(&quot;the next triangular number is&quot; + h); break;\r\n                        }\r\n                     else if (p &gt; h) {\r\n                        System.out.println(&quot;bummer&quot;);\r\n                    }\r\n                }\r\n              \r\n                }\r\n        \r\n        }\r\n    }\r\n\r\nI realize it&#39;s probably a very slow and ineffecient code but that doesn&#39;t concern me much at this point I only care about finding the next number even if it would take my computer years.\r\n","title":"Project euler 45","body":"<p>I'm not yet a skilled programmer but I thought this was an interesting problem and I thought I'd give it a go.</p>\n\n<blockquote>\n  <p>Triangle, pentagonal, and hexagonal\n  numbers are generated by the following\n  formulae:</p>\n  \n  <ul>\n  <li>Triangle     T_(n)=n(n+1)/2 \n  1, 3, 6, 10, 15, ...</li>\n  <li>Pentagonal     P_(n)=n(3n−1)/2     1, 5, 12, 22, 35,\n  ...</li>\n  <li>Hexagonal     H_(n)=n(2n−1)     1,\n  6, 15, 28, 45, ...</li>\n  </ul>\n  \n  <p>It can be verified that T_(285) =\n  P_(165) = H_(143) = 40755.</p>\n  \n  <p>Find the next triangle number that is\n  also pentagonal and hexagonal.</p>\n</blockquote>\n\n<p>Is the task description.</p>\n\n<p>I know that Hexagonal numbers are a subset of triangle numbers which means that you only have to find a number where Hn=Pn.\nBut I can't seem to get my code to work. I only know java language which is why I'm having trouble finding a solution on the net womewhere. Anyway hope someone can help. Here's my code</p>\n\n<pre><code>public class NextNumber {\n\n    public NextNumber() {\n    next();\n    }\n\n    public void next() {\n\n\nint n = 144;\nint i = 165;\nint p = i * (3 * i - 1) / 2;\nint h = n * (2 * n - 1);\n        while(p!=h) {\n            n++;\n           h = n * (2 * n - 1);\n\n            if (h == p) {\n                System.out.println(\"the next triangular number is\" + h);\n            } else {\n                while (h &gt; p) {\n                    i++;\n                    p = i * (3 * i - 1) / 2;\n                }\n                if (h == p) {\n                    System.out.println(\"the next triangular number is\" + h); break;\n                    }\n                 else if (p &gt; h) {\n                    System.out.println(\"bummer\");\n                }\n            }\n\n            }\n\n    }\n}\n</code></pre>\n\n<p>I realize it's probably a very slow and ineffecient code but that doesn't concern me much at this point I only care about finding the next number even if it would take my computer years.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1681893409,"post_id":76052055,"comment_id":134128814,"body_markdown":"The question seems a bit vague.  What do you have, using which you want to search a specific outline item?  And yes, I don&#39;t think there is any method available to search something directly in the bookmarks tree.  You have to use ```pdDocument.getDocumentCatalog().getDocumentOutline()``` to get the ```PDDocumentOutline``` object and then use the ```children()``` to get the ```Iterable&lt;PDOutlineItem&gt;``` of child nodes and recursively go inside the tree to find a specific bookmark","body":"The question seems a bit vague.  What do you have, using which you want to search a specific outline item?  And yes, I don&#39;t think there is any method available to search something directly in the bookmarks tree.  You have to use <code>pdDocument.getDocumentCatalog().getDocumentOutline()</code> to get the <code>PDDocumentOutline</code> object and then use the <code>children()</code> to get the <code>Iterable&lt;PDOutlineItem&gt;</code> of child nodes and recursively go inside the tree to find a specific bookmark"},{"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"score":0,"creation_date":1681894128,"post_id":76052055,"comment_id":134128962,"body_markdown":"i need to extract the content of a specific bookmark.","body":"i need to extract the content of a specific bookmark."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1681895020,"post_id":76052055,"comment_id":134129164,"body_markdown":"Ok. So, using the above calls that I have suggested, you have to go through the entire Bookmarks tree item by item recursively. For whichever bookmark item you want to get the content - ```pdDocument.getPages().indexOf(pdOutlineItem.findDestinationPage(pdDocument))``` - this will give you 0 based index of that page (first page where bookmark points to).  Then using ```PDFTextStripper```, and 1-based start page number (index+1), you can get the content of the page where the Bookmark points to.","body":"Ok. So, using the above calls that I have suggested, you have to go through the entire Bookmarks tree item by item recursively. For whichever bookmark item you want to get the content - <code>pdDocument.getPages().indexOf(pdOutlineItem.findDestinationP&zwnj;&#8203;age(pdDocument))</code> - this will give you 0 based index of that page (first page where bookmark points to).  Then using <code>PDFTextStripper</code>, and 1-based start page number (index+1), you can get the content of the page where the Bookmark points to."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1681901092,"post_id":76052055,"comment_id":134130604,"body_markdown":"Have also a look at the `PrintBookmarks.java` example in the source code download. While this doesn&#39;t answer the question, it shows a bit more about how this is all connected. https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/PrintBookmarks.java?view=markup","body":"Have also a look at the <code>PrintBookmarks.java</code> example in the source code download. While this doesn&#39;t answer the question, it shows a bit more about how this is all connected. <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/PrintBookmarks.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681894195,"creation_date":1681891328,"question_id":76052055,"body_markdown":"i would like to access a specific bookmark using PDFBox in Java.\r\n\r\nI don&#39;t find the right method in the class PDOutlineItem.\r\n\r\nMy purpose is to extract the content of a specific bookmark.","title":"Accessing a specific bookmark with PDFBox","body":"<p>i would like to access a specific bookmark using PDFBox in Java.</p>\n<p>I don't find the right method in the class PDOutlineItem.</p>\n<p>My purpose is to extract the content of a specific bookmark.</p>\n"},{"tags":["java","intellij-idea","javafx"],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1586032422,"creation_date":1586032422,"answer_id":61034413,"question_id":61034359,"body_markdown":"This has happened to me countless times. One possible problem is that the program is still running in the background and hasn&#39;t exited completely. Check your running processes for java applications and see if it exists. \r\n","title":"Run button is greyed out - intellij","body":"<p>This has happened to me countless times. One possible problem is that the program is still running in the background and hasn't exited completely. Check your running processes for java applications and see if it exists. </p>\n"},{"tags":[],"owner":{"account_id":7237737,"reputation":11109,"user_id":5522344,"display_name":"Doc"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1586033043,"creation_date":1586033043,"answer_id":61034530,"question_id":61034359,"body_markdown":"Open the source code, right-click and hit run using the option run &quot;filename.java&quot;.\r\n\r\nIntelliJ will make the configuration for you and then you can click the run button after the configuration is made by the IDE.\r\n\r\nSame thing for debug configuration.","title":"Run button is greyed out - intellij","body":"<p>Open the source code, right-click and hit run using the option run \"filename.java\".</p>\n\n<p>IntelliJ will make the configuration for you and then you can click the run button after the configuration is made by the IDE.</p>\n\n<p>Same thing for debug configuration.</p>\n"},{"tags":[],"owner":{"account_id":17428198,"reputation":4384,"user_id":12632699,"display_name":"SwissCodeMen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639520201,"creation_date":1586033118,"answer_id":61034546,"question_id":61034359,"body_markdown":"Try to start the program again via &lt;kbd&gt;Run&lt;/kbd&gt; in the menu bar.","title":"Run button is greyed out - intellij","body":"<p>Try to start the program again via <kbd>Run</kbd> in the menu bar.</p>\n"},{"tags":[],"owner":{"account_id":6396003,"reputation":645,"user_id":4960314,"display_name":"Crompy"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1610333405,"creation_date":1610333405,"answer_id":65660772,"question_id":61034359,"body_markdown":"I had the same issue and fixed it with the old &quot;Invalidate Caches and Restart&quot;","title":"Run button is greyed out - intellij","body":"<p>I had the same issue and fixed it with the old &quot;Invalidate Caches and Restart&quot;</p>\n"},{"tags":[],"owner":{"account_id":10307764,"reputation":71,"user_id":7604490,"display_name":"Gil Nz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658871294,"creation_date":1630749644,"answer_id":69054277,"question_id":61034359,"body_markdown":"&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;F10&lt;/kbd&gt; solved my problem.\r\nI guess for me disabling windows instant replay fixed the issue.","title":"Run button is greyed out - intellij","body":"<p><kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>F10</kbd> solved my problem.\nI guess for me disabling windows instant replay fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":11281211,"reputation":1194,"user_id":8273551,"display_name":"Slycreator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634595653,"creation_date":1634595653,"answer_id":69623171,"question_id":61034359,"body_markdown":"I think it the maven/gradle plugin that failed to load.\r\n\r\nFor me I closed the project, open another previous project and the run button appeared.Then I closed it and open my new project,I got a prompt bottom right that says  &quot;load maven script&quot; I clicked it and it was resolved.","title":"Run button is greyed out - intellij","body":"<p>I think it the maven/gradle plugin that failed to load.</p>\n<p>For me I closed the project, open another previous project and the run button appeared.Then I closed it and open my new project,I got a prompt bottom right that says  &quot;load maven script&quot; I clicked it and it was resolved.</p>\n"},{"tags":[],"owner":{"account_id":5679776,"reputation":51,"user_id":4491418,"display_name":"Steven Dewey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657575692,"creation_date":1657575692,"answer_id":72944945,"question_id":61034359,"body_markdown":"Restarting IntelliJ and re-opening the project resolved the issue for me. ","title":"Run button is greyed out - intellij","body":"<p>Restarting IntelliJ and re-opening the project resolved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":21220351,"reputation":11,"user_id":15607080,"display_name":"Shubham3196"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661087032,"creation_date":1661087032,"answer_id":73434668,"question_id":61034359,"body_markdown":"Change the jdk version to 11 or any lts ..\r\n\r\nSteps : \r\n1) file&gt; Project Structure \r\n2) Edit SDK [enter image description here][1]\r\n\r\nClick on the below link to see the image for editing SDK :\r\n  [1]: https://i.stack.imgur.com/3IyXA.jpg","title":"Run button is greyed out - intellij","body":"<p>Change the jdk version to 11 or any lts ..</p>\n<p>Steps :</p>\n<ol>\n<li>file&gt; Project Structure</li>\n<li>Edit SDK [enter image description here][1]</li>\n</ol>\n<p>Click on the below link to see the image for editing SDK :\n[1]: <a href=\"https://i.stack.imgur.com/3IyXA.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3IyXA.jpg</a></p>\n"},{"tags":[],"owner":{"account_id":3582471,"reputation":2580,"user_id":2990344,"accept_rate":69,"display_name":"xdavidliu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661187993,"creation_date":1661187993,"answer_id":73448700,"question_id":61034359,"body_markdown":"I had the exact same thing using IDEA 2021.3.3 ultimate edition. My &quot;Run Hello (Shift+F10)&quot; button was greyed out, so I right clicked the source code (any whitespace in the editor worked fine), and there was an option in the menu called &quot;Run Hello.main() (Ctrl+Shift+F10)&quot;, which WAS clickable. I clicked it, then it ran, after which the first button was no longer greyed out.","title":"Run button is greyed out - intellij","body":"<p>I had the exact same thing using IDEA 2021.3.3 ultimate edition. My &quot;Run Hello (Shift+F10)&quot; button was greyed out, so I right clicked the source code (any whitespace in the editor worked fine), and there was an option in the menu called &quot;Run Hello.main() (Ctrl+Shift+F10)&quot;, which WAS clickable. I clicked it, then it ran, after which the first button was no longer greyed out.</p>\n"},{"tags":[],"owner":{"account_id":12854102,"reputation":89,"user_id":9297984,"display_name":"Mayank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681390375,"creation_date":1681390375,"answer_id":76005672,"question_id":61034359,"body_markdown":"Right click the src/main directory -&gt; Mark Directory as -&gt; Sources Root\r\n\r\nThis fixed it for me.","title":"Run button is greyed out - intellij","body":"<p>Right click the src/main directory -&gt; Mark Directory as -&gt; Sources Root</p>\n<p>This fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":16608611,"reputation":123,"user_id":12002311,"display_name":"Prince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681893855,"creation_date":1681893855,"answer_id":76052459,"question_id":61034359,"body_markdown":"I was also getting the same issue as I started with freshly installed Intellij. There&#39;s a button of ```EDIT CONFIGURATIONS``` near run button. I added the configurations (just a couple of things) and it worked.\r\n\r\n```Add configurations under &#39;Edit Configuration&#39; there and it should work.```","title":"Run button is greyed out - intellij","body":"<p>I was also getting the same issue as I started with freshly installed Intellij. There's a button of <code>EDIT CONFIGURATIONS</code> near run button. I added the configurations (just a couple of things) and it worked.</p>\n<p><code>Add configurations under 'Edit Configuration' there and it should work.</code></p>\n"}],"owner":{"account_id":16917945,"reputation":619,"user_id":12235471,"display_name":"arty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59001,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":61034413,"answer_count":11,"score":29,"last_activity_date":1681893855,"creation_date":1586032145,"question_id":61034359,"body_markdown":"I was working on a project in Intellij then suddenly there was a pop up and now the run button is greyed out. It is a Java FX project and it runs with coverage and debug, but the normal run button is greyed out. What could be the problem?\r\n\r\nPS: I know I don&#39;t give you much to work with but unfortunately it was working and now it isn&#39;t, that&#39;s all.","title":"Run button is greyed out - intellij","body":"<p>I was working on a project in Intellij then suddenly there was a pop up and now the run button is greyed out. It is a Java FX project and it runs with coverage and debug, but the normal run button is greyed out. What could be the problem?</p>\n\n<p>PS: I know I don't give you much to work with but unfortunately it was working and now it isn't, that's all.</p>\n"},{"tags":["javascript","java","socket.io"],"comments":[{"owner":{"account_id":37982,"reputation":65378,"user_id":108796,"accept_rate":64,"display_name":"Blindy"},"score":0,"creation_date":1681844137,"post_id":76047878,"comment_id":134121526,"body_markdown":"The equivalent would be to send a dictionary, wouldn&#39;t it? `{ inputtoken : 11721 }`","body":"The equivalent would be to send a dictionary, wouldn&#39;t it? <code>{ inputtoken : 11721 }</code>"},{"owner":{"account_id":6520809,"reputation":21,"user_id":5045121,"display_name":"Vinay Tiwari"},"score":0,"creation_date":1681869670,"post_id":76047878,"comment_id":134125250,"body_markdown":"yes, you are correct. dictionary or may be a JSON string. I will give it a try in some time.","body":"yes, you are correct. dictionary or may be a JSON string. I will give it a try in some time."},{"owner":{"account_id":6520809,"reputation":21,"user_id":5045121,"display_name":"Vinay Tiwari"},"score":0,"creation_date":1681893827,"post_id":76047878,"comment_id":134128904,"body_markdown":"it is a dictionary, javascript is magical !!","body":"it is a dictionary, javascript is magical !!"}],"answers":[{"tags":[],"owner":{"account_id":6520809,"reputation":21,"user_id":5045121,"display_name":"Vinay Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681893783,"creation_date":1681879945,"answer_id":76050849,"question_id":76047878,"body_markdown":"[blindy][1] The following code worked, thanks  \r\n\r\n         Map&lt;String, String&gt;\r\n                         map = Collections\r\n                         .singletonMap(&quot;inputtoken&quot;, &quot;11721&quot;);\r\n\r\n       productSocket.emit(&quot;pageload&quot;,map);\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/108796/blindy","title":"Java equivalent of Javascript code : sending to WebSocket","body":"<p><a href=\"https://stackoverflow.com/users/108796/blindy\">blindy</a> The following code worked, thanks</p>\n<pre><code>     Map&lt;String, String&gt;\n                     map = Collections\n                     .singletonMap(&quot;inputtoken&quot;, &quot;11721&quot;);\n\n   productSocket.emit(&quot;pageload&quot;,map);\n</code></pre>\n"}],"owner":{"account_id":6520809,"reputation":21,"user_id":5045121,"display_name":"Vinay Tiwari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76050849,"answer_count":1,"score":0,"last_activity_date":1681893783,"creation_date":1681841720,"question_id":76047878,"body_markdown":"I need to write java socket emit code for the following javascript code.\r\n \r\n```\r\n socket.emit(&#39;pageload&#39;, { &quot;inputtoken&quot;: $(&#39;#wtokens&#39;).val() });\r\n```\r\n\r\n\r\nJava equivalent tried, does not works. \r\n\r\n```\r\nproductSocket.emit(&quot;pageload&quot;,&quot;inputtoken : 11721&quot;);\r\n```\r\n\r\nTried different options, but it does not return any event from the server socket.\r\n","title":"Java equivalent of Javascript code : sending to WebSocket","body":"<p>I need to write java socket emit code for the following javascript code.</p>\n<pre><code> socket.emit('pageload', { &quot;inputtoken&quot;: $('#wtokens').val() });\n</code></pre>\n<p>Java equivalent tried, does not works.</p>\n<pre><code>productSocket.emit(&quot;pageload&quot;,&quot;inputtoken : 11721&quot;);\n</code></pre>\n<p>Tried different options, but it does not return any event from the server socket.</p>\n"},{"tags":["java","postgresql","spring-boot","docker","minikube"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1681854837,"post_id":76049299,"comment_id":134123564,"body_markdown":"Neither the configmap `postgres-conf` nor the secret `postgres-credentials` exist.","body":"Neither the configmap <code>postgres-conf</code> nor the secret <code>postgres-credentials</code> exist."},{"owner":{"account_id":21994035,"reputation":51,"user_id":16266889,"display_name":"Svitlana Vorobets"},"score":0,"creation_date":1681893772,"post_id":76049299,"comment_id":134128893,"body_markdown":"@Botje I added these files correctly, but I had the same error. You can see changes in post","body":"@Botje I added these files correctly, but I had the same error. You can see changes in post"}],"owner":{"account_id":21994035,"reputation":51,"user_id":16266889,"display_name":"Svitlana Vorobets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681893706,"creation_date":1681854611,"question_id":76049299,"body_markdown":"I am writing an app using spring boot, postgres and minikube. But when I apply app and db files I got an error:\r\n\r\nError by db:\r\n\r\nFATAL:  password authentication failed for user &quot;root&quot;\r\nDETAIL:  Role &quot;root&quot; does not exist.\r\n        Connection matched pg_hba.conf line 100: &quot;host all all all scram-sha-256&quot;.\r\n\r\nError by app:\r\n\r\nCaused by: org.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided.\r\n\r\n\r\nI dont know why postgres is looking for user &quot;root&quot; although I set user &quot;postgres&quot;. Also I set configuration like \r\n\r\nkubectl exec -it pod-name -- sh\r\npsql -h postgres -U postgres\r\n\r\n\r\nBut it doesnt help. Thanks for advance\r\n\r\npostgres-credentials.yml\r\n```\r\napiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  name: postgres-credentials\r\ndata:\r\n  postgres_user: cG9zdGdyZXM=\r\n  postgres_password: MTIzNDU=\r\n```\r\n\r\npostgres-configmap.yml\r\n```\r\napiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  # Name your ConfigMap\r\n  name: postgres-conf\r\ndata:\r\n  host: postgres\r\n  name: PaymentLab3\r\n```\r\n\r\npostgres-deployment.yml\r\n```\r\napiVersion: v1\r\n# Kind for volume chain\r\nkind: PersistentVolume\r\nmetadata:\r\n  # Name the persistent chain\r\n  name: postgresdb-persistent-volume\r\n  # Labels for identifying PV\r\n  labels:\r\n    type: local\r\n    app: postgresdb\r\nspec:\r\n  storageClassName: manual\r\n  capacity:\r\n    # PV Storage capacity\r\n    storage: 8Gi\r\n  # A db can write and read from volumes to multiple pods\r\n  accessModes:\r\n    - ReadWriteMany\r\n  # Specify the path to persistent the volumes\r\n  hostPath:\r\n    path: &quot;/data/db&quot;\r\n\r\n---\r\napiVersion: v1\r\n# Kind for service\r\nkind: Service\r\nmetadata:\r\n  # Name your service\r\n  name: postgres\r\n  labels:\r\n    app: postgres\r\nspec:\r\n  # Choose how to expose your service\r\n  type: NodePort\r\n  ports:\r\n    # The port number to expose the service\r\n    - port: 5432\r\n  # Pod to route service traffic\r\n  selector:\r\n    app: postgres\r\n\r\n---\r\n# Define a &#39;Persistent Voulume Claim&#39;(PVC) for Postgress Storage, dynamically provisioned by cluster\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: postgres-pv-claim # name of PVC essential for identifying the storage data\r\n  labels:\r\n    app: postgres\r\n    tier: database\r\nspec:\r\n  accessModes:\r\n    - ReadWriteOnce   #This specifies the mode of the claim that we are trying to create.\r\n  resources:\r\n    requests:\r\n      storage: 1Gi    #This will tell kubernetes about the amount of space we are trying to claim.\r\n\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: postgres\r\n  labels:\r\n    app: postgres\r\n    tier: database\r\n\r\nspec:\r\n  selector: # mysql Pod Should contain same labels\r\n    matchLabels:\r\n      app: postgres\r\n  strategy:\r\n    type: Recreate\r\n  template:\r\n    metadata:\r\n      labels: # Must match &#39;Service&#39; and &#39;Deployment&#39; selectors\r\n        app: postgres\r\n        tier: database\r\n    spec:\r\n      containers:\r\n        - name: postgres\r\n          image: postgres\r\n          envFrom:\r\n            # Load the environment variables/PostgresSQL credentials\r\n            - configMapRef:\r\n                # This should be the ConfigMap name created ealier\r\n                name: db-secret-credentials\r\n          ports:\r\n            - containerPort: 5432\r\n              name: postgres\r\n          volumeMounts:\r\n            - mountPath: /var/lib/postgresql/data\r\n              name: postgres-persistance-storage\r\n      volumes:\r\n        - name: postgres-persistance-storage\r\n          persistentVolumeClaim:\r\n            claimName: postgres-pv-claim\r\n\r\n```\r\ndeployment.yml\r\n```\r\nkind: Service\r\napiVersion: v1\r\nmetadata:\r\n  name: lab4-minikube\r\n  labels:\r\n    name: lab4-minikube\r\nspec:\r\n  ports:\r\n    - nodePort: 30163\r\n      port: 8080\r\n      targetPort: 8080\r\n      protocol: TCP\r\n  selector:\r\n    app: lab4-minikube\r\n  type: NodePort\r\n\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: lab4-minikube\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app: lab4-minikube\r\n  replicas: 3\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: lab4-minikube\r\n    spec:\r\n      containers:\r\n        - name: lab4-minikube\r\n          image: 12413/lab4-minikube:1.5\r\n          ports:\r\n            - containerPort: 8080\r\n          env:   # Setting Enviornmental Variables\r\n            - name: DB_HOST   # Setting Database host address from configMap\r\n              valueFrom:\r\n                configMapKeyRef:\r\n                  name: postgres-conf  # name of configMap\r\n                  key: host\r\n            - name: DB_NAME  # Setting Database name from configMap\r\n              valueFrom:\r\n                configMapKeyRef:\r\n                  name: postgres-conf\r\n                  key: name\r\n            - name: POSTGRES_USER  # Setting Database username from Secret\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: postgres-credentials # Secret Name\r\n                  key: postgres_user\r\n            - name: POSTGRES_PASSWORD # Setting Database password from Secret\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: postgres-credentials\r\n                  key: postgres_password\r\n\r\n\r\n```\r\n\r\napplication.yml\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n    url: jdbc:postgresql://${DB_HOST}:5432/${DB_NAME}\r\n    username: {POSTGRES_USER}\r\n    password: {POSTGRES_PASSWORD}\r\n    hikari:\r\n      initialization-fail-timeout: 0\r\njpa:\r\n  database-platform: org.hibernate.dialect.PostgresPlusDialect\r\n  generate-ddl: true\r\n  show-sql: true\r\n  hibernate:\r\n    ddl-auto: create\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zh5UT.png","title":"FATAL: password authentication failed for user &quot;root&quot; in minikube","body":"<p>I am writing an app using spring boot, postgres and minikube. But when I apply app and db files I got an error:</p>\n<p>Error by db:</p>\n<p>FATAL:  password authentication failed for user &quot;root&quot;\nDETAIL:  Role &quot;root&quot; does not exist.\nConnection matched pg_hba.conf line 100: &quot;host all all all scram-sha-256&quot;.</p>\n<p>Error by app:</p>\n<p>Caused by: org.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided.</p>\n<p>I dont know why postgres is looking for user &quot;root&quot; although I set user &quot;postgres&quot;. Also I set configuration like</p>\n<p>kubectl exec -it pod-name -- sh\npsql -h postgres -U postgres</p>\n<p>But it doesnt help. Thanks for advance</p>\n<p>postgres-credentials.yml</p>\n<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: postgres-credentials\ndata:\n  postgres_user: cG9zdGdyZXM=\n  postgres_password: MTIzNDU=\n</code></pre>\n<p>postgres-configmap.yml</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  # Name your ConfigMap\n  name: postgres-conf\ndata:\n  host: postgres\n  name: PaymentLab3\n</code></pre>\n<p>postgres-deployment.yml</p>\n<pre><code>apiVersion: v1\n# Kind for volume chain\nkind: PersistentVolume\nmetadata:\n  # Name the persistent chain\n  name: postgresdb-persistent-volume\n  # Labels for identifying PV\n  labels:\n    type: local\n    app: postgresdb\nspec:\n  storageClassName: manual\n  capacity:\n    # PV Storage capacity\n    storage: 8Gi\n  # A db can write and read from volumes to multiple pods\n  accessModes:\n    - ReadWriteMany\n  # Specify the path to persistent the volumes\n  hostPath:\n    path: &quot;/data/db&quot;\n\n---\napiVersion: v1\n# Kind for service\nkind: Service\nmetadata:\n  # Name your service\n  name: postgres\n  labels:\n    app: postgres\nspec:\n  # Choose how to expose your service\n  type: NodePort\n  ports:\n    # The port number to expose the service\n    - port: 5432\n  # Pod to route service traffic\n  selector:\n    app: postgres\n\n---\n# Define a 'Persistent Voulume Claim'(PVC) for Postgress Storage, dynamically provisioned by cluster\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: postgres-pv-claim # name of PVC essential for identifying the storage data\n  labels:\n    app: postgres\n    tier: database\nspec:\n  accessModes:\n    - ReadWriteOnce   #This specifies the mode of the claim that we are trying to create.\n  resources:\n    requests:\n      storage: 1Gi    #This will tell kubernetes about the amount of space we are trying to claim.\n\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: postgres\n  labels:\n    app: postgres\n    tier: database\n\nspec:\n  selector: # mysql Pod Should contain same labels\n    matchLabels:\n      app: postgres\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels: # Must match 'Service' and 'Deployment' selectors\n        app: postgres\n        tier: database\n    spec:\n      containers:\n        - name: postgres\n          image: postgres\n          envFrom:\n            # Load the environment variables/PostgresSQL credentials\n            - configMapRef:\n                # This should be the ConfigMap name created ealier\n                name: db-secret-credentials\n          ports:\n            - containerPort: 5432\n              name: postgres\n          volumeMounts:\n            - mountPath: /var/lib/postgresql/data\n              name: postgres-persistance-storage\n      volumes:\n        - name: postgres-persistance-storage\n          persistentVolumeClaim:\n            claimName: postgres-pv-claim\n\n</code></pre>\n<p>deployment.yml</p>\n<pre><code>kind: Service\napiVersion: v1\nmetadata:\n  name: lab4-minikube\n  labels:\n    name: lab4-minikube\nspec:\n  ports:\n    - nodePort: 30163\n      port: 8080\n      targetPort: 8080\n      protocol: TCP\n  selector:\n    app: lab4-minikube\n  type: NodePort\n\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: lab4-minikube\nspec:\n  selector:\n    matchLabels:\n      app: lab4-minikube\n  replicas: 3\n  template:\n    metadata:\n      labels:\n        app: lab4-minikube\n    spec:\n      containers:\n        - name: lab4-minikube\n          image: 12413/lab4-minikube:1.5\n          ports:\n            - containerPort: 8080\n          env:   # Setting Enviornmental Variables\n            - name: DB_HOST   # Setting Database host address from configMap\n              valueFrom:\n                configMapKeyRef:\n                  name: postgres-conf  # name of configMap\n                  key: host\n            - name: DB_NAME  # Setting Database name from configMap\n              valueFrom:\n                configMapKeyRef:\n                  name: postgres-conf\n                  key: name\n            - name: POSTGRES_USER  # Setting Database username from Secret\n              valueFrom:\n                secretKeyRef:\n                  name: postgres-credentials # Secret Name\n                  key: postgres_user\n            - name: POSTGRES_PASSWORD # Setting Database password from Secret\n              valueFrom:\n                secretKeyRef:\n                  name: postgres-credentials\n                  key: postgres_password\n\n\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.postgresql.Driver\n    url: jdbc:postgresql://${DB_HOST}:5432/${DB_NAME}\n    username: {POSTGRES_USER}\n    password: {POSTGRES_PASSWORD}\n    hikari:\n      initialization-fail-timeout: 0\njpa:\n  database-platform: org.hibernate.dialect.PostgresPlusDialect\n  generate-ddl: true\n  show-sql: true\n  hibernate:\n    ddl-auto: create\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1681894267,"post_id":76052432,"comment_id":134128995,"body_markdown":"**tl;dr** you can&#39;t access &quot;general files&quot; when targeting recent SDK versions with some very specific exceptions. [Read all about it here](https://developer.android.com/about/versions/11/privacy/storage).","body":"<b>tl;dr</b> you can&#39;t access &quot;general files&quot; when targeting recent SDK versions with some very specific exceptions. <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Read all about it here</a>."},{"owner":{"account_id":12091301,"reputation":81,"user_id":8837332,"display_name":"Scott van Duin"},"score":0,"creation_date":1681894964,"post_id":76052432,"comment_id":134129150,"body_markdown":"So from my understanding, what I want to do is not possible anymore? Are there any alternatives?","body":"So from my understanding, what I want to do is not possible anymore? Are there any alternatives?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1681895686,"post_id":76052432,"comment_id":134129333,"body_markdown":"https://developer.android.com/about/versions/11/privacy/storage#all-files-access","body":"<a href=\"https://developer.android.com/about/versions/11/privacy/storage#all-files-access\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/11/privacy/&hellip;</a>"}],"owner":{"account_id":12091301,"reputation":81,"user_id":8837332,"display_name":"Scott van Duin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681893701,"creation_date":1681893701,"question_id":76052432,"body_markdown":"I am trying to make a folder to store a database backup on the device itself, using mkdirs(). However, it keeps failing on making the folder to store this backup in and I am not sure why.\r\n\r\nI checked wether I have permission to write, if the directory already exists, wether the directories match and the state of the external storage but somehow mkdirs() only returns false.\r\n\r\n```\r\npublic class BackupActivity extends AppCompatActivity {\r\n    private static final int PERMISSION_REQUEST_CODE = 1;\r\n    private static final String DATABASE_PATH = &quot;data/com.example.myapplication/databases/&quot;;\r\n    private static final String DATABASE_NAME = &quot;DatabaseName&quot;;\r\n    private static final String BACKUP_FOLDER_NAME = &quot;BackupFolder&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n            Log.d(&quot;Backup&quot;, &quot;Wel toestemming&quot;);\r\n            try {\r\n                createBackup();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;Backup&quot;, &quot;&quot; + e.getMessage());\r\n            }\r\n        } else {\r\n            Log.e(&quot;Backup&quot;, &quot;Geen toestemming&quot;);\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n        }\r\n\r\n        finish();\r\n    }\r\n\r\n    public static void createBackup() throws IOException {\r\n        if(!canBackup()) {\r\n            Log.d(&quot;Backup&quot;, &quot;!canBackup&quot;);\r\n            throw new IOException(&quot;Backup kan niet worden opgeslagen&quot;);\r\n        }\r\n\r\n        File backupFolder = new File(Environment.getExternalStorageDirectory(), BACKUP_FOLDER_NAME);\r\n        Log.d(&quot;Backup&quot;, &quot;External storage dir: &quot; + Environment.getExternalStorageDirectory());\r\n        Log.d(&quot;Backup&quot;, &quot;External storage state: &quot; + Environment.getExternalStorageState());\r\n        Log.d(&quot;Backup&quot;, &quot;Backup Folder path: &quot; + backupFolder.getPath());\r\n\r\n        if (!backupFolder.exists()) {\r\n            Log.d(&quot;Backup&quot;, &quot;mkdirs()&quot;);\r\n\r\n            if(backupFolder.mkdirs()) {\r\n                backupFolder.mkdirs();\r\n                Log.d(&quot;Backup&quot;, &quot;Geslaagd&quot; + backupFolder.mkdirs());\r\n            } else {\r\n                Log.e(&quot;Backup&quot;, &quot;Gefaald: &quot; + backupFolder.getAbsolutePath());\r\n                try {\r\n                    throw new IOException(&quot;Dir maken gefaald&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    Log.e(&quot;Backup&quot;, &quot;Gefaald: &quot; + e.getMessage());\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        if (backupFolder.canWrite()) {\r\n            Log.d(&quot;Backup&quot;, &quot;Backup folder goed&quot;);\r\n        } else {\r\n            Log.e(&quot;Backup&quot;, &quot;Backup folder fout&quot;);\r\n        }\r\n\r\n        File database = new File(Environment.getDataDirectory(), DATABASE_PATH + DATABASE_NAME);\r\n        FileInputStream databaseInputStream = new FileInputStream(database);\r\n        Log.d(&quot;Backup&quot;, &quot;Database path: &quot; + database.getPath());\r\n\r\n\r\n        File databaseBackup = new File(backupFolder, DATABASE_NAME + &quot;.bak&quot;);\r\n        FileOutputStream databaseOutputStream = new FileOutputStream(databaseBackup);\r\n        Log.d(&quot;Backup&quot;, &quot;Backup db path: &quot; + databaseBackup.getPath());\r\n\r\n\r\n        FileChannel dbSource = databaseInputStream.getChannel();\r\n        FileChannel dbDestination = databaseOutputStream.getChannel();\r\n        dbDestination.transferFrom(dbSource, 0, dbSource.size());\r\n\r\n        dbSource.close();\r\n        dbDestination.close();\r\n        databaseInputStream.close();\r\n        databaseOutputStream.close();\r\n    }\r\n\r\n    private static boolean canBackup() {\r\n        String state = Environment.getExternalStorageState();\r\n        return Environment.MEDIA_MOUNTED.equals(state);\r\n    }\r\n}\r\n```\r\n\r\nI expect the above code to print and create the directory BackupFolder. Instead it errors and shows that mkdirs() and the canWrite returns false. How can I check what exactly causes the failure of mkdirs()?","title":"Java/Android Studio mkdirs() returns false with (requested) WRITE_EXTERNAL_STORAGE permission","body":"<p>I am trying to make a folder to store a database backup on the device itself, using mkdirs(). However, it keeps failing on making the folder to store this backup in and I am not sure why.</p>\n<p>I checked wether I have permission to write, if the directory already exists, wether the directories match and the state of the external storage but somehow mkdirs() only returns false.</p>\n<pre><code>public class BackupActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE = 1;\n    private static final String DATABASE_PATH = &quot;data/com.example.myapplication/databases/&quot;;\n    private static final String DATABASE_NAME = &quot;DatabaseName&quot;;\n    private static final String BACKUP_FOLDER_NAME = &quot;BackupFolder&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n            Log.d(&quot;Backup&quot;, &quot;Wel toestemming&quot;);\n            try {\n                createBackup();\n            } catch (IOException e) {\n                e.printStackTrace();\n                Log.e(&quot;Backup&quot;, &quot;&quot; + e.getMessage());\n            }\n        } else {\n            Log.e(&quot;Backup&quot;, &quot;Geen toestemming&quot;);\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n        }\n\n        finish();\n    }\n\n    public static void createBackup() throws IOException {\n        if(!canBackup()) {\n            Log.d(&quot;Backup&quot;, &quot;!canBackup&quot;);\n            throw new IOException(&quot;Backup kan niet worden opgeslagen&quot;);\n        }\n\n        File backupFolder = new File(Environment.getExternalStorageDirectory(), BACKUP_FOLDER_NAME);\n        Log.d(&quot;Backup&quot;, &quot;External storage dir: &quot; + Environment.getExternalStorageDirectory());\n        Log.d(&quot;Backup&quot;, &quot;External storage state: &quot; + Environment.getExternalStorageState());\n        Log.d(&quot;Backup&quot;, &quot;Backup Folder path: &quot; + backupFolder.getPath());\n\n        if (!backupFolder.exists()) {\n            Log.d(&quot;Backup&quot;, &quot;mkdirs()&quot;);\n\n            if(backupFolder.mkdirs()) {\n                backupFolder.mkdirs();\n                Log.d(&quot;Backup&quot;, &quot;Geslaagd&quot; + backupFolder.mkdirs());\n            } else {\n                Log.e(&quot;Backup&quot;, &quot;Gefaald: &quot; + backupFolder.getAbsolutePath());\n                try {\n                    throw new IOException(&quot;Dir maken gefaald&quot;);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    Log.e(&quot;Backup&quot;, &quot;Gefaald: &quot; + e.getMessage());\n\n                }\n            }\n        }\n\n        if (backupFolder.canWrite()) {\n            Log.d(&quot;Backup&quot;, &quot;Backup folder goed&quot;);\n        } else {\n            Log.e(&quot;Backup&quot;, &quot;Backup folder fout&quot;);\n        }\n\n        File database = new File(Environment.getDataDirectory(), DATABASE_PATH + DATABASE_NAME);\n        FileInputStream databaseInputStream = new FileInputStream(database);\n        Log.d(&quot;Backup&quot;, &quot;Database path: &quot; + database.getPath());\n\n\n        File databaseBackup = new File(backupFolder, DATABASE_NAME + &quot;.bak&quot;);\n        FileOutputStream databaseOutputStream = new FileOutputStream(databaseBackup);\n        Log.d(&quot;Backup&quot;, &quot;Backup db path: &quot; + databaseBackup.getPath());\n\n\n        FileChannel dbSource = databaseInputStream.getChannel();\n        FileChannel dbDestination = databaseOutputStream.getChannel();\n        dbDestination.transferFrom(dbSource, 0, dbSource.size());\n\n        dbSource.close();\n        dbDestination.close();\n        databaseInputStream.close();\n        databaseOutputStream.close();\n    }\n\n    private static boolean canBackup() {\n        String state = Environment.getExternalStorageState();\n        return Environment.MEDIA_MOUNTED.equals(state);\n    }\n}\n</code></pre>\n<p>I expect the above code to print and create the directory BackupFolder. Instead it errors and shows that mkdirs() and the canWrite returns false. How can I check what exactly causes the failure of mkdirs()?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681896457,"post_id":76051975,"comment_id":134129519,"body_markdown":"you are aware that in Java `String`s are NOT compared using `==`, but with `equals()` ?! You can see that it works as wanted on https://ideone.com/EzmkG8","body":"you are aware that in Java <code>String</code>s are NOT compared using <code>==</code>, but with <code>equals()</code> ?! You can see that it works as wanted on <a href=\"https://ideone.com/EzmkG8\" rel=\"nofollow noreferrer\">ideone.com/EzmkG8</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681896792,"post_id":76051975,"comment_id":134129611,"body_markdown":"see [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java?r=SearchResults&amp;s=3%7C166.7309)","body":"see <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java?r=SearchResults&amp;s=3%7C166.7309\">How do I compare strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":24242899,"reputation":41,"user_id":18195012,"display_name":"Ertersy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681890972,"creation_date":1681890972,"answer_id":76052005,"question_id":76051975,"body_markdown":"The issue with the code seems to be in the initialization of the b array.\r\n\r\nIn the nested for loop where you are assigning values to b, you are using seq[j] instead of seq[i] as the value for each element.\r\n\r\nTo fix this, change the line \r\n\r\n    b[j][i] = seq[j];\r\n\r\nto \r\n\r\n    b[i][j] = seq[j];\r\n\r\nOnce you make this change, the code should produce the expected output.","title":"Value of index in 2d array not equal to same value of other 2d array","body":"<p>The issue with the code seems to be in the initialization of the b array.</p>\n<p>In the nested for loop where you are assigning values to b, you are using seq[j] instead of seq[i] as the value for each element.</p>\n<p>To fix this, change the line</p>\n<pre><code>b[j][i] = seq[j];\n</code></pre>\n<p>to</p>\n<pre><code>b[i][j] = seq[j];\n</code></pre>\n<p>Once you make this change, the code should produce the expected output.</p>\n"},{"tags":[],"owner":{"account_id":28346385,"reputation":21,"user_id":21678530,"display_name":"Lachie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681893362,"creation_date":1681893362,"answer_id":76052369,"question_id":76051975,"body_markdown":"Turns out .split() was causing the issue. Converting the values from seq into a new array of type int fixed the problem.\r\n\r\n\r\n        String [] seq = new String[n];\r\n        seq = thue.split(&quot;&quot;);\r\n        \r\n        int[] num = new int[n]; \r\n        \r\n        for (int i = 0; i &lt; n; i++) {\r\n            num[i] = Integer.parseInt(seq[i]);\r\n        }\r\n        for (int i = 0; i &lt; n; i ++) {\r\n            for (int j = 0; j &lt; n; j ++) {\r\n                a[i][j] = num[j];\r\n                b[i][j] = num[i];\r\n                if (j != 0) System.out.print(&quot; &quot;);\r\n                if (a[i][j] == b[i][j]) {\r\n                    System.out.print(&quot;+&quot;);\r\n                }\r\n                else {\r\n                    System.out.print(&quot;-&quot;);\r\n                }\r\n\r\n                if (j != n) System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n","title":"Value of index in 2d array not equal to same value of other 2d array","body":"<p>Turns out .split() was causing the issue. Converting the values from seq into a new array of type int fixed the problem.</p>\n<pre><code>    String [] seq = new String[n];\n    seq = thue.split(&quot;&quot;);\n    \n    int[] num = new int[n]; \n    \n    for (int i = 0; i &lt; n; i++) {\n        num[i] = Integer.parseInt(seq[i]);\n    }\n    for (int i = 0; i &lt; n; i ++) {\n        for (int j = 0; j &lt; n; j ++) {\n            a[i][j] = num[j];\n            b[i][j] = num[i];\n            if (j != 0) System.out.print(&quot; &quot;);\n            if (a[i][j] == b[i][j]) {\n                System.out.print(&quot;+&quot;);\n            }\n            else {\n                System.out.print(&quot;-&quot;);\n            }\n\n            if (j != n) System.out.print(&quot; &quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n"}],"owner":{"account_id":28346385,"reputation":21,"user_id":21678530,"display_name":"Lachie"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682329430,"answer_count":2,"score":1,"last_activity_date":1681893362,"creation_date":1681890798,"question_id":76051975,"body_markdown":"Trying to make an n*n pattern of &quot;+&quot; and &quot;-&quot; when value a[i][j] == b[i][j] and value a[i][j] != b[i][j]. Unsure of why this isn&#39;t outputting expected.\r\n\r\nSame output if I loop through a[i][j] == seq[i].\r\nTried assigning a[i][j] and seq[i] to variables before comparing and same result.\r\n\r\n    public class ThueMorse {\r\n        public static void main(String[] args) {\r\n            int n = Integer.parseInt(args[0]);\r\n            String thue   = &quot;0&quot;;\r\n            String morse  = &quot;1&quot;;\r\n            String[][] a = new String[n][n];\r\n            String[][] b = new String[n][n];\r\n        \r\n\r\n            for (int i = 1; i &lt;= n; i++) {\r\n                String t = thue;\r\n                String m = morse;\r\n                thue  += m;\r\n                morse += t;\r\n                if (thue.length() &gt;= n) break;\r\n            }\r\n            String [] seq = new String[n];\r\n            seq = thue.split(&quot;&quot;);\r\n            for (int i = 0; i &lt; n; i ++) {\r\n                for (int j = 0; j &lt; n; j ++) {\r\n                    a[i][j] = seq[j];\r\n                    b[i][j] = seq[i];\r\n                    \r\n                    if (j != 0) System.out.print(&quot; &quot;);\r\n                    if (a[i][j] == b[i][j]) {\r\n                    System.out.print(&quot;+&quot;);\r\n                    }\r\n                    else {\r\n                    System.out.print(&quot;-&quot;);\r\n                    }\r\n\r\n                    if (j != n) System.out.print(&quot; &quot;);\r\n                }    \r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nFor reference:\r\n\r\n```\r\nseq[] = [0, 1, 1, 0, 1, 0, 0, 1]\r\n\r\na[i][j] =\r\n\r\n0  1  1  0  1  0  0  1\r\n0  1  1  0  1  0  0  1\r\n0  1  1  0  1  0  0  1\r\n0  1  1  0  1  0  0  1\r\n0  1  1  0  1  0  0  1\r\n0  1  1  0  1  0  0  1\r\n0  1  1  0  1  0  0  1\r\n0  1  1  0  1  0  0  1\r\n\r\nb[i][j] =\r\n\r\n0  0  0  0  0  0  0  0\r\n1  1  1  1  1  1  1  1\r\n1  1  1  1  1  1  1  1\r\n0  0  0  0  0  0  0  0\r\n1  1  1  1  1  1  1  1\r\n0  0  0  0  0  0  0  0\r\n0  0  0  0  0  0  0  0\r\n1  1  1  1  1  1  1  1\r\n```\r\n\r\nOutput:\r\n```\r\n+  -  -  -  -  -  -  -\r\n-  +  -  -  -  -  -  -\r\n-  -  +  -  -  -  -  -\r\n-  -  -  +  -  -  -  -\r\n-  -  -  -  +  -  -  -\r\n-  -  -  -  -  +  -  -\r\n-  -  -  -  -  -  +  -\r\n-  -  -  -  -  -  -  +\r\n```\r\n\r\nExpected:\r\n```\r\n+  -  -  +  -  +  +  -\r\n-  +  +  -  +  -  -  +\r\n-  +  +  -  +  -  -  +\r\n+  -  -  +  -  +  +  -\r\n-  +  +  -  +  -  -  +\r\n+  -  -  +  -  +  +  -\r\n+  -  -  +  -  +  +  -\r\n-  +  +  -  +  -  -  +\r\n```","title":"Value of index in 2d array not equal to same value of other 2d array","body":"<p>Trying to make an n*n pattern of &quot;+&quot; and &quot;-&quot; when value a[i][j] == b[i][j] and value a[i][j] != b[i][j]. Unsure of why this isn't outputting expected.</p>\n<p>Same output if I loop through a[i][j] == seq[i].\nTried assigning a[i][j] and seq[i] to variables before comparing and same result.</p>\n<pre><code>public class ThueMorse {\n    public static void main(String[] args) {\n        int n = Integer.parseInt(args[0]);\n        String thue   = &quot;0&quot;;\n        String morse  = &quot;1&quot;;\n        String[][] a = new String[n][n];\n        String[][] b = new String[n][n];\n    \n\n        for (int i = 1; i &lt;= n; i++) {\n            String t = thue;\n            String m = morse;\n            thue  += m;\n            morse += t;\n            if (thue.length() &gt;= n) break;\n        }\n        String [] seq = new String[n];\n        seq = thue.split(&quot;&quot;);\n        for (int i = 0; i &lt; n; i ++) {\n            for (int j = 0; j &lt; n; j ++) {\n                a[i][j] = seq[j];\n                b[i][j] = seq[i];\n                \n                if (j != 0) System.out.print(&quot; &quot;);\n                if (a[i][j] == b[i][j]) {\n                System.out.print(&quot;+&quot;);\n                }\n                else {\n                System.out.print(&quot;-&quot;);\n                }\n\n                if (j != n) System.out.print(&quot; &quot;);\n            }    \n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>For reference:</p>\n<pre><code>seq[] = [0, 1, 1, 0, 1, 0, 0, 1]\n\na[i][j] =\n\n0  1  1  0  1  0  0  1\n0  1  1  0  1  0  0  1\n0  1  1  0  1  0  0  1\n0  1  1  0  1  0  0  1\n0  1  1  0  1  0  0  1\n0  1  1  0  1  0  0  1\n0  1  1  0  1  0  0  1\n0  1  1  0  1  0  0  1\n\nb[i][j] =\n\n0  0  0  0  0  0  0  0\n1  1  1  1  1  1  1  1\n1  1  1  1  1  1  1  1\n0  0  0  0  0  0  0  0\n1  1  1  1  1  1  1  1\n0  0  0  0  0  0  0  0\n0  0  0  0  0  0  0  0\n1  1  1  1  1  1  1  1\n</code></pre>\n<p>Output:</p>\n<pre><code>+  -  -  -  -  -  -  -\n-  +  -  -  -  -  -  -\n-  -  +  -  -  -  -  -\n-  -  -  +  -  -  -  -\n-  -  -  -  +  -  -  -\n-  -  -  -  -  +  -  -\n-  -  -  -  -  -  +  -\n-  -  -  -  -  -  -  +\n</code></pre>\n<p>Expected:</p>\n<pre><code>+  -  -  +  -  +  +  -\n-  +  +  -  +  -  -  +\n-  +  +  -  +  -  -  +\n+  -  -  +  -  +  +  -\n-  +  +  -  +  -  -  +\n+  -  -  +  -  +  +  -\n+  -  -  +  -  +  +  -\n-  +  +  -  +  -  -  +\n</code></pre>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681893171,"creation_date":1681893171,"answer_id":76052338,"question_id":76052092,"body_markdown":"Your problem most likely lies in nullable planning variables. Your planning variables can remain unassigned, and there is no penalty in your constraint provider to fix that. The solver is leaving them unassigned, as it has no incentive to do otherwise.\r\n\r\nYou have two options:\r\n- Don&#39;t make the variables nullable. I&#39;d recommend that, because your constraints make it clear that you want every variable assigned.\r\n- Use `forEachIncludingNullVars(...)` instead of `forEach(...)`, which will include entities with null variables, which will finally make your constraints trigger on unassigned variables.\r\n\r\n","title":"OptaPlanner optimizing Construction Heuristic phase for @PlanningEntity with 2 or more @PlanningVariable in java","body":"<p>Your problem most likely lies in nullable planning variables. Your planning variables can remain unassigned, and there is no penalty in your constraint provider to fix that. The solver is leaving them unassigned, as it has no incentive to do otherwise.</p>\n<p>You have two options:</p>\n<ul>\n<li>Don't make the variables nullable. I'd recommend that, because your constraints make it clear that you want every variable assigned.</li>\n<li>Use <code>forEachIncludingNullVars(...)</code> instead of <code>forEach(...)</code>, which will include entities with null variables, which will finally make your constraints trigger on unassigned variables.</li>\n</ul>\n"}],"owner":{"account_id":28114762,"reputation":5,"user_id":21482035,"display_name":"jova5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76052338,"answer_count":1,"score":0,"last_activity_date":1681893171,"creation_date":1681891571,"question_id":76052092,"body_markdown":"I need to schedule tasks for employees. My approach works good enough for small number of workers and tasks (default). I read that I need to change construction heuristic scaling so I tried answer from  [this](https://stackoverflow.com/questions/70666268/how-to-speed-up-construction-phase-whilst-having-an-trivial-overlapping-constrai) stackoverflow answer and from [this](https://www.optaplanner.org/docs/optaplanner/latest/construction-heuristics/construction-heuristics.html#scalingConstructionHeuristics) part of documentation. It did not work, then I tried approach from [this](https://stackoverflow.com) blog, but it still did not work. I just want to point out that I did the implementation in Java because that is requirement of my project.\r\n\r\nHere is the [link](https://github.com/jova5/opta-planner-job-schdule) to my github repo, where you will have an insight into the bigger picture of my solution.\r\n\r\nI think that my first approach is the closest to answer and that solution to my problem lies in my constraint provider, but I am bagging my had for a long time and it seems that I am only further away from answer.\r\n\r\n\r\nSo this is my first approach to solving this problem.\r\n\r\n```\r\n...\r\n\r\n    ConstructionHeuristicPhaseConfig phaseConfig = new ConstructionHeuristicPhaseConfig();\r\n    ChangeMoveSelectorConfig changeMoveSelectorConfig = new ChangeMoveSelectorConfig();\r\n    ValueSelectorConfig valueSelectorConfig = new ValueSelectorConfig();\r\n    valueSelectorConfig.setVariableName(&quot;employee&quot;);\r\n    changeMoveSelectorConfig.setValueSelectorConfig(valueSelectorConfig);\r\n    ChangeMoveSelectorConfig changeMoveSelectorConfig1 = new ChangeMoveSelectorConfig();\r\n    ValueSelectorConfig valueSelectorConfig1 = new ValueSelectorConfig();\r\n    valueSelectorConfig1.setVariableName(&quot;startTime&quot;);\r\n    changeMoveSelectorConfig1.setValueSelectorConfig(valueSelectorConfig1);\r\n    phaseConfig.setMoveSelectorConfigList(Arrays.asList(changeMoveSelectorConfig,changeMoveSelectorConfig1));\r\n\r\n    SolverConfig solverConfig = new SolverConfig().withPhaseList(List.of(phaseConfig));\r\n\r\n...\r\n\r\n```\r\n\r\nAnd this is log that I got when debugging.\r\n\r\n\r\n```\r\nSolving started: time spent (43), best score (0hard/0medium/0soft), environment mode (REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).\r\nCH step (0), time spent (64), score (0hard/0medium/0soft), selected move count (6), picked move (Task_0 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (1), time spent (72), score (0hard/0medium/0soft), selected move count (541), picked move (Task_0 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (2), time spent (73), score (0hard/0medium/0soft), selected move count (6), picked move (Task_1 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (3), time spent (74), score (0hard/0medium/0soft), selected move count (541), picked move (Task_1 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (4), time spent (74), score (0hard/0medium/0soft), selected move count (6), picked move (Task_2 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (5), time spent (76), score (0hard/0medium/0soft), selected move count (541), picked move (Task_2 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (6), time spent (76), score (0hard/0medium/0soft), selected move count (6), picked move (Task_3 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (7), time spent (77), score (0hard/0medium/0soft), selected move count (541), picked move (Task_3 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (8), time spent (77), score (0hard/0medium/0soft), selected move count (6), picked move (Task_4 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (9), time spent (78), score (0hard/0medium/0soft), selected move count (541), picked move (Task_4 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (10), time spent (79), score (0hard/0medium/0soft), selected move count (6), picked move (Task_5 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (11), time spent (80), score (0hard/0medium/0soft), selected move count (541), picked move (Task_5 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (12), time spent (80), score (0hard/0medium/0soft), selected move count (6), picked move (Task_6 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (13), time spent (81), score (0hard/0medium/0soft), selected move count (541), picked move (Task_6 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (14), time spent (81), score (0hard/0medium/0soft), selected move count (6), picked move (Task_7 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (15), time spent (82), score (0hard/0medium/0soft), selected move count (541), picked move (Task_7 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (16), time spent (82), score (0hard/0medium/0soft), selected move count (6), picked move (Task_8 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (17), time spent (84), score (0hard/0medium/0soft), selected move count (541), picked move (Task_8 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (18), time spent (84), score (0hard/0medium/0soft), selected move count (6), picked move (Task_9 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (19), time spent (85), score (0hard/0medium/0soft), selected move count (541), picked move (Task_9 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (20), time spent (85), score (0hard/0medium/0soft), selected move count (6), picked move (Task_10 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (21), time spent (86), score (0hard/0medium/0soft), selected move count (541), picked move (Task_10 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (22), time spent (86), score (0hard/0medium/0soft), selected move count (6), picked move (Task_11 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (23), time spent (88), score (0hard/0medium/0soft), selected move count (541), picked move (Task_11 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (24), time spent (88), score (0hard/0medium/0soft), selected move count (6), picked move (Task_12 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (25), time spent (90), score (0hard/0medium/0soft), selected move count (541), picked move (Task_12 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (26), time spent (91), score (0hard/0medium/0soft), selected move count (6), picked move (Task_13 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (27), time spent (92), score (0hard/0medium/0soft), selected move count (541), picked move (Task_13 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (28), time spent (92), score (0hard/0medium/0soft), selected move count (6), picked move (Task_14 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (29), time spent (93), score (0hard/0medium/0soft), selected move count (541), picked move (Task_14 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (30), time spent (93), score (0hard/0medium/0soft), selected move count (6), picked move (Task_15 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (31), time spent (94), score (0hard/0medium/0soft), selected move count (541), picked move (Task_15 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (32), time spent (95), score (0hard/0medium/0soft), selected move count (6), picked move (Task_16 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (33), time spent (96), score (0hard/0medium/0soft), selected move count (541), picked move (Task_16 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (34), time spent (96), score (0hard/0medium/0soft), selected move count (6), picked move (Task_17 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (35), time spent (97), score (0hard/0medium/0soft), selected move count (541), picked move (Task_17 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (36), time spent (97), score (0hard/0medium/0soft), selected move count (6), picked move (Task_18 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (37), time spent (98), score (0hard/0medium/0soft), selected move count (541), picked move (Task_18 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (38), time spent (99), score (0hard/0medium/0soft), selected move count (6), picked move (Task_19 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (39), time spent (100), score (0hard/0medium/0soft), selected move count (541), picked move (Task_19 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (40), time spent (100), score (0hard/0medium/0soft), selected move count (6), picked move (Task_20 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (41), time spent (101), score (0hard/0medium/0soft), selected move count (541), picked move (Task_20 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (42), time spent (102), score (0hard/0medium/0soft), selected move count (6), picked move (Task_21 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (43), time spent (103), score (0hard/0medium/0soft), selected move count (541), picked move (Task_21 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (44), time spent (103), score (0hard/0medium/0soft), selected move count (6), picked move (Task_22 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (45), time spent (104), score (0hard/0medium/0soft), selected move count (541), picked move (Task_22 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (46), time spent (105), score (0hard/0medium/0soft), selected move count (6), picked move (Task_23 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (47), time spent (106), score (0hard/0medium/0soft), selected move count (541), picked move (Task_23 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (48), time spent (106), score (0hard/0medium/0soft), selected move count (6), picked move (Task_24 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (49), time spent (107), score (0hard/0medium/0soft), selected move count (541), picked move (Task_24 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (50), time spent (107), score (0hard/0medium/0soft), selected move count (6), picked move (Task_25 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (51), time spent (109), score (0hard/0medium/0soft), selected move count (541), picked move (Task_25 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (52), time spent (109), score (0hard/0medium/0soft), selected move count (6), picked move (Task_26 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (53), time spent (111), score (0hard/0medium/0soft), selected move count (541), picked move (Task_26 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (54), time spent (111), score (0hard/0medium/0soft), selected move count (6), picked move (Task_27 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (55), time spent (113), score (0hard/0medium/0soft), selected move count (541), picked move (Task_27 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (56), time spent (113), score (0hard/0medium/0soft), selected move count (6), picked move (Task_28 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (57), time spent (114), score (0hard/0medium/0soft), selected move count (541), picked move (Task_28 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (58), time spent (115), score (0hard/0medium/0soft), selected move count (6), picked move (Task_29 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (59), time spent (116), score (0hard/0medium/0soft), selected move count (541), picked move (Task_29 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (60), time spent (116), score (0hard/0medium/0soft), selected move count (6), picked move (Task_30 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (61), time spent (118), score (0hard/0medium/0soft), selected move count (541), picked move (Task_30 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (62), time spent (118), score (0hard/0medium/0soft), selected move count (6), picked move (Task_31 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (63), time spent (119), score (0hard/0medium/0soft), selected move count (541), picked move (Task_31 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (64), time spent (119), score (0hard/0medium/0soft), selected move count (6), picked move (Task_32 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (65), time spent (120), score (0hard/0medium/0soft), selected move count (541), picked move (Task_32 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (66), time spent (120), score (0hard/0medium/0soft), selected move count (6), picked move (Task_33 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (67), time spent (121), score (0hard/0medium/0soft), selected move count (541), picked move (Task_33 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (68), time spent (121), score (0hard/0medium/0soft), selected move count (6), picked move (Task_34 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (69), time spent (122), score (0hard/0medium/0soft), selected move count (541), picked move (Task_34 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (70), time spent (123), score (0hard/0medium/0soft), selected move count (6), picked move (Task_35 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (71), time spent (124), score (0hard/0medium/0soft), selected move count (541), picked move (Task_35 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (72), time spent (124), score (0hard/0medium/0soft), selected move count (6), picked move (Task_36 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (73), time spent (125), score (0hard/0medium/0soft), selected move count (541), picked move (Task_36 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (74), time spent (125), score (0hard/0medium/0soft), selected move count (6), picked move (Task_37 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (75), time spent (126), score (0hard/0medium/0soft), selected move count (541), picked move (Task_37 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (76), time spent (126), score (0hard/0medium/0soft), selected move count (6), picked move (Task_38 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (77), time spent (127), score (0hard/0medium/0soft), selected move count (541), picked move (Task_38 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (78), time spent (128), score (0hard/0medium/0soft), selected move count (6), picked move (Task_39 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (79), time spent (128), score (0hard/0medium/0soft), selected move count (541), picked move (Task_39 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (80), time spent (128), score (0hard/0medium/0soft), selected move count (6), picked move (Task_40 Employee: null Start Time: null {null -&gt; null}).\r\nCH step (81), time spent (129), score (0hard/0medium/0soft), selected move count (541), picked move (Task_40 Employee: null Start Time: null {null -&gt; null}).\r\nConstruction Heuristic phase (0) ended: time spent (130), best score (0hard/0medium/0soft), score calculation speed (291272/sec), step total (82).\r\nSolving ended: time spent (130), best score (0hard/0medium/0soft), score calculation speed (172530/sec), phase total (1), environment mode (REPRODUCIBLE), move thread count (NONE).\r\n```\r\n\r\nAs you can see construction heuristic phase iterated through all my tasks and tried to assign some value, but all value remain null. At the end I will provide my ConstructionProvider.\r\n\r\nSecond approach:\r\n\r\n```\r\n...\r\n\r\n    ConstructionHeuristicPhaseConfig phaseConfig = new ConstructionHeuristicPhaseConfig();\r\n    QueuedEntityPlacerConfig queuedEntityPlacerConfig = new QueuedEntityPlacerConfig();\r\n    EntitySelectorConfig entitySelectorConfig = new EntitySelectorConfig();\r\n    entitySelectorConfig.setCacheType(SelectionCacheType.PHASE);\r\n    entitySelectorConfig.setEntityClass(Task.class);\r\n\r\n    ChangeMoveSelectorConfig changeMoveSelectorConfig = new ChangeMoveSelectorConfig();\r\n    changeMoveSelectorConfig.setEntitySelectorConfig(entitySelectorConfig);\r\n    ValueSelectorConfig valueSelectorConfig = new ValueSelectorConfig();\r\n    valueSelectorConfig.setVariableName(&quot;employee&quot;);\r\n    changeMoveSelectorConfig.setValueSelectorConfig(valueSelectorConfig);\r\n\r\n    ChangeMoveSelectorConfig changeMoveSelectorConfig2 = new ChangeMoveSelectorConfig();\r\n    changeMoveSelectorConfig2.setEntitySelectorConfig(entitySelectorConfig);\r\n    ValueSelectorConfig valueSelectorConfig2 = new ValueSelectorConfig();\r\n    valueSelectorConfig2.setVariableName(&quot;startTime&quot;);\r\n    changeMoveSelectorConfig2.setValueSelectorConfig(valueSelectorConfig);\r\n\r\n    queuedEntityPlacerConfig.setEntitySelectorConfig(entitySelectorConfig);\r\n    queuedEntityPlacerConfig.setMoveSelectorConfigList(Arrays.asList(changeMoveSelectorConfig, changeMoveSelectorConfig2));\r\n    phaseConfig.setEntityPlacerConfig(queuedEntityPlacerConfig);\r\n\r\n    SolverConfig solverConfig = new SolverConfig().withPhaseList(List.of(phaseConfig));\r\n\r\n...\r\n```\r\n\r\nAnd third approach:\r\n\r\n```\r\n...\r\n\r\n    ConstructionHeuristicPhaseConfig phaseConfig = new ConstructionHeuristicPhaseConfig();\r\n    QueuedEntityPlacerConfig queuedEntityPlacerConfig = new QueuedEntityPlacerConfig();\r\n    EntitySelectorConfig entitySelectorConfig = new EntitySelectorConfig();\r\n    entitySelectorConfig.setCacheType(SelectionCacheType.PHASE);\r\n    entitySelectorConfig.setEntityClass(Task.class);\r\n\r\n    ChangeMoveSelectorConfig changeMoveSelectorConfig = new ChangeMoveSelectorConfig();\r\n    changeMoveSelectorConfig.setEntitySelectorConfig(entitySelectorConfig);\r\n    ValueSelectorConfig valueSelectorConfig = new ValueSelectorConfig();\r\n    valueSelectorConfig.setVariableName(&quot;employee&quot;);\r\n    changeMoveSelectorConfig.setValueSelectorConfig(valueSelectorConfig);\r\n\r\n    queuedEntityPlacerConfig.setEntitySelectorConfig(entitySelectorConfig);\r\n    queuedEntityPlacerConfig.setMoveSelectorConfigList(List.of(changeMoveSelectorConfig));\r\n    phaseConfig.setEntityPlacerConfig(queuedEntityPlacerConfig);\r\n\r\n    ConstructionHeuristicPhaseConfig phaseConfig2 = new ConstructionHeuristicPhaseConfig();\r\n    QueuedEntityPlacerConfig queuedEntityPlacerConfig2 = new QueuedEntityPlacerConfig();\r\n\r\n    ChangeMoveSelectorConfig changeMoveSelectorConfig2 = new ChangeMoveSelectorConfig();\r\n    changeMoveSelectorConfig2.setEntitySelectorConfig(entitySelectorConfig);\r\n    ValueSelectorConfig valueSelectorConfig2 = new ValueSelectorConfig();\r\n    valueSelectorConfig2.setVariableName(&quot;startTime&quot;);\r\n    changeMoveSelectorConfig2.setValueSelectorConfig(valueSelectorConfig);\r\n\r\n    queuedEntityPlacerConfig2.setEntitySelectorConfig(entitySelectorConfig);\r\n    queuedEntityPlacerConfig2.setMoveSelectorConfigList(List.of(changeMoveSelectorConfig2));\r\n    phaseConfig2.setEntityPlacerConfig(queuedEntityPlacerConfig2);\r\n\r\n    SolverConfig solverConfig = new SolverConfig().withPhaseList(Arrays.asList(phaseConfig, phaseConfig2));\r\n\r\n...\r\n```\r\n\r\nLog for second ant third approach are identical and it will be available in github repo [here](https://github.com/jova5/opta-planner-job-schdule).\r\n\r\nAs you can see, in second and third approach constraint provider phase does not even iterate through my tasks.\r\n\r\nAnd this is ConstraintProvider:\r\n\r\n```\r\npublic class JobScheduleConstraintProvider implements ConstraintProvider {\r\n    @Override\r\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n        return new Constraint[]{\r\n                noMoreTaskThanWorkingMinutes(constraintFactory),\r\n                everyTaskShouldBeAssigned(constraintFactory),\r\n                everyTaskShouldBeAssignedToEmployeeWithAdequateSkill(constraintFactory),\r\n                tasksDontOverlap(constraintFactory),\r\n                everyTaskShouldBeInitialized(constraintFactory),\r\n                everyTaskShouldBeInitializedWithTime(constraintFactory),\r\n        };\r\n    }\r\n\r\n    public Constraint noMoreTaskThanWorkingMinutes(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Employee.class)\r\n                                .filter(employee -&gt; employee.getSumMinutesOfAssignedTasks() &gt;\r\n                                                    employee.getWorkingMinutes())\r\n                                .penalize(HardMediumSoftScore.ONE_HARD)\r\n                                .asConstraint(&quot;noMoreTaskThanWorkingMinutes&quot;);\r\n    }\r\n\r\n    public Constraint everyTaskShouldBeAssigned(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Task.class)\r\n                                .filter(task -&gt; task.getEmployee() != null)\r\n                                .reward(HardMediumSoftScore.ONE_MEDIUM)\r\n                                .asConstraint(&quot;everyTaskShouldBeAssigned&quot;);\r\n    }\r\n\r\n    public Constraint everyTaskShouldBeAssignedToEmployeeWithAdequateSkill(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Task.class)\r\n                                .filter(task -&gt; {\r\n                                    if (task.getEmployee() == null) {\r\n                                        return false;\r\n                                    }\r\n                                    return !task.getEmployee().getSkills().contains(task.getSkillRequired());\r\n                                })\r\n                                .penalize(HardMediumSoftScore.ONE_HARD)\r\n                                .asConstraint(&quot;everyTaskShouldBeAssignedToEmployeeWithAdequateSkill&quot;);\r\n    }\r\n\r\n    public Constraint everyTaskShouldBeInitialized(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Task.class)\r\n                                .filter(task -&gt; task.getEmployee() == null)\r\n                                .penalize(HardMediumSoftScore.ONE_MEDIUM)\r\n                                .asConstraint(&quot;everyTaskShouldBeInitialized&quot;);\r\n    }\r\n\r\n    public Constraint everyTaskShouldBeInitializedWithTime(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Task.class)\r\n                                .filter(task -&gt; task.getStartTime() == null)\r\n                                .penalize(HardMediumSoftScore.ONE_MEDIUM)\r\n                                .asConstraint(&quot;everyTaskShouldBeInitializedWithTime&quot;);\r\n    }\r\n\r\n    public Constraint tasksDontOverlap(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Employee.class)\r\n                                .filter(Employee::checkIfTasksOverlap)\r\n                                .penalize(HardMediumSoftScore.ONE_HARD)\r\n                                .asConstraint(&quot;tasksDontOverlap&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI were expecting that all my tasks would be assigned in construction heuristic phase, but that was not the case. Default approach (Cartesian) does not scale well but it works an it assigns all tasks, so I tried Sequential approach, but as you can see it does not work.\r\n\r\nThank you all for your time.\r\n\r\nI am sorry for such a long question.\r\n ","title":"OptaPlanner optimizing Construction Heuristic phase for @PlanningEntity with 2 or more @PlanningVariable in java","body":"<p>I need to schedule tasks for employees. My approach works good enough for small number of workers and tasks (default). I read that I need to change construction heuristic scaling so I tried answer from  <a href=\"https://stackoverflow.com/questions/70666268/how-to-speed-up-construction-phase-whilst-having-an-trivial-overlapping-constrai\">this</a> stackoverflow answer and from <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/construction-heuristics/construction-heuristics.html#scalingConstructionHeuristics\" rel=\"nofollow noreferrer\">this</a> part of documentation. It did not work, then I tried approach from <a href=\"https://stackoverflow.com\">this</a> blog, but it still did not work. I just want to point out that I did the implementation in Java because that is requirement of my project.</p>\n<p>Here is the <a href=\"https://github.com/jova5/opta-planner-job-schdule\" rel=\"nofollow noreferrer\">link</a> to my github repo, where you will have an insight into the bigger picture of my solution.</p>\n<p>I think that my first approach is the closest to answer and that solution to my problem lies in my constraint provider, but I am bagging my had for a long time and it seems that I am only further away from answer.</p>\n<p>So this is my first approach to solving this problem.</p>\n<pre><code>...\n\n    ConstructionHeuristicPhaseConfig phaseConfig = new ConstructionHeuristicPhaseConfig();\n    ChangeMoveSelectorConfig changeMoveSelectorConfig = new ChangeMoveSelectorConfig();\n    ValueSelectorConfig valueSelectorConfig = new ValueSelectorConfig();\n    valueSelectorConfig.setVariableName(&quot;employee&quot;);\n    changeMoveSelectorConfig.setValueSelectorConfig(valueSelectorConfig);\n    ChangeMoveSelectorConfig changeMoveSelectorConfig1 = new ChangeMoveSelectorConfig();\n    ValueSelectorConfig valueSelectorConfig1 = new ValueSelectorConfig();\n    valueSelectorConfig1.setVariableName(&quot;startTime&quot;);\n    changeMoveSelectorConfig1.setValueSelectorConfig(valueSelectorConfig1);\n    phaseConfig.setMoveSelectorConfigList(Arrays.asList(changeMoveSelectorConfig,changeMoveSelectorConfig1));\n\n    SolverConfig solverConfig = new SolverConfig().withPhaseList(List.of(phaseConfig));\n\n...\n\n</code></pre>\n<p>And this is log that I got when debugging.</p>\n<pre><code>Solving started: time spent (43), best score (0hard/0medium/0soft), environment mode (REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).\nCH step (0), time spent (64), score (0hard/0medium/0soft), selected move count (6), picked move (Task_0 Employee: null Start Time: null {null -&gt; null}).\nCH step (1), time spent (72), score (0hard/0medium/0soft), selected move count (541), picked move (Task_0 Employee: null Start Time: null {null -&gt; null}).\nCH step (2), time spent (73), score (0hard/0medium/0soft), selected move count (6), picked move (Task_1 Employee: null Start Time: null {null -&gt; null}).\nCH step (3), time spent (74), score (0hard/0medium/0soft), selected move count (541), picked move (Task_1 Employee: null Start Time: null {null -&gt; null}).\nCH step (4), time spent (74), score (0hard/0medium/0soft), selected move count (6), picked move (Task_2 Employee: null Start Time: null {null -&gt; null}).\nCH step (5), time spent (76), score (0hard/0medium/0soft), selected move count (541), picked move (Task_2 Employee: null Start Time: null {null -&gt; null}).\nCH step (6), time spent (76), score (0hard/0medium/0soft), selected move count (6), picked move (Task_3 Employee: null Start Time: null {null -&gt; null}).\nCH step (7), time spent (77), score (0hard/0medium/0soft), selected move count (541), picked move (Task_3 Employee: null Start Time: null {null -&gt; null}).\nCH step (8), time spent (77), score (0hard/0medium/0soft), selected move count (6), picked move (Task_4 Employee: null Start Time: null {null -&gt; null}).\nCH step (9), time spent (78), score (0hard/0medium/0soft), selected move count (541), picked move (Task_4 Employee: null Start Time: null {null -&gt; null}).\nCH step (10), time spent (79), score (0hard/0medium/0soft), selected move count (6), picked move (Task_5 Employee: null Start Time: null {null -&gt; null}).\nCH step (11), time spent (80), score (0hard/0medium/0soft), selected move count (541), picked move (Task_5 Employee: null Start Time: null {null -&gt; null}).\nCH step (12), time spent (80), score (0hard/0medium/0soft), selected move count (6), picked move (Task_6 Employee: null Start Time: null {null -&gt; null}).\nCH step (13), time spent (81), score (0hard/0medium/0soft), selected move count (541), picked move (Task_6 Employee: null Start Time: null {null -&gt; null}).\nCH step (14), time spent (81), score (0hard/0medium/0soft), selected move count (6), picked move (Task_7 Employee: null Start Time: null {null -&gt; null}).\nCH step (15), time spent (82), score (0hard/0medium/0soft), selected move count (541), picked move (Task_7 Employee: null Start Time: null {null -&gt; null}).\nCH step (16), time spent (82), score (0hard/0medium/0soft), selected move count (6), picked move (Task_8 Employee: null Start Time: null {null -&gt; null}).\nCH step (17), time spent (84), score (0hard/0medium/0soft), selected move count (541), picked move (Task_8 Employee: null Start Time: null {null -&gt; null}).\nCH step (18), time spent (84), score (0hard/0medium/0soft), selected move count (6), picked move (Task_9 Employee: null Start Time: null {null -&gt; null}).\nCH step (19), time spent (85), score (0hard/0medium/0soft), selected move count (541), picked move (Task_9 Employee: null Start Time: null {null -&gt; null}).\nCH step (20), time spent (85), score (0hard/0medium/0soft), selected move count (6), picked move (Task_10 Employee: null Start Time: null {null -&gt; null}).\nCH step (21), time spent (86), score (0hard/0medium/0soft), selected move count (541), picked move (Task_10 Employee: null Start Time: null {null -&gt; null}).\nCH step (22), time spent (86), score (0hard/0medium/0soft), selected move count (6), picked move (Task_11 Employee: null Start Time: null {null -&gt; null}).\nCH step (23), time spent (88), score (0hard/0medium/0soft), selected move count (541), picked move (Task_11 Employee: null Start Time: null {null -&gt; null}).\nCH step (24), time spent (88), score (0hard/0medium/0soft), selected move count (6), picked move (Task_12 Employee: null Start Time: null {null -&gt; null}).\nCH step (25), time spent (90), score (0hard/0medium/0soft), selected move count (541), picked move (Task_12 Employee: null Start Time: null {null -&gt; null}).\nCH step (26), time spent (91), score (0hard/0medium/0soft), selected move count (6), picked move (Task_13 Employee: null Start Time: null {null -&gt; null}).\nCH step (27), time spent (92), score (0hard/0medium/0soft), selected move count (541), picked move (Task_13 Employee: null Start Time: null {null -&gt; null}).\nCH step (28), time spent (92), score (0hard/0medium/0soft), selected move count (6), picked move (Task_14 Employee: null Start Time: null {null -&gt; null}).\nCH step (29), time spent (93), score (0hard/0medium/0soft), selected move count (541), picked move (Task_14 Employee: null Start Time: null {null -&gt; null}).\nCH step (30), time spent (93), score (0hard/0medium/0soft), selected move count (6), picked move (Task_15 Employee: null Start Time: null {null -&gt; null}).\nCH step (31), time spent (94), score (0hard/0medium/0soft), selected move count (541), picked move (Task_15 Employee: null Start Time: null {null -&gt; null}).\nCH step (32), time spent (95), score (0hard/0medium/0soft), selected move count (6), picked move (Task_16 Employee: null Start Time: null {null -&gt; null}).\nCH step (33), time spent (96), score (0hard/0medium/0soft), selected move count (541), picked move (Task_16 Employee: null Start Time: null {null -&gt; null}).\nCH step (34), time spent (96), score (0hard/0medium/0soft), selected move count (6), picked move (Task_17 Employee: null Start Time: null {null -&gt; null}).\nCH step (35), time spent (97), score (0hard/0medium/0soft), selected move count (541), picked move (Task_17 Employee: null Start Time: null {null -&gt; null}).\nCH step (36), time spent (97), score (0hard/0medium/0soft), selected move count (6), picked move (Task_18 Employee: null Start Time: null {null -&gt; null}).\nCH step (37), time spent (98), score (0hard/0medium/0soft), selected move count (541), picked move (Task_18 Employee: null Start Time: null {null -&gt; null}).\nCH step (38), time spent (99), score (0hard/0medium/0soft), selected move count (6), picked move (Task_19 Employee: null Start Time: null {null -&gt; null}).\nCH step (39), time spent (100), score (0hard/0medium/0soft), selected move count (541), picked move (Task_19 Employee: null Start Time: null {null -&gt; null}).\nCH step (40), time spent (100), score (0hard/0medium/0soft), selected move count (6), picked move (Task_20 Employee: null Start Time: null {null -&gt; null}).\nCH step (41), time spent (101), score (0hard/0medium/0soft), selected move count (541), picked move (Task_20 Employee: null Start Time: null {null -&gt; null}).\nCH step (42), time spent (102), score (0hard/0medium/0soft), selected move count (6), picked move (Task_21 Employee: null Start Time: null {null -&gt; null}).\nCH step (43), time spent (103), score (0hard/0medium/0soft), selected move count (541), picked move (Task_21 Employee: null Start Time: null {null -&gt; null}).\nCH step (44), time spent (103), score (0hard/0medium/0soft), selected move count (6), picked move (Task_22 Employee: null Start Time: null {null -&gt; null}).\nCH step (45), time spent (104), score (0hard/0medium/0soft), selected move count (541), picked move (Task_22 Employee: null Start Time: null {null -&gt; null}).\nCH step (46), time spent (105), score (0hard/0medium/0soft), selected move count (6), picked move (Task_23 Employee: null Start Time: null {null -&gt; null}).\nCH step (47), time spent (106), score (0hard/0medium/0soft), selected move count (541), picked move (Task_23 Employee: null Start Time: null {null -&gt; null}).\nCH step (48), time spent (106), score (0hard/0medium/0soft), selected move count (6), picked move (Task_24 Employee: null Start Time: null {null -&gt; null}).\nCH step (49), time spent (107), score (0hard/0medium/0soft), selected move count (541), picked move (Task_24 Employee: null Start Time: null {null -&gt; null}).\nCH step (50), time spent (107), score (0hard/0medium/0soft), selected move count (6), picked move (Task_25 Employee: null Start Time: null {null -&gt; null}).\nCH step (51), time spent (109), score (0hard/0medium/0soft), selected move count (541), picked move (Task_25 Employee: null Start Time: null {null -&gt; null}).\nCH step (52), time spent (109), score (0hard/0medium/0soft), selected move count (6), picked move (Task_26 Employee: null Start Time: null {null -&gt; null}).\nCH step (53), time spent (111), score (0hard/0medium/0soft), selected move count (541), picked move (Task_26 Employee: null Start Time: null {null -&gt; null}).\nCH step (54), time spent (111), score (0hard/0medium/0soft), selected move count (6), picked move (Task_27 Employee: null Start Time: null {null -&gt; null}).\nCH step (55), time spent (113), score (0hard/0medium/0soft), selected move count (541), picked move (Task_27 Employee: null Start Time: null {null -&gt; null}).\nCH step (56), time spent (113), score (0hard/0medium/0soft), selected move count (6), picked move (Task_28 Employee: null Start Time: null {null -&gt; null}).\nCH step (57), time spent (114), score (0hard/0medium/0soft), selected move count (541), picked move (Task_28 Employee: null Start Time: null {null -&gt; null}).\nCH step (58), time spent (115), score (0hard/0medium/0soft), selected move count (6), picked move (Task_29 Employee: null Start Time: null {null -&gt; null}).\nCH step (59), time spent (116), score (0hard/0medium/0soft), selected move count (541), picked move (Task_29 Employee: null Start Time: null {null -&gt; null}).\nCH step (60), time spent (116), score (0hard/0medium/0soft), selected move count (6), picked move (Task_30 Employee: null Start Time: null {null -&gt; null}).\nCH step (61), time spent (118), score (0hard/0medium/0soft), selected move count (541), picked move (Task_30 Employee: null Start Time: null {null -&gt; null}).\nCH step (62), time spent (118), score (0hard/0medium/0soft), selected move count (6), picked move (Task_31 Employee: null Start Time: null {null -&gt; null}).\nCH step (63), time spent (119), score (0hard/0medium/0soft), selected move count (541), picked move (Task_31 Employee: null Start Time: null {null -&gt; null}).\nCH step (64), time spent (119), score (0hard/0medium/0soft), selected move count (6), picked move (Task_32 Employee: null Start Time: null {null -&gt; null}).\nCH step (65), time spent (120), score (0hard/0medium/0soft), selected move count (541), picked move (Task_32 Employee: null Start Time: null {null -&gt; null}).\nCH step (66), time spent (120), score (0hard/0medium/0soft), selected move count (6), picked move (Task_33 Employee: null Start Time: null {null -&gt; null}).\nCH step (67), time spent (121), score (0hard/0medium/0soft), selected move count (541), picked move (Task_33 Employee: null Start Time: null {null -&gt; null}).\nCH step (68), time spent (121), score (0hard/0medium/0soft), selected move count (6), picked move (Task_34 Employee: null Start Time: null {null -&gt; null}).\nCH step (69), time spent (122), score (0hard/0medium/0soft), selected move count (541), picked move (Task_34 Employee: null Start Time: null {null -&gt; null}).\nCH step (70), time spent (123), score (0hard/0medium/0soft), selected move count (6), picked move (Task_35 Employee: null Start Time: null {null -&gt; null}).\nCH step (71), time spent (124), score (0hard/0medium/0soft), selected move count (541), picked move (Task_35 Employee: null Start Time: null {null -&gt; null}).\nCH step (72), time spent (124), score (0hard/0medium/0soft), selected move count (6), picked move (Task_36 Employee: null Start Time: null {null -&gt; null}).\nCH step (73), time spent (125), score (0hard/0medium/0soft), selected move count (541), picked move (Task_36 Employee: null Start Time: null {null -&gt; null}).\nCH step (74), time spent (125), score (0hard/0medium/0soft), selected move count (6), picked move (Task_37 Employee: null Start Time: null {null -&gt; null}).\nCH step (75), time spent (126), score (0hard/0medium/0soft), selected move count (541), picked move (Task_37 Employee: null Start Time: null {null -&gt; null}).\nCH step (76), time spent (126), score (0hard/0medium/0soft), selected move count (6), picked move (Task_38 Employee: null Start Time: null {null -&gt; null}).\nCH step (77), time spent (127), score (0hard/0medium/0soft), selected move count (541), picked move (Task_38 Employee: null Start Time: null {null -&gt; null}).\nCH step (78), time spent (128), score (0hard/0medium/0soft), selected move count (6), picked move (Task_39 Employee: null Start Time: null {null -&gt; null}).\nCH step (79), time spent (128), score (0hard/0medium/0soft), selected move count (541), picked move (Task_39 Employee: null Start Time: null {null -&gt; null}).\nCH step (80), time spent (128), score (0hard/0medium/0soft), selected move count (6), picked move (Task_40 Employee: null Start Time: null {null -&gt; null}).\nCH step (81), time spent (129), score (0hard/0medium/0soft), selected move count (541), picked move (Task_40 Employee: null Start Time: null {null -&gt; null}).\nConstruction Heuristic phase (0) ended: time spent (130), best score (0hard/0medium/0soft), score calculation speed (291272/sec), step total (82).\nSolving ended: time spent (130), best score (0hard/0medium/0soft), score calculation speed (172530/sec), phase total (1), environment mode (REPRODUCIBLE), move thread count (NONE).\n</code></pre>\n<p>As you can see construction heuristic phase iterated through all my tasks and tried to assign some value, but all value remain null. At the end I will provide my ConstructionProvider.</p>\n<p>Second approach:</p>\n<pre><code>...\n\n    ConstructionHeuristicPhaseConfig phaseConfig = new ConstructionHeuristicPhaseConfig();\n    QueuedEntityPlacerConfig queuedEntityPlacerConfig = new QueuedEntityPlacerConfig();\n    EntitySelectorConfig entitySelectorConfig = new EntitySelectorConfig();\n    entitySelectorConfig.setCacheType(SelectionCacheType.PHASE);\n    entitySelectorConfig.setEntityClass(Task.class);\n\n    ChangeMoveSelectorConfig changeMoveSelectorConfig = new ChangeMoveSelectorConfig();\n    changeMoveSelectorConfig.setEntitySelectorConfig(entitySelectorConfig);\n    ValueSelectorConfig valueSelectorConfig = new ValueSelectorConfig();\n    valueSelectorConfig.setVariableName(&quot;employee&quot;);\n    changeMoveSelectorConfig.setValueSelectorConfig(valueSelectorConfig);\n\n    ChangeMoveSelectorConfig changeMoveSelectorConfig2 = new ChangeMoveSelectorConfig();\n    changeMoveSelectorConfig2.setEntitySelectorConfig(entitySelectorConfig);\n    ValueSelectorConfig valueSelectorConfig2 = new ValueSelectorConfig();\n    valueSelectorConfig2.setVariableName(&quot;startTime&quot;);\n    changeMoveSelectorConfig2.setValueSelectorConfig(valueSelectorConfig);\n\n    queuedEntityPlacerConfig.setEntitySelectorConfig(entitySelectorConfig);\n    queuedEntityPlacerConfig.setMoveSelectorConfigList(Arrays.asList(changeMoveSelectorConfig, changeMoveSelectorConfig2));\n    phaseConfig.setEntityPlacerConfig(queuedEntityPlacerConfig);\n\n    SolverConfig solverConfig = new SolverConfig().withPhaseList(List.of(phaseConfig));\n\n...\n</code></pre>\n<p>And third approach:</p>\n<pre><code>...\n\n    ConstructionHeuristicPhaseConfig phaseConfig = new ConstructionHeuristicPhaseConfig();\n    QueuedEntityPlacerConfig queuedEntityPlacerConfig = new QueuedEntityPlacerConfig();\n    EntitySelectorConfig entitySelectorConfig = new EntitySelectorConfig();\n    entitySelectorConfig.setCacheType(SelectionCacheType.PHASE);\n    entitySelectorConfig.setEntityClass(Task.class);\n\n    ChangeMoveSelectorConfig changeMoveSelectorConfig = new ChangeMoveSelectorConfig();\n    changeMoveSelectorConfig.setEntitySelectorConfig(entitySelectorConfig);\n    ValueSelectorConfig valueSelectorConfig = new ValueSelectorConfig();\n    valueSelectorConfig.setVariableName(&quot;employee&quot;);\n    changeMoveSelectorConfig.setValueSelectorConfig(valueSelectorConfig);\n\n    queuedEntityPlacerConfig.setEntitySelectorConfig(entitySelectorConfig);\n    queuedEntityPlacerConfig.setMoveSelectorConfigList(List.of(changeMoveSelectorConfig));\n    phaseConfig.setEntityPlacerConfig(queuedEntityPlacerConfig);\n\n    ConstructionHeuristicPhaseConfig phaseConfig2 = new ConstructionHeuristicPhaseConfig();\n    QueuedEntityPlacerConfig queuedEntityPlacerConfig2 = new QueuedEntityPlacerConfig();\n\n    ChangeMoveSelectorConfig changeMoveSelectorConfig2 = new ChangeMoveSelectorConfig();\n    changeMoveSelectorConfig2.setEntitySelectorConfig(entitySelectorConfig);\n    ValueSelectorConfig valueSelectorConfig2 = new ValueSelectorConfig();\n    valueSelectorConfig2.setVariableName(&quot;startTime&quot;);\n    changeMoveSelectorConfig2.setValueSelectorConfig(valueSelectorConfig);\n\n    queuedEntityPlacerConfig2.setEntitySelectorConfig(entitySelectorConfig);\n    queuedEntityPlacerConfig2.setMoveSelectorConfigList(List.of(changeMoveSelectorConfig2));\n    phaseConfig2.setEntityPlacerConfig(queuedEntityPlacerConfig2);\n\n    SolverConfig solverConfig = new SolverConfig().withPhaseList(Arrays.asList(phaseConfig, phaseConfig2));\n\n...\n</code></pre>\n<p>Log for second ant third approach are identical and it will be available in github repo <a href=\"https://github.com/jova5/opta-planner-job-schdule\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>As you can see, in second and third approach constraint provider phase does not even iterate through my tasks.</p>\n<p>And this is ConstraintProvider:</p>\n<pre><code>public class JobScheduleConstraintProvider implements ConstraintProvider {\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n        return new Constraint[]{\n                noMoreTaskThanWorkingMinutes(constraintFactory),\n                everyTaskShouldBeAssigned(constraintFactory),\n                everyTaskShouldBeAssignedToEmployeeWithAdequateSkill(constraintFactory),\n                tasksDontOverlap(constraintFactory),\n                everyTaskShouldBeInitialized(constraintFactory),\n                everyTaskShouldBeInitializedWithTime(constraintFactory),\n        };\n    }\n\n    public Constraint noMoreTaskThanWorkingMinutes(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Employee.class)\n                                .filter(employee -&gt; employee.getSumMinutesOfAssignedTasks() &gt;\n                                                    employee.getWorkingMinutes())\n                                .penalize(HardMediumSoftScore.ONE_HARD)\n                                .asConstraint(&quot;noMoreTaskThanWorkingMinutes&quot;);\n    }\n\n    public Constraint everyTaskShouldBeAssigned(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Task.class)\n                                .filter(task -&gt; task.getEmployee() != null)\n                                .reward(HardMediumSoftScore.ONE_MEDIUM)\n                                .asConstraint(&quot;everyTaskShouldBeAssigned&quot;);\n    }\n\n    public Constraint everyTaskShouldBeAssignedToEmployeeWithAdequateSkill(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Task.class)\n                                .filter(task -&gt; {\n                                    if (task.getEmployee() == null) {\n                                        return false;\n                                    }\n                                    return !task.getEmployee().getSkills().contains(task.getSkillRequired());\n                                })\n                                .penalize(HardMediumSoftScore.ONE_HARD)\n                                .asConstraint(&quot;everyTaskShouldBeAssignedToEmployeeWithAdequateSkill&quot;);\n    }\n\n    public Constraint everyTaskShouldBeInitialized(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Task.class)\n                                .filter(task -&gt; task.getEmployee() == null)\n                                .penalize(HardMediumSoftScore.ONE_MEDIUM)\n                                .asConstraint(&quot;everyTaskShouldBeInitialized&quot;);\n    }\n\n    public Constraint everyTaskShouldBeInitializedWithTime(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Task.class)\n                                .filter(task -&gt; task.getStartTime() == null)\n                                .penalize(HardMediumSoftScore.ONE_MEDIUM)\n                                .asConstraint(&quot;everyTaskShouldBeInitializedWithTime&quot;);\n    }\n\n    public Constraint tasksDontOverlap(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Employee.class)\n                                .filter(Employee::checkIfTasksOverlap)\n                                .penalize(HardMediumSoftScore.ONE_HARD)\n                                .asConstraint(&quot;tasksDontOverlap&quot;);\n    }\n}\n</code></pre>\n<p>I were expecting that all my tasks would be assigned in construction heuristic phase, but that was not the case. Default approach (Cartesian) does not scale well but it works an it assigns all tasks, so I tried Sequential approach, but as you can see it does not work.</p>\n<p>Thank you all for your time.</p>\n<p>I am sorry for such a long question.</p>\n"},{"tags":["java","android","android-recyclerview","android-espresso","android-testing"],"comments":[{"owner":{"account_id":11953465,"reputation":288,"user_id":8746485,"display_name":"AndroidSmoker74"},"score":0,"creation_date":1539531954,"post_id":52803098,"comment_id":92527106,"body_markdown":"Possible duplicate of [How to fill adapter with mock data in unit test on Android?](https://stackoverflow.com/questions/52801908/how-to-fill-adapter-with-mock-data-in-unit-test-on-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/52801908/how-to-fill-adapter-with-mock-data-in-unit-test-on-android\">How to fill adapter with mock data in unit test on Android?</a>"}],"owner":{"account_id":14182895,"reputation":247,"user_id":10245856,"display_name":"Jungle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1681893140,"creation_date":1539523326,"question_id":52803098,"body_markdown":"In my application I get some data from server and show into `RecyslerView`. &lt;br&gt;\r\nI can get data and fill `adapter` and show into `RecyclerView`, but I want write Test for this with **Mockito Test** and fill `adapter` for show into `RecyclerView`.&lt;br&gt;\r\n\r\n**I use this link for json :** [https://api.learn2crack.com/android/jsonandroid/][1]\r\n\r\nI write below codes but I don&#39;t know how can I write **Test** for this.&lt;br&gt;\r\n\r\n**My Activity class :** \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private RecyclerView list;\r\n        private Context context;\r\n        private ApiServices apiServices;\r\n        private List&lt;Android&gt; model = new ArrayList&lt;&gt;();\r\n        private RecyclerAdapter adapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            context = this;\r\n            apiServices = ApiClient.getClient().create(ApiServices.class);\r\n            list = findViewById(R.id.list);\r\n            list.setLayoutManager(new LinearLayoutManager(context));\r\n            list.setHasFixedSize(true);\r\n            adapter = new RecyclerAdapter(model);\r\n            list.setAdapter(adapter);\r\n    \r\n            Call&lt;AndroidResponse&gt; call = apiServices.getAndroid();\r\n            call.enqueue(new Callback&lt;AndroidResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;AndroidResponse&gt; call, Response&lt;AndroidResponse&gt; response) {\r\n                    if (response.isSuccessful()) {\r\n                        if (response.body() != null) {\r\n                            model.clear();\r\n                            model.addAll(response.body().getAndroid());\r\n                            adapter.notifyDataSetChanged();\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;AndroidResponse&gt; call, Throwable t) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**My Adapter class :**\r\n\r\n    public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\r\n        private List&lt;Android&gt; model;\r\n        public RecyclerAdapter(List&lt;Android&gt; model) {\r\n            this.model = model;\r\n        }\r\n        @NonNull\r\n        @Override\r\n        public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_list, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\r\n            holder.name.setText(model.get(position).getName());\r\n            holder.version.setText(model.get(position).getVer());\r\n            holder.api.setText(model.get(position).getApi());\r\n        }\r\n        @Override\r\n        public int getItemCount() {\r\n            return model.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            private TextView name, version, api;\r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n    \r\n                name = itemView.findViewById(R.id.rowName);\r\n                version = itemView.findViewById(R.id.rowVersion);\r\n                api = itemView.findViewById(R.id.rowApi);\r\n            }\r\n        }\r\n    }\r\n\r\n**My Test class :**\r\n\r\n    @LargeTest\r\n    @RunWith(AndroidJUnit4.class)\r\n    public class MainActivityTest extends InstrumentationTestCase {\r\n    \r\n        @Rule\r\n        public ActivityTestRule&lt;MainActivity&gt; mainActivityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class, true, false);\r\n        private MockWebServer mockWebServer;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            super.setUp();\r\n            mockWebServer = new MockWebServer();\r\n            mockWebServer.start();\r\n            injectInstrumentation(InstrumentationRegistry.getInstrumentation());\r\n            AppConstants.BASE_URL = mockWebServer.url(&quot;/&quot;).toString();\r\n        }\r\n    \r\n        @Test\r\n        public void setupAndroidListAdapterTest() throws Exception {\r\n            String fileName = &quot;android_list_response.json&quot;;\r\n            mockWebServer.enqueue(new MockResponse()\r\n                    .setResponseCode(200)\r\n                    .setBody(fileName));\r\n    \r\n            Intent intent = new Intent();\r\n            mainActivityTestRule.launchActivity(intent);\r\n    \r\n            try {\r\n                Thread.sleep(10000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n            mockWebServer.shutdown();\r\n        }\r\n    }\r\n\r\nI saved above **json** into `asset` folder.&lt;br&gt;\r\n\r\nI write above codes and when run test show me **1 test pass** but not show me any data into `recyclerView` and `adapter`!\r\n\r\nHow can I do it?\r\n\r\n\r\n  [1]: https://api.learn2crack.com/android/jsonandroid/\r\n","title":"How to use Mockito test with recyclerView?","body":"<p>In my application I get some data from server and show into <code>RecyslerView</code>. <br>\nI can get data and fill <code>adapter</code> and show into <code>RecyclerView</code>, but I want write Test for this with <strong>Mockito Test</strong> and fill <code>adapter</code> for show into <code>RecyclerView</code>.<br></p>\n\n<p><strong>I use this link for json :</strong> <a href=\"https://api.learn2crack.com/android/jsonandroid/\" rel=\"nofollow noreferrer\">https://api.learn2crack.com/android/jsonandroid/</a></p>\n\n<p>I write below codes but I don't know how can I write <strong>Test</strong> for this.<br></p>\n\n<p><strong>My Activity class :</strong> </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private RecyclerView list;\n    private Context context;\n    private ApiServices apiServices;\n    private List&lt;Android&gt; model = new ArrayList&lt;&gt;();\n    private RecyclerAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        context = this;\n        apiServices = ApiClient.getClient().create(ApiServices.class);\n        list = findViewById(R.id.list);\n        list.setLayoutManager(new LinearLayoutManager(context));\n        list.setHasFixedSize(true);\n        adapter = new RecyclerAdapter(model);\n        list.setAdapter(adapter);\n\n        Call&lt;AndroidResponse&gt; call = apiServices.getAndroid();\n        call.enqueue(new Callback&lt;AndroidResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;AndroidResponse&gt; call, Response&lt;AndroidResponse&gt; response) {\n                if (response.isSuccessful()) {\n                    if (response.body() != null) {\n                        model.clear();\n                        model.addAll(response.body().getAndroid());\n                        adapter.notifyDataSetChanged();\n                    }\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;AndroidResponse&gt; call, Throwable t) {\n\n            }\n        });\n    }\n}\n</code></pre>\n\n<p><strong>My Adapter class :</strong></p>\n\n<pre><code>public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\n    private List&lt;Android&gt; model;\n    public RecyclerAdapter(List&lt;Android&gt; model) {\n        this.model = model;\n    }\n    @NonNull\n    @Override\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_list, parent, false);\n        return new ViewHolder(view);\n    }\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\n        holder.name.setText(model.get(position).getName());\n        holder.version.setText(model.get(position).getVer());\n        holder.api.setText(model.get(position).getApi());\n    }\n    @Override\n    public int getItemCount() {\n        return model.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView name, version, api;\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            name = itemView.findViewById(R.id.rowName);\n            version = itemView.findViewById(R.id.rowVersion);\n            api = itemView.findViewById(R.id.rowApi);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>My Test class :</strong></p>\n\n<pre><code>@LargeTest\n@RunWith(AndroidJUnit4.class)\npublic class MainActivityTest extends InstrumentationTestCase {\n\n    @Rule\n    public ActivityTestRule&lt;MainActivity&gt; mainActivityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class, true, false);\n    private MockWebServer mockWebServer;\n\n    @Before\n    public void setUp() throws Exception {\n        super.setUp();\n        mockWebServer = new MockWebServer();\n        mockWebServer.start();\n        injectInstrumentation(InstrumentationRegistry.getInstrumentation());\n        AppConstants.BASE_URL = mockWebServer.url(\"/\").toString();\n    }\n\n    @Test\n    public void setupAndroidListAdapterTest() throws Exception {\n        String fileName = \"android_list_response.json\";\n        mockWebServer.enqueue(new MockResponse()\n                .setResponseCode(200)\n                .setBody(fileName));\n\n        Intent intent = new Intent();\n        mainActivityTestRule.launchActivity(intent);\n\n        try {\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        mockWebServer.shutdown();\n    }\n}\n</code></pre>\n\n<p>I saved above <strong>json</strong> into <code>asset</code> folder.<br></p>\n\n<p>I write above codes and when run test show me <strong>1 test pass</strong> but not show me any data into <code>recyclerView</code> and <code>adapter</code>!</p>\n\n<p>How can I do it?</p>\n"},{"tags":["java","inputstream","selector","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681855387,"creation_date":1681855387,"answer_id":76049364,"question_id":76046837,"body_markdown":"You will need multithreading in order to achieve that. You may use `CompletableFuture` as one of the means of doing it.\r\n\r\n    CompletableFuture&lt;String&gt; future1 = CompletableFuture.supplyAsync(() -&gt; {\r\n        // blocking read from p1\r\n        return &quot;Result from future 1&quot;;\r\n    });\r\n    \r\n    CompletableFuture&lt;String&gt; future2 = CompletableFuture.supplyAsync(() -&gt; {\r\n        // blocking read from p2\r\n        return &quot;Result from future 2&quot;;\r\n    });\r\n    \r\n    CompletableFuture&lt;Object&gt; resultFuture = CompletableFuture.anyOf(future1, future2);\r\n\r\n","title":"Read from multiple inputstream with one blocking call","body":"<p>You will need multithreading in order to achieve that. You may use <code>CompletableFuture</code> as one of the means of doing it.</p>\n<pre><code>CompletableFuture&lt;String&gt; future1 = CompletableFuture.supplyAsync(() -&gt; {\n    // blocking read from p1\n    return &quot;Result from future 1&quot;;\n});\n\nCompletableFuture&lt;String&gt; future2 = CompletableFuture.supplyAsync(() -&gt; {\n    // blocking read from p2\n    return &quot;Result from future 2&quot;;\n});\n\nCompletableFuture&lt;Object&gt; resultFuture = CompletableFuture.anyOf(future1, future2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16001900,"reputation":328,"user_id":11548316,"display_name":"Preston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681874575,"creation_date":1681874575,"answer_id":76050535,"question_id":76046837,"body_markdown":"You can create a publisher class by two `BufferedReader`, which will publish a `String` when ready.\r\n\r\nThen register with the publisher to get the next `String`.\r\n\r\nHere is the sample code without testing.\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        //... Generating p and p2.\r\n        \r\n        InputStreams iss = new InputStreams(p, p2);\r\n        iss.addNextStringListener(s -&gt; {\r\n            System.out.println(&quot;[+]&quot; + s);\r\n        });\r\n        iss.start();\r\n    }\r\n\r\n    static class InputStreams{\r\n        BufferedReader p;\r\n        BufferedReader p2;\r\n\r\n        public InputStreams(BufferedReader p, BufferedReader p2) {\r\n            this.p = p;\r\n            this.p2 = p2;\r\n        }\r\n\r\n        List&lt;Consumer&lt;String&gt;&gt; listeners = new ArrayList&lt;&gt;();\r\n\r\n        void start(){\r\n            start(p);\r\n            start(p2);\r\n        }\r\n\r\n        void start(BufferedReader br){\r\n            new Thread(() -&gt; {\r\n                while(true){\r\n                    try {\r\n                        if (!br.ready()) break;\r\n                        notifyNextString(br.readLine());\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n\r\n        void addNextStringListener(Consumer&lt;String&gt; listener){\r\n            listeners.add(listener);\r\n        }\r\n\r\n        void notifyNextString(String nextString){\r\n            listeners.forEach(l -&gt; l.accept(nextString));\r\n        }\r\n    }\r\n```","title":"Read from multiple inputstream with one blocking call","body":"<p>You can create a publisher class by two <code>BufferedReader</code>, which will publish a <code>String</code> when ready.</p>\n<p>Then register with the publisher to get the next <code>String</code>.</p>\n<p>Here is the sample code without testing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        //... Generating p and p2.\n        \n        InputStreams iss = new InputStreams(p, p2);\n        iss.addNextStringListener(s -&gt; {\n            System.out.println(&quot;[+]&quot; + s);\n        });\n        iss.start();\n    }\n\n    static class InputStreams{\n        BufferedReader p;\n        BufferedReader p2;\n\n        public InputStreams(BufferedReader p, BufferedReader p2) {\n            this.p = p;\n            this.p2 = p2;\n        }\n\n        List&lt;Consumer&lt;String&gt;&gt; listeners = new ArrayList&lt;&gt;();\n\n        void start(){\n            start(p);\n            start(p2);\n        }\n\n        void start(BufferedReader br){\n            new Thread(() -&gt; {\n                while(true){\n                    try {\n                        if (!br.ready()) break;\n                        notifyNextString(br.readLine());\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }).start();\n        }\n\n        void addNextStringListener(Consumer&lt;String&gt; listener){\n            listeners.add(listener);\n        }\n\n        void notifyNextString(String nextString){\n            listeners.forEach(l -&gt; l.accept(nextString));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":18351588,"reputation":31,"user_id":13365634,"display_name":"SempriGno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681893106,"creation_date":1681834355,"question_id":76046837,"body_markdown":"I have multiple `InputStream`, and I want to read without polling. My actual code:\r\n    \r\n    BufferedReader p = new BufferedReader(new InputStreamReader(k.getInputStream())); \r\n    BufferedReader p2 = new BufferedReader(new InputStreamReader(k2.getInputStream()));\r\n \r\n    String s = null;\r\n\r\n    while(true){\r\n\r\n        if (p.ready()) {\r\n\t\t    s = p.readLine();\r\n\t\t    System.out.println(&quot;[+] &quot;+s);\r\n\t\t}\r\n\r\n\t    if (p2.ready()) {\r\n\t\t    s = p2.readLine();\r\n\t\t    System.out.println(&quot;[+] &quot;+s);\r\n\t\t}\r\n\r\n\t    sleep(1000);\r\n    }\r\n\r\nIs there a way to read from them with one blocking call as:\r\n\r\n    select(p,p2); //blocking call returning the first inputstream has data to read\r\n\r\n`SequenceInputStream` blocks sequentially on a chain of `InputStream` so it doesn&#39;t resolve my problem.\r\n ","title":"Read from multiple inputstream with one blocking call","body":"<p>I have multiple <code>InputStream</code>, and I want to read without polling. My actual code:</p>\n<pre><code>BufferedReader p = new BufferedReader(new InputStreamReader(k.getInputStream())); \nBufferedReader p2 = new BufferedReader(new InputStreamReader(k2.getInputStream()));\n\nString s = null;\n\nwhile(true){\n\n    if (p.ready()) {\n        s = p.readLine();\n        System.out.println(&quot;[+] &quot;+s);\n    }\n\n    if (p2.ready()) {\n        s = p2.readLine();\n        System.out.println(&quot;[+] &quot;+s);\n    }\n\n    sleep(1000);\n}\n</code></pre>\n<p>Is there a way to read from them with one blocking call as:</p>\n<pre><code>select(p,p2); //blocking call returning the first inputstream has data to read\n</code></pre>\n<p><code>SequenceInputStream</code> blocks sequentially on a chain of <code>InputStream</code> so it doesn't resolve my problem.</p>\n"},{"tags":["java","spring","properties","mapstruct","mapper"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681893095,"creation_date":1636723589,"answer_id":69943624,"question_id":69942709,"body_markdown":"\r\n\r\nAs far as my knowledge goes, this is **not** possible. Mapstruct analyses the `@Mapping` annotation in compile time. And the annotation parameters require constants. So getting them from a file would not be possible.\r\n\r\nYou can always implement something in `MapStruct` that fulfills your needs. But I would go with a simple self-implemented mapper where you take the value from your `version` field in runtime from the environment.\r\n\r\nEDIT:\r\n\r\nThis is possible. See [this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75732083/7954021","title":"Mapstruct value from application.properties","body":"<p>As far as my knowledge goes, this is <strong>not</strong> possible. Mapstruct analyses the <code>@Mapping</code> annotation in compile time. And the annotation parameters require constants. So getting them from a file would not be possible.</p>\n<p>You can always implement something in <code>MapStruct</code> that fulfills your needs. But I would go with a simple self-implemented mapper where you take the value from your <code>version</code> field in runtime from the environment.</p>\n<p>EDIT:</p>\n<p>This is possible. See <a href=\"https://stackoverflow.com/a/75732083/7954021\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641259277,"creation_date":1636725169,"answer_id":69943993,"question_id":69942709,"body_markdown":"Consider a &quot;util service&quot; like:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n    @Service\r\n    public class PropertyService {\r\n\r\n      @org.springframework.beans.factory.annotation.Value(&quot;${application.version}&quot;)\r\n      private String appVersion;\r\n\r\n      // accessors, more properties/stuff..\r\n    }\r\n\r\nThen you can define your Mapping like:\r\n\r\n    @Mapper(// ..., ...\r\n       componentModel = &quot;spring&quot;)\r\n    public abstract class StateMapper {\r\n\r\n      @Autowired\r\n      protected PropertyService myService;\r\n\r\n      @org.mapstruct.Mapping(target=&quot;version&quot;, expression=&quot;java(myService.getAppVersion())&quot;)\r\n      public abstract StateDto stateToStateDto(State state);\r\n      // ...\r\n    }\r\n\r\nSee also: \r\n- https://stackoverflow.com/q/38807415/592355\r\n- [Mapstruct Expressions](https://mapstruct.org/documentation/stable/reference/html/#expressions)\r\n\r\n\r\n----------\r\n [My minimal solution @github](https://github.com/xerx593/soq69942709)","title":"Mapstruct value from application.properties","body":"<p>Consider a &quot;util service&quot; like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class PropertyService {\n\n  @org.springframework.beans.factory.annotation.Value(&quot;${application.version}&quot;)\n  private String appVersion;\n\n  // accessors, more properties/stuff..\n}\n</code></pre>\n<p>Then you can define your Mapping like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(// ..., ...\n   componentModel = &quot;spring&quot;)\npublic abstract class StateMapper {\n\n  @Autowired\n  protected PropertyService myService;\n\n  @org.mapstruct.Mapping(target=&quot;version&quot;, expression=&quot;java(myService.getAppVersion())&quot;)\n  public abstract StateDto stateToStateDto(State state);\n  // ...\n}\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/38807415/592355\">Mapstruct - How can I inject a spring dependency in the Generated Mapper class</a></li>\n<li><a href=\"https://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"nofollow noreferrer\">Mapstruct Expressions</a></li>\n</ul>\n<hr />\n<p><a href=\"https://github.com/xerx593/soq69942709\" rel=\"nofollow noreferrer\">My minimal solution @github</a></p>\n"},{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637395945,"creation_date":1637395945,"answer_id":70044256,"question_id":69942709,"body_markdown":"This is not possible through MapStruct. However, a feature could be raised that would support some custom expression language that would use Spring `@Value` and inject that.\r\n\r\ne.g.\r\n\r\n```\r\n@Mapping(target=&quot;version&quot;, expression=&quot;springValue(${application.version})&quot;)\r\nStateDto stateToStateDto(State state);\r\n```\r\n\r\nand then MapStruct will generate something like:\r\n\r\n```\r\n@Component\r\npublic class StateMapperImpl {\r\n\r\n    @Value(&quot;${application.version}&quot;)\r\n    private String version;\r\n\r\n\r\n    // ...\r\n}\r\n```","title":"Mapstruct value from application.properties","body":"<p>This is not possible through MapStruct. However, a feature could be raised that would support some custom expression language that would use Spring <code>@Value</code> and inject that.</p>\n<p>e.g.</p>\n<pre><code>@Mapping(target=&quot;version&quot;, expression=&quot;springValue(${application.version})&quot;)\nStateDto stateToStateDto(State state);\n</code></pre>\n<p>and then MapStruct will generate something like:</p>\n<pre><code>@Component\npublic class StateMapperImpl {\n\n    @Value(&quot;${application.version}&quot;)\n    private String version;\n\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678790456,"creation_date":1678790456,"answer_id":75732083,"question_id":69942709,"body_markdown":"The solution is very simple. You just use `abstract class` instead of `interface`, then you can use directly the `@Value` annotation.\r\n\r\n``` java-lang\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic abstract class StateMapper {\r\n    @Value(&quot;${application.version}&quot;)\r\n    protected String applicationVersion;\r\n\r\n    @Mapping(target = &quot;version&quot;, expression = &quot;java(this.applicationVersion)&quot;)\r\n    public abstract StateDto map(State state);\r\n}\r\n```","title":"Mapstruct value from application.properties","body":"<p>The solution is very simple. You just use <code>abstract class</code> instead of <code>interface</code>, then you can use directly the <code>@Value</code> annotation.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class StateMapper {\n    @Value(&quot;${application.version}&quot;)\n    protected String applicationVersion;\n\n    @Mapping(target = &quot;version&quot;, expression = &quot;java(this.applicationVersion)&quot;)\n    public abstract StateDto map(State state);\n}\n</code></pre>\n"}],"owner":{"account_id":17044003,"reputation":116,"user_id":12331255,"display_name":"Scala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3968,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1681893095,"creation_date":1636718897,"question_id":69942709,"body_markdown":"Is it possible to set a value from a field from the *application.properties* file?\r\n\r\nI am looking for something like\r\n\r\n```\r\n\t@Mapping(target=&quot;version&quot;, expression=&quot;${application.version}&quot;)\r\n\tStateDto stateToStateDto(State state);\r\n```\r\n\r\nwhere `application.version=v1` is from the *application.properties* file.","title":"Mapstruct value from application.properties","body":"<p>Is it possible to set a value from a field from the <em>application.properties</em> file?</p>\n<p>I am looking for something like</p>\n<pre><code>    @Mapping(target=&quot;version&quot;, expression=&quot;${application.version}&quot;)\n    StateDto stateToStateDto(State state);\n</code></pre>\n<p>where <code>application.version=v1</code> is from the <em>application.properties</em> file.</p>\n"},{"tags":["python","java","c#","html","xcode"],"owner":{"account_id":18829847,"reputation":1,"user_id":13733902,"display_name":"asadsalman2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681892879,"creation_date":1681892879,"question_id":76052290,"body_markdown":"I am clicking on a webpage and then clickin on inspect or source page and need to locate this command &quot;reader_container_right&quot;. I am using different browsers such as chrome, firefox and microsoft edge. However, it is missing under &quot;elements&quot; section in Web Dev Tools.\r\n\r\nI need this command to copy some text in the fastest possible.\r\n\r\nThanks\r\n\r\nI tried different browsers such as firefox, microsoft edge and chrome. But somehow I can not locate &quot;reader_container_right command&quot; under elementnts tab in devlopment tools in order to copy text from the website page.\r\n\r\nI need this command to copy paste on htmltools.com/editor to copy text in the fastest possible.\r\n\r\nHowever, I can not locate this command under these browsers","title":"reader_container_right command is missing under elements section in Dev Tools? Is there a way to locate this? cant locate this under chrome Firefox","body":"<p>I am clicking on a webpage and then clickin on inspect or source page and need to locate this command &quot;reader_container_right&quot;. I am using different browsers such as chrome, firefox and microsoft edge. However, it is missing under &quot;elements&quot; section in Web Dev Tools.</p>\n<p>I need this command to copy some text in the fastest possible.</p>\n<p>Thanks</p>\n<p>I tried different browsers such as firefox, microsoft edge and chrome. But somehow I can not locate &quot;reader_container_right command&quot; under elementnts tab in devlopment tools in order to copy text from the website page.</p>\n<p>I need this command to copy paste on htmltools.com/editor to copy text in the fastest possible.</p>\n<p>However, I can not locate this command under these browsers</p>\n"},{"tags":["python","java","pyspark","file-io"],"owner":{"account_id":3778833,"reputation":63,"user_id":3138864,"display_name":"user3138864"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681892816,"creation_date":1681765214,"question_id":76039261,"body_markdown":"How can I read the hetionet-v1.0-edges.sif.gz file using pyspark?\r\n\r\n    url = &quot;https://github.com/hetio/hetionet/raw/master/hetnet/tsv/hetionet-v1.0-edges.sif.gz&quot;\r\n    response = requests.get(url)\r\n    content = io.BytesIO(response.content)\r\n    \r\n    \r\n    edges_df = spark.read.format(&quot;csv&quot;) \\\r\n        .option(&quot;delimiter&quot;, &quot;\\t&quot;) \\\r\n        .option(&quot;inferSchema&quot;, &quot;true&quot;) \\\r\n        .option(&quot;header&quot;, &quot;true&quot;) \\\r\n        .load(gzip.GzipFile(fileobj=content)) \\\r\n    \r\nError:\r\n\r\n&gt; java.lang.ClassCastException: java.util.ArrayList cannot be cast to java.lang.String in pyspark\r\n\r\nPlease suggest the format to be used","title":"How to read the .sif files using pyspark","body":"<p>How can I read the hetionet-v1.0-edges.sif.gz file using pyspark?</p>\n<pre><code>url = &quot;https://github.com/hetio/hetionet/raw/master/hetnet/tsv/hetionet-v1.0-edges.sif.gz&quot;\nresponse = requests.get(url)\ncontent = io.BytesIO(response.content)\n\n\nedges_df = spark.read.format(&quot;csv&quot;) \\\n    .option(&quot;delimiter&quot;, &quot;\\t&quot;) \\\n    .option(&quot;inferSchema&quot;, &quot;true&quot;) \\\n    .option(&quot;header&quot;, &quot;true&quot;) \\\n    .load(gzip.GzipFile(fileobj=content)) \\\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: java.util.ArrayList cannot be cast to java.lang.String in pyspark</p>\n</blockquote>\n<p>Please suggest the format to be used</p>\n"},{"tags":["java","spring","maven","spring-boot","flyway"],"comments":[{"owner":{"account_id":2390480,"reputation":385,"user_id":2090418,"accept_rate":60,"display_name":"Thomas Duchatelle"},"score":0,"creation_date":1464971010,"post_id":37462550,"comment_id":62721001,"body_markdown":"I would say run manually `flyway repair` as changing previous sql files should be very exceptional. But it looks that checksums doesn&#39;t match between sql files in classpath and local...","body":"I would say run manually <code>flyway repair</code> as changing previous sql files should be very exceptional. But it looks that checksums doesn&#39;t match between sql files in classpath and local..."},{"owner":{"account_id":914356,"reputation":1301,"user_id":947497,"display_name":"Jean-Fran&#231;ois Beauchef"},"score":0,"creation_date":1465049740,"post_id":37462550,"comment_id":62744186,"body_markdown":"But, like I said, when using Spring Boot, you are not expected to use the Flyway plug-in.","body":"But, like I said, when using Spring Boot, you are not expected to use the Flyway plug-in."},{"owner":{"account_id":2390480,"reputation":385,"user_id":2090418,"accept_rate":60,"display_name":"Thomas Duchatelle"},"score":0,"creation_date":1465309094,"post_id":37462550,"comment_id":62840779,"body_markdown":"No, but by using flyway, you&#39;re not expected to change existing sql files! Especially if they have been already executed on prod db.\nYou should only add new SQL files with your changes everytime.\nI can understand why spring-boot doesn&#39;t support this: it should stay a manual operation and should certainly not be per default... (ignoring any change make on SQL already ran)","body":"No, but by using flyway, you&#39;re not expected to change existing sql files! Especially if they have been already executed on prod db. You should only add new SQL files with your changes everytime. I can understand why spring-boot doesn&#39;t support this: it should stay a manual operation and should certainly not be per default... (ignoring any change make on SQL already ran)"},{"owner":{"account_id":914356,"reputation":1301,"user_id":947497,"display_name":"Jean-Fran&#231;ois Beauchef"},"score":1,"creation_date":1465321210,"post_id":37462550,"comment_id":62848944,"body_markdown":"Ok, but how do you test your SQL script then? Manually? Or with the Flyway plug-in?","body":"Ok, but how do you test your SQL script then? Manually? Or with the Flyway plug-in?"},{"owner":{"account_id":2390480,"reputation":385,"user_id":2090418,"accept_rate":60,"display_name":"Thomas Duchatelle"},"score":0,"creation_date":1465383647,"post_id":37462550,"comment_id":62875381,"body_markdown":"Both. I basically have a &quot;test database&quot; on my dev environment which I can flush at anytime: `mvn flyway:clean flyway:migrate`.\nYou can also use flyway command line.","body":"Both. I basically have a &quot;test database&quot; on my dev environment which I can flush at anytime: <code>mvn flyway:clean flyway:migrate</code>. You can also use flyway command line."},{"owner":{"account_id":914356,"reputation":1301,"user_id":947497,"display_name":"Jean-Fran&#231;ois Beauchef"},"score":0,"creation_date":1465483050,"post_id":37462550,"comment_id":62929296,"body_markdown":"Ok, I thought there would be a way to avoid using the Flyway plug-in. BTW, I was talking about running the script on my dev database. I never ran my script in prod. So, a mistake at this point can occur. I was looking for a way to repair my dev database. But thanks for your input.","body":"Ok, I thought there would be a way to avoid using the Flyway plug-in. BTW, I was talking about running the script on my dev database. I never ran my script in prod. So, a mistake at this point can occur. I was looking for a way to repair my dev database. But thanks for your input."},{"owner":{"account_id":188246,"reputation":10916,"user_id":426877,"accept_rate":77,"display_name":"Magnus"},"score":0,"creation_date":1552359907,"post_id":37462550,"comment_id":96969300,"body_markdown":"There&#39;s something ironic about flyway, whose sole job is to assist in version migrations, having its own version migration issues.","body":"There&#39;s something ironic about flyway, whose sole job is to assist in version migrations, having its own version migration issues."}],"answers":[{"tags":[],"owner":{"account_id":1082613,"reputation":4508,"user_id":1079174,"display_name":"Daniel K&#228;fer"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1469481682,"creation_date":1469481682,"answer_id":38577633,"question_id":37462550,"body_markdown":"there are several ways to perform a repair on the database. I personally prefer the simple SQL statement.\n\n# SQL Statement: #\nJust delete the row with the failed migration. After that you can run the migration again.\n\n# Run flyway directly #\nYou can install Flyway local and run `flyway repair` in the console\n\n# Use the Flyway Maven Plugin #\nAdd the [Flyway Maven Plugin](https://flywaydb.org/documentation/maven/) to your pom and run `mvn flyway:repair`. I don&#39;t think this contradict with the Spring Boot concept.\n\n# Extend Spring Boot #\n\n&gt;Spring Boot will call `Flyway.migrate()` to perform the database migration. If you would like more control, provide a `@Bean` that implements `FlywayMigrationStrategy`.\n\nIn the `FlywayMigrationStrategy` you can call the migrate or repair method from flyway. More Information is available in the [Spring Boot Reference Guide](http://docs.spring.io/spring-boot/docs/1.4.0.RC1/reference/htmlsingle/#howto-execute-flyway-database-migrations-on-startup).\n\nI don&#39;t think the `FlywayMigrationStrategy` in the application is the right place to repair the database. A failed migration is a exception and should be handle outside the application.\n","title":"Flyway repair with Spring Boot","body":"<p>there are several ways to perform a repair on the database. I personally prefer the simple SQL statement.</p>\n<h1>SQL Statement:</h1>\n<p>Just delete the row with the failed migration. After that you can run the migration again.</p>\n<h1>Run flyway directly</h1>\n<p>You can install Flyway local and run <code>flyway repair</code> in the console</p>\n<h1>Use the Flyway Maven Plugin</h1>\n<p>Add the <a href=\"https://flywaydb.org/documentation/maven/\" rel=\"noreferrer\">Flyway Maven Plugin</a> to your pom and run <code>mvn flyway:repair</code>. I don't think this contradict with the Spring Boot concept.</p>\n<h1>Extend Spring Boot</h1>\n<blockquote>\n<p>Spring Boot will call <code>Flyway.migrate()</code> to perform the database migration. If you would like more control, provide a <code>@Bean</code> that implements <code>FlywayMigrationStrategy</code>.</p>\n</blockquote>\n<p>In the <code>FlywayMigrationStrategy</code> you can call the migrate or repair method from flyway. More Information is available in the <a href=\"http://docs.spring.io/spring-boot/docs/1.4.0.RC1/reference/htmlsingle/#howto-execute-flyway-database-migrations-on-startup\" rel=\"noreferrer\">Spring Boot Reference Guide</a>.</p>\n<p>I don't think the <code>FlywayMigrationStrategy</code> in the application is the right place to repair the database. A failed migration is a exception and should be handle outside the application.</p>\n"},{"tags":[],"owner":{"account_id":1547548,"reputation":1368,"user_id":1946743,"display_name":"Felipe Pereira"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1486784411,"creation_date":1486783850,"answer_id":42171871,"question_id":37462550,"body_markdown":"#Flyway Maven Plugin#\r\n\r\nJust to add this info to @Daniel&#39;s answer\r\n\r\n1.\r\n\r\n          ...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;url&gt;jdbc:mysql://localhost:3306&lt;/url&gt;\r\n                    &lt;user&gt;root&lt;/user&gt;\r\n                    &lt;password&gt;root&lt;/password&gt;\r\n                    &lt;schemas&gt;\r\n                        &lt;schema&gt;[your_schema]&lt;/schema&gt;\r\n                    &lt;/schemas&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          ...\r\n2.\r\n&gt; mvn flyway:clean\r\n\r\n\r\n3.\r\n\r\n&gt; mvn flyway:repair\r\n\r\n\r\nPS.: if the step 2 and 3 don&#39;t work change the order.\r\n\r\nMore info on maven goals: https://flywaydb.org/documentation/maven/\r\n","title":"Flyway repair with Spring Boot","body":"<h1>Flyway Maven Plugin</h1>\n\n<p>Just to add this info to @Daniel's answer</p>\n\n<p>1.</p>\n\n<pre><code>      ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;url&gt;jdbc:mysql://localhost:3306&lt;/url&gt;\n                &lt;user&gt;root&lt;/user&gt;\n                &lt;password&gt;root&lt;/password&gt;\n                &lt;schemas&gt;\n                    &lt;schema&gt;[your_schema]&lt;/schema&gt;\n                &lt;/schemas&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      ...\n</code></pre>\n\n<p>2.</p>\n\n<blockquote>\n  <p>mvn flyway:clean</p>\n</blockquote>\n\n<p>3.</p>\n\n<blockquote>\n  <p>mvn flyway:repair</p>\n</blockquote>\n\n<p>PS.: if the step 2 and 3 don't work change the order.</p>\n\n<p>More info on maven goals: <a href=\"https://flywaydb.org/documentation/maven/\" rel=\"noreferrer\">https://flywaydb.org/documentation/maven/</a></p>\n"},{"tags":[],"owner":{"account_id":5937888,"reputation":1424,"user_id":4763182,"display_name":"BishalG"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557158919,"creation_date":1557158919,"answer_id":56008816,"question_id":37462550,"body_markdown":"When database migration fails, the migration is marked as failed in the schema history table `(i.e flyway_schema_history)` indicating manual database cleanup may be required. But if database supports DDL transactions, the migration is rolled back automatically and nothing is recorded in the schema history table. `PostgreSQL`, `Amazon Redshift`, `MS SQL` are few of the databases which support DDL transactions whereas `Oracle Database`, `MySQL`, `MariaDB`, `Amazon Aurora` does not support DDL transactions.\r\n\r\nIn case of failed migration entries, there are several options to repair it (only applicable for databases that do NOT support DDL transactions) as described by @daniel-k&#228;fer. I want to add another (may be easier way) to deal with failed migrations.\r\n\r\nThere are several [callbacks][1] supported by flyway, `afterMigrateError` is one of them. If we add a sql file with name `afterMigrateError.sql` then, it will be executed after each failed migrate runs. Therefore, we can simply create a file `afterMigrateError.sql` on default location of database migration folder (`resources/db/migration`) with sql command to remove failed migrations from `flyway_schema_history` table. &lt;br&gt;\r\n\r\nThe sql command `afterMigrateError.sql` can be as mentioned below:&lt;br&gt;\r\n\r\n    DELETE IGNORE FROM flyway_schema_history WHERE success=0;\r\n\r\n\r\nThis command looks for the table `flyway_schema_history` if it exists otherwise it will do no changes. Then it simply looks for the rows which has `success` column with `0` entry (actually this happen if migration fails , all successful migration will have value `1` in success column), then delete such entries. Now, we can simply change our latest migration file and correct it and run again.\r\n\r\n  [1]: https://flywaydb.org/documentation/callbacks.html","title":"Flyway repair with Spring Boot","body":"<p>When database migration fails, the migration is marked as failed in the schema history table <code>(i.e flyway_schema_history)</code> indicating manual database cleanup may be required. But if database supports DDL transactions, the migration is rolled back automatically and nothing is recorded in the schema history table. <code>PostgreSQL</code>, <code>Amazon Redshift</code>, <code>MS SQL</code> are few of the databases which support DDL transactions whereas <code>Oracle Database</code>, <code>MySQL</code>, <code>MariaDB</code>, <code>Amazon Aurora</code> does not support DDL transactions.</p>\n\n<p>In case of failed migration entries, there are several options to repair it (only applicable for databases that do NOT support DDL transactions) as described by @daniel-käfer. I want to add another (may be easier way) to deal with failed migrations.</p>\n\n<p>There are several <a href=\"https://flywaydb.org/documentation/callbacks.html\" rel=\"noreferrer\">callbacks</a> supported by flyway, <code>afterMigrateError</code> is one of them. If we add a sql file with name <code>afterMigrateError.sql</code> then, it will be executed after each failed migrate runs. Therefore, we can simply create a file <code>afterMigrateError.sql</code> on default location of database migration folder (<code>resources/db/migration</code>) with sql command to remove failed migrations from <code>flyway_schema_history</code> table. <br></p>\n\n<p>The sql command <code>afterMigrateError.sql</code> can be as mentioned below:<br></p>\n\n<pre><code>DELETE IGNORE FROM flyway_schema_history WHERE success=0;\n</code></pre>\n\n<p>This command looks for the table <code>flyway_schema_history</code> if it exists otherwise it will do no changes. Then it simply looks for the rows which has <code>success</code> column with <code>0</code> entry (actually this happen if migration fails , all successful migration will have value <code>1</code> in success column), then delete such entries. Now, we can simply change our latest migration file and correct it and run again.</p>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561987782,"creation_date":1561987782,"answer_id":56836584,"question_id":37462550,"body_markdown":"Install flyway locally as said [above][1], change directory into the installation then run (example for H2):\r\n\r\n    ./flyway -url=jdbc:h2:/Users/mugo/dev/h2/das-boot -user=sa -password= repair\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38577633/315385","title":"Flyway repair with Spring Boot","body":"<p>Install flyway locally as said <a href=\"https://stackoverflow.com/a/38577633/315385\">above</a>, change directory into the installation then run (example for H2):</p>\n\n<pre><code>./flyway -url=jdbc:h2:/Users/mugo/dev/h2/das-boot -user=sa -password= repair\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2749838,"reputation":2310,"user_id":2369476,"accept_rate":44,"display_name":"Javadroider"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1582708820,"creation_date":1582708820,"answer_id":60410477,"question_id":37462550,"body_markdown":"You can do it through code by declaring the following bean.\r\n\r\n    @Bean\r\n    public FlywayMigrationStrategy cleanMigrateStrategy() {\r\n        return flyway -&gt; {\r\n            flyway.repair();\r\n            flyway.migrate();\r\n        };\r\n    }\r\n","title":"Flyway repair with Spring Boot","body":"<p>You can do it through code by declaring the following bean.</p>\n\n<pre><code>@Bean\npublic FlywayMigrationStrategy cleanMigrateStrategy() {\n    return flyway -&gt; {\n        flyway.repair();\n        flyway.migrate();\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9269057,"reputation":1,"user_id":6883658,"display_name":"Alexandre Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681892350,"creation_date":1681506433,"answer_id":76018947,"question_id":37462550,"body_markdown":"I followed this procedure:\r\n```\r\ndelete from flyway_schema_history where installed_rank = 2\r\n```\r\nWorked fine, very fast and easy to apply, solved the problem, the migration was executed successfully!","title":"Flyway repair with Spring Boot","body":"<p>I followed this procedure:</p>\n<pre><code>delete from flyway_schema_history where installed_rank = 2\n</code></pre>\n<p>Worked fine, very fast and easy to apply, solved the problem, the migration was executed successfully!</p>\n"}],"owner":{"account_id":914356,"reputation":1301,"user_id":947497,"display_name":"Jean-Fran&#231;ois Beauchef"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40725,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":38577633,"answer_count":6,"score":46,"last_activity_date":1681892350,"creation_date":1464269968,"question_id":37462550,"body_markdown":"I don&#39;t quite understand what I am supposed to do when a migration fails using Flyway in a Spring Boot project.\r\n\r\nI activated Flyway by simply adding the Flyway dependency in my `pom.xml`. And everything works fine. My database scripts are migrated when I launch the Spring Boot app.\r\n\r\nBut I had an error in one of my scripts and my last migration failed. Now when I try to migrate, there is a &quot;Migration checksum mismatch&quot;. Normally, I would run `mvn flyway:repair`, but since I am using Spring Boot, I am not supposed to use the Flyway Maven plug-in. So what am I supposed to do?","title":"Flyway repair with Spring Boot","body":"<p>I don't quite understand what I am supposed to do when a migration fails using Flyway in a Spring Boot project.</p>\n\n<p>I activated Flyway by simply adding the Flyway dependency in my <code>pom.xml</code>. And everything works fine. My database scripts are migrated when I launch the Spring Boot app.</p>\n\n<p>But I had an error in one of my scripts and my last migration failed. Now when I try to migrate, there is a \"Migration checksum mismatch\". Normally, I would run <code>mvn flyway:repair</code>, but since I am using Spring Boot, I am not supposed to use the Flyway Maven plug-in. So what am I supposed to do?</p>\n"},{"tags":["java","spring-boot","authentication","jwt"],"owner":{"account_id":28342701,"reputation":1,"user_id":21675432,"display_name":"gokul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681892346,"creation_date":1681846155,"question_id":76048404,"body_markdown":"Description:\r\n\r\nParameter 2 of method doFilterInternal in `com.example.Read.Write.filter.JwtAuthFilter` required a bean of type `jakarta.servlet.FilterChain` that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type `jakarta.servlet.FilterChain` in your configuration.\r\n\r\n\r\n\r\nI&#39;ve tired all the possible ways to solve this.kindly share your thoughts on this","title":"Error in creation of json token in jwt authorization","body":"<p>Description:</p>\n<p>Parameter 2 of method doFilterInternal in <code>com.example.Read.Write.filter.JwtAuthFilter</code> required a bean of type <code>jakarta.servlet.FilterChain</code> that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type <code>jakarta.servlet.FilterChain</code> in your configuration.</p>\n<p>I've tired all the possible ways to solve this.kindly share your thoughts on this</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1388812705,"post_id":20917096,"comment_id":31403583,"body_markdown":"If all you care about is space, then two nested loops would do it (somewhat similar to bubble sort approach).","body":"If all you care about is space, then two nested loops would do it (somewhat similar to bubble sort approach)."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1388814448,"post_id":20917096,"comment_id":31403904,"body_markdown":"It seems like cheating if you can use the O(n) space in the given array. I think a true O(1) solution would refer to having a fixed amount of space and only reading at most that much input at once. (Like an online algorithm)","body":"It seems like cheating if you can use the O(n) space in the given array. I think a true O(1) solution would refer to having a fixed amount of space and only reading at most that much input at once. (Like an online algorithm)"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1388816071,"post_id":20917096,"comment_id":31404216,"body_markdown":"Also, keep in mind that `Arrays.sort` adds space larger than O(1). Most of the time it uses a variant of quicksort, so around O(log n) extra space.","body":"Also, keep in mind that <code>Arrays.sort</code> adds space larger than O(1). Most of the time it uses a variant of quicksort, so around O(log n) extra space."}],"answers":[{"tags":[],"owner":{"account_id":995810,"reputation":8236,"user_id":1011791,"accept_rate":86,"display_name":"Chthonic Project"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1388813951,"creation_date":1388812805,"answer_id":20917302,"question_id":20917096,"body_markdown":"If you are only worried about space complexity, and not the time complexity, then you don&#39;t need to sort. That way, the whole issue of keeping track of original indices goes away.\r\n\r\n    \r\n    int[] twoSum(int[] numbers, int target) {\r\n        for (int i = 0; i &lt; numbers.length-1; i++) {\r\n            for (int j = i+1; j &lt; numbers.length; j++) {\r\n                if (numbers[i] + numbers[j] == target)\r\n                    return new int[]{i+1, j+1};\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nIf you want to return all such pairs, not just the first one, then just continue with the iterations instead of returning immediately (of course, the return type will have to change to a list or 2-d array or ... ).","title":"Two Sum: How is the solution with O(1) space complexity implemented?","body":"<p>If you are only worried about space complexity, and not the time complexity, then you don't need to sort. That way, the whole issue of keeping track of original indices goes away.</p>\n\n<pre><code>int[] twoSum(int[] numbers, int target) {\n    for (int i = 0; i &lt; numbers.length-1; i++) {\n        for (int j = i+1; j &lt; numbers.length; j++) {\n            if (numbers[i] + numbers[j] == target)\n                return new int[]{i+1, j+1};\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>If you want to return all such pairs, not just the first one, then just continue with the iterations instead of returning immediately (of course, the return type will have to change to a list or 2-d array or ... ).</p>\n"},{"tags":[],"owner":{"account_id":130796,"reputation":4377,"user_id":330325,"accept_rate":55,"display_name":"Buddha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388813006,"creation_date":1388813006,"answer_id":20917319,"question_id":20917096,"body_markdown":"There are certain limits what can be achieved and what can&#39;t be. There are some parameters that depend on each other. Time &amp; Space complexities are two such parameters when it comes to algorithms. \r\n\r\nIf you want to optimize your problem for space, it will increase the time complexity in most of the cases except in some special circumstances. \r\n\r\nIn this problem, if you don&#39;t want to increase the space complexity and want to preserve the original indices, the only way to do it is to not sort the array and take every two numbers combinations from the array and check if their sum is your target. This means the code becomes something similar to below. \r\n\r\n    while(i &lt; n)\r\n    {\r\n       while(j &lt; n)\r\n       {\r\n          if(i!=j &amp;&amp; arr[i]+arr[j]==target)\r\n          {\r\n                int[] result = {i, j};\r\n                    return result;\r\n          }\r\n          j++;\r\n       }\r\n       i++;\r\n    }\r\n\r\nAs you can see this obviously is an O(n^2) algorithm. Even in the program you have written the sorting will be something like O(nlogn). \r\n\r\nSo, the bottom line is if you want to reduce space complexity, it increases time complexity. ","title":"Two Sum: How is the solution with O(1) space complexity implemented?","body":"<p>There are certain limits what can be achieved and what can't be. There are some parameters that depend on each other. Time &amp; Space complexities are two such parameters when it comes to algorithms. </p>\n\n<p>If you want to optimize your problem for space, it will increase the time complexity in most of the cases except in some special circumstances. </p>\n\n<p>In this problem, if you don't want to increase the space complexity and want to preserve the original indices, the only way to do it is to not sort the array and take every two numbers combinations from the array and check if their sum is your target. This means the code becomes something similar to below. </p>\n\n<pre><code>while(i &lt; n)\n{\n   while(j &lt; n)\n   {\n      if(i!=j &amp;&amp; arr[i]+arr[j]==target)\n      {\n            int[] result = {i, j};\n                return result;\n      }\n      j++;\n   }\n   i++;\n}\n</code></pre>\n\n<p>As you can see this obviously is an O(n^2) algorithm. Even in the program you have written the sorting will be something like O(nlogn). </p>\n\n<p>So, the bottom line is if you want to reduce space complexity, it increases time complexity. </p>\n"},{"tags":[],"owner":{"account_id":28307510,"reputation":1,"user_id":21645278,"display_name":"Deepak Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681892150,"creation_date":1681497861,"answer_id":76018092,"question_id":20917096,"body_markdown":"    vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) {\r\n            int i =0;\r\n            int j = 1;\r\n            vector&lt;int&gt; v;\r\n            while( i &lt; nums.size() &amp;&amp; j &lt; nums.size() ){\r\n                if(nums[i] + nums[j] == target &amp;&amp; i != j){\r\n                    v.push_back(i);\r\n                    v.push_back(j);\r\n                    break;\r\n                }\r\n                else if(j &lt; nums.size()-1){\r\n                    j++;\r\n                    continue;\r\n                }\r\n                i++;\r\n                j=1;\r\n            }\r\n    \r\n            return v;  \r\n        }\r\n    };","title":"Two Sum: How is the solution with O(1) space complexity implemented?","body":"<pre><code>vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) {\n        int i =0;\n        int j = 1;\n        vector&lt;int&gt; v;\n        while( i &lt; nums.size() &amp;&amp; j &lt; nums.size() ){\n            if(nums[i] + nums[j] == target &amp;&amp; i != j){\n                v.push_back(i);\n                v.push_back(j);\n                break;\n            }\n            else if(j &lt; nums.size()-1){\n                j++;\n                continue;\n            }\n            i++;\n            j=1;\n        }\n\n        return v;  \n    }\n};\n</code></pre>\n"}],"owner":{"account_id":1188174,"reputation":2336,"user_id":3552532,"accept_rate":94,"display_name":"goldfrapp04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8850,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20917302,"answer_count":3,"score":3,"last_activity_date":1681892150,"creation_date":1388811490,"question_id":20917096,"body_markdown":"The classical Two Sum problem is described in [LeetCode][1].\r\n\r\nI know how to solve it with a hash table, which results in O(n) extra space. Now I want to solve it with O(1) space, so I&#39;ll first sort the array and then use two pointers to find the two integers, as shown in the (incorrect) code below.\r\n\r\n    public int[] twoSum(int[] numbers, int target) {\r\n            java.util.Arrays.sort(numbers);\r\n            int start = 0, end = numbers.length - 1;\r\n            while(start &lt; end) {\r\n                if(numbers[start] + numbers[end] &lt; target) {\r\n                    start++;\r\n                }\r\n                else if(numbers[start] + numbers[end] &gt; target) {\r\n                    end--;\r\n                }\r\n                else {\r\n                    int[] result = {start + 1, end + 1};\r\n                    return result;\r\n                }\r\n            }\r\n            return null;\r\n    }\r\n\r\nThis code is incorrect: I&#39;m returning the indices after sorting. So how will I keep track of the original indices of the selected integers? Or are there other O(1) space solutions? Thank you.\r\n\r\n  [1]: http://oj.leetcode.com/problems/two-sum/","title":"Two Sum: How is the solution with O(1) space complexity implemented?","body":"<p>The classical Two Sum problem is described in <a href=\"http://oj.leetcode.com/problems/two-sum/\" rel=\"nofollow\">LeetCode</a>.</p>\n\n<p>I know how to solve it with a hash table, which results in O(n) extra space. Now I want to solve it with O(1) space, so I'll first sort the array and then use two pointers to find the two integers, as shown in the (incorrect) code below.</p>\n\n<pre><code>public int[] twoSum(int[] numbers, int target) {\n        java.util.Arrays.sort(numbers);\n        int start = 0, end = numbers.length - 1;\n        while(start &lt; end) {\n            if(numbers[start] + numbers[end] &lt; target) {\n                start++;\n            }\n            else if(numbers[start] + numbers[end] &gt; target) {\n                end--;\n            }\n            else {\n                int[] result = {start + 1, end + 1};\n                return result;\n            }\n        }\n        return null;\n}\n</code></pre>\n\n<p>This code is incorrect: I'm returning the indices after sorting. So how will I keep track of the original indices of the selected integers? Or are there other O(1) space solutions? Thank you.</p>\n"},{"tags":["java","spring-boot","performance","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681892099,"creation_date":1681863891,"answer_id":76049907,"question_id":76049655,"body_markdown":"IMO, the importance of `N + 1` problem is overestimated, especially in case when we need to fetch associated collections. In your particular case you believe that it would be &quot;more optimal&quot; to fetch `DeckCard` entities together with `Deck` entity using single SQL-query instead of issuing three different SQL-queries, let&#39;s take a look what is really going on...\r\n\r\nThe single SQL-query should look like:\r\n\r\n```\r\nselect deck.*, mainDeck.*, extraDeck.*, sideDeck.*\r\nfrom deck\r\nleft join DeckCard mainDeck on (mainDeck.deck_id=deck.id)\r\nleft join DeckCard extraDeck on (extraDeck.deck_id=deck.id)\r\nleft join DeckCard sideDeck on (sideDeck.deck_id=deck.id)\r\n```\r\n\r\nand the questions is: How many rows does that query return? If there are 54 cards in a deck, we may expect the query mentioned above returns 157464 rows (since every extra join of `DeckCard` multiplies rows in resultset we expect to get `54*54*54=157464` rows). So, instead of issuing three very simple queries, each of them returns just 54 rows (162 rows in total), the alternative is to issue single monster query and after that somehow process (remove duplicates, construct entities, etc) 157464 rows. Now, are you really sure the second option is better from performance perspective?\r\n\r\nYou need to pay attention to [batch fetching option](https://prasanthmathialagan.wordpress.com/2017/04/20/beware-of-hibernate-batch-fetching/)","title":"How to avoid the N +1 SELECT Problem for nested entities with Hibernate","body":"<p>IMO, the importance of <code>N + 1</code> problem is overestimated, especially in case when we need to fetch associated collections. In your particular case you believe that it would be &quot;more optimal&quot; to fetch <code>DeckCard</code> entities together with <code>Deck</code> entity using single SQL-query instead of issuing three different SQL-queries, let's take a look what is really going on...</p>\n<p>The single SQL-query should look like:</p>\n<pre><code>select deck.*, mainDeck.*, extraDeck.*, sideDeck.*\nfrom deck\nleft join DeckCard mainDeck on (mainDeck.deck_id=deck.id)\nleft join DeckCard extraDeck on (extraDeck.deck_id=deck.id)\nleft join DeckCard sideDeck on (sideDeck.deck_id=deck.id)\n</code></pre>\n<p>and the questions is: How many rows does that query return? If there are 54 cards in a deck, we may expect the query mentioned above returns 157464 rows (since every extra join of <code>DeckCard</code> multiplies rows in resultset we expect to get <code>54*54*54=157464</code> rows). So, instead of issuing three very simple queries, each of them returns just 54 rows (162 rows in total), the alternative is to issue single monster query and after that somehow process (remove duplicates, construct entities, etc) 157464 rows. Now, are you really sure the second option is better from performance perspective?</p>\n<p>You need to pay attention to <a href=\"https://prasanthmathialagan.wordpress.com/2017/04/20/beware-of-hibernate-batch-fetching/\" rel=\"nofollow noreferrer\">batch fetching option</a></p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76049907,"answer_count":1,"score":1,"last_activity_date":1681892099,"creation_date":1681859634,"question_id":76049655,"body_markdown":"I&#39;ve been developing a `Spring REST API` using `Spring Data JPA`. I learned that you can easily run into the `N + 1 SELECT problem` which basically causes a `SELECT` for your parent entities and then N `SELECT`s for each child entity of that parent which is a performance problem.\r\n\r\nFurthermore, I noticed that `entity graph`s seem like a good way of specifying which entities should be fetched in combination with the parent entity in usually a single query or much less queries (therefore avoiding the `N + 1 problem`). However, the problem I have is that my entities are deeply nested and the query for my parent entity should avoid the `N + 1 problem` for all child entities.\r\n\r\nAssuming I&#39;m modeling my entities like a card game between 2 players as follows:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Duel\r\n    {\r\n    \t@Id\r\n    \t@JsonIgnore\r\n    \t@GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_duel_generator&quot;)\r\n    \t@SequenceGenerator(name = &quot;seq_duel_generator&quot;, sequenceName = &quot;seq_duel&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@OneToOne(cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    \tprivate Player firstPlayer;\r\n    \r\n    \t@OneToOne(cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    \tprivate Player secondPlayer;\r\n    \r\n        // ...\r\n    }\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Player\r\n    {\r\n    \t@Id\r\n    \t@JsonIgnore\r\n    \t@GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_player_generator&quot;)\r\n    \t@SequenceGenerator(name = &quot;seq_player_generator&quot;, sequenceName = &quot;seq_player&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@OneToOne(cascade = {CascadeType.PERSIST, CascadeType.REMOVE})\r\n    \t@JoinColumn(name = &quot;deck_id&quot;)\r\n    \tprivate Deck deck;\r\n    \r\n    \t// ...\r\n    }\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Deck\r\n    {\r\n    \t@Id\r\n    \t@JsonIgnore\r\n    \t@GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_deck_generator&quot;)\r\n    \t@SequenceGenerator(name = &quot;seq_deck_generator&quot;, sequenceName = &quot;seq_deck&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@LazyCollection(LazyCollectionOption.FALSE)\r\n    \t@OneToMany(cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    \tprivate List&lt;DeckCard&gt; mainDeck;\r\n    \r\n    \t@LazyCollection(LazyCollectionOption.FALSE)\r\n    \t@OneToMany(cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    \tprivate List&lt;DeckCard&gt; extraDeck;\r\n\r\n    \t@LazyCollection(LazyCollectionOption.FALSE)\r\n    \t@JsonIgnore\r\n    \t@OneToMany(cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    \tprivate List&lt;DeckCard&gt; sideDeck;\r\n    \r\n    \t@OneToOne(mappedBy = &quot;deck&quot;, cascade = CascadeType.PERSIST)\r\n    \t@JsonIgnore\r\n    \tprivate Player player;\r\n    }\r\n\r\n    // ...\r\n\r\nThe query I want to optimize has the following signature:  \r\n`List&lt;Duel&gt; findAllByGameModeAndSeasonId(final GameMode gameMode, final int seasonId);`\r\n\r\nI tried defining a `named entity graph` by decorating the class as follows:\r\n\r\n    @NamedEntityGraph(name = &quot;Duel.withPlayers&quot;,\r\n    \t\tattributeNodes = {\r\n    \t\t\t\t@NamedAttributeNode(value = &quot;firstPlayer&quot;),\r\n    \t\t\t\t@NamedAttributeNode(value = &quot;secondPlayer&quot;)\r\n    \t\t}\r\n    )\r\n\r\nThen I decorated the repository method as follows:  \r\n`@EntityGraph(value = &quot;Duel.withPlayers&quot;, type = EntityGraph.EntityGraphType.LOAD)`\r\n\r\nIn this case, that didn&#39;t make a difference between using the entity graph and not using the entity graph, the generated SQL by `Hibernate` kept querying statements such as:\r\n\r\n    Query:[&quot;select s1_0.deck_id,s1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,s1_1.rarity from deck_side_deck s1_0 join deck_card s1_1 on s1_1.id=s1_0.side_deck_id left join card c1_0 on c1_0.id=s1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where s1_0.deck_id=?&quot;]\r\n    Query:[&quot;select m1_0.deck_id,m1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,m1_1.rarity from deck_main_deck m1_0 join deck_card m1_1 on m1_1.id=m1_0.main_deck_id left join card c1_0 on c1_0.id=m1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where m1_0.deck_id=?&quot;]\r\n    Params:[(20)]\r\n    Query:[&quot;select e1_0.deck_id,e1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,e1_1.rarity from deck_extra_deck e1_0 join deck_card e1_1 on e1_1.id=e1_0.extra_deck_id left join card c1_0 on c1_0.id=e1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where e1_0.deck_id=?&quot;]\r\n    Params:[(20)]\r\n\r\nNow it seems like I need to specify sub graphs but nope, that also didn&#39;t help:\r\n\r\n    @NamedEntityGraph(name = &quot;Duel.withPlayers&quot;,\r\n    \t\tattributeNodes = {\r\n    \t\t\t\t@NamedAttributeNode(value = &quot;firstPlayer&quot;, subgraph = &quot;playerGraph&quot;),\r\n    \t\t\t\t@NamedAttributeNode(value = &quot;secondPlayer&quot;, subgraph = &quot;playerGraph&quot;)\r\n    \t\t},\r\n    \t\tsubgraphs = {\r\n    \t\t\t\t@NamedSubgraph(name = &quot;playerGraph&quot;,\r\n    \t\t\t\t\t\tattributeNodes = {\r\n    \t\t\t\t\t\t\t\t@NamedAttributeNode(value = &quot;deck&quot;, subgraph = &quot;deckGraph&quot;)\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t),\r\n    \t\t\t\t@NamedSubgraph(name = &quot;deckGraph&quot;,\r\n    \t\t\t\t\t\tattributeNodes = {\r\n    \t\t\t\t\t\t\t\t@NamedAttributeNode(value = &quot;mainDeck&quot;),\r\n    \t\t\t\t\t\t\t\t@NamedAttributeNode(value = &quot;extraDeck&quot;),\r\n    \t\t\t\t\t\t\t\t@NamedAttributeNode(value = &quot;sideDeck&quot;)\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t)\r\n    \t\t}\r\n    )\r\n\r\nThe thrown error message is: `org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [Deck.extraDeck, Deck.mainDeck]`. Even the `@LazyCollection` annotations didn&#39;t fix that error. I can&#39;t simply convert my `List`s to `Set`s.\r\n\r\nOf course, I don&#39;t want to write any custom SQL if I&#39;m already using `Hibernate`. Does it help to define `entity graph`s over each entity to force `left join`s? What can I do to optimize this query and maybe also avoid situations where my performance would be strongly affected when working with my `Hibernate` entities? It&#39;s very important for my database to efficiently handle 1000s or more records and currently that doesn&#39;t seem to be the case...","title":"How to avoid the N +1 SELECT Problem for nested entities with Hibernate","body":"<p>I've been developing a <code>Spring REST API</code> using <code>Spring Data JPA</code>. I learned that you can easily run into the <code>N + 1 SELECT problem</code> which basically causes a <code>SELECT</code> for your parent entities and then N <code>SELECT</code>s for each child entity of that parent which is a performance problem.</p>\n<p>Furthermore, I noticed that <code>entity graph</code>s seem like a good way of specifying which entities should be fetched in combination with the parent entity in usually a single query or much less queries (therefore avoiding the <code>N + 1 problem</code>). However, the problem I have is that my entities are deeply nested and the query for my parent entity should avoid the <code>N + 1 problem</code> for all child entities.</p>\n<p>Assuming I'm modeling my entities like a card game between 2 players as follows:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Duel\n{\n    @Id\n    @JsonIgnore\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_duel_generator&quot;)\n    @SequenceGenerator(name = &quot;seq_duel_generator&quot;, sequenceName = &quot;seq_duel&quot;)\n    private Long id;\n\n    @OneToOne(cascade = CascadeType.PERSIST, orphanRemoval = true)\n    private Player firstPlayer;\n\n    @OneToOne(cascade = CascadeType.PERSIST, orphanRemoval = true)\n    private Player secondPlayer;\n\n    // ...\n}\n\n@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Player\n{\n    @Id\n    @JsonIgnore\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_player_generator&quot;)\n    @SequenceGenerator(name = &quot;seq_player_generator&quot;, sequenceName = &quot;seq_player&quot;)\n    private Long id;\n\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.REMOVE})\n    @JoinColumn(name = &quot;deck_id&quot;)\n    private Deck deck;\n\n    // ...\n}\n\n@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Deck\n{\n    @Id\n    @JsonIgnore\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_deck_generator&quot;)\n    @SequenceGenerator(name = &quot;seq_deck_generator&quot;, sequenceName = &quot;seq_deck&quot;)\n    private Long id;\n\n    @LazyCollection(LazyCollectionOption.FALSE)\n    @OneToMany(cascade = CascadeType.PERSIST, orphanRemoval = true)\n    private List&lt;DeckCard&gt; mainDeck;\n\n    @LazyCollection(LazyCollectionOption.FALSE)\n    @OneToMany(cascade = CascadeType.PERSIST, orphanRemoval = true)\n    private List&lt;DeckCard&gt; extraDeck;\n\n    @LazyCollection(LazyCollectionOption.FALSE)\n    @JsonIgnore\n    @OneToMany(cascade = CascadeType.PERSIST, orphanRemoval = true)\n    private List&lt;DeckCard&gt; sideDeck;\n\n    @OneToOne(mappedBy = &quot;deck&quot;, cascade = CascadeType.PERSIST)\n    @JsonIgnore\n    private Player player;\n}\n\n// ...\n</code></pre>\n<p>The query I want to optimize has the following signature:<br />\n<code>List&lt;Duel&gt; findAllByGameModeAndSeasonId(final GameMode gameMode, final int seasonId);</code></p>\n<p>I tried defining a <code>named entity graph</code> by decorating the class as follows:</p>\n<pre><code>@NamedEntityGraph(name = &quot;Duel.withPlayers&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;firstPlayer&quot;),\n                @NamedAttributeNode(value = &quot;secondPlayer&quot;)\n        }\n)\n</code></pre>\n<p>Then I decorated the repository method as follows:<br />\n<code>@EntityGraph(value = &quot;Duel.withPlayers&quot;, type = EntityGraph.EntityGraphType.LOAD)</code></p>\n<p>In this case, that didn't make a difference between using the entity graph and not using the entity graph, the generated SQL by <code>Hibernate</code> kept querying statements such as:</p>\n<pre><code>Query:[&quot;select s1_0.deck_id,s1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,s1_1.rarity from deck_side_deck s1_0 join deck_card s1_1 on s1_1.id=s1_0.side_deck_id left join card c1_0 on c1_0.id=s1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where s1_0.deck_id=?&quot;]\nQuery:[&quot;select m1_0.deck_id,m1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,m1_1.rarity from deck_main_deck m1_0 join deck_card m1_1 on m1_1.id=m1_0.main_deck_id left join card c1_0 on c1_0.id=m1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where m1_0.deck_id=?&quot;]\nParams:[(20)]\nQuery:[&quot;select e1_0.deck_id,e1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,e1_1.rarity from deck_extra_deck e1_0 join deck_card e1_1 on e1_1.id=e1_0.extra_deck_id left join card c1_0 on c1_0.id=e1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where e1_0.deck_id=?&quot;]\nParams:[(20)]\n</code></pre>\n<p>Now it seems like I need to specify sub graphs but nope, that also didn't help:</p>\n<pre><code>@NamedEntityGraph(name = &quot;Duel.withPlayers&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;firstPlayer&quot;, subgraph = &quot;playerGraph&quot;),\n                @NamedAttributeNode(value = &quot;secondPlayer&quot;, subgraph = &quot;playerGraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(name = &quot;playerGraph&quot;,\n                        attributeNodes = {\n                                @NamedAttributeNode(value = &quot;deck&quot;, subgraph = &quot;deckGraph&quot;)\n                        }\n                ),\n                @NamedSubgraph(name = &quot;deckGraph&quot;,\n                        attributeNodes = {\n                                @NamedAttributeNode(value = &quot;mainDeck&quot;),\n                                @NamedAttributeNode(value = &quot;extraDeck&quot;),\n                                @NamedAttributeNode(value = &quot;sideDeck&quot;)\n                        }\n                )\n        }\n)\n</code></pre>\n<p>The thrown error message is: <code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [Deck.extraDeck, Deck.mainDeck]</code>. Even the <code>@LazyCollection</code> annotations didn't fix that error. I can't simply convert my <code>List</code>s to <code>Set</code>s.</p>\n<p>Of course, I don't want to write any custom SQL if I'm already using <code>Hibernate</code>. Does it help to define <code>entity graph</code>s over each entity to force <code>left join</code>s? What can I do to optimize this query and maybe also avoid situations where my performance would be strongly affected when working with my <code>Hibernate</code> entities? It's very important for my database to efficiently handle 1000s or more records and currently that doesn't seem to be the case...</p>\n"},{"tags":["java","selenium-webdriver","internet-explorer","microsoft-edge"],"comments":[{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1681713751,"post_id":76015082,"comment_id":134094897,"body_markdown":"I&#39;ve tried both IE Driver 4.2 and 4.7 but I can&#39;t reproduce this issue. How did you disconnect from server? Is the sample code you&#39;ve provided enough to reproduce the issue? If not, please provide minimal reproducible code for us. Also, you can try the latest version of IEDriverServer, which is 4.8.0.","body":"I&#39;ve tried both IE Driver 4.2 and 4.7 but I can&#39;t reproduce this issue. How did you disconnect from server? Is the sample code you&#39;ve provided enough to reproduce the issue? If not, please provide minimal reproducible code for us. Also, you can try the latest version of IEDriverServer, which is 4.8.0."},{"owner":{"account_id":28304397,"reputation":1,"user_id":21642620,"display_name":"Chhagan Chavan"},"score":0,"creation_date":1681750543,"post_id":76015082,"comment_id":134103862,"body_markdown":"Code is working fine on IE browser even if disconnect from server (RPA process is deployed there) but I had changed browser calling code in IE mode on edge.Mentioned code is for reference.If you have any idea why above error occurred or if any another code for IE mode in edge please share.","body":"Code is working fine on IE browser even if disconnect from server (RPA process is deployed there) but I had changed browser calling code in IE mode on edge.Mentioned code is for reference.If you have any idea why above error occurred or if any another code for IE mode in edge please share."}],"answers":[{"tags":[],"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681891940,"creation_date":1681891940,"answer_id":76052149,"question_id":76015082,"body_markdown":"As common solutions regarding this error, I suggest \r\n1. **Kill all the IEDriverServer.exe** and then you can test again.\r\n2. Make sure that you&#39;ve closed/quitted the driver every time before the automation ends.\r\n\r\nSince it works in IE while fails in IE mode, it can also be related to the **timeout error** in IE mode automation. 2 solutions to this are:\r\n1. Turn off protected mode of each zone in Internet Options\r\n2. Use `InitialBrowserUrl` to directly visit the desired page, without waiting for redirection which could cause timeout error. Example: `ieOptions.InitialBrowserUrl = &quot;https://www.bing.com&quot;;`","title":"Could not start new session. Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>As common solutions regarding this error, I suggest</p>\n<ol>\n<li><strong>Kill all the IEDriverServer.exe</strong> and then you can test again.</li>\n<li>Make sure that you've closed/quitted the driver every time before the automation ends.</li>\n</ol>\n<p>Since it works in IE while fails in IE mode, it can also be related to the <strong>timeout error</strong> in IE mode automation. 2 solutions to this are:</p>\n<ol>\n<li>Turn off protected mode of each zone in Internet Options</li>\n<li>Use <code>InitialBrowserUrl</code> to directly visit the desired page, without waiting for redirection which could cause timeout error. Example: <code>ieOptions.InitialBrowserUrl = &quot;https://www.bing.com&quot;;</code></li>\n</ol>\n"}],"owner":{"account_id":28304397,"reputation":1,"user_id":21642620,"display_name":"Chhagan Chavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681891940,"creation_date":1681475250,"question_id":76015082,"body_markdown":"I&#39;m using selenium IE Driver 4.7 to run code on Microsoft edge in IE mode. Code run successfully but when we disconnect from server then after some intervals of time there is an error comes as &quot;Error communicating with the remote browser.It may have died.&quot; After that when BOT runs same code then captions error occurred (could not session).But same code work in IE after server disconnect also.\r\n\r\n\r\nSample code for calling edge in IE mode,\r\n\r\n````\r\nSystem.setProperty(&quot;webdriver.ie.driver&quot;, &quot;IE Driver Path&quot;); InternetExplorerOptions ieOptions = new InternetExplorerOptions();\r\n\r\nieOptions.attachToEdgeChrome ();\r\n\r\nieOptions.ignore ZoomSettings ();\r\n\r\nieOptions.withEdgeExecutable Path (&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\n\r\ndriver = new InternetExplorerDriver (ieOptions);\r\n\r\ndriver.manage().deleteAllCookies();\r\n\r\ndriver.manage () .window () .maximize();\r\n\r\ndriver.get(&quot;https://www.finacle.com&quot;);\r\n````\r\n\r\nHelp me out to sort out this issue.\r\n\r\nI also tried selenium IE Driver 4.2 version but not worked. Current selenium jar version is 4.2.2.\r\n\r\nI&#39;m need java selenium code (for automation on ie) to be run in IE mode on ms edge without facing mentioned error due server disconnected.","title":"Could not start new session. Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>I'm using selenium IE Driver 4.7 to run code on Microsoft edge in IE mode. Code run successfully but when we disconnect from server then after some intervals of time there is an error comes as &quot;Error communicating with the remote browser.It may have died.&quot; After that when BOT runs same code then captions error occurred (could not session).But same code work in IE after server disconnect also.</p>\n<p>Sample code for calling edge in IE mode,</p>\n<pre><code>System.setProperty(&quot;webdriver.ie.driver&quot;, &quot;IE Driver Path&quot;); InternetExplorerOptions ieOptions = new InternetExplorerOptions();\n\nieOptions.attachToEdgeChrome ();\n\nieOptions.ignore ZoomSettings ();\n\nieOptions.withEdgeExecutable Path (&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\n\ndriver = new InternetExplorerDriver (ieOptions);\n\ndriver.manage().deleteAllCookies();\n\ndriver.manage () .window () .maximize();\n\ndriver.get(&quot;https://www.finacle.com&quot;);\n</code></pre>\n<p>Help me out to sort out this issue.</p>\n<p>I also tried selenium IE Driver 4.2 version but not worked. Current selenium jar version is 4.2.2.</p>\n<p>I'm need java selenium code (for automation on ie) to be run in IE mode on ms edge without facing mentioned error due server disconnected.</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":2,"creation_date":1396857442,"post_id":22904573,"comment_id":34959884,"body_markdown":"Isn&#39;t it relatively clear in the Mojo doc: http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom ?","body":"Isn&#39;t it relatively clear in the Mojo doc: <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/&hellip;</a> ?"},{"owner":{"account_id":446581,"reputation":2636,"user_id":839710,"accept_rate":44,"display_name":"Transcendence"},"score":10,"creation_date":1396900572,"post_id":22904573,"comment_id":34987957,"body_markdown":"No, there is nothing in there about its purpose.","body":"No, there is nothing in there about its purpose."},{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":6,"creation_date":1397054354,"post_id":22904573,"comment_id":35066398,"body_markdown":"Well, if you have a module A with X dependencies, and shade some of them in a specific JAR (A-shaded.jar), then you won&#39;t need those shaded dependencies if you want to depend on A-shaded.jar instead of A.jar. So the plugin creates a pom.xml containing only the Y non-shaded dependencies.","body":"Well, if you have a module A with X dependencies, and shade some of them in a specific JAR (A-shaded.jar), then you won&#39;t need those shaded dependencies if you want to depend on A-shaded.jar instead of A.jar. So the plugin creates a pom.xml containing only the Y non-shaded dependencies."},{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":1,"creation_date":1415430879,"post_id":22904573,"comment_id":42200740,"body_markdown":"possible duplicate of [What is \\`dependency-reduced-pom.xml\\` file which created when calling maven package command?](http://stackoverflow.com/questions/26500735/what-is-dependency-reduced-pom-xml-file-which-created-when-calling-maven-packa)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/26500735/what-is-dependency-reduced-pom-xml-file-which-created-when-calling-maven-packa\">What is `dependency-reduced-pom.xml` file which created when calling maven package command?</a>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1685887551,"post_id":22904573,"comment_id":134720716,"body_markdown":"I understand what this dependency-reduced POM contains. I&#39;m curious if anyone can describe a real-life workflow in which they are using the dependency-reduced POM?","body":"I understand what this dependency-reduced POM contains. I&#39;m curious if anyone can describe a real-life workflow in which they are using the dependency-reduced POM?"}],"answers":[{"tags":[],"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1511723628,"creation_date":1416166371,"answer_id":26961161,"question_id":22904573,"body_markdown":"The shade:shade Mojo is quite well documented, here especially about the `createDependencyReducedPom` parameter, which will create that `dependency-reduced-pom.xml` file: [`maven-shade-plugin/shade-mojo.html#createDependencyReducedPom`][1]\r\n\r\nIn short, this is quite useful if you intend to use that shaded JAR (instead of the normal JAR) as a dependency for another module. That `dependency-reduced-pom.xml` will not contain the JARs already present in the shaded one, avoiding useless duplication.\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom","title":"What is the purpose of dependency-reduced-pom.xml generated by the shade plugin?","body":"<p>The shade:shade Mojo is quite well documented, here especially about the <code>createDependencyReducedPom</code> parameter, which will create that <code>dependency-reduced-pom.xml</code> file: <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom\" rel=\"noreferrer\"><code>maven-shade-plugin/shade-mojo.html#createDependencyReducedPom</code></a></p>\n\n<p>In short, this is quite useful if you intend to use that shaded JAR (instead of the normal JAR) as a dependency for another module. That <code>dependency-reduced-pom.xml</code> will not contain the JARs already present in the shaded one, avoiding useless duplication.</p>\n"},{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1456435195,"creation_date":1456435195,"answer_id":35638574,"question_id":22904573,"body_markdown":"I read the [docs](http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom) about a hundred times or so and still couldn&#39;t understand what this is for, what really is the use case for it.\r\n\r\nFinally this is what I think: lets say you have a project with dependencies A, B, C, D, E. In the `pom.xml` you configure the shade plugin in such a way that when it creates the uber-jar (call it `foo.jar`), it includes A, B, C in the shaded jar but for some reason you decide not to include D, E in the shaded jar even though your project depends on them - a case in point are dependencies that are needed only for testing (e.g. any dependency that has a `scope` of `test` and is not included in the shaded jar). The `dependency-reduced-pom.xml` will define D, E in it. The idea is that if someone wants to use `foo.jar` the `dependency-reduced-pom.xml` provides a hint of some sort that beware `foo.jar` is missing dependencies D, E in it - use at your own risk. You might then decide to explicitly add D, E in the project that will use `foo.jar`.\r\n\r\nSo the `dependency-reduced-pom.xml` is more like `missing-dependencies.xml` and lists the dependencies which are missing in the uber-jar which is output by the shade plugin.","title":"What is the purpose of dependency-reduced-pom.xml generated by the shade plugin?","body":"<p>I read the <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom\" rel=\"noreferrer\">docs</a> about a hundred times or so and still couldn't understand what this is for, what really is the use case for it.</p>\n\n<p>Finally this is what I think: lets say you have a project with dependencies A, B, C, D, E. In the <code>pom.xml</code> you configure the shade plugin in such a way that when it creates the uber-jar (call it <code>foo.jar</code>), it includes A, B, C in the shaded jar but for some reason you decide not to include D, E in the shaded jar even though your project depends on them - a case in point are dependencies that are needed only for testing (e.g. any dependency that has a <code>scope</code> of <code>test</code> and is not included in the shaded jar). The <code>dependency-reduced-pom.xml</code> will define D, E in it. The idea is that if someone wants to use <code>foo.jar</code> the <code>dependency-reduced-pom.xml</code> provides a hint of some sort that beware <code>foo.jar</code> is missing dependencies D, E in it - use at your own risk. You might then decide to explicitly add D, E in the project that will use <code>foo.jar</code>.</p>\n\n<p>So the <code>dependency-reduced-pom.xml</code> is more like <code>missing-dependencies.xml</code> and lists the dependencies which are missing in the uber-jar which is output by the shade plugin.</p>\n"},{"tags":[],"owner":{"account_id":84704,"reputation":12959,"user_id":236587,"accept_rate":80,"display_name":"Rupert Madden-Abbott"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1611307689,"creation_date":1611307689,"answer_id":65842502,"question_id":22904573,"body_markdown":"**Short Answer**\r\n\r\nThe dependency-reduced-pom.xml removes transitive dependencies which are already in your shaded jar. This prevents consumers from pulling them in twice.\r\n\r\n**Long Answer**\r\n\r\nThere are several reasons to shade a jar.\r\n\r\nIf you are producing an executable jar with all of its dependencies bundled, then you are probably uploading it to a package repository and users are downloading it manually. In this scenario, the dependency-reduced-pom.xml doesn&#39;t do anything for you.\r\n\r\nAnother reason is because you are building a library and are using specific versions of other common libraries. You don&#39;t want to force your users to use the same version as you. By shading, you effectively namespace those dependencies and your users can then include the same libraries again, but on different versions.\r\n\r\nIn this case, if you upload the original pom, then users who depend on your library will end up pulling in all dependencies twice. Once from the shaded copies and once from the copies declared in the pom. Uploading the dependency-reduced-pom.xml instead prevents this from happening because the shaded dependency declarations are removed.","title":"What is the purpose of dependency-reduced-pom.xml generated by the shade plugin?","body":"<p><strong>Short Answer</strong></p>\n<p>The dependency-reduced-pom.xml removes transitive dependencies which are already in your shaded jar. This prevents consumers from pulling them in twice.</p>\n<p><strong>Long Answer</strong></p>\n<p>There are several reasons to shade a jar.</p>\n<p>If you are producing an executable jar with all of its dependencies bundled, then you are probably uploading it to a package repository and users are downloading it manually. In this scenario, the dependency-reduced-pom.xml doesn't do anything for you.</p>\n<p>Another reason is because you are building a library and are using specific versions of other common libraries. You don't want to force your users to use the same version as you. By shading, you effectively namespace those dependencies and your users can then include the same libraries again, but on different versions.</p>\n<p>In this case, if you upload the original pom, then users who depend on your library will end up pulling in all dependencies twice. Once from the shaded copies and once from the copies declared in the pom. Uploading the dependency-reduced-pom.xml instead prevents this from happening because the shaded dependency declarations are removed.</p>\n"},{"tags":[],"owner":{"account_id":10170216,"reputation":11,"user_id":7510772,"display_name":"Michał Karpiński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640686170,"creation_date":1640686170,"answer_id":70505577,"question_id":22904573,"body_markdown":"The purpose of `dependency-reduced-pom.xml` is to show you what is the final dependency set of the artifact that you are preparing.\r\n\r\nLet&#39;s say artifact `X` depends on `A` and `B`. By embedding `B` dependency with maven-shade-plugin we create an artifact that depends only on `A` and this is what `dependency-reduced-pom.xml` will tell you (`B` dependency will not be in that file). This is the file that will be installed in Maven repository instead of original `pom.xml`. It will be used where calculating dependency set of artifact `X`, so if any other module depends on `X` it will not depend on `B`.","title":"What is the purpose of dependency-reduced-pom.xml generated by the shade plugin?","body":"<p>The purpose of <code>dependency-reduced-pom.xml</code> is to show you what is the final dependency set of the artifact that you are preparing.</p>\n<p>Let's say artifact <code>X</code> depends on <code>A</code> and <code>B</code>. By embedding <code>B</code> dependency with maven-shade-plugin we create an artifact that depends only on <code>A</code> and this is what <code>dependency-reduced-pom.xml</code> will tell you (<code>B</code> dependency will not be in that file). This is the file that will be installed in Maven repository instead of original <code>pom.xml</code>. It will be used where calculating dependency set of artifact <code>X</code>, so if any other module depends on <code>X</code> it will not depend on <code>B</code>.</p>\n"},{"tags":[],"owner":{"account_id":3345927,"reputation":372,"user_id":2811078,"display_name":"Chandan Gawri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681891642,"creation_date":1681891642,"answer_id":76052106,"question_id":22904573,"body_markdown":"For any uber jar generated `dependency-reduced-pom.xml` will contain provided dependency by a run time provider. To simply understand while running an application inside tomcat you may not need to provide Servlet jar which contain classes such as Servlet.class dependencies. It will be provided by Selected Run Time environment.\r\n\r\n","title":"What is the purpose of dependency-reduced-pom.xml generated by the shade plugin?","body":"<p>For any uber jar generated <code>dependency-reduced-pom.xml</code> will contain provided dependency by a run time provider. To simply understand while running an application inside tomcat you may not need to provide Servlet jar which contain classes such as Servlet.class dependencies. It will be provided by Selected Run Time environment.</p>\n"}],"owner":{"account_id":446581,"reputation":2636,"user_id":839710,"accept_rate":44,"display_name":"Transcendence"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52413,"favorite_count":0,"down_vote_count":1,"up_vote_count":125,"answer_count":5,"score":124,"last_activity_date":1681891642,"creation_date":1396850121,"question_id":22904573,"body_markdown":"I read over [the docs](https://maven.apache.org/plugins/maven-shade-plugin) and didn&#39;t find anything that talks about what it&#39;s used for.","title":"What is the purpose of dependency-reduced-pom.xml generated by the shade plugin?","body":"<p>I read over <a href=\"https://maven.apache.org/plugins/maven-shade-plugin\" rel=\"noreferrer\">the docs</a> and didn't find anything that talks about what it's used for.</p>\n"},{"tags":["java","dependency-injection","quarkus"],"answers":[{"tags":[],"owner":{"account_id":175525,"reputation":1174,"user_id":405613,"display_name":"Oliver Marienfeld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602096841,"creation_date":1602096841,"answer_id":64250549,"question_id":64242600,"body_markdown":"Quarkus uses a CDI implementation for dependency injection. So, you have to use `@Default` and [@Alternative](https://docs.oracle.com/javaee/6/api/index.html?javax/inject/Inject.html) annotations. **Please note:** In CDI, `@Default` is always set, behind the scenes, on beans which have  no other qualifier. That’s why you have to set `@Alternative` on every bean which you do not want to be the default one!","title":"Annotation Like @Primary in Spring Boot for Quarkus","body":"<p>Quarkus uses a CDI implementation for dependency injection. So, you have to use <code>@Default</code> and <a href=\"https://docs.oracle.com/javaee/6/api/index.html?javax/inject/Inject.html\" rel=\"nofollow noreferrer\">@Alternative</a> annotations. <strong>Please note:</strong> In CDI, <code>@Default</code> is always set, behind the scenes, on beans which have  no other qualifier. That’s why you have to set <code>@Alternative</code> on every bean which you do not want to be the default one!</p>\n"},{"tags":[],"owner":{"account_id":28347254,"reputation":1,"user_id":21679256,"display_name":"madizm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681891390,"creation_date":1681891390,"answer_id":76052064,"question_id":64242600,"body_markdown":"use [@javax.inject.Qualifier][1].\r\nworks fine.\r\n\r\n  [1]: https://cn.quarkus.io/guides/cdi#you-talked-about-some-qualifiers","title":"Annotation Like @Primary in Spring Boot for Quarkus","body":"<p>use <a href=\"https://cn.quarkus.io/guides/cdi#you-talked-about-some-qualifiers\" rel=\"nofollow noreferrer\">@javax.inject.Qualifier</a>.\nworks fine.</p>\n"}],"owner":{"account_id":1685508,"reputation":43,"user_id":1548906,"display_name":"Mehdi Darabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681891390,"creation_date":1602068111,"question_id":64242600,"body_markdown":"Is there any equivalent annotation like @Primary in Spring Boot for Quarkus?\r\nI found @DefaultBean but it does not work!!! ","title":"Annotation Like @Primary in Spring Boot for Quarkus","body":"<p>Is there any equivalent annotation like @Primary in Spring Boot for Quarkus?\nI found @DefaultBean but it does not work!!!</p>\n"},{"tags":["java","github","javadoc","markdown"],"comments":[{"owner":{"account_id":1229114,"reputation":6049,"user_id":1194067,"accept_rate":73,"display_name":"Jeevan Patil"},"score":1,"creation_date":1363080110,"post_id":15347808,"comment_id":21695998,"body_markdown":"I guess you can do it using maven site also. http://stackoverflow.com/questions/3939595/making-javadocs-available-with-github-sonatype-maven-repo might help you.","body":"I guess you can do it using maven site also. <a href=\"http://stackoverflow.com/questions/3939595/making-javadocs-available-with-github-sonatype-maven-repo\" title=\"making javadocs available with github sonatype maven repo\">stackoverflow.com/questions/3939595/&hellip;</a> might help you."},{"owner":{"account_id":55665,"reputation":357059,"user_id":166749,"accept_rate":94,"display_name":"Fred Foo"},"score":0,"creation_date":1363095846,"post_id":15347808,"comment_id":21705719,"body_markdown":"In the past, I&#39;ve used [GitHub Pages](http://pages.github.com/) for publishing JavaDocs. It was ugly, but it worked.","body":"In the past, I&#39;ve used <a href=\"http://pages.github.com/\" rel=\"nofollow noreferrer\">GitHub Pages</a> for publishing JavaDocs. It was ugly, but it worked."}],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":1,"up_vote_count":38,"is_accepted":true,"score":37,"last_activity_date":1681891286,"creation_date":1363100621,"answer_id":15364790,"question_id":15347808,"body_markdown":"I don&#39;t think it&#39;s possible to make a usable Javadoc with MarkDown. The best solution is probably to commit the Javadoc you generated on the `gh-pages` branch (or in the `docs/` directory depending on the settings of your GitHub project). It will be available at :\r\n\r\n http://username.github.io/projectname\r\n\r\nHere is an example from one of my projects:\r\n\r\n [http://ebourg.github.io/jsign/apidocs/][1]\r\n\r\nI used to do this but nowadays I just rely on javadoc.io to host the Javadoc:\r\n\r\n  https://javadoc.io/doc/net.jsign/jsign/\r\n\r\nThe documentation is picked automatically from Maven Central, this saves the extra step of commiting the files into the Git repository when preparing a new release.\r\n\r\n  [1]: https://web.archive.org/web/20220331111233/http://ebourg.github.io/jsign/apidocs/","title":"Display JavaDocs on GitHub","body":"<p>I don't think it's possible to make a usable Javadoc with MarkDown. The best solution is probably to commit the Javadoc you generated on the <code>gh-pages</code> branch (or in the <code>docs/</code> directory depending on the settings of your GitHub project). It will be available at :</p>\n<p><a href=\"http://username.github.io/projectname\" rel=\"nofollow noreferrer\">http://username.github.io/projectname</a></p>\n<p>Here is an example from one of my projects:</p>\n<p><a href=\"https://web.archive.org/web/20220331111233/http://ebourg.github.io/jsign/apidocs/\" rel=\"nofollow noreferrer\">http://ebourg.github.io/jsign/apidocs/</a></p>\n<p>I used to do this but nowadays I just rely on javadoc.io to host the Javadoc:</p>\n<p><a href=\"https://javadoc.io/doc/net.jsign/jsign/\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/net.jsign/jsign/</a></p>\n<p>The documentation is picked automatically from Maven Central, this saves the extra step of commiting the files into the Git repository when preparing a new release.</p>\n"},{"tags":[],"owner":{"account_id":1047745,"reputation":1559,"user_id":1052403,"display_name":"acoelhosantos"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1476872634,"creation_date":1476872634,"answer_id":40128648,"question_id":15347808,"body_markdown":"Currently you can also host your **Javadoc** with **Github Pages** from not only a `gh-pages` branch, but directly from the `/docs` folder within your `master` branch. You can check the help section on this topic, [here][1] (also check attached image below).\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAlso, there&#39;s a project on Github that targets some conversion of [Javadoc to Markdown][3] (have not tried it yet, just leaving the reference). \r\n\r\n\r\n  [1]: https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/\r\n  [2]: https://i.stack.imgur.com/34kKe.png\r\n  [3]: https://delight-im.github.io/Javadoc-to-Markdown/","title":"Display JavaDocs on GitHub","body":"<p>Currently you can also host your <strong>Javadoc</strong> with <strong>Github Pages</strong> from not only a <code>gh-pages</code> branch, but directly from the <code>/docs</code> folder within your <code>master</code> branch. You can check the help section on this topic, <a href=\"https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/\" rel=\"noreferrer\">here</a> (also check attached image below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/34kKe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/34kKe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also, there's a project on Github that targets some conversion of <a href=\"https://delight-im.github.io/Javadoc-to-Markdown/\" rel=\"noreferrer\">Javadoc to Markdown</a> (have not tried it yet, just leaving the reference). </p>\n"},{"tags":[],"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1586184662,"creation_date":1550069206,"answer_id":54672930,"question_id":15347808,"body_markdown":"### Do NOT check Javadocs into the source control for your project\r\nEspecially not into the `master` branch!   I followed the other answers to this question for about a year before deciding it was a really bad idea.  Why?\r\n\r\n1. It made it too difficult to review diffs.  I even made a script (see below) to update only the Javadoc pages that substantially changed, but it still was a mess.\r\n\r\n2. It fooled IntelliJ&#39;s refactoring tools.  I just tried to change .x() to .getX() and had to approve/reject every &quot;x&quot; in the Javadocs.  Maybe I forgot to exclude the folder in IntelliJ, but if you ever use sed/grep/find on your project, you have to remember to exclude it every time.\r\n\r\n3. It adds a bunch of data in git that just shouldn&#39;t be there, potentially making `pull` and `clone` commands take longer... FOREVER! Even if you later &quot;remove&quot; the folder, it&#39;s still stored in git.\r\n\r\n### Where should javadocs go?\r\n\r\nIt&#39;s probably best to post them on https://javadoc.io/, your web site, or AWS or heroku.  If you must check javadoc into source control, make a separate project just for Javadocs so you&#39;ll never need to look at the diff.  You can follow other people&#39;s answers for how to do this.\r\n\r\n### &quot;I read your post, but I&#39;m doing it anyway&quot;\r\n\r\nHere&#39;s my script to update fewer javadocs.  It only copies files with substantial changes from the `target/apidocs` folder to the `docs/apidocs` folder.  It also adds new files and deletes no longer used ones.  I think I used poor names, `newfile` and `oldfile`, but it works.  I mean, it wasn&#39;t enough to justify checking javadoc into my project&#39;s source control, but it helps.\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\n\r\n# -I means ignore lines matching a regular expression\r\n# -q means &quot;quiet&quot; - only tell whether files differ or not\r\n# -r means &quot;recursive&quot; - explore subdirectories\r\n# -N means &quot;treat absent files as empty&quot; which makes absent files show up in Quiet mode.\r\ndiff -I &#39;&lt;!-- Generated by javadoc &#39; \\\r\n     -I &#39;&lt;meta name=&quot;date&quot; content=&quot;&#39; \\\r\n     -I &#39;&lt;title&gt;&#39; \\\r\n     -I &#39;parent.document.title=&#39; \\\r\n     -N \\\r\n     -qr \\\r\n     docs/apidocs/ target/apidocs/ &gt; target/javadocPatch.txt\r\n\r\n# Now read in the output file created by the previous command and\r\n# Update only files that have substantial changes.\r\nwhile read  ignore1 oldfile ignore2 newfile ignore3\r\ndo\r\n  if [ ! -f &quot;$oldfile&quot; ]\r\n  then\r\n    echo &quot;Added $oldfile&quot;\r\n    echo -n &gt;$oldfile\r\n    cp -fu $newfile $oldfile\r\n  elif [ ! -f &quot;$newfile&quot; ]\r\n  then\r\n    echo &quot;Deleted $newfile&quot;\r\n    rm $newfile\r\n  else\r\n    echo &quot;cp -fu $newfile $oldfile&quot;\r\n    cp -fu $newfile $oldfile\r\n  fi\r\ndone &lt; &quot;target/javadocPatch.txt&quot;\r\n```","title":"Display JavaDocs on GitHub","body":"<h3>Do NOT check Javadocs into the source control for your project</h3>\n\n<p>Especially not into the <code>master</code> branch!   I followed the other answers to this question for about a year before deciding it was a really bad idea.  Why?</p>\n\n<ol>\n<li><p>It made it too difficult to review diffs.  I even made a script (see below) to update only the Javadoc pages that substantially changed, but it still was a mess.</p></li>\n<li><p>It fooled IntelliJ's refactoring tools.  I just tried to change .x() to .getX() and had to approve/reject every \"x\" in the Javadocs.  Maybe I forgot to exclude the folder in IntelliJ, but if you ever use sed/grep/find on your project, you have to remember to exclude it every time.</p></li>\n<li><p>It adds a bunch of data in git that just shouldn't be there, potentially making <code>pull</code> and <code>clone</code> commands take longer... FOREVER! Even if you later \"remove\" the folder, it's still stored in git.</p></li>\n</ol>\n\n<h3>Where should javadocs go?</h3>\n\n<p>It's probably best to post them on <a href=\"https://javadoc.io/\" rel=\"noreferrer\">https://javadoc.io/</a>, your web site, or AWS or heroku.  If you must check javadoc into source control, make a separate project just for Javadocs so you'll never need to look at the diff.  You can follow other people's answers for how to do this.</p>\n\n<h3>\"I read your post, but I'm doing it anyway\"</h3>\n\n<p>Here's my script to update fewer javadocs.  It only copies files with substantial changes from the <code>target/apidocs</code> folder to the <code>docs/apidocs</code> folder.  It also adds new files and deletes no longer used ones.  I think I used poor names, <code>newfile</code> and <code>oldfile</code>, but it works.  I mean, it wasn't enough to justify checking javadoc into my project's source control, but it helps.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/usr/bin/env bash\n\n# -I means ignore lines matching a regular expression\n# -q means \"quiet\" - only tell whether files differ or not\n# -r means \"recursive\" - explore subdirectories\n# -N means \"treat absent files as empty\" which makes absent files show up in Quiet mode.\ndiff -I '&lt;!-- Generated by javadoc ' \\\n     -I '&lt;meta name=\"date\" content=\"' \\\n     -I '&lt;title&gt;' \\\n     -I 'parent.document.title=' \\\n     -N \\\n     -qr \\\n     docs/apidocs/ target/apidocs/ &gt; target/javadocPatch.txt\n\n# Now read in the output file created by the previous command and\n# Update only files that have substantial changes.\nwhile read  ignore1 oldfile ignore2 newfile ignore3\ndo\n  if [ ! -f \"$oldfile\" ]\n  then\n    echo \"Added $oldfile\"\n    echo -n &gt;$oldfile\n    cp -fu $newfile $oldfile\n  elif [ ! -f \"$newfile\" ]\n  then\n    echo \"Deleted $newfile\"\n    rm $newfile\n  else\n    echo \"cp -fu $newfile $oldfile\"\n    cp -fu $newfile $oldfile\n  fi\ndone &lt; \"target/javadocPatch.txt\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2810135,"reputation":2075,"user_id":2416526,"display_name":"Max"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1571504473,"creation_date":1571504473,"answer_id":58465995,"question_id":15347808,"body_markdown":"It might be a bit off topic but I believe what OP is looking for is a mechanism to automatically make javadoc available as a new version of the project is published. \r\n\r\nIf this is the case, then you can try: http://javadoc.io\r\n\r\nIt&#39;s a free service hosting javadocs for open source project, currently supporting maven central and bintray (jcenter).\r\n\r\nYou can generate a link to the latest version of your project. For example, this link https://javadoc.io/doc/org.springframework/spring-core always point to the latest version of *spring-core*, which is *5.2.0.RELEASE* at the time I write this answer.\r\n\r\nDeclaimer: I run javadoc.io","title":"Display JavaDocs on GitHub","body":"<p>It might be a bit off topic but I believe what OP is looking for is a mechanism to automatically make javadoc available as a new version of the project is published. </p>\n\n<p>If this is the case, then you can try: <a href=\"http://javadoc.io\" rel=\"noreferrer\">http://javadoc.io</a></p>\n\n<p>It's a free service hosting javadocs for open source project, currently supporting maven central and bintray (jcenter).</p>\n\n<p>You can generate a link to the latest version of your project. For example, this link <a href=\"https://javadoc.io/doc/org.springframework/spring-core\" rel=\"noreferrer\">https://javadoc.io/doc/org.springframework/spring-core</a> always point to the latest version of <em>spring-core</em>, which is <em>5.2.0.RELEASE</em> at the time I write this answer.</p>\n\n<p>Declaimer: I run javadoc.io</p>\n"}],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31124,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":15364790,"answer_count":4,"score":48,"last_activity_date":1681891286,"creation_date":1363033111,"question_id":15347808,"body_markdown":"I&#39;m looking for a way to convert the *javadocs* from my open source project (generated in *Eclipse*) to *GitHub MarkDown*, or come up with some other simple solution to display my documentation on *GitHub* (shy of simply adding a `docs` directory). Is there a simple solution for this? Can I simply point the *GitHub* `README.md` to my `docs` directory? Is there something more elegant? I have been striking out on *Google*.","title":"Display JavaDocs on GitHub","body":"<p>I'm looking for a way to convert the <em>javadocs</em> from my open source project (generated in <em>Eclipse</em>) to <em>GitHub MarkDown</em>, or come up with some other simple solution to display my documentation on <em>GitHub</em> (shy of simply adding a <code>docs</code> directory). Is there a simple solution for this? Can I simply point the <em>GitHub</em> <code>README.md</code> to my <code>docs</code> directory? Is there something more elegant? I have been striking out on <em>Google</em>.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681885790,"post_id":76050999,"comment_id":134127108,"body_markdown":"please post your stacktrace","body":"please post your stacktrace"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681886171,"post_id":76050999,"comment_id":134127184,"body_markdown":"If the stacktrace does not show the bad sql, try to shown it be increasing the log level on the relevant package to TRACE and adding the relevant part to the question.","body":"If the stacktrace does not show the bad sql, try to shown it be increasing the log level on the relevant package to TRACE and adding the relevant part to the question."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681891122,"post_id":76050999,"comment_id":134128306,"body_markdown":"Also, setting spring.jpa.show-sql=true might reveal the bad SQL","body":"Also, setting spring.jpa.show-sql=true might reveal the bad SQL"},{"owner":{"account_id":15964250,"reputation":25,"user_id":11520403,"display_name":"Srushti"},"score":0,"creation_date":1681891354,"post_id":76050999,"comment_id":134128355,"body_markdown":"Thanks, I have added the screenshot of error. Also, where to add these statement to reveal the bad SQL","body":"Thanks, I have added the screenshot of error. Also, where to add these statement to reveal the bad SQL"},{"owner":{"account_id":15964250,"reputation":25,"user_id":11520403,"display_name":"Srushti"},"score":0,"creation_date":1681892026,"post_id":76050999,"comment_id":134128499,"body_markdown":"I added a try catch block where there was a add (into the DB) function. The exception is gone, but the table is not being created still","body":"I added a try catch block where there was a add (into the DB) function. The exception is gone, but the table is not being created still"}],"owner":{"account_id":15964250,"reputation":25,"user_id":11520403,"display_name":"Srushti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681891270,"creation_date":1681881868,"question_id":76050999,"body_markdown":"[![enter image description here][1]][1]This is my Product.java class\r\n\r\n  \r\n\r\n    @Entity\r\n    @Table(name=&quot;product&quot;,schema=&quot;productcrud&quot;)\r\n    public class Product {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String desc;\r\n\tprivate long price;\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getDesc() {\r\n\t\treturn desc;\r\n\t}\r\n\tpublic void setDesc(String desc) {\r\n\t\tthis.desc = desc;\r\n\t}\r\n\tpublic long getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\tpublic void setPrice(long price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\t\r\n    }\r\n\r\nThis is my xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context.xsd\r\n    http://www.springframework.org/schema/tx\r\n    http://www.springframework.org/schema/tx/spring-tx.xsd\r\n    http://www.springframework.org/schema/mvc\r\n    http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n    \r\n    &lt;tx:annotation-driven/&gt;\r\n    \r\n    &lt;context:component-scan base-package=&quot;productcrudapp&quot;/&gt;\r\n    \r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; \r\n     name=&quot;viewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; name=&quot;ds&quot;&gt;\r\n    \t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/productcrud&quot;/&gt;\r\n    \t&lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot; \r\n     name=&quot;factory&quot;&gt;\r\n    \t&lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t&lt;props&gt;\r\n    \t\t\t&lt;prop \r\n      key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/prop&gt;\r\n    \t\t\t&lt;prop key=&quot;hiberntae.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n    \t\t&lt;/props&gt;\r\n    \t&lt;/property&gt;\r\n    \t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;\r\n    \t\t\t\tproductcrudapp.model.Product\r\n    \t\t\t&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot; \r\n     name=&quot;hibernateTemplate&quot;&gt;\r\n    \t&lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; \r\n     name=&quot;transactionManager&quot;&gt;\r\n    \t&lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n     &lt;/beans&gt;\r\nThis a springmvc application being hosted on Tomcat server on localhost\r\nHere I am trying to create a Product table in productcrud schema. I have all the dependencies present in xml file and also the schema already exists in DB. And if I am trying to run this application I am getting a SQLSyntax error.\r\nWhat wrong I am doing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X3yXL.jpg","title":"SQLSyntax error during automatic table creation in MYSQL DB by spring jpa application","body":"<p><a href=\"https://i.stack.imgur.com/X3yXL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X3yXL.jpg\" alt=\"enter image description here\" /></a>This is my Product.java class</p>\n<pre><code>@Entity\n@Table(name=&quot;product&quot;,schema=&quot;productcrud&quot;)\npublic class Product {\n\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate int id;\nprivate String name;\nprivate String desc;\nprivate long price;\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic String getDesc() {\n    return desc;\n}\npublic void setDesc(String desc) {\n    this.desc = desc;\n}\npublic long getPrice() {\n    return price;\n}\npublic void setPrice(long price) {\n    this.price = price;\n}\n\n}\n</code></pre>\n<p>This is my xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:p=&quot;http://www.springframework.org/schema/p&quot;\nxmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\nxmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx.xsd\nhttp://www.springframework.org/schema/mvc\nhttp://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n&lt;tx:annotation-driven/&gt;\n\n&lt;context:component-scan base-package=&quot;productcrudapp&quot;/&gt;\n\n&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; \n name=&quot;viewResolver&quot;&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; name=&quot;ds&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/productcrud&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot; \n name=&quot;factory&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop \n  key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/prop&gt;\n            &lt;prop key=&quot;hiberntae.show_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;annotatedClasses&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;\n                productcrudapp.model.Product\n            &lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot; \n name=&quot;hibernateTemplate&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; \n name=&quot;transactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n &lt;/beans&gt;\n</code></pre>\n<p>This a springmvc application being hosted on Tomcat server on localhost\nHere I am trying to create a Product table in productcrud schema. I have all the dependencies present in xml file and also the schema already exists in DB. And if I am trying to run this application I am getting a SQLSyntax error.\nWhat wrong I am doing?</p>\n"},{"tags":["java","android","parcelable"],"comments":[{"owner":{"account_id":2829492,"reputation":5518,"user_id":2431349,"accept_rate":17,"display_name":"Manishika"},"score":1,"creation_date":1560765391,"post_id":56628643,"comment_id":99829714,"body_markdown":"Are you having any crash or just your object is null ? Please post logcat if app is crashing","body":"Are you having any crash or just your object is null ? Please post logcat if app is crashing"}],"answers":[{"tags":[],"owner":{"account_id":7313211,"reputation":920,"user_id":5571700,"accept_rate":0,"display_name":"p.mathew13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1560766654,"creation_date":1560766654,"answer_id":56629259,"question_id":56628643,"body_markdown":"I rewrote your data class a bit.Please try this:\r\n\r\n    public class Movie implements Parcelable {\r\n\r\n    @SerializedName(&quot;vote_count&quot;)\r\n    @Expose\r\n    private Integer voteCount;\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    private Integer id;\r\n    @SerializedName(&quot;video&quot;)\r\n    @Expose\r\n    private Boolean video;\r\n    @SerializedName(&quot;vote_average&quot;)\r\n    @Expose\r\n    private Double voteAverage;\r\n    @SerializedName(&quot;title&quot;)\r\n    @Expose\r\n    private String title;\r\n    @SerializedName(&quot;popularity&quot;)\r\n    @Expose\r\n    private Double popularity;\r\n    @SerializedName(&quot;poster_path&quot;)\r\n    @Expose\r\n    private String posterPath;\r\n    @SerializedName(&quot;original_language&quot;)\r\n    @Expose\r\n    private String originalLanguage;\r\n    @SerializedName(&quot;original_title&quot;)\r\n    @Expose\r\n    private String originalTitle;\r\n    @SerializedName(&quot;genre_ids&quot;)\r\n    @Expose\r\n    private List&lt;Integer&gt; genreIds = null;\r\n    @SerializedName(&quot;backdrop_path&quot;)\r\n    @Expose\r\n    private String backdropPath;\r\n    @SerializedName(&quot;adult&quot;)\r\n    @Expose\r\n    private Boolean adult;\r\n    @SerializedName(&quot;overview&quot;)\r\n    @Expose\r\n    private String overview;\r\n    @SerializedName(&quot;release_date&quot;)\r\n    @Expose\r\n    private String releaseDate;\r\n\r\n    protected Movie(Parcel in) {\r\n        voteCount = in.readByte() == 0x00 ? null : in.readInt();\r\n        id = in.readByte() == 0x00 ? null : in.readInt();\r\n        byte videoVal = in.readByte();\r\n        video = videoVal == 0x02 ? null : videoVal != 0x00;\r\n        voteAverage = in.readByte() == 0x00 ? null : in.readDouble();\r\n        title = in.readString();\r\n        popularity = in.readByte() == 0x00 ? null : in.readDouble();\r\n        posterPath = in.readString();\r\n        originalLanguage = in.readString();\r\n        originalTitle = in.readString();\r\n        if (in.readByte() == 0x01) {\r\n            genreIds = new ArrayList&lt;Integer&gt;();\r\n            in.readList(genreIds, Integer.class.getClassLoader());\r\n        } else {\r\n            genreIds = null;\r\n        }\r\n        backdropPath = in.readString();\r\n        byte adultVal = in.readByte();\r\n        adult = adultVal == 0x02 ? null : adultVal != 0x00;\r\n        overview = in.readString();\r\n        releaseDate = in.readString();\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel dest, int flags) {\r\n        if (voteCount == null) {\r\n            dest.writeByte((byte) (0x00));\r\n        } else {\r\n            dest.writeByte((byte) (0x01));\r\n            dest.writeInt(voteCount);\r\n        }\r\n        if (id == null) {\r\n            dest.writeByte((byte) (0x00));\r\n        } else {\r\n            dest.writeByte((byte) (0x01));\r\n            dest.writeInt(id);\r\n        }\r\n        if (video == null) {\r\n            dest.writeByte((byte) (0x02));\r\n        } else {\r\n            dest.writeByte((byte) (video ? 0x01 : 0x00));\r\n        }\r\n        if (voteAverage == null) {\r\n            dest.writeByte((byte) (0x00));\r\n        } else {\r\n            dest.writeByte((byte) (0x01));\r\n            dest.writeDouble(voteAverage);\r\n        }\r\n        dest.writeString(title);\r\n        if (popularity == null) {\r\n            dest.writeByte((byte) (0x00));\r\n        } else {\r\n            dest.writeByte((byte) (0x01));\r\n            dest.writeDouble(popularity);\r\n        }\r\n        dest.writeString(posterPath);\r\n        dest.writeString(originalLanguage);\r\n        dest.writeString(originalTitle);\r\n        if (genreIds == null) {\r\n            dest.writeByte((byte) (0x00));\r\n        } else {\r\n            dest.writeByte((byte) (0x01));\r\n            dest.writeList(genreIds);\r\n        }\r\n        dest.writeString(backdropPath);\r\n        if (adult == null) {\r\n            dest.writeByte((byte) (0x02));\r\n        } else {\r\n            dest.writeByte((byte) (adult ? 0x01 : 0x00));\r\n        }\r\n        dest.writeString(overview);\r\n        dest.writeString(releaseDate);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public static final Parcelable.Creator&lt;Movie&gt; CREATOR = new Parcelable.Creator&lt;Movie&gt;() {\r\n        @Override\r\n        public Movie createFromParcel(Parcel in) {\r\n            return new Movie(in);\r\n        }\r\n\r\n        @Override\r\n        public Movie[] newArray(int size) {\r\n            return new Movie[size];\r\n        }\r\n    };\r\n    }","title":"Null object when retrieved via parcelableextra via intent","body":"<p>I rewrote your data class a bit.Please try this:</p>\n\n<pre><code>public class Movie implements Parcelable {\n\n@SerializedName(\"vote_count\")\n@Expose\nprivate Integer voteCount;\n@SerializedName(\"id\")\n@Expose\nprivate Integer id;\n@SerializedName(\"video\")\n@Expose\nprivate Boolean video;\n@SerializedName(\"vote_average\")\n@Expose\nprivate Double voteAverage;\n@SerializedName(\"title\")\n@Expose\nprivate String title;\n@SerializedName(\"popularity\")\n@Expose\nprivate Double popularity;\n@SerializedName(\"poster_path\")\n@Expose\nprivate String posterPath;\n@SerializedName(\"original_language\")\n@Expose\nprivate String originalLanguage;\n@SerializedName(\"original_title\")\n@Expose\nprivate String originalTitle;\n@SerializedName(\"genre_ids\")\n@Expose\nprivate List&lt;Integer&gt; genreIds = null;\n@SerializedName(\"backdrop_path\")\n@Expose\nprivate String backdropPath;\n@SerializedName(\"adult\")\n@Expose\nprivate Boolean adult;\n@SerializedName(\"overview\")\n@Expose\nprivate String overview;\n@SerializedName(\"release_date\")\n@Expose\nprivate String releaseDate;\n\nprotected Movie(Parcel in) {\n    voteCount = in.readByte() == 0x00 ? null : in.readInt();\n    id = in.readByte() == 0x00 ? null : in.readInt();\n    byte videoVal = in.readByte();\n    video = videoVal == 0x02 ? null : videoVal != 0x00;\n    voteAverage = in.readByte() == 0x00 ? null : in.readDouble();\n    title = in.readString();\n    popularity = in.readByte() == 0x00 ? null : in.readDouble();\n    posterPath = in.readString();\n    originalLanguage = in.readString();\n    originalTitle = in.readString();\n    if (in.readByte() == 0x01) {\n        genreIds = new ArrayList&lt;Integer&gt;();\n        in.readList(genreIds, Integer.class.getClassLoader());\n    } else {\n        genreIds = null;\n    }\n    backdropPath = in.readString();\n    byte adultVal = in.readByte();\n    adult = adultVal == 0x02 ? null : adultVal != 0x00;\n    overview = in.readString();\n    releaseDate = in.readString();\n}\n\n@Override\npublic int describeContents() {\n    return 0;\n}\n\n@Override\npublic void writeToParcel(Parcel dest, int flags) {\n    if (voteCount == null) {\n        dest.writeByte((byte) (0x00));\n    } else {\n        dest.writeByte((byte) (0x01));\n        dest.writeInt(voteCount);\n    }\n    if (id == null) {\n        dest.writeByte((byte) (0x00));\n    } else {\n        dest.writeByte((byte) (0x01));\n        dest.writeInt(id);\n    }\n    if (video == null) {\n        dest.writeByte((byte) (0x02));\n    } else {\n        dest.writeByte((byte) (video ? 0x01 : 0x00));\n    }\n    if (voteAverage == null) {\n        dest.writeByte((byte) (0x00));\n    } else {\n        dest.writeByte((byte) (0x01));\n        dest.writeDouble(voteAverage);\n    }\n    dest.writeString(title);\n    if (popularity == null) {\n        dest.writeByte((byte) (0x00));\n    } else {\n        dest.writeByte((byte) (0x01));\n        dest.writeDouble(popularity);\n    }\n    dest.writeString(posterPath);\n    dest.writeString(originalLanguage);\n    dest.writeString(originalTitle);\n    if (genreIds == null) {\n        dest.writeByte((byte) (0x00));\n    } else {\n        dest.writeByte((byte) (0x01));\n        dest.writeList(genreIds);\n    }\n    dest.writeString(backdropPath);\n    if (adult == null) {\n        dest.writeByte((byte) (0x02));\n    } else {\n        dest.writeByte((byte) (adult ? 0x01 : 0x00));\n    }\n    dest.writeString(overview);\n    dest.writeString(releaseDate);\n}\n\n@SuppressWarnings(\"unused\")\npublic static final Parcelable.Creator&lt;Movie&gt; CREATOR = new Parcelable.Creator&lt;Movie&gt;() {\n    @Override\n    public Movie createFromParcel(Parcel in) {\n        return new Movie(in);\n    }\n\n    @Override\n    public Movie[] newArray(int size) {\n        return new Movie[size];\n    }\n};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14406936,"reputation":29,"user_id":10406745,"display_name":"Zubair Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681890950,"creation_date":1681583766,"answer_id":76024088,"question_id":56628643,"body_markdown":"You have to make the below change to make it work: \r\n\r\n    @Expose\r\n    private List&lt;Integer&gt; genreIds = new ArrayList&lt;Integer&gt;(); \r\n  \r\ninstead of : \r\n \r\n\r\n       @Expose\r\n       private List&lt;Integer&gt; genreIds = null;\r\n\r\nThe above example code given by @p.mathew13. assumes length of ArrayList&lt;Integer&gt; returned as response to be 1. Since we pull Movies from a Rest API no one can guarantee the condition to hold. \r\n\r\n","title":"Null object when retrieved via parcelableextra via intent","body":"<p>You have to make the below change to make it work:</p>\n<pre><code>@Expose\nprivate List&lt;Integer&gt; genreIds = new ArrayList&lt;Integer&gt;(); \n</code></pre>\n<p>instead of :</p>\n<pre><code>   @Expose\n   private List&lt;Integer&gt; genreIds = null;\n</code></pre>\n<p>The above example code given by @p.mathew13. assumes length of ArrayList returned as response to be 1. Since we pull Movies from a Rest API no one can guarantee the condition to hold.</p>\n"}],"owner":{"account_id":14054966,"reputation":141,"user_id":10152603,"display_name":"beni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56629259,"answer_count":2,"score":1,"last_activity_date":1681890950,"creation_date":1560764391,"question_id":56628643,"body_markdown":"Building a MoviesDB app that calls api and retrieves data to display popular movies after building the initial grid layout etc and calling api I&#39;ve built another activity to display the clicked item. I just want to log some data before I code the activity but it returns null. It&#39;s a custom Movie object. I&#39;ve read around a bit and it seems a problem with the ordering of parcelable in the Movie.class but I&#39;m unsure.\r\n\r\n\r\nplease help (if you  could elaborate as well that would be great)\r\n\r\n    public class MovieActivity extends AppCompatActivity {\r\n    \r\n        private Movie movie;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_movie);\r\n    //        getSupportActionBar().setTitle(&quot;Movie&quot;);\r\n    //        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    \r\n            Intent intent = getIntent();\r\n    \r\n            if(intent.hasExtra(&quot;movie&quot;)) {\r\n                movie = intent.getParcelableExtra(&quot;movie&quot;);\r\n                Toast.makeText(getApplicationContext(), movie.getOriginalTitle(), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n-------------------------------------------------\r\n\r\n    public class MovieAdapter extends RecyclerView.Adapter&lt;MovieAdapter.MovieViewHolder&gt; {\r\n    \r\n        private Context context;\r\n        private ArrayList&lt;Movie&gt; movieArrayList;\r\n    \r\n        public MovieAdapter(Context context, ArrayList&lt;Movie&gt; movieArrayList) {\r\n            this.context = context;\r\n            this.movieArrayList = movieArrayList;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public MovieViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n    \r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.movie_list_item, parent, false);\r\n            return new MovieViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MovieViewHolder holder, int position) {\r\n    \r\n            holder.movieTitle.setText(movieArrayList.get(position).getOriginalTitle());\r\n            holder.rate.setText(Double.toString(movieArrayList.get(position).getVoteAverage()));\r\n    \r\n            String imagePath = &quot;https://image.tmdb.org/t/p/w500&quot; + movieArrayList.get(position).getPosterPath();\r\n    \r\n            Glide.with(context)\r\n                    .load(imagePath)\r\n                    .placeholder(R.drawable.loading)\r\n                    .into(holder.movieImage);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return movieArrayList.size();\r\n        }\r\n    \r\n    \r\n        public class MovieViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n    \r\n            public TextView movieTitle, rate;\r\n            public ImageView movieImage;\r\n    \r\n            public MovieViewHolder(View itemView) {\r\n                super(itemView);\r\n    \r\n                movieImage = (ImageView) itemView.findViewById(R.id.ivMovie);\r\n                rate = (TextView) itemView.findViewById(R.id.tvRating);\r\n                movieTitle = (TextView) itemView.findViewById(R.id.tvTitle);\r\n    \r\n                itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n    \r\n                        int position = getAdapterPosition();\r\n    \r\n                        if (position != RecyclerView.NO_POSITION) {\r\n    \r\n                            Movie selctedMovie = movieArrayList.get(position);\r\n    \r\n                            Intent intent = new Intent(context, MovieActivity.class);\r\n                            intent.putExtra(&quot;movie&quot;, selctedMovie);\r\n                            context.startActivity(intent);\r\n    \r\n    \r\n                        }\r\n    \r\n    \r\n                    }\r\n                });\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n-------------------------------------------------\r\n\r\n    public class Movie implements Parcelable\r\n    {\r\n    \r\n        @SerializedName(&quot;vote_count&quot;)\r\n        @Expose\r\n        private Integer voteCount;\r\n        @SerializedName(&quot;id&quot;)\r\n        @Expose\r\n        private Integer id;\r\n        @SerializedName(&quot;video&quot;)\r\n        @Expose\r\n        private Boolean video;\r\n        @SerializedName(&quot;vote_average&quot;)\r\n        @Expose\r\n        private Double voteAverage;\r\n        @SerializedName(&quot;title&quot;)\r\n        @Expose\r\n        private String title;\r\n        @SerializedName(&quot;popularity&quot;)\r\n        @Expose\r\n        private Double popularity;\r\n        @SerializedName(&quot;poster_path&quot;)\r\n        @Expose\r\n        private String posterPath;\r\n        @SerializedName(&quot;original_language&quot;)\r\n        @Expose\r\n        private String originalLanguage;\r\n        @SerializedName(&quot;original_title&quot;)\r\n        @Expose\r\n        private String originalTitle;\r\n        @SerializedName(&quot;genre_ids&quot;)\r\n        @Expose\r\n        private List&lt;Integer&gt; genreIds = null;\r\n        @SerializedName(&quot;backdrop_path&quot;)\r\n        @Expose\r\n        private String backdropPath;\r\n        @SerializedName(&quot;adult&quot;)\r\n        @Expose\r\n        private Boolean adult;\r\n        @SerializedName(&quot;overview&quot;)\r\n        @Expose\r\n        private String overview;\r\n        @SerializedName(&quot;release_date&quot;)\r\n        @Expose\r\n        private String releaseDate;\r\n        public final static Parcelable.Creator&lt;Movie&gt; CREATOR = new Creator&lt;Movie&gt;() {\r\n    \r\n    \r\n            @SuppressWarnings({\r\n                    &quot;unchecked&quot;\r\n            })\r\n            public Movie createFromParcel(Parcel in) {\r\n                return new Movie(in);\r\n            }\r\n    \r\n            public Movie[] newArray(int size) {\r\n                return (new Movie[size]);\r\n            }\r\n    \r\n        }\r\n                ;\r\n    \r\n        protected Movie(Parcel in) {\r\n            this.voteCount = ((Integer) in.readValue((Integer.class.getClassLoader())));\r\n            this.id = ((Integer) in.readValue((Integer.class.getClassLoader())));\r\n            this.video = ((Boolean) in.readValue((Boolean.class.getClassLoader())));\r\n            this.voteAverage = ((Double) in.readValue((Double.class.getClassLoader())));\r\n            this.title = ((String) in.readValue((String.class.getClassLoader())));\r\n            this.popularity = ((Double) in.readValue((Double.class.getClassLoader())));\r\n            this.posterPath = ((String) in.readValue((String.class.getClassLoader())));\r\n            this.originalLanguage = ((String) in.readValue((String.class.getClassLoader())));\r\n            this.originalTitle = ((String) in.readValue((String.class.getClassLoader())));\r\n            in.readList(this.genreIds, (java.lang.Integer.class.getClassLoader()));\r\n            this.backdropPath = ((String) in.readValue((String.class.getClassLoader())));\r\n            this.adult = ((Boolean) in.readValue((Boolean.class.getClassLoader())));\r\n            this.overview = ((String) in.readValue((String.class.getClassLoader())));\r\n            this.releaseDate = ((String) in.readValue((String.class.getClassLoader())));\r\n        }\r\n    \r\n        public Movie() {\r\n        }\r\n    \r\n        public Integer getVoteCount() {\r\n            return voteCount;\r\n        }\r\n    \r\n        public void setVoteCount(Integer voteCount) {\r\n            this.voteCount = voteCount;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Boolean getVideo() {\r\n            return video;\r\n        }\r\n    \r\n        public void setVideo(Boolean video) {\r\n            this.video = video;\r\n        }\r\n    \r\n        public Double getVoteAverage() {\r\n            return voteAverage;\r\n        }\r\n    \r\n        public void setVoteAverage(Double voteAverage) {\r\n            this.voteAverage = voteAverage;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public Double getPopularity() {\r\n            return popularity;\r\n        }\r\n    \r\n        public void setPopularity(Double popularity) {\r\n            this.popularity = popularity;\r\n        }\r\n    \r\n        public String getPosterPath() {\r\n            return posterPath;\r\n        }\r\n    \r\n        public void setPosterPath(String posterPath) {\r\n            this.posterPath = posterPath;\r\n        }\r\n    \r\n        public String getOriginalLanguage() {\r\n            return originalLanguage;\r\n        }\r\n    \r\n        public void setOriginalLanguage(String originalLanguage) {\r\n            this.originalLanguage = originalLanguage;\r\n        }\r\n    \r\n        public String getOriginalTitle() {\r\n            return originalTitle;\r\n        }\r\n    \r\n        public void setOriginalTitle(String originalTitle) {\r\n            this.originalTitle = originalTitle;\r\n        }\r\n    \r\n        public List&lt;Integer&gt; getGenreIds() {\r\n            return genreIds;\r\n        }\r\n    \r\n        public void setGenreIds(List&lt;Integer&gt; genreIds) {\r\n            this.genreIds = genreIds;\r\n        }\r\n    \r\n        public String getBackdropPath() {\r\n            return backdropPath;\r\n        }\r\n    \r\n        public void setBackdropPath(String backdropPath) {\r\n            this.backdropPath = backdropPath;\r\n        }\r\n    \r\n        public Boolean getAdult() {\r\n            return adult;\r\n        }\r\n    \r\n        public void setAdult(Boolean adult) {\r\n            this.adult = adult;\r\n        }\r\n    \r\n        public String getOverview() {\r\n            return overview;\r\n        }\r\n    \r\n        public void setOverview(String overview) {\r\n            this.overview = overview;\r\n        }\r\n    \r\n        public String getReleaseDate() {\r\n            return releaseDate;\r\n        }\r\n    \r\n        public void setReleaseDate(String releaseDate) {\r\n            this.releaseDate = releaseDate;\r\n        }\r\n    \r\n        public void writeToParcel(Parcel dest, int flags) {\r\n            dest.writeValue(voteCount);\r\n            dest.writeValue(id);\r\n            dest.writeValue(video);\r\n            dest.writeValue(voteAverage);\r\n            dest.writeValue(title);\r\n            dest.writeValue(popularity);\r\n            dest.writeValue(posterPath);\r\n            dest.writeValue(originalLanguage);\r\n            dest.writeValue(originalTitle);\r\n            dest.writeList(genreIds);\r\n            dest.writeValue(backdropPath);\r\n            dest.writeValue(adult);\r\n            dest.writeValue(overview);\r\n            dest.writeValue(releaseDate);\r\n        }\r\n    \r\n        public int describeContents() {\r\n            return 0;\r\n        }\r\n    \r\n    }\r\n\r\nIts hard for me to understand because I expected that by using putExtra and passing the movie object on calling the getIntent and trying to retrieve the data it would return null but after a lot of debugging I can see that its null the object I&#39;ve passed which leads me to believe somewhere the parcelable isn&#39;t correct.  \r\n\r\nIn the MainActivity all films are displayed so its not an issue with the api key.\r\n\r\nThanks in  advance.","title":"Null object when retrieved via parcelableextra via intent","body":"<p>Building a MoviesDB app that calls api and retrieves data to display popular movies after building the initial grid layout etc and calling api I've built another activity to display the clicked item. I just want to log some data before I code the activity but it returns null. It's a custom Movie object. I've read around a bit and it seems a problem with the ordering of parcelable in the Movie.class but I'm unsure.</p>\n\n<p>please help (if you  could elaborate as well that would be great)</p>\n\n<pre><code>public class MovieActivity extends AppCompatActivity {\n\n    private Movie movie;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_movie);\n//        getSupportActionBar().setTitle(\"Movie\");\n//        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n        Intent intent = getIntent();\n\n        if(intent.hasExtra(\"movie\")) {\n            movie = intent.getParcelableExtra(\"movie\");\n            Toast.makeText(getApplicationContext(), movie.getOriginalTitle(), Toast.LENGTH_LONG).show();\n        }\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class MovieAdapter extends RecyclerView.Adapter&lt;MovieAdapter.MovieViewHolder&gt; {\n\n    private Context context;\n    private ArrayList&lt;Movie&gt; movieArrayList;\n\n    public MovieAdapter(Context context, ArrayList&lt;Movie&gt; movieArrayList) {\n        this.context = context;\n        this.movieArrayList = movieArrayList;\n    }\n\n    @NonNull\n    @Override\n    public MovieViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.movie_list_item, parent, false);\n        return new MovieViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MovieViewHolder holder, int position) {\n\n        holder.movieTitle.setText(movieArrayList.get(position).getOriginalTitle());\n        holder.rate.setText(Double.toString(movieArrayList.get(position).getVoteAverage()));\n\n        String imagePath = \"https://image.tmdb.org/t/p/w500\" + movieArrayList.get(position).getPosterPath();\n\n        Glide.with(context)\n                .load(imagePath)\n                .placeholder(R.drawable.loading)\n                .into(holder.movieImage);\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return movieArrayList.size();\n    }\n\n\n    public class MovieViewHolder extends RecyclerView.ViewHolder {\n\n\n        public TextView movieTitle, rate;\n        public ImageView movieImage;\n\n        public MovieViewHolder(View itemView) {\n            super(itemView);\n\n            movieImage = (ImageView) itemView.findViewById(R.id.ivMovie);\n            rate = (TextView) itemView.findViewById(R.id.tvRating);\n            movieTitle = (TextView) itemView.findViewById(R.id.tvTitle);\n\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    int position = getAdapterPosition();\n\n                    if (position != RecyclerView.NO_POSITION) {\n\n                        Movie selctedMovie = movieArrayList.get(position);\n\n                        Intent intent = new Intent(context, MovieActivity.class);\n                        intent.putExtra(\"movie\", selctedMovie);\n                        context.startActivity(intent);\n\n\n                    }\n\n\n                }\n            });\n\n\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class Movie implements Parcelable\n{\n\n    @SerializedName(\"vote_count\")\n    @Expose\n    private Integer voteCount;\n    @SerializedName(\"id\")\n    @Expose\n    private Integer id;\n    @SerializedName(\"video\")\n    @Expose\n    private Boolean video;\n    @SerializedName(\"vote_average\")\n    @Expose\n    private Double voteAverage;\n    @SerializedName(\"title\")\n    @Expose\n    private String title;\n    @SerializedName(\"popularity\")\n    @Expose\n    private Double popularity;\n    @SerializedName(\"poster_path\")\n    @Expose\n    private String posterPath;\n    @SerializedName(\"original_language\")\n    @Expose\n    private String originalLanguage;\n    @SerializedName(\"original_title\")\n    @Expose\n    private String originalTitle;\n    @SerializedName(\"genre_ids\")\n    @Expose\n    private List&lt;Integer&gt; genreIds = null;\n    @SerializedName(\"backdrop_path\")\n    @Expose\n    private String backdropPath;\n    @SerializedName(\"adult\")\n    @Expose\n    private Boolean adult;\n    @SerializedName(\"overview\")\n    @Expose\n    private String overview;\n    @SerializedName(\"release_date\")\n    @Expose\n    private String releaseDate;\n    public final static Parcelable.Creator&lt;Movie&gt; CREATOR = new Creator&lt;Movie&gt;() {\n\n\n        @SuppressWarnings({\n                \"unchecked\"\n        })\n        public Movie createFromParcel(Parcel in) {\n            return new Movie(in);\n        }\n\n        public Movie[] newArray(int size) {\n            return (new Movie[size]);\n        }\n\n    }\n            ;\n\n    protected Movie(Parcel in) {\n        this.voteCount = ((Integer) in.readValue((Integer.class.getClassLoader())));\n        this.id = ((Integer) in.readValue((Integer.class.getClassLoader())));\n        this.video = ((Boolean) in.readValue((Boolean.class.getClassLoader())));\n        this.voteAverage = ((Double) in.readValue((Double.class.getClassLoader())));\n        this.title = ((String) in.readValue((String.class.getClassLoader())));\n        this.popularity = ((Double) in.readValue((Double.class.getClassLoader())));\n        this.posterPath = ((String) in.readValue((String.class.getClassLoader())));\n        this.originalLanguage = ((String) in.readValue((String.class.getClassLoader())));\n        this.originalTitle = ((String) in.readValue((String.class.getClassLoader())));\n        in.readList(this.genreIds, (java.lang.Integer.class.getClassLoader()));\n        this.backdropPath = ((String) in.readValue((String.class.getClassLoader())));\n        this.adult = ((Boolean) in.readValue((Boolean.class.getClassLoader())));\n        this.overview = ((String) in.readValue((String.class.getClassLoader())));\n        this.releaseDate = ((String) in.readValue((String.class.getClassLoader())));\n    }\n\n    public Movie() {\n    }\n\n    public Integer getVoteCount() {\n        return voteCount;\n    }\n\n    public void setVoteCount(Integer voteCount) {\n        this.voteCount = voteCount;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Boolean getVideo() {\n        return video;\n    }\n\n    public void setVideo(Boolean video) {\n        this.video = video;\n    }\n\n    public Double getVoteAverage() {\n        return voteAverage;\n    }\n\n    public void setVoteAverage(Double voteAverage) {\n        this.voteAverage = voteAverage;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public Double getPopularity() {\n        return popularity;\n    }\n\n    public void setPopularity(Double popularity) {\n        this.popularity = popularity;\n    }\n\n    public String getPosterPath() {\n        return posterPath;\n    }\n\n    public void setPosterPath(String posterPath) {\n        this.posterPath = posterPath;\n    }\n\n    public String getOriginalLanguage() {\n        return originalLanguage;\n    }\n\n    public void setOriginalLanguage(String originalLanguage) {\n        this.originalLanguage = originalLanguage;\n    }\n\n    public String getOriginalTitle() {\n        return originalTitle;\n    }\n\n    public void setOriginalTitle(String originalTitle) {\n        this.originalTitle = originalTitle;\n    }\n\n    public List&lt;Integer&gt; getGenreIds() {\n        return genreIds;\n    }\n\n    public void setGenreIds(List&lt;Integer&gt; genreIds) {\n        this.genreIds = genreIds;\n    }\n\n    public String getBackdropPath() {\n        return backdropPath;\n    }\n\n    public void setBackdropPath(String backdropPath) {\n        this.backdropPath = backdropPath;\n    }\n\n    public Boolean getAdult() {\n        return adult;\n    }\n\n    public void setAdult(Boolean adult) {\n        this.adult = adult;\n    }\n\n    public String getOverview() {\n        return overview;\n    }\n\n    public void setOverview(String overview) {\n        this.overview = overview;\n    }\n\n    public String getReleaseDate() {\n        return releaseDate;\n    }\n\n    public void setReleaseDate(String releaseDate) {\n        this.releaseDate = releaseDate;\n    }\n\n    public void writeToParcel(Parcel dest, int flags) {\n        dest.writeValue(voteCount);\n        dest.writeValue(id);\n        dest.writeValue(video);\n        dest.writeValue(voteAverage);\n        dest.writeValue(title);\n        dest.writeValue(popularity);\n        dest.writeValue(posterPath);\n        dest.writeValue(originalLanguage);\n        dest.writeValue(originalTitle);\n        dest.writeList(genreIds);\n        dest.writeValue(backdropPath);\n        dest.writeValue(adult);\n        dest.writeValue(overview);\n        dest.writeValue(releaseDate);\n    }\n\n    public int describeContents() {\n        return 0;\n    }\n\n}\n</code></pre>\n\n<p>Its hard for me to understand because I expected that by using putExtra and passing the movie object on calling the getIntent and trying to retrieve the data it would return null but after a lot of debugging I can see that its null the object I've passed which leads me to believe somewhere the parcelable isn't correct.  </p>\n\n<p>In the MainActivity all films are displayed so its not an issue with the api key.</p>\n\n<p>Thanks in  advance.</p>\n"},{"tags":["java","macos","apple-m1","amazon-dynamodb-local"],"comments":[{"owner":{"account_id":2047533,"reputation":1357,"user_id":7079497,"accept_rate":33,"display_name":"Pablo Ezequiel Leone"},"score":0,"creation_date":1664440463,"post_id":66635424,"comment_id":130473705,"body_markdown":"The solution mentioned in here https://stackoverflow.com/questions/73026972/serverless-dynamodb-start-migrate-error/73026973#73026973?newreg=1c588ac27ba44fc5a5484c4cee6ecd7a solved my issue.","body":"The solution mentioned in here <a href=\"https://stackoverflow.com/questions/73026972/serverless-dynamodb-start-migrate-error/73026973#73026973?newreg=1c588ac27ba44fc5a5484c4cee6ecd7a\" title=\"serverless dynamodb start migrate error\">stackoverflow.com/questions/73026972/&hellip;</a> solved my issue."}],"answers":[{"tags":[],"owner":{"account_id":6012386,"reputation":46,"user_id":4722428,"display_name":"Sidney Beekhoven"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1616005469,"creation_date":1616005469,"answer_id":66679065,"question_id":66635424,"body_markdown":"I had the same issue with dynamodb-local installed via brew. Apparently the sqlite4java lib being used does not have an arm version in there. Eg i get:\r\n\r\n```\r\nCaused by: java.lang.UnsatisfiedLinkError: /opt/homebrew/Caskroom/dynamodb-local/latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/opt/homebrew/Caskroom/dynamodb-local/latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\r\n\t/opt/homebrew/Caskroom/dynamodb-local/latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\r\n```\r\n\r\nInterestingly the docker image is working fine for me using the [docker preview version](https://www.docker.com/blog/new-docker-desktop-preview-for-apple-m1-released/), eg by using the docker compose file from [Deploying DynamoDB Locally on Your Computer](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html) (on the Docker tab).","title":"Dynamodb local setup on M1 apple silicon mac","body":"<p>I had the same issue with dynamodb-local installed via brew. Apparently the sqlite4java lib being used does not have an arm version in there. Eg i get:</p>\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: /opt/homebrew/Caskroom/dynamodb-local/latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/opt/homebrew/Caskroom/dynamodb-local/latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\n    /opt/homebrew/Caskroom/dynamodb-local/latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\n</code></pre>\n<p>Interestingly the docker image is working fine for me using the <a href=\"https://www.docker.com/blog/new-docker-desktop-preview-for-apple-m1-released/\" rel=\"nofollow noreferrer\">docker preview version</a>, eg by using the docker compose file from <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html\" rel=\"nofollow noreferrer\">Deploying DynamoDB Locally on Your Computer</a> (on the Docker tab).</p>\n"},{"tags":[],"owner":{"account_id":4943390,"reputation":371,"user_id":3979506,"display_name":"Leonardo Ampuero"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1620441068,"creation_date":1620441068,"answer_id":67443541,"question_id":66635424,"body_markdown":"I was able to run DynamoDB installing a java version x86-64 architecture rather than arm64 and starting it up from a rosetta terminal\r\n\r\n    java --version \r\n    openjdk 16.0.1 2021-04-20\r\n    OpenJDK Runtime Environment Zulu16.30+15-CA (build 16.0.1+9)\r\n    OpenJDK 64-Bit Server VM Zulu16.30+15-CA (build 16.0.1+9, mixed mode, sharing)\r\n\r\nhttps://www.azul.com/downloads/zulu-community/?version=java-16-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jre","title":"Dynamodb local setup on M1 apple silicon mac","body":"<p>I was able to run DynamoDB installing a java version x86-64 architecture rather than arm64 and starting it up from a rosetta terminal</p>\n<pre><code>java --version \nopenjdk 16.0.1 2021-04-20\nOpenJDK Runtime Environment Zulu16.30+15-CA (build 16.0.1+9)\nOpenJDK 64-Bit Server VM Zulu16.30+15-CA (build 16.0.1+9, mixed mode, sharing)\n</code></pre>\n<p><a href=\"https://www.azul.com/downloads/zulu-community/?version=java-16-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jre\" rel=\"noreferrer\">https://www.azul.com/downloads/zulu-community/?version=java-16-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jre</a></p>\n"},{"tags":[],"owner":{"account_id":2126910,"reputation":1761,"user_id":1888799,"display_name":"veysiertekin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1648481339,"creation_date":1643984096,"answer_id":70987801,"question_id":66635424,"body_markdown":"You can use newly published Apple Silicon (M1) library. Adding this as a dependency into your project or if you are using a folder based approach copying this file into native libraries path should fix the error:\r\n\r\n```java\r\nio.github.ganadist.sqlite4java:libsqlite4java-osx-aarch64:1.0.392\r\n```\r\n\r\nDirect download link: https://repo1.maven.org/maven2/io/github/ganadist/sqlite4java/libsqlite4java-osx-aarch64/1.0.392/libsqlite4java-osx-aarch64-1.0.392.dylib\r\n\r\nYou can specify custom native library path with `sqlite4java.library.path` system property:\r\n\r\n\r\n```java\r\n# JVM parameter:\r\n-Dsqlite4java.library.path=./native-libs\r\n# or within source code:\r\nSystem.setProperty(&quot;sqlite4java.library.path&quot;, &quot;./native-libs&quot;)\r\n```","title":"Dynamodb local setup on M1 apple silicon mac","body":"<p>You can use newly published Apple Silicon (M1) library. Adding this as a dependency into your project or if you are using a folder based approach copying this file into native libraries path should fix the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>io.github.ganadist.sqlite4java:libsqlite4java-osx-aarch64:1.0.392\n</code></pre>\n<p>Direct download link: <a href=\"https://repo1.maven.org/maven2/io/github/ganadist/sqlite4java/libsqlite4java-osx-aarch64/1.0.392/libsqlite4java-osx-aarch64-1.0.392.dylib\" rel=\"noreferrer\">https://repo1.maven.org/maven2/io/github/ganadist/sqlite4java/libsqlite4java-osx-aarch64/1.0.392/libsqlite4java-osx-aarch64-1.0.392.dylib</a></p>\n<p>You can specify custom native library path with <code>sqlite4java.library.path</code> system property:</p>\n<pre class=\"lang-java prettyprint-override\"><code># JVM parameter:\n-Dsqlite4java.library.path=./native-libs\n# or within source code:\nSystem.setProperty(&quot;sqlite4java.library.path&quot;, &quot;./native-libs&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2759747,"reputation":705,"user_id":2376872,"display_name":"Ben Romberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647343876,"creation_date":1647343876,"answer_id":71481517,"question_id":66635424,"body_markdown":"When using Maven, simply add the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.ganadist.sqlite4java&lt;/groupId&gt;\r\n      &lt;artifactId&gt;libsqlite4java-osx-aarch64&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.392&lt;/version&gt;\r\n      &lt;type&gt;dylib&lt;/type&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNote that `com.almworks.sqlite4java` has not been updated since 2014 so hopefully this will last until the AWS team will switch to another implementation.","title":"Dynamodb local setup on M1 apple silicon mac","body":"<p>When using Maven, simply add the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.ganadist.sqlite4java&lt;/groupId&gt;\n  &lt;artifactId&gt;libsqlite4java-osx-aarch64&lt;/artifactId&gt;\n  &lt;version&gt;1.0.392&lt;/version&gt;\n  &lt;type&gt;dylib&lt;/type&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that <code>com.almworks.sqlite4java</code> has not been updated since 2014 so hopefully this will last until the AWS team will switch to another implementation.</p>\n"},{"tags":[],"owner":{"account_id":13879579,"reputation":11,"user_id":10020255,"display_name":"justin lin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647880278,"creation_date":1647880278,"answer_id":71560953,"question_id":66635424,"body_markdown":"Once you have docker installed can:\r\n\r\n    docker pull amazon/dynamodb-local:latest\r\n    docker run -p 8000:8000 amazon/dynamodb-local:latest\r\n\r\nAnother way to do it is to use a Docker container and just bind it to the same port you might usually bind it to for ARM architectures. ","title":"Dynamodb local setup on M1 apple silicon mac","body":"<p>Once you have docker installed can:</p>\n<pre><code>docker pull amazon/dynamodb-local:latest\ndocker run -p 8000:8000 amazon/dynamodb-local:latest\n</code></pre>\n<p>Another way to do it is to use a Docker container and just bind it to the same port you might usually bind it to for ARM architectures.</p>\n"},{"tags":[],"owner":{"account_id":2637728,"reputation":503,"user_id":2282010,"display_name":"Gareth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681890929,"creation_date":1681890929,"answer_id":76051999,"question_id":66635424,"body_markdown":"As of v1.20 DynamoDB Local works on M1 Macs without any extra libraries.\r\n\r\nSo if you are having this problem, you can likely upgrade rather then relying on third party libraries of uncertain trustworthiness.","title":"Dynamodb local setup on M1 apple silicon mac","body":"<p>As of v1.20 DynamoDB Local works on M1 Macs without any extra libraries.</p>\n<p>So if you are having this problem, you can likely upgrade rather then relying on third party libraries of uncertain trustworthiness.</p>\n"}],"owner":{"account_id":8892838,"reputation":183,"user_id":6638836,"display_name":"Ahsan Ejaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11801,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":66679065,"answer_count":6,"score":18,"last_activity_date":1681890929,"creation_date":1615800720,"question_id":66635424,"body_markdown":"I did a local setup of dynamodb using https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html\r\n\r\nI am able to start the instance using the following command `java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb` but when i try to do anything else it gives me the following error.\r\n\r\n&gt; Mar 15, 2021 2:10:28 PM com.almworks.sqlite4java.Internal log\r\nWARNING: [sqlite] cannot open DB[15]: com.almworks.sqlite4java.SQLiteException: [-91] cannot load library: java.lang.UnsatisfiedLinkError: /Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\r\n\t/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\r\n\t/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\r\nMar 15, 2021 2:10:28 PM com.almworks.sqlite4java.Internal log\r\nSEVERE: [sqlite] SQLiteQueue[shared-local-instance.db]: error running job queue\r\ncom.almworks.sqlite4java.SQLiteException: [-91] cannot load library: java.lang.UnsatisfiedLinkError: /Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\r\n\t/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\r\n\t/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\r\n\tat com.almworks.sqlite4java.SQLite.loadLibrary(SQLite.java:97)\r\n\tat com.almworks.sqlite4java.SQLiteConnection.open0(SQLiteConnection.java:1441)\r\n\tat com.almworks.sqlite4java.SQLiteConnection.open(SQLiteConnection.java:282)\r\n\tat com.almworks.sqlite4java.SQLiteConnection.open(SQLiteConnection.java:293)\r\n\tat com.almworks.sqlite4java.SQLiteQueue.openConnection(SQLiteQueue.java:464)\r\n\tat com.almworks.sqlite4java.SQLiteQueue.queueFunction(SQLiteQueue.java:641)\r\n\tat com.almworks.sqlite4java.SQLiteQueue.runQueue(SQLiteQueue.java:623)\r\n\tat com.almworks.sqlite4java.SQLiteQueue.access$000(SQLiteQueue.java:77)\r\n\tat com.almworks.sqlite4java.SQLiteQueue$1.run(SQLiteQueue.java:205)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.UnsatisfiedLinkError: /Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\r\n\t/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\r\n\t/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load(Unknown Source)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(Unknown Source)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary0(Unknown Source)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\tat java.base/java.lang.Runtime.load0(Unknown Source)\r\n\tat java.base/java.lang.System.load(Unknown Source)\r\n\tat com.almworks.sqlite4java.Internal.tryLoadFromPath(Internal.java:340)\r\n\tat com.almworks.sqlite4java.Internal.loadLibraryX(Internal.java:117)\r\n\tat com.almworks.sqlite4java.SQLite.loadLibrary(SQLite.java:95)\r\n\t... 9 more\r\n    Mar 15, 2021 2:10:28 PM com.almworks.sqlite4java.Internal log\r\n    WARNING: [sqlite] SQLiteQueue[shared-local-instance.db]: stopped abnormally, reincarnating\r\n    in 3000ms\r\n\r\nIs this issure related to new M1 Apple Silicon architecture? Any workaround for this?\r\n  \r\n\r\n","title":"Dynamodb local setup on M1 apple silicon mac","body":"<p>I did a local setup of dynamodb using <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html</a></p>\n<p>I am able to start the instance using the following command <code>java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb</code> but when i try to do anything else it gives me the following error.</p>\n<blockquote>\n<p>Mar 15, 2021 2:10:28 PM com.almworks.sqlite4java.Internal log\nWARNING: [sqlite] cannot open DB[15]: com.almworks.sqlite4java.SQLiteException: [-91] cannot load library: java.lang.UnsatisfiedLinkError: /Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\n/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\n/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\nMar 15, 2021 2:10:28 PM com.almworks.sqlite4java.Internal log\nSEVERE: [sqlite] SQLiteQueue[shared-local-instance.db]: error running job queue\ncom.almworks.sqlite4java.SQLiteException: [-91] cannot load library: java.lang.UnsatisfiedLinkError: /Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\n/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\n/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\nat com.almworks.sqlite4java.SQLite.loadLibrary(SQLite.java:97)\nat com.almworks.sqlite4java.SQLiteConnection.open0(SQLiteConnection.java:1441)\nat com.almworks.sqlite4java.SQLiteConnection.open(SQLiteConnection.java:282)\nat com.almworks.sqlite4java.SQLiteConnection.open(SQLiteConnection.java:293)\nat com.almworks.sqlite4java.SQLiteQueue.openConnection(SQLiteQueue.java:464)\nat com.almworks.sqlite4java.SQLiteQueue.queueFunction(SQLiteQueue.java:641)\nat com.almworks.sqlite4java.SQLiteQueue.runQueue(SQLiteQueue.java:623)\nat com.almworks.sqlite4java.SQLiteQueue.access$000(SQLiteQueue.java:77)\nat com.almworks.sqlite4java.SQLiteQueue$1.run(SQLiteQueue.java:205)\nat java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.UnsatisfiedLinkError: /Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: dlopen(/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib, 1): no suitable image found.  Did find:\n/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\n/Users/ahsanejaz/Downloads/dynamodb_local_latest/DynamoDBLocal_lib/libsqlite4java-osx.dylib: no matching architecture in universal wrapper\nat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\nat java.base/java.lang.ClassLoader$NativeLibrary.load(Unknown Source)\nat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(Unknown Source)\nat java.base/java.lang.ClassLoader.loadLibrary0(Unknown Source)\nat java.base/java.lang.ClassLoader.loadLibrary(Unknown Source)\nat java.base/java.lang.Runtime.load0(Unknown Source)\nat java.base/java.lang.System.load(Unknown Source)\nat com.almworks.sqlite4java.Internal.tryLoadFromPath(Internal.java:340)\nat com.almworks.sqlite4java.Internal.loadLibraryX(Internal.java:117)\nat com.almworks.sqlite4java.SQLite.loadLibrary(SQLite.java:95)\n... 9 more\nMar 15, 2021 2:10:28 PM com.almworks.sqlite4java.Internal log\nWARNING: [sqlite] SQLiteQueue[shared-local-instance.db]: stopped abnormally, reincarnating\nin 3000ms</p>\n</blockquote>\n<p>Is this issure related to new M1 Apple Silicon architecture? Any workaround for this?</p>\n"},{"tags":["java","spring","software-design","data-access-layer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681890242,"post_id":76050820,"comment_id":134128120,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1681899810,"post_id":76050820,"comment_id":134130313,"body_markdown":"Why don&#39;t you go ahead and do it and check what the consequences are. Every design is different, I suppose you may not find a precedence which is close to your case.","body":"Why don&#39;t you go ahead and do it and check what the consequences are. Every design is different, I suppose you may not find a precedence which is close to your case."}],"owner":{"account_id":23823934,"reputation":3,"user_id":17831266,"display_name":"lWubaLubaDubDubl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681890217,"creation_date":1681879478,"question_id":76050820,"body_markdown":"if the id that I get from database won&#39;t change during process(which usually don&#39;t), why can&#39;t I set it final?\r\nand by &quot;can&#39;t&quot; I mean I didn&#39;t see any software that did it before.\r\n\r\nI searched in google but I didn&#39;t find anything relevant. if this question asked before please excuse me and tell me to delete this topic.","title":"what are the consequences if I set the id parameter(in DA layer) to final?","body":"<p>if the id that I get from database won't change during process(which usually don't), why can't I set it final?\nand by &quot;can't&quot; I mean I didn't see any software that did it before.</p>\n<p>I searched in google but I didn't find anything relevant. if this question asked before please excuse me and tell me to delete this topic.</p>\n"},{"tags":["java","database","database-migration","liquibase"],"answers":[{"tags":[],"owner":{"account_id":28347076,"reputation":31,"user_id":21679105,"display_name":"Maximilian Briglmeier"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681890052,"creation_date":1681889721,"answer_id":76051840,"question_id":76047207,"body_markdown":"It seems that following change introduced the the deprecated update methods: https://github.com/liquibase/liquibase/pull/3866/files#diff-68544baf236f867c4abf85787c970ddf1aee4802dd2ffb663ea5be6de0a28c9a\r\n\r\nFrom what I can tell, the intended way to run a changelog update now is to use the `CommandScope` object instead. At least that&#39;s what they changed the deprecated update functions to do now. If you look into the change of the `public void update(Contexts contexts, LabelExpression labelExpression, boolean checkLiquibaseTables) throws LiquibaseException` method they now use following code to apply changelog updates:\r\n```\r\nCommandScope updateCommand = new CommandScope(UpdateCommandStep.COMMAND_NAME);\r\nupdateCommand.addArgumentValue(DbUrlConnectionCommandStep.DATABASE_ARG, getDatabase());\r\nupdateCommand.addArgumentValue(UpdateCommandStep.CHANGELOG_FILE_ARG, changeLogFile);\r\nupdateCommand.addArgumentValue(UpdateCommandStep.CONTEXTS_ARG, contexts != null ? contexts.toString() : null);\r\nupdateCommand.addArgumentValue(UpdateCommandStep.LABEL_FILTER_ARG, labelExpression != null ? labelExpression.getOriginalString() : null);\r\nupdateCommand.addArgumentValue(UpdateCommandStep.CHANGE_EXEC_LISTENER_ARG, changeExecListener);\r\nupdateCommand.addArgumentValue(DatabaseChangelogCommandStep.CHANGELOG_PARAMETERS, changeLogParameters);\r\nupdateCommand.execute();\r\n```\r\n\r\nI tried the same with a simpler approach, which worked for me:\r\n```\r\nprivate static void update(Database database, String changeLogLocation) throws CommandExecutionException {\r\n    CommandScope updateCommand = new CommandScope(UpdateCommandStep.COMMAND_NAME);\r\n    updateCommand.addArgumentValue(DbUrlConnectionCommandStep.DATABASE_ARG, database);\r\n    updateCommand.addArgumentValue(UpdateCommandStep.CHANGELOG_FILE_ARG, changeLogLocation);\r\n    updateCommand.execute();\r\n}\r\n```\r\n\r\nRegarding the `Writer` argument of the non-deprecated update methods, I think that in this case all update queries are redirected to the passed `Writer` instead, so that the caller can hook into the updating process. At least when you create a simple implementation of `Writer` and log all content passed to the `write` method to the console, you&#39;ll see all the update queries.\r\n\r\nAll this information is based on my experience as a user of the library. So please don&#39;t take these observations as official statements. :)","title":"liquibase-core update method does not create databasechangeloglock table","body":"<p>It seems that following change introduced the the deprecated update methods: <a href=\"https://github.com/liquibase/liquibase/pull/3866/files#diff-68544baf236f867c4abf85787c970ddf1aee4802dd2ffb663ea5be6de0a28c9a\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/pull/3866/files#diff-68544baf236f867c4abf85787c970ddf1aee4802dd2ffb663ea5be6de0a28c9a</a></p>\n<p>From what I can tell, the intended way to run a changelog update now is to use the <code>CommandScope</code> object instead. At least that's what they changed the deprecated update functions to do now. If you look into the change of the <code>public void update(Contexts contexts, LabelExpression labelExpression, boolean checkLiquibaseTables) throws LiquibaseException</code> method they now use following code to apply changelog updates:</p>\n<pre><code>CommandScope updateCommand = new CommandScope(UpdateCommandStep.COMMAND_NAME);\nupdateCommand.addArgumentValue(DbUrlConnectionCommandStep.DATABASE_ARG, getDatabase());\nupdateCommand.addArgumentValue(UpdateCommandStep.CHANGELOG_FILE_ARG, changeLogFile);\nupdateCommand.addArgumentValue(UpdateCommandStep.CONTEXTS_ARG, contexts != null ? contexts.toString() : null);\nupdateCommand.addArgumentValue(UpdateCommandStep.LABEL_FILTER_ARG, labelExpression != null ? labelExpression.getOriginalString() : null);\nupdateCommand.addArgumentValue(UpdateCommandStep.CHANGE_EXEC_LISTENER_ARG, changeExecListener);\nupdateCommand.addArgumentValue(DatabaseChangelogCommandStep.CHANGELOG_PARAMETERS, changeLogParameters);\nupdateCommand.execute();\n</code></pre>\n<p>I tried the same with a simpler approach, which worked for me:</p>\n<pre><code>private static void update(Database database, String changeLogLocation) throws CommandExecutionException {\n    CommandScope updateCommand = new CommandScope(UpdateCommandStep.COMMAND_NAME);\n    updateCommand.addArgumentValue(DbUrlConnectionCommandStep.DATABASE_ARG, database);\n    updateCommand.addArgumentValue(UpdateCommandStep.CHANGELOG_FILE_ARG, changeLogLocation);\n    updateCommand.execute();\n}\n</code></pre>\n<p>Regarding the <code>Writer</code> argument of the non-deprecated update methods, I think that in this case all update queries are redirected to the passed <code>Writer</code> instead, so that the caller can hook into the updating process. At least when you create a simple implementation of <code>Writer</code> and log all content passed to the <code>write</code> method to the console, you'll see all the update queries.</p>\n<p>All this information is based on my experience as a user of the library. So please don't take these observations as official statements. :)</p>\n"}],"owner":{"account_id":14402741,"reputation":161,"user_id":10403839,"display_name":"Dominique M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681890052,"creation_date":1681836903,"question_id":76047207,"body_markdown":"I am updating the version of `liquibase-core` dependency in Java (now 4.21.0) and notice that the `update()` method is deprecated. Instead, I should use an update method with two arguments: `Contexts`, and `Writer`. \r\n\r\nThe old, deprecated `update` method used to create two tables before doing anything else: an `databasechangeloglock` and `databasechangelog` table. When I use the new, non-deprecated signature of the `update` method, this no longer happens and no `databasechangeloglock` is generated. Consequentially, running from scratch generates an error because the required table does not exist. \r\n\r\nI tried to do some debugging and noticed that `generateSql` from `CreateDatabaseChangeLogLockTableGenerator` is no longer invoked, while this is the case for the deprecated versions of the `update` method.\r\n\r\nCould anyone explain how I could fix this issue and still generate the required tables?\r\n\r\nError logs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jNhMY.png\r\n\r\nSeems like there&#39;s an open issue on this: https://github.com/liquibase/liquibase/issues/4150","title":"liquibase-core update method does not create databasechangeloglock table","body":"<p>I am updating the version of <code>liquibase-core</code> dependency in Java (now 4.21.0) and notice that the <code>update()</code> method is deprecated. Instead, I should use an update method with two arguments: <code>Contexts</code>, and <code>Writer</code>.</p>\n<p>The old, deprecated <code>update</code> method used to create two tables before doing anything else: an <code>databasechangeloglock</code> and <code>databasechangelog</code> table. When I use the new, non-deprecated signature of the <code>update</code> method, this no longer happens and no <code>databasechangeloglock</code> is generated. Consequentially, running from scratch generates an error because the required table does not exist.</p>\n<p>I tried to do some debugging and noticed that <code>generateSql</code> from <code>CreateDatabaseChangeLogLockTableGenerator</code> is no longer invoked, while this is the case for the deprecated versions of the <code>update</code> method.</p>\n<p>Could anyone explain how I could fix this issue and still generate the required tables?</p>\n<p>Error logs:</p>\n<p><a href=\"https://i.stack.imgur.com/jNhMY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNhMY.png\" alt=\"enter image description here\" /></a></p>\n<p>Seems like there's an open issue on this: <a href=\"https://github.com/liquibase/liquibase/issues/4150\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/issues/4150</a></p>\n"},{"tags":["java","spring","url","encoding"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1681745753,"post_id":76036565,"comment_id":134102704,"body_markdown":"I don&#39;t know exactly what you need do, you want change the incoming request into a new one in fly? Or what the expected situation, its a redirection what you want or?","body":"I don&#39;t know exactly what you need do, you want change the incoming request into a new one in fly? Or what the expected situation, its a redirection what you want or?"},{"owner":{"account_id":10058355,"reputation":506,"user_id":7435872,"display_name":"JasperMW"},"score":0,"creation_date":1681801607,"post_id":76036565,"comment_id":134110915,"body_markdown":"@AL I have the incoming parameter &#39;Test___Test&#39; which I want to turn into &#39;Test/Test&#39; without Java interpreting it as another endpoint, and I need to check this for every incoming request","body":"@AL I have the incoming parameter &#39;Test___Test&#39; which I want to turn into &#39;Test/Test&#39; without Java interpreting it as another endpoint, and I need to check this for every incoming request"}],"answers":[{"tags":[],"owner":{"account_id":10058355,"reputation":506,"user_id":7435872,"display_name":"JasperMW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681889856,"creation_date":1681889856,"answer_id":76051859,"question_id":76036565,"body_markdown":"In the end, I realized that there was no real use for using path variables and we changed to request parameters. That was a lot easier than hardcoding some filter","title":"How to place a &#39;/&#39; in an incoming request in Spring","body":"<p>In the end, I realized that there was no real use for using path variables and we changed to request parameters. That was a lot easier than hardcoding some filter</p>\n"}],"owner":{"account_id":10058355,"reputation":506,"user_id":7435872,"display_name":"JasperMW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76051859,"answer_count":1,"score":0,"last_activity_date":1681889906,"creation_date":1681743791,"question_id":76036565,"body_markdown":"An external, unmodifiable service uses &#39;___&#39; instead of &#39;/&#39; for ~parameters~ path variables in URLs. So &#39;`http://localhost:9091/infra/Test/Test`&#39; becomes &#39;`http://localhost:9091/infra/Test___Test`&#39;.\r\n\r\nFor every incoming request, I need to make sure that any possible &#39;___&#39; gets converted into &#39;/&#39; without changing the mapping before the request is processed. This is what I came up with:\r\n\r\n    @Component\r\n    public class SlashFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            final HttpServletRequestWrapper wrapped = new HttpServletRequestWrapper(request) {\r\n                @Override\r\n                public String getServletPath() {\r\n                    final String originalUrl = ((HttpServletRequest) getRequest()).getRequestURL().toString();\r\n                    return originalUrl.replace(&quot;___&quot;, &quot;/&quot;).replace(&quot;%20&quot;, &quot; &quot;); // emphasis\r\n                }\r\n            };\r\n    \r\n            filterChain.doFilter(wrapped, response);\r\n        }\r\n    \r\n        @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) {\r\n            return !request.getPathInfo().contains(&quot;___&quot;);\r\n        }\r\n    }\r\n\r\nHowever, this seems to effectively do nothing. If I receive `http://localhost:9091/infra/Test___Test`, it becomes `http://localhost:9091/infra/Test/Test` and I get an error:\r\n\r\n    DELETE /infra/Test___Test http: 500 INTERNAL_SERVER_ERROR {&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Invalid contextPath: &#39;http://localhost:9091/infra/Test/Test&#39;: must start with &#39;/&#39; and not end with &#39;/&#39;&quot;,&quot;path&quot;:&quot;/infra/Test___Test&quot;}\r\n\r\nSo, I thought let&#39;s encode the `/` here! I changed the marked line to:\r\n\r\n    return originalUrl.replace(&quot;___&quot;, &quot;%2F&quot;).replace(&quot;%20&quot;, &quot; &quot;);\r\n\r\nHowever, this gave me the following error:\r\n\r\n    DELETE /infra/Test___Test http: 500 INTERNAL_SERVER_ERROR {&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Invalid contextPath: &#39;http://localhost:9091/infra/Test%252FTest&#39;: must start with &#39;/&#39; and not end with &#39;/&#39;&quot;,&quot;path&quot;:&quot;/infra/Test___Test&quot;}\r\n\r\nIt looks like it converts the % as well, and &#39;`%2F`&#39; becomes &#39;`%252F`&#39;. I&#39;m kinda getting lost here, have spent all day fiddling with this and the RequestWrapper, but so far nothing works. Anyone got an idea how to make it work?","title":"How to place a &#39;/&#39; in an incoming request in Spring","body":"<p>An external, unmodifiable service uses '___' instead of '/' for ~parameters~ path variables in URLs. So '<code>http://localhost:9091/infra/Test/Test</code>' becomes '<code>http://localhost:9091/infra/Test___Test</code>'.</p>\n<p>For every incoming request, I need to make sure that any possible '___' gets converted into '/' without changing the mapping before the request is processed. This is what I came up with:</p>\n<pre><code>@Component\npublic class SlashFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        final HttpServletRequestWrapper wrapped = new HttpServletRequestWrapper(request) {\n            @Override\n            public String getServletPath() {\n                final String originalUrl = ((HttpServletRequest) getRequest()).getRequestURL().toString();\n                return originalUrl.replace(&quot;___&quot;, &quot;/&quot;).replace(&quot;%20&quot;, &quot; &quot;); // emphasis\n            }\n        };\n\n        filterChain.doFilter(wrapped, response);\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        return !request.getPathInfo().contains(&quot;___&quot;);\n    }\n}\n</code></pre>\n<p>However, this seems to effectively do nothing. If I receive <code>http://localhost:9091/infra/Test___Test</code>, it becomes <code>http://localhost:9091/infra/Test/Test</code> and I get an error:</p>\n<pre><code>DELETE /infra/Test___Test http: 500 INTERNAL_SERVER_ERROR {&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Invalid contextPath: 'http://localhost:9091/infra/Test/Test': must start with '/' and not end with '/'&quot;,&quot;path&quot;:&quot;/infra/Test___Test&quot;}\n</code></pre>\n<p>So, I thought let's encode the <code>/</code> here! I changed the marked line to:</p>\n<pre><code>return originalUrl.replace(&quot;___&quot;, &quot;%2F&quot;).replace(&quot;%20&quot;, &quot; &quot;);\n</code></pre>\n<p>However, this gave me the following error:</p>\n<pre><code>DELETE /infra/Test___Test http: 500 INTERNAL_SERVER_ERROR {&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Invalid contextPath: 'http://localhost:9091/infra/Test%252FTest': must start with '/' and not end with '/'&quot;,&quot;path&quot;:&quot;/infra/Test___Test&quot;}\n</code></pre>\n<p>It looks like it converts the % as well, and '<code>%2F</code>' becomes '<code>%252F</code>'. I'm kinda getting lost here, have spent all day fiddling with this and the RequestWrapper, but so far nothing works. Anyone got an idea how to make it work?</p>\n"},{"tags":["java","maven","maven-plugin","digital-signature","java-11"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1624641887,"post_id":68134959,"comment_id":120423297,"body_markdown":"https://stackoverflow.com/q/47646135/1424875 seems to be related - it could be the case that without rewriting ZipFileSystem.java, you might have an issue with both the ZIP and the signature needing the end of the file. With that said, I&#39;m not familiar enough with the rules for the ZIP format to be sure.","body":"<a href=\"https://stackoverflow.com/q/47646135/1424875\">stackoverflow.com/q/47646135/1424875</a> seems to be related - it could be the case that without rewriting ZipFileSystem.java, you might have an issue with both the ZIP and the signature needing the end of the file. With that said, I&#39;m not familiar enough with the rules for the ZIP format to be sure."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1624643348,"post_id":68134959,"comment_id":120423710,"body_markdown":"The code you have posted is the standard way to find the ZIP end header and then find the central directory. And the way Windows executable files are signed and verified can not be changed. The only option would be to pack your JAR inside another JAR files plus some classloader that can load the classes from the inner JAR. This is the common way to pack signed JAR files into a FAT Jar file. See e.g. https://stackoverflow.com/a/33420518/150978","body":"The code you have posted is the standard way to find the ZIP end header and then find the central directory. And the way Windows executable files are signed and verified can not be changed. The only option would be to pack your JAR inside another JAR files plus some classloader that can load the classes from the inner JAR. This is the common way to pack signed JAR files into a FAT Jar file. See e.g. <a href=\"https://stackoverflow.com/a/33420518/150978\">stackoverflow.com/a/33420518/150978</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1624643734,"post_id":68134959,"comment_id":120423833,"body_markdown":"But as it is your program you could change the integrity check for the Windows EXE version and check instead the PE signature of the whole EXE file. Unfortunately Jsign can only sign but not verify the created signature so this would require a bit of work.","body":"But as it is your program you could change the integrity check for the Windows EXE version and check instead the PE signature of the whole EXE file. Unfortunately Jsign can only sign but not verify the created signature so this would require a bit of work."}],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681889797,"creation_date":1681889797,"answer_id":76051853,"question_id":68134959,"body_markdown":"That&#39;s quite amazing that ZipFileSystem manages to read a jar embedded in an executable file, but I don&#39;t think it was intended to be used that way.\r\n\r\nYou could work around this issue by loading the resources from the jar using the classloader instead of using a NIO filesystem:\r\n\r\n    InputStream resource = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;path/to/your/resource&quot;);","title":"How to digitally sign a wrapped jar without breaking integrity check?","body":"<p>That's quite amazing that ZipFileSystem manages to read a jar embedded in an executable file, but I don't think it was intended to be used that way.</p>\n<p>You could work around this issue by loading the resources from the jar using the classloader instead of using a NIO filesystem:</p>\n<pre><code>InputStream resource = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;path/to/your/resource&quot;);\n</code></pre>\n"}],"owner":{"account_id":22052869,"reputation":21,"user_id":16316870,"display_name":"Zephias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681889797,"creation_date":1624641681,"question_id":68134959,"body_markdown":"I have a java project that is built with maven. During the package phase, the code is built into a jar (**maven-jar-plugin 3.1.1**) and is wrapped into an .exe (**launch4j-maven-plugin 1.7.25**)\r\n\r\nPart of my code opens the .exe as a file system to fetch resources. Specifically, using **java.nio.file.FileSystems.newFileSystem(URL url)**, passing in the exe\r\n\r\nThis file system properly properly identifies that my file is indeed a wrapped jar, and reads it as such. \r\n\r\nThis all breaks down when I try to digitally sign my .exe file. After digitally signing it, I can no longer open the exe as a filesystem in Java. The specific error I have narrowed it down to is at **ZipFileSystem.java:991**\r\n```      \r\n            // Now scan the block backwards for END header signature\r\n            for (int i = buf.length - ENDHDR; i &gt;= 0; i--) {\r\n                if (buf[i+0] == (byte)&#39;P&#39;    &amp;&amp;\r\n                    buf[i+1] == (byte)&#39;K&#39;    &amp;&amp;\r\n                    buf[i+2] == (byte)&#39;\\005&#39; &amp;&amp;\r\n                    buf[i+3] == (byte)&#39;\\006&#39; &amp;&amp;\r\n                    (pos + i + ENDHDR + ENDCOM(buf, i) == ziplen)) { -- this check fails. We find the header name, but the size check fails.\r\n```\r\n\r\nSo, digitally signing the .exe file added some amount of bytes to my file size, and is causing the jar file&#39;s integrity check to always fail. I have tried signing the jar before wrapping (jarsigner), signing the exe after with both Advanced Installer Program and Jsign, and have not been able to remedy this issue. \r\n\r\nHaving the jar wrapped in an exe that is then signed, causes the jar to become unreadable by java.nio.file.FileSystems. What can I do to fix this? Is there a signer that will know to update the jar&#39;s integrity check value? Any help is appreciated\r\n","title":"How to digitally sign a wrapped jar without breaking integrity check?","body":"<p>I have a java project that is built with maven. During the package phase, the code is built into a jar (<strong>maven-jar-plugin 3.1.1</strong>) and is wrapped into an .exe (<strong>launch4j-maven-plugin 1.7.25</strong>)</p>\n<p>Part of my code opens the .exe as a file system to fetch resources. Specifically, using <strong>java.nio.file.FileSystems.newFileSystem(URL url)</strong>, passing in the exe</p>\n<p>This file system properly properly identifies that my file is indeed a wrapped jar, and reads it as such.</p>\n<p>This all breaks down when I try to digitally sign my .exe file. After digitally signing it, I can no longer open the exe as a filesystem in Java. The specific error I have narrowed it down to is at <strong>ZipFileSystem.java:991</strong></p>\n<pre><code>            // Now scan the block backwards for END header signature\n            for (int i = buf.length - ENDHDR; i &gt;= 0; i--) {\n                if (buf[i+0] == (byte)'P'    &amp;&amp;\n                    buf[i+1] == (byte)'K'    &amp;&amp;\n                    buf[i+2] == (byte)'\\005' &amp;&amp;\n                    buf[i+3] == (byte)'\\006' &amp;&amp;\n                    (pos + i + ENDHDR + ENDCOM(buf, i) == ziplen)) { -- this check fails. We find the header name, but the size check fails.\n</code></pre>\n<p>So, digitally signing the .exe file added some amount of bytes to my file size, and is causing the jar file's integrity check to always fail. I have tried signing the jar before wrapping (jarsigner), signing the exe after with both Advanced Installer Program and Jsign, and have not been able to remedy this issue.</p>\n<p>Having the jar wrapped in an exe that is then signed, causes the jar to become unreadable by java.nio.file.FileSystems. What can I do to fix this? Is there a signer that will know to update the jar's integrity check value? Any help is appreciated</p>\n"},{"tags":["java","tomcat8"],"comments":[{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1612526047,"post_id":65987346,"comment_id":116800574,"body_markdown":"To which component (Engine, Host, Context etc.) did you add the ErrorReportValve?","body":"To which component (Engine, Host, Context etc.) did you add the ErrorReportValve?"},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1612592412,"post_id":65987346,"comment_id":116820240,"body_markdown":"Dear @MarkThomas, I have added it to Context.","body":"Dear @MarkThomas, I have added it to Context."},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":2,"creation_date":1612681858,"post_id":65987346,"comment_id":116839255,"body_markdown":"I moved to `Host` and it worked thanks @MarkThomas. Please send it as answer so I can mark it as correct","body":"I moved to <code>Host</code> and it worked thanks @MarkThomas. Please send it as answer so I can mark it as correct"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681889678,"creation_date":1641487902,"answer_id":70610654,"question_id":65987346,"body_markdown":"You should set the configuration on the `&lt;Host&gt;` section in file **server.xml**.\r\n\r\n```xml\r\n&lt;Host autoDeploy=&quot;false&quot;\r\n      appBase=&quot;webapps&quot;\r\n      name=&quot;localhost&quot;\r\n      unpackWARs=&quot;false&quot;&gt;\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\r\n           showReport=&quot;false&quot;\r\n           showServerInfo=&quot;false&quot;/&gt;\r\n\r\n    ...\r\n\r\n&lt;/Host&gt;\r\n```\r\n\r\nExtracted from [this Adobe ColdFusion reference][1]. \r\n\r\n\r\n  [1]: https://helpx.adobe.com/coldfusion/kb/invalid-host-information-disclosure.html","title":"Tomcat 8.5.50 the ErrorReportValve is not working","body":"<p>You should set the configuration on the <code>&lt;Host&gt;</code> section in file <strong>server.xml</strong>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Host autoDeploy=&quot;false&quot;\n      appBase=&quot;webapps&quot;\n      name=&quot;localhost&quot;\n      unpackWARs=&quot;false&quot;&gt;\n\n    &lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\n           showReport=&quot;false&quot;\n           showServerInfo=&quot;false&quot;/&gt;\n\n    ...\n\n&lt;/Host&gt;\n</code></pre>\n<p>Extracted from <a href=\"https://helpx.adobe.com/coldfusion/kb/invalid-host-information-disclosure.html\" rel=\"nofollow noreferrer\">this Adobe ColdFusion reference</a>.</p>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5626,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70610654,"answer_count":1,"score":3,"last_activity_date":1681889678,"creation_date":1612155256,"question_id":65987346,"body_markdown":"Switching from `apache-tomcat-8.5.23` to `apache-tomcat-8.5.50`  configuring the `ErrorReportValve` is not working. \r\nI have set below in 8.5.23 and it worked ( Tomcat does not show server info or error).\r\n\r\n```xml\r\n&lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\r\n       showReport=&quot;false&quot;\r\n       showServerInfo=&quot;false&quot;/&gt;\r\n```\r\n\r\nAfter upgrade to `8.5.50` the tomcat shows server info and report, even I have set it to `false`\r\n\r\nThis is the sample stack trace and server info which is shown by Tomcat\r\n\r\n[![Tomcat error][1]][1]\r\n\r\n\r\nAny comments?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZBbco.png","title":"Tomcat 8.5.50 the ErrorReportValve is not working","body":"<p>Switching from <code>apache-tomcat-8.5.23</code> to <code>apache-tomcat-8.5.50</code>  configuring the <code>ErrorReportValve</code> is not working.\nI have set below in 8.5.23 and it worked ( Tomcat does not show server info or error).</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\n       showReport=&quot;false&quot;\n       showServerInfo=&quot;false&quot;/&gt;\n</code></pre>\n<p>After upgrade to <code>8.5.50</code> the tomcat shows server info and report, even I have set it to <code>false</code></p>\n<p>This is the sample stack trace and server info which is shown by Tomcat</p>\n<p><a href=\"https://i.stack.imgur.com/ZBbco.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZBbco.png\" alt=\"Tomcat error\" /></a></p>\n<p>Any comments?</p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1681888235,"post_id":76051597,"comment_id":134127623,"body_markdown":"Why do you expect anything to be output? The `actionPerformed` method of your `ActionListener` implementation has an empty method body (i.e., it does nothing). Or are you asking _how_ to call `getClientProperty()` on the appropriate `JButton` inside the action listener?","body":"Why do you expect anything to be output? The <code>actionPerformed</code> method of your <code>ActionListener</code> implementation has an empty method body (i.e., it does nothing). Or are you asking <i>how</i> to call <code>getClientProperty()</code> on the appropriate <code>JButton</code> inside the action listener?"},{"owner":{"account_id":21456548,"reputation":39,"user_id":15808076,"display_name":"Paval1s"},"score":0,"creation_date":1681888506,"post_id":76051597,"comment_id":134127686,"body_markdown":"Yes, I want to call getClientProperty() inside the actionlistener for the appropriate JButton","body":"Yes, I want to call getClientProperty() inside the actionlistener for the appropriate JButton"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1681889417,"post_id":76051597,"comment_id":134127908,"body_markdown":"Well, `ActionEvent` extends `EventObject`, which has a `getSource()` method. Or you could add a unique listener to each button, as then when a particular listener is invoked you know it can only belong to a particular button.","body":"Well, <code>ActionEvent</code> extends <code>EventObject</code>, which has a <code>getSource()</code> method. Or you could add a unique listener to each button, as then when a particular listener is invoked you know it can only belong to a particular button."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681889413,"creation_date":1681889413,"answer_id":76051813,"question_id":76051597,"body_markdown":"Try\r\n```\r\nActionListener listener = new ActionListener() {\r\n  @Override\r\n  public void actionPerformed(ActionEvent e) {\r\n    JButton jb = (JButton) e.getSource();\r\n    Integer value = (Integer) jb.getClientProperty(&quot;number&quot;);\r\n    ... // whatever else you need to do\r\n  }\r\n};\r\n```","title":"How do I execute a function in an ActionListener through the button which is clicked","body":"<p>Try</p>\n<pre><code>ActionListener listener = new ActionListener() {\n  @Override\n  public void actionPerformed(ActionEvent e) {\n    JButton jb = (JButton) e.getSource();\n    Integer value = (Integer) jb.getClientProperty(&quot;number&quot;);\n    ... // whatever else you need to do\n  }\n};\n</code></pre>\n"}],"owner":{"account_id":21456548,"reputation":39,"user_id":15808076,"display_name":"Paval1s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76051813,"answer_count":1,"score":0,"last_activity_date":1681889413,"creation_date":1681887859,"question_id":76051597,"body_markdown":"This is the class I&#39;m using\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class SudokuFeld extends JFrame{\r\n    private JPanel secondaryPanel;\r\n    private JButton button1;\r\n    private JButton button2;\r\n    private JButton button3;\r\n    private JButton button4;\r\n    private JButton button5;\r\n    private JButton button6;\r\n    private JButton button7;\r\n    private JButton button8;\r\n    private JButton button9;\r\n    private JButton[] bArr = new JButton[] {button1, button2, button3, button4, button5,button6, button7, button8, button9};\r\n    ActionListener listener = new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n        }\r\n    };\r\n\r\n\r\n    public SudokuFeld() throws HeadlessException {\r\n        int var = 0;\r\n        for(JButton val : bArr ) {\r\n            val.putClientProperty(&quot;number&quot;, var);\r\n            val.addActionListener(listener);\r\n            var++;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nAnd what I want is to execute getClientProperty() in the ActionListener listener through the button which was clicked\r\n\r\nI expected the number assigned to the button as output","title":"How do I execute a function in an ActionListener through the button which is clicked","body":"<p>This is the class I'm using</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class SudokuFeld extends JFrame{\n    private JPanel secondaryPanel;\n    private JButton button1;\n    private JButton button2;\n    private JButton button3;\n    private JButton button4;\n    private JButton button5;\n    private JButton button6;\n    private JButton button7;\n    private JButton button8;\n    private JButton button9;\n    private JButton[] bArr = new JButton[] {button1, button2, button3, button4, button5,button6, button7, button8, button9};\n    ActionListener listener = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n        }\n    };\n\n\n    public SudokuFeld() throws HeadlessException {\n        int var = 0;\n        for(JButton val : bArr ) {\n            val.putClientProperty(&quot;number&quot;, var);\n            val.addActionListener(listener);\n            var++;\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>And what I want is to execute getClientProperty() in the ActionListener listener through the button which was clicked</p>\n<p>I expected the number assigned to the button as output</p>\n"},{"tags":["java","gwt","gxt"],"comments":[{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1682397698,"post_id":76051801,"comment_id":134204579,"body_markdown":"You need to remove the &quot;old&quot; nodes from the DOM and add new ones with the new value. But usually, this use case is solved by using a Grid.","body":"You need to remove the &quot;old&quot; nodes from the DOM and add new ones with the new value. But usually, this use case is solved by using a Grid."}],"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681889337,"creation_date":1681889337,"question_id":76051801,"body_markdown":"I&#39;m facing an issue to update the panel data on the change of some filed. \r\n\r\nThe usecase is, on the change of field F1, making a database call and retrived the related value in the list and want to populate the data dynamical. \r\n\r\nSomehow it is working on the start of the application and call the db, bring the data and create row dynamically but on the change of filed F1, it makes the call, bring the data but not updating the row.\r\n\r\nHere the code snippet: \r\n\r\nParent: \r\n\r\n```\r\npublic class MyTab extends TabItem {\r\n\r\n\tfinal MyDataPanel panel = new MyDataPanel();\r\n\r\n\tpublic MyTab() {\r\n\t\tsuper(&quot;DATA&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onRender(Element parent, int index) {\r\n\t\tsuper.onRender(parent, index);\r\n\t\tthis.add(this.panel);\r\n\t\tthis.setAutoHeight(true);\r\n\t}\r\n}\r\n```\r\n\t\r\nChild:\r\n\r\n```\r\npublic class MyDataPanel extends LayoutContainer implements Listener&lt;BaseEvent&gt; {\r\n\r\n\t\tpublic MyDataPanel() {\r\n\t\t\r\n        super(new RowLayout(Orientation.VERTICAL));\r\n\r\n        MyDataPanel.this.loadData();\r\n\r\n       }\r\n\t   \r\n\t Override\r\n    protected void onRender(Element parent, int index) {\r\n        super.onRender(parent, index);\r\n\r\n        final FieldSet myFieldSet = this.myDataFiledSet();\r\n        this.add(myFieldSet, new RowData(1234, 75));\r\n\r\n        this.addListeners();\r\n\r\n    }\r\n\t\r\n\tprivate void addListeners() {\r\n        this.field1.addListener(Events.Select, this);\r\n\r\n    }\r\n\t\r\n\t public void handleEvent(BaseEvent pBaseEvent) {\r\n\r\n        if (pBaseEvent.getSource().equals(this.field1)) {\r\n\r\n            MyDataPanel.this.loadData();\r\n           \r\n        }\r\n\t\r\n\tprivate FieldSet myDataFiledSet() {\r\n\r\n        final FieldSet fs = new FieldSet();\r\n        fs.setLayout(new RowLayout(Orientation.VERTICAL));\r\n        fs.setHeadingHtml(&quot;My Data&quot;);\r\n\r\n        final HorizontalPanel horizontalPanel = new HorizontalPanel();\r\n\r\n        final Label label1 = new Label(&quot;Movie Name&quot;);\r\n        horizontalPanel.add(label1);\r\n\r\n        final Label label2 = new Label(&quot;Movie Budget&quot;);\r\n        horizontalPanel.add(label2);\r\n\r\n        final Label label3 = new Label(&quot;Movie Release Year&quot;);\r\n        horizontalPanel.add(label3);\r\n\t\t\r\n\r\n        for (MyDataDTO dto : dataDTOList) {\r\n\r\n            HorizontalPanel row = new HorizontalPanel();\r\n\r\n            Label name = new Label(dto.getName());\r\n            row.add(name);\r\n\t\t\t\r\n\t\t\tLabel budget = new Label(dto.getBudget());\r\n            row.add(budget);\r\n\t\t\t\r\n\t\t\tLabel year = new Label(dto.getYear());\r\n            row.add(year);\r\n\t\t\t\r\n        }\r\n\r\n        return fs;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nSummary: Want to re-render the myDataFiledSet() on the change of field1.\r\n\r\nThanks in Advance :)\r\n\r\nTried dynamically re-render the myDataFieldSet() on change of filed1 but it did not work. ","title":"How to re-render the Panel in GWT on the change of some field?","body":"<p>I'm facing an issue to update the panel data on the change of some filed.</p>\n<p>The usecase is, on the change of field F1, making a database call and retrived the related value in the list and want to populate the data dynamical.</p>\n<p>Somehow it is working on the start of the application and call the db, bring the data and create row dynamically but on the change of filed F1, it makes the call, bring the data but not updating the row.</p>\n<p>Here the code snippet:</p>\n<p>Parent:</p>\n<pre><code>public class MyTab extends TabItem {\n\n    final MyDataPanel panel = new MyDataPanel();\n\n    public MyTab() {\n        super(&quot;DATA&quot;);\n    }\n\n    @Override\n    protected void onRender(Element parent, int index) {\n        super.onRender(parent, index);\n        this.add(this.panel);\n        this.setAutoHeight(true);\n    }\n}\n</code></pre>\n<p>Child:</p>\n<pre><code>public class MyDataPanel extends LayoutContainer implements Listener&lt;BaseEvent&gt; {\n\n        public MyDataPanel() {\n        \n        super(new RowLayout(Orientation.VERTICAL));\n\n        MyDataPanel.this.loadData();\n\n       }\n       \n     Override\n    protected void onRender(Element parent, int index) {\n        super.onRender(parent, index);\n\n        final FieldSet myFieldSet = this.myDataFiledSet();\n        this.add(myFieldSet, new RowData(1234, 75));\n\n        this.addListeners();\n\n    }\n    \n    private void addListeners() {\n        this.field1.addListener(Events.Select, this);\n\n    }\n    \n     public void handleEvent(BaseEvent pBaseEvent) {\n\n        if (pBaseEvent.getSource().equals(this.field1)) {\n\n            MyDataPanel.this.loadData();\n           \n        }\n    \n    private FieldSet myDataFiledSet() {\n\n        final FieldSet fs = new FieldSet();\n        fs.setLayout(new RowLayout(Orientation.VERTICAL));\n        fs.setHeadingHtml(&quot;My Data&quot;);\n\n        final HorizontalPanel horizontalPanel = new HorizontalPanel();\n\n        final Label label1 = new Label(&quot;Movie Name&quot;);\n        horizontalPanel.add(label1);\n\n        final Label label2 = new Label(&quot;Movie Budget&quot;);\n        horizontalPanel.add(label2);\n\n        final Label label3 = new Label(&quot;Movie Release Year&quot;);\n        horizontalPanel.add(label3);\n        \n\n        for (MyDataDTO dto : dataDTOList) {\n\n            HorizontalPanel row = new HorizontalPanel();\n\n            Label name = new Label(dto.getName());\n            row.add(name);\n            \n            Label budget = new Label(dto.getBudget());\n            row.add(budget);\n            \n            Label year = new Label(dto.getYear());\n            row.add(year);\n            \n        }\n\n        return fs;\n    }\n\n}\n\n</code></pre>\n<p>Summary: Want to re-render the myDataFiledSet() on the change of field1.</p>\n<p>Thanks in Advance :)</p>\n<p>Tried dynamically re-render the myDataFieldSet() on change of filed1 but it did not work.</p>\n"},{"tags":["java","html","silverlight"],"comments":[{"owner":{"account_id":18081224,"reputation":1553,"user_id":13143331,"display_name":"Dorian349"},"score":0,"creation_date":1681889563,"post_id":76051701,"comment_id":134127948,"body_markdown":"Code outside of stack.","body":"Code outside of stack."},{"owner":{"account_id":54381,"reputation":14862,"user_id":162698,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1681890331,"post_id":76051701,"comment_id":134128149,"body_markdown":"**DO NOT post images of code, data, error messages, etc.** - copy or type the text into the question. [ask]","body":"<b>DO NOT post images of code, data, error messages, etc.</b> - copy or type the text into the question. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":54381,"reputation":14862,"user_id":162698,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1681890482,"post_id":76051701,"comment_id":134128191,"body_markdown":"You are aware Microsoft no longer supports Silverlight for nearly two years, right?","body":"You are aware Microsoft no longer supports Silverlight for nearly two years, right?"}],"owner":{"account_id":28339259,"reputation":11,"user_id":21672530,"display_name":"keeyooo_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681888691,"creation_date":1681888691,"question_id":76051701,"body_markdown":"Basically, there is a single HTML file containing paths to certain files. Here&#39;s example:\r\n\r\n[Code](https://i.stack.imgur.com/NtURZ.png)\r\n\r\nI&#39;m trying to get to the &quot;/FS/OV&quot;. Is there any possible way to do it?\r\n\r\nCTRL + U don&#39;t work, it gets me just a index of a current page and it don&#39;t help or solve the problem.","title":"Is there a way I will discover a path with files that are compiled in a single HTML file?","body":"<p>Basically, there is a single HTML file containing paths to certain files. Here's example:</p>\n<p><a href=\"https://i.stack.imgur.com/NtURZ.png\" rel=\"nofollow noreferrer\">Code</a></p>\n<p>I'm trying to get to the &quot;/FS/OV&quot;. Is there any possible way to do it?</p>\n<p>CTRL + U don't work, it gets me just a index of a current page and it don't help or solve the problem.</p>\n"},{"tags":["java","spring-boot","prometheus"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1681816582,"post_id":76043641,"comment_id":134114255,"body_markdown":"Are individually parts of query return anything? Like `rate(http_server_requests_seconds_sum{uri=&quot;/ping&quot;}[5m])`?","body":"Are individually parts of query return anything? Like <code>rate(http_server_requests_seconds_sum{uri=&quot;&#47;ping&quot;}[5m])</code>?"},{"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"score":0,"creation_date":1681816836,"post_id":76043641,"comment_id":134114320,"body_markdown":"@markalex No... they are not returning anything...","body":"@markalex No... they are not returning anything..."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1681817033,"post_id":76043641,"comment_id":134114363,"body_markdown":"It should have if what you showed in the example correct. Please check that Prometheus actually gets showed metrics (by query `http_server_requests_seconds_sum{uri=&quot;/ping&quot;}` or just `http_server_requests_seconds_sum`). If nothing returned - check targets page, to see if your target is reachable by prometheus and is actually scraped.","body":"It should have if what you showed in the example correct. Please check that Prometheus actually gets showed metrics (by query <code>http_server_requests_seconds_sum{uri=&quot;&#47;ping&quot;}</code> or just <code>http_server_requests_seconds_sum</code>). If nothing returned - check targets page, to see if your target is reachable by prometheus and is actually scraped."},{"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"score":0,"creation_date":1681819676,"post_id":76043641,"comment_id":134115068,"body_markdown":"@markalex I had to change the target  something like this`- targets: [&#39;host.docker.internal:8080&#39;]`... to make it scrappable...  But now, there is a new issue... Everytime I query for `http_server_requests_seconds_sum{uri=&quot;/ping&quot;}[5m]`, it&#39;s appending one new row to data... but it should only append new data, when I&#39;m hitting that `/ping` endpoint... right?","body":"@markalex I had to change the target  something like this<code>- targets: [&#39;host.docker.internal:8080&#39;]</code>... to make it scrappable...  But now, there is a new issue... Everytime I query for <code>http_server_requests_seconds_sum{uri=&quot;&#47;ping&quot;}[5m]</code>, it&#39;s appending one new row to data... but it should only append new data, when I&#39;m hitting that <code>&#47;ping</code> endpoint... right?"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1681819865,"post_id":76043641,"comment_id":134115112,"body_markdown":"I believe so. Could it be that something else is making this request? Blackbox_exporter for example.","body":"I believe so. Could it be that something else is making this request? Blackbox_exporter for example."},{"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"score":0,"creation_date":1681833815,"post_id":76043641,"comment_id":134119152,"body_markdown":"@markalex I&#39;m not sure... but I will ask a seperate question about it... can you please answer the question with your answer **check targets page, to see if your target is reachable by prometheus and is actually scraped.**, please.... thanks for your help","body":"@markalex I&#39;m not sure... but I will ask a seperate question about it... can you please answer the question with your answer <b>check targets page, to see if your target is reachable by prometheus and is actually scraped.</b>, please.... thanks for your help"}],"answers":[{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681888490,"creation_date":1681839511,"answer_id":76047564,"question_id":76043641,"body_markdown":"Verify that Prometheus actually gets showed in question metrics: if they were present you&#39;d get some result with your query. You can verify their presence by query `http_server_requests_seconds_sum{uri=&quot;/ping&quot;}` or just `http_server_requests_seconds_sum`.\r\n\r\nIf nothing returned - check targets page, to see if your target is reachable by Prometheus and is actually scraped.\r\n\r\nIf target is not reachable - recheck configuration. This line\r\n\r\n      - targets: [&#39;SYSTEM_IP_ADDRESS:8080&#39;] # refer system ip address rather than localhost\r\n\r\nIf you are using **docker** use **`host.docker.internal`** instead.\r\n\r\nFrom:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zvBox.png\r\n  [2]: https://i.stack.imgur.com/t1l79.png","title":"How can I plot the time taken on each API hit on a certain endpoint using prometheus?","body":"<p>Verify that Prometheus actually gets showed in question metrics: if they were present you'd get some result with your query. You can verify their presence by query <code>http_server_requests_seconds_sum{uri=&quot;/ping&quot;}</code> or just <code>http_server_requests_seconds_sum</code>.</p>\n<p>If nothing returned - check targets page, to see if your target is reachable by Prometheus and is actually scraped.</p>\n<p>If target is not reachable - recheck configuration. This line</p>\n<pre><code>  - targets: ['SYSTEM_IP_ADDRESS:8080'] # refer system ip address rather than localhost\n</code></pre>\n<p>If you are using <strong>docker</strong> use <strong><code>host.docker.internal</code></strong> instead.</p>\n<p>From:</p>\n<p><a href=\"https://i.stack.imgur.com/zvBox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zvBox.png\" alt=\"enter image description here\" /></a></p>\n<p>To this:</p>\n<p><a href=\"https://i.stack.imgur.com/t1l79.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t1l79.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76047564,"answer_count":1,"score":1,"last_activity_date":1681888490,"creation_date":1681814774,"question_id":76043641,"body_markdown":"I&#39;m trying to create some metrics in Prometheus. I want to measure how long does it take to return me the response when I hit some endpoint. So I&#39;ve annotated the route with `@Timed`.\r\n\r\nHere is my rest controller:\r\n```\r\nimport io.micrometer.core.annotation.Timed;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class MyController {\r\n\r\n    @GetMapping(&quot;/ping&quot;)\r\n    @Timed(value = &quot;ping.request.time&quot;, description = &quot;time pIng&quot;)\r\n    public String ping(){\r\n        return &quot;pIng&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/pong&quot;)\r\n    @Timed(value = &quot;pong.request.time&quot;, description = &quot;time pOng&quot;)\r\n    public String pong(){\r\n        return &quot;pOng&quot;;\r\n    }\r\n}\r\n```\r\n\r\nBut after this in `http://localhost:8080/actuator/prometheus` nothing appears mentioning `ping` or `pong`. But after hitting these API for at least one time, they appear. The response looks something like this:\r\n```\r\n...\r\n# HELP http_server_requests_seconds  \r\n# TYPE http_server_requests_seconds summary\r\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/prometheus&quot;,} 2.0\r\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/prometheus&quot;,} 0.5708052\r\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/ping&quot;,} 1.0\r\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/ping&quot;,} 0.0085949\r\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/metrics&quot;,} 1.0\r\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/metrics&quot;,} 0.1374681\r\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/**&quot;,} 1.0\r\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/**&quot;,} 0.0148576\r\n# HELP http_server_requests_seconds_max  \r\n# TYPE http_server_requests_seconds_max gauge\r\nhttp_server_requests_seconds_max{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/prometheus&quot;,} 0.0508929\r\nhttp_server_requests_seconds_max{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/ping&quot;,} 0.0085949\r\nhttp_server_requests_seconds_max{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/metrics&quot;,} 0.0\r\n...\r\n```\r\n\r\nBut when I try to execute this query: `rate(http_server_requests_seconds_sum{uri=&quot;/ping&quot;}[5m])/rate(http_server_requests_seconds_count{uri=&quot;/ping&quot;}[5m])`, it gives me **`Empty query result`**\r\n\r\nI have also tried other queries such as:\r\n - `http_server_requests_seconds_sum{uri=&quot;/ping&quot;}`\r\n - `http_server_requests_seconds_count{uri=&quot;/ping&quot;}`\r\nBut the result is the same.\r\n\r\nHow can I plot time taken on each API hit on `/ping` using prometheus?\r\n\r\nHere is my `prometheus.yaml` file:\r\n```\r\nglobal:\r\n  scrape_interval:     15s # Default is every 1 minute.\r\n  evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute.\r\n\r\nrule_files:\r\n# - &quot;first_rules.yml&quot;\r\n# - &quot;second_rules.yml&quot;\r\n\r\n# A scrape configuration containing exactly one endpoint to scrape:\r\nscrape_configs:\r\n  - job_name: &#39;prometheus&#39;\r\n\r\n    static_configs:\r\n      - targets: [&#39;127.0.0.1:9090&#39;]\r\n\r\n  - job_name: &#39;spring-actuator&#39;\r\n    metrics_path: &#39;/actuator/prometheus&#39;\r\n    scrape_interval: 5s\r\n    static_configs:\r\n      - targets: [&#39;SYSTEM_IP_ADDRESS:8080&#39;] # refer system ip address rather that localhost\r\n```\r\n\r\nAnd here is how I ran my system **`docker run -d --name=prometheus -p 9090:9090 -v C:\\Users\\Admin\\Desktop\\prometheus-test\\prometheus.yaml:/etc/prometheus/prometheus.yml prom/prometheus --config.file=/etc/prometheus/prometheus.yml`**","title":"How can I plot the time taken on each API hit on a certain endpoint using prometheus?","body":"<p>I'm trying to create some metrics in Prometheus. I want to measure how long does it take to return me the response when I hit some endpoint. So I've annotated the route with <code>@Timed</code>.</p>\n<p>Here is my rest controller:</p>\n<pre><code>import io.micrometer.core.annotation.Timed;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class MyController {\n\n    @GetMapping(&quot;/ping&quot;)\n    @Timed(value = &quot;ping.request.time&quot;, description = &quot;time pIng&quot;)\n    public String ping(){\n        return &quot;pIng&quot;;\n    }\n\n    @GetMapping(&quot;/pong&quot;)\n    @Timed(value = &quot;pong.request.time&quot;, description = &quot;time pOng&quot;)\n    public String pong(){\n        return &quot;pOng&quot;;\n    }\n}\n</code></pre>\n<p>But after this in <code>http://localhost:8080/actuator/prometheus</code> nothing appears mentioning <code>ping</code> or <code>pong</code>. But after hitting these API for at least one time, they appear. The response looks something like this:</p>\n<pre><code>...\n# HELP http_server_requests_seconds  \n# TYPE http_server_requests_seconds summary\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/prometheus&quot;,} 2.0\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/prometheus&quot;,} 0.5708052\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/ping&quot;,} 1.0\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/ping&quot;,} 0.0085949\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/metrics&quot;,} 1.0\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/metrics&quot;,} 0.1374681\nhttp_server_requests_seconds_count{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/**&quot;,} 1.0\nhttp_server_requests_seconds_sum{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/**&quot;,} 0.0148576\n# HELP http_server_requests_seconds_max  \n# TYPE http_server_requests_seconds_max gauge\nhttp_server_requests_seconds_max{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/prometheus&quot;,} 0.0508929\nhttp_server_requests_seconds_max{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/ping&quot;,} 0.0085949\nhttp_server_requests_seconds_max{error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/metrics&quot;,} 0.0\n...\n</code></pre>\n<p>But when I try to execute this query: <code>rate(http_server_requests_seconds_sum{uri=&quot;/ping&quot;}[5m])/rate(http_server_requests_seconds_count{uri=&quot;/ping&quot;}[5m])</code>, it gives me <strong><code>Empty query result</code></strong></p>\n<p>I have also tried other queries such as:</p>\n<ul>\n<li><code>http_server_requests_seconds_sum{uri=&quot;/ping&quot;}</code></li>\n<li><code>http_server_requests_seconds_count{uri=&quot;/ping&quot;}</code>\nBut the result is the same.</li>\n</ul>\n<p>How can I plot time taken on each API hit on <code>/ping</code> using prometheus?</p>\n<p>Here is my <code>prometheus.yaml</code> file:</p>\n<pre><code>global:\n  scrape_interval:     15s # Default is every 1 minute.\n  evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute.\n\nrule_files:\n# - &quot;first_rules.yml&quot;\n# - &quot;second_rules.yml&quot;\n\n# A scrape configuration containing exactly one endpoint to scrape:\nscrape_configs:\n  - job_name: 'prometheus'\n\n    static_configs:\n      - targets: ['127.0.0.1:9090']\n\n  - job_name: 'spring-actuator'\n    metrics_path: '/actuator/prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['SYSTEM_IP_ADDRESS:8080'] # refer system ip address rather that localhost\n</code></pre>\n<p>And here is how I ran my system <strong><code>docker run -d --name=prometheus -p 9090:9090 -v C:\\Users\\Admin\\Desktop\\prometheus-test\\prometheus.yaml:/etc/prometheus/prometheus.yml prom/prometheus --config.file=/etc/prometheus/prometheus.yml</code></strong></p>\n"},{"tags":["java","hibernate","jpa","neo4j-ogm","hibernate-ogm"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1681760926,"post_id":76038587,"comment_id":134106175,"body_markdown":"Hibernate OGM is not maintained for years. The latest version is same (5.4.1.Final). And this version is reached end-of-life.","body":"Hibernate OGM is not maintained for years. The latest version is same (5.4.1.Final). And this version is reached end-of-life."},{"owner":{"account_id":8087513,"reputation":41,"user_id":6094599,"display_name":"mihai"},"score":0,"creation_date":1681761100,"post_id":76038587,"comment_id":134106215,"body_markdown":"@zforgo, Yes, I know that OBG is not maintained for years, but I thought that there is a workaround for that, or I did something wrong.","body":"@zforgo, Yes, I know that OBG is not maintained for years, but I thought that there is a workaround for that, or I did something wrong."}],"answers":[{"tags":[],"owner":{"account_id":4677737,"reputation":1311,"user_id":3787442,"accept_rate":0,"display_name":"NOTiFY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681888469,"creation_date":1681847972,"answer_id":76048609,"question_id":76038587,"body_markdown":"I&#39;d migrated from &#39;Hibernate OGM&#39; to Morphia:\r\n \r\n[morphia.dev/morphia/2.3/quicktour.html \r\n][1]\r\n\r\nI wrote a small piece on my website: \r\n\r\n[notify.co.uk/code-from-two-islands \r\n][2]\r\n\r\n\r\n  [1]: https://morphia.dev/morphia/2.3/quicktour.html\r\n  [2]: https://notify.co.uk/code-from-two-islands","title":"Does the jakarta persistence API support org.hibernate.ogm.jpa.HibernateOgmPersistence?","body":"<p>I'd migrated from 'Hibernate OGM' to Morphia:</p>\n<p><a href=\"https://morphia.dev/morphia/2.3/quicktour.html\" rel=\"nofollow noreferrer\">morphia.dev/morphia/2.3/quicktour.html\n</a></p>\n<p>I wrote a small piece on my website:</p>\n<p><a href=\"https://notify.co.uk/code-from-two-islands\" rel=\"nofollow noreferrer\">notify.co.uk/code-from-two-islands\n</a></p>\n"}],"owner":{"account_id":8087513,"reputation":41,"user_id":6094599,"display_name":"mihai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681888469,"creation_date":1681759194,"question_id":76038587,"body_markdown":"I am using hibernate-ogm-neo4j(v.5.4.1.Final) and I have setup a persistence.xml with `org.hibernate.ogm.jpa.HibernateOgmPersistence` provider. When I tried to instantiate an EntityManagerFactory from the jakarta persistence API 3.0 I received this error: `jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named &lt;persistence_unit_name&gt;`. \r\n\r\nSo my question here is: Does the `hibernate-ogm-*` supports jakarta 3.0 implementation to be able to create an EntityManager for that provider: `HibernateOgmPersistence`?\r\n\r\nThanks.","title":"Does the jakarta persistence API support org.hibernate.ogm.jpa.HibernateOgmPersistence?","body":"<p>I am using hibernate-ogm-neo4j(v.5.4.1.Final) and I have setup a persistence.xml with <code>org.hibernate.ogm.jpa.HibernateOgmPersistence</code> provider. When I tried to instantiate an EntityManagerFactory from the jakarta persistence API 3.0 I received this error: <code>jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named &lt;persistence_unit_name&gt;</code>.</p>\n<p>So my question here is: Does the <code>hibernate-ogm-*</code> supports jakarta 3.0 implementation to be able to create an EntityManager for that provider: <code>HibernateOgmPersistence</code>?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","grpc","spring-boot-actuator","grpc-java"],"comments":[{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1678432252,"post_id":75686198,"comment_id":133534635,"body_markdown":"Why do you think there is a default health check enabled?","body":"Why do you think there is a default health check enabled?"}],"answers":[{"tags":[],"owner":{"account_id":20028490,"reputation":21,"user_id":14681809,"display_name":"Ahmad Irfaan Hibatullah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681888144,"creation_date":1681888144,"answer_id":76051645,"question_id":75686198,"body_markdown":"If you are using https://github.com/yidongnan/grpc-spring-boot-starter, \r\n\r\nyou just configure :\r\n\r\ngrpc.server.health-service-enabled to false \r\n\r\nlike this:\r\ngrpc.server.health-service-enabled=false\r\n","title":"How to define custom health check endpoint for gRPC in Springboot","body":"<p>If you are using <a href=\"https://github.com/yidongnan/grpc-spring-boot-starter\" rel=\"nofollow noreferrer\">https://github.com/yidongnan/grpc-spring-boot-starter</a>,</p>\n<p>you just configure :</p>\n<p>grpc.server.health-service-enabled to false</p>\n<p>like this:\ngrpc.server.health-service-enabled=false</p>\n"}],"owner":{"account_id":4892973,"reputation":461,"user_id":4206960,"display_name":"rishav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681888144,"creation_date":1678373319,"question_id":75686198,"body_markdown":"I wanted to define a custom gRPC health check in my gRPC service. I wrote this class for that:\r\n\r\n    @Slf4j\r\n    @GRpcService\r\n    @AllArgsConstructor\r\n    public class HealthCheckService extends HealthGrpc.HealthImplBase{\r\n      @Override\r\n      public void check(\r\n          final io.grpc.health.v1.HealthCheckRequest request,\r\n          final io.grpc.stub.StreamObserver&lt;io.grpc.health.v1.HealthCheckResponse&gt;\r\n              responseObserver) {\r\n    \r\n        final HealthCheckResponse response;\r\n        if (someCondition()) {\r\n          response = HealthCheckResponse.newBuilder()\r\n              .setStatus(ServingStatus.NOT_SERVING)\r\n              .build();\r\n          log.info(&quot;********gRPC health check ==== NOT_SERVING ********&quot;);\r\n        } else {\r\n          response = HealthCheckResponse.newBuilder()\r\n              .setStatus(HealthCheckResponse.ServingStatus.SERVING)\r\n              .build();\r\n          log.info(&quot;********gRPC health check ==== SERVING ********&quot;);\r\n        }\r\n        responseObserver.onNext(response);\r\n        responseObserver.onCompleted();\r\n      }\r\n    }\r\n\r\nHowever, running the Springboot application gives this error:\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.lognet.springboot.grpc.recovery.GRpcExceptionHandlerMethodResolver]: Factory method &#39;exceptionHandlerMethodResolver&#39; threw exception with message: Duplicate key grpc.health.v1.Health (attempted merging values com.company.unit.customgrpcservice.grpc.HealthCheckService@4b37b01e and org.lognet.springboot.grpc.health.DefaultHealthStatusService$$SpringCGLIB$$0@46d52510)\r\n\r\n\r\nHow do I disable the default health check and provide the custom one?","title":"How to define custom health check endpoint for gRPC in Springboot","body":"<p>I wanted to define a custom gRPC health check in my gRPC service. I wrote this class for that:</p>\n<pre><code>@Slf4j\n@GRpcService\n@AllArgsConstructor\npublic class HealthCheckService extends HealthGrpc.HealthImplBase{\n  @Override\n  public void check(\n      final io.grpc.health.v1.HealthCheckRequest request,\n      final io.grpc.stub.StreamObserver&lt;io.grpc.health.v1.HealthCheckResponse&gt;\n          responseObserver) {\n\n    final HealthCheckResponse response;\n    if (someCondition()) {\n      response = HealthCheckResponse.newBuilder()\n          .setStatus(ServingStatus.NOT_SERVING)\n          .build();\n      log.info(&quot;********gRPC health check ==== NOT_SERVING ********&quot;);\n    } else {\n      response = HealthCheckResponse.newBuilder()\n          .setStatus(HealthCheckResponse.ServingStatus.SERVING)\n          .build();\n      log.info(&quot;********gRPC health check ==== SERVING ********&quot;);\n    }\n    responseObserver.onNext(response);\n    responseObserver.onCompleted();\n  }\n}\n</code></pre>\n<p>However, running the Springboot application gives this error:</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.lognet.springboot.grpc.recovery.GRpcExceptionHandlerMethodResolver]: Factory method 'exceptionHandlerMethodResolver' threw exception with message: Duplicate key grpc.health.v1.Health (attempted merging values com.company.unit.customgrpcservice.grpc.HealthCheckService@4b37b01e and org.lognet.springboot.grpc.health.DefaultHealthStatusService$$SpringCGLIB$$0@46d52510)\n</code></pre>\n<p>How do I disable the default health check and provide the custom one?</p>\n"},{"tags":["java","postgresql","spring-boot","entitymanager"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1681488700,"post_id":76016834,"comment_id":134069911,"body_markdown":"What about `searchQuery.setParameter(&quot;x&quot;, &quot;70&quot;);` without quotation marks in query?","body":"What about <code>searchQuery.setParameter(&quot;x&quot;, &quot;70&quot;);</code> without quotation marks in query?"}],"answers":[{"tags":[],"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681495288,"creation_date":1681495288,"answer_id":76017817,"question_id":76016834,"body_markdown":"Just pass your parameter as string like \r\n\r\n    searchQuery.setParameter(&quot;x&quot;, &quot;70 minutes&quot;);\r\n\r\nAnd cast it as PostgreSQL interval type as\r\n\r\n    var query = \r\n    &quot;&quot;&quot;\r\n    select\r\n    ...\r\n    and ss.status_date &lt; now() AT TIME ZONE &#39;UTC&#39; - :x::interval\r\n    ...\r\n    &quot;&quot;&quot;;\r\n\r\n","title":"Passing parameter value in native query where it will be surrounded by single quotation marks","body":"<p>Just pass your parameter as string like</p>\n<pre><code>searchQuery.setParameter(&quot;x&quot;, &quot;70 minutes&quot;);\n</code></pre>\n<p>And cast it as PostgreSQL interval type as</p>\n<pre><code>var query = \n&quot;&quot;&quot;\nselect\n...\nand ss.status_date &lt; now() AT TIME ZONE 'UTC' - :x::interval\n...\n&quot;&quot;&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681887718,"creation_date":1681887718,"answer_id":76051577,"question_id":76016834,"body_markdown":"Meanwhile I solved the problem more radically by parameterizing the right operand of `&lt;` entirely:\r\n\r\n    var query = &quot;&quot;&quot;\r\n    ...\r\n    and ss.status_date &lt; :x\r\n    ...\r\n    &quot;&quot;&quot;;\r\n    \r\n    var searchQuery = em.createNativeQuery(query, BikeEntity.class);\r\n    var calendar = Calendar.getInstance();\r\n    calendar.add(Calendar.MINUTE, - 70);\r\n    searchQuery.setParameter(&quot;x&quot;, calendar.getTime());\r\n    return searchQuery.getResultList();\r\n\r\n","title":"Passing parameter value in native query where it will be surrounded by single quotation marks","body":"<p>Meanwhile I solved the problem more radically by parameterizing the right operand of <code>&lt;</code> entirely:</p>\n<pre><code>var query = &quot;&quot;&quot;\n...\nand ss.status_date &lt; :x\n...\n&quot;&quot;&quot;;\n\nvar searchQuery = em.createNativeQuery(query, BikeEntity.class);\nvar calendar = Calendar.getInstance();\ncalendar.add(Calendar.MINUTE, - 70);\nsearchQuery.setParameter(&quot;x&quot;, calendar.getTime());\nreturn searchQuery.getResultList();\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681887718,"creation_date":1681487135,"question_id":76016834,"body_markdown":"I&#39;ve spent a lot of time trying to figure out how to pass a parameter value to a native sql query. The value in the resulted query is surrounded with single quotation marks. That must be the main issue I think.\r\n\r\nThe following query works if the parameter value is hard-coded. I&#39;ve excluded unrelated parts from it:\r\n\r\n    var query = \r\n    &quot;&quot;&quot;\r\n    select\r\n    ...\r\n    and ss.status_date &lt; now() AT TIME ZONE &#39;UTC&#39; - interval &#39;70&#39; minute\r\n    ...\r\n    &quot;&quot;&quot;;\r\n\r\nHowever when I tried to pass the value:\r\n\r\n    var query = \r\n    &quot;&quot;&quot;\r\n    select\r\n    ...\r\n    and ss.status_date &lt; now() AT TIME ZONE &#39;UTC&#39; - interval &#39;:x&#39; minute\r\n    ...\r\n    &quot;&quot;&quot;;\r\n    \r\n    var searchQuery = em.createNativeQuery(query, BikeEntity.class);\r\n    searchQuery.setParameter(&quot;x&quot;, 70);\r\n\r\n\r\nI got the error:\r\n\r\n    java.lang.IllegalArgumentException: Could not locate named parameter [x], expecting one of []\r\n\r\nWithout quotation marks:\r\n\r\n    var query = \r\n    &quot;&quot;&quot;\r\n    select\r\n    ...\r\n    and ss.status_date &lt; now() AT TIME ZONE &#39;UTC&#39; - interval :x minute\r\n    ...\r\n    &quot;&quot;&quot;;\r\n\r\nThe error was:\r\n\r\n    org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\r\n      Position: 205\r\n\r\nI&#39;ve also tried different recommendations in this post https://stackoverflow.com/questions/28829818/native-query-with-named-parameter-fails-with-not-all-named-parameters-have-been\r\n\r\nbut without success\r\n\r\nUsing\r\nJava 17\r\nSpringBoot 2.7.6\r\nPostgreSQL","title":"Passing parameter value in native query where it will be surrounded by single quotation marks","body":"<p>I've spent a lot of time trying to figure out how to pass a parameter value to a native sql query. The value in the resulted query is surrounded with single quotation marks. That must be the main issue I think.</p>\n<p>The following query works if the parameter value is hard-coded. I've excluded unrelated parts from it:</p>\n<pre><code>var query = \n&quot;&quot;&quot;\nselect\n...\nand ss.status_date &lt; now() AT TIME ZONE 'UTC' - interval '70' minute\n...\n&quot;&quot;&quot;;\n</code></pre>\n<p>However when I tried to pass the value:</p>\n<pre><code>var query = \n&quot;&quot;&quot;\nselect\n...\nand ss.status_date &lt; now() AT TIME ZONE 'UTC' - interval ':x' minute\n...\n&quot;&quot;&quot;;\n\nvar searchQuery = em.createNativeQuery(query, BikeEntity.class);\nsearchQuery.setParameter(&quot;x&quot;, 70);\n</code></pre>\n<p>I got the error:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not locate named parameter [x], expecting one of []\n</code></pre>\n<p>Without quotation marks:</p>\n<pre><code>var query = \n&quot;&quot;&quot;\nselect\n...\nand ss.status_date &lt; now() AT TIME ZONE 'UTC' - interval :x minute\n...\n&quot;&quot;&quot;;\n</code></pre>\n<p>The error was:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\n  Position: 205\n</code></pre>\n<p>I've also tried different recommendations in this post <a href=\"https://stackoverflow.com/questions/28829818/native-query-with-named-parameter-fails-with-not-all-named-parameters-have-been\">Native query with named parameter fails with &quot;Not all named parameters have been set&quot;</a></p>\n<p>but without success</p>\n<p>Using\nJava 17\nSpringBoot 2.7.6\nPostgreSQL</p>\n"},{"tags":["java","tdd","class-visibility"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681883527,"post_id":76047269,"comment_id":134126710,"body_markdown":"&quot;I dont want to modify the visibility of this constant just for the tests to avoid this posible modification in the future.&quot; Sorry, but you&#39;re going to have to.","body":"&quot;I dont want to modify the visibility of this constant just for the tests to avoid this posible modification in the future.&quot; Sorry, but you&#39;re going to have to."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681840627,"creation_date":1681840627,"answer_id":76047727,"question_id":76047269,"body_markdown":"Changing visibility to package-private for tests should be fine. Still, it can be used in the same package, if some other developer is not aware he shouldn&#39;t do it. This can break stuff, if you change the value later on.\r\n\r\nBetter approach would be to use some abstraction to get this value, instead of using it directly. For example:\r\n```\r\npublic class MyClass {\r\n\r\n  private static final String SOME_VALUE = &quot;value&quot;;\r\n\r\n  private final Supplier&lt;String&gt; valueSupplier;\r\n\r\n  public MyClass(Supplier&lt;String&gt; valueSupplier) {\r\n    //new constructor\r\n    this.valueSupplier = valueSupplier;\r\n  }\r\n\r\n  public MyClass() {\r\n    //previous constructor\r\n    //provides the default supplier with the constant\r\n    this(() -&gt; SOME_VALUE);\r\n  }\r\n\r\n  public String doStuff(String stringValue) {\r\n    //method to test\r\n    return this.valueSupplier.get() + &quot;_&quot; + stringValue;\r\n  }\r\n}\r\n```\r\nNow you can mock `valueSupplier` in your unit tests. This allows you to change `SOME_VALUE` however you like, without breaking existing tests, while still keeping it private.","title":"change visibility of a private java constant to test it","body":"<p>Changing visibility to package-private for tests should be fine. Still, it can be used in the same package, if some other developer is not aware he shouldn't do it. This can break stuff, if you change the value later on.</p>\n<p>Better approach would be to use some abstraction to get this value, instead of using it directly. For example:</p>\n<pre><code>public class MyClass {\n\n  private static final String SOME_VALUE = &quot;value&quot;;\n\n  private final Supplier&lt;String&gt; valueSupplier;\n\n  public MyClass(Supplier&lt;String&gt; valueSupplier) {\n    //new constructor\n    this.valueSupplier = valueSupplier;\n  }\n\n  public MyClass() {\n    //previous constructor\n    //provides the default supplier with the constant\n    this(() -&gt; SOME_VALUE);\n  }\n\n  public String doStuff(String stringValue) {\n    //method to test\n    return this.valueSupplier.get() + &quot;_&quot; + stringValue;\n  }\n}\n</code></pre>\n<p>Now you can mock <code>valueSupplier</code> in your unit tests. This allows you to change <code>SOME_VALUE</code> however you like, without breaking existing tests, while still keeping it private.</p>\n"},{"tags":[],"owner":{"account_id":43160,"reputation":227380,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1681887547,"creation_date":1681887547,"answer_id":76051557,"question_id":76047269,"body_markdown":"Since this question is tagged [tdd][1], I&#39;m going to pretend that the OP didn&#39;t include\r\n\r\n&gt; when I want to make the test for this class\r\n\r\nAfter all, TDD means *test-driven development*; i.e. write the test *before* the implementation.\r\n\r\nAdditionally, since this issue is a problem in several programming languages, and not just Java, I&#39;m going to respond with some C# code. I&#39;m sure you&#39;ll be able to follow it.\r\n\r\nThe short answer, however, is that it depends on whether or not that constant is part of the specification of the System Under Test (SUT).\r\n\r\nImagine, as an illustrative example, that you have to TDD a little *Hello World* API.\r\n\r\nYou might write a few test cases like this:\r\n\r\n    [Theory]\r\n    [InlineData(&quot;Mary&quot;)]\r\n    [InlineData(&quot;Sue&quot;)]\r\n    public void ExactEnglishSpec(string name)\r\n    {\r\n        var sut = new Greeter();\r\n\r\n        var actual = sut.Greet(name);\r\n\r\n        Assert.StartsWith(&quot;Hello, &quot;, actual);\r\n        Assert.EndsWith(name + &quot;.&quot;, actual);\r\n    }\r\n\r\nThis might drive an implementation like this:\r\n\r\n    public sealed class Greeter\r\n    {\r\n        private const string englishTemplate = &quot;Hello, {0}.&quot;;\r\n    \r\n        public string Greet(string name)\r\n        {\r\n            return string.Format(englishTemplate, name);\r\n        }\r\n    }\r\n\r\nAs in the OP, this implementation contains a `private const string`. What happens if that `englishTemplate` changes?\r\n\r\nObviously, the tests fail.\r\n\r\nAs they should, since you wrote them that way.\r\n\r\nTests specify the behaviour of the software, and if they assert that a string should be exactly a particular value, then that is part of the specification, and it&#39;s a breaking change if it changes.\r\n\r\nThis may or may not be what you want.\r\n\r\nIt depends on what you&#39;re doing. If you&#39;re implementing a formal specification that demands that exact template string, then that *should* be part of the contract, and it *should* be a breaking change if someone changes the template. This would also be true if it&#39;s part of an API where you&#39;ve agreed with callers that the string will always be based on that template.\r\n\r\nOn the other hand, this may not be what you want. If you&#39;re implementing an (object-oriented) API that encapsulates behaviour, and you expect that the template might change in the future, write a more robust test:\r\n\r\n    [Theory]\r\n    [InlineData(&quot;Rose&quot;)]\r\n    [InlineData(&quot;Mary&quot;)]\r\n    public void RobustEnglishBehaviour(string name)\r\n    {\r\n        var sut = new Greeter();\r\n\r\n        var actual = sut.Greet(name);\r\n\r\n        Assert.Contains(name, actual);\r\n        Assert.NotEqual(name, actual);\r\n    }\r\n\r\nThe first assertion here verifies that the `name` is to be found somewhere in `actual`. The second assertion prevents the implementation from simply echoing back the name.\r\n\r\nNow, if you change the template, this robust test still passes, while the first example would break.\r\n\r\nBy now, I&#39;m sure you&#39;re asking: *But how can I verify that the return value isn&#39;t just some nonsense?*\r\n\r\nIn a sense, you can&#39;t, because you&#39;ve made the decision that the actual value is no longer part of the contract. Imagine that, instead of an English greeting, you&#39;re asked to internationalise the API. Will you, as the developer, be able to verify that greetings in Romanian, Chinese, Thai, Korean, etc. are correct?\r\n\r\nProbably not. Those strings are going to be opaque to you, hopefully instead supplied by professional translators.\r\n\r\nHow do you test against something like that?\r\n\r\nNaively, one might attempt something like this:\r\n\r\n    [Theory]\r\n    [InlineData(&quot;Hans&quot;)]\r\n    [InlineData(&quot;Christian&quot;)]\r\n    public void ExactDanishSpec(string name)\r\n    {\r\n        var sut = new Greeter();\r\n        sut.Culture = &quot;da-DK&quot;;\r\n\r\n        var actual = sut.Greet(name);\r\n\r\n        Assert.StartsWith(&quot;Hej &quot;, actual);\r\n        Assert.EndsWith(name + &quot;.&quot;, actual);\r\n    }\r\n\r\nThis might drive an implementation like this:\r\n\r\n    public sealed class Greeter\r\n    {\r\n        private const string englishTemplate = &quot;Hello, {0}.&quot;;\r\n        private const string danishTemplate = &quot;Hej {0}.&quot;;\r\n    \r\n        public string? Culture { get; set; }\r\n    \r\n        public string Greet(string name)\r\n        {\r\n            if (Culture == &quot;da-DK&quot;)\r\n                return string.Format(danishTemplate, name);\r\n            else\r\n                return string.Format(englishTemplate, name);\r\n        }\r\n    }\r\n\r\nAgain, this is *an exact specification.* I&#39;ll remind you that this example is just a placeholder for a &#39;real&#39; problem. If the exact string is part of the specification, then writing the test as shown above seems appropriate, but that also means that if you change the strings, the tests will break. And that&#39;s by design.\r\n\r\nIf you instead want to write a more robust test, you might do something like this:\r\n\r\n    [Theory]\r\n    [InlineData(&quot;Charlotte&quot;)]\r\n    [InlineData(&quot;Martin&quot;)]\r\n    public void EnglishIsDifferentFromDanish(string name)\r\n    {\r\n        var sut = new Greeter();\r\n        var unexpected = sut.Greet(name);\r\n        sut.Culture = &quot;da-DK&quot;;\r\n\r\n        var actual = sut.Greet(name);\r\n\r\n        Assert.Contains(name, actual);\r\n        Assert.NotEqual(name, actual);\r\n        Assert.NotEqual(unexpected, actual);\r\n    }\r\n\r\nThese assertions again verify that the name is included in the response, and not just echoed back. Furthermore, the test asserts that the Danish greeting isn&#39;t the same as the English greeting.\r\n\r\nThis test is *more* robust than the exact specification, but isn&#39;t absolutely guaranteed never to fail. If, in the future, translators decide that the English greeting and the Danish greeting should use effectively equal templates, the test would fail.\r\n\r\nComing back to the OP. How about exposing the templates as public constants?\r\n\r\nSure, you could do that if the exact value is *not* part of the specification:\r\n\r\n    public const string EnglishTemplate = &quot;Hello, {0}.&quot;;\r\n    public const string DanishTemplate = &quot;Hej {0}.&quot;;\r\n\r\nThis would enable you to write a test like this:\r\n\r\n    [Theory]\r\n    [InlineData(&quot;Thelma&quot;)]\r\n    [InlineData(&quot;Louise&quot;)]\r\n    public void UseEnglishTemplate(string name)\r\n    {\r\n        var sut = new Greeter();\r\n        var actual = sut.Greet(name);\r\n        Assert.Equal(string.Format(Greeter.EnglishTemplate, name), actual);\r\n    }\r\n\r\nDoes that, however, provide any value? It essentially just repeats the implementation code.\r\n\r\nDon&#39;t repeat yourself.\r\n\r\nStill, just to drive home the point: Such a test would be robust to changes of the template strings. The test would pass even if you edit the string. Is that appropriate?\r\n\r\nThat depends on whether or not the exact string value is part of the public contract for the SUT.\r\n\r\nThis line of reasoning applies not only to strings, but also to constant numbers.\r\n\r\nIf the constant is part of the contract, write your tests in such a way that they fail if the constant changes. If the constant is an implementation detail, write robust tests that pass when the value changes.\r\n\r\n  [1]: https://stackoverflow.com/questions/tagged/tdd","title":"change visibility of a private java constant to test it","body":"<p>Since this question is tagged <a href=\"https://stackoverflow.com/questions/tagged/tdd\">tdd</a>, I'm going to pretend that the OP didn't include</p>\n<blockquote>\n<p>when I want to make the test for this class</p>\n</blockquote>\n<p>After all, TDD means <em>test-driven development</em>; i.e. write the test <em>before</em> the implementation.</p>\n<p>Additionally, since this issue is a problem in several programming languages, and not just Java, I'm going to respond with some C# code. I'm sure you'll be able to follow it.</p>\n<p>The short answer, however, is that it depends on whether or not that constant is part of the specification of the System Under Test (SUT).</p>\n<p>Imagine, as an illustrative example, that you have to TDD a little <em>Hello World</em> API.</p>\n<p>You might write a few test cases like this:</p>\n<pre><code>[Theory]\n[InlineData(&quot;Mary&quot;)]\n[InlineData(&quot;Sue&quot;)]\npublic void ExactEnglishSpec(string name)\n{\n    var sut = new Greeter();\n\n    var actual = sut.Greet(name);\n\n    Assert.StartsWith(&quot;Hello, &quot;, actual);\n    Assert.EndsWith(name + &quot;.&quot;, actual);\n}\n</code></pre>\n<p>This might drive an implementation like this:</p>\n<pre><code>public sealed class Greeter\n{\n    private const string englishTemplate = &quot;Hello, {0}.&quot;;\n\n    public string Greet(string name)\n    {\n        return string.Format(englishTemplate, name);\n    }\n}\n</code></pre>\n<p>As in the OP, this implementation contains a <code>private const string</code>. What happens if that <code>englishTemplate</code> changes?</p>\n<p>Obviously, the tests fail.</p>\n<p>As they should, since you wrote them that way.</p>\n<p>Tests specify the behaviour of the software, and if they assert that a string should be exactly a particular value, then that is part of the specification, and it's a breaking change if it changes.</p>\n<p>This may or may not be what you want.</p>\n<p>It depends on what you're doing. If you're implementing a formal specification that demands that exact template string, then that <em>should</em> be part of the contract, and it <em>should</em> be a breaking change if someone changes the template. This would also be true if it's part of an API where you've agreed with callers that the string will always be based on that template.</p>\n<p>On the other hand, this may not be what you want. If you're implementing an (object-oriented) API that encapsulates behaviour, and you expect that the template might change in the future, write a more robust test:</p>\n<pre><code>[Theory]\n[InlineData(&quot;Rose&quot;)]\n[InlineData(&quot;Mary&quot;)]\npublic void RobustEnglishBehaviour(string name)\n{\n    var sut = new Greeter();\n\n    var actual = sut.Greet(name);\n\n    Assert.Contains(name, actual);\n    Assert.NotEqual(name, actual);\n}\n</code></pre>\n<p>The first assertion here verifies that the <code>name</code> is to be found somewhere in <code>actual</code>. The second assertion prevents the implementation from simply echoing back the name.</p>\n<p>Now, if you change the template, this robust test still passes, while the first example would break.</p>\n<p>By now, I'm sure you're asking: <em>But how can I verify that the return value isn't just some nonsense?</em></p>\n<p>In a sense, you can't, because you've made the decision that the actual value is no longer part of the contract. Imagine that, instead of an English greeting, you're asked to internationalise the API. Will you, as the developer, be able to verify that greetings in Romanian, Chinese, Thai, Korean, etc. are correct?</p>\n<p>Probably not. Those strings are going to be opaque to you, hopefully instead supplied by professional translators.</p>\n<p>How do you test against something like that?</p>\n<p>Naively, one might attempt something like this:</p>\n<pre><code>[Theory]\n[InlineData(&quot;Hans&quot;)]\n[InlineData(&quot;Christian&quot;)]\npublic void ExactDanishSpec(string name)\n{\n    var sut = new Greeter();\n    sut.Culture = &quot;da-DK&quot;;\n\n    var actual = sut.Greet(name);\n\n    Assert.StartsWith(&quot;Hej &quot;, actual);\n    Assert.EndsWith(name + &quot;.&quot;, actual);\n}\n</code></pre>\n<p>This might drive an implementation like this:</p>\n<pre><code>public sealed class Greeter\n{\n    private const string englishTemplate = &quot;Hello, {0}.&quot;;\n    private const string danishTemplate = &quot;Hej {0}.&quot;;\n\n    public string? Culture { get; set; }\n\n    public string Greet(string name)\n    {\n        if (Culture == &quot;da-DK&quot;)\n            return string.Format(danishTemplate, name);\n        else\n            return string.Format(englishTemplate, name);\n    }\n}\n</code></pre>\n<p>Again, this is <em>an exact specification.</em> I'll remind you that this example is just a placeholder for a 'real' problem. If the exact string is part of the specification, then writing the test as shown above seems appropriate, but that also means that if you change the strings, the tests will break. And that's by design.</p>\n<p>If you instead want to write a more robust test, you might do something like this:</p>\n<pre><code>[Theory]\n[InlineData(&quot;Charlotte&quot;)]\n[InlineData(&quot;Martin&quot;)]\npublic void EnglishIsDifferentFromDanish(string name)\n{\n    var sut = new Greeter();\n    var unexpected = sut.Greet(name);\n    sut.Culture = &quot;da-DK&quot;;\n\n    var actual = sut.Greet(name);\n\n    Assert.Contains(name, actual);\n    Assert.NotEqual(name, actual);\n    Assert.NotEqual(unexpected, actual);\n}\n</code></pre>\n<p>These assertions again verify that the name is included in the response, and not just echoed back. Furthermore, the test asserts that the Danish greeting isn't the same as the English greeting.</p>\n<p>This test is <em>more</em> robust than the exact specification, but isn't absolutely guaranteed never to fail. If, in the future, translators decide that the English greeting and the Danish greeting should use effectively equal templates, the test would fail.</p>\n<p>Coming back to the OP. How about exposing the templates as public constants?</p>\n<p>Sure, you could do that if the exact value is <em>not</em> part of the specification:</p>\n<pre><code>public const string EnglishTemplate = &quot;Hello, {0}.&quot;;\npublic const string DanishTemplate = &quot;Hej {0}.&quot;;\n</code></pre>\n<p>This would enable you to write a test like this:</p>\n<pre><code>[Theory]\n[InlineData(&quot;Thelma&quot;)]\n[InlineData(&quot;Louise&quot;)]\npublic void UseEnglishTemplate(string name)\n{\n    var sut = new Greeter();\n    var actual = sut.Greet(name);\n    Assert.Equal(string.Format(Greeter.EnglishTemplate, name), actual);\n}\n</code></pre>\n<p>Does that, however, provide any value? It essentially just repeats the implementation code.</p>\n<p>Don't repeat yourself.</p>\n<p>Still, just to drive home the point: Such a test would be robust to changes of the template strings. The test would pass even if you edit the string. Is that appropriate?</p>\n<p>That depends on whether or not the exact string value is part of the public contract for the SUT.</p>\n<p>This line of reasoning applies not only to strings, but also to constant numbers.</p>\n<p>If the constant is part of the contract, write your tests in such a way that they fail if the constant changes. If the constant is an implementation detail, write robust tests that pass when the value changes.</p>\n"}],"owner":{"account_id":3939456,"reputation":1803,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1681887571,"creation_date":1681837354,"question_id":76047269,"body_markdown":"Having a private String constant in a java class that is used in some methods, when I want to make the test for this class, I will have to hardcode the string constant in the test because its private in the class. But if in the future the string constant is modified in the class,  I will have to modify in the test class too. I dont want to modify the visibility of this constant just for the tests to avoid this possible modification in the future. Is this thinking correct according to the TDD methodology?. \r\n\r\nThanks. ","title":"change visibility of a private java constant to test it","body":"<p>Having a private String constant in a java class that is used in some methods, when I want to make the test for this class, I will have to hardcode the string constant in the test because its private in the class. But if in the future the string constant is modified in the class,  I will have to modify in the test class too. I dont want to modify the visibility of this constant just for the tests to avoid this possible modification in the future. Is this thinking correct according to the TDD methodology?.</p>\n<p>Thanks.</p>\n"},{"tags":["java","sql","sqlite","jdbc","resultset"],"comments":[{"owner":{"account_id":1854334,"reputation":5145,"user_id":1680256,"accept_rate":88,"display_name":"Bhavik Shah"},"score":0,"creation_date":1357644326,"post_id":14213824,"comment_id":19711998,"body_markdown":"any specific reason why you want to return null for `DELETE` query because `DELETE` query will always return null as resultset","body":"any specific reason why you want to return null for <code>DELETE</code> query because <code>DELETE</code> query will always return null as resultset"},{"owner":{"account_id":344696,"reputation":7076,"user_id":677139,"accept_rate":97,"display_name":"Dreen"},"score":0,"creation_date":1357644468,"post_id":14213824,"comment_id":19712059,"body_markdown":"i have a method that executes all queries and with a `DELETE` on MySQL it returns null as you said but on SQLite it throws an exception.","body":"i have a method that executes all queries and with a <code>DELETE</code> on MySQL it returns null as you said but on SQLite it throws an exception."},{"owner":{"account_id":344696,"reputation":7076,"user_id":677139,"accept_rate":97,"display_name":"Dreen"},"score":0,"creation_date":1357644521,"post_id":14213824,"comment_id":19712089,"body_markdown":"I am using this JDBC driver btw https://bitbucket.org/xerial/sqlite-jdbc","body":"I am using this JDBC driver btw <a href=\"https://bitbucket.org/xerial/sqlite-jdbc\" rel=\"nofollow noreferrer\">bitbucket.org/xerial/sqlite-jdbc</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1357647131,"post_id":14213824,"comment_id":19713299,"body_markdown":"@BhavikShah: that is only true for the two mentioned DBMS. Other DBMS can indeed return something from a DELETE statement, e.g. `delete ... returning ...`)","body":"@BhavikShah: that is only true for the two mentioned DBMS. Other DBMS can indeed return something from a DELETE statement, e.g. <code>delete ... returning ...</code>)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1358040930,"post_id":14213824,"comment_id":19862794,"body_markdown":"No statement has a result set until you execute it. So execute it.","body":"No statement has a result set until you execute it. So execute it."}],"answers":[{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357645018,"creation_date":1357645018,"answer_id":14214105,"question_id":14213824,"body_markdown":"The problem is that you use invalid method to perform delete operation. Instead of using `getResultSet` you should use [`Statement#execute(String)`][1]\r\n\r\nIMHO the Exeption in SQLite implementation is more valid than null for MySQL. As `delete` do not return the set but a scalar value of delted rows.\r\n\r\n[1]:http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/Statement.html#execute(java.lang.String)\r\n\r\n\r\n ","title":"Java SQL: Statement.hasResultSet()?","body":"<p>The problem is that you use invalid method to perform delete operation. Instead of using <code>getResultSet</code> you should use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/Statement.html#execute%28java.lang.String%29\" rel=\"nofollow\"><code>Statement#execute(String)</code></a></p>\n\n<p>IMHO the Exeption in SQLite implementation is more valid than null for MySQL. As <code>delete</code> do not return the set but a scalar value of delted rows.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1681886720,"creation_date":1358589544,"answer_id":14413141,"question_id":14213824,"body_markdown":"When executing a query that returns an unknown amount of results, then you need to use [`execute()`][1]. This method returns a `boolean` indicating the type of result:\r\n\r\n - `true`: result is a `ResultSet`\r\n - `false` : result is an update count\r\n\r\nIf the result is `true`, then you use [`getResultSet()`][2] to retrieve the `ResultSet`, otherwise [`getUpdateCount()`][3] to retrieve the update count. If the update count is `-1` it means there are no more results. Note that the update count will also be `-1` when the current result is a `ResultSet`. It is also good to know that `getResultSet()` should return null if there are no more results or if the result is an update count, so the behavior of SQL Lite to throw an exception seems to be wrong.\r\n\r\nNow if you want to retrieve more results, you call [`getMoreResults()`][4] (or its brother accepting an `int` parameter). The `boolean` return value of this method has the same meaning as that of `execute()`, so `false` does not mean there are no more results!\r\n\r\nThere are only no more results if the `getMoreResults()` returns false **and** `getUpdateCount()` returns `-1` (as also documented in the Javadoc)\r\n\r\nEssentially this means that if you want to correctly process all results you need to do something like:\r\n\r\n    PreparedStatement pstmt = connection.prepareStatement(...);\r\n    // ...\r\n    boolean result = pstmt.execute();\r\n    while(true) {\r\n    \tif (result) {\r\n    \t\tResultSet rs = pstmt.getResultSet();\r\n    \t\t// Do something with resultset ...\r\n    \t} else {\r\n    \t\tint updateCount = pstmt.getUpdateCount();\r\n    \t\tif (updateCount == -1) {\r\n    \t\t\t// no more results\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\t// Do something with update count ...\r\n    \t}\r\n    \tresult = pstmt.getMoreResults();\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getResultSet%28%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getUpdateCount%28%29\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getMoreResults%28%29","title":"Java SQL: Statement.hasResultSet()?","body":"<p>When executing a query that returns an unknown amount of results, then you need to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\" rel=\"nofollow noreferrer\"><code>execute()</code></a>. This method returns a <code>boolean</code> indicating the type of result:</p>\n<ul>\n<li><code>true</code>: result is a <code>ResultSet</code></li>\n<li><code>false</code> : result is an update count</li>\n</ul>\n<p>If the result is <code>true</code>, then you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getResultSet%28%29\" rel=\"nofollow noreferrer\"><code>getResultSet()</code></a> to retrieve the <code>ResultSet</code>, otherwise <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getUpdateCount%28%29\" rel=\"nofollow noreferrer\"><code>getUpdateCount()</code></a> to retrieve the update count. If the update count is <code>-1</code> it means there are no more results. Note that the update count will also be <code>-1</code> when the current result is a <code>ResultSet</code>. It is also good to know that <code>getResultSet()</code> should return null if there are no more results or if the result is an update count, so the behavior of SQL Lite to throw an exception seems to be wrong.</p>\n<p>Now if you want to retrieve more results, you call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getMoreResults%28%29\" rel=\"nofollow noreferrer\"><code>getMoreResults()</code></a> (or its brother accepting an <code>int</code> parameter). The <code>boolean</code> return value of this method has the same meaning as that of <code>execute()</code>, so <code>false</code> does not mean there are no more results!</p>\n<p>There are only no more results if the <code>getMoreResults()</code> returns false <strong>and</strong> <code>getUpdateCount()</code> returns <code>-1</code> (as also documented in the Javadoc)</p>\n<p>Essentially this means that if you want to correctly process all results you need to do something like:</p>\n<pre><code>PreparedStatement pstmt = connection.prepareStatement(...);\n// ...\nboolean result = pstmt.execute();\nwhile(true) {\n    if (result) {\n        ResultSet rs = pstmt.getResultSet();\n        // Do something with resultset ...\n    } else {\n        int updateCount = pstmt.getUpdateCount();\n        if (updateCount == -1) {\n            // no more results\n            break;\n        }\n        // Do something with update count ...\n    }\n    result = pstmt.getMoreResults();\n}\n</code></pre>\n"}],"owner":{"account_id":344696,"reputation":7076,"user_id":677139,"accept_rate":97,"display_name":"Dreen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3321,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14413141,"answer_count":2,"score":2,"last_activity_date":1681886720,"creation_date":1357643969,"question_id":14213824,"body_markdown":"My app uses MySQL on one platform and SQLite on another, as such there are differences, such as that when using query like `DELETE FROM USERS`:\r\n\r\n - On **MySQL**, `PreparedStatement.getResultSet()` will return `null`.\r\n - On **SQLite**, `PreparedStatement.getResultSet()` will throw `java.sql.SQLException: no ResultSet available`.\r\n\r\nThis may or may not be a bug in SQLite implementation (I think it is supposed to return `null`), but I have to deal with this somehow.\r\n\r\nI could use a `try { ... } catch (SQLException e) { ... }` and if the exception message is `&quot;no ResultSet available&quot;`, simply return null manually. This doesn&#39;t feel like a right way to do it though.\r\n\r\nI could put up an if that makes a check on what JDBC driver is being used and react accordingly, but again, that doesn&#39;t feel like a good solution to the problem.\r\n\r\nWhat I would really like is either a method like `.hasResultSet()` that returns a `boolean` *OR* a way to get the SQL command (`SELECT, UPDATE, INSERT` etc) from a statement that has been executed. [I can find neither of the two in SQL API though.][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/package-summary.html","title":"Java SQL: Statement.hasResultSet()?","body":"<p>My app uses MySQL on one platform and SQLite on another, as such there are differences, such as that when using query like <code>DELETE FROM USERS</code>:</p>\n\n<ul>\n<li>On <strong>MySQL</strong>, <code>PreparedStatement.getResultSet()</code> will return <code>null</code>.</li>\n<li>On <strong>SQLite</strong>, <code>PreparedStatement.getResultSet()</code> will throw <code>java.sql.SQLException: no ResultSet available</code>.</li>\n</ul>\n\n<p>This may or may not be a bug in SQLite implementation (I think it is supposed to return <code>null</code>), but I have to deal with this somehow.</p>\n\n<p>I could use a <code>try { ... } catch (SQLException e) { ... }</code> and if the exception message is <code>\"no ResultSet available\"</code>, simply return null manually. This doesn't feel like a right way to do it though.</p>\n\n<p>I could put up an if that makes a check on what JDBC driver is being used and react accordingly, but again, that doesn't feel like a good solution to the problem.</p>\n\n<p>What I would really like is either a method like <code>.hasResultSet()</code> that returns a <code>boolean</code> <em>OR</em> a way to get the SQL command (<code>SELECT, UPDATE, INSERT</code> etc) from a statement that has been executed. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/package-summary.html\" rel=\"nofollow\">I can find neither of the two in SQL API though.</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681890111,"post_id":76051419,"comment_id":134128092,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681886504,"creation_date":1681886504,"answer_id":76051443,"question_id":76051419,"body_markdown":"Put this code \r\n\r\n    public double s = (side1 + side2 + side3)/2;\r\n\r\ninto the `getArea` method.\r\n\r\nCurrently it is being called before the fields are set. ","title":"2 Problems. Unable to retrieve correct output for area of Triangle, and unsure of what else-if state to use so my input can recognize a square","body":"<p>Put this code</p>\n<pre><code>public double s = (side1 + side2 + side3)/2;\n</code></pre>\n<p>into the <code>getArea</code> method.</p>\n<p>Currently it is being called before the fields are set.</p>\n"}],"owner":{"account_id":28256821,"reputation":11,"user_id":21602169,"display_name":"koda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681886504,"creation_date":1681886329,"question_id":76051419,"body_markdown":"Here is my TestShape file. As you can see depending on how many arguments I provide through the command line or terminal, it will create the following object and call getDetails(). My first problem is that I am unsure on what else-if condition to use for the Square as both, Square and Circle eg. This is for circle --\\&gt;(args.length == 1) require one user inputted variable to create their objects.\r\n\r\nMy second problem is that when I trigger the Triangle else-if statement, and it calls the t.getDetails() it returns everything correct except I don&#39;t receive a value for the area. Check the other files down below.\r\n\r\nHere is my output for the Triangle trigger:\r\n\r\nInput: java TestShape 10 10 20 \\&lt;ENTER\\&gt;\r\n\r\nOutput:\r\n\r\nType: Triangle\r\n\r\nSide1: 10\r\n\r\nSide2: 10\r\n\r\nSide3: 20\r\n\r\nPerimeter: 40.0\r\n\r\nArea: -0.0\r\n\r\n```\r\n//TestShape.java\r\npublic class TestShape {\r\n    public static void main(String[] args) {\r\n        if (args.length == 1) {\r\n            Circle c = new Circle(Integer.parseInt(args[0]));\r\n            c.getDetails();\r\n            \r\n        } else if (args.length == 2) {\r\n            Rectangle r = new Rectangle(Integer.parseInt(args[0]), Integer.parseInt(args[1]));\r\n            r.getDetails();\r\n            \r\n        } else if (args.length == 3) {\r\n            Triangle t = new Triangle(Integer.parseInt(args[0]), Integer.parseInt(args[1]), Integer.parseInt(args[2]));\r\n            t.getDetails();\r\n            \r\n        } else if (/* Unsure on what to write here.*/) { \r\n            Square s = new Square(Integer.parseInt(args[0]));\r\n            s.getDetails();\r\n\r\n        } else {\r\n            System.out.println(&quot;Invalid Input&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n//Triangle.java\r\npublic class Triangle implements Shape {\r\n    public int side1;\r\n    public int side2;\r\n    public int side3;\r\n\r\n    public Triangle(int side1, int side2, int side3) {\r\n        this.side1 = side1;\r\n        this.side2 = side2;\r\n        this.side3 = side3;\r\n    }\r\n    public double s = (side1 + side2 + side3)/2;\r\n\r\n    @Override\r\n    public double getPerimeter() {\r\n        return side1 + side2 + side3;\r\n    }\r\n\r\n    @Override\r\n    public double getArea() {\r\n        return Math.sqrt(s * (s - side1) * (s - side2) * (s - side3));\r\n    }\r\n\r\n    @Override\r\n    public void getDetails() {\r\n        System.out.println(&quot;Type: Triangle&quot;);\r\n        System.out.println(&quot;Side1: &quot; + side1);\r\n        System.out.println(&quot;Side2: &quot; + side2);\r\n        System.out.println(&quot;Side3: &quot; + side3);\r\n        System.out.println(&quot;Perimeter: &quot; + getPerimeter());\r\n        System.out.println(&quot;Area: &quot; + getArea());\r\n    }\r\n}\r\n```\r\n\r\n```\r\n//Circle.java\r\npublic class Circle implements Shape {\r\n    public double PI = Math.PI;\r\n    public int radius;\r\n\r\n    public Circle(int radius) {\r\n        this.radius = radius;\r\n    }\r\n    @Override\r\n    public double getPerimeter() {\r\n        return 2 * PI * radius;\r\n    }\r\n\r\n    @Override\r\n    public double getArea() {\r\n        return PI * radius * radius;\r\n    }\r\n\r\n    @Override\r\n    public void getDetails() {\r\n        System.out.println(&quot;Type: Circle&quot;);\r\n        System.out.println(&quot;Radius: &quot; + radius);\r\n        System.out.println(&quot;Perimeter: &quot; + getPerimeter());\r\n        System.out.println(&quot;Area: &quot; + getArea());\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Square implements Shape {\r\n    public int side;\r\n\r\n    public Square(int side) {\r\n        this.side = side;\r\n    }\r\n\r\n    @Override\r\n    public double getPerimeter() {\r\n        return side * 4;\r\n    }\r\n\r\n    @Override\r\n    public double getArea() {\r\n        return side * 2;\r\n    }\r\n\r\n    @Override\r\n    public void getDetails() {\r\n        System.out.println(&quot;Type: Square&quot;);\r\n        System.out.println(&quot;Side: &quot; + side);\r\n        System.out.println(&quot;Perimeter: &quot; + getPerimeter());\r\n        System.out.println(&quot;Area: &quot; + getArea());\r\n    }\r\n}\r\n```\r\n\r\nI looked over the getArea() method multiple times and checked for errors.","title":"2 Problems. Unable to retrieve correct output for area of Triangle, and unsure of what else-if state to use so my input can recognize a square","body":"<p>Here is my TestShape file. As you can see depending on how many arguments I provide through the command line or terminal, it will create the following object and call getDetails(). My first problem is that I am unsure on what else-if condition to use for the Square as both, Square and Circle eg. This is for circle --&gt;(args.length == 1) require one user inputted variable to create their objects.</p>\n<p>My second problem is that when I trigger the Triangle else-if statement, and it calls the t.getDetails() it returns everything correct except I don't receive a value for the area. Check the other files down below.</p>\n<p>Here is my output for the Triangle trigger:</p>\n<p>Input: java TestShape 10 10 20 &lt;ENTER&gt;</p>\n<p>Output:</p>\n<p>Type: Triangle</p>\n<p>Side1: 10</p>\n<p>Side2: 10</p>\n<p>Side3: 20</p>\n<p>Perimeter: 40.0</p>\n<p>Area: -0.0</p>\n<pre><code>//TestShape.java\npublic class TestShape {\n    public static void main(String[] args) {\n        if (args.length == 1) {\n            Circle c = new Circle(Integer.parseInt(args[0]));\n            c.getDetails();\n            \n        } else if (args.length == 2) {\n            Rectangle r = new Rectangle(Integer.parseInt(args[0]), Integer.parseInt(args[1]));\n            r.getDetails();\n            \n        } else if (args.length == 3) {\n            Triangle t = new Triangle(Integer.parseInt(args[0]), Integer.parseInt(args[1]), Integer.parseInt(args[2]));\n            t.getDetails();\n            \n        } else if (/* Unsure on what to write here.*/) { \n            Square s = new Square(Integer.parseInt(args[0]));\n            s.getDetails();\n\n        } else {\n            System.out.println(&quot;Invalid Input&quot;);\n        }\n    }\n}\n</code></pre>\n<pre><code>//Triangle.java\npublic class Triangle implements Shape {\n    public int side1;\n    public int side2;\n    public int side3;\n\n    public Triangle(int side1, int side2, int side3) {\n        this.side1 = side1;\n        this.side2 = side2;\n        this.side3 = side3;\n    }\n    public double s = (side1 + side2 + side3)/2;\n\n    @Override\n    public double getPerimeter() {\n        return side1 + side2 + side3;\n    }\n\n    @Override\n    public double getArea() {\n        return Math.sqrt(s * (s - side1) * (s - side2) * (s - side3));\n    }\n\n    @Override\n    public void getDetails() {\n        System.out.println(&quot;Type: Triangle&quot;);\n        System.out.println(&quot;Side1: &quot; + side1);\n        System.out.println(&quot;Side2: &quot; + side2);\n        System.out.println(&quot;Side3: &quot; + side3);\n        System.out.println(&quot;Perimeter: &quot; + getPerimeter());\n        System.out.println(&quot;Area: &quot; + getArea());\n    }\n}\n</code></pre>\n<pre><code>//Circle.java\npublic class Circle implements Shape {\n    public double PI = Math.PI;\n    public int radius;\n\n    public Circle(int radius) {\n        this.radius = radius;\n    }\n    @Override\n    public double getPerimeter() {\n        return 2 * PI * radius;\n    }\n\n    @Override\n    public double getArea() {\n        return PI * radius * radius;\n    }\n\n    @Override\n    public void getDetails() {\n        System.out.println(&quot;Type: Circle&quot;);\n        System.out.println(&quot;Radius: &quot; + radius);\n        System.out.println(&quot;Perimeter: &quot; + getPerimeter());\n        System.out.println(&quot;Area: &quot; + getArea());\n    }\n}\n</code></pre>\n<pre><code>public class Square implements Shape {\n    public int side;\n\n    public Square(int side) {\n        this.side = side;\n    }\n\n    @Override\n    public double getPerimeter() {\n        return side * 4;\n    }\n\n    @Override\n    public double getArea() {\n        return side * 2;\n    }\n\n    @Override\n    public void getDetails() {\n        System.out.println(&quot;Type: Square&quot;);\n        System.out.println(&quot;Side: &quot; + side);\n        System.out.println(&quot;Perimeter: &quot; + getPerimeter());\n        System.out.println(&quot;Area: &quot; + getArea());\n    }\n}\n</code></pre>\n<p>I looked over the getArea() method multiple times and checked for errors.</p>\n"},{"tags":["java","apache-poi"],"owner":{"account_id":12455392,"reputation":5,"user_id":13705305,"display_name":"N&#246;tter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681886465,"creation_date":1681817713,"question_id":76044081,"body_markdown":"One all three months I need to create excel sheets for all cost centers in my company. For this I have one original excel file with a pivot in it and for every cost center I need to set the filter of the pivot on the current cost center and save it under the name of the cost center. So I thought I would write a script with apache poi where I first read the original file change the pivot filter to the requested cost center and save the file so I can safe me a lot of work. But if I want to loop through all pivot filters in my table I only see one of 20.\r\n\r\n\r\n```\r\n   public void createKostenFiles() {\r\n\r\n        try {\r\n            FileInputStream fis = new FileInputStream(&quot;C:\\\\Users\\\\bglaus\\\\Documents\\\\RFC_2023.01_Kosten_.xlsx&quot;);\r\n            Workbook w = new XSSFWorkbook();\r\n\r\n            w = new XSSFWorkbook(fis);\r\n\r\n            for (Kostenstelle k : kostenstellen) {\r\n                Workbook workbook = w;\r\n                XSSFSheet s = (XSSFSheet) workbook.getSheet(&quot;BI Import&quot;);\r\n                XSSFSheet s2 = (XSSFSheet) workbook.getSheet(&quot;Last FC&quot;);\r\n                XSSFSheet s3 = (XSSFSheet) workbook.getSheet(&quot;BI Gebuchte Fixkosten&quot;);\r\n                XSSFPivotTable pvt = s.getPivotTables().get(0);\r\n                for (CTPivotFilter ct : pvt.getCTPivotTableDefinition().getFilters().getFilterList()) {\r\n                    System.out.println(&quot;All: &quot; + ct.toString());\r\n                }\r\n            }\r\n\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Model.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n       \r\n```\r\n\r\nSo my output on the console looks like this:\r\n```\r\nAll: &lt;xml-fragment fld=&quot;1&quot; type=&quot;valueEqual&quot; id=&quot;9196&quot; stringValue1=&quot;9196 - Kletter Shop 6a plus&quot; xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot; xmlns:xr=&quot;http://schemas.microsoft.com/office/spreadsheetml/2014/revision&quot; xmlns:main=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;&gt;\r\n  &lt;main:autoFilter ref=&quot;A1&quot;&gt;\r\n    &lt;main:filterColumn colId=&quot;0&quot;&gt;\r\n      &lt;main:customFilters&gt;\r\n        &lt;main:customFilter operator=&quot;lessThanOrEqual&quot; val=&quot;3&quot;/&gt;\r\n      &lt;/main:customFilters&gt;\r\n    &lt;/main:filterColumn&gt;\r\n  &lt;/main:autoFilter&gt;\r\n&lt;/xml-fragment&gt;\r\n```\r\nAnd I get this same output for every cost center what makes sense but why do I only get this one filter on the line?\r\n\r\n    System.out.println(&quot;All: &quot; + ct.toString());\r\n\r\nThe pivot table in my excel sheet looks like this:\r\n[my pivotfilters](https://i.stack.imgur.com/UY8pj.png)\r\n\r\n\r\n\r\nI thought first it only shows me the selected filters but thats not the issue, and I&#39;m also wondering why it is the last filter.","title":"Set pivot filter to an existing pivot table with apache poi","body":"<p>One all three months I need to create excel sheets for all cost centers in my company. For this I have one original excel file with a pivot in it and for every cost center I need to set the filter of the pivot on the current cost center and save it under the name of the cost center. So I thought I would write a script with apache poi where I first read the original file change the pivot filter to the requested cost center and save the file so I can safe me a lot of work. But if I want to loop through all pivot filters in my table I only see one of 20.</p>\n<pre><code>   public void createKostenFiles() {\n\n        try {\n            FileInputStream fis = new FileInputStream(&quot;C:\\\\Users\\\\bglaus\\\\Documents\\\\RFC_2023.01_Kosten_.xlsx&quot;);\n            Workbook w = new XSSFWorkbook();\n\n            w = new XSSFWorkbook(fis);\n\n            for (Kostenstelle k : kostenstellen) {\n                Workbook workbook = w;\n                XSSFSheet s = (XSSFSheet) workbook.getSheet(&quot;BI Import&quot;);\n                XSSFSheet s2 = (XSSFSheet) workbook.getSheet(&quot;Last FC&quot;);\n                XSSFSheet s3 = (XSSFSheet) workbook.getSheet(&quot;BI Gebuchte Fixkosten&quot;);\n                XSSFPivotTable pvt = s.getPivotTables().get(0);\n                for (CTPivotFilter ct : pvt.getCTPivotTableDefinition().getFilters().getFilterList()) {\n                    System.out.println(&quot;All: &quot; + ct.toString());\n                }\n            }\n\n        } catch (IOException ex) {\n            Logger.getLogger(Model.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n       \n</code></pre>\n<p>So my output on the console looks like this:</p>\n<pre><code>All: &lt;xml-fragment fld=&quot;1&quot; type=&quot;valueEqual&quot; id=&quot;9196&quot; stringValue1=&quot;9196 - Kletter Shop 6a plus&quot; xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot; xmlns:xr=&quot;http://schemas.microsoft.com/office/spreadsheetml/2014/revision&quot; xmlns:main=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;&gt;\n  &lt;main:autoFilter ref=&quot;A1&quot;&gt;\n    &lt;main:filterColumn colId=&quot;0&quot;&gt;\n      &lt;main:customFilters&gt;\n        &lt;main:customFilter operator=&quot;lessThanOrEqual&quot; val=&quot;3&quot;/&gt;\n      &lt;/main:customFilters&gt;\n    &lt;/main:filterColumn&gt;\n  &lt;/main:autoFilter&gt;\n&lt;/xml-fragment&gt;\n</code></pre>\n<p>And I get this same output for every cost center what makes sense but why do I only get this one filter on the line?</p>\n<pre><code>System.out.println(&quot;All: &quot; + ct.toString());\n</code></pre>\n<p>The pivot table in my excel sheet looks like this:\n<a href=\"https://i.stack.imgur.com/UY8pj.png\" rel=\"nofollow noreferrer\">my pivotfilters</a></p>\n<p>I thought first it only shows me the selected filters but thats not the issue, and I'm also wondering why it is the last filter.</p>\n"},{"tags":["java","quarkus","mutiny"],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681886259,"creation_date":1681886259,"answer_id":76051411,"question_id":76003014,"body_markdown":"You can implement your delay as follows:\r\n\r\n```java\r\n.call(ignored -&gt; Uni.createFrom().nullItem().onItem().delayIt().by(getDuration()))\r\n```\r\n\r\nWhen you get the item, it subscribes to the Uni I created and _waits_ for the item to be emitted before propagating the original item downstream. The trick is to delay the emission of the `null` item.","title":"How to Reactively Emit Events with Dynamic Delay using Mutiny in Java?","body":"<p>You can implement your delay as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.call(ignored -&gt; Uni.createFrom().nullItem().onItem().delayIt().by(getDuration()))\n</code></pre>\n<p>When you get the item, it subscribes to the Uni I created and <em>waits</em> for the item to be emitted before propagating the original item downstream. The trick is to delay the emission of the <code>null</code> item.</p>\n"}],"owner":{"account_id":15318924,"reputation":143,"user_id":11052037,"display_name":"Schallabajzer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76051411,"answer_count":1,"score":1,"last_activity_date":1681886259,"creation_date":1681372783,"question_id":76003014,"body_markdown":"How can I use Mutiny to periodically poll for new events from a data resource, while delaying the emission of each event by a dynamic amount of time such that the event&#39;s date property is exactly one second ago?\r\n\r\nEach item in the data resource contains a date property that represents the time of entry, and the goal is to emit each event one second after its entry time. I am considering using a Uni&lt;List&lt;Events&gt;&gt; (database queries are &quot;oneshot&quot; operations), but I would prefer Multi&lt;Event&gt; to combine streams in the parent class.\r\n\r\n```\r\nprivate LocalDateTime timeOfLastQuery;\r\n\r\npublic Multi&lt;Event&gt; getNewEvents() {\r\n        final var eventStream = Multi.createFrom().iterable(getNewEvents(timeOfLastQuery))\r\n                //todo delay item by millisToOneSecondOld\r\n                .onItem().transform(mapper::toEvent);\r\n\r\n        timeOfLastQuery = LocalDateTime.now();\r\n\r\n        return eventStream;\r\n    }\r\n\r\n    private Long millisToOneSecondOld(LocalDateTime timeOfEntry) {\r\n        final var aSecondAgo = LocalDateTime.now().minusSeconds(1);\r\n        final var duration = Duration.between(aSecondAgo, timeOfEntry);\r\n        return coerceAtLeast(duration.toMillis(),0);\r\n    }\r\n\r\n    public static long coerceAtLeast(long x, long minimum) {\r\n        return Math.max(x, minimum);\r\n    }\r\n```","title":"How to Reactively Emit Events with Dynamic Delay using Mutiny in Java?","body":"<p>How can I use Mutiny to periodically poll for new events from a data resource, while delaying the emission of each event by a dynamic amount of time such that the event's date property is exactly one second ago?</p>\n<p>Each item in the data resource contains a date property that represents the time of entry, and the goal is to emit each event one second after its entry time. I am considering using a Uni&lt;List&gt; (database queries are &quot;oneshot&quot; operations), but I would prefer Multi to combine streams in the parent class.</p>\n<pre><code>private LocalDateTime timeOfLastQuery;\n\npublic Multi&lt;Event&gt; getNewEvents() {\n        final var eventStream = Multi.createFrom().iterable(getNewEvents(timeOfLastQuery))\n                //todo delay item by millisToOneSecondOld\n                .onItem().transform(mapper::toEvent);\n\n        timeOfLastQuery = LocalDateTime.now();\n\n        return eventStream;\n    }\n\n    private Long millisToOneSecondOld(LocalDateTime timeOfEntry) {\n        final var aSecondAgo = LocalDateTime.now().minusSeconds(1);\n        final var duration = Duration.between(aSecondAgo, timeOfEntry);\n        return coerceAtLeast(duration.toMillis(),0);\n    }\n\n    public static long coerceAtLeast(long x, long minimum) {\n        return Math.max(x, minimum);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching","redis"],"comments":[{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":1,"creation_date":1660583901,"post_id":73353675,"comment_id":129561688,"body_markdown":"Take a look at: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheInterceptor.html might help","body":"Take a look at: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheInterceptor.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> might help"},{"owner":{"account_id":4383379,"reputation":423,"user_id":3574368,"accept_rate":100,"display_name":"mslissap"},"score":0,"creation_date":1663855602,"post_id":73353675,"comment_id":130341683,"body_markdown":"Did you find a solution for this? I am facing a similar issue and requirements to use both caffeine and redis.","body":"Did you find a solution for this? I am facing a similar issue and requirements to use both caffeine and redis."}],"answers":[{"tags":[],"owner":{"account_id":4383379,"reputation":423,"user_id":3574368,"accept_rate":100,"display_name":"mslissap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681885722,"creation_date":1663872402,"answer_id":73819390,"question_id":73353675,"body_markdown":"For anyone else looking for this, I was able to implement the CacheInterceptor suggested by Ankit.\r\n\r\nExample:\r\n\r\n   \r\n\r\n     public class RedisMultiCacheInterceptor extends CacheInterceptor {\r\n    \r\n        @Autowired\r\n        private CacheManager caffeineCacheManager;\r\n    \r\n        @Override\r\n        protected Cache.ValueWrapper doGet(Cache cache, Object key) {\r\n            //Get item from cache\r\n            var superGetResult = super.doGet(cache, key);\r\n    \r\n            if (superGetResult == null) {\r\n                return superGetResult;\r\n            }\r\n    \r\n            //If retrieved from Redis, check if it&#39;s missing from caffeine on local and add it\r\n            if (cache.getClass() == RedisCache.class) {\r\n                var caffeineCache = caffeineCacheManager.getCache(cache.getName());\r\n    \r\n                if (caffeineCache != null) {\r\n                    caffeineCache.putIfAbsent(key, superGetResult.get());\r\n                }\r\n            }\r\n    \r\n            return superGetResult;\r\n        }\r\n    }","title":"Two levels of cache (Redis + Caffeine)","body":"<p>For anyone else looking for this, I was able to implement the CacheInterceptor suggested by Ankit.</p>\n<p>Example:</p>\n<pre><code> public class RedisMultiCacheInterceptor extends CacheInterceptor {\n\n    @Autowired\n    private CacheManager caffeineCacheManager;\n\n    @Override\n    protected Cache.ValueWrapper doGet(Cache cache, Object key) {\n        //Get item from cache\n        var superGetResult = super.doGet(cache, key);\n\n        if (superGetResult == null) {\n            return superGetResult;\n        }\n\n        //If retrieved from Redis, check if it's missing from caffeine on local and add it\n        if (cache.getClass() == RedisCache.class) {\n            var caffeineCache = caffeineCacheManager.getCache(cache.getName());\n\n            if (caffeineCache != null) {\n                caffeineCache.putIfAbsent(key, superGetResult.get());\n            }\n        }\n\n        return superGetResult;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8986741,"reputation":65,"user_id":6700097,"display_name":"siwonpawel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4700,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73819390,"answer_count":1,"score":5,"last_activity_date":1681885722,"creation_date":1660498000,"question_id":73353675,"body_markdown":"When profiling an application it came up that Redis is impacting the execution times because there are many sleeps in threads. I need to implement two levels of cache or think about solution of this problem.\r\n\r\n_I would like to have two levels of caches_:\r\n\r\n - L1 - local for each instance of deployment,\r\n - L2 - cache global for all instances of same deployment,\r\n\r\n_The solution that I came up with is_:\r\n\r\n - Create two CacheManagers (CaffeineCacheManager and RedisCacheManager),\r\n - Initialize same caches for each cache manager,\r\n - Use annotation @Caching with cacheable={} to use two caches,\r\n```java\r\n\r\n    @Caching(cacheable = {\r\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD),\r\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD, cacheManager = &quot;cacheManagerRedis&quot;)\r\n    })\r\n    public String generate(String name)\r\n    {\r\n        log.info(&quot;  Cached method call...&quot;);\r\n        return helloWorldService.generate(name);\r\n    }\r\n\r\n```\r\nThe structure of classes is similar to: **CachedService (annotations here) -&gt; NonCachedService**\r\n\r\n**_The problem I am facing_:**\r\n\r\nI wanted to have it working in flow (yes - works/n - not working):\r\n - [ y ] data is fetched and then cached to both caches Redis and local - this works\r\n - [ y ] if data exists in local cache do not move it to redis - this works\r\n - [ y ] if any of caches contains the data it will be fetched from cache\r\n - [ n ] if data exists in Redis, move it to local - this does not work\r\n\r\nModification of @Caching annotation to have **put={}** where it would put values into local cache is making whole cache not working. \r\n```java\r\n\r\n    @Caching(cacheable = {\r\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD),\r\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD, cacheManager = &quot;cacheManagerRedis&quot;)\r\n    }, put = {\r\n            @CachePut(cacheNames = CacheConfiguration.HELLO_WORLD),\r\n    })\r\n    public String generate(String name)\r\n    {\r\n        log.info(&quot;  Cached method call...&quot;);\r\n        return helloWorldService.generate(name);\r\n    }\r\n\r\n```\r\n\r\n- Do you know any spring-ready solutions to work with two levels of cache?\r\n- I&#39;ve read about local caching with Redis but it does not mean anything similar to my case (it&#39;s just the standard redis use case),\r\n- I am left only with double-layered services structure to achieve this goal? Similar to **CachedLocal -&gt; CachedRedis -&gt; NonCached**","title":"Two levels of cache (Redis + Caffeine)","body":"<p>When profiling an application it came up that Redis is impacting the execution times because there are many sleeps in threads. I need to implement two levels of cache or think about solution of this problem.</p>\n<p><em>I would like to have two levels of caches</em>:</p>\n<ul>\n<li>L1 - local for each instance of deployment,</li>\n<li>L2 - cache global for all instances of same deployment,</li>\n</ul>\n<p><em>The solution that I came up with is</em>:</p>\n<ul>\n<li>Create two CacheManagers (CaffeineCacheManager and RedisCacheManager),</li>\n<li>Initialize same caches for each cache manager,</li>\n<li>Use annotation @Caching with cacheable={} to use two caches,</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Caching(cacheable = {\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD),\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD, cacheManager = &quot;cacheManagerRedis&quot;)\n    })\n    public String generate(String name)\n    {\n        log.info(&quot;  Cached method call...&quot;);\n        return helloWorldService.generate(name);\n    }\n\n</code></pre>\n<p>The structure of classes is similar to: <strong>CachedService (annotations here) -&gt; NonCachedService</strong></p>\n<p><strong><em>The problem I am facing</em>:</strong></p>\n<p>I wanted to have it working in flow (yes - works/n - not working):</p>\n<ul>\n<li>[ y ] data is fetched and then cached to both caches Redis and local - this works</li>\n<li>[ y ] if data exists in local cache do not move it to redis - this works</li>\n<li>[ y ] if any of caches contains the data it will be fetched from cache</li>\n<li>[ n ] if data exists in Redis, move it to local - this does not work</li>\n</ul>\n<p>Modification of @Caching annotation to have <strong>put={}</strong> where it would put values into local cache is making whole cache not working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Caching(cacheable = {\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD),\n            @Cacheable(cacheNames = CacheConfiguration.HELLO_WORLD, cacheManager = &quot;cacheManagerRedis&quot;)\n    }, put = {\n            @CachePut(cacheNames = CacheConfiguration.HELLO_WORLD),\n    })\n    public String generate(String name)\n    {\n        log.info(&quot;  Cached method call...&quot;);\n        return helloWorldService.generate(name);\n    }\n\n</code></pre>\n<ul>\n<li>Do you know any spring-ready solutions to work with two levels of cache?</li>\n<li>I've read about local caching with Redis but it does not mean anything similar to my case (it's just the standard redis use case),</li>\n<li>I am left only with double-layered services structure to achieve this goal? Similar to <strong>CachedLocal -&gt; CachedRedis -&gt; NonCached</strong></li>\n</ul>\n"},{"tags":["java","deadlock"],"comments":[{"owner":{"account_id":2846782,"reputation":417,"user_id":2444937,"accept_rate":50,"display_name":"The Tosters"},"score":0,"creation_date":1518468313,"post_id":48755164,"comment_id":84511318,"body_markdown":"Hard to guess what this code should do, so hard to advice. I don&#39;t see here any danger for deadlock. There is no synchronisation in this class.","body":"Hard to guess what this code should do, so hard to advice. I don&#39;t see here any danger for deadlock. There is no synchronisation in this class."},{"owner":{"account_id":189341,"reputation":1768,"user_id":428627,"display_name":"giorgiga"},"score":0,"creation_date":1518468342,"post_id":48755164,"comment_id":84511339,"body_markdown":"&quot;As I know referencing a subclass in a static variable isn&#39;t a good practice because it can cause a deadlock&quot;. That doesn&#39;t add up to me - what is your source (or the reasoning behind the statement)?","body":"&quot;As I know referencing a subclass in a static variable isn&#39;t a good practice because it can cause a deadlock&quot;. That doesn&#39;t add up to me - what is your source (or the reasoning behind the statement)?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1524654240,"post_id":48755164,"comment_id":87056936,"body_markdown":"Sadly, this is a good question with some poor answers, from people who don&#39;t seem to understand the issue.","body":"Sadly, this is a good question with some poor answers, from people who don&#39;t seem to understand the issue."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518468515,"creation_date":1518468515,"answer_id":48755286,"question_id":48755164,"body_markdown":"This code will not cause any deadlock.  \r\nDeadlock is related to concurrency and you don&#39;t have concurrency.  \r\nYou *could* have an initialization issue but you will not either as you don&#39;t have cycle as `FixedGenerator()` invokes `Generator()` but `Generator()` doesn&#39;t invoke `FixedGenerator()`.\r\n\r\n&gt; Is it a bad practice?\r\n\r\nIt is as classes should not reference/know their subclasses.  \r\n\r\n&gt; \r\n&gt; What&#39;s the right way to equivalent code implement that?\r\n\r\nYou could avoid inheritancy in the private class.  \r\nAs alternative, you could favor the composition over the inheritancy.\r\n\r\n","title":"Referencing subclass in static variable","body":"<p>This code will not cause any deadlock.<br>\nDeadlock is related to concurrency and you don't have concurrency.<br>\nYou <em>could</em> have an initialization issue but you will not either as you don't have cycle as <code>FixedGenerator()</code> invokes <code>Generator()</code> but <code>Generator()</code> doesn't invoke <code>FixedGenerator()</code>.</p>\n\n<blockquote>\n  <p>Is it a bad practice?</p>\n</blockquote>\n\n<p>It is as classes should not reference/know their subclasses.  </p>\n\n<blockquote>\n  <p>What's the right way to equivalent code implement that?</p>\n</blockquote>\n\n<p>You could avoid inheritancy in the private class.<br>\nAs alternative, you could favor the composition over the inheritancy.</p>\n"}],"owner":{"account_id":3892977,"reputation":995,"user_id":3222702,"accept_rate":5,"display_name":"Hanna Khalil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1681885695,"creation_date":1518468010,"question_id":48755164,"body_markdown":"Intellij inspection tool warns about referencing a subclass in a static variable isn&#39;t a good practice because it can cause a deadlock. The following text is used:\r\n\r\n&gt; This inspection reports classes that refer to their own subclasses in\r\n&gt; their static initializers or in static fields. Such references can\r\n&gt; cause JVM-level deadlocks in multithreaded environment, when one\r\n&gt; thread tries to load superclass and another thread tries to load\r\n&gt; subclass at the same time.\r\n\r\n The following examples demonstrates that:\r\n\r\n```java\r\nclass Generator {\r\n\r\n    public static Generator fiveGenerator = new FixedGenerator(5);\r\n\r\n    public static Generator sixGenerator = new FixedGenerator(6);\r\n\r\n    int generateNumber() {\r\n        //some generation code\r\n        return 1;\r\n    }\r\n\r\n    private static class FixedGenerator\r\n            extends Generator {\r\n\r\n        FixedGenerator(int num) {\r\n            this.num = num;\r\n        }\r\n\r\n        @Override\r\n        int generateNumber() {\r\n            return this.num;\r\n        }\r\n\r\n        private int num;\r\n    }\r\n}\r\n```\r\n\r\nNote that:\r\n\r\n* `FixedGenerator` class is and should be private.\r\n\r\n* `fiveGenerator` and `sixGenerator` are and should be public.\r\n\r\n\r\nOn that I have two questions:\r\n\r\n* Is it a bad practice? Why? How can a deadlock be caused by this?\r\n\r\n* What&#39;s the right way to equivalent code implement that?","title":"Referencing subclass in static variable","body":"<p>Intellij inspection tool warns about referencing a subclass in a static variable isn't a good practice because it can cause a deadlock. The following text is used:</p>\n<blockquote>\n<p>This inspection reports classes that refer to their own subclasses in\ntheir static initializers or in static fields. Such references can\ncause JVM-level deadlocks in multithreaded environment, when one\nthread tries to load superclass and another thread tries to load\nsubclass at the same time.</p>\n</blockquote>\n<p>The following examples demonstrates that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Generator {\n\n    public static Generator fiveGenerator = new FixedGenerator(5);\n\n    public static Generator sixGenerator = new FixedGenerator(6);\n\n    int generateNumber() {\n        //some generation code\n        return 1;\n    }\n\n    private static class FixedGenerator\n            extends Generator {\n\n        FixedGenerator(int num) {\n            this.num = num;\n        }\n\n        @Override\n        int generateNumber() {\n            return this.num;\n        }\n\n        private int num;\n    }\n}\n</code></pre>\n<p>Note that:</p>\n<ul>\n<li><p><code>FixedGenerator</code> class is and should be private.</p>\n</li>\n<li><p><code>fiveGenerator</code> and <code>sixGenerator</code> are and should be public.</p>\n</li>\n</ul>\n<p>On that I have two questions:</p>\n<ul>\n<li><p>Is it a bad practice? Why? How can a deadlock be caused by this?</p>\n</li>\n<li><p>What's the right way to equivalent code implement that?</p>\n</li>\n</ul>\n"},{"tags":["java","click","javafx","javafx-2","double-click"],"answers":[{"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1339165833,"creation_date":1339165833,"answer_id":10950824,"question_id":10949461,"body_markdown":"Yes you can detect single, double even multiple clicks:  \r\n\r\n    myNode.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n        @Override\r\n        public void handle(MouseEvent mouseEvent) {\r\n            if(mouseEvent.getButton().equals(MouseButton.PRIMARY)){\r\n                if(mouseEvent.getClickCount() == 2){\r\n                    System.out.println(&quot;Double clicked&quot;);\r\n                }\r\n            }\r\n        }\r\n    });\r\n`MouseButton.PRIMARY` is used to determine if the left (commonly) mouse button is triggered the event. Read the api of `getClickCount()` to conclude that there maybe multiple click counts other than single or double. However I find it hard to distinguish between single and double click events. Because the first click count of the double click will rise a single event as well.","title":"Javafx 2 click and double click","body":"<p>Yes you can detect single, double even multiple clicks:  </p>\n\n<pre><code>myNode.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n    @Override\n    public void handle(MouseEvent mouseEvent) {\n        if(mouseEvent.getButton().equals(MouseButton.PRIMARY)){\n            if(mouseEvent.getClickCount() == 2){\n                System.out.println(\"Double clicked\");\n            }\n        }\n    }\n});\n</code></pre>\n\n<p><code>MouseButton.PRIMARY</code> is used to determine if the left (commonly) mouse button is triggered the event. Read the api of <code>getClickCount()</code> to conclude that there maybe multiple click counts other than single or double. However I find it hard to distinguish between single and double click events. Because the first click count of the double click will rise a single event as well.</p>\n"},{"tags":[],"owner":{"account_id":4882653,"reputation":108,"user_id":5887689,"display_name":"P. Pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455278618,"creation_date":1455278618,"answer_id":35362197,"question_id":10949461,"body_markdown":"Here is how I have implemented double click\r\n\r\n    if (e.getEventType().equals(MouseEvent.MOUSE_CLICKED) &amp;&amp; !drag_Flag) {\r\n                    long diff = 0;\r\n                if(time1==0)\r\n                 time1=System.currentTimeMillis();\r\n                else\r\n                time2=System.currentTimeMillis();\r\n                if(time1!=0 &amp;&amp; time2!=0)\r\n                diff=time2-time1;\r\n                if((diff/1000)&lt;=215 &amp;&amp; diff&gt;0)\r\n                {\r\n                    isdblClicked=true;\r\n                }\r\n                else\r\n                {\r\n                    isdblClicked=false;\r\n                }\r\n\r\n                System.out.println(&quot;IsDblClicked()&quot;+isdblClicked); \r\n}","title":"Javafx 2 click and double click","body":"<p>Here is how I have implemented double click</p>\n\n<pre><code>if (e.getEventType().equals(MouseEvent.MOUSE_CLICKED) &amp;&amp; !drag_Flag) {\n                long diff = 0;\n            if(time1==0)\n             time1=System.currentTimeMillis();\n            else\n            time2=System.currentTimeMillis();\n            if(time1!=0 &amp;&amp; time2!=0)\n            diff=time2-time1;\n            if((diff/1000)&lt;=215 &amp;&amp; diff&gt;0)\n            {\n                isdblClicked=true;\n            }\n            else\n            {\n                isdblClicked=false;\n            }\n\n            System.out.println(\"IsDblClicked()\"+isdblClicked); \n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1459070791,"creation_date":1459070791,"answer_id":36245807,"question_id":10949461,"body_markdown":"Here is another piece of code which can be used if you have to distinguish between a single- and a double-click and have to take a specific action in either case.\r\n\r\n\timport java.util.concurrent.ScheduledFuture;\r\n\timport java.util.concurrent.ScheduledThreadPoolExecutor;\r\n\timport java.util.concurrent.TimeUnit;\r\n\t\r\n\timport javafx.application.Application;\r\n\timport javafx.event.EventHandler;\r\n\timport javafx.scene.Scene;\r\n\timport javafx.scene.input.MouseButton;\r\n\timport javafx.scene.input.MouseEvent;\r\n\timport javafx.scene.layout.StackPane;\r\n\timport javafx.stage.Stage;\r\n\t\r\n\tpublic class DoubleClickDetectionTest extends Application {\r\n\t\r\n\t\tboolean dragFlag = false;\r\n\t\t\r\n\t\tint clickCounter = 0;\r\n\t\t\r\n\t\tScheduledThreadPoolExecutor executor;\r\n\t\t\r\n\t\tScheduledFuture&lt;?&gt; scheduledFuture;\r\n\t\r\n\t\tpublic DoubleClickDetectionTest() {\r\n\t\t\texecutor = new ScheduledThreadPoolExecutor(1);\r\n\t\t\texecutor.setRemoveOnCancelPolicy(true);\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tlaunch(args);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\t\tStackPane root = new StackPane();\r\n\t\t\t\r\n\t\t\tprimaryStage.setScene(new Scene(root, 400, 400));\r\n\t\t\tprimaryStage.show();\r\n\t\t\t\r\n\t\t\troot.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(MouseEvent e) {\r\n\t\t\t\t\tif (e.getButton().equals(MouseButton.PRIMARY)) {\r\n\t\t\t\t\t\tdragFlag = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\troot.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(MouseEvent e) {\r\n\t\t\t\t\tif (e.getButton().equals(MouseButton.PRIMARY)) {\r\n\t\t\t\t\t\tif (!dragFlag) {\r\n\t\t\t\t\t\t\tSystem.out.println(++clickCounter + &quot; &quot; + e.getClickCount());\r\n\t\t\t\t\t\t\tif (e.getClickCount() == 1) {\r\n\t\t\t\t\t\t\t\tscheduledFuture = executor.schedule(() -&gt; singleClickAction(), 500, TimeUnit.MILLISECONDS);\r\n\t\t\t\t\t\t\t} else if (e.getClickCount() &gt; 1) {\r\n\t\t\t\t\t\t\t\tif (scheduledFuture != null &amp;&amp; !scheduledFuture.isCancelled() &amp;&amp; !scheduledFuture.isDone()) {\r\n\t\t\t\t\t\t\t\t\tscheduledFuture.cancel(false);\r\n\t\t\t\t\t\t\t\t\tdoubleClickAction();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdragFlag = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void stop() {\r\n\t\t\texecutor.shutdown();\r\n\t\t}\r\n\t\t\r\n\t\tprivate void singleClickAction() {\r\n\t\t\tSystem.out.println(&quot;Single-click action executed.&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tprivate void doubleClickAction() {\r\n\t\t\tSystem.out.println(&quot;Double-click action executed.&quot;);\r\n\t\t}\r\n\t}\r\n","title":"Javafx 2 click and double click","body":"<p>Here is another piece of code which can be used if you have to distinguish between a single- and a double-click and have to take a specific action in either case.</p>\n\n<pre><code>import java.util.concurrent.ScheduledFuture;\nimport java.util.concurrent.ScheduledThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class DoubleClickDetectionTest extends Application {\n\n    boolean dragFlag = false;\n\n    int clickCounter = 0;\n\n    ScheduledThreadPoolExecutor executor;\n\n    ScheduledFuture&lt;?&gt; scheduledFuture;\n\n    public DoubleClickDetectionTest() {\n        executor = new ScheduledThreadPoolExecutor(1);\n        executor.setRemoveOnCancelPolicy(true);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        StackPane root = new StackPane();\n\n        primaryStage.setScene(new Scene(root, 400, 400));\n        primaryStage.show();\n\n        root.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent e) {\n                if (e.getButton().equals(MouseButton.PRIMARY)) {\n                    dragFlag = true;\n                }\n            }\n        });\n\n        root.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent e) {\n                if (e.getButton().equals(MouseButton.PRIMARY)) {\n                    if (!dragFlag) {\n                        System.out.println(++clickCounter + \" \" + e.getClickCount());\n                        if (e.getClickCount() == 1) {\n                            scheduledFuture = executor.schedule(() -&gt; singleClickAction(), 500, TimeUnit.MILLISECONDS);\n                        } else if (e.getClickCount() &gt; 1) {\n                            if (scheduledFuture != null &amp;&amp; !scheduledFuture.isCancelled() &amp;&amp; !scheduledFuture.isDone()) {\n                                scheduledFuture.cancel(false);\n                                doubleClickAction();\n                            }\n                        }\n                    }\n                    dragFlag = false;\n                }\n            }\n        });\n    }\n\n    @Override\n    public void stop() {\n        executor.shutdown();\n    }\n\n    private void singleClickAction() {\n        System.out.println(\"Single-click action executed.\");\n    }\n\n    private void doubleClickAction() {\n        System.out.println(\"Double-click action executed.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182676,"reputation":53,"user_id":1991570,"display_name":"parityerror"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468811920,"creation_date":1468811920,"answer_id":38428127,"question_id":10949461,"body_markdown":"The response by P. Pandey is the simplest approach which actually distinguishes between single and double click, but it did not work for me. For one, the function &quot;currentTimeMillis&quot; already returns milliseconds, so dividing it by 1000 does not seem to be necessary. The version below worked for me in a more consistent fashion.\r\n\r\n     @Override\r\n     public void handle(MouseEvent t) {\r\n            \r\n            long diff = 0;\r\n            \r\n            currentTime=System.currentTimeMillis();\r\n            \r\n            if(lastTime!=0 &amp;&amp; currentTime!=0){\r\n                diff=currentTime-lastTime;\r\n            \r\n                if( diff&lt;=215)\r\n                    isdblClicked=true;\r\n                else\r\n                    isdblClicked=false;\r\n            }\r\n            \r\n            lastTime=currentTime;\r\n            \r\n            System.out.println(&quot;IsDblClicked()&quot;+isdblClicked); \r\n         \r\n           //use the isdblClicked flag...   \r\n    }","title":"Javafx 2 click and double click","body":"<p>The response by P. Pandey is the simplest approach which actually distinguishes between single and double click, but it did not work for me. For one, the function \"currentTimeMillis\" already returns milliseconds, so dividing it by 1000 does not seem to be necessary. The version below worked for me in a more consistent fashion.</p>\n\n<pre><code> @Override\n public void handle(MouseEvent t) {\n\n        long diff = 0;\n\n        currentTime=System.currentTimeMillis();\n\n        if(lastTime!=0 &amp;&amp; currentTime!=0){\n            diff=currentTime-lastTime;\n\n            if( diff&lt;=215)\n                isdblClicked=true;\n            else\n                isdblClicked=false;\n        }\n\n        lastTime=currentTime;\n\n        System.out.println(\"IsDblClicked()\"+isdblClicked); \n\n       //use the isdblClicked flag...   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6978595,"reputation":85,"user_id":5352448,"accept_rate":50,"display_name":"Joseph Malachosky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520543690,"creation_date":1520543690,"answer_id":49182571,"question_id":10949461,"body_markdown":"Adhering to Java SE 8 lambda expressions would look something like this:\r\n\r\n    node.setOnMouseClicked(event -&gt; {\r\n        if(event.getButton().equals(MouseButton.PRIMARY) &amp;&amp; event.getClickCount() == 2) {\r\n            handleSomeAction();\r\n        }\r\n    });\r\n\r\nOnce you get used to lambda expressions - they end up being more understandable than the original class instantiation and overriding (x) method. -In my opinion-","title":"Javafx 2 click and double click","body":"<p>Adhering to Java SE 8 lambda expressions would look something like this:</p>\n\n<pre><code>node.setOnMouseClicked(event -&gt; {\n    if(event.getButton().equals(MouseButton.PRIMARY) &amp;&amp; event.getClickCount() == 2) {\n        handleSomeAction();\n    }\n});\n</code></pre>\n\n<p>Once you get used to lambda expressions - they end up being more understandable than the original class instantiation and overriding (x) method. -In my opinion-</p>\n"},{"tags":[],"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521625125,"creation_date":1521625125,"answer_id":49402741,"question_id":10949461,"body_markdown":"Since it is not possible to distinguish between single-click and double-click by default, we use the following approach:\r\n\r\nOn single-click, we wrap the single-click operation in an abortable runnable. This runnable waits a certain amount of time (i.e., `SINGLE_CLICK_DELAY`) before being executed.\r\n\r\nIn the meantime, if a second click, i.e., a double-click, occurs, the single-click operation gets aborted and only the double-click operation is performed.\r\n\r\nThis way, either the single-click _or_ the double-click operation is performed, but never both.\r\n\r\n---\r\n\r\nFollowing is the full code. To use it, only the three `TODO` lines have to be replaced by the wanted handlers.\r\n\r\n    private static final int SINGLE_CLICK_DELAY = 250;\r\n    private ClickRunner latestClickRunner = null;\r\n    \r\n    private class ClickRunner implements Runnable {\r\n\r\n        private final Runnable onSingleClick;\r\n        private boolean aborted = false;\r\n\r\n        public ClickRunner(Runnable onSingleClick) {\r\n            this.onSingleClick = onSingleClick;\r\n        }\r\n\r\n        public void abort() {\r\n            this.aborted = true;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                Thread.sleep(SINGLE_CLICK_DELAY);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (!aborted) {\r\n                System.out.println(&quot;Execute Single Click&quot;);\r\n                Platform.runLater(() -&gt; onSingleClick.run());\r\n            }\r\n        }\r\n    }\r\n\r\n    private void init() {\r\n        container.setOnMouseClicked(me -&gt; {\r\n            switch (me.getButton()) {\r\n                case PRIMARY:\r\n                    if (me.getClickCount() == 1) {\r\n                        System.out.println(&quot;Single Click&quot;);\r\n                        latestClickRunner = new ClickRunner(() -&gt; {\r\n                          // TODO: Single-left-click operation\r\n                        });\r\n                        CompletableFuture.runAsync(latestClickRunner);\r\n                    }\r\n                    if (me.getClickCount() == 2) {\r\n                        System.out.println(&quot;Double Click&quot;);\r\n                        if (latestClickRunner != null) {\r\n                            System.out.println(&quot;-&gt; Abort Single Click&quot;);\r\n                            latestClickRunner.abort();\r\n                        }\r\n                        // TODO: Double-left-click operation\r\n                    }\r\n                    break;\r\n                case SECONDARY:\r\n                    // TODO: Right-click operation\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }","title":"Javafx 2 click and double click","body":"<p>Since it is not possible to distinguish between single-click and double-click by default, we use the following approach:</p>\n\n<p>On single-click, we wrap the single-click operation in an abortable runnable. This runnable waits a certain amount of time (i.e., <code>SINGLE_CLICK_DELAY</code>) before being executed.</p>\n\n<p>In the meantime, if a second click, i.e., a double-click, occurs, the single-click operation gets aborted and only the double-click operation is performed.</p>\n\n<p>This way, either the single-click <em>or</em> the double-click operation is performed, but never both.</p>\n\n<hr>\n\n<p>Following is the full code. To use it, only the three <code>TODO</code> lines have to be replaced by the wanted handlers.</p>\n\n<pre><code>private static final int SINGLE_CLICK_DELAY = 250;\nprivate ClickRunner latestClickRunner = null;\n\nprivate class ClickRunner implements Runnable {\n\n    private final Runnable onSingleClick;\n    private boolean aborted = false;\n\n    public ClickRunner(Runnable onSingleClick) {\n        this.onSingleClick = onSingleClick;\n    }\n\n    public void abort() {\n        this.aborted = true;\n    }\n\n    @Override\n    public void run() {\n        try {\n            Thread.sleep(SINGLE_CLICK_DELAY);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        if (!aborted) {\n            System.out.println(\"Execute Single Click\");\n            Platform.runLater(() -&gt; onSingleClick.run());\n        }\n    }\n}\n\nprivate void init() {\n    container.setOnMouseClicked(me -&gt; {\n        switch (me.getButton()) {\n            case PRIMARY:\n                if (me.getClickCount() == 1) {\n                    System.out.println(\"Single Click\");\n                    latestClickRunner = new ClickRunner(() -&gt; {\n                      // TODO: Single-left-click operation\n                    });\n                    CompletableFuture.runAsync(latestClickRunner);\n                }\n                if (me.getClickCount() == 2) {\n                    System.out.println(\"Double Click\");\n                    if (latestClickRunner != null) {\n                        System.out.println(\"-&gt; Abort Single Click\");\n                        latestClickRunner.abort();\n                    }\n                    // TODO: Double-left-click operation\n                }\n                break;\n            case SECONDARY:\n                // TODO: Right-click operation\n                break;\n            default:\n                break;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12473679,"reputation":162,"user_id":9080858,"display_name":"appsofteng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571569365,"creation_date":1571569365,"answer_id":58472329,"question_id":10949461,"body_markdown":"A solution using PauseTransition:\r\n\r\n```java\r\nPauseTransition singlePressPause = new PauseTransition(Duration.millis(500));\r\nsinglePressPause.setOnFinished(e -&gt; {\r\n    // single press\r\n});\r\n\r\nnode.setOnMousePressed(e -&gt; {\r\n\r\n    if (e.isPrimaryButtonDown() &amp;&amp; e.getClickCount() == 1) {\r\n        singlePressPause.play();\r\n    }\r\n\r\n    if (e.isPrimaryButtonDown() &amp;&amp; e.getClickCount() == 2) {\r\n        singlePressPause.stop();\r\n        // double press\r\n    }\r\n});\r\n\r\n```","title":"Javafx 2 click and double click","body":"<p>A solution using PauseTransition:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PauseTransition singlePressPause = new PauseTransition(Duration.millis(500));\nsinglePressPause.setOnFinished(e -&gt; {\n    // single press\n});\n\nnode.setOnMousePressed(e -&gt; {\n\n    if (e.isPrimaryButtonDown() &amp;&amp; e.getClickCount() == 1) {\n        singlePressPause.play();\n    }\n\n    if (e.isPrimaryButtonDown() &amp;&amp; e.getClickCount() == 2) {\n        singlePressPause.stop();\n        // double press\n    }\n});\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572395668,"creation_date":1572395668,"answer_id":58617222,"question_id":10949461,"body_markdown":"Not sure if someone still follows this OP or refer it, but below is my version of differentiating single click to double click. While most of the answers are quite acceptable, it would be really useful if it can be done in a proper resuable way.\r\n\r\nOne of the challenge I encountered is the need to have the single-double click differentiation on multiple nodes at multiple places. I cannot do the same repetitive cumbersome logic on each and every node. It should be done in a generic way.\r\n\r\nSo I opted to implement a custom EventDispatcher and use this dispatcher on node level or I can apply it directly to Scene to make it applicable for all child nodes.\r\n\r\nFor this I created a new MouseEvent namely &#39;MOUSE_DOUBLE_CLICKED&quot;, so tthat I am still sticking with the standard JavaFX practises. Now I can include the double_clicked event filters/handlers just like other mouse event types.\r\n\r\n    node.addEventFilter(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e-&gt;{..&lt;code to handle double_click&gt;..});\r\n    node.addEventHandler(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e-&gt;{..&lt;code to handle double_click&gt;..});\r\n\r\nBelow is the implementation and complete working demo of this custom event dispatcher.\r\n\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.event.*;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class DoubleClickEventDispatcherDemo extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Rectangle box1 = new Rectangle(150, 150);\r\n            box1.setStyle(&quot;-fx-fill:red;-fx-stroke-width:2px;-fx-stroke:black;&quot;);\r\n            addEventHandlers(box1, &quot;Red Box&quot;);\r\n    \r\n            Rectangle box2 = new Rectangle(150, 150);\r\n            box2.setStyle(&quot;-fx-fill:yellow;-fx-stroke-width:2px;-fx-stroke:black;&quot;);\r\n            addEventHandlers(box2, &quot;Yellow Box&quot;);\r\n    \r\n            HBox pane = new HBox(box1, box2);\r\n            pane.setSpacing(10);\r\n            pane.setAlignment(Pos.CENTER);\r\n            addEventHandlers(pane, &quot;HBox&quot;);\r\n    \r\n            Scene scene = new Scene(new StackPane(pane), 450, 300);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            // SETTING CUSTOM EVENT DISPATCHER TO SCENE\r\n            scene.setEventDispatcher(new DoubleClickEventDispatcher(scene.getEventDispatcher()));\r\n        }\r\n    \r\n        private void addEventHandlers(Node node, String nodeId) {\r\n            node.addEventFilter(MouseEvent.MOUSE_CLICKED, e -&gt; System.out.println(&quot;&quot; + nodeId + &quot; mouse clicked filter&quot;));\r\n            node.addEventHandler(MouseEvent.MOUSE_CLICKED, e -&gt; System.out.println(&quot;&quot; + nodeId + &quot; mouse clicked handler&quot;));\r\n    \r\n            node.addEventFilter(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e -&gt; System.out.println(&quot;&quot; + nodeId + &quot; mouse double clicked filter&quot;));\r\n            node.addEventHandler(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e -&gt; System.out.println(nodeId + &quot; mouse double clicked handler&quot;));\r\n        }\r\n    \r\n        /**\r\n         * Custom MouseEvent\r\n         */\r\n        interface CustomMouseEvent {\r\n            EventType&lt;MouseEvent&gt; MOUSE_DOUBLE_CLICKED = new EventType&lt;&gt;(MouseEvent.ANY, &quot;MOUSE_DBL_CLICKED&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Custom EventDispatcher to differentiate from single click with double click.\r\n         */\r\n        class DoubleClickEventDispatcher implements EventDispatcher {\r\n    \r\n            /**\r\n             * Default delay to fire a double click event in milliseconds.\r\n             */\r\n            private static final long DEFAULT_DOUBLE_CLICK_DELAY = 215;\r\n    \r\n            /**\r\n             * Default event dispatcher of a node.\r\n             */\r\n            private final EventDispatcher defaultEventDispatcher;\r\n    \r\n            /**\r\n             * Timeline for dispatching mouse clicked event.\r\n             */\r\n            private Timeline clickedTimeline;\r\n    \r\n            /**\r\n             * Constructor.\r\n             *\r\n             * @param initial Default event dispatcher of a node\r\n             */\r\n            public DoubleClickEventDispatcher(final EventDispatcher initial) {\r\n                defaultEventDispatcher = initial;\r\n            }\r\n    \r\n            @Override\r\n            public Event dispatchEvent(final Event event, final EventDispatchChain tail) {\r\n                final EventType&lt;? extends Event&gt; type = event.getEventType();\r\n                if (type == MouseEvent.MOUSE_CLICKED) {\r\n                    final MouseEvent mouseEvent = (MouseEvent) event;\r\n                    final EventTarget eventTarget = event.getTarget();\r\n                    if (mouseEvent.getClickCount() &gt; 1) {\r\n                        if (clickedTimeline != null) {\r\n                            clickedTimeline.stop();\r\n                            clickedTimeline = null;\r\n                            final MouseEvent dblClickedEvent = copy(mouseEvent, CustomMouseEvent.MOUSE_DOUBLE_CLICKED);\r\n                            Event.fireEvent(eventTarget, dblClickedEvent);\r\n                        }\r\n                        return mouseEvent;\r\n                    }\r\n                    if (clickedTimeline == null) {\r\n                        final MouseEvent clickedEvent = copy(mouseEvent, mouseEvent.getEventType());\r\n                        clickedTimeline = new Timeline(new KeyFrame(Duration.millis(DEFAULT_DOUBLE_CLICK_DELAY), e -&gt; {\r\n                            Event.fireEvent(eventTarget, clickedEvent);\r\n                            clickedTimeline = null;\r\n                        }));\r\n                        clickedTimeline.play();\r\n                        return mouseEvent;\r\n                    }\r\n                }\r\n                return defaultEventDispatcher.dispatchEvent(event, tail);\r\n            }\r\n    \r\n            /**\r\n             * Creates a copy of the provided mouse event type with the mouse event.\r\n             *\r\n             * @param e         MouseEvent\r\n             * @param eventType Event type that need to be created\r\n             * @return New mouse event instance\r\n             */\r\n            private MouseEvent copy(final MouseEvent e, final EventType&lt;? extends MouseEvent&gt; eventType) {\r\n                return new MouseEvent(eventType, e.getSceneX(), e.getSceneY(), e.getScreenX(), e.getScreenY(),\r\n                        e.getButton(), e.getClickCount(), e.isShiftDown(), e.isControlDown(), e.isAltDown(),\r\n                        e.isMetaDown(), e.isPrimaryButtonDown(), e.isMiddleButtonDown(),\r\n                        e.isSecondaryButtonDown(), e.isSynthesized(), e.isPopupTrigger(),\r\n                        e.isStillSincePress(), e.getPickResult());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Javafx 2 click and double click","body":"<p>Not sure if someone still follows this OP or refer it, but below is my version of differentiating single click to double click. While most of the answers are quite acceptable, it would be really useful if it can be done in a proper resuable way.</p>\n\n<p>One of the challenge I encountered is the need to have the single-double click differentiation on multiple nodes at multiple places. I cannot do the same repetitive cumbersome logic on each and every node. It should be done in a generic way.</p>\n\n<p>So I opted to implement a custom EventDispatcher and use this dispatcher on node level or I can apply it directly to Scene to make it applicable for all child nodes.</p>\n\n<p>For this I created a new MouseEvent namely 'MOUSE_DOUBLE_CLICKED\", so tthat I am still sticking with the standard JavaFX practises. Now I can include the double_clicked event filters/handlers just like other mouse event types.</p>\n\n<pre><code>node.addEventFilter(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e-&gt;{..&lt;code to handle double_click&gt;..});\nnode.addEventHandler(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e-&gt;{..&lt;code to handle double_click&gt;..});\n</code></pre>\n\n<p>Below is the implementation and complete working demo of this custom event dispatcher.</p>\n\n<pre><code>import javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.*;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class DoubleClickEventDispatcherDemo extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Rectangle box1 = new Rectangle(150, 150);\n        box1.setStyle(\"-fx-fill:red;-fx-stroke-width:2px;-fx-stroke:black;\");\n        addEventHandlers(box1, \"Red Box\");\n\n        Rectangle box2 = new Rectangle(150, 150);\n        box2.setStyle(\"-fx-fill:yellow;-fx-stroke-width:2px;-fx-stroke:black;\");\n        addEventHandlers(box2, \"Yellow Box\");\n\n        HBox pane = new HBox(box1, box2);\n        pane.setSpacing(10);\n        pane.setAlignment(Pos.CENTER);\n        addEventHandlers(pane, \"HBox\");\n\n        Scene scene = new Scene(new StackPane(pane), 450, 300);\n        stage.setScene(scene);\n        stage.show();\n\n        // SETTING CUSTOM EVENT DISPATCHER TO SCENE\n        scene.setEventDispatcher(new DoubleClickEventDispatcher(scene.getEventDispatcher()));\n    }\n\n    private void addEventHandlers(Node node, String nodeId) {\n        node.addEventFilter(MouseEvent.MOUSE_CLICKED, e -&gt; System.out.println(\"\" + nodeId + \" mouse clicked filter\"));\n        node.addEventHandler(MouseEvent.MOUSE_CLICKED, e -&gt; System.out.println(\"\" + nodeId + \" mouse clicked handler\"));\n\n        node.addEventFilter(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e -&gt; System.out.println(\"\" + nodeId + \" mouse double clicked filter\"));\n        node.addEventHandler(CustomMouseEvent.MOUSE_DOUBLE_CLICKED, e -&gt; System.out.println(nodeId + \" mouse double clicked handler\"));\n    }\n\n    /**\n     * Custom MouseEvent\n     */\n    interface CustomMouseEvent {\n        EventType&lt;MouseEvent&gt; MOUSE_DOUBLE_CLICKED = new EventType&lt;&gt;(MouseEvent.ANY, \"MOUSE_DBL_CLICKED\");\n    }\n\n    /**\n     * Custom EventDispatcher to differentiate from single click with double click.\n     */\n    class DoubleClickEventDispatcher implements EventDispatcher {\n\n        /**\n         * Default delay to fire a double click event in milliseconds.\n         */\n        private static final long DEFAULT_DOUBLE_CLICK_DELAY = 215;\n\n        /**\n         * Default event dispatcher of a node.\n         */\n        private final EventDispatcher defaultEventDispatcher;\n\n        /**\n         * Timeline for dispatching mouse clicked event.\n         */\n        private Timeline clickedTimeline;\n\n        /**\n         * Constructor.\n         *\n         * @param initial Default event dispatcher of a node\n         */\n        public DoubleClickEventDispatcher(final EventDispatcher initial) {\n            defaultEventDispatcher = initial;\n        }\n\n        @Override\n        public Event dispatchEvent(final Event event, final EventDispatchChain tail) {\n            final EventType&lt;? extends Event&gt; type = event.getEventType();\n            if (type == MouseEvent.MOUSE_CLICKED) {\n                final MouseEvent mouseEvent = (MouseEvent) event;\n                final EventTarget eventTarget = event.getTarget();\n                if (mouseEvent.getClickCount() &gt; 1) {\n                    if (clickedTimeline != null) {\n                        clickedTimeline.stop();\n                        clickedTimeline = null;\n                        final MouseEvent dblClickedEvent = copy(mouseEvent, CustomMouseEvent.MOUSE_DOUBLE_CLICKED);\n                        Event.fireEvent(eventTarget, dblClickedEvent);\n                    }\n                    return mouseEvent;\n                }\n                if (clickedTimeline == null) {\n                    final MouseEvent clickedEvent = copy(mouseEvent, mouseEvent.getEventType());\n                    clickedTimeline = new Timeline(new KeyFrame(Duration.millis(DEFAULT_DOUBLE_CLICK_DELAY), e -&gt; {\n                        Event.fireEvent(eventTarget, clickedEvent);\n                        clickedTimeline = null;\n                    }));\n                    clickedTimeline.play();\n                    return mouseEvent;\n                }\n            }\n            return defaultEventDispatcher.dispatchEvent(event, tail);\n        }\n\n        /**\n         * Creates a copy of the provided mouse event type with the mouse event.\n         *\n         * @param e         MouseEvent\n         * @param eventType Event type that need to be created\n         * @return New mouse event instance\n         */\n        private MouseEvent copy(final MouseEvent e, final EventType&lt;? extends MouseEvent&gt; eventType) {\n            return new MouseEvent(eventType, e.getSceneX(), e.getSceneY(), e.getScreenX(), e.getScreenY(),\n                    e.getButton(), e.getClickCount(), e.isShiftDown(), e.isControlDown(), e.isAltDown(),\n                    e.isMetaDown(), e.isPrimaryButtonDown(), e.isMiddleButtonDown(),\n                    e.isSecondaryButtonDown(), e.isSynthesized(), e.isPopupTrigger(),\n                    e.isStillSincePress(), e.getPickResult());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17458722,"reputation":1,"user_id":12656912,"display_name":"Tom McLintock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578237377,"creation_date":1578237377,"answer_id":59601247,"question_id":10949461,"body_markdown":"An alternative to single click vs. double click that I&#39;m using is single click vs. press-and-hold (for about a quarter to a half second or so), then release the button. The technique can use a threaded abortable timer as in some of the code snippets above to distinguish between the two. Assuming that the actual event handling happens on the button release, this alternative has the advantage that single click works normally (i.e., without any delay), and for press-and-hold you can give the user some visual feedback when the button has been held long enough to be released (so there&#39;s never any ambiguity about which action was performed).","title":"Javafx 2 click and double click","body":"<p>An alternative to single click vs. double click that I'm using is single click vs. press-and-hold (for about a quarter to a half second or so), then release the button. The technique can use a threaded abortable timer as in some of the code snippets above to distinguish between the two. Assuming that the actual event handling happens on the button release, this alternative has the advantage that single click works normally (i.e., without any delay), and for press-and-hold you can give the user some visual feedback when the button has been held long enough to be released (so there's never any ambiguity about which action was performed).</p>\n"},{"tags":[],"owner":{"account_id":224780,"reputation":169,"user_id":484840,"display_name":"Tuomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681884921,"creation_date":1630748790,"answer_id":69054164,"question_id":10949461,"body_markdown":"If you are testing how many mouse buttons (==2) are pressed, do not code it in sub-method! The next is working:\r\n\r\n    listView.setOnMouseClicked(me -&gt; {\r\n        if (me.getButton().equals(MouseButton.SECONDARY)) {\r\n            System.out.println(&quot;isSecondaryButtonDown&quot;);\r\n            me.consume();\r\n            // ....\r\n        } else if (me.getButton().equals(MouseButton.PRIMARY)) {\r\n            if (mouseEvent.getClickCount() == 2) {\r\n                System.out.println(&quot;Double clicked&quot;);\r\n                // mousePressedInListViewDC(me);\r\n            } else if (mouseEvent.getClickCount() == 1) {\r\n                System.out.println(&quot;1 clicked&quot;);\r\n                mousePressedInListView1C(me);\r\n            }\r\n        }\r\n    });","title":"Javafx 2 click and double click","body":"<p>If you are testing how many mouse buttons (==2) are pressed, do not code it in sub-method! The next is working:</p>\n<pre><code>listView.setOnMouseClicked(me -&gt; {\n    if (me.getButton().equals(MouseButton.SECONDARY)) {\n        System.out.println(&quot;isSecondaryButtonDown&quot;);\n        me.consume();\n        // ....\n    } else if (me.getButton().equals(MouseButton.PRIMARY)) {\n        if (mouseEvent.getClickCount() == 2) {\n            System.out.println(&quot;Double clicked&quot;);\n            // mousePressedInListViewDC(me);\n        } else if (mouseEvent.getClickCount() == 1) {\n            System.out.println(&quot;1 clicked&quot;);\n            mousePressedInListView1C(me);\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19191572,"reputation":93,"user_id":14021197,"display_name":"Daric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640597353,"creation_date":1640595002,"answer_id":70493396,"question_id":10949461,"body_markdown":"I ran in the same problem, and what I noticed is that single and double click ARE distinguished with basic :\r\n\r\n    \tButton btn = new Button(&quot;Double click me too&quot;);\r\n\t\tbtn.setOnMousePressed(mouseEvent -&gt; {\r\n\t\t\t// CLICK catches\r\n\t\t\tif (mouseEvent.getClickCount() == 1) {\r\n\t\t\t\tSystem.out.println(&quot;Button clicked&quot;);\r\n\t\t\t} else if (mouseEvent.getClickCount() == 2)\r\n\t\t\t\tSystem.out.println(&quot;Button double clicked&quot;);\r\n\t\t});\r\nBut a &#39;single&#39; click is catched as part of the double click. So you will see on the console :\r\n[![enter image description here][1]][1]\r\n\r\nUsing mainly the answer of @markus-weninger, I built up a Class extending `Button` to expose 2 new `EventHandler`s :\r\n\r\n - `setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler)`\r\n - `setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler)`\r\n\r\nSo with the full example code bellow, when double clicking on last button, we get :\r\n[![enter image description here][2]][2]\r\n\r\n**Keep in mind :**\r\n 1. The obvious drawback is that even a single click caught with `setOnMouseSingleClicked` will be delayed with the `singleClickDelayMillis` (exposed variable which should be set accordingly to the OS, as mentioned by Kleopatra).\r\n 2. Another noticeable fact, is that I extended `Button`, and not `Node` where it should be : The Class where the onMouseClicked(...) is implemented.\r\n[![enter image description here][3]][3]\r\n 3. As a last comment, I decided to add a new EventHandler rather than using the existing `setOnMousePressed`, `setOnMouseReleased` or `setOnMouseClicked` so that the developer can still fully implement these convenience `EventHandler`s. For example in order to have immediate response from a click on the button without waiting for the `singleClickDelayMillis`. But this means that if you implement both, the `setOnMouseClicked` will be fired even on a double click... beware.\r\n\r\nHere comes the code :\r\n\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.event.EventHandler;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    \r\n    public class DblClickCatchedWithoutSingleClick extends Application {\r\n\r\n\tpublic class ButtonWithDblClick extends Button {\r\n\r\n\t\tprivate long\t\tsingleClickDelayMillis\t= 250;\r\n\t\tprivate ClickRunner\tlatestClickRunner\t\t= null;\r\n\r\n\t\tprivate ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;\tonMouseSingleClickedProperty\t= new SimpleObjectProperty&lt;&gt;();\r\n\t\tprivate ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;\tonMouseDoubleClickedProperty\t= new SimpleObjectProperty&lt;&gt;();\r\n\r\n\t\t// CONSTRUCTORS\r\n\t\tpublic ButtonWithDblClick() {\r\n\t\t\tsuper();\r\n\t\t\taddClickedEventHandler();\r\n\t\t}\r\n\r\n\t\tpublic ButtonWithDblClick(String text) {\r\n\t\t\tsuper(text);\r\n\t\t\taddClickedEventHandler();\r\n\t\t}\r\n\r\n\t\tpublic ButtonWithDblClick(String text, Node graphic) {\r\n\t\t\tsuper(text, graphic);\r\n\t\t\taddClickedEventHandler();\r\n\t\t}\r\n\r\n\t\tprivate class ClickRunner implements Runnable {\r\n\r\n\t\t\tprivate final Runnable\tonClick;\r\n\t\t\tprivate boolean\t\t\taborted\t= false;\r\n\r\n\t\t\tpublic ClickRunner(Runnable onClick) {\r\n\t\t\t\tthis.onClick = onClick;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void abort() {\r\n\t\t\t\tthis.aborted = true;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(singleClickDelayMillis);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tif (!aborted) {\r\n\t\t\t\t\tPlatform.runLater(onClick::run);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void addClickedEventHandler() {\r\n\t\t\t//Handling the mouse clicked event (not using &#39;onMouseClicked&#39; so it can still be used by developer).\r\n\t\t\tEventHandler&lt;MouseEvent&gt; eventHandler = me -&gt; {\r\n\t\t\t\tswitch (me.getButton()) {\r\n\t\t\t\t\tcase PRIMARY:\r\n\t\t\t\t\t\tif (me.getClickCount() == 1) {\r\n\t\t\t\t\t\t\tlatestClickRunner = new ClickRunner(() -&gt; {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;ButtonWithDblClick : SINGLE Click fired&quot;);\r\n\t\t\t\t\t\t\t\tonMouseSingleClickedProperty.get().handle(me);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tCompletableFuture.runAsync(latestClickRunner);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (me.getClickCount() == 2) {\r\n\t\t\t\t\t\t\tif (latestClickRunner != null) {\r\n\t\t\t\t\t\t\t\tlatestClickRunner.abort();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;ButtonWithDblClick : DOUBLE Click fired&quot;);\r\n\t\t\t\t\t\t\tonMouseDoubleClickedProperty.get().handle(me);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase SECONDARY:\r\n\t\t\t\t\t\t// Right-click operation. Not implemented since usually no double RIGHT click needs to be caught.\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t//Adding the event handler\r\n\t\t\taddEventHandler(MouseEvent.MOUSE_CLICKED, eventHandler);\r\n\t\t}\r\n\r\n\t\tpublic void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\r\n\t\t\tthis.onMouseSingleClickedProperty.set(eventHandler);\r\n\t\t}\r\n\r\n\t\tpublic void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\r\n\t\t\tthis.onMouseDoubleClickedProperty.set(eventHandler);\r\n\t\t}\r\n\t\tpublic long getSingleClickDelayMillis() {\r\n\t\t\treturn singleClickDelayMillis;\r\n\t\t}\r\n\r\n\t\tpublic void setSingleClickDelayMillis(long singleClickDelayMillis) {\r\n\t\t\tthis.singleClickDelayMillis = singleClickDelayMillis;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic void start(Stage stage) {\r\n\t\tVBox root = new VBox();\r\n\r\n\t\tLabel lbl = new Label(&quot;Double click me&quot;);\r\n\t\tlbl.setOnMouseClicked(mouseEvent -&gt; {\r\n\t\t\t// CLICK catches\r\n\t\t\tif (mouseEvent.getClickCount() == 2) {\r\n\t\t\t\tSystem.out.println(&quot;Label double clicked&quot;);\r\n\t\t\t} else if (mouseEvent.getClickCount() == 1)\r\n\t\t\t\tSystem.out.println(&quot;Label clicked&quot;);\r\n\t\t});\r\n\r\n\t\tButton btn = new Button(&quot;Double click me too&quot;);\r\n\t\tbtn.setOnMousePressed(mouseEvent -&gt; {\r\n\t\t\t// CLICK catches\r\n\t\t\tif (mouseEvent.getClickCount() == 1) {\r\n\t\t\t\tSystem.out.println(&quot;Button clicked&quot;);\r\n\t\t\t} else if (mouseEvent.getClickCount() == 2)\r\n\t\t\t\tSystem.out.println(&quot;Button double clicked&quot;);\r\n\t\t});\r\n\r\n\t\tButtonWithDblClick btn2 = new ButtonWithDblClick(&quot;Double click me three ;-)&quot;);\r\n\t\tbtn2.setOnMouseSingleClicked(me -&gt; {\r\n\t\t\tSystem.out.println(&quot;BUTTON_2 : Fire SINGLE Click&quot;);\r\n\t\t});\r\n\t\tbtn2.setOnMouseDoubleClicked(me -&gt; {\r\n\t\t\tSystem.out.println(&quot;BUTTON_2 : Fire DOUBLE Click&quot;);\r\n\t\t});\r\n\r\n\t\troot.getChildren().add(lbl);\r\n\t\troot.getChildren().add(btn);\r\n\t\troot.getChildren().add(btn2);\r\n\r\n\t\tScene scene = new Scene(root);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch();\r\n\t}\r\n\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h4NHW.png\r\n  [2]: https://i.stack.imgur.com/9q8cf.png\r\n  [3]: https://i.stack.imgur.com/7QxVJ.png","title":"Javafx 2 click and double click","body":"<p>I ran in the same problem, and what I noticed is that single and double click ARE distinguished with basic :</p>\n<pre><code>    Button btn = new Button(&quot;Double click me too&quot;);\n    btn.setOnMousePressed(mouseEvent -&gt; {\n        // CLICK catches\n        if (mouseEvent.getClickCount() == 1) {\n            System.out.println(&quot;Button clicked&quot;);\n        } else if (mouseEvent.getClickCount() == 2)\n            System.out.println(&quot;Button double clicked&quot;);\n    });\n</code></pre>\n<p>But a 'single' click is catched as part of the double click. So you will see on the console :\n<a href=\"https://i.stack.imgur.com/h4NHW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h4NHW.png\" alt=\"enter image description here\" /></a></p>\n<p>Using mainly the answer of @markus-weninger, I built up a Class extending <code>Button</code> to expose 2 new <code>EventHandler</code>s :</p>\n<ul>\n<li><code>setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler)</code></li>\n<li><code>setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler)</code></li>\n</ul>\n<p>So with the full example code bellow, when double clicking on last button, we get :\n<a href=\"https://i.stack.imgur.com/9q8cf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9q8cf.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Keep in mind :</strong></p>\n<ol>\n<li>The obvious drawback is that even a single click caught with <code>setOnMouseSingleClicked</code> will be delayed with the <code>singleClickDelayMillis</code> (exposed variable which should be set accordingly to the OS, as mentioned by Kleopatra).</li>\n<li>Another noticeable fact, is that I extended <code>Button</code>, and not <code>Node</code> where it should be : The Class where the onMouseClicked(...) is implemented.\n<a href=\"https://i.stack.imgur.com/7QxVJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7QxVJ.png\" alt=\"enter image description here\" /></a></li>\n<li>As a last comment, I decided to add a new EventHandler rather than using the existing <code>setOnMousePressed</code>, <code>setOnMouseReleased</code> or <code>setOnMouseClicked</code> so that the developer can still fully implement these convenience <code>EventHandler</code>s. For example in order to have immediate response from a click on the button without waiting for the <code>singleClickDelayMillis</code>. But this means that if you implement both, the <code>setOnMouseClicked</code> will be fired even on a double click... beware.</li>\n</ol>\n<p>Here comes the code :</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.event.EventHandler;\nimport javafx.beans.property.SimpleObjectProperty;\n\npublic class DblClickCatchedWithoutSingleClick extends Application {\n\npublic class ButtonWithDblClick extends Button {\n\n    private long        singleClickDelayMillis  = 250;\n    private ClickRunner latestClickRunner       = null;\n\n    private ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;    onMouseSingleClickedProperty    = new SimpleObjectProperty&lt;&gt;();\n    private ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;    onMouseDoubleClickedProperty    = new SimpleObjectProperty&lt;&gt;();\n\n    // CONSTRUCTORS\n    public ButtonWithDblClick() {\n        super();\n        addClickedEventHandler();\n    }\n\n    public ButtonWithDblClick(String text) {\n        super(text);\n        addClickedEventHandler();\n    }\n\n    public ButtonWithDblClick(String text, Node graphic) {\n        super(text, graphic);\n        addClickedEventHandler();\n    }\n\n    private class ClickRunner implements Runnable {\n\n        private final Runnable  onClick;\n        private boolean         aborted = false;\n\n        public ClickRunner(Runnable onClick) {\n            this.onClick = onClick;\n        }\n\n        public void abort() {\n            this.aborted = true;\n        }\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(singleClickDelayMillis);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (!aborted) {\n                Platform.runLater(onClick::run);\n            }\n        }\n    }\n\n    private void addClickedEventHandler() {\n        //Handling the mouse clicked event (not using 'onMouseClicked' so it can still be used by developer).\n        EventHandler&lt;MouseEvent&gt; eventHandler = me -&gt; {\n            switch (me.getButton()) {\n                case PRIMARY:\n                    if (me.getClickCount() == 1) {\n                        latestClickRunner = new ClickRunner(() -&gt; {\n                            System.out.println(&quot;ButtonWithDblClick : SINGLE Click fired&quot;);\n                            onMouseSingleClickedProperty.get().handle(me);\n                        });\n                        CompletableFuture.runAsync(latestClickRunner);\n                    }\n                    if (me.getClickCount() == 2) {\n                        if (latestClickRunner != null) {\n                            latestClickRunner.abort();\n                        }\n                        System.out.println(&quot;ButtonWithDblClick : DOUBLE Click fired&quot;);\n                        onMouseDoubleClickedProperty.get().handle(me);\n                    }\n                    break;\n                case SECONDARY:\n                    // Right-click operation. Not implemented since usually no double RIGHT click needs to be caught.\n                    break;\n                default:\n                    break;\n            }\n        };\n        //Adding the event handler\n        addEventHandler(MouseEvent.MOUSE_CLICKED, eventHandler);\n    }\n\n    public void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\n        this.onMouseSingleClickedProperty.set(eventHandler);\n    }\n\n    public void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\n        this.onMouseDoubleClickedProperty.set(eventHandler);\n    }\n    public long getSingleClickDelayMillis() {\n        return singleClickDelayMillis;\n    }\n\n    public void setSingleClickDelayMillis(long singleClickDelayMillis) {\n        this.singleClickDelayMillis = singleClickDelayMillis;\n    }\n\n}\n\npublic void start(Stage stage) {\n    VBox root = new VBox();\n\n    Label lbl = new Label(&quot;Double click me&quot;);\n    lbl.setOnMouseClicked(mouseEvent -&gt; {\n        // CLICK catches\n        if (mouseEvent.getClickCount() == 2) {\n            System.out.println(&quot;Label double clicked&quot;);\n        } else if (mouseEvent.getClickCount() == 1)\n            System.out.println(&quot;Label clicked&quot;);\n    });\n\n    Button btn = new Button(&quot;Double click me too&quot;);\n    btn.setOnMousePressed(mouseEvent -&gt; {\n        // CLICK catches\n        if (mouseEvent.getClickCount() == 1) {\n            System.out.println(&quot;Button clicked&quot;);\n        } else if (mouseEvent.getClickCount() == 2)\n            System.out.println(&quot;Button double clicked&quot;);\n    });\n\n    ButtonWithDblClick btn2 = new ButtonWithDblClick(&quot;Double click me three ;-)&quot;);\n    btn2.setOnMouseSingleClicked(me -&gt; {\n        System.out.println(&quot;BUTTON_2 : Fire SINGLE Click&quot;);\n    });\n    btn2.setOnMouseDoubleClicked(me -&gt; {\n        System.out.println(&quot;BUTTON_2 : Fire DOUBLE Click&quot;);\n    });\n\n    root.getChildren().add(lbl);\n    root.getChildren().add(btn);\n    root.getChildren().add(btn2);\n\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.show();\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1296421,"reputation":778,"user_id":1247362,"display_name":"Delkaspo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75953,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":10950824,"answer_count":11,"score":63,"last_activity_date":1681884921,"creation_date":1339160835,"question_id":10949461,"body_markdown":"I would like to know if it was possible to detect the double-click in JavaFX 2 ? and how ?\r\n\r\nI would like to make different event between a click and a double click.\r\n\r\nThanks","title":"Javafx 2 click and double click","body":"<p>I would like to know if it was possible to detect the double-click in JavaFX 2 ? and how ?</p>\n\n<p>I would like to make different event between a click and a double click.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","jvm","memory-barriers"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1681871747,"post_id":76050313,"comment_id":134125446,"body_markdown":"Where are you seeing that there isn&#39;t a LoadStore barrier between a plain load and a `volatile` store?   The JSR-133 page you linked shows such barriers, e.g. in the `class X {\n  int a, b;\n  volatile int v, u;` example, there&#39;s a LoadStore barrier after the last load (which happens to be volatile) before the next volatile store (`store v`).  It&#39;s not right before it because it&#39;s also needed to order `load u` ahead of non-volatile `store a`.  And this hypothetical compiler is optimizing, not redoing barriers where order is already established by an earlier one, unlike current C++ compilers.","body":"Where are you seeing that there isn&#39;t a LoadStore barrier between a plain load and a <code>volatile</code> store?   The JSR-133 page you linked shows such barriers, e.g. in the <code>class X {   int a, b;   volatile int v, u;</code> example, there&#39;s a LoadStore barrier after the last load (which happens to be volatile) before the next volatile store (<code>store v</code>).  It&#39;s not right before it because it&#39;s also needed to order <code>load u</code> ahead of non-volatile <code>store a</code>.  And this hypothetical compiler is optimizing, not redoing barriers where order is already established by an earlier one, unlike current C++ compilers."},{"owner":{"account_id":25640471,"reputation":13,"user_id":19409469,"display_name":"jysun"},"score":0,"creation_date":1681881195,"post_id":76050313,"comment_id":134126353,"body_markdown":"Thanks for your reply. \nI didn&#39;t find LoadStore barrier right before &quot;store v&quot;. Instead, I noticed there is a LoadStore right after &quot;load u&quot;. \nSo, Do you mean &quot; there is a LoadStore before &#39;store v&#39; although they are not next to each other&quot; ? Sounds a little strange to me...","body":"Thanks for your reply.  I didn&#39;t find LoadStore barrier right before &quot;store v&quot;. Instead, I noticed there is a LoadStore right after &quot;load u&quot;.  So, Do you mean &quot; there is a LoadStore before &#39;store v&#39; although they are not next to each other&quot; ? Sounds a little strange to me..."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1681881345,"post_id":76050313,"comment_id":134126382,"body_markdown":"So that is the code block you&#39;re asking about?  You didn&#39;t mention any specific part of the large page you linked.  There&#39;s a LoadStore barrier between the load and the store that isn&#39;t allowed to reorder with it.  A compiler can easily see that this is sufficient by looking backwards from the `volatile` store and seeing that it encounters a LoadStore barrier before getting to any load.  This prevents it the store from reordering with any earlier loads.","body":"So that is the code block you&#39;re asking about?  You didn&#39;t mention any specific part of the large page you linked.  There&#39;s a LoadStore barrier between the load and the store that isn&#39;t allowed to reorder with it.  A compiler can easily see that this is sufficient by looking backwards from the <code>volatile</code> store and seeing that it encounters a LoadStore barrier before getting to any load.  This prevents it the store from reordering with any earlier loads."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1681881538,"post_id":76050313,"comment_id":134126422,"body_markdown":"If you were compiling for AArch64, you&#39;d want to try to use `stlr`, a release-store, instead of separate barriers at all, though.  Separate barriers are more expensive.","body":"If you were compiling for AArch64, you&#39;d want to try to use <code>stlr</code>, a release-store, instead of separate barriers at all, though.  Separate barriers are more expensive."},{"owner":{"account_id":25640471,"reputation":13,"user_id":19409469,"display_name":"jysun"},"score":0,"creation_date":1681882909,"post_id":76050313,"comment_id":134126612,"body_markdown":"Hi, thanks for your suggestion. I&#39;ve updated my question. From your explanation, there should be a LoadStore barrier before &#39;store u&#39; (labeled c) and &#39;store v&#39; (labeled b). However, there&#39;s a LoadStore barrier after &#39;load u&#39; (labeled a) (before &#39;store u&#39; and &#39;store v&#39;). So these LoadStore barriers merged to one, which is after the &#39;load u&#39; (before &#39;store u&#39; and &#39;store v&#39;). Is my understanding right?","body":"Hi, thanks for your suggestion. I&#39;ve updated my question. From your explanation, there should be a LoadStore barrier before &#39;store u&#39; (labeled c) and &#39;store v&#39; (labeled b). However, there&#39;s a LoadStore barrier after &#39;load u&#39; (labeled a) (before &#39;store u&#39; and &#39;store v&#39;). So these LoadStore barriers merged to one, which is after the &#39;load u&#39; (before &#39;store u&#39; and &#39;store v&#39;). Is my understanding right?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1681883202,"post_id":76050313,"comment_id":134126660,"body_markdown":"Yes, that&#39;s correct.  If you were naively compiling each `volatile` operation separately, you&#39;d put barriers before and after each store.  (Or on ISAs that support it, use a store instruction that has sufficient ordering itself.)","body":"Yes, that&#39;s correct.  If you were naively compiling each <code>volatile</code> operation separately, you&#39;d put barriers before and after each store.  (Or on ISAs that support it, use a store instruction that has sufficient ordering itself.)"},{"owner":{"account_id":25640471,"reputation":13,"user_id":19409469,"display_name":"jysun"},"score":0,"creation_date":1681883649,"post_id":76050313,"comment_id":134126733,"body_markdown":"Thanks! I have another confusion about this explanation. In the &quot;Inserting Barriers&quot; section of the &quot;The JSR-133 Cookbook for Compiler Writers&quot;. It is said to &quot;Issue a StoreStore barrier before each volatile store&quot;. The author(s) didn&#39;t say to add LoadStore barrier before each volatile store Why they ignore it?","body":"Thanks! I have another confusion about this explanation. In the &quot;Inserting Barriers&quot; section of the &quot;The JSR-133 Cookbook for Compiler Writers&quot;. It is said to &quot;Issue a StoreStore barrier before each volatile store&quot;. The author(s) didn&#39;t say to add LoadStore barrier before each volatile store Why they ignore it?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1681884962,"post_id":76050313,"comment_id":134126941,"body_markdown":"Seems like a mistake.  Maybe they forgot about it, or thought that StoreStore would include LoadStore?  Their table of mappings to processors includes a column for each of the other 3 types, but not LoadStore.  Many ISAs provide LoadStore as part of the same barrier as StoreStore, e.g. PowerPC `lwsync` (https://preshing.com/20120913/acquire-and-release-semantics/).  But their own table shows StoreStore as ARM `dmb st`, which is truly only StoreStore, not LoadStore, which is why 32-bit ARM sucks at this vs. AArch64 and has to use full barriers most of the time.","body":"Seems like a mistake.  Maybe they forgot about it, or thought that StoreStore would include LoadStore?  Their table of mappings to processors includes a column for each of the other 3 types, but not LoadStore.  Many ISAs provide LoadStore as part of the same barrier as StoreStore, e.g. PowerPC <code>lwsync</code> (<a href=\"https://preshing.com/20120913/acquire-and-release-semantics/\" rel=\"nofollow noreferrer\">preshing.com/20120913/acquire-and-release-semantics</a>).  But their own table shows StoreStore as ARM <code>dmb st</code>, which is truly only StoreStore, not LoadStore, which is why 32-bit ARM sucks at this vs. AArch64 and has to use full barriers most of the time."}],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681884297,"creation_date":1681884297,"answer_id":76051208,"question_id":76050313,"body_markdown":"There actually *is* a LoadStore barrier between `load u` and `store v`; there are no earlier loads (volatile) `store v` could reorder with.\r\n\r\nThe code-gen is from a hypothetical optimizing compiler that avoids redundant barriers.  e.g. when emitting code for that `volatile` store, scan backwards within this basic block, and if it encounters a LoadStore that&#39;s older than any load, don&#39;t emit a LoadStore barrier before the actual `store`.\r\n\r\nIn this case, the  LoadStore barrier was emitted in the process of compiling (volatile) `load u` ahead of (non-volatile) `store a`.\r\n\r\nIf you were naively compiling each `volatile` operation separately (like [current C++ compilers][1]), you would indeed put barriers directly before (and directly after) each store.\r\n\r\n(Or on ISAs that support it, use a store instruction that has sufficient ordering itself, like AArch64 `stlr`, with `ldar` for `volatile` loads: they can&#39;t StoreLoad reorder with each other, but `stlr` *can* StoreLoad reorder with other loads.  This is sufficient for sequential-consistency if you use `volatile` for all shared data that doesn&#39;t have other synchronization.  Unlike barriers, load or store operations only need 1-way ordering except.  This makes seq_cst memory ordering cheaper, not having to drain the store buffer for seq_cst stores, unless you do an seq_cst load soon after.)\r\n\r\n\r\n\r\nLater in the page you linked, there&#39;s a **Removing Barriers** section describing when you can collapse a pair of barriers, depending on intervening operations.  So the other way to get this result would be to generate naive code and then apply those steps to find redundancy.  Although that table doesn&#39;t mention LoadStore barriers.\r\n\r\n  [1]: https://www.cl.cam.ac.uk/~pes20/cpp/cpp0xmappings.html","title":"Why there is no LoadStore barrier before volatile write in Java (JSR-133 ordering rules)","body":"<p>There actually <em>is</em> a LoadStore barrier between <code>load u</code> and <code>store v</code>; there are no earlier loads (volatile) <code>store v</code> could reorder with.</p>\n<p>The code-gen is from a hypothetical optimizing compiler that avoids redundant barriers.  e.g. when emitting code for that <code>volatile</code> store, scan backwards within this basic block, and if it encounters a LoadStore that's older than any load, don't emit a LoadStore barrier before the actual <code>store</code>.</p>\n<p>In this case, the  LoadStore barrier was emitted in the process of compiling (volatile) <code>load u</code> ahead of (non-volatile) <code>store a</code>.</p>\n<p>If you were naively compiling each <code>volatile</code> operation separately (like <a href=\"https://www.cl.cam.ac.uk/%7Epes20/cpp/cpp0xmappings.html\" rel=\"nofollow noreferrer\">current C++ compilers</a>), you would indeed put barriers directly before (and directly after) each store.</p>\n<p>(Or on ISAs that support it, use a store instruction that has sufficient ordering itself, like AArch64 <code>stlr</code>, with <code>ldar</code> for <code>volatile</code> loads: they can't StoreLoad reorder with each other, but <code>stlr</code> <em>can</em> StoreLoad reorder with other loads.  This is sufficient for sequential-consistency if you use <code>volatile</code> for all shared data that doesn't have other synchronization.  Unlike barriers, load or store operations only need 1-way ordering except.  This makes seq_cst memory ordering cheaper, not having to drain the store buffer for seq_cst stores, unless you do an seq_cst load soon after.)</p>\n<p>Later in the page you linked, there's a <strong>Removing Barriers</strong> section describing when you can collapse a pair of barriers, depending on intervening operations.  So the other way to get this result would be to generate naive code and then apply those steps to find redundancy.  Although that table doesn't mention LoadStore barriers.</p>\n"}],"owner":{"account_id":25640471,"reputation":13,"user_id":19409469,"display_name":"jysun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76051208,"answer_count":1,"score":0,"last_activity_date":1681884297,"creation_date":1681870961,"question_id":76050313,"body_markdown":"The JMM rules listed in [The JSR-133 Cookbook for Compiler Writers&quot;][1] state that Normal Load and Normal Store can not be reordered with volatile-Store after them. To do so, they issue a StoreStore barrier before volatile-write. However, I can&#39;t understand why there is no LoadStore barrier before a volatile-Store? If no LoadStore barrier is added before the volatile-Store, a volatile-Store may reorder with a normal-Load before it, and that breaks the rule. \r\n\r\nI&#39;ve read a similar question posted [here][2]. But I still can&#39;t make it clear why only StoreStore barrier is added before a volatile-Store.\r\n\r\n\r\n-------------------------------------UPDATED---------------------------\r\n\r\n\r\nTo make my question clear, I post a picture of code block in [The JSR-133 Cookbook for Compiler Writers&quot;][1] [shown here][3]. In this code block, I think there should be a LoadStore barrier right before &quot;store v&quot; and &quot;store u&quot; to prevent the reorder of normal-Load and volatile-Store. However, there is no such barrier right before &quot;store v&quot; and &quot;store u&quot;. \r\n\r\n\r\n  [1]: https://gee.cs.oswego.edu/dl/jmm/cookbook.html\r\n  [2]: https://stackoverflow.com/questions/31957237/is-there-loadstore-memory-barrier-before-volatile-write-in-java\r\n  [3]: https://i.stack.imgur.com/KVT3W.png","title":"Why there is no LoadStore barrier before volatile write in Java (JSR-133 ordering rules)","body":"<p>The JMM rules listed in <a href=\"https://gee.cs.oswego.edu/dl/jmm/cookbook.html\" rel=\"nofollow noreferrer\">The JSR-133 Cookbook for Compiler Writers&quot;</a> state that Normal Load and Normal Store can not be reordered with volatile-Store after them. To do so, they issue a StoreStore barrier before volatile-write. However, I can't understand why there is no LoadStore barrier before a volatile-Store? If no LoadStore barrier is added before the volatile-Store, a volatile-Store may reorder with a normal-Load before it, and that breaks the rule.</p>\n<p>I've read a similar question posted <a href=\"https://stackoverflow.com/questions/31957237/is-there-loadstore-memory-barrier-before-volatile-write-in-java\">here</a>. But I still can't make it clear why only StoreStore barrier is added before a volatile-Store.</p>\n<p>-------------------------------------UPDATED---------------------------</p>\n<p>To make my question clear, I post a picture of code block in <a href=\"https://gee.cs.oswego.edu/dl/jmm/cookbook.html\" rel=\"nofollow noreferrer\">The JSR-133 Cookbook for Compiler Writers&quot;</a> <a href=\"https://i.stack.imgur.com/KVT3W.png\" rel=\"nofollow noreferrer\">shown here</a>. In this code block, I think there should be a LoadStore barrier right before &quot;store v&quot; and &quot;store u&quot; to prevent the reorder of normal-Load and volatile-Store. However, there is no such barrier right before &quot;store v&quot; and &quot;store u&quot;.</p>\n"},{"tags":["java","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1578902975,"post_id":59712352,"comment_id":105576470,"body_markdown":"You can&#39;t do that. It&#39;s one of the biggest problems with all of the existing Swagger/OpenAPI generators.","body":"You can&#39;t do that. It&#39;s one of the biggest problems with all of the existing Swagger/OpenAPI generators."},{"owner":{"account_id":12486830,"reputation":249,"user_id":9089791,"display_name":"Park Jay"},"score":0,"creation_date":1578905855,"post_id":59712352,"comment_id":105577607,"body_markdown":"I see that swagger has custom template, I see that we can change name but not know that we can add in template to do this or not ?","body":"I see that swagger has custom template, I see that we can change name but not know that we can add in template to do this or not ?"}],"answers":[{"tags":[],"owner":{"account_id":2577806,"reputation":415,"user_id":2455388,"display_name":"kairius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632914224,"creation_date":1632910845,"answer_id":69374536,"question_id":59712352,"body_markdown":"It&#39;s possible by using custom templates.\r\n\r\nE.g.: \r\n 1. Add extension to Open Api spec model:\r\n\r\n    ```\r\n    Person:\r\n      type: object\r\n      x-validations: &quot;@ValidPerson&quot;\r\n      ...\r\n    ```\r\n\r\n 2. Add fragment to `pojo.mustache`:\r\n    ```\r\n    {{#useBeanValidation}}\r\n     {{#vendorExtensions.x-validations}}\r\n      {{vendorExtensions.x-validations}}\r\n     {{/vendorExtensions.x-validations}}\r\n    {{/useBeanValidation}}\r\n    ```\r\n\r\nOr alternatively, if you don&#39;t have an option to add something to the spec, you can implement model post processor and add vendor extension values dynamically.","title":"Add custom annotation when generate backend code with swagger codegen","body":"<p>It's possible by using custom templates.</p>\n<p>E.g.:</p>\n<ol>\n<li><p>Add extension to Open Api spec model:</p>\n<pre><code>Person:\n  type: object\n  x-validations: &quot;@ValidPerson&quot;\n  ...\n</code></pre>\n</li>\n<li><p>Add fragment to <code>pojo.mustache</code>:</p>\n<pre><code>{{#useBeanValidation}}\n {{#vendorExtensions.x-validations}}\n  {{vendorExtensions.x-validations}}\n {{/vendorExtensions.x-validations}}\n{{/useBeanValidation}}\n</code></pre>\n</li>\n</ol>\n<p>Or alternatively, if you don't have an option to add something to the spec, you can implement model post processor and add vendor extension values dynamically.</p>\n"},{"tags":[],"owner":{"account_id":16534837,"reputation":323,"user_id":11947145,"display_name":"Vitaly Roslov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641930374,"creation_date":1641929854,"answer_id":70672478,"question_id":59712352,"body_markdown":"I&#39;ve been stuck with the similar problem and as the result made an example for swagger-codegen-cli v3 and gradle: [Here it is](https://github.com/vitalyros/swagger-generate-custom-annotations)\r\n\r\nThis might not be exactly what you wanted. The annotations are defined in java code and used by the generated model code.\r\n\r\nIt is an elaboration of\r\n[kairus&#39;es method](https://stackoverflow.com/a/69374536/11947145)\r\n\r\nI&#39;ve started with [this article](https://arnoldgalovics.com/swagger-codegen-new-template) - this method also works, but making a new language proved to be unnecessary.\r\n","title":"Add custom annotation when generate backend code with swagger codegen","body":"<p>I've been stuck with the similar problem and as the result made an example for swagger-codegen-cli v3 and gradle: <a href=\"https://github.com/vitalyros/swagger-generate-custom-annotations\" rel=\"nofollow noreferrer\">Here it is</a></p>\n<p>This might not be exactly what you wanted. The annotations are defined in java code and used by the generated model code.</p>\n<p>It is an elaboration of\n<a href=\"https://stackoverflow.com/a/69374536/11947145\">kairus'es method</a></p>\n<p>I've started with <a href=\"https://arnoldgalovics.com/swagger-codegen-new-template\" rel=\"nofollow noreferrer\">this article</a> - this method also works, but making a new language proved to be unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":1850603,"reputation":912,"user_id":1677222,"display_name":"Mohamed El-Beltagy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681884030,"creation_date":1681884030,"answer_id":76051185,"question_id":59712352,"body_markdown":"Starting from OpenAPI Generators version `6.0.0`, for Java language, you can use `x-class-extra-annotation` out of the box without any customization to the mustache templates.\r\n\r\nIn your example, if you have a `Payment` object in your OpenAPI specs and you&#39;d like to use the `Currency` annotation, it would look like this:\r\n\r\n    Payment:\r\n      type: object\r\n      x-class-extra-annotation: &quot;@fully.qualified.name.of.Currency(message = \\&quot;This is a message to override the default one, in case it&#39;s required\\&quot;)&quot;\r\n      properties:\r\n         # ...\r\n\r\n\r\nThe generated `Payment` Pojo will look like this:\r\n\r\n    @fully.qualified.name.of.Currency(message = &quot;This is a message to override the default one, in case it&#39;s required&quot;)\r\n    public class Payment {\r\n       // ... fields, setters, and getters as usual\r\n    }\r\n\r\nReference:\r\n- https://github.com/OpenAPITools/openapi-generator/pull/11775","title":"Add custom annotation when generate backend code with swagger codegen","body":"<p>Starting from OpenAPI Generators version <code>6.0.0</code>, for Java language, you can use <code>x-class-extra-annotation</code> out of the box without any customization to the mustache templates.</p>\n<p>In your example, if you have a <code>Payment</code> object in your OpenAPI specs and you'd like to use the <code>Currency</code> annotation, it would look like this:</p>\n<pre><code>Payment:\n  type: object\n  x-class-extra-annotation: &quot;@fully.qualified.name.of.Currency(message = \\&quot;This is a message to override the default one, in case it's required\\&quot;)&quot;\n  properties:\n     # ...\n</code></pre>\n<p>The generated <code>Payment</code> Pojo will look like this:</p>\n<pre><code>@fully.qualified.name.of.Currency(message = &quot;This is a message to override the default one, in case it's required&quot;)\npublic class Payment {\n   // ... fields, setters, and getters as usual\n}\n</code></pre>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://github.com/OpenAPITools/openapi-generator/pull/11775\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/pull/11775</a></li>\n</ul>\n"}],"owner":{"account_id":12486830,"reputation":249,"user_id":9089791,"display_name":"Park Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5165,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1681884030,"creation_date":1578901361,"question_id":59712352,"body_markdown":"I&#39;m trying to generate sever code with swagger codegen. In my model have some custom annotation like\r\n@Currency\r\n```\r\n@Target({ METHOD, FIELD, ANNOTATION_TYPE, PARAMETER })\r\n@Retention(RUNTIME)\r\n@Size(min = 3, max = 3)\r\n@Pattern(regexp=TwintPattern.CURRENCY)\r\n@Constraint(validatedBy = {})\r\n@Documented\r\npublic @interface Currency {\r\n\tString message() default &quot;{javax.validation.constraints.Size.message}&quot;;\r\n\r\n\tClass&lt;?&gt;[] groups() default {};\r\n\r\n\tClass&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n\r\n```\r\nCan we let swagger know and generate it also in model class?","title":"Add custom annotation when generate backend code with swagger codegen","body":"<p>I'm trying to generate sever code with swagger codegen. In my model have some custom annotation like\n@Currency</p>\n\n<pre><code>@Target({ METHOD, FIELD, ANNOTATION_TYPE, PARAMETER })\n@Retention(RUNTIME)\n@Size(min = 3, max = 3)\n@Pattern(regexp=TwintPattern.CURRENCY)\n@Constraint(validatedBy = {})\n@Documented\npublic @interface Currency {\n    String message() default \"{javax.validation.constraints.Size.message}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\n</code></pre>\n\n<p>Can we let swagger know and generate it also in model class?</p>\n"},{"tags":["java","spring-boot","spring-security","runtime-error"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1681913343,"post_id":76050939,"comment_id":134133926,"body_markdown":"The exception is telling you that the `AadJwtIssuerValidator` does not correctly implements `OAuth2TokenValidator`. Please make sure that you are using versions that match of those dependencies","body":"The exception is telling you that the <code>AadJwtIssuerValidator</code> does not correctly implements <code>OAuth2TokenValidator</code>. Please make sure that you are using versions that match of those dependencies"}],"owner":{"account_id":28346022,"reputation":11,"user_id":21678237,"display_name":"Mithil Baria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681883864,"creation_date":1681881075,"question_id":76050939,"body_markdown":"I am facing below error while doing the Azure AD authentication in Spring 3.0.4. \r\n\r\n```\r\nReceiver class com.azure.spring.cloud.autoconfigure.aad.implementation.webapi.validator.AadJwtIssuerValidator does not define or inherit an implementation of the resolved method &#39;abstract org.springframework.security.oauth2.core.OAuth2TokenValidatorResult validate(org.springframework.security.oauth2.core.OAuth2Token)&#39; of interface org.springframework.security.oauth2.core.OAuth2TokenValidator.\r\n```\r\nSpring Security Version is 6.0.3.\r\n\r\nI have tried adding the necessary dependencies which are mentioned below, \r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n   &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-cloud-azure-starter-data-cosmos&lt;/artifactId&gt;\r\n   &lt;version&gt;4.7.0&lt;/version&gt;\r\n   &lt;exclusions&gt;\r\n&lt;exclusion&gt;\r\n  &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n  &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependencyManagement&gt;\r\n &lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n   &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\r\n&lt;version&gt;${spring-cloud-azure.version}&lt;/version&gt;\r\n&lt;type&gt;pom&lt;/type&gt;\r\n&lt;scope&gt;import&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;exclusions&gt;\r\n&lt;exclusion&gt;\r\n&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI am expecting it to authenticate correctly, because the same dependencies worked in Spring 2.7.9.","title":"Spring Security Error for Authentication Bearer","body":"<p>I am facing below error while doing the Azure AD authentication in Spring 3.0.4.</p>\n<pre><code>Receiver class com.azure.spring.cloud.autoconfigure.aad.implementation.webapi.validator.AadJwtIssuerValidator does not define or inherit an implementation of the resolved method 'abstract org.springframework.security.oauth2.core.OAuth2TokenValidatorResult validate(org.springframework.security.oauth2.core.OAuth2Token)' of interface org.springframework.security.oauth2.core.OAuth2TokenValidator.\n</code></pre>\n<p>Spring Security Version is 6.0.3.</p>\n<p>I have tried adding the necessary dependencies which are mentioned below,</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-azure-starter-data-cosmos&lt;/artifactId&gt;\n   &lt;version&gt;4.7.0&lt;/version&gt;\n   &lt;exclusions&gt;\n&lt;exclusion&gt;\n  &lt;groupId&gt;io.netty&lt;/groupId&gt;\n  &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependencyManagement&gt;\n &lt;dependencies&gt;\n   &lt;dependency&gt;\n   &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\n&lt;version&gt;${spring-cloud-azure.version}&lt;/version&gt;\n&lt;type&gt;pom&lt;/type&gt;\n&lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;exclusions&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am expecting it to authenticate correctly, because the same dependencies worked in Spring 2.7.9.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1681881480,"post_id":76050910,"comment_id":134126409,"body_markdown":"`nextInt()` can read past newlines. Infinite loops only happen when `nextInt()` itself throws an error, because the token is not consumed.","body":"<code>nextInt()</code> can read past newlines. Infinite loops only happen when <code>nextInt()</code> itself throws an error, because the token is not consumed."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681881389,"creation_date":1681881389,"answer_id":76050963,"question_id":76050910,"body_markdown":"The `\\n` character doesn&#39;t affect `nextInt` in this case. `nextInt` would just skip over `\\n` when looking for the next integer in the input. Therefore, it would successfully scan the next integer you enter. If that is less than 6, `isValid` would be set to true, and there is no infinite loop.\r\n\r\nThis is because by default, `\\n` is included in the [`delimiter`][1] of a `Scanner`. Scanner considers strings that match its delimiters as &quot;separators&quot; of the tokens it scans.\r\n\r\n    System.out.println(scanner.delimiter());\r\n    // prints &quot;\\p{javaWhitespace}+&quot;, which would match &quot;\\n&quot;\r\n\r\n&lt;hr&gt;\r\n\r\nEven if the scanner scans the `\\n` character and tries to interpret it as an int, it would throw an `InputMismatchException`, which would be caught by your second `catch`. Then, the `\\n` character would be consumed by `nextLine` anyway. So again, this would not cause an infinite loop, though the output would be a little different.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#delimiter()","title":"Specification of nextInt (Java)","body":"<p>The <code>\\n</code> character doesn't affect <code>nextInt</code> in this case. <code>nextInt</code> would just skip over <code>\\n</code> when looking for the next integer in the input. Therefore, it would successfully scan the next integer you enter. If that is less than 6, <code>isValid</code> would be set to true, and there is no infinite loop.</p>\n<p>This is because by default, <code>\\n</code> is included in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#delimiter()\" rel=\"nofollow noreferrer\"><code>delimiter</code></a> of a <code>Scanner</code>. Scanner considers strings that match its delimiters as &quot;separators&quot; of the tokens it scans.</p>\n<pre><code>System.out.println(scanner.delimiter());\n// prints &quot;\\p{javaWhitespace}+&quot;, which would match &quot;\\n&quot;\n</code></pre>\n<hr>\n<p>Even if the scanner scans the <code>\\n</code> character and tries to interpret it as an int, it would throw an <code>InputMismatchException</code>, which would be caught by your second <code>catch</code>. Then, the <code>\\n</code> character would be consumed by <code>nextLine</code> anyway. So again, this would not cause an infinite loop, though the output would be a little different.</p>\n"}],"owner":{"account_id":21759842,"reputation":19,"user_id":21286159,"display_name":"user45546"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681881389,"creation_date":1681880750,"question_id":76050910,"body_markdown":"I wrote follow code. I thought when I use the number is less than 6,it will enter an infinite loop because \\n is not erased by scanner.nextLine(). But this code can run without any problem. why is this?\r\n\r\n\r\n```\r\npublic static void main(String[] args){\r\n　Scanner scannner = new Scanner(System.in)\r\n\r\n  int num = 0\r\n  \r\n  boolean isValid = false;\r\n  while(!isValid){\r\n    try{\r\n       System.out.print(&quot;please input number:&quot;)\r\n       inputedNum = scanner.nextInt()\r\n       \r\n       if(inputedNum &lt; 6){\r\n         throw new IllegalArgumentException(&quot;please input number more than 6&quot;)\r\n       }\r\n       \r\n       isValid = true\r\n\r\n     }catch(IllegalArgumentException e){\r\n        System.out.print(e.getMessage())\r\n     }catch(Exception e){\r\n        System.out.print(&quot;please input number&quot;)\r\n        scanner.nextLine()\r\n     }\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n  I think this code will enter an infinite loop because \\n is not erased by scanner.nextLine() If inputedNum &lt; 6","title":"Specification of nextInt (Java)","body":"<p>I wrote follow code. I thought when I use the number is less than 6,it will enter an infinite loop because \\n is not erased by scanner.nextLine(). But this code can run without any problem. why is this?</p>\n<pre><code>public static void main(String[] args){\n　Scanner scannner = new Scanner(System.in)\n\n  int num = 0\n  \n  boolean isValid = false;\n  while(!isValid){\n    try{\n       System.out.print(&quot;please input number:&quot;)\n       inputedNum = scanner.nextInt()\n       \n       if(inputedNum &lt; 6){\n         throw new IllegalArgumentException(&quot;please input number more than 6&quot;)\n       }\n       \n       isValid = true\n\n     }catch(IllegalArgumentException e){\n        System.out.print(e.getMessage())\n     }catch(Exception e){\n        System.out.print(&quot;please input number&quot;)\n        scanner.nextLine()\n     }\n  }\n\n}\n</code></pre>\n<p>I think this code will enter an infinite loop because \\n is not erased by scanner.nextLine() If inputedNum &lt; 6</p>\n"},{"tags":["java","jackson","resteasy","objectmapper","fasterxml"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681834716,"post_id":76046692,"comment_id":134119376,"body_markdown":"Is upgrading to a newer version of RESTEasy an option?","body":"Is upgrading to a newer version of RESTEasy an option?"},{"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"score":0,"creation_date":1681836688,"post_id":76046692,"comment_id":134119863,"body_markdown":"@JamesR.Perkins No that is not an option right now.","body":"@JamesR.Perkins No that is not an option right now."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1681875092,"post_id":76046692,"comment_id":134125736,"body_markdown":"Instead of the resteasy-jackson-provider try the resteasy-jackson2-provider. That would use the FasterXML version.","body":"Instead of the resteasy-jackson-provider try the resteasy-jackson2-provider. That would use the FasterXML version."},{"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"score":0,"creation_date":1681881249,"post_id":76046692,"comment_id":134126366,"body_markdown":"@JamesR.Perkins I have one dependency which brings org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile, org.codehaus.mojo:build-helper-maven-plugin:maven-plugin:3.3.0:compile . Can they conflict with resteasy-jackson2-provider. I used  resteasy-jackson2-provider but it brings Unrecognized exception from jackson-core-asl:jar:1.9.13","body":"@JamesR.Perkins I have one dependency which brings org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile, org.codehaus.mojo:build-helper-maven-plugin:maven-plugin:3.3&zwnj;&#8203;.0:compile . Can they conflict with resteasy-jackson2-provider. I used  resteasy-jackson2-provider but it brings Unrecognized exception from jackson-core-asl:jar:1.9.13"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681913409,"post_id":76046692,"comment_id":134133943,"body_markdown":"I&#39;m not sure why you&#39;d add a plugin as a dependency, but yes it might conflict. The `resteasy-jacksone2-providers` should not be bringing in Jackson 1 hence the name. Something else must be bringing that in.","body":"I&#39;m not sure why you&#39;d add a plugin as a dependency, but yes it might conflict. The <code>resteasy-jacksone2-providers</code> should not be bringing in Jackson 1 hence the name. Something else must be bringing that in."}],"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681881350,"creation_date":1681833268,"question_id":76046692,"body_markdown":"we are using Resteasy 3.9.0.Final in our vanilla java project. I have an api method which reads a POJO(`Request`) written in Jackson com.fasterxml.jackson.core:jackson-annotations:2.10.0. \r\n\r\n```\r\n    @Override\r\n    @POST\r\n    @GZIP\r\n    @Path(&quot;/api&quot;)\r\n    public Response call( @HeaderParam(&quot;host&quot;) @ApiParam(value = &quot;host&quot;, required = true) String hostName,\r\n            @ApiParam(value = &quot;&quot;, required = true) Request request) {\r\n```\r\n\r\n\r\nBut while reading it i get error - \r\n```\r\n“detailedErrorMessage”: “{\\“messageDetails\\“:\\“Unrecognized field \\\\\\“id\\\\\\” (Class com.abc.api.platform.xyz.pqr), not marked as ignorable\\\\n at [Sou\r\nat org.codehaus.jackson.map.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:53)\r\n\tat org.codehaus.jackson.map.deser.StdDeserializationContext.unknownFieldException(StdDeserializationContext.java:267)\r\n\tat org.codehaus.jackson.map.deser.std.StdDeserializer.reportUnknownProperty(StdDeserializer.java:673)\r\n\tat org.codehaus.jackson.map.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:659)\r\n```\r\n\r\nBut when I explicit read request in string and convert it into a `Request` class using ObjectMapper of Fasterxml then it works fine. How to force the api method to read POJO with FasterXML ObjectMapper instead of CodeHaus?\r\n\r\nI have this in my dependency tree also \r\n```\r\n[INFO] +- org.jboss.resteasy:resteasy-jackson-provider:jar:3.9.0.Final:compile\r\n[INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\r\n[INFO] |  +- org.codehaus.jackson:jackson-jaxrs:jar:1.9.13:compile\r\n[INFO] |  \\- org.codehaus.jackson:jackson-xc:jar:1.9.13:compile\r\n\r\norg.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile \r\norg.codehaus.mojo:build-helper-maven-plugin:maven-plugin:3.3.0:compile\r\n```\r\n","title":"Reading com.fasterxml.jackson.core from resteasy-jackson-provider 3.9.0","body":"<p>we are using Resteasy 3.9.0.Final in our vanilla java project. I have an api method which reads a POJO(<code>Request</code>) written in Jackson com.fasterxml.jackson.core:jackson-annotations:2.10.0.</p>\n<pre><code>    @Override\n    @POST\n    @GZIP\n    @Path(&quot;/api&quot;)\n    public Response call( @HeaderParam(&quot;host&quot;) @ApiParam(value = &quot;host&quot;, required = true) String hostName,\n            @ApiParam(value = &quot;&quot;, required = true) Request request) {\n</code></pre>\n<p>But while reading it i get error -</p>\n<pre><code>“detailedErrorMessage”: “{\\“messageDetails\\“:\\“Unrecognized field \\\\\\“id\\\\\\” (Class com.abc.api.platform.xyz.pqr), not marked as ignorable\\\\n at [Sou\nat org.codehaus.jackson.map.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:53)\n    at org.codehaus.jackson.map.deser.StdDeserializationContext.unknownFieldException(StdDeserializationContext.java:267)\n    at org.codehaus.jackson.map.deser.std.StdDeserializer.reportUnknownProperty(StdDeserializer.java:673)\n    at org.codehaus.jackson.map.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:659)\n</code></pre>\n<p>But when I explicit read request in string and convert it into a <code>Request</code> class using ObjectMapper of Fasterxml then it works fine. How to force the api method to read POJO with FasterXML ObjectMapper instead of CodeHaus?</p>\n<p>I have this in my dependency tree also</p>\n<pre><code>[INFO] +- org.jboss.resteasy:resteasy-jackson-provider:jar:3.9.0.Final:compile\n[INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\n[INFO] |  +- org.codehaus.jackson:jackson-jaxrs:jar:1.9.13:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-xc:jar:1.9.13:compile\n\norg.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile \norg.codehaus.mojo:build-helper-maven-plugin:maven-plugin:3.3.0:compile\n</code></pre>\n"},{"tags":["java","javafx","java-11","java-module","jfoenix"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1540776001,"creation_date":1540776001,"answer_id":53037601,"question_id":53037442,"body_markdown":"One way you can try fixing this is by adding the vm option for the required export:\r\n\r\n    --add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\r\n\r\n\r\nThe ideal solution to that would be the `jfoenix` library to move away from using `com.sun.javafx.scene.control.behavior.TabPaneBehavior`.","title":"How to fix jfoenix modules with javafx 11","body":"<p>One way you can try fixing this is by adding the vm option for the required export:</p>\n\n<pre><code>--add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\n</code></pre>\n\n<p>The ideal solution to that would be the <code>jfoenix</code> library to move away from using <code>com.sun.javafx.scene.control.behavior.TabPaneBehavior</code>.</p>\n"},{"tags":[],"owner":{"account_id":12878994,"reputation":593,"user_id":9314632,"display_name":"exceptionsAreBad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543438218,"creation_date":1543438218,"answer_id":53527897,"question_id":53037442,"body_markdown":"I was able to successfully run every aspect of the jfoenix library thus far. I still have some testing to do in my application to make sure there are no errors hidden but at this moment the following VM options fixed the issue : \r\n\r\n    --add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\r\n    --add-exports javafx.controls/com.sun.javafx.scene.control=com.jfoenix\r\n    --add-exports javafx.base/com.sun.javafx.binding=com.jfoenix\r\n    --add-exports javafx.graphics/com.sun.javafx.stage=com.jfoenix\r\n    --add-exports javafx.base/com.sun.javafx.event=com.jfoenix","title":"How to fix jfoenix modules with javafx 11","body":"<p>I was able to successfully run every aspect of the jfoenix library thus far. I still have some testing to do in my application to make sure there are no errors hidden but at this moment the following VM options fixed the issue : </p>\n\n<pre><code>--add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\n--add-exports javafx.controls/com.sun.javafx.scene.control=com.jfoenix\n--add-exports javafx.base/com.sun.javafx.binding=com.jfoenix\n--add-exports javafx.graphics/com.sun.javafx.stage=com.jfoenix\n--add-exports javafx.base/com.sun.javafx.event=com.jfoenix\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1575800801,"creation_date":1575800801,"answer_id":59234471,"question_id":53037442,"body_markdown":"An alternative to all this module pain is to completely abandon the JPMS and put all libraries (also JavaFX) on the classpath and then start your application via a launcher like this:\r\n\r\n    class MyAppLauncher {public static void main(String[] args) {MyApp.main(args);}}\r\n","title":"How to fix jfoenix modules with javafx 11","body":"<p>An alternative to all this module pain is to completely abandon the JPMS and put all libraries (also JavaFX) on the classpath and then start your application via a launcher like this:</p>\n\n<pre><code>class MyAppLauncher {public static void main(String[] args) {MyApp.main(args);}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7810808,"reputation":51,"user_id":5907041,"display_name":"Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681880820,"creation_date":1681880820,"answer_id":76050919,"question_id":53037442,"body_markdown":"Please try this, it works for me. I hope it will be useful for you too.\r\n\r\n    --module-path &quot;D:\\Libs\\javafx-sdk-11.0.2\\lib&quot;  \r\n    --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics\r\n    --add-opens javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED\r\n    --add-opens javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED","title":"How to fix jfoenix modules with javafx 11","body":"<p>Please try this, it works for me. I hope it will be useful for you too.</p>\n<pre><code>--module-path &quot;D:\\Libs\\javafx-sdk-11.0.2\\lib&quot;  \n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics\n--add-opens javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED\n--add-opens javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":12878994,"reputation":593,"user_id":9314632,"display_name":"exceptionsAreBad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8913,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53037601,"answer_count":4,"score":11,"last_activity_date":1681880820,"creation_date":1540774362,"question_id":53037442,"body_markdown":"So I&#39;m adding my requires for module-info.java and finally got my program to load but as soon as tab pane wants to load from jfoenix library this error is thrown.\r\n\r\n    Caused by: java.lang.IllegalAccessError: class com.jfoenix.skins.JFXTabPaneSkin (in module com.jfoenix) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to module com.jfoenix\r\n","title":"How to fix jfoenix modules with javafx 11","body":"<p>So I'm adding my requires for module-info.java and finally got my program to load but as soon as tab pane wants to load from jfoenix library this error is thrown.</p>\n\n<pre><code>Caused by: java.lang.IllegalAccessError: class com.jfoenix.skins.JFXTabPaneSkin (in module com.jfoenix) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to module com.jfoenix\n</code></pre>\n"},{"tags":["java","inheritance","import","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1681880533,"creation_date":1681862514,"answer_id":76049839,"question_id":76049715,"body_markdown":" The inconsistency is due to the keyword `static` in the declaration.[difference between nested class and inner class][1]\r\n\r\nAs a nested class is a static class defined inside another class. It is not bound to a specific instance of the outer class. \r\n\r\n\r\n  [1]: https://medium.com/the-kotlin-primer/nested-and-inner-classes-b300243d036d","title":"Import inherited nested class","body":"<p>The inconsistency is due to the keyword <code>static</code> in the declaration.<a href=\"https://medium.com/the-kotlin-primer/nested-and-inner-classes-b300243d036d\" rel=\"nofollow noreferrer\">difference between nested class and inner class</a></p>\n<p>As a nested class is a static class defined inside another class. It is not bound to a specific instance of the outer class.</p>\n"}],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1681880533,"creation_date":1681860434,"question_id":76049715,"body_markdown":"If I declare a nested class:\r\n\r\n    class Outer {\r\n        static class Nested {}\r\n    }\r\n\r\nAnd then extend the outer class:\r\n\r\n    class Child extends Outer {}\r\n\r\nI can reference `Nested` via `Child`:\r\n\r\n    new Child.Nested()\r\n\r\nBut I can only import `Outer.Nested`:\r\n\r\n    import mypackage.Outer.Nested;  // valid\r\n    import mypackage.Child.Nested;  // compile error\r\n\r\nWhy the inconsistency?","title":"Import inherited nested class","body":"<p>If I declare a nested class:</p>\n<pre><code>class Outer {\n    static class Nested {}\n}\n</code></pre>\n<p>And then extend the outer class:</p>\n<pre><code>class Child extends Outer {}\n</code></pre>\n<p>I can reference <code>Nested</code> via <code>Child</code>:</p>\n<pre><code>new Child.Nested()\n</code></pre>\n<p>But I can only import <code>Outer.Nested</code>:</p>\n<pre><code>import mypackage.Outer.Nested;  // valid\nimport mypackage.Child.Nested;  // compile error\n</code></pre>\n<p>Why the inconsistency?</p>\n"},{"tags":["java","ssh","sftp","jsch","vfs"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1521400380,"post_id":49349001,"comment_id":85703568,"body_markdown":"Show us [JSch log file](https://stackoverflow.com/q/47411185/850848).","body":"Show us <a href=\"https://stackoverflow.com/q/47411185/850848\">JSch log file</a>."},{"owner":{"account_id":6397551,"reputation":1348,"user_id":4961391,"accept_rate":95,"display_name":"2Big2BeSmall"},"score":0,"creation_date":1521445173,"post_id":49349001,"comment_id":85715702,"body_markdown":"@MartinPrikryl I have attached the log information","body":"@MartinPrikryl I have attached the log information"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1521445584,"post_id":49349001,"comment_id":85715880,"body_markdown":"Thanks. I&#39;ve reverted your addition of log files to the [JSch log files](https://stackoverflow.com/q/47411185/850848) question.","body":"Thanks. I&#39;ve reverted your addition of log files to the <a href=\"https://stackoverflow.com/q/47411185/850848\">JSch log files</a> question."}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521445378,"creation_date":1521445378,"answer_id":49357926,"question_id":49349001,"body_markdown":"Seems like a bug or problem on the server. Check server-side log file.\r\n\r\nThough note that FileZilla succeeds to connect with a use of &quot;AES-256 CBC&quot;. Your JSch code uses only &quot;AES-128 CBC&quot;, because &quot;AES-256 CBC&quot; is not available.\r\n\r\nTry installing JCE to enable &quot;AES-256 CBC&quot;. See https://stackoverflow.com/q/30846076/850848.  \r\n\r\n","title":"SFTP connection error with JSch: SSH_MSG_DISCONNECT: 11 Internal server error","body":"<p>Seems like a bug or problem on the server. Check server-side log file.</p>\n\n<p>Though note that FileZilla succeeds to connect with a use of \"AES-256 CBC\". Your JSch code uses only \"AES-128 CBC\", because \"AES-256 CBC\" is not available.</p>\n\n<p>Try installing JCE to enable \"AES-256 CBC\". See <a href=\"https://stackoverflow.com/q/30846076/850848\">JSch Algorithm negotiation fail</a>.  </p>\n"},{"tags":[],"owner":{"account_id":6397551,"reputation":1348,"user_id":4961391,"accept_rate":95,"display_name":"2Big2BeSmall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1521446601,"creation_date":1521446601,"answer_id":49358208,"question_id":49349001,"body_markdown":"\r\n\r\nThis config was missing and with it, I was able to connect\r\n\r\n    Properties config = new Properties();\r\n    config.put(&quot;kex&quot;,&quot;diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1&quot;);\r\n\r\nand log:\r\n\r\n    INFO: kex: server-&gt;client aes128-cbc hmac-md5 none\r\n    INFO: kex: client-&gt;server aes128-cbc hmac-md5 none\r\n    INFO: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;2048) sent\r\n    INFO: expecting SSH_MSG_KEX_DH_GEX_GROUP\r\n    INFO: SSH_MSG_KEX_DH_GEX_INIT sent\r\n    INFO: expecting SSH_MSG_KEX_DH_GEX_REPLY\r\n    INFO: ssh_rsa_verify: signature true\r\n    WARN: Permanently added &#39;192.192.com&#39; (RSA) to the list of known hosts.\r\n    INFO: SSH_MSG_NEWKEYS sent\r\n    INFO: SSH_MSG_NEWKEYS received\r\n    INFO: SSH_MSG_SERVICE_REQUEST sent\r\n    INFO: SSH_MSG_SERVICE_ACCEPT received\r\n    INFO: Authentications that can continue: password\r\n    INFO: Next authentication method: password\r\n    INFO: Authentication succeeded (password).\r\n\r\n\r\n","title":"SFTP connection error with JSch: SSH_MSG_DISCONNECT: 11 Internal server error","body":"<p>This config was missing and with it, I was able to connect</p>\n\n<pre><code>Properties config = new Properties();\nconfig.put(\"kex\",\"diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\");\n</code></pre>\n\n<p>and log:</p>\n\n<pre><code>INFO: kex: server-&gt;client aes128-cbc hmac-md5 none\nINFO: kex: client-&gt;server aes128-cbc hmac-md5 none\nINFO: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;2048) sent\nINFO: expecting SSH_MSG_KEX_DH_GEX_GROUP\nINFO: SSH_MSG_KEX_DH_GEX_INIT sent\nINFO: expecting SSH_MSG_KEX_DH_GEX_REPLY\nINFO: ssh_rsa_verify: signature true\nWARN: Permanently added '192.192.com' (RSA) to the list of known hosts.\nINFO: SSH_MSG_NEWKEYS sent\nINFO: SSH_MSG_NEWKEYS received\nINFO: SSH_MSG_SERVICE_REQUEST sent\nINFO: SSH_MSG_SERVICE_ACCEPT received\nINFO: Authentications that can continue: password\nINFO: Next authentication method: password\nINFO: Authentication succeeded (password).\n</code></pre>\n"}],"owner":{"account_id":6397551,"reputation":1348,"user_id":4961391,"accept_rate":95,"display_name":"2Big2BeSmall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15648,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49358208,"answer_count":2,"score":4,"last_activity_date":1681880102,"creation_date":1521383308,"question_id":49349001,"body_markdown":"I was trying to retrieve a file from SFTP server - while connecting to this SFTP works with FileZilla - SFTP method.\r\n\r\nFor JSch I have tried this code using JSch \r\n\r\n\tJSch jsch = new JSch();\r\n\tProperties config = new Properties();\r\n\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\tconfig.put(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\r\n\tSession session = jsch.getSession( &quot;super_robot&quot;, &quot;192.192.192.com&quot;, 6222 );\r\n\tsession.setConfig(config );\r\n\tsession.setPassword( &quot;a1234!X@&quot; );\r\n\tsession.connect( 30000 );\r\n\r\nThough I got this error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Caused by: com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 Internal server error. \r\n    \tat com.jcraft.jsch.Session.read(Session.java:1004)\r\n    \tat com.jcraft.jsch.Session.connect(Session.java:323)\r\n\r\nWith `StandardFileSystemManager` I&#39;m also having the same error:\r\n\r\n\r\n\tSftpFileSystemConfigBuilder.getInstance().setTimeout(opts, connectionTimeout);\r\n\tSftpFileSystemConfigBuilder.getInstance().setIdentityInfo(opts);\r\n\r\n    SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(opts, &quot;no&quot;);\r\n\tStandardFileSystemManager fsManager = new StandardFileSystemManager();\r\n\tfsManager.init();\r\n\r\nGot me this error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Caused by: org.apache.commons.vfs2.FileSystemException: Could not connect to SFTP server at &quot;digital.crossix.com&quot;.\r\n    \tat org.apache.commons.vfs2.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:147)\r\n    \tat org.apache.commons.vfs2.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:79)\r\n    \t... 40 more\r\n    Caused by: com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 Internal server error. \r\n    \tat com.jcraft.jsch.Session.read(Session.java:1004)\r\n    \tat com.jcraft.jsch.Session.connect(Session.java:323)\r\n    \tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n    \tat org.apache.commons.vfs2.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:145)\r\n    \t... 41 more\r\n\r\nI have tried other solution offered in these links which didn&#39;t solve it:\r\n\r\n- https://stackoverflow.com/questions/43070939/sftp-connector-throwing-error-while-giving-encrytped-passwords-in-properties-fil \r\n\r\n- https://stackoverflow.com/questions/44653214/com-jcraft-jsch-jschexception-ssh-msg-disconnect-2-protocol-error-rcvd-type-9 \r\n\r\n- https://stackoverflow.com/questions/34351298/com-jcraft-jsch-jschexception-ssh-msg-disconnect-11-no-appropriate-prime-betwe \r\n\r\n- https://stackoverflow.com/questions/32307009/java-jsch-ssh-msg-disconnect-failed-to-read-binary-packet-data\r\n\r\nNote that none of these errors is exactly the same as the error I&#39;m facing - they are a bit similar.\r\nDidn&#39;t found someone that had the exact error I&#39;m facing.\r\n\r\nWhen I was working with FileZilla this is the log I was seeing in console:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Status:\tConnecting to 192.192.com:6222...\r\n    Trace:\tCControlSocket::SendNextCommand()\r\n    Trace:\tCSftpConnectOpData::Send() in state 0\r\n    Trace:\tGoing to execute C:\\Program Files\\FileZilla FTP Client\\fzsftp.exe\r\n    Response:\tfzSftp started, protocol_version=8\r\n    Trace:\tCSftpConnectOpData::ParseResponse() in state 0\r\n    Trace:\tCControlSocket::SendNextCommand()\r\n    Trace:\tCSftpConnectOpData::Send() in state 3\r\n    Command:\topen &quot;super_robot@192.192.com&quot; 6222\r\n    Trace:\tConnecting to 192.192.194 port 6222\r\n    Trace:\tWe claim version: SSH-2.0-FileZilla_3.30.0\r\n    Trace:\tServer version: SSH-2.0-NuaneSSH_0.8.1.0\r\n    Trace:\tUsing SSH protocol version 2\r\n    Trace:\tDoing Diffie-Hellman group exchange\r\n    Trace:\tDoing Diffie-Hellman key exchange with hash SHA-1\r\n    Trace:\tServer also has ssh-dss host key, but we don&#39;t know it\r\n    Trace:\tHost key fingerprint is:\r\n    Trace:\tssh-rsa 1024 ------------------------------------\r\n    Command:\tTrust new Hostkey: Once\r\n    Trace:\tInitialised AES-256 CBC client-&gt;server encryption\r\n    Trace:\tInitialised HMAC-SHA1 client-&gt;server MAC algorithm\r\n    Trace:\tInitialised AES-256 CBC server-&gt;client encryption\r\n    Trace:\tInitialised HMAC-SHA1 server-&gt;client MAC algorithm\r\n    Trace:\tAttempting keyboard-interactive authentication\r\n    Trace:\tUsing keyboard-interactive authentication. inst_len: 0, num_prompts: 1\r\n    Command:\tPass: ********\r\n    Trace:\tAccess granted\r\n    Trace:\tOpening session as main channel\r\n    Trace:\tOpened main channel\r\n    Trace:\tStarted a shell/command\r\n    Status:\tConnected to 192.192.com\r\n    Trace:\tCSftpConnectOpData::ParseResponse() in state 3\r\n    Trace:\tCControlSocket::ResetOperation(0)\r\n    Trace:\tCSftpConnectOpData::Reset(0) in state 3\r\n    Trace:\tCFileZillaEnginePrivate::ResetOperation(0)\r\n    Status:\tRetrieving directory listing...\r\n    Trace:\tCControlSocket::SendNextCommand()\r\n    Trace:\tCSftpListOpData::Send() in state 0\r\n    Trace:\tCSftpChangeDirOpData::Send() in state 0\r\n    Trace:\tCSftpChangeDirOpData::Send() in state 1\r\n    Command:\tpwd\r\n    Response:\tCurrent directory is: &quot;/&quot;\r\n    Trace:\tCSftpChangeDirOpData::ParseResponse() in state 1\r\n    Trace:\tCControlSocket::ResetOperation(0)\r\n    Trace:\tCControlSocket::ParseSubcommandResult(0)\r\n    Trace:\tCSftpListOpData::SubcommandResult() in state 1\r\n    Trace:\tCControlSocket::SendNextCommand()\r\n    Trace:\tCSftpListOpData::Send() in state 2\r\n    Trace:\tCSftpListOpData::Send() in state 3\r\n    Command:\tls\r\n    Status:\tListing directory /\r\n    Trace:\tCSftpListOpData::ParseResponse() in state 3\r\n    Trace:\tCControlSocket::ResetOperation(0)\r\n    Status:\tDirectory listing of &quot;/&quot; successful\r\n    Trace:\tCFileZillaEnginePrivate::ResetOperation(0)\r\n\r\nWhat can I do to solve this error?\r\n\r\nAttaching also the log from JSch\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    INFO: Connection established\r\n    INFO: Remote version string: SSH-2.0-NuaneSSH_0.8.1.0\r\n    INFO: Local version string: SSH-2.0-JSCH-0.1.54\r\n    INFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n    INFO: aes256-ctr is not available.\r\n    INFO: aes192-ctr is not available.\r\n    INFO: aes256-cbc is not available.\r\n    INFO: aes192-cbc is not available.\r\n    INFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n    INFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n    INFO: SSH_MSG_KEXINIT sent\r\n    INFO: SSH_MSG_KEXINIT received\r\n    INFO: kex: server: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\r\n    INFO: kex: server: ssh-rsa,ssh-dss\r\n    INFO: kex: server: aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\r\n    INFO: kex: server: aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\r\n    INFO: kex: server: hmac-sha1,hmac-md5\r\n    INFO: kex: server: hmac-sha1,hmac-md5\r\n    \r\n    INFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n    INFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n    INFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    \r\n    INFO: kex: server-&gt;client aes128-cbc hmac-md5 none\r\n    INFO: kex: client-&gt;server aes128-cbc hmac-md5 none\r\n    INFO: SSH_MSG_KEXDH_INIT sent\r\n    INFO: expecting SSH_MSG_KEXDH_REPLY\r\n    INFO: Disconnecting from 192.192.com port 6222\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:65)\r\n    Caused by: com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 Internal server error. \r\n    \tat com.jcraft.jsch.Session.read(Session.java:1004)\r\n    \tat com.jcraft.jsch.Session.connect(Session.java:323)\r\n    \tat com.xxxxxxx.yyyy.service.SFTPTest.main(SFTPProviderTest.java:50)\r\n    \t... 5 more\r\n\r\n","title":"SFTP connection error with JSch: SSH_MSG_DISCONNECT: 11 Internal server error","body":"<p>I was trying to retrieve a file from SFTP server - while connecting to this SFTP works with FileZilla - SFTP method.</p>\n\n<p>For JSch I have tried this code using JSch </p>\n\n<pre><code>JSch jsch = new JSch();\nProperties config = new Properties();\nconfig.put(\"StrictHostKeyChecking\", \"no\");\nconfig.put(\"PreferredAuthentications\", \"password\");\nSession session = jsch.getSession( \"super_robot\", \"192.192.192.com\", 6222 );\nsession.setConfig(config );\nsession.setPassword( \"a1234!X@\" );\nsession.connect( 30000 );\n</code></pre>\n\n<p>Though I got this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 Internal server error. \n    at com.jcraft.jsch.Session.read(Session.java:1004)\n    at com.jcraft.jsch.Session.connect(Session.java:323)\n</code></pre>\n\n<p>With <code>StandardFileSystemManager</code> I'm also having the same error:</p>\n\n<pre><code>SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, connectionTimeout);\nSftpFileSystemConfigBuilder.getInstance().setIdentityInfo(opts);\n\nSftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(opts, \"no\");\nStandardFileSystemManager fsManager = new StandardFileSystemManager();\nfsManager.init();\n</code></pre>\n\n<p>Got me this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.apache.commons.vfs2.FileSystemException: Could not connect to SFTP server at \"digital.crossix.com\".\n    at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:147)\n    at org.apache.commons.vfs2.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:79)\n    ... 40 more\nCaused by: com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 Internal server error. \n    at com.jcraft.jsch.Session.read(Session.java:1004)\n    at com.jcraft.jsch.Session.connect(Session.java:323)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:145)\n    ... 41 more\n</code></pre>\n\n<p>I have tried other solution offered in these links which didn't solve it:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/43070939/sftp-connector-throwing-error-while-giving-encrytped-passwords-in-properties-fil\">SFTP connector throwing error while giving encrytped passwords in properties file</a> </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/44653214/com-jcraft-jsch-jschexception-ssh-msg-disconnect-2-protocol-error-rcvd-type-9\">com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 2 protocol error: rcvd type 90</a> </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/34351298/com-jcraft-jsch-jschexception-ssh-msg-disconnect-11-no-appropriate-prime-betwe\">com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 No appropriate prime between 1024 and 1024 is available. en</a> </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/32307009/java-jsch-ssh-msg-disconnect-failed-to-read-binary-packet-data\">java jsch SSH_MSG_DISCONNECT Failed to read binary packet data</a></p></li>\n</ul>\n\n<p>Note that none of these errors is exactly the same as the error I'm facing - they are a bit similar.\nDidn't found someone that had the exact error I'm facing.</p>\n\n<p>When I was working with FileZilla this is the log I was seeing in console:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Status: Connecting to 192.192.com:6222...\nTrace:  CControlSocket::SendNextCommand()\nTrace:  CSftpConnectOpData::Send() in state 0\nTrace:  Going to execute C:\\Program Files\\FileZilla FTP Client\\fzsftp.exe\nResponse:   fzSftp started, protocol_version=8\nTrace:  CSftpConnectOpData::ParseResponse() in state 0\nTrace:  CControlSocket::SendNextCommand()\nTrace:  CSftpConnectOpData::Send() in state 3\nCommand:    open \"super_robot@192.192.com\" 6222\nTrace:  Connecting to 192.192.194 port 6222\nTrace:  We claim version: SSH-2.0-FileZilla_3.30.0\nTrace:  Server version: SSH-2.0-NuaneSSH_0.8.1.0\nTrace:  Using SSH protocol version 2\nTrace:  Doing Diffie-Hellman group exchange\nTrace:  Doing Diffie-Hellman key exchange with hash SHA-1\nTrace:  Server also has ssh-dss host key, but we don't know it\nTrace:  Host key fingerprint is:\nTrace:  ssh-rsa 1024 ------------------------------------\nCommand:    Trust new Hostkey: Once\nTrace:  Initialised AES-256 CBC client-&gt;server encryption\nTrace:  Initialised HMAC-SHA1 client-&gt;server MAC algorithm\nTrace:  Initialised AES-256 CBC server-&gt;client encryption\nTrace:  Initialised HMAC-SHA1 server-&gt;client MAC algorithm\nTrace:  Attempting keyboard-interactive authentication\nTrace:  Using keyboard-interactive authentication. inst_len: 0, num_prompts: 1\nCommand:    Pass: ********\nTrace:  Access granted\nTrace:  Opening session as main channel\nTrace:  Opened main channel\nTrace:  Started a shell/command\nStatus: Connected to 192.192.com\nTrace:  CSftpConnectOpData::ParseResponse() in state 3\nTrace:  CControlSocket::ResetOperation(0)\nTrace:  CSftpConnectOpData::Reset(0) in state 3\nTrace:  CFileZillaEnginePrivate::ResetOperation(0)\nStatus: Retrieving directory listing...\nTrace:  CControlSocket::SendNextCommand()\nTrace:  CSftpListOpData::Send() in state 0\nTrace:  CSftpChangeDirOpData::Send() in state 0\nTrace:  CSftpChangeDirOpData::Send() in state 1\nCommand:    pwd\nResponse:   Current directory is: \"/\"\nTrace:  CSftpChangeDirOpData::ParseResponse() in state 1\nTrace:  CControlSocket::ResetOperation(0)\nTrace:  CControlSocket::ParseSubcommandResult(0)\nTrace:  CSftpListOpData::SubcommandResult() in state 1\nTrace:  CControlSocket::SendNextCommand()\nTrace:  CSftpListOpData::Send() in state 2\nTrace:  CSftpListOpData::Send() in state 3\nCommand:    ls\nStatus: Listing directory /\nTrace:  CSftpListOpData::ParseResponse() in state 3\nTrace:  CControlSocket::ResetOperation(0)\nStatus: Directory listing of \"/\" successful\nTrace:  CFileZillaEnginePrivate::ResetOperation(0)\n</code></pre>\n\n<p>What can I do to solve this error?</p>\n\n<p>Attaching also the log from JSch</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Connection established\nINFO: Remote version string: SSH-2.0-NuaneSSH_0.8.1.0\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: aes256-ctr is not available.\nINFO: aes192-ctr is not available.\nINFO: aes256-cbc is not available.\nINFO: aes192-cbc is not available.\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\nINFO: kex: server: ssh-rsa,ssh-dss\nINFO: kex: server: aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\nINFO: kex: server: aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\nINFO: kex: server: hmac-sha1,hmac-md5\nINFO: kex: server: hmac-sha1,hmac-md5\n\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\n\nINFO: kex: server-&gt;client aes128-cbc hmac-md5 none\nINFO: kex: client-&gt;server aes128-cbc hmac-md5 none\nINFO: SSH_MSG_KEXDH_INIT sent\nINFO: expecting SSH_MSG_KEXDH_REPLY\nINFO: Disconnecting from 192.192.com port 6222\n\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:65)\nCaused by: com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 Internal server error. \n    at com.jcraft.jsch.Session.read(Session.java:1004)\n    at com.jcraft.jsch.Session.connect(Session.java:323)\n    at com.xxxxxxx.yyyy.service.SFTPTest.main(SFTPProviderTest.java:50)\n    ... 5 more\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":131,"is_accepted":true,"score":131,"last_activity_date":1267055587,"creation_date":1267055587,"answer_id":2330584,"question_id":2330569,"body_markdown":"&gt; Does ByteArrayOutputStream.close()\r\n&gt; really release the memory?\r\n\r\nNo. It does absolutely nothing. You can look at its source code:\r\n\r\n    public void close() throws IOException {\r\n    }\r\n\r\nTo release the memory, make sure there are no references to it and let the Garbage Collector do its thing. Just like with any other normal object.\r\n\r\nFile- and Socket-based streams are special because they use non-memory OS resources (file handles) that you can run out of independantly of memory. That&#39;s why closing them explicitly is important. But this does not apply to the purely memory-based `ByteArrayOutputStream`.","title":"Closing a ByteArrayOutputStream has no effect?","body":"<blockquote>\n  <p>Does ByteArrayOutputStream.close()\n  really release the memory?</p>\n</blockquote>\n\n<p>No. It does absolutely nothing. You can look at its source code:</p>\n\n<pre><code>public void close() throws IOException {\n}\n</code></pre>\n\n<p>To release the memory, make sure there are no references to it and let the Garbage Collector do its thing. Just like with any other normal object.</p>\n\n<p>File- and Socket-based streams are special because they use non-memory OS resources (file handles) that you can run out of independantly of memory. That's why closing them explicitly is important. But this does not apply to the purely memory-based <code>ByteArrayOutputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":13406436,"reputation":2189,"user_id":9895452,"display_name":"Sandeep Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681880042,"creation_date":1681880042,"answer_id":76050857,"question_id":2330569,"body_markdown":"When you call `close()` on a `ByteArrayOutputStream`, it will release any system resources associated with the stream. This includes flushing any buffered data to the underlying byte array and closing the stream. After calling `close()`, any further attempts to write to the stream will result in an IOException.\r\n\r\nIf you do not call `close()` explicitly, the stream will still be closed automatically when the garbage collector finalizes the object. However, relying on the garbage collector to close the stream is not recommended, as it can lead to resource leaks and unexpected behavior.\r\n\r\nIt is good practice to always call `close()` on output streams when you are done using them, to ensure that any buffered data is written and the resources are properly released. This is particularly important if you are working with streams that interact with external resources, such as files or network sockets.","title":"Closing a ByteArrayOutputStream has no effect?","body":"<p>When you call <code>close()</code> on a <code>ByteArrayOutputStream</code>, it will release any system resources associated with the stream. This includes flushing any buffered data to the underlying byte array and closing the stream. After calling <code>close()</code>, any further attempts to write to the stream will result in an IOException.</p>\n<p>If you do not call <code>close()</code> explicitly, the stream will still be closed automatically when the garbage collector finalizes the object. However, relying on the garbage collector to close the stream is not recommended, as it can lead to resource leaks and unexpected behavior.</p>\n<p>It is good practice to always call <code>close()</code> on output streams when you are done using them, to ensure that any buffered data is written and the resources are properly released. This is particularly important if you are working with streams that interact with external resources, such as files or network sockets.</p>\n"}],"owner":{"account_id":93708,"reputation":17827,"user_id":256239,"accept_rate":61,"display_name":"user256239"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37070,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":2330584,"answer_count":2,"score":71,"last_activity_date":1681880042,"creation_date":1267055322,"question_id":2330569,"body_markdown":"What does this statement, &quot;Closing a `ByteArrayOutputStream` has no effect&quot; (&lt;http://java.sun.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#close()&gt;) mean?\r\n\r\nI want to make sure the memory in `ByteArrayOutputStream` gets released. Does `ByteArrayOutputStream.close()` really release the memory?\r\n\r\nThanks.","title":"Closing a ByteArrayOutputStream has no effect?","body":"<p>What does this statement, \"Closing a <code>ByteArrayOutputStream</code> has no effect\" (<a href=\"http://java.sun.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#close()\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#close()</a>) mean?</p>\n\n<p>I want to make sure the memory in <code>ByteArrayOutputStream</code> gets released. Does <code>ByteArrayOutputStream.close()</code> really release the memory?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":0,"creation_date":1445984246,"post_id":5064733,"comment_id":54552855,"body_markdown":"I had a similar issue which turned out to be the windows firewall.","body":"I had a similar issue which turned out to be the windows firewall."},{"owner":{"account_id":2018340,"reputation":915,"user_id":1805077,"accept_rate":89,"display_name":"Felipe Le&#227;o"},"score":0,"creation_date":1547575647,"post_id":5064733,"comment_id":95235845,"body_markdown":"Probably some undead process is keeping your tomcat alive. kill the process either by finding its ID and terminating it or by restarting your machine.","body":"Probably some undead process is keeping your tomcat alive. kill the process either by finding its ID and terminating it or by restarting your machine."},{"owner":{"account_id":1003835,"reputation":1376,"user_id":1018075,"accept_rate":74,"display_name":"Mdhar9e"},"score":0,"creation_date":1564759340,"post_id":5064733,"comment_id":101148853,"body_markdown":"you can use these command to stop the tomcat services already running from the command console. `netstat -ano | findStr 8080` to find the running services and then find the process id and copy the pid and run the command again as `taskkill /F /PID pid_number`","body":"you can use these command to stop the tomcat services already running from the command console. <code>netstat -ano | findStr 8080</code> to find the running services and then find the process id and copy the pid and run the command again as <code>taskkill &#47;F &#47;PID pid_number</code>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":502,"is_accepted":true,"score":502,"last_activity_date":1530624933,"creation_date":1298291033,"answer_id":5065874,"question_id":5064733,"body_markdown":"You&#39;ve another instance of Tomcat already running. You can confirm this by going to `http://localhost:8080` in your webbrowser and check if you get the Tomcat default home page or a Tomcat-specific 404 error page. Both are equally valid evidence that Tomcat runs fine; if it didn&#39;t, then you would have gotten a browser specific HTTP connection timeout error message.\r\n\r\nYou need to shutdown it. Go to `/bin` subfolder of the Tomcat installation folder and execute the `shutdown.bat` (Windows) or `shutdown.sh` (Unix) script. If in vain, close Eclipse and then open the task manager and kill all `java` and/or `javaw` processes. \r\n\r\nOr if you actually installed it as a Windows service for some reason (this is namely intented for production and is unhelpful when you&#39;re just developing), open the services manager (*Start &gt; Run &gt; services.msc*) and stop the Tomcat service. If necessary, uninstall the Windows service altogether. For development, just the ZIP file is sufficient.\r\n\r\nOr if your *actual* intent is to run two instances of Tomcat simultaneously, then you have to configure the second instance to listen on different ports. Consult the Tomcat documentation for more detail.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>You've another instance of Tomcat already running. You can confirm this by going to <code>http://localhost:8080</code> in your webbrowser and check if you get the Tomcat default home page or a Tomcat-specific 404 error page. Both are equally valid evidence that Tomcat runs fine; if it didn't, then you would have gotten a browser specific HTTP connection timeout error message.</p>\n\n<p>You need to shutdown it. Go to <code>/bin</code> subfolder of the Tomcat installation folder and execute the <code>shutdown.bat</code> (Windows) or <code>shutdown.sh</code> (Unix) script. If in vain, close Eclipse and then open the task manager and kill all <code>java</code> and/or <code>javaw</code> processes. </p>\n\n<p>Or if you actually installed it as a Windows service for some reason (this is namely intented for production and is unhelpful when you're just developing), open the services manager (<em>Start > Run > services.msc</em>) and stop the Tomcat service. If necessary, uninstall the Windows service altogether. For development, just the ZIP file is sufficient.</p>\n\n<p>Or if your <em>actual</em> intent is to run two instances of Tomcat simultaneously, then you have to configure the second instance to listen on different ports. Consult the Tomcat documentation for more detail.</p>\n"},{"tags":[],"owner":{"account_id":442785,"reputation":101,"user_id":833603,"display_name":"giocorito"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1320836838,"creation_date":1320836838,"answer_id":8064108,"question_id":5064733,"body_markdown":"I have no another instance of Tomcat running ad no other process using &quot;Tomcat port&quot; (in my case, the 8088 port).\r\nEclipse send the same message on starting Tomcat:\r\n\r\n*....The server may already be running in another process, or a system process may be using the port. To start this server you will need to stop the other process or change the port number(s).*\r\n\r\nI solve the problem in this way:\r\n\r\n- go to bin of tomcat by prompt\r\n- launch startup.bat\r\n- launch shutdown.bat\r\n- start tomcat by Eclipse","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>I have no another instance of Tomcat running ad no other process using \"Tomcat port\" (in my case, the 8088 port).\nEclipse send the same message on starting Tomcat:</p>\n\n<p><em>....The server may already be running in another process, or a system process may be using the port. To start this server you will need to stop the other process or change the port number(s).</em></p>\n\n<p>I solve the problem in this way:</p>\n\n<ul>\n<li>go to bin of tomcat by prompt</li>\n<li>launch startup.bat</li>\n<li>launch shutdown.bat</li>\n<li>start tomcat by Eclipse</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":404434,"reputation":115,"user_id":772753,"display_name":"Edmund Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380740733,"creation_date":1326363651,"answer_id":8833421,"question_id":5064733,"body_markdown":"Refer to the following blog &quot;how to kill tomcat without have to restart your computer&quot;\r\n\r\nhttp://stanicblog.blogspot.fr/2012/01/how-to-kill-apache-tomcat-without.html\r\n\r\nHope this will help someone in the future.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>Refer to the following blog \"how to kill tomcat without have to restart your computer\"</p>\n\n<p><a href=\"http://stanicblog.blogspot.fr/2012/01/how-to-kill-apache-tomcat-without.html\" rel=\"nofollow\">http://stanicblog.blogspot.fr/2012/01/how-to-kill-apache-tomcat-without.html</a></p>\n\n<p>Hope this will help someone in the future.</p>\n"},{"tags":[],"owner":{"account_id":1235947,"reputation":19,"user_id":1199525,"display_name":"Jitendra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328787343,"creation_date":1328787343,"answer_id":9210154,"question_id":5064733,"body_markdown":"If you are in Java EE prospective in Eclipse and trying to start the Tomcat Server in Eclipse in debug mode, then you will get such errors. You must switch to debug prospective in Eclipse. I have solved my problem like this. ","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>If you are in Java EE prospective in Eclipse and trying to start the Tomcat Server in Eclipse in debug mode, then you will get such errors. You must switch to debug prospective in Eclipse. I have solved my problem like this. </p>\n"},{"tags":[],"owner":{"account_id":1440693,"reputation":161,"user_id":1360944,"display_name":"abc"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1452953327,"creation_date":1335523885,"answer_id":10349286,"question_id":5064733,"body_markdown":"If you use Eclipse then double click on servers and double click on tomcat server then one file will open. In that file change HTTP port to some other port number and save(&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;) then again start the server.\r\n","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>If you use Eclipse then double click on servers and double click on tomcat server then one file will open. In that file change HTTP port to some other port number and save(<kbd>Ctrl</kbd>+<kbd>S</kbd>) then again start the server.</p>\n"},{"tags":[],"owner":{"account_id":1552993,"reputation":321,"user_id":1444952,"display_name":"Mau"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1452595341,"creation_date":1339170956,"answer_id":10952187,"question_id":5064733,"body_markdown":"If you are running on windows try this in the command line prompt:\r\n\r\n    netstat -ano\r\n\r\nThis will show all ports in use and the process id PID # of the process that is using that port.\r\nThen &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Del&lt;/kbd&gt; and open Task Manager to see which process is that.\r\n\r\nYou can then choose either to close/stop it or configure your server to use another port.\r\nTo check if the new choosen port (let&#39;s say 8010) is available do this:\r\n\r\n    netstat -ano | grep 8010\r\n\r\nIf it does not return any lines then you are fine.\r\n\r\nTo change the port go to the Server view, open **server.xml** and change the port there.\r\nMine has this entry:\r\n\r\n    Connector port=&quot;8010&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot;\r\n","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>If you are running on windows try this in the command line prompt:</p>\n\n<pre><code>netstat -ano\n</code></pre>\n\n<p>This will show all ports in use and the process id PID # of the process that is using that port.\nThen <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> and open Task Manager to see which process is that.</p>\n\n<p>You can then choose either to close/stop it or configure your server to use another port.\nTo check if the new choosen port (let's say 8010) is available do this:</p>\n\n<pre><code>netstat -ano | grep 8010\n</code></pre>\n\n<p>If it does not return any lines then you are fine.</p>\n\n<p>To change the port go to the Server view, open <strong>server.xml</strong> and change the port there.\nMine has this entry:</p>\n\n<pre><code>Connector port=\"8010\" protocol=\"AJP/1.3\" redirectPort=\"8443\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":442785,"reputation":101,"user_id":833603,"display_name":"giocorito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354198187,"creation_date":1354198187,"answer_id":13627595,"question_id":5064733,"body_markdown":"On Eclipse make a raw delete of Tomcat configuration folder under project &quot;Servers&quot;.\r\nI tried it as last hope and it worked.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>On Eclipse make a raw delete of Tomcat configuration folder under project \"Servers\".\nI tried it as last hope and it worked.</p>\n"},{"tags":[],"owner":{"account_id":2134615,"reputation":1877,"user_id":1894705,"display_name":"Shan"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1462993457,"creation_date":1355228248,"answer_id":13820271,"question_id":5064733,"body_markdown":"    kill $(ps -aef | grep java | grep apache | awk &#39;{print $2}&#39;)\r\n\r\n- no need to restart Eclipse\r\n- if you get the above error, just enter this line in terminal \r\n- again start the tomcat in Eclipse.\r\n- works only in Linux based system ( Ubuntu ..etc )","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<pre><code>kill $(ps -aef | grep java | grep apache | awk '{print $2}')\n</code></pre>\n\n<ul>\n<li>no need to restart Eclipse</li>\n<li>if you get the above error, just enter this line in terminal </li>\n<li>again start the tomcat in Eclipse.</li>\n<li>works only in Linux based system ( Ubuntu ..etc )</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2235273,"reputation":71,"user_id":1971826,"display_name":"DeVilCry2ME"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1357968144,"creation_date":1357968144,"answer_id":14290525,"question_id":5064733,"body_markdown":"What I did after reading all the suggested answer and as I know my port was already in use. I double clicked on Tomcat under the Servers tab in eclipse and it opened overview information and then find port information. Just changed conflicting port as mine was 8009 port (error mentioned during starting the server). I have changed it to 8008 and it works fine. Give a try if the changed port would not be in use server will start.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>What I did after reading all the suggested answer and as I know my port was already in use. I double clicked on Tomcat under the Servers tab in eclipse and it opened overview information and then find port information. Just changed conflicting port as mine was 8009 port (error mentioned during starting the server). I have changed it to 8008 and it works fine. Give a try if the changed port would not be in use server will start.</p>\n"},{"tags":[],"owner":{"account_id":2351678,"reputation":632,"user_id":2060322,"accept_rate":60,"display_name":"Ashu Phaugat"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1360562695,"creation_date":1360561226,"answer_id":14806508,"question_id":5064733,"body_markdown":"If Eclipse says \r\n\r\n&gt; Several ports (8005, 8080, 8009) required by Tomcat v6.0 Server at localhost are already in use\r\n\r\nThis error comes because tomcat may be running in background so first stop that server..follow the below details.\r\n\r\nSolution is:\r\n\r\n 1. Open the &quot;console&quot; view (window-&gt;show view-&gt;Console)\r\n 2. Then stop the tomcat server.\r\n 3. Then open the &quot;server&quot; view and start the server it will work.\r\n\r\nThanks!","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>If Eclipse says </p>\n\n<blockquote>\n  <p>Several ports (8005, 8080, 8009) required by Tomcat v6.0 Server at localhost are already in use</p>\n</blockquote>\n\n<p>This error comes because tomcat may be running in background so first stop that server..follow the below details.</p>\n\n<p>Solution is:</p>\n\n<ol>\n<li>Open the \"console\" view (window->show view->Console)</li>\n<li>Then stop the tomcat server.</li>\n<li>Then open the \"server\" view and start the server it will work.</li>\n</ol>\n\n<p>Thanks!</p>\n"},{"tags":[],"owner":{"account_id":2668425,"reputation":11,"user_id":2306282,"display_name":"Laxman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366613860,"creation_date":1366613860,"answer_id":16141147,"question_id":5064733,"body_markdown":"In case of windows, I experienced a new stuff...\r\nstopping tomcat from /bin folder will immediately not releasing the port 8080. It takes around 5-10 mins to release the port. After 10 mins again if i try to run my project\r\nRun-&gt; Run on server .. it allows to run. \r\n\r\nI&#39;m unsure whether my understanding is correct!","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>In case of windows, I experienced a new stuff...\nstopping tomcat from /bin folder will immediately not releasing the port 8080. It takes around 5-10 mins to release the port. After 10 mins again if i try to run my project\nRun-> Run on server .. it allows to run. </p>\n\n<p>I'm unsure whether my understanding is correct!</p>\n"},{"tags":[],"owner":{"account_id":2018340,"reputation":915,"user_id":1805077,"accept_rate":89,"display_name":"Felipe Le&#227;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390909482,"creation_date":1390909482,"answer_id":21404769,"question_id":5064733,"body_markdown":"The simpler fix that works for me is deleting my current deployed webapps from tomcat through the &quot;Server&quot; tab. Once I remove them the problem goes away. Simply re-deploy your project by going on Run As &gt; Run on Server.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>The simpler fix that works for me is deleting my current deployed webapps from tomcat through the \"Server\" tab. Once I remove them the problem goes away. Simply re-deploy your project by going on Run As > Run on Server.</p>\n"},{"tags":[],"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483343201,"creation_date":1401791293,"answer_id":24012817,"question_id":5064733,"body_markdown":"&gt;Several ports (8005, 8080, 8009) required by Tomcat vX.X Server at localhost are already in use\n\nTo check whether another instance of Tomcat already running or some other process is using the ports you can use:\n\n&gt;`netstat -b -a` in command prompt for windows. This lists the ports in use and gives you the executable that&#39;s using each one. You need to be in the admin group to do this.\n\nYou might get something like this:\n\n&gt;`TCP   192.168.0.1:8009      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]`\n&gt;\n  &gt;`TCP   192.168.0.1:8080      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]`\n  &gt;\n  &gt;`TCP   192.168.0.1:8005      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]`\n\n\nOpen task manager &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Esc&lt;/kbd&gt;, and kill `Tomcat7.exe` or any other process using these ports.\n","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<blockquote>\n<p>Several ports (8005, 8080, 8009) required by Tomcat vX.X Server at localhost are already in use</p>\n</blockquote>\n<p>To check whether another instance of Tomcat already running or some other process is using the ports you can use:</p>\n<blockquote>\n<p><code>netstat -b -a</code> in command prompt for windows. This lists the ports in use and gives you the executable that's using each one. You need to be in the admin group to do this.</p>\n</blockquote>\n<p>You might get something like this:</p>\n<blockquote>\n<p><code>TCP   192.168.0.1:8009      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]</code></p>\n<p><code>TCP   192.168.0.1:8080      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]</code></p>\n<p><code>TCP   192.168.0.1:8005      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]</code></p>\n</blockquote>\n<p>Open task manager <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Esc</kbd>, and kill <code>Tomcat7.exe</code> or any other process using these ports.</p>\n"},{"tags":[],"owner":{"account_id":984837,"reputation":1552,"user_id":1003629,"accept_rate":71,"display_name":"Shivendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403853609,"creation_date":1403853609,"answer_id":24446140,"question_id":5064733,"body_markdown":"It occurs when others in the project are also using the same port numbers as you are using!\r\ndouble click tomcat server, change port numbers to anything 8585 or whatever. The code will now begin to run!","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>It occurs when others in the project are also using the same port numbers as you are using!\ndouble click tomcat server, change port numbers to anything 8585 or whatever. The code will now begin to run!</p>\n"},{"tags":[],"owner":{"account_id":2051975,"reputation":433,"user_id":1830841,"accept_rate":86,"display_name":"Tiny Jaguar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408139844,"creation_date":1408139844,"answer_id":25334782,"question_id":5064733,"body_markdown":"Sometimes if the ports are not freed even after attempting shutdown.bat what @BalusC suggested,you can kill the javaw process. Do following steps :\r\n\r\n 1. Click on Start Menu and open &quot;Windows powershell&quot;\r\n 2. Right click before opening and select &quot;Run as administrator&quot;\r\n 3. Enter command ps. You may see a image as follows :\r\n![Powershell showing current proesses running][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jTupW.jpg\r\n\r\n 4. See the process number of process &quot;javaw&quot;.The process number is the rightmost number in the columns, I have highlighted in the image process number of javaw for example. \r\n\r\n 5. Enter command kill &lt;process-number&gt;. javaw is killed and now you must be able to run the program.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>Sometimes if the ports are not freed even after attempting shutdown.bat what @BalusC suggested,you can kill the javaw process. Do following steps :</p>\n\n<ol>\n<li>Click on Start Menu and open \"Windows powershell\"</li>\n<li>Right click before opening and select \"Run as administrator\"</li>\n<li><p>Enter command ps. You may see a image as follows :\n<img src=\"https://i.stack.imgur.com/jTupW.jpg\" alt=\"Powershell showing current proesses running\"></p></li>\n<li><p>See the process number of process \"javaw\".The process number is the rightmost number in the columns, I have highlighted in the image process number of javaw for example. </p></li>\n<li><p>Enter command kill . javaw is killed and now you must be able to run the program.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3252261,"reputation":916,"user_id":2742213,"accept_rate":100,"display_name":"shivadarshan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1412150950,"creation_date":1412150950,"answer_id":26136890,"question_id":5064733,"body_markdown":"Easy way to solve your problem:\r\n\r\nThe server may already be running in another process, or a system process may be using the port. In order to kill that port, do the following:\r\n\r\n1) Download **TCPView(only 285kb)** from following link.\r\n\r\n   &lt;http://technet.microsoft.com/en-in/sysinternals/bb897437.aspx&gt;\r\n\r\n2) Extract folder and start **TCPView** application.\r\n\r\n3) Right click on **java.exe**(because 8009,8005 ports are commonly used by java process) and select **End Process** option.\r\n\r\nthis would stop another process easily.. \r\n\r\n**NOTE**: Running **TOMCATPATH/bin/shutdown.bat** may not shutdown Tomcat when it contains some demon or unmanaged \r\n      threads. In such cases **TCPView** works fine without any issues.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>Easy way to solve your problem:</p>\n\n<p>The server may already be running in another process, or a system process may be using the port. In order to kill that port, do the following:</p>\n\n<p>1) Download <strong>TCPView(only 285kb)</strong> from following link.</p>\n\n<p><a href=\"http://technet.microsoft.com/en-in/sysinternals/bb897437.aspx\" rel=\"nofollow\">http://technet.microsoft.com/en-in/sysinternals/bb897437.aspx</a></p>\n\n<p>2) Extract folder and start <strong>TCPView</strong> application.</p>\n\n<p>3) Right click on <strong>java.exe</strong>(because 8009,8005 ports are commonly used by java process) and select <strong>End Process</strong> option.</p>\n\n<p>this would stop another process easily.. </p>\n\n<p><strong>NOTE</strong>: Running <strong>TOMCATPATH/bin/shutdown.bat</strong> may not shutdown Tomcat when it contains some demon or unmanaged \n      threads. In such cases <strong>TCPView</strong> works fine without any issues.</p>\n"},{"tags":[],"owner":{"account_id":887347,"reputation":7368,"user_id":926460,"accept_rate":74,"display_name":"Timeless"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1582729251,"creation_date":1429084656,"answer_id":29644654,"question_id":5064733,"body_markdown":"If you are on mac environment, [here][1] is what I did.\r\n\r\nFind the process id running on this port from terminal, eg, 8080:\r\n\r\n    lsof -i :8080\r\n\r\n\r\n\r\nand kill it:\r\n\r\n    kill -9 &lt;PID&gt;  \r\n\r\n\r\nExample:\r\n\r\nYou may see following result:\r\n\r\n    MacSys:bin krunal.$ lsof -i :8080\r\n\r\n    COMMAND   PID     USER   FD   TYPE     DEVICE  SIZE/OFF   NODE  NAME\r\n    java     21347   krunal  52u  IPv6      XXX      0t0      TCP  *:http-xxx (LISTEN)\r\n\r\nand kill it: (`kill -9 21347`)\r\n\r\n  [1]: https://stackoverflow.com/a/18706913/926460","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>If you are on mac environment, <a href=\"https://stackoverflow.com/a/18706913/926460\">here</a> is what I did.</p>\n\n<p>Find the process id running on this port from terminal, eg, 8080:</p>\n\n<pre><code>lsof -i :8080\n</code></pre>\n\n<p>and kill it:</p>\n\n<pre><code>kill -9 &lt;PID&gt;  \n</code></pre>\n\n<p>Example:</p>\n\n<p>You may see following result:</p>\n\n<pre><code>MacSys:bin krunal.$ lsof -i :8080\n\nCOMMAND   PID     USER   FD   TYPE     DEVICE  SIZE/OFF   NODE  NAME\njava     21347   krunal  52u  IPv6      XXX      0t0      TCP  *:http-xxx (LISTEN)\n</code></pre>\n\n<p>and kill it: (<code>kill -9 21347</code>)</p>\n"},{"tags":[],"owner":{"account_id":1360484,"reputation":1310,"user_id":1607510,"accept_rate":60,"display_name":"Sandeep Bhardwaj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1444646961,"creation_date":1444646961,"answer_id":33079253,"question_id":5064733,"body_markdown":"**Step 1:** **netstat -a -o -n** and it will bring up a network list,search for the local address like 127.0.0.1:8080 and note the PID (eq 3624)    \r\n\r\n    C:\\&gt;netstat -a -o -n\r\n**Step2 :** **taskkill /F /PID 3624** . Run this command to kill that process.\r\n\r\n    C:\\&gt;taskkill /F /PID 3624\r\n\r\nlink to [post][1]\r\n\r\n\r\n  [1]: http://sandeepbhardwaj.github.io/2011/11/28/several-ports-8005-8080-8009-required.html","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p><strong>Step 1:</strong> <strong>netstat -a -o -n</strong> and it will bring up a network list,search for the local address like 127.0.0.1:8080 and note the PID (eq 3624)    </p>\n\n<pre><code>C:\\&gt;netstat -a -o -n\n</code></pre>\n\n<p><strong>Step2 :</strong> <strong>taskkill /F /PID 3624</strong> . Run this command to kill that process.</p>\n\n<pre><code>C:\\&gt;taskkill /F /PID 3624\n</code></pre>\n\n<p>link to <a href=\"http://sandeepbhardwaj.github.io/2011/11/28/several-ports-8005-8080-8009-required.html\" rel=\"noreferrer\">post</a></p>\n"},{"tags":[],"owner":{"account_id":4794389,"reputation":951,"user_id":5123380,"display_name":"Gauranga"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1527750144,"creation_date":1447927703,"answer_id":33800763,"question_id":5064733,"body_markdown":"***On Windows use command*** for stopping the already running tomcat instance and try running it again in eclipse, it may work. \r\n\r\n    net stop tomcat7 \r\nOr you can ***change the port in server&#39;s XML*** if you just want to run on some other ports. ","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p><strong><em>On Windows use command</em></strong> for stopping the already running tomcat instance and try running it again in eclipse, it may work. </p>\n\n<pre><code>net stop tomcat7 \n</code></pre>\n\n<p>Or you can <strong><em>change the port in server's XML</em></strong> if you just want to run on some other ports. </p>\n"},{"tags":[],"owner":{"account_id":4533323,"reputation":2380,"user_id":3683187,"accept_rate":63,"display_name":"Xharlie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459010580,"creation_date":1459010580,"answer_id":36237964,"question_id":5064733,"body_markdown":"The problem often arises when Apache Tomcat fails to terminate, properly, even though a shutdown instruction was sent. In my case, using Tomcat 8, this happens with annoying regularity. Luckily, you can use Windows PowerShell and the `netstat` command to create a simple script to kill the process.\r\n\r\nThe following PowerShell script will parse the output from `netstat` to find any process that is listening on `127.0.0.1:8005`, extract its PID and then kill that process:\r\n\r\n    netstat -a -o -n `\r\n     | select -skip 4 `\r\n     | % {$a = $_ -split &#39; {3,}&#39;; New-Object &#39;PSObject&#39; -Property @{Original=$_;Fields=$a}} `\r\n     | ? {$_.Fields[1] -match &#39;127\\.0\\.0\\.1\\:8005$&#39;} `\r\n     | % {Write-Host &quot;Killing PID&quot; $_.Fields[4] &quot;...&quot;; taskkill /F /PID $_.Fields[4] }\r\n\r\nIf your `server.xml` configures Tomcat to use a different port or IP, edit the regular expression on the script&#39;s fourth line accordingly.\r\n\r\nFinally, I should point out that the situation is better on Linux because you can instruct Tomcat to save its PID to a file at startup-time and use a switch to force the shutdown, later - the shutdown script for &#39;nix systems already features the ability to kill the process and the sleuth-work with `netstat` is not required.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>The problem often arises when Apache Tomcat fails to terminate, properly, even though a shutdown instruction was sent. In my case, using Tomcat 8, this happens with annoying regularity. Luckily, you can use Windows PowerShell and the <code>netstat</code> command to create a simple script to kill the process.</p>\n\n<p>The following PowerShell script will parse the output from <code>netstat</code> to find any process that is listening on <code>127.0.0.1:8005</code>, extract its PID and then kill that process:</p>\n\n<pre><code>netstat -a -o -n `\n | select -skip 4 `\n | % {$a = $_ -split ' {3,}'; New-Object 'PSObject' -Property @{Original=$_;Fields=$a}} `\n | ? {$_.Fields[1] -match '127\\.0\\.0\\.1\\:8005$'} `\n | % {Write-Host \"Killing PID\" $_.Fields[4] \"...\"; taskkill /F /PID $_.Fields[4] }\n</code></pre>\n\n<p>If your <code>server.xml</code> configures Tomcat to use a different port or IP, edit the regular expression on the script's fourth line accordingly.</p>\n\n<p>Finally, I should point out that the situation is better on Linux because you can instruct Tomcat to save its PID to a file at startup-time and use a switch to force the shutdown, later - the shutdown script for 'nix systems already features the ability to kill the process and the sleuth-work with <code>netstat</code> is not required.</p>\n"},{"tags":[],"owner":{"account_id":5264277,"reputation":81,"user_id":4206519,"display_name":"Pankaj Barnwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460427350,"creation_date":1460427350,"answer_id":36562492,"question_id":5064733,"body_markdown":"How to kill a windows service using PID - \r\n\r\n 1. open command prompt and type `netstat -ano`\r\n 2. find the PID of the ports which are in used, in this case, it will be 8080, 8005,8009. Let&#39;s say PID of these ports are 5760. \r\n 3. Now Type `taskkill /f /pid 5760` \r\n 4. it will close the PID and ports will be available for use. Now you can start tomcat as normal by Windows services or by eclipse itself.\r\n\r\nThanks\r\n\r\n[kill a Windows service that&#39;s stuck on stopping or starting][1]\r\n\r\n\r\n  [1]: http://www.examiner.com/list/how-to-kill-a-windows-service-that-s-stuck-on-stopping-or-starting","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>How to kill a windows service using PID - </p>\n\n<ol>\n<li>open command prompt and type <code>netstat -ano</code></li>\n<li>find the PID of the ports which are in used, in this case, it will be 8080, 8005,8009. Let's say PID of these ports are 5760. </li>\n<li>Now Type <code>taskkill /f /pid 5760</code> </li>\n<li>it will close the PID and ports will be available for use. Now you can start tomcat as normal by Windows services or by eclipse itself.</li>\n</ol>\n\n<p>Thanks</p>\n\n<p><a href=\"http://www.examiner.com/list/how-to-kill-a-windows-service-that-s-stuck-on-stopping-or-starting\" rel=\"nofollow\">kill a Windows service that's stuck on stopping or starting</a></p>\n"},{"tags":[],"owner":{"account_id":5275920,"reputation":1627,"user_id":4212710,"display_name":"typoerrpr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463369260,"creation_date":1463368719,"answer_id":37246227,"question_id":5064733,"body_markdown":"Here&#39;s one more option to try if none of the efforts above helped. **You might be using Eclipse from a Shared Drive (for eg, H:)**. If so, move/copy it the entire Eclipse directory to C: and try again.\r\n\r\nMy Eclipse could not open ports for Tomcat server (with the above error), nor even connect to internet. I also tried another Tomcat plugin (Sysdeo) which failed to open the ports too.\r\n\r\nThese are the options I tried:\r\n\r\n**Check and Kill Other Tomcat Instances**\r\n\r\n- In command prompt, `netstat -ano` and check if any other processes are using the conflicted ports.\r\n- Find the PID and kill it\r\n- Try starting the server again.\r\n\r\n**Change Tomcat Ports in Eclipse**\r\n\r\n - In Eclipse Server tab, double click the Tomcat instance. This will open the configuration tab.\r\n - Under Ports, change the port numbers. (for eg, 18080).\r\n\r\n**Kill java.exe and javaw**\r\n\r\n - In Task Manager, find and kill java.exe and javaw (see https://stackoverflow.com/a/25334782/4212710 and https://stackoverflow.com/a/26136890/4212710)\r\n - Try starting the server again.\r\n\r\n\r\nSee my other answer for Eclipse not connecting to Internet (https://stackoverflow.com/a/37246087/4212710).","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>Here's one more option to try if none of the efforts above helped. <strong>You might be using Eclipse from a Shared Drive (for eg, H:)</strong>. If so, move/copy it the entire Eclipse directory to C: and try again.</p>\n\n<p>My Eclipse could not open ports for Tomcat server (with the above error), nor even connect to internet. I also tried another Tomcat plugin (Sysdeo) which failed to open the ports too.</p>\n\n<p>These are the options I tried:</p>\n\n<p><strong>Check and Kill Other Tomcat Instances</strong></p>\n\n<ul>\n<li>In command prompt, <code>netstat -ano</code> and check if any other processes are using the conflicted ports.</li>\n<li>Find the PID and kill it</li>\n<li>Try starting the server again.</li>\n</ul>\n\n<p><strong>Change Tomcat Ports in Eclipse</strong></p>\n\n<ul>\n<li>In Eclipse Server tab, double click the Tomcat instance. This will open the configuration tab.</li>\n<li>Under Ports, change the port numbers. (for eg, 18080).</li>\n</ul>\n\n<p><strong>Kill java.exe and javaw</strong></p>\n\n<ul>\n<li>In Task Manager, find and kill java.exe and javaw (see <a href=\"https://stackoverflow.com/a/25334782/4212710\">https://stackoverflow.com/a/25334782/4212710</a> and <a href=\"https://stackoverflow.com/a/26136890/4212710\">https://stackoverflow.com/a/26136890/4212710</a>)</li>\n<li>Try starting the server again.</li>\n</ul>\n\n<p>See my other answer for Eclipse not connecting to Internet (<a href=\"https://stackoverflow.com/a/37246087/4212710\">https://stackoverflow.com/a/37246087/4212710</a>).</p>\n"},{"tags":[],"owner":{"account_id":4940585,"reputation":1175,"user_id":3977387,"accept_rate":50,"display_name":"Sachindra N. Pandey"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1466755228,"creation_date":1466755228,"answer_id":38008476,"question_id":5064733,"body_markdown":"Steps to free port which is already used to run tomcat server in Eclipse\r\n\r\nFor example , suppose 8080 port is used , we need to make free 8080 to run tomcat\r\n\r\nStep 1:\r\n\r\nC:\\Users\\username&gt;netstat -o -n -a | findstr 0.0:8080 \r\n\r\nTCP    0.0.0.0:3000      0.0.0.0:0              LISTENING       3116\r\n\r\nNow , we can see that LISTENING port is 3116 for 8080 ,\r\n \r\nWe need to kill 3116 now\r\n\r\nStep 2:-\r\n\r\nC:\\Users\\username&gt;taskkill /F /PID 3116\r\n\r\nStep 3:\r\nGo to Eclipse and start Server , it will run \r\n","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>Steps to free port which is already used to run tomcat server in Eclipse</p>\n\n<p>For example , suppose 8080 port is used , we need to make free 8080 to run tomcat</p>\n\n<p>Step 1:</p>\n\n<p>C:\\Users\\username>netstat -o -n -a | findstr 0.0:8080 </p>\n\n<p>TCP    0.0.0.0:3000      0.0.0.0:0              LISTENING       3116</p>\n\n<p>Now , we can see that LISTENING port is 3116 for 8080 ,</p>\n\n<p>We need to kill 3116 now</p>\n\n<p>Step 2:-</p>\n\n<p>C:\\Users\\username>taskkill /F /PID 3116</p>\n\n<p>Step 3:\nGo to Eclipse and start Server , it will run </p>\n"},{"tags":[],"owner":{"account_id":3268751,"reputation":1481,"user_id":2752615,"accept_rate":67,"display_name":"Arif Acar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482998008,"creation_date":1482998008,"answer_id":41375377,"question_id":5064733,"body_markdown":"For windows users:\r\n\r\nGo to Task Manager directly with CTRL+SHIFT+ESC key combination.\r\n\r\nKill the &quot;java.exe&quot; processes by right clicking and selecting &quot;End Task&quot;.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>For windows users:</p>\n\n<p>Go to Task Manager directly with CTRL+SHIFT+ESC key combination.</p>\n\n<p>Kill the \"java.exe\" processes by right clicking and selecting \"End Task\".</p>\n"},{"tags":[],"owner":{"account_id":6603018,"reputation":803,"user_id":5100678,"accept_rate":64,"display_name":"Purgoufr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486296341,"creation_date":1486295254,"answer_id":42051677,"question_id":5064733,"body_markdown":"Your Tomcat is probably running already. That&#39;s why you have got an error. I&#39;ve had the same problem before. I solved it very simply:\r\n\r\n 1. Restart your computer\r\n 2. Open Eclipse\r\n 3. Run your Tomcat\r\n\r\nThat&#39;s all.\r\n","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>Your Tomcat is probably running already. That's why you have got an error. I've had the same problem before. I solved it very simply:</p>\n\n<ol>\n<li>Restart your computer</li>\n<li>Open Eclipse</li>\n<li>Run your Tomcat</li>\n</ol>\n\n<p>That's all.</p>\n"},{"tags":[],"owner":{"account_id":5506153,"reputation":97,"user_id":4373950,"display_name":"Vasundhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490077554,"creation_date":1490077554,"answer_id":42919837,"question_id":5064733,"body_markdown":"In windows OS do right click on task bar--&gt;start task manager--&gt;process then check **java.exe or javaw** is running if it is running,then click on it and do end process then restart your tom cat server. \r\n\r\n2. some times skype will occupy port 80 in that case change the skype settings and put 81 for skype or change tomcat configuration.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>In windows OS do right click on task bar-->start task manager-->process then check <strong>java.exe or javaw</strong> is running if it is running,then click on it and do end process then restart your tom cat server. </p>\n\n<ol start=\"2\">\n<li>some times skype will occupy port 80 in that case change the skype settings and put 81 for skype or change tomcat configuration.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12267444,"reputation":91,"user_id":8953590,"display_name":"Shreeram Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514775778,"creation_date":1514775778,"answer_id":48046911,"question_id":5064733,"body_markdown":"If the above issue occurs in Windows 7 or 10 based OS, the problem occurs because Tomcat is running as Windows Service. To stop Tomcat running as Windows Services, Open Windows Control Panel. Find the service &quot;Apache Tomcat&quot; and Stop it.\r\nThe Another way is to kill the process running on port 8080 using cmd.\r\n\r\nOpen cmd running it as administrator.\r\n\r\n1. C:\\users\\username&gt;netstat -o -n -a|findstr 0.0:8080     \r\n2. TCP   0.0.0.0:8080           0.0.0.0:0              LISTENING       2160.\r\n3. The above 2160 is process id of process running on port 8080 and kill that process using the following command    \r\n C:\\users\\username&gt;taskkill /F /PID 2160 \r\n4. Go to IDE and start Server, it will run\r\n\r\n","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>If the above issue occurs in Windows 7 or 10 based OS, the problem occurs because Tomcat is running as Windows Service. To stop Tomcat running as Windows Services, Open Windows Control Panel. Find the service \"Apache Tomcat\" and Stop it.\nThe Another way is to kill the process running on port 8080 using cmd.</p>\n\n<p>Open cmd running it as administrator.</p>\n\n<ol>\n<li>C:\\users\\username>netstat -o -n -a|findstr 0.0:8080     </li>\n<li>TCP   0.0.0.0:8080           0.0.0.0:0              LISTENING       2160.</li>\n<li>The above 2160 is process id of process running on port 8080 and kill that process using the following command<br>\nC:\\users\\username>taskkill /F /PID 2160 </li>\n<li>Go to IDE and start Server, it will run</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7365748,"reputation":559,"user_id":5607530,"display_name":"Ram Thota"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529122791,"creation_date":1529094802,"answer_id":50882325,"question_id":5064733,"body_markdown":"It may be because you are not stopping your tomcat service properly. To do that, **Open your task manager** there you can see a `javaw.exe` service. First stop that service. Now restart your tomcat it works fine.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>It may be because you are not stopping your tomcat service properly. To do that, <strong>Open your task manager</strong> there you can see a <code>javaw.exe</code> service. First stop that service. Now restart your tomcat it works fine.</p>\n"},{"tags":[],"owner":{"account_id":10975071,"reputation":1097,"user_id":8064000,"display_name":"v8-E"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534823615,"creation_date":1534823615,"answer_id":51941326,"question_id":5064733,"body_markdown":"I checked all the answers but `informing only to kill PID`.\r\n\r\nIn case if **you have terminal access shared by all** it will not help or **maybe you do not have permission to kill PID**.\r\n\r\nIn this case what you can do is: \r\n\r\n`Double click on server `\r\n\r\n`Go to Overview and change ports in Ports` like this:\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZYTDQ.png","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>I checked all the answers but <code>informing only to kill PID</code>.</p>\n\n<p>In case if <strong>you have terminal access shared by all</strong> it will not help or <strong>maybe you do not have permission to kill PID</strong>.</p>\n\n<p>In this case what you can do is: </p>\n\n<p><code>Double click on server</code></p>\n\n<p><code>Go to Overview and change ports in Ports</code> like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZYTDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZYTDQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8287282,"reputation":687,"user_id":6230028,"display_name":"Kamran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538570440,"creation_date":1538570440,"answer_id":52627265,"question_id":5064733,"body_markdown":"Don&#39;t need to close your eclipse IDE.Your Tomcat is probably running already. That&#39;s why you have got an error. \r\n\r\nopen tomcat directory &gt;&gt; bin &gt;&gt; from command terminal (in my case is tomcat9)\r\n\r\nEnter command \r\n\r\n./shutdown.sh\r\n\r\nit will close your running tomcat   \r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dvS84.png","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>Don't need to close your eclipse IDE.Your Tomcat is probably running already. That's why you have got an error. </p>\n\n<p>open tomcat directory >> bin >> from command terminal (in my case is tomcat9)</p>\n\n<p>Enter command </p>\n\n<p>./shutdown.sh</p>\n\n<p>it will close your running tomcat   </p>\n\n<p><a href=\"https://i.stack.imgur.com/dvS84.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dvS84.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":56837,"reputation":3394,"user_id":170238,"accept_rate":80,"display_name":"Tahir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547738815,"creation_date":1547738815,"answer_id":54239113,"question_id":5064733,"body_markdown":"In my case, it was giving me the error: **Port 8005 required by Tomcat v8.0 Server at localhost is already in use**\r\n\r\nI changed 8005 port in apache-tomcat-8.0.39\\conf\\server.xml but changes were not getting reflected. Then I did these changes from eclipse. by double clicking server and modifying the port from 8005 to 8006 and it works. \r\n[![enter image description here][1]][1]\r\n\r\nBefore putting 8006 I checked in windows shell if this port is available or not. By executing following command:\r\n\r\n \r\n\r\n    netstat -a -o -n | findstr 8006\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yX0tC.png","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>In my case, it was giving me the error: <strong>Port 8005 required by Tomcat v8.0 Server at localhost is already in use</strong></p>\n\n<p>I changed 8005 port in apache-tomcat-8.0.39\\conf\\server.xml but changes were not getting reflected. Then I did these changes from eclipse. by double clicking server and modifying the port from 8005 to 8006 and it works. \n<a href=\"https://i.stack.imgur.com/yX0tC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yX0tC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Before putting 8006 I checked in windows shell if this port is available or not. By executing following command:</p>\n\n<pre><code>netstat -a -o -n | findstr 8006\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3483501,"reputation":13732,"user_id":3750967,"accept_rate":100,"display_name":"Abhijith Sasikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620924596,"creation_date":1561023188,"answer_id":56683023,"question_id":5064733,"body_markdown":"**Easiest solution**\r\n\r\nSingle line command for killing multiple ports:\r\n\r\n    kill $(lsof -t -i:8005,8080,8009) \r\n\r\n8005, 8080 and 8009 are the ports to be freed.\r\n\r\nAlternatively, you can try `sudo kill sudo lsof -t -i:8005` in linux.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p><strong>Easiest solution</strong></p>\n<p>Single line command for killing multiple ports:</p>\n<pre><code>kill $(lsof -t -i:8005,8080,8009) \n</code></pre>\n<p>8005, 8080 and 8009 are the ports to be freed.</p>\n<p>Alternatively, you can try <code>sudo kill sudo lsof -t -i:8005</code> in linux.</p>\n"},{"tags":[],"owner":{"account_id":10392595,"reputation":83,"user_id":7663327,"display_name":"Kerelos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572039011,"creation_date":1572039011,"answer_id":58565962,"question_id":5064733,"body_markdown":"I face the same problem and after searching the answer as shown below:\r\n1. open Monitor Tomcat as shown below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Simply press stop as shown in below picure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W0hdl.png\r\n  [2]: https://i.stack.imgur.com/aoQyJ.png\r\n\r\nFinally it works with me after many trials and suggested solutions. \r\n\r\nBest Regards,\r\nKerelos Mikhail","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>I face the same problem and after searching the answer as shown below:\n1. open Monitor Tomcat as shown below:\n<a href=\"https://i.stack.imgur.com/W0hdl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W0hdl.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Simply press stop as shown in below picure:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/aoQyJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aoQyJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally it works with me after many trials and suggested solutions. </p>\n\n<p>Best Regards,\nKerelos Mikhail</p>\n"},{"tags":[],"owner":{"account_id":16769068,"reputation":796,"user_id":12121988,"display_name":"Hello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608312222,"creation_date":1608312222,"answer_id":65361286,"question_id":5064733,"body_markdown":"All of above do not work for me.\r\n\r\nWhat I found was click the Details button. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cy4bg.jpg\r\n\r\nThen following the https://stackoverflow.com/questions/7239613/multiple-contexts-with-the-same-path-error-running-web-service-in-eclipse-using\r\n\r\nRemoved the duplicated line then I got an another error.\r\n\r\n    The server cannot be started because one or more of the ports are invalid. Open the server editor and correct the invalid ports.\r\n\r\nFollowing https://stackoverflow.com/questions/59471438/cant-start-tomcatv9-0-in-eclipse\r\n\r\nThen it works.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>All of above do not work for me.</p>\n<p>What I found was click the Details button.\n<a href=\"https://i.stack.imgur.com/Cy4bg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy4bg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Then following the <a href=\"https://stackoverflow.com/questions/7239613/multiple-contexts-with-the-same-path-error-running-web-service-in-eclipse-using\">Multiple contexts with the same path error running web service in Eclipse using Tomcat</a></p>\n<p>Removed the duplicated line then I got an another error.</p>\n<pre><code>The server cannot be started because one or more of the ports are invalid. Open the server editor and correct the invalid ports.\n</code></pre>\n<p>Following <a href=\"https://stackoverflow.com/questions/59471438/cant-start-tomcatv9-0-in-eclipse\">Can&#39;t start tomcatv9.0 in Eclipse</a></p>\n<p>Then it works.</p>\n"},{"tags":[],"owner":{"account_id":12729575,"reputation":506,"user_id":9246752,"display_name":"kush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610283029,"creation_date":1610283029,"answer_id":65653468,"question_id":5064733,"body_markdown":"**Macbook solution:**\r\n\r\n***Step 1:** stop the server running Java :* \r\n\r\nOpen Activity Monitor by going to Applications &gt; Utilities &gt; Activity Monitor. Or simple press CMD + Spacebar and start typing Activity Monitor. \r\nLook for process running Java and kill it by giving the following command in Terminal\r\n\r\n    kill -STOP &lt;PID&gt; \r\n\r\nwhere PID is the process ID of the Java process as displayed in the Activity Monitor. Do it a couple of times and close and reopen Activity Monitor to check Java isn&#39;t running. \r\n\r\n***Step 2**: change the port :*\r\n\r\nright-click on the server in Eclipse and click &#39;Open&#39;. Change port number from 8080 to 8081 or something greater in value. \r\n\r\nThis should hopefully start your server.","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p><strong>Macbook solution:</strong></p>\n<p><em><strong>Step 1:</strong> stop the server running Java :</em></p>\n<p>Open Activity Monitor by going to Applications &gt; Utilities &gt; Activity Monitor. Or simple press CMD + Spacebar and start typing Activity Monitor.\nLook for process running Java and kill it by giving the following command in Terminal</p>\n<pre><code>kill -STOP &lt;PID&gt; \n</code></pre>\n<p>where PID is the process ID of the Java process as displayed in the Activity Monitor. Do it a couple of times and close and reopen Activity Monitor to check Java isn't running.</p>\n<p><em><strong>Step 2</strong>: change the port :</em></p>\n<p>right-click on the server in Eclipse and click 'Open'. Change port number from 8080 to 8081 or something greater in value.</p>\n<p>This should hopefully start your server.</p>\n"},{"tags":[],"owner":{"account_id":9439073,"reputation":98,"user_id":7020177,"display_name":"Sercan Elvanağacı"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669492562,"creation_date":1669492562,"answer_id":74585195,"question_id":5064733,"body_markdown":"In windows open Task Manager (Ctrl+Alt+Delete) and go to Services tab then right click tomcat and select stop then start in eclipse ","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>In windows open Task Manager (Ctrl+Alt+Delete) and go to Services tab then right click tomcat and select stop then start in eclipse</p>\n"},{"tags":[],"owner":{"account_id":19185825,"reputation":611,"user_id":14016638,"display_name":"Kavindu Nilshan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681879986,"creation_date":1681879986,"answer_id":76050851,"question_id":5064733,"body_markdown":"I got the same error and followed the below steps to resolve it.\r\n\r\n\r\nYou can check whether port 8080 is really used now by opening this link.\r\nhttp://localhost:8080/\r\n\r\nIf it is showing the `Apache Tomcat`page follow the below steps to resolve the issue.\r\n\r\n1) Open `Services` (This can be done by searching on the search bar on your PC)\r\n2) Find `Apache Tomcat` among the services.\r\n\r\n[![Apache Tomcat][1]][1]\r\n\r\n\r\n3) Check the status of `Apache Tomcat`. It should currently at the `Running` state.\r\n4) Right-click on it and click on `stop` to stop the `server`.\r\n\r\n[![Apache Tomcat][2]][2]\r\n\r\n5) Now close the `Services` app and re-run your `program` on the `Apache Tomcat server`.\r\n\r\n\r\nNow your program will work.\r\n\r\n  [1]: https://i.stack.imgur.com/4v5ey.png\r\n  [2]: https://i.stack.imgur.com/1nlnd.png","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>I got the same error and followed the below steps to resolve it.</p>\n<p>You can check whether port 8080 is really used now by opening this link.\nhttp://localhost:8080/</p>\n<p>If it is showing the <code>Apache Tomcat</code>page follow the below steps to resolve the issue.</p>\n<ol>\n<li>Open <code>Services</code> (This can be done by searching on the search bar on your PC)</li>\n<li>Find <code>Apache Tomcat</code> among the services.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/4v5ey.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4v5ey.png\" alt=\"Apache Tomcat\" /></a></p>\n<ol start=\"3\">\n<li>Check the status of <code>Apache Tomcat</code>. It should currently at the <code>Running</code> state.</li>\n<li>Right-click on it and click on <code>stop</code> to stop the <code>server</code>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/1nlnd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1nlnd.png\" alt=\"Apache Tomcat\" /></a></p>\n<ol start=\"5\">\n<li>Now close the <code>Services</code> app and re-run your <code>program</code> on the <code>Apache Tomcat server</code>.</li>\n</ol>\n<p>Now your program will work.</p>\n"}],"owner":{"account_id":190514,"reputation":3205,"user_id":430537,"accept_rate":74,"display_name":"elle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820525,"favorite_count":0,"down_vote_count":1,"up_vote_count":282,"accepted_answer_id":5065874,"answer_count":37,"score":281,"last_activity_date":1681879986,"creation_date":1298283589,"question_id":5064733,"body_markdown":"I&#39;m getting the following error when I try to run a simple JSP program on Tomcat in Eclipse. \r\n\r\n&gt; Several ports (8005, 8080, 8009) required by Tomcat v6.0 Server at localhost are already in use. The server may already be running in another process, or a system process may be using the port. To start this server you will need to stop the other process or change the port number(s).\r\n\r\nHow is this caused and how can I solve it?\r\n ","title":"Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use","body":"<p>I'm getting the following error when I try to run a simple JSP program on Tomcat in Eclipse. </p>\n\n<blockquote>\n  <p>Several ports (8005, 8080, 8009) required by Tomcat v6.0 Server at localhost are already in use. The server may already be running in another process, or a system process may be using the port. To start this server you will need to stop the other process or change the port number(s).</p>\n</blockquote>\n\n<p>How is this caused and how can I solve it?</p>\n"},{"tags":["java","timezone","dst"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1681815834,"post_id":76042751,"comment_id":134114064,"body_markdown":"Don’t use `TimeZone`. That class was poorly designed and is long outdated. Use `ZoneId` and `ZoneRules` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"Don’t use <code>TimeZone</code>. That class was poorly designed and is long outdated. Use <code>ZoneId</code> and <code>ZoneRules</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681816528,"post_id":76042751,"comment_id":134114239,"body_markdown":"`ZoneId.of(&quot;Africa/Casablanca&quot;).getRules().previousTransition(Instant.now())` gives us `Transition[Overlap at 2023-03-19T03:00+01:00 to Z]`. It will also tell us about other transitions. Then I guess it’s up to us to interpret whether the time zone uses summer time. The modern date and time API requires us to be more explicit and doesn’t do the interpretation for us. Which I find fair since the question whether some time zone uses summer time really isn’t a simple *yes or no* question.","body":"<code>ZoneId.of(&quot;Africa&#47;Casablanca&quot;).getRules().previousTransition&zwnj;&#8203;(Instant.now())</code> gives us <code>Transition[Overlap at 2023-03-19T03:00+01:00 to Z]</code>. It will also tell us about other transitions. Then I guess it’s up to us to interpret whether the time zone uses summer time. The modern date and time API requires us to be more explicit and doesn’t do the interpretation for us. Which I find fair since the question whether some time zone uses summer time really isn’t a simple <i>yes or no</i> question."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681812773,"creation_date":1681812773,"answer_id":76043372,"question_id":76042751,"body_markdown":"Have a look at the source code for [TimeZone][1].\r\n\r\n\r\nThe `TimeZone` corresponding to `Europe/Rome` is defined as follows (line 539):\r\n\r\n    new SimpleTimeZone(1000 * 3600, &quot;CET&quot;, Calendar.MARCH, -1, Calendar.SUNDAY, 2000 * 3600, Calendar.OCTOBER, -1, Calendar.SUNDAY, 3000 * 3600);\r\n\r\nWhere the [4th to 10th arguments][2] relate to daylight saving and result in `useDaylightTime()` returning true.\r\n\r\nThe `TimeZone` corresponding to `Africa/Casablanca` (line 486) is:\r\n\r\n    new SimpleTimeZone(0 * 3600, &quot;GMT&quot;)\r\n\r\nAnd result in `useDaylightTime()` returning true\r\n\r\nSo Java defines Europe/Rome as having daylight savings and Africa/Casablanca as not having daylight savings.\r\n\r\nThe next question is: does this reflect reality?\r\n\r\nJava uses the TimeZone ‘historical’ definitions from the global authority, the [Internet Corporation for Assigned Names and Numbers][3] which [change to reflect reality with different versions][4].\r\n\r\nAccording to the above page [Morocco gave up daylight saving in Oct 2018][5] and this change was reflected in the following versions 11.0.2, 8u201 &amp; 7u211.\r\n\r\n\r\n  [1]: https://developer.classpath.org/doc/java/util/TimeZone-source.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/SimpleTimeZone.html#SimpleTimeZone-int-java.lang.String-int-int-int-int-int-int-int-int-\r\n  [3]: https://www.icann.org/\r\n  [4]: https://www.oracle.com/java/technologies/tzdata-versions.html\r\n  [5]: https://mm.icann.org/pipermail/tz-announce/2018-October/000052.html","title":"useDaylightTime() this method in TimeZone.java return wrong answer","body":"<p>Have a look at the source code for <a href=\"https://developer.classpath.org/doc/java/util/TimeZone-source.html\" rel=\"nofollow noreferrer\">TimeZone</a>.</p>\n<p>The <code>TimeZone</code> corresponding to <code>Europe/Rome</code> is defined as follows (line 539):</p>\n<pre><code>new SimpleTimeZone(1000 * 3600, &quot;CET&quot;, Calendar.MARCH, -1, Calendar.SUNDAY, 2000 * 3600, Calendar.OCTOBER, -1, Calendar.SUNDAY, 3000 * 3600);\n</code></pre>\n<p>Where the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/SimpleTimeZone.html#SimpleTimeZone-int-java.lang.String-int-int-int-int-int-int-int-int-\" rel=\"nofollow noreferrer\">4th to 10th arguments</a> relate to daylight saving and result in <code>useDaylightTime()</code> returning true.</p>\n<p>The <code>TimeZone</code> corresponding to <code>Africa/Casablanca</code> (line 486) is:</p>\n<pre><code>new SimpleTimeZone(0 * 3600, &quot;GMT&quot;)\n</code></pre>\n<p>And result in <code>useDaylightTime()</code> returning true</p>\n<p>So Java defines Europe/Rome as having daylight savings and Africa/Casablanca as not having daylight savings.</p>\n<p>The next question is: does this reflect reality?</p>\n<p>Java uses the TimeZone ‘historical’ definitions from the global authority, the <a href=\"https://www.icann.org/\" rel=\"nofollow noreferrer\">Internet Corporation for Assigned Names and Numbers</a> which <a href=\"https://www.oracle.com/java/technologies/tzdata-versions.html\" rel=\"nofollow noreferrer\">change to reflect reality with different versions</a>.</p>\n<p>According to the above page <a href=\"https://mm.icann.org/pipermail/tz-announce/2018-October/000052.html\" rel=\"nofollow noreferrer\">Morocco gave up daylight saving in Oct 2018</a> and this change was reflected in the following versions 11.0.2, 8u201 &amp; 7u211.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681878379,"creation_date":1681876261,"answer_id":76050634,"question_id":76042751,"body_markdown":"# Feature, not a bug \r\n\r\nYou are seeing a feature not a bug.\r\n\r\nThe Javadoc for `TimeZone#useDaylightTime` says the method may not account for the current rule. The Javadoc goes on to advise:\r\n\r\n&gt; Consider calling [observesDaylightTime()][1] if the current rule should also be taken into account.\r\n\r\nSure enough, we get different results.\r\n\r\n```java\r\nSystem.out.println(\r\n        java.util.TimeZone\r\n                .getTimeZone( &quot;Africa/Casablanca&quot; )\r\n                .useDaylightTime()\r\n);\r\n\r\nSystem.out.println(\r\n        java.util.TimeZone\r\n                .getTimeZone( &quot;Africa/Casablanca&quot; )\r\n                .observesDaylightTime()\r\n);\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nfalse\r\ntrue\r\n```\r\n\r\nHowever, that second result is wrong in that **at the current moment Morocco is using *standard time* during Ramadan**. But frankly I cannot parse their intentions as stated in the Javadoc.\r\n\r\nAnd, to confuse matters even more, there is a third method [`inDaylightTime`][2]. \r\n\r\nWhat a mess: Three methods with nearly the same name that return different results. These legacy date-time classes are a train-wreck of bad design, built by people who did not understand date-time handling. \r\n\r\nRead on for sane date-time handling with the *java.time* classes. \r\n\r\n\r\n# Morocco\r\n\r\nSee the Wikipedia article, [*Daylight saving time in Morocco*](https://en.wikipedia.org/wiki/Daylight_saving_time_in_Morocco). \r\n\r\nStarting in 2008, Morocco annually observed [Daylight Saving Time (DST)][3] (+01:00) until October of 2018. In that month, rather than “fall back” to their standard time (+00:00), the politicians decided to stay on DST (+01:00) year-round (the latest fad among politicians around the world). \r\n\r\nOn top of that, the politicians in Morocco have been deciding to fall back an hour (+00:00) during the month of [Ramadan][4]. \r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe `TimeZone` class is part of the terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# `ZoneId`\r\n\r\nInstead of `TimeZone`, you should be using [`ZoneId`][5] &amp; `ZoneOffset`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\r\n\r\n# `ZoneRules`\r\n\r\nFrom a `ZoneId`, get its set of [rules][6].\r\n\r\n```java\r\nZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; );\r\nInstant pointInTime = LocalDate.of( 2021 , Month.JANUARY , 1 ).atStartOfDay( z ).toInstant();\r\nInstant now = Instant.now();\r\n\r\nZoneRules rules = z.getRules();\r\n```\r\n\r\n# `ZoneOffsetTransition`\r\n\r\nInterrogate those rules for recent offset [transitions][7].\r\n\r\n```java\r\nList &lt; ZoneOffsetTransition &gt; transitions =\r\n        rules\r\n                .getTransitions()\r\n                .stream()\r\n                .filter( transition -&gt; transition.getInstant().isAfter( pointInTime ) &amp;&amp; transition.getInstant().isBefore( now ) )\r\n                .toList();\r\nfor ( ZoneOffsetTransition transition : transitions )\r\n{\r\n    System.out.println( &quot;transition = &quot; + transition );\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\ntransition = Transition[Overlap at 2021-04-11T03:00+01:00 to Z]\r\ntransition = Transition[Gap at 2021-05-16T02:00Z to +01:00]\r\ntransition = Transition[Overlap at 2022-03-27T03:00+01:00 to Z]\r\ntransition = Transition[Gap at 2022-05-08T02:00Z to +01:00]\r\ntransition = Transition[Overlap at 2023-03-19T03:00+01:00 to Z]\r\n```\r\n\r\nWe can see the changes back and forth between DST (+01:00) and standard time of an offset of zero hours-minutes-seconds from UTC as represented here by the letter `Z` (pronounced “Zulu”). \r\n\r\n```java\r\nList &lt; ZonedDateTime &gt; zdts =\r\n        List.of(\r\n                LocalDate.of( 2023 , Month.JANUARY , 1 ).atStartOfDay( z ) ,\r\n                LocalDate.of( 2023 , Month.MARCH , 30 ).atStartOfDay( z ) ,\r\n                ZonedDateTime.now( z )\r\n        );\r\nfor ( ZonedDateTime zdt : zdts )\r\n{\r\n    System.out.println( zdt + &quot; is in DST: &quot; + rules.isDaylightSavings( zdt.toInstant() ) );\r\n}\r\n```\r\n\r\n# `isDaylightSavings`\r\n\r\nFor a few arbitrary points in time, let&#39;s ask if that moment is in DST or not. \r\n\r\n```java\r\nList &lt; ZonedDateTime &gt; zdts =\r\n        List.of(\r\n                LocalDate.of( 2023 , Month.JANUARY , 1 ).atStartOfDay( z ) ,\r\n                LocalDate.of( 2023 , Month.MARCH , 30 ).atStartOfDay( z ) ,\r\n                ZonedDateTime.now( z )\r\n        );\r\nfor ( ZonedDateTime zdt : zdts )\r\n{\r\n    System.out.println( zdt + &quot; is in DST: &quot; + rules.isDaylightSavings( zdt.toInstant() ) );\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n\r\n```none\r\n2023-01-01T00:00+01:00[Africa/Casablanca] is in DST: true\r\n2023-03-30T00:00Z[Africa/Casablanca] is in DST: false\r\n2023-04-19T03:42:56.153413Z[Africa/Casablanca] is in DST: false\r\n```\r\n\r\nA couple of sources on the Web say that Ramadan 2023 in Morocco runs from Thursday, 23 March 2023, to Friday, 21 April 2023. Notice the transition I showed above is different, with the fall-back on March 19th rather than the 23rd. I do not know of an explanation. Perhaps the politicians are not strictly using the Ramadan dates for their change in offset. That fall-back is according to the [tzdata][8] in my implementation of [Java 20][9], which should be fairly fresh.\r\n\r\nSo as described above, we can see DST is used for most of the year such as on January 1st 2023 in list above. Then for our two March &amp; April dates, DST is *not* used per the Ramadan roll-back to standard time (+00:00).\r\n\r\n\r\n----------\r\n\r\n\r\nYou asked:\r\n\r\n&gt;explain the real mean of method useDaylight()?\r\n\r\nThe modern replacement is [`ZoneRules#isDaylightSavings( Instant instant )`][10].\r\n\r\nTo quote the Javadoc:\r\n\r\n&gt;Checks if the specified instant is in daylight savings.\r\n&gt;\r\n&gt;This checks if the standard offset and the actual offset are the same for the specified instant. If they are not, it is assumed that daylight savings is in operation.\r\n&gt;\r\n&gt;This default implementation compares the actual and standard offsets.\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TimeZone.html#observesDaylightTime()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TimeZone.html#inDaylightTime(java.util.Date)\r\n  [3]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [4]: https://en.wikipedia.org/wiki/Ramadan\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/zone/ZoneRules.html\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/zone/ZoneOffsetTransition.html\r\n  [8]: https://en.wikipedia.org/wiki/Tz_database\r\n  [9]: https://en.wikipedia.org/wiki/Java_version_history#Java_20\r\n  [10]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/zone/ZoneRules.html#isDaylightSavings(java.time.Instant)","title":"useDaylightTime() this method in TimeZone.java return wrong answer","body":"<h1>Feature, not a bug</h1>\n<p>You are seeing a feature not a bug.</p>\n<p>The Javadoc for <code>TimeZone#useDaylightTime</code> says the method may not account for the current rule. The Javadoc goes on to advise:</p>\n<blockquote>\n<p>Consider calling <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TimeZone.html#observesDaylightTime()\" rel=\"nofollow noreferrer\">observesDaylightTime()</a> if the current rule should also be taken into account.</p>\n</blockquote>\n<p>Sure enough, we get different results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n        java.util.TimeZone\n                .getTimeZone( &quot;Africa/Casablanca&quot; )\n                .useDaylightTime()\n);\n\nSystem.out.println(\n        java.util.TimeZone\n                .getTimeZone( &quot;Africa/Casablanca&quot; )\n                .observesDaylightTime()\n);\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\ntrue\n</code></pre>\n<p>However, that second result is wrong in that <strong>at the current moment Morocco is using <em>standard time</em> during Ramadan</strong>. But frankly I cannot parse their intentions as stated in the Javadoc.</p>\n<p>And, to confuse matters even more, there is a third method <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TimeZone.html#inDaylightTime(java.util.Date)\" rel=\"nofollow noreferrer\"><code>inDaylightTime</code></a>.</p>\n<p>What a mess: Three methods with nearly the same name that return different results. These legacy date-time classes are a train-wreck of bad design, built by people who did not understand date-time handling.</p>\n<p>Read on for sane date-time handling with the <em>java.time</em> classes.</p>\n<h1>Morocco</h1>\n<p>See the Wikipedia article, <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time_in_Morocco\" rel=\"nofollow noreferrer\"><em>Daylight saving time in Morocco</em></a>.</p>\n<p>Starting in 2008, Morocco annually observed <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a> (+01:00) until October of 2018. In that month, rather than “fall back” to their standard time (+00:00), the politicians decided to stay on DST (+01:00) year-round (the latest fad among politicians around the world).</p>\n<p>On top of that, the politicians in Morocco have been deciding to fall back an hour (+00:00) during the month of <a href=\"https://en.wikipedia.org/wiki/Ramadan\" rel=\"nofollow noreferrer\">Ramadan</a>.</p>\n<h1>Avoid legacy date-time classes</h1>\n<p>The <code>TimeZone</code> class is part of the terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><code>ZoneId</code></h1>\n<p>Instead of <code>TimeZone</code>, you should be using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> &amp; <code>ZoneOffset</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\n</code></pre>\n<h1><code>ZoneRules</code></h1>\n<p>From a <code>ZoneId</code>, get its set of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/zone/ZoneRules.html\" rel=\"nofollow noreferrer\">rules</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; );\nInstant pointInTime = LocalDate.of( 2021 , Month.JANUARY , 1 ).atStartOfDay( z ).toInstant();\nInstant now = Instant.now();\n\nZoneRules rules = z.getRules();\n</code></pre>\n<h1><code>ZoneOffsetTransition</code></h1>\n<p>Interrogate those rules for recent offset <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/zone/ZoneOffsetTransition.html\" rel=\"nofollow noreferrer\">transitions</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; ZoneOffsetTransition &gt; transitions =\n        rules\n                .getTransitions()\n                .stream()\n                .filter( transition -&gt; transition.getInstant().isAfter( pointInTime ) &amp;&amp; transition.getInstant().isBefore( now ) )\n                .toList();\nfor ( ZoneOffsetTransition transition : transitions )\n{\n    System.out.println( &quot;transition = &quot; + transition );\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>transition = Transition[Overlap at 2021-04-11T03:00+01:00 to Z]\ntransition = Transition[Gap at 2021-05-16T02:00Z to +01:00]\ntransition = Transition[Overlap at 2022-03-27T03:00+01:00 to Z]\ntransition = Transition[Gap at 2022-05-08T02:00Z to +01:00]\ntransition = Transition[Overlap at 2023-03-19T03:00+01:00 to Z]\n</code></pre>\n<p>We can see the changes back and forth between DST (+01:00) and standard time of an offset of zero hours-minutes-seconds from UTC as represented here by the letter <code>Z</code> (pronounced “Zulu”).</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; ZonedDateTime &gt; zdts =\n        List.of(\n                LocalDate.of( 2023 , Month.JANUARY , 1 ).atStartOfDay( z ) ,\n                LocalDate.of( 2023 , Month.MARCH , 30 ).atStartOfDay( z ) ,\n                ZonedDateTime.now( z )\n        );\nfor ( ZonedDateTime zdt : zdts )\n{\n    System.out.println( zdt + &quot; is in DST: &quot; + rules.isDaylightSavings( zdt.toInstant() ) );\n}\n</code></pre>\n<h1><code>isDaylightSavings</code></h1>\n<p>For a few arbitrary points in time, let's ask if that moment is in DST or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; ZonedDateTime &gt; zdts =\n        List.of(\n                LocalDate.of( 2023 , Month.JANUARY , 1 ).atStartOfDay( z ) ,\n                LocalDate.of( 2023 , Month.MARCH , 30 ).atStartOfDay( z ) ,\n                ZonedDateTime.now( z )\n        );\nfor ( ZonedDateTime zdt : zdts )\n{\n    System.out.println( zdt + &quot; is in DST: &quot; + rules.isDaylightSavings( zdt.toInstant() ) );\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-01-01T00:00+01:00[Africa/Casablanca] is in DST: true\n2023-03-30T00:00Z[Africa/Casablanca] is in DST: false\n2023-04-19T03:42:56.153413Z[Africa/Casablanca] is in DST: false\n</code></pre>\n<p>A couple of sources on the Web say that Ramadan 2023 in Morocco runs from Thursday, 23 March 2023, to Friday, 21 April 2023. Notice the transition I showed above is different, with the fall-back on March 19th rather than the 23rd. I do not know of an explanation. Perhaps the politicians are not strictly using the Ramadan dates for their change in offset. That fall-back is according to the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\">tzdata</a> in my implementation of <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_20\" rel=\"nofollow noreferrer\">Java 20</a>, which should be fairly fresh.</p>\n<p>So as described above, we can see DST is used for most of the year such as on January 1st 2023 in list above. Then for our two March &amp; April dates, DST is <em>not</em> used per the Ramadan roll-back to standard time (+00:00).</p>\n<hr />\n<p>You asked:</p>\n<blockquote>\n<p>explain the real mean of method useDaylight()?</p>\n</blockquote>\n<p>The modern replacement is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/zone/ZoneRules.html#isDaylightSavings(java.time.Instant)\" rel=\"nofollow noreferrer\"><code>ZoneRules#isDaylightSavings( Instant instant )</code></a>.</p>\n<p>To quote the Javadoc:</p>\n<blockquote>\n<p>Checks if the specified instant is in daylight savings.</p>\n<p>This checks if the standard offset and the actual offset are the same for the specified instant. If they are not, it is assumed that daylight savings is in operation.</p>\n<p>This default implementation compares the actual and standard offsets.</p>\n</blockquote>\n"}],"owner":{"account_id":28337455,"reputation":1,"user_id":21670991,"display_name":"baiyu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681878379,"creation_date":1681808825,"question_id":76042751,"body_markdown":"Casablanca is a city of Morocco, actually Morocco use DST, but method useDaylight() return false,on the other side, Roma also use DST and useDaylight() return true\r\nMy jdk is 8u362 and my code is like this:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        TimeZone Rome = TimeZone.getTimeZone(&quot;Europe/Rome&quot;);\r\n        System.out.println(Rome.useDaylightTime());\r\n\r\n        TimeZone Casablanca = TimeZone.getTimeZone(&quot;Africa/Casablanca&quot;);\r\n        System.out.println(Casablanca.useDaylightTime());\r\n\r\n    }\r\n```\r\nand the result is\r\n\r\n```\r\ntrue\r\nfalse\r\n```\r\nI have checked Casablanca and Roma both use DST, why timezone of Casablanca return false\r\n\r\nI have tried some other city as timezone, found that some timezone use DST but return false, and other city is normal, can someone tell me why and explain the real mean of method useDaylight()?","title":"useDaylightTime() this method in TimeZone.java return wrong answer","body":"<p>Casablanca is a city of Morocco, actually Morocco use DST, but method useDaylight() return false,on the other side, Roma also use DST and useDaylight() return true\nMy jdk is 8u362 and my code is like this:</p>\n<pre><code>public static void main(String[] args) {\n        TimeZone Rome = TimeZone.getTimeZone(&quot;Europe/Rome&quot;);\n        System.out.println(Rome.useDaylightTime());\n\n        TimeZone Casablanca = TimeZone.getTimeZone(&quot;Africa/Casablanca&quot;);\n        System.out.println(Casablanca.useDaylightTime());\n\n    }\n</code></pre>\n<p>and the result is</p>\n<pre><code>true\nfalse\n</code></pre>\n<p>I have checked Casablanca and Roma both use DST, why timezone of Casablanca return false</p>\n<p>I have tried some other city as timezone, found that some timezone use DST but return false, and other city is normal, can someone tell me why and explain the real mean of method useDaylight()?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1513469022,"post_id":47850924,"comment_id":82666537,"body_markdown":"It’s likely that the server doesn’t appreciate your making 90 requests in rapid succession, so it’s treating your requests like a denial-of-service attack and is deliberately slowing you down.  Sleep for a few seconds in your loop, so you aren’t overwhelming the server.","body":"It’s likely that the server doesn’t appreciate your making 90 requests in rapid succession, so it’s treating your requests like a denial-of-service attack and is deliberately slowing you down.  Sleep for a few seconds in your loop, so you aren’t overwhelming the server."},{"owner":{"account_id":12514717,"reputation":1,"user_id":9108442,"display_name":"Mat All"},"score":0,"creation_date":1513819320,"post_id":47850924,"comment_id":82801272,"body_markdown":"VGR you are right the site is slowing my request , i&#39;m trying with the skeep option of the thread.thanks for your answer","body":"VGR you are right the site is slowing my request , i&#39;m trying with the skeep option of the thread.thanks for your answer"}],"owner":{"account_id":12514717,"reputation":1,"user_id":9108442,"display_name":"Mat All"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681878353,"creation_date":1513467182,"question_id":47850924,"body_markdown":"Being a beginner in programing  I&#39;m actually writing a program to practice, which uses url.open to download pages on a forum but after 88-90 loops the url.openstream became very slow and slow down all the program&#39;s execution and I don&#39;t know why. I searched on internet for the explanations but have not found it.\r\n\r\n    private Set&lt;utilisateur&gt; arbretemp = new HashSet&lt;utilisateur&gt;();\r\n    \tprivate ArrayList&lt;String&gt; arbretempString = new ArrayList&lt;String&gt;();\r\n    \tprivate ArrayList&lt;utilisateur&gt; tempArray = new ArrayList&lt;utilisateur&gt;();\r\n    \tprivate String lienPartie1;\r\n    \tprivate String lienPartie2;\r\n    \tprivate int nbrePage;\r\n    \tprivate String nom;\r\n\r\n--\r\n\r\n\r\n    \r\n    String temporaire = &quot;&quot;;\r\n    \t\tfor (int i = 1; i &lt;= nbrePage; i++) {\r\n    \t\t\tString line = &quot;&quot;;\r\n    \t\t\tString lien = lienPartie1 + i + lienPartie2;\r\n    \t\t\tbar.setValue(i);\r\n\r\n\t\t\ttry {\r\n\t\t\t\turl = new URL(lien);\r\n\t\t\t\tis = url.openStream();\r\n\t\t\t\tbr = new BufferedReader(new InputStreamReader(is));\r\n\r\n\t\t\t\tSystem.out.println(&quot;avant while&quot;);\r\n\t\t\t\twhile (((line = br.readLine()) != null)) {\r\n\t\t\t\t\tSystem.out.println(&quot;debut de while&quot;);\r\n\t\t\t\t\tif (((line.contains(&quot;alt=&quot;)) &amp;&amp; line.contains(&quot;class=\\&quot;user-avatar-msg\\&quot;&quot;))) {\r\n\r\n\t\t\t\t\t\tline = line.trim();\r\n\t\t\t\t\t\tString[] temp = line.split(&quot;\\&quot;&quot;);\r\n\r\n\t\t\t\t\t\ttemporaire = temp[5] + &quot; \\r&quot;;\r\n\t\t\t\t\t\ttemp = temporaire.split(&quot;\\&quot;&quot;);\r\n\r\n\t\t\t\t\t\tbyte[] test = temporaire.getBytes();\r\n\t\t\t\t\t\tif (!(temporaire.equalsIgnoreCase(&quot;&quot;))) {\r\n\t\t\t\t\t\t\tutilisateur utiltemp = new utilisateur(temporaire);\r\n\r\n\t\t\t\t\t\t\tif (arbretemp.add(utiltemp)) {\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tarbretempString.add(temporaire);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;fin de while&quot;);\r\n\t\t\t} catch (MalformedURLException mue) {\r\n\t\t\t} catch (IOException ioe) {\r\n\t\t\t\tioe.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (is != null)\r\n\t\t\t\t\t\tis.close();\r\n\t\t\t\t} catch (IOException ioe) {\r\n\t\t\t\t\t// nothing to see here\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tString s = &quot;page &quot; + i + &quot;/&quot; + nbrePage;\r\n\r\n\t\t}\r\n\t\tSystem.out.println(&quot;fin de boucle&quot;);\r\n\r\n\t\tIterator it = arbretemp.iterator();\r\n\r\n\t\tfor (utilisateur a : arbretemp) {\r\n\r\n\t\t\t// System.out.println(a.nom);\r\n\t\t\ta.ajouterNbrePost(arbretempString);\r\n\t\t}\r\n\r\n\t\tTreeSet&lt;utilisateur&gt; salComp = new TreeSet&lt;utilisateur&gt;(new utilisateurComp());\r\n\t\tsalComp.addAll(arbretemp);\r\n\r\n\t\ttempArray.addAll(arbretemp);\r\n\t\ttempArray.sort(new utilisateurComp());\r\n\t}\r\n\r\n\r\nas you see it&#39;s in French but I hope you will understand anyway.\r\n\r\nthanks for your reply and reading","title":"url.openstream became slow after some loops","body":"<p>Being a beginner in programing  I'm actually writing a program to practice, which uses url.open to download pages on a forum but after 88-90 loops the url.openstream became very slow and slow down all the program's execution and I don't know why. I searched on internet for the explanations but have not found it.</p>\n<pre><code>private Set&lt;utilisateur&gt; arbretemp = new HashSet&lt;utilisateur&gt;();\n    private ArrayList&lt;String&gt; arbretempString = new ArrayList&lt;String&gt;();\n    private ArrayList&lt;utilisateur&gt; tempArray = new ArrayList&lt;utilisateur&gt;();\n    private String lienPartie1;\n    private String lienPartie2;\n    private int nbrePage;\n    private String nom;\n</code></pre>\n<p>--</p>\n<pre><code>String temporaire = &quot;&quot;;\n        for (int i = 1; i &lt;= nbrePage; i++) {\n            String line = &quot;&quot;;\n            String lien = lienPartie1 + i + lienPartie2;\n            bar.setValue(i);\n\n        try {\n            url = new URL(lien);\n            is = url.openStream();\n            br = new BufferedReader(new InputStreamReader(is));\n\n            System.out.println(&quot;avant while&quot;);\n            while (((line = br.readLine()) != null)) {\n                System.out.println(&quot;debut de while&quot;);\n                if (((line.contains(&quot;alt=&quot;)) &amp;&amp; line.contains(&quot;class=\\&quot;user-avatar-msg\\&quot;&quot;))) {\n\n                    line = line.trim();\n                    String[] temp = line.split(&quot;\\&quot;&quot;);\n\n                    temporaire = temp[5] + &quot; \\r&quot;;\n                    temp = temporaire.split(&quot;\\&quot;&quot;);\n\n                    byte[] test = temporaire.getBytes();\n                    if (!(temporaire.equalsIgnoreCase(&quot;&quot;))) {\n                        utilisateur utiltemp = new utilisateur(temporaire);\n\n                        if (arbretemp.add(utiltemp)) {\n\n                        } else {\n                            arbretempString.add(temporaire);\n                        }\n                    }\n\n                }\n\n            }\n            System.out.println(&quot;fin de while&quot;);\n        } catch (MalformedURLException mue) {\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        } finally {\n            try {\n                if (is != null)\n                    is.close();\n            } catch (IOException ioe) {\n                // nothing to see here\n            }\n\n        }\n\n        String s = &quot;page &quot; + i + &quot;/&quot; + nbrePage;\n\n    }\n    System.out.println(&quot;fin de boucle&quot;);\n\n    Iterator it = arbretemp.iterator();\n\n    for (utilisateur a : arbretemp) {\n\n        // System.out.println(a.nom);\n        a.ajouterNbrePost(arbretempString);\n    }\n\n    TreeSet&lt;utilisateur&gt; salComp = new TreeSet&lt;utilisateur&gt;(new utilisateurComp());\n    salComp.addAll(arbretemp);\n\n    tempArray.addAll(arbretemp);\n    tempArray.sort(new utilisateurComp());\n}\n</code></pre>\n<p>as you see it's in French but I hope you will understand anyway.</p>\n<p>thanks for your reply and reading</p>\n"},{"tags":["java","java-8","stm32","hardware","stm32cubemx"],"comments":[{"owner":{"account_id":6856525,"reputation":3579,"user_id":5271927,"display_name":"KIIV"},"score":0,"creation_date":1682089955,"post_id":76050683,"comment_id":134165820,"body_markdown":"When I couldn&#39;t start Cube it was because updated version of Cube needed 64bit version of jre. So I&#39;d check if you don&#39;t have 64b jre and 32b jdk","body":"When I couldn&#39;t start Cube it was because updated version of Cube needed 64bit version of jre. So I&#39;d check if you don&#39;t have 64b jre and 32b jdk"}],"owner":{"account_id":23258111,"reputation":1,"user_id":17344840,"display_name":"Anindya Mozumder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681877253,"creation_date":1681877253,"question_id":76050683,"body_markdown":"I am having a problem running STM32cubeMX 5.3.0 on my Windows 11. My jdk version is 20 and the jri version is 1.8.0_361(recommended to run STM32CubeMX). So, when I have jdk in my system My STM32CubeMX crush, it dont want to start. In my cmd when my java version is 1.8.0_361 and javac is 20.\r\n\r\nBut when I uninstall jdk from my computer it works just fine.\r\n\r\nI want to run my STM32CubeMX when my Jdk is installed. I want to know how  can I do that ?","title":"STM32CubeMX crushing for jdk file","body":"<p>I am having a problem running STM32cubeMX 5.3.0 on my Windows 11. My jdk version is 20 and the jri version is 1.8.0_361(recommended to run STM32CubeMX). So, when I have jdk in my system My STM32CubeMX crush, it dont want to start. In my cmd when my java version is 1.8.0_361 and javac is 20.</p>\n<p>But when I uninstall jdk from my computer it works just fine.</p>\n<p>I want to run my STM32CubeMX when my Jdk is installed. I want to know how  can I do that ?</p>\n"},{"tags":["java","android","flutter","dart","crashlytics"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1681878651,"post_id":76049695,"comment_id":134126061,"body_markdown":"You should use CachedNetworkImage, it handles success, loading and error state so you can give all 3 widgets and it will load network image efficiently for you.","body":"You should use CachedNetworkImage, it handles success, loading and error state so you can give all 3 widgets and it will load network image efficiently for you."}],"answers":[{"tags":[],"owner":{"account_id":26901014,"reputation":55,"user_id":20478157,"display_name":"tailn323"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681875933,"creation_date":1681875933,"answer_id":76050618,"question_id":76049695,"body_markdown":"You can try this on your own. In `ListView.builder` you add `future: loadImage(list[index].profilePicURL)` in `FutureBuilder` .\r\n\r\nThen at the builder you give it a function if there is data, the avatar will contain the image data on the firestore , if there is no data, leave the default image in your assets folder.\r\n\r\n```\r\nif (snapshot.hasData) {\r\n return CircleAvatar(\r\n   backgroundImage: snapshot.data!,\r\n   backgroundColor: Colors.transparent,\r\n   radius: 25,\r\n   onBackgroundImageError: (as, sa) {},\r\n  );\r\n} else {\r\n  return const CircleAvatar(\r\n   backgroundImage: AssetImage(&#39;assets/df.png&#39;),\r\n   backgroundColor: Colors.transparent,\r\n   radius: 25,\r\n  );\r\n}\r\n```","title":"Flutter Image Loading in a List","body":"<p>You can try this on your own. In <code>ListView.builder</code> you add <code>future: loadImage(list[index].profilePicURL)</code> in <code>FutureBuilder</code> .</p>\n<p>Then at the builder you give it a function if there is data, the avatar will contain the image data on the firestore , if there is no data, leave the default image in your assets folder.</p>\n<pre><code>if (snapshot.hasData) {\n return CircleAvatar(\n   backgroundImage: snapshot.data!,\n   backgroundColor: Colors.transparent,\n   radius: 25,\n   onBackgroundImageError: (as, sa) {},\n  );\n} else {\n  return const CircleAvatar(\n   backgroundImage: AssetImage('assets/df.png'),\n   backgroundColor: Colors.transparent,\n   radius: 25,\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":11190019,"reputation":1300,"user_id":8210794,"accept_rate":100,"display_name":"Ahmet Aziz Beşli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76050618,"answer_count":1,"score":0,"last_activity_date":1681875933,"creation_date":1681860187,"question_id":76049695,"body_markdown":"I have an app which is integrated with Firebase crashlytics, and in the crashlytic logs I see this Fatal exception:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CbXdC.png\r\n\r\nI am not sure about the image url and cannot be sure. but anyways it is throwing exception.\r\n\r\nI tried to use try catch like this:\r\n\r\n    ImageProvider&lt;Object&gt; loadImage(String imageUrl) {\r\n        try {\r\n          return ExtendedNetworkImageProvider(\r\n            imageUrl,\r\n            cache: true,\r\n          );\r\n        } catch (e) {\r\n          return const AssetImage(&#39;assets/df.png&#39;);\r\n    \r\n        }\r\n      }\r\n\r\nand it is called here inside a listview.builder:\r\n\r\n    CircleAvatar(\r\n                            backgroundImage: loadImage(\r\n                                list[index].profilePicURL,),\r\n                            backgroundColor: Colors.transparent,\r\n                            radius: 25,\r\n                            onBackgroundImageError: (as, sa) {},\r\n                          ),\r\n\r\nI don&#39;t know why this exception occurs, and also I am not able to reproduce it locally. Maybe the size of the list is huge or image url doesn&#39;t work. this exception occurs min 1k times in day.\r\n\r\nHere the log level of crashlytics:\r\n\r\n    FlutterError.onError = FirebaseCrashlytics.instance.recordFlutterFatalError;","title":"Flutter Image Loading in a List","body":"<p>I have an app which is integrated with Firebase crashlytics, and in the crashlytic logs I see this Fatal exception:</p>\n<p><a href=\"https://i.stack.imgur.com/CbXdC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CbXdC.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not sure about the image url and cannot be sure. but anyways it is throwing exception.</p>\n<p>I tried to use try catch like this:</p>\n<pre><code>ImageProvider&lt;Object&gt; loadImage(String imageUrl) {\n    try {\n      return ExtendedNetworkImageProvider(\n        imageUrl,\n        cache: true,\n      );\n    } catch (e) {\n      return const AssetImage('assets/df.png');\n\n    }\n  }\n</code></pre>\n<p>and it is called here inside a listview.builder:</p>\n<pre><code>CircleAvatar(\n                        backgroundImage: loadImage(\n                            list[index].profilePicURL,),\n                        backgroundColor: Colors.transparent,\n                        radius: 25,\n                        onBackgroundImageError: (as, sa) {},\n                      ),\n</code></pre>\n<p>I don't know why this exception occurs, and also I am not able to reproduce it locally. Maybe the size of the list is huge or image url doesn't work. this exception occurs min 1k times in day.</p>\n<p>Here the log level of crashlytics:</p>\n<pre><code>FlutterError.onError = FirebaseCrashlytics.instance.recordFlutterFatalError;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":20716510,"reputation":219,"user_id":15211804,"display_name":"Trevor Kropp"},"score":0,"creation_date":1681886949,"post_id":76050417,"comment_id":134127342,"body_markdown":"In terms of design, it seems you are trying to both use a filter and Aspect at the same time, but you probably only want to use one or the other.","body":"In terms of design, it seems you are trying to both use a filter and Aspect at the same time, but you probably only want to use one or the other."},{"owner":{"account_id":20716510,"reputation":219,"user_id":15211804,"display_name":"Trevor Kropp"},"score":0,"creation_date":1681887191,"post_id":76050417,"comment_id":134127387,"body_markdown":"That being said, you might want to first try taking out the usage of ContentCachingRequestWrapper and see if the response is still empty just to make sure that creating the AppFilter component isn&#39;t breaking the filter chain in some way.","body":"That being said, you might want to first try taking out the usage of ContentCachingRequestWrapper and see if the response is still empty just to make sure that creating the AppFilter component isn&#39;t breaking the filter chain in some way."}],"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681875234,"creation_date":1681872613,"question_id":76050417,"body_markdown":"I used ContentCachingRequestWrapper to read and log my http input request body as a String. But it seems no working.\r\n\r\nI&#39;m building a Spring Boot project and it include logging request mechanism. I used `@Aspect` to log any request from my Controller. There are is a problem here, HttpServletRequest is an interface which exposes `getInputStream()`  method to read the body. By default the data from this InputStream can be read only once. So i following `ContentCachingRequestWrapper` to wrap `HttpServletRequest` and read many time. But it doesn&#39;t seem to work, i tried to convert `requestWrapper.getReader()` to String but still return empty String. I used another way like create new class and extend `HttpServletRequestWrapper` but it doesn&#39;t get any better. Any one have any idea for this problem.\r\nI followed this solution:\r\n\r\nAppFilter.class\r\n\r\n```\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.GenericFilterBean;\r\nimport org.springframework.web.util.ContentCachingRequestWrapper;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.IOException;\r\n\r\n@Component\r\npublic class AppFilter extends GenericFilterBean {\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest currentRequest = (HttpServletRequest) servletRequest;\r\n        ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper(currentRequest);\r\n\r\n        filterChain.doFilter(wrappedRequest, servletResponse);\r\n    }\r\n}\r\n```\r\n\r\nRequestLogger.class\r\n\r\n```\r\nimport com.google.gson.Gson;\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.Signature;\r\nimport org.aspectj.lang.annotation.*;\r\nimport org.aspectj.lang.reflect.MethodSignature;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.context.request.RequestAttributes;\r\nimport org.springframework.web.context.request.RequestContextHolder;\r\nimport org.springframework.web.context.request.ServletRequestAttributes;\r\nimport org.springframework.web.util.ContentCachingRequestWrapper;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.lang.reflect.Method;\r\nimport java.lang.reflect.Parameter;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\n@Aspect\r\n@Component\r\n@Log4j2\r\npublic class RequestLogger {\r\n\r\n    @Pointcut(&quot;@annotation(Loggers)&quot;)\r\n    public void webLog() {\r\n    }\r\n\r\n    @Before(&quot;webLog()&quot;)\r\n    public void doBefore(JoinPoint joinPoint) {\r\n    }\r\n\r\n    @AfterReturning(value = &quot;webLog()&quot;, returning = &quot;ret&quot;)\r\n    public void doAfterReturning(Object ret) {\r\n    }\r\n\r\n    @Around(&quot;webLog()&quot;)\r\n    public Object doAround(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        Object response = joinPoint.proceed();\r\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\r\n        if (attributes == null) {\r\n            return response;\r\n        }\r\n        HttpServletRequest request = attributes.getRequest();\r\n\r\n        Signature signature = joinPoint.getSignature();\r\n        MethodSignature methodSignature = (MethodSignature) signature;\r\n        Method method = methodSignature.getMethod();\r\n\r\n        this.log(joinPoint, request, method, response);\r\n        return response;\r\n    }\r\n\r\n    private void log(ProceedingJoinPoint joinPoint, HttpServletRequest request, Method method, Object response) {\r\n        RequestInfo requestInfo = this.getRequestInfo(joinPoint, request, method, response);\r\n        String requestBody = &quot;&quot;;\r\n        try {\r\n            ContentCachingRequestWrapper requestWrapper = (ContentCachingRequestWrapper) request;\r\n            requestBody = requestWrapper.getReader().lines().collect(Collectors.joining(&quot;\\n&quot;)); //empty string here\r\n        } catch (Throwable e) {\r\n            e.printStackTrace();\r\n        }\r\n        ResponseEntity res = (ResponseEntity) response;\r\n        Gson gson = new Gson();\r\n        String message = String.format(&quot;Done %s to %s with status %s request: %s response: %s&quot;,\r\n                requestInfo.getRequestMethod(),\r\n                requestInfo.getRequestPath(),\r\n                requestInfo.getResponseStatus(),\r\n                requestBody,\r\n                gson.toJson(res.getBody())\r\n        );\r\n        doLog(requestInfo, message);\r\n    }\r\n\r\n    @NotNull\r\n    private RequestInfo getRequestInfo(\r\n            ProceedingJoinPoint joinPoint,\r\n            HttpServletRequest request,\r\n            Method method,\r\n            Object response\r\n    ) {\r\n        //format request\r\n    }\r\n\r\n    private Object getParameter(Method method, Object[] args) {\r\n        //reading request parameter\r\n    }\r\n\r\n    private void doLog(RequestInfo requestInfo, String message) {\r\n        //logging process\r\n    }\r\n```\r\n\r\nWhen i send a POST request with content body and its my log. You can see my response still ok but my request has empty value.\r\n\r\n```\r\n2023-04-19 09:12:12.517  INFO 12548 --- [nio-8080-exec-2] v.k.infrastructure.logger.RequestLogger  : Done POST to /api/v1/sms/invitation with status 200 request:  response: {&quot;message&quot;:&quot;OK&quot;,&quot;code&quot;:200,&quot;timeStamp&quot;:1681870332503}\r\n```","title":"Request body return empty value when using ContentCachingRequestWrapper","body":"<p>I used ContentCachingRequestWrapper to read and log my http input request body as a String. But it seems no working.</p>\n<p>I'm building a Spring Boot project and it include logging request mechanism. I used <code>@Aspect</code> to log any request from my Controller. There are is a problem here, HttpServletRequest is an interface which exposes <code>getInputStream()</code>  method to read the body. By default the data from this InputStream can be read only once. So i following <code>ContentCachingRequestWrapper</code> to wrap <code>HttpServletRequest</code> and read many time. But it doesn't seem to work, i tried to convert <code>requestWrapper.getReader()</code> to String but still return empty String. I used another way like create new class and extend <code>HttpServletRequestWrapper</code> but it doesn't get any better. Any one have any idea for this problem.\nI followed this solution:</p>\n<p>AppFilter.class</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.springframework.web.filter.GenericFilterBean;\nimport org.springframework.web.util.ContentCachingRequestWrapper;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\n\n@Component\npublic class AppFilter extends GenericFilterBean {\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest currentRequest = (HttpServletRequest) servletRequest;\n        ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper(currentRequest);\n\n        filterChain.doFilter(wrappedRequest, servletResponse);\n    }\n}\n</code></pre>\n<p>RequestLogger.class</p>\n<pre><code>import com.google.gson.Gson;\nimport lombok.extern.log4j.Log4j2;\nimport org.apache.commons.lang3.StringUtils;\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.Signature;\nimport org.aspectj.lang.annotation.*;\nimport org.aspectj.lang.reflect.MethodSignature;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.context.request.RequestAttributes;\nimport org.springframework.web.context.request.RequestContextHolder;\nimport org.springframework.web.context.request.ServletRequestAttributes;\nimport org.springframework.web.util.ContentCachingRequestWrapper;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.validation.constraints.NotNull;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Parameter;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\n@Aspect\n@Component\n@Log4j2\npublic class RequestLogger {\n\n    @Pointcut(&quot;@annotation(Loggers)&quot;)\n    public void webLog() {\n    }\n\n    @Before(&quot;webLog()&quot;)\n    public void doBefore(JoinPoint joinPoint) {\n    }\n\n    @AfterReturning(value = &quot;webLog()&quot;, returning = &quot;ret&quot;)\n    public void doAfterReturning(Object ret) {\n    }\n\n    @Around(&quot;webLog()&quot;)\n    public Object doAround(ProceedingJoinPoint joinPoint) throws Throwable {\n        Object response = joinPoint.proceed();\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        if (attributes == null) {\n            return response;\n        }\n        HttpServletRequest request = attributes.getRequest();\n\n        Signature signature = joinPoint.getSignature();\n        MethodSignature methodSignature = (MethodSignature) signature;\n        Method method = methodSignature.getMethod();\n\n        this.log(joinPoint, request, method, response);\n        return response;\n    }\n\n    private void log(ProceedingJoinPoint joinPoint, HttpServletRequest request, Method method, Object response) {\n        RequestInfo requestInfo = this.getRequestInfo(joinPoint, request, method, response);\n        String requestBody = &quot;&quot;;\n        try {\n            ContentCachingRequestWrapper requestWrapper = (ContentCachingRequestWrapper) request;\n            requestBody = requestWrapper.getReader().lines().collect(Collectors.joining(&quot;\\n&quot;)); //empty string here\n        } catch (Throwable e) {\n            e.printStackTrace();\n        }\n        ResponseEntity res = (ResponseEntity) response;\n        Gson gson = new Gson();\n        String message = String.format(&quot;Done %s to %s with status %s request: %s response: %s&quot;,\n                requestInfo.getRequestMethod(),\n                requestInfo.getRequestPath(),\n                requestInfo.getResponseStatus(),\n                requestBody,\n                gson.toJson(res.getBody())\n        );\n        doLog(requestInfo, message);\n    }\n\n    @NotNull\n    private RequestInfo getRequestInfo(\n            ProceedingJoinPoint joinPoint,\n            HttpServletRequest request,\n            Method method,\n            Object response\n    ) {\n        //format request\n    }\n\n    private Object getParameter(Method method, Object[] args) {\n        //reading request parameter\n    }\n\n    private void doLog(RequestInfo requestInfo, String message) {\n        //logging process\n    }\n</code></pre>\n<p>When i send a POST request with content body and its my log. You can see my response still ok but my request has empty value.</p>\n<pre><code>2023-04-19 09:12:12.517  INFO 12548 --- [nio-8080-exec-2] v.k.infrastructure.logger.RequestLogger  : Done POST to /api/v1/sms/invitation with status 200 request:  response: {&quot;message&quot;:&quot;OK&quot;,&quot;code&quot;:200,&quot;timeStamp&quot;:1681870332503}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","automated-tests","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1646412463,"post_id":71354431,"comment_id":126124314,"body_markdown":"You’ll have to write your own Jupiter extension for providing this information; there’s no built-in mechanism for doing that.","body":"You’ll have to write your own Jupiter extension for providing this information; there’s no built-in mechanism for doing that."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646651024,"creation_date":1646651024,"answer_id":71380083,"question_id":71354431,"body_markdown":"Not sure if this is what you want, but you can use either a `TestExecutionListener` or a `TestWatcher` (there are also other ways that you can check in documentation).\r\n\r\nAn example of TestWatcher can be found here: https://stackoverflow.com/questions/49037406/testwatcher-in-junit5 and a more detailed explanation here: https://www.baeldung.com/junit-testwatcher.\r\n\r\nThe following code example was partially taken from [here][1].\r\n\r\n\r\n    public class TestResultLoggerExtension implements TestWatcher, AfterAllCallback {\r\n   \r\n       ...  \r\n    \r\n        @Override\r\n        public void testSuccessful(ExtensionContext context) {\r\n            System.out.println(&quot;Test Successful for test {}: &quot;, context.getDisplayName();\r\n        }\r\n\r\n        @Override\r\n        public void testFailed(ExtensionContext context, Throwable cause) {\r\n           System.out.println(&quot;Test Failed for test {}, with cause {}&quot;, context.getDisplayName(), cause.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nYou test class would be something like this:\r\n\r\n    @ExtendWith(TestResultLoggerExtension.class)\r\n    public class TestClass {\r\n\r\nYou can adapt the logic to your needs.\r\n\r\nMore References: \r\n\r\n - https://junit.org/junit5/docs/current/user-guide/#extensions-test-result-processing\r\n - https://junit.org/junit5/docs/current/user-guide/#launcher-api-listeners-custom\r\n\r\n\r\n  [1]: https://github.com/eugenp/tutorials/blob/950bbadc353bdca114befc98cf4a18476352220e/testing-modules/junit-5-advanced/src/test/java/com/baeldung/extensions/testwatcher/TestResultLoggerExtension.java","title":"Junit5 get results from test in @AfterEach","body":"<p>Not sure if this is what you want, but you can use either a <code>TestExecutionListener</code> or a <code>TestWatcher</code> (there are also other ways that you can check in documentation).</p>\n<p>An example of TestWatcher can be found here: <a href=\"https://stackoverflow.com/questions/49037406/testwatcher-in-junit5\">TestWatcher in junit5</a> and a more detailed explanation here: <a href=\"https://www.baeldung.com/junit-testwatcher\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-testwatcher</a>.</p>\n<p>The following code example was partially taken from <a href=\"https://github.com/eugenp/tutorials/blob/950bbadc353bdca114befc98cf4a18476352220e/testing-modules/junit-5-advanced/src/test/java/com/baeldung/extensions/testwatcher/TestResultLoggerExtension.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>public class TestResultLoggerExtension implements TestWatcher, AfterAllCallback {\n\n   ...  \n\n    @Override\n    public void testSuccessful(ExtensionContext context) {\n        System.out.println(&quot;Test Successful for test {}: &quot;, context.getDisplayName();\n    }\n\n    @Override\n    public void testFailed(ExtensionContext context, Throwable cause) {\n       System.out.println(&quot;Test Failed for test {}, with cause {}&quot;, context.getDisplayName(), cause.getMessage());\n    }\n}\n</code></pre>\n<p>You test class would be something like this:</p>\n<pre><code>@ExtendWith(TestResultLoggerExtension.class)\npublic class TestClass {\n</code></pre>\n<p>You can adapt the logic to your needs.</p>\n<p>More References:</p>\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-test-result-processing\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions-test-result-processing</a></li>\n<li><a href=\"https://junit.org/junit5/docs/current/user-guide/#launcher-api-listeners-custom\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#launcher-api-listeners-custom</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7594605,"reputation":65,"user_id":5761134,"display_name":"Yang Bodong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681874553,"creation_date":1681874553,"answer_id":76050531,"question_id":71354431,"body_markdown":"After trying, I got the following which worked for me:\r\n\r\n1. First define TestBase, which includes two abstract methods, failedAfter and succeededAfter, which will be called on success or failure respectively.\r\n```\r\npublic abstract class TestBase {\r\n    protected abstract void failedAfter();\r\n\r\n    protected abstract void succeededAfter();\r\n\r\n    @RegisterExtension\r\n    AfterTestExecutionCallback afterTestExecutionCallback = new AfterTestExecutionCallback() {\r\n        @Override\r\n        public void afterTestExecution(ExtensionContext context) throws Exception {\r\n            Optional&lt;Throwable&gt; exception = context.getExecutionException();\r\n            if (exception.isPresent()) { // has exception\r\n                failedAfter();\r\n            } else {                     // no exception\r\n                succeededAfter();\r\n            }\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\n2. Define the Test class, write tests, and implement these two abstract methods to clean up resources or report errors.\r\n\r\n```\r\npublic class Test extends TestBase {\r\n    @Override\r\n    protected void failedAfter() {\r\n        // fail\r\n    }\r\n\r\n    @Override\r\n    protected void succeededAfter() {\r\n        // success\r\n    }\r\n\r\n    @Test\r\n    public void setAndGet() {\r\n        // do some test\r\n    }\r\n}\r\n```","title":"Junit5 get results from test in @AfterEach","body":"<p>After trying, I got the following which worked for me:</p>\n<ol>\n<li>First define TestBase, which includes two abstract methods, failedAfter and succeededAfter, which will be called on success or failure respectively.</li>\n</ol>\n<pre><code>public abstract class TestBase {\n    protected abstract void failedAfter();\n\n    protected abstract void succeededAfter();\n\n    @RegisterExtension\n    AfterTestExecutionCallback afterTestExecutionCallback = new AfterTestExecutionCallback() {\n        @Override\n        public void afterTestExecution(ExtensionContext context) throws Exception {\n            Optional&lt;Throwable&gt; exception = context.getExecutionException();\n            if (exception.isPresent()) { // has exception\n                failedAfter();\n            } else {                     // no exception\n                succeededAfter();\n            }\n        }\n    };\n}\n</code></pre>\n<ol start=\"2\">\n<li>Define the Test class, write tests, and implement these two abstract methods to clean up resources or report errors.</li>\n</ol>\n<pre><code>public class Test extends TestBase {\n    @Override\n    protected void failedAfter() {\n        // fail\n    }\n\n    @Override\n    protected void succeededAfter() {\n        // success\n    }\n\n    @Test\n    public void setAndGet() {\n        // do some test\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1679,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681874553,"creation_date":1646411820,"question_id":71354431,"body_markdown":"I am trying to get some context of the result of the test run in the `@AfterTest`. I would like to have, at bare minimum, knowledge if it passed or not and ideally also the thrown exception if there is one.\r\n\r\nHowever, every parameter I try seems to not be resolvable and I can&#39;t find any documentation on what should be available.\r\n\r\nCode:\r\n\r\n```java\r\npublic class TestClass {\r\n\t\r\n\t@AfterEach\r\n\tpublic void afterEach(\r\n\t\tTestInfo testInfo, //works, but no report on state of test\r\n        // none of these work\r\n\t\tTestExecutionSummary summary,\r\n        TestExecutionResult result,\r\n        TestFailure fail,\r\n        Optional&lt;Throwable&gt; execOp,\r\n        Throwable exception\r\n\t) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nWhat can I do to get this context?","title":"Junit5 get results from test in @AfterEach","body":"<p>I am trying to get some context of the result of the test run in the <code>@AfterTest</code>. I would like to have, at bare minimum, knowledge if it passed or not and ideally also the thrown exception if there is one.</p>\n<p>However, every parameter I try seems to not be resolvable and I can't find any documentation on what should be available.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    \n    @AfterEach\n    public void afterEach(\n        TestInfo testInfo, //works, but no report on state of test\n        // none of these work\n        TestExecutionSummary summary,\n        TestExecutionResult result,\n        TestFailure fail,\n        Optional&lt;Throwable&gt; execOp,\n        Throwable exception\n    ) {\n        // ...\n    }\n}\n</code></pre>\n<p>What can I do to get this context?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":62138,"reputation":3297,"user_id":184792,"accept_rate":81,"display_name":"msp"},"score":0,"creation_date":1516956836,"post_id":48457939,"comment_id":83909096,"body_markdown":"as a sidenode, it doesn&#39;t actually produce `application/json`, does it?","body":"as a sidenode, it doesn&#39;t actually produce <code>application&#47;json</code>, does it?"}],"answers":[{"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1681874353,"creation_date":1516957158,"answer_id":48458263,"question_id":48457939,"body_markdown":"Change your method return a `ResponseEntity&lt;T&gt;`\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/hello&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;String&gt; hello() {\r\n        System.out.println(&quot;Hit me!&quot;);\r\n        return new ResponseEntity&lt;String&gt;(&quot;Hello, you!&quot;, HttpStatus.OK);\r\n    }\r\n\r\nor change the controller to `RestController`\r\n\r\n    @RestController\r\n    public class MessageRequestController {...}\r\n\r\n\r\nCURL\r\n\r\n    ubuntu:~$ curl -X GET localhost:8080/hello\r\n    Hello, you!\r\n\r\n\r\n","title":"Spring controller gets invoked but returns 404","body":"<p>Change your method return a <code>ResponseEntity&lt;T&gt;</code></p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/hello&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;String&gt; hello() {\n    System.out.println(&quot;Hit me!&quot;);\n    return new ResponseEntity&lt;String&gt;(&quot;Hello, you!&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>or change the controller to <code>RestController</code></p>\n<pre><code>@RestController\npublic class MessageRequestController {...}\n</code></pre>\n<p>CURL</p>\n<pre><code>ubuntu:~$ curl -X GET localhost:8080/hello\nHello, you!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9779296,"reputation":52,"user_id":7248021,"display_name":"Saver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516957406,"creation_date":1516957406,"answer_id":48458310,"question_id":48457939,"body_markdown":"As you see the &quot;hit me&quot;, there&#39;s no mapping issue, but in your @RequestMapping annotation you specifie a produce type to &quot;application/json&quot; and you return a simple poor String not formatted and without any header(&#39;Content-Type: application/json&#39;).\r\n\r\nAdd the header and format the outpout.","title":"Spring controller gets invoked but returns 404","body":"<p>As you see the \"hit me\", there's no mapping issue, but in your @RequestMapping annotation you specifie a produce type to \"application/json\" and you return a simple poor String not formatted and without any header('Content-Type: application/json').</p>\n\n<p>Add the header and format the outpout.</p>\n"},{"tags":[],"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1516957762,"creation_date":1516957762,"answer_id":48458387,"question_id":48457939,"body_markdown":"Short version:\r\n\r\nAnnotate your endpoint method with [ResponseBody](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html) to bind the return value to the response body.\r\n\r\n    @Controller\r\n    public class MessageRequestController {\r\n\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/hello&quot;, produces = &quot;application/json&quot;)\r\n        @ResponseBody\r\n        public String hello() {\r\n            System.out.println(&quot;Hit me!&quot;);\r\n            return &quot;Hello, you!&quot;;\r\n        }\r\n\r\n    }\r\n\r\nYou can instead annotate your class with [RestController](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html) instead of `Controller` to apply `ResponseBody` to each method of the class.\r\n\r\n    @RestController\r\n    public class MessageRequestController {\r\n\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/hello&quot;, produces = &quot;application/json&quot;)\r\n        public String hello() {\r\n            System.out.println(&quot;Hit me!&quot;);\r\n            return &quot;Hello, you!&quot;;\r\n        }\r\n\r\n    }\r\n\r\nWith @Controller, you use the default model-view from [Spring Web MVC](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc), and you&#39;re actually telling spring to render the view called `Hello, you!.tml` from your resources directory (`src/main/resources/templates` for a Spring Boot project, if I remember correctly).\r\n\r\nYou can read [this article](https://dzone.com/articles/spring-framework-restcontroller-vs-controller) for more information about the Spring MVC REST Workflow.\r\n\r\nOnce you&#39;re more familiar with those concepts, you can even further customize your endpoint method using [ResponseEntity](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-responseentity).","title":"Spring controller gets invoked but returns 404","body":"<p>Short version:</p>\n\n<p>Annotate your endpoint method with <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html\" rel=\"noreferrer\">ResponseBody</a> to bind the return value to the response body.</p>\n\n<pre><code>@Controller\npublic class MessageRequestController {\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/hello\", produces = \"application/json\")\n    @ResponseBody\n    public String hello() {\n        System.out.println(\"Hit me!\");\n        return \"Hello, you!\";\n    }\n\n}\n</code></pre>\n\n<p>You can instead annotate your class with <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\" rel=\"noreferrer\">RestController</a> instead of <code>Controller</code> to apply <code>ResponseBody</code> to each method of the class.</p>\n\n<pre><code>@RestController\npublic class MessageRequestController {\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/hello\", produces = \"application/json\")\n    public String hello() {\n        System.out.println(\"Hit me!\");\n        return \"Hello, you!\";\n    }\n\n}\n</code></pre>\n\n<p>With @Controller, you use the default model-view from <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc\" rel=\"noreferrer\">Spring Web MVC</a>, and you're actually telling spring to render the view called <code>Hello, you!.tml</code> from your resources directory (<code>src/main/resources/templates</code> for a Spring Boot project, if I remember correctly).</p>\n\n<p>You can read <a href=\"https://dzone.com/articles/spring-framework-restcontroller-vs-controller\" rel=\"noreferrer\">this article</a> for more information about the Spring MVC REST Workflow.</p>\n\n<p>Once you're more familiar with those concepts, you can even further customize your endpoint method using <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-responseentity\" rel=\"noreferrer\">ResponseEntity</a>.</p>\n"},{"tags":[],"owner":{"account_id":15211392,"reputation":1754,"user_id":10976088,"display_name":"Ghasem Sadeghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584688795,"creation_date":1584647093,"answer_id":60764056,"question_id":48457939,"body_markdown":"When everything seems ok but receive 404, check this answer:\r\n\r\n***As you know:**&lt;br&gt;*\r\nIn the Spring MVC you can return view as a ``String`` or ``ModelAndView`` object.\r\n\r\n***IMPORTANT NOTE:***\r\n&lt;br&gt;\r\nIn both cases you have to pay attention to **relative/absolute path**:&lt;br&gt;\r\n\r\n 1. If you declare ``/`` in the beginning of the view name, you are using **absolute path**.&lt;br&gt;\r\n  Namely it does not matter **class level** ``@RequestMapping`` and directly introduce itself as the **final view name**.\r\n 2. If you **do not** declare ``/`` in the beginning of the view name, you are using **relative path** (relative to the class path) and therefore it **appends** to the **class level** ``@RequestMapping`` to construct **final view name**.\r\n\r\nSo, you have to consider the above notes when use the Spring MVC.\r\n\r\n**Example:**&lt;br&gt;\r\n1. create two HTML file ``test1.html`` and ``test2.html`` in the ``static`` folder of spring (boot) structure:&lt;br&gt;\r\nPlease note that the **class level** ``@RequestMapping`` behaves as a **folder** path in the case of **relative** path.&lt;br&gt;\r\n&lt;br&gt;\r\n```\r\n--- resources\r\n    --- static\r\n        --- classLevelPath     //behaves as a folder when we use relative path scenario in view names   \r\n            --- test2.html      //this will be used for relative path [case (2)]\r\n        --- test1.html          //this will be used for absolute path [case (1)]\r\n\r\n```\r\n\r\n\r\n2. create a controller class like as the below. This example shows different cases with return ``String`` and ``ModelAndView`` in both **relative** and **absolute** path.\r\n```\r\n\r\n@Controller\r\n@RequestMapping(&quot;/classLevelPath&quot;)\r\npublic class TestController {\r\n\r\n    //case(1)\r\n    @RequestMapping(&quot;/methodLevelAbsolutePath1&quot;)\r\n    public String absolutePath1(Model model){\r\n        //model.addAttribute();\r\n        //...\r\n        return &quot;/test1.html&quot;;  \r\n    }\r\n\r\n    //case(1)\r\n    @RequestMapping(&quot;/methodLevelAbsolutePath2&quot;)\r\n    public ModelAndView absolutePath2(Model model){\r\n        ModelAndView modelAndView = new ModelAndView(&quot;/test1.html&quot;);\r\n        //modelAndView.addObject()\r\n        //....\r\n        return modelAndView; \r\n    }\r\n\r\n    //case(2)\r\n    @RequestMapping(&quot;/methodLevelRelativePath1&quot;)\r\n    public String relativePath1(Model model){\r\n        //model.addAttribute();\r\n        //...\r\n        return &quot;test2.html&quot;;\r\n    }\r\n\r\n    //case(2)\r\n    @RequestMapping(&quot;/methodLevelRelativePath2&quot;)\r\n    public ModelAndView relativePath2(Model model){\r\n        ModelAndView modelAndView = new ModelAndView(&quot;test2.html&quot;);\r\n        //modelAndView.addObject()\r\n        //....\r\n        return modelAndView;  \r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n**Note:**&lt;br&gt;\r\nYou can specify the suffix of your view files by a ``ViewResolver`` (for example ``InternalResourceViewResolver`` or ``spring.mvc.view.suffix=.html`` in the ``appliction.properties`` file of Spring Boot and do not declare ``.html`` suffix in the above code.\r\n\r\nBest Regard\r\n\r\n\r\n","title":"Spring controller gets invoked but returns 404","body":"<p>When everything seems ok but receive 404, check this answer:</p>\n\n<p><strong><em>As you know:</strong><br></em>\nIn the Spring MVC you can return view as a <code>String</code> or <code>ModelAndView</code> object.</p>\n\n<p><strong><em>IMPORTANT NOTE:</em></strong>\n<br>\nIn both cases you have to pay attention to <strong>relative/absolute path</strong>:<br></p>\n\n<ol>\n<li>If you declare <code>/</code> in the beginning of the view name, you are using <strong>absolute path</strong>.<br>\nNamely it does not matter <strong>class level</strong> <code>@RequestMapping</code> and directly introduce itself as the <strong>final view name</strong>.</li>\n<li>If you <strong>do not</strong> declare <code>/</code> in the beginning of the view name, you are using <strong>relative path</strong> (relative to the class path) and therefore it <strong>appends</strong> to the <strong>class level</strong> <code>@RequestMapping</code> to construct <strong>final view name</strong>.</li>\n</ol>\n\n<p>So, you have to consider the above notes when use the Spring MVC.</p>\n\n<p><strong>Example:</strong><br>\n1. create two HTML file <code>test1.html</code> and <code>test2.html</code> in the <code>static</code> folder of spring (boot) structure:<br>\nPlease note that the <strong>class level</strong> <code>@RequestMapping</code> behaves as a <strong>folder</strong> path in the case of <strong>relative</strong> path.<br>\n<br></p>\n\n<pre><code>--- resources\n    --- static\n        --- classLevelPath     //behaves as a folder when we use relative path scenario in view names   \n            --- test2.html      //this will be used for relative path [case (2)]\n        --- test1.html          //this will be used for absolute path [case (1)]\n\n</code></pre>\n\n<ol start=\"2\">\n<li>create a controller class like as the below. This example shows different cases with return <code>String</code> and <code>ModelAndView</code> in both <strong>relative</strong> and <strong>absolute</strong> path.</li>\n</ol>\n\n<pre><code>\n@Controller\n@RequestMapping(\"/classLevelPath\")\npublic class TestController {\n\n    //case(1)\n    @RequestMapping(\"/methodLevelAbsolutePath1\")\n    public String absolutePath1(Model model){\n        //model.addAttribute();\n        //...\n        return \"/test1.html\";  \n    }\n\n    //case(1)\n    @RequestMapping(\"/methodLevelAbsolutePath2\")\n    public ModelAndView absolutePath2(Model model){\n        ModelAndView modelAndView = new ModelAndView(\"/test1.html\");\n        //modelAndView.addObject()\n        //....\n        return modelAndView; \n    }\n\n    //case(2)\n    @RequestMapping(\"/methodLevelRelativePath1\")\n    public String relativePath1(Model model){\n        //model.addAttribute();\n        //...\n        return \"test2.html\";\n    }\n\n    //case(2)\n    @RequestMapping(\"/methodLevelRelativePath2\")\n    public ModelAndView relativePath2(Model model){\n        ModelAndView modelAndView = new ModelAndView(\"test2.html\");\n        //modelAndView.addObject()\n        //....\n        return modelAndView;  \n    }\n\n\n}\n\n</code></pre>\n\n<p><strong>Note:</strong><br>\nYou can specify the suffix of your view files by a <code>ViewResolver</code> (for example <code>InternalResourceViewResolver</code> or <code>spring.mvc.view.suffix=.html</code> in the <code>appliction.properties</code> file of Spring Boot and do not declare <code>.html</code> suffix in the above code.</p>\n\n<p>Best Regard</p>\n"}],"owner":{"account_id":9991146,"reputation":2615,"user_id":7390408,"accept_rate":41,"display_name":"wesleyy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26818,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":48458263,"answer_count":4,"score":36,"last_activity_date":1681874353,"creation_date":1516955644,"question_id":48457939,"body_markdown":"I am writing a Spring Boot application. I have written a simple controller that gets invoked whenever the endpoint is hit, but it still returns status 404 and not the specified return value.\r\n\r\n**HelloController**\r\n\r\n    @Controller\r\n    public class MessageRequestController {\r\n    \r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/hello&quot;, produces = &quot;application/json&quot;)\r\n    \tpublic String hello() {\r\n    \t\tSystem.out.println(&quot;Hit me!&quot;);\r\n    \t\treturn &quot;Hello, you!&quot;;\r\n    \t}\r\n    }\r\n\r\nNow whenever I call `localhost:8080/hello`, I see the console log `&quot;Hit me!&quot;`, but `&quot;Hello, you!&quot;` is never returned. Postman outputs:\r\n\r\n    {\r\n        &quot;timestamp&quot;: 1516953147719,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;No message available&quot;,\r\n        &quot;path&quot;: &quot;/hello&quot;\r\n    }\r\n\r\n**Application.java**\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.sergialmar.wschat&quot;}) // this is the root package of everything\r\n    @EntityScan(&quot;com.sergialmar.wschat&quot;)\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }","title":"Spring controller gets invoked but returns 404","body":"<p>I am writing a Spring Boot application. I have written a simple controller that gets invoked whenever the endpoint is hit, but it still returns status 404 and not the specified return value.</p>\n\n<p><strong>HelloController</strong></p>\n\n<pre><code>@Controller\npublic class MessageRequestController {\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/hello\", produces = \"application/json\")\n    public String hello() {\n        System.out.println(\"Hit me!\");\n        return \"Hello, you!\";\n    }\n}\n</code></pre>\n\n<p>Now whenever I call <code>localhost:8080/hello</code>, I see the console log <code>\"Hit me!\"</code>, but <code>\"Hello, you!\"</code> is never returned. Postman outputs:</p>\n\n<pre><code>{\n    \"timestamp\": 1516953147719,\n    \"status\": 404,\n    \"error\": \"Not Found\",\n    \"message\": \"No message available\",\n    \"path\": \"/hello\"\n}\n</code></pre>\n\n<p><strong>Application.java</strong></p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan({\"com.sergialmar.wschat\"}) // this is the root package of everything\n@EntityScan(\"com.sergialmar.wschat\")\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter","dart","console","worldtimeapi"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681282777,"post_id":75992722,"comment_id":134029473,"body_markdown":"here is the relevant part of your error message: Unhandled Exception: type &#39;List&#39; is not a subtype of type &#39;String&#39; in type cast","body":"here is the relevant part of your error message: Unhandled Exception: type &#39;List&#39; is not a subtype of type &#39;String&#39; in type cast"},{"owner":{"account_id":28281947,"reputation":1,"user_id":21623464,"display_name":"aclmonkebren"},"score":0,"creation_date":1681282894,"post_id":75992722,"comment_id":134029501,"body_markdown":"just perform a hot restart, now the console message is like this:\n\nPerforming hot restart...\nSyncing files to device AOSP on IA Emulator...\nRestarted application in 1,477ms.\nE/flutter (16861): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: HandshakeException: Connection terminated during handshake\nE/flutter (16861):","body":"just perform a hot restart, now the console message is like this:  Performing hot restart... Syncing files to device AOSP on IA Emulator... Restarted application in 1,477ms. E/flutter (16861): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: HandshakeException: Connection terminated during handshake E/flutter (16861):"}],"answers":[{"tags":[],"owner":{"account_id":28243275,"reputation":1086,"user_id":21590733,"display_name":"Vivek Chib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681874205,"creation_date":1681285083,"answer_id":75993025,"question_id":75992722,"body_markdown":"Problem is here:\r\n\r\n    String datetime = [&#39;datetime&#39;] as String;\r\n    String offset = [&#39;offset&#39;] as String;\r\n\r\nyou are assigning a `List&lt;String&gt;` (`[&quot;&quot;]`) to `String`.\r\n\r\n    {\r\n        &quot;abbreviation&quot;: &quot;BST&quot;,\r\n        &quot;client_ip&quot;: &quot;223.225.60.61&quot;,\r\n        &quot;datetime&quot;: &quot;2023-04-12T08:34:34.157770+01:00&quot;,\r\n        &quot;day_of_week&quot;: 3,\r\n        &quot;day_of_year&quot;: 102,\r\n        &quot;dst&quot;: true,\r\n        &quot;dst_from&quot;: &quot;2023-03-26T01:00:00+00:00&quot;,\r\n        &quot;dst_offset&quot;: 3600,\r\n        &quot;dst_until&quot;: &quot;2023-10-29T01:00:00+00:00&quot;,\r\n        &quot;raw_offset&quot;: 0,\r\n        &quot;timezone&quot;: &quot;Europe/London&quot;,\r\n        &quot;unixtime&quot;: 1681284874,\r\n        &quot;utc_datetime&quot;: &quot;2023-04-12T07:34:34.157770+00:00&quot;,\r\n        &quot;utc_offset&quot;: &quot;+01:00&quot;,\r\n        &quot;week_number&quot;: 15\r\n    }\r\n\r\n Also, there&#39;s nothing named &quot;offset&quot; inside the JSON response. So, make these changes: \r\n\r\n        String datetime = data[&#39;datetime&#39;];\r\n        String offset = data[&#39;dst_offset&#39;];","title":"Understood programming as a beginner only, in Flutter, is my coding wrong or theres an issue with my connection ie no valid SSL certificate?","body":"<p>Problem is here:</p>\n<pre><code>String datetime = ['datetime'] as String;\nString offset = ['offset'] as String;\n</code></pre>\n<p>you are assigning a <code>List&lt;String&gt;</code> (<code>[&quot;&quot;]</code>) to <code>String</code>.</p>\n<pre><code>{\n    &quot;abbreviation&quot;: &quot;BST&quot;,\n    &quot;client_ip&quot;: &quot;223.225.60.61&quot;,\n    &quot;datetime&quot;: &quot;2023-04-12T08:34:34.157770+01:00&quot;,\n    &quot;day_of_week&quot;: 3,\n    &quot;day_of_year&quot;: 102,\n    &quot;dst&quot;: true,\n    &quot;dst_from&quot;: &quot;2023-03-26T01:00:00+00:00&quot;,\n    &quot;dst_offset&quot;: 3600,\n    &quot;dst_until&quot;: &quot;2023-10-29T01:00:00+00:00&quot;,\n    &quot;raw_offset&quot;: 0,\n    &quot;timezone&quot;: &quot;Europe/London&quot;,\n    &quot;unixtime&quot;: 1681284874,\n    &quot;utc_datetime&quot;: &quot;2023-04-12T07:34:34.157770+00:00&quot;,\n    &quot;utc_offset&quot;: &quot;+01:00&quot;,\n    &quot;week_number&quot;: 15\n}\n</code></pre>\n<p>Also, there's nothing named &quot;offset&quot; inside the JSON response. So, make these changes:</p>\n<pre><code>    String datetime = data['datetime'];\n    String offset = data['dst_offset'];\n</code></pre>\n"}],"owner":{"account_id":28281947,"reputation":1,"user_id":21623464,"display_name":"aclmonkebren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681874205,"creation_date":1681282734,"question_id":75992722,"body_markdown":"\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:http/http.dart&#39; as https;\r\nimport &#39;dart:convert&#39;;\r\n//above is for import\r\nclass Loading extends StatefulWidget {\r\n  const Loading({Key? key}) : super(key: key);\r\n  @override\r\n  State&lt;Loading&gt; createState() =&gt; _LoadingState(); //code here\r\n} //code above\r\n//below code\r\nclass _LoadingState extends State&lt;Loading&gt; {\r\n\r\n  void getTime () async {\r\n  //make the request for timezone from Europe,London\r\n    Uri url = Uri.parse(&#39;https://worldtimeapi.org/api/timezone/Europe/London&#39;);\r\n    https.Response response = await https.get(url);\r\n    Map data = jsonDecode(response.body);\r\n   // print(data);\r\n//code above\r\n    //get properties from data\r\n    String datetime = [&#39;datetime&#39;] as String;\r\n    String offset = [&#39;offset&#39;] as String;\r\n    print(datetime);\r\n    print(offset);\r\n  }\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    getTime();\r\n//code above\r\n  }\r\n\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      body: Text(&#39;loading screen&#39;),\r\n    );\r\n  }\r\n}\r\n```\r\nbelow is my console:\r\n\r\n    Performing hot restart...\r\n    Syncing files to device AOSP on IA Emulator...\r\n    Restarted application in 1,541ms.\r\n    E/flutter (16861): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: type &#39;List&lt;String&gt;&#39; is not a subtype of type &#39;String&#39; in type cast\r\n    E/flutter (16861): #0      _LoadingState.getTime (package:world_time/pages/loading.dart:22:36)\r\n    E/flutter (16861): &lt;asynchronous suspension&gt;\r\n    E/flutter (16861): \r\n\r\n","title":"Understood programming as a beginner only, in Flutter, is my coding wrong or theres an issue with my connection ie no valid SSL certificate?","body":"<pre><code>import 'package:flutter/material.dart';\nimport 'package:http/http.dart' as https;\nimport 'dart:convert';\n//above is for import\nclass Loading extends StatefulWidget {\n  const Loading({Key? key}) : super(key: key);\n  @override\n  State&lt;Loading&gt; createState() =&gt; _LoadingState(); //code here\n} //code above\n//below code\nclass _LoadingState extends State&lt;Loading&gt; {\n\n  void getTime () async {\n  //make the request for timezone from Europe,London\n    Uri url = Uri.parse('https://worldtimeapi.org/api/timezone/Europe/London');\n    https.Response response = await https.get(url);\n    Map data = jsonDecode(response.body);\n   // print(data);\n//code above\n    //get properties from data\n    String datetime = ['datetime'] as String;\n    String offset = ['offset'] as String;\n    print(datetime);\n    print(offset);\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    getTime();\n//code above\n  }\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Text('loading screen'),\n    );\n  }\n}\n</code></pre>\n<p>below is my console:</p>\n<pre><code>Performing hot restart...\nSyncing files to device AOSP on IA Emulator...\nRestarted application in 1,541ms.\nE/flutter (16861): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: type 'List&lt;String&gt;' is not a subtype of type 'String' in type cast\nE/flutter (16861): #0      _LoadingState.getTime (package:world_time/pages/loading.dart:22:36)\nE/flutter (16861): &lt;asynchronous suspension&gt;\nE/flutter (16861): \n</code></pre>\n"},{"tags":["java","spring-boot","api","soap"],"answers":[{"tags":[],"owner":{"account_id":766390,"reputation":540,"user_id":797512,"display_name":"jeremyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620134740,"creation_date":1620134740,"answer_id":67385702,"question_id":67385432,"body_markdown":"I&#39;m using Spring Boot&#39;s @RestController and there&#39;s (at least) two ways I can think of doing this:\r\n\r\n1. Your endpoint method has a param of type `HttpServletRequest` which Spring automatically populates for you. Then, if you called it `request`, in your code you can do things like `request.getHeader(HttpHeaders.AUTHORIZATION)`.\r\n\r\n2. Your endpoint method has a param annotated with `@RequestHeader(&quot;My-Header-Name&quot;) String myHeaderName`, then in your code read `myHeaderName` as you need. ","title":"How to Read SOAP API Request Headers Using Java Spring","body":"<p>I'm using Spring Boot's @RestController and there's (at least) two ways I can think of doing this:</p>\n<ol>\n<li><p>Your endpoint method has a param of type <code>HttpServletRequest</code> which Spring automatically populates for you. Then, if you called it <code>request</code>, in your code you can do things like <code>request.getHeader(HttpHeaders.AUTHORIZATION)</code>.</p>\n</li>\n<li><p>Your endpoint method has a param annotated with <code>@RequestHeader(&quot;My-Header-Name&quot;) String myHeaderName</code>, then in your code read <code>myHeaderName</code> as you need.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681874065,"creation_date":1620135296,"answer_id":67385884,"question_id":67385432,"body_markdown":"Have you tried:\r\n\r\n     @SoapHeader(&quot;{http://www.example.org/EcCustom67ARequest/}CUSTOMERNAME&quot;) ...,\r\n     @SoapHeader(&quot;{http://www.example.org/EcCustom67ARequest/}EMPID&quot;) ...\r\n\r\n?\r\n\r\nIt looks like the right approach to set namespace on soap headers:\r\n\r\n 1. https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/soap/server/endpoint/annotation/SoapHeader.html\r\n 2. https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true#toString--","title":"How to Read SOAP API Request Headers Using Java Spring","body":"<p>Have you tried:</p>\n<pre><code> @SoapHeader(&quot;{http://www.example.org/EcCustom67ARequest/}CUSTOMERNAME&quot;) ...,\n @SoapHeader(&quot;{http://www.example.org/EcCustom67ARequest/}EMPID&quot;) ...\n</code></pre>\n<p>?</p>\n<p>It looks like the right approach to set namespace on soap headers:</p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/soap/server/endpoint/annotation/SoapHeader.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/soap/server/endpoint/annotation/SoapHeader.html</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true#toString--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true#toString--</a></li>\n</ol>\n"}],"owner":{"account_id":13848377,"reputation":21,"user_id":9996958,"display_name":"user9996958"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681874065,"creation_date":1620133758,"question_id":67385432,"body_markdown":"Below is my soap request, I need to read the soap headers using spring boot java how can I do that.\r\nTried all possible scenarios I am able to read the headers without the target namespace but if I involve targetnamespace it gives me a null pointer exception error.Thanks for the help in advance.\r\n\r\n**Actual Requirement Which needs a Solution:**\r\n\r\n    &lt;soap11:Envelope xmlns:soap11=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;soap11:Header&gt;\r\n            &lt;NS1:CUSTOMERNAME xmlns:NS1=&quot;http://www.example.org/EcCustom67ARequest/&quot;&gt;XmasTree&lt;/NS1:CUSTOMERNAME&gt;\r\n            &lt;NS2:EMPID xmlns:NS2=&quot;http://www.example.org/EcCustom67ARequest/&quot;&gt;kite123&lt;/NS2:EMPID&gt;\r\n        &lt;/soap11:Header&gt;\r\n        &lt;soap11:Body&gt;\r\n            &lt;clientNS:EcCustom67A xmlns:clientNS=&quot;http://www.example.org/EcCustom67ARequest/&quot;&gt;\r\n                &lt;clientNS:PAYMENT_MODE&gt;NEFT&lt;/clientNS:PAYMENT_MODE&gt;\r\n                &lt;clientNS:VAN&gt;AUT1123456&lt;/clientNS:VAN&gt;\r\n                &lt;clientNS:AMOUNT&gt;1000.00&lt;/clientNS:AMOUNT&gt;\r\n                &lt;clientNS:CREDIT_ACCOUNT_NUMBER&gt;124236541582&lt;/clientNS:CREDIT_ACCOUNT_NUMBER&gt;\r\n                &lt;clientNS:CUSTOMER_CODE&gt;AUT1&lt;/clientNS:CUSTOMER_CODE&gt;\r\n                &lt;clientNS:TRANSACTION_DATE&gt;30-04-2021&lt;/clientNS:TRANSACTION_DATE&gt;\r\n                &lt;clientNS:ADD_INFO&gt;Collection&lt;/clientNS:ADD_INFO&gt;\r\n            &lt;/clientNS:EcCustom67A&gt;\r\n        &lt;/soap11:Body&gt;\r\n    &lt;/soap11:Envelope&gt;\r\n\r\n**Able to do without targetnamespace:**\r\n\r\n    &lt;soapenv:Envelope\r\n      xmlns:soapenv = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n      xmlns:xsd = &quot;http://www.w3.org/2001/XMLSchema&quot;\r\n      xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:ns2 = &quot;http://www.example.org/EcCustom67ARequest/&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n        &lt;soapenv:Header&gt; \r\n                &lt;CUSTOMERNAME&gt;XmasTree&lt;/CUSTOMERNAME&gt;\r\n                &lt;EMPID&gt;kite123&lt;/EMPID&gt; \r\n      &lt;/soapenv:Header&gt;\r\n        &lt;soapenv:Body&gt;\r\n            &lt;ns2:EcCustom67A soapenv:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n                &lt;ns2:PAYMENT_MODE&gt;NEFT&lt;/ns2:PAYMENT_MODE&gt; \r\n    \t\t\t&lt;ns2:VAN&gt;ADAN12345678&lt;/ns2:VAN&gt;\r\n    \t\t\t&lt;ns2:AMOUNT&gt;1000&lt;/ns2:AMOUNT&gt;\r\n    \t\t\t&lt;ns2:CREDIT_ACCOUNT_NUMBER&gt;108328359093&lt;/ns2:CREDIT_ACCOUNT_NUMBER&gt;\r\n    \t\t\t&lt;ns2:CUSTOMER_CODE&gt;ADAN&lt;/ns2:CUSTOMER_CODE&gt;\r\n    \t\t\t&lt;ns2:TRANSACTION_DATE&gt;17-11-2020 13:10:12&lt;/ns2:TRANSACTION_DATE&gt;\r\n    \t\t\t&lt;ns2:ADD_INFO&gt;Collection&lt;/ns2:ADD_INFO&gt;\r\n            &lt;/ns2:EcCustom67A&gt;\r\n        &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n**Working Code** :\r\n\r\n    @Endpoint\r\n    public class EcCustom67AEndPoint {\r\n    \r\n    \tprivate static final String NAMESPACE_URI = &quot;http://www.example.org/EcCustom67ARequest/&quot;;\r\n    \r\n    \t@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;EcCustom67A&quot;)\r\n    \t@ResponsePayload\r\n    \tpublic EcCustom67AResponse getEcCustom67A(@RequestPayload EcCustom67A request,\r\n    \t\t\t@SoapHeader(value = &quot;CUSTOMERNAME&quot;) SoapHeaderElement customerName,\r\n    \t\t\t@SoapHeader(value = &quot;EMPID&quot;) SoapHeaderElement empid) throws JAXBException {\r\n    \t\tEcCustom67AResponse response = new EcCustom67AResponse();\r\n    \r\n    \t\tString custName = customerName.getText();\r\n    \t\tString empID = empid.getText();\r\n    \t\t\r\n    \t\tresponse.setAMOUNT(request.getAMOUNT().replaceAll(&quot;,&quot;, &quot;,&quot;));\r\n    \t\tresponse.setCREDITACCOUNTNUMBER(request.getCREDITACCOUNTNUMBER());\r\n    \t\tresponse.setCUSTOMERCODE(request.getCUSTOMERCODE());\r\n    \t\tresponse.setVAN(request.getVAN());\r\n    \t\tresponse.setPAYMENTMODE(request.getPAYMENTMODE());\r\n    \t\tresponse.setTRANSACTIONDATE(request.getTRANSACTIONDATE());\r\n    \t\tresponse.setADDINFO(request.getADDINFO());\r\n    \r\n    \r\n    \t\r\n    \t\t\tif (custName.equals(&quot;XmasTree&quot;) &amp;&amp; empID.equals(&quot;kite123&quot;)) {\r\n    \t\t\t\tif (response.getAMOUNT() != null) {\r\n    \t\t\t\t\tif (Float.parseFloat(response.getAMOUNT().replaceAll(&quot;,&quot;, &quot;&quot;)) &gt;= 1000) {\r\n    \t\t\t\t\t\tresponse.setSTATUS(&quot;Success&quot;);\r\n    \t\t\t\t\t\tresponse.setREMARKS(&quot;Beneficiary Account Credited&quot;);\r\n    \t\t\t\t\t} else if (Float.parseFloat(response.getAMOUNT().replaceAll(&quot;,&quot;, &quot;&quot;)) &lt; 1000) {\r\n    \t\t\t\t\t\tresponse.setSTATUS(&quot;Reject&quot;);\r\n    \t\t\t\t\t\tresponse.setREMARKS(&quot;Transaction Failed&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tresponse.setSTATUS(&quot;Reject&quot;);\r\n    \t\t\t\t\tresponse.setREMARKS(&quot;Transaction Failed&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t} else{\r\n    \t\t\tresponse.setPAYMENTMODE(null);\r\n    \t\t\tresponse.setVAN(null);\r\n    \t\t\tresponse.setAMOUNT(null);\r\n    \t\t\tresponse.setCREDITACCOUNTNUMBER(null);\r\n    \t\t\tresponse.setCUSTOMERCODE(null);\r\n    \t\t\tresponse.setTRANSACTIONDATE(null);\r\n    \t\t\tresponse.setADDINFO(null);\r\n    \r\n    \t\t\tresponse.setSTATUS(&quot;Reject&quot;);\r\n    \t\t\tresponse.setREMARKS(&quot;Invalid Authentication&quot;);\r\n    \r\n    \t\t\tJAXBContext jc = JAXBContext.newInstance(IPValAllField219Response.class);\r\n    \t\t\tMarshaller marshaller = jc.createMarshaller();\r\n    \t\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\treturn response;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Note:** Working code does the job without targetname spce but if I include targetname spce it gives me Null Pointer Exception Please Help on the above issue and thanks in advance.\r\n","title":"How to Read SOAP API Request Headers Using Java Spring","body":"<p>Below is my soap request, I need to read the soap headers using spring boot java how can I do that.\nTried all possible scenarios I am able to read the headers without the target namespace but if I involve targetnamespace it gives me a null pointer exception error.Thanks for the help in advance.</p>\n<p><strong>Actual Requirement Which needs a Solution:</strong></p>\n<pre><code>&lt;soap11:Envelope xmlns:soap11=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap11:Header&gt;\n        &lt;NS1:CUSTOMERNAME xmlns:NS1=&quot;http://www.example.org/EcCustom67ARequest/&quot;&gt;XmasTree&lt;/NS1:CUSTOMERNAME&gt;\n        &lt;NS2:EMPID xmlns:NS2=&quot;http://www.example.org/EcCustom67ARequest/&quot;&gt;kite123&lt;/NS2:EMPID&gt;\n    &lt;/soap11:Header&gt;\n    &lt;soap11:Body&gt;\n        &lt;clientNS:EcCustom67A xmlns:clientNS=&quot;http://www.example.org/EcCustom67ARequest/&quot;&gt;\n            &lt;clientNS:PAYMENT_MODE&gt;NEFT&lt;/clientNS:PAYMENT_MODE&gt;\n            &lt;clientNS:VAN&gt;AUT1123456&lt;/clientNS:VAN&gt;\n            &lt;clientNS:AMOUNT&gt;1000.00&lt;/clientNS:AMOUNT&gt;\n            &lt;clientNS:CREDIT_ACCOUNT_NUMBER&gt;124236541582&lt;/clientNS:CREDIT_ACCOUNT_NUMBER&gt;\n            &lt;clientNS:CUSTOMER_CODE&gt;AUT1&lt;/clientNS:CUSTOMER_CODE&gt;\n            &lt;clientNS:TRANSACTION_DATE&gt;30-04-2021&lt;/clientNS:TRANSACTION_DATE&gt;\n            &lt;clientNS:ADD_INFO&gt;Collection&lt;/clientNS:ADD_INFO&gt;\n        &lt;/clientNS:EcCustom67A&gt;\n    &lt;/soap11:Body&gt;\n&lt;/soap11:Envelope&gt;\n</code></pre>\n<p><strong>Able to do without targetnamespace:</strong></p>\n<pre><code>&lt;soapenv:Envelope\n  xmlns:soapenv = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n  xmlns:xsd = &quot;http://www.w3.org/2001/XMLSchema&quot;\n  xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns:ns2 = &quot;http://www.example.org/EcCustom67ARequest/&quot; elementFormDefault=&quot;qualified&quot;&gt;\n    &lt;soapenv:Header&gt; \n            &lt;CUSTOMERNAME&gt;XmasTree&lt;/CUSTOMERNAME&gt;\n            &lt;EMPID&gt;kite123&lt;/EMPID&gt; \n  &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;ns2:EcCustom67A soapenv:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; elementFormDefault=&quot;qualified&quot;&gt;\n            &lt;ns2:PAYMENT_MODE&gt;NEFT&lt;/ns2:PAYMENT_MODE&gt; \n            &lt;ns2:VAN&gt;ADAN12345678&lt;/ns2:VAN&gt;\n            &lt;ns2:AMOUNT&gt;1000&lt;/ns2:AMOUNT&gt;\n            &lt;ns2:CREDIT_ACCOUNT_NUMBER&gt;108328359093&lt;/ns2:CREDIT_ACCOUNT_NUMBER&gt;\n            &lt;ns2:CUSTOMER_CODE&gt;ADAN&lt;/ns2:CUSTOMER_CODE&gt;\n            &lt;ns2:TRANSACTION_DATE&gt;17-11-2020 13:10:12&lt;/ns2:TRANSACTION_DATE&gt;\n            &lt;ns2:ADD_INFO&gt;Collection&lt;/ns2:ADD_INFO&gt;\n        &lt;/ns2:EcCustom67A&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p><strong>Working Code</strong> :</p>\n<pre><code>@Endpoint\npublic class EcCustom67AEndPoint {\n\n    private static final String NAMESPACE_URI = &quot;http://www.example.org/EcCustom67ARequest/&quot;;\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;EcCustom67A&quot;)\n    @ResponsePayload\n    public EcCustom67AResponse getEcCustom67A(@RequestPayload EcCustom67A request,\n            @SoapHeader(value = &quot;CUSTOMERNAME&quot;) SoapHeaderElement customerName,\n            @SoapHeader(value = &quot;EMPID&quot;) SoapHeaderElement empid) throws JAXBException {\n        EcCustom67AResponse response = new EcCustom67AResponse();\n\n        String custName = customerName.getText();\n        String empID = empid.getText();\n        \n        response.setAMOUNT(request.getAMOUNT().replaceAll(&quot;,&quot;, &quot;,&quot;));\n        response.setCREDITACCOUNTNUMBER(request.getCREDITACCOUNTNUMBER());\n        response.setCUSTOMERCODE(request.getCUSTOMERCODE());\n        response.setVAN(request.getVAN());\n        response.setPAYMENTMODE(request.getPAYMENTMODE());\n        response.setTRANSACTIONDATE(request.getTRANSACTIONDATE());\n        response.setADDINFO(request.getADDINFO());\n\n\n    \n            if (custName.equals(&quot;XmasTree&quot;) &amp;&amp; empID.equals(&quot;kite123&quot;)) {\n                if (response.getAMOUNT() != null) {\n                    if (Float.parseFloat(response.getAMOUNT().replaceAll(&quot;,&quot;, &quot;&quot;)) &gt;= 1000) {\n                        response.setSTATUS(&quot;Success&quot;);\n                        response.setREMARKS(&quot;Beneficiary Account Credited&quot;);\n                    } else if (Float.parseFloat(response.getAMOUNT().replaceAll(&quot;,&quot;, &quot;&quot;)) &lt; 1000) {\n                        response.setSTATUS(&quot;Reject&quot;);\n                        response.setREMARKS(&quot;Transaction Failed&quot;);\n                    }\n                } else {\n                    response.setSTATUS(&quot;Reject&quot;);\n                    response.setREMARKS(&quot;Transaction Failed&quot;);\n                }\n            \n        } else{\n            response.setPAYMENTMODE(null);\n            response.setVAN(null);\n            response.setAMOUNT(null);\n            response.setCREDITACCOUNTNUMBER(null);\n            response.setCUSTOMERCODE(null);\n            response.setTRANSACTIONDATE(null);\n            response.setADDINFO(null);\n\n            response.setSTATUS(&quot;Reject&quot;);\n            response.setREMARKS(&quot;Invalid Authentication&quot;);\n\n            JAXBContext jc = JAXBContext.newInstance(IPValAllField219Response.class);\n            Marshaller marshaller = jc.createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        }\n\n        \n        return response;\n    }\n\n}\n</code></pre>\n<p><strong>Note:</strong> Working code does the job without targetname spce but if I include targetname spce it gives me Null Pointer Exception Please Help on the above issue and thanks in advance.</p>\n"},{"tags":["java","download","zip","extract","archive"],"answers":[{"tags":[],"owner":{"account_id":18746749,"reputation":121,"user_id":13668740,"display_name":"CoocooFroggy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620868112,"creation_date":1620851375,"answer_id":67510630,"question_id":64037006,"body_markdown":"You can insert `BuildManifest.plist` at the end of the URL. \r\n\r\nFor example:\r\n\r\n[http://updates-http.cdn-apple.com/2021SpringFCS/fullrestores/071-34317/E63B034D-2116-42D0-9FBD-97A3D9060F68/BuildManifest.plist](http://updates-http.cdn-apple.com/2021SpringFCS/fullrestores/071-34317/E63B034D-2116-42D0-9FBD-97A3D9060F68/BuildManifest.plist)","title":"How can I download a single file from a large remote zip file in Java?","body":"<p>You can insert <code>BuildManifest.plist</code> at the end of the URL.</p>\n<p>For example:</p>\n<p><a href=\"http://updates-http.cdn-apple.com/2021SpringFCS/fullrestores/071-34317/E63B034D-2116-42D0-9FBD-97A3D9060F68/BuildManifest.plist\" rel=\"nofollow noreferrer\">http://updates-http.cdn-apple.com/2021SpringFCS/fullrestores/071-34317/E63B034D-2116-42D0-9FBD-97A3D9060F68/BuildManifest.plist</a></p>\n"},{"tags":[],"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681871838,"creation_date":1681871838,"answer_id":76050366,"question_id":64037006,"body_markdown":"Using [Apache Commons Compress][1] and a custom `ByteChannel` implementation backed by HTTP:\r\n\r\n```java\r\nvar url = new URL(...);\r\nvar fileName = &quot;file.txt&quot;;\r\nvar dest = Path.of(fileName);\r\n\r\ntry (var zip = new ZipFile(new HttpChannel(url), &quot;zip&quot;, &quot;UTF8&quot;, true, true);\r\n    var stream = zip.getInputStream(zip.getEntry(fileName))) {\r\n    Files.copy(stream, dest, StandardCopyOption.REPLACE_EXISTING);\r\n}\r\n```\r\n\r\nHttpChannel (modified from [JCodec][2]):\r\n\r\n    public class HttpChannel implements SeekableByteChannel {\r\n\r\n        private final URL url;\r\n        private ReadableByteChannel ch;\r\n        private long pos;\r\n        private long length;\r\n\r\n        public HttpChannel(URL url) {\r\n            this.url = url;\r\n        }\r\n\r\n        @Override\r\n        public long position() {\r\n            return pos;\r\n        }\r\n\r\n        @Override\r\n        public SeekableByteChannel position(long newPosition) throws IOException {\r\n            if (newPosition == pos) {\r\n                return this;\r\n            } else if (ch != null) {\r\n                ch.close();\r\n                ch = null;\r\n            }\r\n            pos = newPosition;\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public long size() throws IOException {\r\n            ensureOpen();\r\n            return length;\r\n        }\r\n\r\n        @Override\r\n        public SeekableByteChannel truncate(long size) {\r\n            throw new UnsupportedOperationException(&quot;Truncate on HTTP is not supported.&quot;);\r\n        }\r\n\r\n        @Override\r\n        public int read(ByteBuffer buffer) throws IOException {\r\n            ensureOpen();\r\n            int read = ch.read(buffer);\r\n            if (read != -1)\r\n                pos += read;\r\n            return read;\r\n        }\r\n\r\n        @Override\r\n        public int write(ByteBuffer buffer) {\r\n            throw new UnsupportedOperationException(&quot;Write to HTTP is not supported.&quot;);\r\n        }\r\n\r\n        @Override\r\n        public boolean isOpen() {\r\n            return ch != null &amp;&amp; ch.isOpen();\r\n        }\r\n\r\n        @Override\r\n        public void close() throws IOException {\r\n            ch.close();\r\n        }\r\n\r\n        private void ensureOpen() throws IOException {\r\n            if (ch == null) {\r\n                URLConnection connection = url.openConnection();\r\n                if (pos &gt; 0)\r\n                    connection.addRequestProperty(&quot;Range&quot;, &quot;bytes=&quot; + pos + &quot;-&quot;);\r\n                ch = Channels.newChannel(connection.getInputStream());\r\n                String resp = connection.getHeaderField(&quot;Content-Range&quot;);\r\n                if (resp != null) {\r\n                    length = Long.parseLong(resp.split(&quot;/&quot;)[1]);\r\n                } else {\r\n                    resp = connection.getHeaderField(&quot;Content-Length&quot;);\r\n                    length = Long.parseLong(resp);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/apache/commons-compress\r\n  [2]: https://github.com/jcodec/jcodec/blob/master/android/src/main/org/jcodec/common/io/HttpChannel.java","title":"How can I download a single file from a large remote zip file in Java?","body":"<p>Using <a href=\"https://github.com/apache/commons-compress\" rel=\"nofollow noreferrer\">Apache Commons Compress</a> and a custom <code>ByteChannel</code> implementation backed by HTTP:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var url = new URL(...);\nvar fileName = &quot;file.txt&quot;;\nvar dest = Path.of(fileName);\n\ntry (var zip = new ZipFile(new HttpChannel(url), &quot;zip&quot;, &quot;UTF8&quot;, true, true);\n    var stream = zip.getInputStream(zip.getEntry(fileName))) {\n    Files.copy(stream, dest, StandardCopyOption.REPLACE_EXISTING);\n}\n</code></pre>\n<p>HttpChannel (modified from <a href=\"https://github.com/jcodec/jcodec/blob/master/android/src/main/org/jcodec/common/io/HttpChannel.java\" rel=\"nofollow noreferrer\">JCodec</a>):</p>\n<pre><code>public class HttpChannel implements SeekableByteChannel {\n\n    private final URL url;\n    private ReadableByteChannel ch;\n    private long pos;\n    private long length;\n\n    public HttpChannel(URL url) {\n        this.url = url;\n    }\n\n    @Override\n    public long position() {\n        return pos;\n    }\n\n    @Override\n    public SeekableByteChannel position(long newPosition) throws IOException {\n        if (newPosition == pos) {\n            return this;\n        } else if (ch != null) {\n            ch.close();\n            ch = null;\n        }\n        pos = newPosition;\n        return this;\n    }\n\n    @Override\n    public long size() throws IOException {\n        ensureOpen();\n        return length;\n    }\n\n    @Override\n    public SeekableByteChannel truncate(long size) {\n        throw new UnsupportedOperationException(&quot;Truncate on HTTP is not supported.&quot;);\n    }\n\n    @Override\n    public int read(ByteBuffer buffer) throws IOException {\n        ensureOpen();\n        int read = ch.read(buffer);\n        if (read != -1)\n            pos += read;\n        return read;\n    }\n\n    @Override\n    public int write(ByteBuffer buffer) {\n        throw new UnsupportedOperationException(&quot;Write to HTTP is not supported.&quot;);\n    }\n\n    @Override\n    public boolean isOpen() {\n        return ch != null &amp;&amp; ch.isOpen();\n    }\n\n    @Override\n    public void close() throws IOException {\n        ch.close();\n    }\n\n    private void ensureOpen() throws IOException {\n        if (ch == null) {\n            URLConnection connection = url.openConnection();\n            if (pos &gt; 0)\n                connection.addRequestProperty(&quot;Range&quot;, &quot;bytes=&quot; + pos + &quot;-&quot;);\n            ch = Channels.newChannel(connection.getInputStream());\n            String resp = connection.getHeaderField(&quot;Content-Range&quot;);\n            if (resp != null) {\n                length = Long.parseLong(resp.split(&quot;/&quot;)[1]);\n            } else {\n                resp = connection.getHeaderField(&quot;Content-Length&quot;);\n                length = Long.parseLong(resp);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76050366,"answer_count":2,"score":0,"last_activity_date":1681871838,"creation_date":1600899325,"question_id":64037006,"body_markdown":"I&#39;m trying to download a small file (0.3 KB) from a given zip file that&#39;s around 3-5 GB in size.\r\n\r\nI have currently been using the native library [libfragmentzip][1] using JNA, which is very fast, but has issues of its own that come with using native libraries (like not being cross-platform).\r\n\r\nI have tried [this][2] solution, but it is much slower and ends up taking minutes compared to using libfragmentzip, which only seems to take seconds.\r\n\r\n[This][3] is a URL to a test zip file (the extension is .ipsw but it is really a zip). The file I am trying to download is `BuildManifest.plist`, in the root of the zip.\r\n\r\nIs there a fast way to download a single file from a remote zip file without using a native library?\r\n\r\n\r\n  [1]: https://github.com/tihmstar/libfragmentzip\r\n  [2]: https://stackoverflow.com/a/3125898/5938387\r\n  [3]: http://updates-http.cdn-apple.com/2020WinterFCS/fullrestores/061-20302/454ACB32-D3F6-4984-92CB-27C8FA368165/iPhone11,8,iPhone12,1_13.4_17E255_Restore.ipsw","title":"How can I download a single file from a large remote zip file in Java?","body":"<p>I'm trying to download a small file (0.3 KB) from a given zip file that's around 3-5 GB in size.</p>\n<p>I have currently been using the native library <a href=\"https://github.com/tihmstar/libfragmentzip\" rel=\"nofollow noreferrer\">libfragmentzip</a> using JNA, which is very fast, but has issues of its own that come with using native libraries (like not being cross-platform).</p>\n<p>I have tried <a href=\"https://stackoverflow.com/a/3125898/5938387\">this</a> solution, but it is much slower and ends up taking minutes compared to using libfragmentzip, which only seems to take seconds.</p>\n<p><a href=\"http://updates-http.cdn-apple.com/2020WinterFCS/fullrestores/061-20302/454ACB32-D3F6-4984-92CB-27C8FA368165/iPhone11,8,iPhone12,1_13.4_17E255_Restore.ipsw\" rel=\"nofollow noreferrer\">This</a> is a URL to a test zip file (the extension is .ipsw but it is really a zip). The file I am trying to download is <code>BuildManifest.plist</code>, in the root of the zip.</p>\n<p>Is there a fast way to download a single file from a remote zip file without using a native library?</p>\n"},{"tags":["java","debugging","cucumber","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681870324,"creation_date":1681870324,"answer_id":76050263,"question_id":76042380,"body_markdown":"Typically teams add a unique header to each HTTP call by an approach similar to this: https://github.com/karatelabs/karate#http-header-manipulation\r\n\r\nElse look at the RuntimeHook: https://stackoverflow.com/a/59080128/143475","title":"How to log debug Id (UUID/uniqueId) in karate report?","body":"<p>Typically teams add a unique header to each HTTP call by an approach similar to this: <a href=\"https://github.com/karatelabs/karate#http-header-manipulation\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#http-header-manipulation</a></p>\n<p>Else look at the RuntimeHook: <a href=\"https://stackoverflow.com/a/59080128/143475\">https://stackoverflow.com/a/59080128/143475</a></p>\n"}],"owner":{"account_id":28212130,"reputation":65,"user_id":21564194,"display_name":"Divya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76050263,"answer_count":1,"score":1,"last_activity_date":1681870324,"creation_date":1681806338,"question_id":76042380,"body_markdown":"How can we log a debug info (like debug id / UUID String / Random Unique Str) for each scenario to the karate report.\r\n\r\nIt will be useful in Http service/API layer and karate report to track each scenario / service transaction.\r\n\r\ni.e., doc string karate / cucumber html report\r\n\r\n```\r\nOther Info: XXXX\r\nUnique Debug Id: 175ee69c-ddc1-11ed-b5ea-0242ac120002\r\n```\r\n\r\nAnd this will be passed to API `175ee69c-ddc1-11ed-b5ea-0242ac120002` as well (via header/request body).\r\n\r\nAnd we&#39;re trying to log the debug id by using the some JS/Java util with background section and publishing the same in reports.","title":"How to log debug Id (UUID/uniqueId) in karate report?","body":"<p>How can we log a debug info (like debug id / UUID String / Random Unique Str) for each scenario to the karate report.</p>\n<p>It will be useful in Http service/API layer and karate report to track each scenario / service transaction.</p>\n<p>i.e., doc string karate / cucumber html report</p>\n<pre><code>Other Info: XXXX\nUnique Debug Id: 175ee69c-ddc1-11ed-b5ea-0242ac120002\n</code></pre>\n<p>And this will be passed to API <code>175ee69c-ddc1-11ed-b5ea-0242ac120002</code> as well (via header/request body).</p>\n<p>And we're trying to log the debug id by using the some JS/Java util with background section and publishing the same in reports.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1681867350,"post_id":76050042,"comment_id":134125039,"body_markdown":"No, I don&#39;t think you can do that in Java...","body":"No, I don&#39;t think you can do that in Java..."}],"owner":{"account_id":1620360,"reputation":504,"user_id":1497081,"display_name":"Evan Steinkerchner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681868328,"creation_date":1681866309,"question_id":76050042,"body_markdown":"Imagine a class declared like this:\r\n\r\n```java\r\npublic abstract class AbstractController&lt;D, W extends AbstractWrapper&lt;D&gt;&gt; {\r\n  protected final W wrapper;\r\n\r\n  // ...\r\n\r\n  protected void onChange(D prev, D curr) {}\r\n}\r\n```\r\n\r\nThe idea here is to be able to define specialized ones based on a data type and a wrapper class that might contain utilities specific to the use case:\r\n\r\n```java\r\npublic class BooleanController extends AbstractController&lt;Boolean, SimpleToggle&gt; {\r\n  // ...\r\n\r\n  @Override\r\n  protected void onChange(Boolean prev, Boolean curr) {\r\n    // Do something with the inherited this.wrapper, which has a type of SimpleToggle\r\n  }\r\n}\r\n\r\npublic class SimpleToggle extends AbstractWrapper&lt;Boolean&gt; {\r\n  // ...\r\n}\r\n```\r\n\r\nMy question is in a situation like this, where the first generic type parameter for AbstractController will always match the generic type parameter for AbstractWrapper (in this example, Boolean), is there any way to infer the type of D for AbstractController in a way that would simplify the typing, so that BooleanController would just extend AbstractController\\&lt;SimpleToggle\\&gt;?\r\n\r\nObviously it&#39;s not that much more to type, but it always bugged me that I couldn&#39;t find a way to automatically infer/detect the type of D here.","title":"Infer a generic type on a Java class","body":"<p>Imagine a class declared like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractController&lt;D, W extends AbstractWrapper&lt;D&gt;&gt; {\n  protected final W wrapper;\n\n  // ...\n\n  protected void onChange(D prev, D curr) {}\n}\n</code></pre>\n<p>The idea here is to be able to define specialized ones based on a data type and a wrapper class that might contain utilities specific to the use case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BooleanController extends AbstractController&lt;Boolean, SimpleToggle&gt; {\n  // ...\n\n  @Override\n  protected void onChange(Boolean prev, Boolean curr) {\n    // Do something with the inherited this.wrapper, which has a type of SimpleToggle\n  }\n}\n\npublic class SimpleToggle extends AbstractWrapper&lt;Boolean&gt; {\n  // ...\n}\n</code></pre>\n<p>My question is in a situation like this, where the first generic type parameter for AbstractController will always match the generic type parameter for AbstractWrapper (in this example, Boolean), is there any way to infer the type of D for AbstractController in a way that would simplify the typing, so that BooleanController would just extend AbstractController&lt;SimpleToggle&gt;?</p>\n<p>Obviously it's not that much more to type, but it always bugged me that I couldn't find a way to automatically infer/detect the type of D here.</p>\n"},{"tags":["java","windows","multicast"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1681868504,"post_id":76049985,"comment_id":134125145,"body_markdown":"Multicast groups have to be &#39;created&#39;.  If there&#39;s no group known to the relevant router, it presumably (I have not bothered to read the RFC) treats it like an unreachable network.    But why is this an issue that needs &quot;solving&quot;?  If you don&#39;t care that no-one&#39;s listening to what you send, ignore the errors.","body":"Multicast groups have to be &#39;created&#39;.  If there&#39;s no group known to the relevant router, it presumably (I have not bothered to read the RFC) treats it like an unreachable network.    But why is this an issue that needs &quot;solving&quot;?  If you don&#39;t care that no-one&#39;s listening to what you send, ignore the errors."}],"owner":{"account_id":15180789,"reputation":1,"user_id":10954092,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681865334,"creation_date":1681865334,"question_id":76049985,"body_markdown":"I have a testing program sending multicast in loopback interface in Windows 10, but return &quot;a socket operation was attempted to an unreachable network&quot; error.\r\n\r\n\r\nAfter some study, I found that I need to start another program as multicast receiver first, before starting the sender program to solve it.\r\n\r\nAnyone knows why? or any other way to solve this issue in Windows 10? thanks","title":"Window 10 send multicast with &quot;a socket operation was attempted to an unreachable network&quot; error","body":"<p>I have a testing program sending multicast in loopback interface in Windows 10, but return &quot;a socket operation was attempted to an unreachable network&quot; error.</p>\n<p>After some study, I found that I need to start another program as multicast receiver first, before starting the sender program to solve it.</p>\n<p>Anyone knows why? or any other way to solve this issue in Windows 10? thanks</p>\n"},{"tags":["java","dictionary","set"],"comments":[{"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"score":0,"creation_date":1366387322,"post_id":16108734,"comment_id":23003751,"body_markdown":"How did you created `Set` from `Map`, using key or value or custom logic? besides there is no `native` method for `HashSet` to `HashMap`. You need to iterate and use some logic as while putting into `HashMap` how you choose key and value.","body":"How did you created <code>Set</code> from <code>Map</code>, using key or value or custom logic? besides there is no <code>native</code> method for <code>HashSet</code> to <code>HashMap</code>. You need to iterate and use some logic as while putting into <code>HashMap</code> how you choose key and value."},{"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"score":0,"creation_date":1366387411,"post_id":16108734,"comment_id":23003805,"body_markdown":"@Paul thanks now question makes clear sense","body":"@Paul thanks now question makes clear sense"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":1,"creation_date":1366387573,"post_id":16108734,"comment_id":23003887,"body_markdown":"I don&#39;t think `Map.Entry` is meant to be used this way. Does the implementation used by `HashMap` override `hashCode` and `equals` for example?","body":"I don&#39;t think <code>Map.Entry</code> is meant to be used this way. Does the implementation used by <code>HashMap</code> override <code>hashCode</code> and <code>equals</code> for example?"},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1366389724,"post_id":16108734,"comment_id":23005051,"body_markdown":"a Set of Map.Entry IS a Map (logically). The implementation of TreeSet/HashSet is to use a tree/hash map to backup the set. \n\nMeaning Set.add(X) == Map.put(X,whatever);","body":"a Set of Map.Entry IS a Map (logically). The implementation of TreeSet/HashSet is to use a tree/hash map to backup the set.   Meaning Set.add(X) == Map.put(X,whatever);"}],"answers":[{"tags":[],"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1366388167,"creation_date":1366387538,"answer_id":16108889,"question_id":16108734,"body_markdown":"There is no inbuilt API in java for direct conversion between `HashSet` and `HashMap`, you need to iterate through set and using `Entry` fill in map.\r\n\r\none approach:\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\r\n\t\t//fill in map\r\n\t\tSet&lt;Entry&lt;Integer, String&gt;&gt; set = map.entrySet();\r\n\t\t\r\n\t\tMap&lt;Integer, String&gt; mapFromSet = new HashMap&lt;Integer, String&gt;();\r\n\t\tfor(Entry&lt;Integer, String&gt; entry : set)\r\n\t\t{\r\n\t\t\tmapFromSet.put(entry.getKey(), entry.getValue());\r\n\t\t}\r\n\r\n Though what is the purpose here, if you do any changes in `Set` that will also reflect in `Map` as set returned by `Map.entrySet` is backup by `Map`. See `javadoc` below:\r\n\r\n&gt; Set&amp;lt;Entry&amp;lt;Integer, String&gt;&gt; java.util.Map.entrySet()\r\n&gt; \r\n&gt; \r\n&gt; Returns a Set view of the mappings contained in this map. The set is\r\n&gt; backed by the map, so changes to the map are reflected in the set, and\r\n&gt; vice-versa. If the map is modified while an iteration over the set is\r\n&gt; in progress (except through the iterator&#39;s own remove operation, or\r\n&gt; through the setValue operation on a map entry returned by the\r\n&gt; iterator) the results of the iteration are undefined. The set supports\r\n&gt; element removal, which removes the corresponding mapping from the map,\r\n&gt; via the Iterator.remove, Set.remove, removeAll, retainAll and clear\r\n&gt; operations. It does not support the add or addAll operations.","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>There is no inbuilt API in java for direct conversion between <code>HashSet</code> and <code>HashMap</code>, you need to iterate through set and using <code>Entry</code> fill in map.</p>\n\n<p>one approach:</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\n    //fill in map\n    Set&lt;Entry&lt;Integer, String&gt;&gt; set = map.entrySet();\n\n    Map&lt;Integer, String&gt; mapFromSet = new HashMap&lt;Integer, String&gt;();\n    for(Entry&lt;Integer, String&gt; entry : set)\n    {\n        mapFromSet.put(entry.getKey(), entry.getValue());\n    }\n</code></pre>\n\n<p>Though what is the purpose here, if you do any changes in <code>Set</code> that will also reflect in <code>Map</code> as set returned by <code>Map.entrySet</code> is backup by <code>Map</code>. See <code>javadoc</code> below:</p>\n\n<blockquote>\n  <p>Set&lt;Entry&lt;Integer, String>> java.util.Map.entrySet()</p>\n  \n  <p>Returns a Set view of the mappings contained in this map. The set is\n  backed by the map, so changes to the map are reflected in the set, and\n  vice-versa. If the map is modified while an iteration over the set is\n  in progress (except through the iterator's own remove operation, or\n  through the setValue operation on a map entry returned by the\n  iterator) the results of the iteration are undefined. The set supports\n  element removal, which removes the corresponding mapping from the map,\n  via the Iterator.remove, Set.remove, removeAll, retainAll and clear\n  operations. It does not support the add or addAll operations.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":395717,"reputation":6603,"user_id":758816,"display_name":"mikeyreilly"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1452073979,"creation_date":1424685107,"answer_id":28670906,"question_id":16108734,"body_markdown":"Fairly short Java 8 solution. Can cope with duplicate keys.\r\n\r\n        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n        //fill in map\r\n        Set&lt;Map.Entry&lt;Integer, String&gt;&gt; set = map.entrySet();\r\n        Map&lt;Integer, String&gt; mapFromSet = set.stream().collect(Collectors.toMap(Entry::getKey,\r\n          Entry::getValue,\r\n          (a,b)-&gt;b));\r\n\r\nEdit: thanks to [shmosel][1] who deserves more credit than I do for this\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1553851/shmosel","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>Fairly short Java 8 solution. Can cope with duplicate keys.</p>\n\n<pre><code>    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n    //fill in map\n    Set&lt;Map.Entry&lt;Integer, String&gt;&gt; set = map.entrySet();\n    Map&lt;Integer, String&gt; mapFromSet = set.stream().collect(Collectors.toMap(Entry::getKey,\n      Entry::getValue,\n      (a,b)-&gt;b));\n</code></pre>\n\n<p>Edit: thanks to <a href=\"https://stackoverflow.com/users/1553851/shmosel\">shmosel</a> who deserves more credit than I do for this</p>\n"},{"tags":[],"owner":{"account_id":921430,"reputation":7972,"user_id":953068,"accept_rate":59,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440870785,"creation_date":1440870785,"answer_id":32289104,"question_id":16108734,"body_markdown":"In Java 8 with correct combiner\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n    //fill in map\r\n    Set&lt;Map.Entry&lt;Integer, String&gt;&gt; set = map.entrySet();\r\n\r\n    Map&lt;Integer, String&gt; mapFromSet =set.stream().collect(HashMap::new,(t, u) -&gt; t.put(u.getKey(), u.getValue()), \r\n    (Map mapToReturn, Map otherMap) -&gt;\r\n        {\r\n            otherMap.entrySet().forEach((Map.Entry entry) -&gt; {\r\n                mapToReturn.put(entry.getKey(),entry.getValue());\r\n            });\r\n            return mapToReturn;}););\r\n","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>In Java 8 with correct combiner</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n//fill in map\nSet&lt;Map.Entry&lt;Integer, String&gt;&gt; set = map.entrySet();\n\nMap&lt;Integer, String&gt; mapFromSet =set.stream().collect(HashMap::new,(t, u) -&gt; t.put(u.getKey(), u.getValue()), \n(Map mapToReturn, Map otherMap) -&gt;\n    {\n        otherMap.entrySet().forEach((Map.Entry entry) -&gt; {\n            mapToReturn.put(entry.getKey(),entry.getValue());\n        });\n        return mapToReturn;}););\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1440929884,"creation_date":1440929884,"answer_id":32295460,"question_id":16108734,"body_markdown":"Simpler Java-8 solution involving `Collectors.toMap`:\r\n\r\n    Map&lt;Integer, String&gt; mapFromSet = set.stream()\r\n        .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n\r\nAn `IllegalStateException` will be thrown if duplicate key is encountered.","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>Simpler Java-8 solution involving <code>Collectors.toMap</code>:</p>\n\n<pre><code>Map&lt;Integer, String&gt; mapFromSet = set.stream()\n    .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n</code></pre>\n\n<p>An <code>IllegalStateException</code> will be thrown if duplicate key is encountered.</p>\n"},{"tags":[],"owner":{"account_id":49854,"reputation":3949,"user_id":148593,"display_name":"Neil"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499168063,"creation_date":1499168063,"answer_id":44904884,"question_id":16108734,"body_markdown":"As of Guava 19 you can use [`ImmutableMap.copyOf(Iterable&lt;Map.Entry&lt;K,V&gt;&gt;)`][1]\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#copyOf-java.lang.Iterable-","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>As of Guava 19 you can use <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#copyOf-java.lang.Iterable-\" rel=\"noreferrer\"><code>ImmutableMap.copyOf(Iterable&lt;Map.Entry&lt;K,V&gt;&gt;)</code></a></p>\n"},{"tags":[],"owner":{"account_id":63625,"reputation":2306,"user_id":188256,"display_name":"snipsnipsnip"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1681865313,"creation_date":1520327770,"answer_id":49127209,"question_id":16108734,"body_markdown":"As of 2018, there are some `toMap` utility in Apache libraries, but unfortunately none of them support `Set` directly so you need to do [`Set#toArray()`](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#toArray--) first.\r\n\r\nI left out [Guava][guava] for [Neil&#39;s answer](https://stackoverflow.com/a/44904884/188256) which is arguably the best.\r\n\r\n## Apache Commons Lang&#39;s [ArrayUtils.toMap][tomap]\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Map&lt;Object, Object&gt; map = ArrayUtils.toMap(entrySet.toArray());\r\n\r\n    // to recover the type...\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Map&lt;K, V&gt; typedMap = (Map&lt;K, V&gt;)(Map&lt;?, ?&gt;)map;\r\n\r\n## Apache Commons Collections&#39; [MapUtils.putAll][putall]\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Map&lt;K, V&gt; map = MapUtils.putAll(new HashMap&lt;K, V&gt;(), entrySet.toArray());\r\n\r\n## Java 9&#39;s [Map.ofEntries][ofentries]\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     // convert to array and recover the type...\r\n     @SuppressWarnings(&quot;unchecked&quot;)\r\n     Map&lt;K, V&gt; map = Map.ofEntries(entrySet.toArray(new Map.Entry[0]));\r\n\r\n     // You need to copy again if you want a mutable one\r\n     Map&lt;K, V&gt; hashmap = new HashMap&lt;&gt;(map);\r\n\r\n[ofentries]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\r\n[tomap]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.7/org/apache/commons/lang3/ArrayUtils.html#toMap-java.lang.Object:A-\r\n[putall]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.0/org/apache/commons/collections4/MapUtils.html#putAll%28java.util.Map,%20java.lang.Object[]%29\r\n[guava]: https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#copyOf-java.lang.Iterable-","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>As of 2018, there are some <code>toMap</code> utility in Apache libraries, but unfortunately none of them support <code>Set</code> directly so you need to do <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#toArray--\" rel=\"nofollow noreferrer\"><code>Set#toArray()</code></a> first.</p>\n<p>I left out <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#copyOf-java.lang.Iterable-\" rel=\"nofollow noreferrer\">Guava</a> for <a href=\"https://stackoverflow.com/a/44904884/188256\">Neil's answer</a> which is arguably the best.</p>\n<h2>Apache Commons Lang's <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.7/org/apache/commons/lang3/ArrayUtils.html#toMap-java.lang.Object:A-\" rel=\"nofollow noreferrer\">ArrayUtils.toMap</a></h2>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Object, Object&gt; map = ArrayUtils.toMap(entrySet.toArray());\n\n// to recover the type...\n@SuppressWarnings(&quot;unchecked&quot;)\nMap&lt;K, V&gt; typedMap = (Map&lt;K, V&gt;)(Map&lt;?, ?&gt;)map;\n</code></pre>\n<h2>Apache Commons Collections' <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.0/org/apache/commons/collections4/MapUtils.html#putAll%28java.util.Map,%20java.lang.Object%5B%5D%29\" rel=\"nofollow noreferrer\">MapUtils.putAll</a></h2>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;K, V&gt; map = MapUtils.putAll(new HashMap&lt;K, V&gt;(), entrySet.toArray());\n</code></pre>\n<h2>Java 9's <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\" rel=\"nofollow noreferrer\">Map.ofEntries</a></h2>\n<pre class=\"lang-java prettyprint-override\"><code> // convert to array and recover the type...\n @SuppressWarnings(&quot;unchecked&quot;)\n Map&lt;K, V&gt; map = Map.ofEntries(entrySet.toArray(new Map.Entry[0]));\n\n // You need to copy again if you want a mutable one\n Map&lt;K, V&gt; hashmap = new HashMap&lt;&gt;(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615159851,"creation_date":1615159250,"answer_id":66522542,"question_id":16108734,"body_markdown":"&lt;h3&gt;Java 9+ without suppressed warning&lt;/h3&gt;\r\n\r\nAs of the Java 9 version, the collection interfaces provide a bunch of handy static methods allowing you to do a lot of things inline. There is a built-in solution using a static method [`Map.ofEntries(Map.Entry... entries)`][1] which creates an immutable map.\r\n\r\n```\r\nMap&lt;Integer,String&gt; map = Map.ofEntries(\r\n\t\tnew SimpleEntry&lt;&gt;(1, &quot;one&quot;), \r\n\t\tnew SimpleEntry&lt;&gt;(2, &quot;two&quot;), \r\n\t\tnew SimpleEntry&lt;&gt;(3, &quot;three&quot;));\r\n```\r\nNote that also the [`Map.entry(K, V)`][2] method is available which makes everything less verbose.\r\n```\r\nMap&lt;Integer,String&gt; map2 = Map.ofEntries(\r\n\t\tMap.entry(1, &quot;one&quot;), \r\n\t\tMap.entry(2, &quot;two&quot;), \r\n\t\tMap.entry(3, &quot;three&quot;));\r\n```\r\n\r\nAssuming you have `Set&lt;Map.Entry&lt;K, V&gt;&gt;`, you need an array in order to use the method using [`Set#toArray(T[])`][3]. Explicit casting is required due to forbidden generic array creation, which is the only drawback of this solution.\r\n\r\n```\r\nSet&lt;Map.Entry&lt;Integer,String&gt;&gt; set = ...\r\nEntry&lt;Integer, String&gt;[] entries = set.&lt;Entry&lt;Integer,String&gt;&gt;toArray(Entry[]::new);\r\nMap&lt;Integer,String&gt; map = Map.ofEntries(entries);\r\n```\r\n\r\n&lt;h3&gt;Java 8&lt;/h3&gt;\r\n\r\nJava 8 brings Stream API which is pretty straightforward using [`Collectors.toMap(keyFn, valueFn)`][4].\r\n\r\n```\r\nSet&lt;Map.Entry&lt;Integer,String&gt;&gt; set = ...\r\nMap&lt;Integer,String&gt; map = set.stream()\r\n                             .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n```\r\nTo avoid erroneous behavior on the presence of two `Map.Entry` with the same keys which is forbidden in dictionaries, use [`Collectors.toMap(keyFn, valueFn, mergeFn)`][5]. Return either `first` or `second` depending on if you want to keep the first value found for a certain key or the latest one.\r\n\r\n```\r\nMap&lt;Integer,String&gt; map = set.stream().collect(Collectors.toMap(\r\n        Entry::getKey, \r\n        Entry::getValue, \r\n        (first, second) -&gt; first));   // or &#39;-&gt; second&#39; if you need the latests\r\n```\r\n\r\n&lt;h3&gt;Java 7 and older&lt;/h3&gt;\r\n\r\nAll, you can do is a procedural for-each iteration as the [existing answer][6] descirbes.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/Set.html#toArray-T:A-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-\r\n  [6]: https://stackoverflow.com/a/16108889/3764965","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<h3>Java 9+ without suppressed warning</h3>\n<p>As of the Java 9 version, the collection interfaces provide a bunch of handy static methods allowing you to do a lot of things inline. There is a built-in solution using a static method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\" rel=\"nofollow noreferrer\"><code>Map.ofEntries(Map.Entry... entries)</code></a> which creates an immutable map.</p>\n<pre><code>Map&lt;Integer,String&gt; map = Map.ofEntries(\n        new SimpleEntry&lt;&gt;(1, &quot;one&quot;), \n        new SimpleEntry&lt;&gt;(2, &quot;two&quot;), \n        new SimpleEntry&lt;&gt;(3, &quot;three&quot;));\n</code></pre>\n<p>Note that also the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"nofollow noreferrer\"><code>Map.entry(K, V)</code></a> method is available which makes everything less verbose.</p>\n<pre><code>Map&lt;Integer,String&gt; map2 = Map.ofEntries(\n        Map.entry(1, &quot;one&quot;), \n        Map.entry(2, &quot;two&quot;), \n        Map.entry(3, &quot;three&quot;));\n</code></pre>\n<p>Assuming you have <code>Set&lt;Map.Entry&lt;K, V&gt;&gt;</code>, you need an array in order to use the method using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html#toArray-T:A-\" rel=\"nofollow noreferrer\"><code>Set#toArray(T[])</code></a>. Explicit casting is required due to forbidden generic array creation, which is the only drawback of this solution.</p>\n<pre><code>Set&lt;Map.Entry&lt;Integer,String&gt;&gt; set = ...\nEntry&lt;Integer, String&gt;[] entries = set.&lt;Entry&lt;Integer,String&gt;&gt;toArray(Entry[]::new);\nMap&lt;Integer,String&gt; map = Map.ofEntries(entries);\n</code></pre>\n<h3>Java 8</h3>\n<p>Java 8 brings Stream API which is pretty straightforward using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\"><code>Collectors.toMap(keyFn, valueFn)</code></a>.</p>\n<pre><code>Set&lt;Map.Entry&lt;Integer,String&gt;&gt; set = ...\nMap&lt;Integer,String&gt; map = set.stream()\n                             .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n</code></pre>\n<p>To avoid erroneous behavior on the presence of two <code>Map.Entry</code> with the same keys which is forbidden in dictionaries, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap(keyFn, valueFn, mergeFn)</code></a>. Return either <code>first</code> or <code>second</code> depending on if you want to keep the first value found for a certain key or the latest one.</p>\n<pre><code>Map&lt;Integer,String&gt; map = set.stream().collect(Collectors.toMap(\n        Entry::getKey, \n        Entry::getValue, \n        (first, second) -&gt; first));   // or '-&gt; second' if you need the latests\n</code></pre>\n<h3>Java 7 and older</h3>\n<p>All, you can do is a procedural for-each iteration as the <a href=\"https://stackoverflow.com/a/16108889/3764965\">existing answer</a> descirbes.</p>\n"},{"tags":[],"owner":{"account_id":25327272,"reputation":11,"user_id":19147710,"display_name":"Jonathan Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661192517,"creation_date":1661192517,"answer_id":73449478,"question_id":16108734,"body_markdown":"I wanted to try this for a practice problem. My issue was that I needed to convert two &quot;maps&quot; into &quot;sets&quot; so I can use the math operations that come with sets, like Union, Intersection, and Difference. While learning about &quot;Map.Entry&quot; I found I could convert the &quot;Maps&quot; into &quot;Sets&quot; perform the math operation as required. However, I still needed to convert my return value back into a &quot;Map&quot; per problem requirements. I found that I could do this if you typecast the objects back into the original variables. My end result is a &quot;Map&quot; that includes only the Intersections of both Maps.\r\n\r\n    public&#160;static&#160;Map&lt;String,&#160;Integer&gt;&#160;intersect(Map&lt;String,&#160;Integer&gt;&#160;map_one,&#160;Map&lt;String,&#160;Integer&gt;&#160;map_two)\r\n    {\r\n    &#160;&#160;&#160;&#160;Set&lt;Map.Entry&lt;String,&#160;Integer&gt;&gt;&#160;set_one&#160;=&#160;map_one.entrySet(); //Map one now a set\r\n    &#160;&#160;&#160;&#160;Set&lt;Map.Entry&lt;String,&#160;Integer&gt;&gt;&#160;set_two&#160;=&#160;map_two.entrySet(); //Map two now a set\r\n    &#160;&#160;&#160;&#160;set_one.retainAll(set_two);&#160;//a&#160;math intersection&#160;operation set_one and set_two whose contents are the intersection of the two sets\r\n    &#160;&#160;&#160;&#160;Map&lt;String,&#160;Integer&gt;&#160;map_retur&#160;=&#160;new&#160;HashMap&lt;&gt;();&#160;//instantiation &#160;of a new Map object\r\n    &#160;&#160;&#160;&#160;Iterator&#160;i&#160;=&#160;set_one.iterator(); //instantiation of an iterator\r\n    &#160;&#160;&#160;&#160;&#160;&#160;while(i.hasNext())\r\n    &#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Map.Entry&#160;me&#160;=&#160;(Map.Entry)i.next();&#160;//&#160;instantiation of Map.Entry as me and convert&#160;i&#160;into&#160;that&#160;Map.Entry\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;map_retur.put((String)me.getKey(),&#160;(Integer)me.getValue());&#160;//&#160;store each key/value pair into&#160;the Map&#160;as&#160;required\r\n    &#160;&#160;&#160;&#160;&#160;&#160;}\r\n    &#160;&#160;&#160;&#160;return&#160;map_retur; // returned value is a map with only the intersections\r\n    }\r\n\r\n\r\n**Thanks Ref:** https://www.tutorialspoint.com/java/java_mapentry_interface.html\r\nFor how to do the iterations in the for each loop. However, it does not include the typecasting I have shown here. ","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>I wanted to try this for a practice problem. My issue was that I needed to convert two &quot;maps&quot; into &quot;sets&quot; so I can use the math operations that come with sets, like Union, Intersection, and Difference. While learning about &quot;Map.Entry&quot; I found I could convert the &quot;Maps&quot; into &quot;Sets&quot; perform the math operation as required. However, I still needed to convert my return value back into a &quot;Map&quot; per problem requirements. I found that I could do this if you typecast the objects back into the original variables. My end result is a &quot;Map&quot; that includes only the Intersections of both Maps.</p>\n<pre><code>public static Map&lt;String, Integer&gt; intersect(Map&lt;String, Integer&gt; map_one, Map&lt;String, Integer&gt; map_two)\n{\n    Set&lt;Map.Entry&lt;String, Integer&gt;&gt; set_one = map_one.entrySet(); //Map one now a set\n    Set&lt;Map.Entry&lt;String, Integer&gt;&gt; set_two = map_two.entrySet(); //Map two now a set\n    set_one.retainAll(set_two); //a math intersection operation set_one and set_two whose contents are the intersection of the two sets\n    Map&lt;String, Integer&gt; map_retur = new HashMap&lt;&gt;(); //instantiation  of a new Map object\n    Iterator i = set_one.iterator(); //instantiation of an iterator\n      while(i.hasNext())\n      {\n         Map.Entry me = (Map.Entry)i.next(); // instantiation of Map.Entry as me and convert i into that Map.Entry\n         map_retur.put((String)me.getKey(), (Integer)me.getValue()); // store each key/value pair into the Map as required\n      }\n    return map_retur; // returned value is a map with only the intersections\n}\n</code></pre>\n<p><strong>Thanks Ref:</strong> <a href=\"https://www.tutorialspoint.com/java/java_mapentry_interface.html\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java/java_mapentry_interface.html</a>\nFor how to do the iterations in the for each loop. However, it does not include the typecasting I have shown here.</p>\n"}],"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82098,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":16108889,"answer_count":8,"score":51,"last_activity_date":1681865313,"creation_date":1366387072,"question_id":16108734,"body_markdown":"At one point in my code, I created a `Set&lt;Map.Entry&lt;K, V&gt;&gt;` from a map. Now I want to recreate the same map form, so I want to convert the `HashSet&lt;Map.Entry&lt;K, V&gt;&gt;` back into a `HashMap&lt;K, V&gt;`. Does Java have a native call for doing this, or do I have to loop over the set elements and build the map up manually?","title":"Convert Set&lt;Map.Entry&lt;K, V&gt;&gt; to HashMap&lt;K, V&gt;","body":"<p>At one point in my code, I created a <code>Set&lt;Map.Entry&lt;K, V&gt;&gt;</code> from a map. Now I want to recreate the same map form, so I want to convert the <code>HashSet&lt;Map.Entry&lt;K, V&gt;&gt;</code> back into a <code>HashMap&lt;K, V&gt;</code>. Does Java have a native call for doing this, or do I have to loop over the set elements and build the map up manually?</p>\n"},{"tags":["java","create-directory"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1681861991,"post_id":76049762,"comment_id":134124519,"body_markdown":"What is the value of `dir`?  Does it have multiple path components?","body":"What is the value of <code>dir</code>?  Does it have multiple path components?"},{"owner":{"account_id":18676865,"reputation":21,"user_id":13614349,"display_name":"Stan"},"score":0,"creation_date":1681863153,"post_id":76049762,"comment_id":134124678,"body_markdown":"dir is /Users/user/testing/directory","body":"dir is /Users/user/testing/directory"}],"answers":[{"tags":[],"owner":{"account_id":18676865,"reputation":21,"user_id":13614349,"display_name":"Stan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681863959,"creation_date":1681863959,"answer_id":76049912,"question_id":76049762,"body_markdown":"Ok, I might have figured it out with other answers on here. \r\n\r\nIf I run `mkdir 755 testing`, the permissions are still \r\n\r\n`drwxr-xr-x    2 user  staff     64 Apr 18 19:10 testing`\r\n\r\nThis is because my umask is 022          \r\n\r\nThis impacts any file or directory created in a Unix based OS. \r\n\r\nTo fix this programmatically, I&#39;m iterating over my directories until the user home and setting the permissions after creation\r\n\r\n\t\t\tFiles.createDirectories(Paths.get(dir));\r\n\t\t\tSet&lt;PosixFilePermission&gt; perms = PosixFilePermissions.fromString(&quot;rwxrw-rw-&quot;);\r\n\t\t\twhile(!path.toAbsolutePath().equals(Paths.get(System.getProperty(&quot;user.home&quot;)))) {\r\n\t\t\t\tFiles.setPosixFilePermissions(path, perms);\r\n\t\t\t\tpath = path.getParent();\r\n\t\t\t}\r\n ","title":"Create Directories with File permissions - Java","body":"<p>Ok, I might have figured it out with other answers on here.</p>\n<p>If I run <code>mkdir 755 testing</code>, the permissions are still</p>\n<p><code>drwxr-xr-x    2 user  staff     64 Apr 18 19:10 testing</code></p>\n<p>This is because my umask is 022</p>\n<p>This impacts any file or directory created in a Unix based OS.</p>\n<p>To fix this programmatically, I'm iterating over my directories until the user home and setting the permissions after creation</p>\n<pre><code>        Files.createDirectories(Paths.get(dir));\n        Set&lt;PosixFilePermission&gt; perms = PosixFilePermissions.fromString(&quot;rwxrw-rw-&quot;);\n        while(!path.toAbsolutePath().equals(Paths.get(System.getProperty(&quot;user.home&quot;)))) {\n            Files.setPosixFilePermissions(path, perms);\n            path = path.getParent();\n        }\n</code></pre>\n"}],"owner":{"account_id":18676865,"reputation":21,"user_id":13614349,"display_name":"Stan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681863959,"creation_date":1681861321,"question_id":76049762,"body_markdown":"I&#39;m trying to create Directories locally with specific permissions, but it doesn&#39;t work in some cases and reverts to specific permissions. \r\n\r\nThis is my code\r\n\r\n    Path path = Paths.get(dir);\r\n    \t\t\t\r\n    Set&lt;PosixFilePermission&gt; perms = PosixFilePermissions.fromString(&quot;rwxrw-rw-&quot;);\r\n    \t\t\tSystem.out.println(&quot;Permissions are &quot; + PosixFilePermissions.asFileAttribute(perms).value());\r\n    \t\t\tFiles.createDirectories(path, PosixFilePermissions.asFileAttribute(perms));\r\n\r\n\r\n\r\nThe directory created reverts to the default permissions\r\n\r\n     drwxr--r--    3 user  staff     96 Apr 18 18:16 testing\r\n\r\nMy umask was 022, I changed it to 000, but it still makes no difference when I create a directory from my application. There is a difference as long as I create it directly on the Terminal. \r\n\r\nIt works in specific cases, as long as I don&#39;t provide write access to the group and everyone else. What am I doing wrong?","title":"Create Directories with File permissions - Java","body":"<p>I'm trying to create Directories locally with specific permissions, but it doesn't work in some cases and reverts to specific permissions.</p>\n<p>This is my code</p>\n<pre><code>Path path = Paths.get(dir);\n            \nSet&lt;PosixFilePermission&gt; perms = PosixFilePermissions.fromString(&quot;rwxrw-rw-&quot;);\n            System.out.println(&quot;Permissions are &quot; + PosixFilePermissions.asFileAttribute(perms).value());\n            Files.createDirectories(path, PosixFilePermissions.asFileAttribute(perms));\n</code></pre>\n<p>The directory created reverts to the default permissions</p>\n<pre><code> drwxr--r--    3 user  staff     96 Apr 18 18:16 testing\n</code></pre>\n<p>My umask was 022, I changed it to 000, but it still makes no difference when I create a directory from my application. There is a difference as long as I create it directly on the Terminal.</p>\n<p>It works in specific cases, as long as I don't provide write access to the group and everyone else. What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1674402131,"post_id":75201179,"comment_id":132702314,"body_markdown":"Remove the version from hibernate-core in your pom first...","body":"Remove the version from hibernate-core in your pom first..."},{"owner":{"account_id":27593794,"reputation":11,"user_id":21060421,"display_name":"Kacper Kamm"},"score":0,"creation_date":1674419525,"post_id":75201179,"comment_id":132705587,"body_markdown":"didn&#39;t helped :(","body":"didn&#39;t helped :("},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674468286,"post_id":75201179,"comment_id":132712609,"body_markdown":"Please add the full logging output which shows the problem ...","body":"Please add the full logging output which shows the problem ..."}],"answers":[{"tags":[],"owner":{"account_id":23574208,"reputation":1,"user_id":17614056,"display_name":"Nolightleft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681862853,"creation_date":1681862790,"answer_id":76049854,"question_id":75201179,"body_markdown":"Maybe it&#39;s the version of the Spring Boot? I just had the same problem and solved it by changing Spring Boot version from 3.0.0 to 2.7.10. It&#39;s in parent tag, below artifactId tag.  Then replace all &quot;jakarta&quot; in files to &quot;javax&quot; and Project -&gt; update maven project. (I&#39;m using Eclipse) \r\n\r\nI&#39;m sorry that I can&#39;t provide any reference for now, as it just work for me. Hopefully this works for others too.\r\n\r\n","title":"maven spring-security Correct the classpath of your application so that it contains compatible versions of the classes","body":"<p>Maybe it's the version of the Spring Boot? I just had the same problem and solved it by changing Spring Boot version from 3.0.0 to 2.7.10. It's in parent tag, below artifactId tag.  Then replace all &quot;jakarta&quot; in files to &quot;javax&quot; and Project -&gt; update maven project. (I'm using Eclipse)</p>\n<p>I'm sorry that I can't provide any reference for now, as it just work for me. Hopefully this works for others too.</p>\n"}],"owner":{"account_id":27593794,"reputation":11,"user_id":21060421,"display_name":"Kacper Kamm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681862853,"creation_date":1674397435,"question_id":75201179,"body_markdown":"***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.hibernate.cfg.annotations.BasicValueBinder.resolveJavaType(BasicValueBinder.java:1002)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;java.lang.reflect.Type org.hibernate.annotations.common.reflection.ReflectionManager.toType(org.hibernate.annotations.common.reflection.XClass)&#39;\r\n\r\nThe calling method&#39;s class, org.hibernate.cfg.annotations.BasicValueBinder, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/kacpe/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar!/org/hibernate/cfg/annotations/BasicValueBinder.class\r\n\r\nThe called method&#39;s class, org.hibernate.annotations.common.reflection.ReflectionManager, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/kacpe/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar!/org/hibernate/annotations/common/reflection/ReflectionManager.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.hibernate.annotations.common.reflection.ReflectionManager: file:/C:/Users/kacpe/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.BasicValueBinder and org.hibernate.annotations.common.reflection.ReflectionManager\r\n\r\napplication.yaml\r\n\r\n        spring:\r\n      datasource:\r\n        url: jdbc:mysql://localhost:3306/restaurantoptimize\r\n        username: root\r\n        password: root\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n        show-sql: true\r\n        properties:\r\n          hibernate:\r\n            format_sql: true\r\n        database: mysql\r\n        database-platform:  org.hibernate.dialect.MySQL8Dialect\r\n\r\npom.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.RestaurantOptimize&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;RestaurantOptimize-backend&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;RestaurantOptimize-backend&lt;/name&gt;\r\n    \t&lt;description&gt;Backend of RestaurantOptimize&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.7.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\ntrued to run, spingBOOT application with JWT tokens and spring security on MAVEN","title":"maven spring-security Correct the classpath of your application so that it contains compatible versions of the classes","body":"<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>An attempt was made to call a method that does not exist. The attempt was made from the following location:</p>\n<pre><code>org.hibernate.cfg.annotations.BasicValueBinder.resolveJavaType(BasicValueBinder.java:1002)\n</code></pre>\n<p>The following method did not exist:</p>\n<pre><code>'java.lang.reflect.Type org.hibernate.annotations.common.reflection.ReflectionManager.toType(org.hibernate.annotations.common.reflection.XClass)'\n</code></pre>\n<p>The calling method's class, org.hibernate.cfg.annotations.BasicValueBinder, was loaded from the following location:</p>\n<pre><code>jar:file:/C:/Users/kacpe/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar!/org/hibernate/cfg/annotations/BasicValueBinder.class\n</code></pre>\n<p>The called method's class, org.hibernate.annotations.common.reflection.ReflectionManager, is available from the following locations:</p>\n<pre><code>jar:file:/C:/Users/kacpe/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar!/org/hibernate/annotations/common/reflection/ReflectionManager.class\n</code></pre>\n<p>The called method's class hierarchy was loaded from the following locations:</p>\n<pre><code>org.hibernate.annotations.common.reflection.ReflectionManager: file:/C:/Users/kacpe/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar\n</code></pre>\n<p>Action:</p>\n<p>Correct the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.BasicValueBinder and org.hibernate.annotations.common.reflection.ReflectionManager</p>\n<p>application.yaml</p>\n<pre><code>    spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/restaurantoptimize\n    username: root\n    password: root\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n    database: mysql\n    database-platform:  org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<p>pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.RestaurantOptimize&lt;/groupId&gt;\n    &lt;artifactId&gt;RestaurantOptimize-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;RestaurantOptimize-backend&lt;/name&gt;\n    &lt;description&gt;Backend of RestaurantOptimize&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>trued to run, spingBOOT application with JWT tokens and spring security on MAVEN</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681862837,"creation_date":1681862837,"answer_id":76049856,"question_id":76049747,"body_markdown":"You need to read in an index as an `int`.  Arrays are indexed by ints, not by strings.\r\n```\r\nint first = sc.nextInt();        \r\nint second = sc.nextInt();  \r\n\r\nExample[first] = Example[second];\r\n```\r\nIf you want to index using a String, you need to use a map.\r\n```\r\nMap&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;A&quot;, &quot;someValue1&quot;);\r\nmap.put(&quot;B&quot;, &quot;someValue2&quot;);\r\nmap.put(&quot;C&quot;, &quot;someValue3&quot;);\r\n\r\nString first = sc.next();\r\nString second = sc.next();\r\n\r\nmap.put(first, map.get(second));\r\n \r\n                                ","title":"How do I assign a string from one position to another in an Array with input (Java)","body":"<p>You need to read in an index as an <code>int</code>.  Arrays are indexed by ints, not by strings.</p>\n<pre><code>int first = sc.nextInt();        \nint second = sc.nextInt();  \n\nExample[first] = Example[second];\n</code></pre>\n<p>If you want to index using a String, you need to use a map.</p>\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;A&quot;, &quot;someValue1&quot;);\nmap.put(&quot;B&quot;, &quot;someValue2&quot;);\nmap.put(&quot;C&quot;, &quot;someValue3&quot;);\n\nString first = sc.next();\nString second = sc.next();\n\nmap.put(first, map.get(second));\n \n                                \n</code></pre>\n"}],"owner":{"account_id":28078758,"reputation":13,"user_id":21450184,"display_name":"Muhammed Temur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76049856,"answer_count":1,"score":1,"last_activity_date":1681862837,"creation_date":1681861042,"question_id":76049747,"body_markdown":"I want a person to give me the input:&quot;A, C&quot; and the integer in the 0th position in my Array has to go to the 2th position. Here is my code:\r\n\r\n```\r\nimport java.util.scanner;\r\nScanner sc = new Scanner(System.in);\r\n\r\npublic static String[] Example = {&quot;value&quot;, &quot;&quot;, &quot;&quot;} ;\r\nint A = 0;\r\nint B = 1;\r\nint C = 2;\r\n\r\n\r\nstring first = sc.nextStr();        //first position of the array gets inputted(A)\r\nstring second = sc.nextStr();       //second position of the array gets inputted(C)\r\n\r\nExample[first] = Example[second];   //it should do what I wanted but the Inputs are &quot;A&quot; and &quot;C&quot; \r\n                                    //and it would not work because there is no Example[&quot;A&quot;], instead\r\n                                    // my code has to use the variables that I created before\r\n\r\nSystem.out.println(Example[2])\r\n```\r\nThe output should be &quot;variable&quot;.\r\n","title":"How do I assign a string from one position to another in an Array with input (Java)","body":"<p>I want a person to give me the input:&quot;A, C&quot; and the integer in the 0th position in my Array has to go to the 2th position. Here is my code:</p>\n<pre><code>import java.util.scanner;\nScanner sc = new Scanner(System.in);\n\npublic static String[] Example = {&quot;value&quot;, &quot;&quot;, &quot;&quot;} ;\nint A = 0;\nint B = 1;\nint C = 2;\n\n\nstring first = sc.nextStr();        //first position of the array gets inputted(A)\nstring second = sc.nextStr();       //second position of the array gets inputted(C)\n\nExample[first] = Example[second];   //it should do what I wanted but the Inputs are &quot;A&quot; and &quot;C&quot; \n                                    //and it would not work because there is no Example[&quot;A&quot;], instead\n                                    // my code has to use the variables that I created before\n\nSystem.out.println(Example[2])\n</code></pre>\n<p>The output should be &quot;variable&quot;.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2206865,"reputation":811,"user_id":1949874,"display_name":"Justas"},"score":4,"creation_date":1490051220,"post_id":42915575,"comment_id":72930207,"body_markdown":"How do you imagine double coordinates representing a pixel?","body":"How do you imagine double coordinates representing a pixel?"},{"owner":{"account_id":10363514,"reputation":31,"user_id":7643284,"display_name":"1997DK"},"score":0,"creation_date":1490051622,"post_id":42915575,"comment_id":72930356,"body_markdown":"ah ok I think I get it now...","body":"ah ok I think I get it now..."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1490052680,"post_id":42915575,"comment_id":72930660,"body_markdown":"You could have a look at `java.awt.Rectangle2D`","body":"You could have a look at <code>java.awt.Rectangle2D</code>"}],"answers":[{"tags":[],"owner":{"account_id":10236507,"reputation":1338,"user_id":7560572,"display_name":"Flood2d"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490053801,"creation_date":1490053291,"answer_id":42915963,"question_id":42915575,"body_markdown":"&gt; Is there a version of the `g.fillRect` that uses a double rather than an integer value?\r\n\r\nIf you read the documentation of `java.awt.Graphics` there is no `fillRect` that has double parameters. \r\n\r\nIf you really need to use double values you can use `Rectangle2D` and fill this shape using `fill(shape)` method. \r\n\r\n\r\n    double x = 0;\r\n    double y = 0;\r\n    double width = 100;\r\n    double height = 100;\r\n        \r\n    Rectangle2D rect = new Rectangle2D.Double(x, y, width, height);\r\n    \r\n    //java.awt.Graphics doesn&#39;t have fill(shape), so you need to cast it to Graphics2D\r\n    Graphics2D g2 = (Graphics2D) g;\r\n\r\n    g2.fill(rect); \r\n\r\nAnyway if you are trying to draw with subpixel precision you need to enable `RenderingHints.VALUE_STROKE_PURE`. You can enable it like this\r\n\r\n    g2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);","title":"java painting rectangle using doubles","body":"<blockquote>\n  <p>Is there a version of the <code>g.fillRect</code> that uses a double rather than an integer value?</p>\n</blockquote>\n\n<p>If you read the documentation of <code>java.awt.Graphics</code> there is no <code>fillRect</code> that has double parameters. </p>\n\n<p>If you really need to use double values you can use <code>Rectangle2D</code> and fill this shape using <code>fill(shape)</code> method. </p>\n\n<pre><code>double x = 0;\ndouble y = 0;\ndouble width = 100;\ndouble height = 100;\n\nRectangle2D rect = new Rectangle2D.Double(x, y, width, height);\n\n//java.awt.Graphics doesn't have fill(shape), so you need to cast it to Graphics2D\nGraphics2D g2 = (Graphics2D) g;\n\ng2.fill(rect); \n</code></pre>\n\n<p>Anyway if you are trying to draw with subpixel precision you need to enable <code>RenderingHints.VALUE_STROKE_PURE</code>. You can enable it like this</p>\n\n<pre><code>g2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681862623,"creation_date":1681844065,"answer_id":76048149,"question_id":42915575,"body_markdown":"The same problem exists *regardless* of your grid size, not just above 130.  Look at the first few values of your `squareSize` starting with 3.\r\n```\r\nfor (int i = 3; i &lt;= 10; i++) { // change 10 to 200 to see all relationships\r\n     System.out.printf(&quot;Square Size = %3d, Grid Size = %3d%n&quot;, (400/i-1),i);\r\n }\r\n```\r\nprints\r\n```\r\nSquare Size = 132, Grid Size =   3\r\nSquare Size =  99, Grid Size =   4\r\nSquare Size =  79, Grid Size =   5\r\nSquare Size =  65, Grid Size =   6\r\nSquare Size =  56, Grid Size =   7\r\nSquare Size =  49, Grid Size =   8\r\nSquare Size =  43, Grid Size =   9\r\nSquare Size =  39, Grid Size =  10\r\n\r\n```\r\nYour `squareSize` is fluctuating significantly as the `gridsize` steps by 1. As the divisor gets larger, the difference between successive squareSizes diminishes. If that isn&#39;t of concern why is the same square size for different grid sizes a concern? And how would a square size of `132` actually be used for a `gridSize` of `3`?  Lacking specific details about your task, I don&#39;t think that using sub-pixel accuracy is going to improve your game of life or make it easier to see the relative differences between grid sizes.  Perhaps prompting for a square size and then, using that, computing the appropriate grid size and any other required dimensions might be an alternative.","title":"java painting rectangle using doubles","body":"<p>The same problem exists <em>regardless</em> of your grid size, not just above 130.  Look at the first few values of your <code>squareSize</code> starting with 3.</p>\n<pre><code>for (int i = 3; i &lt;= 10; i++) { // change 10 to 200 to see all relationships\n     System.out.printf(&quot;Square Size = %3d, Grid Size = %3d%n&quot;, (400/i-1),i);\n }\n</code></pre>\n<p>prints</p>\n<pre><code>Square Size = 132, Grid Size =   3\nSquare Size =  99, Grid Size =   4\nSquare Size =  79, Grid Size =   5\nSquare Size =  65, Grid Size =   6\nSquare Size =  56, Grid Size =   7\nSquare Size =  49, Grid Size =   8\nSquare Size =  43, Grid Size =   9\nSquare Size =  39, Grid Size =  10\n\n</code></pre>\n<p>Your <code>squareSize</code> is fluctuating significantly as the <code>gridsize</code> steps by 1. As the divisor gets larger, the difference between successive squareSizes diminishes. If that isn't of concern why is the same square size for different grid sizes a concern? And how would a square size of <code>132</code> actually be used for a <code>gridSize</code> of <code>3</code>?  Lacking specific details about your task, I don't think that using sub-pixel accuracy is going to improve your game of life or make it easier to see the relative differences between grid sizes.  Perhaps prompting for a square size and then, using that, computing the appropriate grid size and any other required dimensions might be an alternative.</p>\n"}],"owner":{"account_id":10363514,"reputation":31,"user_id":7643284,"display_name":"1997DK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2952,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1681862623,"creation_date":1490051143,"question_id":42915575,"body_markdown":"I have a piece of code that prints a square to the screen.\r\n\r\n    g.fillRect(X,Y,squareSize,squareSize);\r\n\r\nto get square size I am using:\r\n\r\n    int squareSize = (400/gridsize)-1;\r\n\r\nwhere `gridsize` can be any number between 3-200 \r\n\r\nhowever if I go above 130 `squareSize` is always 1. Is there a version of the \r\n\r\n    g.fillRect\r\nthat uses a double rather than an integer value?\r\n\r\nbecause if it rounds to 1 for anything above 130 there squares are all the same size whereas they should be different sizes depending.\r\n\r\nso this is the issue in a visual form.\r\n\r\n150by150\r\n\r\n![][1]\r\n\r\n\r\n200 by 200\r\n\r\n![][2]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N0RxQ.jpg\r\n  [2]: https://i.stack.imgur.com/vTNYZ.jpg","title":"java painting rectangle using doubles","body":"<p>I have a piece of code that prints a square to the screen.</p>\n<pre><code>g.fillRect(X,Y,squareSize,squareSize);\n</code></pre>\n<p>to get square size I am using:</p>\n<pre><code>int squareSize = (400/gridsize)-1;\n</code></pre>\n<p>where <code>gridsize</code> can be any number between 3-200</p>\n<p>however if I go above 130 <code>squareSize</code> is always 1. Is there a version of the</p>\n<pre><code>g.fillRect\n</code></pre>\n<p>that uses a double rather than an integer value?</p>\n<p>because if it rounds to 1 for anything above 130 there squares are all the same size whereas they should be different sizes depending.</p>\n<p>so this is the issue in a visual form.</p>\n<p>150by150</p>\n<p><img src=\"https://i.stack.imgur.com/N0RxQ.jpg\" alt=\"\" /></p>\n<p>200 by 200</p>\n<p><img src=\"https://i.stack.imgur.com/vTNYZ.jpg\" alt=\"\" /></p>\n"},{"tags":["java","azure-active-directory","single-sign-on","saml-2.0"],"answers":[{"tags":[],"owner":{"account_id":18289715,"reputation":484,"user_id":13316778,"display_name":"Timothy Legge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681862189,"creation_date":1681862189,"answer_id":76049821,"question_id":76035238,"body_markdown":"No, SAML does not work that way (regarding the user and password).  The authentication is initiated via the user&#39;s browser (either via a user request to the IdP with an IdP initiated workflow or a user request to the application).\r\n\r\nIt is possible for back end (SOAP based) messaging to retrieve the assertion but it is generally initiated via a user request to the application.  \r\n\r\nCould you initiate a SAML process from the server without a user, using a user and password - yes but you would need to have a script act as the user interacting with the SP (Service Provider aka application) and the IdP (Identity provider)","title":"How to retrieve saml2 (SSO) Azure AD with AuthnRequest request in a backend application?","body":"<p>No, SAML does not work that way (regarding the user and password).  The authentication is initiated via the user's browser (either via a user request to the IdP with an IdP initiated workflow or a user request to the application).</p>\n<p>It is possible for back end (SOAP based) messaging to retrieve the assertion but it is generally initiated via a user request to the application.</p>\n<p>Could you initiate a SAML process from the server without a user, using a user and password - yes but you would need to have a script act as the user interacting with the SP (Service Provider aka application) and the IdP (Identity provider)</p>\n"}],"owner":{"account_id":28329400,"reputation":1,"user_id":21663920,"display_name":"Bruno Enes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681862189,"creation_date":1681735065,"question_id":76035238,"body_markdown":"I have a web application that can already retrieve the saml2 via a business application (SSO) in Azure AD with AuthnRequest, from what I understand, when I make the request to retrieve the saml2 it scans the browser&#39;s cookies to get the login data, if it is not there logged in, I am redirected to the login screen.\r\n\r\nIs it possible to retrieve saml2 from a backend application?\r\n\r\nIs there any parameter in AuthnRequest that I pass (username and password, clientId) that Azure reads this parameter and returns saml2 to me?\r\n\r\nI can already login to an application in azure ad but I don&#39;t know how to retrieve saml2 (SSO) in an enterprise application\r\n\r\nI can already login to an application in azure ad but I don&#39;t know how to retrieve saml2 (SSO) in an enterprise application","title":"How to retrieve saml2 (SSO) Azure AD with AuthnRequest request in a backend application?","body":"<p>I have a web application that can already retrieve the saml2 via a business application (SSO) in Azure AD with AuthnRequest, from what I understand, when I make the request to retrieve the saml2 it scans the browser's cookies to get the login data, if it is not there logged in, I am redirected to the login screen.</p>\n<p>Is it possible to retrieve saml2 from a backend application?</p>\n<p>Is there any parameter in AuthnRequest that I pass (username and password, clientId) that Azure reads this parameter and returns saml2 to me?</p>\n<p>I can already login to an application in azure ad but I don't know how to retrieve saml2 (SSO) in an enterprise application</p>\n<p>I can already login to an application in azure ad but I don't know how to retrieve saml2 (SSO) in an enterprise application</p>\n"},{"tags":["java","homebrew","homebrew-cask"],"answers":[{"tags":[],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1496186041,"creation_date":1496186041,"answer_id":44273312,"question_id":44273273,"body_markdown":"By default, Homebrew does not uninstall old versions of a formula, so over time you will accumulate old versions.\r\n\r\nThe [cleanup][1] - `brew cleanup` command will remove outdated installed package versions.\r\n\r\n\r\n  [1]: https://github.com/Homebrew/brew/blob/master/docs/FAQ.md#how-do-i-uninstall-old-versions-of-a-formula","title":"How to upgrade to latest version of java JDK using homebrew cask?","body":"<p>By default, Homebrew does not uninstall old versions of a formula, so over time you will accumulate old versions.</p>\n\n<p>The <a href=\"https://github.com/Homebrew/brew/blob/master/docs/FAQ.md#how-do-i-uninstall-old-versions-of-a-formula\" rel=\"noreferrer\">cleanup</a> - <code>brew cleanup</code> command will remove outdated installed package versions.</p>\n"},{"tags":[],"owner":{"account_id":3348382,"reputation":340,"user_id":2813019,"display_name":"Ce7"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1512558045,"creation_date":1512558045,"answer_id":47672720,"question_id":44273273,"body_markdown":"    brew cask reinstall java\r\nThis command will uninstall old version of jdk and install the latest version","title":"How to upgrade to latest version of java JDK using homebrew cask?","body":"<pre><code>brew cask reinstall java\n</code></pre>\n\n<p>This command will uninstall old version of jdk and install the latest version</p>\n"},{"tags":[],"owner":{"account_id":11477346,"reputation":151,"user_id":8412494,"display_name":"roosheee"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1605822952,"creation_date":1605822952,"answer_id":64920610,"question_id":44273273,"body_markdown":"Warning: Calling `brew cask reinstall` is deprecated! Use brew reinstall instead\r\n\r\n`brew reinstall java`","title":"How to upgrade to latest version of java JDK using homebrew cask?","body":"<p>Warning: Calling <code>brew cask reinstall</code> is deprecated! Use brew reinstall instead</p>\n<p><code>brew reinstall java</code></p>\n"},{"tags":[],"owner":{"account_id":3202192,"reputation":469,"user_id":2704051,"display_name":"Sunil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609997338,"creation_date":1609997338,"answer_id":65607091,"question_id":44273273,"body_markdown":"To upgrade the sub-version of java i.e from `11.0.8,10` to `11.0.9.1,1`, use the following command.\r\n\r\n    brew upgrade --cask adoptopenjdk11\r\n\r\n","title":"How to upgrade to latest version of java JDK using homebrew cask?","body":"<p>To upgrade the sub-version of java i.e from <code>11.0.8,10</code> to <code>11.0.9.1,1</code>, use the following command.</p>\n<pre><code>brew upgrade --cask adoptopenjdk11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3389450,"reputation":116,"user_id":2844651,"display_name":"g7p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681861943,"creation_date":1681856323,"answer_id":76049430,"question_id":44273273,"body_markdown":"As of April 2023, \r\n\r\nInstall java (`openjdk`) using `brew install openjdk`\r\n\r\nThen while you have `openjdk` installed, running `brew install openjdk` in the future, upgrades java to the latest openjdk version (provided by homebrew).","title":"How to upgrade to latest version of java JDK using homebrew cask?","body":"<p>As of April 2023,</p>\n<p>Install java (<code>openjdk</code>) using <code>brew install openjdk</code></p>\n<p>Then while you have <code>openjdk</code> installed, running <code>brew install openjdk</code> in the future, upgrades java to the latest openjdk version (provided by homebrew).</p>\n"}],"owner":{"account_id":768732,"reputation":59580,"user_id":971888,"accept_rate":86,"display_name":"Rolando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22866,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44273312,"answer_count":5,"score":9,"last_activity_date":1681861943,"creation_date":1496185754,"question_id":44273273,"body_markdown":"I have been following these instructions to install the latest java jdk:\r\n\r\n    www.lonecpluspluscoder.com/2017/04/27/installing-java-8-jdk-os-x-using-homebrew/\r\n\r\n    brew cask install java\r\n\r\nThis works great, but when a new version comes out, how do I make sure I can upgrade to that version and ensure that old versions of the jdk are not sitting around on my system?\r\n","title":"How to upgrade to latest version of java JDK using homebrew cask?","body":"<p>I have been following these instructions to install the latest java jdk:</p>\n\n<pre><code>www.lonecpluspluscoder.com/2017/04/27/installing-java-8-jdk-os-x-using-homebrew/\n\nbrew cask install java\n</code></pre>\n\n<p>This works great, but when a new version comes out, how do I make sure I can upgrade to that version and ensure that old versions of the jdk are not sitting around on my system?</p>\n"},{"tags":["java","spring","hibernate","entity","persistence"],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681860717,"creation_date":1681860717,"answer_id":76049729,"question_id":76049283,"body_markdown":"Replace\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.6.4.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\r\nwith\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe reason for this is that Spring 6 retired any packages with `javax` and moved to packages called `jakarta`\r\nHibernate 5 uses javax, Hibernate 6 uses jakarta.\r\n\r\nAfter replacing these dependencies, pull them again ( by using your IDE or `mvn clean install` command ), and also make sure that you replace **ALL** javax imports that you might have left in your project\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\nto\r\n\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;","title":"org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor: com.example.test.Person","body":"<p>Replace</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;version&gt;5.6.4.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.1.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The reason for this is that Spring 6 retired any packages with <code>javax</code> and moved to packages called <code>jakarta</code>\nHibernate 5 uses javax, Hibernate 6 uses jakarta.</p>\n<p>After replacing these dependencies, pull them again ( by using your IDE or <code>mvn clean install</code> command ), and also make sure that you replace <strong>ALL</strong> javax imports that you might have left in your project</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n</code></pre>\n<p>to</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n</code></pre>\n"}],"owner":{"account_id":28343584,"reputation":11,"user_id":21676170,"display_name":"anna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681860717,"creation_date":1681854447,"question_id":76049283,"body_markdown":"I keep on getting the same problem with different types of configuration: both xml and java based.\r\nHere&#39;s a simple code example.\r\nPerson.java:\r\n\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;Person&quot;)\r\npublic class Person {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private int age;\r\n\r\n    public Person() {}\r\n\r\n    public Person(int id, String name, int age) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n}\r\n```\r\nTestApplication.java:\r\n\r\n```\r\npackage com.example.test;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\n\r\nimport org.hibernate.cfg.Configuration;\r\n\r\n\r\npublic class TestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tConfiguration configuration = new Configuration().configure().addAnnotatedClass(Person.class);\r\n\r\n\r\n\t\tSessionFactory sessionFactory = configuration.buildSessionFactory();\r\n\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n\r\n\t\ttry {\r\n\t\t\tsession.beginTransaction();\r\n\r\n\t\t\tPerson person = session.get(Person.class, 1);\r\n\t\t\tSystem.out.println(person.getName());\r\n\t\t\tSystem.out.println(person.getAge());\r\n\r\n\t\t\tsession.getTransaction().commit();\r\n\r\n\t\t} finally {\r\n\t\t\tsessionFactory.close();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.13.1&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;42.2.27&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.6.4.Final&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI also tried both hibernate.properties and hibernate.cfg.xml (current code is using the last one).\r\nHere are these files:\r\nhibernate.properties\r\n\r\n```\r\nhibernate.driver_class=org.postgresql.Driver\r\nhibernate.connection.url=jdbc:postgresql://localhost:5432/test\r\nhibernate.connection.username=postgres\r\nhibernate.connection.password=postgres\r\n\r\n\r\nhibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nhibernate.show_sql=true\r\nhibernate.current_session_context_class=thread\r\n```\r\nhibernate.cfg.xml\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n\r\n\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/postgres&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;com.example.test.Person&quot;/&gt;\r\n\r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nPlease help me... I&#39;m getting desperate. Somehow my entities keep on getting unnoticed by Hibernate. I also tried using persistence.xml but it didn&#39;t work out..","title":"org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor: com.example.test.Person","body":"<p>I keep on getting the same problem with different types of configuration: both xml and java based.\nHere's a simple code example.\nPerson.java:</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;Person&quot;)\npublic class Person {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;age&quot;)\n    private int age;\n\n    public Person() {}\n\n    public Person(int id, String name, int age) {\n        this.id = id;\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n<p>TestApplication.java:</p>\n<pre><code>package com.example.test;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\n\nimport org.hibernate.cfg.Configuration;\n\n\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        Configuration configuration = new Configuration().configure().addAnnotatedClass(Person.class);\n\n\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\n\n        Session session = sessionFactory.getCurrentSession();\n\n        try {\n            session.beginTransaction();\n\n            Person person = session.get(Person.class, 1);\n            System.out.println(person.getName());\n            System.out.println(person.getAge());\n\n            session.getTransaction().commit();\n\n        } finally {\n            sessionFactory.close();\n        }\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;version&gt;4.13.1&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;version&gt;42.2.27&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;version&gt;5.6.4.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I also tried both hibernate.properties and hibernate.cfg.xml (current code is using the last one).\nHere are these files:\nhibernate.properties</p>\n<pre><code>hibernate.driver_class=org.postgresql.Driver\nhibernate.connection.url=jdbc:postgresql://localhost:5432/test\nhibernate.connection.username=postgres\nhibernate.connection.password=postgres\n\n\nhibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nhibernate.show_sql=true\nhibernate.current_session_context_class=thread\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/postgres&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;mapping class=&quot;com.example.test.Person&quot;/&gt;\n\n        &lt;!-- DB schema will be updated if needed --&gt;\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Please help me... I'm getting desperate. Somehow my entities keep on getting unnoticed by Hibernate. I also tried using persistence.xml but it didn't work out..</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9502,"page":490,"page_size":100}
