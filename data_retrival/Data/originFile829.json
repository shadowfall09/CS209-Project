{"items":[{"tags":["java","string","integer","return"],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670103678,"creation_date":1670103678,"answer_id":74670969,"question_id":74670908,"body_markdown":"```Java\r\nimport java.util.*;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      String input = &quot;A long long time ago, I can still remember&quot;;\r\n      String[] words = input.split(&quot; &quot;);\r\n      List&lt;String&gt; uniqueWords = new ArrayList&lt;&gt;();\r\n      for (String word : words) {\r\n        if (!uniqueWords.contains(word)) {\r\n            uniqueWords.add(word);\r\n        }      \r\n      }\r\n      System.out.println(&quot;Number of unique words: &quot; + uniqueWords.size());\r\n    }\r\n}\r\n```\r\n**Output:** *Number of unique words: 8*\r\n\r\nBasically, what you can do if you&#39;re allowed to use data structures like lists and so on, is create a list and put the words of the input sentence in the list if and only if they aren&#39;t already there.","title":"How do i count how many words there are, and ignore same words in a string? (using method)","body":"<pre><code>import java.util.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      String input = &quot;A long long time ago, I can still remember&quot;;\n      String[] words = input.split(&quot; &quot;);\n      List&lt;String&gt; uniqueWords = new ArrayList&lt;&gt;();\n      for (String word : words) {\n        if (!uniqueWords.contains(word)) {\n            uniqueWords.add(word);\n        }      \n      }\n      System.out.println(&quot;Number of unique words: &quot; + uniqueWords.size());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong> <em>Number of unique words: 8</em></p>\n<p>Basically, what you can do if you're allowed to use data structures like lists and so on, is create a list and put the words of the input sentence in the list if and only if they aren't already there.</p>\n"},{"tags":[],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670134694,"creation_date":1670103974,"answer_id":74671009,"question_id":74670908,"body_markdown":"General idea:\r\n\r\n    public int getUniqueWords(String input) {\r\n        // Split the string into words using the split() method\r\n        String[] words = input.split(&quot; &quot;);\r\n    \r\n        // Create a Set to store the unique words\r\n        Set&lt;String&gt; uniqueWords = new HashSet&lt;String&gt;();\r\n    \r\n        // Loop through the words and add them to the Set\r\n        for (String word : words) {\r\n            uniqueWords.add(word);\r\n        }\r\n    \r\n        // Return unique words amount\r\n        return uniqueWords.size();\r\n    }\r\n\r\nSame solution using StreamAPI:\r\n\r\n    public int getUniqueWords2(String input) {\r\n        // here we can safely cast to int, because String can contain at most &quot;max int&quot; chars\r\n        return (int) Arrays.stream(input.split(&quot; &quot;)).distinct().count();\r\n    }\r\n\r\n---\r\n\r\nIf it is needed to handle multiple spaces between words, add some cleanup for `input`:\r\n\r\n    // remove leading and trailing spaces\r\n    cleanInput = input.trim();\r\n    \r\n    // replace multiple spaces with a single space\r\n    cleanInput = cleanInput.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;); \r\n\r\n--- \r\n\r\n**Considering the requirement &quot;allowed to use the bacics&quot;**:\r\n\r\n1. hashtable (HashSet) is a basic data structure in algorithms\r\n2. problem of **counting unique items** cannot be **logically** solved without a container holding &quot;aready seen&quot; items, so algorithm could check whether the next item is counted or not\r\n3. in the role of container in the simplest case could be a list, but that would cause `O(n^2)` time complexity.","title":"How do i count how many words there are, and ignore same words in a string? (using method)","body":"<p>General idea:</p>\n<pre><code>public int getUniqueWords(String input) {\n    // Split the string into words using the split() method\n    String[] words = input.split(&quot; &quot;);\n\n    // Create a Set to store the unique words\n    Set&lt;String&gt; uniqueWords = new HashSet&lt;String&gt;();\n\n    // Loop through the words and add them to the Set\n    for (String word : words) {\n        uniqueWords.add(word);\n    }\n\n    // Return unique words amount\n    return uniqueWords.size();\n}\n</code></pre>\n<p>Same solution using StreamAPI:</p>\n<pre><code>public int getUniqueWords2(String input) {\n    // here we can safely cast to int, because String can contain at most &quot;max int&quot; chars\n    return (int) Arrays.stream(input.split(&quot; &quot;)).distinct().count();\n}\n</code></pre>\n<hr />\n<p>If it is needed to handle multiple spaces between words, add some cleanup for <code>input</code>:</p>\n<pre><code>// remove leading and trailing spaces\ncleanInput = input.trim();\n\n// replace multiple spaces with a single space\ncleanInput = cleanInput.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;); \n</code></pre>\n<hr />\n<p><strong>Considering the requirement &quot;allowed to use the bacics&quot;</strong>:</p>\n<ol>\n<li>hashtable (HashSet) is a basic data structure in algorithms</li>\n<li>problem of <strong>counting unique items</strong> cannot be <strong>logically</strong> solved without a container holding &quot;aready seen&quot; items, so algorithm could check whether the next item is counted or not</li>\n<li>in the role of container in the simplest case could be a list, but that would cause <code>O(n^2)</code> time complexity.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670117772,"creation_date":1670117772,"answer_id":74672242,"question_id":74670908,"body_markdown":"You can use a `Set&lt;T&gt;` collection type, that can only contains unique values:\r\n\r\n    public static int getTotalUniqueWords(String input) {\r\n        String[] words = input.split(&quot; &quot;);\r\n        Set&lt;String&gt; uniqueWords = new HashSet&lt;&gt;();\r\n        Collections.addAll(uniqueWords, words);\r\n        return uniqueWords.size();\r\n    }\r\n\r\nor with Streams:\r\n\r\n    public static long getTotalUniqueWordsStream(String input) {\r\n        String[] words = input.split(&quot; &quot;);\r\n        return Arrays.stream(words).distinct().count();\r\n    }","title":"How do i count how many words there are, and ignore same words in a string? (using method)","body":"<p>You can use a <code>Set&lt;T&gt;</code> collection type, that can only contains unique values:</p>\n<pre><code>public static int getTotalUniqueWords(String input) {\n    String[] words = input.split(&quot; &quot;);\n    Set&lt;String&gt; uniqueWords = new HashSet&lt;&gt;();\n    Collections.addAll(uniqueWords, words);\n    return uniqueWords.size();\n}\n</code></pre>\n<p>or with Streams:</p>\n<pre><code>public static long getTotalUniqueWordsStream(String input) {\n    String[] words = input.split(&quot; &quot;);\n    return Arrays.stream(words).distinct().count();\n}\n</code></pre>\n"}],"owner":{"account_id":27012951,"reputation":1,"user_id":20572292,"display_name":"gaming With HENEy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670367829,"creation_date":1670103170,"question_id":74670908,"body_markdown":"The code here only shows how many words they are, how do i ignore the words that are the same?\r\nFor example, &quot;A long long time ago, I \r\ncan still remember&quot;, would return 8 instead of 9.\r\n\r\nI want it to be a method which takes one parameter s of \r\ntype String and returns an int value. And im only allowed to use the bacics, so no hash keys or hash set and advance stuff.\r\n\r\n```\r\n  public static int mostCommonLetter(String s){\r\n\r\n        \t        int wordCount = 0;\r\n\r\n        \t        boolean word = false;\r\n        \t        int endOfLine = s.length() - 1;\r\n\r\n        \t        for (int i = 0; i &lt; s.length(); i++) {\r\n        \t           \r\n        \t            if (Character.isLetter(s.charAt(i)) &amp;&amp; i != endOfLine) {\r\n        \t                word = true;\r\n        \t              \r\n        \t            } else if (!Character.isLetter(s.charAt(i)) &amp;&amp; word) {\r\n        \t                wordCount++;\r\n        \t                word = false;\r\n        \t              \r\n        \t            } else if (Character.isLetter(s.charAt(i)) &amp;&amp; i == endOfLine) {\r\n        \t                wordCount++;\r\n        \t            }\r\n        \t        }\r\n        \t        return wordCount;\r\n        \t    }\r\n} \r\n        \r\n```\r\n\r\n\r\nHow do i ignore the words that are the same?","title":"How do i count how many words there are, and ignore same words in a string? (using method)","body":"<p>The code here only shows how many words they are, how do i ignore the words that are the same?\nFor example, &quot;A long long time ago, I\ncan still remember&quot;, would return 8 instead of 9.</p>\n<p>I want it to be a method which takes one parameter s of\ntype String and returns an int value. And im only allowed to use the bacics, so no hash keys or hash set and advance stuff.</p>\n<pre><code>  public static int mostCommonLetter(String s){\n\n                    int wordCount = 0;\n\n                    boolean word = false;\n                    int endOfLine = s.length() - 1;\n\n                    for (int i = 0; i &lt; s.length(); i++) {\n                       \n                        if (Character.isLetter(s.charAt(i)) &amp;&amp; i != endOfLine) {\n                            word = true;\n                          \n                        } else if (!Character.isLetter(s.charAt(i)) &amp;&amp; word) {\n                            wordCount++;\n                            word = false;\n                          \n                        } else if (Character.isLetter(s.charAt(i)) &amp;&amp; i == endOfLine) {\n                            wordCount++;\n                        }\n                    }\n                    return wordCount;\n                }\n} \n        \n</code></pre>\n<p>How do i ignore the words that are the same?</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1670365440,"post_id":74709602,"comment_id":131859240,"body_markdown":"Does this answer your question? [How to Shuffle 2d array in java](https://stackoverflow.com/questions/26310775/how-to-shuffle-2d-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26310775/how-to-shuffle-2d-array-in-java\">How to Shuffle 2d array in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670367776,"creation_date":1670367776,"answer_id":74709989,"question_id":74709602,"body_markdown":"Another variation...\r\n\r\nPopulate the list with the numbers 1 to 9 but then pick a random spot from it to fill the next slot of your array. Each time you pick a random spot from the list you remove it.\r\n\r\nMight look like:\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n    import java.util.Arrays;\r\n    class Main {\r\n      \r\n      public static void main(String[] args) {\r\n        Random rand = new Random();\r\n        int[][] a = new int[3][3];\r\n    \r\n        int counter = 1;\r\n        int totalSpots = a.length * a[0].length; // assumes RECTANGULAR array\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        while (counter &lt;= totalSpots) {\r\n          numbers.add(counter);\r\n          counter++;\r\n        }\r\n    \r\n        for(int row = 0;row &lt; a.length; row++) {\r\n          for(int col = 0; col &lt; a[0].length; col++) {\r\n            int index = rand.nextInt(numbers.size());\r\n            a[row][col] = numbers.get(index);\r\n            numbers.remove(index);\r\n          }\r\n        }\r\n    \r\n        for(int[] row : a) {\r\n          System.out.println(Arrays.toString(row));\r\n        }\r\n      }\r\n      \r\n    }\r\n\r\nSample output:\r\n\r\n    [5, 3, 6]\r\n    [9, 4, 8]\r\n    [2, 7, 1]\r\n\r\nIf we change the size of the array:\r\n\r\n    int[][] a = new int[5][4];\r\n\r\nIt sill works:\r\n\r\n    [7, 3, 6, 11]\r\n    [19, 20, 1, 4]\r\n    [13, 12, 17, 2]\r\n    [5, 18, 9, 16]\r\n    [14, 15, 10, 8]","title":"create a randomly generated two dimensional matrix that has all unique elements","body":"<p>Another variation...</p>\n<p>Populate the list with the numbers 1 to 9 but then pick a random spot from it to fill the next slot of your array. Each time you pick a random spot from the list you remove it.</p>\n<p>Might look like:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Random;\nimport java.util.Arrays;\nclass Main {\n  \n  public static void main(String[] args) {\n    Random rand = new Random();\n    int[][] a = new int[3][3];\n\n    int counter = 1;\n    int totalSpots = a.length * a[0].length; // assumes RECTANGULAR array\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    while (counter &lt;= totalSpots) {\n      numbers.add(counter);\n      counter++;\n    }\n\n    for(int row = 0;row &lt; a.length; row++) {\n      for(int col = 0; col &lt; a[0].length; col++) {\n        int index = rand.nextInt(numbers.size());\n        a[row][col] = numbers.get(index);\n        numbers.remove(index);\n      }\n    }\n\n    for(int[] row : a) {\n      System.out.println(Arrays.toString(row));\n    }\n  }\n  \n}\n</code></pre>\n<p>Sample output:</p>\n<pre><code>[5, 3, 6]\n[9, 4, 8]\n[2, 7, 1]\n</code></pre>\n<p>If we change the size of the array:</p>\n<pre><code>int[][] a = new int[5][4];\n</code></pre>\n<p>It sill works:</p>\n<pre><code>[7, 3, 6, 11]\n[19, 20, 1, 4]\n[13, 12, 17, 2]\n[5, 18, 9, 16]\n[14, 15, 10, 8]\n</code></pre>\n"}],"owner":{"account_id":26967297,"reputation":11,"user_id":20533914,"display_name":"Abdullah Shekfeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670367776,"creation_date":1670364806,"question_id":74709602,"body_markdown":"I am trying to create a 3x3 matrix that has the numbers 1 to 9 generated at different locations each time you run the code. the method I came up with does not work and I can&#39;t find out why it doesn&#39;t work, so if anyone could point out the reason why it does not work it would be really really appreciated.\r\n\r\nand if anyone knows how to solve this problem in any other way please let me know.\r\n\r\nHere&#39;s the method I created:\r\n\r\n\r\n```\r\npublic static int[][] randgen() {\r\n\t\tRandom rand = new Random();\r\n\t\tint[][] a = new int[3][3];\r\n\t\tint x;\r\n\t\t\r\n\t\tfor(int i = 0; i&lt;a.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a.length; j++) {\r\n\t\t\t\ta[i][j] = rand.nextInt(8) +1;\r\n\t\t\t\t\r\n\t\t\t\tdo {\r\n\t\t\t\t\tx = 1;\r\n\t\t\t\t\tfor(int k = 0; k&lt;i; k++) {\r\n\t\t\t\t\t\tfor(int l = 0; l&lt;j; l++) {\r\n\t\t\t\t\t\t\tif(a[k][l] == a[i][j]) {\r\n\t\t\t\t\t\t\t\tx++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(x!=1) {\r\n\t\t\t\t\t\ta[i][j] = rand.nextInt(8) +1;\r\n\t\t\t\t\t}\r\n\t\t\t\t} while (x!=1); //this while loop I&#39;m using as a way to find duplicates and keep changing up the number until I reach an integer with no duplicates, and this is the part of the program that is failing and I can&#39;t understand why\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\n\r\nI&#39;ve tried creating a sorted algorithm and then making a function to shuffle some of the elements which also did not work.\r\n\r\nThe only thing that worked for me is creating an ArrayList and then printing it out in a way that it looks like an array","title":"create a randomly generated two dimensional matrix that has all unique elements","body":"<p>I am trying to create a 3x3 matrix that has the numbers 1 to 9 generated at different locations each time you run the code. the method I came up with does not work and I can't find out why it doesn't work, so if anyone could point out the reason why it does not work it would be really really appreciated.</p>\n<p>and if anyone knows how to solve this problem in any other way please let me know.</p>\n<p>Here's the method I created:</p>\n<pre><code>public static int[][] randgen() {\n        Random rand = new Random();\n        int[][] a = new int[3][3];\n        int x;\n        \n        for(int i = 0; i&lt;a.length; i++) {\n            for (int j = 0; j &lt; a.length; j++) {\n                a[i][j] = rand.nextInt(8) +1;\n                \n                do {\n                    x = 1;\n                    for(int k = 0; k&lt;i; k++) {\n                        for(int l = 0; l&lt;j; l++) {\n                            if(a[k][l] == a[i][j]) {\n                                x++;\n                            }\n                        }\n                    }\n                    if(x!=1) {\n                        a[i][j] = rand.nextInt(8) +1;\n                    }\n                } while (x!=1); //this while loop I'm using as a way to find duplicates and keep changing up the number until I reach an integer with no duplicates, and this is the part of the program that is failing and I can't understand why\n            }\n        }\n        \n    }\n</code></pre>\n<p>I've tried creating a sorted algorithm and then making a function to shuffle some of the elements which also did not work.</p>\n<p>The only thing that worked for me is creating an ArrayList and then printing it out in a way that it looks like an array</p>\n"},{"tags":["java","maven","gradle","dependency-management","transitive-dependency"],"comments":[{"owner":{"account_id":2934181,"reputation":11448,"user_id":2513573,"accept_rate":76,"display_name":"AdamSkywalker"},"score":0,"creation_date":1449851301,"post_id":34227936,"comment_id":56200180,"body_markdown":"did you try -d (debug) option to see what&#39;s actually happening? also, what command do you use to build the jar?","body":"did you try -d (debug) option to see what&#39;s actually happening? also, what command do you use to build the jar?"},{"owner":{"account_id":7315556,"reputation":51,"user_id":5573343,"display_name":"Taha"},"score":0,"creation_date":1449852233,"post_id":34227936,"comment_id":56200691,"body_markdown":"@AdamSkywalker To build the JAR, I used the command `gradle shadowJar`. However, the same issue occurs even with `grade run`. If I include JNA as a dependency, `gradle run` runs it just fine but if I don&#39;t, `gradle run` throws a runtime dependency. Here&#39;s the output of `gradle -d run` without the `compile &#39;net.java.dev.jna:jna:4.2.1&#39;` line: http://pastebin.com/raw.php?i=c9VfL9BE","body":"@AdamSkywalker To build the JAR, I used the command <code>gradle shadowJar</code>. However, the same issue occurs even with <code>grade run</code>. If I include JNA as a dependency, <code>gradle run</code> runs it just fine but if I don&#39;t, <code>gradle run</code> throws a runtime dependency. Here&#39;s the output of <code>gradle -d run</code> without the <code>compile &#39;net.java.dev.jna:jna:4.2.1&#39;</code> line: <a href=\"http://pastebin.com/raw.php?i=c9VfL9BE\" rel=\"nofollow noreferrer\">pastebin.com/raw.php?i=c9VfL9BE</a>"},{"owner":{"account_id":7315556,"reputation":51,"user_id":5573343,"display_name":"Taha"},"score":0,"creation_date":1449852271,"post_id":34227936,"comment_id":56200714,"body_markdown":"It appears these are the relevant lines: http://pastebin.com/raw.php?i=N5pE1M1C so it appears to be fetching JNA but the program fails to run, hmmm","body":"It appears these are the relevant lines: <a href=\"http://pastebin.com/raw.php?i=N5pE1M1C\" rel=\"nofollow noreferrer\">pastebin.com/raw.php?i=N5pE1M1C</a> so it appears to be fetching JNA but the program fails to run, hmmm"},{"owner":{"account_id":2934181,"reputation":11448,"user_id":2513573,"accept_rate":76,"display_name":"AdamSkywalker"},"score":0,"creation_date":1449853022,"post_id":34227936,"comment_id":56201172,"body_markdown":"try gradle build shadowJar and tell if it works","body":"try gradle build shadowJar and tell if it works"}],"answers":[{"tags":[],"owner":{"account_id":7315556,"reputation":51,"user_id":5573343,"display_name":"Taha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670367669,"creation_date":1452391086,"answer_id":34701175,"question_id":34227936,"body_markdown":"It ended up being an issue with the pom file upstream. They switched the dependency from compile-time dependency to run-time dependency and that fixed it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhttps://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kB1LQ.png","title":"Gradle transitive dependencies not working?","body":"<p>It ended up being an issue with the pom file upstream. They switched the dependency from compile-time dependency to run-time dependency and that fixed it.</p>\n<p><a href=\"https://i.stack.imgur.com/kB1LQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kB1LQ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation</a></p>\n"}],"owner":{"account_id":7315556,"reputation":51,"user_id":5573343,"display_name":"Taha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5148,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34701175,"answer_count":1,"score":3,"last_activity_date":1670367669,"creation_date":1449850598,"question_id":34227936,"body_markdown":"So I have a project over [here](https://github.com/tgharib/PrayerApp) that has the following build.gradle:\r\n\r\n    // PLUGINS\r\n    \r\n    plugins {\r\n      id &#39;java&#39; // or &#39;groovy&#39; Must be explicitly applied\r\n      id &#39;com.github.johnrengelman.shadow&#39; version &#39;1.2.2&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    // REPOSITORIES &amp; DEPENDENCIES\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;joda-time:joda-time:2.9&#39;\r\n        compile &#39;com.miglayout:miglayout-swing:5.0&#39;\r\n        compile &#39;com.dorkbox:SystemTray:1.9&#39;\r\n        compile &#39;com.dorkbox:SystemTray-Dorkbox-Util:1.9&#39;\r\n        compile &#39;net.java.dev.jna:jna:4.2.1&#39;\r\n        compile &#39;org.slf4j:slf4j-simple:1.7.5&#39;\r\n        compile &#39;commons-cli:commons-cli:1.3.1&#39;\r\n    }\r\n    \r\n    // SETTING THE MAIN CLASS\r\n    \r\n    mainClassName = &quot;com.github.tgharib.Program&quot;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.github.tgharib.Program&#39;\r\n        }\r\n    }\r\n\r\nCurrently, following these [build instructions](https://github.com/tgharib/PrayerApp/blob/master/README.md#build-instructions) compiles the application just fine. However, for the `com.dorkbox:SystemTray` library, I have to include SystemTray&#39;s transitive dependencies: `net.java.dev.jna:jna` and `org.slf4j:slf4j-simple`. If I understand correctly, Gradle automatically includes transitive dependencies by default but if I remove the `compile &#39;net.java.dev.jna:jna:4.2.1&#39;` line for example, my program still compiles but it fails to run (because JNA is a runtime dependency).\r\n\r\nI&#39;ve spent about 3 hours trying to fix it but I haven&#39;t been able to solve it. One SO user suggested to clear the cache as that fixed the issue for him but clearing the cache didn&#39;t fix the issue. I also learned about the `gradle dependencies` command. Here&#39;s the output:\r\n\r\n    :dependencies\r\n    \r\n    ------------------------------------------------------------\r\n    Root project\r\n    ------------------------------------------------------------\r\n    \r\n    archives - Configuration for archive artifacts.\r\n    No dependencies\r\n    \r\n    compile - Compile classpath for source set &#39;main&#39;.\r\n    +--- joda-time:joda-time:2.9\r\n    +--- com.miglayout:miglayout-swing:5.0\r\n    |    \\--- com.miglayout:miglayout-core:5.0\r\n    +--- com.dorkbox:SystemTray:1.9\r\n    |    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- org.slf4j:slf4j-simple:1.7.5\r\n    |    \\--- org.slf4j:slf4j-api:1.7.5\r\n    \\--- commons-cli:commons-cli:1.3.1\r\n    \r\n    default - Configuration for default artifacts.\r\n    +--- joda-time:joda-time:2.9\r\n    +--- com.miglayout:miglayout-swing:5.0\r\n    |    \\--- com.miglayout:miglayout-core:5.0\r\n    +--- com.dorkbox:SystemTray:1.9\r\n    |    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- org.slf4j:slf4j-simple:1.7.5\r\n    |    \\--- org.slf4j:slf4j-api:1.7.5\r\n    \\--- commons-cli:commons-cli:1.3.1\r\n    \r\n    runtime - Runtime classpath for source set &#39;main&#39;.\r\n    +--- joda-time:joda-time:2.9\r\n    +--- com.miglayout:miglayout-swing:5.0\r\n    |    \\--- com.miglayout:miglayout-core:5.0\r\n    +--- com.dorkbox:SystemTray:1.9\r\n    |    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- org.slf4j:slf4j-simple:1.7.5\r\n    |    \\--- org.slf4j:slf4j-api:1.7.5\r\n    \\--- commons-cli:commons-cli:1.3.1\r\n    \r\n    shadow\r\n    No dependencies\r\n    \r\n    testCompile - Compile classpath for source set &#39;test&#39;.\r\n    +--- joda-time:joda-time:2.9\r\n    +--- com.miglayout:miglayout-swing:5.0\r\n    |    \\--- com.miglayout:miglayout-core:5.0\r\n    +--- com.dorkbox:SystemTray:1.9\r\n    |    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- org.slf4j:slf4j-simple:1.7.5\r\n    |    \\--- org.slf4j:slf4j-api:1.7.5\r\n    \\--- commons-cli:commons-cli:1.3.1\r\n    \r\n    testRuntime - Runtime classpath for source set &#39;test&#39;.\r\n    +--- joda-time:joda-time:2.9\r\n    +--- com.miglayout:miglayout-swing:5.0\r\n    |    \\--- com.miglayout:miglayout-core:5.0\r\n    +--- com.dorkbox:SystemTray:1.9\r\n    |    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\r\n    |    \\--- net.java.dev.jna:jna:4.2.1\r\n    +--- org.slf4j:slf4j-simple:1.7.5\r\n    |    \\--- org.slf4j:slf4j-api:1.7.5\r\n    \\--- commons-cli:commons-cli:1.3.1\r\n    \r\n    (*) - dependencies omitted (listed previously)\r\n    \r\n    BUILD SUCCESSFUL\r\n    \r\n    Total time: 4.544 secs\r\n\r\nSo as you can see, SystemTray does indeed include JNA as a dependency but if I remove the JNA dependency in my main project, it fails to run.","title":"Gradle transitive dependencies not working?","body":"<p>So I have a project over <a href=\"https://github.com/tgharib/PrayerApp\" rel=\"nofollow\">here</a> that has the following build.gradle:</p>\n\n<pre><code>// PLUGINS\n\nplugins {\n  id 'java' // or 'groovy' Must be explicitly applied\n  id 'com.github.johnrengelman.shadow' version '1.2.2'\n}\n\napply plugin: 'application'\napply plugin: 'java'\n\n// REPOSITORIES &amp; DEPENDENCIES\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'joda-time:joda-time:2.9'\n    compile 'com.miglayout:miglayout-swing:5.0'\n    compile 'com.dorkbox:SystemTray:1.9'\n    compile 'com.dorkbox:SystemTray-Dorkbox-Util:1.9'\n    compile 'net.java.dev.jna:jna:4.2.1'\n    compile 'org.slf4j:slf4j-simple:1.7.5'\n    compile 'commons-cli:commons-cli:1.3.1'\n}\n\n// SETTING THE MAIN CLASS\n\nmainClassName = \"com.github.tgharib.Program\"\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.github.tgharib.Program'\n    }\n}\n</code></pre>\n\n<p>Currently, following these <a href=\"https://github.com/tgharib/PrayerApp/blob/master/README.md#build-instructions\" rel=\"nofollow\">build instructions</a> compiles the application just fine. However, for the <code>com.dorkbox:SystemTray</code> library, I have to include SystemTray's transitive dependencies: <code>net.java.dev.jna:jna</code> and <code>org.slf4j:slf4j-simple</code>. If I understand correctly, Gradle automatically includes transitive dependencies by default but if I remove the <code>compile 'net.java.dev.jna:jna:4.2.1'</code> line for example, my program still compiles but it fails to run (because JNA is a runtime dependency).</p>\n\n<p>I've spent about 3 hours trying to fix it but I haven't been able to solve it. One SO user suggested to clear the cache as that fixed the issue for him but clearing the cache didn't fix the issue. I also learned about the <code>gradle dependencies</code> command. Here's the output:</p>\n\n<pre><code>:dependencies\n\n------------------------------------------------------------\nRoot project\n------------------------------------------------------------\n\narchives - Configuration for archive artifacts.\nNo dependencies\n\ncompile - Compile classpath for source set 'main'.\n+--- joda-time:joda-time:2.9\n+--- com.miglayout:miglayout-swing:5.0\n|    \\--- com.miglayout:miglayout-core:5.0\n+--- com.dorkbox:SystemTray:1.9\n|    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- org.slf4j:slf4j-simple:1.7.5\n|    \\--- org.slf4j:slf4j-api:1.7.5\n\\--- commons-cli:commons-cli:1.3.1\n\ndefault - Configuration for default artifacts.\n+--- joda-time:joda-time:2.9\n+--- com.miglayout:miglayout-swing:5.0\n|    \\--- com.miglayout:miglayout-core:5.0\n+--- com.dorkbox:SystemTray:1.9\n|    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- org.slf4j:slf4j-simple:1.7.5\n|    \\--- org.slf4j:slf4j-api:1.7.5\n\\--- commons-cli:commons-cli:1.3.1\n\nruntime - Runtime classpath for source set 'main'.\n+--- joda-time:joda-time:2.9\n+--- com.miglayout:miglayout-swing:5.0\n|    \\--- com.miglayout:miglayout-core:5.0\n+--- com.dorkbox:SystemTray:1.9\n|    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- org.slf4j:slf4j-simple:1.7.5\n|    \\--- org.slf4j:slf4j-api:1.7.5\n\\--- commons-cli:commons-cli:1.3.1\n\nshadow\nNo dependencies\n\ntestCompile - Compile classpath for source set 'test'.\n+--- joda-time:joda-time:2.9\n+--- com.miglayout:miglayout-swing:5.0\n|    \\--- com.miglayout:miglayout-core:5.0\n+--- com.dorkbox:SystemTray:1.9\n|    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- org.slf4j:slf4j-simple:1.7.5\n|    \\--- org.slf4j:slf4j-api:1.7.5\n\\--- commons-cli:commons-cli:1.3.1\n\ntestRuntime - Runtime classpath for source set 'test'.\n+--- joda-time:joda-time:2.9\n+--- com.miglayout:miglayout-swing:5.0\n|    \\--- com.miglayout:miglayout-core:5.0\n+--- com.dorkbox:SystemTray:1.9\n|    +--- org.slf4j:slf4j-api:1.6.4 -&gt; 1.7.5\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- com.dorkbox:SystemTray-Dorkbox-Util:1.9\n|    \\--- net.java.dev.jna:jna:4.2.1\n+--- org.slf4j:slf4j-simple:1.7.5\n|    \\--- org.slf4j:slf4j-api:1.7.5\n\\--- commons-cli:commons-cli:1.3.1\n\n(*) - dependencies omitted (listed previously)\n\nBUILD SUCCESSFUL\n\nTotal time: 4.544 secs\n</code></pre>\n\n<p>So as you can see, SystemTray does indeed include JNA as a dependency but if I remove the JNA dependency in my main project, it fails to run.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1670367579,"post_id":74709947,"comment_id":131859769,"body_markdown":"where exactly are those errors? I can see that `customFilter(int[] data)` doesn&#39;t take any booleans and you try to put one as an arugment in there for some reason unclear to me. Oh and doubles  too. Why? What&#39;s the purpose of them? `new int[]{60, 70, 80, 85, 95, 100, &gt;&gt; 3.2, &gt;&gt; false, 1}`","body":"where exactly are those errors? I can see that <code>customFilter(int[] data)</code> doesn&#39;t take any booleans and you try to put one as an arugment in there for some reason unclear to me. Oh and doubles  too. Why? What&#39;s the purpose of them? <code>new int[]{60, 70, 80, 85, 95, 100, &gt;&gt; 3.2, &gt;&gt; false, 1}</code>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1670367891,"post_id":74709947,"comment_id":131859846,"body_markdown":"`int[]` is an array of integers. What&#39;s the integer value of `true`? If you were at the supermarket and bought `true` eggs, how many egg sandwiches could you make from them? Similarly, 3.2 is not an integer. It&#39;s hard to know what you&#39;re trying to do, so we can&#39;t really suggest a fix; but your `int[]` has to only contain ints.","body":"<code>int[]</code> is an array of integers. What&#39;s the integer value of <code>true</code>? If you were at the supermarket and bought <code>true</code> eggs, how many egg sandwiches could you make from them? Similarly, 3.2 is not an integer. It&#39;s hard to know what you&#39;re trying to do, so we can&#39;t really suggest a fix; but your <code>int[]</code> has to only contain ints."}],"owner":{"account_id":27170786,"reputation":1,"user_id":20707492,"display_name":"Karzh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670367411,"creation_date":1670367411,"question_id":74709947,"body_markdown":"```\r\npublic class Applicants {\r\n    //data fields\r\n    private String name; //to hold the name\r\n    private int[] academicData; //to hold the grades from 6 core CS courses\r\n\r\n    //constructors\r\n    public Applicants(){\r\n        //default constructor\r\n    }\r\n    public Applicants(String name, int[] academicData){\r\n        setName(name);\r\n        setAcademicData(academicData);\r\n    }\r\n    public Applicants(String name){\r\n        setName(name);\r\n    }\r\n\r\n    //getters and setters\r\n    public String getName(){\r\n        return name;\r\n    }\r\n    public void setName(String name){\r\n        this.name = name;\r\n    }\r\n    public int[] getAcademicData(){\r\n        return academicData;\r\n    }\r\n    public void setAcademicData(int[] academicData){\r\n        this.academicData = academicData;\r\n    }\r\n\r\n    //methods to analyze applications\r\n    public boolean averageAbove85(){\r\n        int sum = 0;\r\n        for (int grade : academicData){\r\n            sum += grade;\r\n        }\r\n        double average = sum / academicData.length;\r\n        return average &gt; 85;\r\n    }\r\n    public boolean noGradeBelow65(){\r\n        for (int grade : academicData){\r\n            if (grade &lt; 65){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    public boolean atleastFour85(){\r\n        int count = 0;\r\n        for (int grade : academicData){\r\n            if (grade &gt; 85){\r\n                count++;\r\n            }\r\n        }\r\n        return count &gt;= 4;\r\n    }\r\n    public boolean upperLevelAbove85(){\r\n        int sum = 0;\r\n        for (int i = academicData.length - 4; i &lt; academicData.length; i++){\r\n            sum += academicData[i];\r\n        }\r\n        double average = sum / 4;\r\n        return average &gt; 85;\r\n    }\r\n    public boolean customFilter(int[] data){\r\n        int sum = 0;\r\n        int count = 0;\r\n        for (int i = 0; i &lt; data.length; i++){\r\n            if (i &lt; 6){\r\n                sum += data[i];\r\n            }\r\n            else if (i &gt;=6 &amp;&amp; data[i] &gt; 3.5){\r\n                count++;\r\n            }\r\n        }\r\n        double average = sum / 6;\r\n        return (average &gt; 70 &amp;&amp; count &gt; 0);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class TestApplicants {\r\n    public static void main(String[] args){\r\n        Applicants applicant1 = new Applicants(&quot;John Doe&quot;, new int[]{90, 95, 80, 100, 75, 95});\r\n        System.out.println(applicant1.averageAbove85()); //true\r\n        System.out.println(applicant1.noGradeBelow65()); //true\r\n        System.out.println(applicant1.atleastFour85()); //false\r\n        System.out.println(applicant1.upperLevelAbove85()); //true\r\n        System.out.println(applicant1.customFilter(new int[]{90, 95, 80, 100, 75, 95, 4.0, true, 3})); //true\r\n\r\n        Applicants applicant2 = new Applicants(&quot;Jane Doe&quot;, new int[]{60, 70, 80, 85, 95, 100});\r\n        System.out.println(applicant2.averageAbove85()); //true\r\n        System.out.println(applicant2.noGradeBelow65()); //false\r\n        System.out.println(applicant2.atleastFour85()); //true\r\n        System.out.println(applicant2.upperLevelAbove85()); //true\r\n        System.out.println(applicant2.customFilter(new int[]{60, 70, 80, 85, 95, 100, 3.2, false, 1})); //false\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nhelp! with fixing these two issues (incompatible types: boolean cannot be converted to int and possible lossy conversion from double to int), i tried replacing int with double but that didn&#39;t work, and i was thinking maybe boolean is the issue here but if someone can please take a look. these are two java files one is  Applicants and the other TestApplicants that work hand in hand! ","title":"Two issue in my java code, incompatible types: possible lossy conversion from double to int and boolean cannot be converted to int","body":"<pre><code>public class Applicants {\n    //data fields\n    private String name; //to hold the name\n    private int[] academicData; //to hold the grades from 6 core CS courses\n\n    //constructors\n    public Applicants(){\n        //default constructor\n    }\n    public Applicants(String name, int[] academicData){\n        setName(name);\n        setAcademicData(academicData);\n    }\n    public Applicants(String name){\n        setName(name);\n    }\n\n    //getters and setters\n    public String getName(){\n        return name;\n    }\n    public void setName(String name){\n        this.name = name;\n    }\n    public int[] getAcademicData(){\n        return academicData;\n    }\n    public void setAcademicData(int[] academicData){\n        this.academicData = academicData;\n    }\n\n    //methods to analyze applications\n    public boolean averageAbove85(){\n        int sum = 0;\n        for (int grade : academicData){\n            sum += grade;\n        }\n        double average = sum / academicData.length;\n        return average &gt; 85;\n    }\n    public boolean noGradeBelow65(){\n        for (int grade : academicData){\n            if (grade &lt; 65){\n                return false;\n            }\n        }\n        return true;\n    }\n    public boolean atleastFour85(){\n        int count = 0;\n        for (int grade : academicData){\n            if (grade &gt; 85){\n                count++;\n            }\n        }\n        return count &gt;= 4;\n    }\n    public boolean upperLevelAbove85(){\n        int sum = 0;\n        for (int i = academicData.length - 4; i &lt; academicData.length; i++){\n            sum += academicData[i];\n        }\n        double average = sum / 4;\n        return average &gt; 85;\n    }\n    public boolean customFilter(int[] data){\n        int sum = 0;\n        int count = 0;\n        for (int i = 0; i &lt; data.length; i++){\n            if (i &lt; 6){\n                sum += data[i];\n            }\n            else if (i &gt;=6 &amp;&amp; data[i] &gt; 3.5){\n                count++;\n            }\n        }\n        double average = sum / 6;\n        return (average &gt; 70 &amp;&amp; count &gt; 0);\n    }\n\n}\n</code></pre>\n<pre><code>public class TestApplicants {\n    public static void main(String[] args){\n        Applicants applicant1 = new Applicants(&quot;John Doe&quot;, new int[]{90, 95, 80, 100, 75, 95});\n        System.out.println(applicant1.averageAbove85()); //true\n        System.out.println(applicant1.noGradeBelow65()); //true\n        System.out.println(applicant1.atleastFour85()); //false\n        System.out.println(applicant1.upperLevelAbove85()); //true\n        System.out.println(applicant1.customFilter(new int[]{90, 95, 80, 100, 75, 95, 4.0, true, 3})); //true\n\n        Applicants applicant2 = new Applicants(&quot;Jane Doe&quot;, new int[]{60, 70, 80, 85, 95, 100});\n        System.out.println(applicant2.averageAbove85()); //true\n        System.out.println(applicant2.noGradeBelow65()); //false\n        System.out.println(applicant2.atleastFour85()); //true\n        System.out.println(applicant2.upperLevelAbove85()); //true\n        System.out.println(applicant2.customFilter(new int[]{60, 70, 80, 85, 95, 100, 3.2, false, 1})); //false\n    }\n}\n</code></pre>\n<p>help! with fixing these two issues (incompatible types: boolean cannot be converted to int and possible lossy conversion from double to int), i tried replacing int with double but that didn't work, and i was thinking maybe boolean is the issue here but if someone can please take a look. these are two java files one is  Applicants and the other TestApplicants that work hand in hand!</p>\n"},{"tags":["c#","java","regex"],"comments":[{"owner":{"account_id":1025034,"reputation":2356,"user_id":1034537,"accept_rate":45,"display_name":"BLaZuRE"},"score":2,"creation_date":1372229090,"post_id":17313214,"comment_id":25110210,"body_markdown":"I&#39;m curious as to why you would want the overhead of RegEx for this.","body":"I&#39;m curious as to why you would want the overhead of RegEx for this."},{"owner":{"account_id":2045693,"reputation":263,"user_id":2522807,"accept_rate":88,"display_name":"NAMO"},"score":0,"creation_date":1372229114,"post_id":17313214,"comment_id":25110221,"body_markdown":"@BLaZuRE to learn regex","body":"@BLaZuRE to learn regex"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":4,"creation_date":1372229173,"post_id":17313214,"comment_id":25110247,"body_markdown":"@NAMO This is not a good way to learn regexes. Learn how to use them on situations where you need them.","body":"@NAMO This is not a good way to learn regexes. Learn how to use them on situations where you need them."},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1372229497,"post_id":17313214,"comment_id":25110389,"body_markdown":"@NAMO you can read about Regex here http://www.regular-expressions.info/wordboundaries.html","body":"@NAMO you can read about Regex here <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">regular-expressions.info/wordboundaries.html</a>"},{"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"score":2,"creation_date":1372229543,"post_id":17313214,"comment_id":25110421,"body_markdown":"Regexes don&#39;t solve every problem. In general they are very bad at solving problems that require counting, or remembering numbers.","body":"Regexes don&#39;t solve every problem. In general they are very bad at solving problems that require counting, or remembering numbers."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1372237540,"post_id":17313214,"comment_id":25114602,"body_markdown":"The right way to learn about regexes is to read a good book on the subject; e.g. Aho, Sethi &amp; Ullman, or Freidl.  Freidl is more practical ... but the former (and similar) covers the theory.","body":"The right way to learn about regexes is to read a good book on the subject; e.g. Aho, Sethi &amp; Ullman, or Freidl.  Freidl is more practical ... but the former (and similar) covers the theory."}],"answers":[{"tags":[],"owner":{"account_id":200418,"reputation":29303,"user_id":446261,"accept_rate":85,"display_name":"Pieter van Ginkel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1372229129,"creation_date":1372229129,"answer_id":17313257,"question_id":17313214,"body_markdown":"Regular expressions cannot count in the way that you are looking for. This looks like something regular expressions cannot accomplish. I suggest writing code to solve this.","title":"finding middle character in string using regex only","body":"<p>Regular expressions cannot count in the way that you are looking for. This looks like something regular expressions cannot accomplish. I suggest writing code to solve this.</p>\n"},{"tags":[],"owner":{"account_id":1485474,"reputation":5424,"user_id":1393856,"accept_rate":87,"display_name":"Veer Shrivastav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372229263,"creation_date":1372229263,"answer_id":17313288,"question_id":17313214,"body_markdown":"\tString str=&quot;Hello&quot;;\r\n\tString mid=&quot;&quot;;\r\n\tint len = str.length();\r\n\tif(len%2==1)\r\n\t\tmid= Character.toString(str.getCharAt(len/2));\r\n\telse\r\n\t\tmid= Character.toString(str.getChatAt(len/2))+ Character.toStringstr.getCharAt((len/2)-1));\r\n\r\nThis should probably work.","title":"finding middle character in string using regex only","body":"<pre><code>String str=\"Hello\";\nString mid=\"\";\nint len = str.length();\nif(len%2==1)\n    mid= Character.toString(str.getCharAt(len/2));\nelse\n    mid= Character.toString(str.getChatAt(len/2))+ Character.toStringstr.getCharAt((len/2)-1));\n</code></pre>\n\n<p>This should probably work.</p>\n"},{"tags":[],"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372229704,"creation_date":1372229704,"answer_id":17313419,"question_id":17313214,"body_markdown":"    public static void main(String[] args) {\r\n            String s = &quot;jogijogi&quot;;\r\n            int size = s.length() / 2;\r\n            String temp = &quot;&quot;;\r\n            if (s.length() % 2 == 0) {\r\n                temp = s.substring(size - 1, (s.length() - size) + 1);\r\n            } else if (s.length() % 2 != 0) {\r\n                temp = s.substring(size, (s.length() - size));\r\n            } else {\r\n                temp = s.substring(1);\r\n    \r\n            }\r\n    \r\n            System.out.println(temp);\r\n        }","title":"finding middle character in string using regex only","body":"<pre><code>public static void main(String[] args) {\n        String s = \"jogijogi\";\n        int size = s.length() / 2;\n        String temp = \"\";\n        if (s.length() % 2 == 0) {\n            temp = s.substring(size - 1, (s.length() - size) + 1);\n        } else if (s.length() % 2 != 0) {\n            temp = s.substring(size, (s.length() - size));\n        } else {\n            temp = s.substring(1);\n\n        }\n\n        System.out.println(temp);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670367195,"creation_date":1670337231,"answer_id":74704268,"question_id":17313214,"body_markdown":"*Related:* **[How to match the middle character in a string with regex?][1]**\r\n\r\n---\r\n\r\nThe following regex is based on [@jaytea&#39;s approach][2] and works well with e.g. PCRE, Java or C#.\r\n\r\n~~~none\r\n^(?:.(?=.+?(.\\1?$)))*?(^..?$|..?(?=\\1$))\r\n~~~\r\n\r\n[Here is the demo at regex101][3] and [a .NET demo at RegexPlanet][4] (click the green &quot;.NET&quot; button)\r\n\r\nMiddle character(s) will be found in the *second* [capturing group][5]. The goal is to capture two middle characters if there is an even amount of characters, else one. It works by a *growing capture* towards the end (*first group*) while [lazily][6] going through the string until it ends with the captured substring that grows with each repitition. `^..?$` is used to match strings with one or two characters length.\r\n\r\nThis &quot;growing&quot; works with *capturing* inside a [repeated][7] [lookahead][8] by placing an [optional][9] [reference][10] to the *same group* together with a freshly captured character into that group ([further reading here][11]).\r\n\r\nA PCRE-variant with [`\\K` to reset][12] and *full matches*: [`^(?:.(?=.+?(.\\1?$)))+?\\K..?(?=\\1$)|^..?`][13]\r\n\r\n---\r\n\r\nCurious about the &quot;easy solution using *balancing groups*&quot; that [@Qtax mentions in his question][14].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28051651/how-to-match-the-middle-character-in-a-string-with-regex\r\n  [2]: https://stackoverflow.com/questions/28051651/how-to-match-the-middle-character-in-a-string-with-regex#comment81446171_28052126\r\n  [3]: https://regex101.com/r/As8hIf/4\r\n  [4]: https://www.regexplanet.com/share/index.html?share=yyyyp027k3r\r\n  [5]: https://www.regular-expressions.info/brackets.html\r\n  [6]: https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions\r\n  [7]: https://www.regular-expressions.info/repeat.html\r\n  [8]: https://www.regular-expressions.info/lookaround.html\r\n  [9]: https://www.regular-expressions.info/optional.html\r\n  [10]: https://www.regular-expressions.info/backref.html\r\n  [11]: https://stackoverflow.com/a/3644267/5527985\r\n  [12]: http://www.rexegg.com/regex-php.html#K\r\n  [13]: https://regex101.com/r/uAKR0G/1\r\n  [14]: https://stackoverflow.com/q/28051651/5527985","title":"finding middle character in string using regex only","body":"<p><em>Related:</em> <strong><a href=\"https://stackoverflow.com/questions/28051651/how-to-match-the-middle-character-in-a-string-with-regex\">How to match the middle character in a string with regex?</a></strong></p>\n<hr />\n<p>The following regex is based on <a href=\"https://stackoverflow.com/questions/28051651/how-to-match-the-middle-character-in-a-string-with-regex#comment81446171_28052126\">@jaytea's approach</a> and works well with e.g. PCRE, Java or C#.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:.(?=.+?(.\\1?$)))*?(^..?$|..?(?=\\1$))\n</code></pre>\n<p><a href=\"https://regex101.com/r/As8hIf/4\" rel=\"nofollow noreferrer\">Here is the demo at regex101</a> and <a href=\"https://www.regexplanet.com/share/index.html?share=yyyyp027k3r\" rel=\"nofollow noreferrer\">a .NET demo at RegexPlanet</a> (click the green &quot;.NET&quot; button)</p>\n<p>Middle character(s) will be found in the <em>second</em> <a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">capturing group</a>. The goal is to capture two middle characters if there is an even amount of characters, else one. It works by a <em>growing capture</em> towards the end (<em>first group</em>) while <a href=\"https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions\">lazily</a> going through the string until it ends with the captured substring that grows with each repitition. <code>^..?$</code> is used to match strings with one or two characters length.</p>\n<p>This &quot;growing&quot; works with <em>capturing</em> inside a <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">repeated</a> <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookahead</a> by placing an <a href=\"https://www.regular-expressions.info/optional.html\" rel=\"nofollow noreferrer\">optional</a> <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">reference</a> to the <em>same group</em> together with a freshly captured character into that group (<a href=\"https://stackoverflow.com/a/3644267/5527985\">further reading here</a>).</p>\n<p>A PCRE-variant with <a href=\"http://www.rexegg.com/regex-php.html#K\" rel=\"nofollow noreferrer\"><code>\\K</code> to reset</a> and <em>full matches</em>: <a href=\"https://regex101.com/r/uAKR0G/1\" rel=\"nofollow noreferrer\"><code>^(?:.(?=.+?(.\\1?$)))+?\\K..?(?=\\1$)|^..?</code></a></p>\n<hr />\n<p>Curious about the &quot;easy solution using <em>balancing groups</em>&quot; that <a href=\"https://stackoverflow.com/q/28051651/5527985\">@Qtax mentions in his question</a>.</p>\n"}],"owner":{"account_id":2045693,"reputation":263,"user_id":2522807,"accept_rate":88,"display_name":"NAMO"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":17313257,"answer_count":4,"score":5,"last_activity_date":1670367195,"creation_date":1372228975,"question_id":17313214,"body_markdown":"How can I find middle character with regex only\r\n\r\nFor example,this shows the expected output\r\n\r\n`Hello` -&gt; `l`\r\n\r\n`world` -&gt; `r`\r\n\r\n`merged` -&gt; `rg` (see this for even number of occurances)\r\n\r\n`hi` -&gt; `hi`\r\n\r\n`I` -&gt; `I`\r\n\r\nI tried \r\n\r\n    (?&lt;=\\w+).(?=\\w+)","title":"finding middle character in string using regex only","body":"<p>How can I find middle character with regex only</p>\n\n<p>For example,this shows the expected output</p>\n\n<p><code>Hello</code> -> <code>l</code></p>\n\n<p><code>world</code> -> <code>r</code></p>\n\n<p><code>merged</code> -> <code>rg</code> (see this for even number of occurances)</p>\n\n<p><code>hi</code> -> <code>hi</code></p>\n\n<p><code>I</code> -> <code>I</code></p>\n\n<p>I tried </p>\n\n<pre><code>(?&lt;=\\w+).(?=\\w+)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","thymeleaf"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1670369122,"post_id":74709922,"comment_id":131860116,"body_markdown":"Did you configure anything regarding thymeleaf / templateresolvers yourself? The full resource path is `src/main/resources/templates/gioca.html`? And `public Class MyController(){` is actually `@Controller public class MyController {`? (like in e.g. https://spring.io/guides/gs/serving-web-content/ or https://www.baeldung.com/spring-thymeleaf-template-directory which also has some tips regarding not found errors)","body":"Did you configure anything regarding thymeleaf / templateresolvers yourself? The full resource path is <code>src&#47;main&#47;resources&#47;templates&#47;gioca.html</code>? And <code>public Class MyController(){</code> is actually <code>@Controller public class MyController {</code>? (like in e.g. <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/serving-web-content</a> or <a href=\"https://www.baeldung.com/spring-thymeleaf-template-directory\" rel=\"nofollow noreferrer\">baeldung.com/spring-thymeleaf-template-directory</a> which also has some tips regarding not found errors)"},{"owner":{"account_id":26066039,"reputation":1,"user_id":19769376,"display_name":"Pippo"},"score":0,"creation_date":1670409024,"post_id":74709922,"comment_id":131868212,"body_markdown":"No, i didn&#39;t configure anything about template resolvers. The path is correct. And yes the controller has its annotation (In that controller there are other method that works).","body":"No, i didn&#39;t configure anything about template resolvers. The path is correct. And yes the controller has its annotation (In that controller there are other method that works)."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1670412995,"post_id":74709922,"comment_id":131869583,"body_markdown":"Besides spelling errors (HTML/htm/html?) including strange things like hidden zerowidth utf8 spaces and other strange utf8 characters, you can also check if there is anything wrong with the file permissions (&quot;not accessible&quot;). But it seems odd because in a jar that would load template resources via classpath it should behave identical in docker and outside. When it&#39;s loading them as files (I think in mvn exec) it could in theory see a difference due to case insensitive filesystems (win/mac) vs on a linux server where that matters. Have you tried a copy of that file with a different name?","body":"Besides spelling errors (HTML/htm/html?) including strange things like hidden zerowidth utf8 spaces and other strange utf8 characters, you can also check if there is anything wrong with the file permissions (&quot;not accessible&quot;). But it seems odd because in a jar that would load template resources via classpath it should behave identical in docker and outside. When it&#39;s loading them as files (I think in mvn exec) it could in theory see a difference due to case insensitive filesystems (win/mac) vs on a linux server where that matters. Have you tried a copy of that file with a different name?"},{"owner":{"account_id":26066039,"reputation":1,"user_id":19769376,"display_name":"Pippo"},"score":0,"creation_date":1670515063,"post_id":74709922,"comment_id":131897356,"body_markdown":"I forgot to delete an old docker image... It was a very stupid error.\nThanks for the help anyway.","body":"I forgot to delete an old docker image... It was a very stupid error. Thanks for the help anyway."}],"owner":{"account_id":26066039,"reputation":1,"user_id":19769376,"display_name":"Pippo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670367188,"creation_date":1670367188,"question_id":74709922,"body_markdown":"In my spring-boot application i have a simple controller like this:\r\n\r\n```\r\npublic Class MyController(){\r\n\r\n    @GetMapping(&quot;/gioca&quot;)\r\n    public String viewQuiz(Model model){\r\n        //stuff\r\n        return &quot;gioca&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe template, `gioca.html`, is under resources/templates/, like the others.\r\n\r\nNo error shows while executing the app from IDE or command line (I&#39;ve tried both `mvn exec:java` and `java -jar app.jar` after creating the jar file). \r\n\r\nAll seems fine, but when I create a Docker container that specific template stop working, giving me the following exception:\r\n```\r\n ERROR 1 --- [io-8080-exec-10] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-10] Exception processing template &quot;gioca&quot;: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers\r\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n...\r\nERROR 1 --- [io-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\r\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n```\r\nwhile all the other templates work just fine.\r\n\r\nHere&#39;s my Dockerfile:\r\n\r\n```\r\nFROM openjdk:18-jdk-alpine\r\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\r\nUSER spring:spring\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\nEXPOSE 8080\r\n```\r\n\r\nCan anyone help me with this issue?\r\n\r\n\r\nI tried to re-creating both the jar file and the container, rename the template, change the path but nothing worked.\r\n","title":"Thymeleaf couldn&#39;t resolve a specific template only when running in a Docker container","body":"<p>In my spring-boot application i have a simple controller like this:</p>\n<pre><code>public Class MyController(){\n\n    @GetMapping(&quot;/gioca&quot;)\n    public String viewQuiz(Model model){\n        //stuff\n        return &quot;gioca&quot;;\n    }\n}\n</code></pre>\n<p>The template, <code>gioca.html</code>, is under resources/templates/, like the others.</p>\n<p>No error shows while executing the app from IDE or command line (I've tried both <code>mvn exec:java</code> and <code>java -jar app.jar</code> after creating the jar file).</p>\n<p>All seems fine, but when I create a Docker container that specific template stop working, giving me the following exception:</p>\n<pre><code> ERROR 1 --- [io-8080-exec-10] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-10] Exception processing template &quot;gioca&quot;: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers\n...\nERROR 1 --- [io-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [gioca], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n<p>while all the other templates work just fine.</p>\n<p>Here's my Dockerfile:</p>\n<pre><code>FROM openjdk:18-jdk-alpine\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\nUSER spring:spring\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\nEXPOSE 8080\n</code></pre>\n<p>Can anyone help me with this issue?</p>\n<p>I tried to re-creating both the jar file and the container, rename the template, change the path but nothing worked.</p>\n"},{"tags":["java","spring-webflux","project-reactor","nonblocking"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670365555,"creation_date":1670365555,"answer_id":74709710,"question_id":74708151,"body_markdown":"Something like this:\r\n```\r\nFlux&lt;Combined&gt; getCombinedByFoo(Foo foo) {\r\n    return getBarsByFoo(foo)\r\n            .flatMap(bar -&gt; getMoreByBar(bar)\r\n                .flatMap(more -&gt; getCombinedFrom(bar, foo, more)))\r\n}\r\n```\r\n\r\nI dont have an idea to check, i wrote this by free hand but something like this i guess.","title":"Spring WebFlux (Reactor) combine multiple non-blocking methods","body":"<p>Something like this:</p>\n<pre><code>Flux&lt;Combined&gt; getCombinedByFoo(Foo foo) {\n    return getBarsByFoo(foo)\n            .flatMap(bar -&gt; getMoreByBar(bar)\n                .flatMap(more -&gt; getCombinedFrom(bar, foo, more)))\n}\n</code></pre>\n<p>I dont have an idea to check, i wrote this by free hand but something like this i guess.</p>\n"},{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670366278,"creation_date":1670365572,"answer_id":74709717,"question_id":74708151,"body_markdown":"I like to think about Reactor programming as a flow of operations (as in flow programming), as a chain/DAG of operation.\r\n\r\nIn your case, you want to:\r\n\r\n1. *map* each emitted Bar object to a Combined object.\r\n2. Along the way, you need to use/call another publisher to fetch additional information:\r\n   * you need to wait for it to complete so you can fetch its output value. In the case of Monads/streams, there&#39;s a *flatMap* operation for it. \r\n   * *flatMap* waits for (or you can say that it extracts) a different publisher value to integrate it in the current chain of operations. I think it is called flatMap because in a sense, we break a level of hierarchy to *flatten* two nested publishers/monads in a single merged one.\r\n\r\n\r\nThe following example show a reactive version of your method (for a less verbose version, see [Toerktumlare answer](https://stackoverflow.com/a/74709710/2678097):\r\n\r\n\r\n```java\r\nFlux&lt;Combined&gt; combine(Foo foo) {\r\n    Flux&lt;Bar&gt; bars = getBarBy(foo);\r\n    Flux&lt;Combined&gt; result = bars.flatMap(bar -&gt; {\r\n        Mono&lt;More&gt; nextMore = getMoreBy(bar);\r\n        Mono&lt;Combined&gt; next = nextMore.map(more -&gt; getCombinedFrom(foo, bar, more));\r\n        return next;\r\n    );\r\n    return result;\r\n}\r\n```\r\n\r\nIf you get your foo object through a Mono, you can just call `flatMapMany` on it:\r\n\r\n```java\r\nMono&lt;Foo&gt; nextFoo = ...;\r\n\r\nFlux&lt;Combined&gt; = nextFoo.flatMapMany(foo -&gt; combine(foo));\r\n```\r\n\r\n## WARNING\r\n\r\n*flatMap* is very powerful: it can trigger concurrent execution of the provided operation. In your case, it means that many `getMoreBy(bar)` operations can be launched at the same time. But it is a double-edged sword, because then it means that:\r\n * ordering of elements is not preserved (or at least, there&#39;s no guarantee)\r\n * In resource constrained system, having multiple operations launched at the same time could hurt performance or cause harm to the system (like, too many files open, etc.) \r\n\r\nThe concurrency behavior is quite high by default (256) and can be controlled in different ways:\r\n\r\n 1. [flatMap accepts an optional *concurrency* argument](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-int-), to adapt the number of tasks allowed to run at the same time.\r\n 2. There are other operators that *flatten* publishers, but manage work differently, like [*concatMap*](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-): it enforces sequential execution (and therefore, preserve ordering) of mapping tasks.\r\n\r\n","title":"Spring WebFlux (Reactor) combine multiple non-blocking methods","body":"<p>I like to think about Reactor programming as a flow of operations (as in flow programming), as a chain/DAG of operation.</p>\n<p>In your case, you want to:</p>\n<ol>\n<li><em>map</em> each emitted Bar object to a Combined object.</li>\n<li>Along the way, you need to use/call another publisher to fetch additional information:\n<ul>\n<li>you need to wait for it to complete so you can fetch its output value. In the case of Monads/streams, there's a <em>flatMap</em> operation for it.</li>\n<li><em>flatMap</em> waits for (or you can say that it extracts) a different publisher value to integrate it in the current chain of operations. I think it is called flatMap because in a sense, we break a level of hierarchy to <em>flatten</em> two nested publishers/monads in a single merged one.</li>\n</ul>\n</li>\n</ol>\n<p>The following example show a reactive version of your method (for a less verbose version, see <a href=\"https://stackoverflow.com/a/74709710/2678097\">Toerktumlare answer</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Combined&gt; combine(Foo foo) {\n    Flux&lt;Bar&gt; bars = getBarBy(foo);\n    Flux&lt;Combined&gt; result = bars.flatMap(bar -&gt; {\n        Mono&lt;More&gt; nextMore = getMoreBy(bar);\n        Mono&lt;Combined&gt; next = nextMore.map(more -&gt; getCombinedFrom(foo, bar, more));\n        return next;\n    );\n    return result;\n}\n</code></pre>\n<p>If you get your foo object through a Mono, you can just call <code>flatMapMany</code> on it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Foo&gt; nextFoo = ...;\n\nFlux&lt;Combined&gt; = nextFoo.flatMapMany(foo -&gt; combine(foo));\n</code></pre>\n<h2>WARNING</h2>\n<p><em>flatMap</em> is very powerful: it can trigger concurrent execution of the provided operation. In your case, it means that many <code>getMoreBy(bar)</code> operations can be launched at the same time. But it is a double-edged sword, because then it means that:</p>\n<ul>\n<li>ordering of elements is not preserved (or at least, there's no guarantee)</li>\n<li>In resource constrained system, having multiple operations launched at the same time could hurt performance or cause harm to the system (like, too many files open, etc.)</li>\n</ul>\n<p>The concurrency behavior is quite high by default (256) and can be controlled in different ways:</p>\n<ol>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-int-\" rel=\"nofollow noreferrer\">flatMap accepts an optional <em>concurrency</em> argument</a>, to adapt the number of tasks allowed to run at the same time.</li>\n<li>There are other operators that <em>flatten</em> publishers, but manage work differently, like <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><em>concatMap</em></a>: it enforces sequential execution (and therefore, preserve ordering) of mapping tasks.</li>\n</ol>\n"}],"owner":{"account_id":3624367,"reputation":376,"user_id":3022395,"display_name":"md_rasler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":926,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74709717,"answer_count":2,"score":1,"last_activity_date":1670366278,"creation_date":1670355389,"question_id":74708151,"body_markdown":"Using non-blocking calls I want to generically take a Mono&lt;Foo&gt; and call a method that returns a Flux&lt;Bar&gt; and for each item in the Flux, call a method that returns Mono&lt;More&gt; to return a Flux&lt;Combined&gt; which is a an aggregate object of Bar + Foo + Bar and has as many elements as the Flux&lt;Bar&gt; method returns (will return).\r\n\r\nAs a concrete example:\r\nMethods:\r\n\r\n    Flux&lt;Bar&gt; getBarsByFoo(Foo foo);\r\n    Mono&lt;More&gt; getMoreByBar(Bar bar);\r\n    Combined getCombinedFrom(Bar bar, Foo foo, More more);\r\n\r\nWorking code section:\r\n\r\n    Flux&lt;Combined&gt; getCombinedByFoo(Foo foo) {\r\n      getBarsByFoo(foo)... \r\n    }\r\n\r\nFrom a blocking perspective what I want to accomplish is:\r\n\r\n    List&lt;Combined&gt; getCombinedByFoo(Foo foo) {\r\n      List&lt;Bar&gt; bars = getBarsByFoo(foo):\r\n      List&lt;Combined&gt; combinedList = new ArrayList&lt;&gt;(bars.size());\r\n      for (Bar bar: bars) {\r\n        More more = getMoreByBar(bar);\r\n        combinedList.append(getCombinedFrom(bar, foo, more));\r\n      }\r\n      return combinedList;\r\n    }\r\n\r\nAny help on which Flux and Mono methods to use would be appreciated.  I am still learning to change my brain into non-blocking thinking.  Conceptually, I think there is a function to apply to each element (Bar) in from getBarsByFoo(Foo foo) to somehow map that to the combined element...","title":"Spring WebFlux (Reactor) combine multiple non-blocking methods","body":"<p>Using non-blocking calls I want to generically take a Mono and call a method that returns a Flux and for each item in the Flux, call a method that returns Mono to return a Flux which is a an aggregate object of Bar + Foo + Bar and has as many elements as the Flux method returns (will return).</p>\n<p>As a concrete example:\nMethods:</p>\n<pre><code>Flux&lt;Bar&gt; getBarsByFoo(Foo foo);\nMono&lt;More&gt; getMoreByBar(Bar bar);\nCombined getCombinedFrom(Bar bar, Foo foo, More more);\n</code></pre>\n<p>Working code section:</p>\n<pre><code>Flux&lt;Combined&gt; getCombinedByFoo(Foo foo) {\n  getBarsByFoo(foo)... \n}\n</code></pre>\n<p>From a blocking perspective what I want to accomplish is:</p>\n<pre><code>List&lt;Combined&gt; getCombinedByFoo(Foo foo) {\n  List&lt;Bar&gt; bars = getBarsByFoo(foo):\n  List&lt;Combined&gt; combinedList = new ArrayList&lt;&gt;(bars.size());\n  for (Bar bar: bars) {\n    More more = getMoreByBar(bar);\n    combinedList.append(getCombinedFrom(bar, foo, more));\n  }\n  return combinedList;\n}\n</code></pre>\n<p>Any help on which Flux and Mono methods to use would be appreciated.  I am still learning to change my brain into non-blocking thinking.  Conceptually, I think there is a function to apply to each element (Bar) in from getBarsByFoo(Foo foo) to somehow map that to the combined element...</p>\n"},{"tags":["java","jmx","prometheus"],"answers":[{"tags":[],"owner":{"account_id":30623,"reputation":32240,"user_id":83591,"display_name":"brian-brazil"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1530005965,"creation_date":1530005965,"answer_id":51039642,"question_id":51038770,"body_markdown":"You would only use the JMX exporter for code you don&#39;t control that&#39;s exposing JMX metrics. In this case you need to add some exposition per https://github.com/prometheus/client_java#http. The `HTTPServer` is simplest.","title":"How to use Prometheus&#39; JMX exporter java agent to collect custom metrics","body":"<p>You would only use the JMX exporter for code you don't control that's exposing JMX metrics. In this case you need to add some exposition per <a href=\"https://github.com/prometheus/client_java#http\" rel=\"noreferrer\">https://github.com/prometheus/client_java#http</a>. The <code>HTTPServer</code> is simplest.</p>\n"}],"owner":{"account_id":12399041,"reputation":167,"user_id":9037193,"display_name":"prometheusnoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13993,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51039642,"answer_count":1,"score":8,"last_activity_date":1670366037,"creation_date":1530003340,"question_id":51038770,"body_markdown":"I&#39;d like to use Prometheus&#39; JMX exporter to collect custom application metrics using Prometheus. I have an application that I&#39;ve packaged into a jar file `ApplicationToMonitor.jar`-- it exposes port 8989 and declares Prometheus metrics, but doesn&#39;t expose an end-point for prometheus to scrape (from what I&#39;ve read, the prometheus javaagent takes care of this).\r\n\r\nI&#39;m not sure what the `configuration.yaml` file should look like. Also, why is it recommended that one use the `shaded.io.prometheus` library (and register new metric variables under the default registry) as opposed to the regular `io.prometheus` library and not using a registry at all? \r\n\r\nI&#39;m referencing the [Prometheus JMX exporter documentation][1], just simply not understanding the aforementioned components.\r\n\r\n\r\n  [1]: https://github.com/prometheus/jmx_exporter","title":"How to use Prometheus&#39; JMX exporter java agent to collect custom metrics","body":"<p>I'd like to use Prometheus' JMX exporter to collect custom application metrics using Prometheus. I have an application that I've packaged into a jar file <code>ApplicationToMonitor.jar</code>-- it exposes port 8989 and declares Prometheus metrics, but doesn't expose an end-point for prometheus to scrape (from what I've read, the prometheus javaagent takes care of this).</p>\n\n<p>I'm not sure what the <code>configuration.yaml</code> file should look like. Also, why is it recommended that one use the <code>shaded.io.prometheus</code> library (and register new metric variables under the default registry) as opposed to the regular <code>io.prometheus</code> library and not using a registry at all? </p>\n\n<p>I'm referencing the <a href=\"https://github.com/prometheus/jmx_exporter\" rel=\"noreferrer\">Prometheus JMX exporter documentation</a>, just simply not understanding the aforementioned components.</p>\n"},{"tags":["java","spring-boot","maven","manifest.mf","fatjar"],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670365853,"creation_date":1670365853,"answer_id":74709753,"question_id":74709548,"body_markdown":"Apparently, behind the scenes, `spring-boot-maven-plugin` still relies on the Manifest created by `maven-jar-plugin`, because that&#39;s the base `.jar` that is being repackaged.\r\n\r\nHaving established that, we then find that \r\n\r\n&gt; [Starting with version 2.1, Maven Archiver no longer creates the\r\n&gt; Implementation and Specification details in the manifest by default.\r\n&gt; If you want them in your manifest you have to say so explicitly in\r\n&gt; your configuration.][1]\r\n\r\nThus, what is needed is to add the following to the `pom.xml`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n  [1]: https://maven.apache.org/shared/maven-archiver/examples/manifest.html","title":"`Implementation-Version` not in Manifest after `spring-boot-maven-plugin` repackage","body":"<p>Apparently, behind the scenes, <code>spring-boot-maven-plugin</code> still relies on the Manifest created by <code>maven-jar-plugin</code>, because that's the base <code>.jar</code> that is being repackaged.</p>\n<p>Having established that, we then find that</p>\n<blockquote>\n<p><a href=\"https://maven.apache.org/shared/maven-archiver/examples/manifest.html\" rel=\"nofollow noreferrer\">Starting with version 2.1, Maven Archiver no longer creates the\nImplementation and Specification details in the manifest by default.\nIf you want them in your manifest you have to say so explicitly in\nyour configuration.</a></p>\n</blockquote>\n<p>Thus, what is needed is to add the following to the <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74709753,"answer_count":1,"score":2,"last_activity_date":1670365853,"creation_date":1670364498,"question_id":74709548,"body_markdown":"Given this plugin config in a Maven `pom.xml`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;acme.Main&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhy would `MANIFEST.MF` be missing `Implementation-Version` and `Implementation-Title`, given that all docs that I can get my hands on, either don&#39;t mention it, or imply its creation is a default?\r\n\r\nThe complete generated Manifest is:\r\n\r\n    Manifest-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Created-By: Apache Maven 3.8.6\r\n    Built-By: stewart\r\n    Build-Jdk: 17.0.5\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Start-Class: acme.Main\r\n    Spring-Boot-Version: 2.7.5\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Spring-Boot-Classpath-Index: BOOT-INF/classpath.idx\r\n    Spring-Boot-Layers-Index: BOOT-INF/layers.idx\r\n","title":"`Implementation-Version` not in Manifest after `spring-boot-maven-plugin` repackage","body":"<p>Given this plugin config in a Maven <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;acme.Main&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Why would <code>MANIFEST.MF</code> be missing <code>Implementation-Version</code> and <code>Implementation-Title</code>, given that all docs that I can get my hands on, either don't mention it, or imply its creation is a default?</p>\n<p>The complete generated Manifest is:</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.8.6\nBuilt-By: stewart\nBuild-Jdk: 17.0.5\nMain-Class: org.springframework.boot.loader.JarLauncher\nStart-Class: acme.Main\nSpring-Boot-Version: 2.7.5\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nSpring-Boot-Classpath-Index: BOOT-INF/classpath.idx\nSpring-Boot-Layers-Index: BOOT-INF/layers.idx\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1670365447,"post_id":74709146,"comment_id":131859243,"body_markdown":"Did your assignment state that you should use &quot;a String[] for names, and int[][] for grades&quot;? Because there are definitely better solutions.","body":"Did your assignment state that you should use &quot;a String[] for names, and int[][] for grades&quot;? Because there are definitely better solutions."},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1670384600,"post_id":74709146,"comment_id":131862404,"body_markdown":"Yeah our professor wants us using those specifically.","body":"Yeah our professor wants us using those specifically."}],"answers":[{"tags":[],"owner":{"account_id":19140788,"reputation":376,"user_id":13980783,"display_name":"postFix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670363902,"creation_date":1670363902,"answer_id":74709465,"question_id":74709146,"body_markdown":"If I understood you correctly, what is difficult for you is the printing together, and you can do it this way:\r\n~~~\r\npublic static void printArray(String[] names,int [][] grades)\r\n    {\r\n        for(int i = 0; i&lt;5; i++)\r\n        {\r\n            System.out.println(names[i]+&quot; &quot;+ Arrays.toString(grades[i]).replace(&quot;,&quot;, &quot;&quot;).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).trim());\r\n        }\r\n    }\r\n~~~\r\nthe output:\r\n~~~\r\nAdams 5 5 5\r\nBaker 5 5 5\r\nCampbell 5 5 5\r\nDewey 5 5 5\r\nEast 5 5 5\r\n~~~\r\n","title":"How to format and print a String[] array and int[][] array into a table together","body":"<p>If I understood you correctly, what is difficult for you is the printing together, and you can do it this way:</p>\n<pre><code>public static void printArray(String[] names,int [][] grades)\n    {\n        for(int i = 0; i&lt;5; i++)\n        {\n            System.out.println(names[i]+&quot; &quot;+ Arrays.toString(grades[i]).replace(&quot;,&quot;, &quot;&quot;).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).trim());\n        }\n    }\n</code></pre>\n<p>the output:</p>\n<pre><code>Adams 5 5 5\nBaker 5 5 5\nCampbell 5 5 5\nDewey 5 5 5\nEast 5 5 5\n</code></pre>\n"}],"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670365228,"creation_date":1670361578,"question_id":74709146,"body_markdown":"```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class GradeBook \r\n{\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tSystem.out.println(&quot;Starting program\\n\\n&quot;);\r\n\t\tString[] STUDENT_NAMES = new String[] {&quot;Adams&quot;, &quot;Baker&quot;, &quot;Campbell&quot;, &quot;Dewey&quot;, &quot;East&quot;};\r\n\t\tint[][] STUDENT_GRADES = new int[5][3];\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(int i = 0; i&lt;5; i++)\r\n\t\t{\r\n\t\t\tfor(int j = 0; j&lt;3; j++)\r\n\t\t\t{\r\n\t\t\t\tSTUDENT_GRADES[i][j] = 5;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tprintArray(STUDENT_NAMES);\r\n\t\tprint2DArray(STUDENT_GRADES);\t\r\n\t\t\r\n\t} //end main\r\n\t\t\r\n\tpublic static void printArray(String[] arr)\r\n\t{\r\n\t\tfor(int i = 0; i&lt;arr.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.print(arr[i]);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void print2DArray(int arr[][])\r\n\t{\r\n\t\tfor(int row = 0; row&lt;arr.length; row++)\r\n\t\t{\r\n\t\t\tfor(int col = 0; col&lt;arr[row].length; col++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(arr[row][col] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n} //end class\r\n\r\n```\r\n\r\n\r\nThis assignment for class has me creating a Gradebook for students using a String[] for names, and int[][] for grades. The Gradebook displays the students name with their exam grades in the corresponding row. It specifies 5 names to be loaded in the String[], and the int[][] to be of size [5][3]. The final output of the program should look like this:\r\n\r\nAdams\t\t75 75\r\n\r\nBaker \t\t100 75\r\n\r\nCampbell\t84 75\r\n\r\nDewey\t\t80 75\r\n\r\nEast\t\t50 75\r\n\r\n\r\nI am having trouble figuring out how to print both String[] and int[][] together, with the names being formatted as shown to the left. \r\n\r\nIn my program I loaded the int[][] with 5&#39;s as a test placeholder. I thought of inputting the specific grades when I declared int[][] as a variable, but since its length is [5][3], I thought the String[] should be in int[i][0]","title":"How to format and print a String[] array and int[][] array into a table together","body":"<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class GradeBook \n{\n\n    public static void main(String[] args) \n    {\n        System.out.println(&quot;Starting program\\n\\n&quot;);\n        String[] STUDENT_NAMES = new String[] {&quot;Adams&quot;, &quot;Baker&quot;, &quot;Campbell&quot;, &quot;Dewey&quot;, &quot;East&quot;};\n        int[][] STUDENT_GRADES = new int[5][3];\n        \n        \n        \n        for(int i = 0; i&lt;5; i++)\n        {\n            for(int j = 0; j&lt;3; j++)\n            {\n                STUDENT_GRADES[i][j] = 5;\n            }\n        }\n        \n        printArray(STUDENT_NAMES);\n        print2DArray(STUDENT_GRADES);   \n        \n    } //end main\n        \n    public static void printArray(String[] arr)\n    {\n        for(int i = 0; i&lt;arr.length; i++)\n        {\n            System.out.print(arr[i]);\n        }\n    }\n    \n    public static void print2DArray(int arr[][])\n    {\n        for(int row = 0; row&lt;arr.length; row++)\n        {\n            for(int col = 0; col&lt;arr[row].length; col++)\n            {\n                System.out.println(arr[row][col] + &quot; &quot;);\n            }\n        }\n\n    }\n    \n} //end class\n\n</code></pre>\n<p>This assignment for class has me creating a Gradebook for students using a String[] for names, and int[][] for grades. The Gradebook displays the students name with their exam grades in the corresponding row. It specifies 5 names to be loaded in the String[], and the int[][] to be of size [5][3]. The final output of the program should look like this:</p>\n<p>Adams       75 75</p>\n<p>Baker       100 75</p>\n<p>Campbell    84 75</p>\n<p>Dewey       80 75</p>\n<p>East        50 75</p>\n<p>I am having trouble figuring out how to print both String[] and int[][] together, with the names being formatted as shown to the left.</p>\n<p>In my program I loaded the int[][] with 5's as a test placeholder. I thought of inputting the specific grades when I declared int[][] as a variable, but since its length is [5][3], I thought the String[] should be in int[i][0]</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"score":2,"creation_date":1670334378,"post_id":74703480,"comment_id":131848666,"body_markdown":"In the first example, you call `distinctByKey()` once per item (inside the `filter` lambda). In the second example, you call `distinctByKey()` once, and pass the result into `filter`.","body":"In the first example, you call <code>distinctByKey()</code> once per item (inside the <code>filter</code> lambda). In the second example, you call <code>distinctByKey()</code> once, and pass the result into <code>filter</code>."}],"answers":[{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670338462,"creation_date":1670334734,"answer_id":74703671,"question_id":74703480,"body_markdown":"Your question is essentially, what is the difference between:\r\n\r\n```\r\n.filter(it -&gt; {\r\n    System.out.println(&quot;filter&quot; + it.getName());\r\n    return distinctByKey().test(it);\r\n})\r\n```\r\n\r\nand \r\n\r\n```\r\n.filter(distinctByKey())\r\n```\r\n\r\nWhat `filter` does internally is it is passed a Predicate, and it calls that predicate once for each item in the stream. In your first example, the predicate is a function that calls `distinctByKey()` and then tests the input against the predicate returned by that function. In the second example, you are calling `distinctByKey()` once and passing that predicate directly to the `filter` method.\r\n\r\nThe key difference here is that in the first example `distinctByKey()` is called once per element, and internally creates a new Set for each element, while in the second example `distinctByKey()` is called only once and the Set functions as shared state for the filtering function.\r\n\r\nThis confusion is partially caused by the fact that your `distinctByKey()` method returns a stateful predicate, and this is one of the reasons that such stateful predicates [are discouraged](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html#Statelessness).\r\n","title":"how stream methods working internally in Java 8","body":"<p>Your question is essentially, what is the difference between:</p>\n<pre><code>.filter(it -&gt; {\n    System.out.println(&quot;filter&quot; + it.getName());\n    return distinctByKey().test(it);\n})\n</code></pre>\n<p>and</p>\n<pre><code>.filter(distinctByKey())\n</code></pre>\n<p>What <code>filter</code> does internally is it is passed a Predicate, and it calls that predicate once for each item in the stream. In your first example, the predicate is a function that calls <code>distinctByKey()</code> and then tests the input against the predicate returned by that function. In the second example, you are calling <code>distinctByKey()</code> once and passing that predicate directly to the <code>filter</code> method.</p>\n<p>The key difference here is that in the first example <code>distinctByKey()</code> is called once per element, and internally creates a new Set for each element, while in the second example <code>distinctByKey()</code> is called only once and the Set functions as shared state for the filtering function.</p>\n<p>This confusion is partially caused by the fact that your <code>distinctByKey()</code> method returns a stateful predicate, and this is one of the reasons that such stateful predicates <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\">are discouraged</a>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670364881,"creation_date":1670334754,"answer_id":74703677,"question_id":74703480,"body_markdown":"In the first case, the `Predicate` of the filter is represented by a lambda expression, which internally uses another `Predicate`. Basically, you&#39;re confusing these two predicates.\r\n\r\nThe argument of the filter always evaluated **only once**\r\n\r\nBut during the execution of the `Predicate` in the first snippet (*meaning method* `Predicate.test()` *which fires the logic represented by the lambda*), a **new** nested `Predicate` returned by `distinctByKey()` would be created for every element in the stream which reaches the `filter`:\r\n\r\n```\r\n.filter(it -&gt; {\r\n     System.out.println(&quot;filter&quot; + it.getName());\r\n     return distinctByKey().test(it);\r\n})\r\n```\r\n\r\nIn the second snippet, `filter` is using `Predice` returned by `distinctByKey()` directly. The call `distinctByKey()` would be executed only once and all the element would be evaluated against the same stateful `Predicate`, capturing a `Set` (as the result all the previously encountered unique elements would be reflected in the set).\r\n\r\n```\r\n.filter(distinctByKey())\r\n```","title":"how stream methods working internally in Java 8","body":"<p>In the first case, the <code>Predicate</code> of the filter is represented by a lambda expression, which internally uses another <code>Predicate</code>. Basically, you're confusing these two predicates.</p>\n<p>The argument of the filter always evaluated <strong>only once</strong></p>\n<p>But during the execution of the <code>Predicate</code> in the first snippet (<em>meaning method</em> <code>Predicate.test()</code> <em>which fires the logic represented by the lambda</em>), a <strong>new</strong> nested <code>Predicate</code> returned by <code>distinctByKey()</code> would be created for every element in the stream which reaches the <code>filter</code>:</p>\n<pre><code>.filter(it -&gt; {\n     System.out.println(&quot;filter&quot; + it.getName());\n     return distinctByKey().test(it);\n})\n</code></pre>\n<p>In the second snippet, <code>filter</code> is using <code>Predice</code> returned by <code>distinctByKey()</code> directly. The call <code>distinctByKey()</code> would be executed only once and all the element would be evaluated against the same stateful <code>Predicate</code>, capturing a <code>Set</code> (as the result all the previously encountered unique elements would be reflected in the set).</p>\n<pre><code>.filter(distinctByKey())\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1670364881,"creation_date":1670333951,"question_id":74703480,"body_markdown":"I am having below code and trying to collect the employees with distinct by name.\r\n\r\n```\r\n public static void main(final String[] args) {\r\n\r\n        final Employee employee = new Employee(&quot;test&quot;, &quot;123&quot;);\r\n        final Employee employee1 = new Employee(&quot;demo&quot;, &quot;3232&quot;);\r\n        final Employee employee2 = new Employee(&quot;test&quot;, &quot;323&quot;);\r\n        final Employee employee3 = new Employee(&quot;hello&quot;, &quot;123&quot;);\r\n\r\n        final List&lt;Employee&gt; employees = List.of(employee, employee1, employee2, employee3);\r\n\r\n         final List&lt;Employee&gt; collect = employees.stream()\r\n            .filter(it -&gt; {\r\n                System.out.println(&quot;filter&quot; + it.getName());\r\n                return distinctByKey().test(it);\r\n            })\r\n            .collect(Collectors.toList());\r\n\r\n\r\n        System.out.println(collect);\r\n        System.out.println(seen);\r\n\r\n    }\r\n\r\n  private static Predicate&lt;Employee&gt; distinctByKey() {\r\n        final Set&lt;String&gt; seen = ConcurrentHashMap.newKeySet();\r\n        System.out.println(&quot;set&quot;+seen);\r\n        return employee -&gt; {\r\n            System.out.println(&quot;keyExtractor&quot; + employee.getName());\r\n            return seen.add(employee.getName());\r\n        };\r\n    }\r\n```\r\n\r\nEmployee class is having name and address fields. \r\n\r\nIf I am used filter like above it&#39;s creating new ```Set``` every time in ```distinctByKey``` method and printing like below:\r\n\r\n```\r\nfiltertest\r\nset[]\r\nkeyExtractortest\r\nfilterdemo\r\nset[]\r\nkeyExtractordemo\r\nfiltertest\r\nset[]\r\nkeyExtractortest\r\nfilterhello\r\nset[]\r\nkeyExtractorhello\r\n[Employee{name=&#39;test&#39;, address=&#39;123&#39;}, Employee{name=&#39;demo&#39;, address=&#39;3232&#39;}, Employee{name=&#39;test&#39;, address=&#39;323&#39;}, Employee{name=&#39;hello&#39;, address=&#39;123&#39;}]\r\n```\r\nHere distinct not working as expected because Set created for each elements.\r\n\r\nIf I change the filter like below\r\n\r\n```\r\nfinal List&lt;Employee&gt; collect = employees.stream()\r\n            .filter(distinctByKey())\r\n            .collect(Collectors.toList());\r\n```\r\n\r\nOnly one time ```Set``` was created and distinct also working correctly.\r\n\r\nWhat is the difference between these two approach? How first approach is creating Set each time but second approach creating Set only once? \r\n","title":"how stream methods working internally in Java 8","body":"<p>I am having below code and trying to collect the employees with distinct by name.</p>\n<pre><code> public static void main(final String[] args) {\n\n        final Employee employee = new Employee(&quot;test&quot;, &quot;123&quot;);\n        final Employee employee1 = new Employee(&quot;demo&quot;, &quot;3232&quot;);\n        final Employee employee2 = new Employee(&quot;test&quot;, &quot;323&quot;);\n        final Employee employee3 = new Employee(&quot;hello&quot;, &quot;123&quot;);\n\n        final List&lt;Employee&gt; employees = List.of(employee, employee1, employee2, employee3);\n\n         final List&lt;Employee&gt; collect = employees.stream()\n            .filter(it -&gt; {\n                System.out.println(&quot;filter&quot; + it.getName());\n                return distinctByKey().test(it);\n            })\n            .collect(Collectors.toList());\n\n\n        System.out.println(collect);\n        System.out.println(seen);\n\n    }\n\n  private static Predicate&lt;Employee&gt; distinctByKey() {\n        final Set&lt;String&gt; seen = ConcurrentHashMap.newKeySet();\n        System.out.println(&quot;set&quot;+seen);\n        return employee -&gt; {\n            System.out.println(&quot;keyExtractor&quot; + employee.getName());\n            return seen.add(employee.getName());\n        };\n    }\n</code></pre>\n<p>Employee class is having name and address fields.</p>\n<p>If I am used filter like above it's creating new <code>Set</code> every time in <code>distinctByKey</code> method and printing like below:</p>\n<pre><code>filtertest\nset[]\nkeyExtractortest\nfilterdemo\nset[]\nkeyExtractordemo\nfiltertest\nset[]\nkeyExtractortest\nfilterhello\nset[]\nkeyExtractorhello\n[Employee{name='test', address='123'}, Employee{name='demo', address='3232'}, Employee{name='test', address='323'}, Employee{name='hello', address='123'}]\n</code></pre>\n<p>Here distinct not working as expected because Set created for each elements.</p>\n<p>If I change the filter like below</p>\n<pre><code>final List&lt;Employee&gt; collect = employees.stream()\n            .filter(distinctByKey())\n            .collect(Collectors.toList());\n</code></pre>\n<p>Only one time <code>Set</code> was created and distinct also working correctly.</p>\n<p>What is the difference between these two approach? How first approach is creating Set each time but second approach creating Set only once?</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1670376721,"post_id":74709606,"comment_id":131861393,"body_markdown":"You may want to get more experiences with java and maven projects first, before wanting to personalize your setup away from something that works.","body":"You may want to get more experiences with java and maven projects first, before wanting to personalize your setup away from something that works."},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1670379047,"post_id":74709606,"comment_id":131861692,"body_markdown":"Looks like you are using `Code Runner` to run your project, which is not recommended way to do it. (Code Runner cannot understand your project structure). Instead, you can open `Game.java`, above your main method, you should see shortcut buttons `Run | Debug`.","body":"Looks like you are using <code>Code Runner</code> to run your project, which is not recommended way to do it. (Code Runner cannot understand your project structure). Instead, you can open <code>Game.java</code>, above your main method, you should see shortcut buttons <code>Run | Debug</code>."},{"owner":{"account_id":2686887,"reputation":3693,"user_id":3047729,"accept_rate":74,"display_name":"Addem"},"score":0,"creation_date":1670380394,"post_id":74709606,"comment_id":131861852,"body_markdown":"@ShengChen Ah, that seems to work better.  It turns out when I run it, one part of the program attempts to access a file stored in the project, and causes an error.  I&#39;m guessing this is perhaps some sort of permission issue.  In any case, running it in VSCode seems like a bit of a challenge, so I decided to just install IntelliJ and not keep struggling with this.  Thanks for the help though!","body":"@ShengChen Ah, that seems to work better.  It turns out when I run it, one part of the program attempts to access a file stored in the project, and causes an error.  I&#39;m guessing this is perhaps some sort of permission issue.  In any case, running it in VSCode seems like a bit of a challenge, so I decided to just install IntelliJ and not keep struggling with this.  Thanks for the help though!"}],"owner":{"account_id":2686887,"reputation":3693,"user_id":3047729,"accept_rate":74,"display_name":"Addem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670364835,"creation_date":1670364835,"question_id":74709606,"body_markdown":"I have a Java project that is designed to be built with Maven.  I have instructions to use the Intellij IDE, and I know that when a friend uses the same project and follows those instructions, it will build and run successfully.\r\n\r\nI could just install Intellij, but my main code editor is VSCode.  So I was hoping that I hoping I could stick with VSCode and run it with this.  \r\n\r\nI&#39;m working on Windows 10.  I&#39;ve used the Java code pack to install Java version 17, and I&#39;ve installed Maven.  When I open the project it looks like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UxrZM.png\r\n\r\nIn Intellij I&#39;m supposed to be able to right-click the `Game.java` file and choose to run the main method.  However, I don&#39;t seem to be able to do that here.  When I right-click the project in the Maven drop-down, it gives an option to deploy.  But when I click that I get the following error.\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project hw09: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n```\r\n\r\nI assume this is because the POM file was not set up for a command to deploy, but rather something like a &quot;run&quot; command.  But that isn&#39;t an option that Maven seems to give me.  \r\n\r\nI&#39;ve also tried running the `Game.java` file by right-clicking and clicking `Run`, but it gives this error: \r\n\r\n```\r\n[Running] cd &quot;c:\\Users\\blank\\Desktop\\hw09_local\\hw09_local_temp\\src\\main\\java\\org\\cis1200\\&quot; &amp;&amp; javac Game.java &amp;&amp; java Game\r\nGame.java:13: error: package org.cis1200.mushroom does not exist\r\n        Runnable game = new org.cis1200.mushroom.RunMushroomOfDoom();\r\n                                                ^\r\n1 error\r\n```\r\n\r\nI assume it&#39;s giving this error because whatever it&#39;s using to try to run the program isn&#39;t aware of the surrounding file context.  I assume that&#39;s what Maven is supposed to do for me.\r\n\r\nSo is there a way to run this project in VSCode?  Or was it simply designed to specifically be run in IntelliJ, and I have to use that?  ","title":"Running a project in VSCode with Maven, which does run in Intellij, giving deploy error","body":"<p>I have a Java project that is designed to be built with Maven.  I have instructions to use the Intellij IDE, and I know that when a friend uses the same project and follows those instructions, it will build and run successfully.</p>\n<p>I could just install Intellij, but my main code editor is VSCode.  So I was hoping that I hoping I could stick with VSCode and run it with this.</p>\n<p>I'm working on Windows 10.  I've used the Java code pack to install Java version 17, and I've installed Maven.  When I open the project it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/UxrZM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UxrZM.png\" alt=\"enter image description here\" /></a></p>\n<p>In Intellij I'm supposed to be able to right-click the <code>Game.java</code> file and choose to run the main method.  However, I don't seem to be able to do that here.  When I right-click the project in the Maven drop-down, it gives an option to deploy.  But when I click that I get the following error.</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project hw09: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\n</code></pre>\n<p>I assume this is because the POM file was not set up for a command to deploy, but rather something like a &quot;run&quot; command.  But that isn't an option that Maven seems to give me.</p>\n<p>I've also tried running the <code>Game.java</code> file by right-clicking and clicking <code>Run</code>, but it gives this error:</p>\n<pre><code>[Running] cd &quot;c:\\Users\\blank\\Desktop\\hw09_local\\hw09_local_temp\\src\\main\\java\\org\\cis1200\\&quot; &amp;&amp; javac Game.java &amp;&amp; java Game\nGame.java:13: error: package org.cis1200.mushroom does not exist\n        Runnable game = new org.cis1200.mushroom.RunMushroomOfDoom();\n                                                ^\n1 error\n</code></pre>\n<p>I assume it's giving this error because whatever it's using to try to run the program isn't aware of the surrounding file context.  I assume that's what Maven is supposed to do for me.</p>\n<p>So is there a way to run this project in VSCode?  Or was it simply designed to specifically be run in IntelliJ, and I have to use that?</p>\n"},{"tags":["java","c#","android","xamarin.android","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":10096950,"reputation":13898,"user_id":7462031,"accept_rate":50,"display_name":"FreakyAli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670364797,"creation_date":1666185556,"answer_id":74126080,"question_id":74125292,"body_markdown":"`Java.Lang.Class` by default has the GetType() method:\r\n\r\n    Class javaClass = Class.ForName(className, false, classLoader);\r\n    var dotNetType = javaClass.GetType();\r\n","title":"How to get the .NET Type from Java.Lang.Class instance or JNI type?","body":"<p><code>Java.Lang.Class</code> by default has the GetType() method:</p>\n<pre><code>Class javaClass = Class.ForName(className, false, classLoader);\nvar dotNetType = javaClass.GetType();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":929489,"reputation":1004,"user_id":959631,"accept_rate":94,"display_name":"user959631"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666268782,"creation_date":1666204104,"answer_id":74130229,"question_id":74125292,"body_markdown":"Using `TypeManager`, I managed to get the .NET managed Type from the `className` parameter.\r\n\r\n    Type type = JniEnvironment.Runtime.TypeManager.GetType(JniTypeSignature.Parse($&quot;[L{className.Replace(&#39;.&#39;, &#39;/&#39;)};&quot;))!;\r\n    if (type.IsGenericType)\r\n    {\r\n        type = type.GetGenericArguments().First();\r\n    }\r\n\r\nThe `className` value needed to be &quot;converted&quot; to a valid JNI signature which is relatively simple to do, it just requires a primitive understanding of JNI.\r\n\r\nThe value returned is of Type `Java.Interop.JavaObjectArray&lt;T&gt;` so a call to `GetGenericArguments()` will get you the correct .NET managed Type.\r\n\r\n----------\r\n&lt;strike&gt;\r\nBy using the `RegisterAttribute`, I was able to find a way to ensure `className` has the fully qualified name of the .NET Type.\r\n\r\n    [Register(&quot;Namespace.SomeFragment&quot;)\r\n    public class SomeFragment : Fragment\r\n    {\r\n    }\r\n\r\nThis is a somewhat tedious process especially if you have many `Fragment` classes (like me).\r\n&lt;/strike&gt;\r\n\r\n  [1]: https://github.com/xamarin/xamarin-android/blob/main/src/Mono.Android/Java.Interop/TypeManager.cs","title":"How to get the .NET Type from Java.Lang.Class instance or JNI type?","body":"<p>Using <code>TypeManager</code>, I managed to get the .NET managed Type from the <code>className</code> parameter.</p>\n<pre><code>Type type = JniEnvironment.Runtime.TypeManager.GetType(JniTypeSignature.Parse($&quot;[L{className.Replace('.', '/')};&quot;))!;\nif (type.IsGenericType)\n{\n    type = type.GetGenericArguments().First();\n}\n</code></pre>\n<p>The <code>className</code> value needed to be &quot;converted&quot; to a valid JNI signature which is relatively simple to do, it just requires a primitive understanding of JNI.</p>\n<p>The value returned is of Type <code>Java.Interop.JavaObjectArray&lt;T&gt;</code> so a call to <code>GetGenericArguments()</code> will get you the correct .NET managed Type.</p>\n<hr />\n<strike>\nBy using the `RegisterAttribute`, I was able to find a way to ensure `className` has the fully qualified name of the .NET Type.\n<pre><code>[Register(&quot;Namespace.SomeFragment&quot;)\npublic class SomeFragment : Fragment\n{\n}\n</code></pre>\n<p>This is a somewhat tedious process especially if you have many <code>Fragment</code> classes (like me).\n</strike></p>\n"}],"owner":{"account_id":929489,"reputation":1004,"user_id":959631,"accept_rate":94,"display_name":"user959631"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670364797,"creation_date":1666182293,"question_id":74125292,"body_markdown":"I&#39;m using Xamarin.Android and I&#39;m trying to extend the functionality of the default `FragmentFactory`. \r\n\r\n    public class ExtendedFragmentFactory : FragmentFactory\r\n    {\r\n        public override Fragment Instantiate(ClassLoader classLoader, string className)\r\n        {\r\n            Class javaClass = Class.ForName(className, false, classLoader);\r\n            var instance = javaClass.NewInstance();\r\n        }\r\n    }\r\n\r\nIf I create a new instance using `NewInstance()`, then I am able to call `GetType()` on `instance` which does give me the .NET Type but how would I do this without unnecessarily creating an instance? \r\n\r\nI&#39;m trying to get the Dependency Container to create the `Fragment` so I am not able to use the default instantiation method that Android uses with `FragmentManager` or `FragmentFactory`. My `Fragment` classes will have dependencies injected into them via their constructor, in other words, I will not have a parameterless constructor which the default instantiation implementation expects.\r\n\r\nIs there any way to get the .NET Type from Java.Lang.Class or the specified parameters in the `Instantiate` method? \r\n\r\nIs there any way I can use the `className` parameter to work out what the .NET Type is?","title":"How to get the .NET Type from Java.Lang.Class instance or JNI type?","body":"<p>I'm using Xamarin.Android and I'm trying to extend the functionality of the default <code>FragmentFactory</code>.</p>\n<pre><code>public class ExtendedFragmentFactory : FragmentFactory\n{\n    public override Fragment Instantiate(ClassLoader classLoader, string className)\n    {\n        Class javaClass = Class.ForName(className, false, classLoader);\n        var instance = javaClass.NewInstance();\n    }\n}\n</code></pre>\n<p>If I create a new instance using <code>NewInstance()</code>, then I am able to call <code>GetType()</code> on <code>instance</code> which does give me the .NET Type but how would I do this without unnecessarily creating an instance?</p>\n<p>I'm trying to get the Dependency Container to create the <code>Fragment</code> so I am not able to use the default instantiation method that Android uses with <code>FragmentManager</code> or <code>FragmentFactory</code>. My <code>Fragment</code> classes will have dependencies injected into them via their constructor, in other words, I will not have a parameterless constructor which the default instantiation implementation expects.</p>\n<p>Is there any way to get the .NET Type from Java.Lang.Class or the specified parameters in the <code>Instantiate</code> method?</p>\n<p>Is there any way I can use the <code>className</code> parameter to work out what the .NET Type is?</p>\n"},{"tags":["java","spring-boot","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670294750,"post_id":74696622,"comment_id":131838076,"body_markdown":"Which class are you expecting to be injected and which line is causing the null pointer exception?","body":"Which class are you expecting to be injected and which line is causing the null pointer exception?"},{"owner":{"account_id":4920312,"reputation":48,"user_id":3963042,"display_name":"Niranjan Ghule"},"score":0,"creation_date":1670297643,"post_id":74696622,"comment_id":131838486,"body_markdown":"`@InjectMock` annotation will only inject fields which are annotated with `@Mock` in test. Rest all other dependencies needs to provided by author or else they would be null. Since you created a mock but did not inject it, you are getting a null pointer. You can try adding `@InjectMocks` annotation on PageModelBuilder field and just call `pageModelBuilder.buildFrom(productData)` in your test.","body":"<code>@InjectMock</code> annotation will only inject fields which are annotated with <code>@Mock</code> in test. Rest all other dependencies needs to provided by author or else they would be null. Since you created a mock but did not inject it, you are getting a null pointer. You can try adding <code>@InjectMocks</code> annotation on PageModelBuilder field and just call <code>pageModelBuilder.buildFrom(productData)</code> in your test."},{"owner":{"account_id":167234,"reputation":4268,"user_id":391918,"accept_rate":50,"display_name":"Ajit Goel"},"score":0,"creation_date":1670305162,"post_id":74696622,"comment_id":131839500,"body_markdown":"@NiranjanGhule, I cannot use @InjectMocks(and have to create instance manually) as I have AppConfig instance that I need to set up.","body":"@NiranjanGhule, I cannot use @InjectMocks(and have to create instance manually) as I have AppConfig instance that I need to set up."},{"owner":{"account_id":167234,"reputation":4268,"user_id":391918,"accept_rate":50,"display_name":"Ajit Goel"},"score":0,"creation_date":1670305235,"post_id":74696622,"comment_id":131839518,"body_markdown":"@hooknc, I am expecting StringTranslator instance to be injected. The line stringTranslator.getStringById in PageModelBuilder throwing a NPE.","body":"@hooknc, I am expecting StringTranslator instance to be injected. The line stringTranslator.getStringById in PageModelBuilder throwing a NPE."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1670323209,"post_id":74696622,"comment_id":131844616,"body_markdown":"@AjitGoel I cas see 2 options: 1. Refactor your class to pass `StringTranslator` via constructor. 2. If this is not acceptable in your setting, you have to resort to reflection to set the field. `ReflectionTestUtils.setField` from spring test can be used (or regular reflection methods)","body":"@AjitGoel I cas see 2 options: 1. Refactor your class to pass <code>StringTranslator</code> via constructor. 2. If this is not acceptable in your setting, you have to resort to reflection to set the field. <code>ReflectionTestUtils.setField</code> from spring test can be used (or regular reflection methods)"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670364135,"creation_date":1670364135,"answer_id":74709496,"question_id":74696622,"body_markdown":"If you cannot use `@InjectMocks` and you cannot change your class to make it more testable, then you are only left with Reflection:\r\n\r\n1. Find the field\r\n2. Make it accessible\r\n3. Assign your mock to the field\r\n\r\nIf you are already using Spring, then there&#39;s [`ReflectionUtils#setField`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html#setField(java.lang.reflect.Field,java.lang.Object,java.lang.Object)) which might come in handy.","title":"Unit testing class without using @InjectMocks","body":"<p>If you cannot use <code>@InjectMocks</code> and you cannot change your class to make it more testable, then you are only left with Reflection:</p>\n<ol>\n<li>Find the field</li>\n<li>Make it accessible</li>\n<li>Assign your mock to the field</li>\n</ol>\n<p>If you are already using Spring, then there's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html#setField(java.lang.reflect.Field,java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>ReflectionUtils#setField</code></a> which might come in handy.</p>\n"}],"owner":{"account_id":167234,"reputation":4268,"user_id":391918,"accept_rate":50,"display_name":"Ajit Goel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670364135,"creation_date":1670293888,"question_id":74696622,"body_markdown":"I am trying to add unit tests for an class and I need to mock (and inject) a dependency into a class without making changes to the class under test(as that will cause lots of changes in other parts of the application which we want to avoid). \r\n\r\nI have created the class manually (without using `@InjectMocks`) as I need to mock `AppConfig` in the test. \r\n\r\nI am getting a null pointer exception on the line where the system expects the dependency to be injected. \r\n\r\nWhat am I missing and what could I do to fix this issue? \r\n\r\n**PageModelBuilder.java:**\r\n\r\n    public class PageModelBuilder {\r\n        private final String baseUrl = AppConfig.findString(&quot;baseUrl&quot;);\r\n        @Inject\r\n        private StringTranslator stringTranslator;\r\n        public PageModel buildFrom(final @NonNull ProductData productData) {\r\n            PageModel.PageModelBuilder builder = new PageModel.PageModelBuilder();\r\n            productData.getProductTitle().ifPresent(productTitle -&gt; {\r\n                builder .pageDescription(String.format(stringTranslator.getStringById(&quot;page_description_format&quot;),\r\n                                productTitle.getDisplayString())); //&lt;= stringTranslator is null here\r\n            });\r\n            productData.getProductLink()\r\n                    .ifPresent(productLink -&gt; builder.canonicalURL(baseUrl + productLink));\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\n**PageModelBuilderTest.java:**\r\n\r\n         @RunWith(MockitoJUnitRunner.Silent.class)\r\n        public class PageModelBuilderTest {\r\n            @Mock\r\n            private StringTranslator stringTranslator;\r\n            private PageModelBuilder pageModelBuilder;\r\n            @Before\r\n            public void setup() {\r\n                if (!AppConfig.isInitialized()) {\r\n                    AppConfig.initialize(&quot;WebApp&quot;, null, new String[] {\r\n                            &quot;--root=.&quot;, &quot;--domain=test&quot;});\r\n                }\r\n            }\r\n            @After\r\n            public void after() {\r\n                if (AppConfig.isInitialized()) {\r\n                    AppConfig.destroy();\r\n                }\r\n            }\r\n            @Test\r\n            public void givenProductDataWithProductLink_whenBuildPageModel_thenPageModelHasCanonicalURL() {\r\n                AppConfig.insertString(&quot;baseUrl&quot;, &quot;https://www.google.com&quot;);\r\n    when(stringTranslator.getStringById(&quot;page_description_format&quot;)).thenReturn(&quot;sample description&quot;);\r\n                pageModelBuilder = new PageModelBuilder();\r\n                ProductData productData = ProductTestData.getProductDataBuilder()\r\n                        .title(&quot;TestMed&quot;)\r\n                        .productLink(&quot;/PRODUCT-DESCRIPTION/dp/asin&quot;)\r\n                        .build();\r\n                PageModel pageModel = pageModelBuilder.buildFrom(productData);\r\n                assertEquals(&quot;https://www.google.com/PRODUCT-DESCRIPTION/dp/asin&quot;, pageModel.getCanonicalURL());\r\n            }\r\n        }\r\n\r\n\r\n","title":"Unit testing class without using @InjectMocks","body":"<p>I am trying to add unit tests for an class and I need to mock (and inject) a dependency into a class without making changes to the class under test(as that will cause lots of changes in other parts of the application which we want to avoid).</p>\n<p>I have created the class manually (without using <code>@InjectMocks</code>) as I need to mock <code>AppConfig</code> in the test.</p>\n<p>I am getting a null pointer exception on the line where the system expects the dependency to be injected.</p>\n<p>What am I missing and what could I do to fix this issue?</p>\n<p><strong>PageModelBuilder.java:</strong></p>\n<pre><code>public class PageModelBuilder {\n    private final String baseUrl = AppConfig.findString(&quot;baseUrl&quot;);\n    @Inject\n    private StringTranslator stringTranslator;\n    public PageModel buildFrom(final @NonNull ProductData productData) {\n        PageModel.PageModelBuilder builder = new PageModel.PageModelBuilder();\n        productData.getProductTitle().ifPresent(productTitle -&gt; {\n            builder .pageDescription(String.format(stringTranslator.getStringById(&quot;page_description_format&quot;),\n                            productTitle.getDisplayString())); //&lt;= stringTranslator is null here\n        });\n        productData.getProductLink()\n                .ifPresent(productLink -&gt; builder.canonicalURL(baseUrl + productLink));\n        return builder.build();\n    }\n}\n</code></pre>\n<p><strong>PageModelBuilderTest.java:</strong></p>\n<pre><code>     @RunWith(MockitoJUnitRunner.Silent.class)\n    public class PageModelBuilderTest {\n        @Mock\n        private StringTranslator stringTranslator;\n        private PageModelBuilder pageModelBuilder;\n        @Before\n        public void setup() {\n            if (!AppConfig.isInitialized()) {\n                AppConfig.initialize(&quot;WebApp&quot;, null, new String[] {\n                        &quot;--root=.&quot;, &quot;--domain=test&quot;});\n            }\n        }\n        @After\n        public void after() {\n            if (AppConfig.isInitialized()) {\n                AppConfig.destroy();\n            }\n        }\n        @Test\n        public void givenProductDataWithProductLink_whenBuildPageModel_thenPageModelHasCanonicalURL() {\n            AppConfig.insertString(&quot;baseUrl&quot;, &quot;https://www.google.com&quot;);\nwhen(stringTranslator.getStringById(&quot;page_description_format&quot;)).thenReturn(&quot;sample description&quot;);\n            pageModelBuilder = new PageModelBuilder();\n            ProductData productData = ProductTestData.getProductDataBuilder()\n                    .title(&quot;TestMed&quot;)\n                    .productLink(&quot;/PRODUCT-DESCRIPTION/dp/asin&quot;)\n                    .build();\n            PageModel pageModel = pageModelBuilder.buildFrom(productData);\n            assertEquals(&quot;https://www.google.com/PRODUCT-DESCRIPTION/dp/asin&quot;, pageModel.getCanonicalURL());\n        }\n    }\n</code></pre>\n"},{"tags":["java","junit","assertj"],"comments":[{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":3,"creation_date":1670364500,"post_id":74709424,"comment_id":131859032,"body_markdown":"Does this answer your question? [JUnit5: How to assert several properties of an object with a single assert call?](https://stackoverflow.com/questions/57476351/junit5-how-to-assert-several-properties-of-an-object-with-a-single-assert-call)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57476351/junit5-how-to-assert-several-properties-of-an-object-with-a-single-assert-call\">JUnit5: How to assert several properties of an object with a single assert call?</a>"}],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670364078,"creation_date":1670364078,"answer_id":74709489,"question_id":74709424,"body_markdown":"You can make a big test method that tests all fields of the object are as they should be, you aren&#39;t limited to one `assertSomething()` per method.\r\nExample:\r\n```java\r\n@Test\r\npublic void testFields() {\r\n    Object someObj = theObjInstance;\r\n    assertEquals(&quot;value1&quot;, someObj.methodA());\r\n    assertEquals(&quot;value2&quot;, someObj.methodB());\r\n    // ...\r\n}\r\n```","title":"Testing object method return values","body":"<p>You can make a big test method that tests all fields of the object are as they should be, you aren't limited to one <code>assertSomething()</code> per method.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testFields() {\n    Object someObj = theObjInstance;\n    assertEquals(&quot;value1&quot;, someObj.methodA());\n    assertEquals(&quot;value2&quot;, someObj.methodB());\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":4263829,"reputation":1127,"user_id":3487441,"accept_rate":86,"display_name":"gph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670364078,"creation_date":1670363547,"question_id":74709424,"body_markdown":"I have an object under test and want to verify it was configured correctly by testing the return values of methods. Is there a way to do this without creating one test per method?\r\n\r\nI&#39;m imagining something like:\r\n\r\n    assertThat(obj).fieldIs(Obj::methodA, &quot;value1&quot;).fieldIs(Obj::methodB, &quot;value1&quot;);","title":"Testing object method return values","body":"<p>I have an object under test and want to verify it was configured correctly by testing the return values of methods. Is there a way to do this without creating one test per method?</p>\n<p>I'm imagining something like:</p>\n<pre><code>assertThat(obj).fieldIs(Obj::methodA, &quot;value1&quot;).fieldIs(Obj::methodB, &quot;value1&quot;);\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670363932,"creation_date":1670363140,"answer_id":74709369,"question_id":74708709,"body_markdown":"The compiler effectively transforms your `for` loop into this:\r\n\r\n``` lang-java\r\nIterator&lt;Ball&gt; iterator = bulletsList.iterator();\r\nwhile (iterator.hasNext()) {                        // Could throw\r\n    Ball ball = iterator.next();                    // Could throw\r\n    if (ball.getSize()&gt;0 &amp;&amp; ball.isAlive()) {\r\n        ball.drawBall(g);\r\n    }\r\n}\r\n```\r\n\r\nIf your program modifies the `bulletsList` after the `iterator` is created, then any attempt to use the iterator likely will throw the exception. The only way to prevent that from happening is to make sure that nothing (e.g., no other thread) modifies the list until the loop has finished.\r\n\r\n----------------\r\n\r\n&gt; I also tried to put the synchronized keyword near the function and still there is no success.\r\n\r\n`synchronized` does not do anything at all unless two or more threads try to enter blocks that are `synchronized` _on the same object_ at the same time.\r\n\r\nWhen you write `synchronized void drawBullets(Graphics g)...` the synchronized block is the whole body of the `drawBullets` function, and the object on which it synchronizes is `this`.\r\n\r\nWhat object is `this` when `drawBullets` is called? and what other thread synchronizes on the same object?\r\n\r\n----------------\r\n\r\n&gt; I&#39;ve figured out that the only piece of code that I change a ball object is where a ball and another game object make a collision between them.\r\n\r\nModifying `Ball` objects will not cause the `ConcurrentModificationException` to be thrown. It won&#39;t even be thrown if you modify Ball objects that are members of the `bulletsList.` The only way the exception will be thrown is if some other code _modifies the list itself_ while your `drawBullets` method is iterating over it. In order to get the exception, the other thread must call `bulletsList.add(...)`, or `.remove()`, or `.clear()`, or `.set(...)`, etc. \r\n","title":"ConcurrentModificationException with GUI","body":"<p>The compiler effectively transforms your <code>for</code> loop into this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;Ball&gt; iterator = bulletsList.iterator();\nwhile (iterator.hasNext()) {                        // Could throw\n    Ball ball = iterator.next();                    // Could throw\n    if (ball.getSize()&gt;0 &amp;&amp; ball.isAlive()) {\n        ball.drawBall(g);\n    }\n}\n</code></pre>\n<p>If your program modifies the <code>bulletsList</code> after the <code>iterator</code> is created, then any attempt to use the iterator likely will throw the exception. The only way to prevent that from happening is to make sure that nothing (e.g., no other thread) modifies the list until the loop has finished.</p>\n<hr />\n<blockquote>\n<p>I also tried to put the synchronized keyword near the function and still there is no success.</p>\n</blockquote>\n<p><code>synchronized</code> does not do anything at all unless two or more threads try to enter blocks that are <code>synchronized</code> <em>on the same object</em> at the same time.</p>\n<p>When you write <code>synchronized void drawBullets(Graphics g)...</code> the synchronized block is the whole body of the <code>drawBullets</code> function, and the object on which it synchronizes is <code>this</code>.</p>\n<p>What object is <code>this</code> when <code>drawBullets</code> is called? and what other thread synchronizes on the same object?</p>\n<hr />\n<blockquote>\n<p>I've figured out that the only piece of code that I change a ball object is where a ball and another game object make a collision between them.</p>\n</blockquote>\n<p>Modifying <code>Ball</code> objects will not cause the <code>ConcurrentModificationException</code> to be thrown. It won't even be thrown if you modify Ball objects that are members of the <code>bulletsList.</code> The only way the exception will be thrown is if some other code <em>modifies the list itself</em> while your <code>drawBullets</code> method is iterating over it. In order to get the exception, the other thread must call <code>bulletsList.add(...)</code>, or <code>.remove()</code>, or <code>.clear()</code>, or <code>.set(...)</code>, etc.</p>\n"}],"owner":{"account_id":19564988,"reputation":3,"user_id":14317397,"display_name":"Maor Krasner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74709369,"answer_count":1,"score":-1,"last_activity_date":1670363932,"creation_date":1670358710,"question_id":74708709,"body_markdown":"I am developing a classic arcade game called &quot;Asteroids&quot; as a final project in my college.\r\nLately I ran into a problem where I try to draw the Balls in the game and I&#39;ts throwing ConcurrentModificationException as a result of trying to draw the balls.\r\nIt seems that it only happens when I draw the balls and not other objects like the player or the asteroids or the spaceships.\r\nI tried to figure it out with google but the problem isn&#39;t fixed.\r\nI also tried to put the synchronized keyword near the function and still there is no success.\r\n\r\nThe code is below, thanks for the helpers.\r\n\r\n\\`\r\n\r\n```\r\nprivate synchronized void drawBullets(Graphics g){\r\n   if (!bulletsList.isEmpty()) {\r\n      for (Ball ball : bulletsList) {\r\n         if (ball.getSize() &gt; 0) {\r\n            if (ball.isAlive())\r\n               ball.drawBall(g);\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n\\`\r\n\r\nI&#39;ve searched on google about this exception, it seems that the optimal approach to this excpetion is to not make any changes on the object while the loop iterates on this specific object.\r\nI&#39;ve figured out that the only piece of code that I change a ball object is where a ball and another game object make a collision between them, but what seems weird is that I change the other objects as well when a collision happens and there is no such problem with them.","title":"ConcurrentModificationException with GUI","body":"<p>I am developing a classic arcade game called &quot;Asteroids&quot; as a final project in my college.\nLately I ran into a problem where I try to draw the Balls in the game and I'ts throwing ConcurrentModificationException as a result of trying to draw the balls.\nIt seems that it only happens when I draw the balls and not other objects like the player or the asteroids or the spaceships.\nI tried to figure it out with google but the problem isn't fixed.\nI also tried to put the synchronized keyword near the function and still there is no success.</p>\n<p>The code is below, thanks for the helpers.</p>\n<p>`</p>\n<pre><code>private synchronized void drawBullets(Graphics g){\n   if (!bulletsList.isEmpty()) {\n      for (Ball ball : bulletsList) {\n         if (ball.getSize() &gt; 0) {\n            if (ball.isAlive())\n               ball.drawBall(g);\n         }\n      }\n   }\n}\n</code></pre>\n<p>`</p>\n<p>I've searched on google about this exception, it seems that the optimal approach to this excpetion is to not make any changes on the object while the loop iterates on this specific object.\nI've figured out that the only piece of code that I change a ball object is where a ball and another game object make a collision between them, but what seems weird is that I change the other objects as well when a collision happens and there is no such problem with them.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1670363414,"post_id":74709342,"comment_id":131858785,"body_markdown":"There are a bunch of ways to approach this - one of the easiest would be to just start reading from the end rather than the beginning, so that you can return as soon as you find a 0. Alternatively you could pass the last index of a 0 you found along as a second argument, and update that whenever you encounter a 0.","body":"There are a bunch of ways to approach this - one of the easiest would be to just start reading from the end rather than the beginning, so that you can return as soon as you find a 0. Alternatively you could pass the last index of a 0 you found along as a second argument, and update that whenever you encounter a 0."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1670363448,"post_id":74709342,"comment_id":131858788,"body_markdown":"&quot; Is there any way to get int i out of the recursive method when it&#39;s done repeating itself?&quot; - Are you asking how to return a value from a method?","body":"&quot; Is there any way to get int i out of the recursive method when it&#39;s done repeating itself?&quot; - Are you asking how to return a value from a method?"}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670363503,"creation_date":1670363503,"answer_id":74709416,"question_id":74709342,"body_markdown":"You have two options. Either continue until the end of the list and then return the last index found ... or iterate backwards across your list and use your logic as-is.\r\n\r\nYou&#39;re currently iterating forward, so might as well cover that workflow first.\r\n\r\n* Since your goal is to figure out the position, your method needs to return an `int`, not a boolean. \r\n* Since you need to return the _last_ index of a zero, that means you need to track the previously found index.\r\n* Since you want to iterate to the end of the list, your end condition needs to be a position &lt; length check.\r\n\r\n```\r\nstatic int[] a; // some array we&#39;re checking\r\n\r\npublic static int checkNum(int index, int lastZero) {\r\n    // End condition. If we&#39;ve finished iterating across the array, return the \r\n    // index of the last zero we found.\r\n    if (index &gt;= a.length) {\r\n        return lastZero;\r\n    }\r\n\r\n    // Check if we&#39;ve found a zero at the current position.\r\n    if (a[index] == 0) {\r\n        lastZero = index;\r\n    }\r\n\r\n    // Continue traversing the list.\r\n    return checkNum(index+1, lastZero);\r\n}\r\n```\r\n\r\nYou&#39;d call this by passing in a negative number as your initial lastZero index:\r\n\r\n```\r\nint lastZeroIndex = checkNum(0, -1);\r\n```\r\n\r\nThat way you know that if you end up with a positive number, you have found the last index. Otherwise if you&#39;re left with a negative number, there were no zeroes in the array.\r\n\r\n---\r\n\r\nA simpler method would simply be to iterate backwards over the array and stop as soon as you find a zero.\r\n\r\n* We still return an `int` instead of a `boolean` because we want to know the index.\r\n* Otherwise your method signature remains the same.\r\n\r\n```\r\nstatic int[] a; // some array we&#39;re checking\r\n\r\npublic static int checkNum(int index) {\r\n    // End condition. We&#39;ve reached the beginning of the array and never found a zero.\r\n    // Return a -1 to indicate this.\r\n    if (index &lt; 0) {\r\n        return -1;\r\n    }\r\n\r\n    // If index is &gt;= a.length, we don&#39;t want an index out of bounds...\r\n    if (index &gt;= a.length) {\r\n        return checkNum(a.length - 1);\r\n    }\r\n\r\n    // Check if we&#39;ve found a zero at the current position. If we have, return\r\n    // the current index.\r\n    if (a[index] == 0) {\r\n        return index;\r\n    }\r\n\r\n    // Continue traversing the list backwards.\r\n    return checkNum(index-1);\r\n}\r\n```\r\n\r\nYou&#39;d call this by passing `a.length - 1` as your parameter. That&#39;s the last valid index in the array, so it&#39;s our starting point when we iterate backwards.\r\n\r\n```\r\nint lastZeroFound = checkNum(a.length - 1);\r\n```\r\n\r\nIf `lastZeroFound` is negative (eg. -1), then you found no zeroes.","title":"Which recursive method could be used to evaluate numbers in a list?","body":"<p>You have two options. Either continue until the end of the list and then return the last index found ... or iterate backwards across your list and use your logic as-is.</p>\n<p>You're currently iterating forward, so might as well cover that workflow first.</p>\n<ul>\n<li>Since your goal is to figure out the position, your method needs to return an <code>int</code>, not a boolean.</li>\n<li>Since you need to return the <em>last</em> index of a zero, that means you need to track the previously found index.</li>\n<li>Since you want to iterate to the end of the list, your end condition needs to be a position &lt; length check.</li>\n</ul>\n<pre><code>static int[] a; // some array we're checking\n\npublic static int checkNum(int index, int lastZero) {\n    // End condition. If we've finished iterating across the array, return the \n    // index of the last zero we found.\n    if (index &gt;= a.length) {\n        return lastZero;\n    }\n\n    // Check if we've found a zero at the current position.\n    if (a[index] == 0) {\n        lastZero = index;\n    }\n\n    // Continue traversing the list.\n    return checkNum(index+1, lastZero);\n}\n</code></pre>\n<p>You'd call this by passing in a negative number as your initial lastZero index:</p>\n<pre><code>int lastZeroIndex = checkNum(0, -1);\n</code></pre>\n<p>That way you know that if you end up with a positive number, you have found the last index. Otherwise if you're left with a negative number, there were no zeroes in the array.</p>\n<hr />\n<p>A simpler method would simply be to iterate backwards over the array and stop as soon as you find a zero.</p>\n<ul>\n<li>We still return an <code>int</code> instead of a <code>boolean</code> because we want to know the index.</li>\n<li>Otherwise your method signature remains the same.</li>\n</ul>\n<pre><code>static int[] a; // some array we're checking\n\npublic static int checkNum(int index) {\n    // End condition. We've reached the beginning of the array and never found a zero.\n    // Return a -1 to indicate this.\n    if (index &lt; 0) {\n        return -1;\n    }\n\n    // If index is &gt;= a.length, we don't want an index out of bounds...\n    if (index &gt;= a.length) {\n        return checkNum(a.length - 1);\n    }\n\n    // Check if we've found a zero at the current position. If we have, return\n    // the current index.\n    if (a[index] == 0) {\n        return index;\n    }\n\n    // Continue traversing the list backwards.\n    return checkNum(index-1);\n}\n</code></pre>\n<p>You'd call this by passing <code>a.length - 1</code> as your parameter. That's the last valid index in the array, so it's our starting point when we iterate backwards.</p>\n<pre><code>int lastZeroFound = checkNum(a.length - 1);\n</code></pre>\n<p>If <code>lastZeroFound</code> is negative (eg. -1), then you found no zeroes.</p>\n"}],"owner":{"account_id":26600806,"reputation":25,"user_id":20222483,"display_name":"Edmund"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74709416,"answer_count":1,"score":0,"last_activity_date":1670363503,"creation_date":1670362953,"question_id":74709342,"body_markdown":"I&#39;m strugling learning recursive methods. Could use some advice and a cheer-up :D\r\n\r\nLets say I have a set of numbers in an array, and I want to use a recursive method to evaluate numbers in this set, and by evaluation I mean that our program needs to find zeros in this set, and as a result it should print out position of the last zero in given array. \r\n\r\nint a[] = {2,3,4,5,0,1,2,0,5,0};\r\n\r\nIn case if array above is being evaluated by a recursive method, the program will evaluate each number and, if zero is found, it will save it&#39;s position in a variable, AND THEN MOVE ON REPEATING ITSELF until the end of the array. So first zero is at &quot;4&quot; and so on, but the output will show only the poistion number of the last zero in given array.\r\n\t\t\r\n\r\n\r\n\r\n\r\nI kind of got the first part of this code going, but my recursion stops as soon as it finds a zero and just gives out a boolean type variable.\r\n\r\n\r\n```\r\n    public static boolean checkNum(int i) {\r\n\t\tif (i &lt; a.length) {\r\n\t\t\tif (a[i] != 0)\r\n\t\t\t\treturn checkNum(i+1);\r\n            else return false;\r\n\t\t}\r\n        return true;\r\n\t}\r\n\r\n```\r\nthis block of code checks numbers in our set and returns boolean type variable true in case if it never found any zeros. \r\n\r\nnext method may be similar, but I dont know how to store the position number as a variable with a possibility to print it out in the end of my program. Is there any way to get int i out of the recursive method when it&#39;s done repeating itself?  Because as far as I understand it is the same as a position number in an array, which I need to print out.\r\n","title":"Which recursive method could be used to evaluate numbers in a list?","body":"<p>I'm strugling learning recursive methods. Could use some advice and a cheer-up :D</p>\n<p>Lets say I have a set of numbers in an array, and I want to use a recursive method to evaluate numbers in this set, and by evaluation I mean that our program needs to find zeros in this set, and as a result it should print out position of the last zero in given array.</p>\n<p>int a[] = {2,3,4,5,0,1,2,0,5,0};</p>\n<p>In case if array above is being evaluated by a recursive method, the program will evaluate each number and, if zero is found, it will save it's position in a variable, AND THEN MOVE ON REPEATING ITSELF until the end of the array. So first zero is at &quot;4&quot; and so on, but the output will show only the poistion number of the last zero in given array.</p>\n<p>I kind of got the first part of this code going, but my recursion stops as soon as it finds a zero and just gives out a boolean type variable.</p>\n<pre><code>    public static boolean checkNum(int i) {\n        if (i &lt; a.length) {\n            if (a[i] != 0)\n                return checkNum(i+1);\n            else return false;\n        }\n        return true;\n    }\n\n</code></pre>\n<p>this block of code checks numbers in our set and returns boolean type variable true in case if it never found any zeros.</p>\n<p>next method may be similar, but I dont know how to store the position number as a variable with a possibility to print it out in the end of my program. Is there any way to get int i out of the recursive method when it's done repeating itself?  Because as far as I understand it is the same as a position number in an array, which I need to print out.</p>\n"},{"tags":["java","cucumber","testng","cucumber-jvm"],"comments":[{"owner":{"account_id":4220038,"reputation":315,"user_id":3455033,"display_name":"k1133"},"score":0,"creation_date":1481192039,"post_id":41034116,"comment_id":69281049,"body_markdown":"what are you trying to achieve here? What is the end goal?","body":"what are you trying to achieve here? What is the end goal?"},{"owner":{"account_id":7838032,"reputation":2366,"user_id":5925291,"accept_rate":84,"display_name":"ArrchanaMohan"},"score":0,"creation_date":1481204517,"post_id":41034116,"comment_id":69289065,"body_markdown":"I would like to execute the feature files in parallel with different browsers. I have a application where i need to do browser compatibility testing. So far we had sequence execution to validate the browser compatibility. I just heard about cucumber-jvm-parallel plugin but not much aware how to implement it. And heard that It will create a runners in dynamically and help us to do parallel execution in scenario or feature wise.","body":"I would like to execute the feature files in parallel with different browsers. I have a application where i need to do browser compatibility testing. So far we had sequence execution to validate the browser compatibility. I just heard about cucumber-jvm-parallel plugin but not much aware how to implement it. And heard that It will create a runners in dynamically and help us to do parallel execution in scenario or feature wise."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1481209343,"post_id":41034116,"comment_id":69292389,"body_markdown":"You can try maven and surefire plugin. It will use multiple threads which will run each available runner individually. Google cucmber java maven parallel. Used to have the link for the article but somehow got deleted","body":"You can try maven and surefire plugin. It will use multiple threads which will run each available runner individually. Google cucmber java maven parallel. Used to have the link for the article but somehow got deleted"}],"answers":[{"tags":[],"owner":{"account_id":484481,"reputation":1575,"user_id":900177,"display_name":"Bharath"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1481661311,"creation_date":1481264035,"answer_id":41054190,"question_id":41034116,"body_markdown":"Cucumber does not support parallel execution out of the box. \r\nI&#39;ve tried, but it is not friendly.\r\n\r\n 1. We have to use maven&#39;s capability to invoke it in parallel. Refer [link][1]\r\n 2. Also there is a github project which uses custom plugin to execute in parallel.\r\nRefer [cucumber-jvm-parallel-plugin][2]\r\n\r\n  [1]: https://opencredo.com/running-cucumber-jvm-tests-in-parallel/\r\n  [2]: https://github.com/temyers/cucumber-jvm-parallel-plugin","title":"How to execute cucumber feature file parallel","body":"<p>Cucumber does not support parallel execution out of the box. \nI've tried, but it is not friendly.</p>\n\n<ol>\n<li>We have to use maven's capability to invoke it in parallel. Refer <a href=\"https://opencredo.com/running-cucumber-jvm-tests-in-parallel/\" rel=\"nofollow noreferrer\">link</a></li>\n<li>Also there is a github project which uses custom plugin to execute in parallel.\nRefer <a href=\"https://github.com/temyers/cucumber-jvm-parallel-plugin\" rel=\"nofollow noreferrer\">cucumber-jvm-parallel-plugin</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481305910,"creation_date":1481305910,"answer_id":41066163,"question_id":41034116,"body_markdown":"If all you are expecting is to be able to run multiple features in parallel, then you can try doing the following :\r\n\r\n - Duplicate the class [AbstractTestNGCucumberTests][1] in your test project and set the attribute `parallel=true` to the `@DataProvider` annotated method.\r\n\r\nSince the default `dataprovider-thread-count` from TestNG is `10` and now that you have instructed TestNG to run `features` in parallel, you should start seeing your feature files get executed in parallel. \r\n\r\nBut I understand that Cucumber reporting is inherently not thread safe, so your reports may appear garbled.\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/blob/master/testng/src/main/java/cucumber/api/testng/AbstractTestNGCucumberTests.java","title":"How to execute cucumber feature file parallel","body":"<p>If all you are expecting is to be able to run multiple features in parallel, then you can try doing the following :</p>\n\n<ul>\n<li>Duplicate the class <a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/testng/src/main/java/cucumber/api/testng/AbstractTestNGCucumberTests.java\" rel=\"nofollow noreferrer\">AbstractTestNGCucumberTests</a> in your test project and set the attribute <code>parallel=true</code> to the <code>@DataProvider</code> annotated method.</li>\n</ul>\n\n<p>Since the default <code>dataprovider-thread-count</code> from TestNG is <code>10</code> and now that you have instructed TestNG to run <code>features</code> in parallel, you should start seeing your feature files get executed in parallel. </p>\n\n<p>But I understand that Cucumber reporting is inherently not thread safe, so your reports may appear garbled.</p>\n"},{"tags":[],"owner":{"account_id":3164577,"reputation":478,"user_id":2895913,"display_name":"Sugat Mankar"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1492680044,"creation_date":1481543006,"answer_id":41100104,"question_id":41034116,"body_markdown":"**Update:**  4.0.0 version is available at maven central repository with bunch of changes.[for more details go here.][1]\r\n\r\n**Update:**  2.2.0 version is available at maven central repository.\r\n\r\nYou can use opensource plugin [cucumber-jvm-parallel-plugin][1] which has many advantages over existing solutions. Available at maven [repository][2]\r\n\r\n       &lt;dependency&gt;\r\n         &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\r\n         &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;2.1.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n 1. First you need to add this plugin with required configuration in your project pom file.\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.0&lt;/version&gt;\r\n          &lt;executions&gt;\r\n             &lt;execution&gt;\r\n             &lt;id&gt;generateRunners&lt;/id&gt;\r\n             &lt;phase&gt;generate-test-sources&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n               &lt;goal&gt;generateRunners&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n             &lt;configuration&gt;\r\n                 &lt;!-- Mandatory --&gt;\r\n                 &lt;!-- comma separated list of package names to scan for glue code --&gt;\r\n                 &lt;glue&gt;foo, bar&lt;/glue&gt;\r\n                 &lt;outputDirectory&gt;${project.build.directory}/generated-test-sources/cucumber&lt;/outputDirectory&gt;\r\n                  &lt;!-- The directory, which must be in the root of the runtime classpath, containing your feature files.  --&gt;\r\n                   &lt;featuresDirectory&gt;src/test/resources/features/&lt;/featuresDirectory&gt;\r\n                  &lt;!-- Directory where the cucumber report files shall be written  --&gt;\r\n                  &lt;cucumberOutputDir&gt;target/cucumber-parallel&lt;/cucumberOutputDir&gt;\r\n                  &lt;!-- comma separated list of output formats json,html,rerun.txt --&gt;\r\n                  &lt;format&gt;json&lt;/format&gt;\r\n                  &lt;!-- CucumberOptions.strict property --&gt;\r\n                  &lt;strict&gt;true&lt;/strict&gt;\r\n                  &lt;!-- CucumberOptions.monochrome property --&gt;\r\n                  &lt;monochrome&gt;true&lt;/monochrome&gt;\r\n                  &lt;!-- The tags to run, maps to CucumberOptions.tags property you can pass ANDed tags like &quot;@tag1&quot;,&quot;@tag2&quot; and ORed tags like &quot;@tag1,@tag2,@tag3&quot; --&gt;\r\n                 &lt;tags&gt;&lt;/tags&gt;\r\n                 &lt;!-- If set to true, only feature files containing the required tags shall be generated. --&gt;\r\n                 &lt;filterFeaturesByTags&gt;false&lt;/filterFeaturesByTags&gt;\r\n                 &lt;!-- Generate TestNG runners instead of default JUnit ones. --&gt; \r\n                 &lt;useTestNG&gt;false&lt;/useTestNG&gt;\r\n                 &lt;!-- The naming scheme to use for the generated test classes.  One of &#39;simple&#39; or &#39;feature-title&#39; --&gt; \r\n                &lt;namingScheme&gt;simple&lt;/namingScheme&gt;\r\n                &lt;!-- The class naming pattern to use.  Only required/used if naming scheme is &#39;pattern&#39;.--&gt;\r\n                &lt;namingPattern&gt;Parallel{c}IT&lt;/namingPattern&gt;\r\n                &lt;!-- One of [SCENARIO, FEATURE]. SCENARIO generates one runner per scenario.  FEATURE generates a runner per feature. --&gt;\r\n                &lt;parallelScheme&gt;SCENARIO&lt;/parallelScheme&gt;\r\n                &lt;!-- This is optional, required only if you want to specify a custom template for the generated sources (this is a relative path) --&gt;\r\n                &lt;customVmTemplate&gt;src/test/resources/cucumber-custom-runner.vm&lt;/customVmTemplate&gt;\r\n                &lt;/configuration&gt;\r\n               &lt;/execution&gt;\r\n             &lt;/executions&gt;\r\n           &lt;/plugin&gt;\r\n\r\n 2. Now add below plugin just below above plugin which will invoke runner classes generated by above plugin\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19&lt;/version&gt;\r\n                &lt;configuration&gt; \r\n                    &lt;forkCount&gt;5&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*IT.class&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n 3. Above two plugins will do magic for cucumber test running in parallel (provided you machine also have advanced hardware support).\r\n\r\n 4. Strictly provided  `&lt;forkCount&gt;n&lt;/forkCount&gt;` here &#39;n&#39; is directly proportional to 1) Advanced Hardware support and 2) you available nodes i.e. registered browser instances to HUB.\r\n\r\n 5. One major and most important changes is your WebDriver class must be **SHARED** and you should **not** implement driver.quit() method, as closing is take care by shutdown hook.\r\n  \r\n\t\timport cucumber.api.Scenario;\r\n\t\timport cucumber.api.java.After;\r\n\t\timport cucumber.api.java.Before;\r\n\t\timport org.openqa.selenium.OutputType;\r\n\t\timport org.openqa.selenium.WebDriver;\r\n\t\timport org.openqa.selenium.WebDriverException;\r\n\t\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\t\timport org.openqa.selenium.support.events.EventFiringWebDriver;\r\n\r\n\t\tpublic class SharedDriver extends EventFiringWebDriver {\r\n\t\t\tprivate static WebDriver REAL_DRIVER = null;\r\n\r\n\r\n\r\n\t\t\tprivate static final Thread CLOSE_THREAD = new Thread() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tREAL_DRIVER.close();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tstatic {\r\n\t\t\t\tRuntime.getRuntime().addShutdownHook(CLOSE_THREAD);\r\n\t\t\t}\r\n\r\n\t\t\tpublic SharedDriver() {\r\n\t\t\t\tsuper(CreateDriver());\r\n\t\t\t}\r\n\r\n\t\t\tpublic static WebDriver CreateDriver() {\r\n\t\t\t\tWebDriver webDriver;\r\n\t\t\t\tif (REAL_DRIVER == null)\r\n\t\t\t\t\twebDriver = new FirefoxDriver();\r\n\t\t\t\tsetWebDriver(webDriver);\r\n\t\t\t\treturn webDriver;\r\n\t\t\t}\r\n\r\n\t\t\tpublic static void setWebDriver(WebDriver webDriver) {\r\n\t\t\t\tthis.REAL_DRIVER = webDriver;\r\n\t\t\t}\r\n\r\n\t\t\tpublic static WebDriver getWebDriver() {\r\n\t\t\t\treturn this.REAL_DRIVER;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close() {\r\n\t\t\t\tif (Thread.currentThread() != CLOSE_THREAD) {\r\n\t\t\t\t\tthrow new UnsupportedOperationException(&quot;You shouldn&#39;t close this WebDriver. It&#39;s shared and will close when the JVM exits.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tsuper.close();\r\n\t\t\t}\r\n\r\n\t\t\t@Before\r\n\t\t\tpublic void deleteAllCookies() {\r\n\t\t\t\tmanage().deleteAllCookies();\r\n\t\t\t}\r\n\r\n\t\t\t@After\r\n\t\t\tpublic void embedScreenshot(Scenario scenario) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbyte[] screenshot = getScreenshotAs(OutputType.BYTES);\r\n\t\t\t\t\tscenario.embed(screenshot, &quot;image/png&quot;);\r\n\t\t\t\t} catch (WebDriverException somePlatformsDontSupportScreenshots) {\r\n\t\t\t\t\tSystem.err.println(somePlatformsDontSupportScreenshots.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n 4. Considering you want to execute more than 50 threads i.e. same no of browser instances are registered to HUB but Hub will die if it doesn&#39;t get enough memory therefore to avoid this critical situation you should start hub with -DPOOL_MAX=512 (or larger) as stated in [grid2 documentation][3].\r\n\r\n    `Really large (&gt;50 node) Hub installations may need to increase the jetty threads by setting -DPOOL_MAX=512 (or larger) on the java command line.`\r\n\r\n    `java -jar selenium-server-standalone-&lt;version&gt;.jar -role hub -DPOOL_MAX=512`\r\n\r\n\r\n  [1]: https://github.com/temyers/cucumber-jvm-parallel-plugin\r\n  [2]: https://mvnrepository.com/artifact/com.github.temyers/cucumber-jvm-parallel-plugin\r\n  [3]: https://github.com/SeleniumHQ/selenium/wiki/Grid2","title":"How to execute cucumber feature file parallel","body":"<p><strong>Update:</strong>  4.0.0 version is available at maven central repository with bunch of changes.<a href=\"https://github.com/temyers/cucumber-jvm-parallel-plugin\" rel=\"noreferrer\">for more details go here.</a></p>\n\n<p><strong>Update:</strong>  2.2.0 version is available at maven central repository.</p>\n\n<p>You can use opensource plugin <a href=\"https://github.com/temyers/cucumber-jvm-parallel-plugin\" rel=\"noreferrer\">cucumber-jvm-parallel-plugin</a> which has many advantages over existing solutions. Available at maven <a href=\"https://mvnrepository.com/artifact/com.github.temyers/cucumber-jvm-parallel-plugin\" rel=\"noreferrer\">repository</a></p>\n\n<pre><code>   &lt;dependency&gt;\n     &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n     &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.1.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n\n<ol>\n<li><p>First you need to add this plugin with required configuration in your project pom file.</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n  &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.1.0&lt;/version&gt;\n  &lt;executions&gt;\n     &lt;execution&gt;\n     &lt;id&gt;generateRunners&lt;/id&gt;\n     &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n     &lt;goals&gt;\n       &lt;goal&gt;generateRunners&lt;/goal&gt;\n     &lt;/goals&gt;\n     &lt;configuration&gt;\n         &lt;!-- Mandatory --&gt;\n         &lt;!-- comma separated list of package names to scan for glue code --&gt;\n         &lt;glue&gt;foo, bar&lt;/glue&gt;\n         &lt;outputDirectory&gt;${project.build.directory}/generated-test-sources/cucumber&lt;/outputDirectory&gt;\n          &lt;!-- The directory, which must be in the root of the runtime classpath, containing your feature files.  --&gt;\n           &lt;featuresDirectory&gt;src/test/resources/features/&lt;/featuresDirectory&gt;\n          &lt;!-- Directory where the cucumber report files shall be written  --&gt;\n          &lt;cucumberOutputDir&gt;target/cucumber-parallel&lt;/cucumberOutputDir&gt;\n          &lt;!-- comma separated list of output formats json,html,rerun.txt --&gt;\n          &lt;format&gt;json&lt;/format&gt;\n          &lt;!-- CucumberOptions.strict property --&gt;\n          &lt;strict&gt;true&lt;/strict&gt;\n          &lt;!-- CucumberOptions.monochrome property --&gt;\n          &lt;monochrome&gt;true&lt;/monochrome&gt;\n          &lt;!-- The tags to run, maps to CucumberOptions.tags property you can pass ANDed tags like \"@tag1\",\"@tag2\" and ORed tags like \"@tag1,@tag2,@tag3\" --&gt;\n         &lt;tags&gt;&lt;/tags&gt;\n         &lt;!-- If set to true, only feature files containing the required tags shall be generated. --&gt;\n         &lt;filterFeaturesByTags&gt;false&lt;/filterFeaturesByTags&gt;\n         &lt;!-- Generate TestNG runners instead of default JUnit ones. --&gt; \n         &lt;useTestNG&gt;false&lt;/useTestNG&gt;\n         &lt;!-- The naming scheme to use for the generated test classes.  One of 'simple' or 'feature-title' --&gt; \n        &lt;namingScheme&gt;simple&lt;/namingScheme&gt;\n        &lt;!-- The class naming pattern to use.  Only required/used if naming scheme is 'pattern'.--&gt;\n        &lt;namingPattern&gt;Parallel{c}IT&lt;/namingPattern&gt;\n        &lt;!-- One of [SCENARIO, FEATURE]. SCENARIO generates one runner per scenario.  FEATURE generates a runner per feature. --&gt;\n        &lt;parallelScheme&gt;SCENARIO&lt;/parallelScheme&gt;\n        &lt;!-- This is optional, required only if you want to specify a custom template for the generated sources (this is a relative path) --&gt;\n        &lt;customVmTemplate&gt;src/test/resources/cucumber-custom-runner.vm&lt;/customVmTemplate&gt;\n        &lt;/configuration&gt;\n       &lt;/execution&gt;\n     &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre></li>\n<li><p>Now add below plugin just below above plugin which will invoke runner classes generated by above plugin</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.19&lt;/version&gt;\n        &lt;configuration&gt; \n            &lt;forkCount&gt;5&lt;/forkCount&gt;\n            &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*IT.class&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre></li>\n<li><p>Above two plugins will do magic for cucumber test running in parallel (provided you machine also have advanced hardware support).</p></li>\n<li><p>Strictly provided  <code>&lt;forkCount&gt;n&lt;/forkCount&gt;</code> here 'n' is directly proportional to 1) Advanced Hardware support and 2) you available nodes i.e. registered browser instances to HUB.</p></li>\n<li><p>One major and most important changes is your WebDriver class must be <strong>SHARED</strong> and you should <strong>not</strong> implement driver.quit() method, as closing is take care by shutdown hook.</p>\n\n<pre><code>import cucumber.api.Scenario;\nimport cucumber.api.java.After;\nimport cucumber.api.java.Before;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebDriverException;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.events.EventFiringWebDriver;\n\npublic class SharedDriver extends EventFiringWebDriver {\n    private static WebDriver REAL_DRIVER = null;\n\n\n\n    private static final Thread CLOSE_THREAD = new Thread() {\n        @Override\n        public void run() {\n            REAL_DRIVER.close();\n        }\n    };\n\n    static {\n        Runtime.getRuntime().addShutdownHook(CLOSE_THREAD);\n    }\n\n    public SharedDriver() {\n        super(CreateDriver());\n    }\n\n    public static WebDriver CreateDriver() {\n        WebDriver webDriver;\n        if (REAL_DRIVER == null)\n            webDriver = new FirefoxDriver();\n        setWebDriver(webDriver);\n        return webDriver;\n    }\n\n    public static void setWebDriver(WebDriver webDriver) {\n        this.REAL_DRIVER = webDriver;\n    }\n\n    public static WebDriver getWebDriver() {\n        return this.REAL_DRIVER;\n    }\n\n    @Override\n    public void close() {\n        if (Thread.currentThread() != CLOSE_THREAD) {\n            throw new UnsupportedOperationException(\"You shouldn't close this WebDriver. It's shared and will close when the JVM exits.\");\n        }\n        super.close();\n    }\n\n    @Before\n    public void deleteAllCookies() {\n        manage().deleteAllCookies();\n    }\n\n    @After\n    public void embedScreenshot(Scenario scenario) {\n        try {\n            byte[] screenshot = getScreenshotAs(OutputType.BYTES);\n            scenario.embed(screenshot, \"image/png\");\n        } catch (WebDriverException somePlatformsDontSupportScreenshots) {\n            System.err.println(somePlatformsDontSupportScreenshots.getMessage());\n        }\n    }\n}\n</code></pre></li>\n<li><p>Considering you want to execute more than 50 threads i.e. same no of browser instances are registered to HUB but Hub will die if it doesn't get enough memory therefore to avoid this critical situation you should start hub with -DPOOL_MAX=512 (or larger) as stated in <a href=\"https://github.com/SeleniumHQ/selenium/wiki/Grid2\" rel=\"noreferrer\">grid2 documentation</a>.</p>\n\n<p><code>Really large (&gt;50 node) Hub installations may need to increase the jetty threads by setting -DPOOL_MAX=512 (or larger) on the java command line.</code></p>\n\n<p><code>java -jar selenium-server-standalone-&lt;version&gt;.jar -role hub -DPOOL_MAX=512</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636693921,"creation_date":1546550946,"answer_id":54030053,"question_id":41034116,"body_markdown":"To take maximum advantage of TestNG you can use Testng&#39;s third party extension [QAF][1] framework. It supports multiple [bdd syntax][2] including gherkin using [GherkinFactory][3]. \r\nWhile using BDD with QAF, you can take advantage of each TestNG features, including data-providers, parallel execution configuration in different ways (groups/tests/methods), TestNG listeners.\r\n\r\nQAF considers each scenario as TestNG test and Scenario Outline as TestNG data-driven test. As qaf provides driver management and resource management in-built, you don&#39;t need to write single line of code for driver management or resource management. All you need to do is create TestNG xml configuration file as per your requirement either to run parallel methods (scenarios) or groups or xml test on one or more browser. \r\n\r\n\r\nIt enables different possible [configuration combinations][4]. Below is the xml **configuration to address this question** which will run scenarios in two browsers and in parallel. You can configure number of threads for each browser as standard TestNG xml configuration as well. \r\n\r\n\r\n    &lt;suite name=&quot;AUT Test Automation&quot; verbose=&quot;0&quot;  parallel=&quot;tests&quot;&gt;\r\n    &lt;test name=&quot;Test-on-chrome&quot;&gt;\r\n       &lt;parameter name=&quot;scenario.file.loc&quot; value=&quot;resources/features&quot; /&gt;\r\n       &lt;parameter name=&quot;driver.name&quot; value=&quot;chromeDriver&quot; /&gt;           \r\n       &lt;classes&gt;\r\n          &lt;class name=&quot;com.qmetry.qaf.automation.step.client.gherkin.GherkinScenarioFactory&quot; /&gt;\r\n       &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n    &lt;test name=&quot;Test-on-FF&quot;&gt;\r\n       &lt;parameter name=&quot;scenario.file.loc&quot; value=&quot;resources/features&quot; /&gt;\r\n       &lt;parameter name=&quot;driver.name&quot; value=&quot;firefoxDriver&quot; /&gt;           \r\n       &lt;classes&gt;\r\n          &lt;class name=&quot;com.qmetry.qaf.automation.step.client.gherkin.GherkinScenarioFactory&quot; /&gt;\r\n       &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nMore over the latest `BDDTestFactory2` supports [syntax][5] that is derived from QAF BDD, Jbehave and gherkin. It supports meta-data from qaf bdd as tags and examples from gherkin. You can take benefit of [inbuilt data-providers][6] to provide test data in XML/JSON/CSV/EXCEL/DB using meta-data in BDD. \r\n\r\n**EDIT:**\r\nCucumber-5 users can take benefit of [qaf-cucumber][7] support library.\r\n\r\n\r\n  [1]: https://github.com/cbeust/testng/wiki/3rd-party-extensions#frameworks\r\n  [2]: https://qmetry.github.io/qaf/latest/bdd-syntax.html\r\n  [3]: https://qmetry.github.io/qaf/latest/gherkin_client.html\r\n  [4]: https://qmetry.github.io/qaf/latest/creating_configuration_file.html\r\n  [5]: https://qmetry.github.io/qaf/latest/bdd2.html\r\n  [6]: https://qmetry.github.io/qaf/latest/maketest_data_driven.html\r\n  [7]: https://github.com/qmetry/qaf-cucumber#qaf-cucumber","title":"How to execute cucumber feature file parallel","body":"<p>To take maximum advantage of TestNG you can use Testng's third party extension <a href=\"https://github.com/cbeust/testng/wiki/3rd-party-extensions#frameworks\" rel=\"nofollow noreferrer\">QAF</a> framework. It supports multiple <a href=\"https://qmetry.github.io/qaf/latest/bdd-syntax.html\" rel=\"nofollow noreferrer\">bdd syntax</a> including gherkin using <a href=\"https://qmetry.github.io/qaf/latest/gherkin_client.html\" rel=\"nofollow noreferrer\">GherkinFactory</a>.\nWhile using BDD with QAF, you can take advantage of each TestNG features, including data-providers, parallel execution configuration in different ways (groups/tests/methods), TestNG listeners.</p>\n<p>QAF considers each scenario as TestNG test and Scenario Outline as TestNG data-driven test. As qaf provides driver management and resource management in-built, you don't need to write single line of code for driver management or resource management. All you need to do is create TestNG xml configuration file as per your requirement either to run parallel methods (scenarios) or groups or xml test on one or more browser.</p>\n<p>It enables different possible <a href=\"https://qmetry.github.io/qaf/latest/creating_configuration_file.html\" rel=\"nofollow noreferrer\">configuration combinations</a>. Below is the xml <strong>configuration to address this question</strong> which will run scenarios in two browsers and in parallel. You can configure number of threads for each browser as standard TestNG xml configuration as well.</p>\n<pre><code>&lt;suite name=&quot;AUT Test Automation&quot; verbose=&quot;0&quot;  parallel=&quot;tests&quot;&gt;\n&lt;test name=&quot;Test-on-chrome&quot;&gt;\n   &lt;parameter name=&quot;scenario.file.loc&quot; value=&quot;resources/features&quot; /&gt;\n   &lt;parameter name=&quot;driver.name&quot; value=&quot;chromeDriver&quot; /&gt;           \n   &lt;classes&gt;\n      &lt;class name=&quot;com.qmetry.qaf.automation.step.client.gherkin.GherkinScenarioFactory&quot; /&gt;\n   &lt;/classes&gt;\n&lt;/test&gt;\n\n&lt;test name=&quot;Test-on-FF&quot;&gt;\n   &lt;parameter name=&quot;scenario.file.loc&quot; value=&quot;resources/features&quot; /&gt;\n   &lt;parameter name=&quot;driver.name&quot; value=&quot;firefoxDriver&quot; /&gt;           \n   &lt;classes&gt;\n      &lt;class name=&quot;com.qmetry.qaf.automation.step.client.gherkin.GherkinScenarioFactory&quot; /&gt;\n   &lt;/classes&gt;\n&lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>More over the latest <code>BDDTestFactory2</code> supports <a href=\"https://qmetry.github.io/qaf/latest/bdd2.html\" rel=\"nofollow noreferrer\">syntax</a> that is derived from QAF BDD, Jbehave and gherkin. It supports meta-data from qaf bdd as tags and examples from gherkin. You can take benefit of <a href=\"https://qmetry.github.io/qaf/latest/maketest_data_driven.html\" rel=\"nofollow noreferrer\">inbuilt data-providers</a> to provide test data in XML/JSON/CSV/EXCEL/DB using meta-data in BDD.</p>\n<p><strong>EDIT:</strong>\nCucumber-5 users can take benefit of <a href=\"https://github.com/qmetry/qaf-cucumber#qaf-cucumber\" rel=\"nofollow noreferrer\">qaf-cucumber</a> support library.</p>\n"},{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625524892,"creation_date":1625347994,"answer_id":68240109,"question_id":41034116,"body_markdown":"I achieved cucumber parallelism using [`courgette-jvm`](https://github.com/prashant-ramcharan/courgette-jvm) . It worked out of the box and run parallel test at scenario level\r\n\r\nSimply inlclude similar runner class in cucumber. My tests are further using `RemoteWebdriver` to open multiple instances on selenium grid. Make sure grid is up and running and node is registered to the grid.\r\n\r\n    import courgette.api.CourgetteOptions;\r\n    import courgette.api.CourgetteRunLevel;\r\n    import courgette.api.CucumberOptions;\r\n    import courgette.api.testng.TestNGCourgette;\r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Test;\r\n    @Test\r\n    @CourgetteOptions(\r\n            threads = 10,\r\n            runLevel = CourgetteRunLevel.SCENARIO,\r\n            rerunFailedScenarios = true,\r\n            rerunAttempts = 1,\r\n            showTestOutput = true,\r\n            reportTitle = &quot;Courgette-JVM Example&quot;,\r\n            reportTargetDir = &quot;build&quot;,\r\n            environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\r\n            cucumberOptions = @CucumberOptions(\r\n                    features = &quot;src/test/resources/com/test/&quot;,\r\n                    glue = &quot;com.test.stepdefs&quot;,                   \r\n                    publish = true,\r\n                    plugin = {\r\n                            &quot;pretty&quot;,\r\n                            &quot;json:target/cucumber-report/cucumber.json&quot;,\r\n                            &quot;html:target/cucumber-report/cucumber.html&quot;}\r\n            ))\r\n    class AcceptanceIT extends TestNGCourgette {\r\n    }\r\n\r\nRemoteWebdriver config is\r\n\r\n    protected RemoteWebDriver createDriver() throws MalformedURLException , IOException {\r\n                       \r\n                     Properties properties = new Properties();                \r\n                    ClassLoader loader = Thread.currentThread().getContextClassLoader();                \r\n                      String hubURL = &quot;http://192.168.1.7:65299/wd/hub&quot;;\r\n                      System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/Users/amit/Desktop/amit/projects/misc/geckodriver&quot;);\r\n                     \r\n                        FirefoxProfile profile = new FirefoxProfile();\r\n                        DesiredCapabilities capabilities = DesiredCapabilities.firefox();\r\n                        capabilities.setCapability(FirefoxDriver.PROFILE, profile);\r\n                        capabilities.setPlatform(Platform.ANY);    \r\n                        FirefoxOptions options = new FirefoxOptions();\r\n                        options.merge(capabilities);                 \r\n                       driver.set(new RemoteWebDriver(new URL(hubURL),options));\r\n                       return driver.get();\r\n            }\r\n\r\n","title":"How to execute cucumber feature file parallel","body":"<p>I achieved cucumber parallelism using <a href=\"https://github.com/prashant-ramcharan/courgette-jvm\" rel=\"nofollow noreferrer\"><code>courgette-jvm</code></a> . It worked out of the box and run parallel test at scenario level</p>\n<p>Simply inlclude similar runner class in cucumber. My tests are further using <code>RemoteWebdriver</code> to open multiple instances on selenium grid. Make sure grid is up and running and node is registered to the grid.</p>\n<pre><code>import courgette.api.CourgetteOptions;\nimport courgette.api.CourgetteRunLevel;\nimport courgette.api.CucumberOptions;\nimport courgette.api.testng.TestNGCourgette;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n@Test\n@CourgetteOptions(\n        threads = 10,\n        runLevel = CourgetteRunLevel.SCENARIO,\n        rerunFailedScenarios = true,\n        rerunAttempts = 1,\n        showTestOutput = true,\n        reportTitle = &quot;Courgette-JVM Example&quot;,\n        reportTargetDir = &quot;build&quot;,\n        environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\n        cucumberOptions = @CucumberOptions(\n                features = &quot;src/test/resources/com/test/&quot;,\n                glue = &quot;com.test.stepdefs&quot;,                   \n                publish = true,\n                plugin = {\n                        &quot;pretty&quot;,\n                        &quot;json:target/cucumber-report/cucumber.json&quot;,\n                        &quot;html:target/cucumber-report/cucumber.html&quot;}\n        ))\nclass AcceptanceIT extends TestNGCourgette {\n}\n</code></pre>\n<p>RemoteWebdriver config is</p>\n<pre><code>protected RemoteWebDriver createDriver() throws MalformedURLException , IOException {\n                   \n                 Properties properties = new Properties();                \n                ClassLoader loader = Thread.currentThread().getContextClassLoader();                \n                  String hubURL = &quot;http://192.168.1.7:65299/wd/hub&quot;;\n                  System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/Users/amit/Desktop/amit/projects/misc/geckodriver&quot;);\n                 \n                    FirefoxProfile profile = new FirefoxProfile();\n                    DesiredCapabilities capabilities = DesiredCapabilities.firefox();\n                    capabilities.setCapability(FirefoxDriver.PROFILE, profile);\n                    capabilities.setPlatform(Platform.ANY);    \n                    FirefoxOptions options = new FirefoxOptions();\n                    options.merge(capabilities);                 \n                   driver.set(new RemoteWebDriver(new URL(hubURL),options));\n                   return driver.get();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670363184,"creation_date":1670363184,"answer_id":74709377,"question_id":41034116,"body_markdown":"Since v4 of Cucumber you can do this without extensions of plugins.\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#parallel-execution\r\n\r\n&gt; Cucumber TestNG supports parallel execution of scenarios. Override the\r\n&gt; scenarios method to enable parallel execution.\r\n&gt; \r\n&gt; ```java \r\n&gt; public class RunCucumberTest extends\r\n&gt; AbstractTestNGCucumberTests {\r\n&gt; \r\n&gt;     @Override\r\n&gt;     @DataProvider(parallel = true)\r\n&gt;     public Object[][] scenarios() {\r\n&gt;         return super.scenarios();\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n&gt; \r\n&gt; Maven Surefire plugin configuration for parallel execution\r\n&gt; \r\n&gt; ```xml\r\n&gt; &lt;plugins&gt;    &lt;plugin&gt;\r\n&gt;       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n&gt;       &lt;configuration&gt;\r\n&gt;          &lt;properties&gt;\r\n&gt;             &lt;property&gt;\r\n&gt;                &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\r\n&gt;                &lt;value&gt;${threadcount}&lt;/value&gt;\r\n&gt;             &lt;/property&gt;\r\n&gt;          &lt;/properties&gt;\r\n&gt;       &lt;/configuration&gt;    \r\n&gt;    &lt;/plugin&gt; \r\n&gt; &lt;/plugins&gt; \r\n&gt; ```\r\n&gt; \r\n&gt; Where dataproviderthreadcount is the default number of threads to use\r\n&gt; for data providers when running tests in parallel.","title":"How to execute cucumber feature file parallel","body":"<p>Since v4 of Cucumber you can do this without extensions of plugins.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#parallel-execution\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#parallel-execution</a></p>\n<blockquote>\n<p>Cucumber TestNG supports parallel execution of scenarios. Override the\nscenarios method to enable parallel execution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RunCucumberTest extends\nAbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n<p>Maven Surefire plugin configuration for parallel execution</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n         &lt;properties&gt;\n            &lt;property&gt;\n               &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\n               &lt;value&gt;${threadcount}&lt;/value&gt;\n            &lt;/property&gt;\n         &lt;/properties&gt;\n      &lt;/configuration&gt;    \n   &lt;/plugin&gt; \n&lt;/plugins&gt; \n</code></pre>\n<p>Where dataproviderthreadcount is the default number of threads to use\nfor data providers when running tests in parallel.</p>\n</blockquote>\n"}],"owner":{"account_id":7838032,"reputation":2366,"user_id":5925291,"accept_rate":84,"display_name":"ArrchanaMohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82382,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":41100104,"answer_count":6,"score":11,"last_activity_date":1670363184,"creation_date":1481182423,"question_id":41034116,"body_markdown":"I have below feature files (Separate feature files) in src/test/resources/feature/ and I would like to run them in parallel. Like: One feature file has to execute in chrome and another one has to execute in firefox as mentioned @Tags name.\r\n\r\n    Feature: Refund item\r\n    \r\n    @chrome\r\n      Scenario: Jeff returns a faulty microwave\r\n        Given Jeff has bought a microwave for $100\r\n        And he has a receipt\r\n        When he returns the microwave\r\n        Then Jeff should be refunded $100\r\n    \r\n    Feature: Refund Money\r\n    \r\n    @firefox\r\n      Scenario: Jeff returns the money\r\n        Given Jeff has bought a microwave for $100\r\n        And he has a receipt\r\n        When he returns the microwave\r\n        Then Jeff should be refunded $100\r\n\r\nCan somebody assist me to achieve this.I&#39;m using cucumber-java 1.2.2 version, and AbstractTestNGCucumberTests using as runner.  Also, let me know how can I create a Test Runner dynamically by using feature files and make them run in parallel.","title":"How to execute cucumber feature file parallel","body":"<p>I have below feature files (Separate feature files) in src/test/resources/feature/ and I would like to run them in parallel. Like: One feature file has to execute in chrome and another one has to execute in firefox as mentioned @Tags name.</p>\n\n<pre><code>Feature: Refund item\n\n@chrome\n  Scenario: Jeff returns a faulty microwave\n    Given Jeff has bought a microwave for $100\n    And he has a receipt\n    When he returns the microwave\n    Then Jeff should be refunded $100\n\nFeature: Refund Money\n\n@firefox\n  Scenario: Jeff returns the money\n    Given Jeff has bought a microwave for $100\n    And he has a receipt\n    When he returns the microwave\n    Then Jeff should be refunded $100\n</code></pre>\n\n<p>Can somebody assist me to achieve this.I'm using cucumber-java 1.2.2 version, and AbstractTestNGCucumberTests using as runner.  Also, let me know how can I create a Test Runner dynamically by using feature files and make them run in parallel.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670363054,"creation_date":1670363054,"answer_id":74709358,"question_id":74705430,"body_markdown":"You have to post-process the Properties yourself, replacing all values of which key name matches the pattern &quot;^\\$\\{(.*)\\}$&quot; by the corresponding value of the key being the group 1 of the pattern. (Be careful to possible buggy cross-references of values in the .properties... that may lead to infinite loop...)","title":"getProperty() method in java.util not able to recognize keys value variables in ${.} inside springboot&#39;s application.properties","body":"<p>You have to post-process the Properties yourself, replacing all values of which key name matches the pattern &quot;^${(.*)}$&quot; by the corresponding value of the key being the group 1 of the pattern. (Be careful to possible buggy cross-references of values in the .properties... that may lead to infinite loop...)</p>\n"}],"owner":{"account_id":21488854,"reputation":1060,"user_id":15834974,"display_name":"vnk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670363054,"creation_date":1670342034,"question_id":74705430,"body_markdown":"I have a springboot application where the application.properties look like this -\r\n```\r\nkeyA=valueA\r\nkeyB=valueB\r\nkeyC=${keyA}\r\n```\r\nSo I know that using the `@Value` annotation, I can correctly get the value of `keyC` as &quot;valueA&quot;. However, my program is currently taking the use of a read only file where the `getProperty()` method returns the value of `keyC` as &quot;${keyA}&quot; instead of &quot;valueA&quot;. &lt;br&gt;\r\n\r\n**Sample Code** \r\n\r\n*read-only*\r\n```\r\npublic String getPropertyValue(String prop){\r\nFileReader reader = new FileReader(&quot;app.properties&quot;);\r\nProperties p = new Properties();\r\np.load(reader);\r\nSystem.out.println(p.getProperty(prop));\r\n}\r\n```\r\n```\r\ngetPropertyValue(&quot;keyC&quot;);\r\n``` \r\n\r\n**Output**\r\n```\r\n${keyA}\r\n```\r\n\r\n**I will not be able to modify the read only file.** I want to know if there&#39;s any suitable alternative to add a variable like `${keyA}` in application.properties so that it can be recognized by the `getPropertyValue` method. Any help would be appreciated, thanks.","title":"getProperty() method in java.util not able to recognize keys value variables in ${.} inside springboot&#39;s application.properties","body":"<p>I have a springboot application where the application.properties look like this -</p>\n<pre><code>keyA=valueA\nkeyB=valueB\nkeyC=${keyA}\n</code></pre>\n<p>So I know that using the <code>@Value</code> annotation, I can correctly get the value of <code>keyC</code> as &quot;valueA&quot;. However, my program is currently taking the use of a read only file where the <code>getProperty()</code> method returns the value of <code>keyC</code> as &quot;${keyA}&quot; instead of &quot;valueA&quot;. <br></p>\n<p><strong>Sample Code</strong></p>\n<p><em>read-only</em></p>\n<pre><code>public String getPropertyValue(String prop){\nFileReader reader = new FileReader(&quot;app.properties&quot;);\nProperties p = new Properties();\np.load(reader);\nSystem.out.println(p.getProperty(prop));\n}\n</code></pre>\n<pre><code>getPropertyValue(&quot;keyC&quot;);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>${keyA}\n</code></pre>\n<p><strong>I will not be able to modify the read only file.</strong> I want to know if there's any suitable alternative to add a variable like <code>${keyA}</code> in application.properties so that it can be recognized by the <code>getPropertyValue</code> method. Any help would be appreciated, thanks.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670313965,"creation_date":1670313965,"answer_id":74699157,"question_id":74692914,"body_markdown":"The problem in your code lies in the fact the name of the class is the same as the name of the argument that exists inside the `onBindViewHolder` method:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo solve this problem, you have to change the name of `firebaseModelClass` class to start with a capital letter:\r\n\r\n    public class FirebaseModelClass {\r\n        //...\r\n    }\r\n\r\nClasses in Java [always start with a capital letter][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tHNih.png\r\n  [2]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"data not passing from model class in bindviewholder in use of recyclerview","body":"<p>The problem in your code lies in the fact the name of the class is the same as the name of the argument that exists inside the <code>onBindViewHolder</code> method:</p>\n<p><a href=\"https://i.stack.imgur.com/tHNih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tHNih.png\" alt=\"enter image description here\" /></a></p>\n<p>To solve this problem, you have to change the name of <code>firebaseModelClass</code> class to start with a capital letter:</p>\n<pre><code>public class FirebaseModelClass {\n    //...\n}\n</code></pre>\n<p>Classes in Java <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">always start with a capital letter</a>.</p>\n"}],"owner":{"account_id":25417147,"reputation":1,"user_id":19223840,"display_name":"Brown Fish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670362871,"creation_date":1670265611,"question_id":74692914,"body_markdown":"[![enter image description here][1]][1]\r\nLook on `onbindViewholder`, I used a model class that contains two texts but the model class not showing any of these.\r\n\r\nI tried new model class and new project, but still, it&#39;s not working.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hTC9k.png","title":"data not passing from model class in bindviewholder in use of recyclerview","body":"<p><a href=\"https://i.stack.imgur.com/hTC9k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTC9k.png\" alt=\"enter image description here\" /></a>\nLook on <code>onbindViewholder</code>, I used a model class that contains two texts but the model class not showing any of these.</p>\n<p>I tried new model class and new project, but still, it's not working.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670362717,"creation_date":1670362717,"answer_id":74709314,"question_id":74709171,"body_markdown":"I&#39;d suggest using your variable to print from, rather than how you are doing it now. The &quot;bru.nextDouble&quot; is getting the next value every time you use it, which is why you are skipping values when you add the brackets. The value of &quot;value&quot; is what you want to print, not the &quot;nextDouble&quot; before it.\r\n\r\n````\r\nwhile(bru.hasNextDouble()) \r\n{\r\n    value = bru.nextDouble();\r\n    System.out.println(value);\r\n}\r\n````\r\nAlso, with using &quot;bru.nextDouble&quot; as many times as you do after checking &quot;bru.hasNextDouble&quot;, you run the risk of trying to access data/values not in &quot;bru&quot; causing any number of exceptions. And the exception you are getting, `NoSuchElementException`, is likely the very exception that says you have already run out of data/values when you try to get the next one.\r\n\r\nSo, you also need to get rid of your last &quot;System.out.println(bru.nextDouble());&quot; and you should be able to run your current code, with the minor adjustment I suggest, without any exceptions due to running out of values.\r\n\r\nThere may be other issues and exceptions with your code, but I/we won&#39;t know that until you fix the problem you currently have.","title":"I have read contents of a file which I have done and then add up all the numbers in the file and find the average","body":"<p>I'd suggest using your variable to print from, rather than how you are doing it now. The &quot;bru.nextDouble&quot; is getting the next value every time you use it, which is why you are skipping values when you add the brackets. The value of &quot;value&quot; is what you want to print, not the &quot;nextDouble&quot; before it.</p>\n<pre><code>while(bru.hasNextDouble()) \n{\n    value = bru.nextDouble();\n    System.out.println(value);\n}\n</code></pre>\n<p>Also, with using &quot;bru.nextDouble&quot; as many times as you do after checking &quot;bru.hasNextDouble&quot;, you run the risk of trying to access data/values not in &quot;bru&quot; causing any number of exceptions. And the exception you are getting, <code>NoSuchElementException</code>, is likely the very exception that says you have already run out of data/values when you try to get the next one.</p>\n<p>So, you also need to get rid of your last &quot;System.out.println(bru.nextDouble());&quot; and you should be able to run your current code, with the minor adjustment I suggest, without any exceptions due to running out of values.</p>\n<p>There may be other issues and exceptions with your code, but I/we won't know that until you fix the problem you currently have.</p>\n"}],"owner":{"account_id":27170199,"reputation":1,"user_id":20707006,"display_name":"zflocka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670362717,"creation_date":1670361802,"question_id":74709171,"body_markdown":"```\r\n\r\n\tpublic static double value;\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\r\n\tSystem.out.println(&quot;Enter the name of the file :&quot;);\r\n\t\r\n\tScanner scan = new Scanner(System.in);\r\n\t\r\n\tString filename = scan.next();\r\n\t\r\n\tScanner bru = new Scanner (new File(filename));\r\n\t\r\n\tint num = bru.nextInt();\r\n\t\t\t\r\n\tSystem.out.println(&quot;The file &quot;+ filename +&quot; has &quot;+ num +&quot; numbers in it&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Content of file is&quot;);\r\n\t\t\tdouble total = 0.0; \r\n\t\t\t\r\n\t\t\twhile(bru.hasNextDouble()) \r\n\t\t\tSystem.out.println(bru.nextDouble());\r\n\t\t\t value = bru.nextDouble();\r\n\t\t\t\t\t\t\r\nSystem.out.println(bru.nextDouble());\r\n\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I run my code I get this error\r\n&quot;\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n\tat Project4.main(Project4.java:26)\r\n\r\n```\r\n&quot;\r\n\r\nIf I add brackets to the while loop I don&#39;t get the error instead I it reads one double then skips the next and so on. ","title":"I have read contents of a file which I have done and then add up all the numbers in the file and find the average","body":"<pre><code>\n    public static double value;\n    public static void main(String[] args) throws FileNotFoundException {\n\n    System.out.println(&quot;Enter the name of the file :&quot;);\n    \n    Scanner scan = new Scanner(System.in);\n    \n    String filename = scan.next();\n    \n    Scanner bru = new Scanner (new File(filename));\n    \n    int num = bru.nextInt();\n            \n    System.out.println(&quot;The file &quot;+ filename +&quot; has &quot;+ num +&quot; numbers in it&quot;);\n            \n            System.out.println(&quot;Content of file is&quot;);\n            double total = 0.0; \n            \n            while(bru.hasNextDouble()) \n            System.out.println(bru.nextDouble());\n             value = bru.nextDouble();\n                        \nSystem.out.println(bru.nextDouble());\n    \n    }\n}\n\n</code></pre>\n<p>When I run my code I get this error\n&quot;</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\n    at Project4.main(Project4.java:26)\n\n</code></pre>\n<p>&quot;</p>\n<p>If I add brackets to the while loop I don't get the error instead I it reads one double then skips the next and so on.</p>\n"},{"tags":["java","design-patterns","dependency-injection","factory-pattern","abstract-factory"],"answers":[{"tags":[],"owner":{"account_id":6799630,"reputation":238626,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611231879,"creation_date":1611231572,"answer_id":65827292,"question_id":65822023,"body_markdown":"`DependentPizzaStore` would need to explicitly know about all the implementations in order to be able to initialize them. Therefore `DependentPizzaStore` is dependent and tight coupled to those implementations. If any of those implementations&#39; constructors were to change then you would need to also change the `DependentPizzaStore`\r\n\r\nThe Abstract Factory will allow you to provide an interface for creating families of related or dependent objects without specifying their concrete classes.\r\n\r\nBecause your example also has different styles of pizza \r\n\r\n    public interface PizzaFactory {\r\n        string getStyle();\r\n        Pizza createPizza(String type);\r\n    }\r\n\r\nthen there is a need for different factories for the differing styles.\r\n \r\n    public class NYStylePizzaFactory implements PizzaFactory {\r\n        \r\n        public string getStyle() { return &quot;NY&quot;; }\r\n        \r\n        public Pizza createPizza(String type) {\r\n            Pizza pizza = null;\r\n            if (type.equals(&quot;cheese&quot;)) {\r\n                pizza = new NYStyleCheesePizza();\r\n            } else if (type.equals(&quot;veggie&quot;)) {\r\n                pizza = new NYStyleVeggiePizza();\r\n            } else if (type.equals(&quot;clam&quot;)) {\r\n                pizza = new NYStyleClamPizza();\r\n            } else if (type.equals(&quot;pepperoni&quot;)) {\r\n                pizza = new NYStylePepperoniPizza();\r\n            }\r\n            \r\n            if(pizza == null){\r\n                //...throw?\r\n            }\r\n            \r\n            return pizza;\r\n        }\r\n    }\r\n    \r\n    public class ChicagoStylePizzaFactory implements PizzaFactory {\r\n        \r\n        public string getStyle() { return &quot;Chicago&quot;; }\r\n        \r\n        public Pizza createPizza(String type) {\r\n            if (type.equals(&quot;cheese&quot;)) {\r\n                pizza = new ChicagoStyleCheesePizza();\r\n            } else if (type.equals(&quot;veggie&quot;)) {\r\n                pizza = new ChicagoStyleVeggiePizza();\r\n            } else if (type.equals(&quot;clam&quot;)) {\r\n                pizza = new ChicagoStyleClamPizza();\r\n            } else if (type.equals(&quot;pepperoni&quot;)) {\r\n                pizza = new ChicagoStylePepperoniPizza();\r\n            }\r\n            \r\n            if(pizza == null){\r\n                //...throw?\r\n            }\r\n            \r\n            return pizza;\r\n        }\r\n    }\r\n    \r\nThe `DependentPizzaStore` can now delegate the task of creating the pizza to the factories without having to know anything about implementation details.\r\n\r\n    public class DependentPizzaStore {\r\n        List&lt;PizzaFactory&gt; factories;\r\n        \r\n        public DependentPizzaStore(List&lt;PizzaFactory&gt; factories) {\r\n            this.factories = factories;\r\n        }\r\n\r\n        public Pizza createPizza(String style, String type) {\r\n            Pizza pizza = null;\r\n            for (PizzaFactory factory : factories) {\r\n                if (factory.getStyle().equals(style)) {\r\n                    pizza = factory.createPizza(type);\r\n                    break;\r\n                }\r\n            }\r\n            if (pizza == null){\r\n              System.out.println(&quot;Error: invalid type of pizza&quot;);\r\n              return null;\r\n            }\r\n            pizza.prepare();\r\n            pizza.bake();\r\n            pizza.cut();\r\n            pizza.box();\r\n            return pizza;\r\n        }\r\n    }\r\n\r\nAny additional styles wont affect or cause change to the store. Any changes to how the factory creates pizza also wont affect or cause change to the store.\r\n    \r\nThe store thus depends on abstractions and not on concretions.\r\n\r\n","title":"object dependency on to concrete classes","body":"<p><code>DependentPizzaStore</code> would need to explicitly know about all the implementations in order to be able to initialize them. Therefore <code>DependentPizzaStore</code> is dependent and tight coupled to those implementations. If any of those implementations' constructors were to change then you would need to also change the <code>DependentPizzaStore</code></p>\n<p>The Abstract Factory will allow you to provide an interface for creating families of related or dependent objects without specifying their concrete classes.</p>\n<p>Because your example also has different styles of pizza</p>\n<pre><code>public interface PizzaFactory {\n    string getStyle();\n    Pizza createPizza(String type);\n}\n</code></pre>\n<p>then there is a need for different factories for the differing styles.</p>\n<pre><code>public class NYStylePizzaFactory implements PizzaFactory {\n    \n    public string getStyle() { return &quot;NY&quot;; }\n    \n    public Pizza createPizza(String type) {\n        Pizza pizza = null;\n        if (type.equals(&quot;cheese&quot;)) {\n            pizza = new NYStyleCheesePizza();\n        } else if (type.equals(&quot;veggie&quot;)) {\n            pizza = new NYStyleVeggiePizza();\n        } else if (type.equals(&quot;clam&quot;)) {\n            pizza = new NYStyleClamPizza();\n        } else if (type.equals(&quot;pepperoni&quot;)) {\n            pizza = new NYStylePepperoniPizza();\n        }\n        \n        if(pizza == null){\n            //...throw?\n        }\n        \n        return pizza;\n    }\n}\n\npublic class ChicagoStylePizzaFactory implements PizzaFactory {\n    \n    public string getStyle() { return &quot;Chicago&quot;; }\n    \n    public Pizza createPizza(String type) {\n        if (type.equals(&quot;cheese&quot;)) {\n            pizza = new ChicagoStyleCheesePizza();\n        } else if (type.equals(&quot;veggie&quot;)) {\n            pizza = new ChicagoStyleVeggiePizza();\n        } else if (type.equals(&quot;clam&quot;)) {\n            pizza = new ChicagoStyleClamPizza();\n        } else if (type.equals(&quot;pepperoni&quot;)) {\n            pizza = new ChicagoStylePepperoniPizza();\n        }\n        \n        if(pizza == null){\n            //...throw?\n        }\n        \n        return pizza;\n    }\n}\n</code></pre>\n<p>The <code>DependentPizzaStore</code> can now delegate the task of creating the pizza to the factories without having to know anything about implementation details.</p>\n<pre><code>public class DependentPizzaStore {\n    List&lt;PizzaFactory&gt; factories;\n    \n    public DependentPizzaStore(List&lt;PizzaFactory&gt; factories) {\n        this.factories = factories;\n    }\n\n    public Pizza createPizza(String style, String type) {\n        Pizza pizza = null;\n        for (PizzaFactory factory : factories) {\n            if (factory.getStyle().equals(style)) {\n                pizza = factory.createPizza(type);\n                break;\n            }\n        }\n        if (pizza == null){\n          System.out.println(&quot;Error: invalid type of pizza&quot;);\n          return null;\n        }\n        pizza.prepare();\n        pizza.bake();\n        pizza.cut();\n        pizza.box();\n        return pizza;\n    }\n}\n</code></pre>\n<p>Any additional styles wont affect or cause change to the store. Any changes to how the factory creates pizza also wont affect or cause change to the store.</p>\n<p>The store thus depends on abstractions and not on concretions.</p>\n"}],"owner":{"account_id":5163874,"reputation":143,"user_id":6941552,"display_name":"Hax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65827292,"answer_count":1,"score":1,"last_activity_date":1670362609,"creation_date":1611209517,"question_id":65822023,"body_markdown":"I&#39;m trying to understand the abstract factory pattern while it&#39;s really hard. I&#39;ve seen the following example, from Head First Design Patterns book, trying to describe dependencies and why being dependent is not good. However, I don&#39;t understand the following saying over that code example.\r\n\r\n&gt; Because any change to the concrete implementations of pizzas affects\r\n&gt; the `DependentPizzaStore`, we say that the `DependentPizzaStore` depends on the pizza\r\n&gt; implementations.\r\n\r\n\r\nI don&#39;t really understand how it affects that class which just initiates by `new`s and uses `bake`, `cut` etc. methods. `DependentPizzaStore` doesn&#39;t know anything about the concrete implementations.\r\n\r\n    public class DependentPizzaStore {\r\n      public Pizza createPizza(String style, String type) {\r\n        Pizza pizza = null;\r\n        if (style.equals(&quot;NY&quot;)) {\r\n          if (type.equals(&quot;cheese&quot;)) {\r\n            pizza = new NYStyleCheesePizza();\r\n          } else if (type.equals(&quot;veggie&quot;)) {\r\n            pizza = new NYStyleVeggiePizza();\r\n          } else if (type.equals(&quot;clam&quot;)) {\r\n            pizza = new NYStyleClamPizza();\r\n          } else if (type.equals(&quot;pepperoni&quot;)) {\r\n            pizza = new NYStylePepperoniPizza();\r\n          }\r\n        } else if (style.equals(&quot;Chicago&quot;)) {\r\n          if (type.equals(&quot;cheese&quot;)) {\r\n            pizza = new ChicagoStyleCheesePizza();\r\n          } else if (type.equals(&quot;veggie&quot;)) {\r\n            pizza = new ChicagoStyleVeggiePizza();\r\n          } else if (type.equals(&quot;clam&quot;)) {\r\n            pizza = new ChicagoStyleClamPizza();\r\n          } else if (type.equals(&quot;pepperoni&quot;)) {\r\n            pizza = new ChicagoStylePepperoniPizza();\r\n          }\r\n        } else {\r\n          System.out.println(&quot;Error: invalid type of pizza&quot;);\r\n          return null;\r\n        }\r\n        pizza.prepare();\r\n        pizza.bake();\r\n        pizza.cut();\r\n        pizza.box();\r\n        return pizza;\r\n      }\r\n    }\r\n\r\n","title":"object dependency on to concrete classes","body":"<p>I'm trying to understand the abstract factory pattern while it's really hard. I've seen the following example, from Head First Design Patterns book, trying to describe dependencies and why being dependent is not good. However, I don't understand the following saying over that code example.</p>\n<blockquote>\n<p>Because any change to the concrete implementations of pizzas affects\nthe <code>DependentPizzaStore</code>, we say that the <code>DependentPizzaStore</code> depends on the pizza\nimplementations.</p>\n</blockquote>\n<p>I don't really understand how it affects that class which just initiates by <code>new</code>s and uses <code>bake</code>, <code>cut</code> etc. methods. <code>DependentPizzaStore</code> doesn't know anything about the concrete implementations.</p>\n<pre><code>public class DependentPizzaStore {\n  public Pizza createPizza(String style, String type) {\n    Pizza pizza = null;\n    if (style.equals(&quot;NY&quot;)) {\n      if (type.equals(&quot;cheese&quot;)) {\n        pizza = new NYStyleCheesePizza();\n      } else if (type.equals(&quot;veggie&quot;)) {\n        pizza = new NYStyleVeggiePizza();\n      } else if (type.equals(&quot;clam&quot;)) {\n        pizza = new NYStyleClamPizza();\n      } else if (type.equals(&quot;pepperoni&quot;)) {\n        pizza = new NYStylePepperoniPizza();\n      }\n    } else if (style.equals(&quot;Chicago&quot;)) {\n      if (type.equals(&quot;cheese&quot;)) {\n        pizza = new ChicagoStyleCheesePizza();\n      } else if (type.equals(&quot;veggie&quot;)) {\n        pizza = new ChicagoStyleVeggiePizza();\n      } else if (type.equals(&quot;clam&quot;)) {\n        pizza = new ChicagoStyleClamPizza();\n      } else if (type.equals(&quot;pepperoni&quot;)) {\n        pizza = new ChicagoStylePepperoniPizza();\n      }\n    } else {\n      System.out.println(&quot;Error: invalid type of pizza&quot;);\n      return null;\n    }\n    pizza.prepare();\n    pizza.bake();\n    pizza.cut();\n    pizza.box();\n    return pizza;\n  }\n}\n</code></pre>\n"},{"tags":["java","security","digital-signature","bouncycastle","private-key"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1670353467,"post_id":74707006,"comment_id":131855751,"body_markdown":"An X509EncodedKeySpec is only for *public* keys. A [`PKCS8EncodedSpec`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/spec/PKCS8EncodedKeySpec.html) is an example of a keyspec that supports private keys.","body":"An X509EncodedKeySpec is only for <i>public</i> keys. A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/spec/PKCS8EncodedKeySpec.html\" rel=\"nofollow noreferrer\"><code>PKCS8EncodedSpec</code></a> is an example of a keyspec that supports private keys."},{"owner":{"account_id":27133398,"reputation":21,"user_id":20675278,"display_name":"Threast"},"score":0,"creation_date":1670355866,"post_id":74707006,"comment_id":131856490,"body_markdown":"Thank you, i tried it with this one but now another error occours. I updated the questions. @President James K. Polk","body":"Thank you, i tried it with this one but now another error occours. I updated the questions. @President James K. Polk"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1670356300,"post_id":74707006,"comment_id":131856633,"body_markdown":"That keyspec was just an example, I have no idea how your private key is actually encoded. PKCS8EncodedKeySpec is not a solution for every possible encoding of private keys, it works for one specific type of standard encoding.","body":"That keyspec was just an example, I have no idea how your private key is actually encoded. PKCS8EncodedKeySpec is not a solution for every possible encoding of private keys, it works for one specific type of standard encoding."},{"owner":{"account_id":27133398,"reputation":21,"user_id":20675278,"display_name":"Threast"},"score":0,"creation_date":1670356860,"post_id":74707006,"comment_id":131856832,"body_markdown":"Ah okay, my privateKey is encoded as follows: SHA3Helper.digestToHex( ( ( BCECPrivateKey ) keyPair.getPrivate( ) ).getD( ).toByteArray( ) ) ); SHA3Helper is just to convert a byteArray to a String and acutally not very important here. Do you know which keySpec should be used in this case?","body":"Ah okay, my privateKey is encoded as follows: SHA3Helper.digestToHex( ( ( BCECPrivateKey ) keyPair.getPrivate( ) ).getD( ).toByteArray( ) ) ); SHA3Helper is just to convert a byteArray to a String and acutally not very important here. Do you know which keySpec should be used in this case?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1670357790,"post_id":74707006,"comment_id":131857143,"body_markdown":"Look at the Javadocs for [`KeySpec`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/spec/KeySpec.html). Look at &quot;All Known Implementing Classes:&quot;. Some of those KeySpec are for elliptic curve private keys, like `ECPrivateKeySpec`, `EdECPrivateKeySpec`, and `XECPrivateKeySpec`. One of those should be appropriate. Perhaps if you shared more information about what kind elliptic curves you are using it would help. And please, don&#39;t respond with this important information in a comment, edit your question to add it along with the contents of your previous comment.","body":"Look at the Javadocs for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/spec/KeySpec.html\" rel=\"nofollow noreferrer\"><code>KeySpec</code></a>. Look at &quot;All Known Implementing Classes:&quot;. Some of those KeySpec are for elliptic curve private keys, like <code>ECPrivateKeySpec</code>, <code>EdECPrivateKeySpec</code>, and <code>XECPrivateKeySpec</code>. One of those should be appropriate. Perhaps if you shared more information about what kind elliptic curves you are using it would help. And please, don&#39;t respond with this important information in a comment, edit your question to add it along with the contents of your previous comment."},{"owner":{"account_id":27133398,"reputation":21,"user_id":20675278,"display_name":"Threast"},"score":0,"creation_date":1670357974,"post_id":74707006,"comment_id":131857198,"body_markdown":"Thank you, i already updated the question with those informations. I use the secp256k1 curve","body":"Thank you, i already updated the question with those informations. I use the secp256k1 curve"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1670359143,"post_id":74707006,"comment_id":131857559,"body_markdown":"JCA PrivateKey for secp256k1 from raw bytes of d = dupe https://stackoverflow.com/questions/68655241/how-do-i-create-a-privatekey-object-from-private-key-bytes and similar https://stackoverflow.com/questions/48832170/generate-ec-public-key-from-byte-array-private-key-in-native-java-7 . If you use `getInstance(&quot;EC&quot;)` (not `&quot;ECDSA&quot;`) in j7 up you don&#39;t need BouncyCastle provider. @PresidentJamesK.Polk: EdEC and XEC are for the Bernstein curves and algorithms, only, not SECG/X9/NIST curves like secp256k1.","body":"JCA PrivateKey for secp256k1 from raw bytes of d = dupe <a href=\"https://stackoverflow.com/questions/68655241/how-do-i-create-a-privatekey-object-from-private-key-bytes\" title=\"how do i create a privatekey object from private key bytes\">stackoverflow.com/questions/68655241/&hellip;</a> and similar <a href=\"https://stackoverflow.com/questions/48832170/generate-ec-public-key-from-byte-array-private-key-in-native-java-7\" title=\"generate ec public key from byte array private key in native java 7\">stackoverflow.com/questions/48832170/&hellip;</a> . If you use <code>getInstance(&quot;EC&quot;)</code> (not <code>&quot;ECDSA&quot;</code>) in j7 up you don&#39;t need BouncyCastle provider. @PresidentJamesK.Polk: EdEC and XEC are for the Bernstein curves and algorithms, only, not SECG/X9/NIST curves like secp256k1."}],"answers":[{"tags":[],"owner":{"account_id":26218746,"reputation":46,"user_id":19896523,"display_name":"Thriest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670361698,"creation_date":1670361698,"answer_id":74709157,"question_id":74707006,"body_markdown":"Try this to reproduce the privateKey from the decodedBytes:\r\n\r\n    \r\n     public static PrivateKey getPrivateKeyFromBytes( byte[] privateKey ){\r\n\t\tPrivateKey result;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec( CURVE_NAME );\r\n\t\t\tKeyFactory kf = KeyFactory.getInstance( ALGORITHM, PROVIDER );\r\n\t\t\tECNamedCurveSpec params =\r\n\t\t\t\tnew ECNamedCurveSpec( CURVE_NAME, spec.getCurve( ), spec.getG( ), spec.getN( ) );\r\n\t\t\tBigInteger s = new BigInteger(1, privateKey);\r\n\t\t\tECPrivateKeySpec pubKeySpec = new ECPrivateKeySpec(s, params);\r\n\t\t\tresult = kf.generatePrivate( pubKeySpec );\r\n\t\t}\r\n\t\tcatch ( Exception e )\r\n\t\t{\r\n\t\t\tresult = null;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}","title":"java.security.spec.InvalidKeySpecException: encoded key spec not recognized: failed to construct sequence from byte[] by generating ECDSA Signature","body":"<p>Try this to reproduce the privateKey from the decodedBytes:</p>\n<pre><code> public static PrivateKey getPrivateKeyFromBytes( byte[] privateKey ){\n    PrivateKey result;\n    try\n    {\n        ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec( CURVE_NAME );\n        KeyFactory kf = KeyFactory.getInstance( ALGORITHM, PROVIDER );\n        ECNamedCurveSpec params =\n            new ECNamedCurveSpec( CURVE_NAME, spec.getCurve( ), spec.getG( ), spec.getN( ) );\n        BigInteger s = new BigInteger(1, privateKey);\n        ECPrivateKeySpec pubKeySpec = new ECPrivateKeySpec(s, params);\n        result = kf.generatePrivate( pubKeySpec );\n    }\n    catch ( Exception e )\n    {\n        result = null;\n    }\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":27133398,"reputation":21,"user_id":20675278,"display_name":"Threast"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74709157,"answer_count":1,"score":0,"last_activity_date":1670361698,"creation_date":1670348943,"question_id":74707006,"body_markdown":"I created a simple UserInterface that allows a user to send a transaction, similar to bitcoin. Among other things, the user must enter his private key (this is already encoded!). However, I have difficulties to create a signature from it.\r\nMy private Key is decoded like this:\r\nSHA3Helper.digestToHex( ( ( BCECPrivateKey ) keyPair.getPrivate( ) ).getD( ).toByteArray( ) ) ); \r\nSHA3Helper is just to convert a byteArray to a String and acutally not very important here. I also use the secp256k1 elliptic curve. \r\nHere is the method I use to create the signature:\r\n```\r\npublic static byte[] GenerateSignature(String transaction, byte[] keyPriv) throws Exception {\r\n\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n\t\tbyte[] privateKeyBytes = keyPriv;\r\n\t\tKeyFactory kf = KeyFactory.getInstance(&quot;ECDSA&quot;);\r\n\t\tPrivateKey pKey = kf.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\r\n        Signature ecdsaSign = Signature.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n        ecdsaSign.initSign(pKey);\r\n        ecdsaSign.update(transaction.getBytes(&quot;UTF-8&quot;));\r\n        byte[] signature = ecdsaSign.sign();\r\n        System.out.println(signature.toString());\r\n        return signature;\r\n    }\r\n```\r\nHeres the simple method for reading the users input\r\n```\r\n@FXML\r\n    void submitPressed(ActionEvent event) {\r\n    \tSystem.out.println(&quot;Submit Pressed&quot;);\r\n    \tbyte[] sender = SHA3Helper.hexToDigest(senderField.getText());\r\n    \tbyte[] receiver = SHA3Helper.hexToDigest(receiverField.getText());\r\n    \tdouble amount = Double.parseDouble(amountField.getText());\r\n    \tdouble tfbp = Double.parseDouble(tfbpField.getText());\r\n    \tdouble tfl = Double.parseDouble(tflField.getText());\r\n    \tbyte[] privateKey = SHA3Helper.hexToDigest(keyField.getText());\r\n    \tTransaction transaction = new Transaction(sender, receiver, amount, 0, tfbp, tfl);\r\n    \tSystem.out.println(transaction.getAmount());\r\n    \ttry {\r\n\t\t\tbyte[] signature = SignatureHelper.GenerateSignature(transaction.asJSONString(), privateKey);\r\n\t\t\ttransaction.setSignature(signature);\r\n\t\t\tSystem.out.println(&quot;Signatur: &quot; + transaction.getSignature());\r\n\t\t} catch (Exception e) {\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \tDependencyManager.getPendingTransactions().addPendingTransaction(transaction);\r\n    \r\n    }\r\n```\r\n\r\nAs you can see, I convert the privateKey string directly into a byte array and pass this to my generateSignature method.\r\n\r\n\r\nFull Stack Trace:\r\n```\r\njava.security.spec.InvalidKeySpecException: encoded key spec not recognized: failed to construct sequence from byte[]: DEF length 112 object truncated by 82\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.util.BaseKeyFactorySpi.engineGeneratePrivate(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.ec.KeyFactorySpi.engineGeneratePrivate(Unknown Source)\r\n\tat java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:389)\r\n\tat main.utils.SignatureHelper.GenerateSignature(SignatureHelper.java:65)\r\n\tat main.Controller.submitPressed(Controller.java:50)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\r\n\tat javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.scene.control.Button.fire(Button.java:203)\r\n\tat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n```\r\n\r\n\r\n\r\nIt seems the error is probably in the conversion but I can&#39;t find it.","title":"java.security.spec.InvalidKeySpecException: encoded key spec not recognized: failed to construct sequence from byte[] by generating ECDSA Signature","body":"<p>I created a simple UserInterface that allows a user to send a transaction, similar to bitcoin. Among other things, the user must enter his private key (this is already encoded!). However, I have difficulties to create a signature from it.\nMy private Key is decoded like this:\nSHA3Helper.digestToHex( ( ( BCECPrivateKey ) keyPair.getPrivate( ) ).getD( ).toByteArray( ) ) );\nSHA3Helper is just to convert a byteArray to a String and acutally not very important here. I also use the secp256k1 elliptic curve.\nHere is the method I use to create the signature:</p>\n<pre><code>public static byte[] GenerateSignature(String transaction, byte[] keyPriv) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n        byte[] privateKeyBytes = keyPriv;\n        KeyFactory kf = KeyFactory.getInstance(&quot;ECDSA&quot;);\n        PrivateKey pKey = kf.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\n        Signature ecdsaSign = Signature.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\n        ecdsaSign.initSign(pKey);\n        ecdsaSign.update(transaction.getBytes(&quot;UTF-8&quot;));\n        byte[] signature = ecdsaSign.sign();\n        System.out.println(signature.toString());\n        return signature;\n    }\n</code></pre>\n<p>Heres the simple method for reading the users input</p>\n<pre><code>@FXML\n    void submitPressed(ActionEvent event) {\n        System.out.println(&quot;Submit Pressed&quot;);\n        byte[] sender = SHA3Helper.hexToDigest(senderField.getText());\n        byte[] receiver = SHA3Helper.hexToDigest(receiverField.getText());\n        double amount = Double.parseDouble(amountField.getText());\n        double tfbp = Double.parseDouble(tfbpField.getText());\n        double tfl = Double.parseDouble(tflField.getText());\n        byte[] privateKey = SHA3Helper.hexToDigest(keyField.getText());\n        Transaction transaction = new Transaction(sender, receiver, amount, 0, tfbp, tfl);\n        System.out.println(transaction.getAmount());\n        try {\n            byte[] signature = SignatureHelper.GenerateSignature(transaction.asJSONString(), privateKey);\n            transaction.setSignature(signature);\n            System.out.println(&quot;Signatur: &quot; + transaction.getSignature());\n        } catch (Exception e) {     \n            e.printStackTrace();\n        }\n        DependencyManager.getPendingTransactions().addPendingTransaction(transaction);\n    \n    }\n</code></pre>\n<p>As you can see, I convert the privateKey string directly into a byte array and pass this to my generateSignature method.</p>\n<p>Full Stack Trace:</p>\n<pre><code>java.security.spec.InvalidKeySpecException: encoded key spec not recognized: failed to construct sequence from byte[]: DEF length 112 object truncated by 82\n    at org.bouncycastle.jcajce.provider.asymmetric.util.BaseKeyFactorySpi.engineGeneratePrivate(Unknown Source)\n    at org.bouncycastle.jcajce.provider.asymmetric.ec.KeyFactorySpi.engineGeneratePrivate(Unknown Source)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:389)\n    at main.utils.SignatureHelper.GenerateSignature(SignatureHelper.java:65)\n    at main.Controller.submitPressed(Controller.java:50)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\n    at javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.scene.control.Button.fire(Button.java:203)\n    at com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>It seems the error is probably in the conversion but I can't find it.</p>\n"},{"tags":["java","scala","apache-spark","mapreduce"],"comments":[{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1670268116,"post_id":74688745,"comment_id":131832501,"body_markdown":"Java or scala? Df or rdd?","body":"Java or scala? Df or rdd?"},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1670268153,"post_id":74688745,"comment_id":131832508,"body_markdown":"Spark or hadoop?","body":"Spark or hadoop?"},{"owner":{"account_id":22734456,"reputation":63,"user_id":16896855,"display_name":"AppleCEO"},"score":1,"creation_date":1670326084,"post_id":74688745,"comment_id":131845568,"body_markdown":"Hi @thebluephantom Scala would be better.","body":"Hi @thebluephantom Scala would be better."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1670361420,"post_id":74688745,"comment_id":131858254,"body_markdown":"Did rdd with scala.","body":"Did rdd with scala."}],"answers":[{"tags":[],"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670361406,"creation_date":1670275841,"answer_id":74694624,"question_id":74688745,"body_markdown":"Here is an approach. Can be with DF or RDD. Here I show RDD using Databricks, as you do not state. Scala as well.\r\n\r\nIt&#39;s hard to explain, but works. Try some input.\r\n\r\n    %scala\r\n    val paths = Seq(&quot;/FileStore/tables/fff_1.txt&quot;, &quot;/FileStore/tables/fff_2.txt&quot;)\r\n    val rdd = spark.read.format(&quot;text&quot;).load(paths: _*).select(input_file_name, $&quot;value&quot;).as[(String, String)].rdd  \r\n    val rdd2 = rdd.flatMap(x=&gt;x._2.split(&quot;\\\\s+&quot;).map(y =&gt; ((x._1, y), 1)))\r\n    val rdd3 = rdd2.reduceByKey(_+_).map( { case (x, y) =&gt; (x._1, (x._2, y)) } )\r\n    rdd3.collect\r\n    val rdd4 = rdd3.groupByKey() \r\n    rdd4.collect","title":"How to efficiently WordCount for each file?","body":"<p>Here is an approach. Can be with DF or RDD. Here I show RDD using Databricks, as you do not state. Scala as well.</p>\n<p>It's hard to explain, but works. Try some input.</p>\n<pre><code>%scala\nval paths = Seq(&quot;/FileStore/tables/fff_1.txt&quot;, &quot;/FileStore/tables/fff_2.txt&quot;)\nval rdd = spark.read.format(&quot;text&quot;).load(paths: _*).select(input_file_name, $&quot;value&quot;).as[(String, String)].rdd  \nval rdd2 = rdd.flatMap(x=&gt;x._2.split(&quot;\\\\s+&quot;).map(y =&gt; ((x._1, y), 1)))\nval rdd3 = rdd2.reduceByKey(_+_).map( { case (x, y) =&gt; (x._1, (x._2, y)) } )\nrdd3.collect\nval rdd4 = rdd3.groupByKey() \nrdd4.collect\n</code></pre>\n"}],"owner":{"account_id":22734456,"reputation":63,"user_id":16896855,"display_name":"AppleCEO"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74694624,"answer_count":1,"score":1,"last_activity_date":1670361406,"creation_date":1670245834,"question_id":74688745,"body_markdown":"I have tens of thousands files in dir `demotxt` like\r\n~~~shell\r\ndemotxt/\r\n\taa.txt\r\n\t\t\tthis is aaa1\r\n\t\t\tthis is aaa2\r\n\t\t\tthis is aaa3\r\n \tbb.txt\r\n \t\t\tthis is bbb1\r\n\t\t\tthis is bbb2\r\n\t\t\tthis is bbb3\r\n\t\t\tthis is bbb4\r\n \tcc.txt\r\n\t\t \tthis is ccc1\r\n\t\t\tthis is ccc2\r\n~~~\r\nI would like to efficiently make a `WordCount` for **each** `.txt` in this dir with Spark2.4 (scala or python)\r\n\r\n~~~shell\r\n# target result is:\r\naa.txt:  (this,3), (is,3), (aaa1,1), (aaa2,1), (aaa3,1) \r\nbb.txt:  (this,3), (is,3), (bbb1,1), (bbb2,1), (bbb3,1) \r\ncc.txt:  (this,3), (is,3), (ccc1,1), (ccc2,1), (ccc3,1) \r\n~~~\r\n\r\ncode maybe like?\r\n~~~python\r\ndef dealWithOneFile(path2File):\r\n  res = wordcountFor(path2File)\r\n  saveResultToDB(res)\r\nsc.wholeTextFile(rooDir).map(dealWithOneFile)\r\n~~~\r\n\r\n\r\nSeems using `sc.textFile(&quot;.../demotxt/&quot;)` spark will load all files which may cause memory issues,also it treats all files as one which is not expected.\r\n\r\nSo I wonder how should I do this? Many Thanks!\r\n\r\n\r\n","title":"How to efficiently WordCount for each file?","body":"<p>I have tens of thousands files in dir <code>demotxt</code> like</p>\n<pre class=\"lang-bash prettyprint-override\"><code>demotxt/\n    aa.txt\n            this is aaa1\n            this is aaa2\n            this is aaa3\n    bb.txt\n            this is bbb1\n            this is bbb2\n            this is bbb3\n            this is bbb4\n    cc.txt\n            this is ccc1\n            this is ccc2\n</code></pre>\n<p>I would like to efficiently make a <code>WordCount</code> for <strong>each</strong> <code>.txt</code> in this dir with Spark2.4 (scala or python)</p>\n<pre class=\"lang-bash prettyprint-override\"><code># target result is:\naa.txt:  (this,3), (is,3), (aaa1,1), (aaa2,1), (aaa3,1) \nbb.txt:  (this,3), (is,3), (bbb1,1), (bbb2,1), (bbb3,1) \ncc.txt:  (this,3), (is,3), (ccc1,1), (ccc2,1), (ccc3,1) \n</code></pre>\n<p>code maybe like?</p>\n<pre class=\"lang-py prettyprint-override\"><code>def dealWithOneFile(path2File):\n  res = wordcountFor(path2File)\n  saveResultToDB(res)\nsc.wholeTextFile(rooDir).map(dealWithOneFile)\n</code></pre>\n<p>Seems using <code>sc.textFile(&quot;.../demotxt/&quot;)</code> spark will load all files which may cause memory issues,also it treats all files as one which is not expected.</p>\n<p>So I wonder how should I do this? Many Thanks!</p>\n"},{"tags":["java","maven","sonarqube","sonarqube-scan"],"answers":[{"tags":[],"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670361235,"creation_date":1670361235,"answer_id":74709104,"question_id":74708821,"body_markdown":"You can use sonar.exclusions in your pom.xml to exclude your jar-directory :\r\n\r\n    &lt;properties&gt;\r\n        &lt;sonar.exclusions&gt;${project.basedir}/path/to/abc-xyz.jar&lt;/sonar.exclusions&gt;\r\n    &lt;properties&gt;\r\n\r\nYou might also try to define the property &lt;sonar.skip&gt;true&lt;/sonar.skip&gt; in the pom.xml of the module you want to exclude.\r\n\r\nOr try advanced reactor options like so: `mvn sonar:sonar -pl !${project.basedir}/path/to/abc-xyz.jar`.\r\n\r\n","title":"How to exclude locally installed dependency from remote sonar scan","body":"<p>You can use sonar.exclusions in your pom.xml to exclude your jar-directory :</p>\n<pre><code>&lt;properties&gt;\n    &lt;sonar.exclusions&gt;${project.basedir}/path/to/abc-xyz.jar&lt;/sonar.exclusions&gt;\n&lt;properties&gt;\n</code></pre>\n<p>You might also try to define the property &lt;sonar.skip&gt;true&lt;/sonar.skip&gt; in the pom.xml of the module you want to exclude.</p>\n<p>Or try advanced reactor options like so: <code>mvn sonar:sonar -pl !${project.basedir}/path/to/abc-xyz.jar</code>.</p>\n"}],"owner":{"account_id":1230591,"reputation":137,"user_id":1195286,"display_name":"Krupal Ghorpade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670361235,"creation_date":1670359387,"question_id":74708821,"body_markdown":"My POM looks like this --&gt;\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.abc.xyz&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xyz&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nI have installed abc.xyz jar locally inside .m2 and is not available on mvn artifactory.\r\nWhen I try to scan my code using sonar scanner installed on remote server, it tries to download abc-xyz.jar from maven artifactory &amp; fails.\r\nHow do I make my remote sonar happy?\r\n\r\nI tried giving scope as system but I see that it is deprecated.\r\nTried following \r\n```\r\n &lt;scope&gt;system&lt;/scope&gt;\r\n &lt;systemPath&gt;${project.basedir}/path/to/abc-xyz.jar&lt;/systemPath&gt;\r\n``` ","title":"How to exclude locally installed dependency from remote sonar scan","body":"<p>My POM looks like this --&gt;</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.abc.xyz&lt;/groupId&gt;\n      &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have installed abc.xyz jar locally inside .m2 and is not available on mvn artifactory.\nWhen I try to scan my code using sonar scanner installed on remote server, it tries to download abc-xyz.jar from maven artifactory &amp; fails.\nHow do I make my remote sonar happy?</p>\n<p>I tried giving scope as system but I see that it is deprecated.\nTried following</p>\n<pre><code> &lt;scope&gt;system&lt;/scope&gt;\n &lt;systemPath&gt;${project.basedir}/path/to/abc-xyz.jar&lt;/systemPath&gt;\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-7","java-9"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":29,"creation_date":1536747943,"post_id":52292953,"comment_id":91533647,"body_markdown":"It&#39;s a `Runnable` that does nothing.","body":"It&#39;s a <code>Runnable</code> that does nothing."},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1536748026,"post_id":52292953,"comment_id":91533703,"body_markdown":"first argument is runnable, so you are passing anonymous class of instance Runnable in which run method does nothing i.e. is empty.","body":"first argument is runnable, so you are passing anonymous class of instance Runnable in which run method does nothing i.e. is empty."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":4,"creation_date":1536748318,"post_id":52292953,"comment_id":91533874,"body_markdown":"without lambda, you would need to pass an anonymous Runnable with empty body, like `new Runnable(){ @Override public void run(){} }`","body":"without lambda, you would need to pass an anonymous Runnable with empty body, like <code>new Runnable(){ @Override public void run(){} }</code>"}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1536774618,"creation_date":1536748043,"answer_id":52293006,"question_id":52292953,"body_markdown":"&lt;span&gt;&lt;/span&gt;Its a [`Runnable`](https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html) with an empty `run` definition. The anonymous class representation of this would be:\r\n\r\n    new Runnable() {\r\n         @Override public void run() {\r\n              // could have done something here\r\n         }\r\n    }","title":"Meaning of lambda () -&gt; { } in Java","body":"<p>Its a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\" rel=\"noreferrer\"><code>Runnable</code></a> with an empty <code>run</code> definition. The anonymous class representation of this would be:</p>\n\n<pre><code>new Runnable() {\n     @Override public void run() {\n          // could have done something here\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11491931,"reputation":129,"user_id":8422596,"display_name":"Archit Sud"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1575397063,"creation_date":1536748240,"answer_id":52293056,"question_id":52292953,"body_markdown":"Lambda expressions basically express instances of functional interfaces. \r\nIn a way Lambda expression will be: (lambda operator params) -&gt; {body}\r\n\r\n() -&gt; System.out.println(&quot;This means Lambda expression is not taking any parameters&quot;);\r\n\r\n(p) -&gt; System.out.println(&quot;Lambda expression with one parameter: &quot; + p);","title":"Meaning of lambda () -&gt; { } in Java","body":"<p>Lambda expressions basically express instances of functional interfaces. \nIn a way Lambda expression will be: (lambda operator params) -> {body}</p>\n\n<p>() -> System.out.println(\"This means Lambda expression is not taking any parameters\");</p>\n\n<p>(p) -> System.out.println(\"Lambda expression with one parameter: \" + p);</p>\n"},{"tags":[],"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536748267,"creation_date":1536748267,"answer_id":52293068,"question_id":52292953,"body_markdown":"For lambdas:\r\n\r\nLeft side is arguments, what you take. Enclosed in `()` are all the arguments this function takes\r\n\r\n`-&gt;` indicates that it&#39;s a function that takes what&#39;s on the left and passes it on to the right for processing\r\n\r\nRight side is the body - what the lambda does. Enclosed in `{}` is everything this function does\r\n\r\nAfter you figure that out you only need to know that that construction passes an instance of matching class (look at what&#39;s the expected argument type in the `schedule()` call) with it&#39;s only method doing exactly the same as the lambda expression we&#39;ve just analyzed.","title":"Meaning of lambda () -&gt; { } in Java","body":"<p>For lambdas:</p>\n\n<p>Left side is arguments, what you take. Enclosed in <code>()</code> are all the arguments this function takes</p>\n\n<p><code>-&gt;</code> indicates that it's a function that takes what's on the left and passes it on to the right for processing</p>\n\n<p>Right side is the body - what the lambda does. Enclosed in <code>{}</code> is everything this function does</p>\n\n<p>After you figure that out you only need to know that that construction passes an instance of matching class (look at what's the expected argument type in the <code>schedule()</code> call) with it's only method doing exactly the same as the lambda expression we've just analyzed.</p>\n"},{"tags":[],"owner":{"account_id":10827633,"reputation":175,"user_id":7963079,"display_name":"Prashant Goswami"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1536754915,"creation_date":1536748283,"answer_id":52293070,"question_id":52292953,"body_markdown":"Lamda expression is an anonymous function that allows you to pass methods as arguments or simply, a mechanism that helps you remove a lot of boilerplate code. They have no access modifier(private, public or protected), no return type declaration and no name.\r\n\r\nLets take a look at this example.\r\n\r\n`(int a, int b) -&gt; {return a &gt; b}`\r\n\r\nIn your case, you can do something like below:\r\n\r\n    schedulerFuture = taskScheduler.schedule(new Runnable() {\r\n         @Override \r\n    \t public void run() {\r\n            // task details\r\n         }\r\n    }, this);","title":"Meaning of lambda () -&gt; { } in Java","body":"<p>Lamda expression is an anonymous function that allows you to pass methods as arguments or simply, a mechanism that helps you remove a lot of boilerplate code. They have no access modifier(private, public or protected), no return type declaration and no name.</p>\n\n<p>Lets take a look at this example.</p>\n\n<p><code>(int a, int b) -&gt; {return a &gt; b}</code></p>\n\n<p>In your case, you can do something like below:</p>\n\n<pre><code>schedulerFuture = taskScheduler.schedule(new Runnable() {\n     @Override \n     public void run() {\n        // task details\n     }\n}, this);\n</code></pre>\n"}],"owner":{"account_id":4249479,"reputation":1269,"user_id":3477044,"accept_rate":42,"display_name":"Aliuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7335,"favorite_count":0,"down_vote_count":6,"up_vote_count":31,"accepted_answer_id":52293006,"answer_count":4,"score":25,"last_activity_date":1670360934,"creation_date":1536747872,"question_id":52292953,"body_markdown":"I am looking at the following Stack Overflow answer:\r\nhttps://stackoverflow.com/questions/15250928/how-to-change-springs-scheduled-fixeddelay-at-runtime/51333059#51333059\r\n\r\nAnd in the code there is the following line:\r\n\r\n    schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\r\n\r\nI would like to know what the lambda `() -&gt; {}` means in that code. I need to write it without using lambdas.","title":"Meaning of lambda () -&gt; { } in Java","body":"<p>I am looking at the following Stack Overflow answer:\n<a href=\"https://stackoverflow.com/questions/15250928/how-to-change-springs-scheduled-fixeddelay-at-runtime/51333059#51333059\">How to change Spring&#39;s @Scheduled fixedDelay at runtime</a></p>\n\n<p>And in the code there is the following line:</p>\n\n<pre><code>schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\n</code></pre>\n\n<p>I would like to know what the lambda <code>() -&gt; {}</code> means in that code. I need to write it without using lambdas.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595231603,"creation_date":1595231603,"answer_id":62990919,"question_id":62973127,"body_markdown":"You can set below property to check the debug logs \r\n\r\n    System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);\r\n\r\n**Example for Windows OS:**\r\n\r\nIf any existing chrome process is running and you have open new instance of chrome using \r\n\r\n    &gt; chrome.exe --remote-debugging-port=9222\r\n\r\nthen you may get below logs while executing the selenium script in question\r\n\r\n\r\n\r\n    [DEBUG]: DevTools HTTP Request: http://localhost:9222/json/version\r\n    [DEBUG]: DevTools HTTP Request failed\r\n\r\n\r\n\r\nTo open the clean instance of chrome browser for debugging \r\n\r\n &gt; chrome.exe --remote-debugging-port=9222 --no-first-run --no-default-browser-check --user-data-dir=&quot;D:\\remotedebugfolder&quot;\r\n\r\nNow run the selenium with \r\n\r\n    options.setExperimentalOption(&quot;debuggerAddress&quot;,&quot;localhost:9222&quot;);","title":"Selenium Chrome DevTools: Unknown error: cannot connect to chrome at localhost:6666 from chrome not reachable","body":"<p>You can set below property to check the debug logs</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);\n</code></pre>\n<p><strong>Example for Windows OS:</strong></p>\n<p>If any existing chrome process is running and you have open new instance of chrome using</p>\n<pre><code>&gt; chrome.exe --remote-debugging-port=9222\n</code></pre>\n<p>then you may get below logs while executing the selenium script in question</p>\n<pre><code>[DEBUG]: DevTools HTTP Request: http://localhost:9222/json/version\n[DEBUG]: DevTools HTTP Request failed\n</code></pre>\n<p>To open the clean instance of chrome browser for debugging</p>\n<blockquote>\n<p>chrome.exe --remote-debugging-port=9222 --no-first-run --no-default-browser-check --user-data-dir=&quot;D:\\remotedebugfolder&quot;</p>\n</blockquote>\n<p>Now run the selenium with</p>\n<pre><code>options.setExperimentalOption(&quot;debuggerAddress&quot;,&quot;localhost:9222&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670360733,"creation_date":1621348410,"answer_id":67588404,"question_id":62973127,"body_markdown":"On my case this was due because I was using a port (6666) to start my chrome in debug mode, which is restricted according to : **restricted [Unsafe] ports list on Chrome**\r\n\r\n    6665,    // Alternate IRC [Apple addition]\r\n    6666,    // Alternate IRC [Apple addition]\r\n    6667,    // Standard IRC [Apple addition]\r\n\r\nA complete chrome list is [here](https://superuser.com/a/188070/881022) and [here](https://chromium.googlesource.com/chromium/src.git/+/refs/heads/main/net/base/port_util.cc). Firefox allowed ports [here](https://www-archive.mozilla.org/projects/netlib/portbanning#portlist). Also how to force to allow some ports, [here](https://superuser.com/questions/188006/how-to-fix-err-unsafe-port-error-on-chrome-when-browsing-to-unsafe-ports)\r\n\r\n### Steps to identify the error\r\n\r\n- If I startup my chrome in debug mode at port **wxyz**. I need to validate if this port is correctly used by chrome or just if this port is listening. \r\n- Port listening could be validated using `telnet localhost wxyz` or in windows with `nc -zvv localhost wxyz`\r\n- I found another option to validate if chrome has started successfully using this port. It was a kind of http like `http://localhost:wxyz/json/version`. If port is listening, a json response is received. If due to some issue like not allowed ports, chrome is not picking this port, `http://localhost:wxyz/json/version` returns an error. If I found the real endpoint I will update this answer.\r\n\r\nIf port is listening correctly, another low level error is the reason:\r\n\r\n- Just check your java code to point to exact port.\r\n- Driver exact version. Selenium is very sensitive to the drivers version.\r\n- Used browser version compatible with driver version.\r\n- Try on linux. In windows some unexpected errors appear.\r\n","title":"Selenium Chrome DevTools: Unknown error: cannot connect to chrome at localhost:6666 from chrome not reachable","body":"<p>On my case this was due because I was using a port (6666) to start my chrome in debug mode, which is restricted according to : <strong>restricted [Unsafe] ports list on Chrome</strong></p>\n<pre><code>6665,    // Alternate IRC [Apple addition]\n6666,    // Alternate IRC [Apple addition]\n6667,    // Standard IRC [Apple addition]\n</code></pre>\n<p>A complete chrome list is <a href=\"https://superuser.com/a/188070/881022\">here</a> and <a href=\"https://chromium.googlesource.com/chromium/src.git/+/refs/heads/main/net/base/port_util.cc\" rel=\"nofollow noreferrer\">here</a>. Firefox allowed ports <a href=\"https://www-archive.mozilla.org/projects/netlib/portbanning#portlist\" rel=\"nofollow noreferrer\">here</a>. Also how to force to allow some ports, <a href=\"https://superuser.com/questions/188006/how-to-fix-err-unsafe-port-error-on-chrome-when-browsing-to-unsafe-ports\">here</a></p>\n<h3>Steps to identify the error</h3>\n<ul>\n<li>If I startup my chrome in debug mode at port <strong>wxyz</strong>. I need to validate if this port is correctly used by chrome or just if this port is listening.</li>\n<li>Port listening could be validated using <code>telnet localhost wxyz</code> or in windows with <code>nc -zvv localhost wxyz</code></li>\n<li>I found another option to validate if chrome has started successfully using this port. It was a kind of http like <code>http://localhost:wxyz/json/version</code>. If port is listening, a json response is received. If due to some issue like not allowed ports, chrome is not picking this port, <code>http://localhost:wxyz/json/version</code> returns an error. If I found the real endpoint I will update this answer.</li>\n</ul>\n<p>If port is listening correctly, another low level error is the reason:</p>\n<ul>\n<li>Just check your java code to point to exact port.</li>\n<li>Driver exact version. Selenium is very sensitive to the drivers version.</li>\n<li>Used browser version compatible with driver version.</li>\n<li>Try on linux. In windows some unexpected errors appear.</li>\n</ul>\n"}],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10300,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670360733,"creation_date":1595101780,"question_id":62973127,"body_markdown":"I&#39;m trying to execute my selenium automation in a chrome which is already open.\r\n\r\nI follow these steps: https://medium.com/@harith.sankalpa/connect-selenium-driver-to-an-existing-chrome-browser-instance-41435b67affd\r\n\r\nI open a chrome with this line:\r\n\r\n    /opt/google/chrome/chrome --remote-debugging-port=6666\r\n\r\nThis is my java code\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/../chromedriver&quot;);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;debuggerAddress&quot;,&quot;localhost:6666&quot;);\r\n    // Initialize browser\r\n    WebDriver driver = new ChromeDriver(options);\r\n    // Open Google\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n    WebElement searchBox = driver.findElement(By.name(&quot;q&quot;));\r\n    searchBox.sendKeys(&quot;jrichardsz&quot;);    \r\n    // Close browser\r\n    driver.close();\r\n\r\nWhen I run this code I get this log:\r\n\r\n    Starting ChromeDriver 84.0.4147.30 (48b3e868c0aa7e814951969b4c0b6f6949e110a8-refs/branch-heads/4147@{#310}) on port 12155\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n\r\nAnd after some seconds  I get: **chrome not reachable** error\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: cannot connect to chrome at localhost:6666\r\n    from chrome not reachable\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;jane_doe&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;***&#39;, java.version: &#39;1.8.0_151&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    remote stacktrace: #0 0x556168a87ea9 &lt;unknown&gt;\r\n    \r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\r\n    \tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n    \tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n    \tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:157)\r\n    \tat OpenedChrome.main(OpenedChrome.java:24)\r\n\r\nI tried also with chromiun and opera and I get the same error.\r\n\r\nMy chrome is opened but java cannot connect to it.\r\n\r\nI reviewed these links unlucky\r\n\r\n- https://stackoverflow.com/questions/45170002/headless-chrome-chrome-not-reachable\r\n- https://stackoverflow.com/questions/30978504/webdriverexception-chrome-not-reachable\r\n- https://stackoverflow.com/questions/16178753/chrome-not-reachable","title":"Selenium Chrome DevTools: Unknown error: cannot connect to chrome at localhost:6666 from chrome not reachable","body":"<p>I'm trying to execute my selenium automation in a chrome which is already open.</p>\n<p>I follow these steps: <a href=\"https://medium.com/@harith.sankalpa/connect-selenium-driver-to-an-existing-chrome-browser-instance-41435b67affd\" rel=\"nofollow noreferrer\">https://medium.com/@harith.sankalpa/connect-selenium-driver-to-an-existing-chrome-browser-instance-41435b67affd</a></p>\n<p>I open a chrome with this line:</p>\n<pre><code>/opt/google/chrome/chrome --remote-debugging-port=6666\n</code></pre>\n<p>This is my java code</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/../chromedriver&quot;);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;debuggerAddress&quot;,&quot;localhost:6666&quot;);\n// Initialize browser\nWebDriver driver = new ChromeDriver(options);\n// Open Google\ndriver.get(&quot;http://www.google.com&quot;);\nWebElement searchBox = driver.findElement(By.name(&quot;q&quot;));\nsearchBox.sendKeys(&quot;jrichardsz&quot;);    \n// Close browser\ndriver.close();\n</code></pre>\n<p>When I run this code I get this log:</p>\n<pre><code>Starting ChromeDriver 84.0.4147.30 (48b3e868c0aa7e814951969b4c0b6f6949e110a8-refs/branch-heads/4147@{#310}) on port 12155\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n</code></pre>\n<p>And after some seconds  I get: <strong>chrome not reachable</strong> error</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: cannot connect to chrome at localhost:6666\nfrom chrome not reachable\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'jane_doe', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '***', java.version: '1.8.0_151'\nDriver info: driver.version: ChromeDriver\nremote stacktrace: #0 0x556168a87ea9 &lt;unknown&gt;\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:157)\n    at OpenedChrome.main(OpenedChrome.java:24)\n</code></pre>\n<p>I tried also with chromiun and opera and I get the same error.</p>\n<p>My chrome is opened but java cannot connect to it.</p>\n<p>I reviewed these links unlucky</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45170002/headless-chrome-chrome-not-reachable\">Headless chrome: chrome not reachable</a></li>\n<li><a href=\"https://stackoverflow.com/questions/30978504/webdriverexception-chrome-not-reachable\">WebDriverException: chrome not reachable</a></li>\n<li><a href=\"https://stackoverflow.com/questions/16178753/chrome-not-reachable\">Chrome not reachable</a></li>\n</ul>\n"},{"tags":["java","testing","software-design"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1517258245,"post_id":48509510,"comment_id":84014027,"body_markdown":"Based on question, I would suggest that the JVM is still running after the window(s) are closed, using both `HIDE_ON_CLOSE` and `DISPOSE_ON_CLOSE` can do this (assuming that there is at least one non-daemon thread still running). In this situation there really isn&#39;t a way to get the window(s) to reappear, as you can link into any functionality that would tell you that the user has &quot;clicked&quot; on the dock item - although there &quot;might&quot; be away to do it under MacOS, but since it&#39;s platform specific I&#39;m not sure it would be a solution","body":"Based on question, I would suggest that the JVM is still running after the window(s) are closed, using both <code>HIDE_ON_CLOSE</code> and <code>DISPOSE_ON_CLOSE</code> can do this (assuming that there is at least one non-daemon thread still running). In this situation there really isn&#39;t a way to get the window(s) to reappear, as you can link into any functionality that would tell you that the user has &quot;clicked&quot; on the dock item - although there &quot;might&quot; be away to do it under MacOS, but since it&#39;s platform specific I&#39;m not sure it would be a solution"}],"answers":[{"tags":[],"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517259330,"creation_date":1517259330,"answer_id":48509818,"question_id":48509510,"body_markdown":"To minimize instead of close, use `JFrame.DO_NOTHING_ON_CLOSE` and handle the close request\r\n\r\n    frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n    frame.addWindowListener(new WindowAdapter()\r\n    {\r\n        public void windowClosing(WindowEvent e)\r\n        {\r\n            frame.setExtendedState(JFrame.ICONIFIED);\r\n        }\r\n    });\r\n\r\nThis will minimize the frame, then the user can click the icon on the taskbar to restore","title":"Reopen Java window after hiding it on close","body":"<p>To minimize instead of close, use <code>JFrame.DO_NOTHING_ON_CLOSE</code> and handle the close request</p>\n\n<pre><code>frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\nframe.addWindowListener(new WindowAdapter()\n{\n    public void windowClosing(WindowEvent e)\n    {\n        frame.setExtendedState(JFrame.ICONIFIED);\n    }\n});\n</code></pre>\n\n<p>This will minimize the frame, then the user can click the icon on the taskbar to restore</p>\n"},{"tags":[],"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517420043,"creation_date":1517420043,"answer_id":48548194,"question_id":48509510,"body_markdown":"As described, it sounds like you will want two processes, one to render and one to process data\r\n\r\n  - **Client** (render)\r\n     - Needs to connect to the server\r\n        - If the server is not running, start the server and connect\r\n           - Server should be started as a service, background process, or could run on another machine _(in the example I ran it as a background process)_\r\n     - Display data received from the server\r\n     - Sends commands from the user to the server\r\n  - **Server** (process)\r\n     - Will not close unless instructed to\r\n     - Accepts connections from clients\r\n        - If only one client at a time is allowed, reject new connections until client disconnects\r\n        - If running locally to the client, the port should only accept local connects\r\n     - Sends data to the client to be displayed\r\n     - Receives commands from the client\r\n\r\nTo demonstrate this, I put together some sample code\r\n\r\nCompile both in the same folder and run TestClient\r\n\r\n**TestClient.java**\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.Socket;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    \r\n    public class TestClient\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            Socket socket = null;\r\n            try\r\n            {\r\n                System.out.println(&quot;Connecting to backend&quot;);\r\n                socket = new Socket(&quot;localhost&quot;, 28000); //check if backend is running\r\n            }\r\n            catch(IOException e) //backend isn&#39;t running\r\n            {\r\n                System.out.println(&quot;Backend isn&#39;t running&quot;);\r\n                System.out.println(&quot;Starting backend&quot;);\r\n                Runtime.getRuntime().exec(&quot;cmd /c java TestServer&quot;); //start the backend\r\n                for(int i = 0; i &lt; 10; i++) //attempt to connect\r\n                {\r\n                    Thread.sleep(500);\r\n                    System.out.println(&quot;Attempting connection &quot; + i);\r\n                    try\r\n                    {\r\n                        socket = new Socket(&quot;localhost&quot;, 28000);\r\n                        break;\r\n                    }\r\n                    catch(IOException ex){}\r\n                }\r\n            }\r\n            \r\n            if(socket == null)\r\n            {\r\n                System.err.println(&quot;Could not start/connect to the backend&quot;);\r\n                System.exit(1);\r\n            }\r\n            \r\n            System.out.println(&quot;Connected&quot;);\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            \r\n            String line = reader.readLine();\r\n            System.out.println(&quot;read &quot; + line);\r\n            if(line.equals(&quot;refused&quot;)) //already a client connected\r\n            {\r\n                System.err.println(&quot;Already a client connected to the backend&quot;);\r\n                System.exit(1);\r\n            }\r\n            \r\n            //set up the GUI\r\n            JFrame frame = new JFrame(&quot;TestClient&quot;);\r\n            frame.setLayout(new GridBagLayout());\r\n            GridBagConstraints c = new GridBagConstraints();\r\n            \r\n            JLabel label = new JLabel(line);\r\n            c.gridx = 0;\r\n            c.gridy = 0;\r\n            c.gridwidth = 4;\r\n            frame.add(label, c);\r\n            \r\n            String[] buttonLabels = {&quot;A&quot;, &quot;B&quot;, &quot;Quit&quot;};\r\n            ActionListener listener = new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    System.out.println(e.getActionCommand());\r\n                    try\r\n                    {\r\n                        switch(e.getActionCommand())\r\n                        {\r\n                            case &quot;A&quot;:\r\n                                writer.write(&quot;A&quot;);\r\n                                writer.newLine();\r\n                                writer.flush();\r\n                                break;\r\n                            case &quot;B&quot;:\r\n                                writer.write(&quot;B&quot;);\r\n                                writer.newLine();\r\n                                writer.flush();\r\n                                break;\r\n                            case &quot;Quit&quot;:\r\n                                writer.write(&quot;Quit&quot;);\r\n                                writer.newLine();\r\n                                writer.flush();\r\n                                System.exit(0);\r\n                                break;\r\n                        }\r\n                    }\r\n                    catch(IOException ex)\r\n                    {\r\n                        ex.printStackTrace();\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            };\r\n            \r\n            c.gridy = 1;\r\n            c.gridx = GridBagConstraints.RELATIVE;\r\n            c.gridwidth = 1;\r\n            for(String s : buttonLabels)\r\n            {\r\n                JButton button = new JButton(s);\r\n                button.addActionListener(listener);\r\n                frame.add(button, c);\r\n            }\r\n            \r\n            //start a thread to listen to the server\r\n            new Thread(new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    try\r\n                    {\r\n                        for(String line = reader.readLine(); line != null; line = reader.readLine())\r\n                            label.setText(line);\r\n                    }\r\n                    catch(IOException e)\r\n                    {\r\n                        System.out.println(&quot;Lost connection with server (probably server closed)&quot;);\r\n                        e.printStackTrace();\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            }).start();\r\n            \r\n            //display the gui\r\n            System.out.println(&quot;Displaying&quot;);\r\n            frame.pack();\r\n            frame.setResizable(false);\r\n            frame.setLocationByPlatform(true);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n**TestServer.java**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.InetAddress;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Queue;\r\n    \r\n    public class TestServer\r\n    {\r\n        private static boolean multipleClients = true;\r\n        private static List&lt;Client&gt; clients = new ArrayList&lt;Client&gt;();\r\n        \r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            System.out.println(&quot;did the thing&quot;);\r\n            ServerSocket ss = new ServerSocket(28000, 0, InetAddress.getByName(null));\r\n            int[] index = {0}; //array so threads can access\r\n            char[] data = {&#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;};\r\n            \r\n            //start accepting connections\r\n            new Thread(new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    while(true)\r\n                    {\r\n                        try\r\n                        {\r\n                            Client c = new Client(ss.accept());\r\n                            if(multipleClients || clients.isEmpty())\r\n                            {\r\n                                System.out.println(&quot;writing &quot; + new String(data));\r\n                                c.write(displayData(data, index[0])); //write initial data\r\n                                synchronized(clients)\r\n                                {\r\n                                    clients.add(c);\r\n                                }\r\n                            }\r\n                            else\r\n                                c.write(&quot;refused&quot;);\r\n                        }\r\n                        catch(IOException e)\r\n                        {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }).start();\r\n            \r\n            //read and write to clients\r\n            String msg = null;\r\n            while(true)\r\n            {\r\n                //read changes\r\n                synchronized(clients)\r\n                {\r\n                    for(Client c : clients)\r\n                        if((msg = c.read()) != null)\r\n                        {\r\n                            switch(msg)\r\n                            {\r\n                                case &quot;A&quot;:\r\n                                    data[index[0]++] = &#39;A&#39;;\r\n                                    break;\r\n                                case &quot;B&quot;:\r\n                                    data[index[0]++] = &#39;B&#39;;\r\n                                    break;\r\n                                case &quot;Quit&quot;:\r\n                                    System.exit(0);\r\n                                    break;\r\n                            }\r\n                            index[0] %= data.length;\r\n                            for(Client C : clients)\r\n                                C.write(displayData(data, index[0]));\r\n                        }\r\n                }\r\n                Thread.sleep(50);\r\n            }\r\n        }\r\n        \r\n        private static String displayData(char[] data, int i)\r\n        {\r\n            return &quot;&lt;html&gt;&quot; + new String(data, 0, i) + &quot;&lt;u&gt;&quot; + data[i] + &quot;&lt;/u&gt;&quot; + new String(data, i + 1, data.length - i - 1) + &quot;&lt;/html&gt;&quot;;\r\n        }\r\n        \r\n        private static class Client\r\n        {\r\n            private BufferedReader reader;\r\n            private BufferedWriter writer;\r\n            private Queue&lt;String&gt; readBuffer;\r\n            private Client me;\r\n            \r\n            public Client(Socket s) throws IOException\r\n            {\r\n                reader = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                writer = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n                readBuffer = new LinkedList&lt;String&gt;();\r\n                me = this;\r\n                \r\n                new Thread(new Runnable()\r\n                {\r\n                    public void run()\r\n                    {\r\n                        try\r\n                        {\r\n                            for(String line = reader.readLine(); line != null; line = reader.readLine())\r\n                                readBuffer.add(line);\r\n                        }\r\n                        catch(IOException e)\r\n                        {\r\n                            System.out.println(&quot;Client disconnected&quot;);\r\n                            e.printStackTrace();\r\n                            synchronized(clients)\r\n                            {\r\n                                clients.remove(me); //remove(this) attempts to remove runnable from clients\r\n                            }\r\n                            System.out.println(&quot;removed &quot; + clients.isEmpty());\r\n                        }\r\n                    }\r\n                }).start();\r\n            }\r\n            \r\n            public String read()\r\n            {\r\n                return readBuffer.poll();\r\n            }\r\n            \r\n            public void write(String s)\r\n            {\r\n                try\r\n                {\r\n                    writer.write(s);\r\n                    writer.newLine();\r\n                    writer.flush();\r\n                }\r\n                catch(IOException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }","title":"Reopen Java window after hiding it on close","body":"<p>As described, it sounds like you will want two processes, one to render and one to process data</p>\n\n<ul>\n<li><strong>Client</strong> (render)\n\n<ul>\n<li>Needs to connect to the server\n\n<ul>\n<li>If the server is not running, start the server and connect\n\n<ul>\n<li>Server should be started as a service, background process, or could run on another machine <em>(in the example I ran it as a background process)</em></li>\n</ul></li>\n</ul></li>\n<li>Display data received from the server</li>\n<li>Sends commands from the user to the server</li>\n</ul></li>\n<li><strong>Server</strong> (process)\n\n<ul>\n<li>Will not close unless instructed to</li>\n<li>Accepts connections from clients\n\n<ul>\n<li>If only one client at a time is allowed, reject new connections until client disconnects</li>\n<li>If running locally to the client, the port should only accept local connects</li>\n</ul></li>\n<li>Sends data to the client to be displayed</li>\n<li>Receives commands from the client</li>\n</ul></li>\n</ul>\n\n<p>To demonstrate this, I put together some sample code</p>\n\n<p>Compile both in the same folder and run TestClient</p>\n\n<p><strong>TestClient.java</strong></p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class TestClient\n{\n    public static void main(String[] args) throws Exception\n    {\n        Socket socket = null;\n        try\n        {\n            System.out.println(\"Connecting to backend\");\n            socket = new Socket(\"localhost\", 28000); //check if backend is running\n        }\n        catch(IOException e) //backend isn't running\n        {\n            System.out.println(\"Backend isn't running\");\n            System.out.println(\"Starting backend\");\n            Runtime.getRuntime().exec(\"cmd /c java TestServer\"); //start the backend\n            for(int i = 0; i &lt; 10; i++) //attempt to connect\n            {\n                Thread.sleep(500);\n                System.out.println(\"Attempting connection \" + i);\n                try\n                {\n                    socket = new Socket(\"localhost\", 28000);\n                    break;\n                }\n                catch(IOException ex){}\n            }\n        }\n\n        if(socket == null)\n        {\n            System.err.println(\"Could not start/connect to the backend\");\n            System.exit(1);\n        }\n\n        System.out.println(\"Connected\");\n        BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n\n        String line = reader.readLine();\n        System.out.println(\"read \" + line);\n        if(line.equals(\"refused\")) //already a client connected\n        {\n            System.err.println(\"Already a client connected to the backend\");\n            System.exit(1);\n        }\n\n        //set up the GUI\n        JFrame frame = new JFrame(\"TestClient\");\n        frame.setLayout(new GridBagLayout());\n        GridBagConstraints c = new GridBagConstraints();\n\n        JLabel label = new JLabel(line);\n        c.gridx = 0;\n        c.gridy = 0;\n        c.gridwidth = 4;\n        frame.add(label, c);\n\n        String[] buttonLabels = {\"A\", \"B\", \"Quit\"};\n        ActionListener listener = new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                System.out.println(e.getActionCommand());\n                try\n                {\n                    switch(e.getActionCommand())\n                    {\n                        case \"A\":\n                            writer.write(\"A\");\n                            writer.newLine();\n                            writer.flush();\n                            break;\n                        case \"B\":\n                            writer.write(\"B\");\n                            writer.newLine();\n                            writer.flush();\n                            break;\n                        case \"Quit\":\n                            writer.write(\"Quit\");\n                            writer.newLine();\n                            writer.flush();\n                            System.exit(0);\n                            break;\n                    }\n                }\n                catch(IOException ex)\n                {\n                    ex.printStackTrace();\n                    System.exit(1);\n                }\n            }\n        };\n\n        c.gridy = 1;\n        c.gridx = GridBagConstraints.RELATIVE;\n        c.gridwidth = 1;\n        for(String s : buttonLabels)\n        {\n            JButton button = new JButton(s);\n            button.addActionListener(listener);\n            frame.add(button, c);\n        }\n\n        //start a thread to listen to the server\n        new Thread(new Runnable()\n        {\n            public void run()\n            {\n                try\n                {\n                    for(String line = reader.readLine(); line != null; line = reader.readLine())\n                        label.setText(line);\n                }\n                catch(IOException e)\n                {\n                    System.out.println(\"Lost connection with server (probably server closed)\");\n                    e.printStackTrace();\n                    System.exit(0);\n                }\n            }\n        }).start();\n\n        //display the gui\n        System.out.println(\"Displaying\");\n        frame.pack();\n        frame.setResizable(false);\n        frame.setLocationByPlatform(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p><strong>TestServer.java</strong></p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Queue;\n\npublic class TestServer\n{\n    private static boolean multipleClients = true;\n    private static List&lt;Client&gt; clients = new ArrayList&lt;Client&gt;();\n\n    public static void main(String[] args) throws Exception\n    {\n        System.out.println(\"did the thing\");\n        ServerSocket ss = new ServerSocket(28000, 0, InetAddress.getByName(null));\n        int[] index = {0}; //array so threads can access\n        char[] data = {'A', 'A', 'A', 'A', 'A', 'A', 'A', 'A'};\n\n        //start accepting connections\n        new Thread(new Runnable()\n        {\n            public void run()\n            {\n                while(true)\n                {\n                    try\n                    {\n                        Client c = new Client(ss.accept());\n                        if(multipleClients || clients.isEmpty())\n                        {\n                            System.out.println(\"writing \" + new String(data));\n                            c.write(displayData(data, index[0])); //write initial data\n                            synchronized(clients)\n                            {\n                                clients.add(c);\n                            }\n                        }\n                        else\n                            c.write(\"refused\");\n                    }\n                    catch(IOException e)\n                    {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }).start();\n\n        //read and write to clients\n        String msg = null;\n        while(true)\n        {\n            //read changes\n            synchronized(clients)\n            {\n                for(Client c : clients)\n                    if((msg = c.read()) != null)\n                    {\n                        switch(msg)\n                        {\n                            case \"A\":\n                                data[index[0]++] = 'A';\n                                break;\n                            case \"B\":\n                                data[index[0]++] = 'B';\n                                break;\n                            case \"Quit\":\n                                System.exit(0);\n                                break;\n                        }\n                        index[0] %= data.length;\n                        for(Client C : clients)\n                            C.write(displayData(data, index[0]));\n                    }\n            }\n            Thread.sleep(50);\n        }\n    }\n\n    private static String displayData(char[] data, int i)\n    {\n        return \"&lt;html&gt;\" + new String(data, 0, i) + \"&lt;u&gt;\" + data[i] + \"&lt;/u&gt;\" + new String(data, i + 1, data.length - i - 1) + \"&lt;/html&gt;\";\n    }\n\n    private static class Client\n    {\n        private BufferedReader reader;\n        private BufferedWriter writer;\n        private Queue&lt;String&gt; readBuffer;\n        private Client me;\n\n        public Client(Socket s) throws IOException\n        {\n            reader = new BufferedReader(new InputStreamReader(s.getInputStream()));\n            writer = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n            readBuffer = new LinkedList&lt;String&gt;();\n            me = this;\n\n            new Thread(new Runnable()\n            {\n                public void run()\n                {\n                    try\n                    {\n                        for(String line = reader.readLine(); line != null; line = reader.readLine())\n                            readBuffer.add(line);\n                    }\n                    catch(IOException e)\n                    {\n                        System.out.println(\"Client disconnected\");\n                        e.printStackTrace();\n                        synchronized(clients)\n                        {\n                            clients.remove(me); //remove(this) attempts to remove runnable from clients\n                        }\n                        System.out.println(\"removed \" + clients.isEmpty());\n                    }\n                }\n            }).start();\n        }\n\n        public String read()\n        {\n            return readBuffer.poll();\n        }\n\n        public void write(String s)\n        {\n            try\n            {\n                writer.write(s);\n                writer.newLine();\n                writer.flush();\n            }\n            catch(IOException e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13872976,"reputation":313,"user_id":10015528,"display_name":"Heterocigoto"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670360445,"creation_date":1665424616,"answer_id":74018957,"question_id":48509510,"body_markdown":"\r\n1) You can set your frame as HIDE_ON_CLOSE when you click &#39;X&#39; button in your window\r\n2) You need create a code similar like this:\r\n3) Check that we have 2 buttons with different actions (One of this is to set visible the frame after close it)\r\ntry {\r\n\t\t\t\t     \r\n\t\t\tMain_view frame = new Main_view();\r\n\t\t\tframe.setVisible(true);\r\n\t\t\t\t\t \r\n\t\t    if (SystemTray.isSupported()) {\r\n\t\t\t\t    \t \r\n\t\t\t\tSystemTray tray = SystemTray.getSystemTray();\r\n\t\t\t\tTrayIcon trayIcon = null;\r\n\t\t\t\t         \r\n\t\t\t\t//Listener for exit button\r\n\t\t\t\tActionListener ExitListener = new ActionListener() {\r\n\t\t\t\t   public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t       System.exit(0);\r\n\t\t\t\t   }\r\n\t\t\t\t };\r\n\r\n\t\t\t\t //Listener for display button\r\n\t\t\t\t ActionListener DisplayListener = new ActionListener() {\r\n\t\t\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t        frame.setVisible(true);\r\n\t\t\t\t    }\r\n                 };\r\n\t\t\t\t         \r\n\t\t\t\t  //Menu when you right click the icon\r\n\t\t\t\t  PopupMenu popup = new PopupMenu();\r\n\t\t\t\t         \r\n\t\t\t\t  //Buttons to show\r\n\t\t\t\t  MenuItem displayButton = new MenuItem(&quot;Display&quot;);\r\n\t\t\t\t  MenuItem exitButton = new MenuItem(&quot;Exit&quot;);\r\n\t\t\t\t         \r\n\t\t\t\t  //add the previous actions made it\r\n\t\t\t\t  exitButton.addActionListener(ExitListener);\r\n\t\t\t\t  displayButton.addActionListener(DisplayListener);\r\n\t\t\t\t         \r\n\t\t\t\t  //add to the popup\r\n\t\t\t\t  popup.add(displayButton);\r\n\t\t\t\t  popup.add(exitButton);\r\n\t\t\t\t         \r\n\t\t\t\t  // URL: MyProject/src/MyGUI/check.png\t\r\n\t\t\t\t  // Small icon on secondary taskbar\r\n\t\t\t\t  Image image= ImageIO.read(getClass().getResource(&quot;/MyGUI/check.png&quot;));\r\n\t\t\t\t  trayIcon = new TrayIcon(image, &quot;App name&quot;, popup);\r\n\t\t\t\t  trayIcon.setImageAutoSize(true);\r\n\t\t\t\t         \r\n\t\t\t\t         \r\n\t\t\t\t  trayIcon.addActionListener(DisplayListener);\r\n\t\t\t\t  trayIcon.addActionListener(ExitListener);\r\n\t\t\t\t         \r\n\t\t\t\t  try {\r\n\t\t\t\t       tray.add(trayIcon);\r\n\t\t\t\t       \r\n                      } catch (AWTException e) {\r\n\r\n\t\t\t\t             System.err.println(e);\r\n\t\t\t\t         }\r\n\t\t\t\t         // ...\r\n\t\t\t\t     } else {\r\n\t\t\t\t         // disable tray option in your application or\r\n\t\t\t\t         // perform other actions\r\n\t\t\t\t     }\r\n\t\t\t\t\r\nResults\r\n----------\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmPS0.png","title":"Reopen Java window after hiding it on close","body":"<ol>\n<li><p>You can set your frame as HIDE_ON_CLOSE when you click 'X' button in your window</p>\n</li>\n<li><p>You need create a code similar like this:</p>\n</li>\n<li><p>Check that we have 2 buttons with different actions (One of this is to set visible the frame after close it)\ntry {</p>\n<pre><code>     Main_view frame = new Main_view();\n     frame.setVisible(true);\n\n     if (SystemTray.isSupported()) {\n\n         SystemTray tray = SystemTray.getSystemTray();\n         TrayIcon trayIcon = null;\n\n         //Listener for exit button\n         ActionListener ExitListener = new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n          };\n\n          //Listener for display button\n          ActionListener DisplayListener = new ActionListener() {\n             public void actionPerformed(ActionEvent e) {\n                 frame.setVisible(true);\n             }\n          };\n\n           //Menu when you right click the icon\n           PopupMenu popup = new PopupMenu();\n\n           //Buttons to show\n           MenuItem displayButton = new MenuItem(&quot;Display&quot;);\n           MenuItem exitButton = new MenuItem(&quot;Exit&quot;);\n\n           //add the previous actions made it\n           exitButton.addActionListener(ExitListener);\n           displayButton.addActionListener(DisplayListener);\n\n           //add to the popup\n           popup.add(displayButton);\n           popup.add(exitButton);\n\n           // URL: MyProject/src/MyGUI/check.png \n           // Small icon on secondary taskbar\n           Image image= ImageIO.read(getClass().getResource(&quot;/MyGUI/check.png&quot;));\n           trayIcon = new TrayIcon(image, &quot;App name&quot;, popup);\n           trayIcon.setImageAutoSize(true);\n\n\n           trayIcon.addActionListener(DisplayListener);\n           trayIcon.addActionListener(ExitListener);\n\n           try {\n                tray.add(trayIcon);\n\n               } catch (AWTException e) {\n\n                      System.err.println(e);\n                  }\n                  // ...\n              } else {\n                  // disable tray option in your application or\n                  // perform other actions\n              }\n</code></pre>\n</li>\n</ol>\n<h2>Results</h2>\n<p><a href=\"https://i.stack.imgur.com/OmPS0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmPS0.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12809464,"reputation":5,"user_id":9268155,"display_name":"BlankXai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670360445,"creation_date":1517257951,"question_id":48509510,"body_markdown":"I&#39;m building an application, and the biggest problem that I&#39;m having is the reopening of the application.\r\n\r\nI can launch my application just fine.  It creates the main window.  I&#39;m also using the `setDefaultCloseOperation(HIDE_ON_CLOSE)` I have also tried `DISPOSE_ON_CLOSE` but they both have the same effect.  So when I close it the window closes out.  However, when I click on the icon in my dock the window won&#39;t open back up.  \r\n\r\nI want the application to open up like Safari does, you can close out of safari but it still runs in the background and when you click on the icon in your dash it makes a new window if you don&#39;t have any open already. \r\n","title":"Reopen Java window after hiding it on close","body":"<p>I'm building an application, and the biggest problem that I'm having is the reopening of the application.</p>\n\n<p>I can launch my application just fine.  It creates the main window.  I'm also using the <code>setDefaultCloseOperation(HIDE_ON_CLOSE)</code> I have also tried <code>DISPOSE_ON_CLOSE</code> but they both have the same effect.  So when I close it the window closes out.  However, when I click on the icon in my dock the window won't open back up.  </p>\n\n<p>I want the application to open up like Safari does, you can close out of safari but it still runs in the background and when you click on the icon in your dash it makes a new window if you don't have any open already. </p>\n"},{"tags":["java","file-io","txt"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1670360261,"post_id":74708897,"comment_id":131857903,"body_markdown":"Related: [Parsing a fixed-width formatted file in Java](https://stackoverflow.com/q/1609807/12567365), with links to more answers. Especially if you have data where one field can legitimately contain spaces as part of the data.","body":"Related: <a href=\"https://stackoverflow.com/q/1609807/12567365\">Parsing a fixed-width formatted file in Java</a>, with links to more answers. Especially if you have data where one field can legitimately contain spaces as part of the data."},{"owner":{"account_id":14679090,"reputation":1358,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1670360775,"post_id":74708897,"comment_id":131858046,"body_markdown":"What I would do personally is combine these two approaches. Read each line one at a time, then use `String.split()` and pass in a regular expression that matches whitespace (`\\W+`) so that you simultaneously split everything and get rid of the white space. Then you can do any processing you need to such as converting some of them to integers.","body":"What I would do personally is combine these two approaches. Read each line one at a time, then use <code>String.split()</code> and pass in a regular expression that matches whitespace (<code>\\W+</code>) so that you simultaneously split everything and get rid of the white space. Then you can do any processing you need to such as converting some of them to integers."}],"owner":{"account_id":24105469,"reputation":11,"user_id":18076730,"display_name":"TheSwampyBogbeard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670360083,"creation_date":1670359846,"question_id":74708897,"body_markdown":"I&#39;m trying to read everything from this text file into my heap in java.\r\n```\r\n\r\n    Achernar       537 272\r\n    Alcor          970  25\r\n    Aldebaran      737 356\r\n    Algol          900 325\r\n    Almagest       990 235\r\n    Alpha-Centauri 155  99\r\n    Altair         450 650\r\n    Antares        647 754\r\n    Arcturus       964 579\r\n    Belltrix       545 192\r\n    Beta-Cassiopia 378 525\r\n    Betelgeuse     412 377\r\n    Canopus        218 150\r\n    Capella        424   9\r\n    Delta-Cygnus    42 472\r\n    Deneb          218   8\r\n    Epsilon-Ceti   271 471\r\n    Epsilon-Cygnus  25 458\r\n    Fomalhaut      437 856\r\n    Gamma-Centauri 158 112\r\n    Gamma-Cygnus    56 471\r\n    Groombridge    996 904\r\n    Hyperion       656 127\r\n    Menkar         481 927\r\n    Metis          570 460\r\n    Microscopii    439 998\r\n    Mizar           41 130\r\n    Mu-Draconis    231 870\r\n    Organon        685  58\r\n    Pollux         565   9\r\n    Procyon         74 227\r\n    Regulus        373 106\r\n    Rigel          210 208\r\n    Siris          180 151\r\n    Sol            175 145\r\n    Theta-Persei   937 241\r\n    Vega            33 975\r\n    Vela           334 193\r\n    Zeeman         335 194\r\n    Zeta-Ptolemae  179  34\r\n```\r\n\r\nThe regex that I typically use for CSV files (&quot;,[ ]*&quot;) doesn&#39;t work, I&#39;ve been trying to modify it a little but I&#39;m not sure where to go with it.  Using the first line of the .txt as an example it should read Achernar as a String, 537 as a integer (x coordinate), and 272 as an integer (y coordinate).\r\n\r\n\r\n\r\n\r\nI tried creating a String &#39;record&#39;, and splitting it into a String array &#39;tokens&#39; with the using regex&#39;s like (&quot;&quot;), (&quot; &quot;), and (&quot;[ ]&quot;), but when I try to read the the x coordinate after reading the string, I get an exception because the token array seems to be getting filled with spaces (instead of [Achernar, 537, 272] its something like [Achernar, , , , ... 537, 272].\r\n\r\nI tried abandoning the token array and simply reading the inFile.hasNextLine() (which is what I&#39;m using now) and there are no exceptions.. except it skips ever other entry in the text file because my parameter for the while loop is (inFile.hasNextLine()).  I understand why this doesn&#39;t work, though, because its not just checking the nextLine, it checking if it exists and skipping it entire if it is there.\r\n\r\n^^ My current code using that technique\r\n\r\n\r\n```\r\nwhile (inFile.hasNextLine()) {\r\n    entName = inFile.next();\r\n    entX = inFile.nextInt();\r\n    entY = inFile.nextInt();\r\n    Astro temp = new Astro(entName, entX, entY);\r\n    entDistance = temp.calculateDistance(x, y);\r\n    heap.enqueue(new Astro(entName, entX, entY, entDistance));\r\n}\r\n```\r\n","title":"Way to read non-CSV file (including strings and integers) separated with varied spaces","body":"<p>I'm trying to read everything from this text file into my heap in java.</p>\n<pre><code>\n    Achernar       537 272\n    Alcor          970  25\n    Aldebaran      737 356\n    Algol          900 325\n    Almagest       990 235\n    Alpha-Centauri 155  99\n    Altair         450 650\n    Antares        647 754\n    Arcturus       964 579\n    Belltrix       545 192\n    Beta-Cassiopia 378 525\n    Betelgeuse     412 377\n    Canopus        218 150\n    Capella        424   9\n    Delta-Cygnus    42 472\n    Deneb          218   8\n    Epsilon-Ceti   271 471\n    Epsilon-Cygnus  25 458\n    Fomalhaut      437 856\n    Gamma-Centauri 158 112\n    Gamma-Cygnus    56 471\n    Groombridge    996 904\n    Hyperion       656 127\n    Menkar         481 927\n    Metis          570 460\n    Microscopii    439 998\n    Mizar           41 130\n    Mu-Draconis    231 870\n    Organon        685  58\n    Pollux         565   9\n    Procyon         74 227\n    Regulus        373 106\n    Rigel          210 208\n    Siris          180 151\n    Sol            175 145\n    Theta-Persei   937 241\n    Vega            33 975\n    Vela           334 193\n    Zeeman         335 194\n    Zeta-Ptolemae  179  34\n</code></pre>\n<p>The regex that I typically use for CSV files (&quot;,[ ]*&quot;) doesn't work, I've been trying to modify it a little but I'm not sure where to go with it.  Using the first line of the .txt as an example it should read Achernar as a String, 537 as a integer (x coordinate), and 272 as an integer (y coordinate).</p>\n<p>I tried creating a String 'record', and splitting it into a String array 'tokens' with the using regex's like (&quot;&quot;), (&quot; &quot;), and (&quot;[ ]&quot;), but when I try to read the the x coordinate after reading the string, I get an exception because the token array seems to be getting filled with spaces (instead of [Achernar, 537, 272] its something like [Achernar, , , , ... 537, 272].</p>\n<p>I tried abandoning the token array and simply reading the inFile.hasNextLine() (which is what I'm using now) and there are no exceptions.. except it skips ever other entry in the text file because my parameter for the while loop is (inFile.hasNextLine()).  I understand why this doesn't work, though, because its not just checking the nextLine, it checking if it exists and skipping it entire if it is there.</p>\n<p>^^ My current code using that technique</p>\n<pre><code>while (inFile.hasNextLine()) {\n    entName = inFile.next();\n    entX = inFile.nextInt();\n    entY = inFile.nextInt();\n    Astro temp = new Astro(entName, entX, entY);\n    entDistance = temp.calculateDistance(x, y);\n    heap.enqueue(new Astro(entName, entX, entY, entDistance));\n}\n</code></pre>\n"},{"tags":["java","java-6","java-5"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1598138145,"post_id":63541942,"comment_id":112361115,"body_markdown":"**Why**? Java 1.5 was released September 30, 2004. What is the purpose of maintaining strict compatibility at the source level with such an old version?","body":"<b>Why</b>? Java 1.5 was released September 30, 2004. What is the purpose of maintaining strict compatibility at the source level with such an old version?"},{"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"score":0,"creation_date":1598138733,"post_id":63541942,"comment_id":112361229,"body_markdown":"@ElliottFrisch Which java versions I choose to make my code compatible with is a judgement call, and not the point.  My concern is that I would like to be able to make/publish a simple and accurate statement about what range of java compiler versions my source code is compatible with, for people who may compile it with various compiler versions.  Currently I seem to have no way of telling whether my code is 1.5 compliant or not.","body":"@ElliottFrisch Which java versions I choose to make my code compatible with is a judgement call, and not the point.  My concern is that I would like to be able to make/publish a simple and accurate statement about what range of java compiler versions my source code is compatible with, for people who may compile it with various compiler versions.  Currently I seem to have no way of telling whether my code is 1.5 compliant or not."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1598139498,"post_id":63541942,"comment_id":112361364,"body_markdown":"@DonHatch you can download a Java SE5 JDK from oracles website. I have linked it at the bottom of my answer.","body":"@DonHatch you can download a Java SE5 JDK from oracles website. I have linked it at the bottom of my answer."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1670358819,"creation_date":1598138841,"answer_id":63542025,"question_id":63541942,"body_markdown":"Looking at [Oracle&#39;s documentation of `javac` for Java SE8][OracleJavac] it says:\r\n\r\n&gt; ...\r\n&gt;\r\n&gt; **-source *release***\r\n&gt;\r\n&gt; Specifies the version of source code accepted. The following values for release are allowed:\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; - **1.5**\r\n&gt;\r\n&gt;    The compiler accepts code containing generics and other language features introduced in Java SE 5.\r\n&gt;\r\n&gt; - **5**\r\n&gt;\r\n&gt;    Synonym for 1.5.\r\n&gt;\r\n&gt; - **1.6**\r\n&gt;\r\n&gt;    No language changes were introduced in Java SE 6. However, encoding errors in source files are now reported as errors instead of warnings as in earlier releases of Java Platform, Standard Edition.\r\n&gt;\r\n&gt; ...\r\n\r\nNotice that the site says that &quot;*no language changes were introduced in Java SE 6&quot;*. Thus, the fact that `@Override` could be used to assert that interface-methods were overridden seems to be not regarded as a language change; rather, the fact that it wasn&#39;t previously allowed may be regarded as simply a bug in some Java 5 SDKs compilers.\r\n\r\nThis behaviour is rectified since [`@Override`][OverrideAPI] can be omitted after compilation and the JDK 8 compiler understands (and validates) the annotation. Thus, the annotation has no effect whatsoever on the created bytecode.\r\n\r\nWith `-source 1.4`, we get a compilation error since [Annotations were introduced with Java 1.5][WikiJavaAnnotations], thus including annotations that are retained at runtime could change the behaviour of the program and the compiler must not ignore them.\r\n\r\n---\r\n\r\nIf we want to find all incompatibilites with Java SE 5, I recommend downloading [Java SE5 JDK from the Oracle Archive][OracleArchiveJavaSE5] and trying to compile the project with this JDK.\r\n\r\n[OracleJavac]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\r\n[OverrideAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Override.html\r\n[WikiJavaAnnotations]: https://en.wikipedia.org/wiki/Java_annotation\r\n[OracleArchiveJavaSE5]: https://www.oracle.com/java/technologies/java-archive-javase5-downloads.html","title":"Why is javac -source 1.5 allowing @Override on interface methods?","body":"<p>Looking at <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">Oracle's documentation of <code>javac</code> for Java SE8</a> it says:</p>\n<blockquote>\n<p>...</p>\n<p><strong>-source <em>release</em></strong></p>\n<p>Specifies the version of source code accepted. The following values for release are allowed:</p>\n<p>...</p>\n<ul>\n<li><p><strong>1.5</strong></p>\n<p>The compiler accepts code containing generics and other language features introduced in Java SE 5.</p>\n</li>\n<li><p><strong>5</strong></p>\n<p>Synonym for 1.5.</p>\n</li>\n<li><p><strong>1.6</strong></p>\n<p>No language changes were introduced in Java SE 6. However, encoding errors in source files are now reported as errors instead of warnings as in earlier releases of Java Platform, Standard Edition.</p>\n</li>\n</ul>\n<p>...</p>\n</blockquote>\n<p>Notice that the site says that &quot;<em>no language changes were introduced in Java SE 6&quot;</em>. Thus, the fact that <code>@Override</code> could be used to assert that interface-methods were overridden seems to be not regarded as a language change; rather, the fact that it wasn't previously allowed may be regarded as simply a bug in some Java 5 SDKs compilers.</p>\n<p>This behaviour is rectified since <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Override.html\" rel=\"nofollow noreferrer\"><code>@Override</code></a> can be omitted after compilation and the JDK 8 compiler understands (and validates) the annotation. Thus, the annotation has no effect whatsoever on the created bytecode.</p>\n<p>With <code>-source 1.4</code>, we get a compilation error since <a href=\"https://en.wikipedia.org/wiki/Java_annotation\" rel=\"nofollow noreferrer\">Annotations were introduced with Java 1.5</a>, thus including annotations that are retained at runtime could change the behaviour of the program and the compiler must not ignore them.</p>\n<hr />\n<p>If we want to find all incompatibilites with Java SE 5, I recommend downloading <a href=\"https://www.oracle.com/java/technologies/java-archive-javase5-downloads.html\" rel=\"nofollow noreferrer\">Java SE5 JDK from the Oracle Archive</a> and trying to compile the project with this JDK.</p>\n"}],"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":63542025,"answer_count":1,"score":5,"last_activity_date":1670358819,"creation_date":1598137615,"question_id":63541942,"body_markdown":"Here is some sample java code that is illegal under 1.5, if I understand correctly\r\n(since [`@Override` could not be used for overrides of interface methods until java 1.6](https://stackoverflow.com/questions/9498769/override-annotation-and-jdk-1-5/)):\r\n\r\n```\r\npublic class A { \r\n  public static interface MyInterface { \r\n    public void myInterfaceMethod();\r\n  }\r\n  public static class MyClass implements MyInterface { \r\n    @Override public void myInterfaceMethod() {}\r\n  }\r\n} \r\n```\r\n\r\nI want to find all such 1.5-incompatibilities in my source code,\r\nso I installed a java1.5-capable compiler on my ubuntu linux machine:\r\n```\r\nsudo apt install openjdk-8-jdk\r\nJAVAROOT=/usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n${JAVAROOT}/bin/javac -version\r\n# javac 1.8.0_232\r\n```\r\nand compiled the above java source code:\r\n```\r\n${JAVAROOT}/bin/javac -source 1.5 -Xlint:all -Xlint:-options A.java\r\n```\r\n\r\nI expected the above java code to be rejected.  But it\r\napparently compiled successfully, in spite of the illegality under 1.5.\r\n\r\nWhat&#39;s going on?  Am I misunderstanding the 1.5 rules about `@Override`?\r\nOr am I misunderstanding what `-source 1.5` is supposed to do?\r\n\r\nFWIW, I notice that `-source 1.4` does give the expected error:\r\n```\r\n${JAVAROOT}/bin/javac -source 1.4 -Xlint:all -Xlint:-options A.java\r\nA.java:6: error: annotations are not supported in -source 1.4\r\n      @Override public void myInterfaceMethod() {}\r\n       ^ \r\n  (use -source 5 or higher to enable annotations)\r\n1 error\r\n```\r\n","title":"Why is javac -source 1.5 allowing @Override on interface methods?","body":"<p>Here is some sample java code that is illegal under 1.5, if I understand correctly\n(since <a href=\"https://stackoverflow.com/questions/9498769/override-annotation-and-jdk-1-5/\"><code>@Override</code> could not be used for overrides of interface methods until java 1.6</a>):</p>\n<pre><code>public class A { \n  public static interface MyInterface { \n    public void myInterfaceMethod();\n  }\n  public static class MyClass implements MyInterface { \n    @Override public void myInterfaceMethod() {}\n  }\n} \n</code></pre>\n<p>I want to find all such 1.5-incompatibilities in my source code,\nso I installed a java1.5-capable compiler on my ubuntu linux machine:</p>\n<pre><code>sudo apt install openjdk-8-jdk\nJAVAROOT=/usr/lib/jvm/java-1.8.0-openjdk-amd64\n${JAVAROOT}/bin/javac -version\n# javac 1.8.0_232\n</code></pre>\n<p>and compiled the above java source code:</p>\n<pre><code>${JAVAROOT}/bin/javac -source 1.5 -Xlint:all -Xlint:-options A.java\n</code></pre>\n<p>I expected the above java code to be rejected.  But it\napparently compiled successfully, in spite of the illegality under 1.5.</p>\n<p>What's going on?  Am I misunderstanding the 1.5 rules about <code>@Override</code>?\nOr am I misunderstanding what <code>-source 1.5</code> is supposed to do?</p>\n<p>FWIW, I notice that <code>-source 1.4</code> does give the expected error:</p>\n<pre><code>${JAVAROOT}/bin/javac -source 1.4 -Xlint:all -Xlint:-options A.java\nA.java:6: error: annotations are not supported in -source 1.4\n      @Override public void myInterfaceMethod() {}\n       ^ \n  (use -source 5 or higher to enable annotations)\n1 error\n</code></pre>\n"},{"tags":["java","cryptography","jce"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670358744,"creation_date":1628103810,"answer_id":68656771,"question_id":68655241,"body_markdown":"&gt; ... do I encode my private key bytes into PKCS #8, OR alternatively, is there another class to do this besides PKCS8EncodedKeySpec?\r\n\r\nYes and yes.\r\n\r\nOption A: constructing a DER encoding like PKCS8 can be complex in general, but for the specific case of PKCS8-unencrypted containing an EC key in &#39;named&#39; (OID) form, which is what everyone (and in particular Java crypto) uses nowadays, is simpler and for a given curve consists of a fixed prefix followed by the private key bytes. See my answer to [this Q](https://stackoverflow.com/questions/48832170/generate-ec-public-key-from-byte-array-private-key-in-native-java-7) which is mostly about the computation of publickey _from_ privatekey, but my example uses the PKCS8-ized privatekey in the process of answering something else.\r\n\r\nNote in java 9 up (released after that answer) `java.xml.bind.DatatypeConverter` is no longer available by default in JavaSE, so you either need to make it a dependency or substitute something functionally equivalent -- there are many Qs about this.\r\n\r\nOption B: instead of using PKSC8 (encoded) representation, you can use [ECPrivateKeySpec](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/spec/ECPrivateKeySpec.html). &lt;strike&gt;As also noted in that answer, standard (Oracle/Open) Java doesn&#39;t provide an easy way to get the parameters alone, so the best I&#39;ve found is to generate a dummy key and discard it:&lt;/strike&gt;\r\n```\r\n/* workaround is unnecessary\r\nKeyPairGenerator kg = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\nkg.init(new ECGenParameterSpec(&quot;secp256k1&quot;));\r\nECParameterSpec param = ((ECPublicKey)kg.generateKeyPair().getPublic()).getParams();\r\n--- instead do: */\r\nAlgorithmParameters a = AlgorithmParameters.getInstance(&quot;EC&quot;);\r\na.init(new ECGenParameterSpec(&quot;secp256k1&quot;));\r\nECParameterSpec p = a.getParameterSpec(ECParameterSpec.class);\r\n\r\nBigInteger s = new BigInteger(1, /*byte[32] privatekey value*/);\r\nKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\nPrivateKey kp = kf.generatePrivate(new ECPrivateKeySpec(s, param));\r\n// castable to ECPrivateKey if desired/needed\r\n```\r\nIf you instead use BouncyCastle&#39;s direct (non-JCA) API it does provide EC parameters by name; I can find some dupes for that if you want.\r\n\r\nCaveat: if &#39;lying around somewhere&#39; is NOT the output of a correctly implemented random process using sufficent entropy, and in particular the &#39;seed&#39; is either chosen or remembered by a human, doing this is **insecure**. And if you use this for _Bitcoin_ -- which you didn&#39;t say, but is the use case of most ignorant, untrained people who suddenly want to do ECC because they think it will make them sooper-kewl, l33t, rich, sexy and famous -- you will probably lose your money; see https://en.bitcoin.it/wiki/Brainwallet . But that&#39;s offtopic for StackOverflow.","title":"How do I create a PrivateKey object from private key bytes?","body":"<blockquote>\n<p>... do I encode my private key bytes into PKCS #8, OR alternatively, is there another class to do this besides PKCS8EncodedKeySpec?</p>\n</blockquote>\n<p>Yes and yes.</p>\n<p>Option A: constructing a DER encoding like PKCS8 can be complex in general, but for the specific case of PKCS8-unencrypted containing an EC key in 'named' (OID) form, which is what everyone (and in particular Java crypto) uses nowadays, is simpler and for a given curve consists of a fixed prefix followed by the private key bytes. See my answer to <a href=\"https://stackoverflow.com/questions/48832170/generate-ec-public-key-from-byte-array-private-key-in-native-java-7\">this Q</a> which is mostly about the computation of publickey <em>from</em> privatekey, but my example uses the PKCS8-ized privatekey in the process of answering something else.</p>\n<p>Note in java 9 up (released after that answer) <code>java.xml.bind.DatatypeConverter</code> is no longer available by default in JavaSE, so you either need to make it a dependency or substitute something functionally equivalent -- there are many Qs about this.</p>\n<p>Option B: instead of using PKSC8 (encoded) representation, you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/spec/ECPrivateKeySpec.html\" rel=\"nofollow noreferrer\">ECPrivateKeySpec</a>. <strike>As also noted in that answer, standard (Oracle/Open) Java doesn't provide an easy way to get the parameters alone, so the best I've found is to generate a dummy key and discard it:</strike></p>\n<pre><code>/* workaround is unnecessary\nKeyPairGenerator kg = KeyPairGenerator.getInstance(&quot;EC&quot;);\nkg.init(new ECGenParameterSpec(&quot;secp256k1&quot;));\nECParameterSpec param = ((ECPublicKey)kg.generateKeyPair().getPublic()).getParams();\n--- instead do: */\nAlgorithmParameters a = AlgorithmParameters.getInstance(&quot;EC&quot;);\na.init(new ECGenParameterSpec(&quot;secp256k1&quot;));\nECParameterSpec p = a.getParameterSpec(ECParameterSpec.class);\n\nBigInteger s = new BigInteger(1, /*byte[32] privatekey value*/);\nKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\nPrivateKey kp = kf.generatePrivate(new ECPrivateKeySpec(s, param));\n// castable to ECPrivateKey if desired/needed\n</code></pre>\n<p>If you instead use BouncyCastle's direct (non-JCA) API it does provide EC parameters by name; I can find some dupes for that if you want.</p>\n<p>Caveat: if 'lying around somewhere' is NOT the output of a correctly implemented random process using sufficent entropy, and in particular the 'seed' is either chosen or remembered by a human, doing this is <strong>insecure</strong>. And if you use this for <em>Bitcoin</em> -- which you didn't say, but is the use case of most ignorant, untrained people who suddenly want to do ECC because they think it will make them sooper-kewl, l33t, rich, sexy and famous -- you will probably lose your money; see <a href=\"https://en.bitcoin.it/wiki/Brainwallet\" rel=\"nofollow noreferrer\">https://en.bitcoin.it/wiki/Brainwallet</a> . But that's offtopic for StackOverflow.</p>\n"}],"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68656771,"answer_count":1,"score":1,"last_activity_date":1670358744,"creation_date":1628096055,"question_id":68655241,"body_markdown":"Say I have a seed: ```this is a seed that i might have lying around somewhere```&lt;br&gt;\r\nI then hash the seed to produce a byte array of size 32&lt;br&gt;\r\nFrom what I understand (from [this][1] article), this is now my private key bytes. How would I go around turning these bytes into a PrivateKey object?&lt;br&gt;&lt;br&gt;\r\nFrom what I&#39;ve seen, it is something like:\r\n\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n    PrivateKey privateKey = kf.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\r\n\r\nBut for this to work, the private key bytes should be in the PKCS #8 format. And since I generated my private key bytes by hashing a seed, they obviously aren&#39;t.\r\n\r\nSo my question is: how do I encode my private key bytes into PKCS #8, OR alternatively, is there another class to do this besides PKCS8EncodedKeySpec?\r\n\r\n  [1]: https://medium.com/coinmonks/how-to-generate-a-bitcoin-address-step-by-step-9d7fcbf1ad0b\r\n\r\n**I am using ECDSA**&lt;br&gt;\r\n**and**&lt;br&gt;\r\n**I am using secp256k1**","title":"How do I create a PrivateKey object from private key bytes?","body":"<p>Say I have a seed: <code>this is a seed that i might have lying around somewhere</code><br>\nI then hash the seed to produce a byte array of size 32<br>\nFrom what I understand (from <a href=\"https://medium.com/coinmonks/how-to-generate-a-bitcoin-address-step-by-step-9d7fcbf1ad0b\" rel=\"nofollow noreferrer\">this</a> article), this is now my private key bytes. How would I go around turning these bytes into a PrivateKey object?<br><br>\nFrom what I've seen, it is something like:</p>\n<pre><code>KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\nPrivateKey privateKey = kf.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\n</code></pre>\n<p>But for this to work, the private key bytes should be in the PKCS #8 format. And since I generated my private key bytes by hashing a seed, they obviously aren't.</p>\n<p>So my question is: how do I encode my private key bytes into PKCS #8, OR alternatively, is there another class to do this besides PKCS8EncodedKeySpec?</p>\n<p><strong>I am using ECDSA</strong><br>\n<strong>and</strong><br>\n<strong>I am using secp256k1</strong></p>\n"},{"tags":["java","join","apache-kafka","time","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":1222246,"reputation":495,"user_id":1188659,"display_name":"Nic Pegg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670353033,"creation_date":1670353033,"answer_id":74707789,"question_id":74705380,"body_markdown":"```of(Duration timeDifference)``` is indeed deprecated. \r\n\r\nThe direct replacement for this method is ```ofTimeDifferenceAndGrace(Duration timeDifference, Duration afterWindowEnd)```.\r\n\r\nThe deprecated method had a default grace period of 24 hours. So your code would look like this:\r\n\r\n    ...\r\n    Duration joinWindowSizeMs = Duration.ofHours(1);\r\n    Duration gracePeriod = Duration.ofHours(24);\r\n    ...\r\n    // Join weather stations with their [sum,count] and their respective red alert events\r\n    KStream&lt;String, String&gt; joined = mainStreamAlert.join(averageTemp,\r\n    JoinWindows.ofTimeDifferenceAndGrace(joinWindowSizeMs, gracePeriod),\r\n    (leftValue, rightValue) -&gt; &quot;left/&quot; + leftValue + &quot;/right/&quot; + rightValue[0]/rightValue[1]);\r\n\r\n\r\n[JoinWindows documentation][1]\r\n\r\n\r\n  [1]: https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/kstream/JoinWindows.html#ofTimeDifferenceAndGrace(java.time.Duration,java.time.Duration)","title":"Kafka Streams - The method of(Duration) from the type JoinWindows is deprecated","body":"<p><code>of(Duration timeDifference)</code> is indeed deprecated.</p>\n<p>The direct replacement for this method is <code>ofTimeDifferenceAndGrace(Duration timeDifference, Duration afterWindowEnd)</code>.</p>\n<p>The deprecated method had a default grace period of 24 hours. So your code would look like this:</p>\n<pre><code>...\nDuration joinWindowSizeMs = Duration.ofHours(1);\nDuration gracePeriod = Duration.ofHours(24);\n...\n// Join weather stations with their [sum,count] and their respective red alert events\nKStream&lt;String, String&gt; joined = mainStreamAlert.join(averageTemp,\nJoinWindows.ofTimeDifferenceAndGrace(joinWindowSizeMs, gracePeriod),\n(leftValue, rightValue) -&gt; &quot;left/&quot; + leftValue + &quot;/right/&quot; + rightValue[0]/rightValue[1]);\n</code></pre>\n<p><a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/kstream/JoinWindows.html#ofTimeDifferenceAndGrace(java.time.Duration,java.time.Duration)\" rel=\"nofollow noreferrer\">JoinWindows documentation</a></p>\n"}],"owner":{"account_id":19638781,"reputation":21,"user_id":14375437,"display_name":"Squalexy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670358733,"creation_date":1670341890,"question_id":74705380,"body_markdown":"I want to join a KStream&lt;String, String&gt; with a KTable&lt;Windowed&lt;String&gt;, int[]&gt; to obtain results from the last hour, using JoinWindows.of(Duration).\r\n\r\nMy code is as follows:\r\n\r\n\r\n```\r\nDuration windowSize = Duration.ofMinutes(60);\r\nDuration advanceSize = Duration.ofMinutes(1);\r\nTimeWindows hoppingWindow = TimeWindows.ofSizeWithNoGrace(windowSize).advanceBy(advanceSize);\r\nDuration joinWindowSizeMs = Duration.ofHours(1);\r\n\r\n// Aggregate to get [sum, count] in the last time window\r\nKTable&lt;Windowed&lt;String&gt;, int[]&gt; averageTemp = mainStreamStandard.groupByKey()\r\n.windowedBy(hoppingWindow)\r\n.aggregate( () -&gt; new int[]{0 ,0}, (aggKey, newVal, aggValue) -&gt; {\r\n        aggValue[0] += Integer.valueOf(newVal.split(&quot;:&quot;)[1]);\r\n        aggValue[1] += 1;  \r\n        return aggValue;\r\n        }, Materialized.with(Serdes.String(), new IntArraySerde()));\r\n        \r\n// Join weather stations with their [sum,count] and their respective red alert events\r\nKStream&lt;String, String&gt; joined = mainStreamAlert.join(averageTemp,\r\nJoinWindows.of(joinWindowSizeMs),\r\n(leftValue, rightValue) -&gt; &quot;left/&quot; + leftValue + &quot;/right/&quot; + rightValue[0]/rightValue[1]);\r\n```\r\n\r\nIt gives an error saying &quot;The method of(Duration) from the type JoinWindows is deprecated&quot;. It also tells me to change the &quot;join&quot; method to &quot;leftJoin&quot; but it doesn&#39;t change anything.\r\n\r\nWhat&#39;s a better way to do this?","title":"Kafka Streams - The method of(Duration) from the type JoinWindows is deprecated","body":"<p>I want to join a KStream&lt;String, String&gt; with a KTable&lt;Windowed, int[]&gt; to obtain results from the last hour, using JoinWindows.of(Duration).</p>\n<p>My code is as follows:</p>\n<pre><code>Duration windowSize = Duration.ofMinutes(60);\nDuration advanceSize = Duration.ofMinutes(1);\nTimeWindows hoppingWindow = TimeWindows.ofSizeWithNoGrace(windowSize).advanceBy(advanceSize);\nDuration joinWindowSizeMs = Duration.ofHours(1);\n\n// Aggregate to get [sum, count] in the last time window\nKTable&lt;Windowed&lt;String&gt;, int[]&gt; averageTemp = mainStreamStandard.groupByKey()\n.windowedBy(hoppingWindow)\n.aggregate( () -&gt; new int[]{0 ,0}, (aggKey, newVal, aggValue) -&gt; {\n        aggValue[0] += Integer.valueOf(newVal.split(&quot;:&quot;)[1]);\n        aggValue[1] += 1;  \n        return aggValue;\n        }, Materialized.with(Serdes.String(), new IntArraySerde()));\n        \n// Join weather stations with their [sum,count] and their respective red alert events\nKStream&lt;String, String&gt; joined = mainStreamAlert.join(averageTemp,\nJoinWindows.of(joinWindowSizeMs),\n(leftValue, rightValue) -&gt; &quot;left/&quot; + leftValue + &quot;/right/&quot; + rightValue[0]/rightValue[1]);\n</code></pre>\n<p>It gives an error saying &quot;The method of(Duration) from the type JoinWindows is deprecated&quot;. It also tells me to change the &quot;join&quot; method to &quot;leftJoin&quot; but it doesn't change anything.</p>\n<p>What's a better way to do this?</p>\n"},{"tags":["java","spring-boot","validation","if-statement","web"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1670358075,"post_id":74708550,"comment_id":131857230,"body_markdown":"What does &quot;*does&#39;nt work*&quot; mean? Do you get a compilation error? If so: please [edit] the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an (unexpected) exception? If so: please [edit] the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please [edit] the post, add a [MRE], as we as expected and observed output.","body":"What does &quot;<i>does&#39;nt work</i>&quot; mean? Do you get a compilation error? If so: please <a href=\"https://stackoverflow.com/posts/74708550/edit\">edit</a> the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an (unexpected) exception? If so: please <a href=\"https://stackoverflow.com/posts/74708550/edit\">edit</a> the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please <a href=\"https://stackoverflow.com/posts/74708550/edit\">edit</a> the post, add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, as we as expected and observed output."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670358363,"post_id":74708550,"comment_id":131857305,"body_markdown":"Welcome to stack overflow.  Please don&#39;t post code as pictures.","body":"Welcome to stack overflow.  Please don&#39;t post code as pictures."}],"answers":[{"tags":[],"owner":{"account_id":21116996,"reputation":70,"user_id":15523899,"display_name":"p0var"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670358322,"creation_date":1670358322,"answer_id":74708640,"question_id":74708550,"body_markdown":"If you are using JPA/JDBC, you can simply annotate this `Cfop.code` as `unique` in your `Cfop.class`. For example:\r\n```\r\n@Column(name=&quot;code&quot;, unique = true)\r\nprivate Long/String code;\r\n```\r\n\r\nAfter that, you will not able to save any entity with non-unique code, it will generate error, that you need to catch with `try/catch` block in your method.\r\n\r\n\r\n----------\r\nFeel free to ask if any of this information is not clear)","title":"how to validate if there&#39;s already a field with the same registered number (Logical problem)","body":"<p>If you are using JPA/JDBC, you can simply annotate this <code>Cfop.code</code> as <code>unique</code> in your <code>Cfop.class</code>. For example:</p>\n<pre><code>@Column(name=&quot;code&quot;, unique = true)\nprivate Long/String code;\n</code></pre>\n<p>After that, you will not able to save any entity with non-unique code, it will generate error, that you need to catch with <code>try/catch</code> block in your method.</p>\n<hr />\n<p>Feel free to ask if any of this information is not clear)</p>\n"}],"owner":{"account_id":15571172,"reputation":1,"user_id":18041003,"display_name":"Mariana Cagnoni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74708640,"answer_count":1,"score":-1,"last_activity_date":1670358322,"creation_date":1670357807,"question_id":74708550,"body_markdown":"(https://i.stack.imgur.com/52C98.png)\r\n\r\nI can&#39;t let the user enter a code that already exists in the database,so i need to make one more validation for this field &quot;code&quot;.\r\n\r\nobviously I have to use a &#39;if statement&#39; but i just can&#39;t resolve this logical problem.\r\ncan someone help ?\r\n\r\ni tried something like that:\r\n\r\n```\r\n  if(cfop.getCode().equals(code){\r\n       throw new RuntimeException(&quot;This code already exist&quot;);\r\n  }\r\n```\r\nbut doesn&#39;t work.\r\n\r\ni&#39;m very beginner,so my logical is really poor :(\r\n\r\n","title":"how to validate if there&#39;s already a field with the same registered number (Logical problem)","body":"<p>(<a href=\"https://i.stack.imgur.com/52C98.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/52C98.png</a>)</p>\n<p>I can't let the user enter a code that already exists in the database,so i need to make one more validation for this field &quot;code&quot;.</p>\n<p>obviously I have to use a 'if statement' but i just can't resolve this logical problem.\ncan someone help ?</p>\n<p>i tried something like that:</p>\n<pre><code>  if(cfop.getCode().equals(code){\n       throw new RuntimeException(&quot;This code already exist&quot;);\n  }\n</code></pre>\n<p>but doesn't work.</p>\n<p>i'm very beginner,so my logical is really poor :(</p>\n"},{"tags":["java","regex","rest","query-string"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669131892,"post_id":74531925,"comment_id":131571835,"body_markdown":"the regular expression seems to be working: https://ideone.com/oMPWM8 - we need more information","body":"the regular expression seems to be working: <a href=\"https://ideone.com/oMPWM8\" rel=\"nofollow noreferrer\">ideone.com/oMPWM8</a> - we need more information"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1670356760,"post_id":74531925,"comment_id":131856795,"body_markdown":"Related question using `asc` and `desc` instead of mathematical signs: [Spring Data Rest - Sort by multiple properties - Stack Overflow](https://stackoverflow.com/questions/33018127/spring-data-rest-sort-by-multiple-properties/33034533#33034533)","body":"Related question using <code>asc</code> and <code>desc</code> instead of mathematical signs: <a href=\"https://stackoverflow.com/questions/33018127/spring-data-rest-sort-by-multiple-properties/33034533#33034533\">Spring Data Rest - Sort by multiple properties - Stack Overflow</a>"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1670357412,"post_id":74531925,"comment_id":131857013,"body_markdown":"Within URLs the `+` is usually decoded to space: [url - Why is Spring de-coding + (the plus character) on application/json get requests? and what should I do about it?](https://stackoverflow.com/questions/50270372). See also &quot;Requires URL percent encoding&quot; for Lucene-syntax in [Paging, sorting, filtering and retrieving specific fields in your RESTful API | by Guillaume Viguier-Just | Medium](https://medium.com/@guillaume.viguierjust/paging-sorting-filtering-and-retrieving-specific-fields-in-your-restful-api-a0d289bc574a)","body":"Within URLs the <code>+</code> is usually decoded to space: <a href=\"https://stackoverflow.com/questions/50270372\">url - Why is Spring de-coding + (the plus character) on application/json get requests? and what should I do about it?</a>. See also &quot;Requires URL percent encoding&quot; for Lucene-syntax in <a href=\"https://medium.com/@guillaume.viguierjust/paging-sorting-filtering-and-retrieving-specific-fields-in-your-restful-api-a0d289bc574a\" rel=\"nofollow noreferrer\">Paging, sorting, filtering and retrieving specific fields in your RESTful API | by Guillaume Viguier-Just | Medium</a>"}],"answers":[{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669117245,"creation_date":1669117245,"answer_id":74532064,"question_id":74531925,"body_markdown":"Your pattern can be simplified by specifying the boundaries outside your match and using a group.\r\n\r\n```\r\n^[+-](id|originId)$\r\n```\r\n","title":"Regular expression in Java to match a String containing + character","body":"<p>Your pattern can be simplified by specifying the boundaries outside your match and using a group.</p>\n<pre><code>^[+-](id|originId)$\n</code></pre>\n"}],"owner":{"account_id":16126688,"reputation":1,"user_id":11641293,"display_name":"Gonzalo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670357604,"creation_date":1669116559,"question_id":74531925,"body_markdown":"I&#39;m using annotation [`javax.validation.constraints.Pattern`](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html) to validate the sort parameter. The value of this parameter must be: `+id` or `+originId` for ascending, and `-id` or `-originId` for descending. \r\n\r\nThe syntax of this parameter can not be modified. \r\n\r\n\r\n```\r\n@Valid @Pattern(regexp= SORT_REGEXP, message = SORT + NOT_VALID)\r\n@RequestParam(name = SORT, required = false) String sort,\r\n```\r\n\r\nThis is what I have as my regular expression: \r\n```\r\n^[+-]id$|^[+-]originId$\r\n```\r\nI have also tried escaping the plus sign `+` like:\r\n```\r\n^[\\\\+-]id$|^[\\\\+-]originId$\r\n```\r\n\r\n\r\nIf I use the `-id` or the `-originId`, it&#39;s been validated but when I use the `+` it says that it&#39;s not matching the pattern.\r\n\r\nHow to match the plus-sign with a regular expression?","title":"Regular expression in Java to match a String containing + character","body":"<p>I'm using annotation <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\"><code>javax.validation.constraints.Pattern</code></a> to validate the sort parameter. The value of this parameter must be: <code>+id</code> or <code>+originId</code> for ascending, and <code>-id</code> or <code>-originId</code> for descending.</p>\n<p>The syntax of this parameter can not be modified.</p>\n<pre><code>@Valid @Pattern(regexp= SORT_REGEXP, message = SORT + NOT_VALID)\n@RequestParam(name = SORT, required = false) String sort,\n</code></pre>\n<p>This is what I have as my regular expression:</p>\n<pre><code>^[+-]id$|^[+-]originId$\n</code></pre>\n<p>I have also tried escaping the plus sign <code>+</code> like:</p>\n<pre><code>^[\\\\+-]id$|^[\\\\+-]originId$\n</code></pre>\n<p>If I use the <code>-id</code> or the <code>-originId</code>, it's been validated but when I use the <code>+</code> it says that it's not matching the pattern.</p>\n<p>How to match the plus-sign with a regular expression?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1620983520,"creation_date":1620983520,"answer_id":67531830,"question_id":67531829,"body_markdown":"Sharing my knowledge:\r\n\r\nIn total there are six methods provided to handle error, five discussed below:\r\n - **onErrorReturn**: return fallback value for entire stream (mono/flux). E.g. if theres a flux of 10 elements, and error happens on element 3, then rest 4,5,6 wont be executed, instead the fallback value will be considered.\r\n\r\n - **onErrorResume**: return fallback value in terms on Mono/Flux for entire stream (mono/flux). E.g. if theres a flux of 10 elements, and error happens on element 3, then rest 4,5,6 wont be executed, instead the fallback value will be considered.\r\n\r\n - **onErrorContinue**: consumes (error,data) and does NOT split it over. It considers the consumer for the error elements, and leave the downstream chain as it for good elements. E.g. if theres a flux of 10 elements, and error happens on element 3, then all elements (1 to 10) except 3 will have normal execution, but element 3 will have a different execution as mentioned in the consumer of onErrorContinue\r\n\r\n - **doOnError**: consumes error and spills it over. Stops execution for further elements in stream.\r\n\r\n - **onErrorMap**: cast one error into another.  Stops execution for further elements in stream.\r\n\r\n\r\n**All these five methods come in 3 variants,**\r\n\r\n - Simple: consider directly the expected argument\r\n - With Exception: consider the expected argument, if the exception matches the exception class provided\r\n - With Predicate: consider the expected argument, if the predicate yields true\r\n\r\n\r\nExamples:\r\n1.\tonErrorReturn: return fallback value\r\n```\r\n@Test\r\npublic void onErrorReturnDirectly_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorReturn(4)\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void onErrorReturnIfArithmeticException_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorReturn(ArithmeticException.class, 4)\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void onErrorReturnIfPredicatePasses_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorReturn(error -&gt; error instanceof ArithmeticException, 4)\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n2.\tonErrorResume: return fallback value in terms on Mono/Flux\r\n```\r\n@Test\r\npublic void onErrorResume_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorResume(error -&gt; Mono.just(4))\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void onErrorResumeIfArithmeticException_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorResume(\r\n            ArithmeticException.class,\r\n            error -&gt; Mono.just(4)\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void onErrorResumeIfPredicatePasses_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorResume(\r\n            error -&gt; error instanceof ArithmeticException,\r\n            error -&gt; Mono.just(4)\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n3.\tonErrorContinue: consumes (error,data) and does NOT split it over.\r\n```\r\n@Test\r\npublic void onErrorContinue_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorContinue((error, obj) -&gt; log.info(&quot;error:[{}], obj:[{}]&quot;, error, obj ))\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void onErrorContinueIfArithmeticException_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorContinue(\r\n            ArithmeticException.class,\r\n            (error, obj) -&gt; log.info(&quot;error:[{}], obj:[{}]&quot;, error, obj )\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void onErrorContinueIfPredicatePasses_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorContinue(\r\n            error -&gt; error instanceof ArithmeticException,\r\n            (error, obj) -&gt; log.info(&quot;error:[{}], obj:[{}]&quot;, error, obj )\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n4.\tdoOnError: consumes error and spills it over\r\n```\r\n@Test\r\npublic void doOnError_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .doOnError(error -&gt; log.info(&quot;caught error&quot;))\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void doOnErrorIfArithmeticException_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .doOnError(\r\n            ArithmeticException.class,\r\n            error -&gt; log.info(&quot;caught error&quot;)\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void doOnErrorIfPredicatePasses_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .doOnError(\r\n            error -&gt; error instanceof ArithmeticException,\r\n            error -&gt; log.info(&quot;caught error&quot;)\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n5.\tonErrorMap: cast one error into another\r\n```\r\n@Test\r\npublic void OnErrorMap_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorMap(error -&gt; new RuntimeException(&quot;SomeMathException&quot;))\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void OnErrorMapIfArithmeticException_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorMap(\r\n            ArithmeticException.class,\r\n            error -&gt; new RuntimeException(&quot;SomeMathException&quot;)\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n\r\n@Test\r\npublic void OnErrorMapIfPredicatePasses_Mono() {\r\n    Mono.just(2)\r\n        .map(i -&gt; i/0) // will produce ArithmeticException\r\n        .onErrorMap(\r\n            error -&gt; error instanceof ArithmeticException,\r\n            error -&gt; new RuntimeException(&quot;SomeMathException&quot;)\r\n        )\r\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\r\n}\r\n```\r\n","title":"How to handle errors in Reactive Spring webflux","body":"<p>Sharing my knowledge:</p>\n<p>In total there are six methods provided to handle error, five discussed below:</p>\n<ul>\n<li><p><strong>onErrorReturn</strong>: return fallback value for entire stream (mono/flux). E.g. if theres a flux of 10 elements, and error happens on element 3, then rest 4,5,6 wont be executed, instead the fallback value will be considered.</p>\n</li>\n<li><p><strong>onErrorResume</strong>: return fallback value in terms on Mono/Flux for entire stream (mono/flux). E.g. if theres a flux of 10 elements, and error happens on element 3, then rest 4,5,6 wont be executed, instead the fallback value will be considered.</p>\n</li>\n<li><p><strong>onErrorContinue</strong>: consumes (error,data) and does NOT split it over. It considers the consumer for the error elements, and leave the downstream chain as it for good elements. E.g. if theres a flux of 10 elements, and error happens on element 3, then all elements (1 to 10) except 3 will have normal execution, but element 3 will have a different execution as mentioned in the consumer of onErrorContinue</p>\n</li>\n<li><p><strong>doOnError</strong>: consumes error and spills it over. Stops execution for further elements in stream.</p>\n</li>\n<li><p><strong>onErrorMap</strong>: cast one error into another.  Stops execution for further elements in stream.</p>\n</li>\n</ul>\n<p><strong>All these five methods come in 3 variants,</strong></p>\n<ul>\n<li>Simple: consider directly the expected argument</li>\n<li>With Exception: consider the expected argument, if the exception matches the exception class provided</li>\n<li>With Predicate: consider the expected argument, if the predicate yields true</li>\n</ul>\n<p>Examples:</p>\n<ol>\n<li>onErrorReturn: return fallback value</li>\n</ol>\n<pre><code>@Test\npublic void onErrorReturnDirectly_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorReturn(4)\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void onErrorReturnIfArithmeticException_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorReturn(ArithmeticException.class, 4)\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void onErrorReturnIfPredicatePasses_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorReturn(error -&gt; error instanceof ArithmeticException, 4)\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n</code></pre>\n<ol start=\"2\">\n<li>onErrorResume: return fallback value in terms on Mono/Flux</li>\n</ol>\n<pre><code>@Test\npublic void onErrorResume_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorResume(error -&gt; Mono.just(4))\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void onErrorResumeIfArithmeticException_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorResume(\n            ArithmeticException.class,\n            error -&gt; Mono.just(4)\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void onErrorResumeIfPredicatePasses_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorResume(\n            error -&gt; error instanceof ArithmeticException,\n            error -&gt; Mono.just(4)\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n</code></pre>\n<ol start=\"3\">\n<li>onErrorContinue: consumes (error,data) and does NOT split it over.</li>\n</ol>\n<pre><code>@Test\npublic void onErrorContinue_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorContinue((error, obj) -&gt; log.info(&quot;error:[{}], obj:[{}]&quot;, error, obj ))\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void onErrorContinueIfArithmeticException_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorContinue(\n            ArithmeticException.class,\n            (error, obj) -&gt; log.info(&quot;error:[{}], obj:[{}]&quot;, error, obj )\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void onErrorContinueIfPredicatePasses_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorContinue(\n            error -&gt; error instanceof ArithmeticException,\n            (error, obj) -&gt; log.info(&quot;error:[{}], obj:[{}]&quot;, error, obj )\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n</code></pre>\n<ol start=\"4\">\n<li>doOnError: consumes error and spills it over</li>\n</ol>\n<pre><code>@Test\npublic void doOnError_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .doOnError(error -&gt; log.info(&quot;caught error&quot;))\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void doOnErrorIfArithmeticException_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .doOnError(\n            ArithmeticException.class,\n            error -&gt; log.info(&quot;caught error&quot;)\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void doOnErrorIfPredicatePasses_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .doOnError(\n            error -&gt; error instanceof ArithmeticException,\n            error -&gt; log.info(&quot;caught error&quot;)\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n</code></pre>\n<ol start=\"5\">\n<li>onErrorMap: cast one error into another</li>\n</ol>\n<pre><code>@Test\npublic void OnErrorMap_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorMap(error -&gt; new RuntimeException(&quot;SomeMathException&quot;))\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void OnErrorMapIfArithmeticException_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorMap(\n            ArithmeticException.class,\n            error -&gt; new RuntimeException(&quot;SomeMathException&quot;)\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n\n@Test\npublic void OnErrorMapIfPredicatePasses_Mono() {\n    Mono.just(2)\n        .map(i -&gt; i/0) // will produce ArithmeticException\n        .onErrorMap(\n            error -&gt; error instanceof ArithmeticException,\n            error -&gt; new RuntimeException(&quot;SomeMathException&quot;)\n        )\n        .subscribe(num -&gt; log.info(&quot;Number: {}&quot;, num ));\n}\n</code></pre>\n"}],"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29078,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":67531830,"answer_count":1,"score":23,"last_activity_date":1670357474,"creation_date":1620983520,"question_id":67531829,"body_markdown":"As there are many methods like `onErrorReturn`, `onErrorResume` etc, so which one&#39;s the right one to use in order to handle errors in Reactive Spring WebFlux for mono and flux? ","title":"How to handle errors in Reactive Spring webflux","body":"<p>As there are many methods like <code>onErrorReturn</code>, <code>onErrorResume</code> etc, so which one's the right one to use in order to handle errors in Reactive Spring WebFlux for mono and flux?</p>\n"},{"tags":["java","json","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":5201572,"reputation":1143,"user_id":4719725,"display_name":"parlad"},"score":0,"creation_date":1530103259,"post_id":30924816,"comment_id":89115892,"body_markdown":"i want to do it in spring mvc. Any idea ?","body":"i want to do it in spring mvc. Any idea ?"}],"answers":[{"tags":[],"owner":{"account_id":5886117,"reputation":31,"user_id":4634088,"display_name":"Marcos Garcia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469314414,"creation_date":1469314414,"answer_id":38547099,"question_id":30924816,"body_markdown":"I recently found a solution via Annotation config:\r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import com.fasterxml.jackson.databind.MapperFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    @Configuration\r\n    public class Config {\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n            return mapper;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nI&#39;m using these dependencies:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nGood luck.\r\n\r\n","title":"Make JSON payload fields case insensitive when mapping to Java Object in REST API developed using SpringBoot","body":"<p>I recently found a solution via Annotation config:</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport com.fasterxml.jackson.databind.MapperFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Configuration\npublic class Config {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n        return mapper;\n    }\n\n}\n</code></pre>\n\n<p>I'm using these dependencies:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.6.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":1985735,"reputation":3193,"user_id":1781024,"accept_rate":84,"display_name":"Vikas Prasad"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1519143550,"creation_date":1506578157,"answer_id":46461911,"question_id":30924816,"body_markdown":"Well, if its Spring Boot application you can have this in your `application.properties` file:\r\n`spring.jackson.mapper.accept_case_insensitive_properties=true`\r\n\r\nor if you use yaml:\r\n\r\n    spring:\r\n      jackson:\r\n        mapper:\r\n          accept_case_insensitive_properties: true","title":"Make JSON payload fields case insensitive when mapping to Java Object in REST API developed using SpringBoot","body":"<p>Well, if its Spring Boot application you can have this in your <code>application.properties</code> file:\n<code>spring.jackson.mapper.accept_case_insensitive_properties=true</code></p>\n\n<p>or if you use yaml:</p>\n\n<pre><code>spring:\n  jackson:\n    mapper:\n      accept_case_insensitive_properties: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2324195,"reputation":21,"user_id":2039080,"display_name":"user2039080"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670324411,"creation_date":1670324411,"answer_id":74701349,"question_id":30924816,"body_markdown":"For me the most simple solution was using com.fasterxml.jackson.annotation.JsonFormat annotation in the class definition of my requestBody (i&#39;m using 2.5.0 spring-boot, but it is a fasterxml annotation so it is probably not related):\r\n\r\n    @JsonFormat(with = {JsonFormat.Feature.ACCEPT_CASE_INSENSITIVE_PROPERTIES})\r\n","title":"Make JSON payload fields case insensitive when mapping to Java Object in REST API developed using SpringBoot","body":"<p>For me the most simple solution was using com.fasterxml.jackson.annotation.JsonFormat annotation in the class definition of my requestBody (i'm using 2.5.0 spring-boot, but it is a fasterxml annotation so it is probably not related):</p>\n<pre><code>@JsonFormat(with = {JsonFormat.Feature.ACCEPT_CASE_INSENSITIVE_PROPERTIES})\n</code></pre>\n"}],"owner":{"account_id":1475400,"reputation":1371,"user_id":1385897,"accept_rate":62,"display_name":"Rakesh Gourineni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23623,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":46461911,"answer_count":3,"score":15,"last_activity_date":1670356738,"creation_date":1434658005,"question_id":30924816,"body_markdown":"I am working on REST API developed using SpringBoot application. Here I want to make the fields in the payload(JSON) as case insensitive when mapping to a Java Object. Below is my code.\r\n\r\n**Payload**\r\n```\r\n{&quot;limit&quot;:1,&quot;name&quot;:&quot;MATTHEW PHILLIPS&quot;}\r\n```\r\n\r\n**Request Object**\r\n\r\n    private String limit;\r\n    private String name;\r\n    \r\n    public String getLimit() {\r\n          return limit;\r\n        }\r\n    \r\n        public void setLimit(String limit) {\r\n            this.limit = limit;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\nI map the JSON payload to java Object directly using `@RequestBody` Spring annotation. My question here is How do I make the java Object to map to the fields ignoring the case.\r\n\r\nRegards,\r\nRakesh  \r\n\r\n\r\n","title":"Make JSON payload fields case insensitive when mapping to Java Object in REST API developed using SpringBoot","body":"<p>I am working on REST API developed using SpringBoot application. Here I want to make the fields in the payload(JSON) as case insensitive when mapping to a Java Object. Below is my code.</p>\n<p><strong>Payload</strong></p>\n<pre><code>{&quot;limit&quot;:1,&quot;name&quot;:&quot;MATTHEW PHILLIPS&quot;}\n</code></pre>\n<p><strong>Request Object</strong></p>\n<pre><code>private String limit;\nprivate String name;\n\npublic String getLimit() {\n      return limit;\n    }\n\n    public void setLimit(String limit) {\n        this.limit = limit;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>I map the JSON payload to java Object directly using <code>@RequestBody</code> Spring annotation. My question here is How do I make the java Object to map to the fields ignoring the case.</p>\n<p>Regards,\nRakesh</p>\n"},{"tags":["java","pdf","itext","pdf-generation","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1669957212,"post_id":74648613,"comment_id":131765542,"body_markdown":"That isn&#39;t a TrueType font.","body":"That isn&#39;t a TrueType font."}],"answers":[{"tags":[],"owner":{"account_id":4167246,"reputation":186,"user_id":3415962,"accept_rate":50,"display_name":"manji369"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670356466,"creation_date":1670356466,"answer_id":74708330,"question_id":74648613,"body_markdown":"Font from https://www.wfonts.com/font/stsong worked.\r\n\r\n```PDFont font = PDType0Font.load(document, new File(&quot;//path/to/ttf/chinese.stsong.ttf&quot;));```\r\n\r\nCouldn&#39;t find any licensing info from https://en.wikipedia.org/wiki/List_of_CJK_fonts.","title":"How to use asian font (specifically STSongStd-Light) with apache pdfbox to generate a pdf document?","body":"<p>Font from <a href=\"https://www.wfonts.com/font/stsong\" rel=\"nofollow noreferrer\">https://www.wfonts.com/font/stsong</a> worked.</p>\n<p><code>PDFont font = PDType0Font.load(document, new File(&quot;//path/to/ttf/chinese.stsong.ttf&quot;));</code></p>\n<p>Couldn't find any licensing info from <a href=\"https://en.wikipedia.org/wiki/List_of_CJK_fonts\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_CJK_fonts</a>.</p>\n"}],"owner":{"account_id":4167246,"reputation":186,"user_id":3415962,"accept_rate":50,"display_name":"manji369"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670356466,"creation_date":1669931757,"question_id":74648613,"body_markdown":"I have an existing piece of code in Java using the older version of third-party library iText to generate a pdf with asian text using asian font.\r\n\r\n```\r\nBaseFont baseFont = BaseFont.createFont(&quot;STSongStd-Light&quot;, &quot;UniGB-UCS2-H&quot;, NOT_EMBEDDED);\r\ncontent.setFontAndSize(baseFont, 15);\r\n```\r\n\r\nI now want to do the same using apache pdfbox as the iText thing requires licensing etc.\r\nDoes anyone know if this is achievable using apache pdfbox?\r\n\r\nSo far, I have found https://github.com/adobe-type-tools/Adobe-GB1#since-the-2000-11-30supplement-4version mentioning that StSong font is supported in Adobe-GB1 and also found this method called getCIDFont https://pdfbox.apache.org/docs/2.0.13/javadocs/org/apache/pdfbox/pdmodel/font/FontMapper.html that might be able to do this. But, I am not exactly able to figure out how to do this. \r\n\r\n```\r\n# Not sure how these dictionaries should look like?\r\nCOSDictionary type0fontdescriptor = new COSDictionary();\r\nCOSDictionary fontdescriptor = new COSDictionary();\r\nPDCIDFontType2 pdcidFontType2 = new PDCIDFontType2(fontdescriptor, new PDType0Font(type0fontdescriptor), null);\r\nTrueTypeFont ttf = pdcidFontType2.getTrueTypeFont();\r\n# Not sure what encoding should be used\r\nPDFont font = PDTrueTypeFont.load(document, ttf, Encoding.getInstance(COSName.STANDARD_ENCODING));\r\n```\r\n\r\nI have also found the ttf file for this font over here https://github.com/asmpg/AwesomeUtils/blob/master/src/main/java/com/asomepig/tika/STSong-Light.ttf. Not sure what if we need any license to use it though. But, even when I try to load the ttf to see if we can render there&#39;s an exception thrown like this.\r\n\r\n```\r\nPDFont font =\r\n        PDTrueTypeFont.load(\r\n            document,\r\n            new File(basePath + &quot;ttfs/STSong-Light.ttf&quot;),\r\n            Encoding.getInstance(COSName.STANDARD_ENCODING));\r\n\r\nException in thread &quot;main&quot; java.io.IOException: head is mandatory\r\n\tat org.apache.fontbox.ttf.TTFParser.parseTables(TTFParser.java:197)\r\n\tat org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:165)\r\n\tat org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:91)\r\n\tat org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.load(PDTrueTypeFont.java:93)\r\n```\r\n\r\nDoes anyone have an idea of what&#39;s the best way to use StSong font with apache pdfbox? Is it even possible?","title":"How to use asian font (specifically STSongStd-Light) with apache pdfbox to generate a pdf document?","body":"<p>I have an existing piece of code in Java using the older version of third-party library iText to generate a pdf with asian text using asian font.</p>\n<pre><code>BaseFont baseFont = BaseFont.createFont(&quot;STSongStd-Light&quot;, &quot;UniGB-UCS2-H&quot;, NOT_EMBEDDED);\ncontent.setFontAndSize(baseFont, 15);\n</code></pre>\n<p>I now want to do the same using apache pdfbox as the iText thing requires licensing etc.\nDoes anyone know if this is achievable using apache pdfbox?</p>\n<p>So far, I have found <a href=\"https://github.com/adobe-type-tools/Adobe-GB1#since-the-2000-11-30supplement-4version\" rel=\"nofollow noreferrer\">https://github.com/adobe-type-tools/Adobe-GB1#since-the-2000-11-30supplement-4version</a> mentioning that StSong font is supported in Adobe-GB1 and also found this method called getCIDFont <a href=\"https://pdfbox.apache.org/docs/2.0.13/javadocs/org/apache/pdfbox/pdmodel/font/FontMapper.html\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/docs/2.0.13/javadocs/org/apache/pdfbox/pdmodel/font/FontMapper.html</a> that might be able to do this. But, I am not exactly able to figure out how to do this.</p>\n<pre><code># Not sure how these dictionaries should look like?\nCOSDictionary type0fontdescriptor = new COSDictionary();\nCOSDictionary fontdescriptor = new COSDictionary();\nPDCIDFontType2 pdcidFontType2 = new PDCIDFontType2(fontdescriptor, new PDType0Font(type0fontdescriptor), null);\nTrueTypeFont ttf = pdcidFontType2.getTrueTypeFont();\n# Not sure what encoding should be used\nPDFont font = PDTrueTypeFont.load(document, ttf, Encoding.getInstance(COSName.STANDARD_ENCODING));\n</code></pre>\n<p>I have also found the ttf file for this font over here <a href=\"https://github.com/asmpg/AwesomeUtils/blob/master/src/main/java/com/asomepig/tika/STSong-Light.ttf\" rel=\"nofollow noreferrer\">https://github.com/asmpg/AwesomeUtils/blob/master/src/main/java/com/asomepig/tika/STSong-Light.ttf</a>. Not sure what if we need any license to use it though. But, even when I try to load the ttf to see if we can render there's an exception thrown like this.</p>\n<pre><code>PDFont font =\n        PDTrueTypeFont.load(\n            document,\n            new File(basePath + &quot;ttfs/STSong-Light.ttf&quot;),\n            Encoding.getInstance(COSName.STANDARD_ENCODING));\n\nException in thread &quot;main&quot; java.io.IOException: head is mandatory\n    at org.apache.fontbox.ttf.TTFParser.parseTables(TTFParser.java:197)\n    at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:165)\n    at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:91)\n    at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.load(PDTrueTypeFont.java:93)\n</code></pre>\n<p>Does anyone have an idea of what's the best way to use StSong font with apache pdfbox? Is it even possible?</p>\n"},{"tags":["java","junit","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1537194904,"creation_date":1537194904,"answer_id":52370155,"question_id":52302398,"body_markdown":"Mock MVC is only a tool to make it possible to call the methods marked with `@GetMapping`, `@PostMapping`, etc.\r\n\r\nThe post method from the controller is actually the method that you need to test and it should not be mocked, that&#39;s why you hit the real endpoint.\r\n\r\nI suggest you to restructure your controller in the way that the post method will only delegate the job of sending a request to a service. That way your controller will have only one line of code (service call) and at the same time you&#39;ll be able to mock the service so that it doesn&#39;t hit the real endpoint.","title":"MockMVC - How to test post to an endpoint without having mockMvc make the actual post?","body":"<p>Mock MVC is only a tool to make it possible to call the methods marked with <code>@GetMapping</code>, <code>@PostMapping</code>, etc.</p>\n\n<p>The post method from the controller is actually the method that you need to test and it should not be mocked, that's why you hit the real endpoint.</p>\n\n<p>I suggest you to restructure your controller in the way that the post method will only delegate the job of sending a request to a service. That way your controller will have only one line of code (service call) and at the same time you'll be able to mock the service so that it doesn't hit the real endpoint.</p>\n"},{"tags":[],"owner":{"account_id":1022685,"reputation":1563,"user_id":1032640,"accept_rate":71,"display_name":"Wael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670355393,"creation_date":1670355393,"answer_id":74708154,"question_id":52302398,"body_markdown":"You could also use @MockBean to mock the service, this way it will not do any real calls, hope this helps to anyone who gets same issue in the future.","title":"MockMVC - How to test post to an endpoint without having mockMvc make the actual post?","body":"<p>You could also use @MockBean to mock the service, this way it will not do any real calls, hope this helps to anyone who gets same issue in the future.</p>\n"}],"owner":{"account_id":12331913,"reputation":651,"user_id":8997572,"accept_rate":57,"display_name":"kramsiv94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52370155,"answer_count":2,"score":2,"last_activity_date":1670355393,"creation_date":1536781635,"question_id":52302398,"body_markdown":"I have a REST endpoint I&#39;d like to test.  Hitting this endpoint via a POST request uploads a file in a remote git repo. I&#39;m trying to test POST calls to this endpoint using mockMvc (I only want to see a return status &quot;isOk()&quot;) -- I don&#39;t want the endpoint actually being hit by my jUnits, as that would cause unecessary files to be uploaded to the repo and will need to be cleaned up later. \r\n\r\nMy problem is, mockMvc is making the actual POST call to the endpoint! wth! I thought this was all being mocked?! Is is possible to have mockMvc return isOk() without making the actual call to the endpoint and pushing files to my remote repo?","title":"MockMVC - How to test post to an endpoint without having mockMvc make the actual post?","body":"<p>I have a REST endpoint I'd like to test.  Hitting this endpoint via a POST request uploads a file in a remote git repo. I'm trying to test POST calls to this endpoint using mockMvc (I only want to see a return status \"isOk()\") -- I don't want the endpoint actually being hit by my jUnits, as that would cause unecessary files to be uploaded to the repo and will need to be cleaned up later. </p>\n\n<p>My problem is, mockMvc is making the actual POST call to the endpoint! wth! I thought this was all being mocked?! Is is possible to have mockMvc return isOk() without making the actual call to the endpoint and pushing files to my remote repo?</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1555504972,"post_id":55727729,"comment_id":98134476,"body_markdown":"If I cut your code from https://codeshare.io/5Z03ve and I run it on https://www.jdoodle.com/online-java-compiler I get the same error","body":"If I cut your code from <a href=\"https://codeshare.io/5Z03ve\" rel=\"nofollow noreferrer\">codeshare.io/5Z03ve</a> and I run it on <a href=\"https://www.jdoodle.com/online-java-compiler\" rel=\"nofollow noreferrer\">jdoodle.com/online-java-compiler</a> I get the same error"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1555505157,"post_id":55727729,"comment_id":98134570,"body_markdown":"Please read &quot;How to create a [mcve]&quot;. Then use the [edit] link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you.","body":"Please read &quot;How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Then use the <a href=\"https://stackoverflow.com/posts/55727729/edit\">edit</a> link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1555505163,"post_id":55727729,"comment_id":98134573,"body_markdown":"Please read [no pictures of exceptions](http://idownvotedbecau.se/imageofanexception/) / [no pictures of code](http://idownvotedbecau.se/imageofcode). Then use the [edit] link to replace screen shots of text with nicely formatted/indented text within your quesiton.","body":"Please read <a href=\"http://idownvotedbecau.se/imageofanexception/\" rel=\"nofollow noreferrer\">no pictures of exceptions</a> / <a href=\"http://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">no pictures of code</a>. Then use the <a href=\"https://stackoverflow.com/posts/55727729/edit\">edit</a> link to replace screen shots of text with nicely formatted/indented text within your quesiton."},{"owner":{"account_id":145051,"reputation":130079,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1670354799,"post_id":55727729,"comment_id":131856151,"body_markdown":"Please don&#39;t vandalize your question. It has already been marked as a duplicate of another question, no need to replace your question text with another link.","body":"Please don&#39;t vandalize your question. It has already been marked as a duplicate of another question, no need to replace your question text with another link."}],"answers":[{"tags":[],"owner":{"account_id":11736320,"reputation":72,"user_id":8589958,"display_name":"megatunger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1555504926,"creation_date":1555504926,"answer_id":55727803,"question_id":55727729,"body_markdown":"Pay attention while copying code, you&#39;ve changed class name so Java didn&#39;t know what BinaryTree is.\r\n\r\nReplace\r\n```\r\npublic static void main(String[] args) {\r\nBinaryTree theTree = new BinaryTree();\r\n```\r\nBy this \r\n```\r\npublic static void main(String[] args) {\r\nJavaExercises theTree = new JavaExercises();\r\n```","title":"Error when compiling Java program in terminal with javac","body":"<p>Pay attention while copying code, you've changed class name so Java didn't know what BinaryTree is.</p>\n\n<p>Replace</p>\n\n<pre><code>public static void main(String[] args) {\nBinaryTree theTree = new BinaryTree();\n</code></pre>\n\n<p>By this </p>\n\n<pre><code>public static void main(String[] args) {\nJavaExercises theTree = new JavaExercises();\n</code></pre>\n"}],"owner":{"account_id":15333283,"reputation":37,"user_id":11062416,"display_name":"Ian Kuzin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1555505677,"accepted_answer_id":55727803,"answer_count":1,"score":-4,"last_activity_date":1670354749,"creation_date":1555504599,"question_id":55727729,"body_markdown":"When trying to compile program demonstrating the use of Binary Search Tree inside terminal, javac throws error on some line in my code. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n \r\n\r\n\r\nAlthough when compiling exactly the same code within (https://www.jdoodle.com/online-java-compiler) no error encountered and works just fine.\r\n\r\n\r\nHere&#39;s the actual code that i have to deal with.\r\nhttps://codeshare.io/5Z03ve\r\n\r\nExpected Output is:\r\n\r\nNode with the key 75\r\n\r\nSales Manager has the key 75\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YcEKe.jpg","title":"Error when compiling Java program in terminal with javac","body":"<p>When trying to compile program demonstrating the use of Binary Search Tree inside terminal, javac throws error on some line in my code.</p>\n<p><a href=\"https://i.stack.imgur.com/YcEKe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YcEKe.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Although when compiling exactly the same code within (<a href=\"https://www.jdoodle.com/online-java-compiler\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/online-java-compiler</a>) no error encountered and works just fine.</p>\n<p>Here's the actual code that i have to deal with.\n<a href=\"https://codeshare.io/5Z03ve\" rel=\"nofollow noreferrer\">https://codeshare.io/5Z03ve</a></p>\n<p>Expected Output is:</p>\n<p>Node with the key 75</p>\n<p>Sales Manager has the key 75</p>\n"},{"tags":["javascript","java","spring-boot","spring-security","csrf"],"answers":[{"tags":[],"owner":{"account_id":14180701,"reputation":11,"user_id":10244439,"display_name":"joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670354691,"creation_date":1670354691,"answer_id":74708050,"question_id":74706332,"body_markdown":"The answer was to add the csrf token to the header instead of the body with the name X-CSRF-TOKEN","title":"How can I make spring security accept csrf tokens that are sent via json. It&#39;s currently working via multipart/form-data but not application/json","body":"<p>The answer was to add the csrf token to the header instead of the body with the name X-CSRF-TOKEN</p>\n"}],"owner":{"account_id":14180701,"reputation":11,"user_id":10244439,"display_name":"joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670354691,"creation_date":1670345801,"question_id":74706332,"body_markdown":"I believe the issue lies in the spring security module not being setup by default to parse json input. Issue is i have no clue where to look as i&#39;ve been duckduckgo-ing this problem on and off for the last couple weeks to no avail. This is specifically for the logout button. It requires a form submission to logout and the form submission requires the csrf token. The form will submit and logout successfully if the enctype is multipart/formdata but fails on any other type. The request is being sent via fetch. The return status code is 403 forbidden as it would be if there was a csrf issue.\r\n\r\nAny help would be much appreciated.\r\nThanks\r\nJoseph\r\n\r\nI have tried to use https://ckinan.com/blog/spring-security-credentials-from-json-request/ but it wasn&#39;t what I needed. It let me change the credentials into json but I don&#39;t believe it&#39;s what i need unless i&#39;m thinking of this wrong and there is a way I can use it.","title":"How can I make spring security accept csrf tokens that are sent via json. It&#39;s currently working via multipart/form-data but not application/json","body":"<p>I believe the issue lies in the spring security module not being setup by default to parse json input. Issue is i have no clue where to look as i've been duckduckgo-ing this problem on and off for the last couple weeks to no avail. This is specifically for the logout button. It requires a form submission to logout and the form submission requires the csrf token. The form will submit and logout successfully if the enctype is multipart/formdata but fails on any other type. The request is being sent via fetch. The return status code is 403 forbidden as it would be if there was a csrf issue.</p>\n<p>Any help would be much appreciated.\nThanks\nJoseph</p>\n<p>I have tried to use <a href=\"https://ckinan.com/blog/spring-security-credentials-from-json-request/\" rel=\"nofollow noreferrer\">https://ckinan.com/blog/spring-security-credentials-from-json-request/</a> but it wasn't what I needed. It let me change the credentials into json but I don't believe it's what i need unless i'm thinking of this wrong and there is a way I can use it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670351801,"post_id":74707407,"comment_id":131855219,"body_markdown":"You&#39;d be much better off describing your goal in plain language without technical terms. It&#39;s difficult to know what you want, and at the moment, your inner loop makes little sense at all, running either not at all or once per outer","body":"You&#39;d be much better off describing your goal in plain language without technical terms. It&#39;s difficult to know what you want, and at the moment, your inner loop makes little sense at all, running either not at all or once per outer"}],"answers":[{"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670354177,"creation_date":1670354177,"answer_id":74707976,"question_id":74707407,"body_markdown":"There are many types of ways you can store multiple values, they are called [Collections][1].\r\nArrays are great at storing values, but bad at taking one out, because they are numbered, and you can&#39;t just take one out. (see above)\r\n\r\nSo instead just use a list, and convert it into an array if you must.\r\n\r\n    public String Search(String type) {\r\n        List&lt;String&gt; animalList = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; animals.length; i++) {\r\n            if (animals[i] != null) {\r\n                while (animals[i].getClassification().equalsIgnoreCase(type)) {\r\n                    animalList.add(animals[i].getName());\r\n                    break;\r\n                }\r\n            }\r\n\r\n            String[] animalTypes = animalList.toArray(new String[0]);\r\n            String printAnimalTypes = Arrays.toString(animalTypes);\r\n            return printAnimalTypes;\r\n    \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html","title":"Change or remove null value when printing search method","body":"<p>There are many types of ways you can store multiple values, they are called <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"nofollow noreferrer\">Collections</a>.\nArrays are great at storing values, but bad at taking one out, because they are numbered, and you can't just take one out. (see above)</p>\n<p>So instead just use a list, and convert it into an array if you must.</p>\n<pre><code>public String Search(String type) {\n    List&lt;String&gt; animalList = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; animals.length; i++) {\n        if (animals[i] != null) {\n            while (animals[i].getClassification().equalsIgnoreCase(type)) {\n                animalList.add(animals[i].getName());\n                break;\n            }\n        }\n\n        String[] animalTypes = animalList.toArray(new String[0]);\n        String printAnimalTypes = Arrays.toString(animalTypes);\n        return printAnimalTypes;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670354225,"creation_date":1670354225,"answer_id":74707984,"question_id":74707407,"body_markdown":"You code initializes the array and then selectively puts the elements in it (leaving the interm values as null). For example - if the animals at index `0` and `3` match the type, only the array elements `0` and `3` will be initialized with the name (leaving the values at `1` and `2` as `null`). \r\n\r\nOne way you can handle this is to put a separate index/counter variable that you increment only if there is a match. \r\n\r\nAnother way is to replace your `while` condition with an `if` condition and add a &#39;blank&#39; in the else part","title":"Change or remove null value when printing search method","body":"<p>You code initializes the array and then selectively puts the elements in it (leaving the interm values as null). For example - if the animals at index <code>0</code> and <code>3</code> match the type, only the array elements <code>0</code> and <code>3</code> will be initialized with the name (leaving the values at <code>1</code> and <code>2</code> as <code>null</code>).</p>\n<p>One way you can handle this is to put a separate index/counter variable that you increment only if there is a match.</p>\n<p>Another way is to replace your <code>while</code> condition with an <code>if</code> condition and add a 'blank' in the else part</p>\n"}],"owner":{"account_id":27116522,"reputation":7,"user_id":20660992,"display_name":"Julian Bocanegra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670354513,"creation_date":1670351032,"question_id":74707407,"body_markdown":"I am making a method in which I compare 2 values and if they are equal I store the different results in an array, what happens is that the null values are printed. I would like to know how I can replace those null values with blanks or directly delete them.\r\n\r\n\r\n```\r\n    public String Search(String type) {\r\n        String[] animalTypes;\r\n        animalTypes = new String[50];\r\n        for (int i = 0; i &lt; animals.length; i++) {\r\n            if (animals[i] != null) {\r\n                while (animals[i].getClassification().equalsIgnoreCase(type)) {\r\n                    animalTypes[i] = animals[i].getName();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n            String printAnimalTypes = Arrays.toString(animalTypes);\r\n            return printAnimalTypes;\r\n    }\r\n```\r\n\r\n\r\nThe idea would be that at the moment of storing the array it would ask if it was null and if so it would not store it so that at the moment of printing it would not print it.","title":"Change or remove null value when printing search method","body":"<p>I am making a method in which I compare 2 values and if they are equal I store the different results in an array, what happens is that the null values are printed. I would like to know how I can replace those null values with blanks or directly delete them.</p>\n<pre><code>    public String Search(String type) {\n        String[] animalTypes;\n        animalTypes = new String[50];\n        for (int i = 0; i &lt; animals.length; i++) {\n            if (animals[i] != null) {\n                while (animals[i].getClassification().equalsIgnoreCase(type)) {\n                    animalTypes[i] = animals[i].getName();\n                    break;\n                }\n            }\n        }\n\n            String printAnimalTypes = Arrays.toString(animalTypes);\n            return printAnimalTypes;\n    }\n</code></pre>\n<p>The idea would be that at the moment of storing the array it would ask if it was null and if so it would not store it so that at the moment of printing it would not print it.</p>\n"},{"tags":["javascript","java","button","click","element"],"comments":[{"owner":{"account_id":19290203,"reputation":350,"user_id":14100401,"display_name":"Onki Hara"},"score":0,"creation_date":1670353253,"post_id":74707748,"comment_id":131855685,"body_markdown":"There is no button element in your code provided - you can eather create a button elemnt via javascript or attach the clikk-handler to an html-element.","body":"There is no button element in your code provided - you can eather create a button elemnt via javascript or attach the clikk-handler to an html-element."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670406027,"post_id":74707748,"comment_id":131867156,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27168871,"reputation":11,"user_id":20705905,"display_name":"Ran Yohanan"},"score":0,"creation_date":1670786951,"post_id":74707748,"comment_id":131948863,"body_markdown":"sorry for the misunderstanding im new at this.\ni created a button already inside the html,\nmy problem is that the button isn&#39;t working.\ni wanted to create a guess program which the user guess one of those &#39;teams&#39;\nand the program would pick one of them randomly.\ni created the button and also kind of search bar for the guess but still not working.","body":"sorry for the misunderstanding im new at this. i created a button already inside the html, my problem is that the button isn&#39;t working. i wanted to create a guess program which the user guess one of those &#39;teams&#39; and the program would pick one of them randomly. i created the button and also kind of search bar for the guess but still not working."}],"answers":[{"tags":[],"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670353809,"creation_date":1670353809,"answer_id":74707936,"question_id":74707748,"body_markdown":"Are you trying to make the text of a button read as your secretTeam variable?  You would do that like this:\r\n\r\n    &lt;script&gt;\r\n        var button = document.createElement(&#39;button&#39;);\r\n        button.textContent = secretTeam;\r\n        button.setAttribute(&#39;id&#39;, &#39;some-id&#39;);\r\n        button.setAttribute(&#39;type&#39;, &#39;button&#39;);\r\n        document.getElementById(&#39;root&#39;).appendChild(button);\r\n    &lt;/script&gt;\r\n","title":"how can i apply the button function properly on the code?","body":"<p>Are you trying to make the text of a button read as your secretTeam variable?  You would do that like this:</p>\n<pre><code>&lt;script&gt;\n    var button = document.createElement('button');\n    button.textContent = secretTeam;\n    button.setAttribute('id', 'some-id');\n    button.setAttribute('type', 'button');\n    document.getElementById('root').appendChild(button);\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":27168871,"reputation":11,"user_id":20705905,"display_name":"Ran Yohanan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670353809,"creation_date":1670352812,"question_id":74707748,"body_markdown":"need to apply a button, that will show one of the options that i defiend.\r\n\r\n```\r\n let teams = [&quot;atalanta&quot;, &quot;Bologna&quot;, &quot;Cremonese&quot;, &quot;Empoli&quot;, &quot;Fiorentina&quot;, \r\n&quot;Verona&quot;, &quot;Inter&quot;, &quot;Juventus&quot;, &quot;Lazio&quot;, &quot;Lecce&quot;, &quot;Milan&quot;, &quot;Monza&quot;,\r\n &quot;Napoli&quot;, &quot;Roma&quot;, &quot;Salernitana&quot;, &quot;Sampdoria&quot;, &quot;Sassuolo&quot;, &quot;Spezia&quot;,\r\n  &quot;Torino&quot;, &quot;Udinese&quot;];\r\n\r\n  let secretTeam = teams[Math.floor(Math.random() * 20)];\r\n  console.log(secretTeam);\r\n\r\nElement.querySelector(&#39;.search&#39;).addEventListener(&#39;.click&#39; , function(){\r\nconst guess = (document.querySelector(&#39;.guess&#39;));\r\n\r\n  \r\n    }\r\n    \r\n```","title":"how can i apply the button function properly on the code?","body":"<p>need to apply a button, that will show one of the options that i defiend.</p>\n<pre><code> let teams = [&quot;atalanta&quot;, &quot;Bologna&quot;, &quot;Cremonese&quot;, &quot;Empoli&quot;, &quot;Fiorentina&quot;, \n&quot;Verona&quot;, &quot;Inter&quot;, &quot;Juventus&quot;, &quot;Lazio&quot;, &quot;Lecce&quot;, &quot;Milan&quot;, &quot;Monza&quot;,\n &quot;Napoli&quot;, &quot;Roma&quot;, &quot;Salernitana&quot;, &quot;Sampdoria&quot;, &quot;Sassuolo&quot;, &quot;Spezia&quot;,\n  &quot;Torino&quot;, &quot;Udinese&quot;];\n\n  let secretTeam = teams[Math.floor(Math.random() * 20)];\n  console.log(secretTeam);\n\nElement.querySelector('.search').addEventListener('.click' , function(){\nconst guess = (document.querySelector('.guess'));\n\n  \n    }\n    \n</code></pre>\n"},{"tags":["java","android","mvvm","android-workmanager","dagger-hilt"],"comments":[{"owner":{"account_id":11815175,"reputation":329,"user_id":8645577,"display_name":"charlie.7"},"score":0,"creation_date":1670350382,"post_id":74706902,"comment_id":131854775,"body_markdown":"Can you share your dagger injection Module where you created instances of ApiService and TodayDao?","body":"Can you share your dagger injection Module where you created instances of ApiService and TodayDao?"},{"owner":{"account_id":7336923,"reputation":593,"user_id":5587982,"display_name":"A. Cedano"},"score":0,"creation_date":1670350738,"post_id":74706902,"comment_id":131854883,"body_markdown":"@charlie.7 I added the two injection modules.","body":"@charlie.7 I added the two injection modules."}],"answers":[{"tags":[],"owner":{"account_id":11815175,"reputation":329,"user_id":8645577,"display_name":"charlie.7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670353589,"creation_date":1670353284,"answer_id":74707848,"question_id":74706902,"body_markdown":" You can try with Injecting instance of `ApiService` and `TodayDao` as variable in your worker.\r\n\r\n    @HiltWorker\r\n    public class SyncWorker extends Worker {\r\n    \r\n        @Inject\r\n        ApiService workerDependency;\r\n    \r\n        @Inject\r\n        TodayDao mTodayDao;\r\n    \r\n        @AssistedInject\r\n        public TestWorker(\r\n                @Assisted @NonNull Context context,\r\n                @Assisted @NonNull WorkerParameters workerParams\r\n        ) {\r\n            super(context, workerParams);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n    \r\n            ...\r\n    \r\n            return Result.success();\r\n        }\r\n    }\r\n\r\n","title":"How can I use my ApiService and Room Dao into WorkManager with Hilt, implementing MVVM pattern?","body":"<p>You can try with Injecting instance of <code>ApiService</code> and <code>TodayDao</code> as variable in your worker.</p>\n<pre><code>@HiltWorker\npublic class SyncWorker extends Worker {\n\n    @Inject\n    ApiService workerDependency;\n\n    @Inject\n    TodayDao mTodayDao;\n\n    @AssistedInject\n    public TestWorker(\n            @Assisted @NonNull Context context,\n            @Assisted @NonNull WorkerParameters workerParams\n    ) {\n        super(context, workerParams);\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n\n        ...\n\n        return Result.success();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7336923,"reputation":593,"user_id":5587982,"display_name":"A. Cedano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74707848,"answer_count":1,"score":0,"last_activity_date":1670353589,"creation_date":1670348406,"question_id":74706902,"body_markdown":"I want to use my ApiService and my Room Dao in the WorkManager class implementing the MVVM pattern and Hilt as dependency injection.\r\n\r\nThis is my code:\r\n\r\n### ViewModel\r\n\r\n    @HiltViewModel\r\n    public class SyncViewModel extends ViewModel {\r\n    \r\n        private final SyncRepository mRepository;\r\n    \r\n        @Inject\r\n        public SyncViewModel(SyncRepository repository) {\r\n            mRepository = repository;\r\n        }\r\n    \r\n        public LiveData&lt;SyncStatus&gt; getObservable() {\r\n            return mRepository.getFromDB();\r\n        }\r\n    \r\n        public void launchSync(){\r\n            mRepository.launchWorker();\r\n        }\r\n    }\r\n\r\n### Repository\r\n\r\n    public class SyncRepository {\r\n        final ApiService apiService;\r\n        private final LiveData&lt;SyncStatus&gt; mData;\r\n        final Context context;\r\n    \r\n        @Inject\r\n        public SyncRepository(\r\n                ApiService apiService,\r\n                TodayDao todayDao, @ApplicationContext Context context) {\r\n            this.apiService = apiService;\r\n            this.mData= todayDao.getSyncInfo();\r\n            this.context = context;\r\n        }\r\n    \r\n        public LiveData&lt;SyncStatus&gt; getFromDB() {\r\n            return mData;\r\n        }\r\n    \r\n        public void launchWorker() {\r\n            WorkManager mWorkManager = WorkManager.getInstance(this.context);\r\n    \r\n            // Create Network constraint\r\n            Constraints constraints = new Constraints.Builder()\r\n                    .setRequiredNetworkType(NetworkType.CONNECTED)\r\n                    .build();\r\n    \r\n            PeriodicWorkRequest periodicSyncDataWork =\r\n                    new PeriodicWorkRequest.Builder(SyncWorker.class, 15, TimeUnit.MINUTES)\r\n                            .addTag(&quot;TAG_SYNC_DATA&quot;)\r\n                            .setConstraints(constraints)\r\n                            //.setInputData(inputData)\r\n                            // setting a backoff on case the work needs to retry\r\n                            .setBackoffCriteria(BackoffPolicy.LINEAR, PeriodicWorkRequest.MIN_BACKOFF_MILLIS, TimeUnit.MILLISECONDS)\r\n                            .build();\r\n            mWorkManager.enqueueUniquePeriodicWork(\r\n                    &quot;SYNC_TODAY&quot;,\r\n                    ExistingPeriodicWorkPolicy.REPLACE, //Existing Periodic Work\r\n                    // policy\r\n                    periodicSyncDataWork //work request\r\n            );\r\n    \r\n        }\r\n    }\r\n\r\n### Worker\r\n\r\n    @HiltWorker\r\n    public class SyncWorker extends Worker {\r\n    \r\n        private final ApiService workerDependency;\r\n        private final TodayDao mTodayDao;\r\n        private SyncRequest syncRequest;\r\n    \r\n        @AssistedInject\r\n        public SyncWorker(\r\n                @Assisted @NonNull Context context,\r\n                @Assisted @NonNull WorkerParameters params,\r\n                ApiService workerDependency,\r\n                TodayDao mTodayDao\r\n    \r\n        ) {\r\n            super(context, params);\r\n            this.workerDependency = workerDependency;\r\n            this.mTodayDao = mTodayDao;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n    \r\n            try {\r\n                setSyncRequest();\r\n                loadCrud();\r\n                return Result.success();\r\n            } catch (Throwable e) {\r\n                return Result.failure();\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        private void setSyncRequest() {\r\n            // ...\r\n        }\r\n    \r\n        public void loadCrud() {\r\n            workerDependency.callInsert(syncRequest)\r\n                    .subscribeOn(Schedulers.io())\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribe(new DisposableSingleObserver&lt;Crud&gt;() {\r\n    \r\n                        @Override\r\n                        public void onStart() {\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onSuccess(Crud r) {\r\n                            try {\r\n                                if (r.haveData) {\r\n                                    r.doCrud(mTodayDao);\r\n                                    mTodayDao.syncUpdate(r.lastUpdate);\r\n                                }\r\n                            } catch (Exception e) {\r\n                                Log.e(&quot;ERR&quot;, e.getMessage());\r\n    \r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onError(Throwable e) {\r\n                            Log.e(&quot;ERR&quot;, e.getMessage());   \r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n### Module (TodayDao)\r\n\r\n    @Module\r\n    @InstallIn(SingletonComponent.class)\r\n    \r\n    public class DatabaseModule {\r\n    \r\n        @Provides\r\n        @Singleton\r\n        public static AppDatabase provideDatabase(Application application){\r\n            return Room.databaseBuilder(application,AppDatabase.class,\r\n                    &quot;MyDB&quot;)\r\n                    .createFromAsset(&quot;database/mydb_v0001.db&quot;)\r\n                    .fallbackToDestructiveMigration()\r\n                    .allowMainThreadQueries()\r\n                    .build();\r\n        }\r\n    \r\n        @Provides\r\n        @Singleton\r\n        public static TodayDao provideTodayDao(AppDatabase appDB){\r\n            return appDB.todayDao();\r\n        }\r\n    }\r\n\r\n### Module (ApiService)\r\n    \r\n    @Module\r\n    @InstallIn(SingletonComponent.class)\r\n    public abstract class NetworkModule {\r\n        @Provides\r\n        @Singleton\r\n        static Retrofit provideRetrofit(GsonConverterFactory gsonConverterFactory,\r\n                                        RxJava3CallAdapterFactory rxJava3CallAdapterFactory,\r\n                                        OkHttpClient okHttpClient\r\n        ) {    \r\n    \r\n            return new Retrofit.Builder().baseUrl(URL_API)\r\n                    .addConverterFactory(gsonConverterFactory)\r\n                    .addCallAdapterFactory(rxJava3CallAdapterFactory)    \r\n                    .client(okHttpClient)\r\n                    .build();\r\n        }   \r\n    \r\n        @Provides\r\n        @Singleton\r\n        static Context provideContext(Application application) {\r\n            return application;\r\n        }    \r\n    \r\n        @Provides\r\n        @Singleton\r\n        static OkHttpClient provideHttpClient(Application application) {\r\n            Dispatcher dispatcher = new Dispatcher();\r\n            HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n    \r\n            OkHttpClient.Builder client = new OkHttpClient.Builder()\r\n                    .connectTimeout(60, TimeUnit.SECONDS)\r\n                    .writeTimeout(60, TimeUnit.SECONDS)\r\n                    .readTimeout(60, TimeUnit.SECONDS)\r\n                    .dispatcher(dispatcher);\r\n    \r\n            client.addInterceptor(new ConnectivityIntecepter(application));\r\n            Interceptor interceptor = chain -&gt; {\r\n                Request original = chain.request();\r\n                Request request = original.newBuilder()\r\n                        .method(original.method(), original.body())\r\n                        .build();\r\n                return chain.proceed(request);\r\n            };\r\n            client.addInterceptor(interceptor);\r\n            client.interceptors().add(logging);\r\n            return client.build();\r\n        }    \r\n    \r\n        @Provides\r\n        @Singleton\r\n        static Gson provideGson() {\r\n            return new GsonBuilder().setLenient().create();\r\n        }\r\n        \r\n        @Provides\r\n        @Singleton\r\n        static GsonConverterFactory providesGsonConverterFactory() {\r\n            return GsonConverterFactory.create();\r\n        }\r\n    \r\n        @Provides\r\n        @Singleton\r\n        static RxJava3CallAdapterFactory providesRxJavaCallAdapterFactory() {\r\n            return RxJava3CallAdapterFactory.create();\r\n        }\r\n    \r\n        @Provides\r\n        @Singleton\r\n        static ApiService provideService(Retrofit retrofit) {\r\n            return retrofit.create(ApiService.class);\r\n        }\r\n    }\r\n\r\n### Manifest\r\n\r\n    &lt;application\r\n        ... &gt;\r\n        \r\n        &lt;provider\r\n            android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n            android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n            android:exported=&quot;false&quot;\r\n            tools:node=&quot;merge&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;androidx.work.WorkManagerInitializer&quot;\r\n                android:value=&quot;androidx.startup&quot;\r\n                tools:node=&quot;remove&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\nWhen trying to open the Fragment that launches the worker, it doesn&#39;t work, giving this error:\r\n\r\n&gt; E/WM-WorkerFactory: Could not instantiate\r\n&gt; org.my.app.workers.SyncWorker\r\n&gt;     java.lang.NoSuchMethodException: org.my.app.workers.SyncWorker.&lt;init&gt; [class android.content.Context,\r\n&gt; class androidx.work.WorkerParameters]\r\n&gt;         at java.lang.Class.getConstructor0(Class.java:2363)\r\n&gt;         at java.lang.Class.getDeclaredConstructor(Class.java:2201)\r\n&gt;         at androidx.work.WorkerFactory.createWorkerWithDefaultFallback(WorkerFactory.java:95)\r\n&gt;         at androidx.work.impl.WorkerWrapper.runWorker(WorkerWrapper.java:245)\r\n&gt;         at androidx.work.impl.WorkerWrapper.run(WorkerWrapper.java:137)\r\n&gt;         at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n&gt;         at java.lang.Thread.run(Thread.java:920) E/WM-WorkerWrapper: Could not create Worker org.my.app.workers.SyncWorker\r\n\r\nThe error occurs because I try to pass `ApiService workerDependency` and `TodayDao mTodayDao` into the constructor:\r\n\r\n    @AssistedInject\r\n    public SyncWorker(\r\n            @Assisted @NonNull Context context,\r\n            @Assisted @NonNull WorkerParameters params,\r\n            ApiService workerDependency,\r\n            TodayDao mTodayDao\r\n    ) {\r\n        super(context, params);\r\n        this.workerDependency = workerDependency;\r\n        this.mTodayDao=mTodayDao;\r\n    }\r\n\r\nIf I remove those two parameters, the error goes away:\r\n\r\n    @AssistedInject\r\n    public SyncWorker(\r\n            @Assisted @NonNull Context context,\r\n            @Assisted @NonNull WorkerParameters params\r\n    ) {\r\n        super(context, params);\r\n    }\r\n\r\nHow can you have a reference to `ApiService` and `TodayDao` in the class `SyncWorker`? What is the error in my code?\r\n\r\n","title":"How can I use my ApiService and Room Dao into WorkManager with Hilt, implementing MVVM pattern?","body":"<p>I want to use my ApiService and my Room Dao in the WorkManager class implementing the MVVM pattern and Hilt as dependency injection.</p>\n<p>This is my code:</p>\n<h3>ViewModel</h3>\n<pre><code>@HiltViewModel\npublic class SyncViewModel extends ViewModel {\n\n    private final SyncRepository mRepository;\n\n    @Inject\n    public SyncViewModel(SyncRepository repository) {\n        mRepository = repository;\n    }\n\n    public LiveData&lt;SyncStatus&gt; getObservable() {\n        return mRepository.getFromDB();\n    }\n\n    public void launchSync(){\n        mRepository.launchWorker();\n    }\n}\n</code></pre>\n<h3>Repository</h3>\n<pre><code>public class SyncRepository {\n    final ApiService apiService;\n    private final LiveData&lt;SyncStatus&gt; mData;\n    final Context context;\n\n    @Inject\n    public SyncRepository(\n            ApiService apiService,\n            TodayDao todayDao, @ApplicationContext Context context) {\n        this.apiService = apiService;\n        this.mData= todayDao.getSyncInfo();\n        this.context = context;\n    }\n\n    public LiveData&lt;SyncStatus&gt; getFromDB() {\n        return mData;\n    }\n\n    public void launchWorker() {\n        WorkManager mWorkManager = WorkManager.getInstance(this.context);\n\n        // Create Network constraint\n        Constraints constraints = new Constraints.Builder()\n                .setRequiredNetworkType(NetworkType.CONNECTED)\n                .build();\n\n        PeriodicWorkRequest periodicSyncDataWork =\n                new PeriodicWorkRequest.Builder(SyncWorker.class, 15, TimeUnit.MINUTES)\n                        .addTag(&quot;TAG_SYNC_DATA&quot;)\n                        .setConstraints(constraints)\n                        //.setInputData(inputData)\n                        // setting a backoff on case the work needs to retry\n                        .setBackoffCriteria(BackoffPolicy.LINEAR, PeriodicWorkRequest.MIN_BACKOFF_MILLIS, TimeUnit.MILLISECONDS)\n                        .build();\n        mWorkManager.enqueueUniquePeriodicWork(\n                &quot;SYNC_TODAY&quot;,\n                ExistingPeriodicWorkPolicy.REPLACE, //Existing Periodic Work\n                // policy\n                periodicSyncDataWork //work request\n        );\n\n    }\n}\n</code></pre>\n<h3>Worker</h3>\n<pre><code>@HiltWorker\npublic class SyncWorker extends Worker {\n\n    private final ApiService workerDependency;\n    private final TodayDao mTodayDao;\n    private SyncRequest syncRequest;\n\n    @AssistedInject\n    public SyncWorker(\n            @Assisted @NonNull Context context,\n            @Assisted @NonNull WorkerParameters params,\n            ApiService workerDependency,\n            TodayDao mTodayDao\n\n    ) {\n        super(context, params);\n        this.workerDependency = workerDependency;\n        this.mTodayDao = mTodayDao;\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n\n        try {\n            setSyncRequest();\n            loadCrud();\n            return Result.success();\n        } catch (Throwable e) {\n            return Result.failure();\n        }\n    }\n\n\n\n    private void setSyncRequest() {\n        // ...\n    }\n\n    public void loadCrud() {\n        workerDependency.callInsert(syncRequest)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(new DisposableSingleObserver&lt;Crud&gt;() {\n\n                    @Override\n                    public void onStart() {\n                    }\n\n                    @Override\n                    public void onSuccess(Crud r) {\n                        try {\n                            if (r.haveData) {\n                                r.doCrud(mTodayDao);\n                                mTodayDao.syncUpdate(r.lastUpdate);\n                            }\n                        } catch (Exception e) {\n                            Log.e(&quot;ERR&quot;, e.getMessage());\n\n                        }\n                    }\n\n                    @Override\n                    public void onError(Throwable e) {\n                        Log.e(&quot;ERR&quot;, e.getMessage());   \n                    }\n                });\n    }\n}\n</code></pre>\n<h3>Module (TodayDao)</h3>\n<pre><code>@Module\n@InstallIn(SingletonComponent.class)\n\npublic class DatabaseModule {\n\n    @Provides\n    @Singleton\n    public static AppDatabase provideDatabase(Application application){\n        return Room.databaseBuilder(application,AppDatabase.class,\n                &quot;MyDB&quot;)\n                .createFromAsset(&quot;database/mydb_v0001.db&quot;)\n                .fallbackToDestructiveMigration()\n                .allowMainThreadQueries()\n                .build();\n    }\n\n    @Provides\n    @Singleton\n    public static TodayDao provideTodayDao(AppDatabase appDB){\n        return appDB.todayDao();\n    }\n}\n</code></pre>\n<h3>Module (ApiService)</h3>\n<pre><code>@Module\n@InstallIn(SingletonComponent.class)\npublic abstract class NetworkModule {\n    @Provides\n    @Singleton\n    static Retrofit provideRetrofit(GsonConverterFactory gsonConverterFactory,\n                                    RxJava3CallAdapterFactory rxJava3CallAdapterFactory,\n                                    OkHttpClient okHttpClient\n    ) {    \n\n        return new Retrofit.Builder().baseUrl(URL_API)\n                .addConverterFactory(gsonConverterFactory)\n                .addCallAdapterFactory(rxJava3CallAdapterFactory)    \n                .client(okHttpClient)\n                .build();\n    }   \n\n    @Provides\n    @Singleton\n    static Context provideContext(Application application) {\n        return application;\n    }    \n\n    @Provides\n    @Singleton\n    static OkHttpClient provideHttpClient(Application application) {\n        Dispatcher dispatcher = new Dispatcher();\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n\n        OkHttpClient.Builder client = new OkHttpClient.Builder()\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .writeTimeout(60, TimeUnit.SECONDS)\n                .readTimeout(60, TimeUnit.SECONDS)\n                .dispatcher(dispatcher);\n\n        client.addInterceptor(new ConnectivityIntecepter(application));\n        Interceptor interceptor = chain -&gt; {\n            Request original = chain.request();\n            Request request = original.newBuilder()\n                    .method(original.method(), original.body())\n                    .build();\n            return chain.proceed(request);\n        };\n        client.addInterceptor(interceptor);\n        client.interceptors().add(logging);\n        return client.build();\n    }    \n\n    @Provides\n    @Singleton\n    static Gson provideGson() {\n        return new GsonBuilder().setLenient().create();\n    }\n    \n    @Provides\n    @Singleton\n    static GsonConverterFactory providesGsonConverterFactory() {\n        return GsonConverterFactory.create();\n    }\n\n    @Provides\n    @Singleton\n    static RxJava3CallAdapterFactory providesRxJavaCallAdapterFactory() {\n        return RxJava3CallAdapterFactory.create();\n    }\n\n    @Provides\n    @Singleton\n    static ApiService provideService(Retrofit retrofit) {\n        return retrofit.create(ApiService.class);\n    }\n}\n</code></pre>\n<h3>Manifest</h3>\n<pre><code>&lt;application\n    ... &gt;\n    \n    &lt;provider\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\n        android:authorities=&quot;${applicationId}.androidx-startup&quot;\n        android:exported=&quot;false&quot;\n        tools:node=&quot;merge&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;androidx.work.WorkManagerInitializer&quot;\n            android:value=&quot;androidx.startup&quot;\n            tools:node=&quot;remove&quot; /&gt;\n    &lt;/provider&gt;\n\n&lt;/application&gt;\n</code></pre>\n<p>When trying to open the Fragment that launches the worker, it doesn't work, giving this error:</p>\n<blockquote>\n<p>E/WM-WorkerFactory: Could not instantiate\norg.my.app.workers.SyncWorker\njava.lang.NoSuchMethodException: org.my.app.workers.SyncWorker. [class android.content.Context,\nclass androidx.work.WorkerParameters]\nat java.lang.Class.getConstructor0(Class.java:2363)\nat java.lang.Class.getDeclaredConstructor(Class.java:2201)\nat androidx.work.WorkerFactory.createWorkerWithDefaultFallback(WorkerFactory.java:95)\nat androidx.work.impl.WorkerWrapper.runWorker(WorkerWrapper.java:245)\nat androidx.work.impl.WorkerWrapper.run(WorkerWrapper.java:137)\nat androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nat java.lang.Thread.run(Thread.java:920) E/WM-WorkerWrapper: Could not create Worker org.my.app.workers.SyncWorker</p>\n</blockquote>\n<p>The error occurs because I try to pass <code>ApiService workerDependency</code> and <code>TodayDao mTodayDao</code> into the constructor:</p>\n<pre><code>@AssistedInject\npublic SyncWorker(\n        @Assisted @NonNull Context context,\n        @Assisted @NonNull WorkerParameters params,\n        ApiService workerDependency,\n        TodayDao mTodayDao\n) {\n    super(context, params);\n    this.workerDependency = workerDependency;\n    this.mTodayDao=mTodayDao;\n}\n</code></pre>\n<p>If I remove those two parameters, the error goes away:</p>\n<pre><code>@AssistedInject\npublic SyncWorker(\n        @Assisted @NonNull Context context,\n        @Assisted @NonNull WorkerParameters params\n) {\n    super(context, params);\n}\n</code></pre>\n<p>How can you have a reference to <code>ApiService</code> and <code>TodayDao</code> in the class <code>SyncWorker</code>? What is the error in my code?</p>\n"},{"tags":["c#","java","scientific-computing"],"answers":[{"tags":[],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1222233327,"creation_date":1222233327,"answer_id":125528,"question_id":125516,"body_markdown":"Not exactly sure what the question is, but you might want to check out [Fortress][1]\r\n\r\n\r\n  [1]: http://projectfortress.sun.com/Projects/Community","title":"Managed language for scientific computing software","body":"<p>Not exactly sure what the question is, but you might want to check out <a href=\"http://projectfortress.sun.com/Projects/Community\" rel=\"nofollow noreferrer\">Fortress</a></p>\n"},{"tags":[],"owner":{"account_id":9156,"reputation":18895,"user_id":16800,"display_name":"Guvante"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1222233437,"creation_date":1222233437,"answer_id":125530,"question_id":125516,"body_markdown":"You are asking a fundamentally flawed question. The entire point of managed languages is that you don&#39;t handle memory. That is handled by the Garbage Collector, while you can make certain actions to better allow it to do its job in an efficient manner, it is not your job to do its job.\r\n\r\nThe things you can do to improve performance in a world where performance is not controlled by you are simple. Make sure you don&#39;t hold onto references you don&#39;t need. And use stack based variables if you need more control over the situation.","title":"Managed language for scientific computing software","body":"<p>You are asking a fundamentally flawed question. The entire point of managed languages is that you don't handle memory. That is handled by the Garbage Collector, while you can make certain actions to better allow it to do its job in an efficient manner, it is not your job to do its job.</p>\n\n<p>The things you can do to improve performance in a world where performance is not controlled by you are simple. Make sure you don't hold onto references you don't need. And use stack based variables if you need more control over the situation.</p>\n"},{"tags":[],"owner":{"account_id":2767,"reputation":5319,"user_id":3892,"accept_rate":71,"display_name":"Steve Steiner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222233546,"creation_date":1222233546,"answer_id":125534,"question_id":125516,"body_markdown":"F# seems to be somewhat targeted at this audience. There is actually a book called [F# for scientists][1].\r\n\r\nAlso this [question][2] was asked over at Lambda the Ultimate.\r\n\r\n\r\n\r\n  [1]: http://www.ffconsultancy.com/products/fsharp_for_scientists/?fsb\r\n  [2]: http://lambda-the-ultimate.org/node/2720","title":"Managed language for scientific computing software","body":"<p>F# seems to be somewhat targeted at this audience. There is actually a book called <a href=\"http://www.ffconsultancy.com/products/fsharp_for_scientists/?fsb\" rel=\"nofollow noreferrer\">F# for scientists</a>.</p>\n\n<p>Also this <a href=\"http://lambda-the-ultimate.org/node/2720\" rel=\"nofollow noreferrer\">question</a> was asked over at Lambda the Ultimate.</p>\n"},{"tags":[],"owner":{"account_id":806,"reputation":123161,"user_id":1053,"accept_rate":81,"display_name":"Ed S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222233734,"creation_date":1222233734,"answer_id":125543,"question_id":125516,"body_markdown":"I would think that functional languages would be best suited to this type of task.","title":"Managed language for scientific computing software","body":"<p>I would think that functional languages would be best suited to this type of task.</p>\n"},{"tags":[],"owner":{"account_id":11077,"reputation":4866,"user_id":21204,"display_name":"J.J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222233838,"creation_date":1222233838,"answer_id":125547,"question_id":125516,"body_markdown":"With a managed language you don&#39;t get that control as easily. The whole point in these languages is to handle malloc, garbage, and so on. Each managed language will handle that differently.\r\n\r\nWith Perl running out of memory is considered a fatal error. You can save the day via some small measure with $^M but this is only if your compiler has been compiled with that feature, and you add code provisions for it.","title":"Managed language for scientific computing software","body":"<p>With a managed language you don't get that control as easily. The whole point in these languages is to handle malloc, garbage, and so on. Each managed language will handle that differently.</p>\n\n<p>With Perl running out of memory is considered a fatal error. You can save the day via some small measure with $^M but this is only if your compiler has been compiled with that feature, and you add code provisions for it.</p>\n"},{"tags":[],"owner":{"account_id":2114,"reputation":92355,"user_id":2915,"accept_rate":96,"display_name":"Adam Davis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222233934,"creation_date":1222233934,"answer_id":125553,"question_id":125516,"body_markdown":"You might be surprised at the number of people that use Matlab for this, and as it could be considered a programming language and certainly manages its own memory (with support for huge data sets, etc) then it should seriously be considered as a solution here.\r\n\r\nFurther, it will generate program code (may require a separate plugin?) so once you arrive at an algorithm you want to package up you can have it generate the C code to perform the work you originally had in your M script or simulink model.\r\n\r\n-Adam","title":"Managed language for scientific computing software","body":"<p>You might be surprised at the number of people that use Matlab for this, and as it could be considered a programming language and certainly manages its own memory (with support for huge data sets, etc) then it should seriously be considered as a solution here.</p>\n\n<p>Further, it will generate program code (may require a separate plugin?) so once you arrive at an algorithm you want to package up you can have it generate the C code to perform the work you originally had in your M script or simulink model.</p>\n\n<p>-Adam</p>\n"},{"tags":[],"owner":{"account_id":3480,"reputation":18540,"user_id":5022,"accept_rate":80,"display_name":"David Dibben"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222234798,"creation_date":1222234798,"answer_id":125589,"question_id":125516,"body_markdown":"\r\n\r\nI think I would paraphrase the question by saying is the .NET memory manager capable of handling the job of memory management for scientific computing where traditionally hand tuned routines have been used for improving memory performance, especially for very large (GByte) matrices? \r\n\r\nThe author of this article certainly believes that it is:\r\n[Harness the Features of C# to Power Your Scientific Computing Projects][1]\r\n\r\nAs others have pointed out, a major point of managed code is that you don&#39;t need to deal with memory management tasks yourself. This is a major advantage as it allows you to concentrate on the algorithms.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/magazine/cc163995.aspx","title":"Managed language for scientific computing software","body":"<p>I think I would paraphrase the question by saying is the .NET memory manager capable of handling the job of memory management for scientific computing where traditionally hand tuned routines have been used for improving memory performance, especially for very large (GByte) matrices? </p>\n\n<p>The author of this article certainly believes that it is:\n<a href=\"http://msdn.microsoft.com/en-us/magazine/cc163995.aspx\" rel=\"nofollow noreferrer\">Harness the Features of C# to Power Your Scientific Computing Projects</a></p>\n\n<p>As others have pointed out, a major point of managed code is that you don't need to deal with memory management tasks yourself. This is a major advantage as it allows you to concentrate on the algorithms.</p>\n"},{"tags":[],"owner":{"account_id":8185,"reputation":74392,"user_id":14606,"accept_rate":70,"display_name":"MusiGenesis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1222235372,"creation_date":1222235372,"answer_id":125608,"question_id":125516,"body_markdown":"Because of its overhead, a .NET application will incur a performance penalty relative to an unmanaged application.  However, because this overhead is more-or-less a constant unrelated to the overall size of the application (*WARNING:  over-simplification*), it becomes relatively less of a penalty the larger the application.\r\n\r\nSo I would go with .NET (so long as it provides you with the libraries you need).  Managing memory is a pain, and you have to do it a lot to be good at it.  Within .NET, choose whatever language you&#39;re most comfortable, so long as it&#39;s not J# or VB.NET and is C#.","title":"Managed language for scientific computing software","body":"<p>Because of its overhead, a .NET application will incur a performance penalty relative to an unmanaged application.  However, because this overhead is more-or-less a constant unrelated to the overall size of the application (<em>WARNING:  over-simplification</em>), it becomes relatively less of a penalty the larger the application.</p>\n\n<p>So I would go with .NET (so long as it provides you with the libraries you need).  Managing memory is a pain, and you have to do it a lot to be good at it.  Within .NET, choose whatever language you're most comfortable, so long as it's not J# or VB.NET and is C#.</p>\n"},{"tags":[],"owner":{"account_id":4651,"reputation":5191,"user_id":7084,"accept_rate":91,"display_name":"knatten"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1670353255,"creation_date":1222240710,"answer_id":125801,"question_id":125516,"body_markdown":"[Python][1] has become pretty big in scientific computing lately. It is a managed language, so you don&#39;t have to remember to free your memory. At the same time, it has packages for scientific and numerical computing ([NumPy][2], [SciPy][3]), which gives you performance similar to compiled languages. Also, Python can be pretty easily integrated with C code.\r\n\r\nPython is a very expressive language, making it easier to write and read than many traditional languages. It also resembles MATLAB in some ways, making it easier to use for scientists than, say, C++ or Fortran.\r\n\r\nThe [University of Oslo][4] has recently starting teaching Python as the default language for all science students outside the department of informatics (who still learn Java).\r\n\r\n[Simula Research Laboratory][5], which is heavily into scientific computing, partial differential equations etc., uses python extensively.\r\n\r\n\r\n  [1]: https://www.python.org/\r\n  [2]: https://numpy.org/\r\n  [3]: https://scipy.org/\r\n  [4]: https://www.uio.no/\r\n  [5]: https://www.simula.no/","title":"Managed language for scientific computing software","body":"<p><a href=\"https://www.python.org/\" rel=\"nofollow noreferrer\">Python</a> has become pretty big in scientific computing lately. It is a managed language, so you don't have to remember to free your memory. At the same time, it has packages for scientific and numerical computing (<a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">NumPy</a>, <a href=\"https://scipy.org/\" rel=\"nofollow noreferrer\">SciPy</a>), which gives you performance similar to compiled languages. Also, Python can be pretty easily integrated with C code.</p>\n<p>Python is a very expressive language, making it easier to write and read than many traditional languages. It also resembles MATLAB in some ways, making it easier to use for scientists than, say, C++ or Fortran.</p>\n<p>The <a href=\"https://www.uio.no/\" rel=\"nofollow noreferrer\">University of Oslo</a> has recently starting teaching Python as the default language for all science students outside the department of informatics (who still learn Java).</p>\n<p><a href=\"https://www.simula.no/\" rel=\"nofollow noreferrer\">Simula Research Laboratory</a>, which is heavily into scientific computing, partial differential equations etc., uses python extensively.</p>\n"},{"tags":[],"owner":{"account_id":2574,"reputation":1987,"user_id":3588,"accept_rate":86,"display_name":"tamberg"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1222265869,"creation_date":1222265869,"answer_id":127443,"question_id":125516,"body_markdown":"BlackBox Component Builder, developed by Oberon microsystems, is the component-based development environment for the programming language Component Pascal.\r\n\r\nDue to its stability, performance and simplicity, BlackBox is perfectly suited for science and engineering applications.\r\n\r\n&lt;http://www.oberon.ch/blackbox.html&gt;\r\n\r\n(Disclosure: I work for Oberon microsystems)\r\n\r\nRegards,\r\ntamberg","title":"Managed language for scientific computing software","body":"<p>BlackBox Component Builder, developed by Oberon microsystems, is the component-based development environment for the programming language Component Pascal.</p>\n\n<p>Due to its stability, performance and simplicity, BlackBox is perfectly suited for science and engineering applications.</p>\n\n<p><a href=\"http://www.oberon.ch/blackbox.html\" rel=\"nofollow noreferrer\">http://www.oberon.ch/blackbox.html</a></p>\n\n<p>(Disclosure: I work for Oberon microsystems)</p>\n\n<p>Regards,\ntamberg</p>\n"},{"tags":[],"owner":{"account_id":563696,"reputation":9915,"user_id":7706,"display_name":"indentation"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1222266314,"creation_date":1222266314,"answer_id":127508,"question_id":125516,"body_markdown":"The best option is Python with NumPy/ SciPy/ IPython. It has excellent performance because the core math is happening in libraries written in highly optimized C and Fortran. Since you interact with it using Python, everything from your perspective is clean and managed with extremely succinct, readable code and garbage collection.","title":"Managed language for scientific computing software","body":"<p>The best option is Python with NumPy/ SciPy/ IPython. It has excellent performance because the core math is happening in libraries written in highly optimized C and Fortran. Since you interact with it using Python, everything from your perspective is clean and managed with extremely succinct, readable code and garbage collection.</p>\n"},{"tags":[],"owner":{"account_id":7906,"reputation":48275,"user_id":13924,"accept_rate":45,"display_name":"J D"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670353509,"creation_date":1249054966,"answer_id":1213276,"question_id":125516,"body_markdown":"The short answer is that you can control the memory and performance of programs written in managed languages by choosing a suitable language (like [OCaml][0] or [F#][1]) and learning how to optimize in that language. The long answer requires a book on the specific language you are using, such as [OCaml for Scientists][2] or [Visual F# 2010 for Technical Computing][3].\r\n\r\nThe subjects you need to learn about are algorithmic optimizations, low-level optimizations, data structures and the internal representation of types in your chosen language. If you are writing parallel algorithms then it is also particularly important to learn about caches.\r\n\r\n\r\n  [0]: http://www.ffconsultancy.com/products/ocaml_journal/free/introduction.html?so\r\n  [1]: https://web.archive.org/web/20160313202017/http://ffconsultancy.com/products/fsharp_journal/free/introduction.html?so\r\n  [2]: https://web.archive.org/web/20160811002430/http://www.ffconsultancy.com:80/products/ocaml_for_scientists/?so\r\n  [3]: https://web.archive.org/web/20160811003011/http://www.ffconsultancy.com:80/products/fsharp_for_technical_computing/?so","title":"Managed language for scientific computing software","body":"<p>The short answer is that you can control the memory and performance of programs written in managed languages by choosing a suitable language (like <a href=\"http://www.ffconsultancy.com/products/ocaml_journal/free/introduction.html?so\" rel=\"nofollow noreferrer\">OCaml</a> or <a href=\"https://web.archive.org/web/20160313202017/http://ffconsultancy.com/products/fsharp_journal/free/introduction.html?so\" rel=\"nofollow noreferrer\">F#</a>) and learning how to optimize in that language. The long answer requires a book on the specific language you are using, such as <a href=\"https://web.archive.org/web/20160811002430/http://www.ffconsultancy.com:80/products/ocaml_for_scientists/?so\" rel=\"nofollow noreferrer\">OCaml for Scientists</a> or <a href=\"https://web.archive.org/web/20160811003011/http://www.ffconsultancy.com:80/products/fsharp_for_technical_computing/?so\" rel=\"nofollow noreferrer\">Visual F# 2010 for Technical Computing</a>.</p>\n<p>The subjects you need to learn about are algorithmic optimizations, low-level optimizations, data structures and the internal representation of types in your chosen language. If you are writing parallel algorithms then it is also particularly important to learn about caches.</p>\n"}],"owner":{"account_id":562099,"reputation":199,"user_id":21495,"display_name":"heisen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3754,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":12,"score":5,"last_activity_date":1670353509,"creation_date":1222232985,"question_id":125516,"body_markdown":"Scientific computing is algorithm intensive and can also be data intensive. It often needs to use a lot of memory to run analysis and release it before continuing with the next. Sometime it also uses memory pool to recycle memory for each analysis. Managed language is interesting here because it can allow the developer to concentrate on the application logic. Since it might need to deal with huge dataset, performance is important too. But how can we control memory and performance with managed language?\r\n","title":"Managed language for scientific computing software","body":"<p>Scientific computing is algorithm intensive and can also be data intensive. It often needs to use a lot of memory to run analysis and release it before continuing with the next. Sometime it also uses memory pool to recycle memory for each analysis. Managed language is interesting here because it can allow the developer to concentrate on the application logic. Since it might need to deal with huge dataset, performance is important too. But how can we control memory and performance with managed language?</p>\n"},{"tags":["java","swing","jtabbedpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670347889,"post_id":74706255,"comment_id":131853978,"body_markdown":"By default, a GridBagLayout will center components in the space available unless you specify either of the weghtx/y constraints. Read the section from the Swing tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more information on the constraints. Also, note that a JLabel will center the text in the space available to the component so you will also need to play with the text alignment of the label. Or you can use a different layout manager.","body":"By default, a GridBagLayout will center components in the space available unless you specify either of the weghtx/y constraints. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more information on the constraints. Also, note that a JLabel will center the text in the space available to the component so you will also need to play with the text alignment of the label. Or you can use a different layout manager."},{"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"score":0,"creation_date":1670350933,"post_id":74706255,"comment_id":131854950,"body_markdown":"@camickr I added weightx=1 and that made the anchor = LINE_START apply itself","body":"@camickr I added weightx=1 and that made the anchor = LINE_START apply itself"}],"answers":[{"tags":[],"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670351488,"creation_date":1670351488,"answer_id":74707496,"question_id":74706255,"body_markdown":"As @camickr suggested, adding weightx=1 made the achor=LINE_START apply itself.\r\n\r\n```import java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTabbedPane;\r\n\r\npublic class IssueResolved {\r\n\t\r\n\tpublic IssueResolved() {\r\n\t\t\r\n\t}\r\n\tpublic JPanel buildIssueResolvedPanel() {\r\n\t\tGridBagLayout layout1 = new GridBagLayout();\r\n\t\tGridBagConstraints gbc1 = new GridBagConstraints();\r\n\t\tgbc1.anchor = GridBagConstraints.LINE_START;\r\n\t\t\r\n\t\t//adding weightx = 1 applies the anchor = LINE_START and gives a left align\r\n\t\tgbc1.weightx = 1;\r\n\t\t\r\n\t\tJPanel unWantedCenteredPanelNowLeftAligned = new JPanel(layout1);\t\t\r\n\t\tunWantedCenteredPanelNowLeftAligned.add(new JLabel(&quot;SHORT&quot;),gbc1);\r\n\t\treturn unWantedCenteredPanelNowLeftAligned;\r\n\t}\r\n\t\r\n\tpublic JPanel buildWiderPanel() {\r\n\t\tGridBagLayout layout2 = new GridBagLayout();\r\n\t\tGridBagConstraints gbc2 = new GridBagConstraints();\r\n\t\tgbc2.anchor = GridBagConstraints.LINE_START;\r\n\t\t\r\n\t\t//adding weightx = 1 applies the anchor = LINE_START and gives a left align\r\n\t\tgbc2.weightx = 1;\t\t\r\n\t\t\r\n\t\tJPanel widerPanel = new JPanel(layout2);\t\r\n\t\twiderPanel.add(new JLabel(&quot;LOOOOOOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNGGGGGGGGGGGGGG&quot;),gbc2);\r\n\t\treturn widerPanel;\r\n\t}\r\n\t\r\n\tpublic void createAndShow() {\r\n\t\tJFrame f = new JFrame();\r\n\t\tJTabbedPane tp = new JTabbedPane();\r\n\t\ttp.setTabLayoutPolicy(JTabbedPane.WRAP_TAB_LAYOUT);\r\n\t\ttp.addTab(&quot;Unwanted Centered Panel Now Left Aligned&quot;, buildIssueResolvedPanel());\r\n\t\ttp.addTab(&quot;Wider Panel&quot;,buildWiderPanel());\r\n\t\tf.add(tp);\r\n\t\tf.validate();\r\n\t\tf.pack();\r\n\t\tf.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tIssueResolved issueResolved = new IssueResolved();\r\n\t\tissueResolved.createAndShow();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n[Left Aligned][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ZUWjS.png","title":"How to left align JPanel in JTabbedPane?","body":"<p>As @camickr suggested, adding weightx=1 made the achor=LINE_START apply itself.</p>\n<pre><code>import java.awt.GridBagLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\n\npublic class IssueResolved {\n    \n    public IssueResolved() {\n        \n    }\n    public JPanel buildIssueResolvedPanel() {\n        GridBagLayout layout1 = new GridBagLayout();\n        GridBagConstraints gbc1 = new GridBagConstraints();\n        gbc1.anchor = GridBagConstraints.LINE_START;\n        \n        //adding weightx = 1 applies the anchor = LINE_START and gives a left align\n        gbc1.weightx = 1;\n        \n        JPanel unWantedCenteredPanelNowLeftAligned = new JPanel(layout1);       \n        unWantedCenteredPanelNowLeftAligned.add(new JLabel(&quot;SHORT&quot;),gbc1);\n        return unWantedCenteredPanelNowLeftAligned;\n    }\n    \n    public JPanel buildWiderPanel() {\n        GridBagLayout layout2 = new GridBagLayout();\n        GridBagConstraints gbc2 = new GridBagConstraints();\n        gbc2.anchor = GridBagConstraints.LINE_START;\n        \n        //adding weightx = 1 applies the anchor = LINE_START and gives a left align\n        gbc2.weightx = 1;       \n        \n        JPanel widerPanel = new JPanel(layout2);    \n        widerPanel.add(new JLabel(&quot;LOOOOOOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNGGGGGGGGGGGGGG&quot;),gbc2);\n        return widerPanel;\n    }\n    \n    public void createAndShow() {\n        JFrame f = new JFrame();\n        JTabbedPane tp = new JTabbedPane();\n        tp.setTabLayoutPolicy(JTabbedPane.WRAP_TAB_LAYOUT);\n        tp.addTab(&quot;Unwanted Centered Panel Now Left Aligned&quot;, buildIssueResolvedPanel());\n        tp.addTab(&quot;Wider Panel&quot;,buildWiderPanel());\n        f.add(tp);\n        f.validate();\n        f.pack();\n        f.setVisible(true);\n    }\n    \n    public static void main(String[] args) {\n        IssueResolved issueResolved = new IssueResolved();\n        issueResolved.createAndShow();\n    }\n    \n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZUWjS.png\" rel=\"nofollow noreferrer\">Left Aligned</a></p>\n"}],"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74707496,"answer_count":1,"score":0,"last_activity_date":1670351488,"creation_date":1670345466,"question_id":74706255,"body_markdown":"I want to Left align the tab labeled &quot;Unwanted Centered Panel&quot; here is my SSCE:\r\n\r\n```\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTabbedPane;\r\n\r\npublic class Issue {\r\n\t\r\n\tpublic Issue() {\r\n\t\t\r\n\t}\r\n\tpublic JPanel buildIssuePanel() {\r\n\t\tGridBagLayout layout1 = new GridBagLayout();\r\n\t\tGridBagConstraints gbc1 = new GridBagConstraints();\r\n\t\tgbc1.anchor = GridBagConstraints.LINE_START;\r\n\t\tJPanel unWantedCenteredPanel = new JPanel(layout1);\r\n\t\t\r\n\t\t\r\n\t\tunWantedCenteredPanel.add(new JLabel(&quot;SHORT&quot;),gbc1);\r\n\t\treturn unWantedCenteredPanel;\r\n\t}\r\n\t\r\n\tpublic JPanel buildWiderPanel() {\r\n\t\tGridBagLayout layout2 = new GridBagLayout();\r\n\t\tGridBagConstraints gbc2 = new GridBagConstraints();\r\n\t\tgbc2.anchor = GridBagConstraints.LINE_START;\t\t\r\n\t\tJPanel widerPanel = new JPanel(layout2);\t\r\n\t\twiderPanel.add(new JLabel(&quot;LOOOOOOOOOOOONNNNNNNNGGGGGGGGGG&quot;),gbc2);\r\n\t\treturn widerPanel;\r\n\t}\r\n\t\r\n\tpublic void createAndShow() {\r\n\t\tJFrame f = new JFrame();\r\n\t\tJTabbedPane tp = new JTabbedPane();\r\n\t\ttp.addTab(&quot;Unwanted Centered Panel&quot;, buildIssuePanel());\r\n\t\ttp.addTab(&quot;Wider Panel&quot;,buildWiderPanel());\r\n\t\tf.add(tp);\r\n\t\tf.validate();\r\n\t\tf.pack();\r\n\t\tf.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tIssue issue = new Issue();\r\n\t\tissue.createAndShow();\r\n\t}\r\n\t\r\n}\r\n```\r\n[Unwanted Centering][1]\r\n\r\n[Wider Panel][2]\r\n\r\nThe issue appears to be that JTabbedPane defaults to the larger JPanel child width and centers the smaller one.\r\n\r\nI&#39;ve tried setting:\r\n\r\n    GridBagConstraints.anchor = GridBagConstraints.LINE_START;\r\n\r\nBut that seems to get overridden. So, how do I get the JLabel with text &quot;SHORT&quot; to be left aligned?\r\n\r\n  [1]: https://i.stack.imgur.com/dnZ2D.png\r\n  [2]: https://i.stack.imgur.com/xVZuP.png\r\n","title":"How to left align JPanel in JTabbedPane?","body":"<p>I want to Left align the tab labeled &quot;Unwanted Centered Panel&quot; here is my SSCE:</p>\n<pre><code>import java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\n\npublic class Issue {\n    \n    public Issue() {\n        \n    }\n    public JPanel buildIssuePanel() {\n        GridBagLayout layout1 = new GridBagLayout();\n        GridBagConstraints gbc1 = new GridBagConstraints();\n        gbc1.anchor = GridBagConstraints.LINE_START;\n        JPanel unWantedCenteredPanel = new JPanel(layout1);\n        \n        \n        unWantedCenteredPanel.add(new JLabel(&quot;SHORT&quot;),gbc1);\n        return unWantedCenteredPanel;\n    }\n    \n    public JPanel buildWiderPanel() {\n        GridBagLayout layout2 = new GridBagLayout();\n        GridBagConstraints gbc2 = new GridBagConstraints();\n        gbc2.anchor = GridBagConstraints.LINE_START;        \n        JPanel widerPanel = new JPanel(layout2);    \n        widerPanel.add(new JLabel(&quot;LOOOOOOOOOOOONNNNNNNNGGGGGGGGGG&quot;),gbc2);\n        return widerPanel;\n    }\n    \n    public void createAndShow() {\n        JFrame f = new JFrame();\n        JTabbedPane tp = new JTabbedPane();\n        tp.addTab(&quot;Unwanted Centered Panel&quot;, buildIssuePanel());\n        tp.addTab(&quot;Wider Panel&quot;,buildWiderPanel());\n        f.add(tp);\n        f.validate();\n        f.pack();\n        f.setVisible(true);\n    }\n    \n    public static void main(String[] args) {\n        Issue issue = new Issue();\n        issue.createAndShow();\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dnZ2D.png\" rel=\"nofollow noreferrer\">Unwanted Centering</a></p>\n<p><a href=\"https://i.stack.imgur.com/xVZuP.png\" rel=\"nofollow noreferrer\">Wider Panel</a></p>\n<p>The issue appears to be that JTabbedPane defaults to the larger JPanel child width and centers the smaller one.</p>\n<p>I've tried setting:</p>\n<pre><code>GridBagConstraints.anchor = GridBagConstraints.LINE_START;\n</code></pre>\n<p>But that seems to get overridden. So, how do I get the JLabel with text &quot;SHORT&quot; to be left aligned?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670439407,"post_id":74707145,"comment_id":131878992,"body_markdown":"Is my answer solving the issue?","body":"Is my answer solving the issue?"}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670351150,"creation_date":1670351150,"answer_id":74707428,"question_id":74707145,"body_markdown":"Please add this in pom.xml and try again.\r\n\r\n```\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nNote - There is no need to add a class with the main method, so you can remove a similar class like this.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication{\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class);\r\n    }\r\n\r\n}","title":"Exporting a Spring Boot Project as a JAR with dependencies","body":"<p>Please add this in pom.xml and try again.</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Note - There is no need to add a class with the main method, so you can remove a similar class like this.</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication{\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7395195,"reputation":73,"user_id":5627359,"display_name":"HopedWall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670351150,"creation_date":1670349611,"question_id":74707145,"body_markdown":"I have a Spring Boot project that I would like to use as a dependency in another project. \r\n\r\nFirst, in my pom.xml, I set the **packaging** tag to jar. However, that produced a jar with a BOOT-INF folder, which could not be imported inside the other project. In order to fix that, I added the following lines:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nNow, when I run `mvn clean package` two jars are generated:\r\n\r\n 1. A jar that can correctly be imported, but lacks the the depedencies\r\n 2. Another jar with the `BOOT-INF\\lib` folder (containing the dependencies)\r\n\r\nI would like to make it so the first jar also contains the libraries.","title":"Exporting a Spring Boot Project as a JAR with dependencies","body":"<p>I have a Spring Boot project that I would like to use as a dependency in another project.</p>\n<p>First, in my pom.xml, I set the <strong>packaging</strong> tag to jar. However, that produced a jar with a BOOT-INF folder, which could not be imported inside the other project. In order to fix that, I added the following lines:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.2&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n      &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Now, when I run <code>mvn clean package</code> two jars are generated:</p>\n<ol>\n<li>A jar that can correctly be imported, but lacks the the depedencies</li>\n<li>Another jar with the <code>BOOT-INF\\lib</code> folder (containing the dependencies)</li>\n</ol>\n<p>I would like to make it so the first jar also contains the libraries.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670350770,"creation_date":1670350770,"answer_id":74707355,"question_id":74602412,"body_markdown":"You can organize the build logic into reusable plugins, and share these plugins among your modules. Here is the complete sample in the official documentation: https://docs.gradle.org/7.5.1/samples/sample_convention_plugins.html.","title":"How to share plugins section across gradle projects in different repositories","body":"<p>You can organize the build logic into reusable plugins, and share these plugins among your modules. Here is the complete sample in the official documentation: <a href=\"https://docs.gradle.org/7.5.1/samples/sample_convention_plugins.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.5.1/samples/sample_convention_plugins.html</a>.</p>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670350770,"creation_date":1669647157,"question_id":74602412,"body_markdown":"How to share plugins section across few separate spring boot based gradle projects in different repositories\r\n\r\n    plugins {\r\n        id &#39;checkstyle&#39;\r\n        id &#39;eclipse&#39;\r\n        id &#39;idea&#39;\r\n        id &#39;jacoco&#39;\r\n        id &#39;java&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &#39;pmd&#39;\r\n    }","title":"How to share plugins section across gradle projects in different repositories","body":"<p>How to share plugins section across few separate spring boot based gradle projects in different repositories</p>\n<pre><code>plugins {\n    id 'checkstyle'\n    id 'eclipse'\n    id 'idea'\n    id 'jacoco'\n    id 'java'\n    id 'maven-publish'\n    id 'pmd'\n}\n</code></pre>\n"},{"tags":["java","string","performance","optimization","stringbuilder"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1670346361,"post_id":74706378,"comment_id":131853388,"body_markdown":"IIRC, the compiler will transform this into a `StringBuilder` call chain. --- On a side note: I would recommend to use `System.lineSeparator()` instead of `&quot;\\n&quot;`.","body":"IIRC, the compiler will transform this into a <code>StringBuilder</code> call chain. --- On a side note: I would recommend to use <code>System.lineSeparator()</code> instead of <code>&quot;\\n&quot;</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670349083,"post_id":74706378,"comment_id":131854326,"body_markdown":"Better still, use a `PrintWriter` with `StringWriter` or use `String.format`. Also consider not using string literals and internationalization","body":"Better still, use a <code>PrintWriter</code> with <code>StringWriter</code> or use <code>String.format</code>. Also consider not using string literals and internationalization"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1670349368,"post_id":74706378,"comment_id":131854439,"body_markdown":"@Turing85  `StringBuilder` is not used anymore since Java 9...  see [JEP 280](https://openjdk.org/jeps/280) (or [`StringConcatFactory`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/invoke/StringConcatFactory.html))","body":"@Turing85  <code>StringBuilder</code> is not used anymore since Java 9...  see <a href=\"https://openjdk.org/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> (or <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/invoke/StringConcatFactory.html\" rel=\"nofollow noreferrer\"><code>StringConcatFactory</code></a>)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1670349714,"post_id":74706378,"comment_id":131854542,"body_markdown":"for readability, I would eventually use Text Block and `formatted()` (or similar methods, see [Formatter](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Formatter.html))","body":"for readability, I would eventually use Text Block and <code>formatted()</code> (or similar methods, see <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a>)"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670350663,"creation_date":1670350663,"answer_id":74707337,"question_id":74706378,"body_markdown":"The posted code actually performs better than code you&#39;d manually write, even with a string builder, for any version of Java &gt;= 9 -- due to the use of [`StringConcatFactory`](https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html).  `StringConcatFactory` can generate code better than you could _possibly_ handwrite, since it can do tricks like directly writing into the final byte array used in the `String` instead of the copy that even `StringBuilder` has to do.\r\n\r\n(Since you have tagged this question &quot;performance&quot; and &quot;optimization,&quot; I assume pure speed is your priority.  If it&#39;s about what&#39;s &quot;better&quot; in general, that would be an opinion-based question and would not be appropriate for StackOverflow as a result.)","title":"Can I improve this method of concatenation of strings?","body":"<p>The posted code actually performs better than code you'd manually write, even with a string builder, for any version of Java &gt;= 9 -- due to the use of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html\" rel=\"nofollow noreferrer\"><code>StringConcatFactory</code></a>.  <code>StringConcatFactory</code> can generate code better than you could <em>possibly</em> handwrite, since it can do tricks like directly writing into the final byte array used in the <code>String</code> instead of the copy that even <code>StringBuilder</code> has to do.</p>\n<p>(Since you have tagged this question &quot;performance&quot; and &quot;optimization,&quot; I assume pure speed is your priority.  If it's about what's &quot;better&quot; in general, that would be an opinion-based question and would not be appropriate for StackOverflow as a result.)</p>\n"}],"owner":{"account_id":25570449,"reputation":55,"user_id":19350908,"display_name":"JhinKazama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670350663,"creation_date":1670346034,"question_id":74706378,"body_markdown":"Here is the method : \r\n\r\n        private String getCommentaireReprise(TableRow row) {\r\n\r\n        return &quot;Produit : &quot; + getProduit(row) +\r\n                &quot;\\n Dossier fournisseur : &quot; + getDossierFournisseur(row) +\r\n                &quot;\\n Dossier Truffaut : &quot; + getDossierTruffaut(row) +\r\n                &quot;\\n Ref loueur : &quot; + getRefLoueur(row) +\r\n                &quot;\\n Merchandising : &quot; + getMerchandising(row) +\r\n                &quot;\\n Libelle court : &quot; + getLibelleCourt(row) +\r\n                &quot;\\n Libelle SAP : &quot; + getLibelleSap(row) +\r\n                &quot;\\n Nombres Images 360 : &quot; + getNombreImages(row) +\r\n                &quot;\\n Upload&#233; par : &quot; + getUploadePar(row) +\r\n                &quot;\\n Cr&#233;dit photo : &quot; + getCreditPhoto(row);\r\n    }\r\n\r\nIs is better to use a StringBuilder rather than this ? or to use JSONObject and to cast it at the end with .toString() ?","title":"Can I improve this method of concatenation of strings?","body":"<p>Here is the method :</p>\n<pre><code>    private String getCommentaireReprise(TableRow row) {\n\n    return &quot;Produit : &quot; + getProduit(row) +\n            &quot;\\n Dossier fournisseur : &quot; + getDossierFournisseur(row) +\n            &quot;\\n Dossier Truffaut : &quot; + getDossierTruffaut(row) +\n            &quot;\\n Ref loueur : &quot; + getRefLoueur(row) +\n            &quot;\\n Merchandising : &quot; + getMerchandising(row) +\n            &quot;\\n Libelle court : &quot; + getLibelleCourt(row) +\n            &quot;\\n Libelle SAP : &quot; + getLibelleSap(row) +\n            &quot;\\n Nombres Images 360 : &quot; + getNombreImages(row) +\n            &quot;\\n Upload par : &quot; + getUploadePar(row) +\n            &quot;\\n Crdit photo : &quot; + getCreditPhoto(row);\n}\n</code></pre>\n<p>Is is better to use a StringBuilder rather than this ? or to use JSONObject and to cast it at the end with .toString() ?</p>\n"},{"tags":["java","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5819125,"reputation":103,"user_id":4587751,"display_name":"Shikha Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431082743,"creation_date":1431082743,"answer_id":30122138,"question_id":30121565,"body_markdown":"You may like to have look at @ModelAttribute. http://www.thymeleaf.org/doc/articles/springmvcaccessdata.html\r\n\r\n&gt; Blockquote\r\nIn Thymeleaf, these model attributes (or context variables in Thymeleaf jargon) can be accessed with the following syntax: ${attributeName}, where attributeName in our case is messages. This is a Spring EL expression. ","title":"Spring MVC + Thymeleaf: adding variable to all templates&#39; context","body":"<p>You may like to have look at @ModelAttribute. <a href=\"http://www.thymeleaf.org/doc/articles/springmvcaccessdata.html\" rel=\"nofollow\">http://www.thymeleaf.org/doc/articles/springmvcaccessdata.html</a></p>\n\n<blockquote>\n  <p>Blockquote\n  In Thymeleaf, these model attributes (or context variables in Thymeleaf jargon) can be accessed with the following syntax: ${attributeName}, where attributeName in our case is messages. This is a Spring EL expression. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1431092903,"creation_date":1431092903,"answer_id":30125490,"question_id":30121565,"body_markdown":"Several ways to do this.\r\n\r\nIf you want to add a variable to all views served by a single controller, you can add a `@ModelAttribute` annotated method - [see reference doc][1].\r\n\r\nNote that you can also, using the same `@ModelAttribute`\r\n mechanism, address multiple Controllers at once. For that, you can implement that `@ModelAttribute` method in a class annotated with `@ControllerAdvice` - [see reference doc][2].\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib-methods\r\n  [2]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/spring-framework-reference/html/mvc.html#mvc-ann-controller-advice","title":"Spring MVC + Thymeleaf: adding variable to all templates&#39; context","body":"<p>Several ways to do this.</p>\n\n<p>If you want to add a variable to all views served by a single controller, you can add a <code>@ModelAttribute</code> annotated method - <a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib-methods\" rel=\"noreferrer\">see reference doc</a>.</p>\n\n<p>Note that you can also, using the same <code>@ModelAttribute</code>\n mechanism, address multiple Controllers at once. For that, you can implement that <code>@ModelAttribute</code> method in a class annotated with <code>@ControllerAdvice</code> - <a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/spring-framework-reference/html/mvc.html#mvc-ann-controller-advice\" rel=\"noreferrer\">see reference doc</a>.</p>\n"},{"tags":[],"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1511101181,"creation_date":1511101181,"answer_id":47377878,"question_id":30121565,"body_markdown":"If you simply want something from your `application.properties` into your `thymeleaf` template, then you can make use of Spring&#39;s [**SpEL**][1]. \r\n\r\n    ${@environment.getProperty(&#39;name.of.the.property&#39;)}\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/4.3.12.RELEASE/spring-framework-reference/html/expressions.html","title":"Spring MVC + Thymeleaf: adding variable to all templates&#39; context","body":"<p>If you simply want something from your <code>application.properties</code> into your <code>thymeleaf</code> template, then you can make use of Spring's <a href=\"https://docs.spring.io/spring/docs/4.3.12.RELEASE/spring-framework-reference/html/expressions.html\" rel=\"noreferrer\"><strong>SpEL</strong></a>. </p>\n\n<pre><code>${@environment.getProperty('name.of.the.property')}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6631057,"reputation":309,"user_id":5119754,"display_name":"Badou"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1515058743,"creation_date":1515058743,"answer_id":48092424,"question_id":30121565,"body_markdown":"  `@ControllerAdvice` work for me:\r\n\r\n    @ControllerAdvice(annotations = RestController.class)\r\n    public class AnnotationAdvice {\r\n\r\n         @Autowired\r\n         UserServiceImpl userService;\r\n\r\n         @ModelAttribute(&quot;currentUser&quot;)\r\n         public User getCurrentUser() {\r\n             UserDetails userDetails = (UserDetails) \r\n             SecurityContextHolder.getContext()\r\n                   .getAuthentication().getPrincipal();\r\n\r\n          return userService.findUserByEmail(userDetails.getUsername());\r\n         }\r\n      }","title":"Spring MVC + Thymeleaf: adding variable to all templates&#39; context","body":"<p><code>@ControllerAdvice</code> work for me:</p>\n\n<pre><code>@ControllerAdvice(annotations = RestController.class)\npublic class AnnotationAdvice {\n\n     @Autowired\n     UserServiceImpl userService;\n\n     @ModelAttribute(\"currentUser\")\n     public User getCurrentUser() {\n         UserDetails userDetails = (UserDetails) \n         SecurityContextHolder.getContext()\n               .getAuthentication().getPrincipal();\n\n      return userService.findUserByEmail(userDetails.getUsername());\n     }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595016190,"creation_date":1595016190,"answer_id":62961051,"question_id":30121565,"body_markdown":"Here is an example for Spring Boot and Thymeleaf.\r\n\r\nFirst, we need to create a `@ControllerAdvice`:\r\n\r\n    @ControllerAdvice\r\n    public class MvcAdvice {\r\n\r\n        // adds a global value to every model\r\n        @ModelAttribute(&quot;baseUrl&quot;)\r\n        public String test() {\r\n            return HttpUtil.getBaseUrl();\r\n        }\r\n    }\r\n\r\nNow, we have access to `baseUrl` in our templates:\r\n\r\n    &lt;span th:text=${baseUrl}&gt;&lt;/span&gt;","title":"Spring MVC + Thymeleaf: adding variable to all templates&#39; context","body":"<p>Here is an example for Spring Boot and Thymeleaf.</p>\n<p>First, we need to create a <code>@ControllerAdvice</code>:</p>\n<pre><code>@ControllerAdvice\npublic class MvcAdvice {\n\n    // adds a global value to every model\n    @ModelAttribute(&quot;baseUrl&quot;)\n    public String test() {\n        return HttpUtil.getBaseUrl();\n    }\n}\n</code></pre>\n<p>Now, we have access to <code>baseUrl</code> in our templates:</p>\n<pre><code>&lt;span th:text=${baseUrl}&gt;&lt;/span&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670350603,"creation_date":1670349689,"answer_id":74707158,"question_id":30121565,"body_markdown":"Wanted to give a code sample as per accepted answer from Brian Clozel:\r\n\r\n[ControllerAdvice][1]:\r\n\r\n    @ControllerAdvice(annotations = Controller.class)\r\n    public class GetPrincipalController {\r\n    \r\n    \t@ModelAttribute(&quot;principal&quot;)\r\n    \tpublic Object getCurrentUser() {\r\n    \t\treturn SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n    \t}\r\n    }\r\n\r\nAfter above, you will get an object of principal and then you can use everything from that object &quot;GLOBALLY&quot; in your application, in any of your Thyemleaf Template [like this][2]:\r\n\r\n\t&lt;li&gt;&lt;span th:text=&quot;${principal.getUsername()}&quot;&gt;&lt;/span&gt;&lt;/li&gt;\r\n\t&lt;li&gt;&lt;span th:text=&quot;${principal.getAuthorities()}&quot;&gt;&lt;/span&gt;&lt;/li&gt;\r\n\r\n\r\n  [1]: https://github.com/ajkr195/ContentPlusPlus/blob/main/src/main/java/com/contentplusplus/springboot/controller/GetPrincipalController.java\r\n  [2]: https://github.com/ajkr195/ContentPlusPlus/blob/main/src/main/resources/templates/fragments/navbar.html","title":"Spring MVC + Thymeleaf: adding variable to all templates&#39; context","body":"<p>Wanted to give a code sample as per accepted answer from Brian Clozel:</p>\n<p><a href=\"https://github.com/ajkr195/ContentPlusPlus/blob/main/src/main/java/com/contentplusplus/springboot/controller/GetPrincipalController.java\" rel=\"nofollow noreferrer\">ControllerAdvice</a>:</p>\n<pre><code>@ControllerAdvice(annotations = Controller.class)\npublic class GetPrincipalController {\n\n    @ModelAttribute(&quot;principal&quot;)\n    public Object getCurrentUser() {\n        return SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n    }\n}\n</code></pre>\n<p>After above, you will get an object of principal and then you can use everything from that object &quot;GLOBALLY&quot; in your application, in any of your Thyemleaf Template <a href=\"https://github.com/ajkr195/ContentPlusPlus/blob/main/src/main/resources/templates/fragments/navbar.html\" rel=\"nofollow noreferrer\">like this</a>:</p>\n<pre><code>&lt;li&gt;&lt;span th:text=&quot;${principal.getUsername()}&quot;&gt;&lt;/span&gt;&lt;/li&gt;\n&lt;li&gt;&lt;span th:text=&quot;${principal.getAuthorities()}&quot;&gt;&lt;/span&gt;&lt;/li&gt;\n</code></pre>\n"}],"owner":{"account_id":2229397,"reputation":3565,"user_id":1967395,"accept_rate":47,"display_name":"Capuchin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11126,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":30125490,"answer_count":6,"score":22,"last_activity_date":1670350603,"creation_date":1431080841,"question_id":30121565,"body_markdown":"How can I add a &quot;global&quot; variable such as username to be used all around my template context? \r\n\r\nCurrently I am setting these explicitly to each ModelAndView object in my TemplateController.","title":"Spring MVC + Thymeleaf: adding variable to all templates&#39; context","body":"<p>How can I add a \"global\" variable such as username to be used all around my template context? </p>\n\n<p>Currently I am setting these explicitly to each ModelAndView object in my TemplateController.</p>\n"},{"tags":["java","spring-boot","spring-websocket"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1670351995,"post_id":74707235,"comment_id":131855283,"body_markdown":"The code sleeps for 30 seconds, so not sure why it would be expected to &quot;respond immediately&quot;.","body":"The code sleeps for 30 seconds, so not sure why it would be expected to &quot;respond immediately&quot;."},{"owner":{"account_id":27168415,"reputation":1,"user_id":20705534,"display_name":"sadel"},"score":0,"creation_date":1670440684,"post_id":74707235,"comment_id":131879386,"body_markdown":"As mentionned on RFC6455 &quot;A Ping frame MAY include &quot;Application data&quot;.\n Upon receipt of a Ping frame, an endpoint MUST send a Pong frame in\n   response, unless it already received a Close frame.  It SHOULD\n   respond with Pong frame as soon as is practical&quot;.The first ping response is received immediatly","body":"As mentionned on RFC6455 &quot;A Ping frame MAY include &quot;Application data&quot;.  Upon receipt of a Ping frame, an endpoint MUST send a Pong frame in    response, unless it already received a Close frame.  It SHOULD    respond with Pong frame as soon as is practical&quot;.The first ping response is received immediatly"}],"owner":{"account_id":27168415,"reputation":1,"user_id":20705534,"display_name":"sadel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670350032,"creation_date":1670350032,"question_id":74707235,"body_markdown":"Websocket implementation with spring boot to test ping /pong protocol \r\n\r\n```\r\npublic class HandlePingRequest implements WebSocketHandler {\r\n\r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n        // TODO Auto-generated method stub\r\n        \r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void handleMessage(WebSocketSession session, WebSocketMessage&lt;?&gt; message) throws Exception {\r\n        // TODO Auto-generated method stub\r\n\r\n       log.info(&quot;received websocket  message {}&quot;,message);\r\n       Thread.sleep(30000);\r\n       session.sendMessage(new TextMessage(&quot;Response message&quot;));\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\r\n        // TODO Auto-generated method stub\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\r\n        // TODO Auto-generated method stub\r\n        \r\n    }\r\n\r\n    @Override\r\n    public boolean supportsPartialMessages() {\r\n        // TODO Auto-generated method stub\r\n        return false;\r\n    }\r\n    \r\n}\r\n\r\n```\r\nClient implement in python\r\n\r\n```\r\nimport websocket\r\nimport time\r\nwebsocket.enableTrace(True)\r\nws = websocket.WebSocket()\r\n\r\n\r\nws.connect(&quot;ws://localhost:8080/v0&quot;)\r\nws.ping()\r\nws.send(&#39;Hello&#39;)\r\nws.ping()\r\ntime.sleep(800)\r\nws.close()\r\n```\r\n\r\nwhen the server is handling a text message or binary message, the server does not respond to the ping until it send an response for the text/binary or in the RFC it says the server should respond immediately.\r\nIn this exemple the response for the second ping is received 30s after the request.\r\n\r\n\r\n\r\nWas expecting that the ping/pong message be handled by tomcat/jetty server, so how it is possible to handle the received ping message on the websocket handler instead of let the server handle it?","title":"Spring boot websocket ping/pong","body":"<p>Websocket implementation with spring boot to test ping /pong protocol</p>\n<pre><code>public class HandlePingRequest implements WebSocketHandler {\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        // TODO Auto-generated method stub\n        \n    }\n\n\n\n    @Override\n    public void handleMessage(WebSocketSession session, WebSocketMessage&lt;?&gt; message) throws Exception {\n        // TODO Auto-generated method stub\n\n       log.info(&quot;received websocket  message {}&quot;,message);\n       Thread.sleep(30000);\n       session.sendMessage(new TextMessage(&quot;Response message&quot;));\n        \n    }\n\n    @Override\n    public void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public boolean supportsPartialMessages() {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    \n}\n\n</code></pre>\n<p>Client implement in python</p>\n<pre><code>import websocket\nimport time\nwebsocket.enableTrace(True)\nws = websocket.WebSocket()\n\n\nws.connect(&quot;ws://localhost:8080/v0&quot;)\nws.ping()\nws.send('Hello')\nws.ping()\ntime.sleep(800)\nws.close()\n</code></pre>\n<p>when the server is handling a text message or binary message, the server does not respond to the ping until it send an response for the text/binary or in the RFC it says the server should respond immediately.\nIn this exemple the response for the second ping is received 30s after the request.</p>\n<p>Was expecting that the ping/pong message be handled by tomcat/jetty server, so how it is possible to handle the received ping message on the websocket handler instead of let the server handle it?</p>\n"},{"tags":["java","pdfbox","scaling"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":1,"creation_date":1670412946,"post_id":74707232,"comment_id":131869562,"body_markdown":"You are using a version which is 12 years old and also contains several security vulnerabilities... Don&#39;t want to be in your position ;-)\nWhat about converting the whole page to an image and then embedding that into a fresh PDF? So you can&#39;t introduce new libraries but maybe new methods and classes? So another option is to look at the newer (working) PDFBox Code and let it inspire you...","body":"You are using a version which is 12 years old and also contains several security vulnerabilities... Don&#39;t want to be in your position ;-) What about converting the whole page to an image and then embedding that into a fresh PDF? So you can&#39;t introduce new libraries but maybe new methods and classes? So another option is to look at the newer (working) PDFBox Code and let it inspire you..."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1670430463,"post_id":74707232,"comment_id":131876086,"body_markdown":"Even if the code would work (there are several reasons it doesn&#39;t, one is that you&#39;re not closing cs), all it would do is to make the PDF optically smaller, but not smaller in file size.","body":"Even if the code would work (there are several reasons it doesn&#39;t, one is that you&#39;re not closing cs), all it would do is to make the PDF optically smaller, but not smaller in file size."},{"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"score":0,"creation_date":1670434005,"post_id":74707232,"comment_id":131877347,"body_markdown":"@TilmanHausherr Thanks.  Any suggestions for making scaling work?","body":"@TilmanHausherr Thanks.  Any suggestions for making scaling work?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1670502547,"post_id":74707232,"comment_id":131892741,"body_markdown":"Scaling would not solve your problem, the file size would still be similar (maybe slightly larger). A possible solution would be to replace large images with lossy compressed images but that would be quite some work, and also make the PDF look poor and nobody would be happy, and it would not work for PDFs where the cause for the size isn&#39;t the images.","body":"Scaling would not solve your problem, the file size would still be similar (maybe slightly larger). A possible solution would be to replace large images with lossy compressed images but that would be quite some work, and also make the PDF look poor and nobody would be happy, and it would not work for PDFs where the cause for the size isn&#39;t the images."}],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670350027,"creation_date":1670350027,"question_id":74707232,"body_markdown":"I am forced to use ver. 1.3.1 of Apache PDFBox.  I wish I could use ver 2.+ but can&#39;t.  Anyway, I am trying to scale down the images in some PDF files but am having trouble.  If I was using ver 2.+ I could as I understand it use the {PDPageContentStream_obj}.transform(...) method but that&#39;s not avail. to me.  Instead as I understand it, I need to apply the .concatenate2CTM(...) method.  I am trying that but not getting the anticipated results; my resulting .pdf files display their graphics unchanged in scale.  Need to do this to reduce file size to under 5 MB so it can be successfully sent through a gateway that would time out if the file was bigger.  Changing the gateway timeout is not an option, unfortunately.  My code currently looks like this:\r\n\r\n   \tprivate File compressFile2(File file) throws Exception {\r\n\t\ttry {\r\n\t\t\tPDDocument doc = PDDocument.load(file);\r\n\t\t\tList&lt;PDPage&gt; pdPages = doc.getDocumentCatalog().getAllPages();\r\n\t\t\tIterator&lt;PDPage&gt; iterPdPages = pdPages.iterator();\r\n\r\n\t\t\twhile (iterPdPages.hasNext()) {\r\n\t\t\t\tPDPage page = iterPdPages.next();\r\n\t\t\t\tPDPageContentStream cs = new PDPageContentStream(doc, page, true, true);\r\n\t\t\t\tcs.saveGraphicsState();\r\n\t\t\t\tcs.concatenate2CTM(.5, 0, 0, .5, 0, 0);\r\n\t\t\t\tcs.saveGraphicsState();\r\n\t\t\t}\r\n\t\t\tdoc.save(file.getAbsolutePath() + &quot;_compressed&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\treturn new File(file.getAbsolutePath() + &quot;_compressed&quot;);\r\n\t}\r\n\r\nAny ideas are appreciated.  Thank you.","title":"Using Apache PDFBox 1.3.1 - Trying to scale down all images in PDF file","body":"<p>I am forced to use ver. 1.3.1 of Apache PDFBox.  I wish I could use ver 2.+ but can't.  Anyway, I am trying to scale down the images in some PDF files but am having trouble.  If I was using ver 2.+ I could as I understand it use the {PDPageContentStream_obj}.transform(...) method but that's not avail. to me.  Instead as I understand it, I need to apply the .concatenate2CTM(...) method.  I am trying that but not getting the anticipated results; my resulting .pdf files display their graphics unchanged in scale.  Need to do this to reduce file size to under 5 MB so it can be successfully sent through a gateway that would time out if the file was bigger.  Changing the gateway timeout is not an option, unfortunately.  My code currently looks like this:</p>\n<pre><code>private File compressFile2(File file) throws Exception {\n    try {\n        PDDocument doc = PDDocument.load(file);\n        List&lt;PDPage&gt; pdPages = doc.getDocumentCatalog().getAllPages();\n        Iterator&lt;PDPage&gt; iterPdPages = pdPages.iterator();\n\n        while (iterPdPages.hasNext()) {\n            PDPage page = iterPdPages.next();\n            PDPageContentStream cs = new PDPageContentStream(doc, page, true, true);\n            cs.saveGraphicsState();\n            cs.concatenate2CTM(.5, 0, 0, .5, 0, 0);\n            cs.saveGraphicsState();\n        }\n        doc.save(file.getAbsolutePath() + &quot;_compressed&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw e;\n    }\n    return new File(file.getAbsolutePath() + &quot;_compressed&quot;);\n}\n</code></pre>\n<p>Any ideas are appreciated.  Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":2,"creation_date":1527842959,"post_id":50639366,"comment_id":88289045,"body_markdown":"[Bitwise multiply](https://stackoverflow.com/questions/4895173/bitwise-multiply-and-add-in-java)","body":"<a href=\"https://stackoverflow.com/questions/4895173/bitwise-multiply-and-add-in-java\">Bitwise multiply</a>"},{"owner":{"account_id":217396,"reputation":6303,"user_id":473181,"accept_rate":80,"display_name":"Simon"},"score":1,"creation_date":1527846160,"post_id":50639366,"comment_id":88291114,"body_markdown":"2. If you like programming and you&#39;re willing to put in the work, then you&#39;re cut out for it. The same goes for technical interviewing. Only you can decide if you feel it&#39;s worth the effort","body":"2. If you like programming and you&#39;re willing to put in the work, then you&#39;re cut out for it. The same goes for technical interviewing. Only you can decide if you feel it&#39;s worth the effort"},{"owner":{"account_id":1951789,"reputation":1085,"user_id":1755715,"accept_rate":67,"display_name":"Nat"},"score":5,"creation_date":1527855237,"post_id":50639366,"comment_id":88296454,"body_markdown":"I wonder what an interviewer would say if you used a web client to poll Google / WolframAlpha.  Or, if you created a new file, then appended _X_ bytes to it _Y_ times, then polled the OS for its file size.  Or, the same, except with thread sleeps, then measured the result by subtracting starting and ending time stamps...","body":"I wonder what an interviewer would say if you used a web client to poll Google / WolframAlpha.  Or, if you created a new file, then appended <i>X</i> bytes to it <i>Y</i> times, then polled the OS for its file size.  Or, the same, except with thread sleeps, then measured the result by subtracting starting and ending time stamps..."},{"owner":{"account_id":945727,"reputation":8059,"user_id":1119340,"accept_rate":41,"display_name":"N. Virgo"},"score":1,"creation_date":1527862487,"post_id":50639366,"comment_id":88301233,"body_markdown":"You might enjoy this: https://codegolf.stackexchange.com/questions/40257/multiply-two-numbers-without-using-any-numbers","body":"You might enjoy this: <a href=\"https://codegolf.stackexchange.com/questions/40257/multiply-two-numbers-without-using-any-numbers\" title=\"multiply two numbers without using any numbers\">codegolf.stackexchange.com/questions/40257/&hellip;</a>"},{"owner":{"account_id":121293,"reputation":105197,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"score":0,"creation_date":1527862878,"post_id":50639366,"comment_id":88301487,"body_markdown":"None of the 3 method listed here actually work for all ranges of a and b, even if the effects of overflow are ignored. Before embarking on reinventing the wheel, ensure you have a small flotilla of unit test cases ready.","body":"None of the 3 method listed here actually work for all ranges of a and b, even if the effects of overflow are ignored. Before embarking on reinventing the wheel, ensure you have a small flotilla of unit test cases ready."},{"owner":{"account_id":2560593,"reputation":1454,"user_id":2221647,"accept_rate":67,"display_name":"dhalfageme"},"score":0,"creation_date":1592506815,"post_id":50639366,"comment_id":110458402,"body_markdown":"In the third method you can use any king of log (logn, log2... etc) :)","body":"In the third method you can use any king of log (logn, log2... etc) :)"},{"owner":{"account_id":95444,"reputation":13047,"user_id":259946,"accept_rate":80,"display_name":"hazzik"},"score":0,"creation_date":1622781127,"post_id":50639366,"comment_id":119894999,"body_markdown":"you don&#39;t need to check `a==0` in the recursion example.","body":"you don&#39;t need to check <code>a==0</code> in the recursion example."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1527858246,"creation_date":1527842887,"answer_id":50639498,"question_id":50639366,"body_markdown":"I don&#39;t know whether that has to be a strictly &quot;programming question&quot;. But in Maths:\r\n\r\n    x * y = x / (1 / y) #divide by inverse\r\n\r\nSo:\r\n\r\n**Method 1**:\r\n\r\n    public static double multiplier(double a, double b) {\r\n\r\n        // return a / (1 / b);\r\n\r\n        // the above may be too rough\r\n        // Java doesn&#39;t know that &quot;(a / (b / 0)) == 0&quot;\r\n        // a special case for zero should probably be added:\r\n\r\n        return 0 == b ? 0 : a / (1 / b);\r\n    }\r\n\r\n**Method 2** (a more &quot;programming/API&quot; solution):\r\n\r\nUse big decimal, big integer:\r\n\r\n    new BigDecimal(&quot;3&quot;).multiply(new BigDecimal(&quot;9&quot;))\r\n\r\n\r\nThere are probably a few more ways.","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>I don't know whether that has to be a strictly \"programming question\". But in Maths:</p>\n\n<pre><code>x * y = x / (1 / y) #divide by inverse\n</code></pre>\n\n<p>So:</p>\n\n<p><strong>Method 1</strong>:</p>\n\n<pre><code>public static double multiplier(double a, double b) {\n\n    // return a / (1 / b);\n\n    // the above may be too rough\n    // Java doesn't know that \"(a / (b / 0)) == 0\"\n    // a special case for zero should probably be added:\n\n    return 0 == b ? 0 : a / (1 / b);\n}\n</code></pre>\n\n<p><strong>Method 2</strong> (a more \"programming/API\" solution):</p>\n\n<p>Use big decimal, big integer:</p>\n\n<pre><code>new BigDecimal(\"3\").multiply(new BigDecimal(\"9\"))\n</code></pre>\n\n<p>There are probably a few more ways.</p>\n"},{"tags":[],"owner":{"account_id":121293,"reputation":105197,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1528113099,"creation_date":1527842923,"answer_id":50639514,"question_id":50639366,"body_markdown":"**TL;DR - Inform the interviewer that re-inventing the wheel is a bad idea**\r\n\r\nRather than entertain the interviewer&#39;s [Code Golf](https://codegolf.stackexchange.com/) question, I would have answered the interview question differently: \r\n\r\nBrilliant engineers at [Intel](https://stackoverflow.com/a/4066627), [AMD](https://developer.amd.com/resources/developer-guides-manuals/), [ARM](http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0553a/BABCFBDJ.html) and other microprocessor manufacturers have agonized for decades as how to multiply 32 bit integers together in the fewest possible cycles, and in fact, are even able to produce the correct, full 64 bit result of multiplication of 32 bit integers without overflow. \r\n\r\n(e.g. without pre-casting `a` or `b` to `long`, a multiplication of 2 ints such as `123456728 * 23456789` [overflows into a negative number](https://ideone.com/hjxxdh))\r\n\r\nIn this respect, high level languages have *only one job* to do with integer multiplications like this, viz, to get the job done by the processor with as little fluff as possible. \r\n\r\nAny amount of Code Golf to replicate such multiplication in software IMO is insanity.\r\n\r\nThere&#39;s undoubtedly many `hacks` which could simulate multiplication, although many will only work on limited ranges of values `a` and `b` (in fact, none of the 3 methods listed by the OP perform bug-free for all values of a and b, even if we disregard the overflow problem). And all will be (orders of magnitude) slower than an `IMUL` instruction.\r\n\r\nFor example, if either `a` or `b` is a [positive power of 2](https://stackoverflow.com/q/600293/314291), then bit shifting the other variable to the left by log can be done.\r\n\r\n    if (b == 2)\r\n       return a &lt;&lt; 1;\r\n    if (b == 4)\r\n       return a &lt;&lt; 2;\r\n    ... \r\n\r\nBut this would be really tedious.  \r\n\r\nIn the unlikely event of the `*` operator really disappearing overnight from the Java language spec, next best, I would be to use existing libraries which contain multiplication functions, e.g. [`BigInteger.multiply()`](https://stackoverflow.com/a/3877779/314291), for the same reasons - many years of critical thinking by minds brighter than mine has gone into producing, and testing, such libraries.\r\n\r\n`BigInteger.multiply` would obviously be reliable to 64 bits and beyond, although casting the result back to a 32 bit int would again invite overflow problems.\r\n\r\n**The problem with playing operator * Code Golf**\r\n\r\nThere&#39;s inherent problems with all 3 of the solutions cited in the OP&#39;s question:\r\n\r\n - **Method A** (loop) won&#39;t work if the first number `a` is negative.\r\n\r\n&lt;sm/&gt;\r\n  \r\n     for (int i = 0; i &lt; a; i++) {\r\n          resultat += b;\r\n      }\r\n\r\nWill return 0 for any negative value of a, because the loop continuation condition is never met\r\n\r\n - In **Method B**, you&#39;ll run out of stack for large values of `b` in method 2, unless you refactor the code to allow for [Tail Call Optimisation](https://stackoverflow.com/q/22866491/314291)\r\n\r\n&lt;sm/&gt;\r\n\r\n    multiplier(100, 1000000)\r\n\r\n&gt; &quot;main&quot; java.lang.StackOverflowError\r\n\r\n - And in **Method 3**, you&#39;ll get rounding errors with `log10` (not to mention the obvious problems with attempting to take a log of any number &lt;= 0). e.g.\r\n\r\n&lt;sm/&gt;\r\n\r\n    multiplier(2389, 123123);\r\n\r\nreturns `294140846`, but the actual answer is `294140847` (the last digits 9 x 3 mean the product must end in 7)\r\n\r\nEven the **answer using two consecutive double precision division operators** is prone to [rounding issues](https://ideone.com/IkGx2q#stdin) when re-casting the double result back to an integer:\r\n\r\n    static double multiply(double a, double b) {\r\n        return 0 == (int)b \r\n           ? 0.0 \r\n           : a / (1 / b);\r\n    }\r\n\r\ne.g. for a value `(int)multiply(1, 93)` returns 92, because `multiply` returns 92.99999.... which is truncated with the cast back to a 32 bit integer.\r\n\r\nAnd of course, we don&#39;t need to mention that many of these algorithms are `O(N)` or worse, so the performance will be abysmal.\r\n\r\n\r\n","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p><strong>TL;DR - Inform the interviewer that re-inventing the wheel is a bad idea</strong></p>\n\n<p>Rather than entertain the interviewer's <a href=\"https://codegolf.stackexchange.com/\">Code Golf</a> question, I would have answered the interview question differently: </p>\n\n<p>Brilliant engineers at <a href=\"https://stackoverflow.com/a/4066627\">Intel</a>, <a href=\"https://developer.amd.com/resources/developer-guides-manuals/\" rel=\"nofollow noreferrer\">AMD</a>, <a href=\"http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0553a/BABCFBDJ.html\" rel=\"nofollow noreferrer\">ARM</a> and other microprocessor manufacturers have agonized for decades as how to multiply 32 bit integers together in the fewest possible cycles, and in fact, are even able to produce the correct, full 64 bit result of multiplication of 32 bit integers without overflow. </p>\n\n<p>(e.g. without pre-casting <code>a</code> or <code>b</code> to <code>long</code>, a multiplication of 2 ints such as <code>123456728 * 23456789</code> <a href=\"https://ideone.com/hjxxdh\" rel=\"nofollow noreferrer\">overflows into a negative number</a>)</p>\n\n<p>In this respect, high level languages have <em>only one job</em> to do with integer multiplications like this, viz, to get the job done by the processor with as little fluff as possible. </p>\n\n<p>Any amount of Code Golf to replicate such multiplication in software IMO is insanity.</p>\n\n<p>There's undoubtedly many <code>hacks</code> which could simulate multiplication, although many will only work on limited ranges of values <code>a</code> and <code>b</code> (in fact, none of the 3 methods listed by the OP perform bug-free for all values of a and b, even if we disregard the overflow problem). And all will be (orders of magnitude) slower than an <code>IMUL</code> instruction.</p>\n\n<p>For example, if either <code>a</code> or <code>b</code> is a <a href=\"https://stackoverflow.com/q/600293/314291\">positive power of 2</a>, then bit shifting the other variable to the left by log can be done.</p>\n\n<pre><code>if (b == 2)\n   return a &lt;&lt; 1;\nif (b == 4)\n   return a &lt;&lt; 2;\n... \n</code></pre>\n\n<p>But this would be really tedious.  </p>\n\n<p>In the unlikely event of the <code>*</code> operator really disappearing overnight from the Java language spec, next best, I would be to use existing libraries which contain multiplication functions, e.g. <a href=\"https://stackoverflow.com/a/3877779/314291\"><code>BigInteger.multiply()</code></a>, for the same reasons - many years of critical thinking by minds brighter than mine has gone into producing, and testing, such libraries.</p>\n\n<p><code>BigInteger.multiply</code> would obviously be reliable to 64 bits and beyond, although casting the result back to a 32 bit int would again invite overflow problems.</p>\n\n<p><strong>The problem with playing operator * Code Golf</strong></p>\n\n<p>There's inherent problems with all 3 of the solutions cited in the OP's question:</p>\n\n<ul>\n<li><strong>Method A</strong> (loop) won't work if the first number <code>a</code> is negative.</li>\n</ul>\n\n<p></p>\n\n<pre><code> for (int i = 0; i &lt; a; i++) {\n      resultat += b;\n  }\n</code></pre>\n\n<p>Will return 0 for any negative value of a, because the loop continuation condition is never met</p>\n\n<ul>\n<li>In <strong>Method B</strong>, you'll run out of stack for large values of <code>b</code> in method 2, unless you refactor the code to allow for <a href=\"https://stackoverflow.com/q/22866491/314291\">Tail Call Optimisation</a></li>\n</ul>\n\n<p></p>\n\n<pre><code>multiplier(100, 1000000)\n</code></pre>\n\n<blockquote>\n  <p>\"main\" java.lang.StackOverflowError</p>\n</blockquote>\n\n<ul>\n<li>And in <strong>Method 3</strong>, you'll get rounding errors with <code>log10</code> (not to mention the obvious problems with attempting to take a log of any number &lt;= 0). e.g.</li>\n</ul>\n\n<p></p>\n\n<pre><code>multiplier(2389, 123123);\n</code></pre>\n\n<p>returns <code>294140846</code>, but the actual answer is <code>294140847</code> (the last digits 9 x 3 mean the product must end in 7)</p>\n\n<p>Even the <strong>answer using two consecutive double precision division operators</strong> is prone to <a href=\"https://ideone.com/IkGx2q#stdin\" rel=\"nofollow noreferrer\">rounding issues</a> when re-casting the double result back to an integer:</p>\n\n<pre><code>static double multiply(double a, double b) {\n    return 0 == (int)b \n       ? 0.0 \n       : a / (1 / b);\n}\n</code></pre>\n\n<p>e.g. for a value <code>(int)multiply(1, 93)</code> returns 92, because <code>multiply</code> returns 92.99999.... which is truncated with the cast back to a 32 bit integer.</p>\n\n<p>And of course, we don't need to mention that many of these algorithms are <code>O(N)</code> or worse, so the performance will be abysmal.</p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1670349913,"creation_date":1527843781,"answer_id":50639778,"question_id":50639366,"body_markdown":"There is a method called [Russian Peasant Multiplication][1]. Demonstrate this with the help of a shift operator,\r\n\r\n    public static int multiply(int n, int m)\r\n    { \r\n        int ans = 0, count = 0;\r\n        while (m &gt; 0)\r\n        {\r\n            if (m % 2 == 1)             \r\n                ans += n &lt;&lt; count;\r\n            count++;\r\n            m /= 2;\r\n        }\r\n         \r\n        return ans;\r\n    }\r\n\r\nThe idea is to double the first number and halve the second number repeatedly till the second number doesnt become 1. In the process, whenever the second number become odd, we add the first number to result (result is initialized as 0) One other implementation is,\r\n\r\n    static int russianPeasant(int n, int m) {\r\n\t\tint ans = 0;\r\n\r\n\t\twhile (m &gt; 0) {\r\n\t\t\tif ((m &amp; 1) != 0)\r\n\t\t\t\tans = ans + n;\r\n\r\n\t\t\tn = n &lt;&lt; 1;\r\n\t\t\tm = m &gt;&gt; 1;\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n\r\nrefer :\r\n\r\n - https://www.geeksforgeeks.org/russian-peasant-multiply-two-numbers-using-bitwise-operators/\r\n - https://www.geeksforgeeks.org/multiplication-two-numbers-shift-operator/\r\n  [1]: https://web.archive.org/web/20180101093529/http://mathforum.org/dr.math/faq/faq.peasant.html","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>There is a method called [Russian Peasant Multiplication][1]. Demonstrate this with the help of a shift operator,</p>\n<pre><code>public static int multiply(int n, int m)\n{ \n    int ans = 0, count = 0;\n    while (m &gt; 0)\n    {\n        if (m % 2 == 1)             \n            ans += n &lt;&lt; count;\n        count++;\n        m /= 2;\n    }\n     \n    return ans;\n}\n</code></pre>\n<p>The idea is to double the first number and halve the second number repeatedly till the second number doesnt become 1. In the process, whenever the second number become odd, we add the first number to result (result is initialized as 0) One other implementation is,</p>\n<pre><code>static int russianPeasant(int n, int m) {\n    int ans = 0;\n\n    while (m &gt; 0) {\n        if ((m &amp; 1) != 0)\n            ans = ans + n;\n\n        n = n &lt;&lt; 1;\n        m = m &gt;&gt; 1;\n    }\n    return ans;\n}\n</code></pre>\n<p>refer :</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/russian-peasant-multiply-two-numbers-using-bitwise-operators/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/russian-peasant-multiply-two-numbers-using-bitwise-operators/</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/multiplication-two-numbers-shift-operator/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/multiplication-two-numbers-shift-operator/</a>\n[1]: <a href=\"https://web.archive.org/web/20180101093529/http://mathforum.org/dr.math/faq/faq.peasant.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20180101093529/http://mathforum.org/dr.math/faq/faq.peasant.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527855598,"creation_date":1527855598,"answer_id":50643287,"question_id":50639366,"body_markdown":"For completeness:\r\n\r\n[Math.multiplyExact(int,int)](https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#multiplyExact-int-int-):\r\n\r\n&gt; Returns the product of the arguments, throwing an exception if the result overflows an int.\r\n\r\nif throwing on overflow is acceptable.","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>For completeness:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#multiplyExact-int-int-\" rel=\"nofollow noreferrer\">Math.multiplyExact(int,int)</a>:</p>\n\n<blockquote>\n  <p>Returns the product of the arguments, throwing an exception if the result overflows an int.</p>\n</blockquote>\n\n<p>if throwing on overflow is acceptable.</p>\n"},{"tags":[],"owner":{"account_id":1779790,"reputation":1186,"user_id":1622825,"accept_rate":43,"display_name":"Ertai87"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1527863593,"creation_date":1527863593,"answer_id":50645765,"question_id":50639366,"body_markdown":"Others have hit on question 1 sufficiently that I&#39;m not going to rehash it here, but I did want to hit on question 2 a little, because it seems (to me) the more interesting one.\r\n\r\nSo, when someone is asking you this type of question, they are less concerned with what your code looks like, and more concerned with how you are thinking.  In the real world, you won&#39;t ever actually have to write multiplication without the * operator; every programming language known to man (with the exception of [Brainfuck][1], I guess) has multiplication implemented, almost always with the * operator.  The point is, sometimes you are working with code, and for whatever reason (maybe due to library bloat, due to configuration errors, due to package incompatibility, etc), you won&#39;t be able to use a library you are used to.  The idea is to see how you function in those situations.\r\n\r\nThe question isn&#39;t whether or not you are &quot;cut out&quot; to be a programmer; skills like these can be learned.  A trick I use personally is to think about what, exactly, is the expected result for the question they&#39;re asking?  In this particular example, as I (and I presume you as well) learned in grade 4 in elementary school, multiplication is repeated addition.  Therefore, I would implement it (and have in the past; I&#39;ve had this same question in a few interviews) with a for loop doing repeated addition.\r\n\r\nThe thing is, if you don&#39;t realize that multiplication is repeated addition (or whatever other question you&#39;re being asked to answer), then you&#39;ll just be screwed.  Which is why I&#39;m not a huge fan of these types of questions, because a lot of them boil down to trivia that you either know or don&#39;t know, rather than testing your true skills as a programmer (the skills mentioned above regarding libraries etc can be tested much better in other ways).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Brainfuck","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>Others have hit on question 1 sufficiently that I'm not going to rehash it here, but I did want to hit on question 2 a little, because it seems (to me) the more interesting one.</p>\n\n<p>So, when someone is asking you this type of question, they are less concerned with what your code looks like, and more concerned with how you are thinking.  In the real world, you won't ever actually have to write multiplication without the * operator; every programming language known to man (with the exception of <a href=\"https://en.wikipedia.org/wiki/Brainfuck\" rel=\"noreferrer\">Brainfuck</a>, I guess) has multiplication implemented, almost always with the * operator.  The point is, sometimes you are working with code, and for whatever reason (maybe due to library bloat, due to configuration errors, due to package incompatibility, etc), you won't be able to use a library you are used to.  The idea is to see how you function in those situations.</p>\n\n<p>The question isn't whether or not you are \"cut out\" to be a programmer; skills like these can be learned.  A trick I use personally is to think about what, exactly, is the expected result for the question they're asking?  In this particular example, as I (and I presume you as well) learned in grade 4 in elementary school, multiplication is repeated addition.  Therefore, I would implement it (and have in the past; I've had this same question in a few interviews) with a for loop doing repeated addition.</p>\n\n<p>The thing is, if you don't realize that multiplication is repeated addition (or whatever other question you're being asked to answer), then you'll just be screwed.  Which is why I'm not a huge fan of these types of questions, because a lot of them boil down to trivia that you either know or don't know, rather than testing your true skills as a programmer (the skills mentioned above regarding libraries etc can be tested much better in other ways).</p>\n"},{"tags":[],"owner":{"account_id":10782038,"reputation":1413,"user_id":7932271,"display_name":"DavidW"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527865737,"creation_date":1527865737,"answer_id":50646407,"question_id":50639366,"body_markdown":"If you don&#39;t have integer values, you can take advantage of other mathematical properties to get the product of 2 numbers.  Someone has already mentioned `log10`, so here&#39;s a bit more obscure one:\r\n\r\n    public double multiply(double x, double y) {\r\n        Vector3d vx = new Vector3d(x, 0, 0);\r\n        Vector3d vy = new Vector3d(0, y, 0);\r\n        Vector3d result = new Vector3d().cross(vx, vy);\r\n        return result.length();\r\n    }","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>If you don't have integer values, you can take advantage of other mathematical properties to get the product of 2 numbers.  Someone has already mentioned <code>log10</code>, so here's a bit more obscure one:</p>\n\n<pre><code>public double multiply(double x, double y) {\n    Vector3d vx = new Vector3d(x, 0, 0);\n    Vector3d vy = new Vector3d(0, y, 0);\n    Vector3d result = new Vector3d().cross(vx, vy);\n    return result.length();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527867186,"creation_date":1527867186,"answer_id":50646804,"question_id":50639366,"body_markdown":"Use `BigInteger.multiply` or `BigDecimal.multiply` as appropriate.","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>Use <code>BigInteger.multiply</code> or <code>BigDecimal.multiply</code> as appropriate.</p>\n"},{"tags":[],"owner":{"account_id":13695240,"reputation":21,"user_id":9882103,"display_name":"lkrv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527872139,"creation_date":1527867537,"answer_id":50646928,"question_id":50639366,"body_markdown":"One solution is to use bit wise operations. That&#39;s a bit similar to an answer presented before, but eliminating division also. We can have something like this. I&#39;ll use C, because I don&#39;t know Java that well.\r\n\r\n    uint16_t multiply( uint16_t a, uint16_t b ) {\r\n      uint16_t i = 0;\r\n      uint16_t result = 0;\r\n    \r\n      for (i = 0; i &lt; 16; i++) {\r\n        if ( a &amp; (1&lt;&lt;i) ) {\r\n          result += b &lt;&lt; i;\r\n        }\r\n      }\r\n      return result;\r\n    }","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>One solution is to use bit wise operations. That's a bit similar to an answer presented before, but eliminating division also. We can have something like this. I'll use C, because I don't know Java that well.</p>\n\n<pre><code>uint16_t multiply( uint16_t a, uint16_t b ) {\n  uint16_t i = 0;\n  uint16_t result = 0;\n\n  for (i = 0; i &lt; 16; i++) {\n    if ( a &amp; (1&lt;&lt;i) ) {\n      result += b &lt;&lt; i;\n    }\n  }\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33808,"reputation":43273,"user_id":94977,"accept_rate":69,"display_name":"Jason Orendorff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527872809,"creation_date":1527872809,"answer_id":50648136,"question_id":50639366,"body_markdown":"The questions interviewers ask reflect their values. Many programmers prize their own puzzle-solving skills and mathematical acumen, and they think those skills make the best programmers.\r\n\r\nThey are wrong. The best programmers work on the most important thing rather than the most interesting bit; make simple, boring technical choices; write clearly; think about users; and steer away from stupid detours. I wish I had these skills and tendencies!\r\n\r\nIf you can do several of those things and also crank out working code, many programming teams need you. You might be a superstar.\r\n\r\n----\r\n\r\nBut what should you do in an interview when you&#39;re stumped?\r\n\r\nAsk clarifying questions. (&quot;What kind of numbers?&quot; &quot;What kind of programming language is this that doesn&#39;t have multiplication?&quot; And without being rude: &quot;Why am I doing this?&quot;) If, as you suspect, the question is just a dumb puzzle with no bearing on reality, these questions will not produce useful answers. But common sense and a desire to get at &quot;the problem behind the problem&quot; are important engineering virtues.\r\n\r\nThe best you can do in a bad interview is demonstrate your strengths. Recognizing them is up to your interviewer; if they don&#39;t, that&#39;s their loss. Don&#39;t be discouraged. There are other companies.","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>The questions interviewers ask reflect their values. Many programmers prize their own puzzle-solving skills and mathematical acumen, and they think those skills make the best programmers.</p>\n\n<p>They are wrong. The best programmers work on the most important thing rather than the most interesting bit; make simple, boring technical choices; write clearly; think about users; and steer away from stupid detours. I wish I had these skills and tendencies!</p>\n\n<p>If you can do several of those things and also crank out working code, many programming teams need you. You might be a superstar.</p>\n\n<hr>\n\n<p>But what should you do in an interview when you're stumped?</p>\n\n<p>Ask clarifying questions. (\"What kind of numbers?\" \"What kind of programming language is this that doesn't have multiplication?\" And without being rude: \"Why am I doing this?\") If, as you suspect, the question is just a dumb puzzle with no bearing on reality, these questions will not produce useful answers. But common sense and a desire to get at \"the problem behind the problem\" are important engineering virtues.</p>\n\n<p>The best you can do in a bad interview is demonstrate your strengths. Recognizing them is up to your interviewer; if they don't, that's their loss. Don't be discouraged. There are other companies.</p>\n"}],"owner":{"account_id":6095638,"reputation":1213,"user_id":4756519,"accept_rate":25,"display_name":"Jesse James"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32217,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"closed_date":1527870543,"answer_count":9,"score":29,"last_activity_date":1670349913,"creation_date":1527842410,"question_id":50639366,"body_markdown":"I had an interesting interview yesterday where the interviewer asked me a classic question: How can we multiply two numbers in Java without using the `*` operator. Honestly, I don&#39;t know if it&#39;s the stress that comes with interviews, but I wasn&#39;t able to come up with any solution.\r\n\r\nAfter the interview, I went home and breezed through SO for answers. So far, here are the ones I have found:\r\n\r\n**First Method**: Using a For loop\r\n\r\n\t// Using For loop\r\n\tpublic static int multiplierLoop(int a, int b) {\r\n\t\tint resultat = 0;\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tresultat += b;\r\n\t\t}\r\n\r\n\t\treturn resultat;\r\n\t}\r\n\r\n**Second Method**: Using Recursion\r\n\r\n    // using Recursion\r\n    public static int multiplier(int a, int b) {\r\n    \r\n    \tif ((a == 0) || (b == 0))\r\n    \t\treturn 0;\r\n    \telse\r\n    \t\treturn (a + multiplier(a, b - 1));\r\n    \r\n    }\r\n\r\n**Third Method**: Using Log10\r\n\r\n\t**// Using Math.Log10\r\n\tpublic static double multiplierLog(int a, int b) {\r\n\t\treturn Math.pow(10, (Math.log10(a) + Math.log10(b)));\r\n\t}**\r\n\r\nSo now I have two questions for you:\r\n\r\n1. Is there still another method I&#39;m missing? \r\n2. Does the fact that I wasn&#39;t able to come up with the answer proves that my logical reasoning isn&#39;t strong enough to come up with solutions and that I&#39;m not &quot;cut out&quot; to be a programmer? Cause let&#39;s be honest, the question didn&#39;t seem that difficult and I&#39;m pretty sure most programmers would easily and quickly find an answer.","title":"Another method to multiply two numbers without using the &quot;*&quot; operator","body":"<p>I had an interesting interview yesterday where the interviewer asked me a classic question: How can we multiply two numbers in Java without using the <code>*</code> operator. Honestly, I don't know if it's the stress that comes with interviews, but I wasn't able to come up with any solution.</p>\n\n<p>After the interview, I went home and breezed through SO for answers. So far, here are the ones I have found:</p>\n\n<p><strong>First Method</strong>: Using a For loop</p>\n\n<pre><code>// Using For loop\npublic static int multiplierLoop(int a, int b) {\n    int resultat = 0;\n    for (int i = 0; i &lt; a; i++) {\n        resultat += b;\n    }\n\n    return resultat;\n}\n</code></pre>\n\n<p><strong>Second Method</strong>: Using Recursion</p>\n\n<pre><code>// using Recursion\npublic static int multiplier(int a, int b) {\n\n    if ((a == 0) || (b == 0))\n        return 0;\n    else\n        return (a + multiplier(a, b - 1));\n\n}\n</code></pre>\n\n<p><strong>Third Method</strong>: Using Log10</p>\n\n<pre><code>**// Using Math.Log10\npublic static double multiplierLog(int a, int b) {\n    return Math.pow(10, (Math.log10(a) + Math.log10(b)));\n}**\n</code></pre>\n\n<p>So now I have two questions for you:</p>\n\n<ol>\n<li>Is there still another method I'm missing? </li>\n<li>Does the fact that I wasn't able to come up with the answer proves that my logical reasoning isn't strong enough to come up with solutions and that I'm not \"cut out\" to be a programmer? Cause let's be honest, the question didn't seem that difficult and I'm pretty sure most programmers would easily and quickly find an answer.</li>\n</ol>\n"},{"tags":["java","collections","set"],"comments":[{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1511768457,"post_id":47501753,"comment_id":81967595,"body_markdown":"Note that `Set` does &quot;allow&quot; duplicate elements to be inserted (it doesn&#39;t cause an exception to be thrown); the element simply won&#39;t be stored in the set since an equivalent object is already present.","body":"Note that <code>Set</code> does &quot;allow&quot; duplicate elements to be inserted (it doesn&#39;t cause an exception to be thrown); the element simply won&#39;t be stored in the set since an equivalent object is already present."}],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511737189,"creation_date":1511736252,"answer_id":47501793,"question_id":47501753,"body_markdown":"&gt; Is Java collections framework Set interface a representation of\r\n&gt; mathematical Set in anyways?\r\n\r\nYes, the `Set` interface models the mathematical set abstraction. The following methods can be used to perform some of the common `Set` operations.\r\n\r\n**[`addAll(Collection&lt;? extends E&gt; c)`][1]** (set union)\r\n\r\n**[`retainAll(Collection&lt;?&gt; c)`][2]** (set intersection)\r\n\r\n**[`removeAll(Collection&lt;?&gt; c)`][3]** (set difference)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#addAll-java.util.Collection-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#retainAll-java.util.Collection-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#removeAll-java.util.Collection-","title":"Java Collection Framework Set compared to mathematical Set?","body":"<blockquote>\n  <p>Is Java collections framework Set interface a representation of\n  mathematical Set in anyways?</p>\n</blockquote>\n\n<p>Yes, the <code>Set</code> interface models the mathematical set abstraction. The following methods can be used to perform some of the common <code>Set</code> operations.</p>\n\n<p><strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#addAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>addAll(Collection&lt;? extends E&gt; c)</code></a></strong> (set union)</p>\n\n<p><strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#retainAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>retainAll(Collection&lt;?&gt; c)</code></a></strong> (set intersection)</p>\n\n<p><strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#removeAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>removeAll(Collection&lt;?&gt; c)</code></a></strong> (set difference)</p>\n"},{"tags":[],"owner":{"account_id":5226,"reputation":21596,"user_id":8313,"display_name":"Sean Reilly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670349894,"creation_date":1511736464,"answer_id":47501828,"question_id":47501753,"body_markdown":"The collections framework version of Set is a reasonably honest representation of _finite_ mathematical sets (although not infinite sets). The requirement that an item should only be in a given set once is consistent with [set theory][1].\r\n\r\nThe mathematical construct that allows the same item more than once is a [multi-set][2], not a set.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20171222072410/http://mathforum.org/library/drmath/view/65580.html\r\n  [2]: https://en.wikipedia.org/wiki/Multiset","title":"Java Collection Framework Set compared to mathematical Set?","body":"<p>The collections framework version of Set is a reasonably honest representation of <em>finite</em> mathematical sets (although not infinite sets). The requirement that an item should only be in a given set once is consistent with <a href=\"https://web.archive.org/web/20171222072410/http://mathforum.org/library/drmath/view/65580.html\" rel=\"nofollow noreferrer\">set theory</a>.</p>\n<p>The mathematical construct that allows the same item more than once is a <a href=\"https://en.wikipedia.org/wiki/Multiset\" rel=\"nofollow noreferrer\">multi-set</a>, not a set.</p>\n"}],"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670349894,"creation_date":1511735943,"question_id":47501753,"body_markdown":"I am learning Java Collection Framework, and stared with JDK documentation for the same. One of the particular concept which I got confused with is  `Set` interface. \r\n\r\nI understood that with `Set` it won&#39;t allow duplicate elements to be inserted.\r\n\r\nMy question is, is Java collections framework Set interface a representation of mathematical Set in anyways?\r\n\r\n","title":"Java Collection Framework Set compared to mathematical Set?","body":"<p>I am learning Java Collection Framework, and stared with JDK documentation for the same. One of the particular concept which I got confused with is  <code>Set</code> interface. </p>\n\n<p>I understood that with <code>Set</code> it won't allow duplicate elements to be inserted.</p>\n\n<p>My question is, is Java collections framework Set interface a representation of mathematical Set in anyways?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670349809,"creation_date":1670349809,"answer_id":74707180,"question_id":74706348,"body_markdown":"Your `order` method only allows for the input of exactly one item and you don&#39;t have any loop to call it multiple times. Also you do not collect multiple ordered items in an array or list, so you cannot first collect all ordered items and then print them in a summary. Also your output in `orderInfo` does not have a loop and can only output the last ordered item.\r\n\r\nWhat you do right now is a recursive call or the `order` method to itself - this will only work for a certain amount of items, then your call stack will be exhausted. (Probably you will never face that error when you try it, since the stack is not small, and you do not use a lot of it in your program.)\r\n\r\nYou should create a class (e.g. `OrderedItem`) for an ordered item that stores data like product code, description, price and quantity. Then in a loop let the user enter the ordered items and create a new object of that class per ordered item. Add that object to a list.\r\n\r\nIn your `orderInfo` method you pass the list of ordered items as parameter and then print the header first, then a loop to print all the individual items from the list, and then you print the footer.\r\n","title":"Simple Point of Sale Order Info: How to compile all the Items that a user will input?","body":"<p>Your <code>order</code> method only allows for the input of exactly one item and you don't have any loop to call it multiple times. Also you do not collect multiple ordered items in an array or list, so you cannot first collect all ordered items and then print them in a summary. Also your output in <code>orderInfo</code> does not have a loop and can only output the last ordered item.</p>\n<p>What you do right now is a recursive call or the <code>order</code> method to itself - this will only work for a certain amount of items, then your call stack will be exhausted. (Probably you will never face that error when you try it, since the stack is not small, and you do not use a lot of it in your program.)</p>\n<p>You should create a class (e.g. <code>OrderedItem</code>) for an ordered item that stores data like product code, description, price and quantity. Then in a loop let the user enter the ordered items and create a new object of that class per ordered item. Add that object to a list.</p>\n<p>In your <code>orderInfo</code> method you pass the list of ordered items as parameter and then print the header first, then a loop to print all the individual items from the list, and then you print the footer.</p>\n"}],"owner":{"account_id":26232014,"reputation":5,"user_id":19907769,"display_name":"Abies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74707180,"answer_count":1,"score":0,"last_activity_date":1670349809,"creation_date":1670345885,"question_id":74706348,"body_markdown":"I was doing a simple point of sale system, and I&#39;m having a difficulty on outputting all the items that the user will input. So basically it&#39;s like a receipt.\r\n\r\nHere&#39;s the whole code:\r\n\r\n```\r\npublic class POS {\r\n\tpublic static Scanner input = new Scanner(System.in);\r\n\tpublic static String again;\r\n    public static String choose;\r\n    public static String description;\r\n    public static String price;\r\n\tpublic static int quantity;\r\n\tpublic static double total ;\r\n\t\r\n\tpublic static void menu() {\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t +===========================================+&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t              PCG Computer Shop             &quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t                               &quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   Code         Description         Unit Price&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A001            CPU              Php 6,500&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A002        Mother Board         Php 4,500&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A003            GPU              Php 25,000&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A004            RAM              Php 4,000&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A005        Power Supply         Php 5,000&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A006           Mouse             Php 500&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A007          Monitor            Php 3,000&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A008          Keyboard           Php 1,500 &quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A009          Headset            Php 600&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t   A010         Microphone          Php 350&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t  +===========================================+&quot;);\r\n\t}\r\n\t\r\n\tpublic static void order() {\r\n\t\tSystem.out.print(&quot;\\nSelect Product Code: &quot;);\r\n\t\tchoose = input.next();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//condition\r\n\t\tif(choose.equals(&quot;A001&quot;)) {\r\n\t\t\tdescription = &quot;CPU&quot;;\r\n\t\t\tprice = &quot;Php 6,500&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\t\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 6500);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t}\r\n\t\telse if(choose.equals(&quot;A002&quot;)) {\r\n\t\t\tdescription = &quot;Mother Board&quot;;\r\n\t\t\tprice = &quot;Php 4,500&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 4500);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse if(choose.equals(&quot;A003&quot;)) {\r\n\t\t\tdescription = &quot;GPU&quot;;\r\n\t\t\tprice = &quot;Php 25,000&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 25000);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(choose.equals(&quot;A004&quot;)) {\r\n\t\t\tdescription = &quot;RAM&quot;;\r\n\t\t\tprice = &quot;Php 4,000&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 4000);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse if(choose.equals(&quot;A005&quot;)) {\r\n\t\t\tdescription = &quot;Power Supply&quot;;\r\n\t\t\tprice = &quot;Php 5,000&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 5000);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(choose.equals(&quot;A006&quot;)) {\r\n\t\t\tdescription = &quot;Mouse&quot;;\r\n\t\t\tprice = &quot;Php 500&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 500);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(choose.equals(&quot;A007&quot;)) {\r\n\t\t\tdescription = &quot;Monitor&quot;;\r\n\t\t\tprice = &quot;Php 3,000&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 3000);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t\telse if(choose.equals(&quot;A008&quot;)) {\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tdescription = &quot;Keyboard&quot;;\r\n\t\t\tprice = &quot;Php 1,500&quot;;\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 1500);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\telse if(choose.equals(&quot;A009&quot;)) {\r\n\t\t\tdescription = &quot;Headset&quot;;\r\n\t\t\tprice = &quot;Php 600&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 600);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\telse if(choose.equals(&quot;A010&quot;)) {\r\n\t\t\tdescription = &quot;Microphone&quot;;\r\n\t\t\tprice = &quot;Php 350&quot;;\r\n\t\t\tSystem.out.print(&quot;Enter Quantity: &quot;);\r\n\t\t\tquantity = input.nextInt();\r\n\t\t\ttotal = total + (quantity * 350);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Add Item (y/n)? &quot;);\r\n\t\t\tagain = input.next();\r\n\t\t\t\r\n\t\t\tif(again.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\t\torder();\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\r\n\t\t}\r\n\t\r\n\r\n\t\t}\r\n\t\r\n\t\r\n        //This is supposedly the receipt\r\n\tpublic static void orderInfo() {\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t +======================================================================================+&quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t                                   PCG Computer Shop                                  &quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t                                                                   &quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t                                   ORDER INFORMATION                                 &quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t         Code         Description          Unit Price        Quantity       Amount&quot;); \r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t         &quot;   +   choose + &quot;             &quot; + description + &quot;               &quot; + price + &quot;           &quot; + quantity + &quot;           &quot; + total);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t &quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;); \r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot;);\r\n\t\tSystem.out.println(&quot;\\t\\t\\t\\t +======================================================================================+&quot;);\r\n\r\n\r\n\t}\r\n\t\r\n\t\t\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tmenu();\r\n\t\torder();\r\n\t\torderInfo();\r\n\r\n\r\n   }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\nI tried setter and getter but it didn&#39;t work for me. So I gave up.\r\n\r\nThis is  what suppose the output should look like\r\n\r\n```\r\n +===========================================+\r\n\t\t\t\t              PCG Computer Shop             \r\n\t\t\t\t                               \r\n\t\t\t\t\r\n\t\t\t\t   Code         Description         Unit Price\r\n\t\t\t\t\r\n\t\t\t\t   A001            CPU              Php 6,500\r\n\t\t\t\t   A002        Mother Board         Php 4,500\r\n\t\t\t\t   A003            GPU              Php 25,000\r\n\t\t\t\t   A004            RAM              Php 4,000\r\n\t\t\t\t   A005        Power Supply         Php 5,000\r\n\t\t\t\t   A006           Mouse             Php 500\r\n\t\t\t\t   A007          Monitor            Php 3,000\r\n\t\t\t\t   A008          Keyboard           Php 1,500 \r\n\t\t\t\t   A009          Headset            Php 600\r\n\t\t\t\t   A010         Microphone          Php 350\r\n\t\t\t\t  +===========================================+\r\n\r\nSelect Product Code: A001\r\nEnter Quantity: 2\r\nAdd Item (y/n)? y\r\n\r\nSelect Product Code: A002\r\nEnter Quantity: 2\r\nAdd Item (y/n)? y\r\n\r\nSelect Product Code: A004\r\nEnter Quantity: 2\r\nAdd Item (y/n)? n\r\n\t\t\t\t +======================================================================================+\r\n\t\t\t\t                                   PCG Computer Shop                                  \r\n\t\t\t\t                                                                   \r\n\t\t\t\t\r\n\t\t\t\t                                   ORDER INFORMATION                                 \r\n\t\t\t\t\r\n\t\t\t\t         Code         Description          Unit Price        Quantity       Amount\r\n\t\t\t\t         A001             CPU              Php 6,500           2           13000.0\r\n                         A002         Mother Board         Php 4,500           2           9000.0\r\n\t\t\t\t         A004             RAM              Php 4,000           2           4000.0\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t +======================================================================================+\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\nAnd this is the output that I got:\r\n\r\n```\r\n+======================================================================================+\r\n\t\t\t\t                                   PCG Computer Shop                                  \r\n\t\t\t\t                                                                   \r\n\t\t\t\t\r\n\t\t\t\t                                   ORDER INFORMATION                                 \r\n\t\t\t\t\r\n\t\t\t\t         Code         Description          Unit Price        Quantity       Amount\r\n\t\t\t\t         A004             RAM               Php 4,000           2           30000.0\r\n\t\t\t\t \r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t +======================================================================================+\r\n\r\n\r\n\r\n```","title":"Simple Point of Sale Order Info: How to compile all the Items that a user will input?","body":"<p>I was doing a simple point of sale system, and I'm having a difficulty on outputting all the items that the user will input. So basically it's like a receipt.</p>\n<p>Here's the whole code:</p>\n<pre><code>public class POS {\n    public static Scanner input = new Scanner(System.in);\n    public static String again;\n    public static String choose;\n    public static String description;\n    public static String price;\n    public static int quantity;\n    public static double total ;\n    \n    public static void menu() {\n            System.out.println(&quot;\\t\\t\\t\\t +===========================================+&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t              PCG Computer Shop             &quot;);\n            System.out.println(&quot;\\t\\t\\t\\t                               &quot;);\n            System.out.println(&quot;\\t\\t\\t\\t&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   Code         Description         Unit Price&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A001            CPU              Php 6,500&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A002        Mother Board         Php 4,500&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A003            GPU              Php 25,000&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A004            RAM              Php 4,000&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A005        Power Supply         Php 5,000&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A006           Mouse             Php 500&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A007          Monitor            Php 3,000&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A008          Keyboard           Php 1,500 &quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A009          Headset            Php 600&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t   A010         Microphone          Php 350&quot;);\n            System.out.println(&quot;\\t\\t\\t\\t  +===========================================+&quot;);\n    }\n    \n    public static void order() {\n        System.out.print(&quot;\\nSelect Product Code: &quot;);\n        choose = input.next();\n        \n        \n        \n        //condition\n        if(choose.equals(&quot;A001&quot;)) {\n            description = &quot;CPU&quot;;\n            price = &quot;Php 6,500&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            \n            quantity = input.nextInt();\n            total = total + (quantity * 6500);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n                        \n        }\n        else if(choose.equals(&quot;A002&quot;)) {\n            description = &quot;Mother Board&quot;;\n            price = &quot;Php 4,500&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 4500);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n        \n            \n        }\n        \n        else if(choose.equals(&quot;A003&quot;)) {\n            description = &quot;GPU&quot;;\n            price = &quot;Php 25,000&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 25000);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n            \n            \n        }\n        else if(choose.equals(&quot;A004&quot;)) {\n            description = &quot;RAM&quot;;\n            price = &quot;Php 4,000&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 4000);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n            \n            \n        }\n        \n        else if(choose.equals(&quot;A005&quot;)) {\n            description = &quot;Power Supply&quot;;\n            price = &quot;Php 5,000&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 5000);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n            \n            \n        }\n        else if(choose.equals(&quot;A006&quot;)) {\n            description = &quot;Mouse&quot;;\n            price = &quot;Php 500&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 500);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n            \n            \n        }\n        else if(choose.equals(&quot;A007&quot;)) {\n            description = &quot;Monitor&quot;;\n            price = &quot;Php 3,000&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 3000);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n            \n            }\n            \n        \n        \n        else if(choose.equals(&quot;A008&quot;)) {\n            System.out.print(&quot;Enter Quantity: &quot;);\n            description = &quot;Keyboard&quot;;\n            price = &quot;Php 1,500&quot;;\n            quantity = input.nextInt();\n            total = total + (quantity * 1500);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n            \n            }\n            \n        \n        else if(choose.equals(&quot;A009&quot;)) {\n            description = &quot;Headset&quot;;\n            price = &quot;Php 600&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 600);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();        \n            }\n            \n    \n        }\n            \n        \n        else if(choose.equals(&quot;A010&quot;)) {\n            description = &quot;Microphone&quot;;\n            price = &quot;Php 350&quot;;\n            System.out.print(&quot;Enter Quantity: &quot;);\n            quantity = input.nextInt();\n            total = total + (quantity * 350);\n            \n            System.out.print(&quot;Add Item (y/n)? &quot;);\n            again = input.next();\n            \n            if(again.equalsIgnoreCase(&quot;Y&quot;)) {\n                order();\n            \n            }\n        \n    \n        }\n    \n\n        }\n    \n    \n        //This is supposedly the receipt\n    public static void orderInfo() {\n        System.out.println(&quot;\\t\\t\\t\\t +======================================================================================+&quot;);\n        System.out.println(&quot;\\t\\t\\t\\t                                   PCG Computer Shop                                  &quot;);\n        System.out.println(&quot;\\t\\t\\t\\t                                                                   &quot;);\n        System.out.println(&quot;\\t\\t\\t\\t&quot;);\n        System.out.println(&quot;\\t\\t\\t\\t                                   ORDER INFORMATION                                 &quot;);\n        System.out.println(&quot;\\t\\t\\t\\t&quot;);\n        System.out.println(&quot;\\t\\t\\t\\t         Code         Description          Unit Price        Quantity       Amount&quot;); \n        System.out.println(&quot;\\t\\t\\t\\t         &quot;   +   choose + &quot;             &quot; + description + &quot;               &quot; + price + &quot;           &quot; + quantity + &quot;           &quot; + total);\n        System.out.println(&quot;\\t\\t\\t\\t &quot;);\n        System.out.println(&quot;\\t\\t\\t\\t&quot;); \n        System.out.println(&quot;\\t\\t\\t\\t&quot;);\n        System.out.println(&quot;\\t\\t\\t\\t&quot;);\n        System.out.println(&quot;\\t\\t\\t\\t&quot;);\n        System.out.println(&quot;\\t\\t\\t\\t +======================================================================================+&quot;);\n\n\n    }\n    \n        \n    \n    \n    public static void main(String[] args) {\n        menu();\n        order();\n        orderInfo();\n\n\n   }\n\n}\n\n\n\n\n\n\n\n\n\n</code></pre>\n<p>I tried setter and getter but it didn't work for me. So I gave up.</p>\n<p>This is  what suppose the output should look like</p>\n<pre><code> +===========================================+\n                              PCG Computer Shop             \n                                               \n                \n                   Code         Description         Unit Price\n                \n                   A001            CPU              Php 6,500\n                   A002        Mother Board         Php 4,500\n                   A003            GPU              Php 25,000\n                   A004            RAM              Php 4,000\n                   A005        Power Supply         Php 5,000\n                   A006           Mouse             Php 500\n                   A007          Monitor            Php 3,000\n                   A008          Keyboard           Php 1,500 \n                   A009          Headset            Php 600\n                   A010         Microphone          Php 350\n                  +===========================================+\n\nSelect Product Code: A001\nEnter Quantity: 2\nAdd Item (y/n)? y\n\nSelect Product Code: A002\nEnter Quantity: 2\nAdd Item (y/n)? y\n\nSelect Product Code: A004\nEnter Quantity: 2\nAdd Item (y/n)? n\n                 +======================================================================================+\n                                                   PCG Computer Shop                                  \n                                                                                   \n                \n                                                   ORDER INFORMATION                                 \n                \n                         Code         Description          Unit Price        Quantity       Amount\n                         A001             CPU              Php 6,500           2           13000.0\n                         A002         Mother Board         Php 4,500           2           9000.0\n                         A004             RAM              Php 4,000           2           4000.0\n                \n                \n                \n                \n                 +======================================================================================+\n\n\n\n\n\n</code></pre>\n<p>And this is the output that I got:</p>\n<pre><code>+======================================================================================+\n                                                   PCG Computer Shop                                  \n                                                                                   \n                \n                                                   ORDER INFORMATION                                 \n                \n                         Code         Description          Unit Price        Quantity       Amount\n                         A004             RAM               Php 4,000           2           30000.0\n                 \n                \n                \n                \n                \n                 +======================================================================================+\n\n\n\n</code></pre>\n"},{"tags":["java","android","date","format"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1370514140,"post_id":16959502,"comment_id":24491670,"body_markdown":"Hmm, French and Italian both have the same problems, but I have never seen single letter abbreviations used in any of these two languages. Heck, even _English_ has this problem.","body":"Hmm, French and Italian both have the same problems, but I have never seen single letter abbreviations used in any of these two languages. Heck, even <i>English</i> has this problem."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670353020,"post_id":16959502,"comment_id":131855610,"body_markdown":"Two ways using [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html): (1) `LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;EEEEE&quot;))` (substitute any date or date-time object instead of `LocalDate.now()`) (2) `LocalDate.now().getDayOfWeek().getDisplayName(TextStyle.NARROW, Locale.ENGLISH)` (substitute any `DayOfWeek` object instead of `LocalDate.now().getDayOfWeek()`). Both will typically print one letter. If for older Android use java.time through [desugaring](https://developer.android.com/studio/write/java8-support).","body":"Two ways using <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>: (1) <code>LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;EEEEE&quot;))</code> (substitute any date or date-time object instead of <code>LocalDate.now()</code>) (2) <code>LocalDate.now().getDayOfWeek().getDisplayName(TextStyle.NARR&zwnj;&#8203;OW, Locale.ENGLISH)</code> (substitute any <code>DayOfWeek</code> object instead of <code>LocalDate.now().getDayOfWeek()</code>). Both will typically print one letter. If for older Android use java.time through <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662192439,"creation_date":1370514186,"answer_id":16959657,"question_id":16959502,"body_markdown":"There is no standard Java API support for doing that&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nPart of the reason is that many (maybe even most) languages don&#39;t have conventional unique one-letter weekday abbreviations.  In English there isn&#39;t, for example (M T W T F S S).  \r\n\r\nA (hypothetical) formatting option that doesn&#39;t work&lt;sup&gt;2&lt;/sup&gt; in many / most locales would be an impediment to internationalization rather than a help.\r\n\r\n-----------\r\n\r\nIt has been pointed out that:\r\n\r\n    SimpleDateFormat formatLetterDay = \r\n        new SimpleDateFormat(&quot;EEEEE&quot;, Locale.getDefault());\r\n    String letter = formatLetterDay.format(new Date());\r\n\r\ngives one letter abbreviations for later versions of Android (18 and above), though the [javadocs][1] do not mention this.  It appears that this &quot;5 letter&quot; format has been borrowed from `DateTimeFormatter` whose [javadoc][2] says:\r\n\r\n&gt; The count of pattern letters determines the format.\r\n&gt;\r\n&gt; Text: The text style is determined based on the number of pattern letters used. Less than 4 pattern letters will use the short form. Exactly 4 pattern letters will use the full form. **Exactly 5 pattern letters will use the narrow form.** ... \r\n\r\nIf you are targeting Android API 26 or later, you should consider using the `java.time.*` classes rather than the legacy classes.\r\n\r\nBut either way, this isn&#39;t guaranteed to give you *unique* day letters.\r\n\r\n-----------\r\n\r\n&lt;sup&gt;1 - By &quot;that&quot; I mean mapping to *unique* 1-letter abbreviations.&lt;br&gt;\r\n2 - I mean it doesn&#39;t work in the human sense.  You could invent a convention, but typical people wouldn&#39;t understand what the abbreviations meant; e.g. they wouldn&#39;t know that &quot;X&quot; meant &quot;Mi&#233;rcoles&quot;, or in English that (say) &quot;R&quot; meant &quot;Thursday&quot; (see https://stackoverflow.com/a/21049169/139985).&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/text/SimpleDateFormat.html\r\n  [2]: https://developer.android.com/reference/java/time/format/DateTimeFormatter","title":"Get one letter abbreviation of week day of a date in java","body":"<p>There is no standard Java API support for doing that<sup>1</sup>.</p>\n<p>Part of the reason is that many (maybe even most) languages don't have conventional unique one-letter weekday abbreviations.  In English there isn't, for example (M T W T F S S).</p>\n<p>A (hypothetical) formatting option that doesn't work<sup>2</sup> in many / most locales would be an impediment to internationalization rather than a help.</p>\n<hr />\n<p>It has been pointed out that:</p>\n<pre><code>SimpleDateFormat formatLetterDay = \n    new SimpleDateFormat(&quot;EEEEE&quot;, Locale.getDefault());\nString letter = formatLetterDay.format(new Date());\n</code></pre>\n<p>gives one letter abbreviations for later versions of Android (18 and above), though the <a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">javadocs</a> do not mention this.  It appears that this &quot;5 letter&quot; format has been borrowed from <code>DateTimeFormatter</code> whose <a href=\"https://developer.android.com/reference/java/time/format/DateTimeFormatter\" rel=\"nofollow noreferrer\">javadoc</a> says:</p>\n<blockquote>\n<p>The count of pattern letters determines the format.</p>\n<p>Text: The text style is determined based on the number of pattern letters used. Less than 4 pattern letters will use the short form. Exactly 4 pattern letters will use the full form. <strong>Exactly 5 pattern letters will use the narrow form.</strong> ...</p>\n</blockquote>\n<p>If you are targeting Android API 26 or later, you should consider using the <code>java.time.*</code> classes rather than the legacy classes.</p>\n<p>But either way, this isn't guaranteed to give you <em>unique</em> day letters.</p>\n<hr />\n<p><sup>1 - By &quot;that&quot; I mean mapping to <em>unique</em> 1-letter abbreviations.<br>\n2 - I mean it doesn't work in the human sense.  You could invent a convention, but typical people wouldn't understand what the abbreviations meant; e.g. they wouldn't know that &quot;X&quot; meant &quot;Mircoles&quot;, or in English that (say) &quot;R&quot; meant &quot;Thursday&quot; (see <a href=\"https://stackoverflow.com/a/21049169/139985\">https://stackoverflow.com/a/21049169/139985</a>).</sup></p>\n"},{"tags":[],"owner":{"account_id":1896746,"reputation":4539,"user_id":1713531,"accept_rate":64,"display_name":"Rachita Nanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370514241,"creation_date":1370514241,"answer_id":16959671,"question_id":16959502,"body_markdown":"I think there&#39;s no direct java function to get the first letter and no standard way to do it.\r\n\r\nYou can refer to this link to obtain the first letter of the string day using substring() java method\r\n\r\nhttps://stackoverflow.com/questions/3878222/given-a-string-in-java-just-take-the-first-x-letters","title":"Get one letter abbreviation of week day of a date in java","body":"<p>I think there's no direct java function to get the first letter and no standard way to do it.</p>\n\n<p>You can refer to this link to obtain the first letter of the string day using substring() java method</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3878222/given-a-string-in-java-just-take-the-first-x-letters\">Given a string in Java, just take the first X letters</a></p>\n"},{"tags":[],"owner":{"account_id":91058,"reputation":594,"user_id":250262,"display_name":"mharr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389370534,"creation_date":1389370534,"answer_id":21049169,"question_id":16959502,"body_markdown":"I realize the OP was asking for standards across languages, and this does not address it.  But there is/was a standard for using single character Day of Week abbreviation.\r\n\r\nBack in mainframe days, using a 1-character abbreviation for Day of Week was common, either to store day of week in 1 character field (to save precious space), or have a report heading for single-character column.  The &quot;standard&quot; was to use MTWRFSU, where R was for Thursday, and U for Sunday.\r\n\r\nI could not find any definitive references to this (which is why I quoted &quot;standard&quot;, but here are a couple of examples:\r\n[http://eventguide.com/topics/one_digit_day_abbreviations.html][1]\r\n[http://www.registrar.ucla.edu/soc/definitions.htm#Anchor-Days-3800][2]\r\n\r\n\r\n  [1]: http://eventguide.com/topics/one_digit_day_abbreviations.html\r\n  [2]: http://www.registrar.ucla.edu/soc/definitions.htm#Anchor-Days-3800","title":"Get one letter abbreviation of week day of a date in java","body":"<p>I realize the OP was asking for standards across languages, and this does not address it.  But there is/was a standard for using single character Day of Week abbreviation.</p>\n\n<p>Back in mainframe days, using a 1-character abbreviation for Day of Week was common, either to store day of week in 1 character field (to save precious space), or have a report heading for single-character column.  The \"standard\" was to use MTWRFSU, where R was for Thursday, and U for Sunday.</p>\n\n<p>I could not find any definitive references to this (which is why I quoted \"standard\", but here are a couple of examples:\n<a href=\"http://eventguide.com/topics/one_digit_day_abbreviations.html\" rel=\"nofollow\">http://eventguide.com/topics/one_digit_day_abbreviations.html</a>\n<a href=\"http://www.registrar.ucla.edu/soc/definitions.htm#Anchor-Days-3800\" rel=\"nofollow\">http://www.registrar.ucla.edu/soc/definitions.htm#Anchor-Days-3800</a></p>\n"},{"tags":[],"owner":{"account_id":1542896,"reputation":186,"user_id":1437106,"display_name":"Husky"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1662195436,"creation_date":1403708032,"answer_id":24412045,"question_id":16959502,"body_markdown":"In Android you can use SimpleDateFormat with &quot;EEEEE&quot;. In the next example you can see it.\r\n\r\n    SimpleDateFormat formatLetterDay = new SimpleDateFormat(&quot;EEEEE&quot;,Locale.getDefault());\r\n    String letter = formatLetterDay.format(new Date());\r\n\r\n----\r\nEDIT: it&#39;s actually not entirely true. The result on Android could have more than a single letter (and also non-unique, if this matters), but this is what we have. Here&#39;s proof that you won&#39;t get these characteristics on Android, going over all locales. It&#39;s written in Kotlin, but should work for Java too, of course:\r\n\r\n```\r\nval charCountStats = SparseIntArray()\r\nLocale.getAvailableLocales().forEach { locale -&gt;\r\n    val sb = StringBuilder(&quot;$locale : &quot;)\r\n    val formatLetterDay = SimpleDateFormat(&quot;EEEEE&quot;, locale)\r\n    for (day in 1..7) {\r\n        val cal = Calendar.getInstance()\r\n        cal.set(Calendar.DAY_OF_WEEK, day)\r\n        val letter: String = formatLetterDay.format(cal.time)\r\n        charCountStats.put(letter.length, charCountStats.get(letter.length, 0)+1)\r\n        sb.append(letter)\r\n        if (day != 7)\r\n            sb.append(&#39;,&#39;)\r\n    }\r\n    Log.d(&quot;AppLog&quot;, &quot;$sb&quot;)\r\n}\r\nLog.d(&quot;AppLog&quot;, &quot;stats:&quot;)\r\ncharCountStats.forEach { key, value -&gt;\r\n    Log.d(&quot;AppLog&quot;, &quot;formatted days with $key characters:$value&quot;)\r\n}\r\n```\r\n\r\nAnd the result is that for most cases it&#39;s indeed a single letter, but for many it&#39;s more, and can even reaches 8 characters (though it might look as less letters, even one) :\r\n\r\n```\r\nformatted days with 1 characters:4889\r\nformatted days with 2 characters:471\r\nformatted days with 3 characters:99\r\nformatted days with 4 characters:58\r\nformatted days with 5 characters:3\r\nformatted days with 8 characters:3\r\n```\r\n\r\nExample of a locale that it shows as 3 letters (and not just has 3 letters) is &quot;wo&quot; (&quot;Wolof&quot; language), as this is the result for each of its days of the week using the above formatting:\r\n\r\n```\r\nDib,Alt,Tal,&#192;la,Alx,&#192;jj,Ase\r\n```","title":"Get one letter abbreviation of week day of a date in java","body":"<p>In Android you can use SimpleDateFormat with &quot;EEEEE&quot;. In the next example you can see it.</p>\n<pre><code>SimpleDateFormat formatLetterDay = new SimpleDateFormat(&quot;EEEEE&quot;,Locale.getDefault());\nString letter = formatLetterDay.format(new Date());\n</code></pre>\n<hr />\n<p>EDIT: it's actually not entirely true. The result on Android could have more than a single letter (and also non-unique, if this matters), but this is what we have. Here's proof that you won't get these characteristics on Android, going over all locales. It's written in Kotlin, but should work for Java too, of course:</p>\n<pre><code>val charCountStats = SparseIntArray()\nLocale.getAvailableLocales().forEach { locale -&gt;\n    val sb = StringBuilder(&quot;$locale : &quot;)\n    val formatLetterDay = SimpleDateFormat(&quot;EEEEE&quot;, locale)\n    for (day in 1..7) {\n        val cal = Calendar.getInstance()\n        cal.set(Calendar.DAY_OF_WEEK, day)\n        val letter: String = formatLetterDay.format(cal.time)\n        charCountStats.put(letter.length, charCountStats.get(letter.length, 0)+1)\n        sb.append(letter)\n        if (day != 7)\n            sb.append(',')\n    }\n    Log.d(&quot;AppLog&quot;, &quot;$sb&quot;)\n}\nLog.d(&quot;AppLog&quot;, &quot;stats:&quot;)\ncharCountStats.forEach { key, value -&gt;\n    Log.d(&quot;AppLog&quot;, &quot;formatted days with $key characters:$value&quot;)\n}\n</code></pre>\n<p>And the result is that for most cases it's indeed a single letter, but for many it's more, and can even reaches 8 characters (though it might look as less letters, even one) :</p>\n<pre><code>formatted days with 1 characters:4889\nformatted days with 2 characters:471\nformatted days with 3 characters:99\nformatted days with 4 characters:58\nformatted days with 5 characters:3\nformatted days with 8 characters:3\n</code></pre>\n<p>Example of a locale that it shows as 3 letters (and not just has 3 letters) is &quot;wo&quot; (&quot;Wolof&quot; language), as this is the result for each of its days of the week using the above formatting:</p>\n<pre><code>Dib,Alt,Tal,la,Alx,jj,Ase\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5110266,"reputation":4349,"user_id":4097092,"display_name":"Brandon Rude"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1412127237,"creation_date":1412125902,"answer_id":26132642,"question_id":16959502,"body_markdown":"As mentioned above there is no standard Java support for this. Using the formatting string &quot;EEEEE&quot; however is not guaranteed to work on all Android devices. The following code is guaranteed to work on any device:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public String firstLetterOfDayOfTheWeek(Date date) {\r\n\r\n        Locale locale = Locale.getDefault(); \r\n        DateFormat weekdayNameFormat = new SimpleDateFormat(&quot;EEE&quot;, locale); \r\n        String weekday = weekdayNameFormat.format(date); \r\n        return weekday.charAt(0)+&quot;&quot;; \r\n    }\r\n\r\n","title":"Get one letter abbreviation of week day of a date in java","body":"<p>As mentioned above there is no standard Java support for this. Using the formatting string \"EEEEE\" however is not guaranteed to work on all Android devices. The following code is guaranteed to work on any device:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public String firstLetterOfDayOfTheWeek(Date date) {\n\n    Locale locale = Locale.getDefault(); \n    DateFormat weekdayNameFormat = new SimpleDateFormat(\"EEE\", locale); \n    String weekday = weekdayNameFormat.format(date); \n    return weekday.charAt(0)+\"\"; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6718935,"reputation":76,"user_id":5179753,"display_name":"flar2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670349792,"creation_date":1670349792,"answer_id":74707174,"question_id":16959502,"body_markdown":"`DateFormatSymbols.getWeekdays` with a width of `NARROW` will give you the first letter of each week day. It works for every language. However, it requires API 24.\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        String[] weekDays = DateFormatSymbols.getInstance(Locale.getDefault())\r\n                .getWeekdays(DateFormatSymbols.STANDALONE, DateFormatSymbols.NARROW);\r\n    }","title":"Get one letter abbreviation of week day of a date in java","body":"<p><code>DateFormatSymbols.getWeekdays</code> with a width of <code>NARROW</code> will give you the first letter of each week day. It works for every language. However, it requires API 24.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    String[] weekDays = DateFormatSymbols.getInstance(Locale.getDefault())\n            .getWeekdays(DateFormatSymbols.STANDALONE, DateFormatSymbols.NARROW);\n}\n</code></pre>\n"}],"owner":{"account_id":1429043,"reputation":2724,"user_id":1351873,"accept_rate":66,"display_name":"Sergio Viudes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11773,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":24412045,"answer_count":6,"score":19,"last_activity_date":1670349792,"creation_date":1370513818,"question_id":16959502,"body_markdown":"As far I know, in Java I can get weekdays in normal (Friday) or short mode (Fri). But, there is any way to obtain only first letter?\r\n\r\nI thought I can get first letter using &quot;substring&quot;, but it won&#39;t be correct for all languages. For example, spanish weekdays are: Lunes, Martes, Mi&#233;rcoles, Jueves, Viernes, S&#225;bado and Domingo, and first letter for &quot;Mi&#233;rcoles&quot; is X instead of M to difference it from &quot;Martes&quot;.","title":"Get one letter abbreviation of week day of a date in java","body":"<p>As far I know, in Java I can get weekdays in normal (Friday) or short mode (Fri). But, there is any way to obtain only first letter?</p>\n\n<p>I thought I can get first letter using \"substring\", but it won't be correct for all languages. For example, spanish weekdays are: Lunes, Martes, Mircoles, Jueves, Viernes, Sbado and Domingo, and first letter for \"Mircoles\" is X instead of M to difference it from \"Martes\".</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670349785,"creation_date":1670349785,"answer_id":74707173,"question_id":74706961,"body_markdown":"Use Spring Tool Suite (eclipse), or add the spring tools plugin to your eclipse so that the schema is loaded from the jar file instead of from the internet.\r\n\r\n\r\nhttps://spring.io/tools\r\n","title":"How do you configure the spring integration poller after XSD changes have invalidated the fixed-delay and fixed-rate attributes?","body":"<p>Use Spring Tool Suite (eclipse), or add the spring tools plugin to your eclipse so that the schema is loaded from the jar file instead of from the internet.</p>\n<p><a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">https://spring.io/tools</a></p>\n"}],"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74707173,"answer_count":1,"score":0,"last_activity_date":1670349785,"creation_date":1670348689,"question_id":74706961,"body_markdown":"**Original xml:**\r\n\r\n\t&lt;int:poller default=&quot;true&quot; task-executor=&quot;stepTaskExecutor&quot; fixed-delay=&quot;1000&quot;&gt;\r\n\r\nThe fixed-delay attribute is no longer legal, and fails XML parsing in the (eclipse) IDE.\r\n\r\n\r\n**Alternative configuration:**\r\nAn alternative suggested elsewhere (including https://docs.spring.io/spring-integration/docs/2.0.0.M3/spring-integration-reference/html/samples.html):\r\n\r\n\t&lt;!-- Globally scoped Spring Integration bean resources --&gt;\r\n\t&lt;!-- see https://stackoverflow.com/questions/73450768/how-to-configure-channels-and-amq-for-spring-batch-integration-where-all-steps-a/73455134#73455134 --&gt;\r\n\t&lt;!-- see https://stackoverflow.com/questions/28625635/attribute-fixed-rate-is-not-allowed-to-appear-in-element-intpoller --&gt;\r\n\t&lt;int:poller default=&quot;true&quot; task-executor=&quot;stepTaskExecutor&quot;&gt;\r\n\t\t&lt;int:interval-trigger interval=&quot;1000&quot;/&gt;\r\n\t&lt;/int:poller&gt;\r\n\r\nThis passes the XML parsing in the IDE, but fails at runtime\r\n\r\n**Log snip:**\r\n\r\n\r\n    Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;int:interval-trigger&#39;. One of &#39;{&quot;http://www.springframework.org/schema/integration&quot;:transactional, &quot;http://www.springframework.org/schema/integration&quot;:advice-chain}&#39; is expected.\r\n    \tat org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\r\n    \tat org.apache.xerces.util.ErrorHandlerWrapper.error(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaValidator.emptyElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLNamespaceBinder.handleStartElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLNamespaceBinder.emptyElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n    \tat org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\r\n    \tat org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\r\n    \tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n    \tat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n    \tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n    \tat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:77)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:432)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\r\n    \t... 50 common frames omitted\r\n\r\nPlease advise.","title":"How do you configure the spring integration poller after XSD changes have invalidated the fixed-delay and fixed-rate attributes?","body":"<p><strong>Original xml:</strong></p>\n<pre><code>&lt;int:poller default=&quot;true&quot; task-executor=&quot;stepTaskExecutor&quot; fixed-delay=&quot;1000&quot;&gt;\n</code></pre>\n<p>The fixed-delay attribute is no longer legal, and fails XML parsing in the (eclipse) IDE.</p>\n<p><strong>Alternative configuration:</strong>\nAn alternative suggested elsewhere (including <a href=\"https://docs.spring.io/spring-integration/docs/2.0.0.M3/spring-integration-reference/html/samples.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/2.0.0.M3/spring-integration-reference/html/samples.html</a>):</p>\n<pre><code>&lt;!-- Globally scoped Spring Integration bean resources --&gt;\n&lt;!-- see https://stackoverflow.com/questions/73450768/how-to-configure-channels-and-amq-for-spring-batch-integration-where-all-steps-a/73455134#73455134 --&gt;\n&lt;!-- see https://stackoverflow.com/questions/28625635/attribute-fixed-rate-is-not-allowed-to-appear-in-element-intpoller --&gt;\n&lt;int:poller default=&quot;true&quot; task-executor=&quot;stepTaskExecutor&quot;&gt;\n    &lt;int:interval-trigger interval=&quot;1000&quot;/&gt;\n&lt;/int:poller&gt;\n</code></pre>\n<p>This passes the XML parsing in the IDE, but fails at runtime</p>\n<p><strong>Log snip:</strong></p>\n<pre><code>Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element 'int:interval-trigger'. One of '{&quot;http://www.springframework.org/schema/integration&quot;:transactional, &quot;http://www.springframework.org/schema/integration&quot;:advice-chain}' is expected.\n    at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n    at org.apache.xerces.util.ErrorHandlerWrapper.error(Unknown Source)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n    at org.apache.xerces.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)\n    at org.apache.xerces.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)\n    at org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)\n    at org.apache.xerces.impl.xs.XMLSchemaValidator.emptyElement(Unknown Source)\n    at org.apache.xerces.impl.XMLNamespaceBinder.handleStartElement(Unknown Source)\n    at org.apache.xerces.impl.XMLNamespaceBinder.emptyElement(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n    at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n    at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:77)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:432)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\n    ... 50 common frames omitted\n</code></pre>\n<p>Please advise.</p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1670349330,"post_id":74707056,"comment_id":131854424,"body_markdown":"&quot;*`... = UUID.randomUUID();`*&quot; - What did you expect? --- Why do you want it to not change between runs?","body":"&quot;<i><code>... = UUID.randomUUID();</code></i>&quot; - What did you expect? --- Why do you want it to not change between runs?"},{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":0,"creation_date":1670349337,"post_id":74707056,"comment_id":131854428,"body_markdown":"Every time you run the code you call the method randomUUID. So this is the expected behavior.","body":"Every time you run the code you call the method randomUUID. So this is the expected behavior."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1670349365,"post_id":74707056,"comment_id":131854435,"body_markdown":"Why are you using `UUID` as the type of `id`?","body":"Why are you using <code>UUID</code> as the type of <code>id</code>?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670349544,"post_id":74707056,"comment_id":131854489,"body_markdown":"You need a storage, like a database, a file, or other, something that is not dependant of a program run","body":"You need a storage, like a database, a file, or other, something that is not dependant of a program run"}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670349601,"creation_date":1670349601,"answer_id":74707142,"question_id":74707056,"body_markdown":"From the comments, the problem is due to the fact that you&#39;re creating a new random `UUID` in your constructor:\r\n\r\n```\r\npublic User(String name) {\r\n\r\n    this.name = name;\r\n    this.id = UUID.randomUUID();\r\n}\r\n```\r\n\r\nTo fix the randomness of the identifier, I would suggest adding the `UUID` as part of the constructor:\r\n\r\n```\r\npublic User(UUID id, String name) {\r\n\r\n    this.id = id;\r\n    this.name = name;\r\n}\r\n\r\n```\r\n\r\nThis way, you can always control the value of the identifier used.\r\n\r\nIn the long run, depending on how you architect your application, that identifier could come from a Factory object or a database.","title":"UUID every run is changing","body":"<p>From the comments, the problem is due to the fact that you're creating a new random <code>UUID</code> in your constructor:</p>\n<pre><code>public User(String name) {\n\n    this.name = name;\n    this.id = UUID.randomUUID();\n}\n</code></pre>\n<p>To fix the randomness of the identifier, I would suggest adding the <code>UUID</code> as part of the constructor:</p>\n<pre><code>public User(UUID id, String name) {\n\n    this.id = id;\n    this.name = name;\n}\n\n</code></pre>\n<p>This way, you can always control the value of the identifier used.</p>\n<p>In the long run, depending on how you architect your application, that identifier could come from a Factory object or a database.</p>\n"}],"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670349601,"creation_date":1670349196,"question_id":74707056,"body_markdown":"I have an issue. I created the class &quot;User&quot; and in the constructor, I put the name which I have to write and the id which should be generated when I create an object. Unfortunately, I have created one object and every time when I run the code the UUID is changing the id. How can I write the code in the constructor to create one object ID which will not be changing every run? \r\n\r\n    public class User {\r\n        private String name;\r\n        private UUID id;\r\n    \r\n        public User(String name) {\r\n            this.name = name;\r\n    \r\n            this.id = UUID.randomUUID();\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getId() {\r\n            return String.valueOf(id);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            User user = (User) o;\r\n            return Objects.equals(name, user.name) &amp;&amp; Objects.equals(id, user.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(name, id);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            User jan = new User(&quot;Jan&quot;);\r\n            System.out.println(jan);\r\n    }\r\n\r\n\r\n\r\n\r\nThe output:\r\n\r\nUser{name=&#39;Jan&#39;, id=&#39;089fb1bf-fc15-4af6-b8e9-0d9e88aaa392&#39;}\r\n\r\nUser{name=&#39;Jan&#39;, id=&#39;24a4214c-f9b2-49b5-ae27-0c41edcaf5b1&#39;}\r\n\r\n\r\n\r\n\r\n","title":"UUID every run is changing","body":"<p>I have an issue. I created the class &quot;User&quot; and in the constructor, I put the name which I have to write and the id which should be generated when I create an object. Unfortunately, I have created one object and every time when I run the code the UUID is changing the id. How can I write the code in the constructor to create one object ID which will not be changing every run?</p>\n<pre><code>public class User {\n    private String name;\n    private UUID id;\n\n    public User(String name) {\n        this.name = name;\n\n        this.id = UUID.randomUUID();\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getId() {\n        return String.valueOf(id);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        User user = (User) o;\n        return Objects.equals(name, user.name) &amp;&amp; Objects.equals(id, user.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, id);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, id='&quot; + id + '\\'' +\n                '}';\n    }\n};\n\n\n\n\n\n\n\n\npublic class App {\n    public static void main(String[] args) {\n        User jan = new User(&quot;Jan&quot;);\n        System.out.println(jan);\n}\n</code></pre>\n<p>The output:</p>\n<p>User{name='Jan', id='089fb1bf-fc15-4af6-b8e9-0d9e88aaa392'}</p>\n<p>User{name='Jan', id='24a4214c-f9b2-49b5-ae27-0c41edcaf5b1'}</p>\n"},{"tags":["java","c++","linked-list","doubly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640087645,"creation_date":1640087645,"answer_id":70435053,"question_id":70431630,"body_markdown":"That code is wrong.\r\n\r\n        temp-&gt;next = ptr;\r\n        temp-&gt;next-&gt;prev = ptr;\r\n\r\nAfter `temp-&gt;next = ptr;` the line that follows is equivalent to:\r\n\r\n        ptr-&gt;prev = ptr;\r\n\r\n...which makes it a self-reference.\r\n\r\nEither the assignments should be swapped, to this:\r\n\r\n        temp-&gt;next-&gt;prev = ptr;\r\n        temp-&gt;next = ptr;\r\n\r\nOr, the `ptr` should be used in the longer assignment:\r\n\r\n        temp-&gt;next = ptr;\r\n        ptr-&gt;next-&gt;prev = ptr;\r\n\r\n## Visualisation\r\n\r\nTo understand this, it helps to visualise it. \r\n\r\nAfter the loop has ended, `temp` will reference the node *after* which the new node (referenced by `ptr`) should be inserted.\r\n\r\nSo just before that happens, we have a situation that can be visualised like this:\r\n\r\n```none\r\n        ptr\r\n         \r\n       \r\n        value: 3  \r\n        next: null\r\n        prev: null\r\n       \r\n\r\n \r\n        temp\r\n         \r\n               \r\n        value: 2       value: 4      \r\n        next: &gt;  next: &gt; ...\r\n... &lt; :prev  &lt; :prev \r\n               \r\n```\r\n\r\nWhen we apply the following two statements:\r\n\r\n    ptr-&gt;next = temp-&gt;next; \r\n    ptr-&gt;prev = temp;\r\n\r\n... we get this:\r\n\r\n```none\r\n                           ptr\r\n                            \r\n                          \r\n                           value: 3  \r\n                           next: \r\n                       :prev     \r\n                            \r\n        temp                             \r\n                                        \r\n                                  \r\n        value: 2   &lt;                   &gt;  value: 4      \r\n        next: &gt;  next: &gt; ...\r\n... &lt; :prev  &lt; :prev \r\n                                    \r\n```\r\n\r\nThen with `temp-&gt;next = ptr;` we get:\r\n\r\n```none\r\n                           ptr\r\n                            \r\n                          \r\n                           value: 3  \r\n                           next: \r\n                       :prev     \r\n                      &gt;    \r\n        temp                            \r\n                                       \r\n                                 \r\n        value: 2   &lt;                  &gt;  value: 4      \r\n        next:                       next: &gt; ...\r\n... &lt; :prev  &lt; :prev \r\n                                    \r\n```\r\n\r\nSo there is one update missing. It would be wrong now to do `temp-&gt;next-prev = ptr;`. The correct assignment is `ptr-&gt;next-&gt;prev = ptr;`, which leads to the final state:\r\n\r\n```none\r\n                           ptr\r\n                            \r\n                          \r\n                           value: 3  \r\n                           next: \r\n                       :prev  &lt; \r\n                      &gt;   \r\n        temp                           \r\n                                      \r\n                                \r\n        value: 2   &lt;                 &gt;  value: 4      \r\n        next:                      next: &gt; ...\r\n... &lt; :prev                       :prev \r\n                                    \r\n```\r\n\r\n","title":"temp-&gt;next = ptr; temp-&gt;next-&gt;prev = ptr; please tell me what is this code saying in double link list insertion of node after a specified location?","body":"<p>That code is wrong.</p>\n<pre><code>    temp-&gt;next = ptr;\n    temp-&gt;next-&gt;prev = ptr;\n</code></pre>\n<p>After <code>temp-&gt;next = ptr;</code> the line that follows is equivalent to:</p>\n<pre><code>    ptr-&gt;prev = ptr;\n</code></pre>\n<p>...which makes it a self-reference.</p>\n<p>Either the assignments should be swapped, to this:</p>\n<pre><code>    temp-&gt;next-&gt;prev = ptr;\n    temp-&gt;next = ptr;\n</code></pre>\n<p>Or, the <code>ptr</code> should be used in the longer assignment:</p>\n<pre><code>    temp-&gt;next = ptr;\n    ptr-&gt;next-&gt;prev = ptr;\n</code></pre>\n<h2>Visualisation</h2>\n<p>To understand this, it helps to visualise it.</p>\n<p>After the loop has ended, <code>temp</code> will reference the node <em>after</em> which the new node (referenced by <code>ptr</code>) should be inserted.</p>\n<p>So just before that happens, we have a situation that can be visualised like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>        ptr\n         \n       \n        value: 3  \n        next: null\n        prev: null\n       \n\n \n        temp\n         \n               \n        value: 2       value: 4      \n        next: &gt;  next: &gt; ...\n... &lt; :prev  &lt; :prev \n               \n</code></pre>\n<p>When we apply the following two statements:</p>\n<pre><code>ptr-&gt;next = temp-&gt;next; \nptr-&gt;prev = temp;\n</code></pre>\n<p>... we get this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                           ptr\n                            \n                          \n                           value: 3  \n                           next: \n                       :prev     \n                            \n        temp                             \n                                        \n                                  \n        value: 2   &lt;                   &gt;  value: 4      \n        next: &gt;  next: &gt; ...\n... &lt; :prev  &lt; :prev \n                                    \n</code></pre>\n<p>Then with <code>temp-&gt;next = ptr;</code> we get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                           ptr\n                            \n                          \n                           value: 3  \n                           next: \n                       :prev     \n                      &gt;    \n        temp                            \n                                       \n                                 \n        value: 2   &lt;                  &gt;  value: 4      \n        next:                       next: &gt; ...\n... &lt; :prev  &lt; :prev \n                                    \n</code></pre>\n<p>So there is one update missing. It would be wrong now to do <code>temp-&gt;next-prev = ptr;</code>. The correct assignment is <code>ptr-&gt;next-&gt;prev = ptr;</code>, which leads to the final state:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                           ptr\n                            \n                          \n                           value: 3  \n                           next: \n                       :prev  &lt; \n                      &gt;   \n        temp                           \n                                      \n                                \n        value: 2   &lt;                 &gt;  value: 4      \n        next:                      next: &gt; ...\n... &lt; :prev                       :prev \n                                    \n</code></pre>\n"}],"owner":{"account_id":23707542,"reputation":1,"user_id":17729829,"display_name":"Akash Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1790,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670349116,"creation_date":1640069566,"question_id":70431630,"body_markdown":"**Here is the code** \r\n\r\nThis is a function which is inserting a node after a specified location. Here we have temp and ptr node. Temp node will store the node after which new node is need to be inserted and ptr node is storing the data of new node.\r\n\r\nhere after locating the temp node, this is assigning the pointer details of temp and next node. \r\n\r\nHere **temp node next pointer** store the new node **ptr**\r\n \r\nand **ptr previous pointer** store the address of **temp** node\r\n\r\nand **ptr next pointer** store the address of **temp node&#39;s next pointer**\r\n\r\nbut here this line what is saying i didn&#39;t understand **temp-&gt;next-&gt;prev = ptr;**\r\n\r\n    void randomInsert()\r\n    {\r\n        struct node *ptr, *temp;\r\n        int item, loc, i;\r\n        ptr = (struct node *)malloc(sizeof(struct node));\r\n        if (ptr == NULL)\r\n        {\r\n            cout &lt;&lt; &quot;overflow&quot; &lt;&lt; endl;\r\n        }\r\n        else\r\n        {\r\n            temp = head;\r\n            cout &lt;&lt; &quot;Enter the location&quot; &lt;&lt; endl;\r\n            cin &gt;&gt; loc;\r\n            for (i = 1; i &lt; loc; i++)\r\n            {\r\n                temp = temp-&gt;next;\r\n                if (temp == NULL)\r\n                {\r\n                    cout &lt;&lt; &quot;There are less then &quot; &lt;&lt; loc &lt;&lt; &quot; elements&quot; &lt;&lt; endl;\r\n                    return;\r\n                }\r\n            }\r\n            cout &lt;&lt; &quot;Enter value&quot; &lt;&lt; endl;\r\n            cin &gt;&gt; item;\r\n            ptr-&gt;data = item;\r\n            ptr-&gt;next = temp-&gt;next;\r\n            ptr-&gt;prev = temp;\r\n            temp-&gt;next = ptr;\r\n            temp-&gt;next-&gt;prev = ptr;\r\n            cout &lt;&lt; &quot;Node Inserted&quot; &lt;&lt; endl;\r\n        }\r\n    }\r\n\r\nLink of complete code https://www.javatpoint.com/doubly-linked-list","title":"temp-&gt;next = ptr; temp-&gt;next-&gt;prev = ptr; please tell me what is this code saying in double link list insertion of node after a specified location?","body":"<p><strong>Here is the code</strong></p>\n<p>This is a function which is inserting a node after a specified location. Here we have temp and ptr node. Temp node will store the node after which new node is need to be inserted and ptr node is storing the data of new node.</p>\n<p>here after locating the temp node, this is assigning the pointer details of temp and next node.</p>\n<p>Here <strong>temp node next pointer</strong> store the new node <strong>ptr</strong></p>\n<p>and <strong>ptr previous pointer</strong> store the address of <strong>temp</strong> node</p>\n<p>and <strong>ptr next pointer</strong> store the address of <strong>temp node's next pointer</strong></p>\n<p>but here this line what is saying i didn't understand <strong>temp-&gt;next-&gt;prev = ptr;</strong></p>\n<pre><code>void randomInsert()\n{\n    struct node *ptr, *temp;\n    int item, loc, i;\n    ptr = (struct node *)malloc(sizeof(struct node));\n    if (ptr == NULL)\n    {\n        cout &lt;&lt; &quot;overflow&quot; &lt;&lt; endl;\n    }\n    else\n    {\n        temp = head;\n        cout &lt;&lt; &quot;Enter the location&quot; &lt;&lt; endl;\n        cin &gt;&gt; loc;\n        for (i = 1; i &lt; loc; i++)\n        {\n            temp = temp-&gt;next;\n            if (temp == NULL)\n            {\n                cout &lt;&lt; &quot;There are less then &quot; &lt;&lt; loc &lt;&lt; &quot; elements&quot; &lt;&lt; endl;\n                return;\n            }\n        }\n        cout &lt;&lt; &quot;Enter value&quot; &lt;&lt; endl;\n        cin &gt;&gt; item;\n        ptr-&gt;data = item;\n        ptr-&gt;next = temp-&gt;next;\n        ptr-&gt;prev = temp;\n        temp-&gt;next = ptr;\n        temp-&gt;next-&gt;prev = ptr;\n        cout &lt;&lt; &quot;Node Inserted&quot; &lt;&lt; endl;\n    }\n}\n</code></pre>\n<p>Link of complete code <a href=\"https://www.javatpoint.com/doubly-linked-list\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/doubly-linked-list</a></p>\n"},{"tags":["java","google-chrome-extension","process","command","chrome-native-messaging"],"comments":[{"owner":{"account_id":26153247,"reputation":534,"user_id":19840875,"display_name":"Thomas Mueller"},"score":0,"creation_date":1670052018,"post_id":74662168,"comment_id":131787176,"body_markdown":"Not enough information. Post the source code for your entire extension, including your version of the native app. And upload everything to Github, that&#39;ll make it easier for people help you.","body":"Not enough information. Post the source code for your entire extension, including your version of the native app. And upload everything to Github, that&#39;ll make it easier for people help you."},{"owner":{"account_id":1545869,"reputation":695,"user_id":1439434,"accept_rate":88,"display_name":"StrawhatLuffy"},"score":0,"creation_date":1670348279,"post_id":74662168,"comment_id":131854110,"body_markdown":"@ThomasMueller Added the relevant code to the question","body":"@ThomasMueller Added the relevant code to the question"}],"owner":{"account_id":1545869,"reputation":695,"user_id":1439434,"accept_rate":88,"display_name":"StrawhatLuffy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1670348214,"creation_date":1670020020,"question_id":74662168,"body_markdown":"I am trying to build a chrome extension which can run a command on the user desktop. For this I am trying to use native messaging to send the trigger from extension to a native messaging host which can then run the command.\r\n\r\nChrome extension&#39;s manifest.json\r\n```\r\n{\r\n    &quot;manifest_version&quot;: 3,\r\n    &quot;name&quot;: &quot;chrome extension&quot;,\r\n    &quot;description&quot;: &quot;Initial base version&quot;,\r\n    &quot;version&quot;: &quot;1.0&quot;,\r\n    &quot;content_scripts&quot;: [\r\n        {\r\n          &quot;matches&quot;: [&quot;http://*/*&quot;, &quot;https://*/*&quot;],\r\n          &quot;js&quot;: [&quot;contentscript.js&quot;]\r\n        }\r\n      ],\r\n    &quot;background&quot;: {\r\n        &quot;service_worker&quot;: &quot;background.js&quot;\r\n    },\r\n    &quot;action&quot;: {\r\n        &quot;default_popup&quot;: &quot;hello.html&quot;\r\n    },\r\n    &quot;permissions&quot;: [\r\n        &quot;nativeMessaging&quot;\r\n    ]\r\n}\r\n```\r\nnative-messaging-host manifest\r\n```\r\n{\r\n    &quot;name&quot; : &quot;com.xx.xx.xx.xx.nativemessaginghost&quot;,\r\n    &quot;description&quot; : &quot;POC&quot;,\r\n    &quot;path&quot; : &quot;chrome-extension.bat&quot;,\r\n    &quot;type&quot; : &quot;stdio&quot;,\r\n    &quot;allowed_origins&quot; : [\r\n        &quot;chrome-extension://kfnopggaelngaopgpiogficbbdhmlpia/&quot;\r\n    ]\r\n}\r\n```\r\n\r\nchrome-extension.bat\r\n\r\n```\r\n@echo OFF\r\n\r\njava -jar &quot;%~dp0/native-messaging-host-java-1.0-SNAPSHOT.jar&quot; %*\r\n```\r\n\r\nI am launching a java application which is responding to the extension.( Followed the example code from [chrome-native-messaging-java](https://github.com/ulymarins/chrome-native-messaging-java/blob/master/host-project/src/main/java/br/net/cartoriodigital/Application.java) )\r\n\r\n```java\r\n\r\nfinal Application app = new Application();\r\nConnectableObservable&lt;String&gt; obs = app.getObservable();\r\nobs.observeOn(Schedulers.computation()).subscribe(new Observer&lt;String&gt;() {\r\n            public void onCompleted() {\r\n            }\r\n\r\n            public void onError(Throwable throwable) {\r\n            }\r\n\r\n            public void onNext(String s) {\r\n\r\n                log(&quot;Host received &quot; + s);\r\n\r\n                JSONObject obj = new JSONObject(s);\r\n//                executeCommand();\r\n                log(&quot;Message is &quot; + obj.getString(&quot;text&quot;));\r\n\r\n                String sl = &quot;{\\&quot;success\\&quot;:true,&quot; + &quot;\\&quot;message\\&quot;:\\&quot;&quot; + &quot;response from app&quot; + &quot;\\&quot;}&quot;;\r\n                try {\r\n                    app.sendMessage(sl);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\nobs.connect();\r\nwhile (!app.interrompe.get()) {\r\n     try {\r\n           Thread.sleep(1000)\r\n         } catch (InterruptedException e) {\r\n           break;\r\n         }\r\n    }\r\nSystem.exit(0);\r\n```\r\n\r\nBefore responding back to extension I am trying to make the host execute a command using ***ProcessBuilder*** class the following way. I am redirecting all the output of the ***ProcessBuilder*** to a file so that it doesn&#39;t overload the extension which is listening to the stdout.\r\n\r\n```java\r\nProcessBuilder processBuilder = new ProcessBuilder();      \r\nprocessBuilder.redirectErrorStream(true);\r\nFile log1 = new File(&quot;command-output.log&quot;);\r\nprocessBuilder.redirectOutput(log1);\r\nbuilderList.add(&quot;cmd.exe&quot;);\r\nbuilderList.add(&quot;/C&quot;);\r\nbuilderList.add(&quot;tasklist | findstr chrome&quot;);\r\nprocessBuilder.command(builderList);\r\nProcess process = processBuilder.start();\r\n ```\r\n\r\n the connection to the extension is broken with the following error\r\n\r\n```Error: Native application tried to send a message of 1734439797 bytes```\r\n\r\nAm I missing anything while making the call with ProcessBuilder in native messaging host ?\r\n\r\nThe only solution I can think of is to run another local server and make an Asynchronous rest call to this server from the native messaging host. The server can then execute the command and its stdout won&#39;t affect the extension.","title":"Triggering a command line run with Java based Native Messaging Host for chrome extension","body":"<p>I am trying to build a chrome extension which can run a command on the user desktop. For this I am trying to use native messaging to send the trigger from extension to a native messaging host which can then run the command.</p>\n<p>Chrome extension's manifest.json</p>\n<pre><code>{\n    &quot;manifest_version&quot;: 3,\n    &quot;name&quot;: &quot;chrome extension&quot;,\n    &quot;description&quot;: &quot;Initial base version&quot;,\n    &quot;version&quot;: &quot;1.0&quot;,\n    &quot;content_scripts&quot;: [\n        {\n          &quot;matches&quot;: [&quot;http://*/*&quot;, &quot;https://*/*&quot;],\n          &quot;js&quot;: [&quot;contentscript.js&quot;]\n        }\n      ],\n    &quot;background&quot;: {\n        &quot;service_worker&quot;: &quot;background.js&quot;\n    },\n    &quot;action&quot;: {\n        &quot;default_popup&quot;: &quot;hello.html&quot;\n    },\n    &quot;permissions&quot;: [\n        &quot;nativeMessaging&quot;\n    ]\n}\n</code></pre>\n<p>native-messaging-host manifest</p>\n<pre><code>{\n    &quot;name&quot; : &quot;com.xx.xx.xx.xx.nativemessaginghost&quot;,\n    &quot;description&quot; : &quot;POC&quot;,\n    &quot;path&quot; : &quot;chrome-extension.bat&quot;,\n    &quot;type&quot; : &quot;stdio&quot;,\n    &quot;allowed_origins&quot; : [\n        &quot;chrome-extension://kfnopggaelngaopgpiogficbbdhmlpia/&quot;\n    ]\n}\n</code></pre>\n<p>chrome-extension.bat</p>\n<pre><code>@echo OFF\n\njava -jar &quot;%~dp0/native-messaging-host-java-1.0-SNAPSHOT.jar&quot; %*\n</code></pre>\n<p>I am launching a java application which is responding to the extension.( Followed the example code from <a href=\"https://github.com/ulymarins/chrome-native-messaging-java/blob/master/host-project/src/main/java/br/net/cartoriodigital/Application.java\" rel=\"nofollow noreferrer\">chrome-native-messaging-java</a> )</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal Application app = new Application();\nConnectableObservable&lt;String&gt; obs = app.getObservable();\nobs.observeOn(Schedulers.computation()).subscribe(new Observer&lt;String&gt;() {\n            public void onCompleted() {\n            }\n\n            public void onError(Throwable throwable) {\n            }\n\n            public void onNext(String s) {\n\n                log(&quot;Host received &quot; + s);\n\n                JSONObject obj = new JSONObject(s);\n//                executeCommand();\n                log(&quot;Message is &quot; + obj.getString(&quot;text&quot;));\n\n                String sl = &quot;{\\&quot;success\\&quot;:true,&quot; + &quot;\\&quot;message\\&quot;:\\&quot;&quot; + &quot;response from app&quot; + &quot;\\&quot;}&quot;;\n                try {\n                    app.sendMessage(sl);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\nobs.connect();\nwhile (!app.interrompe.get()) {\n     try {\n           Thread.sleep(1000)\n         } catch (InterruptedException e) {\n           break;\n         }\n    }\nSystem.exit(0);\n</code></pre>\n<p>Before responding back to extension I am trying to make the host execute a command using <em><strong>ProcessBuilder</strong></em> class the following way. I am redirecting all the output of the <em><strong>ProcessBuilder</strong></em> to a file so that it doesn't overload the extension which is listening to the stdout.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder processBuilder = new ProcessBuilder();      \nprocessBuilder.redirectErrorStream(true);\nFile log1 = new File(&quot;command-output.log&quot;);\nprocessBuilder.redirectOutput(log1);\nbuilderList.add(&quot;cmd.exe&quot;);\nbuilderList.add(&quot;/C&quot;);\nbuilderList.add(&quot;tasklist | findstr chrome&quot;);\nprocessBuilder.command(builderList);\nProcess process = processBuilder.start();\n</code></pre>\n<p>the connection to the extension is broken with the following error</p>\n<p><code>Error: Native application tried to send a message of 1734439797 bytes</code></p>\n<p>Am I missing anything while making the call with ProcessBuilder in native messaging host ?</p>\n<p>The only solution I can think of is to run another local server and make an Asynchronous rest call to this server from the native messaging host. The server can then execute the command and its stdout won't affect the extension.</p>\n"},{"tags":["java","dictionary","coordinates","slam"],"owner":{"account_id":20322055,"reputation":11,"user_id":14906507,"display_name":"Lexan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670347930,"creation_date":1670346608,"question_id":74706518,"body_markdown":"I amlooking for a simple way to create a 2d map from x and y coordinates. The program should read a text file with distance measures separated with a comma in (360 measures for every degree), convert these into coordinates, and then create a map, where the dots are connected so it looks more like a map:) Also, a center point would be great, to know from where the measurements were taken. \r\n\r\nThe calculation is not the problem, however, I don&#39;t really know how to convert it into a map...\r\n\r\nP.S The output should be something like in the picture\r\n[map][1]\r\n\r\nDue to lack of knowledge, I was not really able to try many things :/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XnOtJ.png","title":"Java 2d map from x and y coordinates?","body":"<p>I amlooking for a simple way to create a 2d map from x and y coordinates. The program should read a text file with distance measures separated with a comma in (360 measures for every degree), convert these into coordinates, and then create a map, where the dots are connected so it looks more like a map:) Also, a center point would be great, to know from where the measurements were taken.</p>\n<p>The calculation is not the problem, however, I don't really know how to convert it into a map...</p>\n<p>P.S The output should be something like in the picture\n<a href=\"https://i.stack.imgur.com/XnOtJ.png\" rel=\"nofollow noreferrer\">map</a></p>\n<p>Due to lack of knowledge, I was not really able to try many things :/</p>\n"},{"tags":["java","classpath","addition"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670347445,"post_id":74706655,"comment_id":131853823,"body_markdown":"are you executing the `java` command from the root directory of the build artifact(s), or are you running the command from within a package-directory?","body":"are you executing the <code>java</code> command from the root directory of the build artifact(s), or are you running the command from within a package-directory?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670352200,"post_id":74706655,"comment_id":131855360,"body_markdown":"*I use some import-commands in my class, an Java doesn&#39;t find them anymore* Then one or more of the paths in the classpath is wrong. *DID* you set a classpath *before* you issued that command","body":"<i>I use some import-commands in my class, an Java doesn&#39;t find them anymore</i> Then one or more of the paths in the classpath is wrong. <i>DID</i> you set a classpath <i>before</i> you issued that command"}],"answers":[{"tags":[],"owner":{"account_id":8585072,"reputation":214,"user_id":6431503,"display_name":"Justin Pierce"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1670347705,"creation_date":1670347705,"answer_id":74706744,"question_id":74706655,"body_markdown":"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\nspecifies:\r\n\r\n&gt; The default class path is the current directory. Setting the CLASSPATH variable or using the -classpath command-line option overrides that default, so if you want to include the current directory in the search path, you must include &quot;.&quot; in the new settings.\r\n\r\n\r\nSo, to add to that default, include the CLASSPATH environment variable in your invocation:\r\n```\r\njava -cp &quot;.;C:\\Path\\to\\my\\magical\\jarfile.jar;.\\some\\other\\directory;%CLASSPATH%&quot;\r\n```","title":"Add something to the java classpath","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html</a>\nspecifies:</p>\n<blockquote>\n<p>The default class path is the current directory. Setting the CLASSPATH variable or using the -classpath command-line option overrides that default, so if you want to include the current directory in the search path, you must include &quot;.&quot; in the new settings.</p>\n</blockquote>\n<p>So, to add to that default, include the CLASSPATH environment variable in your invocation:</p>\n<pre><code>java -cp &quot;.;C:\\Path\\to\\my\\magical\\jarfile.jar;.\\some\\other\\directory;%CLASSPATH%&quot;\n</code></pre>\n"}],"owner":{"account_id":1570181,"reputation":304,"user_id":1458041,"accept_rate":0,"display_name":"Mich&#232;le S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74706744,"answer_count":1,"score":0,"last_activity_date":1670347705,"creation_date":1670347251,"question_id":74706655,"body_markdown":"I have a jar-File, which I want to add to the classpath, so I ran java -cp &quot;.;C:\\Path\\to\\my\\magical\\jarfile.jar;.\\some\\other\\directory\\&quot; MyClass\r\n\r\nThe Problem is: I use some import-commands in my class, an Java doesn&#39;t find them anymore, because I replaced the classpath. I want just add two elements to the Path. How is this posible under Windows? ","title":"Add something to the java classpath","body":"<p>I have a jar-File, which I want to add to the classpath, so I ran java -cp &quot;.;C:\\Path\\to\\my\\magical\\jarfile.jar;.\\some\\other\\directory&quot; MyClass</p>\n<p>The Problem is: I use some import-commands in my class, an Java doesn't find them anymore, because I replaced the classpath. I want just add two elements to the Path. How is this posible under Windows?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1670339411,"post_id":74704738,"comment_id":131850727,"body_markdown":"Does the order of the elements matter?","body":"Does the order of the elements matter?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1670339495,"post_id":74704738,"comment_id":131850758,"body_markdown":"The elements are alredy ordered in ascending order. Thanks @MCEmperor for bringing to my notice. I will update my question","body":"The elements are alredy ordered in ascending order. Thanks @MCEmperor for bringing to my notice. I will update my question"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":4,"creation_date":1670339695,"post_id":74704738,"comment_id":131850832,"body_markdown":"Start from the middle of array, and check if the value at that position is the expected value.  If  yes, the missing value is somewhere between current index and end of the array.  If no, the missing value is somewhere between beginning of array and current index.  Repeat, but using the new range.  Whittle down until the range has one element.   , e.g., binary search.","body":"Start from the middle of array, and check if the value at that position is the expected value.  If  yes, the missing value is somewhere between current index and end of the array.  If no, the missing value is somewhere between beginning of array and current index.  Repeat, but using the new range.  Whittle down until the range has one element.   , e.g., binary search."}],"answers":[{"tags":[],"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1670347481,"creation_date":1670339677,"answer_id":74704860,"question_id":74704738,"body_markdown":"So when you have a sorted array of `n` elements starting at `0` then there is a clear correlation between an element&#39;s index and value (assuming there can be no duplicates):\r\n\r\n```\r\nindex   value\r\n0       0\r\n1       1\r\n2       2\r\n...\r\n100     100\r\n```\r\n\r\nSo you can use a [binary-search][1] approach and check e.g. the element at `length / 2`. If the value is greater than its index, there has to be a missing number somewhere below.\r\n\r\n```\r\nindex   value\r\n0       0\r\n1       1\r\n2       2\r\n...\r\n100     100\r\n101     102\r\n102     103\r\n...\r\n204     205\r\n```\r\n\r\nIn this example, if you would check index `102` you would see a value of `103`, so between index `0` and `102` there has to be a missing number. Now, repeat the algorithm for the sub-array `0..101` until you have found the missing element. Otherwise, proceed with the other half.\r\n\r\nIf elements do not start at `0` it would be easy to add a constant value everywhere.\r\n\r\nIf there can be arrays _without_ a missing number, you can also start by comparing the last element and abort immediately if the value is equal to its index.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Binary_search_algorithm","title":"How to find a missing number if a range of millions of numbers in an array?","body":"<p>So when you have a sorted array of <code>n</code> elements starting at <code>0</code> then there is a clear correlation between an element's index and value (assuming there can be no duplicates):</p>\n<pre><code>index   value\n0       0\n1       1\n2       2\n...\n100     100\n</code></pre>\n<p>So you can use a <a href=\"https://en.m.wikipedia.org/wiki/Binary_search_algorithm\" rel=\"nofollow noreferrer\">binary-search</a> approach and check e.g. the element at <code>length / 2</code>. If the value is greater than its index, there has to be a missing number somewhere below.</p>\n<pre><code>index   value\n0       0\n1       1\n2       2\n...\n100     100\n101     102\n102     103\n...\n204     205\n</code></pre>\n<p>In this example, if you would check index <code>102</code> you would see a value of <code>103</code>, so between index <code>0</code> and <code>102</code> there has to be a missing number. Now, repeat the algorithm for the sub-array <code>0..101</code> until you have found the missing element. Otherwise, proceed with the other half.</p>\n<p>If elements do not start at <code>0</code> it would be easy to add a constant value everywhere.</p>\n<p>If there can be arrays <em>without</em> a missing number, you can also start by comparing the last element and abort immediately if the value is equal to its index.</p>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74704860,"answer_count":1,"score":-3,"last_activity_date":1670347481,"creation_date":1670339171,"question_id":74704738,"body_markdown":"I want to get the *first* missing number in a range of millions of numbers. For example, I have an array with `n` number of elements. And it starts from 0. And in between for example, after 4380, 4381 is missing and is continued with 4382. So, how can I find that 4381?\r\n\r\nI have seen this questions on many sites including SO, Quora and many more. But, all I could find was with a small range of numbers. For which, a for loop is the best choice. But, when we have millions of numbers in an array, then this wont be both time and memory efficient. What can be used in this case to get it done having both the time and memory in consideration?\r\n\r\n**NOTE:** The elements are ordered in ascending order","title":"How to find a missing number if a range of millions of numbers in an array?","body":"<p>I want to get the <em>first</em> missing number in a range of millions of numbers. For example, I have an array with <code>n</code> number of elements. And it starts from 0. And in between for example, after 4380, 4381 is missing and is continued with 4382. So, how can I find that 4381?</p>\n<p>I have seen this questions on many sites including SO, Quora and many more. But, all I could find was with a small range of numbers. For which, a for loop is the best choice. But, when we have millions of numbers in an array, then this wont be both time and memory efficient. What can be used in this case to get it done having both the time and memory in consideration?</p>\n<p><strong>NOTE:</strong> The elements are ordered in ascending order</p>\n"},{"tags":["java","android-asynctask"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1670347601,"post_id":74706646,"comment_id":131853878,"body_markdown":"Just a side note, you are requesting an URL if you received a 3xx that means the server you are requesting it to **already** redirected the response. You don&#39;t need to make a second request to it.","body":"Just a side note, you are requesting an URL if you received a 3xx that means the server you are requesting it to <b>already</b> redirected the response. You don&#39;t need to make a second request to it."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670347440,"creation_date":1670347440,"answer_id":74706690,"question_id":74706646,"body_markdown":"First off-  AsyncTask is deprecated.  Don&#39;t use it.  Even when it wasn&#39;t, it was a bad choice for web requests (despite how many examples you see using it) as due to how they work on a single thread any other asynctask would be blocked on that request.\r\n\r\nSecondly-  that&#39;s not how asynchronous code works.  It&#39;s asynchronous.  It doesn&#39;t return a value, because it won&#39;t know the value to return until much later.  Any code that needs the value you want it to return should instead be put in onPostExecute.  The execute function doesn&#39;t return the result of your operation, it returns an instance of the AsyncTask itself.","title":"Asynctask does not return string, but does not contain a reported error","body":"<p>First off-  AsyncTask is deprecated.  Don't use it.  Even when it wasn't, it was a bad choice for web requests (despite how many examples you see using it) as due to how they work on a single thread any other asynctask would be blocked on that request.</p>\n<p>Secondly-  that's not how asynchronous code works.  It's asynchronous.  It doesn't return a value, because it won't know the value to return until much later.  Any code that needs the value you want it to return should instead be put in onPostExecute.  The execute function doesn't return the result of your operation, it returns an instance of the AsyncTask itself.</p>\n"}],"owner":{"account_id":24055770,"reputation":43,"user_id":18033603,"display_name":"PPavesi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74706690,"answer_count":1,"score":0,"last_activity_date":1670347440,"creation_date":1670347197,"question_id":74706646,"body_markdown":"I&#39;m passing a URL to an ASYNC class (wsbRedirTest) and I expect to receive the content of the page. However, it does not return any results.\r\n\r\n\r\n    public class wsbRedirTest extends AsyncTask&lt;String, Void, String&gt; {\r\n    \r\n        private Object[] values;\r\n    \r\n        protected void onPreExecute() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected String doInBackground(String... par1) {\r\n            try {\r\n    \r\n                String myUrl;\r\n                myUrl=par1[0];\r\n    \r\n                URL obj = new URL(myUrl);\r\n                HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\r\n                conn.setReadTimeout(5000);\r\n                conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\r\n                conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\r\n                conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\r\n    \r\n                System.out.println(&quot;Request URL ... &quot; + myUrl);\r\n    \r\n                boolean redirect = false;\r\n    \r\n                // normally, 3xx is redirect\r\n                int status = conn.getResponseCode();\r\n                if (status != HttpURLConnection.HTTP_OK) {\r\n                    if (status == HttpURLConnection.HTTP_MOVED_TEMP\r\n                            || status == HttpURLConnection.HTTP_MOVED_PERM\r\n                            || status == HttpURLConnection.HTTP_SEE_OTHER)\r\n                        redirect = true;\r\n                }\r\n    \r\n                System.out.println(&quot;Response Code ... &quot; + status);\r\n    \r\n                if (redirect) {\r\n    \r\n                    // get redirect url from &quot;location&quot; header field\r\n                    String newUrl = conn.getHeaderField(&quot;Location&quot;);\r\n    \r\n                    // get the cookie if need, for login\r\n                    String cookies = conn.getHeaderField(&quot;Set-Cookie&quot;);\r\n    \r\n                    // open the new connnection again\r\n                    conn = (HttpURLConnection) new URL(newUrl).openConnection();\r\n                    conn.setRequestProperty(&quot;Cookie&quot;, cookies);\r\n                    conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\r\n                    conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\r\n                    conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\r\n    \r\n                    System.out.println(&quot;Redirect to URL : &quot; + newUrl);\r\n    \r\n                }\r\n    \r\n                BufferedReader in = new BufferedReader(\r\n                        new InputStreamReader(conn.getInputStream()));\r\n                String inputLine;\r\n                StringBuffer html = new StringBuffer();\r\n    \r\n                while ((inputLine = in.readLine()) != null) {\r\n                    html.append(inputLine);\r\n                }\r\n                in.close();\r\n    \r\n                System.out.println(&quot;URL Content... \\n&quot; + html.toString());\r\n                System.out.println(&quot;Done&quot;);\r\n                return html.toString();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n\r\nI believe the problem is here. I&#39;m probably not calling it properly. But I did several tests and did not get the result I wanted. I am calling from MainActivity.\r\n\r\n     String par = &quot;www.google.com&quot;;\r\n     String content = new wsbRedirTest().execute(par);\r\n\r\n\r\n\r\n","title":"Asynctask does not return string, but does not contain a reported error","body":"<p>I'm passing a URL to an ASYNC class (wsbRedirTest) and I expect to receive the content of the page. However, it does not return any results.</p>\n<pre><code>public class wsbRedirTest extends AsyncTask&lt;String, Void, String&gt; {\n\n    private Object[] values;\n\n    protected void onPreExecute() {\n\n    }\n\n    @Override\n    protected String doInBackground(String... par1) {\n        try {\n\n            String myUrl;\n            myUrl=par1[0];\n\n            URL obj = new URL(myUrl);\n            HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\n            conn.setReadTimeout(5000);\n            conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\n            conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\n            conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\n\n            System.out.println(&quot;Request URL ... &quot; + myUrl);\n\n            boolean redirect = false;\n\n            // normally, 3xx is redirect\n            int status = conn.getResponseCode();\n            if (status != HttpURLConnection.HTTP_OK) {\n                if (status == HttpURLConnection.HTTP_MOVED_TEMP\n                        || status == HttpURLConnection.HTTP_MOVED_PERM\n                        || status == HttpURLConnection.HTTP_SEE_OTHER)\n                    redirect = true;\n            }\n\n            System.out.println(&quot;Response Code ... &quot; + status);\n\n            if (redirect) {\n\n                // get redirect url from &quot;location&quot; header field\n                String newUrl = conn.getHeaderField(&quot;Location&quot;);\n\n                // get the cookie if need, for login\n                String cookies = conn.getHeaderField(&quot;Set-Cookie&quot;);\n\n                // open the new connnection again\n                conn = (HttpURLConnection) new URL(newUrl).openConnection();\n                conn.setRequestProperty(&quot;Cookie&quot;, cookies);\n                conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\n                conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\n                conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\n\n                System.out.println(&quot;Redirect to URL : &quot; + newUrl);\n\n            }\n\n            BufferedReader in = new BufferedReader(\n                    new InputStreamReader(conn.getInputStream()));\n            String inputLine;\n            StringBuffer html = new StringBuffer();\n\n            while ((inputLine = in.readLine()) != null) {\n                html.append(inputLine);\n            }\n            in.close();\n\n            System.out.println(&quot;URL Content... \\n&quot; + html.toString());\n            System.out.println(&quot;Done&quot;);\n            return html.toString();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n</code></pre>\n<p>I believe the problem is here. I'm probably not calling it properly. But I did several tests and did not get the result I wanted. I am calling from MainActivity.</p>\n<pre><code> String par = &quot;www.google.com&quot;;\n String content = new wsbRedirTest().execute(par);\n</code></pre>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1670345472,"post_id":74706167,"comment_id":131853050,"body_markdown":"The problem is the class that has more than 130 attributes.  Why does it have this many? There is almost 0 chance than this is being accurately modeled.  At the very  least it can be broken into groups of attributes and each group be an updatable object.","body":"The problem is the class that has more than 130 attributes.  Why does it have this many? There is almost 0 chance than this is being accurately modeled.  At the very  least it can be broken into groups of attributes and each group be an updatable object."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1670345521,"post_id":74706167,"comment_id":131853077,"body_markdown":"I have to wonder if the question is an XY problem, if the best solution is to refractor so that your class has far fewer attributes","body":"I have to wonder if the question is an XY problem, if the best solution is to refractor so that your class has far fewer attributes"},{"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"score":1,"creation_date":1670345661,"post_id":74706167,"comment_id":131853141,"body_markdown":"It seems very unlikely that your business logic needs to update all 130 fields with no possible breakdowns. Load only the bare minimum of what you need for various computations. If the result of your computation is meant to enrich the initial large datamodel, try to use a system of ID to trace which result goes with which input, if applicable. We have very little information here so it&#39;s difficult to not be very vague.","body":"It seems very unlikely that your business logic needs to update all 130 fields with no possible breakdowns. Load only the bare minimum of what you need for various computations. If the result of your computation is meant to enrich the initial large datamodel, try to use a system of ID to trace which result goes with which input, if applicable. We have very little information here so it&#39;s difficult to not be very vague."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670347169,"creation_date":1670347169,"answer_id":74706636,"question_id":74706167,"body_markdown":"*&quot;Is there a design pattern...?&quot;* Nope.\r\n\r\nFirst and foremost, reconsider whether this object even needs that many fields. *&quot;Our current solution is to group them into different groups&quot;* this suggests it doesn&#39;t.\r\n\r\nIf it genuinely needs that many fields and if the fields are identically named on both the source and target objects, i.e. the main instance with 130 fields is basically a composite of all the others, then you could consider using reflection.\r\n\r\ne.g.  for the following value objects\r\n\r\n    class Main {\r\n        private String a;\r\n        private Number b;\r\n        private String c;\r\n        private String d;\r\n    }\r\n    class A {\r\n        private final String a;\r\n    \r\n        A(String a) {\r\n            this.a = a;\r\n        }\r\n    }\r\n    class B {\r\n        private final Integer b;\r\n    \r\n        B(Integer b) { this.b = b; }\r\n    }\r\n    class C {\r\n        private final String c;\r\n    \r\n        C(String c) { this.c = c; }\r\n    }\r\n\r\nA simple example would be \r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Main main = new Main();\r\n\r\n        A a = new A(&quot;a1&quot;);\r\n        B b = new B(2);\r\n        C c = new C(&quot;c3&quot;);\r\n\r\n        // Get all values from all sources\r\n        Map&lt;String, Object&gt; fieldToValue = new HashMap&lt;&gt;();\r\n        Stream.of(a, b, c).forEach(obj -&gt; {\r\n            Field[] fields = getFieldsForInstance(obj);\r\n            for (Field field : fields) {\r\n                try {\r\n                    Object prevValue = fieldToValue.put(field.getName(), field.get(obj));\r\n                    if (prevValue != null) {\r\n                        throw new RuntimeException(&quot;Duplicate source field &quot; + field.getName());\r\n                    }\r\n                }\r\n                catch (IllegalAccessException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Set the values on main instance\r\n        Field[] mainFields = getFieldsForInstance(main);\r\n        for (Field field : mainFields) {\r\n            if (fieldToValue.containsKey(field.getName())) {\r\n                Object value = fieldToValue.get(field.getName());\r\n                if (value != null) {\r\n                    if (field.getType().isAssignableFrom(value.getClass())) {\r\n                        field.set(main, value);\r\n                    }\r\n                    else {\r\n                        throw new RuntimeException(&quot;Incompatible types for field &quot; + field.getName());\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;warning: field &quot; + field.getName() + &quot; is unset on main&quot;);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static Field[] getFieldsForInstance(Object obj) {\r\n        Field[] fields = obj.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            field.setAccessible(true);\r\n        }\r\n        return fields;\r\n    }\r\n\r\nI&#39;d also consider whether you could use code generation at compile time, e.g. JavaPoet.","title":"Is there design pattern to update hundreds of attributes of a Java class?","body":"<p><em>&quot;Is there a design pattern...?&quot;</em> Nope.</p>\n<p>First and foremost, reconsider whether this object even needs that many fields. <em>&quot;Our current solution is to group them into different groups&quot;</em> this suggests it doesn't.</p>\n<p>If it genuinely needs that many fields and if the fields are identically named on both the source and target objects, i.e. the main instance with 130 fields is basically a composite of all the others, then you could consider using reflection.</p>\n<p>e.g.  for the following value objects</p>\n<pre><code>class Main {\n    private String a;\n    private Number b;\n    private String c;\n    private String d;\n}\nclass A {\n    private final String a;\n\n    A(String a) {\n        this.a = a;\n    }\n}\nclass B {\n    private final Integer b;\n\n    B(Integer b) { this.b = b; }\n}\nclass C {\n    private final String c;\n\n    C(String c) { this.c = c; }\n}\n</code></pre>\n<p>A simple example would be</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    Main main = new Main();\n\n    A a = new A(&quot;a1&quot;);\n    B b = new B(2);\n    C c = new C(&quot;c3&quot;);\n\n    // Get all values from all sources\n    Map&lt;String, Object&gt; fieldToValue = new HashMap&lt;&gt;();\n    Stream.of(a, b, c).forEach(obj -&gt; {\n        Field[] fields = getFieldsForInstance(obj);\n        for (Field field : fields) {\n            try {\n                Object prevValue = fieldToValue.put(field.getName(), field.get(obj));\n                if (prevValue != null) {\n                    throw new RuntimeException(&quot;Duplicate source field &quot; + field.getName());\n                }\n            }\n            catch (IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    });\n\n    // Set the values on main instance\n    Field[] mainFields = getFieldsForInstance(main);\n    for (Field field : mainFields) {\n        if (fieldToValue.containsKey(field.getName())) {\n            Object value = fieldToValue.get(field.getName());\n            if (value != null) {\n                if (field.getType().isAssignableFrom(value.getClass())) {\n                    field.set(main, value);\n                }\n                else {\n                    throw new RuntimeException(&quot;Incompatible types for field &quot; + field.getName());\n                }\n            }\n        }\n        else {\n            System.out.println(&quot;warning: field &quot; + field.getName() + &quot; is unset on main&quot;);\n        }\n    }\n}\n\nprivate static Field[] getFieldsForInstance(Object obj) {\n    Field[] fields = obj.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        field.setAccessible(true);\n    }\n    return fields;\n}\n</code></pre>\n<p>I'd also consider whether you could use code generation at compile time, e.g. JavaPoet.</p>\n"}],"owner":{"account_id":12106685,"reputation":9,"user_id":8845266,"display_name":"karthik_bhat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670347169,"creation_date":1670345109,"question_id":74706167,"body_markdown":"We have a use case where there is a class that has more than 130 attributes. There is a method that populates all the attributes and it is just very long just because of large number of attributes. Just the setters would make the method very long. \r\n\r\nJust to give context about the source for these attributes, these are populated by different datasources. Few of them are from different micro services and few of them are from a mysql tables.  \r\n\r\n\r\n\r\nOur current solution is to group them into different groups based on the source or some similar business trait and update them in different methods. This has made some of the setters in different methods and just makes it very hard to read.\r\n\r\nI have read else where about the builder pattern. But most of these attributes need some transformation after fetching from source and assigning each of the attributes to a temp variables and using them in the builder doesn&#39;t help much.","title":"Is there design pattern to update hundreds of attributes of a Java class?","body":"<p>We have a use case where there is a class that has more than 130 attributes. There is a method that populates all the attributes and it is just very long just because of large number of attributes. Just the setters would make the method very long.</p>\n<p>Just to give context about the source for these attributes, these are populated by different datasources. Few of them are from different micro services and few of them are from a mysql tables.</p>\n<p>Our current solution is to group them into different groups based on the source or some similar business trait and update them in different methods. This has made some of the setters in different methods and just makes it very hard to read.</p>\n<p>I have read else where about the builder pattern. But most of these attributes need some transformation after fetching from source and assigning each of the attributes to a temp variables and using them in the builder doesn't help much.</p>\n"},{"tags":["java","collections","iterator","concurrentmodification","treeset"],"comments":[{"owner":{"account_id":427606,"reputation":2452,"user_id":809455,"accept_rate":70,"display_name":"aps"},"score":0,"creation_date":1308861610,"post_id":6460320,"comment_id":7588545,"body_markdown":"I didn&#39;t show the comparator in the obove code.","body":"I didn&#39;t show the comparator in the obove code."},{"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"score":0,"creation_date":1421390638,"post_id":6460320,"comment_id":44348983,"body_markdown":"Also, IMO typecasting `Custom c=(Custom)itr.next();` is recommended since the return type of `next()` is `Object`","body":"Also, IMO typecasting <code>Custom c=(Custom)itr.next();</code> is recommended since the return type of <code>next()</code> is <code>Object</code>"}],"answers":[{"tags":[],"owner":{"account_id":22644,"reputation":14098,"user_id":56044,"accept_rate":71,"display_name":"Michael Brewer-Davis"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1308861932,"creation_date":1308861569,"answer_id":6460345,"question_id":6460320,"body_markdown":"If you add an element during your iteration, your next iterator call will likely throw a `ConcurrentModificationException`.  See the fail-fast behavior in [TreeSet][1] docs.\r\n\r\nTo iterate and add elements, you could copy first to another set:\r\n\r\n    TreeSet&lt;Custom&gt; ts = ...\r\n    TreeSet&lt;Custom&gt; tsWithExtra = new TreeSet(ts);\r\n\r\n    for (Custom c : ts) {\r\n      // possibly add to tsWithExtra\r\n    }\r\n\r\n    // continue, using tsWithExtra\r\n\r\nor create a separate collection to be merged with `ts` after iteration, as Colin suggests.\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/TreeSet.html","title":"Using iterator on a TreeSet","body":"<p>If you add an element during your iteration, your next iterator call will likely throw a <code>ConcurrentModificationException</code>.  See the fail-fast behavior in <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/TreeSet.html\">TreeSet</a> docs.</p>\n\n<p>To iterate and add elements, you could copy first to another set:</p>\n\n<pre><code>TreeSet&lt;Custom&gt; ts = ...\nTreeSet&lt;Custom&gt; tsWithExtra = new TreeSet(ts);\n\nfor (Custom c : ts) {\n  // possibly add to tsWithExtra\n}\n\n// continue, using tsWithExtra\n</code></pre>\n\n<p>or create a separate collection to be merged with <code>ts</code> after iteration, as Colin suggests.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670347048,"creation_date":1308861828,"answer_id":6460391,"question_id":6460320,"body_markdown":"You will get a **java.util.ConcurrentModificationException** if you add an element into the TreeSet inside while loop.\r\n\r\n    Set&lt;String&gt; ts = new TreeSet&lt;&gt;();\r\n    ts.addAll(Arrays.asList(new String[]{&quot;abb&quot;, &quot;abd&quot;, &quot;abg&quot;}));\r\n    Iterator&lt;String&gt; itr = ts.iterator();\r\n    while(itr.hasNext()){\r\n    \tString s = itr.next();\r\n    \tSystem.out.println(&quot;s: &quot; + s);\r\n    \tif (s.equals(&quot;abd&quot;))\r\n    \t\tts.add(&quot;abc&quot;);\r\n    }\r\n\r\n###Output\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException","title":"Using iterator on a TreeSet","body":"<p>You will get a <strong>java.util.ConcurrentModificationException</strong> if you add an element into the TreeSet inside while loop.</p>\n<pre><code>Set&lt;String&gt; ts = new TreeSet&lt;&gt;();\nts.addAll(Arrays.asList(new String[]{&quot;abb&quot;, &quot;abd&quot;, &quot;abg&quot;}));\nIterator&lt;String&gt; itr = ts.iterator();\nwhile(itr.hasNext()){\n    String s = itr.next();\n    System.out.println(&quot;s: &quot; + s);\n    if (s.equals(&quot;abd&quot;))\n        ts.add(&quot;abc&quot;);\n}\n</code></pre>\n<p>###Output</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":429844,"reputation":155,"user_id":812953,"accept_rate":11,"display_name":"NILESH SALPE"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361269298,"creation_date":1308862927,"answer_id":6460562,"question_id":6460320,"body_markdown":"\t\r\n    public static void main(String[] args) {\r\n    \tTreeSet&lt;Integer&gt; ts=new TreeSet&lt;Integer&gt;();\r\n    \tts.add(2);\r\n    \tts.add(4);\r\n    \tts.add(0);\r\n\t\r\n    \tIterator&lt;Integer&gt; itr=ts.iterator();\r\n    \twhile(itr.hasNext()){\r\n    \t\tInteger c=itr.next();\r\n    \t\tSystem.out.println(c);\r\n    \t    //Code\r\n    \t\tts.add(1);\r\n    \t}\r\n    }\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\r\nThis will come to all collections like `List` , `Map` , `Set`\r\nBecause when iterator starts it may be putting some lock on it .\r\n\r\nif you iterate list using iterator then this exception will come. I think otherwise this loop will be infinite as you are adding element whole iterating. \r\n\r\nConsider without iterator: \r\n\r\n\t\r\n    public static void main(String[] args) {\r\n    \tList&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;();\r\n    \tlist.add(2);\r\n    \tlist.add(4);\r\n    \tlist.add(0);\r\n\t\r\n    \tfor (int i = 0; i &lt; 3; i++) {\r\n    \t\tSystem.out.println(list.get(i));\r\n    \t\tlist.add(3);\r\n    \t}\r\n    \tSystem.out.println(&quot;Size&quot; +list.size());\r\n    }\r\n\t\r\n\r\nthis will be fine .","title":"Using iterator on a TreeSet","body":"<pre><code>public static void main(String[] args) {\n    TreeSet&lt;Integer&gt; ts=new TreeSet&lt;Integer&gt;();\n    ts.add(2);\n    ts.add(4);\n    ts.add(0);\n\n    Iterator&lt;Integer&gt; itr=ts.iterator();\n    while(itr.hasNext()){\n        Integer c=itr.next();\n        System.out.println(c);\n        //Code\n        ts.add(1);\n    }\n}\n\n\nException in thread \"main\" java.util.ConcurrentModificationException\n</code></pre>\n\n<p>This will come to all collections like <code>List</code> , <code>Map</code> , <code>Set</code>\nBecause when iterator starts it may be putting some lock on it .</p>\n\n<p>if you iterate list using iterator then this exception will come. I think otherwise this loop will be infinite as you are adding element whole iterating. </p>\n\n<p>Consider without iterator: </p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;();\n    list.add(2);\n    list.add(4);\n    list.add(0);\n\n    for (int i = 0; i &lt; 3; i++) {\n        System.out.println(list.get(i));\n        list.add(3);\n    }\n    System.out.println(\"Size\" +list.size());\n}\n</code></pre>\n\n<p>this will be fine .</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361534491,"creation_date":1361534491,"answer_id":15023790,"question_id":6460320,"body_markdown":"In order to avoid the `ConcurrentModificationException` you might want to check out my [`UpdateableTreeSet`][1]. I have even added a new [test case][2] showing how to add elements during a loop. To be more exact, you mark new elements for a later, deferred update of the set. This works quite nicely. Basically you do something like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfor (MyComparableElement element : myUpdateableTreeSet) {\r\n\t\tif (someCondition) {\r\n\t\t\t// Add new element (deferred)\r\n\t\t\tmyUpdateableTreeSet.markForUpdate(\r\n\t\t\t\tnew MyComparableElement(&quot;foo&quot;, &quot;bar&quot;, 1, 2)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Perform bulk update\r\n\tmyUpdateableTreeSet.updateMarked();\r\n\r\nI guess this is quite exactly what you need. `:-)`\r\n\r\n  [1]: https://github.com/kriegaex/UpdateableTreeSet\r\n  [2]: https://github.com/kriegaex/UpdateableTreeSet/commit/ac3ab522aa962508ae1e28f3228740ec735293ff","title":"Using iterator on a TreeSet","body":"<p>In order to avoid the <code>ConcurrentModificationException</code> you might want to check out my <a href=\"https://github.com/kriegaex/UpdateableTreeSet\" rel=\"nofollow\"><code>UpdateableTreeSet</code></a>. I have even added a new <a href=\"https://github.com/kriegaex/UpdateableTreeSet/commit/ac3ab522aa962508ae1e28f3228740ec735293ff\" rel=\"nofollow\">test case</a> showing how to add elements during a loop. To be more exact, you mark new elements for a later, deferred update of the set. This works quite nicely. Basically you do something like</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (MyComparableElement element : myUpdateableTreeSet) {\n    if (someCondition) {\n        // Add new element (deferred)\n        myUpdateableTreeSet.markForUpdate(\n            new MyComparableElement(\"foo\", \"bar\", 1, 2)\n        );\n    }\n}\n\n// Perform bulk update\nmyUpdateableTreeSet.updateMarked();\n</code></pre>\n\n<p>I guess this is quite exactly what you need. <code>:-)</code></p>\n"},{"tags":[],"owner":{"account_id":1232432,"reputation":2744,"user_id":1196716,"accept_rate":20,"display_name":"Houcheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395129531,"creation_date":1395129531,"answer_id":22473417,"question_id":6460320,"body_markdown":"To prevent the ConcurrentModificationException while walking.\r\nBelow is my version to allow high frequency insertion into the TreeSet() and allow concurrently iterate on it. This class use a extra queue to store the inserting object when the TreeSet is being iterating.\r\n\r\n    public class UpdatableTransactionSet {\r\n\tTreeSet &lt;DepKey&gt; transactions = new TreeSet &lt;DepKey&gt; ();\r\n\tLinkedList &lt;DepKey&gt; queue = new LinkedList &lt;DepKey&gt; ();\r\n\tboolean busy=false;\r\n\t/**\r\n\t * directly call it\r\n\t * @param e\r\n\t */\r\n\tvoid add(DepKey e) {\r\n\t\tboolean bb = getLock();\r\n\t\tif(bb) {\r\n\t\t\ttransactions.add(e);\r\n\t\t\tfreeLock();\r\n\t\t} else {\r\n\t\t\tsynchronized(queue) {\r\n\t\t\t\tqueue.add(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * must getLock() and freeLock() while call this getIterator function\r\n\t * @return\r\n\t */\r\n\tIterator&lt;DepKey&gt; getIterator() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tsynchronized boolean getLock() {\r\n\t\tif(busy) return false;\r\n\t\tbusy = true;\r\n\t\treturn true;\r\n\t}\r\n\tsynchronized void freeLock() {\r\n\t\tsynchronized(queue) {\r\n\t\t\tfor(DepKey e:queue) {\r\n\t\t\t\ttransactions.add(e);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tbusy = false;\r\n\t}\r\n    }\r\n\r\n\r\n\r\n","title":"Using iterator on a TreeSet","body":"<p>To prevent the ConcurrentModificationException while walking.\nBelow is my version to allow high frequency insertion into the TreeSet() and allow concurrently iterate on it. This class use a extra queue to store the inserting object when the TreeSet is being iterating.</p>\n\n<pre><code>public class UpdatableTransactionSet {\nTreeSet &lt;DepKey&gt; transactions = new TreeSet &lt;DepKey&gt; ();\nLinkedList &lt;DepKey&gt; queue = new LinkedList &lt;DepKey&gt; ();\nboolean busy=false;\n/**\n * directly call it\n * @param e\n */\nvoid add(DepKey e) {\n    boolean bb = getLock();\n    if(bb) {\n        transactions.add(e);\n        freeLock();\n    } else {\n        synchronized(queue) {\n            queue.add(e);\n        }\n    }\n}\n/**\n * must getLock() and freeLock() while call this getIterator function\n * @return\n */\nIterator&lt;DepKey&gt; getIterator() {\n    return null;\n}\n\nsynchronized boolean getLock() {\n    if(busy) return false;\n    busy = true;\n    return true;\n}\nsynchronized void freeLock() {\n    synchronized(queue) {\n        for(DepKey e:queue) {\n            transactions.add(e);\n        }\n    }       \n    busy = false;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421391910,"creation_date":1421391910,"answer_id":27978875,"question_id":6460320,"body_markdown":"While the question has already been answered, I think the most satisfactory answer lies in [javadoc of TreeSet][1] itself\n\n&gt;The iterators returned by this class&#39;s iterator method are fail-fast: if the set is modified at any time after the iterator is created, in any way except through the iterator&#39;s own remove method, the iterator will throw a ConcurrentModificationException. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.\n&gt;\n&gt;Note that the fail-fast behavior of an iterator cannot be guaranteed as it is, &gt;generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw ConcurrentModificationException on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: the fail-fast behavior of iterators should be used only to detect bugs.\n\n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html","title":"Using iterator on a TreeSet","body":"<p>While the question has already been answered, I think the most satisfactory answer lies in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">javadoc of TreeSet</a> itself</p>\n<blockquote>\n<p>The iterators returned by this class's iterator method are fail-fast: if the set is modified at any time after the iterator is created, in any way except through the iterator's own remove method, the iterator will throw a ConcurrentModificationException. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.</p>\n<p>Note that the fail-fast behavior of an iterator cannot be guaranteed as it is, &gt;generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw ConcurrentModificationException on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: the fail-fast behavior of iterators should be used only to detect bugs.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4609940,"reputation":2386,"user_id":3738356,"accept_rate":32,"display_name":"interestedparty333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492548673,"creation_date":1492197108,"answer_id":43417789,"question_id":6460320,"body_markdown":"To avoid the concurrent modification error that&#39;s bound to occur when you&#39;re doing the insertion, you could also create a temporary copy of the Set, iterate through the copy instead, and modify the original.","title":"Using iterator on a TreeSet","body":"<p>To avoid the concurrent modification error that's bound to occur when you're doing the insertion, you could also create a temporary copy of the Set, iterate through the copy instead, and modify the original.</p>\n"}],"owner":{"account_id":427606,"reputation":2452,"user_id":809455,"accept_rate":70,"display_name":"aps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58600,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":6460345,"answer_count":7,"score":13,"last_activity_date":1670347048,"creation_date":1308861440,"question_id":6460320,"body_markdown":"**SITUATION:** I have a TreeSet of custom Objects and I have also used a custom Comparator. I have created an iterator to use on this TreeSet. \r\n    \r\n    TreeSet&lt;Custom&gt; ts=new TreeSet&lt;Custom&gt;();\r\n    Iterator&lt;Custom&gt; itr=ts.iterator();\r\n    while(itr.hasNext()){\r\n        Custom c=itr.next();\r\n        //Code to add a new element to the TreeSet ts\r\n    }\r\n**QUESTION:** Well I want to know that if I add a new element to the TreeSet within the while loop, then will that new element get sorted immediately. In other words, if I add a new element within the while loop and it is less than the one which I am currently holding in c, then in the next iteration will I be getting the same element in c as in the last iteration?(since after sorting, the newly added element will occupy a place somewhere before the current element).","title":"Using iterator on a TreeSet","body":"<p><strong>SITUATION:</strong> I have a TreeSet of custom Objects and I have also used a custom Comparator. I have created an iterator to use on this TreeSet. </p>\n\n<pre><code>TreeSet&lt;Custom&gt; ts=new TreeSet&lt;Custom&gt;();\nIterator&lt;Custom&gt; itr=ts.iterator();\nwhile(itr.hasNext()){\n    Custom c=itr.next();\n    //Code to add a new element to the TreeSet ts\n}\n</code></pre>\n\n<p><strong>QUESTION:</strong> Well I want to know that if I add a new element to the TreeSet within the while loop, then will that new element get sorted immediately. In other words, if I add a new element within the while loop and it is less than the one which I am currently holding in c, then in the next iteration will I be getting the same element in c as in the last iteration?(since after sorting, the newly added element will occupy a place somewhere before the current element).</p>\n"},{"tags":["java","spring-boot","spring-security","jwt","basic-authentication"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":1,"creation_date":1670316241,"post_id":74694980,"comment_id":131842157,"body_markdown":"Getting the `AuthenticationManager` from the `AuthenticationConfiguration` is not best practice. Instead you should get the `AuthenticationManager` in a custom DSL and pass it to the custom Filter, as described in this answer https://stackoverflow.com/questions/72509142/passing-authenticationmanager-to-custom-filter/72528280#72528280","body":"Getting the <code>AuthenticationManager</code> from the <code>AuthenticationConfiguration</code> is not best practice. Instead you should get the <code>AuthenticationManager</code> in a custom DSL and pass it to the custom Filter, as described in this answer <a href=\"https://stackoverflow.com/questions/72509142/passing-authenticationmanager-to-custom-filter/72528280#72528280\" title=\"passing authenticationmanager to custom filter\">stackoverflow.com/questions/72509142/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670459205,"post_id":74694980,"comment_id":131883374,"body_markdown":"@EleftheriaStein-Kousathana I have a similar issue but I couldn&#39;t have any idea how to fix it. Can you help me? Here is the link : https://stackoverflow.com/questions/74633891/spring-boot-microservices-spring-security-servicetest-and-controllertest-for","body":"@EleftheriaStein-Kousathana I have a similar issue but I couldn&#39;t have any idea how to fix it. Can you help me? Here is the link : <a href=\"https://stackoverflow.com/questions/74633891/spring-boot-microservices-spring-security-servicetest-and-controllertest-for\" title=\"spring boot microservices spring security servicetest and controllertest for\">stackoverflow.com/questions/74633891/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1670346866,"creation_date":1670346866,"answer_id":74706573,"question_id":74694980,"body_markdown":"In addition to Eleftheria&#39;s comment:\r\n\r\nYou are asking Spring Security to provide you an `AuthenticationManager` bean by calling `authenticationConfiguration.getAuthenticationManager()`.\r\n\r\n1. The `AuthenticationConfiguration` calls the `AuthenticationManagerBuilder` to create the `AuthenticationManager`, and it only creates the `AuthenticationManager` if there is [**only one** `AuthenticationProvider`][1] or [**only one** `UserDetailsService`][2] configured. If it is not able to create it, then [a lazy initialization bean will be provided][3].\r\n\r\n2. When the application tries to use the `AuthenticationManager` for the first time, the lazy initialization bean will be triggered, invoking the method that creates the bean, which in your case is:\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n```\r\n\r\n3. That method, in turn, invokes `AuthenticationConfiguration#getAuthenticationManager` which will return a lazy initialization bean again since the `AuthenticationManager` cannot be created because of &lt;1&gt;, and the cycle continues.\r\n\r\nSo, why Spring Security didn&#39;t initialize the `AuthenticationManager` in your case? Because you have 2 `AuthenticationProvider`s, and there is no way for Spring Security to know how you want to combine them, that&#39;s why Spring Security backs off and lets you deal with the creation of `AuthenticationManager`.\r\n\r\n**How do you fix it?**\r\n\r\nSince Spring Security cannot create the bean for you, you would have to create the `AuthenticationManager` bean yourself. Here is how to do that in your scenario:\r\n\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager(List&lt;AuthenticationProvider&gt; myAuthenticationProviders) {\r\n    return new ProviderManager(myAuthenticationProviders);\r\n}\r\n```\r\n\r\nFor folks that want to use a `UserDetailsService`, you can create a `DaoAuthenticationProvider` and set the necessary fields.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeAuthenticationProviderBeanManagerConfigurer.java\r\n  [2]: https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeUserDetailsBeanManagerConfigurer.java\r\n  [3]: https://github.com/spring-projects/spring-security/blob/03438ffc0344eded3923548283a228f8eae5fbe4/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.java#L123","title":"AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider","body":"<p>In addition to Eleftheria's comment:</p>\n<p>You are asking Spring Security to provide you an <code>AuthenticationManager</code> bean by calling <code>authenticationConfiguration.getAuthenticationManager()</code>.</p>\n<ol>\n<li><p>The <code>AuthenticationConfiguration</code> calls the <code>AuthenticationManagerBuilder</code> to create the <code>AuthenticationManager</code>, and it only creates the <code>AuthenticationManager</code> if there is <a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeAuthenticationProviderBeanManagerConfigurer.java\" rel=\"noreferrer\"><strong>only one</strong> <code>AuthenticationProvider</code></a> or <a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeUserDetailsBeanManagerConfigurer.java\" rel=\"noreferrer\"><strong>only one</strong> <code>UserDetailsService</code></a> configured. If it is not able to create it, then <a href=\"https://github.com/spring-projects/spring-security/blob/03438ffc0344eded3923548283a228f8eae5fbe4/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.java#L123\" rel=\"noreferrer\">a lazy initialization bean will be provided</a>.</p>\n</li>\n<li><p>When the application tries to use the <code>AuthenticationManager</code> for the first time, the lazy initialization bean will be triggered, invoking the method that creates the bean, which in your case is:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<ol start=\"3\">\n<li>That method, in turn, invokes <code>AuthenticationConfiguration#getAuthenticationManager</code> which will return a lazy initialization bean again since the <code>AuthenticationManager</code> cannot be created because of &lt;1&gt;, and the cycle continues.</li>\n</ol>\n<p>So, why Spring Security didn't initialize the <code>AuthenticationManager</code> in your case? Because you have 2 <code>AuthenticationProvider</code>s, and there is no way for Spring Security to know how you want to combine them, that's why Spring Security backs off and lets you deal with the creation of <code>AuthenticationManager</code>.</p>\n<p><strong>How do you fix it?</strong></p>\n<p>Since Spring Security cannot create the bean for you, you would have to create the <code>AuthenticationManager</code> bean yourself. Here is how to do that in your scenario:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager(List&lt;AuthenticationProvider&gt; myAuthenticationProviders) {\n    return new ProviderManager(myAuthenticationProviders);\n}\n</code></pre>\n<p>For folks that want to use a <code>UserDetailsService</code>, you can create a <code>DaoAuthenticationProvider</code> and set the necessary fields.</p>\n"}],"owner":{"account_id":11730215,"reputation":23,"user_id":8585974,"display_name":"keroles magdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2436,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74706573,"answer_count":1,"score":2,"last_activity_date":1670346866,"creation_date":1670278307,"question_id":74694980,"body_markdown":"In my project, I have two different authentication paths: the first one for normal user login and the second for employer login. So I begin by creating an authentication filter for the user using its AuthenticationProvider, and it works fine. For the second authentication, I create its authentication filter, and when I create another authentication provider for the employer, that is the problem. I get a **java.lang.StackOverflowError: null** when I try to authenticate the user&#39;s username and password using an instance of **AuthenticationManager** in **authenticationmanager.authenticate(userPassAuthToken)**.&#160;\r\n\r\nI didn&#39;t understand what happened when I created another authentication provider or why the authentication manager threw this exception. I think that the authentication manager is confused about which provider to use.\r\n\r\nAt first, I create the first authentication for a normal user with its filter and authentication provider as shown in the following code:\r\n\r\n1. User Filter class\r\n\r\n```\r\n@Component\r\npublic class UserPassAuthFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    @Lazy\r\n    private AuthenticationManager authManager;\r\n    @Autowired\r\n    private AuthPath authPath;\r\n    @Autowired\r\n    AuthFilterUtil authFilterUtil;\r\n    @Autowired\r\n    private UserMapper userMapper;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        char[] username=request.getHeader(&quot;username&quot;).toCharArray();\r\n        char[] password=request.getHeader(&quot;password&quot;).toCharArray();\r\n\r\n        UserPassAuthToken authentication= new UserPassAuthToken(String.valueOf(username),String.valueOf(password));\r\n        UserPassAuthToken currentAuth =(UserPassAuthToken)authManager.authenticate(authentication);\r\n        if (!currentAuth.isAuthenticated()){\r\n            authFilterUtil.onFailureAuth(response,request,null);\r\n        }\r\n        else {\r\n            SecurityContextHolder.getContext().setAuthentication(currentAuth);\r\n            if(request.getServletPath().equals(authPath.getUserPasswordFilter_pathShouldDo().get(0))) {\r\n                UserDto responseBody = userMapper.mapUserToDto(currentAuth.getUsersDetails().getUsers());\r\n                responseBody.setToken(authFilterUtil.prepareTokenToAuthResponse(\r\n                        currentAuth.getAuthorities(),\r\n                        currentAuth.getName().toCharArray()\r\n                ));\r\n                authFilterUtil.onSuccessfulAuth(response, responseBody);\r\n            }\r\n            filterChain.doFilter(request,response);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n\r\n        return !authPath.getUserPasswordFilter_pathShouldDo().contains(request.getServletPath());\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. user Authentication token class\r\n\r\n\r\n```\r\npublic class UserPassAuthToken extends UsernamePasswordAuthenticationToken {\r\n    @Getter\r\n    @Setter\r\n    private UsersDetails usersDetails;\r\n\r\n    public UserPassAuthToken(Object principal, Object credentials) {\r\n        super(principal, credentials);\r\n    }\r\n\r\n    public UserPassAuthToken(Object principal, Object credentials, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        super(principal, credentials, authorities);\r\n    }\r\n}\r\n\r\n```\r\n\r\n3. user authentication provider class\r\n\r\n\r\n```\r\n@Component\r\npublic class UserPassAuthProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    UserService userDetailsService;\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public UserPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username =authentication.getName();\r\n        String password=(String)authentication.getCredentials();\r\n\r\n        UserPassAuthToken userPassAuthToken;\r\n        UsersDetails   user=userDetailsService.loadUserByUsername(username);\r\n        if (user !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(password,user.getPassword())){\r\n            userPassAuthToken=new UserPassAuthToken(username,user.getPassword(),user.getAuthorities());\r\n            userPassAuthToken.setUsersDetails(user);\r\n        }else {\r\n            userPassAuthToken = new UserPassAuthToken(username, password);\r\n            userPassAuthToken.setAuthenticated(false);\r\n        }\r\n        userPassAuthToken = new UserPassAuthToken(username, password);\r\n        userPassAuthToken.setAuthenticated(false);\r\n        return userPassAuthToken;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authType) {\r\n        return UserPassAuthToken.class.equals(authType);\r\n    }\r\n}\r\n\r\n```\r\n4. employer authentication provider class\r\n\r\n\r\n```\r\n@Component\r\npublic class EmployerAuthProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    EmployerService employerService;\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public EmployerPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\r\n        char[]username =authentication.getName().toCharArray();\r\n        char[] password=(char[]) authentication.getCredentials();\r\n        EmployerPassAuthToken employerPassAuthToken;\r\n        UsersDetails employer=employerService.loadUserByUsername(String.valueOf(username));\r\n        if (employer !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(String.valueOf(password),employer.getPassword())){\r\n            employerPassAuthToken=new EmployerPassAuthToken(username,employer.getPassword(),employer.getAuthorities());\r\n            employerPassAuthToken.setUsersDetails(employer);\r\n        }else {\r\n            employerPassAuthToken = new EmployerPassAuthToken(username, password);\r\n            employerPassAuthToken.setAuthenticated(false);\r\n        }\r\n        return employerPassAuthToken;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authType) {\r\n        return EmployerPassAuthToken.class.equals(authType);\r\n    }\r\n}\r\n\r\n```\r\n5. security configuration class\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\r\npublic class SecConfig {\r\n\r\n    @Autowired\r\n    UserPassAuthProvider userPassAuthProvider;\r\n    @Autowired\r\n    UserPassAuthFilter userPassAuthFilter;\r\n    @Autowired\r\n    TokenAuthFilter tokenAuthFilter;\r\n    @Autowired\r\n    AuthPathPrivilege userPrivilege;\r\n    @Autowired\r\n    AuthPath authPath;\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(authPath.getAllNotAuthPath().iterator().next()).permitAll()\r\n                .antMatchers(authPath.getAllAuthPath().iterator().next()).authenticated()\r\n                .antMatchers(userPrivilege.getSuper_adminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;SUPER_ADMIN&quot;)\r\n                .antMatchers(userPrivilege.getAdminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;ADMIN&quot;)\r\n                .antMatchers(userPrivilege.getManagerPrivilegePath().iterator().next()).hasAnyAuthority(&quot;MANAGER&quot;)\r\n                .antMatchers(userPrivilege.getUserPrivilegePath().iterator().next()).hasAnyAuthority(&quot;USER&quot;)\r\n                .and().httpBasic()\r\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\r\n                .and().authenticationProvider(userPassAuthProvider)\r\n                .addFilterAt(userPassAuthFilter , BasicAuthenticationFilter.class)\r\n                .addFilterAfter(tokenAuthFilter , BasicAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Note: **\r\n1. Also using Intellij idea debugging it stuck on the same line of code **authManager.authenticate(authentication)** in user filter class\r\n2. The application didn&#39;t enter user authentication provider after creating employer provider.","title":"AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider","body":"<p>In my project, I have two different authentication paths: the first one for normal user login and the second for employer login. So I begin by creating an authentication filter for the user using its AuthenticationProvider, and it works fine. For the second authentication, I create its authentication filter, and when I create another authentication provider for the employer, that is the problem. I get a <strong>java.lang.StackOverflowError: null</strong> when I try to authenticate the user's username and password using an instance of <strong>AuthenticationManager</strong> in <strong>authenticationmanager.authenticate(userPassAuthToken)</strong>.</p>\n<p>I didn't understand what happened when I created another authentication provider or why the authentication manager threw this exception. I think that the authentication manager is confused about which provider to use.</p>\n<p>At first, I create the first authentication for a normal user with its filter and authentication provider as shown in the following code:</p>\n<ol>\n<li>User Filter class</li>\n</ol>\n<pre><code>@Component\npublic class UserPassAuthFilter extends OncePerRequestFilter {\n\n    @Autowired\n    @Lazy\n    private AuthenticationManager authManager;\n    @Autowired\n    private AuthPath authPath;\n    @Autowired\n    AuthFilterUtil authFilterUtil;\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        char[] username=request.getHeader(&quot;username&quot;).toCharArray();\n        char[] password=request.getHeader(&quot;password&quot;).toCharArray();\n\n        UserPassAuthToken authentication= new UserPassAuthToken(String.valueOf(username),String.valueOf(password));\n        UserPassAuthToken currentAuth =(UserPassAuthToken)authManager.authenticate(authentication);\n        if (!currentAuth.isAuthenticated()){\n            authFilterUtil.onFailureAuth(response,request,null);\n        }\n        else {\n            SecurityContextHolder.getContext().setAuthentication(currentAuth);\n            if(request.getServletPath().equals(authPath.getUserPasswordFilter_pathShouldDo().get(0))) {\n                UserDto responseBody = userMapper.mapUserToDto(currentAuth.getUsersDetails().getUsers());\n                responseBody.setToken(authFilterUtil.prepareTokenToAuthResponse(\n                        currentAuth.getAuthorities(),\n                        currentAuth.getName().toCharArray()\n                ));\n                authFilterUtil.onSuccessfulAuth(response, responseBody);\n            }\n            filterChain.doFilter(request,response);\n        }\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n\n        return !authPath.getUserPasswordFilter_pathShouldDo().contains(request.getServletPath());\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>user Authentication token class</li>\n</ol>\n<pre><code>public class UserPassAuthToken extends UsernamePasswordAuthenticationToken {\n    @Getter\n    @Setter\n    private UsersDetails usersDetails;\n\n    public UserPassAuthToken(Object principal, Object credentials) {\n        super(principal, credentials);\n    }\n\n    public UserPassAuthToken(Object principal, Object credentials, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(principal, credentials, authorities);\n    }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>user authentication provider class</li>\n</ol>\n<pre><code>@Component\npublic class UserPassAuthProvider implements AuthenticationProvider {\n\n    @Autowired\n    UserService userDetailsService;\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\n        String username =authentication.getName();\n        String password=(String)authentication.getCredentials();\n\n        UserPassAuthToken userPassAuthToken;\n        UsersDetails   user=userDetailsService.loadUserByUsername(username);\n        if (user !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(password,user.getPassword())){\n            userPassAuthToken=new UserPassAuthToken(username,user.getPassword(),user.getAuthorities());\n            userPassAuthToken.setUsersDetails(user);\n        }else {\n            userPassAuthToken = new UserPassAuthToken(username, password);\n            userPassAuthToken.setAuthenticated(false);\n        }\n        userPassAuthToken = new UserPassAuthToken(username, password);\n        userPassAuthToken.setAuthenticated(false);\n        return userPassAuthToken;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authType) {\n        return UserPassAuthToken.class.equals(authType);\n    }\n}\n\n</code></pre>\n<ol start=\"4\">\n<li>employer authentication provider class</li>\n</ol>\n<pre><code>@Component\npublic class EmployerAuthProvider implements AuthenticationProvider {\n\n    @Autowired\n    EmployerService employerService;\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    public EmployerPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\n        char[]username =authentication.getName().toCharArray();\n        char[] password=(char[]) authentication.getCredentials();\n        EmployerPassAuthToken employerPassAuthToken;\n        UsersDetails employer=employerService.loadUserByUsername(String.valueOf(username));\n        if (employer !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(String.valueOf(password),employer.getPassword())){\n            employerPassAuthToken=new EmployerPassAuthToken(username,employer.getPassword(),employer.getAuthorities());\n            employerPassAuthToken.setUsersDetails(employer);\n        }else {\n            employerPassAuthToken = new EmployerPassAuthToken(username, password);\n            employerPassAuthToken.setAuthenticated(false);\n        }\n        return employerPassAuthToken;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authType) {\n        return EmployerPassAuthToken.class.equals(authType);\n    }\n}\n\n</code></pre>\n<ol start=\"5\">\n<li>security configuration class</li>\n</ol>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n\npublic class SecConfig {\n\n    @Autowired\n    UserPassAuthProvider userPassAuthProvider;\n    @Autowired\n    UserPassAuthFilter userPassAuthFilter;\n    @Autowired\n    TokenAuthFilter tokenAuthFilter;\n    @Autowired\n    AuthPathPrivilege userPrivilege;\n    @Autowired\n    AuthPath authPath;\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(authPath.getAllNotAuthPath().iterator().next()).permitAll()\n                .antMatchers(authPath.getAllAuthPath().iterator().next()).authenticated()\n                .antMatchers(userPrivilege.getSuper_adminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;SUPER_ADMIN&quot;)\n                .antMatchers(userPrivilege.getAdminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;ADMIN&quot;)\n                .antMatchers(userPrivilege.getManagerPrivilegePath().iterator().next()).hasAnyAuthority(&quot;MANAGER&quot;)\n                .antMatchers(userPrivilege.getUserPrivilegePath().iterator().next()).hasAnyAuthority(&quot;USER&quot;)\n                .and().httpBasic()\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\n                .and().authenticationProvider(userPassAuthProvider)\n                .addFilterAt(userPassAuthFilter , BasicAuthenticationFilter.class)\n                .addFilterAfter(tokenAuthFilter , BasicAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n}\n\n</code></pre>\n<p>**Note: **</p>\n<ol>\n<li>Also using Intellij idea debugging it stuck on the same line of code <strong>authManager.authenticate(authentication)</strong> in user filter class</li>\n<li>The application didn't enter user authentication provider after creating employer provider.</li>\n</ol>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10299803,"reputation":1540,"user_id":7598851,"display_name":"MartinBG"},"score":2,"creation_date":1669674914,"post_id":74607101,"comment_id":131692160,"body_markdown":"To get the result you&#39;re expecting, change `YonoWriter#WriteText` method body from `return s + &quot; 1 &quot;;` to `return &quot;1&quot; + s;` and remove spaces around `&quot; 2 &quot;` in `Yono2Writer#hello`","body":"To get the result you&#39;re expecting, change <code>YonoWriter#WriteText</code> method body from <code>return s + &quot; 1 &quot;;</code> to <code>return &quot;1&quot; + s;</code> and remove spaces around <code>&quot; 2 &quot;</code> in <code>Yono2Writer#hello</code>"}],"answers":[{"tags":[],"owner":{"account_id":10286378,"reputation":332,"user_id":7589535,"display_name":"oussema"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669677378,"creation_date":1669677378,"answer_id":74607496,"question_id":74607101,"body_markdown":"If you want to learn what more about dependency injection (DI) check [spring docs](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction)\r\n\r\nThe summary of DI or IoC (inversion of control) is that the component defines the dependency and then the spring context injects a proper instance of the dependency, hence inversion of control. So instead of:\r\n```\r\n@RestController\r\npublic class Yono3Writer {\r\n    Yono2Writer text; // &lt;- 1. component defines the dependency\r\n    Yono3Writer(){\r\n        text = new Yono2Writer(); // &lt;- 2. component creates the dependency by itself as part of constructing the component\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public  String hello2(){\r\n        return this.text.hello(&quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nYou get this:\r\n\r\n```\r\n@RestController\r\npublic class Yono3Writer {\r\n    Yono2Writer text; // &lt;- 1. component defines the dependency\r\n\r\n    Yono3Writer(Yono2Writer yono2Writer){\r\n        this.text = yono2Writer; // &lt;- 2. a spring managed bean is injected using the constructor as part of constructing the component\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public  String hello2(){\r\n        return this.text.hello(&quot;3&quot;);\r\n    }\r\n}\r\n```\r\nprovided that you configured a bean of type `Yono2Writer`, one way to do that:\r\n```\r\n@Configuration\r\npublic class MyConfig {\r\n    @Bean\r\n    public Yono2Writer yono2Writer() {\r\n        return new Yono2Writer();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is really helpful when you have a bunch of these dependencies for your component that are not all straight forward to implement unlike `new Yono2Writer()` \r\n","title":"how to make dependency injection in spring java","body":"<p>If you want to learn what more about dependency injection (DI) check <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction\" rel=\"nofollow noreferrer\">spring docs</a></p>\n<p>The summary of DI or IoC (inversion of control) is that the component defines the dependency and then the spring context injects a proper instance of the dependency, hence inversion of control. So instead of:</p>\n<pre><code>@RestController\npublic class Yono3Writer {\n    Yono2Writer text; // &lt;- 1. component defines the dependency\n    Yono3Writer(){\n        text = new Yono2Writer(); // &lt;- 2. component creates the dependency by itself as part of constructing the component\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public  String hello2(){\n        return this.text.hello(&quot;3&quot;);\n    }\n}\n</code></pre>\n<p>You get this:</p>\n<pre><code>@RestController\npublic class Yono3Writer {\n    Yono2Writer text; // &lt;- 1. component defines the dependency\n\n    Yono3Writer(Yono2Writer yono2Writer){\n        this.text = yono2Writer; // &lt;- 2. a spring managed bean is injected using the constructor as part of constructing the component\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public  String hello2(){\n        return this.text.hello(&quot;3&quot;);\n    }\n}\n</code></pre>\n<p>provided that you configured a bean of type <code>Yono2Writer</code>, one way to do that:</p>\n<pre><code>@Configuration\npublic class MyConfig {\n    @Bean\n    public Yono2Writer yono2Writer() {\n        return new Yono2Writer();\n    }\n\n}\n</code></pre>\n<p>This is really helpful when you have a bunch of these dependencies for your component that are not all straight forward to implement unlike <code>new Yono2Writer()</code></p>\n"}],"owner":{"account_id":6382808,"reputation":189,"user_id":4951614,"display_name":"yokana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669736728,"accepted_answer_id":74607496,"answer_count":1,"score":-1,"last_activity_date":1670346799,"creation_date":1669674252,"question_id":74607101,"body_markdown":"i have code bellow, i code without dependency injection,\r\ni still dont get point what is advantage using dependency injection\r\n\r\ninterface class\r\n```\r\n@Component\r\npublic interface TextWriter {\r\n    public String WriteText(String s);\r\n}\r\n``` \r\n\r\nclass one\r\n```\r\npublic class YonoWriter implements TextWriter{\r\n    @Override\r\n    public String WriteText(String s) {\r\n        return s + &quot; 1 &quot;;\r\n    }\r\n}\r\n```\r\n\r\nclass two\r\n```\r\npublic class Yono2Writer {\r\n    TextWriter text;\r\n    Yono2Writer(){\r\n        text = new YonoWriter();\r\n    }\r\n    public String hello(String s){\r\n        return this.text.WriteText(&quot; 2 &quot;) + s;\r\n    }\r\n}\r\n```\r\n\r\nfinal class\r\n```\r\n@RestController\r\npublic class Yono3Writer {\r\n    Yono2Writer text;\r\n    Yono3Writer(){\r\n        text = new Yono2Writer();\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public  String hello2(){\r\n        return this.text.hello(&quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand the result is 2 1 3 and what is expected is 123 and how to implement dependency injection there ?","title":"how to make dependency injection in spring java","body":"<p>i have code bellow, i code without dependency injection,\ni still dont get point what is advantage using dependency injection</p>\n<p>interface class</p>\n<pre><code>@Component\npublic interface TextWriter {\n    public String WriteText(String s);\n}\n</code></pre>\n<p>class one</p>\n<pre><code>public class YonoWriter implements TextWriter{\n    @Override\n    public String WriteText(String s) {\n        return s + &quot; 1 &quot;;\n    }\n}\n</code></pre>\n<p>class two</p>\n<pre><code>public class Yono2Writer {\n    TextWriter text;\n    Yono2Writer(){\n        text = new YonoWriter();\n    }\n    public String hello(String s){\n        return this.text.WriteText(&quot; 2 &quot;) + s;\n    }\n}\n</code></pre>\n<p>final class</p>\n<pre><code>@RestController\npublic class Yono3Writer {\n    Yono2Writer text;\n    Yono3Writer(){\n        text = new Yono2Writer();\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public  String hello2(){\n        return this.text.hello(&quot;3&quot;);\n    }\n}\n</code></pre>\n<p>and the result is 2 1 3 and what is expected is 123 and how to implement dependency injection there ?</p>\n"},{"tags":["java","spring","docker","docker-compose","docker-networking"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670325093,"post_id":74700087,"comment_id":131845260,"body_markdown":"Can you fix the application under test to not require a database to be running for its unit tests?  Then running the application in a sibling container (without DinD) maybe with `--net=none` might be enough.  If that&#39;s not an option, it might help to [edit] the question to include a [mcve]; it&#39;s not clear to me which pieces are running in which container environment.","body":"Can you fix the application under test to not require a database to be running for its unit tests?  Then running the application in a sibling container (without DinD) maybe with <code>--net=none</code> might be enough.  If that&#39;s not an option, it might help to <a href=\"https://stackoverflow.com/posts/74700087/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; it&#39;s not clear to me which pieces are running in which container environment."}],"answers":[{"tags":[],"owner":{"account_id":4875297,"reputation":252,"user_id":3930612,"display_name":"FedeG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670346735,"creation_date":1670346735,"answer_id":74706548,"question_id":74700087,"body_markdown":"Inside the container `localhost` is the same container.\r\nIf you have a docker-compose, you can use the service name to connect to another container.\r\n\r\nFor example, if you have service `db` and `app`, `app` can connect to `db:5432`","title":"Docker dind access to DB container","body":"<p>Inside the container <code>localhost</code> is the same container.\nIf you have a docker-compose, you can use the service name to connect to another container.</p>\n<p>For example, if you have service <code>db</code> and <code>app</code>, <code>app</code> can connect to <code>db:5432</code></p>\n"}],"owner":{"account_id":20735111,"reputation":3,"user_id":15573450,"display_name":"Bogdan Zaranik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670346735,"creation_date":1670318788,"question_id":74700087,"body_markdown":"I have got some issue. My task to implement the web system which will be able to compile java maven project, test under the hood and build a report whether all that stuff was done successfully. \r\n\r\nSo I need an isolated container to run JUnit tests inside my service to prevent illegal access from tested solution to my service host. In aim to make everrything secured. So what do I do: I have got docker-compose &quot;cluster&quot; with a database service and y web service. When my web service is requested (solution project is passed like zip achive of maven project folder) I create a new dind container with some util which connects to that DB service, downloads zip archive with solution, unzips it and performs `mvn clean compile`, `mvn test`, etc. It does not matter. It also puts some info to that DB about whether compilation was successful or not, also about testing. When I tested this with DB on `localhost:5432` (pg), it worked via  ```--netwok=host``` flag. Even DIND container cound access DB. But when I run everything in docker-compose and also DB is a docker-compose service, DIND container does not see DB host. Is it possible to access DB service from DIND container? May, it would be better solution?\r\n\r\nPS: just right now I really think to implement all this stuff via volumes, but this approach has several significant drawbacks. First one is that isolation decreases. Second one is that we also need to unzip solution project somewhere onto the web service. But where? As for me, it looks weird:) But it will work 99%. Are there any other more appropriate solutions? Thanx\r\n\r\nPPS: sorry for longread.","title":"Docker dind access to DB container","body":"<p>I have got some issue. My task to implement the web system which will be able to compile java maven project, test under the hood and build a report whether all that stuff was done successfully.</p>\n<p>So I need an isolated container to run JUnit tests inside my service to prevent illegal access from tested solution to my service host. In aim to make everrything secured. So what do I do: I have got docker-compose &quot;cluster&quot; with a database service and y web service. When my web service is requested (solution project is passed like zip achive of maven project folder) I create a new dind container with some util which connects to that DB service, downloads zip archive with solution, unzips it and performs <code>mvn clean compile</code>, <code>mvn test</code>, etc. It does not matter. It also puts some info to that DB about whether compilation was successful or not, also about testing. When I tested this with DB on <code>localhost:5432</code> (pg), it worked via  <code>--netwok=host</code> flag. Even DIND container cound access DB. But when I run everything in docker-compose and also DB is a docker-compose service, DIND container does not see DB host. Is it possible to access DB service from DIND container? May, it would be better solution?</p>\n<p>PS: just right now I really think to implement all this stuff via volumes, but this approach has several significant drawbacks. First one is that isolation decreases. Second one is that we also need to unzip solution project somewhere onto the web service. But where? As for me, it looks weird:) But it will work 99%. Are there any other more appropriate solutions? Thanx</p>\n<p>PPS: sorry for longread.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1669994964,"post_id":74658024,"comment_id":131776605,"body_markdown":"You haven&#39;t really explained what is going wrong. Why doesn&#39;t it seem to work?","body":"You haven&#39;t really explained what is going wrong. Why doesn&#39;t it seem to work?"},{"owner":{"account_id":21431007,"reputation":1,"user_id":15787422,"display_name":"platka000"},"score":0,"creation_date":1669995049,"post_id":74658024,"comment_id":131776638,"body_markdown":"Just added,  Thank you for reminding me.","body":"Just added,  Thank you for reminding me."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1669995146,"post_id":74658024,"comment_id":131776662,"body_markdown":"Read [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code.","body":"Read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1669995733,"post_id":74658024,"comment_id":131776862,"body_markdown":"DO NOT USE A SEPARATE THREAD. You should use a Swing Timer for your game loop. Also, JOGL (Java Open Graphics Library) is a much better technology/API to create games in.","body":"DO NOT USE A SEPARATE THREAD. You should use a Swing Timer for your game loop. Also, JOGL (Java Open Graphics Library) is a much better technology/API to create games in."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1670010582,"post_id":74658024,"comment_id":131781368,"body_markdown":"Do you successfully detect the collision? Your criteria look pretty suspect to me.","body":"Do you successfully detect the collision? Your criteria look pretty suspect to me."}],"answers":[{"tags":[],"owner":{"account_id":21431007,"reputation":1,"user_id":15787422,"display_name":"platka000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670346720,"creation_date":1670346720,"answer_id":74706545,"question_id":74658024,"body_markdown":"I managed to fix it. \r\nI realized that my Playerx was in the middle of the paddle making everything offset 50.\r\n\r\n```\r\n float X = radius;\r\n    float Y = radius;\r\n```\r\nand\r\n```\r\n\r\n public void run() {\r\n                while (true) {\r\n                    counter++;\r\n                    width = getWidth();\r\n                    height = getHeight();\r\n\r\n                    X = X + dx ;\r\n                    Y = Y + dy;\r\n\r\n                    if (X - radius &lt; 0) {\r\n                        dx = -dx;\r\n                        X = radius;\r\n\r\n                    } else if (X + radius &gt; width) {\r\n                        dx = -dx;\r\n                        X = width - radius;\r\n\r\n                    }\r\n\r\n                    if (Y - radius &lt; 0) {\r\n                        dy = -dy;\r\n                        Y = radius;\r\n\r\n                    }else if (Y + radius &gt; height) {\r\n                        dy = -dy;\r\n                        Y = height - radius;\r\n\r\n                    }if(X &gt; Playerx-50 &amp;&amp; X  &lt; Playerx+50 &amp;&amp; Y+radius  &gt; paddleHeight &amp;&amp; Y &lt; 715){\r\n                        dy = -dy;\r\n                        Y = paddleHeight - radius;\r\n                      \r\n                    }\r\n```\r\n","title":"Ball Collision - Collide with paddle","body":"<p>I managed to fix it.\nI realized that my Playerx was in the middle of the paddle making everything offset 50.</p>\n<pre><code> float X = radius;\n    float Y = radius;\n</code></pre>\n<p>and</p>\n<pre><code>\n public void run() {\n                while (true) {\n                    counter++;\n                    width = getWidth();\n                    height = getHeight();\n\n                    X = X + dx ;\n                    Y = Y + dy;\n\n                    if (X - radius &lt; 0) {\n                        dx = -dx;\n                        X = radius;\n\n                    } else if (X + radius &gt; width) {\n                        dx = -dx;\n                        X = width - radius;\n\n                    }\n\n                    if (Y - radius &lt; 0) {\n                        dy = -dy;\n                        Y = radius;\n\n                    }else if (Y + radius &gt; height) {\n                        dy = -dy;\n                        Y = height - radius;\n\n                    }if(X &gt; Playerx-50 &amp;&amp; X  &lt; Playerx+50 &amp;&amp; Y+radius  &gt; paddleHeight &amp;&amp; Y &lt; 715){\n                        dy = -dy;\n                        Y = paddleHeight - radius;\n                      \n                    }\n</code></pre>\n"}],"owner":{"account_id":21431007,"reputation":1,"user_id":15787422,"display_name":"platka000"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74706545,"answer_count":1,"score":-2,"last_activity_date":1670346720,"creation_date":1669994756,"question_id":74658024,"body_markdown":"I&#39;m trying to make a ball switch it&#39;s Y-Direction when it collides with the restrictions of the paddle. It is most likely a simple answer. Help would be appreciated. Thank you.\r\n\r\nI labeled a couple of things to help.\r\n\r\n\r\n\r\n\r\n```\r\npublic class GamePanel extends JPanel implements MouseMotionListener {\r\nint Playerx;\r\n\r\n    int width;\r\n    int height;\r\n\r\n    // Ball Size\r\n    float radius = 20;\r\n    float diameter = radius * 2;\r\n\r\n    // Center of Call\r\n    float X = radius + 25;\r\n    float Y = radius + 10;\r\n\r\n    // Direction\r\n    float dx = 12;\r\n    float dy = 12;\r\n    GamePanel(){\r\n        setPreferredSize(new Dimension(1440, 900));\r\n        setFocusable(true);\r\n        setBackground(Color.BLACK);\r\n        addMouseMotionListener(this);\r\n\r\n        Thread thread = new Thread() {\r\n            public void run() {\r\n                while (true) {\r\n\r\n                    width = getWidth();\r\n                    height = getHeight();\r\n\r\n                    X = X + dx ;\r\n                    Y = Y + dy;\r\n\r\n                    if (X - radius &lt; 0) {\r\n                        dx = -dx;\r\n                        X = radius;\r\n                    } else if (X + radius &gt; width) {\r\n                        dx = -dx;\r\n                        X = width - radius;\r\n                    }\r\n\r\n                    if (Y - radius &lt; 0) {\r\n                        dy = -dy;\r\n                        Y = radius;\r\n                    }else if (Y + radius &gt; height) {\r\n                        dy = -dy;\r\n                        Y = height - radius;\r\n                    }\r\n                    if(X-radius&gt;=Playerx &amp;&amp; X-radius &lt;- Playerx + 100 &amp;&amp; Y+radius&gt;=800 &amp;&amp; Y+radius&lt;=810){\r\n                        dy = -dy;\r\n                        Y = height - radius;\r\n                    }//Statement Above is the issue area\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    repaint();\r\n\r\n                    try {\r\n                        Thread.sleep(25);\r\n                    } catch (InterruptedException ex) {\r\n                    }\r\n\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        g.setColor(Color.WHITE);\r\n        if(Playerx&lt;=50 &amp;&amp; Playerx&gt;= 0){g.fillOval(10,800,100,10);}\r\n        if(Playerx&gt;50 &amp;&amp; Playerx&lt;1390){g.fillOval(Playerx-50,800,100,10);}\r\n        if(Playerx&gt;=1390 &amp;&amp; Playerx&lt;1440){g.fillOval(1340,800,100,10);}\r\n        g.setColor(Color.BLUE);\r\n        g.fillOval((int)(X-radius), (int)(Y-radius), (int)diameter, (int)diameter);\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseDragged(MouseEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {\r\n        Playerx = e.getX();\r\n\r\n        repaint();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried setting different restrictions and different Y-Directions but it doesn&#39;t seem to work. The Ball goes straight through the paddle as if it&#39;s not there.\r\n","title":"Ball Collision - Collide with paddle","body":"<p>I'm trying to make a ball switch it's Y-Direction when it collides with the restrictions of the paddle. It is most likely a simple answer. Help would be appreciated. Thank you.</p>\n<p>I labeled a couple of things to help.</p>\n<pre><code>public class GamePanel extends JPanel implements MouseMotionListener {\nint Playerx;\n\n    int width;\n    int height;\n\n    // Ball Size\n    float radius = 20;\n    float diameter = radius * 2;\n\n    // Center of Call\n    float X = radius + 25;\n    float Y = radius + 10;\n\n    // Direction\n    float dx = 12;\n    float dy = 12;\n    GamePanel(){\n        setPreferredSize(new Dimension(1440, 900));\n        setFocusable(true);\n        setBackground(Color.BLACK);\n        addMouseMotionListener(this);\n\n        Thread thread = new Thread() {\n            public void run() {\n                while (true) {\n\n                    width = getWidth();\n                    height = getHeight();\n\n                    X = X + dx ;\n                    Y = Y + dy;\n\n                    if (X - radius &lt; 0) {\n                        dx = -dx;\n                        X = radius;\n                    } else if (X + radius &gt; width) {\n                        dx = -dx;\n                        X = width - radius;\n                    }\n\n                    if (Y - radius &lt; 0) {\n                        dy = -dy;\n                        Y = radius;\n                    }else if (Y + radius &gt; height) {\n                        dy = -dy;\n                        Y = height - radius;\n                    }\n                    if(X-radius&gt;=Playerx &amp;&amp; X-radius &lt;- Playerx + 100 &amp;&amp; Y+radius&gt;=800 &amp;&amp; Y+radius&lt;=810){\n                        dy = -dy;\n                        Y = height - radius;\n                    }//Statement Above is the issue area\n\n\n\n\n\n\n                    repaint();\n\n                    try {\n                        Thread.sleep(25);\n                    } catch (InterruptedException ex) {\n                    }\n\n                }\n            }\n        };\n        thread.start();\n    }\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        g.setColor(Color.WHITE);\n        if(Playerx&lt;=50 &amp;&amp; Playerx&gt;= 0){g.fillOval(10,800,100,10);}\n        if(Playerx&gt;50 &amp;&amp; Playerx&lt;1390){g.fillOval(Playerx-50,800,100,10);}\n        if(Playerx&gt;=1390 &amp;&amp; Playerx&lt;1440){g.fillOval(1340,800,100,10);}\n        g.setColor(Color.BLUE);\n        g.fillOval((int)(X-radius), (int)(Y-radius), (int)diameter, (int)diameter);\n\n\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        Playerx = e.getX();\n\n        repaint();\n    }\n}\n</code></pre>\n<p>I've tried setting different restrictions and different Y-Directions but it doesn't seem to work. The Ball goes straight through the paddle as if it's not there.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":141767,"reputation":1752,"user_id":349044,"accept_rate":100,"display_name":"Lasse Samson"},"score":0,"creation_date":1411107439,"post_id":25927450,"comment_id":40587738,"body_markdown":"You can find further comments on the same type of question here: [link](http://stackoverflow.com/questions/2065937/how-to-supply-value-to-an-annotation-from-a-constant-java)","body":"You can find further comments on the same type of question here: <a href=\"http://stackoverflow.com/questions/2065937/how-to-supply-value-to-an-annotation-from-a-constant-java\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":1972020,"reputation":3099,"user_id":1770716,"accept_rate":50,"display_name":"BlackJoker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670346370,"creation_date":1411107269,"answer_id":25927487,"question_id":25927450,"body_markdown":"No,you can not use variable in Annotation,only constant is permitted.\r\n\r\nthe following will work,because here `USERNAME_XPATH` is a constant:\r\n\r\n    final static String USERNAME_XPATH=&quot;//input[@name=&#39;Username&#39;]&quot;;\r\n    @FindBy(how = How.XPATH, using=USERNAME_XPATH)","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>No,you can not use variable in Annotation,only constant is permitted.</p>\n<p>the following will work,because here <code>USERNAME_XPATH</code> is a constant:</p>\n<pre><code>final static String USERNAME_XPATH=&quot;//input[@name='Username']&quot;;\n@FindBy(how = How.XPATH, using=USERNAME_XPATH)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411108132,"creation_date":1411108132,"answer_id":25927666,"question_id":25927450,"body_markdown":"You cannot use a variable as an annotation value because the annotation is already evaluated at compile time.\r\n\r\nTherefore only compile time constants (`static final`) can be used as values in annotations.","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>You cannot use a variable as an annotation value because the annotation is already evaluated at compile time.</p>\n\n<p>Therefore only compile time constants (<code>static final</code>) can be used as values in annotations.</p>\n"},{"tags":[],"owner":{"account_id":5048657,"reputation":301,"user_id":4053876,"display_name":"vargapeti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411108365,"creation_date":1411108365,"answer_id":25927711,"question_id":25927450,"body_markdown":"Annotations are designed for compile-time or deployment-time processing. At this point you do not have any runtime variables. Therefore it is not possible to use variables in association with annotations.","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>Annotations are designed for compile-time or deployment-time processing. At this point you do not have any runtime variables. Therefore it is not possible to use variables in association with annotations.</p>\n"}],"owner":{"account_id":5053227,"reputation":61,"user_id":4057155,"display_name":"Sudhanva Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1670346370,"creation_date":1411107107,"question_id":25927450,"body_markdown":"For Eg  `@FindBy(how = How.XPATH, using=&quot;//input[@name=&#39;Username&#39;]&quot;)`  here I want to replace the value of the string constant  `&quot;//input[@name=&#39;Username&#39;]&quot;` with a string variable , even though I declare the variable as final I am unable to pass the variable as a parameter. I want to write like this\r\n\r\n    final   static String Username_xpath=&quot;//input[@name=&#39;Username&#39;]&quot;;\t\r\n    @FindBy(how = How.XPATH, using=Username_xpath)      ","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>For Eg  <code>@FindBy(how = How.XPATH, using=\"//input[@name='Username']\")</code>  here I want to replace the value of the string constant  <code>\"//input[@name='Username']\"</code> with a string variable , even though I declare the variable as final I am unable to pass the variable as a parameter. I want to write like this</p>\n\n<pre><code>final   static String Username_xpath=\"//input[@name='Username']\";   \n@FindBy(how = How.XPATH, using=Username_xpath)      \n</code></pre>\n"},{"tags":["java","image","file","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670269745,"creation_date":1670230058,"answer_id":74685458,"question_id":74665834,"body_markdown":"Most likely, your images are Exif images (&quot;Exif-in-JPEG&quot;) from a digital camera/phone. For such images, the pixel data is often stored in the &quot;natural&quot; orientation of the sensor, which is always the same (usually landscape). For portrait images, the orientation is only stored in the Exif metadata, and the ImageIO JPEG plugin doesn&#39;t take this orientation into account. \r\n\r\nSome cameras, like my Canon DSLR, has an option to do in-camera rotation to match the orientation, but this feature is typically disabled by default. This is obviously only a possible fix if you control the input images.\r\n\r\nTo fix this in the Java side, you hava some options. You already mentioned using Thumbnailator:\r\n\r\n\r\n```java\r\nBufferedImage srcImage = Thumbnails.of(new FileInputStream(imgFile))\r\n                                    .scale(1)\r\n                                    .asBufferedImage();\r\n```\r\n\r\nAnother option is to use `EXIFUtilities` from TwelveMonkeys (I&#39;m the author of that library):\r\n\r\n\r\n```java\r\nIIOImage image = EXIFUtilities.readWithOrientation(imgFile);\r\nBufferedImage srcImage = (BufferedImage) image.getRenderedImage();\r\n```\r\n\r\nOr, if you don&#39;t need the other metadata for anything:\r\n\r\n\r\n```java\r\nBufferedImage srcImage = (BufferedImage) EXIFUtilities.readWithOrientation(imgFile)\r\n                                                      .getRenderedImage();\r\n```\r\n\r\n","title":"Java Image BufferedImage loosing aspect ratio of upright image","body":"<p>Most likely, your images are Exif images (&quot;Exif-in-JPEG&quot;) from a digital camera/phone. For such images, the pixel data is often stored in the &quot;natural&quot; orientation of the sensor, which is always the same (usually landscape). For portrait images, the orientation is only stored in the Exif metadata, and the ImageIO JPEG plugin doesn't take this orientation into account.</p>\n<p>Some cameras, like my Canon DSLR, has an option to do in-camera rotation to match the orientation, but this feature is typically disabled by default. This is obviously only a possible fix if you control the input images.</p>\n<p>To fix this in the Java side, you hava some options. You already mentioned using Thumbnailator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage srcImage = Thumbnails.of(new FileInputStream(imgFile))\n                                    .scale(1)\n                                    .asBufferedImage();\n</code></pre>\n<p>Another option is to use <code>EXIFUtilities</code> from TwelveMonkeys (I'm the author of that library):</p>\n<pre class=\"lang-java prettyprint-override\"><code>IIOImage image = EXIFUtilities.readWithOrientation(imgFile);\nBufferedImage srcImage = (BufferedImage) image.getRenderedImage();\n</code></pre>\n<p>Or, if you don't need the other metadata for anything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage srcImage = (BufferedImage) EXIFUtilities.readWithOrientation(imgFile)\n                                                      .getRenderedImage();\n</code></pre>\n"}],"owner":{"account_id":26949750,"reputation":39,"user_id":20519169,"display_name":"user20519169"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74685458,"answer_count":1,"score":0,"last_activity_date":1670346225,"creation_date":1670063188,"question_id":74665834,"body_markdown":"I am storing an Image in the filesystem like:\r\n\r\n```java\r\nFileImageOutputStream fos = new FileImageOutputStream(newFile);\r\nint len;\r\nwhile ((len = zis.read(buffer)) &gt; 0) {\r\n      fos.write(buffer, 0, len);\r\n}\r\nfos.close();\r\n```\r\n\r\nAnd all images are stored correctly in the filesystem. (Also with correct aspect ratio with width and height!)\r\n\r\nHowever, later, I am loading my image like:\r\n\r\n```java\r\nFile imgFile ...\r\nFileImageInputStream stream = new FileImageInputStream(imgFile);\r\nBufferedImage srcImage = ImageIO.read(stream);\r\n```\r\n\r\nAnd I want to get the width and height for my images like:\r\n\r\n```java\r\nint actualHeight = srcImage.getHeight();\r\nint actualWidth = srcImage.getWidth();\r\n```\r\n\r\nThis works totally fine for images in landscape format.\r\nHowever, for images in upfront format, the width and height is always swapped, so that the width is the height of the orginial image. So, e.g. I have an image that is 200x500 (width x height) and the two integers above are `actualHeight = 200` and `actualWidth = 500`.\r\n\r\nAm I missing something?\r\n\r\n\r\n\r\n","title":"Java Image BufferedImage loosing aspect ratio of upright image","body":"<p>I am storing an Image in the filesystem like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileImageOutputStream fos = new FileImageOutputStream(newFile);\nint len;\nwhile ((len = zis.read(buffer)) &gt; 0) {\n      fos.write(buffer, 0, len);\n}\nfos.close();\n</code></pre>\n<p>And all images are stored correctly in the filesystem. (Also with correct aspect ratio with width and height!)</p>\n<p>However, later, I am loading my image like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File imgFile ...\nFileImageInputStream stream = new FileImageInputStream(imgFile);\nBufferedImage srcImage = ImageIO.read(stream);\n</code></pre>\n<p>And I want to get the width and height for my images like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int actualHeight = srcImage.getHeight();\nint actualWidth = srcImage.getWidth();\n</code></pre>\n<p>This works totally fine for images in landscape format.\nHowever, for images in upfront format, the width and height is always swapped, so that the width is the height of the orginial image. So, e.g. I have an image that is 200x500 (width x height) and the two integers above are <code>actualHeight = 200</code> and <code>actualWidth = 500</code>.</p>\n<p>Am I missing something?</p>\n"},{"tags":["c#","java","regex","ssis"],"comments":[{"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"score":0,"creation_date":1320108841,"post_id":7961316,"comment_id":9733283,"body_markdown":"What exactly should the output be?","body":"What exactly should the output be?"},{"owner":{"account_id":24591,"reputation":8785,"user_id":62653,"accept_rate":84,"display_name":"andy"},"score":0,"creation_date":1344470366,"post_id":7961316,"comment_id":15799719,"body_markdown":"I can&#39;t believe more people don&#39;t need this information! great question, thanks!","body":"I can&#39;t believe more people don&#39;t need this information! great question, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":55706,"reputation":16284,"user_id":166893,"accept_rate":49,"display_name":"Lilith River"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1320217804,"creation_date":1320110171,"answer_id":7961546,"question_id":7961316,"body_markdown":"You can&#39;t do it using string.split, you need to iterate through all captures of the &#39;column&#39; group (if you&#39;re using C#)\r\n\r\n    This matches a non-quoted, non-bracketed field: [^\\s\\&quot;\\[\\]]+\r\n    This matches a bracketed field: \\[[^\\]\\[]+\\] \r\n    This matches a quoted field: \\&quot;[^\\&quot;]+\\&quot;\r\n\r\nIt&#39;s easiest to leave the quotes and brackets on during matching, then strip them off using Trim(&#39;[&#39;,&#39;\\&#39;,&#39;&quot;&#39;). \r\n\r\n\r\n\r\n    @&quot;^((?&lt;column&gt;[^\\s\\&quot;\\[\\]]+|\\[[^\\]\\[]+\\]|\\&quot;[^\\&quot;]+\\&quot;)\\s+)+$&quot;\r\n\r\n\r\n\r\n","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>You can't do it using string.split, you need to iterate through all captures of the 'column' group (if you're using C#)</p>\n\n<pre><code>This matches a non-quoted, non-bracketed field: [^\\s\\\"\\[\\]]+\nThis matches a bracketed field: \\[[^\\]\\[]+\\] \nThis matches a quoted field: \\\"[^\\\"]+\\\"\n</code></pre>\n\n<p>It's easiest to leave the quotes and brackets on during matching, then strip them off using Trim('[','\\','\"'). </p>\n\n<pre><code>@\"^((?&lt;column&gt;[^\\s\\\"\\[\\]]+|\\[[^\\]\\[]+\\]|\\\"[^\\\"]+\\\")\\s+)+$\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3287954,"reputation":66,"user_id":2766901,"display_name":"Anthony Petty"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384964818,"creation_date":1384964818,"answer_id":20101397,"question_id":7961316,"body_markdown":"Here is a dumb regex I wrote to parse s3 log files in node:\r\n\r\n    /^(.*?)\\s(.*?)\\s(\\[.*?\\])\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\&quot;.*?\\&quot;)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\&quot;.*?\\&quot;)\\s(\\&quot;.*?\\&quot;)\\s(.*?)$/\r\n\r\nAs I said, this is &quot;dumb&quot; - it relies heavily on them not changing the log format, and each field not containing any weird characters.","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>Here is a dumb regex I wrote to parse s3 log files in node:</p>\n\n<pre><code>/^(.*?)\\s(.*?)\\s(\\[.*?\\])\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\\".*?\\\")\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\\".*?\\\")\\s(\\\".*?\\\")\\s(.*?)$/\n</code></pre>\n\n<p>As I said, this is \"dumb\" - it relies heavily on them not changing the log format, and each field not containing any weird characters.</p>\n"},{"tags":[],"owner":{"account_id":6734420,"reputation":1094,"user_id":5189680,"accept_rate":29,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438694015,"creation_date":1438694015,"answer_id":31810341,"question_id":7961316,"body_markdown":"This is a python solution that may help someone. It also removes the quotes and square brackets for you:\r\n\r\n&lt;!-- language: Python --&gt;\r\n\r\n    import re\r\n    log = &#39;79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:00:38 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be A1206F460EXAMPLE REST.GET.BUCKETPOLICY - &quot;GET /mybucket?policy HTTP/1.1&quot; 404 NoSuchBucketPolicy 297 - 38 - &quot;-&quot; &quot;S3Console/0.4&quot; -&#39;\r\n    \r\n    regex = &#39;(?:&quot;([^&quot;]+)&quot;)|(?:\\[([^\\]]+)\\])|([^ ]+)&#39;\r\n    \r\n    # Result is a list of triples, with only one having a value\r\n    # (due to the three group types: &#39;&quot;&quot;&#39; or &#39;[]&#39; or &#39;&#39;)\r\n    result = re.compile(regex).findall(log)\r\n    for a, b, c in result:\r\n        print(a or b or c)\r\n\r\nOutput:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    mybucket\r\n    06/Feb/2014:00:00:38 +0000\r\n    192.0.2.3\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    A1206F460EXAMPLE\r\n    REST.GET.BUCKETPOLICY\r\n    -\r\n    GET /mybucket?policy HTTP/1.1\r\n    404\r\n    NoSuchBucketPolicy\r\n    297\r\n    -\r\n    38\r\n    -\r\n    -\r\n    S3Console/0.4\r\n    -\r\n    jon@jon-laptop:~/Downloads$ python regex.py\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    mybucket\r\n    06/Feb/2014:00:00:38 +0000\r\n    192.0.2.3\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    A1206F460EXAMPLE\r\n    REST.GET.BUCKETPOLICY\r\n    -\r\n    GET /mybucket?policy HTTP/1.1\r\n    404\r\n    NoSuchBucketPolicy\r\n    297\r\n    -\r\n    38\r\n    -\r\n    -\r\n    S3Console/0.4\r\n    -\r\n","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>This is a python solution that may help someone. It also removes the quotes and square brackets for you:</p>\n\n<pre><code>import re\nlog = '79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:00:38 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be A1206F460EXAMPLE REST.GET.BUCKETPOLICY - \"GET /mybucket?policy HTTP/1.1\" 404 NoSuchBucketPolicy 297 - 38 - \"-\" \"S3Console/0.4\" -'\n\nregex = '(?:\"([^\"]+)\")|(?:\\[([^\\]]+)\\])|([^ ]+)'\n\n# Result is a list of triples, with only one having a value\n# (due to the three group types: '\"\"' or '[]' or '')\nresult = re.compile(regex).findall(log)\nfor a, b, c in result:\n    print(a or b or c)\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nmybucket\n06/Feb/2014:00:00:38 +0000\n192.0.2.3\n79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nA1206F460EXAMPLE\nREST.GET.BUCKETPOLICY\n-\nGET /mybucket?policy HTTP/1.1\n404\nNoSuchBucketPolicy\n297\n-\n38\n-\n-\nS3Console/0.4\n-\njon@jon-laptop:~/Downloads$ python regex.py\n79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nmybucket\n06/Feb/2014:00:00:38 +0000\n192.0.2.3\n79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nA1206F460EXAMPLE\nREST.GET.BUCKETPOLICY\n-\nGET /mybucket?policy HTTP/1.1\n404\nNoSuchBucketPolicy\n297\n-\n38\n-\n-\nS3Console/0.4\n-\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36367,"reputation":9748,"user_id":103696,"accept_rate":64,"display_name":"Chad Cache"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443616739,"creation_date":1443616739,"answer_id":32866344,"question_id":7961316,"body_markdown":"I agree with @andy! I can&#39;t believe more people aren&#39;t dealing with S3&#39;s access logs, considering how long they have been around.\r\n\r\n---\r\n\r\nThis is the regexp I used\r\n\r\n    /(?:([a-z0-9]+)|-) (?:([a-z0-9\\.-_]+)|-) (?:\\[([^\\]]+)\\]|-) (?:([0-9\\.]+)|-) (?:([a-z0-9]+)|-) (?:([a-z0-9.-_]+)|-) (?:([a-z\\.]+)|-) (?:([a-z0-9\\.-_\\/]+)|-) (?:&quot;-&quot;|&quot;([^&quot;]+)&quot;|-) (?:(\\d+)|-) (?:([a-z]+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:&quot;-&quot;|&quot;([^&quot;]+)&quot;|-) (?:&quot;-&quot;|&quot;([^&quot;]+)&quot;|-) (?:([a-z0-9]+)|-)/i\r\n\r\nIf you are using node.js you can utilize my module to make this much easier to deal with, or port it to C#, the basic ideas are all there.\r\n\r\nhttps://github.com/icodeforlove/s3-access-log-parser","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I agree with @andy! I can't believe more people aren't dealing with S3's access logs, considering how long they have been around.</p>\n\n<hr>\n\n<p>This is the regexp I used</p>\n\n<pre><code>/(?:([a-z0-9]+)|-) (?:([a-z0-9\\.-_]+)|-) (?:\\[([^\\]]+)\\]|-) (?:([0-9\\.]+)|-) (?:([a-z0-9]+)|-) (?:([a-z0-9.-_]+)|-) (?:([a-z\\.]+)|-) (?:([a-z0-9\\.-_\\/]+)|-) (?:\"-\"|\"([^\"]+)\"|-) (?:(\\d+)|-) (?:([a-z]+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:\"-\"|\"([^\"]+)\"|-) (?:\"-\"|\"([^\"]+)\"|-) (?:([a-z0-9]+)|-)/i\n</code></pre>\n\n<p>If you are using node.js you can utilize my module to make this much easier to deal with, or port it to C#, the basic ideas are all there.</p>\n\n<p><a href=\"https://github.com/icodeforlove/s3-access-log-parser\" rel=\"nofollow\">https://github.com/icodeforlove/s3-access-log-parser</a></p>\n"},{"tags":[],"owner":{"account_id":97675,"reputation":8599,"user_id":264822,"accept_rate":74,"display_name":"parsley72"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483123623,"creation_date":1483123623,"answer_id":41401164,"question_id":7961316,"body_markdown":"I tried using this in C# but found there were some incorrect characters in the answer above and you had to have the regex for the non-quoted, non-bracketed field at the end otherwise it matches everything (using http://regexstorm.net/tester):\r\n[![enter image description here][1]][1]\r\n\r\nThe full regex with the bracketed field first, the quoted field second and the non-quoted, non-bracketed field last:\r\n[![enter image description here][2]][2]\r\n\r\nA simple C# implementation:\r\n\r\n        MatchCollection matches = Regex.Matches(contents, @&quot;(\\[[^\\]\\[]+\\])|(&quot;&quot;[^&quot;&quot;]+&quot;&quot;)|([^\\s&quot;&quot;\\[\\]]+)&quot;);\r\n        for (int i = 0; i &lt; matches.Count; i++)\r\n        {\r\n            Console.WriteLine(i + &quot;: &quot; + matches[i].ToString().Trim(&#39;[&#39;, &#39;]&#39;, &#39;&quot;&#39;));\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w8ukP.png\r\n  [2]: https://i.stack.imgur.com/HZJqC.png","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I tried using this in C# but found there were some incorrect characters in the answer above and you had to have the regex for the non-quoted, non-bracketed field at the end otherwise it matches everything (using <a href=\"http://regexstorm.net/tester\" rel=\"nofollow noreferrer\">http://regexstorm.net/tester</a>):\n<a href=\"https://i.stack.imgur.com/w8ukP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w8ukP.png\" alt=\"enter image description here\"></a></p>\n\n<p>The full regex with the bracketed field first, the quoted field second and the non-quoted, non-bracketed field last:\n<a href=\"https://i.stack.imgur.com/HZJqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HZJqC.png\" alt=\"enter image description here\"></a></p>\n\n<p>A simple C# implementation:</p>\n\n<pre><code>    MatchCollection matches = Regex.Matches(contents, @\"(\\[[^\\]\\[]+\\])|(\"\"[^\"\"]+\"\")|([^\\s\"\"\\[\\]]+)\");\n    for (int i = 0; i &lt; matches.Count; i++)\n    {\n        Console.WriteLine(i + \": \" + matches[i].ToString().Trim('[', ']', '\"'));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2176241,"reputation":450,"user_id":1926877,"display_name":"Khizar Iqbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618655820,"creation_date":1618655820,"answer_id":67137197,"question_id":7961316,"body_markdown":"Here is the regex I copied from [AWS Knowledge Center](https://aws.amazon.com/premiumsupport/knowledge-center/analyze-logs-athena/) and modify it a bit to make it working in ASP.NET Core. \r\n\r\n```cSHARP\r\nnew Regex(&quot;([^ ]*) ([^ ]*) \\\\[(.*?)\\\\] ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) (-|[0-9]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*)&quot;);\r\n```\r\n\r\nIt is working fine for us. And if anyone wants to use c# class to store the access log, below is the code to parse each line of the log file and create `S3ServerAccessLog` object for it.\r\n```\r\nprivate List&lt;S3ServerAccessLog&gt; ParseLogs(string accessLogs)\r\n{\r\n    // split log file per new line since each log will be on a single line.\r\n    var splittedLogs = accessLogs.Split(&quot;\\r\\n&quot;, StringSplitOptions.RemoveEmptyEntries);\r\n    var parsedLogs = new List&lt;S3ServerAccessLog&gt;();\r\n\r\n    foreach (var logLine in splittedLogs)\r\n    {\r\n        var parsedLog = ACCESS_LOG_REGEX.Split(logLine).Where(s =&gt; s.Length &gt; 0).ToList();\r\n                \r\n        // construct \r\n        var logModel = new S3ServerAccessLog\r\n        {\r\n            BucketOwner = parsedLog[0],\r\n            BucketName = parsedLog[1],\r\n            RequestDateTime = DateTimeOffset.ParseExact(parsedLog[2], &quot;dd/MMM/yyyy:HH:mm:ss K&quot;, CultureInfo.InvariantCulture),\r\n            RemoteIP = parsedLog[3],\r\n            Requester = parsedLog[4],\r\n            RequestId = parsedLog[5],\r\n            Operation = parsedLog[6],\r\n            Key = parsedLog[7],\r\n            RequestUri = parsedLog[8].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\r\n            HttpStatus = int.Parse(parsedLog[9]),\r\n            ErrorCode = parsedLog[10],\r\n            BytesSent = parsedLog[11],\r\n            ObjectSize = parsedLog[12],\r\n            TotalTime = parsedLog[13],\r\n            TurnAroundTime = parsedLog[14],\r\n            Referrer = parsedLog[15].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\r\n            UserAgent = parsedLog[16].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\r\n            VersionId = parsedLog[17],\r\n            HostId = parsedLog[18],\r\n            Sigv = parsedLog[19],\r\n            CipherSuite = parsedLog[20],\r\n            AuthType = parsedLog[21],\r\n            EndPoint = parsedLog[22],\r\n            TlsVersion = parsedLog[23]\r\n        };\r\n\r\n        parsedLogs.Add(logModel);\r\n    }\r\n\r\n    return parsedLogs;\r\n}\r\n```","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>Here is the regex I copied from <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/analyze-logs-athena/\" rel=\"nofollow noreferrer\">AWS Knowledge Center</a> and modify it a bit to make it working in ASP.NET Core.</p>\n<pre><code>new Regex(&quot;([^ ]*) ([^ ]*) \\\\[(.*?)\\\\] ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) (-|[0-9]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*)&quot;);\n</code></pre>\n<p>It is working fine for us. And if anyone wants to use c# class to store the access log, below is the code to parse each line of the log file and create <code>S3ServerAccessLog</code> object for it.</p>\n<pre><code>private List&lt;S3ServerAccessLog&gt; ParseLogs(string accessLogs)\n{\n    // split log file per new line since each log will be on a single line.\n    var splittedLogs = accessLogs.Split(&quot;\\r\\n&quot;, StringSplitOptions.RemoveEmptyEntries);\n    var parsedLogs = new List&lt;S3ServerAccessLog&gt;();\n\n    foreach (var logLine in splittedLogs)\n    {\n        var parsedLog = ACCESS_LOG_REGEX.Split(logLine).Where(s =&gt; s.Length &gt; 0).ToList();\n                \n        // construct \n        var logModel = new S3ServerAccessLog\n        {\n            BucketOwner = parsedLog[0],\n            BucketName = parsedLog[1],\n            RequestDateTime = DateTimeOffset.ParseExact(parsedLog[2], &quot;dd/MMM/yyyy:HH:mm:ss K&quot;, CultureInfo.InvariantCulture),\n            RemoteIP = parsedLog[3],\n            Requester = parsedLog[4],\n            RequestId = parsedLog[5],\n            Operation = parsedLog[6],\n            Key = parsedLog[7],\n            RequestUri = parsedLog[8].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\n            HttpStatus = int.Parse(parsedLog[9]),\n            ErrorCode = parsedLog[10],\n            BytesSent = parsedLog[11],\n            ObjectSize = parsedLog[12],\n            TotalTime = parsedLog[13],\n            TurnAroundTime = parsedLog[14],\n            Referrer = parsedLog[15].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\n            UserAgent = parsedLog[16].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\n            VersionId = parsedLog[17],\n            HostId = parsedLog[18],\n            Sigv = parsedLog[19],\n            CipherSuite = parsedLog[20],\n            AuthType = parsedLog[21],\n            EndPoint = parsedLog[22],\n            TlsVersion = parsedLog[23]\n        };\n\n        parsedLogs.Add(logModel);\n    }\n\n    return parsedLogs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":432513,"reputation":355,"user_id":817324,"display_name":"Ashley Kleynhans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670346115,"creation_date":1670344808,"answer_id":74706103,"question_id":7961316,"body_markdown":"I wasn&#39;t able to get any of the posted solutions to parse a log file entry that has a request URI containing double quotes, so this is what I ended up with in Python:\r\n\r\n```python\r\nimport json\r\nimport re\r\nfrom collections import namedtuple\r\n\r\nFILENAME = &#39;/tmp/2022-11/2022-11-01-20-21-34-AB64DC3459FF2F2B&#39;\r\n\r\n# define a named tuple to represent each log entry\r\nLogEntry = namedtuple(\r\n    &#39;LogEntry&#39;,\r\n    [\r\n        &#39;bucket_owner&#39;,\r\n        &#39;bucket&#39;,\r\n        &#39;timestamp&#39;,\r\n        &#39;remote_ip&#39;,\r\n        &#39;requester&#39;,\r\n        &#39;request_id&#39;,\r\n        &#39;operation&#39;,\r\n        &#39;s3_key&#39;,\r\n        &#39;request_uri&#39;,\r\n        &#39;http_version&#39;,\r\n        &#39;status_code&#39;,\r\n        &#39;error_code&#39;,\r\n        &#39;bytes_sent&#39;,\r\n        &#39;object_size&#39;,\r\n        &#39;total_time&#39;,\r\n        &#39;turn_around_time&#39;,\r\n        &#39;referrer&#39;,\r\n        &#39;user_agent&#39;,\r\n        &#39;version_id&#39;,\r\n        &#39;host_id&#39;,\r\n        &#39;sigv&#39;,\r\n        &#39;cipher_suite&#39;,\r\n        &#39;auth_type&#39;,\r\n        &#39;endpoint&#39;,\r\n        &#39;tls_version&#39;,\r\n        &#39;access_point_arn&#39;\r\n    ]\r\n)\r\n\r\n# compile the regular expression for parsing log entries\r\nLOG_ENTRY_PATTERN = re.compile(\r\n    r&#39;(\\S+) (\\S+) \\[(.+)\\] (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(.*) HTTP\\/(\\d\\.\\d)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(\\S+)&quot; &quot;(.*)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+)&#39;\r\n)\r\n\r\n# open the access log file\r\nwith open(FILENAME, &#39;r&#39;) as f:\r\n    # iterate over each line in the file\r\n    for line in f:\r\n        # ignore certain types of operations\r\n        if &#39;BATCH.DELETE.OBJECT&#39; not in line \\\r\n                and &#39;S3.TRANSITION_SIA.OBJECT&#39; not in line \\\r\n                and &#39;REST.COPY.OBJECT_GET&#39; not in line:\r\n            # parse the log entry using the regular expression\r\n            match = LOG_ENTRY_PATTERN.match(line)\r\n\r\n            if match:\r\n                # create a LogEntry named tuple from the parsed log entry\r\n                log_entry = LogEntry(*match.groups())\r\n                log_entry = dict(log_entry._asdict())\r\n\r\n                for key in log_entry:\r\n                    if log_entry[key] == &#39;-&#39;:\r\n                        log_entry[key] = None\r\n\r\n                print(json.dumps(log_entry, indent=4, default=str))\r\n```\r\n\r\nI personally find it cleaner working with a `namedtuple` which I then cast to a `dict` to easily insert into a MySQL database, than working with a list.","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I wasn't able to get any of the posted solutions to parse a log file entry that has a request URI containing double quotes, so this is what I ended up with in Python:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import json\nimport re\nfrom collections import namedtuple\n\nFILENAME = '/tmp/2022-11/2022-11-01-20-21-34-AB64DC3459FF2F2B'\n\n# define a named tuple to represent each log entry\nLogEntry = namedtuple(\n    'LogEntry',\n    [\n        'bucket_owner',\n        'bucket',\n        'timestamp',\n        'remote_ip',\n        'requester',\n        'request_id',\n        'operation',\n        's3_key',\n        'request_uri',\n        'http_version',\n        'status_code',\n        'error_code',\n        'bytes_sent',\n        'object_size',\n        'total_time',\n        'turn_around_time',\n        'referrer',\n        'user_agent',\n        'version_id',\n        'host_id',\n        'sigv',\n        'cipher_suite',\n        'auth_type',\n        'endpoint',\n        'tls_version',\n        'access_point_arn'\n    ]\n)\n\n# compile the regular expression for parsing log entries\nLOG_ENTRY_PATTERN = re.compile(\n    r'(\\S+) (\\S+) \\[(.+)\\] (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(.*) HTTP\\/(\\d\\.\\d)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(\\S+)&quot; &quot;(.*)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+)'\n)\n\n# open the access log file\nwith open(FILENAME, 'r') as f:\n    # iterate over each line in the file\n    for line in f:\n        # ignore certain types of operations\n        if 'BATCH.DELETE.OBJECT' not in line \\\n                and 'S3.TRANSITION_SIA.OBJECT' not in line \\\n                and 'REST.COPY.OBJECT_GET' not in line:\n            # parse the log entry using the regular expression\n            match = LOG_ENTRY_PATTERN.match(line)\n\n            if match:\n                # create a LogEntry named tuple from the parsed log entry\n                log_entry = LogEntry(*match.groups())\n                log_entry = dict(log_entry._asdict())\n\n                for key in log_entry:\n                    if log_entry[key] == '-':\n                        log_entry[key] = None\n\n                print(json.dumps(log_entry, indent=4, default=str))\n</code></pre>\n<p>I personally find it cleaner working with a <code>namedtuple</code> which I then cast to a <code>dict</code> to easily insert into a MySQL database, than working with a list.</p>\n"}],"owner":{"account_id":318556,"reputation":430,"user_id":635855,"display_name":"Ben M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2505,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7961546,"answer_count":7,"score":5,"last_activity_date":1670346115,"creation_date":1320107898,"question_id":7961316,"body_markdown":"I&#39;m setting up an ETL process for my company&#39;s S3 buckets so we can track our usage, and I&#39;ve run into some trouble breaking up the columns of the S3 log file because Amazon uses spaces, double quotes, and square brackets to delimit columns.\r\n\r\nI found this Regex: `[^\\\\s\\&quot;&#39;]+|\\&quot;([^\\&quot;]*)\\&quot;|&#39;([^&#39;]*)&#39;` on this SO post: https://stackoverflow.com/questions/366202/regex-for-splitting-a-string-using-space-when-not-surrounded-by-single-or-double and that&#39;s gotten me pretty close.  I just need help adjusting it to ignore single quotes and also ignore spaces between a &quot;[&quot; and a &quot;]&quot;\r\n\r\nHere&#39;s an example line from one of our files:\r\n\r\n    dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 ourbucket.name.config [31/Oct/2011:17:00:04 +0000] 184.191.213.218 - 013259AC1A20DF37 REST.GET.OBJECT ourbucket.name.config.txt &quot;GET /ourbucket.name.config.txt HTTP/1.1&quot; 200 - 325 325 16 16 &quot;-&quot; &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6&quot; -\r\n\r\nAnd here&#39;s the format definition: http://s3browser.com/amazon-s3-bucket-logging-server-access-logs.php\r\n\r\nAny help would be appreciated!\r\n\r\nEDIT: in response to FaileDev, the output should be any string contained between two square brackets, e.g. [foo bar], two quotes, e.g. &quot;foo bar&quot; or spaces, e.g. foo bar (where both foo and bar would match individually.  I&#39;ve broken each match in the example line I provided into it&#39;s own line in the following block:\r\n\r\n    dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 \r\n    ourbucket.name.config \r\n    [31/Oct/2011:17:00:04 +0000] \r\n    184.191.213.218 \r\n    - \r\n    013259AC1A20DF37 \r\n    REST.GET.OBJECT \r\n    ourbucket.name.config.txt \r\n    &quot;GET /ourbucket.name.config.txt HTTP/1.1&quot; \r\n    200 \r\n    - \r\n    325 \r\n    325 \r\n    16 \r\n    16 \r\n    &quot;-&quot; \r\n    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6&quot; \r\n    -","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I'm setting up an ETL process for my company's S3 buckets so we can track our usage, and I've run into some trouble breaking up the columns of the S3 log file because Amazon uses spaces, double quotes, and square brackets to delimit columns.</p>\n\n<p>I found this Regex: <code>[^\\\\s\\\"']+|\\\"([^\\\"]*)\\\"|'([^']*)'</code> on this SO post: <a href=\"https://stackoverflow.com/questions/366202/regex-for-splitting-a-string-using-space-when-not-surrounded-by-single-or-double\">Regex for splitting a string using space when not surrounded by single or double quotes</a> and that's gotten me pretty close.  I just need help adjusting it to ignore single quotes and also ignore spaces between a \"[\" and a \"]\"</p>\n\n<p>Here's an example line from one of our files:</p>\n\n<pre><code>dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 ourbucket.name.config [31/Oct/2011:17:00:04 +0000] 184.191.213.218 - 013259AC1A20DF37 REST.GET.OBJECT ourbucket.name.config.txt \"GET /ourbucket.name.config.txt HTTP/1.1\" 200 - 325 325 16 16 \"-\" \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6\" -\n</code></pre>\n\n<p>And here's the format definition: <a href=\"http://s3browser.com/amazon-s3-bucket-logging-server-access-logs.php\" rel=\"nofollow noreferrer\">http://s3browser.com/amazon-s3-bucket-logging-server-access-logs.php</a></p>\n\n<p>Any help would be appreciated!</p>\n\n<p>EDIT: in response to FaileDev, the output should be any string contained between two square brackets, e.g. [foo bar], two quotes, e.g. \"foo bar\" or spaces, e.g. foo bar (where both foo and bar would match individually.  I've broken each match in the example line I provided into it's own line in the following block:</p>\n\n<pre><code>dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 \nourbucket.name.config \n[31/Oct/2011:17:00:04 +0000] \n184.191.213.218 \n- \n013259AC1A20DF37 \nREST.GET.OBJECT \nourbucket.name.config.txt \n\"GET /ourbucket.name.config.txt HTTP/1.1\" \n200 \n- \n325 \n325 \n16 \n16 \n\"-\" \n\"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6\" \n-\n</code></pre>\n"},{"tags":["java","angular","spring","server-sent-events"],"comments":[{"owner":{"account_id":223215,"reputation":2052,"user_id":482270,"display_name":"akseli"},"score":0,"creation_date":1670258615,"post_id":74691558,"comment_id":131829509,"body_markdown":"Are you unsubscribing on component destroy?","body":"Are you unsubscribing on component destroy?"},{"owner":{"account_id":2830030,"reputation":95,"user_id":2431787,"display_name":"Giane"},"score":0,"creation_date":1670259803,"post_id":74691558,"comment_id":131829920,"body_markdown":"The problem also occurs when first creating the component without subsequently browsing.\nThe onDestroy would not be called at the point where I am","body":"The problem also occurs when first creating the component without subsequently browsing. The onDestroy would not be called at the point where I am"}],"answers":[{"tags":[],"owner":{"account_id":2830030,"reputation":95,"user_id":2431787,"display_name":"Giane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670345836,"creation_date":1670345836,"answer_id":74706337,"question_id":74691558,"body_markdown":"I found the solution; the problem was due to the backend part.\r\n\r\nSpecifically, to implement the SSE on the backend side, I used l-object Flux, but I created it in the following way.\r\n\r\n```\r\nFlux.fromIterable(messages)\r\n```\r\n\r\nThis makes that when the messages are finished, the socket will be closed; the solution was to modify the Flux as follows, \r\n\r\n```\r\nFlux.interval(Duration.ofSeconds(1))\r\n```\r\n\r\nIn this way, the socket always stays open.","title":"Server sent event on Angular makes multiple call","body":"<p>I found the solution; the problem was due to the backend part.</p>\n<p>Specifically, to implement the SSE on the backend side, I used l-object Flux, but I created it in the following way.</p>\n<pre><code>Flux.fromIterable(messages)\n</code></pre>\n<p>This makes that when the messages are finished, the socket will be closed; the solution was to modify the Flux as follows,</p>\n<pre><code>Flux.interval(Duration.ofSeconds(1))\n</code></pre>\n<p>In this way, the socket always stays open.</p>\n"}],"owner":{"account_id":2830030,"reputation":95,"user_id":2431787,"display_name":"Giane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74706337,"answer_count":1,"score":0,"last_activity_date":1670345836,"creation_date":1670258490,"question_id":74691558,"body_markdown":"I am developing a simple chat system with Angular and Spring Boot using Sent Event Servers.\r\n\r\nI have implemented the client, and it correctly receives events. But when I analysed the browser network console, I noticed a strange behaviour.\r\nI was expecting to find a single call to my endpoint, sse I found multiple calls.\r\n\r\nI will investigate in more detail and add an event on the onopen. I confirmed that multiple calls are being made.\r\n\r\nDoes anyone know if I am doing something wrong or is this normal Angular behaviour?\r\nBelow is the client code and screenshot of the network\r\n\r\n```\r\n  private getMessages(): Observable&lt;any&gt; {\r\n    return new Observable((observer: { next: (arg0: any) =&gt; void; }) =&gt; {\r\n      let ess = new EventSource(&quot;http://localhost:8080/api/messages&quot;);\r\n\r\n      ess.onopen = ev =&gt; {\r\n        console.log(&quot;Connection open&quot;)\r\n      }\r\n\r\n      ess.onmessage = ev =&gt; {\r\n        this.zone.run(() =&gt; {\r\n          observer.next(ev.data)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.sub = this.getMessages().subscribe({\r\n      next: (data: any) =&gt; {\r\n        //console.log(data);\r\n        this.addMessage(data)\r\n      },\r\n      error: err =&gt; console.log(err)\r\n    });\r\n  }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JftmC.png","title":"Server sent event on Angular makes multiple call","body":"<p>I am developing a simple chat system with Angular and Spring Boot using Sent Event Servers.</p>\n<p>I have implemented the client, and it correctly receives events. But when I analysed the browser network console, I noticed a strange behaviour.\nI was expecting to find a single call to my endpoint, sse I found multiple calls.</p>\n<p>I will investigate in more detail and add an event on the onopen. I confirmed that multiple calls are being made.</p>\n<p>Does anyone know if I am doing something wrong or is this normal Angular behaviour?\nBelow is the client code and screenshot of the network</p>\n<pre><code>  private getMessages(): Observable&lt;any&gt; {\n    return new Observable((observer: { next: (arg0: any) =&gt; void; }) =&gt; {\n      let ess = new EventSource(&quot;http://localhost:8080/api/messages&quot;);\n\n      ess.onopen = ev =&gt; {\n        console.log(&quot;Connection open&quot;)\n      }\n\n      ess.onmessage = ev =&gt; {\n        this.zone.run(() =&gt; {\n          observer.next(ev.data)\n        })\n      }\n    })\n  }\n\n  ngOnInit(): void {\n    this.sub = this.getMessages().subscribe({\n      next: (data: any) =&gt; {\n        //console.log(data);\n        this.addMessage(data)\n      },\n      error: err =&gt; console.log(err)\n    });\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JftmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JftmC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","node.js","encryption","node-crypto"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1670346806,"post_id":74706293,"comment_id":131853537,"body_markdown":"The *crypto* module of NodeJS uses PKCS#7 padding by default. If a different padding should be applied, the padding can be disabled with [`setAutoPadding(false)`](https://nodejs.org/api/crypto.html#ciphersetautopaddingautopadding) and a custom padding/unpadding can be implemented (which is not very elaborate). ISO 10126 is described e.g. [here](https://en.wikipedia.org/wiki/Padding_(cryptography)#ISO_10126). Alternatively, another NodeJS library can be used, e.g. [*CryptoJS*](https://cryptojs.gitbook.io/docs/#block-modes-and-padding).","body":"The <i>crypto</i> module of NodeJS uses PKCS#7 padding by default. If a different padding should be applied, the padding can be disabled with <a href=\"https://nodejs.org/api/crypto.html#ciphersetautopaddingautopadding\" rel=\"nofollow noreferrer\"><code>setAutoPadding(false)</code></a> and a custom padding/unpadding can be implemented (which is not very elaborate). ISO 10126 is described e.g. <a href=\"https://en.wikipedia.org/wiki/Padding_(cryptography)#ISO_10126\" rel=\"nofollow noreferrer\">here</a>. Alternatively, another NodeJS library can be used, e.g. <a href=\"https://cryptojs.gitbook.io/docs/#block-modes-and-padding\" rel=\"nofollow noreferrer\"><i>CryptoJS</i></a>."}],"owner":{"account_id":13356224,"reputation":637,"user_id":9639645,"display_name":"Digvijay Rathore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670345606,"creation_date":1670345606,"question_id":74706293,"body_markdown":"While I was going through a piece of code in JAVA for encryption there is padding mechanism we can provide while creating cipher instance.\r\n\r\n&gt;             final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/ISO10126Padding&quot;);\r\n\r\nHere we can specify the padding to be used.\r\n\r\nHow can i achieve the same in Node.js?\r\n\r\nUse Case: I am decrypting the data which i have encrypted via JAVA using this method.\r\n\r\nNote: In Java i can encrypt &amp; decrypt by creating the cipher instance the above provided way and getting success response.\r\nLet me know if any other info required.\r\n","title":"How can I use custom padding in Node js encryption and decryption?","body":"<p>While I was going through a piece of code in JAVA for encryption there is padding mechanism we can provide while creating cipher instance.</p>\n<blockquote>\n<pre><code>        final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/ISO10126Padding&quot;);\n</code></pre>\n</blockquote>\n<p>Here we can specify the padding to be used.</p>\n<p>How can i achieve the same in Node.js?</p>\n<p>Use Case: I am decrypting the data which i have encrypted via JAVA using this method.</p>\n<p>Note: In Java i can encrypt &amp; decrypt by creating the cipher instance the above provided way and getting success response.\nLet me know if any other info required.</p>\n"},{"tags":["python","java","html","css","iphone"],"answers":[{"tags":[],"owner":{"account_id":27167279,"reputation":11,"user_id":20704599,"display_name":"Sagar Duhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670344098,"creation_date":1670344098,"answer_id":74705935,"question_id":74705891,"body_markdown":"The answer is NO.\r\nAs iPhone has its own security terms and protocols. You are not able to open an url or links without showing url symbol.","title":"How yo open a website from iphone shortcut without url bar showing","body":"<p>The answer is NO.\nAs iPhone has its own security terms and protocols. You are not able to open an url or links without showing url symbol.</p>\n"},{"tags":[],"owner":{"account_id":16204131,"reputation":145,"user_id":11699800,"display_name":"Luca F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670344803,"creation_date":1670344803,"answer_id":74706101,"question_id":74705891,"body_markdown":"You can open a website from iPhone shortcut without URL bar showing by using the 3D Touch feature. To do this:\r\n\r\n1. Open the Safari browser on your iPhone.\r\n\r\n2. On the home page of Safari, find the website you want to open and press firmly on the icon for a few seconds until the 3D Touch menu appears.\r\n\r\n3. Tap on the Open in New Tab option from the 3D Touch menu. This will open the website in a new tab without the URL bar being visible.","title":"How yo open a website from iphone shortcut without url bar showing","body":"<p>You can open a website from iPhone shortcut without URL bar showing by using the 3D Touch feature. To do this:</p>\n<ol>\n<li><p>Open the Safari browser on your iPhone.</p>\n</li>\n<li><p>On the home page of Safari, find the website you want to open and press firmly on the icon for a few seconds until the 3D Touch menu appears.</p>\n</li>\n<li><p>Tap on the Open in New Tab option from the 3D Touch menu. This will open the website in a new tab without the URL bar being visible.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":27055101,"reputation":11,"user_id":20607929,"display_name":"Mohmmad Suhaib Wani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670344803,"creation_date":1670343884,"question_id":74705891,"body_markdown":"I don&#39;t have much experience with HTML files, is it possible to edit the file in order to do this?\r\n\r\nI tried to find an option within the browser settings to hide the toolbar but it keeps re appearing when I open the app shortcut.","title":"How yo open a website from iphone shortcut without url bar showing","body":"<p>I don't have much experience with HTML files, is it possible to edit the file in order to do this?</p>\n<p>I tried to find an option within the browser settings to hide the toolbar but it keeps re appearing when I open the app shortcut.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670344486,"post_id":74705916,"comment_id":131852663,"body_markdown":"The Stream.map call in question expects a function that takes one parameter of type Entity and returns a value of type Long. Entity.getId does not take any parameters.","body":"The Stream.map call in question expects a function that takes one parameter of type Entity and returns a value of type Long. Entity.getId does not take any parameters."},{"owner":{"account_id":16863110,"reputation":31,"user_id":12193450,"display_name":"karolkoltundev"},"score":0,"creation_date":1670344824,"post_id":74705916,"comment_id":131852784,"body_markdown":"@ThomasBehr Entity.getId does not take any parameters, but it is a method in class Entity, which makes it a perfect candidate for a method reference.\n\nPlease check https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html -&gt; Kinds of Method References -&gt; Reference to an instance method of a particular object.\n\nIf this was not true, you would not be able to perform eg.: `Stream.of(&quot;abc&quot;).map(String::toUpperCase)`","body":"@ThomasBehr Entity.getId does not take any parameters, but it is a method in class Entity, which makes it a perfect candidate for a method reference.  Please check <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a> -&gt; Kinds of Method References -&gt; Reference to an instance method of a particular object.  If this was not true, you would not be able to perform eg.: <code>Stream.of(&quot;abc&quot;).map(String::toUpperCase)</code>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1670345035,"post_id":74705916,"comment_id":131852869,"body_markdown":"Clearly a javac bug. All those alternate JDKs you named don&#39;t also provide an alternate javac impl, they just use the same one, so they&#39;d trivially fail as well and there is no point filing bugs with them - the right place to file the bug is with javac itself.","body":"Clearly a javac bug. All those alternate JDKs you named don&#39;t also provide an alternate javac impl, they just use the same one, so they&#39;d trivially fail as well and there is no point filing bugs with them - the right place to file the bug is with javac itself."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670435239,"post_id":74705916,"comment_id":131877755,"body_markdown":"A compilation error that goes away when using `-Xdiags:verbose` that rings a bell. See [JDK-8268312](https://bugs.openjdk.org/browse/JDK-8268312), supposed to be fixed in JDK&#160;20. There are also the duplicates [JDK-8295988](https://bugs.openjdk.org/browse/JDK-8295988) and [JDK-8282705](https://bugs.openjdk.org/browse/JDK-8282705)","body":"A compilation error that goes away when using <code>-Xdiags:verbose</code> that rings a bell. See <a href=\"https://bugs.openjdk.org/browse/JDK-8268312\" rel=\"nofollow noreferrer\">JDK-8268312</a>, supposed to be fixed in JDK 20. There are also the duplicates <a href=\"https://bugs.openjdk.org/browse/JDK-8295988\" rel=\"nofollow noreferrer\">JDK-8295988</a> and <a href=\"https://bugs.openjdk.org/browse/JDK-8282705\" rel=\"nofollow noreferrer\">JDK-8282705</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670435631,"post_id":74705916,"comment_id":131877910,"body_markdown":"Found the reason why I remembered the issue: https://stackoverflow.com/q/73704260/2711488  Especially [this comment of mine](https://stackoverflow.com/questions/73704260/method-in-class-string-cannot-be-applied-to-given-types-when-replacing-lambda-wi#comment130170084_73715098) \n Decide yourself whether its a duplicate","body":"Found the reason why I remembered the issue: <a href=\"https://stackoverflow.com/q/73704260/2711488\">stackoverflow.com/q/73704260/2711488</a>  Especially <a href=\"https://stackoverflow.com/questions/73704260/method-in-class-string-cannot-be-applied-to-given-types-when-replacing-lambda-wi#comment130170084_73715098\">this comment of mine</a>   Decide yourself whether its a duplicate"}],"owner":{"account_id":16863110,"reputation":31,"user_id":12193450,"display_name":"karolkoltundev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1670344731,"creation_date":1670344007,"question_id":74705916,"body_markdown":"While coding, I spotted that replacing a lambda with a perfectly fine (IMO) method reference results in a compilation error using openJDK 17.\r\n\r\nInvestigation of the case led me to creating a minimal example of the code, that does not work in compilers that I found on my PC:\r\n```\r\nimport java.util.Optional;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Stream;\r\n\r\nclass ExampleTest {\r\n    public static void main(String[] args) {\r\n        SessionContext sessionContext = new SessionContext();\r\n        Entity foo = new Entity(null, &quot;foo&quot;);\r\n\r\n        Optional&lt;Long&gt; id = sessionContext.get(session -&gt; {\r\n            return Stream.of(foo)\r\n                    .map(entity -&gt; insert(entity, session))\r\n                    .map(Entity::getId)\r\n                    .findAny();\r\n        });\r\n\r\n        System.out.println(id);\r\n    }\r\n\r\n\r\n    static Entity insert(Entity entity, Session session) {\r\n        return session.persist(entity);\r\n    }\r\n}\r\n\r\nclass Session {\r\n    Entity persist(Entity entity) {\r\n        entity.setId(42L);\r\n        return entity;\r\n    }\r\n}\r\n\r\nclass SessionContext {\r\n    Session session = new Session();\r\n\r\n    &lt;T&gt; T get(Function&lt;Session, T&gt; query) {\r\n        return query.apply(session);\r\n    }\r\n}\r\n\r\nclass Entity {\r\n    private Long id;\r\n    private String data;\r\n\r\n    Entity(Long id, String data) {\r\n        this.id = id;\r\n        this.data = data;\r\n    }\r\n\r\n    Long getId() {\r\n        return id;\r\n    }\r\n\r\n    void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nAs far as I checked, the code compiles on openJDK 8. It does not compile on the following JVMs:\r\n* openJDK 17;\r\n* zulu16;\r\n* zulu17;\r\n* oracle 18.\r\n\r\nError displayed by the compilers:\r\n\r\n```\r\nExampleTest.java:13: error: incompatible types: invalid method reference\r\n                    .map(Entity::getId)\r\n                         ^\r\n    method getId in class Entity cannot be applied to given types\r\n      required: no arguments\r\n      found:    Object\r\n      reason: actual and formal argument lists differ in length\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n```\r\n\r\nThere are other quirks too. If you follow the hint in the message above and use `-Xdiags:verbose`... The compilation will automagically pass!\r\n\r\nPlease note that:\r\n* The code example itself might not make much sense, it is just to illustrate the point in the most clear way.\r\n* There can be a lot of refactorings done to the example code, but as far as I checked, they ultimately lead to not getting the compilation error.\r\n\r\nHas anyone observed similar behavior? Does anyone recall if it is an official compilator error? Or maybe I am missing something in the code?\r\n\r\nI expected this code to compile on all JVM as it looks OK.","title":"Perfectly fine method reference does not compile on most JDKs","body":"<p>While coding, I spotted that replacing a lambda with a perfectly fine (IMO) method reference results in a compilation error using openJDK 17.</p>\n<p>Investigation of the case led me to creating a minimal example of the code, that does not work in compilers that I found on my PC:</p>\n<pre><code>import java.util.Optional;\nimport java.util.function.Function;\nimport java.util.stream.Stream;\n\nclass ExampleTest {\n    public static void main(String[] args) {\n        SessionContext sessionContext = new SessionContext();\n        Entity foo = new Entity(null, &quot;foo&quot;);\n\n        Optional&lt;Long&gt; id = sessionContext.get(session -&gt; {\n            return Stream.of(foo)\n                    .map(entity -&gt; insert(entity, session))\n                    .map(Entity::getId)\n                    .findAny();\n        });\n\n        System.out.println(id);\n    }\n\n\n    static Entity insert(Entity entity, Session session) {\n        return session.persist(entity);\n    }\n}\n\nclass Session {\n    Entity persist(Entity entity) {\n        entity.setId(42L);\n        return entity;\n    }\n}\n\nclass SessionContext {\n    Session session = new Session();\n\n    &lt;T&gt; T get(Function&lt;Session, T&gt; query) {\n        return query.apply(session);\n    }\n}\n\nclass Entity {\n    private Long id;\n    private String data;\n\n    Entity(Long id, String data) {\n        this.id = id;\n        this.data = data;\n    }\n\n    Long getId() {\n        return id;\n    }\n\n    void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>As far as I checked, the code compiles on openJDK 8. It does not compile on the following JVMs:</p>\n<ul>\n<li>openJDK 17;</li>\n<li>zulu16;</li>\n<li>zulu17;</li>\n<li>oracle 18.</li>\n</ul>\n<p>Error displayed by the compilers:</p>\n<pre><code>ExampleTest.java:13: error: incompatible types: invalid method reference\n                    .map(Entity::getId)\n                         ^\n    method getId in class Entity cannot be applied to given types\n      required: no arguments\n      found:    Object\n      reason: actual and formal argument lists differ in length\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n</code></pre>\n<p>There are other quirks too. If you follow the hint in the message above and use <code>-Xdiags:verbose</code>... The compilation will automagically pass!</p>\n<p>Please note that:</p>\n<ul>\n<li>The code example itself might not make much sense, it is just to illustrate the point in the most clear way.</li>\n<li>There can be a lot of refactorings done to the example code, but as far as I checked, they ultimately lead to not getting the compilation error.</li>\n</ul>\n<p>Has anyone observed similar behavior? Does anyone recall if it is an official compilator error? Or maybe I am missing something in the code?</p>\n<p>I expected this code to compile on all JVM as it looks OK.</p>\n"},{"tags":["java","maven","cucumber","reporting","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":6390312,"reputation":108,"user_id":4956722,"display_name":"Motivated Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597733871,"creation_date":1597568968,"answer_id":63435073,"question_id":63406635,"body_markdown":"Change your build section in pom.xml to this\r\n\r\n```\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;report&lt;/id&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/cucumber-reports&lt;/outputDirectory&gt;\r\n              &lt;jsonFiles&gt;\r\n                &lt;jsonFile&gt;**/*.json&lt;/jsonFile&gt;\r\n              &lt;/jsonFiles&gt;\r\n              &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\r\n              &lt;mergeFeaturesById&gt;true&lt;/mergeFeaturesById&gt;\r\n              &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\r\n              &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n```","title":"maven-cucumber-reporting plugin is not generating the report - in latest 5.3.0 version","body":"<p>Change your build section in pom.xml to this</p>\n<pre><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.18.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n        &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}/cucumber-reports&lt;/outputDirectory&gt;\n              &lt;jsonFiles&gt;\n                &lt;jsonFile&gt;**/*.json&lt;/jsonFile&gt;\n              &lt;/jsonFiles&gt;\n              &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\n              &lt;mergeFeaturesById&gt;true&lt;/mergeFeaturesById&gt;\n              &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\n              &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n</code></pre>\n"}],"owner":{"account_id":9068999,"reputation":41,"user_id":6752905,"display_name":"zulfikar ayub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670344222,"creation_date":1597379998,"question_id":63406635,"body_markdown":"After copy pasting the code from github for maven cucumber reporting, the report is not generated in the target folder. I&#39;m not sure what went missing. I tried with running with Runner class and MVN console both result did not generate the report in the target folder\r\n\r\n\r\nPOM file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;MavenWeb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Coderio_Demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;name&gt;Coderio_Demo&lt;/name&gt;\r\n\t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n\t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.monochromata.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reporting-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.56&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \r\n\t\t\t\tdefaults (may be moved to parent pom) --&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;5.3.0&lt;/version&gt;\r\n\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, per documentation set this to &quot;true&quot; to bypass generation \r\n\t\t\t\t\t\t\t\t\tof Cucumber Reports entirely, defaults to false if not specified --&gt;\r\n\t\t\t\t\t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- output directory for the generated report --&gt;\r\n\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/customizereports/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, defaults to outputDirectory if not specified --&gt;\r\n\t\t\t\t\t\t\t\t&lt;inputDirectory&gt;target/cucumber-reports/cucumber.json&lt;/inputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;jsonFiles&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- supports wildcard or name pattern --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;param&gt;**/*.json&lt;/param&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jsonFiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, defaults to outputDirectory if not specified --&gt;\r\n\t\t\t\t\t\t\t\t&lt;classificationDirectory&gt;${project.build.directory}/classifications&lt;/classificationDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;classificationFiles&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- supports wildcard or name pattern --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;param&gt;sample.properties&lt;/param&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;param&gt;other.properties&lt;/param&gt;\r\n\t\t\t\t\t\t\t\t&lt;/classificationFiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, set true to group features by its Ids --&gt;\r\n\t\t\t\t\t\t\t\t&lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, set true to get a final report with latest results \r\n\t\t\t\t\t\t\t\t\tof the same test from different test runs --&gt;\r\n\t\t\t\t\t\t\t\t&lt;mergeFeaturesWithRetest&gt;false&lt;/mergeFeaturesWithRetest&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, set true to fail build on test failures --&gt;\r\n\t\t\t\t\t\t\t\t&lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\r\n\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nand this my runnerfile \r\n\r\n```\r\npackage testRunner;\r\n\r\nimport org.junit.runner.RunWith;\r\n\r\n//import cucumber.api.CucumberOptions;\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\n//import cucumber.api.junit.Cucumber;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;src/test/java/Features/&quot;, plugin = { &quot;json:target/cucumber-reports/cucumber.json&quot;,\r\n\t\t&quot;pretty&quot;, &quot;html:target/html-report/cucumber-html-reports.html&quot;,\r\n\t\t&quot;junit:target/cucumber-reports/cucumber.xml&quot; }, glue = {\r\n\t\t\t\t&quot;StepDefination&quot; }, tags = &quot;@LogOut1wwww1&quot;, monochrome = true)\r\npublic class TestRunner {\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI ran through `mvn clean verify`\r\n\r\ntest case got executed, but reports were not generated\r\n\r\n\r\n\r\n\r\n\r\n","title":"maven-cucumber-reporting plugin is not generating the report - in latest 5.3.0 version","body":"<p>After copy pasting the code from github for maven cucumber reporting, the report is not generated in the target folder. I'm not sure what went missing. I tried with running with Runner class and MVN console both result did not generate the report in the target folder</p>\n<p>POM file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;MavenWeb&lt;/groupId&gt;\n    &lt;artifactId&gt;Coderio_Demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;Coderio_Demo&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.monochromata.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;reporting-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.0.56&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \n                defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.18.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                    &lt;version&gt;5.3.0&lt;/version&gt;\n\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;execution&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\n                                &lt;!-- optional, per documentation set this to &quot;true&quot; to bypass generation \n                                    of Cucumber Reports entirely, defaults to false if not specified --&gt;\n                                &lt;skip&gt;false&lt;/skip&gt;\n                                &lt;!-- output directory for the generated report --&gt;\n                                &lt;outputDirectory&gt;target/customizereports/&lt;/outputDirectory&gt;\n                                &lt;!-- optional, defaults to outputDirectory if not specified --&gt;\n                                &lt;inputDirectory&gt;target/cucumber-reports/cucumber.json&lt;/inputDirectory&gt;\n                                &lt;jsonFiles&gt;\n                                    &lt;!-- supports wildcard or name pattern --&gt;\n                                    &lt;param&gt;**/*.json&lt;/param&gt;\n                                &lt;/jsonFiles&gt;\n                                &lt;!-- optional, defaults to outputDirectory if not specified --&gt;\n                                &lt;classificationDirectory&gt;${project.build.directory}/classifications&lt;/classificationDirectory&gt;\n                                &lt;classificationFiles&gt;\n                                    &lt;!-- supports wildcard or name pattern --&gt;\n                                    &lt;param&gt;sample.properties&lt;/param&gt;\n                                    &lt;param&gt;other.properties&lt;/param&gt;\n                                &lt;/classificationFiles&gt;\n                                &lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\n                                &lt;!-- optional, set true to group features by its Ids --&gt;\n                                &lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\n                                &lt;!-- optional, set true to get a final report with latest results \n                                    of the same test from different test runs --&gt;\n                                &lt;mergeFeaturesWithRetest&gt;false&lt;/mergeFeaturesWithRetest&gt;\n                                &lt;!-- optional, set true to fail build on test failures --&gt;\n                                &lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n\n\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and this my runnerfile</p>\n<pre><code>package testRunner;\n\nimport org.junit.runner.RunWith;\n\n//import cucumber.api.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n//import cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/test/java/Features/&quot;, plugin = { &quot;json:target/cucumber-reports/cucumber.json&quot;,\n        &quot;pretty&quot;, &quot;html:target/html-report/cucumber-html-reports.html&quot;,\n        &quot;junit:target/cucumber-reports/cucumber.xml&quot; }, glue = {\n                &quot;StepDefination&quot; }, tags = &quot;@LogOut1wwww1&quot;, monochrome = true)\npublic class TestRunner {\n\n\n}\n\n</code></pre>\n<p>I ran through <code>mvn clean verify</code></p>\n<p>test case got executed, but reports were not generated</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":2,"creation_date":1670342116,"post_id":74705280,"comment_id":131851730,"body_markdown":"Your database for test, have a look at the end of the log.","body":"Your database for test, have a look at the end of the log."},{"owner":{"account_id":3303451,"reputation":515,"user_id":2778987,"accept_rate":25,"display_name":"user7"},"score":0,"creation_date":1680064821,"post_id":74705280,"comment_id":133831592,"body_markdown":"@Bernardo Alves Hi, I am facing a similar one ? Can you please share what worked for you ?","body":"@Bernardo Alves Hi, I am facing a similar one ? Can you please share what worked for you ?"}],"answers":[{"tags":[],"owner":{"account_id":10422284,"reputation":1207,"user_id":7684613,"display_name":"Carlos Nantes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670342262,"creation_date":1670342262,"answer_id":74705486,"question_id":74705280,"body_markdown":"Duplicate: https://stackoverflow.com/questions/28042426/spring-boot-error-creating-bean-with-name-datasource-defined-in-class-path-r\r\n\r\nSpring boot is trying to load an inject dependencies in this spring class when you run your tests: \r\n\r\norg/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class\r\n\r\nEither you provide all necessary configuration for this class in application-test.properties (or application-test.yml, if it&#39;s your case) or you disable this class from loading like mentioned in the link above.\r\n\r\n","title":"Spring Boot Test &quot;Failed to load ApplicationContext&quot;","body":"<p>Duplicate: <a href=\"https://stackoverflow.com/questions/28042426/spring-boot-error-creating-bean-with-name-datasource-defined-in-class-path-r\">Spring Boot - Error creating bean with name &#39;dataSource&#39; defined in class path resource</a></p>\n<p>Spring boot is trying to load an inject dependencies in this spring class when you run your tests:</p>\n<p>org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class</p>\n<p>Either you provide all necessary configuration for this class in application-test.properties (or application-test.yml, if it's your case) or you disable this class from loading like mentioned in the link above.</p>\n"},{"tags":[],"owner":{"account_id":27166642,"reputation":34,"user_id":20704061,"display_name":"Mavlyan Sadirov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670344153,"creation_date":1670344153,"answer_id":74705951,"question_id":74705280,"body_markdown":"You shouldn&#39;t to use request body annotation in service, we use it in controller.","title":"Spring Boot Test &quot;Failed to load ApplicationContext&quot;","body":"<p>You shouldn't to use request body annotation in service, we use it in controller.</p>\n"}],"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74705951,"answer_count":2,"score":2,"last_activity_date":1670344153,"creation_date":1670341346,"question_id":74705280,"body_markdown":"I am getting an error while testing my rest application but can&#39;t understand why.My error output:\r\n\r\n&gt; ava.lang.IllegalStateException: Failed to load ApplicationContext  at\r\n&gt; org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n&gt; at\r\n&gt; org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n&gt; at\r\n&gt; org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n&gt; at\r\n&gt; org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n&gt; at\r\n&gt; org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n&gt; at\r\n&gt; org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n&gt; at\r\n&gt; org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n&gt; at\r\n&gt; java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n&gt; at\r\n&gt; java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n&gt; at\r\n&gt; java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n&gt; at\r\n&gt; java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n&gt; at\r\n&gt; java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n&gt; at\r\n&gt; java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n&gt; at\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n&gt; at\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n&gt; at\r\n&gt; java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n&gt; at java.base/java.util.Optional.orElseGet(Optional.java:364)  at\r\n&gt; java.base/java.util.ArrayList.forEach(ArrayList.java:1511)  at\r\n&gt; java.base/java.util.ArrayList.forEach(ArrayList.java:1511) Caused by:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;\r\n&gt; defined in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method\r\n&gt; &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;dataSource&#39;: Invocation of init method\r\n&gt; failed; nested exception is java.lang.IllegalStateException: Failed to\r\n&gt; replace DataSource with an embedded database for tests. If you want an\r\n&gt; embedded database please put a supported one on the classpath or tune\r\n&gt; the replace attribute of @AutoConfigureTestDatabase.\r\n\r\n\r\nWhile I try to do this test:\r\n\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class SaveServiceTest {\r\n\r\n    @Autowired\r\n    private MedsRepo medsRepo;\r\n\r\n    @Test\r\n    void testSaveMeds() {\r\n        Meds meds = new Meds(50, &quot;test med&quot;, &quot;5,00$&quot;, &quot;Flu&quot;, 500, &quot;test date&quot;);\r\n        Meds savedMed = medsRepo.save(meds);\r\n        assertThat(savedMed).usingRecursiveComparison().ignoringFields(&quot;id&quot;).isEqualTo(&quot;meds&quot;);\r\n\r\n    }\r\n    }\r\n\r\nMy saveMeds() :\r\n\r\n    @Service\r\n    public class SaveService {\r\n\r\n    @Autowired\r\n    private MedsRepo medsRepo;\r\n\r\n    public String saveMeds(@RequestBody Meds meds) {\r\n\r\n        medsRepo.save(meds);\r\n\r\n        return &quot;Saved Successfully&quot;;\r\n\r\n     }\r\n     }\r\n\r\nMy repository:\r\n\r\n     public interface MedsRepo extends JpaRepository&lt;Meds,Long&gt; {\r\n    \r\n     }\r\n\r\nand Meds :\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Meds {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY )\r\n    private long id;//no need for long instead of int\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @Column\r\n    private String price; //ask if not used in operations\r\n\r\n    @Column\r\n    private String category;\r\n\r\n    @Column\r\n    private int pillNumber; \r\n    \r\n    @Column\r\n    private String date;\r\n\r\n    }&#180;&#180;&#180;\r\n\r\nThe error stops the test in the line:\r\n\r\n  ```  void testSaveMeds() {&#180;&#180;&#180;\r\n\r\n \r\nI do not understand the problem. I call the SaveService in a controller:\r\n\r\n   ``` @RestController\r\n    public class Controller {\r\n\r\n    @Autowired\r\n    private MedsRepo medsRepo;\r\n\r\n    @Autowired\r\n    private SaveService saveService;\r\n\r\n    @Autowired\r\n    private UpdateService updateService;\r\n\r\n    @Autowired \r\n    DeleteService deleteService;\r\n        \r\n\r\n    @GetMapping(&quot;/medicines&quot;)\r\n    public List&lt;Meds&gt; getMedicine(){\r\n\r\n        return medsRepo.findAll();\r\n\r\n    }\r\n\r\n    @PostMapping(value = &quot;/save&quot;)\r\n    public String saveMeds(@RequestBody Meds meds){\r\n\r\n        return saveService.saveMeds(meds);\r\n    }\r\n\r\n    @PutMapping(value = &quot;/update/{id}&quot;)\r\n    public String updateMeds(@PathVariable long id, @RequestBody Meds meds){\r\n        \r\n\r\n        return updateService.updateMeds(id, meds);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete/{id}&quot;)\r\n    public String deleteMeds(@PathVariable long id){\r\n        \r\n        return deleteService.deleteMeds(id);\r\n    }\r\n    \r\n    }&#180;&#180;&#180;","title":"Spring Boot Test &quot;Failed to load ApplicationContext&quot;","body":"<p>I am getting an error while testing my rest application but can't understand why.My error output:</p>\n<blockquote>\n<p>ava.lang.IllegalStateException: Failed to load ApplicationContext  at\norg.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\nat\norg.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\nat\norg.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\nat\norg.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\nat\norg.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\nat\norg.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\nat\norg.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\nat\njava.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat\njava.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\nat\njava.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat\njava.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat\njava.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat\njava.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\nat\njava.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat\njava.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat\njava.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)  at\njava.base/java.util.ArrayList.forEach(ArrayList.java:1511)  at\njava.base/java.util.ArrayList.forEach(ArrayList.java:1511) Caused by:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'dataSourceScriptDatabaseInitializer'\ndefined in class path resource\n[org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\nUnsatisfied dependency expressed through method\n'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'dataSource': Invocation of init method\nfailed; nested exception is java.lang.IllegalStateException: Failed to\nreplace DataSource with an embedded database for tests. If you want an\nembedded database please put a supported one on the classpath or tune\nthe replace attribute of @AutoConfigureTestDatabase.</p>\n</blockquote>\n<p>While I try to do this test:</p>\n<pre><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\npublic class SaveServiceTest {\n\n@Autowired\nprivate MedsRepo medsRepo;\n\n@Test\nvoid testSaveMeds() {\n    Meds meds = new Meds(50, &quot;test med&quot;, &quot;5,00$&quot;, &quot;Flu&quot;, 500, &quot;test date&quot;);\n    Meds savedMed = medsRepo.save(meds);\n    assertThat(savedMed).usingRecursiveComparison().ignoringFields(&quot;id&quot;).isEqualTo(&quot;meds&quot;);\n\n}\n}\n</code></pre>\n<p>My saveMeds() :</p>\n<pre><code>@Service\npublic class SaveService {\n\n@Autowired\nprivate MedsRepo medsRepo;\n\npublic String saveMeds(@RequestBody Meds meds) {\n\n    medsRepo.save(meds);\n\n    return &quot;Saved Successfully&quot;;\n\n }\n }\n</code></pre>\n<p>My repository:</p>\n<pre><code> public interface MedsRepo extends JpaRepository&lt;Meds,Long&gt; {\n\n }\n</code></pre>\n<p>and Meds :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Meds {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY )\nprivate long id;//no need for long instead of int\n\n@Column\nprivate String name;\n\n@Column\nprivate String price; //ask if not used in operations\n\n@Column\nprivate String category;\n\n@Column\nprivate int pillNumber; \n\n@Column\nprivate String date;\n\n}\n</code></pre>\n<p>The error stops the test in the line:</p>\n<pre><code>\n\nI do not understand the problem. I call the SaveService in a controller:\n\n ``` @RestController\n  public class Controller {\n\n  @Autowired\n  private MedsRepo medsRepo;\n\n  @Autowired\n  private SaveService saveService;\n\n  @Autowired\n  private UpdateService updateService;\n\n  @Autowired \n  DeleteService deleteService;\n      \n\n  @GetMapping(&quot;/medicines&quot;)\n  public List&lt;Meds&gt; getMedicine(){\n\n      return medsRepo.findAll();\n\n  }\n\n  @PostMapping(value = &quot;/save&quot;)\n  public String saveMeds(@RequestBody Meds meds){\n\n      return saveService.saveMeds(meds);\n  }\n\n  @PutMapping(value = &quot;/update/{id}&quot;)\n  public String updateMeds(@PathVariable long id, @RequestBody Meds meds){\n      \n\n      return updateService.updateMeds(id, meds);\n  }\n\n  @DeleteMapping(&quot;/delete/{id}&quot;)\n  public String deleteMeds(@PathVariable long id){\n      \n      return deleteService.deleteMeds(id);\n  }\n  \n  }\n</code></pre>\n"},{"tags":["java","sql","spring-data-jpa","spring-data","jpql"],"answers":[{"tags":[],"owner":{"account_id":10270278,"reputation":19,"user_id":7578885,"display_name":"Skywalker"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632908760,"creation_date":1632908760,"answer_id":69374002,"question_id":69373529,"body_markdown":"You can do that like this:\r\n\r\n    @Modifying\r\n    @Query(&quot;update account m set m.amount =m.amount + ?2 where m.id=?1&quot;)\r\n    void updateAcco(Long id, Long someValue);\r\n\r\n","title":"Spring Data JPA &quot;ON DUPLICATE KEY UPDATE amount = account.amount + someValue&quot;","body":"<p>You can do that like this:</p>\n<pre><code>@Modifying\n@Query(&quot;update account m set m.amount =m.amount + ?2 where m.id=?1&quot;)\nvoid updateAcco(Long id, Long someValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670344153,"creation_date":1632909049,"answer_id":69374071,"question_id":69373529,"body_markdown":"Definitely not sure that will work but you can try two things : \r\n\r\n    @Repository\r\n    public interface AccountRepo extends JpaRepository&lt;Account, Long&gt; {\r\n      // First try\r\n      @Query(native = &quot;INSERT INTO account (id, amount) VALUES (:id, :someValue) ON DUPLICATE KEY UPDATE amount = account.amount + :someValue&quot;)\r\n      Long addAmount(@Param(&quot;id&quot;) Long id, @Param(&quot;someValue&quot;) Long amount);\r\n    \r\n      // Second try\r\n      default Account addAmount(Long id, Long amount) {\r\n        findById(id).map(a -&gt; {a.amount += amount; return a;}).ifPresentOrElse(a -&gt; save(a), () -&gt; {return save(new Account(amount));})\r\n      }\r\n    \r\n    }","title":"Spring Data JPA &quot;ON DUPLICATE KEY UPDATE amount = account.amount + someValue&quot;","body":"<p>Definitely not sure that will work but you can try two things :</p>\n<pre><code>@Repository\npublic interface AccountRepo extends JpaRepository&lt;Account, Long&gt; {\n  // First try\n  @Query(native = &quot;INSERT INTO account (id, amount) VALUES (:id, :someValue) ON DUPLICATE KEY UPDATE amount = account.amount + :someValue&quot;)\n  Long addAmount(@Param(&quot;id&quot;) Long id, @Param(&quot;someValue&quot;) Long amount);\n\n  // Second try\n  default Account addAmount(Long id, Long amount) {\n    findById(id).map(a -&gt; {a.amount += amount; return a;}).ifPresentOrElse(a -&gt; save(a), () -&gt; {return save(new Account(amount));})\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5223,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1670344153,"creation_date":1632906716,"question_id":69373529,"body_markdown":"Let&#39;s say I have next entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;account&quot;)\r\n    public class Account {\r\n\r\n    @Id\r\n    private long id;\r\n\r\n    private long amount;\r\n\r\n    }\r\nI want to add some value to existing one and update it in DB \r\nor if this account is not existing yet I want to create new one.\r\n\r\nBasic approach with Spring Data JPA is:\r\n\r\n     var account = dataJpaRepository.findById(id);\r\n     if (account==null) {account = new Account(id,someValue}\r\n     else {account.set(account.getAmount() + someValue);}\r\n     dataJpaRepository.save(account);\r\n\r\nIn this case two request to DB are done, but with native query I can do it just by sending one request like: \r\n\r\n    &quot;INSERT INTO account (id, amount) VALUES (:id, someValue) ON DUPLICATE KEY UPDATE \r\n    amount = account.amount + someValue&quot;\r\n\r\nIs that possible to do the same thing by the means of Spring Data JPA/JPQL and reduce amount of requests ?","title":"Spring Data JPA &quot;ON DUPLICATE KEY UPDATE amount = account.amount + someValue&quot;","body":"<p>Let's say I have next entity</p>\n<pre><code>@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n@Id\nprivate long id;\n\nprivate long amount;\n\n}\n</code></pre>\n<p>I want to add some value to existing one and update it in DB\nor if this account is not existing yet I want to create new one.</p>\n<p>Basic approach with Spring Data JPA is:</p>\n<pre><code> var account = dataJpaRepository.findById(id);\n if (account==null) {account = new Account(id,someValue}\n else {account.set(account.getAmount() + someValue);}\n dataJpaRepository.save(account);\n</code></pre>\n<p>In this case two request to DB are done, but with native query I can do it just by sending one request like:</p>\n<pre><code>&quot;INSERT INTO account (id, amount) VALUES (:id, someValue) ON DUPLICATE KEY UPDATE \namount = account.amount + someValue&quot;\n</code></pre>\n<p>Is that possible to do the same thing by the means of Spring Data JPA/JPQL and reduce amount of requests ?</p>\n"},{"tags":["java","selenium","xpath","automation","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666854298,"creation_date":1666854298,"answer_id":74218007,"question_id":74217909,"body_markdown":"When I open the link you shared I see somewhat different UI, the placeholder is different there, however I think the following locators should work for both cases:\r\n```java\r\nprivate static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@name=&#39;username&#39;]&quot;);\r\nprivate static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@name=&#39;password&#39;]&quot;);\r\nprivate static final By LOGIN_BUTTON = By.xpath(&quot;//button&quot;);\r\n```","title":"Xpath does not capture the element even with the WebDriverWait","body":"<p>When I open the link you shared I see somewhat different UI, the placeholder is different there, however I think the following locators should work for both cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@name='username']&quot;);\nprivate static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@name='password']&quot;);\nprivate static final By LOGIN_BUTTON = By.xpath(&quot;//button&quot;);\n</code></pre>\n"}],"owner":{"account_id":3177881,"reputation":1649,"user_id":2685304,"accept_rate":68,"display_name":"Nomesh DeSilva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670344113,"creation_date":1666853825,"question_id":74217909,"body_markdown":"I am new to Selenium Testing and trying to locate the below input element using Xpath:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is the username input element of the *https://opensource-demo.orangehrmlive.com/web/index.php/auth/login* website.\r\n\r\nMy code is:\r\n\r\n    private static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@placeholder=&#39;auth.username&#39;]&quot;);\r\n    private static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@placeholder=&#39;auth.password&#39;]&quot;);\r\n    private static final By LOGIN_BUTTON = By.xpath(&quot;//button[starts-with(@button, &#39;orangehrm-login-button&#39;)]&quot;);\r\n    \r\n    private  LoginPage setUserNameTextBox(String userName) {\r\n        PageActionsHelper.waitAndSendKeys(USER_NAME_TEXT_BOX,userName);\r\n        return this;\r\n    }\r\n\r\n\r\nand the PageActionsHelper.waitAndSendKeys() is as follows:\r\n\r\n   \r\n\r\n     public static void waitAndSendKeys(By by, String value) {\r\n            WebDriverWait wait = new WebDriverWait(getDriver(), 60);\r\n            WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(by));\r\n    \r\n            //trigger the reaload of the page\r\n            getDriver().findElement(by).sendKeys(value);\r\n            // wait the element &quot;Add Item&quot; to become stale\r\n            wait.until(ExpectedConditions.stalenessOf(element));\r\n            // click on &quot;Add Item&quot; once the page is reloaded\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(by)).sendKeys(value);\r\n            //getDriver().findElement(by).sendKeys(value);\r\n        }\r\n\r\nI also checked below:\r\n\r\n  \r\n\r\n 1. Cannot find any **iframe** wrapped this element.  \r\n 2. When I execute\r\n     `$x(&quot;//input[@name=&#39;username&#39;]&quot;)` or\r\n    `$x(&quot;//input[@placeholder=&#39;auth.username&#39;]&quot;)` in the web console, it\r\n    locates correctly!   \r\n 3. WebDriverWait does the waiting but empty\r\n    browser is loaded and just timeout with the below exception:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cZ70E.png\r\n  [2]: https://i.stack.imgur.com/nNU8F.png\r\n\r\n\r\nI was using Safari browser and the screenshot was taken from it.\r\nWhen I use Chrome developer option, labels are totally different. (Bit strange)","title":"Xpath does not capture the element even with the WebDriverWait","body":"<p>I am new to Selenium Testing and trying to locate the below input element using Xpath:</p>\n<p><a href=\"https://i.stack.imgur.com/cZ70E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZ70E.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the username input element of the <em><a href=\"https://opensource-demo.orangehrmlive.com/web/index.php/auth/login\" rel=\"nofollow noreferrer\">https://opensource-demo.orangehrmlive.com/web/index.php/auth/login</a></em> website.</p>\n<p>My code is:</p>\n<pre><code>private static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@placeholder='auth.username']&quot;);\nprivate static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@placeholder='auth.password']&quot;);\nprivate static final By LOGIN_BUTTON = By.xpath(&quot;//button[starts-with(@button, 'orangehrm-login-button')]&quot;);\n\nprivate  LoginPage setUserNameTextBox(String userName) {\n    PageActionsHelper.waitAndSendKeys(USER_NAME_TEXT_BOX,userName);\n    return this;\n}\n</code></pre>\n<p>and the PageActionsHelper.waitAndSendKeys() is as follows:</p>\n<pre><code> public static void waitAndSendKeys(By by, String value) {\n        WebDriverWait wait = new WebDriverWait(getDriver(), 60);\n        WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(by));\n\n        //trigger the reaload of the page\n        getDriver().findElement(by).sendKeys(value);\n        // wait the element &quot;Add Item&quot; to become stale\n        wait.until(ExpectedConditions.stalenessOf(element));\n        // click on &quot;Add Item&quot; once the page is reloaded\n        wait.until(ExpectedConditions.presenceOfElementLocated(by)).sendKeys(value);\n        //getDriver().findElement(by).sendKeys(value);\n    }\n</code></pre>\n<p>I also checked below:</p>\n<ol>\n<li>Cannot find any <strong>iframe</strong> wrapped this element.</li>\n<li>When I execute\n<code>$x(&quot;//input[@name='username']&quot;)</code> or\n<code>$x(&quot;//input[@placeholder='auth.username']&quot;)</code> in the web console, it\nlocates correctly!</li>\n<li>WebDriverWait does the waiting but empty\nbrowser is loaded and just timeout with the below exception:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nNU8F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNU8F.png\" alt=\"enter image description here\" /></a></p>\n<p>I was using Safari browser and the screenshot was taken from it.\nWhen I use Chrome developer option, labels are totally different. (Bit strange)</p>\n"},{"tags":["java","selenium","xpath","webdriver","webdriverwait"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1670390640,"post_id":74705473,"comment_id":131863240,"body_markdown":"Can you at least post that specific page&#39;s full HTML source?","body":"Can you at least post that specific page&#39;s full HTML source?"}],"answers":[{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670343411,"creation_date":1670343411,"answer_id":74705774,"question_id":74705473,"body_markdown":"Try with following xpath options\r\n\r\n    WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \r\n    WebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Filters&#39;]&quot;)));\r\n    elementProd44.click();\r\n\r\n\r\nIf you get the same issue, then use the JavascriptExecutor to click\r\n\r\n    WebElement button = driver.findElement(By.xpath(&quot;//button[text()=&#39;Filters&#39;]&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, button);","title":"element click intercepted error in Selenium / Java - collapsible button","body":"<p>Try with following xpath options</p>\n<pre><code>WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \nWebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Filters']&quot;)));\nelementProd44.click();\n</code></pre>\n<p>If you get the same issue, then use the JavascriptExecutor to click</p>\n<pre><code>WebElement button = driver.findElement(By.xpath(&quot;//button[text()='Filters']&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, button);\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1670343936,"creation_date":1670342221,"question_id":74705473,"body_markdown":"I got this error message while trying to click on a specific collapsible button. \r\n\r\n&gt; element click intercepted: Element &lt;button class=&quot;action-default&quot;\r\n&gt; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active:\r\n&gt; hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable:\r\n&gt; !hasVisible(), toggleCollapsible, i18n: &#39;...&#39;&quot;&gt;Filters&lt;/button&gt; is not\r\n&gt; clickable at point (522, 265). Other element would receive the click:\r\n&gt; &lt;div data-role=&quot;spinner&quot;\r\n&gt; data-component=&quot;company_listing.company_listing.company_columns&quot;\r\n&gt; class=&quot;admin__data-grid-loading-mask&quot;&gt;...&lt;/div&gt;\r\n\r\nThis button has this:\r\n\r\n    &lt;button class=&quot;action-default _active&quot; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active: hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable: !hasVisible(), toggleCollapsible, i18n: &#39;Filters&#39;&quot;&gt;Filters&lt;/button&gt;\r\n\r\nIt&#39;s XPATH:\r\n\r\n    //*[@id=&quot;container&quot;]/div/div[2]/div[1]/div[3]/div/button\r\n\r\n\r\nI did this:\r\n\r\n    WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \r\n    WebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[1]/div[3]/div/button&quot;)));\r\n    elementProd44.click();\r\n\r\n\r\nWhat am i doing wrong?\r\n\r\nNote: i cannot share the URL because it is hidden.\r\n\r\n","title":"element click intercepted error in Selenium / Java - collapsible button","body":"<p>I got this error message while trying to click on a specific collapsible button.</p>\n<blockquote>\n<p>element click intercepted: Element Filters is not\nclickable at point (522, 265). Other element would receive the click:</p>\n...\n</blockquote>\n<p>This button has this:</p>\n<pre><code>&lt;button class=&quot;action-default _active&quot; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active: hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable: !hasVisible(), toggleCollapsible, i18n: 'Filters'&quot;&gt;Filters&lt;/button&gt;\n</code></pre>\n<p>It's XPATH:</p>\n<pre><code>//*[@id=&quot;container&quot;]/div/div[2]/div[1]/div[3]/div/button\n</code></pre>\n<p>I did this:</p>\n<pre><code>WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \nWebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[1]/div[3]/div/button&quot;)));\nelementProd44.click();\n</code></pre>\n<p>What am i doing wrong?</p>\n<p>Note: i cannot share the URL because it is hidden.</p>\n"},{"tags":["java","json","jsonpath","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630522262,"creation_date":1630521705,"answer_id":69019087,"question_id":69018871,"body_markdown":"Your assumption is incorrect. You can use operators inside of the JSONPath filters. You might be running into issues because the value being checked on `amnt` is a string. The following should work.\r\n\r\n```\r\n...\r\n{\r\n  &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; 20000)]&quot;\r\n}\r\n...\r\n```\r\n\r\nThis of course, requires that the value being passed in the body is a number type and not a string itself.\r\n```\r\n{ \r\n  &quot;amnt&quot;: 20000 // correct format\r\n  &quot;amnt&quot;: &quot;20000&quot; // incorrect format\r\n}\r\n```\r\n\r\nIf your `amnt` value is a string, you may have to [write a custom matcher](http://wiremock.org/docs/extending-wiremock/#custom-request-matchers) that can parse the body and convert the string value into a number (or the java data type equivalent)","title":"Matching JSON request body based on JSON Path with logical operators in WireMock","body":"<p>Your assumption is incorrect. You can use operators inside of the JSONPath filters. You might be running into issues because the value being checked on <code>amnt</code> is a string. The following should work.</p>\n<pre><code>...\n{\n  &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; 20000)]&quot;\n}\n...\n</code></pre>\n<p>This of course, requires that the value being passed in the body is a number type and not a string itself.</p>\n<pre><code>{ \n  &quot;amnt&quot;: 20000 // correct format\n  &quot;amnt&quot;: &quot;20000&quot; // incorrect format\n}\n</code></pre>\n<p>If your <code>amnt</code> value is a string, you may have to <a href=\"http://wiremock.org/docs/extending-wiremock/#custom-request-matchers\" rel=\"nofollow noreferrer\">write a custom matcher</a> that can parse the body and convert the string value into a number (or the java data type equivalent)</p>\n"}],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69019087,"answer_count":1,"score":1,"last_activity_date":1670343905,"creation_date":1630520598,"question_id":69018871,"body_markdown":"In WireMock I am trying to match the request based on the JSON body with path matchers as shown below. But it seems that the logical operators are not supported inside `matchesJsonPath` expression. \r\n\r\nIs this understanding correct? What could be a possible alternative solution?\r\n```\r\n...\r\n&quot;request&quot;: {\r\n        &quot;url&quot;: &quot;/mock/score&quot;,\r\n        &quot;method&quot;: &quot;PUT&quot;,\r\n        &quot;bodyPatterns&quot;: [\r\n          {\r\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.code == &#39;123&#39;)]&quot;\r\n          },\r\n          {\r\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; &#39;200000&#39;)]&quot;\r\n          }\r\n        ]\r\n      }\r\n...\r\n```","title":"Matching JSON request body based on JSON Path with logical operators in WireMock","body":"<p>In WireMock I am trying to match the request based on the JSON body with path matchers as shown below. But it seems that the logical operators are not supported inside <code>matchesJsonPath</code> expression.</p>\n<p>Is this understanding correct? What could be a possible alternative solution?</p>\n<pre><code>...\n&quot;request&quot;: {\n        &quot;url&quot;: &quot;/mock/score&quot;,\n        &quot;method&quot;: &quot;PUT&quot;,\n        &quot;bodyPatterns&quot;: [\n          {\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.code == '123')]&quot;\n          },\n          {\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; '200000')]&quot;\n          }\n        ]\n      }\n...\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","glassfish","java-ee-6"],"answers":[{"tags":[],"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670343006,"creation_date":1670343006,"answer_id":74705683,"question_id":74701857,"body_markdown":"After some research, I was able to install GlassFish Tools on eclipse.\r\n\r\nAlthough eclipse has archived the GlassFish Tools dependencies, Oracle has maintained them and offers documentation for installing them.\r\n\r\nSeveral links are proposed but, I will just show you the ones that worked for me.\r\n1. Follow this link for the documentation\r\nhttps://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/\r\n2. Copy this link to download the dependencies\r\nhttp://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/\r\n\r\nFollowing the link of the documentation (1)\r\n1. Open Eclipse and select the Install New Software menu item under the Help menu.\r\n2. Copy and paste this URL (2) http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/ into the Work with text box, then press ENTER.\r\n3. Once the repository is loaded, the available features should show up in the table.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5BCQ7.png\r\n\r\n4. Select **Eclipse GlassFish Tools**, click on next button and follow the wizard to install them.\r\n\r\nThe installation is a bit slow but it works.","title":"Error installing GlassFish Tools on eclipse","body":"<p>After some research, I was able to install GlassFish Tools on eclipse.</p>\n<p>Although eclipse has archived the GlassFish Tools dependencies, Oracle has maintained them and offers documentation for installing them.</p>\n<p>Several links are proposed but, I will just show you the ones that worked for me.</p>\n<ol>\n<li>Follow this link for the documentation\n<a href=\"https://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/</a></li>\n<li>Copy this link to download the dependencies\n<a href=\"http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/</a></li>\n</ol>\n<p>Following the link of the documentation (1)</p>\n<ol>\n<li>Open Eclipse and select the Install New Software menu item under the Help menu.</li>\n<li>Copy and paste this URL (2) <a href=\"http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/</a> into the Work with text box, then press ENTER.</li>\n<li>Once the repository is loaded, the available features should show up in the table.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/5BCQ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5BCQ7.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Select <strong>Eclipse GlassFish Tools</strong>, click on next button and follow the wizard to install them.</li>\n</ol>\n<p>The installation is a bit slow but it works.</p>\n"}],"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670343006,"creation_date":1670326675,"question_id":74701857,"body_markdown":"The eclipse foundation has archived the **GlassFish Tools 1.0.0 and 1.01**.\r\nIt is no longer possible to install GlassFish Tools either through *Eclipse MarketPlace* or through *Install new Software* on the eclipse help menu. Both attempts lead to the error ```No repository found at https://download.eclipse.org/glassfish-tools/1.0.0/repository/.```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gI92A.png\r\n  [2]: https://i.stack.imgur.com/WsW6U.png\r\n\r\nThank you for all your suggestions.","title":"Error installing GlassFish Tools on eclipse","body":"<p>The eclipse foundation has archived the <strong>GlassFish Tools 1.0.0 and 1.01</strong>.\nIt is no longer possible to install GlassFish Tools either through <em>Eclipse MarketPlace</em> or through <em>Install new Software</em> on the eclipse help menu. Both attempts lead to the error <code>No repository found at https://download.eclipse.org/glassfish-tools/1.0.0/repository/.</code></p>\n<p><a href=\"https://i.stack.imgur.com/gI92A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gI92A.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WsW6U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WsW6U.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you for all your suggestions.</p>\n"},{"tags":["java","android","xml","spinner"],"answers":[{"tags":[],"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1453397163,"creation_date":1453396856,"answer_id":34930245,"question_id":34929348,"body_markdown":"I checked your code with the help of uiautomator and the spinner dropdown arrow does not show up with the background set. \r\n\r\n\r\nYou could use a LayerList and have a bitmap with gravity right. Now the bitmap is part of the background set to spinner.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n    &lt;item&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;solid android:color=&quot;#ffffff&quot;/&gt;\r\n        &lt;stroke\r\n            android:width=&quot;2dp&quot;\r\n            android:color=&quot;#80000000&quot;/&gt;\r\n        &lt;padding\r\n            android:bottom=&quot;2dp&quot;\r\n            android:left=&quot;2dp&quot;\r\n            android:right=&quot;2dp&quot;\r\n            android:top=&quot;2dp&quot;/&gt;\r\n    \r\n    &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n    \r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;right&quot;\r\n                android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nResult :\r\n\r\nOf course there is no border around the bitmap. You can check this link https://stackoverflow.com/questions/11188398/how-to-change-the-spinner-background-design-and-color-for-android and see if it fits your requirement\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6b8NH.png","title":"Android: Down arrow disappears after setting spinner background","body":"<p>I checked your code with the help of uiautomator and the spinner dropdown arrow does not show up with the background set. </p>\n\n<p>You could use a LayerList and have a bitmap with gravity right. Now the bitmap is part of the background set to spinner.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n&lt;item&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;solid android:color=\"#ffffff\"/&gt;\n    &lt;stroke\n        android:width=\"2dp\"\n        android:color=\"#80000000\"/&gt;\n    &lt;padding\n        android:bottom=\"2dp\"\n        android:left=\"2dp\"\n        android:right=\"2dp\"\n        android:top=\"2dp\"/&gt;\n\n&lt;/shape&gt;\n&lt;/item&gt;\n\n    &lt;item&gt;\n        &lt;bitmap\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:gravity=\"right\"\n            android:src=\"@mipmap/ic_launcher\" /&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n\n<p>Result :</p>\n\n<p>Of course there is no border around the bitmap. You can check this link <a href=\"https://stackoverflow.com/questions/11188398/how-to-change-the-spinner-background-design-and-color-for-android\">How to change the spinner background design and color for android?</a> and see if it fits your requirement</p>\n\n<p><a href=\"https://i.stack.imgur.com/6b8NH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6b8NH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4176078,"reputation":4693,"user_id":3422556,"accept_rate":25,"display_name":"Swaminathan V"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1453397647,"creation_date":1453397647,"answer_id":34930532,"question_id":34929348,"body_markdown":"Check the below XML code to achieve what you need. It is similar to what *Raghunandan* posted / answered, but with some minor tweaks. Hope this will help you,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;selector xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n      &lt;item&gt;\r\n        &lt;layer-list&gt;\r\n          &lt;item&gt;\r\n            &lt;shape android:thickness=&quot;2dp&quot;&gt;\r\n              &lt;gradient android:angle = &quot;90&quot; android:endColor = &quot;#ffffff&quot; android:startColor = &quot;#ffffff&quot; android:type = &quot;linear&quot;/&gt;\r\n    \r\n              &lt;stroke android:width = &quot;1dp&quot; android:color = &quot;#80000000&quot;/&gt;\r\n    \r\n              &lt;corners android:radius = &quot;5dp&quot;/&gt;\r\n    \r\n              &lt;padding android:bottom = &quot;3dp&quot; android:left = &quot;3dp&quot; android:right = &quot;3dp&quot; android:top = &quot;3dp&quot;/&gt;\r\n            &lt;/shape&gt;\r\n          &lt;/item&gt;\r\n    \r\n          &lt;item&gt;\r\n            &lt;rotate\r\n               android:fromDegrees = &quot;90&quot;\r\n               android:pivotX = &quot;85%&quot;\r\n               android:pivotY = &quot;50%&quot;\r\n               android:toDegrees = &quot;90&quot;&gt;\r\n              &lt;shape\r\n                 android:shape = &quot;line&quot;\r\n                 android:thickness=&quot;2dp&quot;\r\n                 android:top = &quot;1dp&quot;&gt;\r\n                &lt;stroke\r\n                   android:color=&quot;#80000000&quot;\r\n                   android:width = &quot;1dp&quot;/&gt;\r\n              &lt;/shape&gt;\r\n            &lt;/rotate&gt;\r\n          &lt;/item&gt;\r\n          &lt;item&gt;\r\n            &lt;bitmap\r\n    \r\n               android:gravity = &quot;center|right&quot; android:src = &quot;@drawable/abc_btn_check_to_on_mtrl_015&quot;/&gt;\r\n    \r\n          &lt;/item&gt;\r\n        &lt;/layer-list&gt;\r\n      &lt;/item&gt;\r\n    \r\n    &lt;/selector&gt;\r\n\r\nuse the required drawable in the placeholder images i added in the code. \r\n\r\nHope this will help you,\r\n\r\nGood Luck","title":"Android: Down arrow disappears after setting spinner background","body":"<p>Check the below XML code to achieve what you need. It is similar to what <em>Raghunandan</em> posted / answered, but with some minor tweaks. Hope this will help you,</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;selector xmlns:android = \"http://schemas.android.com/apk/res/android\"&gt;\n\n  &lt;item&gt;\n    &lt;layer-list&gt;\n      &lt;item&gt;\n        &lt;shape android:thickness=\"2dp\"&gt;\n          &lt;gradient android:angle = \"90\" android:endColor = \"#ffffff\" android:startColor = \"#ffffff\" android:type = \"linear\"/&gt;\n\n          &lt;stroke android:width = \"1dp\" android:color = \"#80000000\"/&gt;\n\n          &lt;corners android:radius = \"5dp\"/&gt;\n\n          &lt;padding android:bottom = \"3dp\" android:left = \"3dp\" android:right = \"3dp\" android:top = \"3dp\"/&gt;\n        &lt;/shape&gt;\n      &lt;/item&gt;\n\n      &lt;item&gt;\n        &lt;rotate\n           android:fromDegrees = \"90\"\n           android:pivotX = \"85%\"\n           android:pivotY = \"50%\"\n           android:toDegrees = \"90\"&gt;\n          &lt;shape\n             android:shape = \"line\"\n             android:thickness=\"2dp\"\n             android:top = \"1dp\"&gt;\n            &lt;stroke\n               android:color=\"#80000000\"\n               android:width = \"1dp\"/&gt;\n          &lt;/shape&gt;\n        &lt;/rotate&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;bitmap\n\n           android:gravity = \"center|right\" android:src = \"@drawable/abc_btn_check_to_on_mtrl_015\"/&gt;\n\n      &lt;/item&gt;\n    &lt;/layer-list&gt;\n  &lt;/item&gt;\n\n&lt;/selector&gt;\n</code></pre>\n\n<p>use the required drawable in the placeholder images i added in the code. </p>\n\n<p>Hope this will help you,</p>\n\n<p>Good Luck</p>\n"},{"tags":[],"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670342982,"creation_date":1670342982,"answer_id":74705669,"question_id":34929348,"body_markdown":" Add `Spinner` inside a `RelativeLayout`. \r\n In my case, the icon disapper because of parent layout&#39;s height and width. \r\n\r\n    &lt;RelativeLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;@drawable/startbg&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            &gt;\r\n        &lt;Spinner\r\n            android:id=&quot;@+id/timerSpin&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:spinnerMode=&quot;dropdown&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:pointerIcon=&quot;arrow&quot;\r\n             /&gt;\r\n        &lt;/RelativeLayout&gt;","title":"Android: Down arrow disappears after setting spinner background","body":"<p>Add <code>Spinner</code> inside a <code>RelativeLayout</code>.\nIn my case, the icon disapper because of parent layout's height and width.</p>\n<pre><code>&lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:background=&quot;@drawable/startbg&quot;\n        android:layout_marginLeft=&quot;5dp&quot;\n        &gt;\n    &lt;Spinner\n        android:id=&quot;@+id/timerSpin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:spinnerMode=&quot;dropdown&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:pointerIcon=&quot;arrow&quot;\n         /&gt;\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":1233989,"reputation":688,"user_id":1197993,"accept_rate":60,"display_name":"user112016322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2965,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34930245,"answer_count":3,"score":4,"last_activity_date":1670342982,"creation_date":1453394365,"question_id":34929348,"body_markdown":"I have a rectangle box that I set the spinner background as but I would like to keep the down arrow that comes along with the spinner.  Here is my code for the rectangle:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;solid android:color=&quot;#ffffff&quot; /&gt;\r\n    &lt;stroke android:width=&quot;2dp&quot; android:color=&quot;#80000000&quot; /&gt;\r\n    &lt;padding android:left=&quot;2dp&quot; android:top=&quot;2dp&quot; android:right=&quot;2dp&quot; android:bottom=&quot;2dp&quot; /&gt;\r\n&lt;/shape&gt;\r\n\r\nSee the picture below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the left is what i currently have, on the right is what I&#39;m trying to achieve or at least have a down arrow in there somewhere.  Any ideas on how to create this background?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lWRnn.png","title":"Android: Down arrow disappears after setting spinner background","body":"<p>I have a rectangle box that I set the spinner background as but I would like to keep the down arrow that comes along with the spinner.  Here is my code for the rectangle:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;solid android:color=\"#ffffff\" /&gt;\n&lt;stroke android:width=\"2dp\" android:color=\"#80000000\" /&gt;\n&lt;padding android:left=\"2dp\" android:top=\"2dp\" android:right=\"2dp\" android:bottom=\"2dp\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>See the picture below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lWRnn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWRnn.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the left is what i currently have, on the right is what I'm trying to achieve or at least have a down arrow in there somewhere.  Any ideas on how to create this background?</p>\n"},{"tags":["java","switch-statement","calculator"],"comments":[{"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"score":0,"creation_date":1414550242,"post_id":26621905,"comment_id":41854220,"body_markdown":"There is a compile time error with the switch statements","body":"There is a compile time error with the switch statements"},{"owner":{"account_id":5097674,"reputation":828,"user_id":4088425,"display_name":"ipavl"},"score":0,"creation_date":1414550279,"post_id":26621905,"comment_id":41854231,"body_markdown":"You&#39;re missing a `}` at the end of your switch statement I think. But posting the full error verbatim is more useful.","body":"You&#39;re missing a <code>}</code> at the end of your switch statement I think. But posting the full error verbatim is more useful."},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1414550321,"post_id":26621905,"comment_id":41854237,"body_markdown":"I called the plumber the other day and said &quot;my pipes don&#39;t work&quot;. Then I went to the mechanic and said &quot;my car doesn&#39;t work&quot;. They both asked for more information - funny that, I thought they were mind readers!","body":"I called the plumber the other day and said &quot;my pipes don&#39;t work&quot;. Then I went to the mechanic and said &quot;my car doesn&#39;t work&quot;. They both asked for more information - funny that, I thought they were mind readers!"},{"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"score":0,"creation_date":1414550435,"post_id":26621905,"comment_id":41854265,"body_markdown":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n\tType mismatch: cannot convert from String to float\n\tThe operator - is undefined for the argument type(s) java.lang.String, java.lang.String\n\tThe operator * is undefined for the argument type(s) java.lang.String, java.lang.String\n\tThe operator / is undefined for the argument type(s) java.lang.String, java.lang.String\n\n\tat FracCalcApp.main(FracCalcApp.java:53)","body":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:  \tType mismatch: cannot convert from String to float \tThe operator - is undefined for the argument type(s) java.lang.String, java.lang.String \tThe operator * is undefined for the argument type(s) java.lang.String, java.lang.String \tThe operator / is undefined for the argument type(s) java.lang.String, java.lang.String  \tat FracCalcApp.main(FracCalcApp.java:53)"},{"owner":{"account_id":2920668,"reputation":2280,"user_id":2503007,"accept_rate":96,"display_name":"Chiseled"},"score":0,"creation_date":1414550680,"post_id":26621905,"comment_id":41854323,"body_markdown":"added the exception to the the post for everyones benefit. Please verify","body":"added the exception to the the post for everyones benefit. Please verify"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1414551613,"post_id":26621905,"comment_id":41854520,"body_markdown":"Sooner or later you&#39;re going to have to deal with operator precedence and parentheses, at which time you will have to throw much of this away and use a proper expression parser. I would do that now so you don&#39;t waste too much time going down the wrong rabbit hole. Look up the Dijkstra Shunting-yard algorithmm, or recursive descent expression parsing. Don&#39;t try to roll your own, you&#39;ll fail.","body":"Sooner or later you&#39;re going to have to deal with operator precedence and parentheses, at which time you will have to throw much of this away and use a proper expression parser. I would do that now so you don&#39;t waste too much time going down the wrong rabbit hole. Look up the Dijkstra Shunting-yard algorithmm, or recursive descent expression parsing. Don&#39;t try to roll your own, you&#39;ll fail."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1414550417,"creation_date":1414550417,"answer_id":26621938,"question_id":26621905,"body_markdown":"`Operand1` and `Operand2` are `String`(s). You  need to parse them before you can perform arithmetic. Something like,\r\n\r\n\tdouble answer;\r\n\tSystem.out.println(Operator);\r\n\tswitch (Operator) {\r\n\tcase &quot;+&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) + Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\tcase &quot;-&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) - Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\tcase &quot;*&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) * Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\tcase &quot;/&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) / Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\t}\r\n\t\t\r\nFinally, by convention, Java variables should start with a lower case letter; `operand1`, `operand2` and `operator`.","title":"Calculator using Switch in Java","body":"<p><code>Operand1</code> and <code>Operand2</code> are <code>String</code>(s). You  need to parse them before you can perform arithmetic. Something like,</p>\n\n<pre><code>double answer;\nSystem.out.println(Operator);\nswitch (Operator) {\ncase \"+\":\n    answer = Double.valueOf(Operand1) + Double.valueOf(Operand2);\n    break;\ncase \"-\":\n    answer = Double.valueOf(Operand1) - Double.valueOf(Operand2);\n    break;\ncase \"*\":\n    answer = Double.valueOf(Operand1) * Double.valueOf(Operand2);\n    break;\ncase \"/\":\n    answer = Double.valueOf(Operand1) / Double.valueOf(Operand2);\n    break;\n}\n</code></pre>\n\n<p>Finally, by convention, Java variables should start with a lower case letter; <code>operand1</code>, <code>operand2</code> and <code>operator</code>.</p>\n"},{"tags":[],"owner":{"account_id":25749724,"reputation":1,"user_id":19502461,"display_name":"Pradhumansinigh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670342773,"creation_date":1670342773,"answer_id":74705615,"question_id":26621905,"body_markdown":"\r\n\r\n\r\n\r\n\r\n        \r\n                                                                          \r\n        public static void main(String[] args){\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter first number&quot;);\r\n        float a = sc.nextFloat();\r\n\r\n        System.out.println(&quot;Enter second number&quot;);\r\n        float b = sc.nextFloat();\r\n\r\n        System.out.println(&quot;choose your operation&quot;);\r\n        char operator = sc.next().charAt(0);\r\n        float answer;\r\n        switch (operator){\r\n\r\n            case &#39;+&#39; :\r\n             answer = a +b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n                break;\r\n            case &#39;-&#39; :\r\n                answer = a-b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n                break;\r\n            case &#39;*&#39; :\r\n                answer = a*b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n                break;\r\n            default:\r\n                answer = a/b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n        }\r\n\r\n\r\n\r\n      }\r\n\r\n","title":"Calculator using Switch in Java","body":"<pre><code>    public static void main(String[] args){\n    Scanner sc = new Scanner(System.in);\n\n    System.out.println(&quot;Enter first number&quot;);\n    float a = sc.nextFloat();\n\n    System.out.println(&quot;Enter second number&quot;);\n    float b = sc.nextFloat();\n\n    System.out.println(&quot;choose your operation&quot;);\n    char operator = sc.next().charAt(0);\n    float answer;\n    switch (operator){\n\n        case '+' :\n         answer = a +b;\n            System.out.println(&quot;Answer:&quot;+answer);\n            break;\n        case '-' :\n            answer = a-b;\n            System.out.println(&quot;Answer:&quot;+answer);\n            break;\n        case '*' :\n            answer = a*b;\n            System.out.println(&quot;Answer:&quot;+answer);\n            break;\n        default:\n            answer = a/b;\n            System.out.println(&quot;Answer:&quot;+answer);\n    }\n\n\n\n  }\n</code></pre>\n"}],"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":26621938,"answer_count":2,"score":-1,"last_activity_date":1670342773,"creation_date":1414550099,"question_id":26621905,"body_markdown":"I&#39;m new to Java programming. I am trying to make a Fraction Calculator but when I try to run the program it gives me an error. The error is with the Switch statements but I don&#39;t know what happened.\r\n\r\n\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner console = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Welcome to My FracCalc&quot;);\r\n    \t\tboolean continueProcessing = true;\r\n    \t\twhile (continueProcessing) {\r\n    \t\t\tSystem.out.println(&quot;Type an expression and press &lt;enter&gt;&quot;);\r\n    \t\t\t\r\n    \t\t\tString Operand1 = console.next();\r\n    \t\t\tif (Operand1.equals(&quot;quit&quot;)) {\r\n    \t\t\t\tcontinueProcessing = false;\r\n    \t\t\t\tSystem.out.println(&quot;Good bye!&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tOperand1 = parseFullNumber(Operand1);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tString Operator = console.next();\r\n    \t\t\tif (Operator.equals(&quot;quit&quot;)) {\r\n    \t\t\t\tcontinueProcessing = false;\r\n    \t\t\t\tSystem.out.println(&quot;Good bye!&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else if (Operator.equals(&quot;+&quot;) || Operator.equals(&quot;-&quot;) || Operator.equals(&quot;/&quot;) || Operator.equals(&quot;*&quot;)) {\r\n    \t\t\t\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new ArithmeticException();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tString Operand2 = console.next();\r\n    \t\t\tif (Operand2.equals(&quot;quit&quot;)) {\r\n    \t\t\t\tcontinueProcessing = false;\r\n    \t\t\t\tSystem.out.println(&quot;Good bye!&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tOperand2 = parseFullNumber(Operand2);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tSystem.out.println( Operand1 + &quot; &quot; +  Operator + &quot; &quot; + Operand2); \r\n    \t\t\t//System.out.println(&quot;First Fraction is: &quot; + Operand1);\r\n    \t\t\t//System.out.println(&quot;Operator is: &quot; + Operator);\r\n    \t\t\t//System.out.println(&quot;Second Fraction is: &quot; + Operand2);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tfloat answer;\r\n    \t\t\tSystem.out.println(Operator);\r\n    \t\t\tswitch (Operator) {\r\n    \t\t\t\tcase &quot;+&quot;:\r\n    \t\t\t\t\tanswer = Operand1 + Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\tcase &quot;-&quot;:\r\n    \t\t\t\t\tanswer = Operand1 - Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\tcase &quot;*&quot;:\r\n    \t\t\t\t\tanswer = Operand1 * Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\tcase &quot;/&quot;:\r\n    \t\t\t\t\tanswer = Operand1 / Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n    \r\n    \tpublic static String parseFullNumber(String input) {\r\n    \t\tint wholeNumber = 0;\r\n    \t\tint numerator = 0;\r\n    \t\tint denominator = 0;\r\n    \t\t;\r\n    \t\tint underscoreId = input.indexOf(&#39;_&#39;);\r\n    \t\tint slashId = input.indexOf(&#39;/&#39;);\r\n    \t\t\r\n    \t\t// Check for underscore &quot;_&quot; //\r\n    \t\tif (underscoreId &gt; -1) { \r\n    \t\t\twholeNumber = Integer.parseInt(input.substring(0, underscoreId));\r\n    \t\t\tnumerator = Integer.parseInt(input.substring(underscoreId + 1, slashId));\r\n    \t\t\tdenominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\r\n    \t\t} else {\r\n    \t\t\tif (slashId &gt; -1) {\r\n    \t\t\t\t// no underscore but there is a slash // \r\n    \t\t\t\tnumerator = Integer.parseInt(input.substring(0, slashId));\r\n    \t\t\t\tdenominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\r\n    \t\t\t} else {\r\n    \t\t\t\t// there is no underscore or slash // \r\n    \t\t\t\twholeNumber = Integer.parseInt(input);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn simplify(wholeNumber, numerator, denominator);\r\n    \t}\r\n    \t\r\n    \t//simplifying fractions //\r\n    \tpublic static String simplify(int wholeNumber, int numerator, int denominator) {\r\n    \t\t// absolute values //\r\n    \t\tint absNumerator = Math.abs(numerator);\r\n    \t\t\r\n    \t\t// factor if applicable //\r\n    \t\tif (absNumerator &gt; 1) {\r\n    \t\t\tint commonFactor = 1;\r\n    \t\t\tfor (int i = 2; i &lt; Math.min(absNumerator, denominator); i++) {\r\n    \t\t\t\tif (numerator % i == 0 &amp;&amp; denominator % i == 0) {\r\n    \t\t\t\t\tcommonFactor = i;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tnumerator /= commonFactor;\r\n    \t\t\tdenominator /= commonFactor;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// reduce if applicable //\r\n    \t\tif (absNumerator &gt; denominator) {\r\n    \t\t\tint reduction = numerator / denominator;\r\n    \t\t\tif (wholeNumber &gt;= 0) {\r\n    \t\t\t\twholeNumber += reduction;\r\n    \t\t\t} else {\r\n    \t\t\t\twholeNumber -= reduction;\r\n    \t\t\t}\r\n    \t\t\tnumerator %= denominator;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// prints //\r\n    \t\tif (wholeNumber != 0) {\r\n    \t\t\tif (numerator != 0) {\r\n    \t\t\t\treturn wholeNumber + &quot;_&quot; + numerator + &quot;/&quot; + denominator; \r\n    \t\t\t} else {\r\n    \t\t\t\treturn String.valueOf(wholeNumber);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tif (numerator != 0) {\r\n    \t\t\t\treturn numerator + &quot;/&quot; + denominator;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn String.valueOf(0);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nHere is the error i got:\r\n\r\n  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: \r\n         Unresolved compilation problems: \r\n              Type mismatch:\r\n                  cannot convert from String to float The operator - is undefined for the argument type(s) java.lang.String, java.lang.String\r\n                  The operator * is undefined for the argument type(s) java.lang.String, java.lang.String\r\n                  The operator / is undefined for the argument type(s) java.lang.String, java.lang.String \r\n                      at FracCalcApp.main(FracCalcApp.java:53)","title":"Calculator using Switch in Java","body":"<p>I'm new to Java programming. I am trying to make a Fraction Calculator but when I try to run the program it gives me an error. The error is with the Switch statements but I don't know what happened.</p>\n\n<pre><code>    public static void main(String[] args) {\n        Scanner console = new Scanner(System.in);\n        System.out.println(\"Welcome to My FracCalc\");\n        boolean continueProcessing = true;\n        while (continueProcessing) {\n            System.out.println(\"Type an expression and press &lt;enter&gt;\");\n\n            String Operand1 = console.next();\n            if (Operand1.equals(\"quit\")) {\n                continueProcessing = false;\n                System.out.println(\"Good bye!\");\n                break;\n            } else {\n                Operand1 = parseFullNumber(Operand1);\n            }\n\n            String Operator = console.next();\n            if (Operator.equals(\"quit\")) {\n                continueProcessing = false;\n                System.out.println(\"Good bye!\");\n                break;\n            } else if (Operator.equals(\"+\") || Operator.equals(\"-\") || Operator.equals(\"/\") || Operator.equals(\"*\")) {\n\n            } else {\n                throw new ArithmeticException();\n            }\n\n            String Operand2 = console.next();\n            if (Operand2.equals(\"quit\")) {\n                continueProcessing = false;\n                System.out.println(\"Good bye!\");\n                break;\n            } else {\n                Operand2 = parseFullNumber(Operand2);\n            }\n\n\n            System.out.println( Operand1 + \" \" +  Operator + \" \" + Operand2); \n            //System.out.println(\"First Fraction is: \" + Operand1);\n            //System.out.println(\"Operator is: \" + Operator);\n            //System.out.println(\"Second Fraction is: \" + Operand2);\n\n\n            float answer;\n            System.out.println(Operator);\n            switch (Operator) {\n                case \"+\":\n                    answer = Operand1 + Operand2;\n                    break;\n\n                case \"-\":\n                    answer = Operand1 - Operand2;\n                    break;\n\n                case \"*\":\n                    answer = Operand1 * Operand2;\n                    break;\n\n                case \"/\":\n                    answer = Operand1 / Operand2;\n                    break;\n\n        }   \n    }\n}\n\n    public static String parseFullNumber(String input) {\n        int wholeNumber = 0;\n        int numerator = 0;\n        int denominator = 0;\n        ;\n        int underscoreId = input.indexOf('_');\n        int slashId = input.indexOf('/');\n\n        // Check for underscore \"_\" //\n        if (underscoreId &gt; -1) { \n            wholeNumber = Integer.parseInt(input.substring(0, underscoreId));\n            numerator = Integer.parseInt(input.substring(underscoreId + 1, slashId));\n            denominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\n        } else {\n            if (slashId &gt; -1) {\n                // no underscore but there is a slash // \n                numerator = Integer.parseInt(input.substring(0, slashId));\n                denominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\n            } else {\n                // there is no underscore or slash // \n                wholeNumber = Integer.parseInt(input);\n            }\n        }\n\n        return simplify(wholeNumber, numerator, denominator);\n    }\n\n    //simplifying fractions //\n    public static String simplify(int wholeNumber, int numerator, int denominator) {\n        // absolute values //\n        int absNumerator = Math.abs(numerator);\n\n        // factor if applicable //\n        if (absNumerator &gt; 1) {\n            int commonFactor = 1;\n            for (int i = 2; i &lt; Math.min(absNumerator, denominator); i++) {\n                if (numerator % i == 0 &amp;&amp; denominator % i == 0) {\n                    commonFactor = i;\n                }\n            }\n            numerator /= commonFactor;\n            denominator /= commonFactor;\n        }\n\n        // reduce if applicable //\n        if (absNumerator &gt; denominator) {\n            int reduction = numerator / denominator;\n            if (wholeNumber &gt;= 0) {\n                wholeNumber += reduction;\n            } else {\n                wholeNumber -= reduction;\n            }\n            numerator %= denominator;\n        }\n\n        // prints //\n        if (wholeNumber != 0) {\n            if (numerator != 0) {\n                return wholeNumber + \"_\" + numerator + \"/\" + denominator; \n            } else {\n                return String.valueOf(wholeNumber);\n            }\n        } else {\n            if (numerator != 0) {\n                return numerator + \"/\" + denominator;\n            } else {\n                return String.valueOf(0);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the error i got:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: \n     Unresolved compilation problems: \n          Type mismatch:\n              cannot convert from String to float The operator - is undefined for the argument type(s) java.lang.String, java.lang.String\n              The operator * is undefined for the argument type(s) java.lang.String, java.lang.String\n              The operator / is undefined for the argument type(s) java.lang.String, java.lang.String \n                  at FracCalcApp.main(FracCalcApp.java:53)\n</code></pre>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670341004,"post_id":74704874,"comment_id":131851340,"body_markdown":"What is wrong with just calling `save`? Why do you think you need a query for this?","body":"What is wrong with just calling <code>save</code>? Why do you think you need a query for this?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670341013,"post_id":74704874,"comment_id":131851346,"body_markdown":"Looking at your mapping I am wondering how your `MainEntity` knows how to connect to the `SubEntity`. AFAIK there should be a `@JoinColumn`","body":"Looking at your mapping I am wondering how your <code>MainEntity</code> knows how to connect to the <code>SubEntity</code>. AFAIK there should be a <code>@JoinColumn</code>"},{"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"score":0,"creation_date":1670341882,"post_id":74704874,"comment_id":131851642,"body_markdown":"@M.Deinum Then I have to get, and then save - which is two calls and not very efficient.\nIf there is not possible to call save on an existing entity I am not aware of?","body":"@M.Deinum Then I have to get, and then save - which is two calls and not very efficient. If there is not possible to call save on an existing entity I am not aware of?"},{"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"score":0,"creation_date":1670341973,"post_id":74704874,"comment_id":131851676,"body_markdown":"Yes, I did not include the `flyway` configuration which couples these tables together @XtremeBaumer\n\nThere is defined a SubEntityId in the MainEntity DB table because of this configuration","body":"Yes, I did not include the <code>flyway</code> configuration which couples these tables together @XtremeBaumer  There is defined a SubEntityId in the MainEntity DB table because of this configuration"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670342294,"post_id":74704874,"comment_id":131851799,"body_markdown":"You should make the example at least complete in as not missing crucial configuration parts. You could attempt to `merge()` the entity","body":"You should make the example at least complete in as not missing crucial configuration parts. You could attempt to <code>merge()</code> the entity"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670350426,"post_id":74704874,"comment_id":131854790,"body_markdown":"You are attempting to bypass save by giving a JPQL query the entity and expecting it to abide by your mappings and figure out what to update. This isn&#39;t possible with JPA bulk update queries but is if you want to break out the non-JPA api. (Eclipselink has updateObject calls which do what you want, and I&#39;m sure Hibernate will have equivalent api). Otherwise, you have to form your update query and set each property individually in it, just as you might for an SQL update statement.","body":"You are attempting to bypass save by giving a JPQL query the entity and expecting it to abide by your mappings and figure out what to update. This isn&#39;t possible with JPA bulk update queries but is if you want to break out the non-JPA api. (Eclipselink has updateObject calls which do what you want, and I&#39;m sure Hibernate will have equivalent api). Otherwise, you have to form your update query and set each property individually in it, just as you might for an SQL update statement."},{"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"score":0,"creation_date":1670412325,"post_id":74704874,"comment_id":131869335,"body_markdown":"Aha, ok then it was probably more troublesome than I imagined - I think I will go for the approach of fetching - then saving instead. Thank you for your answers.","body":"Aha, ok then it was probably more troublesome than I imagined - I think I will go for the approach of fetching - then saving instead. Thank you for your answers."}],"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670342531,"creation_date":1670339752,"question_id":74704874,"body_markdown":"I have the following Entities:\r\n\r\n```lang-java\r\n@Entity\r\npublic class MainEntity {\r\n\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    @Id\r\n    @Type(type=&quot;uuid-char&quot;)\r\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    private SubEntity sub;\r\n\r\n    private String element;\r\n}\r\n\r\n@Entity\r\npublic class SubEntity{\r\n\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    @Id\r\n    @Type(type=&quot;uuid-char&quot;)\r\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\r\n    private UUID id;\r\n\r\n    private String element;\r\n}\r\n```\r\nThese are coupled together using a `flyway` configuration\r\n\r\nBear in mind that this is only an example, I have multiple more Entities which are connected to MainEntity via `@OneToOne` or `@OneToMany`, all using `@CascadeType.ALL`\r\n\r\nAnd I want to update an existing entity - using the MainEntity ID and a new MainEntity Object. For this I have a JpaRepository with a custom @Query\r\n\r\n```lang-java\r\n@Repository\r\npublic interface SalesOpportunityRepository extends JpaRepository&lt;MainEntity, UUID&gt; {\r\n\r\n    @Modifying\r\n    @Query(&quot;update MainEntity oldEntity set oldEntity = :updatedEntity where oldEntity.id = :id&quot;)\r\n    void updateEntity(@Param(&quot;id&quot;) UUID id, @Param(&quot;updatedEntity&quot;) MainEntity updatedEntity);\r\n}\r\n```\r\n\r\nBut running this, using either a h2 db locally, or a postgres db in test env. I get this error:\r\n\r\n`org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing:` \r\n\r\nI see many struggle with this, but everytime `CascadeType.All` is proposed, but as I already have it - this will not help.\r\n\r\nNot sure if the update sql for updating the entire entity might be the problem her","title":"JPA update entire entity with all relations","body":"<p>I have the following Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class MainEntity {\n\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Id\n    @Type(type=&quot;uuid-char&quot;)\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private SubEntity sub;\n\n    private String element;\n}\n\n@Entity\npublic class SubEntity{\n\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Id\n    @Type(type=&quot;uuid-char&quot;)\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\n    private UUID id;\n\n    private String element;\n}\n</code></pre>\n<p>These are coupled together using a <code>flyway</code> configuration</p>\n<p>Bear in mind that this is only an example, I have multiple more Entities which are connected to MainEntity via <code>@OneToOne</code> or <code>@OneToMany</code>, all using <code>@CascadeType.ALL</code></p>\n<p>And I want to update an existing entity - using the MainEntity ID and a new MainEntity Object. For this I have a JpaRepository with a custom @Query</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface SalesOpportunityRepository extends JpaRepository&lt;MainEntity, UUID&gt; {\n\n    @Modifying\n    @Query(&quot;update MainEntity oldEntity set oldEntity = :updatedEntity where oldEntity.id = :id&quot;)\n    void updateEntity(@Param(&quot;id&quot;) UUID id, @Param(&quot;updatedEntity&quot;) MainEntity updatedEntity);\n}\n</code></pre>\n<p>But running this, using either a h2 db locally, or a postgres db in test env. I get this error:</p>\n<p><code>org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing:</code></p>\n<p>I see many struggle with this, but everytime <code>CascadeType.All</code> is proposed, but as I already have it - this will not help.</p>\n<p>Not sure if the update sql for updating the entire entity might be the problem her</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":1,"creation_date":1587556164,"post_id":61206434,"comment_id":108555863,"body_markdown":"This sounds like an [XY problem](http://xyproblem.info/). What is your original problem that you have tried to solve in this way?","body":"This sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. What is your original problem that you have tried to solve in this way?"},{"owner":{"account_id":339595,"reputation":956,"user_id":669159,"display_name":"mommcilo"},"score":0,"creation_date":1587633950,"post_id":61206434,"comment_id":108589846,"body_markdown":"Why you need to handle /api with one two different Resolvers? If you already use Spring Security, have think about roles, and to solve problem using that approach?  For example http.authorizeRequests().antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;).antMatchers(&quot;/api&quot;).hasRole(&quot;USER&quot;)\n            .anyRequest().authenticated()\n            .and()\n            .formLogin();  This is just one way. You can also set @RolesAllowed({&quot;USER&quot;,&quot;ADMIN&quot;}) for every Controller method and on that way control access right of different roles.","body":"Why you need to handle /api with one two different Resolvers? If you already use Spring Security, have think about roles, and to solve problem using that approach?  For example http.authorizeRequests().antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMI&zwnj;&#8203;N&quot;).antMatchers(&quot;/ap&zwnj;&#8203;i&quot;).hasRole(&quot;USER&quot;)             .anyRequest().authenticated()             .and()             .formLogin();  This is just one way. You can also set @RolesAllowed({&quot;USER&quot;,&quot;ADMIN&quot;}) for every Controller method and on that way control access right of different roles."},{"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"score":0,"creation_date":1587658079,"post_id":61206434,"comment_id":108604006,"body_markdown":"@m4gic: I think my main problem can be guessed from the first sentence, but maybe you are right and this is not clear enough: There are two types of clients which want to get data from my backend. For the first group (e.g. browsers which do the handling of cookies for me), if want to use cookies. And for the second group (e.g. an android app) I want to use an additional auth header and no cookies so I can turn of the CSRF protection via tokens.","body":"@m4gic: I think my main problem can be guessed from the first sentence, but maybe you are right and this is not clear enough: There are two types of clients which want to get data from my backend. For the first group (e.g. browsers which do the handling of cookies for me), if want to use cookies. And for the second group (e.g. an android app) I want to use an additional auth header and no cookies so I can turn of the CSRF protection via tokens."},{"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"score":0,"creation_date":1587658177,"post_id":61206434,"comment_id":108604054,"body_markdown":"@mommcilo: See my clarification.","body":"@mommcilo: See my clarification."},{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":0,"creation_date":1587659778,"post_id":61206434,"comment_id":108605002,"body_markdown":"I  would use both approach: from the backend perspective, the key point is that your user has to authenticate his/herself in any way. So instead of trying to separate these kind of requests, you should enable them to authenticate themselves in any way, if they contains cookies, you should serve them, similarly, if they have an auth header, you should serve them too. E.g. in WebLogic, there is a similar mechanism, where the JAAS login modules were sufficient, that means that ANY of them authenticated the user, the request can be served, otherwise obviously not.","body":"I  would use both approach: from the backend perspective, the key point is that your user has to authenticate his/herself in any way. So instead of trying to separate these kind of requests, you should enable them to authenticate themselves in any way, if they contains cookies, you should serve them, similarly, if they have an auth header, you should serve them too. E.g. in WebLogic, there is a similar mechanism, where the JAAS login modules were sufficient, that means that ANY of them authenticated the user, the request can be served, otherwise obviously not."},{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":0,"creation_date":1587659932,"post_id":61206434,"comment_id":108605092,"body_markdown":"So what I would like to recommend is the usage of multiple authentication providers, which is not rare for this kind of use cases.","body":"So what I would like to recommend is the usage of multiple authentication providers, which is not rare for this kind of use cases."},{"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"score":0,"creation_date":1594393156,"post_id":61206434,"comment_id":111119816,"body_markdown":"I think this solution was nice! I have been working on this the whole day and this is the first solution that works.. I have different authentications for different parts of the app and I want users to be able to be logged in to both of these at the same time without having to reauthenticate when switching realm (but also be able to be logged in to just one of them). Thanks!","body":"I think this solution was nice! I have been working on this the whole day and this is the first solution that works.. I have different authentications for different parts of the app and I want users to be able to be logged in to both of these at the same time without having to reauthenticate when switching realm (but also be able to be logged in to just one of them). Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":6085452,"reputation":21,"user_id":4749678,"display_name":"Nikos Kotzalas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587571819,"creation_date":1587571819,"answer_id":61369811,"question_id":61206434,"body_markdown":"As you mention above, based on the code of &quot;[SessionRepositoryFilter][1]&quot; class, it is clear that it supports only a single &quot;HttpSessionIdResolver&quot;. As a result, if you use only one &quot;SessionRepositoryFilter&quot;, your only option seems to be the one that you suggested. Although this would work, it does feel a bit hacky and also, if your requirement is indeed to use the &quot;HTTPSessionIdResolver&quot; for everything located under &quot;/api**&quot;, then it doesn&#39;t ensure that.\r\n\r\nSince &quot;SessionRepositoryFilter&quot; class is effectivelly a Filter, I suggest checking if you could create two Spring beans for the &quot;SessionRepositoryFilter&quot; class. One that will be used for all HTTP endpoints under the &quot;/api*&quot; pattern and another for all other paths. Then, you could use the &quot;HttpSessionIdResolver&quot; and &quot;CookieSessionIdResolver&quot; respectivelly. You can find an example for defining different filters based on URL patterns [here][2].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-session/blob/master/spring-session-core/src/main/java/org/springframework/session/web/http/SessionRepositoryFilter.java\r\n  [2]: https://www.baeldung.com/spring-boot-add-filter","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>As you mention above, based on the code of \"<a href=\"https://github.com/spring-projects/spring-session/blob/master/spring-session-core/src/main/java/org/springframework/session/web/http/SessionRepositoryFilter.java\" rel=\"nofollow noreferrer\">SessionRepositoryFilter</a>\" class, it is clear that it supports only a single \"HttpSessionIdResolver\". As a result, if you use only one \"SessionRepositoryFilter\", your only option seems to be the one that you suggested. Although this would work, it does feel a bit hacky and also, if your requirement is indeed to use the \"HTTPSessionIdResolver\" for everything located under \"/api**\", then it doesn't ensure that.</p>\n\n<p>Since \"SessionRepositoryFilter\" class is effectivelly a Filter, I suggest checking if you could create two Spring beans for the \"SessionRepositoryFilter\" class. One that will be used for all HTTP endpoints under the \"/api*\" pattern and another for all other paths. Then, you could use the \"HttpSessionIdResolver\" and \"CookieSessionIdResolver\" respectivelly. You can find an example for defining different filters based on URL patterns <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594508950,"creation_date":1594508950,"answer_id":62855512,"question_id":61206434,"body_markdown":"After attempting the solution provided in the question (which works fine, to be honest), I also attempted to do this by providing two different filters. However, when `@EnableSpringHttpSession` is added, a `SessionRepositoryFilter` is added automatically and adding two more of those in the servlet filter chain seems odd. Therefore, I thought they would have to go in the security filter chain instead, which is good because then we can use the URL matching made there as well (instead of having to implement that elsewhere as well).\r\n\r\nSince other security filters use the `HttpSession`, we have to manually place the `SessionRepositoryFilter` first in this chain. This is what I came up with (in Kotlin) which works well for me:\r\n\r\n\r\n    @EnableWebSecurity\r\n    class SecurityConfig() {\r\n\r\n        private val sessionStore = ConcurrentHashMap&lt;String, Session&gt;()\r\n        private val sessionRepo = MapSessionRepository(sessionStore)\r\n\r\n        @Configuration\r\n        @Order(1)\r\n        inner class XAuthConfig(): WebSecurityConfigurerAdapter() {\r\n\r\n            override fun configure(http: HttpSecurity) {\r\n                http\r\n                    .requestMatchers()\r\n                        .antMatchers(&quot;/api**&quot;)\r\n                        .and()\r\n                    .addFilterBefore(\r\n                        SessionRepositoryFilter(sessionRepo).apply{\r\n                            setHttpSessionIdResolver(\r\n                                HeaderHttpSessionIdResolver.xAuthToken();\r\n                            )\r\n                        }, WebAsyncManagerIntegrationFilter::class.java)\r\n            }\r\n        }\r\n\r\n        @Configuration\r\n        @Order(2)\r\n        inner class DefaultConfig(): WebSecurityConfigurerAdapter() {\r\n\r\n            override fun configure(http: HttpSecurity) {\r\n                http\r\n                    .addFilterBefore(\r\n                        SessionRepositoryFilter(sessionRepo).apply{\r\n                            setHttpSessionIdResolver(\r\n                                CookieHttpSessionIdResolver()\r\n                            )\r\n                        }, WebAsyncManagerIntegrationFilter::class.java)\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n**Note** that the annotation `@EnableSpringHttpSession` has been removed. Instead, we add the `SessionRepositoryFilter`s manually before the `WebAsyncManagerIntegrationFilter`s (the first filter in the security filter chain). The function of the `SessionRepositoryFilter` is to replace the existing `HttpSession` with Spring&#39;s `HttpSession` which it will do no matter if we place it manually or if it&#39;s put in place automatically by means of autoconfiguration. As long as no other filter before the security filter chain makes use of the session, this should work out. Otherwise, some filter rearrangement might still do the trick.","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>After attempting the solution provided in the question (which works fine, to be honest), I also attempted to do this by providing two different filters. However, when <code>@EnableSpringHttpSession</code> is added, a <code>SessionRepositoryFilter</code> is added automatically and adding two more of those in the servlet filter chain seems odd. Therefore, I thought they would have to go in the security filter chain instead, which is good because then we can use the URL matching made there as well (instead of having to implement that elsewhere as well).</p>\n<p>Since other security filters use the <code>HttpSession</code>, we have to manually place the <code>SessionRepositoryFilter</code> first in this chain. This is what I came up with (in Kotlin) which works well for me:</p>\n<pre><code>@EnableWebSecurity\nclass SecurityConfig() {\n\n    private val sessionStore = ConcurrentHashMap&lt;String, Session&gt;()\n    private val sessionRepo = MapSessionRepository(sessionStore)\n\n    @Configuration\n    @Order(1)\n    inner class XAuthConfig(): WebSecurityConfigurerAdapter() {\n\n        override fun configure(http: HttpSecurity) {\n            http\n                .requestMatchers()\n                    .antMatchers(&quot;/api**&quot;)\n                    .and()\n                .addFilterBefore(\n                    SessionRepositoryFilter(sessionRepo).apply{\n                        setHttpSessionIdResolver(\n                            HeaderHttpSessionIdResolver.xAuthToken();\n                        )\n                    }, WebAsyncManagerIntegrationFilter::class.java)\n        }\n    }\n\n    @Configuration\n    @Order(2)\n    inner class DefaultConfig(): WebSecurityConfigurerAdapter() {\n\n        override fun configure(http: HttpSecurity) {\n            http\n                .addFilterBefore(\n                    SessionRepositoryFilter(sessionRepo).apply{\n                        setHttpSessionIdResolver(\n                            CookieHttpSessionIdResolver()\n                        )\n                    }, WebAsyncManagerIntegrationFilter::class.java)\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Note</strong> that the annotation <code>@EnableSpringHttpSession</code> has been removed. Instead, we add the <code>SessionRepositoryFilter</code>s manually before the <code>WebAsyncManagerIntegrationFilter</code>s (the first filter in the security filter chain). The function of the <code>SessionRepositoryFilter</code> is to replace the existing <code>HttpSession</code> with Spring's <code>HttpSession</code> which it will do no matter if we place it manually or if it's put in place automatically by means of autoconfiguration. As long as no other filter before the security filter chain makes use of the session, this should work out. Otherwise, some filter rearrangement might still do the trick.</p>\n"},{"tags":[],"owner":{"account_id":953960,"reputation":2945,"user_id":979590,"accept_rate":38,"display_name":"Gabriel Belingueres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670342319,"creation_date":1670342319,"answer_id":74705499,"question_id":61206434,"body_markdown":"I made it to work by creating a subclass of RedisHttpSessionConfiguration. Then you will have available a filter called `springHeaderSessionRepositoryFilter` which you can use to configure another filter with a different `filter-mapping` in your web app.\r\n\r\n    public class MyCustomRedisHttpSessionConfiguration extends RedisHttpSessionConfiguration {\r\n    \r\n          @Bean\r\n          public &lt;S extends Session&gt; SessionRepositoryFilter&lt;? extends Session&gt; springHeaderSessionRepositoryFilter(SessionRepository&lt;S&gt; sessionRepository) {\r\n            SessionRepositoryFilter&lt;S&gt; sessionRepositoryFilter = new SessionRepositoryFilter&lt;&gt;(sessionRepository);\r\n            sessionRepositoryFilter.setHttpSessionIdResolver(HeaderHttpSessionIdResolver.xAuthToken());\r\n            return sessionRepositoryFilter;\r\n          }\r\n        \r\n    }\r\n\r\n","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>I made it to work by creating a subclass of RedisHttpSessionConfiguration. Then you will have available a filter called <code>springHeaderSessionRepositoryFilter</code> which you can use to configure another filter with a different <code>filter-mapping</code> in your web app.</p>\n<pre><code>public class MyCustomRedisHttpSessionConfiguration extends RedisHttpSessionConfiguration {\n\n      @Bean\n      public &lt;S extends Session&gt; SessionRepositoryFilter&lt;? extends Session&gt; springHeaderSessionRepositoryFilter(SessionRepository&lt;S&gt; sessionRepository) {\n        SessionRepositoryFilter&lt;S&gt; sessionRepositoryFilter = new SessionRepositoryFilter&lt;&gt;(sessionRepository);\n        sessionRepositoryFilter.setHttpSessionIdResolver(HeaderHttpSessionIdResolver.xAuthToken());\n        return sessionRepositoryFilter;\n      }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2963,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":62855512,"answer_count":3,"score":8,"last_activity_date":1670342319,"creation_date":1586863023,"question_id":61206434,"body_markdown":"I want to use the HTTPSessionIdResolver for everything located under &quot;/api**&quot; and for everything else the standard CookieResolver. \r\n\r\nHow is this possible, so that the two configurations use different resolvers? With my current approach everything uses X-AUTH.\r\n\r\nI tried to understand the implementation within Spring and I end up in the SessionRepositoryFilter, but of this filter only one instance is created, so der exists only one resolver.\r\n\r\n```\r\n    @EnableWebSecurity\r\n    public class TestConfig {\r\n\r\n    @EnableSpringHttpSession\r\n    @Configuration\r\n    @Order(1)\r\n    public static class Abc extends WebSecurityConfigurerAdapter {\r\n\r\n        @Bean\r\n        @Primary\r\n        public HeaderHttpSessionIdResolver xAuth() {\r\n            return HeaderHttpSessionIdResolver.xAuthToken();\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public MapSessionRepository mapSessionRepository(){\r\n            return new MapSessionRepository(new HashMap&lt;&gt;());\r\n        }\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.antMatcher(&quot;/service/json/**&quot;)\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .csrf()\r\n                .disable();\r\n        }\r\n\r\n    }\r\n\r\n    @EnableSpringHttpSession\r\n    @Configuration\r\n    @Order(2)\r\n    public static class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n        @Bean\r\n        @Primary\r\n        public DataSource dataSource() {\r\n            return DataSourceBuilder\r\n                    .create()\r\n                    .build();\r\n        }\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/css/**&quot;, &quot;/user/registration&quot;, &quot;/webfonts/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll();\r\n        }\r\n\r\n        @Bean\r\n        public BCryptPasswordEncoder bcrypt() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n        @Bean\r\n        public JdbcUserDetailsManager userDetailsManager() {\r\n            JdbcUserDetailsManager manager = new UserDetailsManager(dataSource());\r\n            manager.setUsersByUsernameQuery(&quot;select username,password,enabled from users where username=?&quot;);\r\n            manager.setAuthoritiesByUsernameQuery(&quot;select username,authority from authorities where username = ?&quot;);\r\n            return manager;\r\n        }\r\n\r\n        @Autowired\r\n        public void initialize(AuthenticationManagerBuilder builder) throws Exception {\r\n            builder.userDetailsService(userDetailsManager()).passwordEncoder(bcrypt());\r\n        }\r\n     }\r\n  }\r\n```\r\nI could move the logic into one resolver which delegates the work to the existing resolvers, but this seems hacky?\r\n\r\n```\r\npublic class SmartHttpSessionIdResolver implements HttpSessionIdResolver {\r\n\r\n    private static final String HEADER_X_AUTH_TOKEN = &quot;X-Auth-Token&quot;;\r\n    private static final CookieHttpSessionIdResolver cookie = new CookieHttpSessionIdResolver();\r\n    private static final HeaderHttpSessionIdResolver xauth = HeaderHttpSessionIdResolver.xAuthToken();\r\n\r\n    @Override\r\n    public List&lt;String&gt; resolveSessionIds(HttpServletRequest request) {\r\n        if (isXAuth(request)) {\r\n            return xauth.resolveSessionIds(request);\r\n        }\r\n        return cookie.resolveSessionIds(request);\r\n    }\r\n\r\n    @Override\r\n    public void setSessionId(HttpServletRequest request, HttpServletResponse response, String sessionId) {\r\n        if (isXAuth(request)) {\r\n            xauth.setSessionId(request, response, sessionId);\r\n        } else {\r\n            cookie.setSessionId(request, response, sessionId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void expireSession(HttpServletRequest request, HttpServletResponse response) {\r\n        if (isXAuth(request)) {\r\n            xauth.expireSession(request, response);\r\n        } else {\r\n            cookie.expireSession(request, response);\r\n        }\r\n    }\r\n\r\n    private boolean isXAuth(HttpServletRequest request) {\r\n        return request.getHeader(HEADER_X_AUTH_TOKEN) != null;\r\n    }\r\n}\r\n```","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>I want to use the HTTPSessionIdResolver for everything located under \"/api**\" and for everything else the standard CookieResolver. </p>\n\n<p>How is this possible, so that the two configurations use different resolvers? With my current approach everything uses X-AUTH.</p>\n\n<p>I tried to understand the implementation within Spring and I end up in the SessionRepositoryFilter, but of this filter only one instance is created, so der exists only one resolver.</p>\n\n<pre><code>    @EnableWebSecurity\n    public class TestConfig {\n\n    @EnableSpringHttpSession\n    @Configuration\n    @Order(1)\n    public static class Abc extends WebSecurityConfigurerAdapter {\n\n        @Bean\n        @Primary\n        public HeaderHttpSessionIdResolver xAuth() {\n            return HeaderHttpSessionIdResolver.xAuthToken();\n        }\n\n        @Bean\n        @Primary\n        public MapSessionRepository mapSessionRepository(){\n            return new MapSessionRepository(new HashMap&lt;&gt;());\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.antMatcher(\"/service/json/**\")\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .csrf()\n                .disable();\n        }\n\n    }\n\n    @EnableSpringHttpSession\n    @Configuration\n    @Order(2)\n    public static class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n        @ConfigurationProperties(prefix = \"spring.datasource\")\n        @Bean\n        @Primary\n        public DataSource dataSource() {\n            return DataSourceBuilder\n                    .create()\n                    .build();\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests()\n                .antMatchers(\"/css/**\", \"/user/registration\", \"/webfonts/**\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(\"/login\")\n                .permitAll()\n                .and()\n                .logout()\n                .permitAll();\n        }\n\n        @Bean\n        public BCryptPasswordEncoder bcrypt() {\n            return new BCryptPasswordEncoder();\n        }\n\n        @Bean\n        public JdbcUserDetailsManager userDetailsManager() {\n            JdbcUserDetailsManager manager = new UserDetailsManager(dataSource());\n            manager.setUsersByUsernameQuery(\"select username,password,enabled from users where username=?\");\n            manager.setAuthoritiesByUsernameQuery(\"select username,authority from authorities where username = ?\");\n            return manager;\n        }\n\n        @Autowired\n        public void initialize(AuthenticationManagerBuilder builder) throws Exception {\n            builder.userDetailsService(userDetailsManager()).passwordEncoder(bcrypt());\n        }\n     }\n  }\n</code></pre>\n\n<p>I could move the logic into one resolver which delegates the work to the existing resolvers, but this seems hacky?</p>\n\n<pre><code>public class SmartHttpSessionIdResolver implements HttpSessionIdResolver {\n\n    private static final String HEADER_X_AUTH_TOKEN = \"X-Auth-Token\";\n    private static final CookieHttpSessionIdResolver cookie = new CookieHttpSessionIdResolver();\n    private static final HeaderHttpSessionIdResolver xauth = HeaderHttpSessionIdResolver.xAuthToken();\n\n    @Override\n    public List&lt;String&gt; resolveSessionIds(HttpServletRequest request) {\n        if (isXAuth(request)) {\n            return xauth.resolveSessionIds(request);\n        }\n        return cookie.resolveSessionIds(request);\n    }\n\n    @Override\n    public void setSessionId(HttpServletRequest request, HttpServletResponse response, String sessionId) {\n        if (isXAuth(request)) {\n            xauth.setSessionId(request, response, sessionId);\n        } else {\n            cookie.setSessionId(request, response, sessionId);\n        }\n    }\n\n    @Override\n    public void expireSession(HttpServletRequest request, HttpServletResponse response) {\n        if (isXAuth(request)) {\n            xauth.expireSession(request, response);\n        } else {\n            cookie.expireSession(request, response);\n        }\n    }\n\n    private boolean isXAuth(HttpServletRequest request) {\n        return request.getHeader(HEADER_X_AUTH_TOKEN) != null;\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1371832757,"post_id":17240200,"comment_id":24981366,"body_markdown":"You would have to join the `List` yourself and send it as a `String`. The JSON spec says arrays are csv.","body":"You would have to join the <code>List</code> yourself and send it as a <code>String</code>. The JSON spec says arrays are csv."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371833458,"post_id":17240200,"comment_id":24981741,"body_markdown":"You&#39;ll probably need to `@JsonSerialize(contentUsing=someClass.class)` here","body":"You&#39;ll probably need to <code>@JsonSerialize(contentUsing=someClass.class)</code> here"},{"owner":{"account_id":83762,"reputation":1332,"user_id":234644,"accept_rate":73,"display_name":"3coins"},"score":0,"creation_date":1371834917,"post_id":17240200,"comment_id":24982468,"body_markdown":"Thanks. I am going to try @JsonSerialize annotation","body":"Thanks. I am going to try @JsonSerialize annotation"}],"answers":[{"tags":[],"owner":{"account_id":16257994,"reputation":26,"user_id":12228925,"display_name":"Roman Lymar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670341982,"creation_date":1670341982,"answer_id":74705412,"question_id":17240200,"body_markdown":"Try to use `String.join(&quot;;&quot;, list)`","title":"Jackson JSON Parser - Specifying delimiter to serialize List of String","body":"<p>Try to use <code>String.join(&quot;;&quot;, list)</code></p>\n"}],"owner":{"account_id":83762,"reputation":1332,"user_id":234644,"accept_rate":73,"display_name":"3coins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670341982,"creation_date":1371832597,"question_id":17240200,"body_markdown":"By default, a list of string &lt;code&gt;List&amp;lt;String&amp;gt;&lt;/code&gt; will be serialized as &quot;a,b,c&quot;, I want to serialize the list as &quot;a;b;c&quot; with semicolon as the delimiter. This only has to be on one property in a class. How can I do this?","title":"Jackson JSON Parser - Specifying delimiter to serialize List of String","body":"<p>By default, a list of string <code>List&lt;String&gt;</code> will be serialized as \"a,b,c\", I want to serialize the list as \"a;b;c\" with semicolon as the delimiter. This only has to be on one property in a class. How can I do this?</p>\n"},{"tags":["java","multithreading","jaxp"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1332442104,"post_id":9828254,"comment_id":12522598,"body_markdown":"possible duplicate of [Is DocumentBuilder.parse() thread safe?](http://stackoverflow.com/questions/56737/is-documentbuilder-parse-thread-safe)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/56737/is-documentbuilder-parse-thread-safe\">Is DocumentBuilder.parse() thread safe?</a>"},{"owner":{"account_id":13566,"reputation":48835,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":6,"creation_date":1332459966,"post_id":9828254,"comment_id":12528250,"body_markdown":"Not a duplicate, the question is whether it&#39;s safe for multiple threads to *construct* DocumentBuilders using the same factory, not whether it&#39;s safe to try to parse multiple documents with the same builder.","body":"Not a duplicate, the question is whether it&#39;s safe for multiple threads to <i>construct</i> DocumentBuilders using the same factory, not whether it&#39;s safe to try to parse multiple documents with the same builder."},{"owner":{"account_id":1418089,"reputation":2926,"user_id":1343275,"accept_rate":57,"display_name":"mukund"},"score":0,"creation_date":1626855845,"post_id":9828254,"comment_id":121000698,"body_markdown":"@DavidMoles did you reach a conclusion? the Java 8 documentation says `Once an application has obtained a reference to a DocumentBuilderFactory it can use the factory to configure and obtain parser instances.`","body":"@DavidMoles did you reach a conclusion? the Java 8 documentation says <code>Once an application has obtained a reference to a DocumentBuilderFactory it can use the factory to configure and obtain parser instances.</code>"},{"owner":{"account_id":13566,"reputation":48835,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":0,"creation_date":1626915055,"post_id":9828254,"comment_id":121021470,"body_markdown":"@mukund I never did, but I poked around the source code a bit and I&#39;d say it&#39;s probably not safe. See the [answer](https://stackoverflow.com/a/68477952/27358) I just added.","body":"@mukund I never did, but I poked around the source code a bit and I&#39;d say it&#39;s probably not safe. See the <a href=\"https://stackoverflow.com/a/68477952/27358\">answer</a> I just added."}],"answers":[{"tags":[],"owner":{"account_id":1345781,"reputation":144,"user_id":1286570,"display_name":"Pavel Rozenblioum"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1332440895,"creation_date":1332440895,"answer_id":9828316,"question_id":9828254,"body_markdown":"Since it would&#39;ve been in extremely poor taste to make it thread safe without telling my money is that it&#39;s still unsafe. You can test this yourself using breakpoints.","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>Since it would've been in extremely poor taste to make it thread safe without telling my money is that it's still unsafe. You can test this yourself using breakpoints.</p>\n"},{"tags":[],"owner":{"account_id":12501538,"reputation":838,"user_id":9099864,"display_name":"bdzzaid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546543356,"creation_date":1546543356,"answer_id":54028545,"question_id":9828254,"body_markdown":"According to the documentation of the singleton [DocumentBuilderFactory][1] the **newInstance** method is not **sychronized** and then, the DocumentBuilderFactory is still not a thread safe in Java 8... Neither in [Java 11][2]. Actually, the constructor didn&#39;t change since Java 1.4.\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html ","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>According to the documentation of the singleton <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"nofollow noreferrer\">DocumentBuilderFactory</a> the <strong>newInstance</strong> method is not <strong>sychronized</strong> and then, the DocumentBuilderFactory is still not a thread safe in Java 8... Neither in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"nofollow noreferrer\">Java 11</a>. Actually, the constructor didn't change since Java 1.4.</p>\n"},{"tags":[],"owner":{"account_id":13566,"reputation":48835,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626915020,"creation_date":1626915020,"answer_id":68477952,"question_id":9828254,"body_markdown":"I haven&#39;t actually looked at this in some time, but looking at the source for [`DocumentBuilderFactoryImpl`](https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl.java#L52-L79) and [`DocumentBuilderImpl`](https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L134-L239) it looks to me like it&#39;s probably a bad idea. The factory has a bunch of internal state, and the builder modifies that state during its construction -- see [the call to `setDocumentBuilderFactoryAttributes`](https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L235) in the `DocumentBuilderImpl` constructor.\r\n\r\nIf you knew you were never going to pass in those attributes, you might be able to get away with it, but to be safe I&#39;d want to wrap the whole thing in some other object that doesn&#39;t expose the dangerous bits, and I think it would be easier just to make sure you have a separate factory per thread.","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>I haven't actually looked at this in some time, but looking at the source for <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl.java#L52-L79\" rel=\"nofollow noreferrer\"><code>DocumentBuilderFactoryImpl</code></a> and <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L134-L239\" rel=\"nofollow noreferrer\"><code>DocumentBuilderImpl</code></a> it looks to me like it's probably a bad idea. The factory has a bunch of internal state, and the builder modifies that state during its construction -- see <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L235\" rel=\"nofollow noreferrer\">the call to <code>setDocumentBuilderFactoryAttributes</code></a> in the <code>DocumentBuilderImpl</code> constructor.</p>\n<p>If you knew you were never going to pass in those attributes, you might be able to get away with it, but to be safe I'd want to wrap the whole thing in some other object that doesn't expose the dangerous bits, and I think it would be easier just to make sure you have a separate factory per thread.</p>\n"},{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670341653,"creation_date":1670340571,"answer_id":74705090,"question_id":9828254,"body_markdown":"Looking into source code, the `DocumentBuilderFactory` is not thread-safe in a way that you could not manipulate it from multiple threads. However, if you create it once, configure with features/attributes/etc, you could pass it (with happens-before) into multiple threads and invoke `newDocumentBuilder` concurrenly.\r\n\r\nIt is a similar story as with e.g. simple collections like ArrayList. If you construct and populate it safely from a single thread, you could later _read_ it from multiple threads, but you are not allowed to _modify_ it without synchronisation.\r\n","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>Looking into source code, the <code>DocumentBuilderFactory</code> is not thread-safe in a way that you could not manipulate it from multiple threads. However, if you create it once, configure with features/attributes/etc, you could pass it (with happens-before) into multiple threads and invoke <code>newDocumentBuilder</code> concurrenly.</p>\n<p>It is a similar story as with e.g. simple collections like ArrayList. If you construct and populate it safely from a single thread, you could later <em>read</em> it from multiple threads, but you are not allowed to <em>modify</em> it without synchronisation.</p>\n"}],"owner":{"account_id":13566,"reputation":48835,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11590,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":68477952,"answer_count":4,"score":19,"last_activity_date":1670341653,"creation_date":1332440636,"question_id":9828254,"body_markdown":"The [Java 1.4 doc](http://docs.oracle.com/javase/1.4.2/docs/api/javax/xml/parsers/DocumentBuilderFactory.html) for `javax.xml.parsers.DocumentBuilderFactory` states in no uncertain terms:\r\n\r\n&gt; An implementation of the DocumentBuilderFactory class is NOT guaranteed to be thread safe. It is up to the user application to make sure about the use of the DocumentBuilderFactory from more than one thread. Alternatively the application can have one instance of the DocumentBuilderFactory per thread. An application can use the same instance of the factory to obtain one or more instances of the DocumentBuilder provided the instance of the factory isn&#39;t being used in more than one thread at a time.\r\n\r\nThe [Java 5](http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/parsers/DocumentBuilderFactory.html) and [Java 6](http://docs.oracle.com/javase/6/docs/api/javax/xml/parsers/DocumentBuilderFactory.html) docs, however, say nothing of the kind. Is `DocumentBuilderFactory` thread-safe now, or did Sun just decide the warning was overkill and people should know better?","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>The <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"noreferrer\">Java 1.4 doc</a> for <code>javax.xml.parsers.DocumentBuilderFactory</code> states in no uncertain terms:</p>\n\n<blockquote>\n  <p>An implementation of the DocumentBuilderFactory class is NOT guaranteed to be thread safe. It is up to the user application to make sure about the use of the DocumentBuilderFactory from more than one thread. Alternatively the application can have one instance of the DocumentBuilderFactory per thread. An application can use the same instance of the factory to obtain one or more instances of the DocumentBuilder provided the instance of the factory isn't being used in more than one thread at a time.</p>\n</blockquote>\n\n<p>The <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"noreferrer\">Java 5</a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"noreferrer\">Java 6</a> docs, however, say nothing of the kind. Is <code>DocumentBuilderFactory</code> thread-safe now, or did Sun just decide the warning was overkill and people should know better?</p>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1595411455,"post_id":63030841,"comment_id":111462564,"body_markdown":"Ideally you do this in the controller which should prepare the model (instead of putting this logic in the view). If you really want you should be able to do something like `${T(Math).max(8,12)}` as you can use SpEL in there. But as mentioned you probably should put this in the controller and only leave the rendering to the view.","body":"Ideally you do this in the controller which should prepare the model (instead of putting this logic in the view). If you really want you should be able to do something like <code>${T(Math).max(8,12)}</code> as you can use SpEL in there. But as mentioned you probably should put this in the controller and only leave the rendering to the view."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595410309,"creation_date":1595410309,"answer_id":63031125,"question_id":63030841,"body_markdown":"I don&#39;t think there is such a function in thymeleaf but you could easily implement conditionals for the same purpose\r\n\r\n     &lt;p th:text=&quot;8 &gt; 12 ? 8 : 12&quot;&gt;&lt;/p&gt;\r\n\r\nsame can be achieved with if/unless\r\n\r\n    &lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${foo}&gt;&lt;/p&gt;\r\n    &lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${bar}&gt;&lt;/p&gt;\r\n\r\nthere is even switch in thymeleaf baeldung.com/spring-thymeleaf-conditionals\r\n\r\nIf really neded you can create a class with all the necessary funcitonality in Java and pass that class as a variable to Thymeleaf in model.","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>I don't think there is such a function in thymeleaf but you could easily implement conditionals for the same purpose</p>\n<pre><code> &lt;p th:text=&quot;8 &gt; 12 ? 8 : 12&quot;&gt;&lt;/p&gt;\n</code></pre>\n<p>same can be achieved with if/unless</p>\n<pre><code>&lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${foo}&gt;&lt;/p&gt;\n&lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${bar}&gt;&lt;/p&gt;\n</code></pre>\n<p>there is even switch in thymeleaf baeldung.com/spring-thymeleaf-conditionals</p>\n<p>If really neded you can create a class with all the necessary funcitonality in Java and pass that class as a variable to Thymeleaf in model.</p>\n"},{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670341606,"creation_date":1595437481,"answer_id":63039560,"question_id":63030841,"body_markdown":"As commented, while there is no built in function in Thymeleaf, you can use the [special `T(...)` operator][1] to call static methods (allowing you to use Java&#39;s `Math.max(...)` in your Thymeleaf).\r\n\r\n    &lt;div th:with=&quot;maxNumber=${T(java.lang.Math).max(8,12)}&quot;&gt;\r\n      &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions-types","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>As commented, while there is no built in function in Thymeleaf, you can use the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions-types\" rel=\"nofollow noreferrer\">special <code>T(...)</code> operator</a> to call static methods (allowing you to use Java's <code>Math.max(...)</code> in your Thymeleaf).</p>\n<pre><code>&lt;div th:with=&quot;maxNumber=${T(java.lang.Math).max(8,12)}&quot;&gt;\n  &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651780741,"creation_date":1651780741,"answer_id":72132974,"question_id":63030841,"body_markdown":"If you are using the Spring dependency for Thymeleaf (which I couldn&#39;t, so I couldn&#39;t directly test this), looks like the utility logic (max number in this case) could be encapsulated in a Spring Bean to be referenced in Thymeleaf:\r\n\r\nhttps://www.thymeleaf.org/doc/articles/springmvcaccessdata.html#spring-beans\r\n\r\n```\r\n&lt;div th:text=&quot;${@urlService.getApplicationUrl()}&quot;&gt;...&lt;/div&gt;\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class MyConfiguration {\r\n  @Bean(name = &quot;urlService&quot;)\r\n  public UrlService urlService() {\r\n    return () -&gt; &quot;domain.com/myapp&quot;;\r\n  }\r\n}\r\n\r\npublic interface UrlService {\r\n  String getApplicationUrl();\r\n}\r\n```","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>If you are using the Spring dependency for Thymeleaf (which I couldn't, so I couldn't directly test this), looks like the utility logic (max number in this case) could be encapsulated in a Spring Bean to be referenced in Thymeleaf:</p>\n<p><a href=\"https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html#spring-beans\" rel=\"nofollow noreferrer\">https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html#spring-beans</a></p>\n<pre><code>&lt;div th:text=&quot;${@urlService.getApplicationUrl()}&quot;&gt;...&lt;/div&gt;\n</code></pre>\n<pre><code>@Configuration\npublic class MyConfiguration {\n  @Bean(name = &quot;urlService&quot;)\n  public UrlService urlService() {\n    return () -&gt; &quot;domain.com/myapp&quot;;\n  }\n}\n\npublic interface UrlService {\n  String getApplicationUrl();\n}\n</code></pre>\n"}],"owner":{"account_id":15260943,"reputation":323,"user_id":11010992,"display_name":"Insane DA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1670341606,"creation_date":1595409321,"question_id":63030841,"body_markdown":"While trying to use max function in thymeleaf I got OGNL expressionn everytime. I&#39;m not even sure if we can use functions like max/min in thymeleaf. Tried to look for it on the documentation, but couldn&#39;t find anything resourceful. This is the code where I want to use math.max :\r\n\r\n```\r\n  &lt;div th:with=&quot;maxNumber=${#max(8,12)}&quot;&gt;\r\n     &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\r\n  &lt;/div&gt;\r\n```\r\neven tried to use it in this way also : `   &lt;div th:with=&quot;maxNumber=${max(8,12)}&quot;&gt;` that gave the same error.","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>While trying to use max function in thymeleaf I got OGNL expressionn everytime. I'm not even sure if we can use functions like max/min in thymeleaf. Tried to look for it on the documentation, but couldn't find anything resourceful. This is the code where I want to use math.max :</p>\n<pre><code>  &lt;div th:with=&quot;maxNumber=${#max(8,12)}&quot;&gt;\n     &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\n  &lt;/div&gt;\n</code></pre>\n<p>even tried to use it in this way also : <code>   &lt;div th:with=&quot;maxNumber=${max(8,12)}&quot;&gt;</code> that gave the same error.</p>\n"},{"tags":["java","android","autofill"],"answers":[{"tags":[],"owner":{"account_id":18904088,"reputation":117,"user_id":13791565,"display_name":"Vaibhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670341471,"creation_date":1631344059,"answer_id":69140823,"question_id":69139331,"body_markdown":"You cannot detect an App launch in Android.\r\nHowever, you can get the list of currently open apps using [ActivityManager][1] class as shown below:\r\n\r\n```\r\nActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\nList&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessesList = activityManager.getRunningAppProcesses();\r\n\r\n```\r\n\r\nThen check if the app you are looking for is on the list.\r\n```\r\nint size = runningAppProcessesList.size();\r\nfor (int i = 0; i &lt; size; i++) \r\n{\r\n    ActivityManager.RunningAppProcessInfo processInfo = runningAppProcessesList.get(i);\r\n \r\n    if(processInfo.processName.equals(APPNAME)) {\r\n       //user has this app\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://developer.android.com/reference/android/app/ActivityManager.html","title":"Is there a way to identify the Apps names?","body":"<p>You cannot detect an App launch in Android.\nHowever, you can get the list of currently open apps using <a href=\"https://developer.android.com/reference/android/app/ActivityManager.html\" rel=\"nofollow noreferrer\">ActivityManager</a> class as shown below:</p>\n<pre><code>ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\nList&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessesList = activityManager.getRunningAppProcesses();\n\n</code></pre>\n<p>Then check if the app you are looking for is on the list.</p>\n<pre><code>int size = runningAppProcessesList.size();\nfor (int i = 0; i &lt; size; i++) \n{\n    ActivityManager.RunningAppProcessInfo processInfo = runningAppProcessesList.get(i);\n \n    if(processInfo.processName.equals(APPNAME)) {\n       //user has this app\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18904088,"reputation":117,"user_id":13791565,"display_name":"Vaibhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631368224,"creation_date":1631368224,"answer_id":69143612,"question_id":69139331,"body_markdown":"The above code snippet will work for the background apps.\r\nTo check if the app is running in the foreground, use the following code:   \r\n\r\n```\r\npublic static boolean isForeground(Context context, String myPackage){\r\n    ActivityManager manager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\r\n    List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1); \r\n\r\n    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\r\n    if(componentInfo.getPackageName().equals(myPackage)) {\r\n        return true;\r\n    }       \r\n    return false;\r\n}\r\n```\r\nYou just need to know the package name of the desired app.\r\nAnd since you wanna know about the auto-filling of the form, you may use [Autofill Service in Android][1].\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/text/autofill-services","title":"Is there a way to identify the Apps names?","body":"<p>The above code snippet will work for the background apps.\nTo check if the app is running in the foreground, use the following code:</p>\n<pre><code>public static boolean isForeground(Context context, String myPackage){\n    ActivityManager manager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\n    List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1); \n\n    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\n    if(componentInfo.getPackageName().equals(myPackage)) {\n        return true;\n    }       \n    return false;\n}\n</code></pre>\n<p>You just need to know the package name of the desired app.\nAnd since you wanna know about the auto-filling of the form, you may use <a href=\"https://developer.android.com/guide/topics/text/autofill-services\" rel=\"nofollow noreferrer\">Autofill Service in Android</a>.</p>\n"}],"owner":{"account_id":4766709,"reputation":16,"user_id":3852656,"accept_rate":50,"display_name":"Mlungisi Ndlela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670341471,"creation_date":1631323552,"question_id":69139331,"body_markdown":"I&#39;m developing a service with Auto-filling on third-party Apps forms. Now I need to know if there&#39;s a way to identify the third-party App name.\r\n\r\nThe reason for this is that I have a working web extension which already has the form information to be filled so now I want to also fill with these data if the user opens the same company Apps like for example a user opens Facebook or Messanger and when it show form my service will check if this user has already stored any data for Facebook or when the data is from the App and if the user let me save it for later user on other devices and platforms.\r\n\r\nIs it possible? I saw as if the overly service or filling service just generalize and I&#39;m not sure if I can group by App names based on the App the data was taken from.","title":"Is there a way to identify the Apps names?","body":"<p>I'm developing a service with Auto-filling on third-party Apps forms. Now I need to know if there's a way to identify the third-party App name.</p>\n<p>The reason for this is that I have a working web extension which already has the form information to be filled so now I want to also fill with these data if the user opens the same company Apps like for example a user opens Facebook or Messanger and when it show form my service will check if this user has already stored any data for Facebook or when the data is from the App and if the user let me save it for later user on other devices and platforms.</p>\n<p>Is it possible? I saw as if the overly service or filling service just generalize and I'm not sure if I can group by App names based on the App the data was taken from.</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":4,"creation_date":1449837396,"post_id":19889132,"comment_id":56191247,"body_markdown":"**This error is not particular to XSLT; it relates to XML parsing in general.**  Check not just your main XSLT file, but also any included/imported XSLT files (`../header.xsl`) as well as the XML input document being transformed, *[for each of the **three** possibilities I list in my answer below](http://stackoverflow.com/a/19898942/290085)*.","body":"<b>This error is not particular to XSLT; it relates to XML parsing in general.</b>  Check not just your main XSLT file, but also any included/imported XSLT files (<code>..&#47;header.xsl</code>) as well as the XML input document being transformed, <i><a href=\"http://stackoverflow.com/a/19898942/290085\">for each of the <b>three</b> possibilities I list in my answer below</a></i>."},{"owner":{"account_id":1771099,"reputation":2189,"user_id":1615830,"accept_rate":38,"display_name":"Dinidu Hewage"},"score":3,"creation_date":1620090967,"post_id":19889132,"comment_id":119092892,"body_markdown":"In my experience, there was a new empty line added to the beginning of the file accidentally. After removing that it worked fine. So I agree with the first comment.","body":"In my experience, there was a new empty line added to the beginning of the file accidentally. After removing that it worked fine. So I agree with the first comment."}],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":4,"up_vote_count":538,"is_accepted":false,"score":534,"last_activity_date":1403317581,"creation_date":1384144804,"answer_id":19898942,"question_id":19889132,"body_markdown":"**Xerces-based tools will emit the following error**\r\n\r\n    The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.\r\n\r\nwhen an [XML declaration][1] is encountered *anywhere other than at the top of an XML file.*\r\n\r\nThis is a valid diagnostic message; other XML parsers should issue a similar error message in this situation.\r\n\r\nTo correct the problem, check the following possibilities:\r\n----------------------------------------------------------\r\n\r\n 1. Some blank space or other ***visible* content exists before the `&lt;?xml ?&gt;`\r\n   declaration.**\r\n\r\n   **Resolution**: remove blank space or any other\r\n   visible content before the XML declaration.\r\n\r\n 2. Some ***invisible* content exists before the `&lt;?xml ?&gt;`\r\n    declaration.**     Most commonly this is a [Byte Order Mark\r\n    (BOM)][2].\r\n\r\n   **Resolution**:\r\n   Remove the BOM using techniques such as those suggested by the [W3C\r\n   page on the BOM in HTML.][3]\r\n\r\n 3. A **stray `&lt;?xml ?&gt;` declaration exists within the XML content.** \r\n    This    can happen when XML files are combined programmatically or\r\n    via    cut-and-paste.  There can only be one `&lt;?xml ?&gt;` declaration\r\n    in an    XML file, and it can only be at the top.\r\n\r\n   **Resolution**: Search for\r\n   `&lt;?xml` in a case-insensitive manner, and remove all but the top XML\r\n   declaration from the file.\r\n\r\n\r\n  [1]: http://www.w3.org/TR/REC-xml/#NT-XMLDecl\r\n  [2]: http://en.wikipedia.org/wiki/Byte_order_mark\r\n  [3]: http://www.w3.org/International/questions/qa-byte-order-mark#remove","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p><strong>Xerces-based tools will emit the following error</strong></p>\n\n<pre><code>The processing instruction target matching \"[xX][mM][lL]\" is not allowed.\n</code></pre>\n\n<p>when an <a href=\"http://www.w3.org/TR/REC-xml/#NT-XMLDecl\" rel=\"noreferrer\">XML declaration</a> is encountered <em>anywhere other than at the top of an XML file.</em></p>\n\n<p>This is a valid diagnostic message; other XML parsers should issue a similar error message in this situation.</p>\n\n<h2>To correct the problem, check the following possibilities:</h2>\n\n<ol>\n<li><p>Some blank space or other <strong><em>visible</em> content exists before the <code>&lt;?xml ?&gt;</code>\ndeclaration.</strong></p>\n\n<p><strong>Resolution</strong>: remove blank space or any other\nvisible content before the XML declaration.</p></li>\n<li><p>Some <strong><em>invisible</em> content exists before the <code>&lt;?xml ?&gt;</code>\ndeclaration.</strong>     Most commonly this is a <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">Byte Order Mark\n(BOM)</a>.</p>\n\n<p><strong>Resolution</strong>:\nRemove the BOM using techniques such as those suggested by the <a href=\"http://www.w3.org/International/questions/qa-byte-order-mark#remove\" rel=\"noreferrer\">W3C\npage on the BOM in HTML.</a></p></li>\n<li><p>A <strong>stray <code>&lt;?xml ?&gt;</code> declaration exists within the XML content.</strong> \nThis    can happen when XML files are combined programmatically or\nvia    cut-and-paste.  There can only be one <code>&lt;?xml ?&gt;</code> declaration\nin an    XML file, and it can only be at the top.</p>\n\n<p><strong>Resolution</strong>: Search for\n<code>&lt;?xml</code> in a case-insensitive manner, and remove all but the top XML\ndeclaration from the file.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1916933,"reputation":8906,"user_id":1729347,"display_name":"Peter Tadros"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1606951874,"creation_date":1487251470,"answer_id":42275262,"question_id":19889132,"body_markdown":"Another reason of the above error is corrupted jar file. I got the same error but for Junit when running unit tests. Removing jar and downloading it again fixed the issue.  ","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>Another reason of the above error is corrupted jar file. I got the same error but for Junit when running unit tests. Removing jar and downloading it again fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42697,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526787589,"creation_date":1526787589,"answer_id":50431441,"question_id":19889132,"body_markdown":"There was auto generated Copyright message in `XML` and a blank line before `&lt;resources&gt;` tag, once I removed it my build was successful.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXOM6.png","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>There was auto generated Copyright message in <code>XML</code> and a blank line before <code>&lt;resources&gt;</code> tag, once I removed it my build was successful.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sXOM6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sXOM6.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4639355,"reputation":241,"user_id":3759659,"accept_rate":33,"display_name":"pikimota"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527002314,"creation_date":1527002314,"answer_id":50471211,"question_id":19889132,"body_markdown":"in my case was a wrong path in a config file: file was not found (path was wrong) and it came out with this exception:\r\n\r\n&gt;  Error configuring from input stream. Initial cause was The processing\r\n&gt; instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>in my case was a wrong path in a config file: file was not found (path was wrong) and it came out with this exception:</p>\n\n<blockquote>\n  <p>Error configuring from input stream. Initial cause was The processing\n  instruction target matching \"[xX][mM][lL]\" is not allowed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":456596,"reputation":2626,"user_id":855443,"accept_rate":33,"display_name":"user855443"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536061232,"creation_date":1536061232,"answer_id":52165504,"question_id":19889132,"body_markdown":"I had a similar issue with 50,000 rdf/xml files in 5,000 directories (the Project Gutenberg catalog file). I solved it with riot (in the jena distribution)\r\n\r\nthe directory is cache/epub/NN/nn.rdf (where NN is a number)\r\n\r\nin the directory above the directory where all the files are, i.e. in cache\r\n\r\n    riot epub/*/*.rdf --output=turtle &gt; allTurtle.ttl\r\n\r\nThis produces possibly many warnings but the result is in a format which can be loaded into jena (using the fuseki web interface).\r\n\r\nsurprisingly simple (at least in this case).\r\n","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>I had a similar issue with 50,000 rdf/xml files in 5,000 directories (the Project Gutenberg catalog file). I solved it with riot (in the jena distribution)</p>\n\n<p>the directory is cache/epub/NN/nn.rdf (where NN is a number)</p>\n\n<p>in the directory above the directory where all the files are, i.e. in cache</p>\n\n<pre><code>riot epub/*/*.rdf --output=turtle &gt; allTurtle.ttl\n</code></pre>\n\n<p>This produces possibly many warnings but the result is in a format which can be loaded into jena (using the fuseki web interface).</p>\n\n<p>surprisingly simple (at least in this case).</p>\n"},{"tags":[],"owner":{"account_id":410896,"reputation":5002,"user_id":783004,"accept_rate":69,"display_name":"Beachhouse"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1560444954,"creation_date":1560444954,"answer_id":56585324,"question_id":19889132,"body_markdown":"For PHP, put this line of code before you start printing your XML:\r\n\r\n    while(ob_get_level()) ob_end_clean();","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>For PHP, put this line of code before you start printing your XML:</p>\n\n<pre><code>while(ob_get_level()) ob_end_clean();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1702904,"reputation":16002,"user_id":1562548,"accept_rate":58,"display_name":"Chintan Khetiya"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1615285689,"creation_date":1615285689,"answer_id":66545096,"question_id":19889132,"body_markdown":"Debug your XML file. Either there is space or added extra or fewer tags.\r\n\r\nFor better understanding build the project through the command line. Windows: `gradlew build`\r\n\r\nIn my case, AndroidManifest.xml has a blank space at the very first line\r\n\r\n    &lt;Empty Row&gt; // This Creates the issue \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>Debug your XML file. Either there is space or added extra or fewer tags.</p>\n<p>For better understanding build the project through the command line. Windows: <code>gradlew build</code></p>\n<p>In my case, AndroidManifest.xml has a blank space at the very first line</p>\n<pre><code>&lt;Empty Row&gt; // This Creates the issue \n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1074771,"reputation":1325,"user_id":1073157,"accept_rate":50,"display_name":"Dan Rayson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626971908,"creation_date":1626971908,"answer_id":68488573,"question_id":19889132,"body_markdown":"It&#39;s worth checking your server&#39;s folders to see if there&#39;s a stray pom.xml hanging around.\r\n\r\nI found that I had the problem everyone else described with a malformed pom.xml, but in a folder that I didn&#39;t expect to be on the server.  An old build was sticking around unwelcome D:","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>It's worth checking your server's folders to see if there's a stray pom.xml hanging around.</p>\n<p>I found that I had the problem everyone else described with a malformed pom.xml, but in a folder that I didn't expect to be on the server.  An old build was sticking around unwelcome D:</p>\n"},{"tags":[],"owner":{"account_id":3773795,"reputation":935,"user_id":3135210,"accept_rate":50,"display_name":"buqing"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635345460,"creation_date":1635345460,"answer_id":69740674,"question_id":19889132,"body_markdown":"For my case, the tab is the trouble maker. Replace the tab with blank should resolve the issue","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>For my case, the tab is the trouble maker. Replace the tab with blank should resolve the issue</p>\n"},{"tags":[],"owner":{"account_id":14178727,"reputation":176,"user_id":10243101,"display_name":"KaranKulshrestha"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1645691081,"creation_date":1645691081,"answer_id":71249040,"question_id":19889132,"body_markdown":"just remove this line: `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;` because this kind of error only come because of this line or you might also check the format of your line according the mentioned line in this answer.","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>just remove this line: <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code> because this kind of error only come because of this line or you might also check the format of your line according the mentioned line in this answer.</p>\n"}],"owner":{"account_id":429982,"reputation":7176,"user_id":813159,"accept_rate":74,"display_name":"Eslam Hamdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340933,"favorite_count":0,"down_vote_count":0,"up_vote_count":274,"accepted_answer_id":66545096,"answer_count":10,"score":274,"last_activity_date":1670341297,"creation_date":1384082733,"question_id":19889132,"body_markdown":"This error,\r\n\r\n&gt; The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed\r\n\r\noccurs whenever I run an XSLT page that begins as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;windows-1256&quot;?&gt; \r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n      &lt;xsl:include href=&quot;../header.xsl&quot;/&gt;\r\n      &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;xsl:call-template name=&quot;pstyle&quot;/&gt;\r\n        &lt;xsl:call-template name=&quot;Validation&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;strLang&quot;&gt;\r\n          &lt;xsl:value-of select=&quot;//lang&quot;/&gt;\r\n        &lt;/xsl:variable&gt;\r\n        &lt;!-- ////////////// Page Title ///////////// --&gt;\r\n        &lt;title&gt;\r\n    \t    &lt;xsl:value-of select=&quot;//ListStudentFinishedExam.Title&quot;/&gt;\r\n        &lt;/title&gt;\r\n\r\n**Note**: I removed any leading spaces before the first line, but the error still occurs!\r\n","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>This error,</p>\n\n<blockquote>\n  <p>The processing instruction target matching \"[xX][mM][lL]\" is not allowed</p>\n</blockquote>\n\n<p>occurs whenever I run an XSLT page that begins as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"windows-1256\"?&gt; \n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n  &lt;xsl:include href=\"../header.xsl\"/&gt;\n  &lt;xsl:template match=\"/\"&gt;\n    &lt;xsl:call-template name=\"pstyle\"/&gt;\n    &lt;xsl:call-template name=\"Validation\"/&gt;\n    &lt;xsl:variable name=\"strLang\"&gt;\n      &lt;xsl:value-of select=\"//lang\"/&gt;\n    &lt;/xsl:variable&gt;\n    &lt;!-- ////////////// Page Title ///////////// --&gt;\n    &lt;title&gt;\n        &lt;xsl:value-of select=\"//ListStudentFinishedExam.Title\"/&gt;\n    &lt;/title&gt;\n</code></pre>\n\n<p><strong>Note</strong>: I removed any leading spaces before the first line, but the error still occurs!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1601566383,"post_id":64158223,"comment_id":113453642,"body_markdown":"Maybe `grabFocus()` will work?","body":"Maybe <code>grabFocus()</code> will work?"},{"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"score":0,"creation_date":1601570208,"post_id":64158223,"comment_id":113455536,"body_markdown":"@camickr thank you for advice but JFrame dosent have grabFocus method. I tried homePage.getRootPane().grabFocus() but still dosent work.","body":"@camickr thank you for advice but JFrame dosent have grabFocus method. I tried homePage.getRootPane().grabFocus() but still dosent work."}],"answers":[{"tags":[],"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601574920,"creation_date":1601573750,"answer_id":64160516,"question_id":64158223,"body_markdown":"I tried an ugly solution using robot to simulate the user click to gain the focus. The cursor will disappear for a moment when the click method invoked. But it actually works (gain focus successfully)\r\n\r\nWhat I did is:\r\n\r\n1.\r\n\r\n    RobotTool.click((int)windowLocation.getX(), (int)windowLocation.getY());\r\n2.\r\n\r\n```\r\npublic class RobotTool {\r\n    private static Robot robot = Singleton.get(Robot.class);\r\n\r\n    public static void click(int x, int y){\r\n\r\n        Point mouseInitPosition = MouseInfo.getPointerInfo().getLocation();\r\n        int mask = InputEvent.BUTTON1_MASK;\r\n        robot.mouseMove(x, y);\r\n        try{\r\n            // wait 100ms to avoid the robot action out of order\r\n            Thread.sleep(100);\r\n        }\r\n        catch (InterruptedException e){\r\n            e.printStackTrace();\r\n        }\r\n        robot.mousePress(mask);\r\n        robot.mouseRelease(mask);\r\n        robot.mouseMove((int)mouseInitPosition.getX(), (int)mouseInitPosition.getY());\r\n    }\r\n}\r\n```","title":"Java Swing how to let the JFrame gain focus","body":"<p>I tried an ugly solution using robot to simulate the user click to gain the focus. The cursor will disappear for a moment when the click method invoked. But it actually works (gain focus successfully)</p>\n<p>What I did is:</p>\n<p>1.</p>\n<pre><code>RobotTool.click((int)windowLocation.getX(), (int)windowLocation.getY());\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>public class RobotTool {\n    private static Robot robot = Singleton.get(Robot.class);\n\n    public static void click(int x, int y){\n\n        Point mouseInitPosition = MouseInfo.getPointerInfo().getLocation();\n        int mask = InputEvent.BUTTON1_MASK;\n        robot.mouseMove(x, y);\n        try{\n            // wait 100ms to avoid the robot action out of order\n            Thread.sleep(100);\n        }\n        catch (InterruptedException e){\n            e.printStackTrace();\n        }\n        robot.mousePress(mask);\n        robot.mouseRelease(mask);\n        robot.mouseMove((int)mouseInitPosition.getX(), (int)mouseInitPosition.getY());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601969123,"creation_date":1601964996,"answer_id":64220284,"question_id":64158223,"body_markdown":"Usually when you want to gain focus in a parent container (such as `JPanel`, `JFrame`, etc) you request the focus by calling `requestFocusInWindow()` method into one of its children. \r\n\r\nI suggest you, to not asking for focus in the `JFrame`. Call `requestFocusInWindow()` in one of its components.\r\n\r\nNow in terms of UX, I would give the focus back to last component that was focused. In order to get the focused component of a `JFrame` we call `jframe.getFocusOwner()`. However, if the `JFrame` is in state `MINIMIZED` or is in background, since it does not have focus, `getFocusOwner` returns `null`.\r\n\r\nSo, in order to find the last component that was focused before calling your global key listener, you can register a global AWT listener for focus events as well:\r\n\r\n\tToolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\r\n\t\tif (e.getID() == FocusEvent.FOCUS_LOST) {\r\n\t\t\tif (e.getSource() instanceof Component) {\r\n\t\t\t\tlastFocusedComponent = (Component) e.getSource();\r\n\t\t\t}\r\n\t\t}\r\n\t}, FocusEvent.FOCUS_EVENT_MASK);\r\n\r\nListener will be fired every time the focus changes. So you get the actual last component with focus safely, eliminating the chance to be `null` since it is the one that fires the event.\r\n\r\nAll you have to do after it, is to call `requestFocusInWindow` to it:\r\n\r\n\tprovider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\r\n\t\tframe.setVisible(!frame.isVisible());\r\n\t\tif (frame.isVisible())\r\n\t\t\tSwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\r\n\t});\r\n\r\nA full example that works (you can confirm your self that the focus is restored):\r\n\r\n    public class FocusExample {\r\n    \tprivate static Component lastFocusedComponent;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; {\r\n    \r\n    \t\t\tJFrame frame = new JFrame();\r\n    \t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\t\tJTextField leftField = new JTextField(10);\r\n    \t\t\tJTextField rightField = new JTextField(10);\r\n    \r\n    \t\t\tframe.setLayout(new FlowLayout());\r\n    \t\t\tframe.add(leftField);\r\n    \t\t\tframe.add(rightField);\r\n    \r\n    \t\t\tToolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\r\n    \t\t\t\tif (e.getID() == FocusEvent.FOCUS_LOST) {\r\n    \t\t\t\t\tif (e.getSource() instanceof Component) {\r\n    \t\t\t\t\t\tlastFocusedComponent = (Component) e.getSource();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}, FocusEvent.FOCUS_EVENT_MASK);\r\n    \r\n    \t\t\tProvider provider = Provider.getCurrentProvider(true);\r\n    \r\n    \t\t\tprovider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\r\n    \t\t\t\tframe.setVisible(!frame.isVisible());\r\n    \t\t\t\tif (frame.isVisible())\r\n    \t\t\t\t\tSwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\r\n    \t\t\t});\r\n    \r\n    \t\t\tframe.pack();\r\n    \t\t\tframe.setLocationByPlatform(true);\r\n    \t\t\tframe.setVisible(true);\r\n    \t\t});\r\n    \r\n    \t}\r\n    }","title":"Java Swing how to let the JFrame gain focus","body":"<p>Usually when you want to gain focus in a parent container (such as <code>JPanel</code>, <code>JFrame</code>, etc) you request the focus by calling <code>requestFocusInWindow()</code> method into one of its children.</p>\n<p>I suggest you, to not asking for focus in the <code>JFrame</code>. Call <code>requestFocusInWindow()</code> in one of its components.</p>\n<p>Now in terms of UX, I would give the focus back to last component that was focused. In order to get the focused component of a <code>JFrame</code> we call <code>jframe.getFocusOwner()</code>. However, if the <code>JFrame</code> is in state <code>MINIMIZED</code> or is in background, since it does not have focus, <code>getFocusOwner</code> returns <code>null</code>.</p>\n<p>So, in order to find the last component that was focused before calling your global key listener, you can register a global AWT listener for focus events as well:</p>\n<pre><code>Toolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\n    if (e.getID() == FocusEvent.FOCUS_LOST) {\n        if (e.getSource() instanceof Component) {\n            lastFocusedComponent = (Component) e.getSource();\n        }\n    }\n}, FocusEvent.FOCUS_EVENT_MASK);\n</code></pre>\n<p>Listener will be fired every time the focus changes. So you get the actual last component with focus safely, eliminating the chance to be <code>null</code> since it is the one that fires the event.</p>\n<p>All you have to do after it, is to call <code>requestFocusInWindow</code> to it:</p>\n<pre><code>provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\n    frame.setVisible(!frame.isVisible());\n    if (frame.isVisible())\n        SwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\n});\n</code></pre>\n<p>A full example that works (you can confirm your self that the focus is restored):</p>\n<pre><code>public class FocusExample {\n    private static Component lastFocusedComponent;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n\n            JFrame frame = new JFrame();\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            JTextField leftField = new JTextField(10);\n            JTextField rightField = new JTextField(10);\n\n            frame.setLayout(new FlowLayout());\n            frame.add(leftField);\n            frame.add(rightField);\n\n            Toolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\n                if (e.getID() == FocusEvent.FOCUS_LOST) {\n                    if (e.getSource() instanceof Component) {\n                        lastFocusedComponent = (Component) e.getSource();\n                    }\n                }\n            }, FocusEvent.FOCUS_EVENT_MASK);\n\n            Provider provider = Provider.getCurrentProvider(true);\n\n            provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\n                frame.setVisible(!frame.isVisible());\n                if (frame.isVisible())\n                    SwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\n            });\n\n            frame.pack();\n            frame.setLocationByPlatform(true);\n            frame.setVisible(true);\n        });\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670341260,"creation_date":1601564984,"question_id":64158223,"body_markdown":"I&#39;m developing a java swing application. I wish to achieve such result: press shortcut to let the app window show up. press shortcut again or click otherwhere to let the app hide.\r\n\r\nI use jkeymaster to register to listen the event of global shortcut and it works well.\r\nBut when the user focus on some other window, like chrome, office... the focus window will be other application. Then if the user use the shortcut. My app windows will still show up but cannot gain focus. Could anyone help me to solve it. Here&#39;s my code snippet.\r\n\r\n        Provider provider = Provider.getCurrentProvider(true);\r\n        // bind shortcut\r\n        provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, Toolkit.getDefaultToolkit().getMenuShortcutKeyMask()), x -&gt; {\r\n            homePage.setVisible(!homePage.isVisible());\r\n            if(homePage.isVisible()){\r\n                // TODO: 2020/10/1 request focus here\r\n                homePage.requestFocusInWindow();\r\n                homePage.requestFocus();\r\n\r\n                KeyboardFocusManager focusManager = KeyboardFocusManager.getCurrentKeyboardFocusManager();\r\n                focusManager.clearGlobalFocusOwner();\r\n\r\n                log.info(&quot;hasFocus &quot; + homePage.hasFocus());\r\n                log.info(&quot;isActive &quot; + homePage.isActive());\r\n            }\r\n        });\r\n\r\nWhat I have tried:\r\n1. requestFocus and requestFocusInWindow, doesn&#39;t work\r\n2. I read the source code of requestFocus. It says \r\n```\r\n     * This method cannot be used to set the focus owner to no Component at\r\n     * all. Use &lt;code&gt;KeyboardFocusManager.clearGlobalFocusOwner()&lt;/code&gt;\r\n     * instead.\r\n```\r\nSo I tried focusManager.clearGlobalFocusOwner() but it still doesn&#39;t work.","title":"Java Swing how to let the JFrame gain focus","body":"<p>I'm developing a java swing application. I wish to achieve such result: press shortcut to let the app window show up. press shortcut again or click otherwhere to let the app hide.</p>\n<p>I use jkeymaster to register to listen the event of global shortcut and it works well.\nBut when the user focus on some other window, like chrome, office... the focus window will be other application. Then if the user use the shortcut. My app windows will still show up but cannot gain focus. Could anyone help me to solve it. Here's my code snippet.</p>\n<pre><code>    Provider provider = Provider.getCurrentProvider(true);\n    // bind shortcut\n    provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, Toolkit.getDefaultToolkit().getMenuShortcutKeyMask()), x -&gt; {\n        homePage.setVisible(!homePage.isVisible());\n        if(homePage.isVisible()){\n            // TODO: 2020/10/1 request focus here\n            homePage.requestFocusInWindow();\n            homePage.requestFocus();\n\n            KeyboardFocusManager focusManager = KeyboardFocusManager.getCurrentKeyboardFocusManager();\n            focusManager.clearGlobalFocusOwner();\n\n            log.info(&quot;hasFocus &quot; + homePage.hasFocus());\n            log.info(&quot;isActive &quot; + homePage.isActive());\n        }\n    });\n</code></pre>\n<p>What I have tried:</p>\n<ol>\n<li>requestFocus and requestFocusInWindow, doesn't work</li>\n<li>I read the source code of requestFocus. It says</li>\n</ol>\n<pre><code>     * This method cannot be used to set the focus owner to no Component at\n     * all. Use &lt;code&gt;KeyboardFocusManager.clearGlobalFocusOwner()&lt;/code&gt;\n     * instead.\n</code></pre>\n<p>So I tried focusManager.clearGlobalFocusOwner() but it still doesn't work.</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670341119,"creation_date":1670341119,"answer_id":74705222,"question_id":74705166,"body_markdown":"Make your custom repo generic:\r\n\r\n    public interface DataRepo&lt;T&gt; {\r\n    \r\n      List&lt;T&gt; findAllEmptyData();\r\n      List&lt;T&gt; findAllByCreatedAtBefore(String createdAt);\r\n    }\r\n\r\nAnd then use it for example with bTable:\r\n\r\n    public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo&lt;bTable&gt; {","title":"convert or cast output of JpaRepository","body":"<p>Make your custom repo generic:</p>\n<pre><code>public interface DataRepo&lt;T&gt; {\n\n  List&lt;T&gt; findAllEmptyData();\n  List&lt;T&gt; findAllByCreatedAtBefore(String createdAt);\n}\n</code></pre>\n<p>And then use it for example with bTable:</p>\n<pre><code>public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo&lt;bTable&gt; {\n</code></pre>\n"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74705222,"answer_count":1,"score":2,"last_activity_date":1670341119,"creation_date":1670340872,"question_id":74705166,"body_markdown":"I have three interfaces that extend JpaRepository and a custom interface that has two functions. These two functions have their special output in each of three interfaces.\r\nI implement it with List&lt;Object&gt; in the custom interface, so I have to use same output in the three interfaces, but I need to convert them to their special type. \r\nHere is the custom interface:\r\n\r\n    public interface DataRepo {\r\n    \r\n      List&lt;Object&gt; findAllEmptyData();\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(String createdAt);\r\n    }\r\n\r\nAnd here are the three interfaces:\r\n\r\n    public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo {\r\n    \r\n      @Query(&quot;SELECT b FROM bTable b WHERE b.value is null AND b.data&quot;)\r\n      List&lt;Object&gt; findAllEmptyData();\r\n    \r\n      @Query(&quot;SELECT b FROM bTable b WHERE b.createdAt &lt; ?1&quot;)\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;bTable&gt;\r\n    }\r\n    \r\n    public interface cTableRepo extends JpaRepository&lt;cTable, Integer&gt;, DataRepo {\r\n    \r\n      @Query(&quot;SELECT c FROM cTable c WHERE c.value is null AND c.dData is null AND c.date is null&quot;)\r\n      List&lt;Object&gt; findAllEmptyData();\r\n    \r\n      @Query(&quot;SELECT c FROM cTable c WHERE c.createdAt &lt; ?1&quot;)\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;cTable&gt;\r\n    }\r\n    \r\n    public interface dTableRepo extends JpaRepository&lt;dTable, Integer&gt;, DataRepo {\r\n    \r\n      @Query(&quot;SELECT d FROM dTable d WHERE d.value is null AND d.date is null AND d.DateAndTime is null&quot;)\r\n      List&lt;Object&gt; findAllEmptyData();\r\n    \r\n      @Query(&quot;SELECT d FROM cTable d WHERE d.createdAt &lt; ?1&quot;)\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;dTable&gt;\r\n    }","title":"convert or cast output of JpaRepository","body":"<p>I have three interfaces that extend JpaRepository and a custom interface that has two functions. These two functions have their special output in each of three interfaces.\nI implement it with List in the custom interface, so I have to use same output in the three interfaces, but I need to convert them to their special type.\nHere is the custom interface:</p>\n<pre><code>public interface DataRepo {\n\n  List&lt;Object&gt; findAllEmptyData();\n  List&lt;Object&gt; findAllByCreatedAtBefore(String createdAt);\n}\n</code></pre>\n<p>And here are the three interfaces:</p>\n<pre><code>public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo {\n\n  @Query(&quot;SELECT b FROM bTable b WHERE b.value is null AND b.data&quot;)\n  List&lt;Object&gt; findAllEmptyData();\n\n  @Query(&quot;SELECT b FROM bTable b WHERE b.createdAt &lt; ?1&quot;)\n  List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;bTable&gt;\n}\n\npublic interface cTableRepo extends JpaRepository&lt;cTable, Integer&gt;, DataRepo {\n\n  @Query(&quot;SELECT c FROM cTable c WHERE c.value is null AND c.dData is null AND c.date is null&quot;)\n  List&lt;Object&gt; findAllEmptyData();\n\n  @Query(&quot;SELECT c FROM cTable c WHERE c.createdAt &lt; ?1&quot;)\n  List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;cTable&gt;\n}\n\npublic interface dTableRepo extends JpaRepository&lt;dTable, Integer&gt;, DataRepo {\n\n  @Query(&quot;SELECT d FROM dTable d WHERE d.value is null AND d.date is null AND d.DateAndTime is null&quot;)\n  List&lt;Object&gt; findAllEmptyData();\n\n  @Query(&quot;SELECT d FROM cTable d WHERE d.createdAt &lt; ?1&quot;)\n  List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;dTable&gt;\n}\n</code></pre>\n"},{"tags":["java","string","memory"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1670340725,"post_id":74705030,"comment_id":131851250,"body_markdown":"The internal size of the string isn&#39;t supposed to matter - you need it for a buffer, so you&#39;ll be copying the data to the buffer. You are not going to allocate a Java string in your buffer, as that is impossible. Also note that you should use `.getBytes(...)` with a specific encoding, not leave it to the system default.","body":"The internal size of the string isn&#39;t supposed to matter - you need it for a buffer, so you&#39;ll be copying the data to the buffer. You are not going to allocate a Java string in your buffer, as that is impossible. Also note that you should use <code>.getBytes(...)</code> with a specific encoding, not leave it to the system default."}],"answers":[{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670340963,"creation_date":1670340963,"answer_id":74705185,"question_id":74705030,"body_markdown":"You may use .getBytes().length but to avoid the problem of UTF-16 chars then use getBytes(StandardCharsets.UTF_8).length","title":"How can I find the memory size of a string","body":"<p>You may use .getBytes().length but to avoid the problem of UTF-16 chars then use getBytes(StandardCharsets.UTF_8).length</p>\n"}],"owner":{"account_id":20063064,"reputation":1,"user_id":14709377,"display_name":"Andrei Stan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670340963,"creation_date":1670340359,"question_id":74705030,"body_markdown":"I need to check if the size of a string is less than 1MB for the Binder transaction buffer which has a limit of 1MB.\r\nAlso the string may be UTF-16 encoded.\r\n\r\n I found these 2 methods but I don&#39;t know if they are good. \r\n- [minimum memory usage of a Java String](https://www.javamex.com/tutorials/memory/string_memory_usage.shtml?fbclid=IwAR0F6eJKRrk2ZlPvqwogd6Ou9KAC4aBT-oKp7vN7dXDr6-tLT4G4gfj9F6Q) which uses the following: \r\n(bytes) = 8 * (int) ((((no chars)&#160;* 2) + 45) / 8)\r\n- or using .getBytes().length (but I don&#39;t know what happens if UTF-16 chars appear)\r\n","title":"How can I find the memory size of a string","body":"<p>I need to check if the size of a string is less than 1MB for the Binder transaction buffer which has a limit of 1MB.\nAlso the string may be UTF-16 encoded.</p>\n<p>I found these 2 methods but I don't know if they are good.</p>\n<ul>\n<li><a href=\"https://www.javamex.com/tutorials/memory/string_memory_usage.shtml?fbclid=IwAR0F6eJKRrk2ZlPvqwogd6Ou9KAC4aBT-oKp7vN7dXDr6-tLT4G4gfj9F6Q\" rel=\"nofollow noreferrer\">minimum memory usage of a Java String</a> which uses the following:\n(bytes) = 8 * (int) ((((no chars)* 2) + 45) / 8)</li>\n<li>or using .getBytes().length (but I don't know what happens if UTF-16 chars appear)</li>\n</ul>\n"},{"tags":["java","arrays","algorithm","bubble-sort"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"score":0,"creation_date":1467831863,"post_id":38231668,"comment_id":63885323,"body_markdown":"looks like a good point to read /learn java collections....","body":"looks like a good point to read /learn java collections...."},{"owner":{"account_id":4864493,"reputation":352,"user_id":3923199,"display_name":"CSK"},"score":0,"creation_date":1467832452,"post_id":38231668,"comment_id":63885646,"body_markdown":"using Set datatype instead of arraylist","body":"using Set datatype instead of arraylist"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1467897065,"post_id":38231668,"comment_id":63913803,"body_markdown":"Perhaps it doesn&#39;t work because your bubble sort is wrong. You&#39;re starting at `a.length-3` and going down, which means that the last two items in the array are never sorted.","body":"Perhaps it doesn&#39;t work because your bubble sort is wrong. You&#39;re starting at <code>a.length-3</code> and going down, which means that the last two items in the array are never sorted."}],"answers":[{"tags":[],"owner":{"account_id":1641422,"reputation":1769,"user_id":1513773,"accept_rate":93,"display_name":"A. Mashreghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1467834405,"creation_date":1467834405,"answer_id":38232543,"question_id":38231668,"body_markdown":"You only  need to change your delete for loop as follows:\r\n\r\n    for(int i=0;i&lt;a.length-count;){\r\n            if(a[i]==a[i+1]){\r\n                for(int j=i;j&lt;a.length-count;j++){\r\n                   a[j]=a[j+1];\r\n                }\r\n                count++;\r\n            }\r\n            else{\r\n                i++;\r\n            }\r\n     }\r\n\r\nBecause if you always do i++ (even when all the elements were shifted), then you miss some repetitions. Actually, when a shifting is done it is like i has been incremented. So, you only need to increment i when the if doesn&#39;t happen.","title":"how to delete repeated elements from a sorted array","body":"<p>You only  need to change your delete for loop as follows:</p>\n\n<pre><code>for(int i=0;i&lt;a.length-count;){\n        if(a[i]==a[i+1]){\n            for(int j=i;j&lt;a.length-count;j++){\n               a[j]=a[j+1];\n            }\n            count++;\n        }\n        else{\n            i++;\n        }\n }\n</code></pre>\n\n<p>Because if you always do i++ (even when all the elements were shifted), then you miss some repetitions. Actually, when a shifting is done it is like i has been incremented. So, you only need to increment i when the if doesn't happen.</p>\n"}],"owner":{"account_id":5453228,"reputation":3,"user_id":4337437,"display_name":"rahul alvares"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":38232543,"answer_count":1,"score":-2,"last_activity_date":1670340598,"creation_date":1467831160,"question_id":38231668,"body_markdown":"As you can see here this is a program which is to sort elements in ascending order and delete any repeated elements. The problem here is with the &#39;delete&#39; snippet. It works for an array of 5 elements where the values(1,3,3,5,5) are in any order because the &#39;sort&#39; snippet takes care of that. However if you take a sequence say(1,1,1,2,1,3) the deletion does not take place completely. Can someone please tell me where I&#39;m going wrong?\r\n\r\n    import java.util.*;\r\n\r\n    class Random \r\n    { \r\n\t \r\n\t static int count=2;\r\n\tpublic static void main(String[] args) \t\t\t\r\n\t{\r\n\t\t\r\n\t        Scanner sc=new Scanner(System.in);\r\n\t        System.out.println(&quot;How many elements are in your set?&quot;);// gets your elements\r\n\t        int input=sc.nextInt();\r\n\t       \r\n\t        int Subsets=No_of_subsets(input);\r\n\t        // to accept elements\r\n\t        int arr[]=new int[input+2];\r\n\t        accept(arr);\r\n\t        //to sort and delete repeated elements\r\n\r\n\t        sortanddelete(arr);\r\n\t        System.out.println(&quot;Array a=&quot;);\r\n\t        for(int i=0;i&lt;arr.length-count;i++)\r\n\t        {\r\n\t        \tSystem.out.println(arr[i]);\r\n\t        }\r\n\t  System.out.println(&quot;Count&quot;+count);\r\n\t}\r\n\tpublic static int No_of_subsets(int a )\r\n\t{\r\n\t\tdouble ab=Math.pow(2, a);\r\n\t\tint ans=(int)ab;\r\n\t\tSystem.out.println(&quot;Your superset will have &quot;+ans+&quot; subsets&quot;);\r\n\t\treturn (int)ans;\r\n\t}\r\n\t\r\n\tpublic static int[] accept(int a[])\r\n\t{\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter your array elements&quot;);\r\n\t\tfor(int i=0;i&lt;a.length-2;i++){\r\n\t\t\ta[i]=sc.nextInt();\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\t\r\n\tpublic static int[] sortanddelete(int a[])\r\n\t{\r\n\t\tint temp;\r\n\t\tfor(int i=a.length-3;i&gt;0;i--){\r\n\t\t\tfor(int j=0;j&lt;i;j++){\r\n\t\t\t\tif(a[j]&gt;a[j+1]){\r\n\t\t\t\t\ttemp=a[j];\r\n\t\t\t\t\ta[j]=a[j+1];\r\n\t\t\t\t\ta[j+1]=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\t\r\n\t\tfor(int i=0;i&lt;a.length-count;i++){\r\n\t\t\tif(a[i]==a[i+1]){\r\n\t\t\t\tfor(int j=i;j&lt;a.length-count;j++){\r\n\t\t\t\ta[j]=a[j+1];\r\n\t\t\t}\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\treturn a;\r\n\t}\r\n\r\n\t\r\n    }\r\n\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n","title":"how to delete repeated elements from a sorted array","body":"<p>As you can see here this is a program which is to sort elements in ascending order and delete any repeated elements. The problem here is with the 'delete' snippet. It works for an array of 5 elements where the values(1,3,3,5,5) are in any order because the 'sort' snippet takes care of that. However if you take a sequence say(1,1,1,2,1,3) the deletion does not take place completely. Can someone please tell me where I'm going wrong?</p>\n<pre><code>import java.util.*;\n\nclass Random \n{ \n \n static int count=2;\npublic static void main(String[] args)          \n{\n    \n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;How many elements are in your set?&quot;);// gets your elements\n        int input=sc.nextInt();\n       \n        int Subsets=No_of_subsets(input);\n        // to accept elements\n        int arr[]=new int[input+2];\n        accept(arr);\n        //to sort and delete repeated elements\n\n        sortanddelete(arr);\n        System.out.println(&quot;Array a=&quot;);\n        for(int i=0;i&lt;arr.length-count;i++)\n        {\n            System.out.println(arr[i]);\n        }\n  System.out.println(&quot;Count&quot;+count);\n}\npublic static int No_of_subsets(int a )\n{\n    double ab=Math.pow(2, a);\n    int ans=(int)ab;\n    System.out.println(&quot;Your superset will have &quot;+ans+&quot; subsets&quot;);\n    return (int)ans;\n}\n\npublic static int[] accept(int a[])\n{\n    Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;Enter your array elements&quot;);\n    for(int i=0;i&lt;a.length-2;i++){\n        a[i]=sc.nextInt();\n    }\n    return a;\n}\n\npublic static int[] sortanddelete(int a[])\n{\n    int temp;\n    for(int i=a.length-3;i&gt;0;i--){\n        for(int j=0;j&lt;i;j++){\n            if(a[j]&gt;a[j+1]){\n                temp=a[j];\n                a[j]=a[j+1];\n                a[j+1]=temp;\n            }\n        }\n    }\n    \n\n    \n    for(int i=0;i&lt;a.length-count;i++){\n        if(a[i]==a[i+1]){\n            for(int j=i;j&lt;a.length-count;j++){\n            a[j]=a[j+1];\n        }\n        count++;\n    }\n    }\n    \n\n    return a;\n}\n\n\n}\n\n    \n    \n    \n    \n    \n</code></pre>\n"},{"tags":["java","unit-testing","powermock"],"answers":[{"tags":[],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670340535,"creation_date":1670340535,"answer_id":74705082,"question_id":74704485,"body_markdown":"Found an answer. Leaving this for anybody who is having some issue.\r\n\r\nProblem was that I was adding interface class not actual implementation class. &lt;b&gt;Changing `@PrepareForTest(KeyVaultService.class)` to `@PrepareForTest(KeyVaultServiceImpl.class)`&lt;/b&gt; works.","title":"PowerMock not creating mock for new final object instance","body":"<p>Found an answer. Leaving this for anybody who is having some issue.</p>\n<p>Problem was that I was adding interface class not actual implementation class. <b>Changing <code>@PrepareForTest(KeyVaultService.class)</code> to <code>@PrepareForTest(KeyVaultServiceImpl.class)</code></b> works.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670340535,"creation_date":1670338176,"question_id":74704485,"body_markdown":"I am writing an unit test for method that instantiates final class like this:\r\n```\r\n    public Mono&lt;String&gt; getSecret(String key) {\r\n        SecretClientBuilder secretClientBuilder = new SecretClientBuilder();\r\n        secretClientBuilder = secretClientBuilder.vaultUrl(keyVaultUrl);\r\n        secretClientBuilder = secretClientBuilder.credential(new DefaultAzureCredentialBuilder().build());\r\n        SecretClient secretClient = secretClientBuilder.buildClient();\r\n        KeyVaultSecret retrievedSecret = secretClient.getSecret(key);\r\n        return Mono.just(retrievedSecret.getValue());\r\n    }\r\n```\r\n`SecretClient` and `SecretClientBuilder` are imported from azure library. In order to test this, I am trying to use `PowerMockito`\r\n\r\nMy approach is to create mock object when `new SecretClientBuilder()` is called so when that mock object is calling methods such as `.vaultUrl()` or `.credential()`, I can make my test to return a mocked objects. Here is my starting code:\r\n```\r\n    @Before\r\n    public void before() {\r\n        keyVaultService = new KeyVaultServiceImpl(KEY_VAULT_URL);\r\n    }\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        SecretClientBuilder secretClientBuilder = mock(SecretClientBuilder.class);\r\n        PowerMockito.whenNew(SecretClientBuilder.class).withNoArguments().thenReturn(secretClientBuilder);\r\n        PowerMockito.when(secretClientBuilder.vaultUrl(anyString())).thenReturn(secretClientBuilder);\r\n        keyVaultService.getSecret(CLIENT_ID_KEY);\r\n    }\r\n```\r\n\r\nHowever, test fails because when `SecretClientBuilder` is being instantiated, it does not return the mock object. Instead, it creates a new instance of `SecretClientBuilder` when `SecretClientBuilder secretClientBuilder = new SecretClientBuilder()`.\r\n\r\nHow can I instantiate `SecretClientBuilder` object using PowerMockito? &lt;b&gt;`SecretClientBuilder` is final class. &lt;/b&gt;\r\n\r\nEdit:\r\nThis is what I am using for class annotations:\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({KeyVaultService.class, SecretClientBuilder.class})\r\n```\r\nI tried only using either classes in `@PrepareForTest` and nothing works with same behavior.\r\n\r\n\r\nEdit2: I was testing with `TestService` to see if final was an issue. It was not. Here is my TestService:\r\n```\r\npublic class TestService {\r\n    \r\n    public String test() {\r\n        return &quot;actual&quot;;\r\n    }\r\n```\r\nand here is my KeyVaultService: \r\n```\r\n    public Mono&lt;String&gt; getSecret(String key) {\r\n        TestService testService = new TestService();\r\n        System.out.println(testService.test());\r\n        ...\r\n    }\r\n```\r\nand my test:\r\n```\r\n    @Test\r\n    public void test() throws Exception {\r\n        TestService mock = mock(TestService.class);\r\n        PowerMockito.whenNew(TestService .class).withAnyArguments().thenReturn(mock);\r\n        PowerMockito.when(mock.test()).thenReturn(&quot;mock&quot;);\r\n        keyVaultService.getSecret(CLIENT_ID_KEY);//should print &quot;mock&quot;\r\n    }\r\n```\r\nBut it prints &quot;actual&quot; meaning mocked object was never created when `new TestService();` was called. Is my understanding of PowerMockito and whenNew wrong somewhere?","title":"PowerMock not creating mock for new final object instance","body":"<p>I am writing an unit test for method that instantiates final class like this:</p>\n<pre><code>    public Mono&lt;String&gt; getSecret(String key) {\n        SecretClientBuilder secretClientBuilder = new SecretClientBuilder();\n        secretClientBuilder = secretClientBuilder.vaultUrl(keyVaultUrl);\n        secretClientBuilder = secretClientBuilder.credential(new DefaultAzureCredentialBuilder().build());\n        SecretClient secretClient = secretClientBuilder.buildClient();\n        KeyVaultSecret retrievedSecret = secretClient.getSecret(key);\n        return Mono.just(retrievedSecret.getValue());\n    }\n</code></pre>\n<p><code>SecretClient</code> and <code>SecretClientBuilder</code> are imported from azure library. In order to test this, I am trying to use <code>PowerMockito</code></p>\n<p>My approach is to create mock object when <code>new SecretClientBuilder()</code> is called so when that mock object is calling methods such as <code>.vaultUrl()</code> or <code>.credential()</code>, I can make my test to return a mocked objects. Here is my starting code:</p>\n<pre><code>    @Before\n    public void before() {\n        keyVaultService = new KeyVaultServiceImpl(KEY_VAULT_URL);\n    }\n\n    @Test\n    public void test() throws Exception {\n        SecretClientBuilder secretClientBuilder = mock(SecretClientBuilder.class);\n        PowerMockito.whenNew(SecretClientBuilder.class).withNoArguments().thenReturn(secretClientBuilder);\n        PowerMockito.when(secretClientBuilder.vaultUrl(anyString())).thenReturn(secretClientBuilder);\n        keyVaultService.getSecret(CLIENT_ID_KEY);\n    }\n</code></pre>\n<p>However, test fails because when <code>SecretClientBuilder</code> is being instantiated, it does not return the mock object. Instead, it creates a new instance of <code>SecretClientBuilder</code> when <code>SecretClientBuilder secretClientBuilder = new SecretClientBuilder()</code>.</p>\n<p>How can I instantiate <code>SecretClientBuilder</code> object using PowerMockito? <b><code>SecretClientBuilder</code> is final class. </b></p>\n<p>Edit:\nThis is what I am using for class annotations:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({KeyVaultService.class, SecretClientBuilder.class})\n</code></pre>\n<p>I tried only using either classes in <code>@PrepareForTest</code> and nothing works with same behavior.</p>\n<p>Edit2: I was testing with <code>TestService</code> to see if final was an issue. It was not. Here is my TestService:</p>\n<pre><code>public class TestService {\n    \n    public String test() {\n        return &quot;actual&quot;;\n    }\n</code></pre>\n<p>and here is my KeyVaultService:</p>\n<pre><code>    public Mono&lt;String&gt; getSecret(String key) {\n        TestService testService = new TestService();\n        System.out.println(testService.test());\n        ...\n    }\n</code></pre>\n<p>and my test:</p>\n<pre><code>    @Test\n    public void test() throws Exception {\n        TestService mock = mock(TestService.class);\n        PowerMockito.whenNew(TestService .class).withAnyArguments().thenReturn(mock);\n        PowerMockito.when(mock.test()).thenReturn(&quot;mock&quot;);\n        keyVaultService.getSecret(CLIENT_ID_KEY);//should print &quot;mock&quot;\n    }\n</code></pre>\n<p>But it prints &quot;actual&quot; meaning mocked object was never created when <code>new TestService();</code> was called. Is my understanding of PowerMockito and whenNew wrong somewhere?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670340421,"creation_date":1670340421,"answer_id":74705047,"question_id":74704943,"body_markdown":"You can start a Service or BroadcastReceiver.  You can&#39;t start an Activity from the background anymore except under very specific circumstances.","title":"Can we start Our app when the phone starts on Android API 30?","body":"<p>You can start a Service or BroadcastReceiver.  You can't start an Activity from the background anymore except under very specific circumstances.</p>\n"}],"owner":{"account_id":27166727,"reputation":1,"user_id":20704139,"display_name":"Hamidreza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670340421,"creation_date":1670340059,"question_id":74704943,"body_markdown":"i wrote these in my manifest:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n```\r\n\r\n```\r\n&lt;receiver android:name=&quot;.StartMyServiceAtBootReceiver&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nand this is my java class:\r\n\r\n\r\n```\r\npublic class StartMyServiceAtBootReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(final Context context, Intent intent) {\r\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())){\r\n            Toast.makeText(context, &quot;Your Device Rebooted&quot;, Toast.LENGTH_SHORT).show();\r\n            Intent activityIntent = new Intent(context, MainActivity.class);\r\n            activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(activityIntent);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI wrote these codes many time but still not working. I think it&#39;s not working because i&#39;am using API 30. Can you please help me:","title":"Can we start Our app when the phone starts on Android API 30?","body":"<p>i wrote these in my manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n</code></pre>\n<pre><code>&lt;receiver android:name=&quot;.StartMyServiceAtBootReceiver&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>and this is my java class:</p>\n<pre><code>public class StartMyServiceAtBootReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(final Context context, Intent intent) {\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())){\n            Toast.makeText(context, &quot;Your Device Rebooted&quot;, Toast.LENGTH_SHORT).show();\n            Intent activityIntent = new Intent(context, MainActivity.class);\n            activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            context.startActivity(activityIntent);\n        }\n    }\n}\n</code></pre>\n<p>I wrote these codes many time but still not working. I think it's not working because i'am using API 30. Can you please help me:</p>\n"},{"tags":["java","hibernate","jpa","jackson","deserialization"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670340650,"post_id":74705005,"comment_id":131851216,"body_markdown":"`seller varchar(100) NOT NULL`. What does your ticket look like before `daoticket.save(ticket);`? I assume that no seller is set","body":"<code>seller varchar(100) NOT NULL</code>. What does your ticket look like before <code>daoticket.save(ticket);</code>? I assume that no seller is set"},{"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"score":0,"creation_date":1670341004,"post_id":74705005,"comment_id":131851341,"body_markdown":"All the data in the database is set by the SQL Script. Or what do you mean with no seller is set? Where? I don&#39;t really know how Java persistence works... So how could I set a seller? \n-&gt;&gt; I do not want to change the Database.\n\nMy POST contains: \n{\n    &quot;code&quot;: 14,\n    &quot;event&quot;: 132,\n    &quot;type&quot;: &quot;dance&quot;,\n    &quot;price&quot;: 17.5,\n    &quot;seller&quot;: &quot;pepe&quot;\n}","body":"All the data in the database is set by the SQL Script. Or what do you mean with no seller is set? Where? I don&#39;t really know how Java persistence works... So how could I set a seller?  -&gt;&gt; I do not want to change the Database.  My POST contains:  {     &quot;code&quot;: 14,     &quot;event&quot;: 132,     &quot;type&quot;: &quot;dance&quot;,     &quot;price&quot;: 17.5,     &quot;seller&quot;: &quot;pepe&quot; }"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670341266,"post_id":74705005,"comment_id":131851425,"body_markdown":"You have the seller ID in the JSON, but not the seller object, which is what you need to persist it correctly. Fetch the user from DB using the ID, call `ticket.setUser(sellerFromDB);` and only then `daoticket.save(ticket);`","body":"You have the seller ID in the JSON, but not the seller object, which is what you need to persist it correctly. Fetch the user from DB using the ID, call <code>ticket.setUser(sellerFromDB);</code> and only then <code>daoticket.save(ticket);</code>"},{"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"score":0,"creation_date":1670342270,"post_id":74705005,"comment_id":131851795,"body_markdown":"Ok sound logic, thanks. \nSo I would create a UserDAO Class to access the Database and fetch the User object or how would you do it?","body":"Ok sound logic, thanks.  So I would create a UserDAO Class to access the Database and fetch the User object or how would you do it?"},{"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"score":0,"creation_date":1670347394,"post_id":74705005,"comment_id":131853805,"body_markdown":"I still don&#39;t understand how to access the ID (seller) in the JSON without loosing the other data. It should be possible without changing the Entitiy right? So if I set &quot;@Responsebody Ticket ticket, I cannot access the ID because it is null and to set  &quot;@Responsebody String json, and extract the String is not the way to do I guess...","body":"I still don&#39;t understand how to access the ID (seller) in the JSON without loosing the other data. It should be possible without changing the Entitiy right? So if I set &quot;@Responsebody Ticket ticket, I cannot access the ID because it is null and to set  &quot;@Responsebody String json, and extract the String is not the way to do I guess..."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670352324,"post_id":74705005,"comment_id":131855407,"body_markdown":"Try serializing a java object that is &#39;correct&#39; in the database to JSON. You need to make sure that the process is completely reversible or JPA will give you problems, and the JSON you are using isn&#39;t correct. JSON-&gt;Java must not be working for you and your &#39;user&#39; property left as null. Try maybe sending an object: &quot;user&quot;:{&quot;alias&quot;:&quot;pepe&quot;} instead. Or make sure you send the seller &quot;pepe&quot; in the json some how so your parser can build it correctly.","body":"Try serializing a java object that is &#39;correct&#39; in the database to JSON. You need to make sure that the process is completely reversible or JPA will give you problems, and the JSON you are using isn&#39;t correct. JSON-&gt;Java must not be working for you and your &#39;user&#39; property left as null. Try maybe sending an object: &quot;user&quot;:{&quot;alias&quot;:&quot;pepe&quot;} instead. Or make sure you send the seller &quot;pepe&quot; in the json some how so your parser can build it correctly."}],"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670340292,"creation_date":1670340292,"question_id":74705005,"body_markdown":"I want to add a new Ticket to my SQL Database.\r\nTicket has 2 PK: event and code;\r\n\r\nI created Entitys with Composite Keys and want to execute POST requests. I always get &quot;Column &#39;seller&#39; cannot be null&quot;. Anyone here knows how to work with **Java Persistence** and so on?\r\n\r\nI tried it with IdClass and Embeddable but I get errors for both. It&#39;s just the inserting of a new Object in the Database. GET Requests work fine...\r\nI tried different annotations but for now nothing worked. I probably don&#39;t really understand the concept of Java Persistence, but I also dont have to time to go trough it the whole way. So of it&#39;s obvious, please explain a little what it does... Thanks in advance!\r\n\r\n\r\n\r\n\r\n\r\nMy Entities:\r\n\r\n\r\n\r\nEvent.java\r\n```\r\n@Entity\r\n@Table(name=&quot;events&quot;)\r\n@NamedQuery(name=&quot;Event.findAll&quot;, query=&quot;SELECT e FROM Event e&quot;)\r\npublic class Event implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate long id;\r\n\r\n\tprivate String category;\r\n\r\n\tprivate String city;\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\tprivate Date date;\r\n\r\n\t@Column(name=&quot;image_path&quot;)\r\n\tprivate String imagePath;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate String venue;\r\n\r\n\t//bi-directional one-to-many association to Ticket\r\n\t@OneToMany(mappedBy=&quot;eventBean&quot;)\r\n\t@JsonManagedReference(value=&quot;eventBean&quot;)\r\n\tprivate List&lt;Ticket&gt; tickets;\r\n\r\n\tpublic Event() {\r\n\t}\r\n```\r\n\r\n\r\nTicket.java\r\n```\r\n@Entity\r\n@Table(name=&quot;tickets&quot;)\r\n@IdClass(TicketPK.class)\r\n//@NamedQuery(name=&quot;Ticket.findAll&quot;, query=&quot;SELECT t FROM Ticket t&quot;)\r\npublic class Ticket implements Serializable{\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\tprivate long code;\r\n\t\r\n\t@Id\r\n\tprivate long event;\r\n\r\n\tprivate float price;\r\n\r\n\tprivate String type;\r\n\t\r\n\t//@Column(insertable=false, updatable=false)\r\n\t//private long event;\r\n\r\n\t//bi-directional many-to-one association to Event\r\n\t//One Event can have many tickets\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JsonBackReference(value=&quot;eventBean&quot;)\r\n\t@JoinColumn(name=&quot;event&quot;,nullable = false,insertable=false,updatable=false)\r\n\tprivate Event eventBean;\r\n\r\n\t//bi-directional many-to-one association to User\r\n\t//One User can have many tickets\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JsonBackReference(value=&quot;seller&quot;)\r\n\t@JoinColumn(name=&quot;seller&quot;, referencedColumnName = &quot;alias&quot;)\r\n\tprivate User user;\r\n\r\n\tpublic Ticket() {\r\n\t}\r\n\t\r\n\tpublic Ticket(long event, float price, Event eventBean, User user) {\r\n\t\tthis.event = event;\r\n\t\tthis.price = price;\r\n\t\tthis.eventBean = eventBean;\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n   //getters and setters\r\n\r\n```\r\n\r\n\r\n```\r\npublic class TicketPK implements Serializable {\r\n\t//default serial version id, required for serializable classes.\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t//@Basic\r\n\t//@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t//@Column(name=&quot;code&quot;, nullable=false)\r\n\tprivate long code;\r\n\r\n\t//@Basic\r\n\t//@Column(name=&quot;event&quot;,insertable=false)\r\n\tprivate long event;\r\n\r\n\tpublic TicketPK() {\r\n\t}\r\n\t\r\n\tpublic TicketPK(long code, long event) {\r\n\t\tthis.code = code;\r\n\t\tthis.event = event;\r\n\t}\r\n\t\r\n//getters and setters\r\n\r\n\tpublic boolean equals(Object other) {\r\n\t\tif (this.equals(other)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!(other instanceof TicketPK)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tTicketPK castOther = (TicketPK)other;\r\n\t\treturn \r\n\t\t\t(this.code == castOther.code)\r\n\t\t\t&amp;&amp; (this.event == castOther.event);\r\n\t}\r\n\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint hash = 17;\r\n\t\thash = hash * prime + ((int) (this.code ^ (this.code &gt;&gt;&gt; 32)));\r\n\t\thash = hash * prime + ((int) (this.event ^ (this.event &gt;&gt;&gt; 32)));\r\n\t\t\r\n\t\treturn hash;\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nUser.java\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\n@NamedQuery(name=&quot;User.findAll&quot;, query=&quot;SELECT u FROM User u&quot;)\r\npublic class User implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate String alias;\r\n\r\n\tprivate String address;\r\n\r\n\t@Column(name=&quot;admin_status&quot;)\r\n\tprivate byte adminStatus;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate String password;\r\n\r\n\t@Column(name=&quot;phone_number&quot;)\r\n\tprivate int phoneNumber;\r\n\r\n\t//bi-directional one-to-many association to Ticket\r\n\t//One User can have many Tickets\r\n\t@OneToMany(mappedBy=&quot;user&quot;)\r\n\t@JsonManagedReference(value=&quot;seller&quot;)\r\n\tprivate List&lt;Ticket&gt; tickets;\r\n\r\n\tpublic User() {\r\n\t}\r\n```\r\n\r\n\r\nDAO\r\n----------------------------\r\nTicketDAO\r\n\r\n```\r\npublic interface TicketDAO extends CrudRepository&lt;Ticket, TicketPK&gt;{\r\n\r\n\tpublic List&lt;Ticket&gt; findAll();\r\n}\r\n```\r\n\r\n\r\nController\r\n----------------------------\r\n\r\n```\r\n@Controller\r\n@CrossOrigin\r\npublic class MyController {\r\n\r\n\t@Autowired\r\n\tTicketDAO daoticket;\r\n\t\r\n\t/****************** OPERATIONS ON Tickets ************************************/\r\n\r\n\t\r\n\t\r\n\t@RequestMapping(value=&quot;/tickets&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;Ticket&gt; createTicket(@RequestBody Ticket ticket) {\r\n\t\t\r\n\t\tResponseEntity&lt;Ticket&gt; response;\r\n\t\t\r\n\t\tTicket newTicket = daoticket.save(ticket);\r\n\t\tif (newTicket == null) {\r\n\t\t\tresponse = new ResponseEntity&lt;&gt;(HttpStatus.NOT_MODIFIED);\r\n\t\t} else {\r\n\t\t\tresponse = new ResponseEntity&lt;&gt;(newTicket, HttpStatus.CREATED);\r\n\t\t}\r\n\t\treturn response;\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\nSQL Database\r\n----------------------------\r\n\r\n\r\n```\r\nCREATE DATABASE IF NOT EXISTS `BD89_03_ticketsell`;\r\nUSE `BD89_03_ticketsell`;\r\n\r\nDROP TABLE IF EXISTS `TICKETS`;\r\nDROP TABLE IF EXISTS `EVENTS`;\r\nDROP TABLE IF EXISTS `USERS`;\r\n\r\nCREATE TABLE `users` (\r\n\t`name` varchar(100),\r\n    `alias` varchar(100) NOT NULL UNIQUE,\r\n    `password` varchar(100) NOT NULL,\r\n    `address` varchar(100),\r\n    `phone_number` int(10),\r\n    `admin_status` boolean NOT NULL,\r\n    PRIMARY KEY(`alias`)\r\n);\r\n\r\nCREATE TABLE `events`(\r\n\t`id` bigint NOT NULL UNIQUE AUTO_INCREMENT,\r\n    `name` varchar(100) NOT NULL,\r\n    `category` varchar(100) NOT NULL,\r\n    `date` date NOT NULL,\r\n    `city`varchar(100) NOT NULL,\r\n    `venue` varchar(100) NOT NULL,\r\n    `image_path` varchar(300) NOT NULL,\r\n\tPRIMARY KEY(`id`)\r\n);\r\n\r\n\r\nCREATE TABLE `tickets`(\r\n\t`code` bigint NOT NULL,\r\n    `event` bigint NOT NULL,\r\n    `type` varchar(100),\r\n    `price` FLOAT(10,2) NOT NULL,\r\n    `seller` varchar(100) NOT NULL,\r\n\tPRIMARY KEY(`code`, `event`),\r\n    FOREIGN KEY(`seller`) REFERENCES `users`(`alias`),\r\n    FOREIGN KEY(`event`) REFERENCES `events`(`id`)\r\n);\r\n\r\nINSERT INTO events (`name`, `category`, `date`, `city`, `venue`, `image_path`)\r\nVALUES (&#39;Cut Cupy&#39;, &#39;indie dance&#39;, &#39;2024-01-22&#39;, &#39;Madrid&#39;, &#39;La Riviera&#39;, &#39;images/CUT-COPY2.png&#39;),\r\n(&#39;Dub Inc Tour 2022&#39;, &#39;reggae&#39;, &#39;2021-05-03&#39;, &#39;Madrid&#39;, &#39;Sala Sol&#39;, &#39;images/DUB-INC-TOUR.jpg&#39;),\r\n(&#39;Kodaline&#39;, &#39;folk&#39;, &#39;2022-03-15&#39;, &#39;Sevilla&#39;, &#39;Tablao el gitanillo&#39;, &#39;images/Kodaline.png&#39;);\r\n\r\nINSERT INTO users (`name`,`alias`,`password`,`address`,`phone_number`, `admin_status`)\r\nVALUES (&#39;pepe&#39;, &#39;pepe&#39;, &#39;password&#39;, &#39;17 Calle&#39;, &#39;628791051&#39;, TRUE),\r\n(&#39;pepe2&#39;, &#39;pepe2&#39;, &#39;password&#39;, &#39;0 Calle&#39;, &#39;628791052&#39;, FALSE),\r\n(&#39;elisa&#39;, &#39;elisacool&#39;, &#39;contrase&#241;a&#39;, &#39;3 Calle&#39;, &#39;628791053&#39;, FALSE);\r\n\r\nINSERT INTO tickets (`code`,`event`,`type`,`price`,`seller`)\r\nVALUES (&#39;1234&#39;, &#39;1&#39;, &#39;palco&#39;, &#39;17.5&#39;, &#39;pepe&#39;),\r\n(&#39;666666&#39;, &#39;3&#39;, &#39;silla&#39;, &#39;20&#39;, &#39;elisacool&#39;),\r\n(&#39;666666&#39;, &#39;1&#39;, &#39;anfiteatro&#39;, &#39;12&#39;, &#39;pepe2&#39;),\r\n(&#39;222222&#39;, &#39;2&#39;, &#39;palco 3&#39;, &#39;21.47&#39;, &#39;elisacool&#39;),\r\n(&#39;444666&#39;, &#39;3&#39;, &#39;plat&#243;&#39;, &#39;5&#39;, &#39;pepe&#39;),\r\n(&#39;111111&#39;, &#39;2&#39;, &#39;palco 2&#39;, &#39;40.99&#39;, &#39;elisacool&#39;);\r\n```\r\n\r\nConsole Error\r\n----------------------------\r\n\r\n```\r\n2022-12-06 15:52:46.186  WARN 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\r\n2022-12-06 15:52:46.186 ERROR 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;seller&#39; cannot be null\r\n2022-12-06 15:52:46.186  INFO 9656 --- [io-10303-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n2022-12-06 15:52:46.199 ERROR 9656 --- [io-10303-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n\r\n\r\njava.sql.SQLIntegrityConstraintViolationException: Column &#39;seller&#39; cannot be null\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\t\r\n.\r\n.\r\n.\r\n```\r\n\r\n\r\n\r\n","title":"java.sql.SQLIntegrityConstraintViolationException: Column &#39;*&#39; cannot be null - Java Persistence - JPA - Hibernate","body":"<p>I want to add a new Ticket to my SQL Database.\nTicket has 2 PK: event and code;</p>\n<p>I created Entitys with Composite Keys and want to execute POST requests. I always get &quot;Column 'seller' cannot be null&quot;. Anyone here knows how to work with <strong>Java Persistence</strong> and so on?</p>\n<p>I tried it with IdClass and Embeddable but I get errors for both. It's just the inserting of a new Object in the Database. GET Requests work fine...\nI tried different annotations but for now nothing worked. I probably don't really understand the concept of Java Persistence, but I also dont have to time to go trough it the whole way. So of it's obvious, please explain a little what it does... Thanks in advance!</p>\n<p>My Entities:</p>\n<p>Event.java</p>\n<pre><code>@Entity\n@Table(name=&quot;events&quot;)\n@NamedQuery(name=&quot;Event.findAll&quot;, query=&quot;SELECT e FROM Event e&quot;)\npublic class Event implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private long id;\n\n    private String category;\n\n    private String city;\n\n    @Temporal(TemporalType.DATE)\n    private Date date;\n\n    @Column(name=&quot;image_path&quot;)\n    private String imagePath;\n\n    private String name;\n\n    private String venue;\n\n    //bi-directional one-to-many association to Ticket\n    @OneToMany(mappedBy=&quot;eventBean&quot;)\n    @JsonManagedReference(value=&quot;eventBean&quot;)\n    private List&lt;Ticket&gt; tickets;\n\n    public Event() {\n    }\n</code></pre>\n<p>Ticket.java</p>\n<pre><code>@Entity\n@Table(name=&quot;tickets&quot;)\n@IdClass(TicketPK.class)\n//@NamedQuery(name=&quot;Ticket.findAll&quot;, query=&quot;SELECT t FROM Ticket t&quot;)\npublic class Ticket implements Serializable{\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private long code;\n    \n    @Id\n    private long event;\n\n    private float price;\n\n    private String type;\n    \n    //@Column(insertable=false, updatable=false)\n    //private long event;\n\n    //bi-directional many-to-one association to Event\n    //One Event can have many tickets\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JsonBackReference(value=&quot;eventBean&quot;)\n    @JoinColumn(name=&quot;event&quot;,nullable = false,insertable=false,updatable=false)\n    private Event eventBean;\n\n    //bi-directional many-to-one association to User\n    //One User can have many tickets\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JsonBackReference(value=&quot;seller&quot;)\n    @JoinColumn(name=&quot;seller&quot;, referencedColumnName = &quot;alias&quot;)\n    private User user;\n\n    public Ticket() {\n    }\n    \n    public Ticket(long event, float price, Event eventBean, User user) {\n        this.event = event;\n        this.price = price;\n        this.eventBean = eventBean;\n        this.user = user;\n    }\n\n   //getters and setters\n\n</code></pre>\n<pre><code>public class TicketPK implements Serializable {\n    //default serial version id, required for serializable classes.\n    private static final long serialVersionUID = 1L;\n\n    //@Basic\n    //@GeneratedValue(strategy = GenerationType.AUTO)\n    //@Column(name=&quot;code&quot;, nullable=false)\n    private long code;\n\n    //@Basic\n    //@Column(name=&quot;event&quot;,insertable=false)\n    private long event;\n\n    public TicketPK() {\n    }\n    \n    public TicketPK(long code, long event) {\n        this.code = code;\n        this.event = event;\n    }\n    \n//getters and setters\n\n    public boolean equals(Object other) {\n        if (this.equals(other)) {\n            return true;\n        }\n        if (!(other instanceof TicketPK)) {\n            return false;\n        }\n        TicketPK castOther = (TicketPK)other;\n        return \n            (this.code == castOther.code)\n            &amp;&amp; (this.event == castOther.event);\n    }\n\n    public int hashCode() {\n        final int prime = 31;\n        int hash = 17;\n        hash = hash * prime + ((int) (this.code ^ (this.code &gt;&gt;&gt; 32)));\n        hash = hash * prime + ((int) (this.event ^ (this.event &gt;&gt;&gt; 32)));\n        \n        return hash;\n    }\n\n\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;)\n@NamedQuery(name=&quot;User.findAll&quot;, query=&quot;SELECT u FROM User u&quot;)\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private String alias;\n\n    private String address;\n\n    @Column(name=&quot;admin_status&quot;)\n    private byte adminStatus;\n\n    private String name;\n\n    private String password;\n\n    @Column(name=&quot;phone_number&quot;)\n    private int phoneNumber;\n\n    //bi-directional one-to-many association to Ticket\n    //One User can have many Tickets\n    @OneToMany(mappedBy=&quot;user&quot;)\n    @JsonManagedReference(value=&quot;seller&quot;)\n    private List&lt;Ticket&gt; tickets;\n\n    public User() {\n    }\n</code></pre>\n<h2>DAO</h2>\n<p>TicketDAO</p>\n<pre><code>public interface TicketDAO extends CrudRepository&lt;Ticket, TicketPK&gt;{\n\n    public List&lt;Ticket&gt; findAll();\n}\n</code></pre>\n<h2>Controller</h2>\n<pre><code>@Controller\n@CrossOrigin\npublic class MyController {\n\n    @Autowired\n    TicketDAO daoticket;\n    \n    /****************** OPERATIONS ON Tickets ************************************/\n\n    \n    \n    @RequestMapping(value=&quot;/tickets&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Ticket&gt; createTicket(@RequestBody Ticket ticket) {\n        \n        ResponseEntity&lt;Ticket&gt; response;\n        \n        Ticket newTicket = daoticket.save(ticket);\n        if (newTicket == null) {\n            response = new ResponseEntity&lt;&gt;(HttpStatus.NOT_MODIFIED);\n        } else {\n            response = new ResponseEntity&lt;&gt;(newTicket, HttpStatus.CREATED);\n        }\n        return response;    \n    }\n}\n</code></pre>\n<h2>SQL Database</h2>\n<pre><code>CREATE DATABASE IF NOT EXISTS `BD89_03_ticketsell`;\nUSE `BD89_03_ticketsell`;\n\nDROP TABLE IF EXISTS `TICKETS`;\nDROP TABLE IF EXISTS `EVENTS`;\nDROP TABLE IF EXISTS `USERS`;\n\nCREATE TABLE `users` (\n    `name` varchar(100),\n    `alias` varchar(100) NOT NULL UNIQUE,\n    `password` varchar(100) NOT NULL,\n    `address` varchar(100),\n    `phone_number` int(10),\n    `admin_status` boolean NOT NULL,\n    PRIMARY KEY(`alias`)\n);\n\nCREATE TABLE `events`(\n    `id` bigint NOT NULL UNIQUE AUTO_INCREMENT,\n    `name` varchar(100) NOT NULL,\n    `category` varchar(100) NOT NULL,\n    `date` date NOT NULL,\n    `city`varchar(100) NOT NULL,\n    `venue` varchar(100) NOT NULL,\n    `image_path` varchar(300) NOT NULL,\n    PRIMARY KEY(`id`)\n);\n\n\nCREATE TABLE `tickets`(\n    `code` bigint NOT NULL,\n    `event` bigint NOT NULL,\n    `type` varchar(100),\n    `price` FLOAT(10,2) NOT NULL,\n    `seller` varchar(100) NOT NULL,\n    PRIMARY KEY(`code`, `event`),\n    FOREIGN KEY(`seller`) REFERENCES `users`(`alias`),\n    FOREIGN KEY(`event`) REFERENCES `events`(`id`)\n);\n\nINSERT INTO events (`name`, `category`, `date`, `city`, `venue`, `image_path`)\nVALUES ('Cut Cupy', 'indie dance', '2024-01-22', 'Madrid', 'La Riviera', 'images/CUT-COPY2.png'),\n('Dub Inc Tour 2022', 'reggae', '2021-05-03', 'Madrid', 'Sala Sol', 'images/DUB-INC-TOUR.jpg'),\n('Kodaline', 'folk', '2022-03-15', 'Sevilla', 'Tablao el gitanillo', 'images/Kodaline.png');\n\nINSERT INTO users (`name`,`alias`,`password`,`address`,`phone_number`, `admin_status`)\nVALUES ('pepe', 'pepe', 'password', '17 Calle', '628791051', TRUE),\n('pepe2', 'pepe2', 'password', '0 Calle', '628791052', FALSE),\n('elisa', 'elisacool', 'contrasea', '3 Calle', '628791053', FALSE);\n\nINSERT INTO tickets (`code`,`event`,`type`,`price`,`seller`)\nVALUES ('1234', '1', 'palco', '17.5', 'pepe'),\n('666666', '3', 'silla', '20', 'elisacool'),\n('666666', '1', 'anfiteatro', '12', 'pepe2'),\n('222222', '2', 'palco 3', '21.47', 'elisacool'),\n('444666', '3', 'plat', '5', 'pepe'),\n('111111', '2', 'palco 2', '40.99', 'elisacool');\n</code></pre>\n<h2>Console Error</h2>\n<pre><code>2022-12-06 15:52:46.186  WARN 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\n2022-12-06 15:52:46.186 ERROR 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'seller' cannot be null\n2022-12-06 15:52:46.186  INFO 9656 --- [io-10303-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2022-12-06 15:52:46.199 ERROR 9656 --- [io-10303-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\n\njava.sql.SQLIntegrityConstraintViolationException: Column 'seller' cannot be null\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    \n.\n.\n.\n</code></pre>\n"},{"tags":["java","android","android-download-manager"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670340117,"post_id":74704875,"comment_id":131850996,"body_markdown":"`think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.` Nice example of whishfull thinking ;-)","body":"<code>think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.</code> Nice example of whishfull thinking ;-)"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1670340308,"post_id":74704875,"comment_id":131851080,"body_markdown":"&quot;The broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can&#39;t find any reason or documentation on why I receive this even the download failed&quot; -- &quot;complete&quot; does not imply success. It indicates that `DownloadManager` is no longer going to work with on this particular download. You can query to find out status details regarding the download.","body":"&quot;The broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can&#39;t find any reason or documentation on why I receive this even the download failed&quot; -- &quot;complete&quot; does not imply success. It indicates that <code>DownloadManager</code> is no longer going to work with on this particular download. You can query to find out status details regarding the download."},{"owner":{"account_id":12234066,"reputation":566,"user_id":8929068,"display_name":"Top4o"},"score":0,"creation_date":1670348386,"post_id":74704875,"comment_id":131854152,"body_markdown":"You are right. The status is failure so I assume the service lost complete connection to the internet for some reason.","body":"You are right. The status is failure so I assume the service lost complete connection to the internet for some reason."}],"owner":{"account_id":12234066,"reputation":566,"user_id":8929068,"display_name":"Top4o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670339753,"creation_date":1670339753,"question_id":74704875,"body_markdown":"I have an android OS project and I am using the DownloadManger to perform some updates. Everything works fine with the download but I have an issue with the switching between Wi-Fi and mobile network. \r\n\r\nThe case is:\r\nI am connected to Wi-Fi and start the download, 10 second later I cut the Wi-Fi so the phone switches instantly to mobile network. The problem is that the download stops and I have to restart it from the beginning.\r\n\r\nFrom the logs I can see that the DownloadManger terminates everything but I can see why:\r\n\r\n    2022-12-06 11:07:07.847 2519-3467 DownloadManager com.android.providers.downloads W [18] Stop requested with status HTTP_DATA_ERROR: Failed reading response: java.net.SocketException: Software caused connection abort\r\n    2022-12-06 11:07:07.851 2519-3467 DownloadManager com.android.providers.downloads D [18] Finished with status CANNOT_RESUME\r\n    2022-12-06 11:07:07.947 2519-2519 DownloadManager com.android.providers.downloads D onStopJob id=18, reason=cancel() called by app, callingUid=10049 uid=10049 jobId=18\r\n\r\nAlso, the reason the download cannot restart is that I receive a broadcast from the DownloadManager which states that the download finished but the status is failure so the code removes the temp file.\r\n\r\nThe broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can&#39;t find any reason or documentation on why I receive this even the download failed.\r\n\r\nI think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.\r\n\r\nThe config of the request: \r\n\r\n     Request request = new Request(Uri.parse(updateInfo.getDownloadUrl()));\r\n        String userAgent = Utils.getUserAgentString(context);\r\n        if (userAgent != null) {\r\n            request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\r\n        }\r\n        request.addRequestHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n\r\n        request.setTitle(context.getString(R.string.app_name));\r\n        request.setDestinationUri(Uri.parse(fullFilePath));\r\n        request.setAllowedOverRoaming(true);\r\n        request.setAllowedOverMetered(true);\r\n        request.setVisibleInDownloadsUi(true);\r\n\r\n     // Start the download\r\n            final DownloadManager dm =\r\n                    (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\r\n    \r\n            Utils.cancelNotification(context);\r\n    \r\n            long downloadId = dm.enqueue(request);\r\n            updateInfo.setDownloadId(downloadId);\r\n\r\nAny suggestion will be quite helpful, thanks!","title":"DownloadManger sends ACTION_DOWNLOAD_COMPLETE broadcast on no Wi-Fi","body":"<p>I have an android OS project and I am using the DownloadManger to perform some updates. Everything works fine with the download but I have an issue with the switching between Wi-Fi and mobile network.</p>\n<p>The case is:\nI am connected to Wi-Fi and start the download, 10 second later I cut the Wi-Fi so the phone switches instantly to mobile network. The problem is that the download stops and I have to restart it from the beginning.</p>\n<p>From the logs I can see that the DownloadManger terminates everything but I can see why:</p>\n<pre><code>2022-12-06 11:07:07.847 2519-3467 DownloadManager com.android.providers.downloads W [18] Stop requested with status HTTP_DATA_ERROR: Failed reading response: java.net.SocketException: Software caused connection abort\n2022-12-06 11:07:07.851 2519-3467 DownloadManager com.android.providers.downloads D [18] Finished with status CANNOT_RESUME\n2022-12-06 11:07:07.947 2519-2519 DownloadManager com.android.providers.downloads D onStopJob id=18, reason=cancel() called by app, callingUid=10049 uid=10049 jobId=18\n</code></pre>\n<p>Also, the reason the download cannot restart is that I receive a broadcast from the DownloadManager which states that the download finished but the status is failure so the code removes the temp file.</p>\n<p>The broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can't find any reason or documentation on why I receive this even the download failed.</p>\n<p>I think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.</p>\n<p>The config of the request:</p>\n<pre><code> Request request = new Request(Uri.parse(updateInfo.getDownloadUrl()));\n    String userAgent = Utils.getUserAgentString(context);\n    if (userAgent != null) {\n        request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\n    }\n    request.addRequestHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n\n    request.setTitle(context.getString(R.string.app_name));\n    request.setDestinationUri(Uri.parse(fullFilePath));\n    request.setAllowedOverRoaming(true);\n    request.setAllowedOverMetered(true);\n    request.setVisibleInDownloadsUi(true);\n\n // Start the download\n        final DownloadManager dm =\n                (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\n\n        Utils.cancelNotification(context);\n\n        long downloadId = dm.enqueue(request);\n        updateInfo.setDownloadId(downloadId);\n</code></pre>\n<p>Any suggestion will be quite helpful, thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9163,"page":829,"page_size":100}
