{"items":[{"tags":["java","c#","android","unity-game-engine"],"answers":[{"tags":[],"owner":{"account_id":15021099,"reputation":603,"user_id":10842492,"display_name":"Nikolay Gonza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580207322,"creation_date":1580206866,"answer_id":59946553,"question_id":59945841,"body_markdown":"If you open UnityPlayerActivity, you can see, that its package name is &quot;com.unity3d.player&quot; and class name is &quot;UnityPlayer&quot;\r\n\r\n[![image][1]][1]\r\n\r\nSo you should change you unity player class name in C# script to &quot;com.unity3d.player.UnityPlayer&quot;.\r\n\r\nAnother solution is add to your android plugin Unity classes and extend your activity from UnityPlayerActivity and you can call your methods directly from your plugin\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tff3d.png","title":"Android Plugin not working in unity with class not found exception?","body":"<p>If you open UnityPlayerActivity, you can see, that its package name is \"com.unity3d.player\" and class name is \"UnityPlayer\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/tff3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tff3d.png\" alt=\"image\"></a></p>\n\n<p>So you should change you unity player class name in C# script to \"com.unity3d.player.UnityPlayer\".</p>\n\n<p>Another solution is add to your android plugin Unity classes and extend your activity from UnityPlayerActivity and you can call your methods directly from your plugin</p>\n"}],"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59946553,"answer_count":1,"score":2,"last_activity_date":1693154678,"creation_date":1580204344,"question_id":59945841,"body_markdown":"I tried creating a plugin but not working in unity.I do not have much idea about Android studio but watched this [video][1] to create an android plugin.I created a new android project without any activity.So I have written two classes UnityBinder.java and Gallery.java.They are given below\r\n\r\n   UnityBinder.java\r\n\r\n    package com.techripples.unityplugin;\r\n \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n\r\n    public class UnityBinder {\r\n    public static void OpenGallery(Activity activity)\r\n    {\r\n \r\n        Intent intent =new Intent(activity,Gallery.class);\r\n        activity.startActivity(intent);\r\n \r\n    }\r\n \r\n    }\r\n\r\n\r\nGallery.java class given below\r\n\r\n    package com.techripples.unityplugin;\r\n \r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.provider.MediaStore;\r\n    import android.net.Uri;\r\n    import android.database.*;\r\n    import com.unity3d.player.*;\r\n\r\n \r\n\r\n    public class Gallery extends Activity {\r\n\r\n \r\n    int PHOTO_GALLERY=1;\r\n \r\n    @Override\r\n    protected void onCreate(Bundle bundle)\r\n    {\r\n        super.onCreate(bundle);\r\n        Intent intent=new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        startActivityForResult(intent,PHOTO_GALLERY);\r\n    }\r\n \r\n    //it will run when user picks a photo from the gallery\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n \r\n        if(resultCode==RESULT_OK &amp;&amp; requestCode==PHOTO_GALLERY &amp;&amp; data!=null)\r\n        {\r\n \r\n            Uri uri=data.getData();\r\n            String[] fileColumn={MediaStore.Images.Media.DATA};\r\n            Cursor cursor=getContentResolver().query(uri,fileColumn,null,null,null);\r\n            cursor.moveToFirst();\r\n            int columnIndex=cursor.getColumnIndex(fileColumn[0]);\r\n            String photoPath=cursor.getString(columnIndex);\r\n \r\n \r\n            //Send path to unity to get photo\r\n                                            //GamObject Name,method name,argument\r\n            UnityPlayer.UnitySendMessage(&quot;Gallery&quot;,&quot;OnPhotoPick&quot;,photoPath);\r\n            Gallery.this.finish();//close activity\r\n \r\n        }\r\n    }\r\n    }\r\n\r\nNext I have build and copied the jar file into Unity.The c# code written is as follows\r\n\r\n    using System.Collections;\r\n    using System.Collections.Generic;\r\n    using UnityEngine;\r\n    \r\n    public class ShowPicture : MonoBehaviour\r\n    {\r\n\r\n    Texture2D galleryImage;\r\n    bool isGalleryImageLoaded = false;\r\n\r\n    WWW www;\r\n\r\n    // Start is called before the first frame update\r\n    void Start()\r\n    {\r\n        \r\n    }\r\n\r\n    // Update is called once per frame\r\n    void Update()\r\n    {\r\n        \r\n    }\r\n\r\n\tvoid OnGUI()\r\n\t{\r\n\r\n        if(isGalleryImageLoaded)\r\n        {\r\n            GUI.DrawTexture(new Rect(0, 0, Screen.width, Screen.height), galleryImage);\r\n\r\n        }\r\n        if(GUI.Button(new Rect(50,50,100,100),&quot;Open&quot;))\r\n        {\r\n\r\n            isGalleryImageLoaded = false;\r\n            AndroidJavaClass ajc = new AndroidJavaClass(&quot;com.unity.player.UnityPlayer&quot;);\r\n            //While asking question used AndroidJavaClass instead of AndroidJavaObject\r\n            AndroidJavaObject ajo = new AndroidJavaObject(&quot;com.techripples.unityplugin.UnityBinder&quot;);\r\n            ajo.CallStatic(&quot;OpenGallery&quot;, ajc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;));\r\n        }\r\n\t\r\n        if(www!=null &amp;&amp; www.isDone)\r\n        {\r\n            galleryImage = new Texture2D(www.texture.width, www.texture.height);\r\n            galleryImage.SetPixels32(www.texture.GetPixels32());\r\n            galleryImage.Apply();\r\n            www = null;\r\n\r\n            isGalleryImageLoaded = true;\r\n\r\n        }\r\n\r\n\t}\r\n\r\n\r\n    public void OnPhotoPick(string filePath)\r\n    {\r\n        Debug.Log(filePath);\r\n\r\n        www = new WWW(&quot;file://&quot; + filePath);\r\n    }\r\n \r\n\r\n     }\r\n\r\nThe manifest file which I copied into the Unity folder.Assets&gt;Plugins&gt;Android. is as follows.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.unity3d.player&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:installLocation=&quot;preferExternal&quot;&gt;\r\n    &lt;supports-screens\r\n        android:smallScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:largeScreens=&quot;true&quot;\r\n        android:xlargeScreens=&quot;true&quot;\r\n        android:anyDensity=&quot;true&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:theme=&quot;@style/UnityThemeSelector&quot;\r\n        android:icon=&quot;@mipmap/app_icon&quot;\r\n        android:label=&quot;@string/app_name&quot;&gt;\r\n        &lt;activity android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot;\r\n                  android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;unityplayer.UnityActivity&quot; android:value=&quot;true&quot; /&gt;\r\n        &lt;/activity&gt;\r\n      &lt;activity android:name=&quot;com.techripples.unityplugin.Gallery&quot;&gt;&lt;/activity&gt;\r\n        \r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\nThe error I got from terminal is as follows\r\n\r\n    01-28 13:25:06.305 27032 27061 E Unity : java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com/unity/player/UnityPlayer&quot; on path: DexPathList[[zip file &quot;/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/lib/arm, /data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk!/lib/armeabi-v7a, /system/lib, /system/vendor/lib]]\r\n\r\nVideo of plugin done.What I am doing wrong here.\r\n[Making Of Android plugin][2]\r\n\r\nI dont know how the calls are being made or what should I write in the manifest for the activity to run.\r\n[![Android studio and Unity][3]][3]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=E54KjhrP66I\r\n  [2]: https://www.youtube.com/watch?v=IDwKH2E6Bw4\r\n  [3]: https://i.stack.imgur.com/q8S7K.jpg","title":"Android Plugin not working in unity with class not found exception?","body":"<p>I tried creating a plugin but not working in unity.I do not have much idea about Android studio but watched this <a href=\"https://www.youtube.com/watch?v=E54KjhrP66I\" rel=\"nofollow noreferrer\">video</a> to create an android plugin.I created a new android project without any activity.So I have written two classes UnityBinder.java and Gallery.java.They are given below</p>\n<p>UnityBinder.java</p>\n<pre><code>package com.techripples.unityplugin;\n\nimport android.app.Activity;\nimport android.content.Intent;\n\npublic class UnityBinder {\npublic static void OpenGallery(Activity activity)\n{\n\n    Intent intent =new Intent(activity,Gallery.class);\n    activity.startActivity(intent);\n\n}\n\n}\n</code></pre>\n<p>Gallery.java class given below</p>\n<pre><code>package com.techripples.unityplugin;\n\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.net.Uri;\nimport android.database.*;\nimport com.unity3d.player.*;\n\n\n\npublic class Gallery extends Activity {\n\n\nint PHOTO_GALLERY=1;\n\n@Override\nprotected void onCreate(Bundle bundle)\n{\n    super.onCreate(bundle);\n    Intent intent=new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n    startActivityForResult(intent,PHOTO_GALLERY);\n}\n\n//it will run when user picks a photo from the gallery\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(resultCode==RESULT_OK &amp;&amp; requestCode==PHOTO_GALLERY &amp;&amp; data!=null)\n    {\n\n        Uri uri=data.getData();\n        String[] fileColumn={MediaStore.Images.Media.DATA};\n        Cursor cursor=getContentResolver().query(uri,fileColumn,null,null,null);\n        cursor.moveToFirst();\n        int columnIndex=cursor.getColumnIndex(fileColumn[0]);\n        String photoPath=cursor.getString(columnIndex);\n\n\n        //Send path to unity to get photo\n                                        //GamObject Name,method name,argument\n        UnityPlayer.UnitySendMessage(&quot;Gallery&quot;,&quot;OnPhotoPick&quot;,photoPath);\n        Gallery.this.finish();//close activity\n\n    }\n}\n}\n</code></pre>\n<p>Next I have build and copied the jar file into Unity.The c# code written is as follows</p>\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class ShowPicture : MonoBehaviour\n{\n\nTexture2D galleryImage;\nbool isGalleryImageLoaded = false;\n\nWWW www;\n\n// Start is called before the first frame update\nvoid Start()\n{\n    \n}\n\n// Update is called once per frame\nvoid Update()\n{\n    \n}\n\nvoid OnGUI()\n{\n\n    if(isGalleryImageLoaded)\n    {\n        GUI.DrawTexture(new Rect(0, 0, Screen.width, Screen.height), galleryImage);\n\n    }\n    if(GUI.Button(new Rect(50,50,100,100),&quot;Open&quot;))\n    {\n\n        isGalleryImageLoaded = false;\n        AndroidJavaClass ajc = new AndroidJavaClass(&quot;com.unity.player.UnityPlayer&quot;);\n        //While asking question used AndroidJavaClass instead of AndroidJavaObject\n        AndroidJavaObject ajo = new AndroidJavaObject(&quot;com.techripples.unityplugin.UnityBinder&quot;);\n        ajo.CallStatic(&quot;OpenGallery&quot;, ajc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;));\n    }\n\n    if(www!=null &amp;&amp; www.isDone)\n    {\n        galleryImage = new Texture2D(www.texture.width, www.texture.height);\n        galleryImage.SetPixels32(www.texture.GetPixels32());\n        galleryImage.Apply();\n        www = null;\n\n        isGalleryImageLoaded = true;\n\n    }\n\n}\n\n\npublic void OnPhotoPick(string filePath)\n{\n    Debug.Log(filePath);\n\n    www = new WWW(&quot;file://&quot; + filePath);\n}\n\n\n }\n</code></pre>\n<p>The manifest file which I copied into the Unity folder.Assets&gt;Plugins&gt;Android. is as follows.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.unity3d.player&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:installLocation=&quot;preferExternal&quot;&gt;\n&lt;supports-screens\n    android:smallScreens=&quot;true&quot;\n    android:normalScreens=&quot;true&quot;\n    android:largeScreens=&quot;true&quot;\n    android:xlargeScreens=&quot;true&quot;\n    android:anyDensity=&quot;true&quot;/&gt;\n\n&lt;application\n    android:theme=&quot;@style/UnityThemeSelector&quot;\n    android:icon=&quot;@mipmap/app_icon&quot;\n    android:label=&quot;@string/app_name&quot;&gt;\n    &lt;activity android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot;\n              android:label=&quot;@string/app_name&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;meta-data android:name=&quot;unityplayer.UnityActivity&quot; android:value=&quot;true&quot; /&gt;\n    &lt;/activity&gt;\n  &lt;activity android:name=&quot;com.techripples.unityplugin.Gallery&quot;&gt;&lt;/activity&gt;\n    \n&lt;/application&gt;\n</code></pre>\n\n<p>The error I got from terminal is as follows</p>\n<pre><code>01-28 13:25:06.305 27032 27061 E Unity : java.lang.ClassNotFoundException: Didn't find class &quot;com/unity/player/UnityPlayer&quot; on path: DexPathList[[zip file &quot;/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/lib/arm, /data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk!/lib/armeabi-v7a, /system/lib, /system/vendor/lib]]\n</code></pre>\n<p>Video of plugin done.What I am doing wrong here.\n<a href=\"https://www.youtube.com/watch?v=IDwKH2E6Bw4\" rel=\"nofollow noreferrer\">Making Of Android plugin</a></p>\n<p>I dont know how the calls are being made or what should I write in the manifest for the activity to run.\n<a href=\"https://i.stack.imgur.com/q8S7K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q8S7K.jpg\" alt=\"Android studio and Unity\" /></a></p>\n"},{"tags":["java","spring","scope","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693153118,"creation_date":1688123834,"answer_id":76588431,"question_id":76587696,"body_markdown":"**The above error occurs because the spring request scope is only registered for web app requests.**\r\n\r\nThrough the implementation of the [`RequestAttribute`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestAttributes.html) interface, spring puts/gets the request scope information from `HttpRequest`. \r\n\r\nIf the thread was started outside of the web request, the thread does not have the required attributes in its variables and hence throws exception.\r\n\r\nI ran into the same problem - needed to execute code in the job using `@Scheduled`, so it was unable to use any Session or Request scope beans. \r\n\r\nThere are couple of ways to solve this problem, I solved it the following way:\r\n\r\n##### Implement RequestAttributes Interface:\r\n\r\n```java\r\nimport org.springframework.web.context.request.RequestAttributes;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CustomRequestAttribute implements RequestAttributes {\r\n\r\n    private Map&lt;String, Object&gt; requestAttributes = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public Object getAttribute(String name, int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            return this.requestAttributes.get(name);\r\n        } else return null;\r\n    }\r\n\r\n    @Override\r\n    public void setAttribute(String name, Object value, int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            this.requestAttributes.put(name, value);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void removeAttribute(String name, int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            this.requestAttributes.remove(name);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String[] getAttributeNames(int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            return this.requestAttributes.keySet().toArray(new String[0]);\r\n        } else return new String[0];\r\n    }\r\n\r\n    @Override\r\n    public void registerDestructionCallback(String name, Runnable callback, int scope) {}\r\n\r\n    @Override\r\n    public Object resolveReference(String key) { return null; }\r\n\r\n    @Override\r\n    public String getSessionId() { return null; }\r\n\r\n    @Override\r\n    public Object getSessionMutex() { return null; }\r\n}\r\n```\r\n\r\nNow at the start of the request in your code, instruct the `RequestContextHolder` to use this `CustomRequestAttribute` by executing the following statement and in the finally block clear out the request attributes.\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 0 7 * * *&quot;)\r\npublic void doSomething() {\r\n    try {\r\n        RequestContextHolder.setRequestAttributes(\r\n                new CustomRequestAttribute());\r\n        userService.getSomeUsersIds\r\n                .forEach(userService::doSomething);\r\n    } catch (Exception e) {\r\n        // ...\r\n    } finally {\r\n        RequestContextHolder.resetRequestAttributes();\r\n    }\r\n}\r\n```","title":"How to create bean with &quot;request&quot; and &quot;schedule&quot; scopes at one time?","body":"<p><strong>The above error occurs because the spring request scope is only registered for web app requests.</strong></p>\n<p>Through the implementation of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestAttributes.html\" rel=\"nofollow noreferrer\"><code>RequestAttribute</code></a> interface, spring puts/gets the request scope information from <code>HttpRequest</code>.</p>\n<p>If the thread was started outside of the web request, the thread does not have the required attributes in its variables and hence throws exception.</p>\n<p>I ran into the same problem - needed to execute code in the job using <code>@Scheduled</code>, so it was unable to use any Session or Request scope beans.</p>\n<p>There are couple of ways to solve this problem, I solved it the following way:</p>\n<h5>Implement RequestAttributes Interface:</h5>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.context.request.RequestAttributes;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CustomRequestAttribute implements RequestAttributes {\n\n    private Map&lt;String, Object&gt; requestAttributes = new HashMap&lt;&gt;();\n\n    @Override\n    public Object getAttribute(String name, int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            return this.requestAttributes.get(name);\n        } else return null;\n    }\n\n    @Override\n    public void setAttribute(String name, Object value, int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            this.requestAttributes.put(name, value);\n        }\n    }\n\n    @Override\n    public void removeAttribute(String name, int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            this.requestAttributes.remove(name);\n        }\n    }\n\n    @Override\n    public String[] getAttributeNames(int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            return this.requestAttributes.keySet().toArray(new String[0]);\n        } else return new String[0];\n    }\n\n    @Override\n    public void registerDestructionCallback(String name, Runnable callback, int scope) {}\n\n    @Override\n    public Object resolveReference(String key) { return null; }\n\n    @Override\n    public String getSessionId() { return null; }\n\n    @Override\n    public Object getSessionMutex() { return null; }\n}\n</code></pre>\n<p>Now at the start of the request in your code, instruct the <code>RequestContextHolder</code> to use this <code>CustomRequestAttribute</code> by executing the following statement and in the finally block clear out the request attributes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 0 7 * * *&quot;)\npublic void doSomething() {\n    try {\n        RequestContextHolder.setRequestAttributes(\n                new CustomRequestAttribute());\n        userService.getSomeUsersIds\n                .forEach(userService::doSomething);\n    } catch (Exception e) {\n        // ...\n    } finally {\n        RequestContextHolder.resetRequestAttributes();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76588431,"answer_count":1,"score":0,"last_activity_date":1693153118,"creation_date":1688117506,"question_id":76587696,"body_markdown":"I have `UsersHandledInRequestCache` bean which is using for caching during request:\r\n```lang-java\r\n@Configuration\r\npublic class CacheConfiguration {\r\n\r\n    @Bean\r\n    @RequestScope\r\n    public UsersHandledInRequestCache usersHandledInRequestCache() {\r\n        return new UsersHandledInRequestCache();\r\n    }\r\n\r\n    public static class UsersHandledInRequestCache {\r\n        private final Set&lt;Integer&gt; cachedUsersIds = new HashSet&lt;&gt;();\r\n\r\n        public void cache(Integer userId) {\r\n            this.cachedUsersIds.add(userId);\r\n        }\r\n\r\n        public boolean isCached(Integer userId) {\r\n            return this.cachedUsersIds.contains(userId);\r\n        }\r\n    }\r\n}\r\n```\r\nAnd i have a service which uses the bean:\r\n```lang-java\r\n@Service\r\npublic class UserService {\r\n\r\n    @Resource(name = &quot;usersHandledInRequestCache&quot;)\r\n    private CacheConfiguration.UsersHandledInRequestCache usersHandledInRequestCache;\r\n\r\n    public void doSomething(Integer userId) {\r\n        if (!usersHandledInRequestCache.isCached(userId)) {\r\n            // do something\r\n            usersHandledInRequestCache.cache(userId);\r\n        }\r\n    }\r\n}\r\n```\r\nSo the service can be called by controllers and there are no problems:\r\n```lang-java\r\n@RestController\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    @PostMapping\r\n    public void doSomething(@RequestBody Collection&lt;Integer&gt; usersIds) {\r\n        usersIds.forEach(userService::doSomething);\r\n    }\r\n}\r\n```\r\nIn this case `UsersHandledInRequestCache` bean is creating for each request and works correct. But additionaly i have scheduled service:\r\n```lang-java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class UserJob {\r\n    \r\n    private final UserService userService;\r\n\r\n    @Scheduled(cron = &quot;0 0 7 * * *&quot;)\r\n    public void doSomething() {\r\n        userService.getSomeUsersIds.forEach(userService::doSomething);\r\n    }\r\n}\r\n```\r\nAnd when the scheduled service is starting to work i get exception due to field `UserService#usersHandledInRequestCache` can not be initialized *(because there are no any requests and method calling is initiated by scheduled service work)*:\r\n\r\n&gt; Error creating bean with name\r\n&gt; &#39;scopedTarget.usersHandledInRequestCache&#39;: Scope &#39;request&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No thread-bound request\r\n&gt; found: Are you referring to request attributes outside of an actual\r\n&gt; web request, or processing a request outside of the originally\r\n&gt; receiving thread? If you are actually operating within a web request\r\n&gt; and still receive this message, your code is probably running outside\r\n&gt; of DispatcherServlet: In this case, use RequestContextListener or\r\n&gt; RequestContextFilter to expose the current request.\r\n\r\nI want to make bean `UsersHandledInRequestCache` with &quot;request&quot; scope and &quot;schedule&quot; scope at one time. How i can get it?","title":"How to create bean with &quot;request&quot; and &quot;schedule&quot; scopes at one time?","body":"<p>I have <code>UsersHandledInRequestCache</code> bean which is using for caching during request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CacheConfiguration {\n\n    @Bean\n    @RequestScope\n    public UsersHandledInRequestCache usersHandledInRequestCache() {\n        return new UsersHandledInRequestCache();\n    }\n\n    public static class UsersHandledInRequestCache {\n        private final Set&lt;Integer&gt; cachedUsersIds = new HashSet&lt;&gt;();\n\n        public void cache(Integer userId) {\n            this.cachedUsersIds.add(userId);\n        }\n\n        public boolean isCached(Integer userId) {\n            return this.cachedUsersIds.contains(userId);\n        }\n    }\n}\n</code></pre>\n<p>And i have a service which uses the bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n\n    @Resource(name = &quot;usersHandledInRequestCache&quot;)\n    private CacheConfiguration.UsersHandledInRequestCache usersHandledInRequestCache;\n\n    public void doSomething(Integer userId) {\n        if (!usersHandledInRequestCache.isCached(userId)) {\n            // do something\n            usersHandledInRequestCache.cache(userId);\n        }\n    }\n}\n</code></pre>\n<p>So the service can be called by controllers and there are no problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    @PostMapping\n    public void doSomething(@RequestBody Collection&lt;Integer&gt; usersIds) {\n        usersIds.forEach(userService::doSomething);\n    }\n}\n</code></pre>\n<p>In this case <code>UsersHandledInRequestCache</code> bean is creating for each request and works correct. But additionaly i have scheduled service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class UserJob {\n    \n    private final UserService userService;\n\n    @Scheduled(cron = &quot;0 0 7 * * *&quot;)\n    public void doSomething() {\n        userService.getSomeUsersIds.forEach(userService::doSomething);\n    }\n}\n</code></pre>\n<p>And when the scheduled service is starting to work i get exception due to field <code>UserService#usersHandledInRequestCache</code> can not be initialized <em>(because there are no any requests and method calling is initiated by scheduled service work)</em>:</p>\n<blockquote>\n<p>Error creating bean with name\n'scopedTarget.usersHandledInRequestCache': Scope 'request' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No thread-bound request\nfound: Are you referring to request attributes outside of an actual\nweb request, or processing a request outside of the originally\nreceiving thread? If you are actually operating within a web request\nand still receive this message, your code is probably running outside\nof DispatcherServlet: In this case, use RequestContextListener or\nRequestContextFilter to expose the current request.</p>\n</blockquote>\n<p>I want to make bean <code>UsersHandledInRequestCache</code> with &quot;request&quot; scope and &quot;schedule&quot; scope at one time. How i can get it?</p>\n"},{"tags":["java","spring","criteria-api","criteriaquery"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693152423,"creation_date":1693152423,"answer_id":76987911,"question_id":76970467,"body_markdown":"**TL;DR**\r\n\r\n`::` or `&amp;&amp;` are not part of the `JPA Criteria API` standard. **You could use a native SQL query.**\r\n\r\n---\r\n\r\nIf you want to use specific features or functions unique to a database system like `PostgreSQL`, it may not be possible to use them directly within the JPA Criteria API.\r\n\r\nSome queries, [you can avoid the headache by specifying the escape sequence completely](https://stackoverflow.com/a/69773402/2039546), but for this query; There is no way to simultaneously escape special types such as `overlap (&amp;&amp;)`, `double colon (::)`, and `tsrange (cast(string as tsrange))`.\r\n\r\nIt would be appropriate to create this query using a *native query (@Query)* instead of the Criteria API, or alternatively; if you are using `Hibernate` you can create a `FunctionContributor` for this statement.\r\n\r\nCreate a *FunctionContributor*, here we give our function a special name and set our pattern:\r\n\r\n*(It is a simple function definition approach, it can be made more usable.)*\r\n\r\n```java\r\npublic class PostgreSQLTsrangeOverlapFunction implements FunctionContributor {\r\n\r\n    @Override\r\n    public void contributeFunctions(FunctionContributions functionContributions) {\r\n        functionContributions.getFunctionRegistry().registerPattern(\r\n                &quot;fn_tsrange_overlap&quot;,\r\n                &quot;?1 &amp;&amp; ?2::tsrange&quot;,\r\n                functionContributions\r\n                        .getTypeConfiguration()\r\n                        .getBasicTypeRegistry()\r\n                        .resolve(StandardBasicTypes.BOOLEAN)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nWe use this function with the Criteria API:\r\n\r\n```java\r\npublic static Specification&gt; getSpecification() {\r\n    return (root, query, cb) -&gt; {\r\n        String dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\r\n        String dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\r\n        String dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\r\n        LocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\r\n        LocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\r\n\r\n        Path&lt;Object&gt; field = root.get(&quot;time_range_column&quot;);\r\n        Expression&lt;String&gt; bound = cb.literal(&quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;]&quot;);\r\n        Expression&lt;Boolean&gt; function = cb.function(\r\n                &quot;fn_tsrange_overlap&quot;,\r\n                Boolean.class,\r\n                field,\r\n                bound);\r\n\r\n        return cb.isTrue(function);\r\n    };\r\n}\r\n```\r\n\r\nThe class must be then registered via [Java ServiceLoader](https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html) mechanism by adding full name of the class with its packages into the file with name `org.hibernate.boot.model.FunctionContributor` into the java module’s `META-INF/services` directory.\r\n\r\nYou use this specification your query will look like this:\r\n\r\n```sql\r\nselect ... from table t1 \r\nwhere t1.time_range_column &amp;&amp; &#39;[2014-09-15T00:00,2015-09-15T00:00]&#39;::tsrange\r\n```\r\n\r\n*It was prepared with `Spring Boot 3.2.1` and `Hibernate 6.2.7.Final`.*","title":"Construct a Criteria Api Predicate that overlaps a tsrange column type in Postgresql","body":"<p><strong>TL;DR</strong></p>\n<p><code>::</code> or <code>&amp;&amp;</code> are not part of the <code>JPA Criteria API</code> standard. <strong>You could use a native SQL query.</strong></p>\n<hr />\n<p>If you want to use specific features or functions unique to a database system like <code>PostgreSQL</code>, it may not be possible to use them directly within the JPA Criteria API.</p>\n<p>Some queries, <a href=\"https://stackoverflow.com/a/69773402/2039546\">you can avoid the headache by specifying the escape sequence completely</a>, but for this query; There is no way to simultaneously escape special types such as <code>overlap (&amp;&amp;)</code>, <code>double colon (::)</code>, and <code>tsrange (cast(string as tsrange))</code>.</p>\n<p>It would be appropriate to create this query using a <em>native query (@Query)</em> instead of the Criteria API, or alternatively; if you are using <code>Hibernate</code> you can create a <code>FunctionContributor</code> for this statement.</p>\n<p>Create a <em>FunctionContributor</em>, here we give our function a special name and set our pattern:</p>\n<p><em>(It is a simple function definition approach, it can be made more usable.)</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PostgreSQLTsrangeOverlapFunction implements FunctionContributor {\n\n    @Override\n    public void contributeFunctions(FunctionContributions functionContributions) {\n        functionContributions.getFunctionRegistry().registerPattern(\n                &quot;fn_tsrange_overlap&quot;,\n                &quot;?1 &amp;&amp; ?2::tsrange&quot;,\n                functionContributions\n                        .getTypeConfiguration()\n                        .getBasicTypeRegistry()\n                        .resolve(StandardBasicTypes.BOOLEAN)\n        );\n    }\n}\n</code></pre>\n<p>We use this function with the Criteria API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Specification&gt; getSpecification() {\n    return (root, query, cb) -&gt; {\n        String dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\n        String dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\n        String dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\n        LocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\n        LocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\n\n        Path&lt;Object&gt; field = root.get(&quot;time_range_column&quot;);\n        Expression&lt;String&gt; bound = cb.literal(&quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;]&quot;);\n        Expression&lt;Boolean&gt; function = cb.function(\n                &quot;fn_tsrange_overlap&quot;,\n                Boolean.class,\n                field,\n                bound);\n\n        return cb.isTrue(function);\n    };\n}\n</code></pre>\n<p>The class must be then registered via <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">Java ServiceLoader</a> mechanism by adding full name of the class with its packages into the file with name <code>org.hibernate.boot.model.FunctionContributor</code> into the java module’s <code>META-INF/services</code> directory.</p>\n<p>You use this specification your query will look like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select ... from table t1 \nwhere t1.time_range_column &amp;&amp; '[2014-09-15T00:00,2015-09-15T00:00]'::tsrange\n</code></pre>\n<p><em>It was prepared with <code>Spring Boot 3.2.1</code> and <code>Hibernate 6.2.7.Final</code>.</em></p>\n"}],"owner":{"account_id":29291551,"reputation":13,"user_id":22441895,"display_name":"Gabriela SO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76987911,"answer_count":1,"score":1,"last_activity_date":1693152423,"creation_date":1692888387,"question_id":76970467,"body_markdown":"I want to create a Java Criteria Api Predicate that performs the equivalent SQL query in Postgres 15 as follows:\r\n```\r\nSELECT time_range_column FROM public.address_table\r\nWHERE  time_range_column &amp;&amp; &#39;[2014-09-23, 2015-09-24]&#39;::tsrange;\r\n```\r\n\r\nI declared the `time_range_column` in my entity as follows:\r\n\r\n```\r\n@Type(PostgreSQLRangeType.class)\r\n@Column(name = &quot;time_range_column&quot;)\r\nprivate Range\\&lt;LocalDateTime\\&gt; timeRangeColumn;\r\n```\r\n\r\nMy solution is as follows, but returns no results:\r\n\r\n```\r\nString dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\r\nString dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\r\nString dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\r\nLocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\r\nLocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\r\n\r\nString rangeLiteral = &quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;)&quot;;\r\n\r\nPredicate dateRangePredicate = criteriaBuilder.and(criteriaBuilder.literal(rangeLiteral)\r\n.in(root.&lt;LocalDateTime&gt;get(&quot;time_range_column&quot;)));\r\n```\r\n\r\n\r\n\r\nHow to create the predicate that overlaps these dates?","title":"Construct a Criteria Api Predicate that overlaps a tsrange column type in Postgresql","body":"<p>I want to create a Java Criteria Api Predicate that performs the equivalent SQL query in Postgres 15 as follows:</p>\n<pre><code>SELECT time_range_column FROM public.address_table\nWHERE  time_range_column &amp;&amp; '[2014-09-23, 2015-09-24]'::tsrange;\n</code></pre>\n<p>I declared the <code>time_range_column</code> in my entity as follows:</p>\n<pre><code>@Type(PostgreSQLRangeType.class)\n@Column(name = &quot;time_range_column&quot;)\nprivate Range\\&lt;LocalDateTime\\&gt; timeRangeColumn;\n</code></pre>\n<p>My solution is as follows, but returns no results:</p>\n<pre><code>String dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\nString dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\nString dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\nLocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\nLocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\n\nString rangeLiteral = &quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;)&quot;;\n\nPredicate dateRangePredicate = criteriaBuilder.and(criteriaBuilder.literal(rangeLiteral)\n.in(root.&lt;LocalDateTime&gt;get(&quot;time_range_column&quot;)));\n</code></pre>\n<p>How to create the predicate that overlaps these dates?</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"score":0,"creation_date":1406032455,"post_id":24887490,"comment_id":38658170,"body_markdown":"It says in file there is no array, but a simple json object.","body":"It says in file there is no array, but a simple json object."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1406032631,"post_id":24887490,"comment_id":38658301,"body_markdown":"First go to json.org and learn the JSON syntax.  It only takes 5-10 minutes.","body":"First go to json.org and learn the JSON syntax.  It only takes 5-10 minutes."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1406032765,"post_id":24887490,"comment_id":38658380,"body_markdown":"(It&#39;s saying that the data in the file is *not* an array.  Ie, what you have shown us above is not what&#39;s in the file.)","body":"(It&#39;s saying that the data in the file is <i>not</i> an array.  Ie, what you have shown us above is not what&#39;s in the file.)"}],"answers":[{"tags":[],"owner":{"account_id":2524996,"reputation":2764,"user_id":2194537,"accept_rate":50,"display_name":"Nikhil Talreja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406033174,"creation_date":1406032468,"answer_id":24887573,"question_id":24887490,"body_markdown":"The exception is quite clear. \r\nYou need to cast to `JSONObject` and not `JSONArray`\r\n\r\n    JSONObject a = (JSONObject) parser.parse(new FileReader(&quot;c:\\\\exer4-courses.json&quot;));\r\n\r\nYou could possibly have this structure for your JSON:\r\n\r\n    {\r\n    &#160;&#160;&#160;&quot;records&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;name&quot;: &quot;John&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;city&quot;: &quot;Berlin&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;cars&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;audi&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;bmw&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;],\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;job&quot;: &quot;Teacher&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;},\r\n    &#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;name&quot;: &quot;Mark&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;city&quot;: &quot;Oslo&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;cars&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;VW&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;Toyata&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;],\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;job&quot;: &quot;Doctor&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;}\r\n    &#160;&#160;&#160;]\r\n    }\r\n\r\nNow to iterate you can do:\r\n\r\n    JSONArray records = (JSONArray)a.get(&quot;records&quot;);\r\n\r\n    for (Object o : records) {\r\n        JSONObject person = (JSONObject) o;\r\n    \r\n        String name = (String) person.get(&quot;name&quot;);\r\n        System.out.println(name);\r\n    \r\n        String city = (String) person.get(&quot;city&quot;);\r\n        System.out.println(city);\r\n    \r\n        String job = (String) person.get(&quot;job&quot;);\r\n        System.out.println(job);\r\n    \r\n        JSONArray cars = (JSONArray) jsonObject.get(&quot;cars&quot;);\r\n    \r\n        for (Object c : cars) {\r\n          System.out.println(c + &quot;&quot;);\r\n        }\r\n      }\r\n\r\n","title":"How to read json file (array form) using simple JSON library?","body":"<p>The exception is quite clear. \nYou need to cast to <code>JSONObject</code> and not <code>JSONArray</code></p>\n\n<pre><code>JSONObject a = (JSONObject) parser.parse(new FileReader(\"c:\\\\exer4-courses.json\"));\n</code></pre>\n\n<p>You could possibly have this structure for your JSON:</p>\n\n<pre><code>{\n   \"records\": [\n      {\n         \"name\": \"John\",\n         \"city\": \"Berlin\",\n         \"cars\": [\n            \"audi\",\n            \"bmw\"\n         ],\n         \"job\": \"Teacher\"\n      },\n      {\n         \"name\": \"Mark\",\n         \"city\": \"Oslo\",\n         \"cars\": [\n            \"VW\",\n            \"Toyata\"\n         ],\n         \"job\": \"Doctor\"\n      }\n   ]\n}\n</code></pre>\n\n<p>Now to iterate you can do:</p>\n\n<pre><code>JSONArray records = (JSONArray)a.get(\"records\");\n\nfor (Object o : records) {\n    JSONObject person = (JSONObject) o;\n\n    String name = (String) person.get(\"name\");\n    System.out.println(name);\n\n    String city = (String) person.get(\"city\");\n    System.out.println(city);\n\n    String job = (String) person.get(\"job\");\n    System.out.println(job);\n\n    JSONArray cars = (JSONArray) jsonObject.get(\"cars\");\n\n    for (Object c : cars) {\n      System.out.println(c + \"\");\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":4520034,"reputation":139,"user_id":3673589,"accept_rate":0,"display_name":"styner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693152070,"creation_date":1406032245,"question_id":24887490,"body_markdown":"Actually, The example below is an answer somewhere in StackOverFlow.\r\nI tried to use the below code, but,\r\n\r\n    JSONArray a = (JSONArray) parser.parse(new FileReader(&quot;c:\\\\exer4-courses.json&quot;));\r\n\r\nAbove line doesn&#39;t work because of the below Exception.\r\n\r\n    java.lang.ClassCastException: org.json.simple.JSONObject cannot be cast to org.json.simple.JSONArray\r\n\r\nIs there any way to read my JSON file?\r\n\r\nJSON file:\r\n\r\n    [\r\n        {\r\n            &quot;name&quot;: &quot;John&quot;,\r\n            &quot;city&quot;: &quot;Berlin&quot;,\r\n            &quot;cars&quot;: [\r\n                &quot;audi&quot;,\r\n                &quot;bmw&quot;\r\n            ],\r\n            &quot;job&quot;: &quot;Teacher&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Mark&quot;,\r\n            &quot;city&quot;: &quot;Oslo&quot;,\r\n            &quot;cars&quot;: [\r\n                &quot;VW&quot;,\r\n                &quot;Toyata&quot;\r\n            ],\r\n            &quot;job&quot;: &quot;Doctor&quot;\r\n        }\r\n    ]\r\n\r\nJava code:\r\n\r\n    JSONArray a = (JSONArray) parser.parse(new FileReader(&quot;c:\\\\exer4-courses.json&quot;));\r\n\r\n    for (Object o : a) {\r\n        JSONObject person = (JSONObject) o;\r\n\r\n        String name = (String) person.get(&quot;name&quot;);\r\n        System.out.println(name);\r\n\r\n        String city = (String) person.get(&quot;city&quot;);\r\n        System.out.println(city);\r\n\r\n        String job = (String) person.get(&quot;job&quot;);\r\n        System.out.println(job);\r\n\r\n        JSONArray cars = (JSONArray) jsonObject.get(&quot;cars&quot;);\r\n\r\n        for (Object c : cars) {\r\n          System.out.println(c + &quot;&quot;);\r\n        }\r\n      }","title":"How to read json file (array form) using simple JSON library?","body":"<p>Actually, The example below is an answer somewhere in StackOverFlow.\nI tried to use the below code, but,</p>\n\n<pre><code>JSONArray a = (JSONArray) parser.parse(new FileReader(\"c:\\\\exer4-courses.json\"));\n</code></pre>\n\n<p>Above line doesn't work because of the below Exception.</p>\n\n<pre><code>java.lang.ClassCastException: org.json.simple.JSONObject cannot be cast to org.json.simple.JSONArray\n</code></pre>\n\n<p>Is there any way to read my JSON file?</p>\n\n<p>JSON file:</p>\n\n<pre><code>[\n    {\n        \"name\": \"John\",\n        \"city\": \"Berlin\",\n        \"cars\": [\n            \"audi\",\n            \"bmw\"\n        ],\n        \"job\": \"Teacher\"\n    },\n    {\n        \"name\": \"Mark\",\n        \"city\": \"Oslo\",\n        \"cars\": [\n            \"VW\",\n            \"Toyata\"\n        ],\n        \"job\": \"Doctor\"\n    }\n]\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>JSONArray a = (JSONArray) parser.parse(new FileReader(\"c:\\\\exer4-courses.json\"));\n\nfor (Object o : a) {\n    JSONObject person = (JSONObject) o;\n\n    String name = (String) person.get(\"name\");\n    System.out.println(name);\n\n    String city = (String) person.get(\"city\");\n    System.out.println(city);\n\n    String job = (String) person.get(\"job\");\n    System.out.println(job);\n\n    JSONArray cars = (JSONArray) jsonObject.get(\"cars\");\n\n    for (Object c : cars) {\n      System.out.println(c + \"\");\n    }\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693149586,"creation_date":1693149561,"answer_id":76987731,"question_id":76987507,"body_markdown":"How about use the spring.profiles.active?\\\r\nYou can define a variable in your different environment.\\\r\nMake three properties file in your code.\r\nOne is application.properties,\r\nit just set spring.profiles.active = ${Your environment variable name}\\\r\nThe other two is container.properties and dev.properties,define the different environment variable.\\\r\nThen set the different variable in your develop operate system and your container system.","title":"Spring application.properties, docker and tests","body":"<p>How about use the spring.profiles.active?<br />\nYou can define a variable in your different environment.<br />\nMake three properties file in your code.\nOne is application.properties,\nit just set spring.profiles.active = ${Your environment variable name}<br />\nThe other two is container.properties and dev.properties,define the different environment variable.<br />\nThen set the different variable in your develop operate system and your container system.</p>\n"}],"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76987731,"answer_count":1,"score":1,"last_activity_date":1693151556,"creation_date":1693145668,"question_id":76987507,"body_markdown":"I use spring boot app with maven and i need to set spring properties and I cannot sort it out. \r\n\r\nProblem:\r\n\r\nAssume, there&#39;s a spring app and application.properties should have ``spring.datasource.url`` set. \r\n\r\nI have two maven profiles with two different application.properties files, one for development and second one for deployment. Like, application-container.properties and application-dev.properties:\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\r\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;container&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;container&lt;/activatedProperties&gt;\r\n                &lt;spring.profiles.active&gt;container&lt;/spring.profiles.active&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n```\r\nand application.properties:\r\n```\r\nspring.profiles.active=@spring.profiles.active@\r\n```\r\n\r\n - For development and testing it should be something like\r\n\r\napplication-dev.properties:\r\n```\r\nspring.datasource.url=jdbc://devdatabase://localhost:12345/database\r\n```\r\n - The app built should run in container, suppose it is docker. For docker application.properties will look like\r\n\r\napplication-container.properties:\r\n\r\n```\r\nspring.datasource.url=${DATASOURCE}\r\n```\r\n\r\nAnd in docker the env file will be used, like (docker-compose.yaml):\r\n```\r\n    env_file:\r\n      - ./docker.env\r\n```\r\nwhere docker.env is like:\r\n```\r\nDATASOURCE=jdbc://proddatabase://prodhost:2345/proddatabase\r\n```\r\n\r\n\r\n\r\nThe problem is, that when I build app locally for docker deployment, I cannot run tests because ``spring.datasource.url`` is expected to be set from the system environment. I tried to find a maven plugin to load env variables from file(s) but didn&#39;t succeed.\r\n\r\nWorth to mention, that I actually have like 20-30 such a parameters.\r\n\r\nMy question: how could I solve that? I&#39;m not familiar with maven yet, maybe there&#39;s another approach I could use except building in the container? Ideally i&#39;d like to use single application.properties that takes values from the environment and just switch the environment for maven by using different env files, like it&#39;s done in docker. It will be great to see some example as well.\r\n\r\nYour advices are greatly appreciated. Thank you.\r\n\r\n","title":"Spring application.properties, docker and tests","body":"<p>I use spring boot app with maven and i need to set spring properties and I cannot sort it out.</p>\n<p>Problem:</p>\n<p>Assume, there's a spring app and application.properties should have <code>spring.datasource.url</code> set.</p>\n<p>I have two maven profiles with two different application.properties files, one for development and second one for deployment. Like, application-container.properties and application-dev.properties:</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;container&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;container&lt;/activatedProperties&gt;\n                &lt;spring.profiles.active&gt;container&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n</code></pre>\n<p>and application.properties:</p>\n<pre><code>spring.profiles.active=@spring.profiles.active@\n</code></pre>\n<ul>\n<li>For development and testing it should be something like</li>\n</ul>\n<p>application-dev.properties:</p>\n<pre><code>spring.datasource.url=jdbc://devdatabase://localhost:12345/database\n</code></pre>\n<ul>\n<li>The app built should run in container, suppose it is docker. For docker application.properties will look like</li>\n</ul>\n<p>application-container.properties:</p>\n<pre><code>spring.datasource.url=${DATASOURCE}\n</code></pre>\n<p>And in docker the env file will be used, like (docker-compose.yaml):</p>\n<pre><code>    env_file:\n      - ./docker.env\n</code></pre>\n<p>where docker.env is like:</p>\n<pre><code>DATASOURCE=jdbc://proddatabase://prodhost:2345/proddatabase\n</code></pre>\n<p>The problem is, that when I build app locally for docker deployment, I cannot run tests because <code>spring.datasource.url</code> is expected to be set from the system environment. I tried to find a maven plugin to load env variables from file(s) but didn't succeed.</p>\n<p>Worth to mention, that I actually have like 20-30 such a parameters.</p>\n<p>My question: how could I solve that? I'm not familiar with maven yet, maybe there's another approach I could use except building in the container? Ideally i'd like to use single application.properties that takes values from the environment and just switch the environment for maven by using different env files, like it's done in docker. It will be great to see some example as well.</p>\n<p>Your advices are greatly appreciated. Thank you.</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":6858272,"reputation":2158,"user_id":5273185,"display_name":"Joanna Mamczynska"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521726640,"creation_date":1521725921,"answer_id":49430177,"question_id":48598295,"body_markdown":"There is no out-of-the-box solution, reconnection mechanism is not part of JSR 356 - Java API for WebSocket. But you can implement it on your own - a simple example with Spring events:\r\n\r\n**Step 1 - Create an event class.**\r\n\r\n    public class ReconnectionEvent extends ApplicationEvent {\r\n    \r\n        private String url;\r\n    \r\n        public ReconnectionEvent(String url) {\r\n            super(url);\r\n            this.url = url;\r\n        }\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n    }\r\n\r\n**Step 2 - Provide a method for websocket connection.** An example:\r\n\r\n    ...\r\n    @Autowired\r\n    private ApplicationEventPublisher publisher;\r\n    ...\r\n    public void connect(String url) {\r\n    \r\n        ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\r\n    \r\n        EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\r\n    \r\n        Mono&lt;Void&gt; sessionMono = client.execute(URI.create(url),\r\n    \r\n                session -&gt; session.receive()\r\n                        .map(WebSocketMessage::getPayloadAsText)\r\n                        .log()\r\n                        .subscribeWith(output)\r\n                        .doOnTerminate(() -&gt; publisher.publishEvent(new ReconnectEvent(url)))\r\n                        .then());\r\n    \r\n        output\r\n                .doOnSubscribe(s -&gt; sessionMono.subscribe())\r\n                .subscribe();\r\n    }\r\n\r\nCheck `doOnTerminate()` method - when the Flux terminates, either by completing successfully or with an error, it emits a ReconnectEvent. If necessary, you can emit the reconnection event on other Flux&#39;s callbacks (for example only on `doOnError()`).\r\n\r\n**Step 3 - Provide a listener, that connects again on given url when a reconnection event occures.**\r\n\r\n    @EventListener(ReconnectEvent.class)\r\n    public void onApplicationEvent(ReconnectEvent event) {\r\n        connect(event.getUrl());\r\n    }\r\n\r\n\r\n","title":"How to reconnect ReactorNettyWebSocketClient connection?","body":"<p>There is no out-of-the-box solution, reconnection mechanism is not part of JSR 356 - Java API for WebSocket. But you can implement it on your own - a simple example with Spring events:</p>\n\n<p><strong>Step 1 - Create an event class.</strong></p>\n\n<pre><code>public class ReconnectionEvent extends ApplicationEvent {\n\n    private String url;\n\n    public ReconnectionEvent(String url) {\n        super(url);\n        this.url = url;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n}\n</code></pre>\n\n<p><strong>Step 2 - Provide a method for websocket connection.</strong> An example:</p>\n\n<pre><code>...\n@Autowired\nprivate ApplicationEventPublisher publisher;\n...\npublic void connect(String url) {\n\n    ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\n\n    EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\n\n    Mono&lt;Void&gt; sessionMono = client.execute(URI.create(url),\n\n            session -&gt; session.receive()\n                    .map(WebSocketMessage::getPayloadAsText)\n                    .log()\n                    .subscribeWith(output)\n                    .doOnTerminate(() -&gt; publisher.publishEvent(new ReconnectEvent(url)))\n                    .then());\n\n    output\n            .doOnSubscribe(s -&gt; sessionMono.subscribe())\n            .subscribe();\n}\n</code></pre>\n\n<p>Check <code>doOnTerminate()</code> method - when the Flux terminates, either by completing successfully or with an error, it emits a ReconnectEvent. If necessary, you can emit the reconnection event on other Flux's callbacks (for example only on <code>doOnError()</code>).</p>\n\n<p><strong>Step 3 - Provide a listener, that connects again on given url when a reconnection event occures.</strong></p>\n\n<pre><code>@EventListener(ReconnectEvent.class)\npublic void onApplicationEvent(ReconnectEvent event) {\n    connect(event.getUrl());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9663379,"reputation":33,"user_id":7170627,"display_name":"Icatream"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545208147,"creation_date":1545207729,"answer_id":53847140,"question_id":48598295,"body_markdown":"I did something by using ```UnicastProcessor``` of reactor.\r\n\r\n    ...\r\n    public abstract class AbstractWsReconnectClient {\r\n        private Logger ...\r\n\r\n        protected UnicastProcessor&lt;AbstractWsReconnectClient&gt; reconnectProcessor = UnicastProcessor.create();\r\n\r\n        protected AbstractWsReconnectClient(Duration reconnectDuration) {\r\n            reconnect(reconnectDuration);\r\n        }\r\n\r\n        public abstract Mono&lt;Void&gt; connect();\r\n        \r\n        private void reconnect(Duration duration) {\r\n            reconnectProcessor.publish()\r\n                .autoConnect()\r\n                .delayElements(duration)\r\n                .flatMap(AbstractWsReconnectClient::connect)\r\n                .onErrorContinue(throwable -&gt; true,\r\n                    (throwable, o) -&gt; {\r\n                        if (throwable instanceof ConnectException) {\r\n                            logger.warn(throwable.getMessage());\r\n                        } else {\r\n                            logger.error(&quot;unexpected error occur during websocket reconnect&quot;);\r\n                            logger.error(throwable.getMessage());\r\n                        }\r\n                    })\r\n                .doOnTerminate(() -&gt; logger.error(&quot;websocket reconnect processor terminate &quot;))\r\n                .subscribe();\r\n        }\r\n    }\r\n\r\nWhen the ```WebSocketClient``` is terminate, invoke ```UnicastProcessor.onNext```\r\n\r\n    public Mono&lt;Void&gt; connect() {\r\n        WebSocketClient client = new ReactorNettyWebSocketClient();\r\n        logger.info(&quot;trying to connect to sso server {}&quot;, uri.toString());\r\n        return client.execute(uri, headers, ssoClientHandler)\r\n            .doOnTerminate(() -&gt; {\r\n                logger.warn(&quot;sso server {} disconnect&quot;, uri.toString());\r\n                super.reconnectProcessor.onNext(this);\r\n            });\r\n    }","title":"How to reconnect ReactorNettyWebSocketClient connection?","body":"<p>I did something by using <code>UnicastProcessor</code> of reactor.</p>\n\n<pre><code>...\npublic abstract class AbstractWsReconnectClient {\n    private Logger ...\n\n    protected UnicastProcessor&lt;AbstractWsReconnectClient&gt; reconnectProcessor = UnicastProcessor.create();\n\n    protected AbstractWsReconnectClient(Duration reconnectDuration) {\n        reconnect(reconnectDuration);\n    }\n\n    public abstract Mono&lt;Void&gt; connect();\n\n    private void reconnect(Duration duration) {\n        reconnectProcessor.publish()\n            .autoConnect()\n            .delayElements(duration)\n            .flatMap(AbstractWsReconnectClient::connect)\n            .onErrorContinue(throwable -&gt; true,\n                (throwable, o) -&gt; {\n                    if (throwable instanceof ConnectException) {\n                        logger.warn(throwable.getMessage());\n                    } else {\n                        logger.error(\"unexpected error occur during websocket reconnect\");\n                        logger.error(throwable.getMessage());\n                    }\n                })\n            .doOnTerminate(() -&gt; logger.error(\"websocket reconnect processor terminate \"))\n            .subscribe();\n    }\n}\n</code></pre>\n\n<p>When the <code>WebSocketClient</code> is terminate, invoke <code>UnicastProcessor.onNext</code></p>\n\n<pre><code>public Mono&lt;Void&gt; connect() {\n    WebSocketClient client = new ReactorNettyWebSocketClient();\n    logger.info(\"trying to connect to sso server {}\", uri.toString());\n    return client.execute(uri, headers, ssoClientHandler)\n        .doOnTerminate(() -&gt; {\n            logger.warn(\"sso server {} disconnect\", uri.toString());\n            super.reconnectProcessor.onNext(this);\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":5301676,"reputation":111,"user_id":4231057,"display_name":"crixx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4351,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1693149155,"creation_date":1517667171,"question_id":48598295,"body_markdown":"I need to access a websocket-service which closes an open websocket-connection after 24h. How do I have to implement the reconnect with Spring-Boot 2 and Webflux?\r\n\r\nThis is what I have so far (taken from https://github.com/artembilan/webflux-websocket-demo):\r\n\r\n    @GetMapping(path = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;String&gt; getStreaming() throws URISyntaxException {\r\n        ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\r\n\r\n        EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\r\n\r\n        Mono&lt;Void&gt; sessionMono = client.execute(new URI(&quot;ws://localhost:8080/echo&quot;),\r\n\r\n        session -&gt; session.receive()\r\n        .timeout(Duration.ofSeconds(3))\r\n        .map(WebSocketMessage::getPayloadAsText)\r\n        .subscribeWith(output)\r\n        .then());\r\n\r\n        return output.doOnSubscribe(s -&gt; sessionMono.subscribe());\r\n    }\r\n\r\n\r\nAs soon as the connection gets lost (3 seconds no input anymore), a TimeoutException is thrown. But how can I reconnect the socket?","title":"How to reconnect ReactorNettyWebSocketClient connection?","body":"<p>I need to access a websocket-service which closes an open websocket-connection after 24h. How do I have to implement the reconnect with Spring-Boot 2 and Webflux?</p>\n\n<p>This is what I have so far (taken from <a href=\"https://github.com/artembilan/webflux-websocket-demo\" rel=\"noreferrer\">https://github.com/artembilan/webflux-websocket-demo</a>):</p>\n\n<pre><code>@GetMapping(path = \"/stream\", produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;String&gt; getStreaming() throws URISyntaxException {\n    ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\n\n    EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\n\n    Mono&lt;Void&gt; sessionMono = client.execute(new URI(\"ws://localhost:8080/echo\"),\n\n    session -&gt; session.receive()\n    .timeout(Duration.ofSeconds(3))\n    .map(WebSocketMessage::getPayloadAsText)\n    .subscribeWith(output)\n    .then());\n\n    return output.doOnSubscribe(s -&gt; sessionMono.subscribe());\n}\n</code></pre>\n\n<p>As soon as the connection gets lost (3 seconds no input anymore), a TimeoutException is thrown. But how can I reconnect the socket?</p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox","boxable"],"comments":[{"owner":{"account_id":1864458,"reputation":103,"user_id":1688343,"accept_rate":13,"display_name":"Aryasindhu Sahu"},"score":0,"creation_date":1693157118,"post_id":76987669,"comment_id":135719926,"body_markdown":"I am not sure how google sheet does it.\nIt only has Chewy.ttf, no italics available for download.","body":"I am not sure how google sheet does it. It only has Chewy.ttf, no italics available for download."}],"owner":{"account_id":1864458,"reputation":103,"user_id":1688343,"accept_rate":13,"display_name":"Aryasindhu Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693148629,"creation_date":1693148629,"question_id":76987669,"body_markdown":"I am using a custom font file(.ttf) and need to make the font look italics in the cell.\r\n\r\n`\r\n    PDType0Font chewyFont = PDType0Font.load(document,new File(&quot;Chewy-Regular.ttf&quot;));\r\n`\r\n\r\n\r\n\r\n`\r\n    BaseTable table = new BaseTable(yPosition, yStartNewPage, bottomMargin, tableWidth, margin, document, page, true, drawContent);\r\n    Row&lt;PDPage&gt; headerRow = table.createRow(20);\r\n    Cell&lt;PDPage&gt; cell = headerRow.createCell(100, &quot;Hello !!&quot;);\r\n    cell.setFont(chewyFont);\r\n    table.draw();\r\n`","title":"How to set italics font in PDFBox loaded with custom font file","body":"<p>I am using a custom font file(.ttf) and need to make the font look italics in the cell.</p>\n<p><code>PDType0Font chewyFont = PDType0Font.load(document,new File(&quot;Chewy-Regular.ttf&quot;));</code></p>\n<p><code>BaseTable table = new BaseTable(yPosition, yStartNewPage, bottomMargin, tableWidth, margin, document, page, true, drawContent); Row&lt;PDPage&gt; headerRow = table.createRow(20); Cell&lt;PDPage&gt; cell = headerRow.createCell(100, &quot;Hello !!&quot;); cell.setFont(chewyFont); table.draw();</code></p>\n"},{"tags":["java","midi"],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691266071,"creation_date":1691265523,"answer_id":76843324,"question_id":76841923,"body_markdown":"The problem was I used the same channel as my `NOTE_ON` message. If I change it to a different one, the problem disappears\r\n```java\r\n            hookEvent = builder.withCommand(CONTROL_CHANGE)\r\n                    .withChannel(Math.max(1, (channel + 1) % 16)) // note this change\r\n                    .withFirstByte(HOOK_EVENT_NUM)\r\n                    .withSecondByte(0)\r\n                    .withTick(i + 1)\r\n                    .build();\r\n            track.add(hookEvent);\r\n```\r\nNotice I used `Math.max(1, (channel + 1) % 16)` instead of simply `channel + 1`. If `channel` equals 16 (and there are only 16 of them), `16 + 1` causes a runtime exception. `(channel + 1) % 16` is problematic too since if `channel` is 16, the expression produces 0 which is an illegal `channel` value (MIDI channels are one-based)\r\n\r\nIt&#39;s probably not the most elegant solution, but I hope you get the idea","title":"Sequencer API: How do I listen to NOTE_ON events?","body":"<p>The problem was I used the same channel as my <code>NOTE_ON</code> message. If I change it to a different one, the problem disappears</p>\n<pre class=\"lang-java prettyprint-override\"><code>            hookEvent = builder.withCommand(CONTROL_CHANGE)\n                    .withChannel(Math.max(1, (channel + 1) % 16)) // note this change\n                    .withFirstByte(HOOK_EVENT_NUM)\n                    .withSecondByte(0)\n                    .withTick(i + 1)\n                    .build();\n            track.add(hookEvent);\n</code></pre>\n<p>Notice I used <code>Math.max(1, (channel + 1) % 16)</code> instead of simply <code>channel + 1</code>. If <code>channel</code> equals 16 (and there are only 16 of them), <code>16 + 1</code> causes a runtime exception. <code>(channel + 1) % 16</code> is problematic too since if <code>channel</code> is 16, the expression produces 0 which is an illegal <code>channel</code> value (MIDI channels are one-based)</p>\n<p>It's probably not the most elegant solution, but I hope you get the idea</p>\n"},{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693147648,"creation_date":1693147648,"answer_id":76987611,"question_id":76841923,"body_markdown":"It&#39;s not a good practice to have Note-ONs without the corresponding Note-OFFs: on many synths it will use up all the polyphony. \r\n\r\nIf note sound is &quot;cut&quot;, it means that the Note-OFF happened &quot;too soon&quot; (change the tick position of the Note-OFF). Of course it depends on the sound nature (a piano note will ring much longer than a drums kick) and on the tempo. \r\n\r\nAlso, if you want to listen to **all** Note-ON events of a track, just use a MidiReceiver connected to the Sequencer, it will avoid to add dummy events. The book &quot;trick&quot; with the custom Contrller event is OK when you want for example to be notified on every beat. ","title":"Sequencer API: How do I listen to NOTE_ON events?","body":"<p>It's not a good practice to have Note-ONs without the corresponding Note-OFFs: on many synths it will use up all the polyphony.</p>\n<p>If note sound is &quot;cut&quot;, it means that the Note-OFF happened &quot;too soon&quot; (change the tick position of the Note-OFF). Of course it depends on the sound nature (a piano note will ring much longer than a drums kick) and on the tempo.</p>\n<p>Also, if you want to listen to <strong>all</strong> Note-ON events of a track, just use a MidiReceiver connected to the Sequencer, it will avoid to add dummy events. The book &quot;trick&quot; with the custom Contrller event is OK when you want for example to be notified on every beat.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693147648,"creation_date":1691242910,"question_id":76841923,"body_markdown":"How do I properly listen to `NOTE_ON` events when using the Sequencer API? Considering you can&#39;t directly listen to `NOTE_ON` events, they recommended [this approach][1] in the Head First Java book: you register a `ControllerEventListener` that listens to a dummy event (they used 127 as the event number) which occurs at the same time as the event you want to listen to. It kind of works but here&#39;s the problem: my sounds now lack the smooth transitions between them. Somehow, adding the listener affected the output. You may hear for yourself by running the code below as is and then running it after uncommenting the blocks that are commented out\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        MidiPlayer player = new MidiPlayer();\r\n        player.playRegularPiano();\r\n    }\r\n}\r\n```\r\n```java\r\nimport static javax.sound.midi.ShortMessage.*;\r\n\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class MidiPlayer {\r\n    private static final int KEYBOARD_CHANNEL = 1;\r\n    private static final int PERCUSSION_CHANNEL = 9;\r\n    private static final int MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED = 47;\r\n    private static final int HOOK_EVENT_NUM = 127; // as I understand, it&#39;s arbitrary number: any non-reserved int would do\r\n\r\n    public void playRegularPiano() {\r\n        playInstrument(KEYBOARD_CHANNEL, Keyboards.REGULAR_PIANO);\r\n    }\r\n    \r\n    // more playX() methods\r\n\r\n    @SneakyThrows\r\n    private void playInstrument(int channel, int instrument) {\r\n        Sequencer sequencer = MidiSystem.getSequencer();\r\n        sequencer.open();\r\n//\r\n//        sequencer.addControllerEventListener(event -&gt;\r\n//                System.out.println(&quot;la-la&quot;), new int[]{HOOK_EVENT_NUM});\r\n\r\n        Sequence sequence = getSequence(channel, instrument);\r\n        sequencer.setSequence(sequence);\r\n\r\n        MetaEventListener listener = getClosingListener(sequencer);\r\n        sequencer.addMetaEventListener(listener);\r\n\r\n        sequencer.start();\r\n\r\n    }\r\n\r\n    private Sequence getSequence(int channel, int instrument) throws InvalidMidiDataException {\r\n        Sequence sequence = new Sequence(Sequence.PPQ, 4);\r\n        MidiEventBuilder builder = new MidiEventBuilder();\r\n        Track track = sequence.createTrack();\r\n        ShortMessage firstMessage, secondMessage;\r\n        MidiEvent instrumentPick, noteOn, noteOff, hookEvent;\r\n\r\n        instrumentPick = builder.withCommand(PROGRAM_CHANGE)\r\n                .withChannel(channel)\r\n                .withFirstByte(instrument)\r\n                .withSecondByte(80)\r\n                .withTick(0)\r\n                .build();\r\n        track.add(instrumentPick);\r\n\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            noteOn = builder.withCommand(NOTE_ON)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - i)\r\n                    .withSecondByte(80)\r\n                    .withTick(i + 1)\r\n                    .build();\r\n            track.add(noteOn);\r\n//\r\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\r\n//                    .withChannel(channel)\r\n//                    .withFirstByte(HOOK_EVENT_NUM)\r\n//                    .withSecondByte(0)\r\n//                    .withTick(i + 1)\r\n//                    .build();\r\n//            track.add(hookEvent);\r\n\r\n            noteOff = builder.withCommand(NOTE_OFF)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - i)\r\n                    .withSecondByte(80)\r\n                    .withTick(i + 1 + 20)\r\n                    .build();\r\n            track.add(noteOff);\r\n        }\r\n\r\n        for (int i = 8; i &lt; 25; i++) {\r\n            noteOn = builder.withCommand(NOTE_ON)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - (7 - (i - 7)))\r\n                    .withSecondByte(100)\r\n                    .withTick(i + 1)\r\n                    .build();\r\n            track.add(noteOn);\r\n//\r\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\r\n//                    .withChannel(channel)\r\n//                    .withFirstByte(HOOK_EVENT_NUM)\r\n//                    .withSecondByte(0)\r\n//                    .withTick(i + 1)\r\n//                    .build();\r\n//            track.add(hookEvent);\r\n\r\n            noteOff = builder.withCommand(NOTE_OFF)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - (7 - (i - 7)))\r\n                    .withSecondByte(100)\r\n                    .withTick(i + 1 + 20)\r\n                    .build();\r\n            track.add(noteOff);\r\n        }\r\n        return sequence;\r\n    }\r\n\r\n    private MetaEventListener getClosingListener(Sequencer sequencer) {\r\n        return (metaMessage) -&gt; {\r\n            if (metaMessage.getType() == MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED) {\r\n                sequencer.close();\r\n            }\r\n        };\r\n    }\r\n\r\n    private static class Keyboards {\r\n        private static final int REGULAR_PIANO = 1;\r\n\r\n        // more constants\r\n    }\r\n\r\n    private static class MidiEventBuilder {\r\n        private int command;\r\n        private int channel;\r\n        private int firstByte;\r\n        private int secondByte;\r\n        private int tick;\r\n\r\n        private MidiEventBuilder withCommand(int command) {\r\n            this.command = command;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withChannel(int channel) {\r\n            this.channel = channel;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withFirstByte(int firstByte) {\r\n            this.firstByte = firstByte;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withSecondByte(int secondByte) {\r\n            this.secondByte = secondByte;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withTick(int tick) {\r\n            this.tick = tick;\r\n            return this;\r\n        }\r\n\r\n        private MidiEvent build() throws InvalidMidiDataException {\r\n            ShortMessage message = new ShortMessage(command, channel, firstByte, secondByte);\r\n            return new MidiEvent(message, tick);\r\n        }\r\n    }\r\n}\r\n```\r\nHow do I listen to `NOTE_ON` events in a way that doesn&#39;t compromise the sound?\r\n\r\n\r\n  [1]: https://archive.org/details/head-first-java-2nd-edition/page/390/mode/1up?view=theater","title":"Sequencer API: How do I listen to NOTE_ON events?","body":"<p>How do I properly listen to <code>NOTE_ON</code> events when using the Sequencer API? Considering you can't directly listen to <code>NOTE_ON</code> events, they recommended <a href=\"https://archive.org/details/head-first-java-2nd-edition/page/390/mode/1up?view=theater\" rel=\"nofollow noreferrer\">this approach</a> in the Head First Java book: you register a <code>ControllerEventListener</code> that listens to a dummy event (they used 127 as the event number) which occurs at the same time as the event you want to listen to. It kind of works but here's the problem: my sounds now lack the smooth transitions between them. Somehow, adding the listener affected the output. You may hear for yourself by running the code below as is and then running it after uncommenting the blocks that are commented out</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        MidiPlayer player = new MidiPlayer();\n        player.playRegularPiano();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static javax.sound.midi.ShortMessage.*;\n\n@SuppressWarnings(&quot;unused&quot;)\npublic class MidiPlayer {\n    private static final int KEYBOARD_CHANNEL = 1;\n    private static final int PERCUSSION_CHANNEL = 9;\n    private static final int MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED = 47;\n    private static final int HOOK_EVENT_NUM = 127; // as I understand, it's arbitrary number: any non-reserved int would do\n\n    public void playRegularPiano() {\n        playInstrument(KEYBOARD_CHANNEL, Keyboards.REGULAR_PIANO);\n    }\n    \n    // more playX() methods\n\n    @SneakyThrows\n    private void playInstrument(int channel, int instrument) {\n        Sequencer sequencer = MidiSystem.getSequencer();\n        sequencer.open();\n//\n//        sequencer.addControllerEventListener(event -&gt;\n//                System.out.println(&quot;la-la&quot;), new int[]{HOOK_EVENT_NUM});\n\n        Sequence sequence = getSequence(channel, instrument);\n        sequencer.setSequence(sequence);\n\n        MetaEventListener listener = getClosingListener(sequencer);\n        sequencer.addMetaEventListener(listener);\n\n        sequencer.start();\n\n    }\n\n    private Sequence getSequence(int channel, int instrument) throws InvalidMidiDataException {\n        Sequence sequence = new Sequence(Sequence.PPQ, 4);\n        MidiEventBuilder builder = new MidiEventBuilder();\n        Track track = sequence.createTrack();\n        ShortMessage firstMessage, secondMessage;\n        MidiEvent instrumentPick, noteOn, noteOff, hookEvent;\n\n        instrumentPick = builder.withCommand(PROGRAM_CHANGE)\n                .withChannel(channel)\n                .withFirstByte(instrument)\n                .withSecondByte(80)\n                .withTick(0)\n                .build();\n        track.add(instrumentPick);\n\n        for (int i = 0; i &lt; 8; i++) {\n            noteOn = builder.withCommand(NOTE_ON)\n                    .withChannel(channel)\n                    .withFirstByte(54 - i)\n                    .withSecondByte(80)\n                    .withTick(i + 1)\n                    .build();\n            track.add(noteOn);\n//\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\n//                    .withChannel(channel)\n//                    .withFirstByte(HOOK_EVENT_NUM)\n//                    .withSecondByte(0)\n//                    .withTick(i + 1)\n//                    .build();\n//            track.add(hookEvent);\n\n            noteOff = builder.withCommand(NOTE_OFF)\n                    .withChannel(channel)\n                    .withFirstByte(54 - i)\n                    .withSecondByte(80)\n                    .withTick(i + 1 + 20)\n                    .build();\n            track.add(noteOff);\n        }\n\n        for (int i = 8; i &lt; 25; i++) {\n            noteOn = builder.withCommand(NOTE_ON)\n                    .withChannel(channel)\n                    .withFirstByte(54 - (7 - (i - 7)))\n                    .withSecondByte(100)\n                    .withTick(i + 1)\n                    .build();\n            track.add(noteOn);\n//\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\n//                    .withChannel(channel)\n//                    .withFirstByte(HOOK_EVENT_NUM)\n//                    .withSecondByte(0)\n//                    .withTick(i + 1)\n//                    .build();\n//            track.add(hookEvent);\n\n            noteOff = builder.withCommand(NOTE_OFF)\n                    .withChannel(channel)\n                    .withFirstByte(54 - (7 - (i - 7)))\n                    .withSecondByte(100)\n                    .withTick(i + 1 + 20)\n                    .build();\n            track.add(noteOff);\n        }\n        return sequence;\n    }\n\n    private MetaEventListener getClosingListener(Sequencer sequencer) {\n        return (metaMessage) -&gt; {\n            if (metaMessage.getType() == MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED) {\n                sequencer.close();\n            }\n        };\n    }\n\n    private static class Keyboards {\n        private static final int REGULAR_PIANO = 1;\n\n        // more constants\n    }\n\n    private static class MidiEventBuilder {\n        private int command;\n        private int channel;\n        private int firstByte;\n        private int secondByte;\n        private int tick;\n\n        private MidiEventBuilder withCommand(int command) {\n            this.command = command;\n            return this;\n        }\n\n        private MidiEventBuilder withChannel(int channel) {\n            this.channel = channel;\n            return this;\n        }\n\n        private MidiEventBuilder withFirstByte(int firstByte) {\n            this.firstByte = firstByte;\n            return this;\n        }\n\n        private MidiEventBuilder withSecondByte(int secondByte) {\n            this.secondByte = secondByte;\n            return this;\n        }\n\n        private MidiEventBuilder withTick(int tick) {\n            this.tick = tick;\n            return this;\n        }\n\n        private MidiEvent build() throws InvalidMidiDataException {\n            ShortMessage message = new ShortMessage(command, channel, firstByte, secondByte);\n            return new MidiEvent(message, tick);\n        }\n    }\n}\n</code></pre>\n<p>How do I listen to <code>NOTE_ON</code> events in a way that doesn't compromise the sound?</p>\n"},{"tags":["java","spring","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693144769,"creation_date":1693109530,"answer_id":76985694,"question_id":76985393,"body_markdown":"&gt; When we use `@ControllerAdvice` and `@ExceptionHandler` to catch exceptions globally, does it mean that spring uses aop internally,\r\n\r\nYes and no. The name part &quot;advice&quot; in the annotation, which clearly is an AOP terminology reference, tells you that logically it is implemented using an AOP concept, i.e. controller advices with exception handlers are being scanned and cached when wiring the application, then later applied as a cross-cutting concern where necessary for exception handling.\r\n\r\n&gt; that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is `@Around` or `@AfterThrowing`?\r\n\r\nNot really. If you look at your controller beans, you will not see any registered AOP advisors on them. If they are not targeted by any other Spring AOP aspects, no dynamic proxies will be created for them either, even if they are targeted by controller advice exception handlers. This is all wired into Spring internally. Probably it could have been implemented using real AOP aspects, similar to how it is done for `@Transactional`, but there might be reasons other than just historical ones to hard-wire it, possibly because exception handling is considered a fundamental (low-level?) thing that should be built into the framework.","title":"whether global catch exception use aop-related technology？","body":"<blockquote>\n<p>When we use <code>@ControllerAdvice</code> and <code>@ExceptionHandler</code> to catch exceptions globally, does it mean that spring uses aop internally,</p>\n</blockquote>\n<p>Yes and no. The name part &quot;advice&quot; in the annotation, which clearly is an AOP terminology reference, tells you that logically it is implemented using an AOP concept, i.e. controller advices with exception handlers are being scanned and cached when wiring the application, then later applied as a cross-cutting concern where necessary for exception handling.</p>\n<blockquote>\n<p>that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is <code>@Around</code> or <code>@AfterThrowing</code>?</p>\n</blockquote>\n<p>Not really. If you look at your controller beans, you will not see any registered AOP advisors on them. If they are not targeted by any other Spring AOP aspects, no dynamic proxies will be created for them either, even if they are targeted by controller advice exception handlers. This is all wired into Spring internally. Probably it could have been implemented using real AOP aspects, similar to how it is done for <code>@Transactional</code>, but there might be reasons other than just historical ones to hard-wire it, possibly because exception handling is considered a fundamental (low-level?) thing that should be built into the framework.</p>\n"}],"owner":{"account_id":29255382,"reputation":13,"user_id":22413718,"display_name":"voi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985694,"answer_count":1,"score":0,"last_activity_date":1693144769,"creation_date":1693098745,"question_id":76985393,"body_markdown":"When we use `@ControllerAdvice` and `@ExceptionHandler` to catch exceptions globally, does it mean that spring uses aop internally, that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is `@Around` or `@AfterThrowing`?\r\nOr, there is no such cut point, but if there is such logic in `DispatcherServlet`, if an exception is encountered, it will be handed over to the corresponding ExceptionHandler method?\r\n\r\n```\r\n@ControllerAdvice\r\n@ResponseBody\r\npublic class GlobalExceptionHandler {\r\n\r\n     @ExceptionHandler(BaseException. class)\r\n     public ResponseEntity&lt;?&gt; handleAppException(BaseException ex, HttpServletRequest request) {\r\n       //...\r\n     }\r\n\r\n     @ExceptionHandler(value = ResourceNotFoundException. class)\r\n     public ResponseEntity&lt;ErrorReponse&gt; handleResourceNotFoundException(ResourceNotFoundException ex, HttpServletRequest request) {\r\n       //...\r\n     }\r\n}\r\n```\r\n\r\n\r\nIt seems that there is such a source code:\r\n```\r\n@Nullable\r\nprivate Method getMappedMethod(Class&lt;? extends Throwable&gt; exceptionType) {\r\nList&lt;Class&lt;? extends Throwable&gt;&gt; matches = new ArrayList&lt;&gt;();\r\n     //Find all exception information that can be handled. MappedMethods stores the correspondence between exceptions and methods for handling exceptions\r\nfor (Class&lt;? extends Throwable&gt; mappedException : this. mappedMethods. keySet()) {\r\nif (mappedException. isAssignableFrom(exceptionType)) {\r\nmatches. add(mappedException);\r\n}\r\n}\r\n     // If it is not empty, it means that there is a method to handle exceptions\r\nif (!matches. isEmpty()) {\r\n       // Sort by matching degree from small to large\r\nmatches. sort(new ExceptionDepthComparator(exceptionType));\r\n       // Return the method that handles the exception\r\nreturn this.mappedMethods.get(matches.get(0));\r\n}\r\nelse {\r\nreturn null;\r\n}\r\n}\r\n```\r\nBut although this is a method to find the corresponding method, it does not mean that there is no defined cut point, so does the global catch exception use aop-related technology? Is global catching exceptions counted as aop, or is it just related to spring mvc?","title":"whether global catch exception use aop-related technology？","body":"<p>When we use <code>@ControllerAdvice</code> and <code>@ExceptionHandler</code> to catch exceptions globally, does it mean that spring uses aop internally, that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is <code>@Around</code> or <code>@AfterThrowing</code>?\nOr, there is no such cut point, but if there is such logic in <code>DispatcherServlet</code>, if an exception is encountered, it will be handed over to the corresponding ExceptionHandler method?</p>\n<pre><code>@ControllerAdvice\n@ResponseBody\npublic class GlobalExceptionHandler {\n\n     @ExceptionHandler(BaseException. class)\n     public ResponseEntity&lt;?&gt; handleAppException(BaseException ex, HttpServletRequest request) {\n       //...\n     }\n\n     @ExceptionHandler(value = ResourceNotFoundException. class)\n     public ResponseEntity&lt;ErrorReponse&gt; handleResourceNotFoundException(ResourceNotFoundException ex, HttpServletRequest request) {\n       //...\n     }\n}\n</code></pre>\n<p>It seems that there is such a source code:</p>\n<pre><code>@Nullable\nprivate Method getMappedMethod(Class&lt;? extends Throwable&gt; exceptionType) {\nList&lt;Class&lt;? extends Throwable&gt;&gt; matches = new ArrayList&lt;&gt;();\n     //Find all exception information that can be handled. MappedMethods stores the correspondence between exceptions and methods for handling exceptions\nfor (Class&lt;? extends Throwable&gt; mappedException : this. mappedMethods. keySet()) {\nif (mappedException. isAssignableFrom(exceptionType)) {\nmatches. add(mappedException);\n}\n}\n     // If it is not empty, it means that there is a method to handle exceptions\nif (!matches. isEmpty()) {\n       // Sort by matching degree from small to large\nmatches. sort(new ExceptionDepthComparator(exceptionType));\n       // Return the method that handles the exception\nreturn this.mappedMethods.get(matches.get(0));\n}\nelse {\nreturn null;\n}\n}\n</code></pre>\n<p>But although this is a method to find the corresponding method, it does not mean that there is no defined cut point, so does the global catch exception use aop-related technology? Is global catching exceptions counted as aop, or is it just related to spring mvc?</p>\n"},{"tags":["java","aspectj","spring-aop"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693103792,"post_id":76983622,"comment_id":135715421,"body_markdown":"It looks ok, we need to see a minimal example where it doesn’t work.","body":"It looks ok, we need to see a minimal example where it doesn’t work."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1693105499,"post_id":76983622,"comment_id":135715499,"body_markdown":"Maybe without aditional space? `@PointCut(&quot;execution(* *())&quot;)`","body":"Maybe without aditional space? <code>@PointCut(&quot;execution(* *())&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693113755,"creation_date":1693102479,"answer_id":76985488,"question_id":76983622,"body_markdown":"What you are describing seems to be incorrect. I cannot reproduce this problem. Both pointcuts work as expected for me. Probably you have another problem, your situation being different from the simplified version you have shown here.\r\n\r\nI would, however, recommend to use `execution(* *())` without the extra space between method name wildcard and opening parenthesis, because this is how AspectJ pointcuts are usually written. It does not make a difference in your case, though, it just looks strange.","title":"How do I create a pointcut only matching methods with no arguments?","body":"<p>What you are describing seems to be incorrect. I cannot reproduce this problem. Both pointcuts work as expected for me. Probably you have another problem, your situation being different from the simplified version you have shown here.</p>\n<p>I would, however, recommend to use <code>execution(* *())</code> without the extra space between method name wildcard and opening parenthesis, because this is how AspectJ pointcuts are usually written. It does not make a difference in your case, though, it just looks strange.</p>\n"}],"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76985488,"answer_count":1,"score":-1,"last_activity_date":1693144668,"creation_date":1693063646,"question_id":76983622,"body_markdown":"I am trying to _only_ match methods with no parameters.\r\n\r\nSo far, I can match any method by using something like `@PointCut(&quot;execution(* * (..))&quot;)` but that is too broad. I tried `execution(* * ())` but that never triggered. Right now I am checking the length of the parameter array of the JoinPoint but I would like a more straightforward solution.\r\n\r\nEdit: It was working indeed (thanks everyone for checking!) and I was looking at a different problem but maybe this helps someone else. My setup is a request handler that calls two methods (one without arguments and one with) in a third class and I wanted to advise only one of those methods - missing that the pointcut matched the request method which had the same number of arguments as one of the methods in the third class. These methods are not matched at all but that is a different problem.","title":"How do I create a pointcut only matching methods with no arguments?","body":"<p>I am trying to <em>only</em> match methods with no parameters.</p>\n<p>So far, I can match any method by using something like <code>@PointCut(&quot;execution(* * (..))&quot;)</code> but that is too broad. I tried <code>execution(* * ())</code> but that never triggered. Right now I am checking the length of the parameter array of the JoinPoint but I would like a more straightforward solution.</p>\n<p>Edit: It was working indeed (thanks everyone for checking!) and I was looking at a different problem but maybe this helps someone else. My setup is a request handler that calls two methods (one without arguments and one with) in a third class and I wanted to advise only one of those methods - missing that the pointcut matched the request method which had the same number of arguments as one of the methods in the third class. These methods are not matched at all but that is a different problem.</p>\n"},{"tags":["java","regex","lex"],"answers":[{"tags":[],"owner":{"account_id":12039849,"reputation":53,"user_id":8807190,"display_name":"alexflex25"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549041813,"creation_date":1549036041,"answer_id":54482779,"question_id":54481302,"body_markdown":"Do you try something like this?\r\n    \r\n    public class Lexer {\r\n\r\n\tpublic static enum TokenType {\r\n\t\t// Definitions of accepted tokens\r\n\t\tIF(&quot;if&quot;),\r\n\t\tWHILE(&quot;while&quot;),\r\n\t\tPRINT(&quot;print&quot;),\r\n\t\tTYPE(&quot;int|string|boolean&quot;),\r\n\t\tBOOLOP(&quot;==|!=&quot;),\r\n\t\tBOOLVAL(&quot;false|true&quot;),\r\n\t\tINTOP(&quot;[+]&quot;),\r\n\t\tCHAR(&quot;[a-z]&quot;),\r\n\t\tDIGIT(&quot;[0-9]&quot;),\r\n\t\tWHITESPACE(&quot;[ \\t\\f\\r\\n]+&quot;),\r\n\t\tLPAREN(&quot;[(]&quot;),\r\n\t\tRPAREN(&quot;[)]&quot;),\r\n\t\tOTHER(&quot;.&quot;);\r\n\t\tpublic final String pattern;\r\n\r\n\t\tprivate TokenType(final String pattern) {\r\n\t\t\tthis.pattern = pattern;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class Token {\r\n\t\tpublic TokenType type;\r\n\t\tpublic String data;\r\n\r\n\t\tpublic Token(final TokenType type, final String data) {\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static ArrayList&lt;Token&gt; lex(final String input) {\r\n\t\t// The tokens to return\r\n\t\tfinal ArrayList&lt;Token&gt; tokens = new ArrayList&lt;Token&gt;();\r\n\r\n\t\t// allows us to work with a mutable string\r\n\t\tfinal StringBuffer tokenPatternsBuffer = new StringBuffer();\r\n\r\n\t\tfor (final TokenType tokenType : TokenType.values()) {\r\n\t\t\ttokenPatternsBuffer.append(String.format(&quot;|(?&lt;%s&gt;%s)&quot;,\r\n\t\t\t\t\ttokenType.name(), tokenType.pattern));\r\n\t\t}\r\n\t\tfinal Pattern tokenPatterns = Pattern.compile(\r\n\t\t\t\tnew String(tokenPatternsBuffer.substring(1)));\r\n\r\n\t\t// Begin matching tokens\r\n\t\tString other = &quot;&quot;;\r\n\t\tfinal Matcher matcher = tokenPatterns.matcher(input);\r\n\t\twhile (matcher.find()) {\r\n\t\t\tif (matcher.group(TokenType.DIGIT.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.DIGIT,\r\n\t\t\t\t\t\tmatcher.group(TokenType.DIGIT.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.IF.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.IF,\r\n\t\t\t\t\t\tmatcher.group(TokenType.IF.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.WHILE.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.WHILE,\r\n\t\t\t\t\t\tmatcher.group(TokenType.WHILE.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.TYPE.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.TYPE,\r\n\t\t\t\t\t\tmatcher.group(TokenType.TYPE.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.PRINT.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.PRINT,\r\n\t\t\t\t\t\tmatcher.group(TokenType.PRINT.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.BOOLOP.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.BOOLOP,\r\n\t\t\t\t\t\tmatcher.group(TokenType.BOOLOP.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.BOOLVAL,\r\n\t\t\t\t\t\tmatcher.group(TokenType.BOOLVAL.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.INTOP.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.INTOP,\r\n\t\t\t\t\t\tmatcher.group(TokenType.INTOP.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.CHAR.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.CHAR,\r\n\t\t\t\t\t\tmatcher.group(TokenType.CHAR.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.LPAREN.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.LPAREN,\r\n\t\t\t\t\t\tmatcher.group(TokenType.LPAREN.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.RPAREN.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.RPAREN,\r\n\t\t\t\t\t\tmatcher.group(TokenType.RPAREN.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.OTHER.name()) != null) {\r\n\t\t\t\tother += matcher.group(TokenType.OTHER.name());\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n        other = unknow(tokens, other);\r\n\t\treturn tokens;\r\n\t}\r\n\r\n\tprivate static String unknow(final ArrayList&lt;Token&gt; tokens, final String _unknow) {\r\n\t\tif (!_unknow.isEmpty()) {\r\n\t\t\ttokens.add(new Token(TokenType.OTHER,_unknow));\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) {\r\n\t\tfinal String input = &quot;if\\nprint\\nta!?!?!taelse?&#167;.?toto&quot;;\r\n\t\t// Create tokens and print them\r\n\t\tfinal ArrayList&lt;Token&gt; tokens = lex(input);\r\n\t\tfor (final Token token : tokens)\r\n\t\t\tSystem.out.println(&quot;DEBUG Lexer - &quot; + token.type + &quot; [ &quot;\r\n\t\t\t\t\t+ token.data + &quot; ] &quot; + &quot;found at &quot; + &quot;linenumber&quot;);\r\n\t}\r\n\r\n    }","title":"How to identify data that doesn&#39;t match pattern","body":"<p>Do you try something like this?</p>\n\n<pre><code>public class Lexer {\n\npublic static enum TokenType {\n    // Definitions of accepted tokens\n    IF(\"if\"),\n    WHILE(\"while\"),\n    PRINT(\"print\"),\n    TYPE(\"int|string|boolean\"),\n    BOOLOP(\"==|!=\"),\n    BOOLVAL(\"false|true\"),\n    INTOP(\"[+]\"),\n    CHAR(\"[a-z]\"),\n    DIGIT(\"[0-9]\"),\n    WHITESPACE(\"[ \\t\\f\\r\\n]+\"),\n    LPAREN(\"[(]\"),\n    RPAREN(\"[)]\"),\n    OTHER(\".\");\n    public final String pattern;\n\n    private TokenType(final String pattern) {\n        this.pattern = pattern;\n    }\n}\n\npublic static class Token {\n    public TokenType type;\n    public String data;\n\n    public Token(final TokenType type, final String data) {\n        this.type = type;\n        this.data = data;\n    }\n}\n\npublic static ArrayList&lt;Token&gt; lex(final String input) {\n    // The tokens to return\n    final ArrayList&lt;Token&gt; tokens = new ArrayList&lt;Token&gt;();\n\n    // allows us to work with a mutable string\n    final StringBuffer tokenPatternsBuffer = new StringBuffer();\n\n    for (final TokenType tokenType : TokenType.values()) {\n        tokenPatternsBuffer.append(String.format(\"|(?&lt;%s&gt;%s)\",\n                tokenType.name(), tokenType.pattern));\n    }\n    final Pattern tokenPatterns = Pattern.compile(\n            new String(tokenPatternsBuffer.substring(1)));\n\n    // Begin matching tokens\n    String other = \"\";\n    final Matcher matcher = tokenPatterns.matcher(input);\n    while (matcher.find()) {\n        if (matcher.group(TokenType.DIGIT.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.DIGIT,\n                    matcher.group(TokenType.DIGIT.name())));\n            continue;\n        } else if (matcher.group(TokenType.IF.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.IF,\n                    matcher.group(TokenType.IF.name())));\n            continue;\n        } else if (matcher.group(TokenType.WHILE.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.WHILE,\n                    matcher.group(TokenType.WHILE.name())));\n            continue;\n        } else if (matcher.group(TokenType.TYPE.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.TYPE,\n                    matcher.group(TokenType.TYPE.name())));\n            continue;\n        } else if (matcher.group(TokenType.PRINT.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.PRINT,\n                    matcher.group(TokenType.PRINT.name())));\n            continue;\n        } else if (matcher.group(TokenType.BOOLOP.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.BOOLOP,\n                    matcher.group(TokenType.BOOLOP.name())));\n            continue;\n        } else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.BOOLVAL,\n                    matcher.group(TokenType.BOOLVAL.name())));\n            continue;\n        } else if (matcher.group(TokenType.INTOP.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.INTOP,\n                    matcher.group(TokenType.INTOP.name())));\n            continue;\n        } else if (matcher.group(TokenType.CHAR.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.CHAR,\n                    matcher.group(TokenType.CHAR.name())));\n            continue;\n        } else if (matcher.group(TokenType.LPAREN.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.LPAREN,\n                    matcher.group(TokenType.LPAREN.name())));\n            continue;\n        } else if (matcher.group(TokenType.RPAREN.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.RPAREN,\n                    matcher.group(TokenType.RPAREN.name())));\n            continue;\n        } else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\n            continue;\n        } else if (matcher.group(TokenType.OTHER.name()) != null) {\n            other += matcher.group(TokenType.OTHER.name());\n            continue;\n        }\n    }\n    other = unknow(tokens, other);\n    return tokens;\n}\n\nprivate static String unknow(final ArrayList&lt;Token&gt; tokens, final String _unknow) {\n    if (!_unknow.isEmpty()) {\n        tokens.add(new Token(TokenType.OTHER,_unknow));\n    }\n    return \"\";\n}\n\npublic static void main(final String[] args) {\n    final String input = \"if\\nprint\\nta!?!?!taelse?§.?toto\";\n    // Create tokens and print them\n    final ArrayList&lt;Token&gt; tokens = lex(input);\n    for (final Token token : tokens)\n        System.out.println(\"DEBUG Lexer - \" + token.type + \" [ \"\n                + token.data + \" ] \" + \"found at \" + \"linenumber\");\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693144023,"creation_date":1549030518,"question_id":54481302,"body_markdown":"So I&#39;m using the matcher class and using it to identify tokens that i&#39;ve defined in an enum. \r\n\r\n      public static enum TokenType {\r\n        // Definitions of accepted tokens\r\n    \t IF(&quot;if&quot;), WHILE(&quot;while&quot;), PRINT(&quot;print&quot;), TYPE(&quot;int|string|boolean&quot;), BOOLOP(&quot;==|!=&quot;), BOOLVAL(&quot;false|true&quot;), INTOP(&quot;[+]&quot;), CHAR(&quot;[a-z]&quot;), DIGIT(&quot;[0-9]&quot;), WHITESPACE(&quot;[ \\t\\f\\r\\n]+&quot;), LPAREN(&quot;[(]&quot;), RPAREN(&quot;[)]&quot;);\r\n        public final String pattern;\r\n    \r\n        private TokenType(String pattern) {\r\n          this.pattern = pattern;\r\n        }\r\n      }\r\n    \r\n      public static class Token {\r\n        public TokenType type;\r\n        public String data;\r\n\r\n\r\n\r\nMy problem is, I also need to identify anything that isn&#39;t defined in my pattern and print an error when that occurs.\r\n\r\nThis is what my matcher logic looks like\r\n\r\n        // Begin matching tokens\r\n        Matcher matcher = tokenPatterns.matcher(input);\r\n          while (matcher.find()) {\r\n            if (matcher.group(TokenType.DIGIT.name()) != null) {\r\n              tokens.add(new Token(TokenType.DIGIT, matcher.group(TokenType.DIGIT.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.IF.name()) != null) {\r\n              tokens.add(new Token(TokenType.IF, matcher.group(TokenType.IF.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.WHILE.name()) != null) {\r\n              tokens.add(new Token(TokenType.WHILE, matcher.group(TokenType.WHILE.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.TYPE.name()) != null) {\r\n              tokens.add(new Token(TokenType.TYPE, matcher.group(TokenType.TYPE.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.PRINT.name()) != null) {\r\n              tokens.add(new Token(TokenType.PRINT, matcher.group(TokenType.PRINT.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.BOOLOP.name()) != null) {\r\n              tokens.add(new Token(TokenType.BOOLOP, matcher.group(TokenType.BOOLOP.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\r\n              tokens.add(new Token(TokenType.BOOLVAL, matcher.group(TokenType.BOOLVAL.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.INTOP.name()) != null) {\r\n              tokens.add(new Token(TokenType.INTOP, matcher.group(TokenType.INTOP.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.CHAR.name()) != null) {\r\n            tokens.add(new Token(TokenType.CHAR, matcher.group(TokenType.CHAR.name())));\r\n            continue;\r\n          } else if (matcher.group(TokenType.LPAREN.name()) != null) {\r\n              tokens.add(new Token(TokenType.LPAREN, matcher.group(TokenType.LPAREN.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.RPAREN.name()) != null) {\r\n              tokens.add(new Token(TokenType.RPAREN, matcher.group(TokenType.RPAREN.name())));\r\n              continue;  \r\n          } else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\r\n              continue; \r\n          }\r\n        }\r\n        \r\n        return tokens;\r\n      }\r\n\r\n\r\n\r\nA possible solution would be to add a case to my pattern that accounts for everything that hasn&#39;t been defined already which would look something like this WHITESPACE(&quot;[ \\t\\f\\r\\n]+&quot;), LPAREN(&quot;[(]&quot;), **ERROR(&quot;@|#,$,%,^,&amp;.....&quot;)** but im not sure of any realistic way to implement that.\r\n\r\nThanks for any help.\r\nHere&#39;s a link to the full code in case I left anything out - https://pastebin.com/jLtnJwgj","title":"How to identify data that doesn&#39;t match pattern","body":"<p>So I'm using the matcher class and using it to identify tokens that i've defined in an enum. </p>\n\n<pre><code>  public static enum TokenType {\n    // Definitions of accepted tokens\n     IF(\"if\"), WHILE(\"while\"), PRINT(\"print\"), TYPE(\"int|string|boolean\"), BOOLOP(\"==|!=\"), BOOLVAL(\"false|true\"), INTOP(\"[+]\"), CHAR(\"[a-z]\"), DIGIT(\"[0-9]\"), WHITESPACE(\"[ \\t\\f\\r\\n]+\"), LPAREN(\"[(]\"), RPAREN(\"[)]\");\n    public final String pattern;\n\n    private TokenType(String pattern) {\n      this.pattern = pattern;\n    }\n  }\n\n  public static class Token {\n    public TokenType type;\n    public String data;\n</code></pre>\n\n<p>My problem is, I also need to identify anything that isn't defined in my pattern and print an error when that occurs.</p>\n\n<p>This is what my matcher logic looks like</p>\n\n<pre><code>    // Begin matching tokens\n    Matcher matcher = tokenPatterns.matcher(input);\n      while (matcher.find()) {\n        if (matcher.group(TokenType.DIGIT.name()) != null) {\n          tokens.add(new Token(TokenType.DIGIT, matcher.group(TokenType.DIGIT.name())));\n          continue;\n      } else if (matcher.group(TokenType.IF.name()) != null) {\n          tokens.add(new Token(TokenType.IF, matcher.group(TokenType.IF.name())));\n          continue;\n      } else if (matcher.group(TokenType.WHILE.name()) != null) {\n          tokens.add(new Token(TokenType.WHILE, matcher.group(TokenType.WHILE.name())));\n          continue;\n      } else if (matcher.group(TokenType.TYPE.name()) != null) {\n          tokens.add(new Token(TokenType.TYPE, matcher.group(TokenType.TYPE.name())));\n          continue;\n      } else if (matcher.group(TokenType.PRINT.name()) != null) {\n          tokens.add(new Token(TokenType.PRINT, matcher.group(TokenType.PRINT.name())));\n          continue;\n      } else if (matcher.group(TokenType.BOOLOP.name()) != null) {\n          tokens.add(new Token(TokenType.BOOLOP, matcher.group(TokenType.BOOLOP.name())));\n          continue;\n      } else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\n          tokens.add(new Token(TokenType.BOOLVAL, matcher.group(TokenType.BOOLVAL.name())));\n          continue;\n      } else if (matcher.group(TokenType.INTOP.name()) != null) {\n          tokens.add(new Token(TokenType.INTOP, matcher.group(TokenType.INTOP.name())));\n          continue;\n      } else if (matcher.group(TokenType.CHAR.name()) != null) {\n        tokens.add(new Token(TokenType.CHAR, matcher.group(TokenType.CHAR.name())));\n        continue;\n      } else if (matcher.group(TokenType.LPAREN.name()) != null) {\n          tokens.add(new Token(TokenType.LPAREN, matcher.group(TokenType.LPAREN.name())));\n          continue;\n      } else if (matcher.group(TokenType.RPAREN.name()) != null) {\n          tokens.add(new Token(TokenType.RPAREN, matcher.group(TokenType.RPAREN.name())));\n          continue;  \n      } else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\n          continue; \n      }\n    }\n\n    return tokens;\n  }\n</code></pre>\n\n<p>A possible solution would be to add a case to my pattern that accounts for everything that hasn't been defined already which would look something like this WHITESPACE(\"[ \\t\\f\\r\\n]+\"), LPAREN(\"[(]\"), <strong>ERROR(\"@|#,$,%,^,&amp;.....\")</strong> but im not sure of any realistic way to implement that.</p>\n\n<p>Thanks for any help.\nHere's a link to the full code in case I left anything out - <a href=\"https://pastebin.com/jLtnJwgj\" rel=\"nofollow noreferrer\">https://pastebin.com/jLtnJwgj</a></p>\n"},{"tags":["java","android","regex"],"owner":{"account_id":5179202,"reputation":71,"user_id":4145376,"display_name":"Denis K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693143883,"creation_date":1614676372,"question_id":66436436,"body_markdown":"I&#39;ve found some problem with Matcher.replaceFirst/replaceAll when subgroup count in regex is more than 9...\r\nsimple example:\r\n\r\n`String res = &quot;abcdefghij&quot;.replaceFirst(&quot;(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)&quot;, &quot;$1 $2 $3 $4 $5 $6 $7 $8 $9 $10&quot;);`\r\n\r\nExpected result is `&quot;a b c d e f g h i j&quot;` but got `&quot;a b c d e f g h i a0&quot;` string.\r\n\r\nThis problem can reproduced in Android runtime, but on local unit tests with desktop java it works well.\r\nWhen I tried to debug it step by step, I&#39;ve found following ugly code in Android sources of Matcher class:\r\n\r\n    private void appendEvaluated(StringBuffer buffer, String s) {\r\n            boolean escape = false;\r\n            boolean dollar = false;\r\n            boolean escapeNamedGroup = false;\r\n            int escapeNamedGroupStart = -1;\r\n    \r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n                char c = s.charAt(i);\r\n                if (c == &#39;\\\\&#39; &amp;&amp; !escape) {\r\n                    escape = true;\r\n                } else if (c == &#39;$&#39; &amp;&amp; !escape) {\r\n                    dollar = true;\r\n                } else if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39; &amp;&amp; dollar) { //&lt;&lt;&lt;&lt;------ WHAT IS IT?!\r\n                    buffer.append(group(c - &#39;0&#39;));\r\n                    dollar = false;\r\n                } else if (c == &#39;{&#39; &amp;&amp; dollar) {\r\n                    escapeNamedGroup = true;\r\n                    escapeNamedGroupStart = i;\r\n                } else if (c == &#39;}&#39; &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\r\n                    String namedGroupName =\r\n                        s.substring(escapeNamedGroupStart + 1, i);\r\n                    buffer.append(group(namedGroupName));\r\n                    dollar = false;\r\n                    escapeNamedGroup = false;\r\n                } else if (c != &#39;}&#39; &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\r\n                    continue;\r\n                } else {\r\n                    buffer.append(c);\r\n                    dollar = false;\r\n                    escape = false;\r\n                    escapeNamedGroup = false;\r\n                }\r\n            }\r\n    \r\n            if (escape) {\r\n                throw new IllegalArgumentException(&quot;character to be escaped is missing&quot;);\r\n            }\r\n    \r\n            if (dollar) {\r\n                throw new IllegalArgumentException(&quot;Illegal group reference: group index is missing&quot;);\r\n            }\r\n    \r\n            if (escapeNamedGroup) {\r\n                throw new IllegalArgumentException(&quot;Missing ending brace &#39;}&#39; from replacement string&quot;);\r\n            }\r\n        }\r\n\r\nthis is part of SDK API 29... I&#39;ve checked API 30 level, it has same code.\r\n\r\nmaybe someone already solve this problem?\r\nI think it needs to create custom replacer with more correct logic...\r\n","title":"Android Matcher.replaceAll/replaceFirst problem with groups count &gt; 9","body":"<p>I've found some problem with Matcher.replaceFirst/replaceAll when subgroup count in regex is more than 9...\nsimple example:</p>\n<p><code>String res = &quot;abcdefghij&quot;.replaceFirst(&quot;(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)&quot;, &quot;$1 $2 $3 $4 $5 $6 $7 $8 $9 $10&quot;);</code></p>\n<p>Expected result is <code>&quot;a b c d e f g h i j&quot;</code> but got <code>&quot;a b c d e f g h i a0&quot;</code> string.</p>\n<p>This problem can reproduced in Android runtime, but on local unit tests with desktop java it works well.\nWhen I tried to debug it step by step, I've found following ugly code in Android sources of Matcher class:</p>\n<pre><code>private void appendEvaluated(StringBuffer buffer, String s) {\n        boolean escape = false;\n        boolean dollar = false;\n        boolean escapeNamedGroup = false;\n        int escapeNamedGroupStart = -1;\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            if (c == '\\\\' &amp;&amp; !escape) {\n                escape = true;\n            } else if (c == '$' &amp;&amp; !escape) {\n                dollar = true;\n            } else if (c &gt;= '0' &amp;&amp; c &lt;= '9' &amp;&amp; dollar) { //&lt;&lt;&lt;&lt;------ WHAT IS IT?!\n                buffer.append(group(c - '0'));\n                dollar = false;\n            } else if (c == '{' &amp;&amp; dollar) {\n                escapeNamedGroup = true;\n                escapeNamedGroupStart = i;\n            } else if (c == '}' &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\n                String namedGroupName =\n                    s.substring(escapeNamedGroupStart + 1, i);\n                buffer.append(group(namedGroupName));\n                dollar = false;\n                escapeNamedGroup = false;\n            } else if (c != '}' &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\n                continue;\n            } else {\n                buffer.append(c);\n                dollar = false;\n                escape = false;\n                escapeNamedGroup = false;\n            }\n        }\n\n        if (escape) {\n            throw new IllegalArgumentException(&quot;character to be escaped is missing&quot;);\n        }\n\n        if (dollar) {\n            throw new IllegalArgumentException(&quot;Illegal group reference: group index is missing&quot;);\n        }\n\n        if (escapeNamedGroup) {\n            throw new IllegalArgumentException(&quot;Missing ending brace '}' from replacement string&quot;);\n        }\n    }\n</code></pre>\n<p>this is part of SDK API 29... I've checked API 30 level, it has same code.</p>\n<p>maybe someone already solve this problem?\nI think it needs to create custom replacer with more correct logic...</p>\n"},{"tags":["java","regex","java-stream"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677165775,"creation_date":1677161552,"answer_id":75545968,"question_id":75545823,"body_markdown":"The problem is on line `while (P.matcher(i).find())`, each time the while loop checking the condition, [`P.matcher(i)`][1] is invoked and a new matcher instance is created to call `find()`, of course it return true every time, hence it becomes infinite loop.  \r\n\r\nTo solve the problem, assign `P.matcher(i)` to a variable first so `find()` is invoked on the same `Matcher` instance.\r\n\r\n```java\r\n...\r\nMatcher matcher = P.matcher(i);\r\nwhile (true) {\r\n    if (!matcher.find()) break;\r\n    count++;\r\n}\r\nreturn count;\r\n...\r\n```\r\nOne improvement is we can make use of [`Matcher.results()`][2] to get the count, as below:\r\n\r\n```java\r\nMatcher matcher = P.matcher(i);\r\nreturn (int) matcher.results().count();\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html#matcher(java.lang.CharSequence)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#results()","title":"Why is my while(matcher.find()) entering an infinite loop? I use it in with Streams","body":"<p>The problem is on line <code>while (P.matcher(i).find())</code>, each time the while loop checking the condition, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html#matcher(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>P.matcher(i)</code></a> is invoked and a new matcher instance is created to call <code>find()</code>, of course it return true every time, hence it becomes infinite loop.</p>\n<p>To solve the problem, assign <code>P.matcher(i)</code> to a variable first so <code>find()</code> is invoked on the same <code>Matcher</code> instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nMatcher matcher = P.matcher(i);\nwhile (true) {\n    if (!matcher.find()) break;\n    count++;\n}\nreturn count;\n...\n</code></pre>\n<p>One improvement is we can make use of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a> to get the count, as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Matcher matcher = P.matcher(i);\nreturn (int) matcher.results().count();\n</code></pre>\n"}],"owner":{"account_id":27860916,"reputation":23,"user_id":21273478,"display_name":"Salamantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75545968,"answer_count":1,"score":2,"last_activity_date":1693143550,"creation_date":1677160884,"question_id":75545823,"body_markdown":"What I want: [”Einstein”, “ist”, “kein”, “Stein”] ⇒ {”Einstein”=2, “kein”=1, “Stein”=1}\r\nUsing a Stream I want to transform a list of strings to a map finding all the &quot;ei&quot; instances.\r\n\r\nMy Code is stuck in an infinite loop:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  List&lt;String&gt; L5 = List.of(&quot;Einstein&quot;, &quot;ist&quot;, &quot;kein&quot;, &quot;Stein&quot;);\r\n  Pattern P = Pattern.compile(&quot;[Ee]i&quot;);\r\n  Map&lt;String, Integer&gt; result = L5.stream().filter(S -&gt; P.matcher(S).find()).collect(\r\n    Collectors.toMap(i -&gt; i, i -&gt; {\r\n      int count = 0;\r\n      while (P.matcher(i).find()) {\r\n        count++;\r\n      }\r\n      return count;\r\n    })\r\n  );\r\n  System.out.println(result);\r\n}\r\n```\r\n\r\nI want to count the instances of &quot;ei&quot; in a map (specifically using streams)","title":"Why is my while(matcher.find()) entering an infinite loop? I use it in with Streams","body":"<p>What I want: [”Einstein”, “ist”, “kein”, “Stein”] ⇒ {”Einstein”=2, “kein”=1, “Stein”=1}\nUsing a Stream I want to transform a list of strings to a map finding all the &quot;ei&quot; instances.</p>\n<p>My Code is stuck in an infinite loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  List&lt;String&gt; L5 = List.of(&quot;Einstein&quot;, &quot;ist&quot;, &quot;kein&quot;, &quot;Stein&quot;);\n  Pattern P = Pattern.compile(&quot;[Ee]i&quot;);\n  Map&lt;String, Integer&gt; result = L5.stream().filter(S -&gt; P.matcher(S).find()).collect(\n    Collectors.toMap(i -&gt; i, i -&gt; {\n      int count = 0;\n      while (P.matcher(i).find()) {\n        count++;\n      }\n      return count;\n    })\n  );\n  System.out.println(result);\n}\n</code></pre>\n<p>I want to count the instances of &quot;ei&quot; in a map (specifically using streams)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":25141139,"reputation":388,"user_id":18987462,"display_name":"HeapUnderStop"},"score":2,"creation_date":1674676219,"post_id":75239030,"comment_id":132767848,"body_markdown":"Please describe your class `OffsetResult`.","body":"Please describe your class <code>OffsetResult</code>."},{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1674718085,"post_id":75239030,"comment_id":132774429,"body_markdown":"Hi @HeapUnderStop! I updated my question with OffsetResult","body":"Hi @HeapUnderStop! I updated my question with OffsetResult"}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674676220,"creation_date":1674676220,"answer_id":75239129,"question_id":75239030,"body_markdown":"You can either split the string then find position in every of them and take e.g. first\r\n\r\n    Arrays.stream(input.split(String.format(&quot;%n&quot;)))\r\n        .map(s -&gt; someMethodReturningPositionOrNull(s))\r\n        .filter(s -&gt; s != null)\r\n        .findFirst()\r\n        .orElseGet(someDefaultValueOrNull)\r\n\r\nor extend your regular expression to get last new line character just before searched string (then you also need to take care about string occuring before first new line character)","title":"Java Matcher start in respect to line","body":"<p>You can either split the string then find position in every of them and take e.g. first</p>\n<pre><code>Arrays.stream(input.split(String.format(&quot;%n&quot;)))\n    .map(s -&gt; someMethodReturningPositionOrNull(s))\n    .filter(s -&gt; s != null)\n    .findFirst()\n    .orElseGet(someDefaultValueOrNull)\n</code></pre>\n<p>or extend your regular expression to get last new line character just before searched string (then you also need to take care about string occuring before first new line character)</p>\n"}],"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693143545,"creation_date":1674675555,"question_id":75239030,"body_markdown":"I&#39;m trying to write a program to check if a list of keys are present in the long text.\r\n\r\nI consume my text and feed it to the matcher in 1000 rows as a single String separated by \\n new line symbol.\r\n\r\nIn case of matching I call match.start() to get the position of matched symbol. But it returns me the position not in regard new line but like the single string.\r\n\r\nHere&#39;s text example: \r\n\r\n    The Project Gutenberg EBook of The Adventures of Sherlock Holmes\r\n    by Sir Arthur Conan Doyle\r\n    (#15 in our series by Sir Arthur Conan Doyle)\r\n    \r\n    Copyright laws are changing all over the world. Be sure to check the\r\n    copyright laws for your country before downloading or redistributing\r\n    this or any other Project Gutenberg eBook.\r\n\r\nI consume it using this method: \r\n\r\n    public String readLinesBatch(int startLine, int step, String file) {\r\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(file))) {\r\n            return lines.skip(startLine)\r\n                    .limit(step).collect(Collectors.joining(System.lineSeparator()));\r\n        } catch (IOException e) {\r\n            log.error(&quot;Exception while reading lines: {}&quot;, e.getMessage());\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\nAfter that I feed it to the Matcher method: \r\n\r\n    public List&lt;OffsetResult&gt; matchV1(String source, Integer line) {\r\n        List&lt;OffsetResult&gt; result = new ArrayList&lt;&gt;();\r\n        Matcher match = Pattern.compile(String.join(&quot;|&quot;, keys))\r\n                .matcher(source);\r\n        while (match.find()) {\r\n            int offsetStart = match.start();\r\n            getLine(source, match.start());\r\n            result.add(new OffsetResult(match.group(), line, offsetStart));\r\n        }\r\n        return result;\r\n    }\r\n\r\nThe result I receive if `Arthur` is present in my keys is next:\r\n\r\n    Arthur=[charOffset=72]\r\n\r\nBut what I need is it to be **7**. Because `Arthur` world occurs on a 2 line at the 7th position.\r\n\r\nI googled and found nothing regarding this issue. \r\nDoes anyone have some ideas? \r\nThanks in advance!\r\n\r\nUPD: my OffsetResult class\r\n\r\n    public class OffsetResult {\r\n    \r\n        private String key;\r\n        private Integer lineOffset;\r\n        private Integer charOffset;\r\n    }","title":"Java Matcher start in respect to line","body":"<p>I'm trying to write a program to check if a list of keys are present in the long text.</p>\n<p>I consume my text and feed it to the matcher in 1000 rows as a single String separated by \\n new line symbol.</p>\n<p>In case of matching I call match.start() to get the position of matched symbol. But it returns me the position not in regard new line but like the single string.</p>\n<p>Here's text example:</p>\n<pre><code>The Project Gutenberg EBook of The Adventures of Sherlock Holmes\nby Sir Arthur Conan Doyle\n(#15 in our series by Sir Arthur Conan Doyle)\n\nCopyright laws are changing all over the world. Be sure to check the\ncopyright laws for your country before downloading or redistributing\nthis or any other Project Gutenberg eBook.\n</code></pre>\n<p>I consume it using this method:</p>\n<pre><code>public String readLinesBatch(int startLine, int step, String file) {\n    try (Stream&lt;String&gt; lines = Files.lines(Paths.get(file))) {\n        return lines.skip(startLine)\n                .limit(step).collect(Collectors.joining(System.lineSeparator()));\n    } catch (IOException e) {\n        log.error(&quot;Exception while reading lines: {}&quot;, e.getMessage());\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>After that I feed it to the Matcher method:</p>\n<pre><code>public List&lt;OffsetResult&gt; matchV1(String source, Integer line) {\n    List&lt;OffsetResult&gt; result = new ArrayList&lt;&gt;();\n    Matcher match = Pattern.compile(String.join(&quot;|&quot;, keys))\n            .matcher(source);\n    while (match.find()) {\n        int offsetStart = match.start();\n        getLine(source, match.start());\n        result.add(new OffsetResult(match.group(), line, offsetStart));\n    }\n    return result;\n}\n</code></pre>\n<p>The result I receive if <code>Arthur</code> is present in my keys is next:</p>\n<pre><code>Arthur=[charOffset=72]\n</code></pre>\n<p>But what I need is it to be <strong>7</strong>. Because <code>Arthur</code> world occurs on a 2 line at the 7th position.</p>\n<p>I googled and found nothing regarding this issue.\nDoes anyone have some ideas?\nThanks in advance!</p>\n<p>UPD: my OffsetResult class</p>\n<pre><code>public class OffsetResult {\n\n    private String key;\n    private Integer lineOffset;\n    private Integer charOffset;\n}\n</code></pre>\n"},{"tags":["java","regex","replaceall"],"answers":[{"tags":[],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674146276,"creation_date":1674146276,"answer_id":75175480,"question_id":75175457,"body_markdown":"    String test = &quot;Hello world!&quot;;\r\n    System.out.println(test.toUpperCase());\r\n\r\nwill print: `HELLO WORLD!`\r\n","title":"Can we change case of an input string with regex replacement using Matcher in Java?","body":"<pre><code>String test = &quot;Hello world!&quot;;\nSystem.out.println(test.toUpperCase());\n</code></pre>\n<p>will print: <code>HELLO WORLD!</code></p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674146384,"creation_date":1674146384,"answer_id":75175504,"question_id":75175457,"body_markdown":"You can pass a replacement function to [`Matcher#replaceAll`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.lang.String)) instead.\r\n\r\n```java\r\nString res = pattern.matcher(str).replaceAll(mr -&gt; mr.group().toUpperCase());\r\n```","title":"Can we change case of an input string with regex replacement using Matcher in Java?","body":"<p>You can pass a replacement function to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Matcher#replaceAll</code></a> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String res = pattern.matcher(str).replaceAll(mr -&gt; mr.group().toUpperCase());\n</code></pre>\n"}],"owner":{"account_id":23070791,"reputation":11,"user_id":17190050,"display_name":"Vamshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693143536,"creation_date":1674146163,"question_id":75175457,"body_markdown":"I would like to achieve something like,\r\n\r\nInput: Hello world!\r\nOutput: HELLO WORLD!\r\n\r\nWhat **replacement string** can I use in Matcher.replaceAll(replacement) to achieve this?\r\n\r\nI know we can use a functional reference, but i would like to achieve this using a regex string like *replaceAll(&quot;\\U....something...&quot;)*\r\n\r\nI can see that some compilers used in text editors and perl supports &quot;\\U&quot; that converts the case.\r\n\r\nDo we have anything equivalent in Java?\r\n\r\nI tried using \\U but seems it&#39;s not supported.\r\n\r\nIn Pattern class JavaDoc it&#39;s mentioned that \\U is not supported under &quot;Differences from Perl&quot;.\r\n\r\nCould not find more what can be used for the purpose.","title":"Can we change case of an input string with regex replacement using Matcher in Java?","body":"<p>I would like to achieve something like,</p>\n<p>Input: Hello world!\nOutput: HELLO WORLD!</p>\n<p>What <strong>replacement string</strong> can I use in Matcher.replaceAll(replacement) to achieve this?</p>\n<p>I know we can use a functional reference, but i would like to achieve this using a regex string like <em>replaceAll(&quot;\\U....something...&quot;)</em></p>\n<p>I can see that some compilers used in text editors and perl supports &quot;\\U&quot; that converts the case.</p>\n<p>Do we have anything equivalent in Java?</p>\n<p>I tried using \\U but seems it's not supported.</p>\n<p>In Pattern class JavaDoc it's mentioned that \\U is not supported under &quot;Differences from Perl&quot;.</p>\n<p>Could not find more what can be used for the purpose.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674035681,"creation_date":1674022375,"answer_id":75155271,"question_id":75155125,"body_markdown":"You should remove anchors from your regex and then use [`Matcher#end()`][1] method to get the position where it stopped the previous match like this:\r\n\r\n```sh\r\nString i = &quot;f698fec0-dd89-11e8-b06b-&#226;˜&#186;&quot;;\r\nPattern p = Pattern.compile(&quot;[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\&#39;&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;);\r\nMatcher m = p.matcher(i);\r\nif (m.lookingAt() &amp;&amp; i.length() &gt; m.end()) { \r\n   System.out.println(&quot;Match &lt;&quot; + m.group() + &quot;&gt; failed at: &quot; + m.end());\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n```sh\r\nMatch &lt;f698fec0-dd89-11e8-b06b-&gt; failed at: 24\r\n```\r\n\r\n**PS**: I have used `lookingAt()` to ensure that we match the pattern starting from the beginning of the region. You can use `find()` as well to get the next match anywhere or else keep the start anchor in pattern as \r\n\r\n    &quot;^[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\&#39;&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;\r\n\r\nand use `find()` to effectively make it behave like the above code with `lookingAt()`.\r\n\r\n[Read difference between `lookingAt()` and `find()`][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#lookingAt--\r\n  [2]: https://stackoverflow.com/questions/30008397/whats-the-difference-between-matcher-lookingat-and-find\r\n\r\nI have refactored your regex to use `\\w` instead of `[a-zA-Z0-9_]` and used quantifier `+` (meaning match 1 or more) instead of `*` (meaning match 0 or more) to avoid returning success for zero-length matches.","title":"java regex tell which column not match","body":"<p>You should remove anchors from your regex and then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#lookingAt--\" rel=\"nofollow noreferrer\"><code>Matcher#end()</code></a> method to get the position where it stopped the previous match like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>String i = &quot;f698fec0-dd89-11e8-b06b-â˜º&quot;;\nPattern p = Pattern.compile(&quot;[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\'&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;);\nMatcher m = p.matcher(i);\nif (m.lookingAt() &amp;&amp; i.length() &gt; m.end()) { \n   System.out.println(&quot;Match &lt;&quot; + m.group() + &quot;&gt; failed at: &quot; + m.end());\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>Match &lt;f698fec0-dd89-11e8-b06b-&gt; failed at: 24\n</code></pre>\n<p><strong>PS</strong>: I have used <code>lookingAt()</code> to ensure that we match the pattern starting from the beginning of the region. You can use <code>find()</code> as well to get the next match anywhere or else keep the start anchor in pattern as</p>\n<pre><code>&quot;^[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\'&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;\n</code></pre>\n<p>and use <code>find()</code> to effectively make it behave like the above code with <code>lookingAt()</code>.</p>\n<p><a href=\"https://stackoverflow.com/questions/30008397/whats-the-difference-between-matcher-lookingat-and-find\">Read difference between <code>lookingAt()</code> and <code>find()</code></a></p>\n<p>I have refactored your regex to use <code>\\w</code> instead of <code>[a-zA-Z0-9_]</code> and used quantifier <code>+</code> (meaning match 1 or more) instead of <code>*</code> (meaning match 0 or more) to avoid returning success for zero-length matches.</p>\n"}],"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75155271,"answer_count":1,"score":3,"last_activity_date":1693143528,"creation_date":1674021118,"question_id":75155125,"body_markdown":"Good day,\r\n\r\nMy java code is as follow:\r\n\r\n    Pattern p = Pattern.compile(&quot;^[a-zA-Z0-9$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\&#39;&lt;&gt;._^*()%!/~\\&quot;`&#160; -]*$&quot;);\r\n    String i = &quot;f698fec0-dd89-11e8-b06b-&#226;˜&#186;&quot;;\r\n    Matcher tagmatch = p.matcher(i);\r\n    System.out.println(&quot;tagmatch is &quot; + tagmatch.find());\r\n\r\nAs expected, the answer will be false, because there is `&#226;˜&#186;` character inside. However, I would like to show the column number that not match. For this example, it should show column 25th having the invalid character.\r\n\r\nMay I know how can I do this?","title":"java regex tell which column not match","body":"<p>Good day,</p>\n<p>My java code is as follow:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;^[a-zA-Z0-9$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\'&lt;&gt;._^*()%!/~\\&quot;`  -]*$&quot;);\nString i = &quot;f698fec0-dd89-11e8-b06b-â˜º&quot;;\nMatcher tagmatch = p.matcher(i);\nSystem.out.println(&quot;tagmatch is &quot; + tagmatch.find());\n</code></pre>\n<p>As expected, the answer will be false, because there is <code>â˜º</code> character inside. However, I would like to show the column number that not match. For this example, it should show column 25th having the invalid character.</p>\n<p>May I know how can I do this?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671414007,"post_id":74823314,"comment_id":132087803,"body_markdown":"See [ask]. describe your problem before showing code.","body":"See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. describe your problem before showing code."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671187676,"creation_date":1671187676,"answer_id":74823366,"question_id":74823314,"body_markdown":"You can use\r\n```none\r\n^(.*?)(?::\\[(.*?)])?$\r\n^(.*?)(?::\\[([^\\]\\[]*)])?$\r\n```\r\nSee the [regex demo][1].\r\n\r\nIn Java:\r\n```java\r\nString regex = &quot;^(.*?)(?::\\\\[(.*?)])?$&quot;;\r\n// Or\r\nString regex = &quot;^(.*?)(?::\\\\[([^\\\\]\\\\[]*)])?$&quot;;\r\n```\r\nI added the `^` and `$` anchors since you are using `matcher.find()`. If you switch to `matcher.matches()`, you can remove the anchors.\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(.*?)`  - Group 1: any zero or more chars other than line break chars as few as possible\r\n - `(?::\\[(.*?)])?` - an optional sequence of `:[`, then Group 2 capturing any zero or more chars other than line break chars as few as possible and then a `]` char (if you use `[^\\]\\[]*` it will match zero or more chars other than square brackets)\r\n - `$` - end of string.\r\n\r\n  [1]: https://regex101.com/r/OcJfYe/1","title":"How do I make a regex part optional and finish regex at the same point if that optional part contains a string end ($)?","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(.*?)(?::\\[(.*?)])?$\n^(.*?)(?::\\[([^\\]\\[]*)])?$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/OcJfYe/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;^(.*?)(?::\\\\[(.*?)])?$&quot;;\n// Or\nString regex = &quot;^(.*?)(?::\\\\[([^\\\\]\\\\[]*)])?$&quot;;\n</code></pre>\n<p>I added the <code>^</code> and <code>$</code> anchors since you are using <code>matcher.find()</code>. If you switch to <code>matcher.matches()</code>, you can remove the anchors.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(.*?)</code>  - Group 1: any zero or more chars other than line break chars as few as possible</li>\n<li><code>(?::\\[(.*?)])?</code> - an optional sequence of <code>:[</code>, then Group 2 capturing any zero or more chars other than line break chars as few as possible and then a <code>]</code> char (if you use <code>[^\\]\\[]*</code> it will match zero or more chars other than square brackets)</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n"}],"owner":{"account_id":27270810,"reputation":23,"user_id":20792152,"display_name":"Anupam Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74823366,"answer_count":1,"score":2,"last_activity_date":1693143469,"creation_date":1671187450,"question_id":74823314,"body_markdown":"```\r\nString s1 = &quot;NetworkElement=Test,testWork=1:[456]&quot;;\r\nString s2 = &quot;NetworkElement=Test,testWork=1&quot;;\r\nString regex = &quot;(.*):\\\\[(.*)\\\\]&quot;;\r\nPattern pattern = Pattern.compile(regex);\r\nMatcher matcher = pattern.matcher(s1);\r\nif (matcher.find()) {\r\n    System.out.println(matcher.group(1));\r\n    System.out.println(matcher.group(2));\r\n}\r\nMatcher matcher2 = pattern.matcher(s2);\r\nif (matcher2.find()) {\r\n    System.out.println(matcher2.group(1));\r\n    System.out.println(matcher2.group(2));\r\n}\r\n\r\n/*\r\nExpected output:\r\nfor s1 : NetworkElement=Test,testWork=1\r\n         456\r\nfor s2 : NetworkElement=Test,testWork=1\r\n         0\r\n*/\r\n```\r\n\r\nProblem : This regex is working fine for String s1 but not for s2. for string s2, matcher2.find() return false.","title":"How do I make a regex part optional and finish regex at the same point if that optional part contains a string end ($)?","body":"<pre><code>String s1 = &quot;NetworkElement=Test,testWork=1:[456]&quot;;\nString s2 = &quot;NetworkElement=Test,testWork=1&quot;;\nString regex = &quot;(.*):\\\\[(.*)\\\\]&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(s1);\nif (matcher.find()) {\n    System.out.println(matcher.group(1));\n    System.out.println(matcher.group(2));\n}\nMatcher matcher2 = pattern.matcher(s2);\nif (matcher2.find()) {\n    System.out.println(matcher2.group(1));\n    System.out.println(matcher2.group(2));\n}\n\n/*\nExpected output:\nfor s1 : NetworkElement=Test,testWork=1\n         456\nfor s2 : NetworkElement=Test,testWork=1\n         0\n*/\n</code></pre>\n<p>Problem : This regex is working fine for String s1 but not for s2. for string s2, matcher2.find() return false.</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667893945,"post_id":74357178,"comment_id":131269987,"body_markdown":"Your expression should work as well, you just need to make `[^A-Za-z0-9_]` a look-ahead so it&#39;s not consumed and replaced:  `(?=[^A-Za-z0-9_])`. For your specific case you could also use the [word boundary](https://www.rexegg.com/regex-boundaries.html#wordboundary) `\\b` as Tim suggested: it will match the position between word (`[A-Za-z0-9_]`) and non-word characters (`[^A-Za-z0-9_]`).","body":"Your expression should work as well, you just need to make <code>[^A-Za-z0-9_]</code> a look-ahead so it&#39;s not consumed and replaced:  <code>(?=[^A-Za-z0-9_])</code>. For your specific case you could also use the <a href=\"https://www.rexegg.com/regex-boundaries.html#wordboundary\" rel=\"nofollow noreferrer\">word boundary</a> <code>\\b</code> as Tim suggested: it will match the position between word (<code>[A-Za-z0-9_]</code>) and non-word characters (<code>[^A-Za-z0-9_]</code>)."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667893591,"creation_date":1667893591,"answer_id":74357224,"question_id":74357178,"body_markdown":"You should be able to find `\\$c\\b` and replace with `$text`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\r\n    String output = input.replaceAll(&quot;\\\\$c\\\\b&quot;, &quot;\\\\$text&quot;);\r\n    System.out.println(output);\r\n\r\nThis prints:\r\n\r\n    $text+350 - $text + $c_new * $c_new[x(12345)]","title":"Java - non greedy-regex to replace partial string in longer words?","body":"<p>You should be able to find <code>\\$c\\b</code> and replace with <code>$text</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\nString output = input.replaceAll(&quot;\\\\$c\\\\b&quot;, &quot;\\\\$text&quot;);\nSystem.out.println(output);\n</code></pre>\n<p>This prints:</p>\n<pre><code>$text+350 - $text + $c_new * $c_new[x(12345)]\n</code></pre>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74357224,"answer_count":1,"score":0,"last_activity_date":1693143455,"creation_date":1667893362,"question_id":74357178,"body_markdown":"I have a string like that:\r\n\r\n```\r\n  $c+350 - $c + $c_new * $c_new[x(12345)]\r\n```\r\n\r\nHere, I only want to replace the first two **$c** (as they don&#39;t have any followed characters `[A-Za-z0-9_]`) with **$text**\r\n\r\nI tried to use with Java regex pattern:\r\n\r\n```\r\nString a = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\r\nString b = a.replaceAll(&quot;\\\\$c[^A-Za-z0-9_]&quot;,  &quot;\\\\$text&quot;)\r\n```\r\n\r\nbut it only returns with one stripped character for each **$text**\r\n\r\n```\r\nb = &quot;$text350 - $text+ $c_new * $c_new[x(12345)]&quot;\r\n```\r\n\r\ninstead of the text it should be:\r\n\r\n```\r\nb = &quot;$text+350 - $text + $c_new * $c_new[x(12345)]&quot;\r\n```","title":"Java - non greedy-regex to replace partial string in longer words?","body":"<p>I have a string like that:</p>\n<pre><code>  $c+350 - $c + $c_new * $c_new[x(12345)]\n</code></pre>\n<p>Here, I only want to replace the first two <strong>$c</strong> (as they don't have any followed characters <code>[A-Za-z0-9_]</code>) with <strong>$text</strong></p>\n<p>I tried to use with Java regex pattern:</p>\n<pre><code>String a = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\nString b = a.replaceAll(&quot;\\\\$c[^A-Za-z0-9_]&quot;,  &quot;\\\\$text&quot;)\n</code></pre>\n<p>but it only returns with one stripped character for each <strong>$text</strong></p>\n<pre><code>b = &quot;$text350 - $text+ $c_new * $c_new[x(12345)]&quot;\n</code></pre>\n<p>instead of the text it should be:</p>\n<pre><code>b = &quot;$text+350 - $text + $c_new * $c_new[x(12345)]&quot;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1666894420,"post_id":74226525,"comment_id":131049073,"body_markdown":"Not really the way to do it. You should really be using something like ```java.nio.file.Path.getParent()```","body":"Not really the way to do it. You should really be using something like <code>java.nio.file.Path.getParent()</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1666894654,"post_id":74226525,"comment_id":131049151,"body_markdown":"Possibly related: [Java: How to check if a directory is inside other directory](https://stackoverflow.com/q/26518033)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/26518033\">Java: How to check if a directory is inside other directory</a>"},{"owner":{"account_id":11620930,"reputation":5054,"user_id":8512262,"display_name":"JRiggles"},"score":0,"creation_date":1666894708,"post_id":74226525,"comment_id":131049170,"body_markdown":"This pattern will match whatever the last folder in the path is: &quot;E:(?:\\\\\\w+)*\\\\(.*)\\\\&quot;, see [here](https://regex101.com/r/17YEl7/1) for examples. As has been said, though, there are probably better was to deal with this.","body":"This pattern will match whatever the last folder in the path is: &quot;E:(?:\\\\\\w+)*\\&#40;.*)\\\\&quot;, see <a href=\"https://regex101.com/r/17YEl7/1\" rel=\"nofollow noreferrer\">here</a> for examples. As has been said, though, there are probably better was to deal with this."},{"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"score":0,"creation_date":1666896330,"post_id":74226525,"comment_id":131049672,"body_markdown":"I don&#39;t know, why this questions was closed again :-( So here&#39;s only a few things via comments :-/ Your `.` is escaped, so it matches stricly only a `.`, not &lt;any character&gt;. Then, `.*` (not escacped dot) _would_ match 0..* times, not 1..* times.. You should not use word boundary `\\b` after `test`, because it doesn&#39;t make sense. If you want a backslash, match a backslash. Matching a backslash requires 4 backslashes (that&#39;s `\\\\\\\\ `.). The other comments are very valid: You should use `getParent()`. &quot;test&quot; in `[]` doesn&#39;t make sense, read the docs.","body":"I don&#39;t know, why this questions was closed again :-( So here&#39;s only a few things via comments :-/ Your <code>.</code> is escaped, so it matches stricly only a <code>.</code>, not &lt;any character&gt;. Then, <code>.*</code> (not escacped dot) <i>would</i> match 0..* times, not 1..* times.. You should not use word boundary <code>\\b</code> after <code>test</code>, because it doesn&#39;t make sense. If you want a backslash, match a backslash. Matching a backslash requires 4 backslashes (that&#39;s <code>\\\\\\\\ </code>.). The other comments are very valid: You should use <code>getParent()</code>. &quot;test&quot; in <code>[]</code> doesn&#39;t make sense, read the docs."},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1666896559,"post_id":74226525,"comment_id":131049731,"body_markdown":"yeah exactly, people are so ignorant &quot;yeah that thing was definitely answered somewhere else&quot; Bruh, its not only about the backslashes here. Thanks for your answer! : 3","body":"yeah exactly, people are so ignorant &quot;yeah that thing was definitely answered somewhere else&quot; Bruh, its not only about the backslashes here. Thanks for your answer! : 3"}],"answers":[{"tags":[],"owner":{"account_id":6158361,"reputation":11,"user_id":4800687,"display_name":"tecop"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666894852,"creation_date":1666894852,"answer_id":74226639,"question_id":74226525,"body_markdown":"Possible duplicated of [escaping-special-characters-in-java-regular-expressions][1].\r\n\r\nYou need more backslashes. &quot;The 4 slashes in the Java string turn into 2 slashes in the regex pattern. 2 backslashes in a regex pattern matches the backslash itself.&quot;.\r\n\r\n  [1]: https://stackoverflow.com/questions/10664434/escaping-special-characters-in-java-regular-expressions","title":"Java regex match part of path","body":"<p>Possible duplicated of <a href=\"https://stackoverflow.com/questions/10664434/escaping-special-characters-in-java-regular-expressions\">escaping-special-characters-in-java-regular-expressions</a>.</p>\n<p>You need more backslashes. &quot;The 4 slashes in the Java string turn into 2 slashes in the regex pattern. 2 backslashes in a regex pattern matches the backslash itself.&quot;.</p>\n"}],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1666895632,"answer_count":1,"score":-2,"last_activity_date":1693143437,"creation_date":1666894179,"question_id":74226525,"body_markdown":"I am trying to check if a chosen path is a valid path for my Java program. In order to be valid, it must match the path `E:\\test\\(someFolderName)\\`. The chosen folder can be deeper in that directory.\r\n\r\nThis is what I have tried:\r\n\r\n    String a = &quot;E:\\\\test\\\\anotherFolder&quot;;\r\n\tif (a.matches(&quot;E:\\\\\\\\btest\\\\b\\\\.*&quot;)) {\r\n\t\tSystem.out.println(&quot;match&quot;);\r\n\t}\r\n\r\nI have also tried putting `test` into `[]` but it did not work.\r\n\r\n `\\b` would mark the beginning of a word boundary, and adding `\\b` again should close it, correct?\r\n\r\n`.*` would match any character 1 to infinite times.\r\n\r\nSo, is there a problem with the escaping? Or do I need to group it differently?","title":"Java regex match part of path","body":"<p>I am trying to check if a chosen path is a valid path for my Java program. In order to be valid, it must match the path <code>E:\\test\\(someFolderName)\\</code>. The chosen folder can be deeper in that directory.</p>\n<p>This is what I have tried:</p>\n<pre><code>String a = &quot;E:\\\\test\\\\anotherFolder&quot;;\nif (a.matches(&quot;E:\\\\\\\\btest\\\\b\\\\.*&quot;)) {\n    System.out.println(&quot;match&quot;);\n}\n</code></pre>\n<p>I have also tried putting <code>test</code> into <code>[]</code> but it did not work.</p>\n<p><code>\\b</code> would mark the beginning of a word boundary, and adding <code>\\b</code> again should close it, correct?</p>\n<p><code>.*</code> would match any character 1 to infinite times.</p>\n<p>So, is there a problem with the escaping? Or do I need to group it differently?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":213468,"reputation":103492,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1661505964,"post_id":73498800,"comment_id":129793400,"body_markdown":"You have only one capturing group in your regex, `([1-5])` at the end.","body":"You have only one capturing group in your regex, <code>([1-5])</code> at the end."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1661506016,"post_id":73498800,"comment_id":129793420,"body_markdown":"Also note that `matcher.group(0)` will always be the full match. I.e. the input string. From the javadoc: *Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()*","body":"Also note that <code>matcher.group(0)</code> will always be the full match. I.e. the input string. From the javadoc: <i>Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()</i>"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661506001,"creation_date":1661506001,"answer_id":73498844,"question_id":73498800,"body_markdown":"That is because the first group (index 0) is the whole pattern and is not counted. See the [javadoc][1]:\r\n\r\n&gt;`public int groupCount()`\r\n\r\n&gt;Returns the number of capturing groups in this matcher&#39;s pattern.  \r\nGroup zero denotes the entire pattern by convention. It is not included in this count.  \r\nAny non-negative integer smaller than or equal to the value returned by this method is guaranteed to be a valid group index for this matcher.\r\n\r\nSo you can change your code to this for example:\r\n\r\n    for (var i = 1; i &lt;= matcher.groupCount(); i++){\r\n      matches.add(matcher.group(i));\r\n    }\r\n\r\n [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#groupCount()","title":"Java Regex Matcher get wrong group count?","body":"<p>That is because the first group (index 0) is the whole pattern and is not counted. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#groupCount()\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p><code>public int groupCount()</code></p>\n</blockquote>\n<blockquote>\n<p>Returns the number of capturing groups in this matcher's pattern.<br />\nGroup zero denotes the entire pattern by convention. It is not included in this count.<br />\nAny non-negative integer smaller than or equal to the value returned by this method is guaranteed to be a valid group index for this matcher.</p>\n</blockquote>\n<p>So you can change your code to this for example:</p>\n<pre><code>for (var i = 1; i &lt;= matcher.groupCount(); i++){\n  matches.add(matcher.group(i));\n}\n</code></pre>\n"}],"owner":{"account_id":8935976,"reputation":690,"user_id":6666797,"display_name":"Cositanto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73498844,"answer_count":1,"score":0,"last_activity_date":1693143171,"creation_date":1661505765,"question_id":73498800,"body_markdown":"My code is \r\n\r\n    String debug = &quot;1$&lt;$2&quot;;\r\n    Matcher matcher = Pattern.compile(&quot;^[1-5]&quot; + &quot;\\\\(?\\\\$[^\\\\$]*\\\\$\\\\)?&quot; + &quot;([1-5])$&quot;).matcher(debug);\r\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\r\n    if (matcher.matches()) {\r\n      for (var i = 0;i&lt; matcher.groupCount();i++){\r\n        matches.add(matcher.group(i));\r\n      }\r\n    }\r\n    System.out.println(matcher.groupCount());\r\n    System.out.println(matches);\r\n\r\nAnd the group count is only 1.\r\n\r\nThe `matches` is `1$&lt;$2`.\r\n\r\nBut actually the result of `matcher.group(1)` is `2`.\r\n\r\nHow can I get the right group count?","title":"Java Regex Matcher get wrong group count?","body":"<p>My code is</p>\n<pre><code>String debug = &quot;1$&lt;$2&quot;;\nMatcher matcher = Pattern.compile(&quot;^[1-5]&quot; + &quot;\\\\(?\\\\$[^\\\\$]*\\\\$\\\\)?&quot; + &quot;([1-5])$&quot;).matcher(debug);\nList&lt;String&gt; matches = new ArrayList&lt;String&gt;();\nif (matcher.matches()) {\n  for (var i = 0;i&lt; matcher.groupCount();i++){\n    matches.add(matcher.group(i));\n  }\n}\nSystem.out.println(matcher.groupCount());\nSystem.out.println(matches);\n</code></pre>\n<p>And the group count is only 1.</p>\n<p>The <code>matches</code> is <code>1$&lt;$2</code>.</p>\n<p>But actually the result of <code>matcher.group(1)</code> is <code>2</code>.</p>\n<p>How can I get the right group count?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1656610426,"post_id":72819841,"comment_id":128621046,"body_markdown":"Why don&#39;t use use `matcher.group(1)` and `.matcher.group(2)` instead?","body":"Why don&#39;t use use <code>matcher.group(1)</code> and <code>.matcher.group(2)</code> instead?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1656610741,"post_id":72819841,"comment_id":128621141,"body_markdown":"@Thefourthbird I have attempted using `.group(n)` already, but I just don&#39;t know how to make them work for the formatter. The thing about the formatter string is that, it is provided by the user, so I have no control on how to format the extraction in advance.","body":"@Thefourthbird I have attempted using <code>.group(n)</code> already, but I just don&#39;t know how to make them work for the formatter. The thing about the formatter string is that, it is provided by the user, so I have no control on how to format the extraction in advance."},{"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1656611586,"post_id":72819841,"comment_id":128621412,"body_markdown":"Is `extractionFormatter` your own specified custom template, that you want to parse and then convert the `$1` for example to `matcher.group(1)`?","body":"Is <code>extractionFormatter</code> your own specified custom template, that you want to parse and then convert the <code>$1</code> for example to <code>matcher.group(1)</code>?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1656611926,"post_id":72819841,"comment_id":128621516,"body_markdown":"@Thefourthbird It basically is a just simple string provided by the user. It is designed to work just like the `replacement` in `Matcher.replaceAll(replacement)` . So the user can type in anything like `Hello, $1!`.","body":"@Thefourthbird It basically is a just simple string provided by the user. It is designed to work just like the <code>replacement</code> in <code>Matcher.replaceAll(replacement)</code> . So the user can type in anything like <code>Hello, $1!</code>."},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1656612809,"post_id":72819841,"comment_id":128621786,"body_markdown":"The user enters `extractionFormatter` via a JTextPane on the GUI","body":"The user enters <code>extractionFormatter</code> via a JTextPane on the GUI"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656617112,"creation_date":1656613343,"answer_id":72820406,"question_id":72819841,"body_markdown":"You can use [String.replaceAll](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)) instead.\r\n\r\nThe thing to note is that if you want to get the desired output with capture groups, you would have to match (to remove) from the string that should not be there in the replacement.\r\n\r\nUsing a pattern that would give the desired output:\r\n\r\n    String fileContent = &quot;&quot;&quot;\r\n    aaabbcac aabb\r\n    bcbcbbccc babba\r\n    &quot;&quot;&quot;;\r\n    String pattern = &quot;(?m)^.*?(bb\\\\S*).*(.)(abb).*$&quot;;\r\n    String extractionFormatter = &quot;$2: $1 $2$3, \\\\$$3&quot;;\r\n    System.out.print(fileContent.replaceAll(pattern, extractionFormatter));\r\n\r\nOutput\r\n\r\n    a: bbcac aabb, $abb\r\n    b: bbccc babb, $abb\r\n\r\nSee a [Java demo](https://ideone.com/IjbqM6).\r\n\r\n&lt;hr&gt;\r\n\r\nOr using the Stringbuilder, Matcher and the while loop:\r\n\r\n    String fileContent = &quot;&quot;&quot;\r\n    aaabbcac aabb\r\n    bcbcbbccc babba\r\n    &quot;&quot;&quot;;\r\n    String pat = &quot;bb.*(.)(abb)&quot;;\r\n    Pattern pattern = Pattern.compile(pat);\r\n    Matcher matcher = pattern.matcher(fileContent);\r\n    String extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    while(matcher.find()) {\r\n        sb.append(matcher.group().replaceAll(pat, extractionFormatter)).append(&quot;\\n&quot;);\r\n    }\r\n    System.out.print(sb);\r\n\r\nSee a [Java demo](https://ideone.com/PJQHZ9).","title":"Extract text with Java regex with reference support","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">String.replaceAll</a> instead.</p>\n<p>The thing to note is that if you want to get the desired output with capture groups, you would have to match (to remove) from the string that should not be there in the replacement.</p>\n<p>Using a pattern that would give the desired output:</p>\n<pre><code>String fileContent = &quot;&quot;&quot;\naaabbcac aabb\nbcbcbbccc babba\n&quot;&quot;&quot;;\nString pattern = &quot;(?m)^.*?(bb\\\\S*).*(.)(abb).*$&quot;;\nString extractionFormatter = &quot;$2: $1 $2$3, \\\\$$3&quot;;\nSystem.out.print(fileContent.replaceAll(pattern, extractionFormatter));\n</code></pre>\n<p>Output</p>\n<pre><code>a: bbcac aabb, $abb\nb: bbccc babb, $abb\n</code></pre>\n<p>See a <a href=\"https://ideone.com/IjbqM6\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n<hr>\n<p>Or using the Stringbuilder, Matcher and the while loop:</p>\n<pre><code>String fileContent = &quot;&quot;&quot;\naaabbcac aabb\nbcbcbbccc babba\n&quot;&quot;&quot;;\nString pat = &quot;bb.*(.)(abb)&quot;;\nPattern pattern = Pattern.compile(pat);\nMatcher matcher = pattern.matcher(fileContent);\nString extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\nStringBuilder sb = new StringBuilder();\n\nwhile(matcher.find()) {\n    sb.append(matcher.group().replaceAll(pat, extractionFormatter)).append(&quot;\\n&quot;);\n}\nSystem.out.print(sb);\n</code></pre>\n<p>See a <a href=\"https://ideone.com/PJQHZ9\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656615350,"creation_date":1656615350,"answer_id":72820783,"question_id":72819841,"body_markdown":"You can use the `results` method from the `Matcher` class which returns a stream of `MatchResult`s to first get all matches, get the results as string using `MatchResult.group`, replace now using the method `String.replaceAll` using the pattern as regex and your `extractionFormatter` as replacement and finally join all using new line:\r\n\r\n    String fileContent = &quot;aaabbcac aabb\\n&quot; +\r\n                         &quot;bcbcbbccc babba&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\r\n    String extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\r\n\r\n    String output = pattern.matcher(fileContent)\r\n                            .results()\r\n                            .map(MatchResult::group)\r\n                            .map(s -&gt; s.replaceAll(pattern.pattern(), extractionFormatter))\r\n                            .collect(Collectors.joining(System.lineSeparator()));\r\n\r\n    System.out.println(output);","title":"Extract text with Java regex with reference support","body":"<p>You can use the <code>results</code> method from the <code>Matcher</code> class which returns a stream of <code>MatchResult</code>s to first get all matches, get the results as string using <code>MatchResult.group</code>, replace now using the method <code>String.replaceAll</code> using the pattern as regex and your <code>extractionFormatter</code> as replacement and finally join all using new line:</p>\n<pre><code>String fileContent = &quot;aaabbcac aabb\\n&quot; +\n                     &quot;bcbcbbccc babba&quot;;\n\nPattern pattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\nString extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\n\nString output = pattern.matcher(fileContent)\n                        .results()\n                        .map(MatchResult::group)\n                        .map(s -&gt; s.replaceAll(pattern.pattern(), extractionFormatter))\n                        .collect(Collectors.joining(System.lineSeparator()));\n\nSystem.out.println(output);\n</code></pre>\n"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72820783,"answer_count":2,"score":1,"last_activity_date":1693143153,"creation_date":1656610258,"question_id":72819841,"body_markdown":"I am having some problem writing a method in Java. It basically extracts text with matching pattern and returns *ALL* the extractions. It simply works just like `java.util.regex.Matcher`&#39;s `find()`/`matches()` then `group()` :\r\n```\r\nMatcher matcher = pattern.matcher(fileContent);\r\nStringBuilder sb = new StringBuilder();\r\nwhile(matcher.matches()) {\r\n    sb.append(matcher.group()).append(&quot;\\n&quot;);\r\n}\r\nreturn sb.toString();\r\n```\r\n\r\nHowever, I would like the extractions to be formatted with the references(dollar sign,`$`) and literal-character-escaping (backslash,`\\`) support, just like the replacement in `Matcher.replaceAll(replacement)`([Doc][1]). For example:\r\n```\r\nfileContent = &quot;&quot;&quot;\r\n    aaabbcac aabb\r\n    bcbcbbccc babba\r\n&quot;&quot;&quot;;\r\npattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\r\nextractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\r\n```\r\n\r\nThe expected output would be:\r\n```\r\na: bbcac aabb, $abb\r\nb: bbccc babb, $abb\r\n```\r\n\r\nI hope you understand what I am trying to do. Do you know if there is any existing library/method that can achieve this without having me to reinvent the wheel?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String)","title":"Extract text with Java regex with reference support","body":"<p>I am having some problem writing a method in Java. It basically extracts text with matching pattern and returns <em>ALL</em> the extractions. It simply works just like <code>java.util.regex.Matcher</code>'s <code>find()</code>/<code>matches()</code> then <code>group()</code> :</p>\n<pre><code>Matcher matcher = pattern.matcher(fileContent);\nStringBuilder sb = new StringBuilder();\nwhile(matcher.matches()) {\n    sb.append(matcher.group()).append(&quot;\\n&quot;);\n}\nreturn sb.toString();\n</code></pre>\n<p>However, I would like the extractions to be formatted with the references(dollar sign,<code>$</code>) and literal-character-escaping (backslash,<code>\\</code>) support, just like the replacement in <code>Matcher.replaceAll(replacement)</code>(<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\">Doc</a>). For example:</p>\n<pre><code>fileContent = &quot;&quot;&quot;\n    aaabbcac aabb\n    bcbcbbccc babba\n&quot;&quot;&quot;;\npattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\nextractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\n</code></pre>\n<p>The expected output would be:</p>\n<pre><code>a: bbcac aabb, $abb\nb: bbccc babb, $abb\n</code></pre>\n<p>I hope you understand what I am trying to do. Do you know if there is any existing library/method that can achieve this without having me to reinvent the wheel?</p>\n"},{"tags":["java","regex","string","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1654804972,"post_id":72500420,"comment_id":128186201,"body_markdown":"Just in case, **1.** *Primitive streams* perform better than streams of objects, **2.** usage of collector has an additional cost. That said `sum()` operation on the `IntStream` would be faster than `Collectors.summingInt()`.","body":"Just in case, <b>1.</b> <i>Primitive streams</i> perform better than streams of objects, <b>2.</b> usage of collector has an additional cost. That said <code>sum()</code> operation on the <code>IntStream</code> would be faster than <code>Collectors.summingInt()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654385232,"creation_date":1654353795,"answer_id":72500674,"question_id":72500420,"body_markdown":"&gt; Is it possible to solve this problem using Stream API?\r\n\r\nSplit the given string by substring that are not comprised of digits using `.split(&quot;\\\\D+&quot;)`. Regex `&quot;\\\\D+&quot;` matches a string which consists of one or more *non-digit character*. The result will be an array of numeric strings.\r\n\r\nCreate a stream over the array and filter out strings that are not empty. Then parse the string into `int` with `mapToInt()` and apply `sum()` as a terminal operation.\r\n\r\nThis solution passes all tests on *CodingBat*:\r\n\r\n    public int sumNumbers(String str) {\r\n        return Arrays.stream(str.split(&quot;\\\\D+&quot;))\r\n            .filter(s -&gt; !s.isEmpty())\r\n            .mapToInt(Integer::parseInt)\r\n            .sum();\r\n    }\r\n__________________________________________________________\r\n\r\nSince there could be only a single empty string at the very beginning of the array produced by `.split(&quot;\\\\D+&quot;)`, in order to reduce the number of actions performed in the stream-pipeline `filter()` can be replaced with `dropWhile()`. \r\n\r\nIt will skip the first string if it&#39;s *empty*, and after the first *non-empty* element has been encountered this check would not be applied. I.e. *predicate* `dropWhile()` passed to the `dropWhile()` would be executed at most `2` times. In case of lengthy string (*otherwise all optimizations don&#39;t matter*) it would be **cheaper** than generating a *new string* with `replaceAll()`.\r\n\r\n    public static int sumNumbers(String str) {\r\n        return Arrays.stream(str.split(&quot;\\\\D+&quot;))\r\n            .dropWhile(String::isEmpty)\r\n            .mapToInt(Integer::parseInt)\r\n            .sum();\r\n    }\r\n\r\n*Caveat:* `dropWhile()` is available with Java 9 onwards. *CodingBat* is still on Java 8, therefore it&#39;s unaware of that feature. Nevertheless, it&#39;s a valid and also performant solution.\r\nYou can test it in your IDE and play around with [*Online Demo*](https://www.jdoodle.com/ia/rSo)\r\n______________________________________________________\r\n\r\n*Tests (the first solution):*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V9bCTl.jpg","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<blockquote>\n<p>Is it possible to solve this problem using Stream API?</p>\n</blockquote>\n<p>Split the given string by substring that are not comprised of digits using <code>.split(&quot;\\\\D+&quot;)</code>. Regex <code>&quot;\\\\D+&quot;</code> matches a string which consists of one or more <em>non-digit character</em>. The result will be an array of numeric strings.</p>\n<p>Create a stream over the array and filter out strings that are not empty. Then parse the string into <code>int</code> with <code>mapToInt()</code> and apply <code>sum()</code> as a terminal operation.</p>\n<p>This solution passes all tests on <em>CodingBat</em>:</p>\n<pre><code>public int sumNumbers(String str) {\n    return Arrays.stream(str.split(&quot;\\\\D+&quot;))\n        .filter(s -&gt; !s.isEmpty())\n        .mapToInt(Integer::parseInt)\n        .sum();\n}\n</code></pre>\n<hr />\n<p>Since there could be only a single empty string at the very beginning of the array produced by <code>.split(&quot;\\\\D+&quot;)</code>, in order to reduce the number of actions performed in the stream-pipeline <code>filter()</code> can be replaced with <code>dropWhile()</code>.</p>\n<p>It will skip the first string if it's <em>empty</em>, and after the first <em>non-empty</em> element has been encountered this check would not be applied. I.e. <em>predicate</em> <code>dropWhile()</code> passed to the <code>dropWhile()</code> would be executed at most <code>2</code> times. In case of lengthy string (<em>otherwise all optimizations don't matter</em>) it would be <strong>cheaper</strong> than generating a <em>new string</em> with <code>replaceAll()</code>.</p>\n<pre><code>public static int sumNumbers(String str) {\n    return Arrays.stream(str.split(&quot;\\\\D+&quot;))\n        .dropWhile(String::isEmpty)\n        .mapToInt(Integer::parseInt)\n        .sum();\n}\n</code></pre>\n<p><em>Caveat:</em> <code>dropWhile()</code> is available with Java 9 onwards. <em>CodingBat</em> is still on Java 8, therefore it's unaware of that feature. Nevertheless, it's a valid and also performant solution.\nYou can test it in your IDE and play around with <a href=\"https://www.jdoodle.com/ia/rSo\" rel=\"nofollow noreferrer\"><em>Online Demo</em></a></p>\n<hr />\n<p><em>Tests (the first solution):</em></p>\n<p><a href=\"https://i.stack.imgur.com/V9bCTl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V9bCTl.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654536695,"creation_date":1654353804,"answer_id":72500675,"question_id":72500420,"body_markdown":"Yes. \r\n\r\n``` \r\nString[] data = { &quot;abc123xyz&quot;, &quot;aa11b33&quot;, &quot;7 11&quot; };\r\n```\r\n- `\\\\D` - Split on any but string of non digits \r\n- filter empty strings from the split\r\n- convert to an `int` and sum the values.\r\n- return an entry to show both string and sum (not needed but shows the association)\r\n```\r\nArrays.stream(data).map(\r\n\t\tstr -&gt; new AbstractMap.SimpleEntry&lt;String, Integer&gt;(\r\n\t\t\t\tstr,\r\n\t\t\t\tArrays.stream(str.split(&quot;\\\\D+&quot;))\r\n\t\t\t\t\t\t.filter(s -&gt; !s.isBlank())\r\n\t\t\t\t\t\t.mapToInt(Integer::parseInt).sum()))\r\n\t\t.forEach(e -&gt; System.out.printf(&quot;%-10s -&gt; %d%n&quot;,\r\n\t\t\t\te.getKey(), e.getValue()));\r\n```\r\nPrints\r\n```\r\nabc123xyz  -&gt; 123\r\naa11b33    -&gt; 44\r\n7 11       -&gt; 18\r\n```\r\nIf you just want the sum you can do the following:\r\n```\r\npublic static int getSum(String str) {\r\n\treturn Arrays.stream(str.split(&quot;\\\\D+&quot;))\r\n\t\t\t\t.filter(s -&gt; !s.isBlank())\r\n\t\t\t\t.mapToInt(Integer::parseInt)\r\n\t\t\t\t.sum();\r\n}\r\n\r\n","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>Yes.</p>\n<pre><code>String[] data = { &quot;abc123xyz&quot;, &quot;aa11b33&quot;, &quot;7 11&quot; };\n</code></pre>\n<ul>\n<li><code>\\\\D</code> - Split on any but string of non digits</li>\n<li>filter empty strings from the split</li>\n<li>convert to an <code>int</code> and sum the values.</li>\n<li>return an entry to show both string and sum (not needed but shows the association)</li>\n</ul>\n<pre><code>Arrays.stream(data).map(\n        str -&gt; new AbstractMap.SimpleEntry&lt;String, Integer&gt;(\n                str,\n                Arrays.stream(str.split(&quot;\\\\D+&quot;))\n                        .filter(s -&gt; !s.isBlank())\n                        .mapToInt(Integer::parseInt).sum()))\n        .forEach(e -&gt; System.out.printf(&quot;%-10s -&gt; %d%n&quot;,\n                e.getKey(), e.getValue()));\n</code></pre>\n<p>Prints</p>\n<pre><code>abc123xyz  -&gt; 123\naa11b33    -&gt; 44\n7 11       -&gt; 18\n</code></pre>\n<p>If you just want the sum you can do the following:</p>\n<pre><code>public static int getSum(String str) {\n    return Arrays.stream(str.split(&quot;\\\\D+&quot;))\n                .filter(s -&gt; !s.isBlank())\n                .mapToInt(Integer::parseInt)\n                .sum();\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654354915,"creation_date":1654354609,"answer_id":72500756,"question_id":72500420,"body_markdown":"To keep the stream implementation closer to your original solution you could still employ a `Pattern` and `Matcher` and then stream the `Matcher`&#39;s results.\r\n\r\n```\r\npublic int sumNumbers(String s) {\r\n    return Pattern.compile(&quot;\\\\d+&quot;).matcher(s).results()\r\n        .collect(Collectors.summingInt(m -&gt; Integer.valueOf(m.group())));\r\n}\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\n123\r\n44\r\n18\r\n```\r\n\r\nHere is a link to test the code with the expected output:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/rRS","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>To keep the stream implementation closer to your original solution you could still employ a <code>Pattern</code> and <code>Matcher</code> and then stream the <code>Matcher</code>'s results.</p>\n<pre><code>public int sumNumbers(String s) {\n    return Pattern.compile(&quot;\\\\d+&quot;).matcher(s).results()\n        .collect(Collectors.summingInt(m -&gt; Integer.valueOf(m.group())));\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>123\n44\n18\n</code></pre>\n<p>Here is a link to test the code with the expected output:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/rRS\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/rRS</a></p>\n"},{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654354719,"creation_date":1654354719,"answer_id":72500767,"question_id":72500420,"body_markdown":"You maniacs. Just to me snarky you can convert any function to a stream. Map/Reduce is a common pattern:\r\n\r\n    int s = Stream.of(&quot;abc123xyz&quot;).mapToInt(str-&gt;{\r\n        int sum = 0;\r\n\r\n        java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\r\n        while (matcher.find()) {\r\n            sum += Integer.parseInt(matcher.group());\r\n        }\r\n\r\n        return sum;\r\n    }).sum();\r\n    System.out.println(s);\r\n","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>You maniacs. Just to me snarky you can convert any function to a stream. Map/Reduce is a common pattern:</p>\n<pre><code>int s = Stream.of(&quot;abc123xyz&quot;).mapToInt(str-&gt;{\n    int sum = 0;\n\n    java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\n    while (matcher.find()) {\n        sum += Integer.parseInt(matcher.group());\n    }\n\n    return sum;\n}).sum();\nSystem.out.println(s);\n</code></pre>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72500756,"answer_count":4,"score":0,"last_activity_date":1693143145,"creation_date":1654351821,"question_id":72500420,"body_markdown":"Given the task [*sumNumbers*][1] from *CodingBat*:\r\n\r\n&gt; Given a **string**, return the **sum** of the numbers appearing in the string,\r\n&gt; ignoring all other characters. A number is a series of `1` or more digit\r\n&gt; chars in a row. \r\n&gt; \r\n&gt; (Note: `Character.isDigit(char)` tests if `a` char is one\r\n&gt; of the chars `0`, `1`, ..., `9`. `Integer.parseInt(string)` converts `a`\r\n&gt; string to an `int`.)\r\n\r\n```\r\nsumNumbers(&quot;abc123xyz&quot;)  →   123\r\nsumNumbers(&quot;aa11b33&quot;)    →   44\r\nsumNumbers(&quot;7 11&quot;)       →   18\r\n```\r\nMy solution to this problem is the following:\r\n\r\n    public int sumNumbers(String str) {\r\n      int sum = 0;\r\n      \r\n      java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\r\n        while (matcher.find()) {\r\n            sum += Integer.parseInt(matcher.group());\r\n        }\r\n        \r\n      return sum;\r\n    }\r\n\r\nIs it possible to solve this problem using ***Stream API*** ?\r\n\r\n  [1]: https://codingbat.com/prob/p121193\r\n","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>Given the task <a href=\"https://codingbat.com/prob/p121193\" rel=\"nofollow noreferrer\"><em>sumNumbers</em></a> from <em>CodingBat</em>:</p>\n<blockquote>\n<p>Given a <strong>string</strong>, return the <strong>sum</strong> of the numbers appearing in the string,\nignoring all other characters. A number is a series of <code>1</code> or more digit\nchars in a row.</p>\n<p>(Note: <code>Character.isDigit(char)</code> tests if <code>a</code> char is one\nof the chars <code>0</code>, <code>1</code>, ..., <code>9</code>. <code>Integer.parseInt(string)</code> converts <code>a</code>\nstring to an <code>int</code>.)</p>\n</blockquote>\n<pre><code>sumNumbers(&quot;abc123xyz&quot;)  →   123\nsumNumbers(&quot;aa11b33&quot;)    →   44\nsumNumbers(&quot;7 11&quot;)       →   18\n</code></pre>\n<p>My solution to this problem is the following:</p>\n<pre><code>public int sumNumbers(String str) {\n  int sum = 0;\n  \n  java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\n    while (matcher.find()) {\n        sum += Integer.parseInt(matcher.group());\n    }\n    \n  return sum;\n}\n</code></pre>\n<p>Is it possible to solve this problem using <em><strong>Stream API</strong></em> ?</p>\n"},{"tags":["java","sql","string-parsing"],"answers":[{"tags":[],"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336127657,"creation_date":1336127657,"answer_id":10447146,"question_id":10447095,"body_markdown":"have you tried \r\n\r\n    ResultSetMetaData rsmd = rs.getMetaData();\r\n    String name = rsmd.getColumnName(1);","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>have you tried </p>\n\n<pre><code>ResultSetMetaData rsmd = rs.getMetaData();\nString name = rsmd.getColumnName(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101381,"reputation":2436,"user_id":1093710,"accept_rate":95,"display_name":"Sridhar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1336136633,"creation_date":1336136633,"answer_id":10449380,"question_id":10447095,"body_markdown":"Though somewhat convoluted this works for both the queries listed in the question :\r\n\r\n    String query = &quot;Select uname AS name, hgt AS height, wgt AS weight from table1&quot;;\r\n    Pattern p = Pattern.compile(&quot;\\\\s*\\\\w+,&quot;);Pattern p1 = Pattern.compile(&quot;\\\\s+\\\\w+\\\\s+from&quot;);\r\n    Matcher m = p.matcher(query);Matcher m1=p1.matcher(query);\r\n    String colsOnly=&quot;&quot;;\r\n    while(m.find()){colsOnly+=(m.group().trim());}\r\n    while(m1.find()){colsOnly+=(m1.group().substring(0,m1.group().length()-4).trim());}\r\n    String[] cols = colsOnly.split(&quot;,&quot;);","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>Though somewhat convoluted this works for both the queries listed in the question :</p>\n\n<pre><code>String query = \"Select uname AS name, hgt AS height, wgt AS weight from table1\";\nPattern p = Pattern.compile(\"\\\\s*\\\\w+,\");Pattern p1 = Pattern.compile(\"\\\\s+\\\\w+\\\\s+from\");\nMatcher m = p.matcher(query);Matcher m1=p1.matcher(query);\nString colsOnly=\"\";\nwhile(m.find()){colsOnly+=(m.group().trim());}\nwhile(m1.find()){colsOnly+=(m1.group().substring(0,m1.group().length()-4).trim());}\nString[] cols = colsOnly.split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3999539,"reputation":1,"user_id":3295923,"display_name":"user3295923"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392101419,"creation_date":1392100214,"answer_id":21694748,"question_id":10447095,"body_markdown":"        String str = &quot;select dept,empid as eid , ename as name,deptname,deptid as department_id from emp&quot;;\r\n\r\n\t\tString[] arr = str.split(&quot;as&quot;);\r\n\t\tStringTokenizer str1 = new StringTokenizer(str, &quot; ,&quot;);\r\n\t\tArrayList&lt;String&gt; arrStr = new ArrayList&lt;&gt;();\r\n\t\twhile (str1.hasMoreTokens())\r\n\t\t{\r\n\t\t\tString strT = str1.nextToken().toString();\t\t\t\r\n\t\t\tarrStr.add(strT);\r\n\t\t}\t\t\r\n\t\tfor (int i = 0; i &lt; arrStr.size(); i++)\r\n\t\t{\r\n\t\t\tif (arrStr.get(i).equals(&quot;as&quot;))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Orignal\\t&quot; + arrStr.get(i - 1));\r\n\t\t\t\tSystem.out.println(&quot;Alias\\t&quot; + arrStr.get(i + 1));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nOutput\r\n\r\nOrignal\tempid\r\n\r\nAlias\teid\r\n\r\nOrignal\tename\r\n\r\nAlias\tname\r\n\r\nOrignal\tdeptid\r\n\r\nAlias\tdepartment_id","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<pre><code>    String str = \"select dept,empid as eid , ename as name,deptname,deptid as department_id from emp\";\n\n    String[] arr = str.split(\"as\");\n    StringTokenizer str1 = new StringTokenizer(str, \" ,\");\n    ArrayList&lt;String&gt; arrStr = new ArrayList&lt;&gt;();\n    while (str1.hasMoreTokens())\n    {\n        String strT = str1.nextToken().toString();          \n        arrStr.add(strT);\n    }       \n    for (int i = 0; i &lt; arrStr.size(); i++)\n    {\n        if (arrStr.get(i).equals(\"as\"))\n        {\n            System.out.println(\"Orignal\\t\" + arrStr.get(i - 1));\n            System.out.println(\"Alias\\t\" + arrStr.get(i + 1));\n        }\n    }\n</code></pre>\n\n<p>Output</p>\n\n<p>Orignal empid</p>\n\n<p>Alias   eid</p>\n\n<p>Orignal ename</p>\n\n<p>Alias   name</p>\n\n<p>Orignal deptid</p>\n\n<p>Alias   department_id</p>\n"},{"tags":[],"owner":{"account_id":8742544,"reputation":33,"user_id":6539123,"display_name":"singla_02"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692962481,"creation_date":1692954825,"answer_id":76975816,"question_id":10447095,"body_markdown":"Use [JSqlParser][1]\r\n\r\n****Features****\r\n- query validation\r\n- support SQL standard as well as all major RDBMS\r\n- translates SQL statements into a traversable hierarchy of Java classes\r\n\r\n****Maven dependency****\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\r\n  &lt;version&gt;4.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**Implementation**\r\n```\r\npublic class SqlParser {\r\n\r\n  private static Statement parseQuery(String query) throws JSQLParserException {\r\n    return CCJSqlParserUtil.parse(query);\r\n  }\r\n\r\n  private static Select parseSelectQuery(String query) throws JSQLParserException {\r\n    return (Select) parseQuery(query);\r\n  }\r\n\r\n  private static List&lt;String&gt; extractColumnNames(Select selectQuery) {\r\n    SelectStatementColumnVisitor visitor = new SelectStatementColumnVisitor();\r\n    for (SelectItem selectItem : ((PlainSelect) selectQuery.getSelectBody()).getSelectItems()) {\r\n      selectItem.accept(visitor);\r\n    }\r\n\r\n    return visitor.columnNames();\r\n  }\r\n\r\n  public static void main(String[] args) throws JSQLParserException {\r\n    Select selectStatement = parseSelectQuery(&quot;SELECT uname AS name, hgt AS height, wgt AS weight from table1&quot;);\r\n    List&lt;String&gt; columns = extractColumnNames(selectStatement);\r\n    System.out.println(columns);\r\n  }\r\n}\r\n```\r\n```\r\nclass SelectStatementColumnVisitor implements SelectItemVisitor {\r\n\r\n    private final List&lt;String&gt; columnNames = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;String&gt; columnNames() {\r\n        return this.columnNames;\r\n    }\r\n\r\n    @Override\r\n    public void visit(SelectExpressionItem item) {\r\n        if (item.getAlias() != null) {\r\n            columnNames.add(item.getAlias().getName());\r\n            return;\r\n        }\r\n\r\n        columnNames.add(item.getExpression().toString());\r\n    }\r\n\r\n    @Override\r\n    public void visit(AllColumns columns) {\r\n        columnNames.add(columns.toString());\r\n    }\r\n\r\n    @Override\r\n    public void visit(AllTableColumns columns) {\r\n        columnNames.add(columns.toString());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/JSQLParser/JSqlParser","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>Use <a href=\"https://github.com/JSQLParser/JSqlParser\" rel=\"nofollow noreferrer\">JSqlParser</a></p>\n<p><strong><strong>Features</strong></strong></p>\n<ul>\n<li>query validation</li>\n<li>support SQL standard as well as all major RDBMS</li>\n<li>translates SQL statements into a traversable hierarchy of Java classes</li>\n</ul>\n<p><strong><strong>Maven dependency</strong></strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;\n  &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\n  &lt;version&gt;4.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Implementation</strong></p>\n<pre><code>public class SqlParser {\n\n  private static Statement parseQuery(String query) throws JSQLParserException {\n    return CCJSqlParserUtil.parse(query);\n  }\n\n  private static Select parseSelectQuery(String query) throws JSQLParserException {\n    return (Select) parseQuery(query);\n  }\n\n  private static List&lt;String&gt; extractColumnNames(Select selectQuery) {\n    SelectStatementColumnVisitor visitor = new SelectStatementColumnVisitor();\n    for (SelectItem selectItem : ((PlainSelect) selectQuery.getSelectBody()).getSelectItems()) {\n      selectItem.accept(visitor);\n    }\n\n    return visitor.columnNames();\n  }\n\n  public static void main(String[] args) throws JSQLParserException {\n    Select selectStatement = parseSelectQuery(&quot;SELECT uname AS name, hgt AS height, wgt AS weight from table1&quot;);\n    List&lt;String&gt; columns = extractColumnNames(selectStatement);\n    System.out.println(columns);\n  }\n}\n</code></pre>\n<pre><code>class SelectStatementColumnVisitor implements SelectItemVisitor {\n\n    private final List&lt;String&gt; columnNames = new ArrayList&lt;&gt;();\n\n    public List&lt;String&gt; columnNames() {\n        return this.columnNames;\n    }\n\n    @Override\n    public void visit(SelectExpressionItem item) {\n        if (item.getAlias() != null) {\n            columnNames.add(item.getAlias().getName());\n            return;\n        }\n\n        columnNames.add(item.getExpression().toString());\n    }\n\n    @Override\n    public void visit(AllColumns columns) {\n        columnNames.add(columns.toString());\n    }\n\n    @Override\n    public void visit(AllTableColumns columns) {\n        columnNames.add(columns.toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1410365,"reputation":135,"user_id":1337096,"accept_rate":38,"display_name":"M.Hussaini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1693143103,"creation_date":1336127455,"question_id":10447095,"body_markdown":"An SQL Query will be passed to my Method as a String, How can i retrieve the Column names in the query, if the query is e.g. \r\n\r\n    Select name, dob, age, gender from table1; or \r\n    Select uname AS name, hgt AS height, wgt AS weight from table1;\r\n\r\nI want to get the Column names in an Array or List.\r\n","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>An SQL Query will be passed to my Method as a String, How can i retrieve the Column names in the query, if the query is e.g. </p>\n\n<pre><code>Select name, dob, age, gender from table1; or \nSelect uname AS name, hgt AS height, wgt AS weight from table1;\n</code></pre>\n\n<p>I want to get the Column names in an Array or List.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1647363994,"post_id":71486184,"comment_id":126350585,"body_markdown":"What does `[_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]` mean in this pattern? Why not use `\\\\w` instead?","body":"What does <code>[_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]</code> mean in this pattern? Why not use <code>\\\\w</code> instead?"},{"owner":{"account_id":23400686,"reputation":48,"user_id":17463895,"display_name":"Mohammad PiMj"},"score":0,"creation_date":1647364143,"post_id":71486184,"comment_id":126350637,"body_markdown":"The letters in the username shouldn&#39;t be &quot;bahman&quot; or &quot;BAHMAN&quot; It&#39;s a regex university homework by the way so that&#39;s why","body":"The letters in the username shouldn&#39;t be &quot;bahman&quot; or &quot;BAHMAN&quot; It&#39;s a regex university homework by the way so that&#39;s why"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647366841,"creation_date":1647364384,"answer_id":71486338,"question_id":71486184,"body_markdown":"The regex needs to be fixed where you tried to use character class subtraction:\r\n```none\r\nnewTask[\\{] taskId\\&quot;(?&lt;id&gt;\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\w\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\w\\s]+-\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\d+\\.?\\d*)\\&quot;\r\n```\r\nSee the [regex demo][1].\r\n\r\nThe `\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d\\&quot;` is replaced with `(?!(?i:bahman\\&quot;))\\w{7,16}\\d\\&quot;`. Here is why:\r\n\r\n - `\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d` - matches a word char (with `\\w`), then 6-15 occurrences a `b`, `a`, `h`, `m`, `n`, `B`, `A`, `H`, `M`, `N` char, and then a digit. This happens because what you used is a [character class intersection][2], and the `[_\\w\\d&amp;&amp;^(bahmanBAHMAN)]` pattern matches only those chars that are present both in the `[_\\w\\d]` and `[^(bahmanBAHMAN)]` charsets.\r\n - The `[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d` pattern matches a single ASCII letter, then 6 to 15 ASCII letters other than `b`, `a`, `h`, `m` and `n` (case insensitive) and then a digit.\r\n\r\nIn Java:\r\n```java\r\nString newtask = &quot;newTask\\\\{ taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+-\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.?\\\\d*)\\&quot;&quot;;\r\n```\r\n\r\n  [1]: https://regex101.com/r/gNtah9/1\r\n  [2]: https://www.regular-expressions.info/charclassintersect.html","title":"Regex isn&#39;t being matched","body":"<p>The regex needs to be fixed where you tried to use character class subtraction:</p>\n<pre class=\"lang-none prettyprint-override\"><code>newTask[\\{] taskId\\&quot;(?&lt;id&gt;\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\w\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\w\\s]+-\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\d+\\.?\\d*)\\&quot;\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/gNtah9/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>The <code>\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d\\&quot;</code> is replaced with <code>(?!(?i:bahman\\&quot;))\\w{7,16}\\d\\&quot;</code>. Here is why:</p>\n<ul>\n<li><code>\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d</code> - matches a word char (with <code>\\w</code>), then 6-15 occurrences a <code>b</code>, <code>a</code>, <code>h</code>, <code>m</code>, <code>n</code>, <code>B</code>, <code>A</code>, <code>H</code>, <code>M</code>, <code>N</code> char, and then a digit. This happens because what you used is a <a href=\"https://www.regular-expressions.info/charclassintersect.html\" rel=\"nofollow noreferrer\">character class intersection</a>, and the <code>[_\\w\\d&amp;&amp;^(bahmanBAHMAN)]</code> pattern matches only those chars that are present both in the <code>[_\\w\\d]</code> and <code>[^(bahmanBAHMAN)]</code> charsets.</li>\n<li>The <code>[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d</code> pattern matches a single ASCII letter, then 6 to 15 ASCII letters other than <code>b</code>, <code>a</code>, <code>h</code>, <code>m</code> and <code>n</code> (case insensitive) and then a digit.</li>\n</ul>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String newtask = &quot;newTask\\\\{ taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+-\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.?\\\\d*)\\&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":23400686,"reputation":48,"user_id":17463895,"display_name":"Mohammad PiMj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71486338,"answer_count":1,"score":1,"last_activity_date":1693142961,"creation_date":1647363648,"question_id":71486184,"body_markdown":"This is the code:\r\n```\r\nString newtask = &quot;newTask[\\\\{] taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;\\\\w([_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;(no|yes))\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.{0,1}\\\\d*)\\&quot; &quot;; String changeaddress = &quot;changePlace[\\\\{] taskId\\&quot;(?&lt;idtobechanged&gt;\\\\d{1,4})\\&quot;, newAddress\\&quot;(?&lt;theaddress&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot; &quot;;\r\nPattern addingpat = Pattern.compile(newtask);\r\nString command=scanner.nextLine();\r\nMatcher addingmat = addingpat.matcher(command);\r\nif (addingmat.find())\r\nSystem.out.println(&quot;it has matched&quot;);\r\n```\r\nAnd what the user will type in terminal:\r\n```\r\nnewTask{ taskId&quot;1&quot;, username&quot;AyesItsGoood4&quot;, isValid&quot;yes&quot;, name&quot;reza&quot;, address&quot;LeninGrad-12345678&quot;, date&quot;19410908&quot;, info&quot;do the task&quot;, price&quot;1.57&quot; \r\n```\r\nIt isn&#39;t printing anything.\r\nI would be really thankful if somone pointed out the problem of this code.\r\nThanks for reading.","title":"Regex isn&#39;t being matched","body":"<p>This is the code:</p>\n<pre><code>String newtask = &quot;newTask[\\\\{] taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;\\\\w([_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;(no|yes))\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.{0,1}\\\\d*)\\&quot; &quot;; String changeaddress = &quot;changePlace[\\\\{] taskId\\&quot;(?&lt;idtobechanged&gt;\\\\d{1,4})\\&quot;, newAddress\\&quot;(?&lt;theaddress&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot; &quot;;\nPattern addingpat = Pattern.compile(newtask);\nString command=scanner.nextLine();\nMatcher addingmat = addingpat.matcher(command);\nif (addingmat.find())\nSystem.out.println(&quot;it has matched&quot;);\n</code></pre>\n<p>And what the user will type in terminal:</p>\n<pre><code>newTask{ taskId&quot;1&quot;, username&quot;AyesItsGoood4&quot;, isValid&quot;yes&quot;, name&quot;reza&quot;, address&quot;LeninGrad-12345678&quot;, date&quot;19410908&quot;, info&quot;do the task&quot;, price&quot;1.57&quot; \n</code></pre>\n<p>It isn't printing anything.\nI would be really thankful if somone pointed out the problem of this code.\nThanks for reading.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1621477503,"post_id":67613106,"comment_id":119509746,"body_markdown":"What is the _exact_ output you expect here?","body":"What is the <i>exact</i> output you expect here?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1621477516,"post_id":67613106,"comment_id":119509750,"body_markdown":"First, remove the `r&#39;` and `&#39;` from the regex, since they are not part of the regex. They are characters used by other languages to delimit regex expressions. In Java, regex expressions are String literals. --- Second, since your data is not double-quoted, remove the `&quot;` from the regex. --- Third, the question is all about the `|` separator, but the regex doesn&#39;t check for `|` at all. How would that ever work? --- In short, your regex is way off the mark for what you claim you want. Step back, and re-think what you&#39;re doing.","body":"First, remove the <code>r&#39;</code> and <code>&#39;</code> from the regex, since they are not part of the regex. They are characters used by other languages to delimit regex expressions. In Java, regex expressions are String literals. --- Second, since your data is not double-quoted, remove the <code>&quot;</code> from the regex. --- Third, the question is all about the <code>|</code> separator, but the regex doesn&#39;t check for <code>|</code> at all. How would that ever work? --- In short, your regex is way off the mark for what you claim you want. Step back, and re-think what you&#39;re doing."},{"owner":{"account_id":8539054,"reputation":1396,"user_id":6399762,"display_name":"Andy A."},"score":0,"creation_date":1621493077,"post_id":67613106,"comment_id":119513300,"body_markdown":"Please check https://regex101.com . There you can verify regex patterns.","body":"Please check <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a> . There you can verify regex patterns."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621478476,"creation_date":1621478476,"answer_id":67613247,"question_id":67613106,"body_markdown":"You might try it like this rather than using a pure regex solution\r\n- stream the lines of the file\r\n- filter for lines starting with `D|`\r\n- split filtered lines starting at index 2\r\n- create new array of just first two values\r\n- and collect in a `List&lt;String[]&gt;`\r\n\r\n```\r\nList&lt;String[]&gt; list = Files.lines(Path.of(&quot;Myfile.txt&quot;))\r\n.filter(str-&gt;str.startsWith(&quot;D|&quot;))\r\n.map(str-&gt;str.substring(2).split(&quot;\\\\|&quot;,3))\r\n.map(arr-&gt;new String[]{arr[0],arr[1]})\r\n.collect(Collectors.toList());\r\n\r\n} catch (IOException ioe) {\r\n\tioe.printStackTrace();\r\n}","title":"using Regex pattern match for pipe delimited string","body":"<p>You might try it like this rather than using a pure regex solution</p>\n<ul>\n<li>stream the lines of the file</li>\n<li>filter for lines starting with <code>D|</code></li>\n<li>split filtered lines starting at index 2</li>\n<li>create new array of just first two values</li>\n<li>and collect in a <code>List&lt;String[]&gt;</code></li>\n</ul>\n<pre><code>List&lt;String[]&gt; list = Files.lines(Path.of(&quot;Myfile.txt&quot;))\n.filter(str-&gt;str.startsWith(&quot;D|&quot;))\n.map(str-&gt;str.substring(2).split(&quot;\\\\|&quot;,3))\n.map(arr-&gt;new String[]{arr[0],arr[1]})\n.collect(Collectors.toList());\n\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":21657453,"reputation":1,"user_id":15977005,"display_name":"Rupali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693142906,"creation_date":1621477265,"question_id":67613106,"body_markdown":"I am  trying to do pattern match on pipe delimited string in java . But not sure what&#39;s going wrong. Need help from experts.\r\n\r\n```none\r\nA|Bill Access Key|CBEBALCOM|\r\nD|215325775|20210507|9|BALCOM SYSTEMS LTD|||\r\nI|1|Back of Duplex Page|\r\n```\r\n\r\nI have file with records as above and I want to find record starting with &#39;D&#39; and get the next pipe delimited values. And store those in some POJO object.\r\n\r\nSo tried to first read values by applying pattern but unable to find match.\r\n\r\n    String pattern = &quot;r&#39;D((?:\\&quot;(.*?)\\&quot;))&#39;&quot;;\r\n    \r\n    Pattern r = Pattern.compile(pattern); Matcher m = r.matcher(line); \r\n    if (m.find( )) { \r\n        System.out.println(&quot;value1&quot; + m.group(0) ); \r\n        System.out.println(&quot;value2&quot; + m.group(1) ); \r\n    } else {\r\n        System.out.println(&quot;No Match&quot;); \r\n    } ","title":"using Regex pattern match for pipe delimited string","body":"<p>I am  trying to do pattern match on pipe delimited string in java . But not sure what's going wrong. Need help from experts.</p>\n<pre class=\"lang-none prettyprint-override\"><code>A|Bill Access Key|CBEBALCOM|\nD|215325775|20210507|9|BALCOM SYSTEMS LTD|||\nI|1|Back of Duplex Page|\n</code></pre>\n<p>I have file with records as above and I want to find record starting with 'D' and get the next pipe delimited values. And store those in some POJO object.</p>\n<p>So tried to first read values by applying pattern but unable to find match.</p>\n<pre><code>String pattern = &quot;r'D((?:\\&quot;(.*?)\\&quot;))'&quot;;\n\nPattern r = Pattern.compile(pattern); Matcher m = r.matcher(line); \nif (m.find( )) { \n    System.out.println(&quot;value1&quot; + m.group(0) ); \n    System.out.println(&quot;value2&quot; + m.group(1) ); \n} else {\n    System.out.println(&quot;No Match&quot;); \n} \n</code></pre>\n"},{"tags":["java","regex","for-loop"],"comments":[{"owner":{"account_id":7547305,"reputation":774,"user_id":5729872,"display_name":"Adam Burke"},"score":0,"creation_date":1608180137,"post_id":65334621,"comment_id":115505765,"body_markdown":"There is a useful reference for regular expression (&quot;regex&quot;) support in the Java API documentation https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html","body":"There is a useful reference for regular expression (&quot;regex&quot;) support in the Java API documentation <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608178882,"creation_date":1608178496,"answer_id":65334649,"question_id":65334621,"body_markdown":"Calling `group()` finds group **0** (i.e. the whole match), but the number you want is captured in group **1**, so you should do:\r\n\r\n    max = Integer.valueOf(second.group(1));\r\n\r\nYou don&#39;t actually need a second regex to find the second number. Just ask the first matcher to match _again_. It will find the second number:\r\n\r\n    Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\r\n    first.find();\r\n    min = Integer.valueOf(first.group());\r\n\r\n    first.find(); // call find again!\r\n    max = Integer.valueOf(first.group());\r\n\r\nA safer way to do this is to check if the matcher actually found anything before calling `group`:\r\n\r\n    Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\r\n    if (first.find()) {\r\n        min = Integer.valueOf(first.group());\r\n    \r\n\r\n        if (first.find()) { // call find again!\r\n            max = Integer.valueOf(first.group());\r\n        } else {\r\n            // can&#39;t find a second number!\r\n        }\r\n    } else {\r\n        // can&#39;t find any numbers!\r\n    }","title":"Trying to find second integer in string - Not working","body":"<p>Calling <code>group()</code> finds group <strong>0</strong> (i.e. the whole match), but the number you want is captured in group <strong>1</strong>, so you should do:</p>\n<pre><code>max = Integer.valueOf(second.group(1));\n</code></pre>\n<p>You don't actually need a second regex to find the second number. Just ask the first matcher to match <em>again</em>. It will find the second number:</p>\n<pre><code>Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\nfirst.find();\nmin = Integer.valueOf(first.group());\n\nfirst.find(); // call find again!\nmax = Integer.valueOf(first.group());\n</code></pre>\n<p>A safer way to do this is to check if the matcher actually found anything before calling <code>group</code>:</p>\n<pre><code>Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\nif (first.find()) {\n    min = Integer.valueOf(first.group());\n\n\n    if (first.find()) { // call find again!\n        max = Integer.valueOf(first.group());\n    } else {\n        // can't find a second number!\n    }\n} else {\n    // can't find any numbers!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608178715,"creation_date":1608178715,"answer_id":65334674,"question_id":65334621,"body_markdown":"If you want to use a one-liner regex approach, then use `String#replaceAll` with this regex pattern:\r\n\r\n&lt;!-- language: regex --&gt;\r\n\r\n    \\D*\\d+\\D+(\\d+).*\r\n\r\nThis will capture the second number in the input in the first capture group.  Sample script:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;1 guacamole 36&quot;;\r\n    String secondNum = input.replaceAll(&quot;\\\\D*\\\\d+\\\\D+(\\\\d+).*&quot;, &quot;$1&quot;);\r\n    System.out.println(secondNum);  // prints 36\r\n\r\nNote: Should the input _not_ have at least two separate numbers in it, then the above replacement would actually just return the input.  In this case, if you wanted to report no match, you should first check for a matching pattern using `String#matches`.","title":"Trying to find second integer in string - Not working","body":"<p>If you want to use a one-liner regex approach, then use <code>String#replaceAll</code> with this regex pattern:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\D*\\d+\\D+(\\d+).*\n</code></pre>\n<p>This will capture the second number in the input in the first capture group.  Sample script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;1 guacamole 36&quot;;\nString secondNum = input.replaceAll(&quot;\\\\D*\\\\d+\\\\D+(\\\\d+).*&quot;, &quot;$1&quot;);\nSystem.out.println(secondNum);  // prints 36\n</code></pre>\n<p>Note: Should the input <em>not</em> have at least two separate numbers in it, then the above replacement would actually just return the input.  In this case, if you wanted to report no match, you should first check for a matching pattern using <code>String#matches</code>.</p>\n"},{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608179601,"creation_date":1608179601,"answer_id":65334774,"question_id":65334621,"body_markdown":"I think you need to keep looking next item as long as string contains it and you want to process. As informed in other answers if you are explictly looking for 2nd number then you either use `regex` or use `second.group(1)`.\r\n\r\nIf you are looking to find the min and maximum number give in a string, here is how i have done:\r\n\r\n```java\r\nString text = &quot;1 guacamole 36 admin test 23 which is equivalent 22&quot;;\r\nPattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\nMatcher matcher = pattern.matcher(text);\r\nList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\nwhile (matcher.find()) {\r\n    numbers.add(Integer.parseInt(matcher.group()));\r\n}\r\nSystem.out.println(numbers);\r\nCollections.sort(numbers);\r\nint min = -1;\r\nint max = -1;\r\nif (!numbers.isEmpty()) {\r\n    int size = numbers.size();\r\n    min = numbers.get(0);\r\n    max = numbers.get(size - 1);\r\n}\r\nSystem.out.println(&quot;Min : &quot; + min);\r\nSystem.out.println(&quot;Max : &quot; + max);\r\n```\r\n\r\nThis should print\r\n```\r\n[1, 36, 23, 22]\r\nMin : 1\r\nMax : 36\r\n```\r\n","title":"Trying to find second integer in string - Not working","body":"<p>I think you need to keep looking next item as long as string contains it and you want to process. As informed in other answers if you are explictly looking for 2nd number then you either use <code>regex</code> or use <code>second.group(1)</code>.</p>\n<p>If you are looking to find the min and maximum number give in a string, here is how i have done:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;1 guacamole 36 admin test 23 which is equivalent 22&quot;;\nPattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\nMatcher matcher = pattern.matcher(text);\nList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\nwhile (matcher.find()) {\n    numbers.add(Integer.parseInt(matcher.group()));\n}\nSystem.out.println(numbers);\nCollections.sort(numbers);\nint min = -1;\nint max = -1;\nif (!numbers.isEmpty()) {\n    int size = numbers.size();\n    min = numbers.get(0);\n    max = numbers.get(size - 1);\n}\nSystem.out.println(&quot;Min : &quot; + min);\nSystem.out.println(&quot;Max : &quot; + max);\n</code></pre>\n<p>This should print</p>\n<pre><code>[1, 36, 23, 22]\nMin : 1\nMax : 36\n</code></pre>\n"}],"owner":{"display_name":"user14612876"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65334649,"answer_count":3,"score":1,"last_activity_date":1693142901,"creation_date":1608178261,"question_id":65334621,"body_markdown":"I have been trying to find certain integers in a string using regex (I&#39;m not completely sure what it is, could someone refer me something to look at to learn about it?), but have some problems. I&#39;ve got it working to look for the first integer in a string and set that integer value to a variable, but am stuck when looking for the second. This is my code currently:\r\n\r\n    for (int x = 0; x &lt; list.length; x++) {\r\n    \t\t\t\t\t\r\n    \tcurrent = list[x];\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \tMatcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\r\n    \tfirst.find();\r\n    \tmin = Integer.valueOf(first.group());\r\n    \t\t\t\t\t\r\n    \tMatcher second = Pattern.compile(&quot;^\\\\D*\\\\d+\\\\D+(\\\\d+)&quot;).matcher(current);\r\n    \tsecond.find();\r\n    \tmax = Integer.valueOf(second.group());\r\n    \t\t\t\t\t\r\n    \tSystem.out.println(&quot;min: &quot; + min + &quot; max: &quot; + max);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    }\r\n\r\nIn this case, say the string was &quot;1 guacamole 36&quot;, I would want it to set the `min` variable to a value of 1, and the `max` to a variable of 36. How would I do so? All that comes up are errors, I&#39;m assuming from the section with the second matcher.\r\n\r\nPlease let me know if you can help with either inquiry or if I should add more information - thanks in advance!\r\n\r\nP.S. `list` is an array of strings in which I am trying to have, for each string, min and max reset each time to the integers in the strings.","title":"Trying to find second integer in string - Not working","body":"<p>I have been trying to find certain integers in a string using regex (I'm not completely sure what it is, could someone refer me something to look at to learn about it?), but have some problems. I've got it working to look for the first integer in a string and set that integer value to a variable, but am stuck when looking for the second. This is my code currently:</p>\n<pre><code>for (int x = 0; x &lt; list.length; x++) {\n                    \n    current = list[x];\n                                                \n    Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\n    first.find();\n    min = Integer.valueOf(first.group());\n                    \n    Matcher second = Pattern.compile(&quot;^\\\\D*\\\\d+\\\\D+(\\\\d+)&quot;).matcher(current);\n    second.find();\n    max = Integer.valueOf(second.group());\n                    \n    System.out.println(&quot;min: &quot; + min + &quot; max: &quot; + max);\n                    \n                    \n}\n</code></pre>\n<p>In this case, say the string was &quot;1 guacamole 36&quot;, I would want it to set the <code>min</code> variable to a value of 1, and the <code>max</code> to a variable of 36. How would I do so? All that comes up are errors, I'm assuming from the section with the second matcher.</p>\n<p>Please let me know if you can help with either inquiry or if I should add more information - thanks in advance!</p>\n<p>P.S. <code>list</code> is an array of strings in which I am trying to have, for each string, min and max reset each time to the integers in the strings.</p>\n"},{"tags":["java","regex","extract"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1603788498,"post_id":64550698,"comment_id":114139906,"body_markdown":"Not sure what you want to achieve but your code doesn&#39;t even compile. I often wonder why people are struggling with Regex instead of trying to use the simple way (substring) first.","body":"Not sure what you want to achieve but your code doesn&#39;t even compile. I often wonder why people are struggling with Regex instead of trying to use the simple way (substring) first."},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603788586,"post_id":64550698,"comment_id":114139939,"body_markdown":"I need to select the values from the text log and store them into variables using regex. For instance, the FPS min value, the FPS max value, etc","body":"I need to select the values from the text log and store them into variables using regex. For instance, the FPS min value, the FPS max value, etc"},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603788674,"post_id":64550698,"comment_id":114139971,"body_markdown":"@Smutje how can I do that using substring? That&#39;s a single log file, but very long","body":"@Smutje how can I do that using substring? That&#39;s a single log file, but very long"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1603788738,"post_id":64550698,"comment_id":114139998,"body_markdown":"I&#39;d suggest to simplify your example by removing every unnecessary line of code (the file part for example) to narrow down why the regex won&#39;t work. Also, that helps others to help you if they can compile your code on their machines without additional overhead.","body":"I&#39;d suggest to simplify your example by removing every unnecessary line of code (the file part for example) to narrow down why the regex won&#39;t work. Also, that helps others to help you if they can compile your code on their machines without additional overhead."}],"answers":[{"tags":[],"owner":{"account_id":11330845,"reputation":391,"user_id":8308427,"display_name":"A.Ktns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1603789826,"creation_date":1603788684,"answer_id":64550917,"question_id":64550698,"body_markdown":"Maybe your pattern should be like this  `^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:` . I&#39;ve tried it and it works for me.\r\n\r\n    \tString line = &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]&quot;;\r\n\t\t\r\n\t\tPattern pattern = Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\r\n\t\t\r\n\t\tMatcher matcher = pattern.matcher(line);\r\n\t\t\r\n\t\tif (matcher.find()) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(line.substring(matcher.end(), line.length()-1));\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nIn that way, you get the offset of the line that you want to extract data and using the substring function you can get all characters starting from offset until the size of the line-1 (because you dont want to get also the ] character)","title":"Java regex extract specific values in long log","body":"<p>Maybe your pattern should be like this  <code>^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:</code> . I've tried it and it works for me.</p>\n<pre><code>    String line = &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]&quot;;\n    \n    Pattern pattern = Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\n    \n    Matcher matcher = pattern.matcher(line);\n    \n    if (matcher.find()) {\n        \n        System.out.println(line.substring(matcher.end(), line.length()-1));\n        \n    }\n}\n</code></pre>\n<p>In that way, you get the offset of the line that you want to extract data and using the substring function you can get all characters starting from offset until the size of the line-1 (because you dont want to get also the ] character)</p>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603790820,"creation_date":1603790820,"answer_id":64551467,"question_id":64550698,"body_markdown":"The following regular expression will match and capture the name, min and max:\r\n\r\n    Pattern.compile(&quot;(.*)\\\\[.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*,.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*\\\\]&quot;);\r\n\r\nUsage (extracting the captured groups):\r\n\r\n    String input = (&quot;.........\\n&quot; +\r\n            &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\\n&quot; +\r\n            &quot;.........\\n&quot; +\r\n            &quot;TotalFrames[ValMin: 100000, ValMax:200000]\\n&quot; +\r\n            &quot;.........\\n&quot; +\r\n            &quot;MemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\\n&quot; +\r\n            &quot;.........&quot;);\r\n\r\n    for (String s : input.split(&quot;\\n&quot;)) {\r\n        Matcher matcher = pattern.matcher(s);\r\n        if (matcher.matches()) {\r\n            System.out.println(matcher.group(1) + &quot;, &quot; + matcher.group(2) + &quot;, &quot; + matcher.group(3));\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; FPS(FramesPerSecond), 29.0000, 35.000 &lt;br&gt;\r\n&gt; TotalFrames, 100000, 200000 &lt;br&gt;\r\n&gt; MemoryUsage(In MB), 190000, 360000","title":"Java regex extract specific values in long log","body":"<p>The following regular expression will match and capture the name, min and max:</p>\n<pre><code>Pattern.compile(&quot;(.*)\\\\[.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*,.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*\\\\]&quot;);\n</code></pre>\n<p>Usage (extracting the captured groups):</p>\n<pre><code>String input = (&quot;.........\\n&quot; +\n        &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\\n&quot; +\n        &quot;.........\\n&quot; +\n        &quot;TotalFrames[ValMin: 100000, ValMax:200000]\\n&quot; +\n        &quot;.........\\n&quot; +\n        &quot;MemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\\n&quot; +\n        &quot;.........&quot;);\n\nfor (String s : input.split(&quot;\\n&quot;)) {\n    Matcher matcher = pattern.matcher(s);\n    if (matcher.matches()) {\n        System.out.println(matcher.group(1) + &quot;, &quot; + matcher.group(2) + &quot;, &quot; + matcher.group(3));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>FPS(FramesPerSecond), 29.0000, 35.000 <br>\nTotalFrames, 100000, 200000 <br>\nMemoryUsage(In MB), 190000, 360000</p>\n</blockquote>\n"}],"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":64550917,"answer_count":2,"score":-1,"last_activity_date":1693142774,"creation_date":1603787767,"question_id":64550698,"body_markdown":"I have a very long text and I&#39;m extracting some specific values that are followed by some particular words. Here&#39;s an example of my long text:\r\n\r\n    .........\r\n    FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\r\n    .........\r\n    TotalFrames[ValMin: 100000, ValMax:200000]\r\n    .........\r\n    MemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\r\n    .........\r\n\r\nhere&#39;s my code:\r\n\r\n    File file = filePath.toFile();\r\n            JSONObject jsonObject = new JSONObject();\r\n    String FPSMin=&quot;&quot;;\r\n    String FPSMax=&quot;&quot;;\r\n    String TotalFramesMin=&quot;&quot;;\r\n    String TotalFramesMax=&quot;&quot;;\r\n    String MemUsageMin=&quot;&quot;;\r\n    String MemUsageMax=&quot;&quot;;\r\n    \r\n    String log = &quot;my//log//file&quot;;\r\n    \r\n            final Matcher matcher = Pattern.compile(&quot;FPS/\\(FramesPerSecond/\\)/\\[ValMin:&quot;);\r\n            if(matcher.find()){\r\n                FPSMin= matcher.end().trim();\r\n            }\r\n\r\nBut I can&#39;t make it work. Where am I wrong? Basically I need to select, for each String, the corresponding values (max and min) coming from that long text and store them into the variables. Like\r\n\r\n    FPSMin = 29.0000\r\n    FPSMax = 35.0000\r\n    FramesMin = 100000\r\n    Etc \r\n\r\nThank you\r\n\r\nEDIT:\r\nI tried the following code (in a test case) to see if the solution could work, but I&#39;m experiencing issues because I can&#39;t print anything except an object. Here&#39;s the code:\r\n\r\n \r\n\r\n     @Test\r\n        public void whenReadLargeFileJava7_thenCorrect()\r\n                throws IOException, URISyntaxException {\r\n            Scanner txtScan = new Scanner(&quot;path//to//file//test.txt&quot;);\r\n    \r\n    \r\n            String[] FPSMin= new String[0];\r\n            String FPSMax= &quot;&quot;;\r\n      \r\n    //Read File Line By Line\r\n            while (txtScan.hasNextLine())   {\r\n                // Print the content on the console\r\n                String str = txtScan.nextLine();\r\n                Pattern FPSMin= Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\r\n                Matcher matcher = FPSMin.matcher(str);\r\n    \r\n                if(matcher.find()){\r\n                    String MinMaxFPS= str.substring(matcher.end(), str.length()-1);\r\n                    String[] splitted = MinMaxFPS.split(&quot;,&quot;);\r\n                    FPSMin= splitted[0].split(&quot;: &quot;);\r\n                    FPSMax = splitted[1];\r\n    \r\n                }\r\n    \r\n                System.out.println(FPSMin);\r\n                System.out.println(FPSMax);\r\n    \r\n            }","title":"Java regex extract specific values in long log","body":"<p>I have a very long text and I'm extracting some specific values that are followed by some particular words. Here's an example of my long text:</p>\n<pre><code>.........\nFPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\n.........\nTotalFrames[ValMin: 100000, ValMax:200000]\n.........\nMemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\n.........\n</code></pre>\n<p>here's my code:</p>\n<pre><code>File file = filePath.toFile();\n        JSONObject jsonObject = new JSONObject();\nString FPSMin=&quot;&quot;;\nString FPSMax=&quot;&quot;;\nString TotalFramesMin=&quot;&quot;;\nString TotalFramesMax=&quot;&quot;;\nString MemUsageMin=&quot;&quot;;\nString MemUsageMax=&quot;&quot;;\n\nString log = &quot;my//log//file&quot;;\n\n        final Matcher matcher = Pattern.compile(&quot;FPS/\\(FramesPerSecond/\\)/\\[ValMin:&quot;);\n        if(matcher.find()){\n            FPSMin= matcher.end().trim();\n        }\n</code></pre>\n<p>But I can't make it work. Where am I wrong? Basically I need to select, for each String, the corresponding values (max and min) coming from that long text and store them into the variables. Like</p>\n<pre><code>FPSMin = 29.0000\nFPSMax = 35.0000\nFramesMin = 100000\nEtc \n</code></pre>\n<p>Thank you</p>\n<p>EDIT:\nI tried the following code (in a test case) to see if the solution could work, but I'm experiencing issues because I can't print anything except an object. Here's the code:</p>\n<pre><code> @Test\n    public void whenReadLargeFileJava7_thenCorrect()\n            throws IOException, URISyntaxException {\n        Scanner txtScan = new Scanner(&quot;path//to//file//test.txt&quot;);\n\n\n        String[] FPSMin= new String[0];\n        String FPSMax= &quot;&quot;;\n  \n//Read File Line By Line\n        while (txtScan.hasNextLine())   {\n            // Print the content on the console\n            String str = txtScan.nextLine();\n            Pattern FPSMin= Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\n            Matcher matcher = FPSMin.matcher(str);\n\n            if(matcher.find()){\n                String MinMaxFPS= str.substring(matcher.end(), str.length()-1);\n                String[] splitted = MinMaxFPS.split(&quot;,&quot;);\n                FPSMin= splitted[0].split(&quot;: &quot;);\n                FPSMax = splitted[1];\n\n            }\n\n            System.out.println(FPSMin);\n            System.out.println(FPSMax);\n\n        }\n</code></pre>\n"},{"tags":["java","regex","path","glob"],"answers":[{"tags":[],"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601303862,"creation_date":1601300116,"answer_id":64103257,"question_id":64102053,"body_markdown":"First I want to say this is undocumented behavior in the glob handling syntax of the PathMatcher. It appears to convert backward slashes (as common on the Windows filesystems) to forward slashes (or vice-versa). Thus making it always work between Linux and Windows.\r\n\r\nThe following line demonstrates the different output:\r\n```java\r\nSystem.out.println(Paths.get(&quot;/test&quot;)); // Will output &#39;\\test&#39; on Windows, &#39;/test&#39; on Linux\r\n```\r\n\r\nTo solve the original question we need to get some RegexFu going.\r\n```java\r\nFileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\r\n```\r\nNeeds to become\r\n```java\r\nFileSystems.getDefault().getPathMatcher(&quot;regex:(/|\\\\\\\\)|((/|\\\\\\\\)test)&quot;);\r\n```\r\n - The first group will check between `/` and `\\` (you need `\\\\` to escape the `\\`, but because Java it needs to be input like `\\\\\\\\`).\r\n - Second group is made up out of two parts, where again the first part checks between either `/` or `\\` and the second part is the text entered in the question.\r\n\r\nThanks to @user3775041 for a bit cleaner regex:\r\n```java\r\nFileSystems.getDefault().getPathMatcher(&quot;regex:[/\\\\\\\\]|[/\\\\\\\\]test&quot;);\r\n```\r\n\r\nThis has been tested on Windows 10 and Ubuntu 20.04 with both having the following output:\r\n```\r\ntrue\r\ntrue\r\nfalse\r\ntrue\r\ntrue\r\nfalse\r\n```\r\n\r\nEdit: a good site to test regex patterns in Java is https://www.regexplanet.com/advanced/java/index.html","title":"Java PathMatcher not working properly on Windows","body":"<p>First I want to say this is undocumented behavior in the glob handling syntax of the PathMatcher. It appears to convert backward slashes (as common on the Windows filesystems) to forward slashes (or vice-versa). Thus making it always work between Linux and Windows.</p>\n<p>The following line demonstrates the different output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Paths.get(&quot;/test&quot;)); // Will output '\\test' on Windows, '/test' on Linux\n</code></pre>\n<p>To solve the original question we need to get some RegexFu going.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\n</code></pre>\n<p>Needs to become</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystems.getDefault().getPathMatcher(&quot;regex:(/|\\\\\\\\)|((/|\\\\\\\\)test)&quot;);\n</code></pre>\n<ul>\n<li>The first group will check between <code>/</code> and <code>\\</code> (you need <code>\\\\</code> to escape the <code>\\</code>, but because Java it needs to be input like <code>\\\\\\\\</code>).</li>\n<li>Second group is made up out of two parts, where again the first part checks between either <code>/</code> or <code>\\</code> and the second part is the text entered in the question.</li>\n</ul>\n<p>Thanks to @user3775041 for a bit cleaner regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystems.getDefault().getPathMatcher(&quot;regex:[/\\\\\\\\]|[/\\\\\\\\]test&quot;);\n</code></pre>\n<p>This has been tested on Windows 10 and Ubuntu 20.04 with both having the following output:</p>\n<pre><code>true\ntrue\nfalse\ntrue\ntrue\nfalse\n</code></pre>\n<p>Edit: a good site to test regex patterns in Java is <a href=\"https://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">https://www.regexplanet.com/advanced/java/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601304896,"creation_date":1601304896,"answer_id":64104617,"question_id":64102053,"body_markdown":"If you want a version which does not include Windows file separator character in the regex when the code is run on Linux, you can also use:\r\n\r\n    String sep = Pattern.quote(File.separator);\r\n    PathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:&quot;+sep+&quot;|&quot;+sep+&quot;test&quot;);\r\n\r\nThis prints same output on Linux/Windows.","title":"Java PathMatcher not working properly on Windows","body":"<p>If you want a version which does not include Windows file separator character in the regex when the code is run on Linux, you can also use:</p>\n<pre><code>String sep = Pattern.quote(File.separator);\nPathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:&quot;+sep+&quot;|&quot;+sep+&quot;test&quot;);\n</code></pre>\n<p>This prints same output on Linux/Windows.</p>\n"},{"tags":[],"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628003356,"creation_date":1627985264,"answer_id":68634146,"question_id":64102053,"body_markdown":"This code worked well for window and linux:\r\n\r\n\t\tString pattern = &quot;regex:\\\\./src/main/java/.*\\\\.java|\\\\./src/main/java/.*\\\\.txt&quot;;\r\n\t\tString newPattern;\r\n\t\t\r\n\t\tif(File.separator.equals(&quot;\\\\&quot;)) { //window fix\r\n\t\t\tnewPattern = pattern.replace(&quot;/&quot;, &quot;\\\\\\\\&quot;); \r\n\t\t}else { //linux\r\n\t\t\tnewPattern = pattern;\r\n\t\t}\r\n\t\t\r\n\t\tPathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(newPattern);\r\n","title":"Java PathMatcher not working properly on Windows","body":"<p>This code worked well for window and linux:</p>\n<pre><code>    String pattern = &quot;regex:\\\\./src/main/java/.*\\\\.java|\\\\./src/main/java/.*\\\\.txt&quot;;\n    String newPattern;\n    \n    if(File.separator.equals(&quot;\\\\&quot;)) { //window fix\n        newPattern = pattern.replace(&quot;/&quot;, &quot;\\\\\\\\&quot;); \n    }else { //linux\n        newPattern = pattern;\n    }\n    \n    PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(newPattern);\n</code></pre>\n"}],"owner":{"account_id":4660684,"reputation":312,"user_id":3775041,"display_name":"user3775041"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64104617,"answer_count":3,"score":4,"last_activity_date":1693142763,"creation_date":1601295474,"question_id":64102053,"body_markdown":"I try to implement a JUnit test for my SimpleFileVisitor but the used PathMatcher doesn&#39;t work properly on Windows. The problem seems to be the PathMatcher with a regex pattern behaves different on Linux and Windows:\r\n\r\n```java\r\nimport java.nio.file.FileSystems;\r\nimport java.nio.file.PathMatcher;\r\nimport java.nio.file.Paths;\r\n\r\npublic class TestApp{\r\n\r\n     public static void main(String []args){\r\n\t\tfinal PathMatcher glob = FileSystems.getDefault().getPathMatcher(&quot;glob:{/,/test}&quot;);\r\n\t\tfinal PathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\r\n\r\n\t\tSystem.err.println(glob.matches(Paths.get(&quot;/&quot;)));       // --&gt; Linux=true  Windows=true\r\n\t\tSystem.err.println(glob.matches(Paths.get(&quot;/test&quot;)));   // --&gt; Linux=true  Windows=true\r\n\t\tSystem.err.println(glob.matches(Paths.get(&quot;/test2&quot;)));  // --&gt; Linux=false Windows=false\r\n\r\n\t\tSystem.err.println(regex.matches(Paths.get(&quot;/&quot;)));      // --&gt; Linux=true  Windows=false\r\n\t\tSystem.err.println(regex.matches(Paths.get(&quot;/test&quot;)));  // --&gt; Linux=true  Windows=false\r\n\t\tSystem.err.println(regex.matches(Paths.get(&quot;/test2&quot;))); // --&gt; Linux=false Windows=false\r\n     }  \r\n}\r\n```\r\n\r\nBut I&#39;ve a longer list in my regex for multiple files which are not easy to migrate to glob syntax. Otherwise I&#39;ve nested groups which is not allowed or an even longer list if I wrote every pattern as a not-grouped pattern.\r\n\r\nWhat is the best way to do this in a cross-platform manner?","title":"Java PathMatcher not working properly on Windows","body":"<p>I try to implement a JUnit test for my SimpleFileVisitor but the used PathMatcher doesn't work properly on Windows. The problem seems to be the PathMatcher with a regex pattern behaves different on Linux and Windows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.FileSystems;\nimport java.nio.file.PathMatcher;\nimport java.nio.file.Paths;\n\npublic class TestApp{\n\n     public static void main(String []args){\n        final PathMatcher glob = FileSystems.getDefault().getPathMatcher(&quot;glob:{/,/test}&quot;);\n        final PathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\n\n        System.err.println(glob.matches(Paths.get(&quot;/&quot;)));       // --&gt; Linux=true  Windows=true\n        System.err.println(glob.matches(Paths.get(&quot;/test&quot;)));   // --&gt; Linux=true  Windows=true\n        System.err.println(glob.matches(Paths.get(&quot;/test2&quot;)));  // --&gt; Linux=false Windows=false\n\n        System.err.println(regex.matches(Paths.get(&quot;/&quot;)));      // --&gt; Linux=true  Windows=false\n        System.err.println(regex.matches(Paths.get(&quot;/test&quot;)));  // --&gt; Linux=true  Windows=false\n        System.err.println(regex.matches(Paths.get(&quot;/test2&quot;))); // --&gt; Linux=false Windows=false\n     }  \n}\n</code></pre>\n<p>But I've a longer list in my regex for multiple files which are not easy to migrate to glob syntax. Otherwise I've nested groups which is not allowed or an even longer list if I wrote every pattern as a not-grouped pattern.</p>\n<p>What is the best way to do this in a cross-platform manner?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":11784619,"reputation":84,"user_id":8622854,"display_name":"squ1dd13"},"score":0,"creation_date":1596633364,"post_id":63265918,"comment_id":111873651,"body_markdown":"If you used an `if`, the second input example would only print one result (I think). The `while` is necessary if you want to find _all_ the matches, rather than just the first.","body":"If you used an <code>if</code>, the second input example would only print one result (I think). The <code>while</code> is necessary if you want to find <i>all</i> the matches, rather than just the first."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1596633373,"post_id":63265918,"comment_id":111873654,"body_markdown":"The body of a while loop runs zero or more times; the body of an if statement runs zero or one times. The choice between them depends on how many matches you expect to find.","body":"The body of a while loop runs zero or more times; the body of an if statement runs zero or one times. The choice between them depends on how many matches you expect to find."}],"answers":[{"tags":[],"owner":{"account_id":9554554,"reputation":46,"user_id":7097522,"display_name":"Rishi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596633575,"creation_date":1596633575,"answer_id":63266095,"question_id":63265918,"body_markdown":"When you call ```find()```, the matcher will attempt to find the next sequence that matches your regex pattern. By using ```find()``` in a while loop, you will be able to obtain all the matching sequences if there are any. If you want to match the input string as a whole, you can use ```matches()```. \r\n\r\nReference: \r\n\r\n[find method in Java Docs][1]\r\n\r\n[matches method in Java Docs][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()","title":"matcher.find() regex Java function","body":"<p>When you call <code>find()</code>, the matcher will attempt to find the next sequence that matches your regex pattern. By using <code>find()</code> in a while loop, you will be able to obtain all the matching sequences if there are any. If you want to match the input string as a whole, you can use <code>matches()</code>.</p>\n<p>Reference:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">find method in Java Docs</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\">matches method in Java Docs</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596725238,"creation_date":1596633614,"answer_id":63266110,"question_id":63265918,"body_markdown":"The answer is in the [javadoc][1] for `find`.\r\n\r\n&gt; `public boolean find()`\r\n&gt;\r\n&gt; Attempts to find the next subsequence of the input sequence that matches the pattern.\r\n&gt;\r\n&gt; This method starts at the beginning of this matcher&#39;s region, or, *if a previous invocation of the method was successful and the matcher has not since been reset, at the first character not matched by the previous match*.\r\n&gt;\r\n&gt; If the match succeeds then more information can be obtained via the start, end, and group methods. \r\n\r\nThe code you are looking at is *repeatedly* finding the next match for the regex and printing its matched 2nd group.  Since the 2nd group of the match is the tag contents, this prints the contents of all tags.\r\n\r\nIf you used `if` instead of `while`, only the first match will be printed; i.e. only content of the first tag.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#find()","title":"matcher.find() regex Java function","body":"<p>The answer is in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">javadoc</a> for <code>find</code>.</p>\n<blockquote>\n<p><code>public boolean find()</code></p>\n<p>Attempts to find the next subsequence of the input sequence that matches the pattern.</p>\n<p>This method starts at the beginning of this matcher's region, or, <em>if a previous invocation of the method was successful and the matcher has not since been reset, at the first character not matched by the previous match</em>.</p>\n<p>If the match succeeds then more information can be obtained via the start, end, and group methods.</p>\n</blockquote>\n<p>The code you are looking at is <em>repeatedly</em> finding the next match for the regex and printing its matched 2nd group.  Since the 2nd group of the match is the tag contents, this prints the contents of all tags.</p>\n<p>If you used <code>if</code> instead of <code>while</code>, only the first match will be printed; i.e. only content of the first tag.</p>\n"}],"owner":{"account_id":15067305,"reputation":11,"user_id":10873981,"display_name":"ayvahb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693142744,"creation_date":1596632985,"question_id":63265918,"body_markdown":"consider the below code that checks if input is in the form: `&lt;tag&gt;contents&lt;/tag&gt;`\r\nIf input in above form, print content between the tags else print None.\r\n\r\neg:\r\n1) input: `&lt;h1&gt;Nayeem loves counseling&lt;/h1&gt;`\r\noutput: Nayeem loves counseling\r\n\r\n2) input: `&lt;h1&gt;&lt;h1&gt;Sanjay has no watch&lt;/h1&gt;&lt;/h1&gt;&lt;par&gt;So wait for a while&lt;/par&gt;`\r\noutput: Sanjay has no watch\r\nSo wait for a while\r\n\r\n3) input: `&lt;Amee&gt;safat codes like a ninja&lt;/amee&gt;`\r\noutput: None\r\n```java\r\nString line = scan.nextLine();\r\n\r\nboolean matchFound = false;\r\nPattern r = Pattern.compile(&quot;&lt;(.+)&gt;([^&lt;]+)&lt;/\\\\1&gt;&quot;);\r\nMatcher m = r.matcher(line);\r\n\r\nwhile(m.find()) {\r\n    System.out.println(m.group(2));\r\n    matchFound = true;\r\n}\r\n\r\nif(!matchFound) {\r\n    System.out.println(&quot;None&quot;);\r\n}\r\n```\r\nHere find() returns boolean type. My question is why should find() be used with while loop? Why can&#39;t I use &quot;if&quot; in place of while? How is find working internally?\r\n","title":"matcher.find() regex Java function","body":"<p>consider the below code that checks if input is in the form: <code>&lt;tag&gt;contents&lt;/tag&gt;</code>\nIf input in above form, print content between the tags else print None.</p>\n<p>eg:</p>\n<ol>\n<li><p>input: <code>&lt;h1&gt;Nayeem loves counseling&lt;/h1&gt;</code>\noutput: Nayeem loves counseling</p>\n</li>\n<li><p>input: <code>&lt;h1&gt;&lt;h1&gt;Sanjay has no watch&lt;/h1&gt;&lt;/h1&gt;&lt;par&gt;So wait for a while&lt;/par&gt;</code>\noutput: Sanjay has no watch\nSo wait for a while</p>\n</li>\n<li><p>input: <code>&lt;Amee&gt;safat codes like a ninja&lt;/amee&gt;</code>\noutput: None</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String line = scan.nextLine();\n\nboolean matchFound = false;\nPattern r = Pattern.compile(&quot;&lt;(.+)&gt;([^&lt;]+)&lt;/\\\\1&gt;&quot;);\nMatcher m = r.matcher(line);\n\nwhile(m.find()) {\n    System.out.println(m.group(2));\n    matchFound = true;\n}\n\nif(!matchFound) {\n    System.out.println(&quot;None&quot;);\n}\n</code></pre>\n<p>Here find() returns boolean type. My question is why should find() be used with while loop? Why can't I use &quot;if&quot; in place of while? How is find working internally?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":19128884,"reputation":146,"user_id":13971264,"display_name":"Alex Voss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596064047,"creation_date":1595903031,"answer_id":63126131,"question_id":63126008,"body_markdown":"Use the ^ boundary matcher in combination with \\s to match lines that have only whitespace between beginning of the line and the beginning of the comment. Then use $ to do the equivalent for the end of the line case.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Ignoring comment preceded or succeed by code","body":"<p>Use the ^ boundary matcher in combination with \\s to match lines that have only whitespace between beginning of the line and the beginning of the comment. Then use $ to do the equivalent for the end of the line case.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html</a></p>\n"},{"tags":[],"owner":{"account_id":17444705,"reputation":17,"user_id":12645978,"display_name":"Bhoomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596086723,"creation_date":1596086723,"answer_id":63166691,"question_id":63126008,"body_markdown":"```\r\nprivate static final Pattern MULTI_LINE_COMMENT = Pattern.compile(&quot;((?&lt;=([\\\\r\\\\n]))([\\\\s]*)|^)(/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/)([\\\\s]*(\\\\n|\\\\z))&quot;);\r\n```\r\nThis solved it.","title":"Ignoring comment preceded or succeed by code","body":"<pre><code>private static final Pattern MULTI_LINE_COMMENT = Pattern.compile(&quot;((?&lt;=([\\\\r\\\\n]))([\\\\s]*)|^)(/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/)([\\\\s]*(\\\\n|\\\\z))&quot;);\n</code></pre>\n<p>This solved it.</p>\n"}],"owner":{"account_id":17444705,"reputation":17,"user_id":12645978,"display_name":"Bhoomi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693142736,"creation_date":1595901933,"question_id":63126008,"body_markdown":"This is the pattern I have used for finding multi line comments\r\n```\r\nprivate static final Pattern MULTI_LINE = Pattern.compile(&quot;/\\\\*(.|[\\\\r\\\\n])*?\\\\*/&quot;);\r\n```\r\nHowever I want to ignore comments that are preceded or succeeded by code \r\nlike this \r\n```\r\n1. /* Some comment */ String val = &quot;foo&quot;;\r\n2. String val1 = &quot;foo1&quot;; /* Some comment */\r\n```\r\nHow do I alter my regex to ignore such cases?\r\nI do not want to replace the comment, but I want to ignore such cases as comment lines in the code as I am trying to find the number of commented lines in the file.\r\n\r\n\r\n","title":"Ignoring comment preceded or succeed by code","body":"<p>This is the pattern I have used for finding multi line comments</p>\n<pre><code>private static final Pattern MULTI_LINE = Pattern.compile(&quot;/\\\\*(.|[\\\\r\\\\n])*?\\\\*/&quot;);\n</code></pre>\n<p>However I want to ignore comments that are preceded or succeeded by code\nlike this</p>\n<pre><code>1. /* Some comment */ String val = &quot;foo&quot;;\n2. String val1 = &quot;foo1&quot;; /* Some comment */\n</code></pre>\n<p>How do I alter my regex to ignore such cases?\nI do not want to replace the comment, but I want to ignore such cases as comment lines in the code as I am trying to find the number of commented lines in the file.</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"display_name":"user7571182"},"score":0,"creation_date":1592041985,"post_id":62357490,"comment_id":110285851,"body_markdown":"It is working for me. Please see [**this**](https://onlinegdb.com/SyxxG7G6U)","body":"It is working for me. Please see <a href=\"https://onlinegdb.com/SyxxG7G6U\" rel=\"nofollow noreferrer\"><b>this</b></a>"}],"answers":[{"tags":[],"owner":{"account_id":18653738,"reputation":41,"user_id":13598048,"display_name":"Artem Berezovski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1592040530,"creation_date":1592040530,"answer_id":62357839,"question_id":62357490,"body_markdown":"It happens because there are two `2` in the last expression. When you get the last `2`, you add spaces around all `2`s, so it leads to `12` to be split.","title":"Why regex in java is behaving differently for different example?","body":"<p>It happens because there are two <code>2</code> in the last expression. When you get the last <code>2</code>, you add spaces around all <code>2</code>s, so it leads to <code>12</code> to be split.</p>\n"}],"owner":{"account_id":18827900,"reputation":3,"user_id":13732367,"display_name":"Faraz anwar"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1592043584,"accepted_answer_id":62357839,"answer_count":1,"score":-1,"last_activity_date":1693141400,"creation_date":1592038330,"question_id":62357490,"body_markdown":"    Scanner sc = new Scanner(System.in);\r\n           String s = sc.nextLine().trim();\r\n           s= s.replaceAll(&quot;\\\\++&quot;,&quot; + &quot;);\r\n           Pattern p = Pattern.compile(&quot;[a-zA-Z]+|\\\\d+|[\\\\(\\\\*\\\\)/%]&quot;);\r\n           Matcher m = p.matcher(s);\r\n           while(m.find()){\r\n               String str=m.group();\r\n               s= s.replace(m.group(),&quot; &quot;+str+&quot; &quot;).trim();\r\n           }\r\n          String[] str=s.split(&quot; +&quot;);\r\n          for(String s1:str) System.out.print(s1+&quot;,&quot;);\r\n\r\nif `s=22*(7-9` output is: **22,*,(,7,-,9,**\r\n\r\nif `s=12*(4-2`   output is:**1,2,*,(,4,-,2,**\r\n\r\n\r\nWhy digits of 12 got separated in  second example?\r\nHelp me if someone knows about it \r\n\r\n","title":"Why regex in java is behaving differently for different example?","body":"<pre><code>Scanner sc = new Scanner(System.in);\n       String s = sc.nextLine().trim();\n       s= s.replaceAll(\"\\\\++\",\" + \");\n       Pattern p = Pattern.compile(\"[a-zA-Z]+|\\\\d+|[\\\\(\\\\*\\\\)/%]\");\n       Matcher m = p.matcher(s);\n       while(m.find()){\n           String str=m.group();\n           s= s.replace(m.group(),\" \"+str+\" \").trim();\n       }\n      String[] str=s.split(\" +\");\n      for(String s1:str) System.out.print(s1+\",\");\n</code></pre>\n\n<p>if <code>s=22*(7-9</code> output is: <strong>22,*,(,7,-,9,</strong></p>\n\n<p>if <code>s=12*(4-2</code>   output is:<strong>1,2,*,(,4,-,2,</strong></p>\n\n<p>Why digits of 12 got separated in  second example?\nHelp me if someone knows about it </p>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1591831988,"post_id":62314711,"comment_id":110209736,"body_markdown":"@HarshalParekh - added the output details","body":"@HarshalParekh - added the output details"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591832178,"post_id":62314711,"comment_id":110209779,"body_markdown":"Can your String have a JSON Array?","body":"Can your String have a JSON Array?"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591832415,"post_id":62314711,"comment_id":110209828,"body_markdown":"Currently, you string has a max depth of 4. `{}` is counted as a level as per JSON.","body":"Currently, you string has a max depth of 4. <code>{}</code> is counted as a level as per JSON."},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591832451,"post_id":62314711,"comment_id":110209836,"body_markdown":"What will be the output for level 2?","body":"What will be the output for level 2?"},{"owner":{"account_id":18481872,"reputation":281,"user_id":13463803,"display_name":"user13463803"},"score":0,"creation_date":1591833426,"post_id":62314711,"comment_id":110210087,"body_markdown":"Recursive structures call out for recursive solutions. Each time you hit a &quot;{&quot;, call self recursively.  When you hit the &quot;}&quot;, return.","body":"Recursive structures call out for recursive solutions. Each time you hit a &quot;{&quot;, call self recursively.  When you hit the &quot;}&quot;, return."},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1591833907,"post_id":62314711,"comment_id":110210190,"body_markdown":"@HarshalParekh - max level is always 3 or 4 depending on how u assume","body":"@HarshalParekh - max level is always 3 or 4 depending on how u assume"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591834132,"post_id":62314711,"comment_id":110210243,"body_markdown":"@Harish, there is no assumption here. Empty json is valid and hence should be counted as a level. What about my other question?","body":"@Harish, there is no assumption here. Empty json is valid and hence should be counted as a level. What about my other question?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1591834309,"post_id":62314711,"comment_id":110210283,"body_markdown":"@HarshalParekh If you call `depth(data,4)` you get back an empty list, so the max level with a non-empty list is 3, hence the correct result is `max_level = 3`","body":"@HarshalParekh If you call <code>depth(data,4)</code> you get back an empty list, so the max level with a non-empty list is 3, hence the correct result is <code>max_level = 3</code>"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591835516,"creation_date":1591835516,"answer_id":62315251,"question_id":62314711,"body_markdown":"I would do it like this, so you don&#39;t have to scan the text again to ask for a different level.\r\n\r\n```lang-java\r\npublic final class NestedJson {\r\n\tprivate int maxLevel;\r\n\tprivate Map&lt;Integer, List&lt;String&gt;&gt; items = new HashMap&lt;&gt;();\r\n\r\n\tpublic NestedJson(String data) {\r\n\t\tint level = 0;\r\n\t\tfor (Matcher m = Pattern.compile(&quot;\\&quot;([^\\&quot;]*+)\\&quot;|([{}])&quot;).matcher(data); m.find(); ) {\r\n\t\t\tif (m.start(1) != -1) {\r\n\t\t\t\tthis.items.computeIfAbsent(level, k -&gt; new ArrayList&lt;&gt;()).add(m.group(1));\r\n\t\t\t\tif (level &gt; this.maxLevel)\r\n\t\t\t\t\tthis.maxLevel = level;\r\n\t\t\t} else if (m.group(2).charAt(0) == &#39;{&#39;) {\r\n\t\t\t\tlevel++;\r\n\t\t\t} else {\r\n\t\t\t\tlevel--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic int getMaxLevel() {\r\n\t\treturn this.maxLevel;\r\n\t}\r\n\tpublic List&lt;String&gt; getItems(int level) {\r\n\t\treturn this.items.get(level);\r\n\t}\r\n}\r\n```\r\n\r\n*Test*\r\n\r\n```lang-java\r\nString data = &quot;{\\n&quot; +\r\n              &quot;\\t\\&quot;1\\&quot; : {\\n&quot; +\r\n              &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n              &quot;\\t},\\n&quot; +\r\n              &quot;\\t\\&quot;2\\&quot; : {\\n&quot; +\r\n              &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n              &quot;\\t   \\&quot;B\\&quot; : {\\n&quot; +\r\n              &quot;\\t     \\&quot;I\\&quot; :{},\\n&quot; +\r\n              &quot;\\t     \\&quot;II\\&quot;:{}\\n&quot; +\r\n              &quot;\\t   }\\n&quot; +\r\n              &quot;\\t},\\n&quot; +\r\n              &quot;\\t\\&quot;3\\&quot; : {}\\n&quot; +\r\n              &quot;}&quot;;\r\n\r\nNestedJson nestedJson = new NestedJson(data);\r\nSystem.out.println(&quot;maxLevel = &quot; + nestedJson.getMaxLevel());\r\nfor (int level = 1; level &lt;= nestedJson.getMaxLevel(); level++)\r\n\tSystem.out.println(&quot;items(&quot; + level + &quot;) = &quot; + nestedJson.getItems(level));\r\n```\r\n\r\n*Output*\r\n\r\n```lang-none\r\nmaxLevel = 3\r\nitems(1) = [1, 2, 3]\r\nitems(2) = [A, A, B]\r\nitems(3) = [I, II]\r\n```","title":"Return the maximum level of nesting and list of items at a given level from the given JSON","body":"<p>I would do it like this, so you don't have to scan the text again to ask for a different level.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class NestedJson {\n    private int maxLevel;\n    private Map&lt;Integer, List&lt;String&gt;&gt; items = new HashMap&lt;&gt;();\n\n    public NestedJson(String data) {\n        int level = 0;\n        for (Matcher m = Pattern.compile(\"\\\"([^\\\"]*+)\\\"|([{}])\").matcher(data); m.find(); ) {\n            if (m.start(1) != -1) {\n                this.items.computeIfAbsent(level, k -&gt; new ArrayList&lt;&gt;()).add(m.group(1));\n                if (level &gt; this.maxLevel)\n                    this.maxLevel = level;\n            } else if (m.group(2).charAt(0) == '{') {\n                level++;\n            } else {\n                level--;\n            }\n        }\n    }\n\n    public int getMaxLevel() {\n        return this.maxLevel;\n    }\n    public List&lt;String&gt; getItems(int level) {\n        return this.items.get(level);\n    }\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String data = \"{\\n\" +\n              \"\\t\\\"1\\\" : {\\n\" +\n              \"\\t   \\\"A\\\" :{}\\n\" +\n              \"\\t},\\n\" +\n              \"\\t\\\"2\\\" : {\\n\" +\n              \"\\t   \\\"A\\\" :{}\\n\" +\n              \"\\t   \\\"B\\\" : {\\n\" +\n              \"\\t     \\\"I\\\" :{},\\n\" +\n              \"\\t     \\\"II\\\":{}\\n\" +\n              \"\\t   }\\n\" +\n              \"\\t},\\n\" +\n              \"\\t\\\"3\\\" : {}\\n\" +\n              \"}\";\n\nNestedJson nestedJson = new NestedJson(data);\nSystem.out.println(\"maxLevel = \" + nestedJson.getMaxLevel());\nfor (int level = 1; level &lt;= nestedJson.getMaxLevel(); level++)\n    System.out.println(\"items(\" + level + \") = \" + nestedJson.getItems(level));\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>maxLevel = 3\nitems(1) = [1, 2, 3]\nitems(2) = [A, A, B]\nitems(3) = [I, II]\n</code></pre>\n"}],"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62315251,"answer_count":1,"score":0,"last_activity_date":1693141354,"creation_date":1591831473,"question_id":62314711,"body_markdown":"How to return the maximum level of nesting and list of items at a given level from the given JSON. I was asked not to use any third-party library. So I tried to use Pattern matching but could not get the result.\r\n\r\n    {\r\n    \t&quot;1&quot; : {\r\n    \t   &quot;A&quot; :{}\r\n    \t},\r\n    \t&quot;2&quot; : {\r\n    \t   &quot;A&quot; :{}\r\n    \t   &quot;B&quot; : {\r\n    \t     &quot;I&quot; :{},\r\n    \t     &quot;II&quot;:{}\r\n    \t   }\r\n    \t},\r\n    \t&quot;3&quot; : {}\r\n    }\r\n\r\nCode I tried:\r\n\r\n    public class NestedJson {\r\n    \r\n        public int depth(String data, int deptth){\r\n    \r\n            Pattern pattern = Pattern.compile(&quot;\\&quot;(.+)\\&quot;&quot;);\r\n            Matcher matcher = pattern.matcher(data);\r\n    \r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            while (matcher.find()) {\r\n                list.add(matcher.group(1));\r\n            }\r\n    \r\n            System.out.println(list.size());\r\n            return list.size();\r\n    \r\n        }\r\n    \r\n        public static void main(String args[]){\r\n         String data = &quot;{\\n&quot; +\r\n                 &quot;\\t\\&quot;1\\&quot; : {\\n&quot; +\r\n                 &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n                 &quot;\\t},\\n&quot; +\r\n                 &quot;\\t\\&quot;2\\&quot; : {\\n&quot; +\r\n                 &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n                 &quot;\\t   \\&quot;B\\&quot; : {\\n&quot; +\r\n                 &quot;\\t     \\&quot;I\\&quot; :{},\\n&quot; +\r\n                 &quot;\\t     \\&quot;II\\&quot;:{}\\n&quot; +\r\n                 &quot;\\t   }\\n&quot; +\r\n                 &quot;\\t},\\n&quot; +\r\n                 &quot;\\t\\&quot;3\\&quot; : {}\\n&quot; +\r\n                 &quot;}&quot;;\r\n    \r\n            NestedJson nestedJson = new NestedJson();\r\n            nestedJson.depth(data, 1);\r\n        }\r\n    }\r\n\r\nSample output required:\r\n\r\n    depth(data,1) -&gt; {&quot;max_level&quot;= 3, items= [1,2,3]}\r\n    depth(data,2) -&gt; {&quot;max_level&quot;= 3, items= [A,A,B]}","title":"Return the maximum level of nesting and list of items at a given level from the given JSON","body":"<p>How to return the maximum level of nesting and list of items at a given level from the given JSON. I was asked not to use any third-party library. So I tried to use Pattern matching but could not get the result.</p>\n\n<pre><code>{\n    \"1\" : {\n       \"A\" :{}\n    },\n    \"2\" : {\n       \"A\" :{}\n       \"B\" : {\n         \"I\" :{},\n         \"II\":{}\n       }\n    },\n    \"3\" : {}\n}\n</code></pre>\n\n<p>Code I tried:</p>\n\n<pre><code>public class NestedJson {\n\n    public int depth(String data, int deptth){\n\n        Pattern pattern = Pattern.compile(\"\\\"(.+)\\\"\");\n        Matcher matcher = pattern.matcher(data);\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        while (matcher.find()) {\n            list.add(matcher.group(1));\n        }\n\n        System.out.println(list.size());\n        return list.size();\n\n    }\n\n    public static void main(String args[]){\n     String data = \"{\\n\" +\n             \"\\t\\\"1\\\" : {\\n\" +\n             \"\\t   \\\"A\\\" :{}\\n\" +\n             \"\\t},\\n\" +\n             \"\\t\\\"2\\\" : {\\n\" +\n             \"\\t   \\\"A\\\" :{}\\n\" +\n             \"\\t   \\\"B\\\" : {\\n\" +\n             \"\\t     \\\"I\\\" :{},\\n\" +\n             \"\\t     \\\"II\\\":{}\\n\" +\n             \"\\t   }\\n\" +\n             \"\\t},\\n\" +\n             \"\\t\\\"3\\\" : {}\\n\" +\n             \"}\";\n\n        NestedJson nestedJson = new NestedJson();\n        nestedJson.depth(data, 1);\n    }\n}\n</code></pre>\n\n<p>Sample output required:</p>\n\n<pre><code>depth(data,1) -&gt; {\"max_level\"= 3, items= [1,2,3]}\ndepth(data,2) -&gt; {\"max_level\"= 3, items= [A,A,B]}\n</code></pre>\n"},{"tags":["javascript","java","html","thymeleaf"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1692616590,"post_id":76944759,"comment_id":135643085,"body_markdown":"_&quot;Java to JSP&quot;_ - do you mean JavaScript or JSP? They&#39;re different things","body":"<i>&quot;Java to JSP&quot;</i> - do you mean JavaScript or JSP? They&#39;re different things"},{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1692616654,"post_id":76944759,"comment_id":135643099,"body_markdown":"Sorry I meant JavaScript","body":"Sorry I meant JavaScript"},{"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1692628938,"post_id":76944759,"comment_id":135645940,"body_markdown":"Thymeleaf does this out of the box... have you read the Thymeleaf documentation on [JavaScript inlining](https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#javascript-inlining)?","body":"Thymeleaf does this out of the box... have you read the Thymeleaf documentation on <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#javascript-inlining\" rel=\"nofollow noreferrer\">JavaScript inlining</a>?"}],"answers":[{"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692622043,"creation_date":1692617702,"answer_id":76944912,"question_id":76944759,"body_markdown":"Something like this (change ObjectMapper to any JSON stringifier you have)\r\n\r\n      ObjectMapper mapper = new ObjectMapper();\r\n      String jsonStr = mapper.writeValueAsString(countryToExprMap);\r\n    %&gt;\r\n\r\n    &lt;script&gt;\r\n    const exprs = JSON.parse(&#39;&lt;%=jsonStr%&gt;&#39;);\r\n    document.getElementById(&quot;exprs&quot;)\r\n      .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\r\n        ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\r\n    &lt;/script&gt;\r\n\r\nIf the JSON is not in the JSP, but can be delivered by your backend ass a file, then it is simpler: \r\n\r\n    fetch(&quot;yourListServiceReturningJSON&quot;)\r\n    .then(response =&gt; response.json())\r\n    .then(exprs =&gt; {\r\n      document.getElementById(&quot;exprs&quot;)\r\n        .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\r\n        ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\r\n    });\r\n","title":"Passing variable from Java to Javascript using Thymeleaf","body":"<p>Something like this (change ObjectMapper to any JSON stringifier you have)</p>\n<pre><code>  ObjectMapper mapper = new ObjectMapper();\n  String jsonStr = mapper.writeValueAsString(countryToExprMap);\n%&gt;\n\n&lt;script&gt;\nconst exprs = JSON.parse('&lt;%=jsonStr%&gt;');\ndocument.getElementById(&quot;exprs&quot;)\n  .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\n    ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\n&lt;/script&gt;\n</code></pre>\n<p>If the JSON is not in the JSP, but can be delivered by your backend ass a file, then it is simpler:</p>\n<pre><code>fetch(&quot;yourListServiceReturningJSON&quot;)\n.then(response =&gt; response.json())\n.then(exprs =&gt; {\n  document.getElementById(&quot;exprs&quot;)\n    .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\n    ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693141330,"creation_date":1693141330,"answer_id":76987232,"question_id":76944759,"body_markdown":"Thanks to @Metroids.\r\n\r\nI was able to use Thymeleaf native way to solve it:\r\n\r\n```javascript\r\n\r\n// Access public static final Map COUNTRY_TO_EXPR_MAP in MyUtil.java\r\n&lt;script th:inline=&quot;javascript&quot;\r\n        th:with=&quot;countryToExprMap=${@my.package.MyUtil@COUNTRY_TO_EXPR_MAP}&quot;&gt;\r\n    const exprsMap = new Map(Object.entries([[${countryToExprMap}]]));\r\n    ...\r\n&lt;/script&gt;\r\n\r\n```","title":"Passing variable from Java to Javascript using Thymeleaf","body":"<p>Thanks to @Metroids.</p>\n<p>I was able to use Thymeleaf native way to solve it:</p>\n<pre class=\"lang-js prettyprint-override\"><code>\n// Access public static final Map COUNTRY_TO_EXPR_MAP in MyUtil.java\n&lt;script th:inline=&quot;javascript&quot;\n        th:with=&quot;countryToExprMap=${@my.package.MyUtil@COUNTRY_TO_EXPR_MAP}&quot;&gt;\n    const exprsMap = new Map(Object.entries([[${countryToExprMap}]]));\n    ...\n&lt;/script&gt;\n\n</code></pre>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76987232,"answer_count":2,"score":1,"last_activity_date":1693141330,"creation_date":1692616374,"question_id":76944759,"body_markdown":"I have a java `Map&lt;Country, List&lt;Expr&gt;&gt; countryToExprMap` in the backend service.  \r\nIn my web page rendered by Thymeleaf, I have a `Country` drop down to select Country, and a `Expr` drop down, where I only want `Expr`s mapped by the selected `Country` to be displayed.  \r\nTo do that, I need to pass `countryToExprMap` from Java to Javascript so that I can know the eligible `Expr`s from a given `Country`, so as to build a `updateExprOptions` function to be called by the `Country` dropdown on &quot;change&quot; event. Something like:\r\n```javascript\r\nvar exprDropDown = document.getElementById(&quot;exprs&quot;);\r\n\r\n// Map from Java\r\nvar exprs = countryToExprMap[selectedCountry];\r\n\r\n// Create options for the expr dropdown\r\nfor (var i = 0; i &lt; exprs.length; i++) {\r\n    var option = document.createElement(&quot;option&quot;);\r\n    option.value = exprs[i];\r\n    option.text = exprs[i];\r\n    exprDropDown.appendChild(option);\r\n}\r\n\r\n```\r\n\r\nUnfortunately it doesn&#39;t look like there&#39;s a way to pass the map variable from Java to JavaScript.  Any advice appreciated.\r\n\r\n---\r\nWhat I can think of is to stringify the map in Java,  \r\nset it as data-* attribute to a html element using Thymeleaf,  \r\nand at last deserialise the map in JavaScript to use it there.\r\n","title":"Passing variable from Java to Javascript using Thymeleaf","body":"<p>I have a java <code>Map&lt;Country, List&lt;Expr&gt;&gt; countryToExprMap</code> in the backend service.<br />\nIn my web page rendered by Thymeleaf, I have a <code>Country</code> drop down to select Country, and a <code>Expr</code> drop down, where I only want <code>Expr</code>s mapped by the selected <code>Country</code> to be displayed.<br />\nTo do that, I need to pass <code>countryToExprMap</code> from Java to Javascript so that I can know the eligible <code>Expr</code>s from a given <code>Country</code>, so as to build a <code>updateExprOptions</code> function to be called by the <code>Country</code> dropdown on &quot;change&quot; event. Something like:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var exprDropDown = document.getElementById(&quot;exprs&quot;);\n\n// Map from Java\nvar exprs = countryToExprMap[selectedCountry];\n\n// Create options for the expr dropdown\nfor (var i = 0; i &lt; exprs.length; i++) {\n    var option = document.createElement(&quot;option&quot;);\n    option.value = exprs[i];\n    option.text = exprs[i];\n    exprDropDown.appendChild(option);\n}\n\n</code></pre>\n<p>Unfortunately it doesn't look like there's a way to pass the map variable from Java to JavaScript.  Any advice appreciated.</p>\n<hr />\n<p>What I can think of is to stringify the map in Java,<br />\nset it as data-* attribute to a html element using Thymeleaf,<br />\nand at last deserialise the map in JavaScript to use it there.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1591591017,"post_id":62255057,"comment_id":110103163,"body_markdown":"Q: Will every item code always include all three parts: itemValue, monthValue and yearValue?  Q: What&#39;s the rule for determining how long itemValue is: whether it&#39;s one, two or three characters?","body":"Q: Will every item code always include all three parts: itemValue, monthValue and yearValue?  Q: What&#39;s the rule for determining how long itemValue is: whether it&#39;s one, two or three characters?"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1591591414,"post_id":62255057,"comment_id":110103254,"body_markdown":"Yes, each input will have three parts. There is no rule for determining itemvalue length, it can just be 1 to 3 characters or digits at random. That&#39;s why I thought regex was the best approach.","body":"Yes, each input will have three parts. There is no rule for determining itemvalue length, it can just be 1 to 3 characters or digits at random. That&#39;s why I thought regex was the best approach."},{"owner":{"account_id":13102294,"reputation":417,"user_id":9466253,"display_name":"jnrdn0011"},"score":0,"creation_date":1591591524,"post_id":62255057,"comment_id":110103283,"body_markdown":"You can use or condition to exclude length 3.","body":"You can use or condition to exclude length 3."},{"owner":{"display_name":"user7571182"},"score":0,"creation_date":1592382602,"post_id":62255057,"comment_id":110402504,"body_markdown":"@ennth; if any of the below answer helps; please accept the one which best suits you and close this post. It&#39;ll help the answerer as well as the future readers of this post.","body":"@ennth; if any of the below answer helps; please accept the one which best suits you and close this post. It&#39;ll help the answerer as well as the future readers of this post."}],"answers":[{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591592020,"creation_date":1591592020,"answer_id":62255227,"question_id":62255057,"body_markdown":"If you looking something different than a regex solution then the below could help:\r\n\r\n    String txt = &quot;QZAB19&quot;;\r\n    String month = txt.replaceAll(&quot;[0-9]&quot;, &quot;&quot;); //replaces all integers\r\n    System.out.println(month.charAt(month.length()-1)); //get you the last character that is month \r\n\r\n**Output:**\r\n\r\n    B","title":"Java regex parsing out middle value of String","body":"<p>If you looking something different than a regex solution then the below could help:</p>\n\n<pre><code>String txt = \"QZAB19\";\nString month = txt.replaceAll(\"[0-9]\", \"\"); //replaces all integers\nSystem.out.println(month.charAt(month.length()-1)); //get you the last character that is month \n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>B\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13102294,"reputation":417,"user_id":9466253,"display_name":"jnrdn0011"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591593264,"creation_date":1591592151,"answer_id":62255252,"question_id":62255057,"body_markdown":"    Pattern pattern = Pattern.compile(&quot;^([a-zA-Z0-9]{1,3})([a-zA-Z])(([0-9]{1,2})|([0-9]{4}))$&quot;);\r\n\r\nYou should use $ to restrict the end matching point else your condition for restricting digts at end of string doesn&#39;t work.","title":"Java regex parsing out middle value of String","body":"<pre><code>Pattern pattern = Pattern.compile(\"^([a-zA-Z0-9]{1,3})([a-zA-Z])(([0-9]{1,2})|([0-9]{4}))$\");\n</code></pre>\n\n<p>You should use $ to restrict the end matching point else your condition for restricting digts at end of string doesn't work.</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591637176,"creation_date":1591592208,"answer_id":62255261,"question_id":62255057,"body_markdown":"Try this:\r\n\r\n    ([\\w]{1,3})(\\D)([\\d]{1,4})\r\n\r\nExamples:\r\n\r\nhttps://www.freeformatter.com/java-regex-tester.html#ad-output\r\n\r\n    Input     Match:\r\n    -----     -----\r\n    AP18      (A)(P)(18)\r\n    QZAB19    (QZA)(B)(19)\r\n    ARM8      (AR)(M)(8)\r\n    QZAB123   (QZA)(B)(123)\r\n    QZAB1234  (QZA)(B)(1234)\r\n    A123      No match\r\n    1234      No match","title":"Java regex parsing out middle value of String","body":"<p>Try this:</p>\n\n<pre><code>([\\w]{1,3})(\\D)([\\d]{1,4})\n</code></pre>\n\n<p>Examples:</p>\n\n<p><a href=\"https://www.freeformatter.com/java-regex-tester.html#ad-output\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/java-regex-tester.html#ad-output</a></p>\n\n<pre><code>Input     Match:\n-----     -----\nAP18      (A)(P)(18)\nQZAB19    (QZA)(B)(19)\nARM8      (AR)(M)(8)\nQZAB123   (QZA)(B)(123)\nQZAB1234  (QZA)(B)(1234)\nA123      No match\n1234      No match\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7571182"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591635420,"creation_date":1591592549,"answer_id":62255317,"question_id":62255057,"body_markdown":"Your regex is correct. To add your last requirement you may try:\n\n    ^\\w{1,3}([a-zA-Z])(?:\\d{1,2}|\\d{4})$\n                       ^^^^^^^^^^^^^^^^\n                        This part\n\n**Explanation of the above regex:**\n&gt;**```^, $```** - Represents start and end of line respectively.\n&gt;\n&gt;**```\\w{1,3}```** - Matches from `[0-9A-Za-z_]` 1 to 3 times. If there is a chance that your test string contains **`_`**; then try to use `[0-9A-Za-z]` here.\n&gt;\n&gt;**```([a-zA-Z])```** - Represents capturing group matching a letter.\n&gt;\n&gt;**```(?:\\d{1,2}|\\d{4})```** - Represents a non-capturing group matching the digits 1, 2 or 4 times **but not three**.\n \nYou can find the above regex demo in [**here.**](https://regex101.com/r/wzf6Gm/4)\n\n[![pictorial Representation][1]][1]\n\n**Implementation in java:**\n```\nimport java.util.regex.Pattern;\nimport java.util.regex.Matcher;\npublic class Main\n{\n    private static final Pattern pattern = Pattern.compile(&quot;^\\\\w{1,3}([a-zA-Z])(?:\\\\d{1,2}|\\\\d{4})$&quot;, Pattern.MULTILINE);\n    public static void main(String[] args) {\n        final String string = &quot;QZAB19\\n&quot;\n     + &quot;AP18\\n&quot;\n     + &quot;ARM8\\n&quot;\n     + &quot;ARM803&quot;; // This won&#39;t match since the year value is 3.\n     Matcher matcher = pattern.matcher(string);\n     while(matcher.find())System.out.println(matcher.group(1)); // 1st group matches the month-value.\n    }\n}\n\n```\n\nYou can find the sample run of the above code in [**here.**](https://onlinegdb.com/SklMYSj2I)\n\n\n  [1]: https://i.stack.imgur.com/qSe9E.png","title":"Java regex parsing out middle value of String","body":"<p>Your regex is correct. To add your last requirement you may try:</p>\n<pre><code>^\\w{1,3}([a-zA-Z])(?:\\d{1,2}|\\d{4})$\n                   ^^^^^^^^^^^^^^^^\n                    This part\n</code></pre>\n<p><strong>Explanation of the above regex:</strong></p>\n<blockquote>\n<p><strong><code>^, $</code></strong> - Represents start and end of line respectively.</p>\n<p><strong><code>\\w{1,3}</code></strong> - Matches from <code>[0-9A-Za-z_]</code> 1 to 3 times. If there is a chance that your test string contains <strong><code>_</code></strong>; then try to use <code>[0-9A-Za-z]</code> here.</p>\n<p><strong><code>([a-zA-Z])</code></strong> - Represents capturing group matching a letter.</p>\n<p><strong><code>(?:\\d{1,2}|\\d{4})</code></strong> - Represents a non-capturing group matching the digits 1, 2 or 4 times <strong>but not three</strong>.</p>\n</blockquote>\n<p>You can find the above regex demo in <a href=\"https://regex101.com/r/wzf6Gm/4\" rel=\"nofollow noreferrer\"><strong>here.</strong></a></p>\n<p><a href=\"https://i.stack.imgur.com/qSe9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qSe9E.png\" alt=\"pictorial Representation\" /></a></p>\n<p><strong>Implementation in java:</strong></p>\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\npublic class Main\n{\n    private static final Pattern pattern = Pattern.compile(&quot;^\\\\w{1,3}([a-zA-Z])(?:\\\\d{1,2}|\\\\d{4})$&quot;, Pattern.MULTILINE);\n    public static void main(String[] args) {\n        final String string = &quot;QZAB19\\n&quot;\n     + &quot;AP18\\n&quot;\n     + &quot;ARM8\\n&quot;\n     + &quot;ARM803&quot;; // This won't match since the year value is 3.\n     Matcher matcher = pattern.matcher(string);\n     while(matcher.find())System.out.println(matcher.group(1)); // 1st group matches the month-value.\n    }\n}\n\n</code></pre>\n<p>You can find the sample run of the above code in <a href=\"https://onlinegdb.com/SklMYSj2I\" rel=\"nofollow noreferrer\"><strong>here.</strong></a></p>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62255317,"answer_count":4,"score":4,"last_activity_date":1693141296,"creation_date":1591590730,"question_id":62255057,"body_markdown":"I have some data that comes in as a String, and I need to extract or print out the **monthvalue** ( middle group) that is in the form:\r\n\r\n**[itemvalue] [monthvalue] [yearvalue]**\r\n\r\n*The rules are:*\r\n\r\n**itemvalue** = can be 1-3 characters (or digits) in length\r\n\r\n**monthvalue** = is single alpha character [a-z]\r\n\r\n**yearvalue** = can be 1, 2, or 4 digits representing calender year\r\n\r\n\r\nSome Example Inputs:\r\n\r\n**Input1**\r\n\r\n`AP18`\r\n\r\n**Output1**\r\n\r\n`P`\r\n\r\n**Input2**\r\n\r\n`QZAB19`\r\n\r\n**Output2**\r\n\r\n`B`\r\n\r\n**Input3**\r\n\r\n`ARM8`\r\n\r\n**Output3**\r\n\r\n`M`\r\n\r\nI was trying to **compile** a **pattern** like:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;([a-zA-Z0-9]{1,3})([a-z])([0-9]{1,4})&quot;);\r\n\r\nand then call **matcher** on the input to **find()** the groups, in this case, the **monthvalue**, which should be **matcher.group(2)** like:\r\n\r\n    Matcher m = pattern.matcher(&quot;OneOfTheExampleInputStringsFromAbove&quot;); \r\n \r\n        if (matcher.find()) {\r\n        System.out.println(matcher.group(2));\r\n    }\r\n\r\nI thought I was close but one issue was how to include a length of 1, 2 and 4, but exclude 3 length for the **yearvalue**. Is my approach good? Am I missing anything in my Compile pattern?\r\n\r\nplease let me know!","title":"Java regex parsing out middle value of String","body":"<p>I have some data that comes in as a String, and I need to extract or print out the <strong>monthvalue</strong> ( middle group) that is in the form:</p>\n\n<p><strong>[itemvalue] [monthvalue] [yearvalue]</strong></p>\n\n<p><em>The rules are:</em></p>\n\n<p><strong>itemvalue</strong> = can be 1-3 characters (or digits) in length</p>\n\n<p><strong>monthvalue</strong> = is single alpha character [a-z]</p>\n\n<p><strong>yearvalue</strong> = can be 1, 2, or 4 digits representing calender year</p>\n\n<p>Some Example Inputs:</p>\n\n<p><strong>Input1</strong></p>\n\n<p><code>AP18</code></p>\n\n<p><strong>Output1</strong></p>\n\n<p><code>P</code></p>\n\n<p><strong>Input2</strong></p>\n\n<p><code>QZAB19</code></p>\n\n<p><strong>Output2</strong></p>\n\n<p><code>B</code></p>\n\n<p><strong>Input3</strong></p>\n\n<p><code>ARM8</code></p>\n\n<p><strong>Output3</strong></p>\n\n<p><code>M</code></p>\n\n<p>I was trying to <strong>compile</strong> a <strong>pattern</strong> like:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"([a-zA-Z0-9]{1,3})([a-z])([0-9]{1,4})\");\n</code></pre>\n\n<p>and then call <strong>matcher</strong> on the input to <strong>find()</strong> the groups, in this case, the <strong>monthvalue</strong>, which should be <strong>matcher.group(2)</strong> like:</p>\n\n<pre><code>Matcher m = pattern.matcher(\"OneOfTheExampleInputStringsFromAbove\"); \n\n    if (matcher.find()) {\n    System.out.println(matcher.group(2));\n}\n</code></pre>\n\n<p>I thought I was close but one issue was how to include a length of 1, 2 and 4, but exclude 3 length for the <strong>yearvalue</strong>. Is my approach good? Am I missing anything in my Compile pattern?</p>\n\n<p>please let me know!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":2,"creation_date":1591199330,"post_id":62177004,"comment_id":109966811,"body_markdown":"Is it the same problem https://stackoverflow.com/questions/9687596/slow-regex-performance ?","body":"Is it the same problem <a href=\"https://stackoverflow.com/questions/9687596/slow-regex-performance\" title=\"slow regex performance\">stackoverflow.com/questions/9687596/slow-regex-performance</a> ?"},{"owner":{"account_id":13010042,"reputation":759,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"score":0,"creation_date":1591199816,"post_id":62177004,"comment_id":109967123,"body_markdown":"@BenjaminEckardt But why this is for just a one website? Currently the issue is with this website.","body":"@BenjaminEckardt But why this is for just a one website? Currently the issue is with this website."},{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":1,"creation_date":1591200143,"post_id":62177004,"comment_id":109967307,"body_markdown":"It&#39;s quite some content you have there. Maybe you can reduce `pageBody`, and split it in order to find out if that gives you a clue about any extraordinary parts in the content.","body":"It&#39;s quite some content you have there. Maybe you can reduce <code>pageBody</code>, and split it in order to find out if that gives you a clue about any extraordinary parts in the content."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1591200261,"post_id":62177004,"comment_id":109967382,"body_markdown":"`pageBody` is more than 245000 characters, and with the double match-many (`([\\\\.\\\\w])+[\\\\w]+`) there is a lot of backtracking going on. Removing that last `+` might help, e.g. use `&quot;[\\\\w\\\\-][\\\\.\\\\w]+\\\\w@[\\\\w\\\\-\\\\.]+?\\\\.[A-Za-z]{2,4}&quot;`","body":"<code>pageBody</code> is more than 245000 characters, and with the double match-many (<code>([\\\\.\\\\w])+[\\\\w]+</code>) there is a lot of backtracking going on. Removing that last <code>+</code> might help, e.g. use <code>&quot;[\\\\w\\\\-][\\\\.\\\\w]+\\\\w@[\\\\w\\\\-\\\\.]+?\\\\.[A-Za-z]{2,4}&quot;</code>"},{"owner":{"account_id":5399016,"reputation":5264,"user_id":4299358,"display_name":"AmigoJack"},"score":1,"creation_date":1591200815,"post_id":62177004,"comment_id":109967675,"body_markdown":"This is also a regexp which by far won&#39;t find all valid e-mail addresses (i.e. a trailing `-` in the account is allowed). Seeing `\\\\w` put into `[]` and escaping `.` in `[]` indicates you don&#39;t understand regexp.","body":"This is also a regexp which by far won&#39;t find all valid e-mail addresses (i.e. a trailing <code>-</code> in the account is allowed). Seeing <code>\\\\w</code> put into <code>[]</code> and escaping <code>.</code> in <code>[]</code> indicates you don&#39;t understand regexp."},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1591201223,"post_id":62177004,"comment_id":109967930,"body_markdown":"You might be ReDoS-ing yourself here. I&#39;d recommend using `[^\\s@]+@[^\\s@]+` first which should perform better, then possibly filter out the false positives with a more precise regex. Matching email addresses with a regex is a tough job anyway. For instance, the regex you&#39;re using won&#39;t match valid addresses like `foo+bar@example.org`.","body":"You might be ReDoS-ing yourself here. I&#39;d recommend using <code>[^\\s@]+@[^\\s@]+</code> first which should perform better, then possibly filter out the false positives with a more precise regex. Matching email addresses with a regex is a tough job anyway. For instance, the regex you&#39;re using won&#39;t match valid addresses like <code>foo+bar@example.org</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591200688,"creation_date":1591200688,"answer_id":62177525,"question_id":62177004,"body_markdown":"There is some problem with your regex. Given below is the code with the working regex:\r\n\r\n    import java.io.IOException;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDocument documentTwo = null;\r\n    \t\ttry {\r\n    \t\t\tdocumentTwo = Jsoup\r\n    \t\t\t\t\t.connect(\r\n    \t\t\t\t\t\t\t&quot;https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/&quot;)\r\n    \t\t\t\t\t.header(&quot;Content-Language&quot;, &quot;en-US&quot;).get();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tString pageBody = documentTwo.toString();\r\n    \t\tPattern pattern = Pattern.compile(\r\n    \t\t\t\t&quot;([a-zA-Z0-9\\\\+\\\\.\\\\_\\\\%\\\\-\\\\+]{1,256}\\\\@[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,64}(\\\\.[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,25})+)&quot;);\r\n    \t\tMatcher matcher = pattern.matcher(pageBody);\r\n    \t\twhile (matcher.find()) {\r\n    \t\t\tSystem.out.println(matcher.group());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    lkrieger@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n\r\n","title":"Why matcher.find() is not giving any result? Why it freezes?","body":"<p>There is some problem with your regex. Given below is the code with the working regex:</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\npublic class Main {\n    public static void main(String[] args) {\n        Document documentTwo = null;\n        try {\n            documentTwo = Jsoup\n                    .connect(\n                            \"https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/\")\n                    .header(\"Content-Language\", \"en-US\").get();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        String pageBody = documentTwo.toString();\n        Pattern pattern = Pattern.compile(\n                \"([a-zA-Z0-9\\\\+\\\\.\\\\_\\\\%\\\\-\\\\+]{1,256}\\\\@[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,64}(\\\\.[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,25})+)\");\n        Matcher matcher = pattern.matcher(pageBody);\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>lkrieger@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\n</code></pre>\n"}],"owner":{"account_id":13010042,"reputation":759,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62177525,"answer_count":1,"score":1,"last_activity_date":1693141271,"creation_date":1591199052,"question_id":62177004,"body_markdown":"I am creating an email scraper. But when I tried with one particular URL `matcher.find()` is not giving any `boolean` result. As I see it freezes. But for some other URLs the code is working fine.\r\n\r\nHere is my code,\r\n\r\n    private Matcher matcher;\r\n    private Pattern pattern = null;\r\n    private final String emailPattern = &quot;([\\\\w\\\\-]([\\\\.\\\\w])+[\\\\w]+@([\\\\w\\\\-]+\\\\.)+[A-Za-z]{2,4})&quot;;\r\n    \r\n    public void scrape() {\r\n       pattern = Pattern.compile(emailPattern);\r\n    \r\n       Document documentTwo = null;\r\n    \r\n       try {\r\n          documentTwo = Jsoup.connect(&quot;https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/&quot;)\r\n                  .ignoreHttpErrors(true)\r\n                  .userAgent(RandomUserAgent.getRandomUserAgent())\r\n                  .header(&quot;Content-Language&quot;, &quot;en-US&quot;)\r\n                  .get();\r\n       } catch (IOException ex) {\r\n         break;\r\n       }\r\n    \r\n       String pageBody = documentTwo.toString();\r\n    \r\n       matcher = pattern.matcher(pageBody);\r\n    \r\n       while (matcher.find()) {\r\n          // this will never execute for the above web address\r\n       }\r\n    }\r\n\r\nTo check I have added `System.out.println(matcher.find());` above the while loop and it stucks there without printing any value. So what I am doing wrong here? I have tried with many different email regex patterns but the above pattern is the working one.\r\n","title":"Why matcher.find() is not giving any result? Why it freezes?","body":"<p>I am creating an email scraper. But when I tried with one particular URL <code>matcher.find()</code> is not giving any <code>boolean</code> result. As I see it freezes. But for some other URLs the code is working fine.</p>\n<p>Here is my code,</p>\n<pre><code>private Matcher matcher;\nprivate Pattern pattern = null;\nprivate final String emailPattern = &quot;([\\\\w\\\\-]([\\\\.\\\\w])+[\\\\w]+@([\\\\w\\\\-]+\\\\.)+[A-Za-z]{2,4})&quot;;\n\npublic void scrape() {\n   pattern = Pattern.compile(emailPattern);\n\n   Document documentTwo = null;\n\n   try {\n      documentTwo = Jsoup.connect(&quot;https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/&quot;)\n              .ignoreHttpErrors(true)\n              .userAgent(RandomUserAgent.getRandomUserAgent())\n              .header(&quot;Content-Language&quot;, &quot;en-US&quot;)\n              .get();\n   } catch (IOException ex) {\n     break;\n   }\n\n   String pageBody = documentTwo.toString();\n\n   matcher = pattern.matcher(pageBody);\n\n   while (matcher.find()) {\n      // this will never execute for the above web address\n   }\n}\n</code></pre>\n<p>To check I have added <code>System.out.println(matcher.find());</code> above the while loop and it stucks there without printing any value. So what I am doing wrong here? I have tried with many different email regex patterns but the above pattern is the working one.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669582688,"creation_date":1586193134,"answer_id":61065196,"question_id":61064851,"body_markdown":"Do it as follows:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Tests\r\n    \t\tString[] sqls = { \r\n    \t\t\t\t&quot;SELECT * FROM users WHERE username=?;&quot;, \r\n    \t\t\t\t&quot;SELECT * FROM Users WHERE username=?;&quot;,\r\n    \t\t\t\t&quot;SELECT * FROM `users` WHERE username=?;&quot;, \r\n    \t\t\t\t&quot;SELECT * FROM `Users` WHERE username=?;&quot; \r\n    \t\t\t\t};\r\n    \t\tfor (String sql : sqls) {\r\n    \t\t\tSystem.out.println(sql.replace(&quot;`&quot;, &quot;&quot;).replaceAll(&quot;(\\\\b[A-Z][a-z]+)|(\\\\b([a-z]+)\\\\b)&quot;, &quot;`$0`&quot;));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    SELECT * FROM `users` WHERE `username`=?;\r\n    SELECT * FROM `Users` WHERE `username`=?;\r\n    SELECT * FROM `users` WHERE `username`=?;\r\n    SELECT * FROM `Users` WHERE `username`=?;\r\n\r\n**Explanation:**\r\n\r\n 1. *sql.replace(&quot;`&quot;, &quot;&quot;)* removes all backticks (by replacing them with an empty string) if they are already present to avoid duplicating them.\r\n 2. `\\b` is used for word boundary.\r\n 3. `[a-z]+` is for only lowercase characters.\r\n 4. `[A-Z][a-z]+` is for a capital letter followed by lowercase letters.\r\n 5.  `|` is used as an `or`.\r\n 6. `$0` is used for the whole match argument.\r\n","title":"Java regex doesn&#39;t match","body":"<p>Do it as follows:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // Tests\n        String[] sqls = { \n                &quot;SELECT * FROM users WHERE username=?;&quot;, \n                &quot;SELECT * FROM Users WHERE username=?;&quot;,\n                &quot;SELECT * FROM `users` WHERE username=?;&quot;, \n                &quot;SELECT * FROM `Users` WHERE username=?;&quot; \n                };\n        for (String sql : sqls) {\n            System.out.println(sql.replace(&quot;`&quot;, &quot;&quot;).replaceAll(&quot;(\\\\b[A-Z][a-z]+)|(\\\\b([a-z]+)\\\\b)&quot;, &quot;`$0`&quot;));\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>SELECT * FROM `users` WHERE `username`=?;\nSELECT * FROM `Users` WHERE `username`=?;\nSELECT * FROM `users` WHERE `username`=?;\nSELECT * FROM `Users` WHERE `username`=?;\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<ol>\n<li><em>sql.replace(&quot;`&quot;, &quot;&quot;)</em> removes all backticks (by replacing them with an empty string) if they are already present to avoid duplicating them.</li>\n<li><code>\\b</code> is used for word boundary.</li>\n<li><code>[a-z]+</code> is for only lowercase characters.</li>\n<li><code>[A-Z][a-z]+</code> is for a capital letter followed by lowercase letters.</li>\n<li><code>|</code> is used as an <code>or</code>.</li>\n<li><code>$0</code> is used for the whole match argument.</li>\n</ol>\n"}],"owner":{"display_name":"user13240224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61065196,"answer_count":1,"score":1,"last_activity_date":1693141233,"creation_date":1586191835,"question_id":61064851,"body_markdown":"I have this regex:\r\n```\r\n#(?&lt;=[^\\w`&quot;\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`&quot;(\\]]|$)#Di\r\n```\r\nand I&#39;m trying to make SQL syntax pretty. For example from &quot;SELECT * FROM users WHERE username=?;&quot; to\r\n```\r\nSELECT * FROM `users` WHERE `username`=?;\r\n```\r\n\r\nThis regex matching all words, which doesn&#39;t contain backticks. And in the match group I&#39;m checking if is matched word uppercase. If is it true, then this word is skipped. And other words are added to the backticks. My problem is, that regex doesn&#39;t match nothing. I have similar code in the PHP, and it works there.\r\n\r\n```\r\nfunction tryDelimite(string $s): string {\r\n\treturn preg_replace_callback(&#39;#(?&lt;=[^\\w`&quot;\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`&quot;(\\]]|$)#Di&#39;, function (array $m): string {\r\n\t\treturn strtoupper($m[0]) === $m[0] ? $m[0] : delimite($m[0]);\r\n\t}, $s);\r\n}\r\n\r\nfunction delimite(string $name): string\t{\r\n\treturn &#39;`&#39; . str_replace(&#39;`&#39;, &#39;``&#39;, $name) . &#39;`&#39;;\r\n}\r\n\r\necho tryDelimite(&quot;SELECT * FROM users WHERE username=?;&quot;);\r\n```\r\n\r\nDoes anyone have an idea, please?","title":"Java regex doesn&#39;t match","body":"<p>I have this regex:</p>\n\n<pre><code>#(?&lt;=[^\\w`\"\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`\"(\\]]|$)#Di\n</code></pre>\n\n<p>and I'm trying to make SQL syntax pretty. For example from \"SELECT * FROM users WHERE username=?;\" to</p>\n\n<pre><code>SELECT * FROM `users` WHERE `username`=?;\n</code></pre>\n\n<p>This regex matching all words, which doesn't contain backticks. And in the match group I'm checking if is matched word uppercase. If is it true, then this word is skipped. And other words are added to the backticks. My problem is, that regex doesn't match nothing. I have similar code in the PHP, and it works there.</p>\n\n<pre><code>function tryDelimite(string $s): string {\n    return preg_replace_callback('#(?&lt;=[^\\w`\"\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`\"(\\]]|$)#Di', function (array $m): string {\n        return strtoupper($m[0]) === $m[0] ? $m[0] : delimite($m[0]);\n    }, $s);\n}\n\nfunction delimite(string $name): string {\n    return '`' . str_replace('`', '``', $name) . '`';\n}\n\necho tryDelimite(\"SELECT * FROM users WHERE username=?;\");\n</code></pre>\n\n<p>Does anyone have an idea, please?</p>\n"},{"tags":["java","regex","string","arraylist"],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584411084,"creation_date":1584411084,"answer_id":60715377,"question_id":60715341,"body_markdown":"You can use regular expression for that:\r\n\r\n    patterntoSearch.stream()\r\n        .anyMatch(s -&gt; text.matches(&quot;.*&quot; + s + &quot;.*&quot;));\r\n\r\nThis returns `boolean` indicating whether any element in `patterntoSearch` is contained in `text`.\r\n\r\n    patterntoSearch.stream()\r\n        .filter(s -&gt; text.matches(&quot;.*&quot; + s + &quot;.*&quot;))\r\n        .collect(Collectors.toList());\r\n\r\nThis will return a list of words in `patterntoSearch`, that are contained in `text`. If you want only one, then:\r\n\r\n    patterntoSearch.stream()\r\n        .filter(s -&gt; text.matches(&quot;.*&quot; + s + &quot;.*&quot;))\r\n        .findAny()\r\n        .orElse(null);\r\n\r\nI have passed `null` as default, but you can provide any `String`.","title":"How to loop through a string then find if a part of that string is in an arrayList","body":"<p>You can use regular expression for that:</p>\n\n<pre><code>patterntoSearch.stream()\n    .anyMatch(s -&gt; text.matches(\".*\" + s + \".*\"));\n</code></pre>\n\n<p>This returns <code>boolean</code> indicating whether any element in <code>patterntoSearch</code> is contained in <code>text</code>.</p>\n\n<pre><code>patterntoSearch.stream()\n    .filter(s -&gt; text.matches(\".*\" + s + \".*\"))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>This will return a list of words in <code>patterntoSearch</code>, that are contained in <code>text</code>. If you want only one, then:</p>\n\n<pre><code>patterntoSearch.stream()\n    .filter(s -&gt; text.matches(\".*\" + s + \".*\"))\n    .findAny()\n    .orElse(null);\n</code></pre>\n\n<p>I have passed <code>null</code> as default, but you can provide any <code>String</code>.</p>\n"}],"owner":{"account_id":17980660,"reputation":35,"user_id":13067090,"display_name":"kyrie3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60715377,"answer_count":1,"score":1,"last_activity_date":1693141103,"creation_date":1584410710,"question_id":60715341,"body_markdown":"What I am trying to do is to find loop through a string then match them with an arrayList.\r\n\r\nSay, I got this code working:\r\n\r\n    import java.io.*;\r\n    import java.text.ParseException;\r\n    import java.util.*;\r\n    \r\n    public class Test_Mark4 {\r\n    \tpublic static ArrayList&lt;String&gt; patterntoSearch;\r\n    \tpublic static void main(String[] args) throws IOException, ParseException {\r\n        \tString text = &quot;Lebron James&quot;;\r\n        \tpatterntoSearch = new ArrayList();\r\n        \tpatterntoSearch.add(&quot;Lebron James&quot;);\r\n        \tpatterntoSearch.add(&quot;Michael Jordan&quot;);\r\n        \tpatterntoSearch.add(&quot;Kobe Bryant&quot;);\r\n        \tSystem.out.println(patterntoSearch);\r\n        \tSystem.out.println(text);\r\n        \tboolean valueContained = patterntoSearch.contains(text);\r\n        \tSystem.out.println(valueContained);\r\n        }\r\n    }\r\n\r\n\r\nHowever, what if I replace `String text = &quot;Lebron James&quot;;` with `String text = &quot;Lebron James 2017-218 NBA Hoops Card&quot;;`? Clearly there is the string `Lebron James` in that string, but it got mixed with other words as well (which I would not care, and only care about the string `Lebron James`. I have thought about a `for` loop but unsure how to construct it.","title":"How to loop through a string then find if a part of that string is in an arrayList","body":"<p>What I am trying to do is to find loop through a string then match them with an arrayList.</p>\n\n<p>Say, I got this code working:</p>\n\n<pre><code>import java.io.*;\nimport java.text.ParseException;\nimport java.util.*;\n\npublic class Test_Mark4 {\n    public static ArrayList&lt;String&gt; patterntoSearch;\n    public static void main(String[] args) throws IOException, ParseException {\n        String text = \"Lebron James\";\n        patterntoSearch = new ArrayList();\n        patterntoSearch.add(\"Lebron James\");\n        patterntoSearch.add(\"Michael Jordan\");\n        patterntoSearch.add(\"Kobe Bryant\");\n        System.out.println(patterntoSearch);\n        System.out.println(text);\n        boolean valueContained = patterntoSearch.contains(text);\n        System.out.println(valueContained);\n    }\n}\n</code></pre>\n\n<p>However, what if I replace <code>String text = \"Lebron James\";</code> with <code>String text = \"Lebron James 2017-218 NBA Hoops Card\";</code>? Clearly there is the string <code>Lebron James</code> in that string, but it got mixed with other words as well (which I would not care, and only care about the string <code>Lebron James</code>. I have thought about a <code>for</code> loop but unsure how to construct it.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":2,"creation_date":1583951981,"post_id":60642539,"comment_id":107288800,"body_markdown":"Can you also show where/how you are assigning the issueBody string? Maybe something is wrong with that.","body":"Can you also show where/how you are assigning the issueBody string? Maybe something is wrong with that."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1583952964,"post_id":60642539,"comment_id":107289262,"body_markdown":"My first guess is that issueBody was created from a byte stream using the wrong charset.","body":"My first guess is that issueBody was created from a byte stream using the wrong charset."},{"owner":{"account_id":6710657,"reputation":333,"user_id":8890035,"display_name":"midhun mathew"},"score":0,"creation_date":1583953053,"post_id":60642539,"comment_id":107289294,"body_markdown":"What is the value of currentCodeLinePattern","body":"What is the value of currentCodeLinePattern"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1583953089,"post_id":60642539,"comment_id":107289311,"body_markdown":"*&quot;Why?&quot;* Because `issueBody` is **not** the same value as that string literal, regardless of your unproven claim that it is. To verify that, print the bytes of both: `System.out.println(Arrays.toString(issueBody.getBytes(StandardCharsets.UTF_8)));` and the same for the string literal, then compare the two.","body":"<i>&quot;Why?&quot;</i> Because <code>issueBody</code> is <b>not</b> the same value as that string literal, regardless of your unproven claim that it is. To verify that, print the bytes of both: <code>System.out.println(Arrays.toString(issueBody.getBytes(Standa&zwnj;&#8203;rdCharsets.UTF_8)));</code> and the same for the string literal, then compare the two."},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":0,"creation_date":1583953726,"post_id":60642539,"comment_id":107289606,"body_markdown":"I added the whole function. **issueBody** is nothing but a string which related to an issue object...","body":"I added the whole function. <b>issueBody</b> is nothing but a string which related to an issue object..."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1583958779,"post_id":60642539,"comment_id":107291645,"body_markdown":"Try ``String codeSnippetForCodeLinePattern = &quot;(?d)\\\\(Line #%s\\\\).*\\\\W`{3}\\\\W+(.*)(?=\\\\W+`{3})&quot;;``","body":"Try <code>String codeSnippetForCodeLinePattern = &quot;(?d)\\\\(Line #%s\\\\).*\\\\W`{3}\\\\W+(.*)(?=\\\\W+`{3})&quot;;</code>"},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":0,"creation_date":1583959291,"post_id":60642539,"comment_id":107291872,"body_markdown":"@WiktorStribiżew - it doesn&#39;t work.. the initial &#39;(?d)&#39; marked as incomplete group structure","body":"@WiktorStribiżew - it doesn&#39;t work.. the initial &#39;(?d)&#39; marked as incomplete group structure"},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":1,"creation_date":1583959328,"post_id":60642539,"comment_id":107291890,"body_markdown":"@Andreas - you are right. they are not the same. why is that and what needs to be done?","body":"@Andreas - you are right. they are not the same. why is that and what needs to be done?"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1583959438,"post_id":60642539,"comment_id":107291939,"body_markdown":"Hm, and `Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);`? Note `Pattern.MULTILINE` is not necessary as your pattern has neither `^` nor `$`.","body":"Hm, and <code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);</code>? Note <code>Pattern.MULTILINE</code> is not necessary as your pattern has neither <code>^</code> nor <code>$</code>."},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":1,"creation_date":1583960317,"post_id":60642539,"comment_id":107292289,"body_markdown":"@WiktorStribiżew - it worked! I guess I never would have though the `Pattern.MULTILINE` is the problem... thanks!","body":"@WiktorStribiżew - it worked! I guess I never would have though the <code>Pattern.MULTILINE</code> is the problem... thanks!"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1638127041,"post_id":60642539,"comment_id":123999069,"body_markdown":"If my answer did not solve your problem please consider updating the question.","body":"If my answer did not solve your problem please consider updating the question."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1591299142,"creation_date":1583965019,"answer_id":60645130,"question_id":60642539,"body_markdown":"*TL;DR:*\r\n\r\n**By using `Pattern.UNIX_LINES`, you tell Java regex engine to match with `.` any char but a newline, LF.** Use\r\n\r\n    Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);\r\n\r\n\r\nIn your hard-coded string, you have only newlines, LF endings, while your `issueBody` most likely contains `\\r\\n`, CRLF endings. Your pattern only matches a single non-word char with `\\W` (see ``\\\\W\\\\`{3}`` pattern part), but CRLF consists of two non-word chars. By default, `.` does not match line break chars, so it does not match neither `\\r`, CR, nor `\\n`, LF. The ``\\(Line #%s\\).*\\W\\`{3}`` fails right because of this:\r\n \r\n - `\\(Line #%s\\)` - matches `(Line #&lt;NUMBER&gt;)`\r\n - `.*` - matches 0 or more chars other than any line break char (up to CR or CRLF)\r\n - `\\W` - matches a char other than a letter/digit/`_` (so, only `\\r` or `\\n`)\r\n - ``\\`{3}`` - 3 backticks - these are only matched if there was a `\\n` ending, not `\\r\\n` (CRLF).\r\n\r\nAgain, by using [`Pattern.UNIX_LINES`][1], you tell Java regex engine to match with `.` any char but a newline, LF.\r\n\r\n    \r\nBTW, `Pattern.MULTILINE` only makes `^` match at the start of each line, and `$` to match at the end of each line, and since there are neither `^`, nor `$` in your pattern, you may safely discard this option.\r\n\r\n  [1]: https://stackoverflow.com/questions/16064527/pattern-unix-lines-in-regex-with-java","title":"Why matcher.find() for input parameter always return &#39;false&#39;?","body":"<p><em>TL;DR:</em></p>\n\n<p><strong>By using <code>Pattern.UNIX_LINES</code>, you tell Java regex engine to match with <code>.</code> any char but a newline, LF.</strong> Use</p>\n\n<pre><code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);\n</code></pre>\n\n<p>In your hard-coded string, you have only newlines, LF endings, while your <code>issueBody</code> most likely contains <code>\\r\\n</code>, CRLF endings. Your pattern only matches a single non-word char with <code>\\W</code> (see <code>\\\\W\\\\`{3}</code> pattern part), but CRLF consists of two non-word chars. By default, <code>.</code> does not match line break chars, so it does not match neither <code>\\r</code>, CR, nor <code>\\n</code>, LF. The <code>\\(Line #%s\\).*\\W\\`{3}</code> fails right because of this:</p>\n\n<ul>\n<li><code>\\(Line #%s\\)</code> - matches <code>(Line #&lt;NUMBER&gt;)</code></li>\n<li><code>.*</code> - matches 0 or more chars other than any line break char (up to CR or CRLF)</li>\n<li><code>\\W</code> - matches a char other than a letter/digit/<code>_</code> (so, only <code>\\r</code> or <code>\\n</code>)</li>\n<li><code>\\`{3}</code> - 3 backticks - these are only matched if there was a <code>\\n</code> ending, not <code>\\r\\n</code> (CRLF).</li>\n</ul>\n\n<p>Again, by using <a href=\"https://stackoverflow.com/questions/16064527/pattern-unix-lines-in-regex-with-java\"><code>Pattern.UNIX_LINES</code></a>, you tell Java regex engine to match with <code>.</code> any char but a newline, LF.</p>\n\n<p>BTW, <code>Pattern.MULTILINE</code> only makes <code>^</code> match at the start of each line, and <code>$</code> to match at the end of each line, and since there are neither <code>^</code>, nor <code>$</code> in your pattern, you may safely discard this option.</p>\n"}],"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1693141025,"creation_date":1583951861,"question_id":60642539,"body_markdown":"I have a strange situation which I find difficult to understand regarding regex matcher.\r\n\r\nWhen I pass the next input parameter *issueBody* to the matcher, the matcher.find() always return false, while passing a hard-coded String with the same value as the *issueBody* - it works as expected.\r\n\r\n**The regex function**:\r\n\r\n    private Map&lt;String, String&gt; extractCodeSnippet(Set&lt;String&gt; resolvedIssueCodeLines, String issueBody) {\r\n            String codeSnippetForCodeLinePattern = &quot;\\\\(Line #%s\\\\).*\\\\W\\\\`{3}\\\\W+(.*)(?=\\\\W+\\\\`{3})&quot;;\r\n            Map&lt;String, String&gt; resolvedIssuesMap = new HashMap&lt;&gt;();\r\n    \r\n            for (String currentResolvedIssue : resolvedIssueCodeLines) {\r\n                String currentCodeLinePattern = String.format(codeSnippetForCodeLinePattern, currentResolvedIssue);\r\n    \r\n                Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\r\n                Matcher matcher = pattern.matcher(issueBody);\r\n    \r\n                while (matcher.find()) {\r\n                    resolvedIssuesMap.put(currentResolvedIssue, matcher.group());\r\n                }\r\n            }\r\n            return resolvedIssuesMap;\r\n        }\r\n\r\n\r\n## The following always return false ##\r\n\r\n    Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\r\n    Matcher matcher = pattern.matcher(issueBody);\r\n\r\n## While the following always return true##\r\n\r\n    Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\r\n    Matcher matcher = pattern.matcher(&quot;**SQL_Injection** issue exists @ **VB_3845_112_lines/encode.frm** in branch **master**\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Severity: High\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;CWE:89\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;[Vulnerability details and guidance](https://cwe.mitre.org/data/definitions/89.html)\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;[Internal Guidance](https://checkmarx.atlassian.net/wiki/spaces/AS/pages/79462432/Remediation+Guidance)\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;[ppttx](http://WIN2K12-TEMP/bbcl/ViewerMain.aspx?planid=1010013&amp;projectid=10005&amp;pathid=1)\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Lines: 41 42 \\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;---\\n&quot; +\r\n                            &quot;[Code (Line #41):](null#L41)\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;    user_name = txtUserName.Text\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;---\\n&quot; +\r\n                            &quot;[Code (Line #42):](null#L42)\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;    password = txtPassword.Text\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;---\\n&quot;);\r\n\r\nMy question is - why? what is the difference between the two statements?\r\n","title":"Why matcher.find() for input parameter always return &#39;false&#39;?","body":"<p>I have a strange situation which I find difficult to understand regarding regex matcher.</p>\n\n<p>When I pass the next input parameter <em>issueBody</em> to the matcher, the matcher.find() always return false, while passing a hard-coded String with the same value as the <em>issueBody</em> - it works as expected.</p>\n\n<p><strong>The regex function</strong>:</p>\n\n<pre><code>private Map&lt;String, String&gt; extractCodeSnippet(Set&lt;String&gt; resolvedIssueCodeLines, String issueBody) {\n        String codeSnippetForCodeLinePattern = \"\\\\(Line #%s\\\\).*\\\\W\\\\`{3}\\\\W+(.*)(?=\\\\W+\\\\`{3})\";\n        Map&lt;String, String&gt; resolvedIssuesMap = new HashMap&lt;&gt;();\n\n        for (String currentResolvedIssue : resolvedIssueCodeLines) {\n            String currentCodeLinePattern = String.format(codeSnippetForCodeLinePattern, currentResolvedIssue);\n\n            Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\n            Matcher matcher = pattern.matcher(issueBody);\n\n            while (matcher.find()) {\n                resolvedIssuesMap.put(currentResolvedIssue, matcher.group());\n            }\n        }\n        return resolvedIssuesMap;\n    }\n</code></pre>\n\n<h2>The following always return false</h2>\n\n<pre><code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(issueBody);\n</code></pre>\n\n<h2>While the following always return true</h2>\n\n<pre><code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(\"**SQL_Injection** issue exists @ **VB_3845_112_lines/encode.frm** in branch **master**\\n\" +\n                        \"\\n\" +\n                        \"Severity: High\\n\" +\n                        \"\\n\" +\n                        \"CWE:89\\n\" +\n                        \"\\n\" +\n                        \"[Vulnerability details and guidance](https://cwe.mitre.org/data/definitions/89.html)\\n\" +\n                        \"\\n\" +\n                        \"[Internal Guidance](https://checkmarx.atlassian.net/wiki/spaces/AS/pages/79462432/Remediation+Guidance)\\n\" +\n                        \"\\n\" +\n                        \"[ppttx](http://WIN2K12-TEMP/bbcl/ViewerMain.aspx?planid=1010013&amp;projectid=10005&amp;pathid=1)\\n\" +\n                        \"\\n\" +\n                        \"Lines: 41 42 \\n\" +\n                        \"\\n\" +\n                        \"---\\n\" +\n                        \"[Code (Line #41):](null#L41)\\n\" +\n                        \"```\\n\" +\n                        \"    user_name = txtUserName.Text\\n\" +\n                        \"```\\n\" +\n                        \"---\\n\" +\n                        \"[Code (Line #42):](null#L42)\\n\" +\n                        \"```\\n\" +\n                        \"    password = txtPassword.Text\\n\" +\n                        \"```\\n\" +\n                        \"---\\n\");\n</code></pre>\n\n<p>My question is - why? what is the difference between the two statements?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":213468,"reputation":103492,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1581792852,"post_id":60242069,"comment_id":106557279,"body_markdown":"Parentheses are for capturing, do you want to capture: then you need them, if you don&#39;t, then you don&#39;t need them.","body":"Parentheses are for capturing, do you want to capture: then you need them, if you don&#39;t, then you don&#39;t need them."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1581792917,"post_id":60242069,"comment_id":106557298,"body_markdown":"@MarkRotteveel Not necessarily, parentheses are generally also used for grouping things together. However, if you don&#39;t want to capture then you&#39;d use `(?:pattern)` instead.","body":"@MarkRotteveel Not necessarily, parentheses are generally also used for grouping things together. However, if you don&#39;t want to capture then you&#39;d use <code>(?:pattern)</code> instead."},{"owner":{"account_id":213468,"reputation":103492,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1581793066,"post_id":60242069,"comment_id":106557339,"body_markdown":"@MaartenBodewes True, I considered adding that to my comment, but in the examples shown, that wasn&#39;t relevant. Although, it could be relevant in the last one.","body":"@MaartenBodewes True, I considered adding that to my comment, but in the examples shown, that wasn&#39;t relevant. Although, it could be relevant in the last one."},{"owner":{"display_name":"user12873296"},"score":0,"creation_date":1581793071,"post_id":60242069,"comment_id":106557341,"body_markdown":"`final static PATTERN = Pattern.compile(String.format(&quot;test command (?&lt;number&gt;%s))&quot;), InOutputStrings.NUMBER_PATTERN));   Matcher matcher = PATTERN.matcher(argument); number = matcher.group(&quot;number&quot;);` - Why do Patterns work without parentheses here?","body":"<code>final static PATTERN = Pattern.compile(String.format(&quot;test command (?&lt;number&gt;%s))&quot;), InOutputStrings.NUMBER_PATTERN));   Matcher matcher = PATTERN.matcher(argument); number = matcher.group(&quot;number&quot;);</code> - Why do Patterns work without parentheses here?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1581796264,"post_id":60242069,"comment_id":106558208,"body_markdown":"@LudwigvonDrake Because you don&#39;t call `matcher.group(1)`, so the capture group defined by the `(...)` is not needed.","body":"@LudwigvonDrake Because you don&#39;t call <code>matcher.group(1)</code>, so the capture group defined by the <code>(...)</code> is not needed."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581797774,"creation_date":1581793395,"answer_id":60242155,"question_id":60242069,"body_markdown":"Yes, a sequence of characters or character classes is the default, and it is of higher precedence than the OR operator `|`. So if you don&#39;t have anything in front or behind your sequence (clearly displayed in your cases of `true|false`) then you don&#39;t need them.\r\n\r\nHowever, if you want to use e.g. `this is true|false` for `&quot;this is true&quot;` or `&quot;this is false&quot;` then the precedence will fail for `&quot;this is false&quot;` and you need to group the `true|false`, for instance using a **non-capturing** group, e.g. `this is (?:true|false)`.\r\n\r\nI don&#39;t see any problems with your expressions where you removed some of the parentheses. However, if you want to check them, then simply put them into an (online) checker that shows the precedence (e.g. [this one](https://regex101.com/)) and check if the resulting &quot;explanation&quot; changes. The various IDE plugings for regexp testing will hopefully also provide a similar *tree view* for you.\r\n\r\nBeware that you are sometimes using boundary matchers (`^` and `$`) and sometimes you are not. I&#39;d expect those to be either used or not used.","title":"Regex are &quot;(&quot; and &quot;)&quot; necessary?","body":"<p>Yes, a sequence of characters or character classes is the default, and it is of higher precedence than the OR operator <code>|</code>. So if you don't have anything in front or behind your sequence (clearly displayed in your cases of <code>true|false</code>) then you don't need them.</p>\n\n<p>However, if you want to use e.g. <code>this is true|false</code> for <code>\"this is true\"</code> or <code>\"this is false\"</code> then the precedence will fail for <code>\"this is false\"</code> and you need to group the <code>true|false</code>, for instance using a <strong>non-capturing</strong> group, e.g. <code>this is (?:true|false)</code>.</p>\n\n<p>I don't see any problems with your expressions where you removed some of the parentheses. However, if you want to check them, then simply put them into an (online) checker that shows the precedence (e.g. <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">this one</a>) and check if the resulting \"explanation\" changes. The various IDE plugings for regexp testing will hopefully also provide a similar <em>tree view</em> for you.</p>\n\n<p>Beware that you are sometimes using boundary matchers (<code>^</code> and <code>$</code>) and sometimes you are not. I'd expect those to be either used or not used.</p>\n"}],"owner":{"display_name":"user12873296"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60242155,"answer_count":1,"score":0,"last_activity_date":1693141011,"creation_date":1581792754,"question_id":60242069,"body_markdown":"Do I only have to use `(`and `)` if the pattern consists of multiple groups?\r\n\r\nSo if the pattern is `true|false` it doesn&#39;t matter if I add parenthesis or not, right? \r\nThen again, if the pattern is `POINT_PATTERN(&quot;\\\\((\\\\d+),(\\\\d+)\\\\)&quot;)` it does make a difference because I want to get two different values from it.\r\n\r\nCan I write my current patterns, which are:\r\n```\r\nNUMBER_PATTERN(&quot;(?!(0[0-9]))[0-9]+&quot;),\r\nBOOLEAN_PATTERN(&quot;(true|false)&quot;),\r\nSTRING_PATTERN(&quot;(\\\\w+)&quot;),\r\nINTEGER_PATTERN(&quot;/^([+-]?[1-9]\\\\d*|0)$/&quot;),\r\n```\r\n\r\nas\r\n\r\n```\r\nNUMBER_PATTERN(&quot;(?!0[0-9])[0-9]+&quot;),\r\nBOOLEAN_PATTERN(&quot;true|false&quot;),\r\nSTRING_PATTERN(&quot;\\\\w+&quot;),\r\nINTEGER_PATTERN(&quot;^[+-]?[1-9]\\\\d*|0$&quot;);\r\n```\r\nwithout any loss?\r\n\r\nI am particularly unsure about `NUMER_PATTERN` and `INTEGER_PATTERN`. Is there any other reason why I shouldn&#39;t do this (bad coding style, ...)?","title":"Regex are &quot;(&quot; and &quot;)&quot; necessary?","body":"<p>Do I only have to use <code>(</code>and <code>)</code> if the pattern consists of multiple groups?</p>\n\n<p>So if the pattern is <code>true|false</code> it doesn't matter if I add parenthesis or not, right? \nThen again, if the pattern is <code>POINT_PATTERN(\"\\\\((\\\\d+),(\\\\d+)\\\\)\")</code> it does make a difference because I want to get two different values from it.</p>\n\n<p>Can I write my current patterns, which are:</p>\n\n<pre><code>NUMBER_PATTERN(\"(?!(0[0-9]))[0-9]+\"),\nBOOLEAN_PATTERN(\"(true|false)\"),\nSTRING_PATTERN(\"(\\\\w+)\"),\nINTEGER_PATTERN(\"/^([+-]?[1-9]\\\\d*|0)$/\"),\n</code></pre>\n\n<p>as</p>\n\n<pre><code>NUMBER_PATTERN(\"(?!0[0-9])[0-9]+\"),\nBOOLEAN_PATTERN(\"true|false\"),\nSTRING_PATTERN(\"\\\\w+\"),\nINTEGER_PATTERN(\"^[+-]?[1-9]\\\\d*|0$\");\n</code></pre>\n\n<p>without any loss?</p>\n\n<p>I am particularly unsure about <code>NUMER_PATTERN</code> and <code>INTEGER_PATTERN</code>. Is there any other reason why I shouldn't do this (bad coding style, ...)?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581294194,"creation_date":1581294194,"answer_id":60142654,"question_id":60142624,"body_markdown":"Why use a regexp for this? String has [lastIndexOf](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-int-) to find the last index of a delimiter (like space), and it looks like you&#39;re not trying to find a &quot;word&quot; but &quot;the substring after the last space&quot; (which are **not** the same thing in many, many languages), so given that, just use:\r\n\r\n    String last = input.substring(input.getLastIndexOf(&#39; &#39;) + 1);\r\n\r\n(optionally as two lines with a check to see if `getLastIndexOf` is a sensible position), and done?","title":"Java Regex Return Last Word","body":"<p>Why use a regexp for this? String has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-int-\" rel=\"nofollow noreferrer\">lastIndexOf</a> to find the last index of a delimiter (like space), and it looks like you're not trying to find a \"word\" but \"the substring after the last space\" (which are <strong>not</strong> the same thing in many, many languages), so given that, just use:</p>\n\n<pre><code>String last = input.substring(input.getLastIndexOf(' ') + 1);\n</code></pre>\n\n<p>(optionally as two lines with a check to see if <code>getLastIndexOf</code> is a sensible position), and done?</p>\n"},{"tags":[],"owner":{"account_id":14737908,"reputation":596,"user_id":10643339,"display_name":"manzk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581327460,"creation_date":1581294612,"answer_id":60142681,"question_id":60142624,"body_markdown":"you can use the following regex instead:\r\n\r\n      String regex = &quot;(.[^\\\\s+].*some*.[^\\\\s]+|.[^\\\\s+].*text*.[^\\\\s]+)&quot;;\r\n\r\nThis will take all the words that start with some or text. For example: someone.","title":"Java Regex Return Last Word","body":"<p>you can use the following regex instead:</p>\n\n<pre><code>  String regex = \"(.[^\\\\s+].*some*.[^\\\\s]+|.[^\\\\s+].*text*.[^\\\\s]+)\";\n</code></pre>\n\n<p>This will take all the words that start with some or text. For example: someone.</p>\n"}],"owner":{"account_id":5176046,"reputation":175,"user_id":4143148,"accept_rate":80,"display_name":"Name Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1693140990,"creation_date":1581293840,"question_id":60142624,"body_markdown":"    String regex = &quot;(some|text|)&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(input);\r\n        while (matcher.find())\r\n        {\r\n            int start = matcher.start();\r\n            int end = matcher.end();\r\n            System.out.print(&quot;Start index: &quot; + start);\r\n            System.out.print(&quot; End index: &quot; + end + &quot; &quot;);\r\n            System.out.println(matcher.group());\r\n        }\r\n\r\nHi I would like to return the the full substring including to the end of the word. For example,\r\n\r\nif the input is:\r\n\r\n    String input = &quot;I am a texte&quot;;\r\n\r\nI would expect it to return 7 11, I would basically would want to return text upto &quot;e&quot; rather than &quot;t&quot;. Is this possible? If so, how can this be implemented?\r\n","title":"Java Regex Return Last Word","body":"<pre><code>String regex = \"(some|text|)\";\n\n    Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(input);\n    while (matcher.find())\n    {\n        int start = matcher.start();\n        int end = matcher.end();\n        System.out.print(\"Start index: \" + start);\n        System.out.print(\" End index: \" + end + \" \");\n        System.out.println(matcher.group());\n    }\n</code></pre>\n\n<p>Hi I would like to return the the full substring including to the end of the word. For example,</p>\n\n<p>if the input is:</p>\n\n<pre><code>String input = \"I am a texte\";\n</code></pre>\n\n<p>I would expect it to return 7 11, I would basically would want to return text upto \"e\" rather than \"t\". Is this possible? If so, how can this be implemented?</p>\n"},{"tags":["java","apache-spark","amazon-s3","spark-structured-streaming"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693140794,"creation_date":1693140794,"answer_id":76987204,"question_id":76976053,"body_markdown":"The Spark documentation explains that only newly noticed files will be processed, and existing ones will be ignored\r\n","title":"File Streaming using Spark","body":"<p>The Spark documentation explains that only newly noticed files will be processed, and existing ones will be ignored</p>\n"}],"owner":{"account_id":12533976,"reputation":15,"user_id":9121198,"display_name":"Ajit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76987204,"answer_count":1,"score":0,"last_activity_date":1693140819,"creation_date":1692956611,"question_id":76976053,"body_markdown":"I am using Spark file streaming from s3. Code is running well but For the first batch all files are being considered valid from directory. Please help i am new for spark.\r\nMy code is Below.\r\n\r\n\r\n    &lt;pre&gt;\r\n     \r\n    Dataset&lt;Row&gt; df = spark.readStream().format(&quot;csv&quot;).schema(getOLRSchema()).load(\r\n\t\t\t\t\t&quot;s3a://filePath/*.csv&quot;);\r\n\t\t\t\r\n    query = df.writeStream().foreachBatch(new VoidFunction2&lt;Dataset&lt;Row&gt;, Long&gt;() {\r\n\t    @Override\r\n\t    public void call(Dataset&lt;Row&gt; ds, Long batchId) throws Exception {\r\n\t\t    long timestamp = System.currentTimeMillis();\t\r\n\t\t    ds.write().parquet(&quot;hdfs://ha-cluster/testStreaming/&quot;);\r\n\t\t    System.out.println(&quot;Time taken to complete: &quot; + \r\n               (System.currentTimeMillis() -    timestamp));\r\n\t    }\r\n    })\r\n    .option(&quot;checkpointLocation&quot;, &quot;hdfs://ha-cluster/mnt/vol2/Ajit/checkpoint&quot;)\r\n    .option(&quot;latestFirst&quot;, &quot;true&quot;)\r\n    .option(&quot;maxFilesPerTrigger&quot;, &quot;32&quot;)\r\n    .trigger(Trigger.ProcessingTime(120000))\r\n    .outputMode(&quot;append&quot;)\r\n    .start();\r\n\r\n    query.awaitTermination();\r\n\r\n    &lt;/pre&gt;\r\n\r\n\r\n\r\n","title":"File Streaming using Spark","body":"<p>I am using Spark file streaming from s3. Code is running well but For the first batch all files are being considered valid from directory. Please help i am new for spark.\nMy code is Below.</p>\n<pre><code>&lt;pre&gt;\n \nDataset&lt;Row&gt; df = spark.readStream().format(&quot;csv&quot;).schema(getOLRSchema()).load(\n                &quot;s3a://filePath/*.csv&quot;);\n        \nquery = df.writeStream().foreachBatch(new VoidFunction2&lt;Dataset&lt;Row&gt;, Long&gt;() {\n    @Override\n    public void call(Dataset&lt;Row&gt; ds, Long batchId) throws Exception {\n        long timestamp = System.currentTimeMillis();    \n        ds.write().parquet(&quot;hdfs://ha-cluster/testStreaming/&quot;);\n        System.out.println(&quot;Time taken to complete: &quot; + \n           (System.currentTimeMillis() -    timestamp));\n    }\n})\n.option(&quot;checkpointLocation&quot;, &quot;hdfs://ha-cluster/mnt/vol2/Ajit/checkpoint&quot;)\n.option(&quot;latestFirst&quot;, &quot;true&quot;)\n.option(&quot;maxFilesPerTrigger&quot;, &quot;32&quot;)\n.trigger(Trigger.ProcessingTime(120000))\n.outputMode(&quot;append&quot;)\n.start();\n\nquery.awaitTermination();\n\n&lt;/pre&gt;\n</code></pre>\n"},{"tags":["java","regex","nullpointerexception"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1580310081,"post_id":59969547,"comment_id":106056373,"body_markdown":"It would have been easier to debug this if you did not swallow your stacktraces, and instead printed them out so you can see what is happening.","body":"It would have been easier to debug this if you did not swallow your stacktraces, and instead printed them out so you can see what is happening."}],"answers":[{"tags":[],"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1580309529,"creation_date":1580309529,"answer_id":59969709,"question_id":59969547,"body_markdown":"Your NPE is from uninitialized List:\r\n\r\n    List&lt;String&gt; result = null;\r\n\r\nChanged to\r\n    \r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    result: 5.18.72\r\n    result: 5.18.71\r\n    result: 5.18.70\r\n    match count:3\r\n    [5.18.72, 5.18.71, 5.18.70]","title":"Java Regex NPE On Matcher.Find()","body":"<p>Your NPE is from uninitialized List:</p>\n\n<pre><code>List&lt;String&gt; result = null;\n</code></pre>\n\n<p>Changed to</p>\n\n<pre><code>List&lt;String&gt; result = new ArrayList&lt;&gt;();\n\nresult: 5.18.72\nresult: 5.18.71\nresult: 5.18.70\nmatch count:3\n[5.18.72, 5.18.71, 5.18.70]\n</code></pre>\n"}],"owner":{"account_id":17645402,"reputation":29,"user_id":12806944,"display_name":"Chris"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1580310038,"accepted_answer_id":59969709,"answer_count":1,"score":1,"last_activity_date":1693140757,"creation_date":1580308949,"question_id":59969547,"body_markdown":"I&#39;m going insane trying to figure out why this doesn&#39;t work. \r\n\r\nI&#39;ve got a changelog file where I want to consume contents, and parse out version numbers. I have an existing regex that works that I&#39;ve used as a baseline for the the new regex to just strip version numbers and can see that it works. However, when I attempt to iterate through the new Matcher results using .find() method to just get the version numbers, I&#39;m getting a Null Pointer Exception and no results are found. \r\n\r\nIs there an issue with the regex, or the way it&#39;s being compiled, or something else? \r\n\r\nFWIW, the regex pattern does exactly what I want when I try it on a few online regex editors (Java based). \r\n\r\n\r\nHere&#39;s what I&#39;m running. \r\n````\r\nimport java.util.*;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class HelloWorld{\r\n\r\n    public static final String changelog=&quot;## Current Version&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;- None&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;## 5.18.72 (2020-01-17)&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;- #### [US12345]&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;## 5.18.71 (2020-01-15)&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;- #### [US123456]&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;## 5.18.70 (2020-01-09)&quot;;\r\n     \r\n    private static final String RAW_CHANGELOG_PATTERN = &quot;(?ms)(##[\\\\w\\\\s\\\\-]*.%s.*\\n\\n.*)(\\n\\n##[\\\\w\\\\s\\\\-]*.%s)&quot;;\r\n    private static final String RAW_CHANGELOG_VERSION_PATTERN=&quot;(?ms)(\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3})&quot;;\r\n     \r\n     public static void main(String []args){\r\n         \r\n        \r\n        System.out.println(extractKnownVersions(changelog));\r\n        \r\n        System.out.println(&quot;Next\\n&quot;);\r\n        \r\n        System.out.println(extractVersions(changelog.toString()));\r\n     }\r\n    \r\n    private static String extractKnownVersions(String changelog){\r\n        String patternString = String.format(RAW_CHANGELOG_PATTERN,&quot;5.18.72&quot;,&quot;5.18.70&quot;);\r\n        Pattern pattern = Pattern.compile(patternString, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(changelog);\r\n        String result = null;\r\n        if (matcher.find()) {\r\n            result = matcher.group();\r\n        } else {\r\n            System.out.println(&quot;No diff found between versions 5.18.72 and 5.18.70 Check that both versions exist in Changelog.&quot;);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static List&lt;String&gt; extractVersions(String changelog) {\r\n        // TODO: Fix the regex so that it actually grabs what we want\r\n        String patternString = RAW_CHANGELOG_VERSION_PATTERN;\r\n        Pattern pattern = Pattern.compile(patternString);\r\n        Matcher matcher = pattern.matcher(changelog);\r\n\r\n        List&lt;String&gt; result = null;\r\n        int count = 0;\r\n        \r\n        try {\r\n            while (matcher.find()) {\r\n                result.add(matcher.group());\r\n                System.out.println(&quot;result: &quot; + result.get(count));\r\n                count++;\r\n            }\r\n        } catch (NullPointerException npe) {\r\n            System.out.println(&quot;NPE: Could not extract versions from Changelog&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception extracting versions from Changelog&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;match count:&quot; + count);\r\n        return result;\r\n    }\r\n}\r\n````\r\n\r\nAnd here&#39;s the output on SOP -- notice the original regex `RAW_CHANGELOG_PATTERN` works and produces the output I&#39;m expecting (everything between the two version numbers), but the second method `extractVersions` which uses the new regex `RAW_CHANGELOG_VERSION_PATTERN` is throwing the NPE. \r\n\r\n````\r\n## 5.18.72 (2020-01-17)\r\n\r\n- #### [US12345]\r\n\r\n## 5.18.71 (2020-01-15)\r\n\r\n- #### [US123456]\r\n\r\n## 5.18.70\r\nNext\r\n\r\nNPE: Could not extract versions from Changelog\r\nmatch count:0\r\nnull\r\n````\r\n\r\nI&#39;m hoping this is something silly syntax wise that I&#39;m missing? ","title":"Java Regex NPE On Matcher.Find()","body":"<p>I'm going insane trying to figure out why this doesn't work. </p>\n\n<p>I've got a changelog file where I want to consume contents, and parse out version numbers. I have an existing regex that works that I've used as a baseline for the the new regex to just strip version numbers and can see that it works. However, when I attempt to iterate through the new Matcher results using .find() method to just get the version numbers, I'm getting a Null Pointer Exception and no results are found. </p>\n\n<p>Is there an issue with the regex, or the way it's being compiled, or something else? </p>\n\n<p>FWIW, the regex pattern does exactly what I want when I try it on a few online regex editors (Java based). </p>\n\n<p>Here's what I'm running. </p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class HelloWorld{\n\n    public static final String changelog=\"## Current Version\"+\n            \"\\n\\n\"+\n            \"- None\"+\n            \"\\n\\n\"+\n            \"## 5.18.72 (2020-01-17)\"+\n            \"\\n\\n\"+\n            \"- #### [US12345]\"+\n            \"\\n\\n\"+\n            \"## 5.18.71 (2020-01-15)\"+\n            \"\\n\\n\"+\n            \"- #### [US123456]\"+\n            \"\\n\\n\"+\n            \"## 5.18.70 (2020-01-09)\";\n\n    private static final String RAW_CHANGELOG_PATTERN = \"(?ms)(##[\\\\w\\\\s\\\\-]*.%s.*\\n\\n.*)(\\n\\n##[\\\\w\\\\s\\\\-]*.%s)\";\n    private static final String RAW_CHANGELOG_VERSION_PATTERN=\"(?ms)(\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3})\";\n\n     public static void main(String []args){\n\n\n        System.out.println(extractKnownVersions(changelog));\n\n        System.out.println(\"Next\\n\");\n\n        System.out.println(extractVersions(changelog.toString()));\n     }\n\n    private static String extractKnownVersions(String changelog){\n        String patternString = String.format(RAW_CHANGELOG_PATTERN,\"5.18.72\",\"5.18.70\");\n        Pattern pattern = Pattern.compile(patternString, Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(changelog);\n        String result = null;\n        if (matcher.find()) {\n            result = matcher.group();\n        } else {\n            System.out.println(\"No diff found between versions 5.18.72 and 5.18.70 Check that both versions exist in Changelog.\");\n        }\n        return result;\n    }\n\n    private static List&lt;String&gt; extractVersions(String changelog) {\n        // TODO: Fix the regex so that it actually grabs what we want\n        String patternString = RAW_CHANGELOG_VERSION_PATTERN;\n        Pattern pattern = Pattern.compile(patternString);\n        Matcher matcher = pattern.matcher(changelog);\n\n        List&lt;String&gt; result = null;\n        int count = 0;\n\n        try {\n            while (matcher.find()) {\n                result.add(matcher.group());\n                System.out.println(\"result: \" + result.get(count));\n                count++;\n            }\n        } catch (NullPointerException npe) {\n            System.out.println(\"NPE: Could not extract versions from Changelog\");\n        } catch (Exception e) {\n            System.out.println(\"Exception extracting versions from Changelog\");\n        }\n\n        System.out.println(\"match count:\" + count);\n        return result;\n    }\n}\n</code></pre>\n\n<p>And here's the output on SOP -- notice the original regex <code>RAW_CHANGELOG_PATTERN</code> works and produces the output I'm expecting (everything between the two version numbers), but the second method <code>extractVersions</code> which uses the new regex <code>RAW_CHANGELOG_VERSION_PATTERN</code> is throwing the NPE. </p>\n\n<pre><code>## 5.18.72 (2020-01-17)\n\n- #### [US12345]\n\n## 5.18.71 (2020-01-15)\n\n- #### [US123456]\n\n## 5.18.70\nNext\n\nNPE: Could not extract versions from Changelog\nmatch count:0\nnull\n</code></pre>\n\n<p>I'm hoping this is something silly syntax wise that I'm missing? </p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":16536466,"reputation":154,"user_id":11948342,"display_name":"Nobody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579605309,"creation_date":1579605309,"answer_id":59839930,"question_id":59839440,"body_markdown":"according to your post, you would want to match string and substrings within, I cannot think of proper solution. However, your problem is easy, if we omit  &quot;Всего&quot;, then we can do following:\r\n\r\n    &quot;((\\\\d*)\\\\s*Коробки|\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))&quot;\r\n\r\nto find either string with &quot;Коробки&quot; or another string","title":"Capturing multiple groups via regex","body":"<p>according to your post, you would want to match string and substrings within, I cannot think of proper solution. However, your problem is easy, if we omit  \"Всего\", then we can do following:</p>\n\n<pre><code>\"((\\\\d*)\\\\s*Коробки|\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))\"\n</code></pre>\n\n<p>to find either string with \"Коробки\" or another string</p>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579609296,"creation_date":1579609296,"answer_id":59841060,"question_id":59839440,"body_markdown":"Does this work for you? I didn&#39;t use the methods you provided though since the basic requirement you mentioned can be achieved through a simple ```Matcher.replaceAll()``` call.\r\n\r\n    Pattern p = Pattern.compile(&quot;Всего\\\\s*(\\\\d*)(\\\\s*Коробки,?)?(\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))?&quot;);\r\n\tString replacement = &quot;$1 $4&quot;;\r\n\tString text = &quot;Всего 2 Коробки, 193 Короб-шкафа&quot;;\r\n\tSystem.out.println( p.matcher( text ).replaceAll( replacement ) );\r\n\r\nThis considers the string &quot;Всего&quot; to be present in the input always.","title":"Capturing multiple groups via regex","body":"<p>Does this work for you? I didn't use the methods you provided though since the basic requirement you mentioned can be achieved through a simple <code>Matcher.replaceAll()</code> call.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"Всего\\\\s*(\\\\d*)(\\\\s*Коробки,?)?(\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))?\");\nString replacement = \"$1 $4\";\nString text = \"Всего 2 Коробки, 193 Короб-шкафа\";\nSystem.out.println( p.matcher( text ).replaceAll( replacement ) );\n</code></pre>\n\n<p>This considers the string \"Всего\" to be present in the input always.</p>\n"}],"owner":{"account_id":17318932,"reputation":117,"user_id":12544798,"display_name":"Artjom Prozorov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693140737,"creation_date":1579603762,"question_id":59839440,"body_markdown":"I have a function that locates a single group which perfectly working perfectly \r\n\r\n    public static Optional&lt;String&gt; locateInText(String text, Pattern pattern) {\r\n        Matcher matcher = pattern.matcher(text);\r\n        return matcher.find() ? Optional.of(matcher.group(1)) : Optional.empty();\r\n    }\r\n\r\nNow I am trying to build up a function that locates 2 groups and concatenates them and returns the value in String if two groups do not exist return 1 group \r\n\r\n    public static Optional&lt;String&gt; locateInTextt(String text, Pattern pattern) {\r\n        Matcher matcher = pattern.matcher(text);\r\n        while (matcher.find()) {\r\n            if (matcher.groupCount() &gt; 1) {\r\n                int sum = Integer.parseInt(matcher.group(1)) + Integer.parseInt(matcher.group(2));\r\n                return Optional.of(String.valueOf(sum));\r\n            } else if (matcher.groupCount() == 1) {\r\n                return Optional.of(matcher.group(1));\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\nThe test did work if there are two matches but if there is just one it keeps returning empty, what I am missing, I read some information and it seems to be possible to indicate group as optional, would appreciate any advice \r\n\r\nUse case text:\r\n&gt;Всего 2 Коробки, 193 Короб-шкафа\r\n\r\nin that case, I need both groups captured, which is 2 and 193 = 195\r\n\r\nSecond use case text;\r\n\r\n&gt;Всего 2 Коробки \r\n\r\nThird use case text\r\n\r\n&gt;Всего 193 Короб-шкафа\r\n\r\n     Pattern.compile(&quot;Всего\\\\s*(\\\\d*)\\\\s*Коробки,\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*)&quot;);\r\n\r\n\r\n\r\n","title":"Capturing multiple groups via regex","body":"<p>I have a function that locates a single group which perfectly working perfectly </p>\n\n<pre><code>public static Optional&lt;String&gt; locateInText(String text, Pattern pattern) {\n    Matcher matcher = pattern.matcher(text);\n    return matcher.find() ? Optional.of(matcher.group(1)) : Optional.empty();\n}\n</code></pre>\n\n<p>Now I am trying to build up a function that locates 2 groups and concatenates them and returns the value in String if two groups do not exist return 1 group </p>\n\n<pre><code>public static Optional&lt;String&gt; locateInTextt(String text, Pattern pattern) {\n    Matcher matcher = pattern.matcher(text);\n    while (matcher.find()) {\n        if (matcher.groupCount() &gt; 1) {\n            int sum = Integer.parseInt(matcher.group(1)) + Integer.parseInt(matcher.group(2));\n            return Optional.of(String.valueOf(sum));\n        } else if (matcher.groupCount() == 1) {\n            return Optional.of(matcher.group(1));\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n\n<p>The test did work if there are two matches but if there is just one it keeps returning empty, what I am missing, I read some information and it seems to be possible to indicate group as optional, would appreciate any advice </p>\n\n<p>Use case text:</p>\n\n<blockquote>\n  <p>Всего 2 Коробки, 193 Короб-шкафа</p>\n</blockquote>\n\n<p>in that case, I need both groups captured, which is 2 and 193 = 195</p>\n\n<p>Second use case text;</p>\n\n<blockquote>\n  <p>Всего 2 Коробки </p>\n</blockquote>\n\n<p>Third use case text</p>\n\n<blockquote>\n  <p>Всего 193 Короб-шкафа</p>\n</blockquote>\n\n<pre><code> Pattern.compile(\"Всего\\\\s*(\\\\d*)\\\\s*Коробки,\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*)\");\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6443946,"reputation":2589,"user_id":4993010,"accept_rate":90,"display_name":"frosty"},"score":0,"creation_date":1578423790,"post_id":59633856,"comment_id":105431280,"body_markdown":"@VictorS isn&#39;t the string &quot;the best of&quot;?","body":"@VictorS isn&#39;t the string &quot;the best of&quot;?"},{"owner":{"display_name":"user7548672"},"score":0,"creation_date":1578428219,"post_id":59633856,"comment_id":105433207,"body_markdown":"Thanks I added a answer.","body":"Thanks I added a answer."}],"answers":[{"tags":[],"owner":{"account_id":3504923,"reputation":377,"user_id":2930657,"display_name":"ARPAN CHAKARVARTY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578421773,"creation_date":1578421773,"answer_id":59634117,"question_id":59633856,"body_markdown":"As per your requirement you have to find the string &quot;best&quot; in &quot;the best of&quot;, so **find()** method suits your requirement instead of **matches()**. Please find the sample code snippet below:\r\n\r\n\r\n    \tPattern pattern = Pattern.compile(&quot;best&quot;);\r\n    \tString theString = &quot;the best of&quot;;\r\n    \tMatcher matcher = pattern.matcher(theString);\r\n    \tif(matcher.find()) {\r\n    \t\tSystem.out.println(&quot;found&quot;);\r\n    \t}else {\r\n    \t\tSystem.out.println(&quot;not found&quot;);\r\n    \t}\r\n    \t\r\n    }","title":"Using regex in java to get a word from a string","body":"<p>As per your requirement you have to find the string \"best\" in \"the best of\", so <strong>find()</strong> method suits your requirement instead of <strong>matches()</strong>. Please find the sample code snippet below:</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(\"best\");\n    String theString = \"the best of\";\n    Matcher matcher = pattern.matcher(theString);\n    if(matcher.find()) {\n        System.out.println(\"found\");\n    }else {\n        System.out.println(\"not found\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16071736,"reputation":1,"user_id":11600043,"display_name":"Hassan El-seoudy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578422262,"creation_date":1578422262,"answer_id":59634219,"question_id":59633856,"body_markdown":"Use **find()** not matches!\r\n\r\n        public static void main(String[] args){\r\n        Pattern pattern = Pattern.compile(&quot;(best)&quot;);\r\n        String theString = &quot;the best of&quot;;\r\n        Matcher matcher = pattern.matcher(theString);\r\n        if(matcher.find())\r\n            System.out.println(&quot;Hi!&quot;);\r\n    }","title":"Using regex in java to get a word from a string","body":"<p>Use <strong>find()</strong> not matches!</p>\n\n<pre><code>    public static void main(String[] args){\n    Pattern pattern = Pattern.compile(\"(best)\");\n    String theString = \"the best of\";\n    Matcher matcher = pattern.matcher(theString);\n    if(matcher.find())\n        System.out.println(\"Hi!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7548672"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578428476,"creation_date":1578427537,"answer_id":59635370,"question_id":59633856,"body_markdown":"What I think you want is this.\r\n\r\n    String theString = &quot;the best of&quot;;\r\n    \r\n    String regex = &quot;(best)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(theString);\r\n    \t\t\r\n    while (m.find()) {\r\n    \tString result = m.group(1);\r\n    \tSystem.out.println(&quot;found: &quot; + result);\r\n    }\r\n\r\noutputs:\r\n\r\n    found: best","title":"Using regex in java to get a word from a string","body":"<p>What I think you want is this.</p>\n\n<pre><code>String theString = \"the best of\";\n\nString regex = \"(best)\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(theString);\n\nwhile (m.find()) {\n    String result = m.group(1);\n    System.out.println(\"found: \" + result);\n}\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>found: best\n</code></pre>\n"}],"owner":{"account_id":6443946,"reputation":2589,"user_id":4993010,"accept_rate":90,"display_name":"frosty"},"comment_count":2,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1578432700,"answer_count":3,"score":-1,"last_activity_date":1693140671,"creation_date":1578420549,"question_id":59633856,"body_markdown":"I need to find the word &quot;best&quot; in a string using regex but it&#39;s throwing a &quot;no match found&quot; error. What am I doing wrong?\r\n    \r\n    Pattern pattern = Pattern.compile(&quot;(best)&quot;);\r\n    String theString = &quot;the best of&quot;;\r\n    Matcher matcher = pattern.matcher(theString);\r\n    matcher.matches();\r\n    String whatYouNeed = matcher.group(1);\r\n    Log.d(String.valueOf(LOG), whatYouNeed);","title":"Using regex in java to get a word from a string","body":"<p>I need to find the word \"best\" in a string using regex but it's throwing a \"no match found\" error. What am I doing wrong?</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(best)\");\nString theString = \"the best of\";\nMatcher matcher = pattern.matcher(theString);\nmatcher.matches();\nString whatYouNeed = matcher.group(1);\nLog.d(String.valueOf(LOG), whatYouNeed);\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641229965,"post_id":70569208,"comment_id":124747105,"body_markdown":"Use a `@BeforeAll`-method to initialize the static mock instead of initializing it in each test.","body":"Use a <code>@BeforeAll</code>-method to initialize the static mock instead of initializing it in each test."},{"owner":{"account_id":2449121,"reputation":195,"user_id":2135795,"display_name":"claudsan"},"score":0,"creation_date":1641237989,"post_id":70569208,"comment_id":124749706,"body_markdown":"@Lesiak  `Mockito.reset(Mockito.mockStatic(TesteEstatico.class))` it would be something similar to this?","body":"@Lesiak  <code>Mockito.reset(Mockito.mockStatic(TesteEstatico.class))</code> it would be something similar to this?"}],"answers":[{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641232478,"creation_date":1641232478,"answer_id":70569652,"question_id":70569208,"body_markdown":"you need to use static block to mock it.\r\n\r\n    import org.junit.jupiter.api.AfterAll;\r\n    import org.junit.jupiter.api.BeforeAll;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class UsaTesteEstaticoTest {\r\n        @InjectMocks\r\n        UsaTesteEstatico usaTesteEstatico;\r\n    \r\n        @BeforeAll\r\n        public static void init(){\r\n            Mockito.mockStatic(TesteEstatico.class);\r\n        }\r\n    \r\n        @Test\r\n        void teste1(){\r\n    \r\n            Mockito.when(TesteEstatico.teste())\r\n                    .thenReturn(&quot;BANANA&quot;);\r\n    \r\n            String res = usaTesteEstatico.metodoParaTeste1();\r\n            System.out.println(res);\r\n        }\r\n    \r\n        @Test\r\n        void teste2(){\r\n    \r\n            Mockito.when(TesteEstatico.teste())\r\n                    .thenReturn(&quot;LARANJA&quot;);\r\n    \r\n            String res = usaTesteEstatico.metodoParaTeste2();\r\n            System.out.println(res);\r\n    \r\n        }\r\n    }","title":"Mokito/Java - Static Methods Mock","body":"<p>you need to use static block to mock it.</p>\n<pre><code>import org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n\n@ExtendWith(MockitoExtension.class)\npublic class UsaTesteEstaticoTest {\n    @InjectMocks\n    UsaTesteEstatico usaTesteEstatico;\n\n    @BeforeAll\n    public static void init(){\n        Mockito.mockStatic(TesteEstatico.class);\n    }\n\n    @Test\n    void teste1(){\n\n        Mockito.when(TesteEstatico.teste())\n                .thenReturn(&quot;BANANA&quot;);\n\n        String res = usaTesteEstatico.metodoParaTeste1();\n        System.out.println(res);\n    }\n\n    @Test\n    void teste2(){\n\n        Mockito.when(TesteEstatico.teste())\n                .thenReturn(&quot;LARANJA&quot;);\n\n        String res = usaTesteEstatico.metodoParaTeste2();\n        System.out.println(res);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1641242128,"creation_date":1641242128,"answer_id":70571147,"question_id":70569208,"body_markdown":"You should use try-with-resources block in each of the tests to close the mockStatic.\r\n\r\n```lang-java\r\npublic class UsaTesteEstaticoTest {\r\n    \r\n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\r\n\r\n    @Test\r\n    void teste1(){\r\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\r\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\r\n            String res = usaTesteEstatico.metodoParaTeste1();\r\n            System.out.println(res);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void teste2(){\r\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\r\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;LARANJA&quot;);\r\n            String res = usaTesteEstatico.metodoParaTeste2();\r\n            System.out.println(res);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Note on mockStatic in @BeforeAll**\r\n\r\nUsing `@BeforeAll` is a trap and bad advice.\r\nYou should strive for independent tests that don&#39;t affect each other.\r\nThis is not the case for mockStatic called in @BeforeAll, as stubbing from test methods outlive the test methods.\r\n\r\nFor example\r\n```lang-java\r\n// BAD CODE DONT USE\r\npublic class UsaTesteEstaticoTest {\r\n\r\n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\r\n    static MockedStatic&lt;TesteEstatico&gt; ms;\r\n\r\n    @BeforeAll\r\n    public static void init() {\r\n        ms = Mockito.mockStatic(TesteEstatico.class);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void close() {\r\n        ms.close();\r\n    }\r\n\r\n\r\n    @Test\r\n    void teste1() {\r\n        Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\r\n        String res = usaTesteEstatico.metodoParaTeste1();\r\n        System.out.println(res);\r\n    }\r\n\r\n    @Test\r\n    void teste2() {\r\n        String res = usaTesteEstatico.metodoParaTeste2();\r\n        System.out.println(res);\r\n    }\r\n}\r\n```\r\n\r\n`teste2` prints:\r\n- `FOO BANANA BAR` if run after `teste1`\r\n- `FOO null BAR` if run separately \r\n\r\nThis is precisely what you want to avoid.","title":"Mokito/Java - Static Methods Mock","body":"<p>You should use try-with-resources block in each of the tests to close the mockStatic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UsaTesteEstaticoTest {\n    \n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\n\n    @Test\n    void teste1(){\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\n            String res = usaTesteEstatico.metodoParaTeste1();\n            System.out.println(res);\n        }\n    }\n\n    @Test\n    void teste2(){\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;LARANJA&quot;);\n            String res = usaTesteEstatico.metodoParaTeste2();\n            System.out.println(res);\n        }\n    }\n}\n</code></pre>\n<p><strong>Note on mockStatic in @BeforeAll</strong></p>\n<p>Using <code>@BeforeAll</code> is a trap and bad advice.\nYou should strive for independent tests that don't affect each other.\nThis is not the case for mockStatic called in @BeforeAll, as stubbing from test methods outlive the test methods.</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>// BAD CODE DONT USE\npublic class UsaTesteEstaticoTest {\n\n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\n    static MockedStatic&lt;TesteEstatico&gt; ms;\n\n    @BeforeAll\n    public static void init() {\n        ms = Mockito.mockStatic(TesteEstatico.class);\n    }\n\n    @AfterAll\n    public static void close() {\n        ms.close();\n    }\n\n\n    @Test\n    void teste1() {\n        Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\n        String res = usaTesteEstatico.metodoParaTeste1();\n        System.out.println(res);\n    }\n\n    @Test\n    void teste2() {\n        String res = usaTesteEstatico.metodoParaTeste2();\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p><code>teste2</code> prints:</p>\n<ul>\n<li><code>FOO BANANA BAR</code> if run after <code>teste1</code></li>\n<li><code>FOO null BAR</code> if run separately</li>\n</ul>\n<p>This is precisely what you want to avoid.</p>\n"},{"tags":[],"owner":{"account_id":22971536,"reputation":1,"user_id":17099813,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693140660,"creation_date":1693140660,"answer_id":76987193,"question_id":70569208,"body_markdown":"    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith; \r\n    import org.mockito.InjectMocks; \r\n    import org.mockito.Mockito; \r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    @ExtendWith(MockitoExtension.class) \r\n    public class UsaTesteEstaticoTest {\r\n    \r\n       @InjectMocks\r\n       UsaTesteEstatico usaTesteEstatico;\r\n        \r\n       MockedStatic&lt;TesteEstatico&gt; testeEstatico;\r\n    \r\n       @BeforeClass\r\n        public void init(){\r\n            testeEstatico = Mockito.mockStatic(TesteEstatico.class);\r\n        }\r\n    \r\n        @AfterClass\r\n        public void destroy(){\r\n            testeEstatico.close();\r\n        }\r\n    \r\n       @Test\r\n       void teste1(){\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;BANANA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste1();\r\n           System.out.println(res);\r\n       }\r\n    \r\n       @Test\r\n       void teste2(){\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;LARANJA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste2();\r\n           System.out.println(res);\r\n    \r\n       }\r\n    }\r\n\r\nNone of the above-mentioned solutions posted earlier worked for me If you are having the same static methods to be mocked at multiple locations.Try this out ","title":"Mokito/Java - Static Methods Mock","body":"<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith; \nimport org.mockito.InjectMocks; \nimport org.mockito.Mockito; \nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class) \npublic class UsaTesteEstaticoTest {\n\n   @InjectMocks\n   UsaTesteEstatico usaTesteEstatico;\n    \n   MockedStatic&lt;TesteEstatico&gt; testeEstatico;\n\n   @BeforeClass\n    public void init(){\n        testeEstatico = Mockito.mockStatic(TesteEstatico.class);\n    }\n\n    @AfterClass\n    public void destroy(){\n        testeEstatico.close();\n    }\n\n   @Test\n   void teste1(){\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;BANANA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste1();\n       System.out.println(res);\n   }\n\n   @Test\n   void teste2(){\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;LARANJA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste2();\n       System.out.println(res);\n\n   }\n}\n</code></pre>\n<p>None of the above-mentioned solutions posted earlier worked for me If you are having the same static methods to be mocked at multiple locations.Try this out</p>\n"}],"owner":{"account_id":2449121,"reputation":195,"user_id":2135795,"display_name":"claudsan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14926,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70571147,"answer_count":3,"score":2,"last_activity_date":1693140660,"creation_date":1641229797,"question_id":70569208,"body_markdown":"For example I have the following classes below:\r\n\r\n    public class TesteEstatico {\r\n    \r\n       public static String teste(){\r\n          return &quot;FOO&quot;;\r\n       }\r\n    \r\n    }\r\n\r\nAnd I have a class that uses her method:\r\n\r\n    public class UsaTesteEstatico {\r\n    \r\n       public String metodoParaTeste1 (){\r\n           return  TesteEstatico.teste() + &quot; BAR &quot;;\r\n       }\r\n    \r\n       public String metodoParaTeste2 (){\r\n           return  &quot;FOO &quot;+TesteEstatico.teste() + &quot; BAR &quot;;\r\n       }\r\n    \r\n    }\r\n\r\nTest class:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith; \r\n    import org.mockito.InjectMocks; \r\n    import org.mockito.Mockito; \r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    @ExtendWith(MockitoExtension.class) public class UsaTesteEstaticoTest {\r\n    \r\n       @InjectMocks\r\n       UsaTesteEstatico usaTesteEstatico;\r\n    \r\n       @Test\r\n       void teste1(){\r\n           Mockito.mockStatic(TesteEstatico.class);\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;BANANA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste1();\r\n           System.out.println(res);\r\n       }\r\n    \r\n       @Test\r\n       void teste2(){\r\n           Mockito.mockStatic(TesteEstatico.class);\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;LARANJA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste2();\r\n           System.out.println(res);\r\n    \r\n       }\r\n    }\r\n\r\nError I get when trying to run the tests:\r\n\r\norg.mockito.exceptions.base.MockitoException: \r\nFor TesteEstatico, static mocking is already registered in the current thread\r\nTo create a new mock, the existing static mock registration must be deregistered\r\n\r\n\r\nVersions of the libs that are in the project:\r\n\r\n- junit-jupiter 5.5.2\r\n- mockito-junit-jupiter 3.2.14\r\n- mockito-inline 3.2.14\r\n\r\nAny idea how to solve this, i&#39;ve tried a few things but nothing successful.\r\n\r\nNOTE: I cannot change or add any new libraries as it is a restricted project.\r\n","title":"Mokito/Java - Static Methods Mock","body":"<p>For example I have the following classes below:</p>\n<pre><code>public class TesteEstatico {\n\n   public static String teste(){\n      return &quot;FOO&quot;;\n   }\n\n}\n</code></pre>\n<p>And I have a class that uses her method:</p>\n<pre><code>public class UsaTesteEstatico {\n\n   public String metodoParaTeste1 (){\n       return  TesteEstatico.teste() + &quot; BAR &quot;;\n   }\n\n   public String metodoParaTeste2 (){\n       return  &quot;FOO &quot;+TesteEstatico.teste() + &quot; BAR &quot;;\n   }\n\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith; \nimport org.mockito.InjectMocks; \nimport org.mockito.Mockito; \nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class) public class UsaTesteEstaticoTest {\n\n   @InjectMocks\n   UsaTesteEstatico usaTesteEstatico;\n\n   @Test\n   void teste1(){\n       Mockito.mockStatic(TesteEstatico.class);\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;BANANA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste1();\n       System.out.println(res);\n   }\n\n   @Test\n   void teste2(){\n       Mockito.mockStatic(TesteEstatico.class);\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;LARANJA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste2();\n       System.out.println(res);\n\n   }\n}\n</code></pre>\n<p>Error I get when trying to run the tests:</p>\n<p>org.mockito.exceptions.base.MockitoException:\nFor TesteEstatico, static mocking is already registered in the current thread\nTo create a new mock, the existing static mock registration must be deregistered</p>\n<p>Versions of the libs that are in the project:</p>\n<ul>\n<li>junit-jupiter 5.5.2</li>\n<li>mockito-junit-jupiter 3.2.14</li>\n<li>mockito-inline 3.2.14</li>\n</ul>\n<p>Any idea how to solve this, i've tried a few things but nothing successful.</p>\n<p>NOTE: I cannot change or add any new libraries as it is a restricted project.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":15595756,"reputation":1662,"user_id":11251344,"display_name":"BlackPearl"},"score":0,"creation_date":1577905807,"post_id":59555288,"comment_id":105279199,"body_markdown":"Will the be only one `%--text--%`, or will the be multiple occurrences of the symbol?","body":"Will the be only one <code>%--text--%</code>, or will the be multiple occurrences of the symbol?"},{"owner":{"account_id":11453369,"reputation":17,"user_id":8395203,"display_name":"Abhilash Reddy"},"score":0,"creation_date":1577905854,"post_id":59555288,"comment_id":105279210,"body_markdown":"@BlackPearl only one","body":"@BlackPearl only one"},{"owner":{"account_id":3362143,"reputation":39488,"user_id":2823719,"accept_rate":11,"display_name":"Booboo"},"score":0,"creation_date":1577974335,"post_id":59555288,"comment_id":105297262,"body_markdown":"No, everything except what is between the `%` characters would produce `&lt;simple&gt;`. You need to specify the problem more clearly and in far greater detail.","body":"No, everything except what is between the <code>%</code> characters would produce <code>&lt;simple&gt;</code>. You need to specify the problem more clearly and in far greater detail."}],"answers":[{"tags":[],"owner":{"account_id":17434250,"reputation":41,"user_id":12637622,"display_name":"Rob"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1577909076,"creation_date":1577909076,"answer_id":59555716,"question_id":59555288,"body_markdown":"\r\n\r\n- % matches the character %\r\n- . matches any character (except new line)\r\n- *? finds the next match of a character\r\n\r\nSo the following line first finds %, then finds any other character until it finds %\r\n\r\n    &quot;%.*?%&quot;\r\n\r\nSo as an example:\r\n\r\n    String str = &quot;&lt;Simple%Name 1 % 1a%Foo%&gt;&quot;;\r\n    System.out.println(str.replaceAll(&quot;%.*?%&quot;, &quot;&quot;));\r\n\r\nWould produce:\r\n\r\n    &lt;Simple 1a&gt;\r\n\r\n\r\n","title":"Regex for selecting everything but characters between a given symbol","body":"<ul>\n<li>% matches the character %</li>\n<li>. matches any character (except new line)</li>\n<li>*? finds the next match of a character</li>\n</ul>\n\n<p>So the following line first finds %, then finds any other character until it finds %</p>\n\n<pre><code>\"%.*?%\"\n</code></pre>\n\n<p>So as an example:</p>\n\n<pre><code>String str = \"&lt;Simple%Name 1 % 1a%Foo%&gt;\";\nSystem.out.println(str.replaceAll(\"%.*?%\", \"\"));\n</code></pre>\n\n<p>Would produce:</p>\n\n<pre><code>&lt;Simple 1a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3252816,"reputation":265,"user_id":2742660,"display_name":"Seshidhar G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577958538,"creation_date":1577958538,"answer_id":59561269,"question_id":59555288,"body_markdown":"You can use like *&quot;%(.*?)%&quot;*\r\n\r\nHere is the example i have tried considering your input string would be \r\n\r\n&gt; simple%name%\r\n\r\n    String str = &quot;simple%name%&quot;;\r\n    System.out.println(str.replaceAll(&quot;%(.*?)%&quot;, &quot;&quot;));\r\n\r\nOutput for this will be \r\n\r\n&gt; simple","title":"Regex for selecting everything but characters between a given symbol","body":"<p>You can use like <em>\"%(.</em>?)%\"*</p>\n\n<p>Here is the example i have tried considering your input string would be </p>\n\n<blockquote>\n  <p>simple%name%</p>\n</blockquote>\n\n<pre><code>String str = \"simple%name%\";\nSystem.out.println(str.replaceAll(\"%(.*?)%\", \"\"));\n</code></pre>\n\n<p>Output for this will be </p>\n\n<blockquote>\n  <p>simple</p>\n</blockquote>\n"}],"owner":{"account_id":11453369,"reputation":17,"user_id":8395203,"display_name":"Abhilash Reddy"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1577974340,"accepted_answer_id":59555716,"answer_count":2,"score":-3,"last_activity_date":1693140657,"creation_date":1577905366,"question_id":59555288,"body_markdown":"What is the regex for selecting everything except the characters between a given symbol.\r\n\r\n If the given symbol is &#39;%&#39; then, `&lt;simple%name%&gt;` should produce `&lt;simple&gt;`\r\n","title":"Regex for selecting everything but characters between a given symbol","body":"<p>What is the regex for selecting everything except the characters between a given symbol.</p>\n\n<p>If the given symbol is '%' then, <code>&lt;simple%name%&gt;</code> should produce <code>&lt;simple&gt;</code></p>\n"},{"tags":["java","regex","boundary"],"comments":[{"owner":{"account_id":12819978,"reputation":848,"user_id":9275249,"display_name":"Charanjit Singh"},"score":1,"creation_date":1577272412,"post_id":59477803,"comment_id":105132733,"body_markdown":"Use REGEX: `\\[xxx(.*)xxx\\]` and replace it with `{$1}`","body":"Use REGEX: <code>\\[xxx(.*)xxx\\]</code> and replace it with <code>{$1}</code>"},{"owner":{"account_id":12819978,"reputation":848,"user_id":9275249,"display_name":"Charanjit Singh"},"score":1,"creation_date":1577272500,"post_id":59477803,"comment_id":105132752,"body_markdown":"It worked on my system, flawlessly","body":"It worked on my system, flawlessly"},{"owner":{"account_id":155533,"reputation":90025,"user_id":372239,"accept_rate":80,"display_name":"Toto"},"score":0,"creation_date":1577273148,"post_id":59477803,"comment_id":105132914,"body_markdown":"Use a non greedy regex `\\[xxx(.*?)xxx\\]` or you may have problems if there are multiple strings to replace.","body":"Use a non greedy regex <code>\\[xxx(.*?)xxx\\]</code> or you may have problems if there are multiple strings to replace."}],"answers":[{"tags":[],"owner":{"account_id":12819978,"reputation":848,"user_id":9275249,"display_name":"Charanjit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1577272642,"creation_date":1577272642,"answer_id":59477868,"question_id":59477803,"body_markdown":"Use REGEX to find and replace:\r\n\r\n\r\nFind: `\\[xxx(.*)xxx\\]`\r\n\r\nReplace it with `{$1}`\r\n\r\n\r\nIn python:\r\n\r\n```\r\nimport re\r\n\r\nline = re.sub(\r\n           r&quot;\\[xxx(.*)xxx\\]&quot;, \r\n           &quot;{$1}&quot;, \r\n           line\r\n       )\r\n```","title":"Need to replace &lt;p&gt;Are you? [xxxrecipientFirstNamexxx] &lt;/p&gt; with &lt;p&gt;Are you? {recipientFirstName} &lt;/p&gt;","body":"<p>Use REGEX to find and replace:</p>\n\n<p>Find: <code>\\[xxx(.*)xxx\\]</code></p>\n\n<p>Replace it with <code>{$1}</code></p>\n\n<p>In python:</p>\n\n<pre><code>import re\n\nline = re.sub(\n           r\"\\[xxx(.*)xxx\\]\", \n           \"{$1}\", \n           line\n       )\n</code></pre>\n"}],"owner":{"account_id":1705684,"reputation":7431,"user_id":1564766,"accept_rate":15,"display_name":"abishkar bhattarai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":59477868,"answer_count":1,"score":0,"last_activity_date":1693140386,"creation_date":1577272294,"question_id":59477803,"body_markdown":"Need to replace &lt;p&gt;Are you? [xxxrecipientFirstNamexxx] &lt;/p&gt;  with &lt;p&gt;Are you? {recipientFirstName} &lt;/p&gt; .\r\nI tried using Boundary Matchers .But result is not as expected .\r\nI tried with below code \r\n          \r\n\r\n    &quot;&lt;p&gt;Are you? [xxxrecipientFirstNamexxx] &lt;/p&gt;&quot;.replaceAll(&quot;\\\\b[[xxxrecipientFirstNamexxx]]\\\\b&quot;, &quot;{recipientFirstName}&quot;);\r\n\r\n .Can any one help on this?","title":"Need to replace &lt;p&gt;Are you? [xxxrecipientFirstNamexxx] &lt;/p&gt; with &lt;p&gt;Are you? {recipientFirstName} &lt;/p&gt;","body":"<p>Need to replace <p>Are you? [xxxrecipientFirstNamexxx] </p>  with <p>Are you? {recipientFirstName} </p> .\nI tried using Boundary Matchers .But result is not as expected .\nI tried with below code </p>\n\n<pre><code>\"&lt;p&gt;Are you? [xxxrecipientFirstNamexxx] &lt;/p&gt;\".replaceAll(\"\\\\b[[xxxrecipientFirstNamexxx]]\\\\b\", \"{recipientFirstName}\");\n</code></pre>\n\n<p>.Can any one help on this?</p>\n"},{"tags":["java","regex","stateful"],"answers":[{"tags":[],"owner":{"account_id":7848901,"reputation":378,"user_id":5932976,"display_name":"sulin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568859014,"creation_date":1568859014,"answer_id":58002787,"question_id":58002673,"body_markdown":"`Pattern` is thread-safe, but `Matcher` is not.\r\n\r\n`Matcher` maintains some local variables like `groupVars`, `localVars`, `last` etc. \r\n\r\n`groupVars` is used for recording group captured, it will be reset before each `Matcher#match` and `Matcher#find` operation.\r\n\r\n`localVars` is used for recording the context of matching operation.\r\n\r\n`last` is used by `find`, it represents the terminal offset of previous `find` operation.\r\n\r\nIf you use `Matcher` concurrently, those local variables will be covered by different thread, which could cause unexpected result.","title":"Is java regex matcher stateful?","body":"<p><code>Pattern</code> is thread-safe, but <code>Matcher</code> is not.</p>\n\n<p><code>Matcher</code> maintains some local variables like <code>groupVars</code>, <code>localVars</code>, <code>last</code> etc. </p>\n\n<p><code>groupVars</code> is used for recording group captured, it will be reset before each <code>Matcher#match</code> and <code>Matcher#find</code> operation.</p>\n\n<p><code>localVars</code> is used for recording the context of matching operation.</p>\n\n<p><code>last</code> is used by <code>find</code>, it represents the terminal offset of previous <code>find</code> operation.</p>\n\n<p>If you use <code>Matcher</code> concurrently, those local variables will be covered by different thread, which could cause unexpected result.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1568859773,"creation_date":1568859054,"answer_id":58002788,"question_id":58002673,"body_markdown":"1.  Yes `Matcher` is stateful.\r\n\r\n3.  If *anything*&lt;sup&gt;1&lt;/sup&gt; calls `find` or `match` while you are (still) looking at the groups (etc) from the previous call, then you will lose the state from the previous call.   The same applies for `reset` and `reset(CharSequence)`, and some other methods.  This behavior is inherent in the API design, and clearly documented. \r\n\r\n3.  `Matcher` is not thread-safe.  The [javadoc][1] states this explicitly:\r\n\r\n    &gt; *&quot;Instances of this class are not safe for use by multiple concurrent threads.&quot;*\r\n\r\n2.  However, using it like your code does should work ... *provided* that the `Matcher` was only visible to / used by the current thread, and not used further up (or down) the call stack.\r\n\r\nSee also: \r\n\r\n  - https://stackoverflow.com/questions/11391337/java-pattern-matcher-create-new-or-reset ... though the accepted answer is missing the &quot;recursion&quot; caveat.\r\n\r\n-----------\r\n\r\nBy contrast, `Pattern` is both thread-safe and immutable / stateless.\r\n\r\n-----------\r\n\r\n&lt;sup&gt;1 - That could be another thread, or the current thread that is using the same `Matcher` at different points in the call stack; i.e. via recursion or something like that.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html","title":"Is java regex matcher stateful?","body":"<ol>\n<li><p>Yes <code>Matcher</code> is stateful.</p></li>\n<li><p>If <em>anything</em><sup>1</sup> calls <code>find</code> or <code>match</code> while you are (still) looking at the groups (etc) from the previous call, then you will lose the state from the previous call.   The same applies for <code>reset</code> and <code>reset(CharSequence)</code>, and some other methods.  This behavior is inherent in the API design, and clearly documented. </p></li>\n<li><p><code>Matcher</code> is not thread-safe.  The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">javadoc</a> states this explicitly:</p>\n\n<blockquote>\n  <p><em>\"Instances of this class are not safe for use by multiple concurrent threads.\"</em></p>\n</blockquote></li>\n<li><p>However, using it like your code does should work ... <em>provided</em> that the <code>Matcher</code> was only visible to / used by the current thread, and not used further up (or down) the call stack.</p></li>\n</ol>\n\n<p>See also: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11391337/java-pattern-matcher-create-new-or-reset\">Java Pattern Matcher: create new or reset?</a> ... though the accepted answer is missing the \"recursion\" caveat.</li>\n</ul>\n\n<hr>\n\n<p>By contrast, <code>Pattern</code> is both thread-safe and immutable / stateless.</p>\n\n<hr>\n\n<p><sup>1 - That could be another thread, or the current thread that is using the same <code>Matcher</code> at different points in the call stack; i.e. via recursion or something like that.</sup></p>\n"}],"owner":{"account_id":10949420,"reputation":5730,"user_id":8046232,"display_name":"Rocky Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58002788,"answer_count":2,"score":1,"last_activity_date":1693140368,"creation_date":1568858044,"question_id":58002673,"body_markdown":"I come from the python side and does not know much about java regex, the question is pretty self explanatory, let me add some scenario.\r\n\r\nAssume I have an instance with a `Matcher matcher` variable, and a function like this:\r\n\r\n    public String getMatch(String group) {\r\n        if (matcher.find()) {\r\n            return matcher.group(group);\r\n        } else { blah }\r\n    }\r\n\r\nWhere all regex capturing groups are named, Would calling it multiple time cause problems?","title":"Is java regex matcher stateful?","body":"<p>I come from the python side and does not know much about java regex, the question is pretty self explanatory, let me add some scenario.</p>\n\n<p>Assume I have an instance with a <code>Matcher matcher</code> variable, and a function like this:</p>\n\n<pre><code>public String getMatch(String group) {\n    if (matcher.find()) {\n        return matcher.group(group);\n    } else { blah }\n}\n</code></pre>\n\n<p>Where all regex capturing groups are named, Would calling it multiple time cause problems?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1567619365,"creation_date":1567619365,"answer_id":57793511,"question_id":57793416,"body_markdown":"Problem is in this line inside the `while` loop:\r\n\r\n    System.out.println(matcher.matches());\r\n\r\nHere `matches()` attempts to match the entire region against the pattern.\r\n\r\nIf the match succeeds then more information can be obtained via the `start`, `end`, and `group` methods.\r\n\r\nSince your regex doesn&#39;t match entire input, `matches()` returns `false` and you will get `java.lang.IllegalStateException` where code calls `.group(1)`.\r\n\r\nTo fix just comment out `System.out.println(matcher.matches());` line and rerun the code.\r\n\r\nbtw you can use this shorter regex:\r\n\r\n    final Pattern pattern = Pattern.compile(&quot;\\\\(([^)]+)\\\\)&quot;);\r\n\r\nAs there is no need to escape `)` inside the character class and `DOTALL` is redundant here since you&#39;re not using DOT anywhere in your regex.","title":"Java matcher not matching even conditioned to find() in a loop","body":"<p>Problem is in this line inside the <code>while</code> loop:</p>\n\n<pre><code>System.out.println(matcher.matches());\n</code></pre>\n\n<p>Here <code>matches()</code> attempts to match the entire region against the pattern.</p>\n\n<p>If the match succeeds then more information can be obtained via the <code>start</code>, <code>end</code>, and <code>group</code> methods.</p>\n\n<p>Since your regex doesn't match entire input, <code>matches()</code> returns <code>false</code> and you will get <code>java.lang.IllegalStateException</code> where code calls <code>.group(1)</code>.</p>\n\n<p>To fix just comment out <code>System.out.println(matcher.matches());</code> line and rerun the code.</p>\n\n<p>btw you can use this shorter regex:</p>\n\n<pre><code>final Pattern pattern = Pattern.compile(\"\\\\(([^)]+)\\\\)\");\n</code></pre>\n\n<p>As there is no need to escape <code>)</code> inside the character class and <code>DOTALL</code> is redundant here since you're not using DOT anywhere in your regex.</p>\n"}],"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1038,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57793511,"answer_count":1,"score":4,"last_activity_date":1693140319,"creation_date":1567618952,"question_id":57793416,"body_markdown":"**Introduction**\r\n\r\nI want to extract a substring inside a String using RegEx in Java. For such, lets use Pattern and Matcher classes to do it properly.\r\n\r\n**Code**\r\n\r\n    package stringlearning;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    /**\r\n     *\r\n     * @author Jonathan\r\n     */\r\n    public class StringLearning {\r\n    \r\n        //Example String\r\n        public static String line = &quot;This is the (first|second|third) choice.&quot;;\r\n        \r\n        \r\n        public static void main(String[] args) \r\n        {\r\n            \r\n            //String is right, right?\r\n            System.out.println(&quot;Line is: &quot; + line);\r\n            \r\n            //How to use RegEx in Java properly\r\n            Pattern pattern = Pattern.compile(&quot;\\\\(([^\\\\)]+)\\\\)&quot;, Pattern.DOTALL);\r\n            Matcher matcher = pattern.matcher(line);\r\n            \r\n            //While we find, keep looping\r\n            while(matcher.find())\r\n            {\r\n                //What we foud out?\r\n                System.out.println(matcher.matches());\r\n                System.out.println(matcher.groupCount());\r\n                System.out.println(matcher.group(1));\r\n            }\r\n            \r\n    \r\n            \r\n        }\r\n        \r\n    }\r\n\r\n**Problem**\r\n\r\nI still can&#39;t understand why it can&#39;t find anything. The regular expression was made on [RegEx][1] and works properly there *(Do not forget about the escapes! &#39;/&#39;)*\r\n\r\n**I want to know what I am missing that it doesn&#39;t match**\r\n\r\n**Notes**\r\n\r\n- IDE: NetBeans\r\n- Java version is 1.8.0_221\r\n\r\n\r\n\r\n  [1]: http://regexr.com/4kdp1","title":"Java matcher not matching even conditioned to find() in a loop","body":"<p><strong>Introduction</strong></p>\n\n<p>I want to extract a substring inside a String using RegEx in Java. For such, lets use Pattern and Matcher classes to do it properly.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>package stringlearning;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n *\n * @author Jonathan\n */\npublic class StringLearning {\n\n    //Example String\n    public static String line = \"This is the (first|second|third) choice.\";\n\n\n    public static void main(String[] args) \n    {\n\n        //String is right, right?\n        System.out.println(\"Line is: \" + line);\n\n        //How to use RegEx in Java properly\n        Pattern pattern = Pattern.compile(\"\\\\(([^\\\\)]+)\\\\)\", Pattern.DOTALL);\n        Matcher matcher = pattern.matcher(line);\n\n        //While we find, keep looping\n        while(matcher.find())\n        {\n            //What we foud out?\n            System.out.println(matcher.matches());\n            System.out.println(matcher.groupCount());\n            System.out.println(matcher.group(1));\n        }\n\n\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>I still can't understand why it can't find anything. The regular expression was made on <a href=\"http://regexr.com/4kdp1\" rel=\"nofollow noreferrer\">RegEx</a> and works properly there <em>(Do not forget about the escapes! '/')</em></p>\n\n<p><strong>I want to know what I am missing that it doesn't match</strong></p>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li>IDE: NetBeans</li>\n<li>Java version is 1.8.0_221</li>\n</ul>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566478783,"post_id":57609873,"comment_id":101675121,"body_markdown":"try this `((http:\\/\\/|https:\\/\\/)?(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/.0-9#:?=&amp;;,]*)?)?)`","body":"try this <code>((http:\\&#47;\\&#47;|https:\\&#47;\\&#47;)?(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z])&zwnj;&#8203;{2,6}(\\&#47;([a-zA-Z-_\\&#47;&zwnj;&#8203;.0-9#:?=&amp;;,]*)?)?)</code>"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1566478841,"post_id":57609873,"comment_id":101675155,"body_markdown":"Wouldn&#39;t it be simpler to pull anything which is after http(s) and keep going untill you hit a white space? Or are you doing some specific validation as well?","body":"Wouldn&#39;t it be simpler to pull anything which is after http(s) and keep going untill you hit a white space? Or are you doing some specific validation as well?"},{"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"score":0,"creation_date":1566479204,"post_id":57609873,"comment_id":101675414,"body_markdown":"@Vishal It is not returning the expected result","body":"@Vishal It is not returning the expected result"},{"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"score":0,"creation_date":1566479287,"post_id":57609873,"comment_id":101675464,"body_markdown":"@npinti Yes it will be simpler in that case. I am working on that regex.","body":"@npinti Yes it will be simpler in that case. I am working on that regex."},{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566479309,"post_id":57609873,"comment_id":101675482,"body_markdown":"Check this https://regex101.com/r/pqxTDU/1/","body":"Check this <a href=\"https://regex101.com/r/pqxTDU/1/\" rel=\"nofollow noreferrer\">regex101.com/r/pqxTDU/1</a>"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1566479540,"post_id":57609873,"comment_id":101675631,"body_markdown":"I&#39;ve pasted the regex in a regex101.com and it seems to work. One thing I have noticed is this: `[a-zA-Z-_\\/\\.0-9#:?=&amp;;,]` The `-` in square brackets denotes **character ranges**, you would need to put it at the end, like so: `[a-zA-Z_\\/\\.0-9#:?=&amp;;,-]`","body":"I&#39;ve pasted the regex in a regex101.com and it seems to work. One thing I have noticed is this: <code>[a-zA-Z-_\\&#47;\\.0-9#:?=&amp;;,]</code> The <code>-</code> in square brackets denotes <b>character ranges</b>, you would need to put it at the end, like so: <code>[a-zA-Z_\\&#47;\\.0-9#:?=&amp;;,-]</code>"},{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566479584,"post_id":57609873,"comment_id":101675652,"body_markdown":"check that [link](https://regex101.com/r/pqxTDU/1/) again (updated it), I have pasted your whole sentence and it will match now your requirements. regex is `((http:\\/\\/|https:\\/\\/)(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/.0-9#:?=&amp;;,]*)?)+)`","body":"check that <a href=\"https://regex101.com/r/pqxTDU/1/\" rel=\"nofollow noreferrer\">link</a> again (updated it), I have pasted your whole sentence and it will match now your requirements. regex is <code>((http:\\&#47;\\&#47;|https:\\&#47;\\&#47;)(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z]){&zwnj;&#8203;2,6}(\\&#47;([a-zA-Z-_\\&#47;.&zwnj;&#8203;0-9#:?=&amp;;,]*)?)+)</code>"},{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566479883,"post_id":57609873,"comment_id":101675840,"body_markdown":"Sorry, the link is https://regex101.com/r/pqxTDU/2/. I missed the &#39;2&#39;","body":"Sorry, the link is <a href=\"https://regex101.com/r/pqxTDU/2/\" rel=\"nofollow noreferrer\">regex101.com/r/pqxTDU/2</a>. I missed the &#39;2&#39;"},{"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"score":0,"creation_date":1566479893,"post_id":57609873,"comment_id":101675845,"body_markdown":"@vishal I am getting 1 result in output i.e last link &quot;https://test.com/method?param=wasd&quot;. Is it matching the last pattern in the string ?\nor it is some functionality of matcher.find() method which is restricting all result.","body":"@vishal I am getting 1 result in output i.e last link &quot;<a href=\"https://test.com/method?param=wasd\" rel=\"nofollow noreferrer\">test.com/method?param=wasd</a>&quot;. Is it matching the last pattern in the string ? or it is some functionality of matcher.find() method which is restricting all result."},{"owner":{"account_id":4362977,"reputation":140,"user_id":3559502,"display_name":"Ivkin Igor"},"score":0,"creation_date":1566480435,"post_id":57609873,"comment_id":101676183,"body_markdown":"By the way your pattern will not detect some valid URLs like URLs with cyrillic or Hiragana characters. Probably your best bet is to tokenize string into tokens (or IndexOf-based variant :-))","body":"By the way your pattern will not detect some valid URLs like URLs with cyrillic or Hiragana characters. Probably your best bet is to tokenize string into tokens (or IndexOf-based variant :-))"},{"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1566481954,"post_id":57609873,"comment_id":101677108,"body_markdown":"Try `https?://\\S+`","body":"Try <code>https?:&#47;&#47;\\S+</code>"}],"answers":[{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566482840,"creation_date":1566482499,"answer_id":57611135,"question_id":57609873,"body_markdown":"So I know this is not exactly what you asked since you are specifically looking for `regex`, but I thought this would fun to try out with an `indexOf` variant.  I will leave it here as an alternative to the regex someone comes up with:    \r\n\r\n\r\n    public static void main(String[] args){\r\n       String synopsis = &quot;This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list&quot;;\r\n        \r\n    \tArrayList&lt;String&gt; list = splitUrl(synopsis);\r\n    \tfor (String s : list) {\r\n    \t\tSystem.out.println(s);\r\n    \t}\r\n    }\r\n    \r\n    public static ArrayList&lt;String&gt; splitUrl(String s) \r\n    {\r\n    \tArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \tint spaceIndex = 0;\r\n    \twhile (true) {\r\n    \t\tint httpIndex = s.indexOf(&quot;http&quot;, spaceIndex);\r\n    \t\tif (httpIndex &lt; 0) {\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t\tspaceIndex = s.indexOf(&quot; &quot;, httpIndex);\r\n    \t\tif (spaceIndex &lt; 0) {\r\n    \t\t\tlist.add(s.substring(httpIndex));\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tlist.add(s.substring(httpIndex, spaceIndex));\r\n    \t\t}\r\n    \t}\r\n    \treturn list;\r\n    }\r\n\r\nAll the logic is contained in the `splitUrl(String s)` method, it takes in a `String` as a parameter and outputs the `ArrayList&lt;String&gt;` of all the split urls.  \r\n\r\nIt first searches for the index of any `http` and then the first space that occurs after the url and substrings the difference.  It then uses the space it found as the second parameter in `indexOf(String, int)` to start searching the `String` beginning after the http that was already found so it does not repeat the same ones.\r\n\r\nAdditionally a case had to be made when the `http` is the final part of the `String` as there is no space afterward.  This is done when the `indexOf` the space returns negative, I use `substring(int)` instead of `substring(int, int)` which will take the current location and substring the _rest_ of the String.\r\n\r\nThe loop ends when either `indexOf` returns with a negative, though if the space returns negative it does that final `substring` operation before the `break`.\r\n\r\n**Output:**\r\n\r\n&gt;http://stackoverflow.com/questions\r\n\r\n&gt;https://test.com/method?param=wasd\r\n\r\n**Note:**  As someone mentioned in the comments too, this implementation will work with non-Latin characters such as Hiragana too, which could be an advantage over regex.\r\n","title":"Regex for finding http and https url from a string","body":"<p>So I know this is not exactly what you asked since you are specifically looking for <code>regex</code>, but I thought this would fun to try out with an <code>indexOf</code> variant.  I will leave it here as an alternative to the regex someone comes up with:    </p>\n\n<pre><code>public static void main(String[] args){\n   String synopsis = \"This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list\";\n\n    ArrayList&lt;String&gt; list = splitUrl(synopsis);\n    for (String s : list) {\n        System.out.println(s);\n    }\n}\n\npublic static ArrayList&lt;String&gt; splitUrl(String s) \n{\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n    int spaceIndex = 0;\n    while (true) {\n        int httpIndex = s.indexOf(\"http\", spaceIndex);\n        if (httpIndex &lt; 0) {\n            break;\n        }\n\n        spaceIndex = s.indexOf(\" \", httpIndex);\n        if (spaceIndex &lt; 0) {\n            list.add(s.substring(httpIndex));\n            break;\n        }\n        else {\n            list.add(s.substring(httpIndex, spaceIndex));\n        }\n    }\n    return list;\n}\n</code></pre>\n\n<p>All the logic is contained in the <code>splitUrl(String s)</code> method, it takes in a <code>String</code> as a parameter and outputs the <code>ArrayList&lt;String&gt;</code> of all the split urls.  </p>\n\n<p>It first searches for the index of any <code>http</code> and then the first space that occurs after the url and substrings the difference.  It then uses the space it found as the second parameter in <code>indexOf(String, int)</code> to start searching the <code>String</code> beginning after the http that was already found so it does not repeat the same ones.</p>\n\n<p>Additionally a case had to be made when the <code>http</code> is the final part of the <code>String</code> as there is no space afterward.  This is done when the <code>indexOf</code> the space returns negative, I use <code>substring(int)</code> instead of <code>substring(int, int)</code> which will take the current location and substring the <em>rest</em> of the String.</p>\n\n<p>The loop ends when either <code>indexOf</code> returns with a negative, though if the space returns negative it does that final <code>substring</code> operation before the <code>break</code>.</p>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a></p>\n  \n  <p><a href=\"https://test.com/method?param=wasd\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd</a></p>\n</blockquote>\n\n<p><strong>Note:</strong>  As someone mentioned in the comments too, this implementation will work with non-Latin characters such as Hiragana too, which could be an advantage over regex.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566484328,"creation_date":1566484328,"answer_id":57611716,"question_id":57609873,"body_markdown":"**This regex will match all the valid urls, including FTP and other** \r\n\r\n    String urlRegex = &quot;((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n\r\n_________________________________________________________________\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class xmlValue {\r\n        public static void main(String[] args) {\r\n    String text = &quot;This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list&quot;;\r\n            System.out.println(extractUrls(text));\r\n        }\r\n    \r\n        public static List&lt;String&gt; extractUrls(String text)\r\n        {\r\n            List&lt;String&gt; containedUrls = new ArrayList&lt;String&gt;();\r\n            String urlRegex = &quot;((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n            Pattern pattern = Pattern.compile(urlRegex, Pattern.CASE_INSENSITIVE);\r\n            Matcher urlMatcher = pattern.matcher(text);\r\n    \r\n            while (urlMatcher.find())\r\n            {\r\n                containedUrls.add(text.substring(urlMatcher.start(0),\r\n                        urlMatcher.end(0)));\r\n            }\r\n    \r\n            return containedUrls;\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n&gt; [http://stackoverflow.com/questions,\r\n&gt; https://test.com/method?param=wasd]\r\n\r\n**credits @BullyWiiPlaza**","title":"Regex for finding http and https url from a string","body":"<p><strong>This regex will match all the valid urls, including FTP and other</strong> </p>\n\n<pre><code>String urlRegex = \"((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)\";\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class xmlValue {\n    public static void main(String[] args) {\nString text = \"This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list\";\n        System.out.println(extractUrls(text));\n    }\n\n    public static List&lt;String&gt; extractUrls(String text)\n    {\n        List&lt;String&gt; containedUrls = new ArrayList&lt;String&gt;();\n        String urlRegex = \"((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)\";\n        Pattern pattern = Pattern.compile(urlRegex, Pattern.CASE_INSENSITIVE);\n        Matcher urlMatcher = pattern.matcher(text);\n\n        while (urlMatcher.find())\n        {\n            containedUrls.add(text.substring(urlMatcher.start(0),\n                    urlMatcher.end(0)));\n        }\n\n        return containedUrls;\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<blockquote>\n  <p>[<a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a>,\n  <a href=\"https://test.com/method?param=wasd]\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd]</a></p>\n</blockquote>\n\n<p><strong>credits @BullyWiiPlaza</strong></p>\n"}],"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1979,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57611716,"answer_count":2,"score":2,"last_activity_date":1693140294,"creation_date":1566478581,"question_id":57609873,"body_markdown":"I have a string which contains multiple url starting from http and https I need to fetch all those url and put into a list.\r\n\r\nI have tried below code.\r\n\r\n```\r\nList&lt;String&gt; httpLinksList = new ArrayList&lt;&gt;();\r\n\r\nString hyperlinkRegex = &quot;((http:\\/\\/|https:\\/\\/)?(([a-zA-Z0-9-]){2,}\\.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/\\.0-9#:?=&amp;;,]*)?)?)&quot;;\r\n```\r\nString synopsis = &quot;This is http://stackoverflow.com/questions and  https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(hyperlinkRegex);\r\n        Matcher matcher = pattern.matcher(synopsis);\r\n        while(matcher.find()){\r\n            System.out.println(matcher.find()+&quot;  &quot;+matcher.group(1)+&quot;  &quot;+matcher.groupCount()+&quot;  &quot;+matcher.group(2));\r\n\r\n            httpLinksList.add(matcher.group());\r\n        }\r\n\r\n        System.out.println(httpLinksList);\r\n\r\n\r\nI need below result \r\n[http://stackoverflow.com/questions,\r\nhttps://test.com/method?param=wasd]\r\nBut getting below output\r\n[https://test.com/method?param=wasd]","title":"Regex for finding http and https url from a string","body":"<p>I have a string which contains multiple url starting from http and https I need to fetch all those url and put into a list.</p>\n\n<p>I have tried below code.</p>\n\n<pre><code>List&lt;String&gt; httpLinksList = new ArrayList&lt;&gt;();\n\nString hyperlinkRegex = \"((http:\\/\\/|https:\\/\\/)?(([a-zA-Z0-9-]){2,}\\.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/\\.0-9#:?=&amp;;,]*)?)?)\";\n</code></pre>\n\n<p>String synopsis = \"This is <a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a> and  <a href=\"https://test.com/method?param=wasd\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd</a> The code below catches all urls in text and returns urls in list\";</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(hyperlinkRegex);\n    Matcher matcher = pattern.matcher(synopsis);\n    while(matcher.find()){\n        System.out.println(matcher.find()+\"  \"+matcher.group(1)+\"  \"+matcher.groupCount()+\"  \"+matcher.group(2));\n\n        httpLinksList.add(matcher.group());\n    }\n\n    System.out.println(httpLinksList);\n</code></pre>\n\n<p>I need below result \n[<a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a>,\n<a href=\"https://test.com/method?param=wasd]\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd]</a>\nBut getting below output\n[<a href=\"https://test.com/method?param=wasd]\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd]</a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":5,"creation_date":1563921854,"post_id":57173097,"comment_id":100859179,"body_markdown":"*&quot;extract ... from a json string&quot;* Use a **JSON Parser**!!!!","body":"<i>&quot;extract ... from a json string&quot;</i> Use a <b>JSON Parser</b>!!!!"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1563921945,"post_id":57173097,"comment_id":100859199,"body_markdown":"[How to parse JSON in Java](https://stackoverflow.com/q/2591098), really regex is last tool you want here. Parsers solve all kind of problems which you are not aware of. It is same story as parsing HTML/XML with regex: [Using regular expressions to parse HTML: why not?](https://stackoverflow.com/q/590747), [Can you provide some examples of why it is hard to parse XML and HTML with a regex?](https://stackoverflow.com/q/701166), and finally https://stackoverflow.com/a/1732454,","body":"<a href=\"https://stackoverflow.com/q/2591098\">How to parse JSON in Java</a>, really regex is last tool you want here. Parsers solve all kind of problems which you are not aware of. It is same story as parsing HTML/XML with regex: <a href=\"https://stackoverflow.com/q/590747\">Using regular expressions to parse HTML: why not?</a>, <a href=\"https://stackoverflow.com/q/701166\">Can you provide some examples of why it is hard to parse XML and HTML with a regex?</a>, and finally <a href=\"https://stackoverflow.com/a/1732454\">stackoverflow.com/a/1732454</a>,"},{"owner":{"account_id":13774367,"reputation":41,"user_id":9941051,"display_name":"Marvin 2"},"score":0,"creation_date":1563952201,"post_id":57173097,"comment_id":100866155,"body_markdown":"Hi. I tried to parse the string with the Gson parser to convert the whole string to a object but the date string is parsed as a string value in the resulting object. What I really want is to extract those strings not to parse it.","body":"Hi. I tried to parse the string with the Gson parser to convert the whole string to a object but the date string is parsed as a string value in the resulting object. What I really want is to extract those strings not to parse it."}],"answers":[{"tags":[],"owner":{"account_id":8764366,"reputation":27439,"user_id":6553328,"display_name":"Emma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563937837,"creation_date":1563937837,"answer_id":57174687,"question_id":57173097,"body_markdown":"It&#39;s frowned upon, yet if you have to, I&#39;m guessing that you may be trying to write an expression looking somewhat like:\n\n    {\\\\&quot;([^\\\\]+)\\\\&quot;:{\\\\&quot;\\$([^\\\\]+)\\\\&quot;:\\\\&quot;[0-9]+\\/[0-9]+\\/[0-9]+\\s+[0-9]+:[0-9]+:[0-9]+\\\\&quot;}}\n\nnot so sure though. \n\n-----------\n\nThe expression is explained on the top right panel of [regex101.com](https://regex101.com/r/WWYZcD/1), if you wish to explore/simplify/modify it, and in [this link](https://regex101.com/r/WWYZcD/1debugger), you can watch how it would match against some sample inputs, if you like. \n\n\n### Test\n\n    import java.util.regex.Matcher;\n    import java.util.regex.Pattern;\n    \n    final String regex = &quot;\\\\{\\\\\\\\\\&quot;([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\{\\\\\\\\\\&quot;\\\\$([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\\\\\\\&quot;[0-9]+\\\\/[0-9]+\\\\/[0-9]+\\\\s+[0-9]+:[0-9]+:[0-9]+\\\\\\\\\\&quot;\\\\}}&quot;;\n    final String string = &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$gte\\\\\\&quot;:\\\\\\&quot;28/02/2015 00:00:00\\\\\\&quot;}}\\n&quot;\n         + &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$lte\\\\\\&quot;:\\\\\\&quot;28/02/2015 23:59:59\\\\\\&quot;}}&quot;;\n    \n    final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n    final Matcher matcher = pattern.matcher(string);\n    \n    while (matcher.find()) {\n        System.out.println(&quot;Full match: &quot; + matcher.group(0));\n        for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n            System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n        }\n    }","title":"Problems defining the pattern to extract multiple dates from a JSON string","body":"<p>It's frowned upon, yet if you have to, I'm guessing that you may be trying to write an expression looking somewhat like:</p>\n<pre><code>{\\\\&quot;([^\\\\]+)\\\\&quot;:{\\\\&quot;\\$([^\\\\]+)\\\\&quot;:\\\\&quot;[0-9]+\\/[0-9]+\\/[0-9]+\\s+[0-9]+:[0-9]+:[0-9]+\\\\&quot;}}\n</code></pre>\n<p>not so sure though.</p>\n<hr />\n<p>The expression is explained on the top right panel of <a href=\"https://regex101.com/r/WWYZcD/1\" rel=\"nofollow noreferrer\">regex101.com</a>, if you wish to explore/simplify/modify it, and in <a href=\"https://regex101.com/r/WWYZcD/1debugger\" rel=\"nofollow noreferrer\">this link</a>, you can watch how it would match against some sample inputs, if you like.</p>\n<h3>Test</h3>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nfinal String regex = &quot;\\\\{\\\\\\\\\\&quot;([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\{\\\\\\\\\\&quot;\\\\$([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\\\\\\\&quot;[0-9]+\\\\/[0-9]+\\\\/[0-9]+\\\\s+[0-9]+:[0-9]+:[0-9]+\\\\\\\\\\&quot;\\\\}}&quot;;\nfinal String string = &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$gte\\\\\\&quot;:\\\\\\&quot;28/02/2015 00:00:00\\\\\\&quot;}}\\n&quot;\n     + &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$lte\\\\\\&quot;:\\\\\\&quot;28/02/2015 23:59:59\\\\\\&quot;}}&quot;;\n\nfinal Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\nfinal Matcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(&quot;Full match: &quot; + matcher.group(0));\n    for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n        System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13774367,"reputation":41,"user_id":9941051,"display_name":"Marvin 2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693140264,"creation_date":1563921744,"question_id":57173097,"body_markdown":"I have the following code:\r\n\r\n        public static void main(String[] args) {\r\n        String str = &quot;{\\&quot;$and\\&quot;:[{\\\\\\&quot;$or\\\\\\&quot;:[{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEMD\\\\\\&quot;}},{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEBL\\\\\\&quot;}}]},{\\&quot;horasacta\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}},{\\&quot;horasacta\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}]}&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\{\\&quot;(.*?)\\&quot;:\\\\{\\&quot;\\\\$(.*?)\\&quot;:\\&quot;[0-9]+/[0-9]+/[0-9]+ [0-9]+:[0-9]+:[0-9]+\\&quot;}}&quot;);\r\n        Matcher matcher = pattern.matcher(str);\r\n        while (matcher.find()) {\r\n            System.out.println(matcher.group(0));\r\n        }\r\n\r\nI want to get the substrings:\r\n\r\n    {\\&quot;departure\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}}\r\n    {\\&quot;departure\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}\r\n\r\nBut the program give me:\r\n\r\n    {&quot;$and&quot;:[{\\&quot;$or\\&quot;:[{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEMD\\&quot;}},{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEBL\\&quot;}}]},{&quot;departure&quot;:{&quot;$gte&quot;:&quot;28/02/2015 00:00:00&quot;}}\r\n    {&quot;departure&quot;:{&quot;$lte&quot;:&quot;28/02/2015 23:59:59&quot;}}\r\n\r\nThe 2nd time the find() matches the pattern but the 1st time it doesn&#39;t do the job.\r\n\r\n","title":"Problems defining the pattern to extract multiple dates from a JSON string","body":"<p>I have the following code:</p>\n<pre><code>    public static void main(String[] args) {\n    String str = &quot;{\\&quot;$and\\&quot;:[{\\\\\\&quot;$or\\\\\\&quot;:[{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEMD\\\\\\&quot;}},{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEBL\\\\\\&quot;}}]},{\\&quot;horasacta\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}},{\\&quot;horasacta\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}]}&quot;;\n\n    Pattern pattern = Pattern.compile(&quot;\\\\{\\&quot;(.*?)\\&quot;:\\\\{\\&quot;\\\\$(.*?)\\&quot;:\\&quot;[0-9]+/[0-9]+/[0-9]+ [0-9]+:[0-9]+:[0-9]+\\&quot;}}&quot;);\n    Matcher matcher = pattern.matcher(str);\n    while (matcher.find()) {\n        System.out.println(matcher.group(0));\n    }\n</code></pre>\n<p>I want to get the substrings:</p>\n<pre><code>{\\&quot;departure\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}}\n{\\&quot;departure\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}\n</code></pre>\n<p>But the program give me:</p>\n<pre><code>{&quot;$and&quot;:[{\\&quot;$or\\&quot;:[{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEMD\\&quot;}},{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEBL\\&quot;}}]},{&quot;departure&quot;:{&quot;$gte&quot;:&quot;28/02/2015 00:00:00&quot;}}\n{&quot;departure&quot;:{&quot;$lte&quot;:&quot;28/02/2015 23:59:59&quot;}}\n</code></pre>\n<p>The 2nd time the find() matches the pattern but the 1st time it doesn't do the job.</p>\n"},{"tags":["java","regex","string","search"],"comments":[{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1562330991,"post_id":56903361,"comment_id":100351496,"body_markdown":"From the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html) - **Logical operators** : `X|Y\tEither X or Y`. In your case - `[word1|word2|word3]`...","body":"From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs</a> - <b>Logical operators</b> : <code>X|Y\tEither X or Y</code>. In your case - <code>[word1|word2|word3]</code>..."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1562331602,"post_id":56903361,"comment_id":100351824,"body_markdown":"@dbl That won&#39;t help because alternation will return once the left most alternative matches, while OP wants to &quot;return the occurences of each of them&quot;.","body":"@dbl That won&#39;t help because alternation will return once the left most alternative matches, while OP wants to &quot;return the occurences of each of them&quot;."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1562331774,"post_id":56903361,"comment_id":100351922,"body_markdown":"Point is taken. I will leave the comment so nobody else do the same misthought...","body":"Point is taken. I will leave the comment so nobody else do the same misthought..."},{"owner":{"account_id":15527842,"reputation":523,"user_id":11202157,"display_name":"Edoardo Tavilla"},"score":0,"creation_date":1562332141,"post_id":56903361,"comment_id":100352102,"body_markdown":"My point is passing, by argument, an ArrayList&lt;String&gt; and to verify the matching of each of them.","body":"My point is passing, by argument, an ArrayList&lt;String&gt; and to verify the matching of each of them."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":1,"creation_date":1562332715,"post_id":56903361,"comment_id":100352420,"body_markdown":"I think that if you want an answer you should provide some test cases and expected outputs. Try to put enough of those though :)","body":"I think that if you want an answer you should provide some test cases and expected outputs. Try to put enough of those though :)"}],"answers":[{"tags":[],"owner":{"account_id":8997684,"reputation":136,"user_id":6707419,"display_name":"nikals"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562335449,"creation_date":1562335449,"answer_id":56904581,"question_id":56903361,"body_markdown":"HashMap as argument with the input string as key and regex as value, loop through all entries, do your method and return a HashMap with the matched word as key and occurences as value.\r\n\r\n     public HashMap&lt;String, Integer&gt; findTheWordsAndOccurences(HashMap&lt;String, String&gt; stringsAndRegex) throws IOException {\r\n\r\n        HashMap&lt;String, Integer&gt; result = null;\r\n\r\n        for (Map.Entry&lt;String, String&gt; entry : stringsAndRegex.entrySet()){\r\n\r\n            String stringToCheck = entry.getKey();\r\n            String regexString = entry.getValue();\r\n            String matchString = &quot;&quot;;\r\n            int count = 0;\r\n            Pattern regexp = Pattern.compile(&quot;\\\\b&quot; + regexString + &quot;\\\\b&quot;);\r\n            Matcher matcher = regexp.matcher(stringToCheck);\r\n\r\n            while (matcher.find()) {\r\n                count++;\r\n                matchString = matcher.group();\r\n                System.out.println(matchString);\r\n                result.put(matchString, count);\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Search multiple words in a text using regular expressions (Java)","body":"<p>HashMap as argument with the input string as key and regex as value, loop through all entries, do your method and return a HashMap with the matched word as key and occurences as value.</p>\n\n<pre><code> public HashMap&lt;String, Integer&gt; findTheWordsAndOccurences(HashMap&lt;String, String&gt; stringsAndRegex) throws IOException {\n\n    HashMap&lt;String, Integer&gt; result = null;\n\n    for (Map.Entry&lt;String, String&gt; entry : stringsAndRegex.entrySet()){\n\n        String stringToCheck = entry.getKey();\n        String regexString = entry.getValue();\n        String matchString = \"\";\n        int count = 0;\n        Pattern regexp = Pattern.compile(\"\\\\b\" + regexString + \"\\\\b\");\n        Matcher matcher = regexp.matcher(stringToCheck);\n\n        while (matcher.find()) {\n            count++;\n            matchString = matcher.group();\n            System.out.println(matchString);\n            result.put(matchString, count);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562337254,"creation_date":1562337254,"answer_id":56905088,"question_id":56903361,"body_markdown":"So the first and easiest option would be to use your actual `findTheWord()` method and create a new method which uses it:\r\n\r\n    public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\r\n        return words.stream().distinct()\r\n                .collect(Collectors.toMap(Function.identity(), word -&gt; findTheWord(stringToCheck, word)));\r\n    }\r\n\r\n    public Integer findTheWord(String stringToCheck, String regexString) {\r\n        Pattern regexp = Pattern.compile(&quot;\\\\b&quot; + regexString + &quot;\\\\b&quot;);\r\n        Matcher matcher = regexp.matcher(stringToCheck);\r\n\r\n        int count = 0;\r\n        while (matcher.find()) {\r\n            count++;\r\n        }\r\n        return count;\r\n    }\r\n\r\nThe problem with this is if you are using a large number of words to find and a large text, because it iterates over the given string for each word. So another approach would be to create a regex for all words and increment the next found word in your resulting map:\r\n\r\n    public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\r\n        Pattern regexp = Pattern.compile(words.stream().distinct().map(word -&gt; &quot;\\\\b&quot; + word + &quot;\\\\b&quot;).collect(Collectors.joining(&quot;|&quot;)));\r\n        // creates a pattern like this: &quot;\\ba\\b|\\bb\\b|\\bc\\b|\\bd\\b|\\be\\b&quot;\r\n        Matcher matcher = regexp.matcher(stringToCheck);\r\n        Map&lt;String, Integer&gt; result = new HashMap&lt;&gt;();\r\n        while (matcher.find()) {\r\n            String word = matcher.group();\r\n            result.put(word, result.getOrDefault(word, 0) + 1);\r\n        }\r\n        return result;\r\n    }\r\n\r\nBeside that you might be considering using a `Set` for the words instead of the `List` because the values are unique, so there is no need to call `.distinct()` on the stream.","title":"Search multiple words in a text using regular expressions (Java)","body":"<p>So the first and easiest option would be to use your actual <code>findTheWord()</code> method and create a new method which uses it:</p>\n\n<pre><code>public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\n    return words.stream().distinct()\n            .collect(Collectors.toMap(Function.identity(), word -&gt; findTheWord(stringToCheck, word)));\n}\n\npublic Integer findTheWord(String stringToCheck, String regexString) {\n    Pattern regexp = Pattern.compile(\"\\\\b\" + regexString + \"\\\\b\");\n    Matcher matcher = regexp.matcher(stringToCheck);\n\n    int count = 0;\n    while (matcher.find()) {\n        count++;\n    }\n    return count;\n}\n</code></pre>\n\n<p>The problem with this is if you are using a large number of words to find and a large text, because it iterates over the given string for each word. So another approach would be to create a regex for all words and increment the next found word in your resulting map:</p>\n\n<pre><code>public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\n    Pattern regexp = Pattern.compile(words.stream().distinct().map(word -&gt; \"\\\\b\" + word + \"\\\\b\").collect(Collectors.joining(\"|\")));\n    // creates a pattern like this: \"\\ba\\b|\\bb\\b|\\bc\\b|\\bd\\b|\\be\\b\"\n    Matcher matcher = regexp.matcher(stringToCheck);\n    Map&lt;String, Integer&gt; result = new HashMap&lt;&gt;();\n    while (matcher.find()) {\n        String word = matcher.group();\n        result.put(word, result.getOrDefault(word, 0) + 1);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Beside that you might be considering using a <code>Set</code> for the words instead of the <code>List</code> because the values are unique, so there is no need to call <code>.distinct()</code> on the stream.</p>\n"}],"owner":{"account_id":15527842,"reputation":523,"user_id":11202157,"display_name":"Edoardo Tavilla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56905088,"answer_count":2,"score":1,"last_activity_date":1693140179,"creation_date":1562330764,"question_id":56903361,"body_markdown":"I have a method to search a word in a text, both inserted by arguments. \r\n\r\n    public Integer findTheWord(String stringToCheck, String regexString) throws IOException {\r\n\t\t\t\t\r\n\t\t\tint count = 0;\r\n\t\t    Pattern regexp = Pattern.compile(&quot;\\\\b&quot; + regexString + &quot;\\\\b&quot;);\r\n\t\t    Matcher matcher = regexp.matcher(stringToCheck);\r\n\r\n\t\t    while (matcher.find()) {\r\n\t\t    \t\tcount++;\r\n\t\t\t\t\tString matchString = matcher.group();\r\n\t\t\t\t\tSystem.out.println(matchString);\r\n\t\t\t\t}\r\n\t\t    System.out.println(count);\r\n\t\t\treturn count;\r\n\t  }\r\n\r\nHow can I insert multiple words and return the occurences of each of them?","title":"Search multiple words in a text using regular expressions (Java)","body":"<p>I have a method to search a word in a text, both inserted by arguments. </p>\n\n<pre><code>public Integer findTheWord(String stringToCheck, String regexString) throws IOException {\n\n        int count = 0;\n        Pattern regexp = Pattern.compile(\"\\\\b\" + regexString + \"\\\\b\");\n        Matcher matcher = regexp.matcher(stringToCheck);\n\n        while (matcher.find()) {\n                count++;\n                String matchString = matcher.group();\n                System.out.println(matchString);\n            }\n        System.out.println(count);\n        return count;\n  }\n</code></pre>\n\n<p>How can I insert multiple words and return the occurences of each of them?</p>\n"},{"tags":["java","regex","regex-greedy"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1560517744,"post_id":56598817,"comment_id":99773672,"body_markdown":"`matches()` looks for complete matches and not just for partial matches. Unless your regex matches the whole string, it wont match. In you case, a proper fileName would be `abc` or the proper regex `abc\\\\.txt`","body":"<code>matches()</code> looks for complete matches and not just for partial matches. Unless your regex matches the whole string, it wont match. In you case, a proper fileName would be <code>abc</code> or the proper regex <code>abc\\\\.txt</code>"},{"owner":{"account_id":6892923,"reputation":779,"user_id":5295755,"accept_rate":88,"display_name":"Alo&#239;s de La Comble"},"score":1,"creation_date":1560517758,"post_id":56598817,"comment_id":99773681,"body_markdown":"try abc.* ?\nIn fact it depends what strings you want to match in the end","body":"try abc.* ? In fact it depends what strings you want to match in the end"}],"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"comment_count":2,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1560517836,"answer_count":0,"score":1,"last_activity_date":1693140173,"creation_date":1560517492,"question_id":56598817,"body_markdown":"I am trying to match a string using java regex.\r\n\r\nMy string is &quot;abc.txt&quot; which is a file name.\r\nThe regex I am using is &quot;abc&quot;.\r\n\r\n```\r\nString fileName = &quot;abc.txt&quot;;\r\nPattern pattern = Pattern.compile(&quot;abc&quot;);\r\nMatcher matcher = pattern.matcher(fileName);\r\nSystem.out.println(matcher.matches());\r\n```\r\n\r\nBut some how it does not match.\r\nInfact using notepad++ regex search, it matches completely fine.\r\n\r\nPlease help","title":"Java regex not matching the string &quot;abc.txt&quot; with pattern &quot;abc&quot;","body":"<p>I am trying to match a string using java regex.</p>\n\n<p>My string is \"abc.txt\" which is a file name.\nThe regex I am using is \"abc\".</p>\n\n<pre><code>String fileName = \"abc.txt\";\nPattern pattern = Pattern.compile(\"abc\");\nMatcher matcher = pattern.matcher(fileName);\nSystem.out.println(matcher.matches());\n</code></pre>\n\n<p>But some how it does not match.\nInfact using notepad++ regex search, it matches completely fine.</p>\n\n<p>Please help</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1554893377,"post_id":55610675,"comment_id":97915717,"body_markdown":"Please delete your Eclipse screen capture link and instead include all relevant Java code directly in the question.","body":"Please delete your Eclipse screen capture link and instead include all relevant Java code directly in the question."},{"owner":{"account_id":3388857,"reputation":1889,"user_id":2844215,"display_name":"IMParasharG"},"score":0,"creation_date":1554893410,"post_id":55610675,"comment_id":97915740,"body_markdown":"Add your code in the question instead of the image","body":"Add your code in the question instead of the image"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1554893581,"post_id":55610675,"comment_id":97915828,"body_markdown":"If you use `if (m.find()) { ... }` without calling `.find()` before it it must work if your regex matches the string.","body":"If you use <code>if (m.find()) { ... }</code> without calling <code>.find()</code> before it it must work if your regex matches the string."},{"owner":{"account_id":15715397,"reputation":11,"user_id":11339739,"display_name":"Xabier"},"score":0,"creation_date":1554893775,"post_id":55610675,"comment_id":97915945,"body_markdown":"You&#39;ll see better in the image, but I putting the code","body":"You&#39;ll see better in the image, but I putting the code"}],"answers":[{"tags":[],"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1554894824,"creation_date":1554894824,"answer_id":55611172,"question_id":55610675,"body_markdown":"Looking at your screenshot, where it shows `m.find()` as `true` and the same value assigned to `isMatch` variable to be `false`, meaning both are not in sync, and the only reason I can think of is, as you are in debug mode and since you have them in expression window, `m.find()` seems to be getting executed multiple times, where the first time value of `m.find()` must have been true, but as it got executed again, next time it didn&#39;t match the data and `m.find()&#39;s` value became `false` and that ultimately got assigned to `isMatch` variable.\r\n\r\nTry getting rid of debug mode and just run the code and the variable `isMatch`&#39;s value should be in sync and should be as expected. Or you can even just turn off the expressions window while debugging your code, and debugging should give you correct values as expected. Make sure you don&#39;t re-evaluate `m.find()` else your program will give you unexpected results.\r\n\r\nAlso, never access `.group()` methods unless value returned by `m.find()` or `m.matches()` is `true`\r\n\r\nFor me, your code works fine like expected and prints `true`.\r\n\r\n\tString REGEX_PATTERN_FILE_GROUP = &quot;(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)&quot;;\r\n\r\n\tString s = &quot;1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf&quot;;\r\n\tPattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);\r\n\tMatcher m = p.matcher(s);\r\n\tboolean isMatch = m.find();\r\n\tSystem.out.println(&quot;isMatch: &quot; + isMatch);\r\n\tif (isMatch) {\r\n\t\tSystem.out.println(m.group());\r\n\t}\r\n\r\nPrints,\r\n\r\n    isMatch: true\r\n    20190409095211_200522007_CNA_20180000959_\r\n\r\n","title":"Java Regex find() method not returning proper value","body":"<p>Looking at your screenshot, where it shows <code>m.find()</code> as <code>true</code> and the same value assigned to <code>isMatch</code> variable to be <code>false</code>, meaning both are not in sync, and the only reason I can think of is, as you are in debug mode and since you have them in expression window, <code>m.find()</code> seems to be getting executed multiple times, where the first time value of <code>m.find()</code> must have been true, but as it got executed again, next time it didn't match the data and <code>m.find()'s</code> value became <code>false</code> and that ultimately got assigned to <code>isMatch</code> variable.</p>\n\n<p>Try getting rid of debug mode and just run the code and the variable <code>isMatch</code>'s value should be in sync and should be as expected. Or you can even just turn off the expressions window while debugging your code, and debugging should give you correct values as expected. Make sure you don't re-evaluate <code>m.find()</code> else your program will give you unexpected results.</p>\n\n<p>Also, never access <code>.group()</code> methods unless value returned by <code>m.find()</code> or <code>m.matches()</code> is <code>true</code></p>\n\n<p>For me, your code works fine like expected and prints <code>true</code>.</p>\n\n<pre><code>String REGEX_PATTERN_FILE_GROUP = \"(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)\";\n\nString s = \"1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf\";\nPattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);\nMatcher m = p.matcher(s);\nboolean isMatch = m.find();\nSystem.out.println(\"isMatch: \" + isMatch);\nif (isMatch) {\n    System.out.println(m.group());\n}\n</code></pre>\n\n<p>Prints,</p>\n\n<pre><code>isMatch: true\n20190409095211_200522007_CNA_20180000959_\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11431994,"reputation":11,"user_id":8380428,"display_name":"Florian Campa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680855703,"creation_date":1680855703,"answer_id":75956704,"question_id":55610675,"body_markdown":"the find() method tries to find the occurrence of a regex pattern within a given string. If multiple occurrences are found in the string, then the first call to find() will jump to the first occurrence. Thereafter, each subsequent call to the find() method will go to the next matching occurrence, one by one.\r\n","title":"Java Regex find() method not returning proper value","body":"<p>the find() method tries to find the occurrence of a regex pattern within a given string. If multiple occurrences are found in the string, then the first call to find() will jump to the first occurrence. Thereafter, each subsequent call to the find() method will go to the next matching occurrence, one by one.</p>\n"}],"owner":{"account_id":15715397,"reputation":11,"user_id":11339739,"display_name":"Xabier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":55611172,"answer_count":2,"score":-1,"last_activity_date":1693139962,"creation_date":1554893300,"question_id":55610675,"body_markdown":"I&#39;ve created a regex pattern in Java and, apparently, the matcher class find it into the string, but it is not returning the proper value.\r\n\r\nIf you see this [image][1], Eclipse is giving me a &#39;true&#39; value when I execute `m.find()` method, but it&#39;s not assigning it properly to `isMatch` variable. \r\n \r\nSame occurs when I write &quot;`if (m.find())`, it doesn&#39;t go to the inner block.\r\n\r\nCode Example:\r\n\r\n{\r\n\t\t\r\n\t    private final static String REGEX_PATTERN_FILE_GROUP = &quot;(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)&quot;;\r\n\r\n\t\tfor (File file: fileList) {\r\n\t\t\tPattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);\t\r\n\t\t\tMatcher m = p.matcher(file.getName());\t\t\t\t\r\n\t\t\tif (m.find())\r\n\t\t\t{\t\r\n               .... More code ...\r\n            }\r\n\r\n}\r\n\r\nExample of file.getName() value: \r\n&quot;1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf&quot;\r\n\r\nApparently, m.find() is &#39;true&#39; (so as Eclipse is showing me), but it never goes into inner if block, neither if I try to assign to another boolean value.\r\n\r\nTested in https://regex101.com/ and it get value.\r\n\r\nMy Java version is &quot;1.8.0_181&quot; 64-Bit server.\r\n\r\nI&#39;m newbie in StackOverflow, Java and Eclipse.\r\n\r\n[1]: https://i.ibb.co/3MpDxnv/Java-Reg-Ex-Problem.png\r\n\r\n","title":"Java Regex find() method not returning proper value","body":"<p>I've created a regex pattern in Java and, apparently, the matcher class find it into the string, but it is not returning the proper value.</p>\n\n<p>If you see this <a href=\"https://i.ibb.co/3MpDxnv/Java-Reg-Ex-Problem.png\" rel=\"nofollow noreferrer\">image</a>, Eclipse is giving me a 'true' value when I execute <code>m.find()</code> method, but it's not assigning it properly to <code>isMatch</code> variable. </p>\n\n<p>Same occurs when I write \"<code>if (m.find())</code>, it doesn't go to the inner block.</p>\n\n<p>Code Example:</p>\n\n<p>{</p>\n\n<pre><code>    private final static String REGEX_PATTERN_FILE_GROUP = \"(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)\";\n\n    for (File file: fileList) {\n        Pattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);  \n        Matcher m = p.matcher(file.getName());              \n        if (m.find())\n        {   \n           .... More code ...\n        }\n</code></pre>\n\n<p>}</p>\n\n<p>Example of file.getName() value: \n\"1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf\"</p>\n\n<p>Apparently, m.find() is 'true' (so as Eclipse is showing me), but it never goes into inner if block, neither if I try to assign to another boolean value.</p>\n\n<p>Tested in <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> and it get value.</p>\n\n<p>My Java version is \"1.8.0_181\" 64-Bit server.</p>\n\n<p>I'm newbie in StackOverflow, Java and Eclipse.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2021356,"reputation":7875,"user_id":1807452,"display_name":"Rahul Sharma"},"score":0,"creation_date":1552045323,"post_id":55062218,"comment_id":96872924,"body_markdown":"Refer to this question: https://stackoverflow.com/questions/37136376/c-sharp-net-equivalent-for-java-matcher-find-and-matcher-group to address your issue.","body":"Refer to this question: <a href=\"https://stackoverflow.com/questions/37136376/c-sharp-net-equivalent-for-java-matcher-find-and-matcher-group\" title=\"c sharp net equivalent for java matcher find and matcher group\">stackoverflow.com/questions/37136376/&hellip;</a> to address your issue."},{"owner":{"account_id":15299068,"reputation":96,"user_id":11038171,"display_name":"az fav"},"score":0,"creation_date":1552466507,"post_id":55062218,"comment_id":97015438,"body_markdown":"@Wiktor Stribiżew Upvoted and thanks about the tip.","body":"@Wiktor Stribiżew Upvoted and thanks about the tip."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552049702,"creation_date":1552049702,"answer_id":55063673,"question_id":55062218,"body_markdown":"You should replace \r\n\r\n    ends = regexEnd.Match(heap, startPos + starts.length()).toString();\r\n\r\nwith\r\n\r\n    Matcher m = regexEnd.matcher(heap);\r\n    if (m.find(startPos + starts.length())) {\r\n      ends =  m.group();\r\n    }\r\n\r\nThe point is that you need to declare a matcher and instantiate it with the input string (`heap`) from a `Pattern` that you already have (`regexEnd`).\r\n\r\nThen, you execute the matcher using `.find(index)` where `index` is the start position to search from. If there is a match, `m.group()` contains the match value.","title":"Converting C# Regular Expression To Java matcher issue","body":"<p>You should replace </p>\n\n<pre><code>ends = regexEnd.Match(heap, startPos + starts.length()).toString();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>Matcher m = regexEnd.matcher(heap);\nif (m.find(startPos + starts.length())) {\n  ends =  m.group();\n}\n</code></pre>\n\n<p>The point is that you need to declare a matcher and instantiate it with the input string (<code>heap</code>) from a <code>Pattern</code> that you already have (<code>regexEnd</code>).</p>\n\n<p>Then, you execute the matcher using <code>.find(index)</code> where <code>index</code> is the start position to search from. If there is a match, <code>m.group()</code> contains the match value.</p>\n"}],"owner":{"account_id":15299068,"reputation":96,"user_id":11038171,"display_name":"az fav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55063673,"answer_count":1,"score":1,"last_activity_date":1693139836,"creation_date":1552044183,"question_id":55062218,"body_markdown":"    public static String ReturnBetween(String heap, String startEx, String endEx, boolean include) {\r\n            int startPos = 0;\r\n            int endPos = heap.length();\r\n            String starts = &quot;&quot;;\r\n            String ends = &quot;&quot;;\r\n    \r\n            if (!startEx.equals(&quot;^&quot;)) {\r\n                Pattern regexStart = Pattern.compile(startEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);\r\n                starts = regexStart.matcher(heap).toString();\r\n                if (starts.equals(&quot;&quot;)) {\r\n                    startPos = -1;\r\n                } else {\r\n                    startPos = heap.indexOf(starts);\r\n                }\r\n            }\r\n    \r\n            if (startPos == -1) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            if (!endEx.equals(&quot;$&quot;)) {\r\n                Pattern regexEnd = Pattern.compile(endEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL );\r\n                ends = regexEnd.Match(heap, startPos + starts.length()).toString();\r\n                if (ends.equals(&quot;&quot;)) {\r\n                    endPos = -1;\r\n                } else {\r\n                    endPos = heap.indexOf(ends, startPos + starts.length());\r\n                }\r\n            }\r\n    \r\n            if (endPos == -1) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            if (!include) {\r\n                startPos += starts.length();\r\n            }\r\n            if (include) {\r\n                endPos += ends.length();\r\n            }\r\n    \r\n            String result = heap.substring(startPos, endPos);\r\n            return result;\r\n        }\r\n\r\nThis was a c# function for getting a string between two variables i am trying to convert it to java function most the part have been already converted to java code.\r\ni have managed to convert this function . except this part :\r\n\r\n      ends = regexEnd.Match(heap, startPos + starts.length()).toString();","title":"Converting C# Regular Expression To Java matcher issue","body":"<pre><code>public static String ReturnBetween(String heap, String startEx, String endEx, boolean include) {\n        int startPos = 0;\n        int endPos = heap.length();\n        String starts = \"\";\n        String ends = \"\";\n\n        if (!startEx.equals(\"^\")) {\n            Pattern regexStart = Pattern.compile(startEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);\n            starts = regexStart.matcher(heap).toString();\n            if (starts.equals(\"\")) {\n                startPos = -1;\n            } else {\n                startPos = heap.indexOf(starts);\n            }\n        }\n\n        if (startPos == -1) {\n            return \"\";\n        }\n\n        if (!endEx.equals(\"$\")) {\n            Pattern regexEnd = Pattern.compile(endEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL );\n            ends = regexEnd.Match(heap, startPos + starts.length()).toString();\n            if (ends.equals(\"\")) {\n                endPos = -1;\n            } else {\n                endPos = heap.indexOf(ends, startPos + starts.length());\n            }\n        }\n\n        if (endPos == -1) {\n            return \"\";\n        }\n\n        if (!include) {\n            startPos += starts.length();\n        }\n        if (include) {\n            endPos += ends.length();\n        }\n\n        String result = heap.substring(startPos, endPos);\n        return result;\n    }\n</code></pre>\n\n<p>This was a c# function for getting a string between two variables i am trying to convert it to java function most the part have been already converted to java code.\ni have managed to convert this function . except this part :</p>\n\n<pre><code>  ends = regexEnd.Match(heap, startPos + starts.length()).toString();\n</code></pre>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":14523380,"reputation":68,"user_id":10490450,"display_name":"Redoishi"},"score":0,"creation_date":1548946698,"post_id":54463222,"comment_id":95734629,"body_markdown":"Use a regex in `split()` and see https://stackoverflow.com/questions/12636417/splitting-a-string-using-words-as-delimiters","body":"Use a regex in <code>split()</code> and see <a href=\"https://stackoverflow.com/questions/12636417/splitting-a-string-using-words-as-delimiters\" title=\"splitting a string using words as delimiters\">stackoverflow.com/questions/12636417/&hellip;</a>"},{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1548946814,"post_id":54463222,"comment_id":95734711,"body_markdown":"`// &quot;Jr.&quot;, &quot;III&quot;, &quot;Sr&quot;, &quot;pro se&quot; are all keywords in my list`. Can you show content of your list?","body":"<code>&#47;&#47; &quot;Jr.&quot;, &quot;III&quot;, &quot;Sr&quot;, &quot;pro se&quot; are all keywords in my list</code>. Can you show content of your list?"},{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1548952007,"post_id":54463222,"comment_id":95738052,"body_markdown":"You cannot expect to get help here unless you provide all details of your problem.","body":"You cannot expect to get help here unless you provide all details of your problem."}],"answers":[{"tags":[],"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548946812,"creation_date":1548946812,"answer_id":54463358,"question_id":54463222,"body_markdown":"You could use this: `\\s(?=(Jr\\.|III|Sr|pro se))` - and add in the keywords you want to preserve. \r\n\r\nHere&#39;s a working demo to see what it matches: [https://regexr.com/47gbm][1]\r\n\r\nSo with `String[] split = input.split(&quot;\\\\s(?=(Jr\\\\.|III|Sr|pro se))&quot;);` you should get the desired result.\r\n\r\n\r\n  [1]: https://regexr.com/47gbm","title":"How to split a string by keywords in Java","body":"<p>You could use this: <code>\\s(?=(Jr\\.|III|Sr|pro se))</code> - and add in the keywords you want to preserve. </p>\n\n<p>Here's a working demo to see what it matches: <a href=\"https://regexr.com/47gbm\" rel=\"nofollow noreferrer\">https://regexr.com/47gbm</a></p>\n\n<p>So with <code>String[] split = input.split(\"\\\\s(?=(Jr\\\\.|III|Sr|pro se))\");</code> you should get the desired result.</p>\n"},{"tags":[],"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548947118,"creation_date":1548947118,"answer_id":54463472,"question_id":54463222,"body_markdown":"You can try adding a different seprator to the string hoding the keywords. Insted of seprating them by `&quot; &quot;` separate them by `&quot;|&quot;`.\r\n\r\n    String input = &quot;Abraham|Lincoln|Jr.|III|Sr|pro se&quot;;\r\n    String [] splitByPipe = input.split(&quot;\\\\|&quot;);\r\n\r\nThis way you won`t be having any problems with the spaces you need to keep.","title":"How to split a string by keywords in Java","body":"<p>You can try adding a different seprator to the string hoding the keywords. Insted of seprating them by <code>\" \"</code> separate them by <code>\"|\"</code>.</p>\n\n<pre><code>String input = \"Abraham|Lincoln|Jr.|III|Sr|pro se\";\nString [] splitByPipe = input.split(\"\\\\|\");\n</code></pre>\n\n<p>This way you won`t be having any problems with the spaces you need to keep.</p>\n"}],"owner":{"account_id":14661742,"reputation":17,"user_id":10588701,"display_name":"Kev K"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1614,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1549036935,"answer_count":2,"score":-2,"last_activity_date":1693139825,"creation_date":1548946393,"question_id":54463222,"body_markdown":"I need to split an input and put it in to a list according to a list of keywords or delimiters that I have created. \r\n\r\nI&#39;ve tried simply splitting the string by spaces and then processing it afterwards, but the problem is that some of my keywords have spaces in them so they are split apart which causes undesired behavior.\r\n\r\n    // &quot;Jr.&quot;, &quot;III&quot;, &quot;Sr&quot;, &quot;pro se&quot; are all keywords in my list\r\n    String input = &quot;Abraham Lincoln Jr. III Sr pro se&quot;;\r\n    String [] splitBySpace = input.split(&quot; &quot;);\r\n    List&lt;String&gt; separatedName = new ArrayList&lt;&gt;(Arrays.asList(splitBySpace);\r\n\r\n\r\nMy list ends up being: `{Abraham, Lincoln, Jr., III, Sr, pro, se}`\r\nAnd I would like it to be: `{Abraham, Lincoln, Jr., III, Sr, pro se}`\r\nThis output would also work: `{Abraham Lincoln, Jr., III, Sr, pro se}` (I don&#39;t need the strings that are not in my delimiter list to be split apart)\r\n\r\n","title":"How to split a string by keywords in Java","body":"<p>I need to split an input and put it in to a list according to a list of keywords or delimiters that I have created. </p>\n\n<p>I've tried simply splitting the string by spaces and then processing it afterwards, but the problem is that some of my keywords have spaces in them so they are split apart which causes undesired behavior.</p>\n\n<pre><code>// \"Jr.\", \"III\", \"Sr\", \"pro se\" are all keywords in my list\nString input = \"Abraham Lincoln Jr. III Sr pro se\";\nString [] splitBySpace = input.split(\" \");\nList&lt;String&gt; separatedName = new ArrayList&lt;&gt;(Arrays.asList(splitBySpace);\n</code></pre>\n\n<p>My list ends up being: <code>{Abraham, Lincoln, Jr., III, Sr, pro, se}</code>\nAnd I would like it to be: <code>{Abraham, Lincoln, Jr., III, Sr, pro se}</code>\nThis output would also work: <code>{Abraham Lincoln, Jr., III, Sr, pro se}</code> (I don't need the strings that are not in my delimiter list to be split apart)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"score":1,"creation_date":1546252716,"post_id":53986413,"comment_id":94810058,"body_markdown":"I haven&#39;t read your question properly as Aleksei has made a suggestion above but for future reference I think `/W` should be `\\W` or possibly even `\\\\W` because you have to escape the escape character","body":"I haven&#39;t read your question properly as Aleksei has made a suggestion above but for future reference I think <code>&#47;W</code> should be <code>\\W</code> or possibly even <code>\\\\W</code> because you have to escape the escape character"},{"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"score":0,"creation_date":1546252876,"post_id":53986413,"comment_id":94810113,"body_markdown":"Use this `[\\w-]+` https://regex101.com/r/rPDZwg/2/","body":"Use this <code>[\\w-]+</code> <a href=\"https://regex101.com/r/rPDZwg/2/\" rel=\"nofollow noreferrer\">regex101.com/r/rPDZwg/2</a>"},{"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"score":1,"creation_date":1546252898,"post_id":53986413,"comment_id":94810123,"body_markdown":"@AlekseiMatiushkin I think you need to add double escapes to your pattern","body":"@AlekseiMatiushkin I think you need to add double escapes to your pattern"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1546252912,"post_id":53986413,"comment_id":94810129,"body_markdown":"@CodeManiac Your suggested pattern has a problem.","body":"@CodeManiac Your suggested pattern has a problem."},{"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"score":0,"creation_date":1546252953,"post_id":53986413,"comment_id":94810138,"body_markdown":"@TimBiegeleisen would love to know. i made small change.","body":"@TimBiegeleisen would love to know. i made small change."},{"owner":{"account_id":2318915,"reputation":119112,"user_id":2035262,"accept_rate":78,"display_name":"Aleksei Matiushkin"},"score":0,"creation_date":1546253018,"post_id":53986413,"comment_id":94810166,"body_markdown":"@Matt indeed, I have it removed since the time to edit already passed.","body":"@Matt indeed, I have it removed since the time to edit already passed."},{"owner":{"account_id":8215511,"reputation":13,"user_id":6182044,"display_name":"Alex.Han"},"score":1,"creation_date":1546253606,"post_id":53986413,"comment_id":94810380,"body_markdown":"Thanks everyone, @Code Maniac suggestion worked flawlessly, that tool you are using is great.","body":"Thanks everyone, @Code Maniac suggestion worked flawlessly, that tool you are using is great."}],"answers":[{"tags":[],"owner":{"account_id":2016507,"reputation":5631,"user_id":1803692,"accept_rate":96,"display_name":"Vogel612"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546253107,"creation_date":1546253107,"answer_id":53986515,"question_id":53986413,"body_markdown":"The easiest solution here seems to be to ditch regex overall and just split the string instead. You want to allow digits, alphabetic characters and `-` in your words. Consider the following code:\r\n\r\n    for (String word : mebo.split(&quot;[^\\\\d\\\\w-]+&quot;)) {\r\n        System.out.printf(&quot;Word is %s %n&quot;, word);\r\n    }\r\n\r\nThis should exhibit the desired behaviour. Note that this will generate some empty strings, unless you have the `+` in the splitting pattern.\r\n\r\nWhat this does is splitting the input string between everything that does **not** match your desired characters. This is accomplished through using an inverted character class.","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>The easiest solution here seems to be to ditch regex overall and just split the string instead. You want to allow digits, alphabetic characters and <code>-</code> in your words. Consider the following code:</p>\n\n<pre><code>for (String word : mebo.split(\"[^\\\\d\\\\w-]+\")) {\n    System.out.printf(\"Word is %s %n\", word);\n}\n</code></pre>\n\n<p>This should exhibit the desired behaviour. Note that this will generate some empty strings, unless you have the <code>+</code> in the splitting pattern.</p>\n\n<p>What this does is splitting the input string between everything that does <strong>not</strong> match your desired characters. This is accomplished through using an inverted character class.</p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546253925,"creation_date":1546253199,"answer_id":53986529,"question_id":53986413,"body_markdown":"I would suggest a regex split, followed by a regex replacement:\r\n\r\n    String mebo = &quot;1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, &#39;29229&#39;&quot;;\r\n    String[] parts = mebo.split(&quot;\\\\s*,?\\\\s+&quot;);\r\n    for (String part : parts) {\r\n       System.out.println(part.replaceAll(&quot;[&#39;]&quot;, &quot;&quot;));\r\n    }\r\n\r\n    1323\r\n    99BIMCP\r\n    1\r\n    2\r\n    BMWQ-CSPS-D1\r\n    0192\r\n    29229\r\n\r\nThe logic here is to split on whitespace, possibly including a comma separator.  Then, we can do a regex replacement cleanup to remove stray characters such as single quotes.  Double quotes and any other unwanted characters can easily be added to the character class used for replacement.\r\n\r\nIn general, regex alone may not suffice here, and you may need a parser to cover every edge case.  Case in point, consider the following input line:\r\n\r\n    One, &quot;Two or more&quot;, Three\r\n\r\nMy answer fails here, because it blindly splits on whitespace, and does not know that escaped whitespace is not a token.  A regex would also fail here.","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>I would suggest a regex split, followed by a regex replacement:</p>\n\n<pre><code>String mebo = \"1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, '29229'\";\nString[] parts = mebo.split(\"\\\\s*,?\\\\s+\");\nfor (String part : parts) {\n   System.out.println(part.replaceAll(\"[']\", \"\"));\n}\n\n1323\n99BIMCP\n1\n2\nBMWQ-CSPS-D1\n0192\n29229\n</code></pre>\n\n<p>The logic here is to split on whitespace, possibly including a comma separator.  Then, we can do a regex replacement cleanup to remove stray characters such as single quotes.  Double quotes and any other unwanted characters can easily be added to the character class used for replacement.</p>\n\n<p>In general, regex alone may not suffice here, and you may need a parser to cover every edge case.  Case in point, consider the following input line:</p>\n\n<pre><code>One, \"Two or more\", Three\n</code></pre>\n\n<p>My answer fails here, because it blindly splits on whitespace, and does not know that escaped whitespace is not a token.  A regex would also fail here.</p>\n"},{"tags":[],"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546253312,"creation_date":1546253312,"answer_id":53986548,"question_id":53986413,"body_markdown":"You can use this as it seems from your regex you want to include `character` `digit` and `-` in your match.\r\n\r\n    `[\\w-]+`\r\n\r\n - `[\\w-]+` - Matches (a-z 0-9 _ and - ) one or more time.\r\n\r\n[Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/rPDZwg/2/","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>You can use this as it seems from your regex you want to include <code>character</code> <code>digit</code> and <code>-</code> in your match.</p>\n\n<pre><code>`[\\w-]+`\n</code></pre>\n\n<ul>\n<li><code>[\\w-]+</code> - Matches (a-z 0-9 _ and - ) one or more time.</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/rPDZwg/2/\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}],"owner":{"account_id":8215511,"reputation":13,"user_id":6182044,"display_name":"Alex.Han"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53986548,"answer_count":3,"score":0,"last_activity_date":1693139800,"creation_date":1546252403,"question_id":53986413,"body_markdown":"I&#39;m trying to extract several words from a string with regex matcher &amp;pattern. I did spend some time to make the regular expression I&#39;m using but this doesn&#39;t work as expected, any help would be very appreciated. \r\n\r\nI  made the regular expression I&#39;m using but this doesn&#39;t work as expected, some help would be great. I&#39;m able to extract the chars from the words I want but not the entire word.\r\n\r\n    import java.util.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    public class Main {\r\n    \r\n    public static void main (String[] args){\r\n    \r\n        String mebo = &quot;1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, &#39;29229&#39;&quot;;\r\n    \r\n    \r\n        Pattern pattern = Pattern.compile(&quot;[((a-zA-Z1-9-0)/W)]&quot;);\r\n    \r\n        Matcher matcher = pattern.matcher(mebo);\r\n    \r\n    \r\n        while (matcher.find()) {\r\n    \r\n            System.out.printf(&quot;Word is %s %n&quot;,matcher.group(0));\r\n    \r\n        }\r\n    \r\n    }\r\n    }\r\n\r\n\r\n&gt; This is current output:\r\n&gt; \r\n&gt; Word is 1  Word is 3  Word is 2  Word is 3  Word is 9  Word is 9  Word\r\n&gt; is B  Word is I  Word is M  Word is C  Word is P  Word is 1  Word is 2\r\n&gt; Word is B  Word is M  Word is W  Word is Q  Word is -  Word is C  Word\r\n&gt; is S  Word is P  Word is S  Word is -  Word is D  Word is 1  Word is 0\r\n&gt; Word is 1  Word is 9  Word is 2  Word is 2  Word is 9  Word is 2  Word\r\n&gt; is 2  Word is 9\r\n\r\n============\r\n\r\nMy expectation is to iterate entire words for example:\r\n\r\nString mebo = &quot;1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, &#39;29229&#39;&quot;\r\n\r\n\r\n&gt; word is 1323 word is 99BIMCP word is 1 word is 2 word is BMWQ-CSPS-D1\r\n&gt; word is 0192 word is 29229\r\n\r\n \r\n\r\n","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>I'm trying to extract several words from a string with regex matcher &amp;pattern. I did spend some time to make the regular expression I'm using but this doesn't work as expected, any help would be very appreciated. </p>\n\n<p>I  made the regular expression I'm using but this doesn't work as expected, some help would be great. I'm able to extract the chars from the words I want but not the entire word.</p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class Main {\n\npublic static void main (String[] args){\n\n    String mebo = \"1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, '29229'\";\n\n\n    Pattern pattern = Pattern.compile(\"[((a-zA-Z1-9-0)/W)]\");\n\n    Matcher matcher = pattern.matcher(mebo);\n\n\n    while (matcher.find()) {\n\n        System.out.printf(\"Word is %s %n\",matcher.group(0));\n\n    }\n\n}\n}\n</code></pre>\n\n<blockquote>\n  <p>This is current output:</p>\n  \n  <p>Word is 1  Word is 3  Word is 2  Word is 3  Word is 9  Word is 9  Word\n  is B  Word is I  Word is M  Word is C  Word is P  Word is 1  Word is 2\n  Word is B  Word is M  Word is W  Word is Q  Word is -  Word is C  Word\n  is S  Word is P  Word is S  Word is -  Word is D  Word is 1  Word is 0\n  Word is 1  Word is 9  Word is 2  Word is 2  Word is 9  Word is 2  Word\n  is 2  Word is 9</p>\n</blockquote>\n\n<p>============</p>\n\n<p>My expectation is to iterate entire words for example:</p>\n\n<p>String mebo = \"1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, '29229'\"</p>\n\n<blockquote>\n  <p>word is 1323 word is 99BIMCP word is 1 word is 2 word is BMWQ-CSPS-D1\n  word is 0192 word is 29229</p>\n</blockquote>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":11021611,"reputation":9242,"user_id":8112541,"display_name":"Goku"},"score":0,"creation_date":1544097072,"post_id":53650825,"comment_id":94159644,"body_markdown":"https://stackoverflow.com/questions/15472764/regular-expression-to-allow-spaces-between-words","body":"<a href=\"https://stackoverflow.com/questions/15472764/regular-expression-to-allow-spaces-between-words\" title=\"regular expression to allow spaces between words\">stackoverflow.com/questions/15472764/&hellip;</a>"},{"owner":{"account_id":12510905,"reputation":2407,"user_id":9514919,"display_name":"Annie"},"score":0,"creation_date":1544097311,"post_id":53650825,"comment_id":94159751,"body_markdown":"@Goku nothing is working for me i have added this type of space and checked on given site.. but not working","body":"@Goku nothing is working for me i have added this type of space and checked on given site.. but not working"},{"owner":{"account_id":11021611,"reputation":9242,"user_id":8112541,"display_name":"Goku"},"score":0,"creation_date":1544097593,"post_id":53650825,"comment_id":94159922,"body_markdown":"have u tried this https://stackoverflow.com/a/21102944/8112541","body":"have u tried this <a href=\"https://stackoverflow.com/a/21102944/8112541\">stackoverflow.com/a/21102944/8112541</a>"},{"owner":{"account_id":12510905,"reputation":2407,"user_id":9514919,"display_name":"Annie"},"score":0,"creation_date":1544097766,"post_id":53650825,"comment_id":94160030,"body_markdown":"@Goku not working (?=^.{8,16}$)(?=.*[\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|])([\\w ]+)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\w\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|]*$","body":"@Goku not working (?=^.{8,16}$)(?=.*[\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;&#40;&#41;*\\+\\,\\-\\.\\/\\:\\;\\&lt;&zwnj;&#8203;\\&gt;\\=\\?\\@&#91;&#93;\\{&zwnj;&#8203;\\}\\\\\\\\\\^_`\\~\\|])([\\w ]+)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\w\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;&&zwnj;&#8203;#40;&#41;*\\+\\,\\-\\.\\/&zwnj;&#8203;\\:\\;\\&lt;\\&gt;\\=\\?\\@&#91;&&zwnj;&#8203;#93;\\{\\}\\\\\\\\\\^_`\\~\\|&zwnj;&#8203;]*$"},{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":0,"creation_date":1544101313,"post_id":53650825,"comment_id":94162176,"body_markdown":"Hi @Annie I think your problem is &quot;(?!.*\\s)&quot; which translates to &quot;no whitespaces&quot; and includes spaces. But I cannot say for sure because I still don&#39;t get exactly what you try to accomplish and don&#39;t have a test string that works.\n\nJust one tip: you can save your regex incl. example input at regex101.com and share it via link.","body":"Hi @Annie I think your problem is &quot;(?!.*\\s)&quot; which translates to &quot;no whitespaces&quot; and includes spaces. But I cannot say for sure because I still don&#39;t get exactly what you try to accomplish and don&#39;t have a test string that works.  Just one tip: you can save your regex incl. example input at regex101.com and share it via link."},{"owner":{"account_id":11013148,"reputation":5634,"user_id":8089770,"display_name":"Vidhi Dave"},"score":0,"creation_date":1544115562,"post_id":53650825,"comment_id":94170934,"body_markdown":"@Johannes she wants a password with one upper case, one lower case, one special character with space.. i.e. &quot;Annie123  &quot; or &quot;Annie222!&quot; these wil be valid one.. there have to b one special character and that character can be white space","body":"@Johannes she wants a password with one upper case, one lower case, one special character with space.. i.e. &quot;Annie123  &quot; or &quot;Annie222!&quot; these wil be valid one.. there have to b one special character and that character can be white space"},{"owner":{"account_id":12510905,"reputation":2407,"user_id":9514919,"display_name":"Annie"},"score":0,"creation_date":1545281244,"post_id":53650825,"comment_id":94572939,"body_markdown":"@JohannesStadler thanks that worked for me.. please post as an answer for future visitors.. i will accept","body":"@JohannesStadler thanks that worked for me.. please post as an answer for future visitors.. i will accept"}],"answers":[{"tags":[],"owner":{"account_id":10054671,"reputation":193,"user_id":7433290,"display_name":"Tej"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544098221,"creation_date":1544098221,"answer_id":53651172,"question_id":53650825,"body_markdown":"Probably there will be mistake in grouping.\r\n\r\nAs far as I have used RegEx, [ ] or \\s will support the single space","title":"Regex pattern to allow space","body":"<p>Probably there will be mistake in grouping.</p>\n\n<p>As far as I have used RegEx, [ ] or \\s will support the single space</p>\n"}],"owner":{"account_id":12510905,"reputation":2407,"user_id":9514919,"display_name":"Annie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3286,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1693139763,"creation_date":1544096993,"question_id":53650825,"body_markdown":"I have one regex which allows one Upper case, one Lower case, 8-16 characters and Most **special characters including space**. I want add allow space in the regex. \r\n\r\n**I have tried :** \r\n\r\n 1. https://stackoverflow.com/questions/5753142/blank-spaces-in-regular-expression\r\n\r\n 2. https://stackoverflow.com/questions/45721084/regex-to-allow-alphanumeric-spaces-some-special-characters\r\n\r\n 3. https://stackoverflow.com/questions/28848751/java-space-and-newline-regex-for-split\r\n\r\n**My regex is as follow :**\r\n\r\n    (?=^.{8,16}$)(?=.*[\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|])(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|]]*$\r\n\r\n\r\nI just want to add space in this. I have tried **`\\s`** and **`[ ]?`** but nothing works. \r\n\r\nI have checked the `regex` on https://regex101.com/\r\n\r\nAny suggestions would be appreciated.","title":"Regex pattern to allow space","body":"<p>I have one regex which allows one Upper case, one Lower case, 8-16 characters and Most <strong>special characters including space</strong>. I want add allow space in the regex. </p>\n\n<p><strong>I have tried :</strong> </p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/5753142/blank-spaces-in-regular-expression\">Blank spaces in regular expression</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/45721084/regex-to-allow-alphanumeric-spaces-some-special-characters\">Regex to allow alphanumeric, spaces, some special characters</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/28848751/java-space-and-newline-regex-for-split\">Java space and newline regex for split</a></p></li>\n</ol>\n\n<p><strong>My regex is as follow :</strong></p>\n\n<pre><code>(?=^.{8,16}$)(?=.*[\\!\\\"\\#\\$\\%\\&amp;\\'\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|])(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\!\\\"\\#\\$\\%\\&amp;\\'\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|]]*$\n</code></pre>\n\n<p>I just want to add space in this. I have tried <strong><code>\\s</code></strong> and <strong><code>[ ]?</code></strong> but nothing works. </p>\n\n<p>I have checked the <code>regex</code> on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n\n<p>Any suggestions would be appreciated.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5572640,"reputation":5109,"user_id":4417306,"display_name":"Mark"},"score":0,"creation_date":1544008947,"post_id":53631127,"comment_id":94121668,"body_markdown":"What&#39;s the value of `statement`?","body":"What&#39;s the value of <code>statement</code>?"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1544009031,"post_id":53631127,"comment_id":94121715,"body_markdown":"Try `statement.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;)`, see [demo](https://ideone.com/A2dkVn).","body":"Try <code>statement.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;)</code>, see <a href=\"https://ideone.com/A2dkVn\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":1297710,"reputation":33,"user_id":8922126,"display_name":"MaximV"},"score":0,"creation_date":1544009089,"post_id":53631127,"comment_id":94121748,"body_markdown":"it will be a query as u can see from the test. (i.e. select length(x) from table y)","body":"it will be a query as u can see from the test. (i.e. select length(x) from table y)"},{"owner":{"account_id":1297710,"reputation":33,"user_id":8922126,"display_name":"MaximV"},"score":0,"creation_date":1544009295,"post_id":53631127,"comment_id":94121882,"body_markdown":"thanks - Wiktor solution worked!","body":"thanks - Wiktor solution worked!"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544010961,"creation_date":1544010961,"answer_id":53631773,"question_id":53631127,"body_markdown":"I suggest simplifying the solution to a single `replaceAll` call, that will replace all matches inline and won&#39;t cause any trouble like the one you are having:\r\n\r\n    statement = statement.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;);\r\n\r\nSee the [regex](https://regex101.com/r/Uq93by/1) and  [Java demo][1].\r\n\r\n    String s = &quot;select *,length(devise) lendevise,length(marche)  lenmarche,length(nature) lennature from tableX where nseq=&#39;0&#39;&quot;;\r\n\tSystem.out.println(s.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;));\r\n    // =&gt; select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq=&#39;0&#39;\r\n\r\nNote that `([a-zA-Z]+)` forms a numbered capturing group whose value is later accessed by use of a `$1` placeholder (or a replacement backreference).\r\n\r\n  [1]: https://ideone.com/A2dkVn","title":"java regex matcher.replaceAll with groups","body":"<p>I suggest simplifying the solution to a single <code>replaceAll</code> call, that will replace all matches inline and won't cause any trouble like the one you are having:</p>\n\n<pre><code>statement = statement.replaceAll(\"length\\\\(([a-zA-Z]+)\\\\)\", \"LEN($1)\");\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/Uq93by/1\" rel=\"nofollow noreferrer\">regex</a> and  <a href=\"https://ideone.com/A2dkVn\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n\n<pre><code>String s = \"select *,length(devise) lendevise,length(marche)  lenmarche,length(nature) lennature from tableX where nseq='0'\";\nSystem.out.println(s.replaceAll(\"length\\\\(([a-zA-Z]+)\\\\)\", \"LEN($1)\"));\n// =&gt; select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq='0'\n</code></pre>\n\n<p>Note that <code>([a-zA-Z]+)</code> forms a numbered capturing group whose value is later accessed by use of a <code>$1</code> placeholder (or a replacement backreference).</p>\n"}],"owner":{"account_id":1297710,"reputation":33,"user_id":8922126,"display_name":"MaximV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53631773,"answer_count":1,"score":3,"last_activity_date":1693139747,"creation_date":1544008825,"question_id":53631127,"body_markdown":"I&#39;m trying to replace one syntax with another and i&#39;m doing this through regex expressions where I would like to replace with one pattern with another.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;length\\\\((?&lt;field&gt;[a-zA-Z]+)\\\\)&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(statement);\r\n    \r\n    if (matcher.find())\r\n               statement = matcher.replaceAll(&quot;LEN(&quot; + matcher.group(&quot;field&quot;) + &quot;)&quot;);\r\n            return statement;\r\n\r\nIt&#39;s a  simple thing where I would like to replace all (loop through) the matches and replace them with another text. however i&#39;m struggling with having the group iterate aswell dynamically.\r\n\r\n&gt; **Expected** :select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq=&#39;0&#39;\r\n&gt; \r\n&gt; **Actual**   :select *,LEN(devise) lendevise,LEN(devise) lenmarche,LEN(devise) lennature from tableX where nseq=&#39;0&#39;\r\n\r\nSo as u can notice here. the group value is always replaced by the group of the first match instead of the respective match which is being replaced?\r\n\r\nIs there an efficient &quot;best&quot; way of doing this? I would like to avoid (if possible) to put the different groups in an separate arrays.\r\n","title":"java regex matcher.replaceAll with groups","body":"<p>I'm trying to replace one syntax with another and i'm doing this through regex expressions where I would like to replace with one pattern with another.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"length\\\\((?&lt;field&gt;[a-zA-Z]+)\\\\)\", Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(statement);\n\nif (matcher.find())\n           statement = matcher.replaceAll(\"LEN(\" + matcher.group(\"field\") + \")\");\n        return statement;\n</code></pre>\n\n<p>It's a  simple thing where I would like to replace all (loop through) the matches and replace them with another text. however i'm struggling with having the group iterate aswell dynamically.</p>\n\n<blockquote>\n  <p><strong>Expected</strong> :select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq='0'</p>\n  \n  <p><strong>Actual</strong>   :select *,LEN(devise) lendevise,LEN(devise) lenmarche,LEN(devise) lennature from tableX where nseq='0'</p>\n</blockquote>\n\n<p>So as u can notice here. the group value is always replaced by the group of the first match instead of the respective match which is being replaced?</p>\n\n<p>Is there an efficient \"best\" way of doing this? I would like to avoid (if possible) to put the different groups in an separate arrays.</p>\n"},{"tags":["java","android","android-package-managers"],"owner":{"account_id":29308306,"reputation":1,"user_id":22454778,"display_name":"RiDo12433"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693138943,"creation_date":1693138943,"question_id":76987095,"body_markdown":"When I try to read the application label of other apps with the package manager, I get a Resources.NotFoundException. The interesting part is, that the exception only appears sometimes, meaning the code works for some re-installations but not for all. \r\n\r\nBelow is the code fragment that throws the exception (I try to catch it but that doesn&#39;t work either).\r\n\r\n```\r\n public static void collectInstalledApps(Context context) {\r\n        PackageManager packageManager = context.getPackageManager();\r\n        List&lt;ApplicationInfo&gt; packages = packageManager.getInstalledApplications(PackageManager.GET_META_DATA);\r\n        Log.d(&quot;APPS&quot;, &quot;Appl Info Size &quot; + packages.size());\r\n        Set&lt;String&gt; oldApps = AppSettings.INSTALLED_APPS.keySet();\r\n        Log.d(&quot;APPS&quot;, &quot;old apps: &quot; + oldApps);\r\n        Set&lt;String&gt; newApps = new HashSet&lt;&gt;();\r\n        AppSettings.INSTALLED_APPS = new HashMap&lt;&gt;();\r\n\r\n        for(ApplicationInfo ai : packages) {\r\n            String packageName = ai.packageName;\r\n            String name = packageName;\r\n            try {\r\n                name = packageManager.getApplicationLabel(ai).toString();\r\n            } catch (android.content.res.Resources.NotFoundException e) {\r\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Not found name: &quot; + packageName);\r\n                //TODO fix\r\n            } catch (RuntimeException exception) {\r\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Other exception:  &quot; + packageName);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThis is the exception:\r\n\r\n```\r\n2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus E/mple.focuspocus: Resource 7f120059 is a complex map type.\r\n2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus W/PackageManager: Failure retrieving text 0x7f120059 in package com.kiloo.subwaysurf\r\n    android.content.res.Resources$NotFoundException: String resource ID #0x7f120059\r\n        at android.content.res.Resources.getText(Resources.java:453)\r\n        at android.app.ApplicationPackageManager.getText(ApplicationPackageManager.java:2336)\r\n        at android.content.pm.PackageItemInfo.loadUnsafeLabel(PackageItemInfo.java:222)\r\n        at android.content.pm.PackageItemInfo.loadLabel(PackageItemInfo.java:212)\r\n        at android.app.ApplicationPackageManager.getApplicationLabel(ApplicationPackageManager.java:2380)\r\n        at com.example.focuspocus.settings.AppSettings.collectInstalledApps(AppSettings.java:369)\r\n        at com.example.focuspocus.home.HomeActivity.onCreate(HomeActivity.java:70)\r\n        at android.app.Activity.performCreate(Activity.java:8342)\r\n        at android.app.Activity.performCreate(Activity.java:8321)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3625)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3781)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2306)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7918)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\n","title":"Android PackageManager: Resources.NotFoundException thrown when trying to read application label","body":"<p>When I try to read the application label of other apps with the package manager, I get a Resources.NotFoundException. The interesting part is, that the exception only appears sometimes, meaning the code works for some re-installations but not for all.</p>\n<p>Below is the code fragment that throws the exception (I try to catch it but that doesn't work either).</p>\n<pre><code> public static void collectInstalledApps(Context context) {\n        PackageManager packageManager = context.getPackageManager();\n        List&lt;ApplicationInfo&gt; packages = packageManager.getInstalledApplications(PackageManager.GET_META_DATA);\n        Log.d(&quot;APPS&quot;, &quot;Appl Info Size &quot; + packages.size());\n        Set&lt;String&gt; oldApps = AppSettings.INSTALLED_APPS.keySet();\n        Log.d(&quot;APPS&quot;, &quot;old apps: &quot; + oldApps);\n        Set&lt;String&gt; newApps = new HashSet&lt;&gt;();\n        AppSettings.INSTALLED_APPS = new HashMap&lt;&gt;();\n\n        for(ApplicationInfo ai : packages) {\n            String packageName = ai.packageName;\n            String name = packageName;\n            try {\n                name = packageManager.getApplicationLabel(ai).toString();\n            } catch (android.content.res.Resources.NotFoundException e) {\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Not found name: &quot; + packageName);\n                //TODO fix\n            } catch (RuntimeException exception) {\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Other exception:  &quot; + packageName);\n            }\n        }\n    }\n</code></pre>\n<p>This is the exception:</p>\n<pre><code>2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus E/mple.focuspocus: Resource 7f120059 is a complex map type.\n2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus W/PackageManager: Failure retrieving text 0x7f120059 in package com.kiloo.subwaysurf\n    android.content.res.Resources$NotFoundException: String resource ID #0x7f120059\n        at android.content.res.Resources.getText(Resources.java:453)\n        at android.app.ApplicationPackageManager.getText(ApplicationPackageManager.java:2336)\n        at android.content.pm.PackageItemInfo.loadUnsafeLabel(PackageItemInfo.java:222)\n        at android.content.pm.PackageItemInfo.loadLabel(PackageItemInfo.java:212)\n        at android.app.ApplicationPackageManager.getApplicationLabel(ApplicationPackageManager.java:2380)\n        at com.example.focuspocus.settings.AppSettings.collectInstalledApps(AppSettings.java:369)\n        at com.example.focuspocus.home.HomeActivity.onCreate(HomeActivity.java:70)\n        at android.app.Activity.performCreate(Activity.java:8342)\n        at android.app.Activity.performCreate(Activity.java:8321)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3625)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3781)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2306)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7918)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n"},{"tags":["java","collections","arraylist","hashmap"],"comments":[{"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":4,"creation_date":1267961877,"post_id":2395814,"comment_id":2375375,"body_markdown":"Not only in Java ... &quot;in general&quot;!","body":"Not only in Java ... &quot;in general&quot;!"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1267955634,"creation_date":1267955634,"answer_id":2395831,"question_id":2395814,"body_markdown":"Use a list for an ordered collection of just values. For example, you might have a list of files to process.\r\n\r\nUse a map for a (usually unordered) mapping from key to value. For example, you might have a map from a user ID to the details of that user, so you can efficiently find the details given just the ID. (You *could* implement the `Map` interface by just storing a list of keys and a list of values, but generally there&#39;ll be a more efficient implementation - `HashMap` uses a hash table internally to get amortised O(1) key lookup, for example.)","title":"Difference between HashMap and ArrayList in Java?","body":"<p>Use a list for an ordered collection of just values. For example, you might have a list of files to process.</p>\n\n<p>Use a map for a (usually unordered) mapping from key to value. For example, you might have a map from a user ID to the details of that user, so you can efficiently find the details given just the ID. (You <em>could</em> implement the <code>Map</code> interface by just storing a list of keys and a list of values, but generally there'll be a more efficient implementation - <code>HashMap</code> uses a hash table internally to get amortised O(1) key lookup, for example.)</p>\n"},{"tags":[],"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1418355647,"creation_date":1267956087,"answer_id":2395852,"question_id":2395814,"body_markdown":"Not really a Java specific question. It seems you need a &quot;primer&quot; on data structures. Try googling &quot;What data structure should you use&quot;\r\n\r\nTry this link http://www.devx.com/tips/Tip/14639\r\n\r\nFrom the link :\r\n\r\nFollowing are some tips for matching the most commonly used data structures with particular needs.\r\n\r\n1. When to use a Hashtable?\r\n\r\nA hashtable, or similar data structures, are good candidates if the stored data is to be accessed in the form of key-value pairs. For instance, if you were fetching the name of an employee, the result can be returned in the form of a hashtable as a (name, value) pair. However, if you were to return names of multiple employees, returning a hashtable directly would not be a good idea. Remember that the keys have to be unique or your previous value(s) will get overwritten.\r\n\r\n2. When to use a List or Vector?\r\n\r\nThis is a good option when you desire sequential or even random access. Also, if data size is unknown initially, and/or is going to grow dynamically, it would be appropriate to use a List or Vector. For instance, to store the results of a JDBC ResultSet, you can use the java.util.LinkedList. Whereas, if you are looking for a resizable array, use the java.util.ArrayList class.\r\n\r\n3. When to use Arrays?\r\n\r\nNever underestimate arrays. Most of the time, when we have to use a list of objects, we tend to think about using vectors or lists. However, if the size of collection is already known and is not going to change, an array can be considered as the potential data structure. It&#39;s faster to access elements of an array than a vector or a list. That&#39;s obvious, because all you need is an index. There&#39;s no overhead of an additional get method call.\r\n\r\n4.Combinations\r\n\r\nSometimes, it may be best to use a combination of the above approaches. For example, you could use a list of hashtables to suit a particular need.\r\n\r\n4. Set Classes\r\n\r\nAnd from JDK 1.2 onwards, you also have set classes like java.util.TreeSet, which is useful for sorted sets that do not have duplicates. One of the best things about these classes is they all abide by certain interface so that you don&#39;t really have to worry about the specifics. For e.g., take a look at the following code.\r\n \r\n\r\n      // ...\r\n      List list = new ArrayList();\r\n      list.add(","title":"Difference between HashMap and ArrayList in Java?","body":"<p>Not really a Java specific question. It seems you need a \"primer\" on data structures. Try googling \"What data structure should you use\"</p>\n\n<p>Try this link <a href=\"http://www.devx.com/tips/Tip/14639\" rel=\"noreferrer\">http://www.devx.com/tips/Tip/14639</a></p>\n\n<p>From the link :</p>\n\n<p>Following are some tips for matching the most commonly used data structures with particular needs.</p>\n\n<ol>\n<li>When to use a Hashtable?</li>\n</ol>\n\n<p>A hashtable, or similar data structures, are good candidates if the stored data is to be accessed in the form of key-value pairs. For instance, if you were fetching the name of an employee, the result can be returned in the form of a hashtable as a (name, value) pair. However, if you were to return names of multiple employees, returning a hashtable directly would not be a good idea. Remember that the keys have to be unique or your previous value(s) will get overwritten.</p>\n\n<ol start=\"2\">\n<li>When to use a List or Vector?</li>\n</ol>\n\n<p>This is a good option when you desire sequential or even random access. Also, if data size is unknown initially, and/or is going to grow dynamically, it would be appropriate to use a List or Vector. For instance, to store the results of a JDBC ResultSet, you can use the java.util.LinkedList. Whereas, if you are looking for a resizable array, use the java.util.ArrayList class.</p>\n\n<ol start=\"3\">\n<li>When to use Arrays?</li>\n</ol>\n\n<p>Never underestimate arrays. Most of the time, when we have to use a list of objects, we tend to think about using vectors or lists. However, if the size of collection is already known and is not going to change, an array can be considered as the potential data structure. It's faster to access elements of an array than a vector or a list. That's obvious, because all you need is an index. There's no overhead of an additional get method call.</p>\n\n<p>4.Combinations</p>\n\n<p>Sometimes, it may be best to use a combination of the above approaches. For example, you could use a list of hashtables to suit a particular need.</p>\n\n<ol start=\"4\">\n<li>Set Classes</li>\n</ol>\n\n<p>And from JDK 1.2 onwards, you also have set classes like java.util.TreeSet, which is useful for sorted sets that do not have duplicates. One of the best things about these classes is they all abide by certain interface so that you don't really have to worry about the specifics. For e.g., take a look at the following code.</p>\n\n<pre><code>  // ...\n  List list = new ArrayList();\n  list.add(\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1501570379,"creation_date":1267956262,"answer_id":2395862,"question_id":2395814,"body_markdown":"If you use an `ArrayList`, you have to access the elements with an index (`int` type). With a `HashMap`, you can access them by an index of another type (for example, a `String`)\r\n\r\n    HashMap&lt;String, Book&gt; books = new HashMap&lt;String, Book&gt;();\r\n    // String is the type of the index (the key)\r\n    // and Book is the type of the elements (the values)\r\n    // Like with an arraylist: ArrayList&lt;Book&gt; books = ...;\r\n\r\n    // Now you have to store the elements with a string key:\r\n    books.put(&quot;Harry Potter III&quot;, new Book(&quot;JK Rownling&quot;, 456, &quot;Harry Potter&quot;));\r\n\r\n    // Now you can access the elements by using a String index\r\n    Book book = books.get(&quot;Harry Potter III&quot;);\r\n\r\nThis is impossible (or much more difficult) with an `ArrayList`. The only good way to access elements in an `ArrayList` is by getting the elements by their index-number.\r\n\r\nSo, this means that with a `HashMap` you can use every type of key you want.\r\n\r\nAnother helpful example is in a game: you have a set of images, and you want to flip them. So, you write a image-flip method, and then store the flipped results:\r\n\r\n    HashMap&lt;BufferedImage, BufferedImage&gt; flipped = new HashMap&lt;BufferedImage, BufferedImage&gt;();\r\n    BufferedImage player = ...; // On this image the player walks to the left.\r\n    BufferedImage flippedPlayer = flip(player); // On this image the player walks to the right.\r\n    flipped.put(player, flippedPlayer);\r\n    // Now you can access the flipped instance by doing this:\r\n    flipped.get(player);\r\n\r\nYou flipped player once, and then store it. You can access a `BufferedImage` with a `BufferedImage` as key-type for the `HashMap`.\r\n\r\nI hope you understand my second example.\r\n\r\n    ","title":"Difference between HashMap and ArrayList in Java?","body":"<p>If you use an <code>ArrayList</code>, you have to access the elements with an index (<code>int</code> type). With a <code>HashMap</code>, you can access them by an index of another type (for example, a <code>String</code>)</p>\n\n<pre><code>HashMap&lt;String, Book&gt; books = new HashMap&lt;String, Book&gt;();\n// String is the type of the index (the key)\n// and Book is the type of the elements (the values)\n// Like with an arraylist: ArrayList&lt;Book&gt; books = ...;\n\n// Now you have to store the elements with a string key:\nbooks.put(\"Harry Potter III\", new Book(\"JK Rownling\", 456, \"Harry Potter\"));\n\n// Now you can access the elements by using a String index\nBook book = books.get(\"Harry Potter III\");\n</code></pre>\n\n<p>This is impossible (or much more difficult) with an <code>ArrayList</code>. The only good way to access elements in an <code>ArrayList</code> is by getting the elements by their index-number.</p>\n\n<p>So, this means that with a <code>HashMap</code> you can use every type of key you want.</p>\n\n<p>Another helpful example is in a game: you have a set of images, and you want to flip them. So, you write a image-flip method, and then store the flipped results:</p>\n\n<pre><code>HashMap&lt;BufferedImage, BufferedImage&gt; flipped = new HashMap&lt;BufferedImage, BufferedImage&gt;();\nBufferedImage player = ...; // On this image the player walks to the left.\nBufferedImage flippedPlayer = flip(player); // On this image the player walks to the right.\nflipped.put(player, flippedPlayer);\n// Now you can access the flipped instance by doing this:\nflipped.get(player);\n</code></pre>\n\n<p>You flipped player once, and then store it. You can access a <code>BufferedImage</code> with a <code>BufferedImage</code> as key-type for the <code>HashMap</code>.</p>\n\n<p>I hope you understand my second example.</p>\n"},{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1267958863,"creation_date":1267958863,"answer_id":2395965,"question_id":2395814,"body_markdown":"You are asking specifically about ArrayList and HashMap, but I think to fully understand what is going on you have to understand the Collections framework.  So an ArrayList implements the List interface and a HashMap implements the Map interface.  So the real question is when do you want to use a List and when do you want to use a Map.  This is where the Java API documentation helps a lot.\r\n\r\nList:\r\n\r\n&gt; An ordered collection (also known as a\r\n&gt; sequence). The user of this interface\r\n&gt; has precise control over where in the\r\n&gt; list each element is inserted. The\r\n&gt; user can access elements by their\r\n&gt; integer index (position in the list),\r\n&gt; and search for elements in the list.\r\n\r\nMap:\r\n\r\n&gt; An object that maps keys to values. A\r\n&gt; map cannot contain duplicate keys;\r\n&gt; each key can map to at most one value.\r\n\r\nSo as other answers have discussed, the list interface (ArrayList) is an ordered collection of objects that you access using an index, much like an array (well in the case of ArrayList, as the name suggests, it is just an array in the background, but a lot of the details of dealing with the array are handled for you).  You would use an ArrayList when you want to keep things in sorted order (the order they are added, or indeed the position within the list that you specify when you add the object).\r\n\r\nA Map on the other hand takes one object and uses that as a key (index) to another object (the value).  So lets say you have objects which have unique IDs, and you know you are going to want to access these objects by ID at some point, the Map will make this very easy on you (and quicker/more efficient).  The HashMap implementation uses the hash value of the key object to locate where it is stored, so there is no guarentee of the order of the values anymore.  There are however other classes in the Java API that can provide this, e.g. LinkedHashMap, which as well as using a hash table to store the key/value pairs, also maintains a List (LinkedList) of the keys in the order they were added, so you can always access the items again in the order they were added (if needed).","title":"Difference between HashMap and ArrayList in Java?","body":"<p>You are asking specifically about ArrayList and HashMap, but I think to fully understand what is going on you have to understand the Collections framework.  So an ArrayList implements the List interface and a HashMap implements the Map interface.  So the real question is when do you want to use a List and when do you want to use a Map.  This is where the Java API documentation helps a lot.</p>\n\n<p>List:</p>\n\n<blockquote>\n  <p>An ordered collection (also known as a\n  sequence). The user of this interface\n  has precise control over where in the\n  list each element is inserted. The\n  user can access elements by their\n  integer index (position in the list),\n  and search for elements in the list.</p>\n</blockquote>\n\n<p>Map:</p>\n\n<blockquote>\n  <p>An object that maps keys to values. A\n  map cannot contain duplicate keys;\n  each key can map to at most one value.</p>\n</blockquote>\n\n<p>So as other answers have discussed, the list interface (ArrayList) is an ordered collection of objects that you access using an index, much like an array (well in the case of ArrayList, as the name suggests, it is just an array in the background, but a lot of the details of dealing with the array are handled for you).  You would use an ArrayList when you want to keep things in sorted order (the order they are added, or indeed the position within the list that you specify when you add the object).</p>\n\n<p>A Map on the other hand takes one object and uses that as a key (index) to another object (the value).  So lets say you have objects which have unique IDs, and you know you are going to want to access these objects by ID at some point, the Map will make this very easy on you (and quicker/more efficient).  The HashMap implementation uses the hash value of the key object to locate where it is stored, so there is no guarentee of the order of the values anymore.  There are however other classes in the Java API that can provide this, e.g. LinkedHashMap, which as well as using a hash table to store the key/value pairs, also maintains a List (LinkedList) of the keys in the order they were added, so you can always access the items again in the order they were added (if needed).</p>\n"},{"tags":[],"owner":{"account_id":1433603,"reputation":61,"user_id":1355450,"display_name":"maxmcbyte"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1335339726,"creation_date":1335339726,"answer_id":10311393,"question_id":2395814,"body_markdown":"A Map vs a List.\r\n\r\nIn a Map, you have key/value pairs. To access a value you need to know the key. There is a relationship that exists between the key and the value that persists and is not arbitrary. They are related somehow. Example: A persons DNA is unique (the key) and a persons name (the value) or a persons SSN (the key) and a persons name (the value) there is a strong relationship.\r\n\r\nIn a List, all you have are values (a persons name), and to access it you need to know its position in the list (index) to access it. But there is no permanent relationship between the position of the value in the list and its index, it is arbitrary.\r\n","title":"Difference between HashMap and ArrayList in Java?","body":"<p>A Map vs a List.</p>\n\n<p>In a Map, you have key/value pairs. To access a value you need to know the key. There is a relationship that exists between the key and the value that persists and is not arbitrary. They are related somehow. Example: A persons DNA is unique (the key) and a persons name (the value) or a persons SSN (the key) and a persons name (the value) there is a strong relationship.</p>\n\n<p>In a List, all you have are values (a persons name), and to access it you need to know its position in the list (index) to access it. But there is no permanent relationship between the position of the value in the list and its index, it is arbitrary.</p>\n"},{"tags":[],"owner":{"account_id":6177072,"reputation":2304,"user_id":4813631,"accept_rate":100,"display_name":"A.K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693138474,"creation_date":1693138474,"answer_id":76987066,"question_id":2395814,"body_markdown":"We should consider below point before using `ArrayList` and `HashMap`.\r\n\r\n**ArrayList**\r\n\r\n - The java `ArrayList` implements `List` Interface\r\n - `ArrayList` always maintain the insertion order of the elements\r\n - `ArrayList` only stores value or element\r\n - `ArrayList` can contain duplicate elements\r\n - We can have any number of null elements in `ArrayList`\r\n - `ArrayList` `get()` method always gives an `O(1)` performance\r\n\r\n**HashMap**\r\n\r\n - The java `HashMap` implements `Map` interface \r\n - `HashMap` does not maintain the insertion order.\r\n - `HashMap` stores key and value pairs \r\n - `HashMap` does not contain duplicate keys but contains duplicate values. \r\n - We can have only one null key and any number of null values in `HashMap` \r\n - `HashMap` `get()` method can be `O(1)` in the best case and `O(n)` in the worst case\r\n\r\n**Example:**\r\n\r\n    // Importing all utility classes\r\n    import java.util.*;\r\n    \r\n    // Main class\r\n    class Demo {\r\n    \tpublic static void main(String args[]) {\r\n    \t\t// Creating ArrayList of string type\r\n    \t\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t// Adding values in ArrayList using standard add() method\r\n    \t\tlist.add(&quot;A&quot;);\r\n    \t\tlist.add(null); // Adding first null value\r\n    \t\tlist.add(&quot;C&quot;);\r\n    \t\tlist.add(null); // Adding second null value\r\n    \t\tlist.add(null); // Adding third null value\r\n    \r\n    \t\t// Printing ArrayList object\r\n    \t\tSystem.out.println(&quot;ArrayList: &quot; + list);\r\n    \r\n    \t\t//Creating HashMap object of integer and string type\r\n    \t\tHashMap&lt;Integer, String&gt; hm = new HashMap&lt;Integer, String&gt;();\r\n    \r\n    \t\t// Adding value in HashMap using standard put method\r\n    \t\thm.put(1, &quot;A&quot;);\r\n    \t\thm.put(2, &quot;B&quot;);\r\n    \t\thm.put(null, &quot;C&quot;); // Adding first null key\r\n    \t\thm.put(null, null); // Again adding null key which replace value of first insert null key value\r\n    \t\thm.put(3, null); // Adding second null value with different key\r\n    \r\n    \t\t// Printing the elements of Hashmap\r\n    \t\tSystem.out.println(&quot;HashMap: &quot; + hm);\r\n    \t}\r\n    }\r\n\r\n**Output**\r\n\r\n    ArrayList: [A, null, C, null, null]\r\n    HashMap: {null=null, 1=A, 2=B, 3=null}\r\n\r\nIn above output we can see `ArrayList` contains duplicate `null` values and `Hashmap` contains duplicate `null` value but key is not duplicate.\r\n`HashMap` replace new value when we add value with some existing key.\r\n\r\nReference : https://www.geeksforgeeks.org/difference-between-arraylist-and-hashmap-in-java/","title":"Difference between HashMap and ArrayList in Java?","body":"<p>We should consider below point before using <code>ArrayList</code> and <code>HashMap</code>.</p>\n<p><strong>ArrayList</strong></p>\n<ul>\n<li>The java <code>ArrayList</code> implements <code>List</code> Interface</li>\n<li><code>ArrayList</code> always maintain the insertion order of the elements</li>\n<li><code>ArrayList</code> only stores value or element</li>\n<li><code>ArrayList</code> can contain duplicate elements</li>\n<li>We can have any number of null elements in <code>ArrayList</code></li>\n<li><code>ArrayList</code> <code>get()</code> method always gives an <code>O(1)</code> performance</li>\n</ul>\n<p><strong>HashMap</strong></p>\n<ul>\n<li>The java <code>HashMap</code> implements <code>Map</code> interface</li>\n<li><code>HashMap</code> does not maintain the insertion order.</li>\n<li><code>HashMap</code> stores key and value pairs</li>\n<li><code>HashMap</code> does not contain duplicate keys but contains duplicate values.</li>\n<li>We can have only one null key and any number of null values in <code>HashMap</code></li>\n<li><code>HashMap</code> <code>get()</code> method can be <code>O(1)</code> in the best case and <code>O(n)</code> in the worst case</li>\n</ul>\n<p><strong>Example:</strong></p>\n<pre><code>// Importing all utility classes\nimport java.util.*;\n\n// Main class\nclass Demo {\n    public static void main(String args[]) {\n        // Creating ArrayList of string type\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n        // Adding values in ArrayList using standard add() method\n        list.add(&quot;A&quot;);\n        list.add(null); // Adding first null value\n        list.add(&quot;C&quot;);\n        list.add(null); // Adding second null value\n        list.add(null); // Adding third null value\n\n        // Printing ArrayList object\n        System.out.println(&quot;ArrayList: &quot; + list);\n\n        //Creating HashMap object of integer and string type\n        HashMap&lt;Integer, String&gt; hm = new HashMap&lt;Integer, String&gt;();\n\n        // Adding value in HashMap using standard put method\n        hm.put(1, &quot;A&quot;);\n        hm.put(2, &quot;B&quot;);\n        hm.put(null, &quot;C&quot;); // Adding first null key\n        hm.put(null, null); // Again adding null key which replace value of first insert null key value\n        hm.put(3, null); // Adding second null value with different key\n\n        // Printing the elements of Hashmap\n        System.out.println(&quot;HashMap: &quot; + hm);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>ArrayList: [A, null, C, null, null]\nHashMap: {null=null, 1=A, 2=B, 3=null}\n</code></pre>\n<p>In above output we can see <code>ArrayList</code> contains duplicate <code>null</code> values and <code>Hashmap</code> contains duplicate <code>null</code> value but key is not duplicate.\n<code>HashMap</code> replace new value when we add value with some existing key.</p>\n<p>Reference : <a href=\"https://www.geeksforgeeks.org/difference-between-arraylist-and-hashmap-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/difference-between-arraylist-and-hashmap-in-java/</a></p>\n"}],"owner":{"account_id":103658,"reputation":20982,"user_id":277516,"accept_rate":77,"display_name":"Venkat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68193,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":2395965,"answer_count":6,"score":45,"last_activity_date":1693138474,"creation_date":1267955185,"question_id":2395814,"body_markdown":"In Java, `ArrayList` and `HashMap` are used as collections. But I couldn&#39;t understand in which situations we should use `ArrayList` and which times to use `HashMap`. What is the major difference between both of them?","title":"Difference between HashMap and ArrayList in Java?","body":"<p>In Java, <code>ArrayList</code> and <code>HashMap</code> are used as collections. But I couldn't understand in which situations we should use <code>ArrayList</code> and which times to use <code>HashMap</code>. What is the major difference between both of them?</p>\n"},{"tags":["java","spring-boot","postman","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692947826,"creation_date":1692947826,"answer_id":76975051,"question_id":76968484,"body_markdown":"After some discussion in comments. To have an result in postman response body you should to do some changes.\r\n\r\nPost method in controller layer should have a `@RequestBody` annotation:\r\n\r\n    @PostMapping(&quot;/savePensionDetails&quot;)\r\n    public String savePension(@RequestBody PensionerDetail pensionerDetail) {\r\n    \treturn pensionService.savePensionDetails(pensionerDetail);\r\n    }\r\n\r\nIn postman with the object from comments that you wrote, i got next one result:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;sravani&quot;,\r\n      &quot;DOB&quot;: &quot;21/02/2001&quot;,\r\n      &quot;Pan&quot;: &quot;Pan&quot;,\r\n      &quot;salary&quot;: 123.24,\r\n      &quot;allowance&quot;: 22.12,\r\n      &quot;pension_class&quot;: &quot;pension&quot;,\r\n      &quot;bank&quot;: {\r\n        &quot;bank_name&quot;: &quot;sbi&quot;,\r\n        &quot;acc_num&quot;: 1234,\r\n        &quot;bank_type&quot;: &quot;govt&quot;\r\n      }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter all when i invoke the `/all` endpoint i`m going to have next one result:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/scHOK.png\r\n  [2]: https://i.stack.imgur.com/Mkqia.png","title":"Not getting Get method retun values in postman","body":"<p>After some discussion in comments. To have an result in postman response body you should to do some changes.</p>\n<p>Post method in controller layer should have a <code>@RequestBody</code> annotation:</p>\n<pre><code>@PostMapping(&quot;/savePensionDetails&quot;)\npublic String savePension(@RequestBody PensionerDetail pensionerDetail) {\n    return pensionService.savePensionDetails(pensionerDetail);\n}\n</code></pre>\n<p>In postman with the object from comments that you wrote, i got next one result:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;sravani&quot;,\n  &quot;DOB&quot;: &quot;21/02/2001&quot;,\n  &quot;Pan&quot;: &quot;Pan&quot;,\n  &quot;salary&quot;: 123.24,\n  &quot;allowance&quot;: 22.12,\n  &quot;pension_class&quot;: &quot;pension&quot;,\n  &quot;bank&quot;: {\n    &quot;bank_name&quot;: &quot;sbi&quot;,\n    &quot;acc_num&quot;: 1234,\n    &quot;bank_type&quot;: &quot;govt&quot;\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/scHOK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scHOK.png\" alt=\"enter image description here\" /></a></p>\n<p>After all when i invoke the <code>/all</code> endpoint i`m going to have next one result:</p>\n<p><a href=\"https://i.stack.imgur.com/Mkqia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mkqia.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29289735,"reputation":1,"user_id":22440525,"display_name":"Sandhya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693138350,"creation_date":1692873634,"question_id":76968484,"body_markdown":"Find My code below \r\n\r\n\r\nPensionerDetails.java\r\n```\r\npackage com.pension.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Embedded;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity \r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Table(name=&quot;pensioner_detail&quot;)\r\npublic class PensionerDetail {\r\n\r\n\t@Id\r\n\tprivate String aadhar;\r\n\tprivate String name;\r\n\tprivate String DOB;\r\n\tprivate String Pan;\r\n\tprivate Double salary;\r\n\tprivate Double allowance;\r\n\tprivate String pension_class;\r\n\t@Embedded\r\n\t@Column(name=&quot;bank&quot;)\r\n\tprivate Bank bank;\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;PensionerDetail [aadhar=&quot; + aadhar + &quot;, name=&quot; + name + &quot;, DOB=&quot; + DOB + &quot;, Pan=&quot; + Pan + &quot;, salary=&quot;\r\n\t\t\t\t+ salary + &quot;, allowance=&quot; + allowance + &quot;, pension_class=&quot; + pension_class + &quot;, bank=&quot; + bank + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nBank.java\r\n```\r\npackage com.pension.model;\r\n\r\n\r\n\r\nimport jakarta.persistence.Embeddable;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Embeddable\r\n@AllArgsConstructor\r\n@Data\r\n@NoArgsConstructor\r\npublic class Bank {\r\n\t\r\n\tprivate String bank_name;\r\n\tprivate long acc_num;\r\n\tprivate String bank_type;\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Bank [bank_name=&quot; + bank_name + &quot;, acc_num=&quot; + acc_num + &quot;, bank_type=&quot; + bank_type + &quot;]&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nPensionrepo.java\r\n\r\n```\r\npackage com.pension.repository;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.pension.model.PensionerDetail;\r\n\r\n@Repository\r\npublic interface Pensionrepo extends JpaRepository&lt;PensionerDetail, String&gt;{\r\n//\r\n//\t@Query(&quot;select p1_0.aadhar,p1_0.DOB,p1_0.Pan,p1_0.allowance,p1_0.acc_num,p1_0.bank_name,p1_0.bank_type,p1_0.name,p1_0.pension_class,p1_0.salary from PensionerDetail p1_0 where p1_0.aadhar=?1&quot;)\r\n\tpublic List&lt;PensionerDetail&gt; findByAadhar(String adhar);\r\n\r\n}\r\n```\r\n\r\nPensionService.java\r\n\r\n```\r\npackage com.pension.service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.pension.model.PensionerDetail;\r\nimport com.pension.repository.Pensionrepo;\r\n\r\n@Service\r\npublic class PensionService {\r\n\t\r\n\t@Autowired\r\n\tprivate Pensionrepo pensionrepo;\r\n\r\npublic String savePensionDetails(PensionerDetail pensionerDetail) {\r\n\t\tpensionrepo.save(pensionerDetail);\r\n\t\treturn &quot;PensionDetails are saved successfully&quot;;\r\n\t}\r\n\r\n\tpublic Optional&lt;PensionerDetail&gt; getPensionByAadhar(String Aadhar) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(pensionrepo.findById(Aadhar));\r\n\t\treturn pensionrepo.findById(Aadhar);\r\n\t}\r\n\r\n\tpublic List&lt;PensionerDetail&gt; pensionerDetails() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn pensionrepo.findAll();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nPensionController.java\r\n\r\n```\r\npackage com.pension.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.pension.model.PensionerDetail;\r\nimport com.pension.service.PensionService;\r\n\r\n@RestController\r\npublic class PensionController {\r\n\r\n\t\r\n\t@Autowired\r\n\tprivate PensionService pensionService;\r\n\t\r\n\r\n@PostMapping(&quot;/savePensionDetails&quot;)\r\n\tpublic String savePension( @RequestBody PensionerDetail pensionerDetail) {\r\n\t\treturn pensionService.savePensionDetails(pensionerDetail);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/getByAadhar/{aadhar}&quot;)\r\n\tpublic Optional&lt;PensionerDetail&gt; getPensionByAadhar(@PathVariable String aadhar) {\r\n\t\treturn pensionService.getPensionByAadhar(aadhar);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/all&quot;)\r\n\tpublic List&lt;PensionerDetail&gt; pensionerDetails(){\r\n\t\tSystem.out.println(pensionService.pensionerDetails());\r\n\t\treturn pensionService.pensionerDetails();\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost/pension\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\n```\r\n\r\n\r\n\r\n[Find my mysql table detals here](https://i.stack.imgur.com/HBM1B.png)\r\n\r\nI have created table and inserted values but when i am calling GetMapping methods i am able to see data in console but in post man it&#39;s just showing empty list. Can someone help me with this i just started learning spring.\r\n\r\nI am expecting solution to my problem because in console i can see the data then why it&#39;s not printing the data in postman.\r\n\r\n[Postman image][1]\r\n\r\n\r\nAnd For PostMapping Request i am getting this error [error][2]\r\n\r\nThis is how i am passing values in postman [postman postmapping][3]\r\n\r\n\r\n[while executing mvn clean compile i am getting build failure][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NN3PB.png\r\n  [2]: https://i.stack.imgur.com/y7uWt.png\r\n  [3]: https://i.stack.imgur.com/5dMaU.png\r\n  [4]: https://i.stack.imgur.com/yajby.png","title":"Not getting Get method retun values in postman","body":"<p>Find My code below</p>\n<p>PensionerDetails.java</p>\n<pre><code>package com.pension.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Embedded;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity \n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table(name=&quot;pensioner_detail&quot;)\npublic class PensionerDetail {\n\n    @Id\n    private String aadhar;\n    private String name;\n    private String DOB;\n    private String Pan;\n    private Double salary;\n    private Double allowance;\n    private String pension_class;\n    @Embedded\n    @Column(name=&quot;bank&quot;)\n    private Bank bank;\n    \n    @Override\n    public String toString() {\n        return &quot;PensionerDetail [aadhar=&quot; + aadhar + &quot;, name=&quot; + name + &quot;, DOB=&quot; + DOB + &quot;, Pan=&quot; + Pan + &quot;, salary=&quot;\n                + salary + &quot;, allowance=&quot; + allowance + &quot;, pension_class=&quot; + pension_class + &quot;, bank=&quot; + bank + &quot;]&quot;;\n    }\n    \n    \n    \n}\n\n</code></pre>\n<p>Bank.java</p>\n<pre><code>package com.pension.model;\n\n\n\nimport jakarta.persistence.Embeddable;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Embeddable\n@AllArgsConstructor\n@Data\n@NoArgsConstructor\npublic class Bank {\n    \n    private String bank_name;\n    private long acc_num;\n    private String bank_type;\n    @Override\n    public String toString() {\n        return &quot;Bank [bank_name=&quot; + bank_name + &quot;, acc_num=&quot; + acc_num + &quot;, bank_type=&quot; + bank_type + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Pensionrepo.java</p>\n<pre><code>package com.pension.repository;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport com.pension.model.PensionerDetail;\n\n@Repository\npublic interface Pensionrepo extends JpaRepository&lt;PensionerDetail, String&gt;{\n//\n//  @Query(&quot;select p1_0.aadhar,p1_0.DOB,p1_0.Pan,p1_0.allowance,p1_0.acc_num,p1_0.bank_name,p1_0.bank_type,p1_0.name,p1_0.pension_class,p1_0.salary from PensionerDetail p1_0 where p1_0.aadhar=?1&quot;)\n    public List&lt;PensionerDetail&gt; findByAadhar(String adhar);\n\n}\n</code></pre>\n<p>PensionService.java</p>\n<pre><code>package com.pension.service;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.pension.model.PensionerDetail;\nimport com.pension.repository.Pensionrepo;\n\n@Service\npublic class PensionService {\n    \n    @Autowired\n    private Pensionrepo pensionrepo;\n\npublic String savePensionDetails(PensionerDetail pensionerDetail) {\n        pensionrepo.save(pensionerDetail);\n        return &quot;PensionDetails are saved successfully&quot;;\n    }\n\n    public Optional&lt;PensionerDetail&gt; getPensionByAadhar(String Aadhar) {\n        // TODO Auto-generated method stub\n        System.out.println(pensionrepo.findById(Aadhar));\n        return pensionrepo.findById(Aadhar);\n    }\n\n    public List&lt;PensionerDetail&gt; pensionerDetails() {\n        // TODO Auto-generated method stub\n        return pensionrepo.findAll();\n    }\n}\n</code></pre>\n<p>PensionController.java</p>\n<pre><code>package com.pension.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.pension.model.PensionerDetail;\nimport com.pension.service.PensionService;\n\n@RestController\npublic class PensionController {\n\n    \n    @Autowired\n    private PensionService pensionService;\n    \n\n@PostMapping(&quot;/savePensionDetails&quot;)\n    public String savePension( @RequestBody PensionerDetail pensionerDetail) {\n        return pensionService.savePensionDetails(pensionerDetail);\n    }\n    \n    @GetMapping(&quot;/getByAadhar/{aadhar}&quot;)\n    public Optional&lt;PensionerDetail&gt; getPensionByAadhar(@PathVariable String aadhar) {\n        return pensionService.getPensionByAadhar(aadhar);\n    }\n    \n    @GetMapping(&quot;/all&quot;)\n    public List&lt;PensionerDetail&gt; pensionerDetails(){\n        System.out.println(pensionService.pensionerDetails());\n        return pensionService.pensionerDetails();\n    }\n}\n\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/pension\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\n\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.show-sql=true\nspring.jpa.defer-datasource-initialization=true\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HBM1B.png\" rel=\"nofollow noreferrer\">Find my mysql table detals here</a></p>\n<p>I have created table and inserted values but when i am calling GetMapping methods i am able to see data in console but in post man it's just showing empty list. Can someone help me with this i just started learning spring.</p>\n<p>I am expecting solution to my problem because in console i can see the data then why it's not printing the data in postman.</p>\n<p><a href=\"https://i.stack.imgur.com/NN3PB.png\" rel=\"nofollow noreferrer\">Postman image</a></p>\n<p>And For PostMapping Request i am getting this error <a href=\"https://i.stack.imgur.com/y7uWt.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>This is how i am passing values in postman <a href=\"https://i.stack.imgur.com/5dMaU.png\" rel=\"nofollow noreferrer\">postman postmapping</a></p>\n<p><a href=\"https://i.stack.imgur.com/yajby.png\" rel=\"nofollow noreferrer\">while executing mvn clean compile i am getting build failure</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693137933,"creation_date":1693137933,"answer_id":76987027,"question_id":76983664,"body_markdown":"After a couple of frustrating hours, I&#39;ve finally managed to get `TestRestTemplate` working again. I&#39;ve noticed that in the headers I was receiving, along with the `302 FOUND` and `null` body response, that the `Location` header would always be redirected to `https` URI.\r\n\r\nI&#39;ve said that in tests I disabled the HTTPS protocol, however I forgot to disable a bean that I used in order to redirect HTTP calls to HTTPS. Here&#39;s the bean and `@ConditionalOnMissingBean` that I used to stop redirecting to HTTPS:\r\n```\r\n    private final static String SECURITY_USER_CONSTRAINT = &quot;CONFIDENTIAL&quot;;\r\n\r\n    private final static String REDIRECT_PATTERN = &quot;/*&quot;;\r\n\r\n    private final static String CONNECTOR_PROTOCOL = &quot;org.apache.coyote.http11.Http11NioProtocol&quot;;\r\n\r\n    private final static String CONNECTOR_SCHEME = &quot;http&quot;;\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(type = &quot;org.springframework.boot.test.mock.mockito.MockitoPostProcessor&quot;)\r\n    public TomcatServletWebServerFactory servletWebServerFactory() {\r\n        TomcatServletWebServerFactory tomcat =\r\n                new TomcatServletWebServerFactory() {\r\n                    @Override\r\n                    protected void postProcessContext(Context context) {\r\n                        SecurityConstraint constraint = new SecurityConstraint();\r\n                        constraint.setUserConstraint(SECURITY_USER_CONSTRAINT);\r\n                        SecurityCollection collection = new SecurityCollection();\r\n                        collection.addPattern(REDIRECT_PATTERN);\r\n                        constraint.addCollection(collection);\r\n                        context.addConstraint(constraint);\r\n                    }\r\n                };\r\n        tomcat.addAdditionalTomcatConnectors(createHttpConnector());\r\n        return tomcat;\r\n    }\r\n\r\n    private Connector createHttpConnector() {\r\n        Connector connector =\r\n                new Connector(CONNECTOR_PROTOCOL);\r\n        connector.setScheme(CONNECTOR_SCHEME);\r\n        connector.setSecure(false);\r\n        connector.setPort(8080);\r\n        connector.setRedirectPort(8433);\r\n        return connector;\r\n    }\r\n```\r\nThat more or less solved the issue, but I also needed to enable Http Basic Auth back again, as I did not want to get into JWT auth in tests using `TestRestTemplate`.","title":"TestRestTemplate returns 302 and null","body":"<p>After a couple of frustrating hours, I've finally managed to get <code>TestRestTemplate</code> working again. I've noticed that in the headers I was receiving, along with the <code>302 FOUND</code> and <code>null</code> body response, that the <code>Location</code> header would always be redirected to <code>https</code> URI.</p>\n<p>I've said that in tests I disabled the HTTPS protocol, however I forgot to disable a bean that I used in order to redirect HTTP calls to HTTPS. Here's the bean and <code>@ConditionalOnMissingBean</code> that I used to stop redirecting to HTTPS:</p>\n<pre><code>    private final static String SECURITY_USER_CONSTRAINT = &quot;CONFIDENTIAL&quot;;\n\n    private final static String REDIRECT_PATTERN = &quot;/*&quot;;\n\n    private final static String CONNECTOR_PROTOCOL = &quot;org.apache.coyote.http11.Http11NioProtocol&quot;;\n\n    private final static String CONNECTOR_SCHEME = &quot;http&quot;;\n\n    @Bean\n    @ConditionalOnMissingBean(type = &quot;org.springframework.boot.test.mock.mockito.MockitoPostProcessor&quot;)\n    public TomcatServletWebServerFactory servletWebServerFactory() {\n        TomcatServletWebServerFactory tomcat =\n                new TomcatServletWebServerFactory() {\n                    @Override\n                    protected void postProcessContext(Context context) {\n                        SecurityConstraint constraint = new SecurityConstraint();\n                        constraint.setUserConstraint(SECURITY_USER_CONSTRAINT);\n                        SecurityCollection collection = new SecurityCollection();\n                        collection.addPattern(REDIRECT_PATTERN);\n                        constraint.addCollection(collection);\n                        context.addConstraint(constraint);\n                    }\n                };\n        tomcat.addAdditionalTomcatConnectors(createHttpConnector());\n        return tomcat;\n    }\n\n    private Connector createHttpConnector() {\n        Connector connector =\n                new Connector(CONNECTOR_PROTOCOL);\n        connector.setScheme(CONNECTOR_SCHEME);\n        connector.setSecure(false);\n        connector.setPort(8080);\n        connector.setRedirectPort(8433);\n        return connector;\n    }\n</code></pre>\n<p>That more or less solved the issue, but I also needed to enable Http Basic Auth back again, as I did not want to get into JWT auth in tests using <code>TestRestTemplate</code>.</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693137933,"creation_date":1693064179,"question_id":76983664,"body_markdown":"My `TestRestTemplate` has been broken. I&#39;ve been making several changes for the past few days and now the tests aren&#39;t running.\r\n\r\nSpecifically, when I run a test it always returns `302 FOUND` and `null` as response body.\r\n\r\nNow, I&#39;ll list things I did that are probably the cause:\r\n* I&#39;ve implemented JWT authentication\r\n* I&#39;ve set HTTPS protocol\r\n\r\nI use self-signed certificate, thus I needed to configure my Apache `HttpClient` (which I use to make calls in production code and it works just fine). Here&#39;s the `HttpClientConfig.java`:\r\n```\r\n@Configuration\r\n@EnableScheduling\r\npublic class HttpClientConfig {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(HttpClientConfig.class);\r\n\r\n\t// Determines the timeout in milliseconds until a connection is established.\r\n\tprivate static final int CONNECT_TIMEOUT = 30000;\r\n\r\n\t// The timeout when requesting a connection from the connection manager.\r\n\tprivate static final int REQUEST_TIMEOUT = 30000;\r\n\r\n\t// The timeout for waiting for data\r\n\tprivate static final int SOCKET_TIMEOUT = 60000;\r\n\r\n\tprivate static final int MAX_TOTAL_CONNECTIONS = 50;\r\n\r\n\tprivate static final int DEFAULT_KEEP_ALIVE_TIME_MILLIS = 20 * 1000;\r\n\r\n\tprivate static final int CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS = 30;\r\n\r\n\t@Bean\r\n\tpublic PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n\t\tSSLContextBuilder builder = new SSLContextBuilder();\r\n\t\ttry {\r\n\t\t\tbuilder.loadTrustMaterial(null, new TrustSelfSignedStrategy());\r\n\t\t}\r\n\t\tcatch (NoSuchAlgorithmException | KeyStoreException e) {\r\n\t\t\tLOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage(), e);\r\n\t\t}\r\n\t\tSSLConnectionSocketFactory socketFactory = null;\r\n\t\ttry {\r\n\t\t\tsocketFactory = new SSLConnectionSocketFactory(builder.build());\r\n\t\t}\r\n\t\tcatch (KeyManagementException | NoSuchAlgorithmException e) {\r\n\t\t\tLOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage());\r\n\t\t}\r\n\r\n\t\tRegistry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\r\n\t\t\t\t.&lt;ConnectionSocketFactory&gt;create().register(&quot;https&quot;, socketFactory)\r\n\t\t\t\t.register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n\t\t\t\t.build();\r\n\r\n\t\tPoolingHttpClientConnectionManager poolingConnectionManager =\r\n\t\t\t\tnew PoolingHttpClientConnectionManager(socketFactoryRegistry());\r\n\t\tpoolingConnectionManager.setMaxTotal(MAX_TOTAL_CONNECTIONS);\r\n\t\tpoolingConnectionManager.setDefaultConnectionConfig(connectionConfig());\r\n\r\n\t\treturn poolingConnectionManager;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConnectionKeepAliveStrategy connectionKeepAliveStrategy() {\r\n\t\treturn new ConnectionKeepAliveStrategy() {\r\n\t\t\t@Override\r\n\t\t\tpublic TimeValue getKeepAliveDuration(HttpResponse response, HttpContext context) {\r\n\t\t\t\tBasicHeaderElementIterator it = new BasicHeaderElementIterator\r\n\t\t\t\t\t\t(response.headerIterator(HTTP.CONN_KEEP_ALIVE));\r\n\t\t\t\twhile (it.hasNext()) {\r\n\t\t\t\t\tHeaderElement headerElement = it.next();\r\n\t\t\t\t\tString param = headerElement.getName();\r\n\t\t\t\t\tString value = headerElement.getValue();\r\n\r\n\t\t\t\t\tif (value != null &amp;&amp; param.equalsIgnoreCase(&quot;timeout&quot;)) {\r\n\t\t\t\t\t\treturn TimeValue.of\r\n\t\t\t\t\t\t\t\t(Long.parseLong(value) * 1000, TimeUnit.MILLISECONDS);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn TimeValue.of(DEFAULT_KEEP_ALIVE_TIME_MILLIS,\r\n\t\t\t\t\t\tTimeUnit.MILLISECONDS);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RequestConfig requestConfig() {\r\n\t\treturn RequestConfig.custom()\r\n\t\t\t\t.setConnectionRequestTimeout(REQUEST_TIMEOUT, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConnectionConfig connectionConfig() {\r\n\t\treturn ConnectionConfig.custom()\r\n\t\t\t\t.setConnectTimeout(CONNECT_TIMEOUT, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.setSocketTimeout(SOCKET_TIMEOUT, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CloseableHttpClient httpClient() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n\t\treturn HttpClients.custom()\r\n\t\t\t\t.setDefaultRequestConfig(requestConfig())\r\n\t\t\t\t.setConnectionManager(poolingHttpClientConnectionManager())\r\n\t\t\t\t.setConnectionManagerShared(true)\r\n\t\t\t\t.setKeepAliveStrategy(connectionKeepAliveStrategy())\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n\t\tfinal TrustStrategy trustStrategy = (cert, authType) -&gt; true;\r\n\t\tfinal SSLContext sslContext = SSLContexts.custom()\r\n\t\t\t\t.loadTrustMaterial(null, trustStrategy)\r\n\t\t\t\t.build();\r\n\t\tfinal SSLConnectionSocketFactory socketFactory =\r\n\t\t\t\tnew SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n\t\tfinal Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\r\n\t\t\t\t.&lt;ConnectionSocketFactory&gt;create()\r\n\t\t\t\t.register(&quot;https&quot;, socketFactory)\r\n\t\t\t\t.register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n\t\t\t\t.build();\r\n\t\treturn socketFactoryRegistry;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Runnable idleConnectionMonitor(final PoolingHttpClientConnectionManager connectionManager) {\r\n\t\treturn new Runnable() {\r\n\t\t\t@Override\r\n\t\t\t@Scheduled(fixedDelay = 10000)\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (connectionManager != null) {\r\n\t\t\t\t\t\tLOGGER.trace(&quot;run IdleConnectionMonitor - Closing expired and idle connections...&quot;);\r\n\t\t\t\t\t\tconnectionManager.closeExpired();\r\n\t\t\t\t\t\tconnectionManager.closeIdle(TimeValue.of(\r\n\t\t\t\t\t\t\t\tCLOSE_IDLE_CONNECTION_WAIT_TIME_SECS, TimeUnit.SECONDS\r\n\t\t\t\t\t\t));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tLOGGER.trace(&quot;run IdleConnectionMonitor - Http Client Connection manager is not initialised&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\tLOGGER.error(&quot;run IdleConnectionMonitor - Exception occurred. msg={}, e={}&quot;, e.getMessage(), e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\nPreviously, I&#39;ve had `TestRestTemplate` just autowired, without any configuration. Now, after all the changes, it does not work. I thought that maybe the `HttpClientConfig` configuration bean may affect my `TestRestTemplate` so I&#39;ve tried that:\r\n```\r\nCloseableHttpClient httpClient = HttpClients.createDefault(); // &lt;-- I just want a default client for my TestRestTemplate\r\nHttpComponentsClientHttpRequestFactory clientHttpRequestFactory =\r\n          new HttpComponentsClientHttpRequestFactory();\r\nclientHttpRequestFactory.setHttpClient(httpClient);\r\nRestTemplate restTemplate = new RestTemplate(clientHttpRequestFactory);\r\nRestTemplateBuilder builder = new RestTemplateBuilder();\r\nbuilder.configure(restTemplate);\r\nTestRestTemplate testRestTemplate = new TestRestTemplate(builder);\r\nString endpoint = &quot;http://localhost:&quot; + serverPort + &quot;/api/entity/1&quot;; // &lt;-- http://localhost:{local_server_port}/api/entity/1\r\nSystem.out.println(testRestTemplate.getForObject(endpoint, String.class)); // &lt;-- returns null and 302\r\n```\r\nNote that the endpoint `/api/entity/{id}` is available to everyone.","title":"TestRestTemplate returns 302 and null","body":"<p>My <code>TestRestTemplate</code> has been broken. I've been making several changes for the past few days and now the tests aren't running.</p>\n<p>Specifically, when I run a test it always returns <code>302 FOUND</code> and <code>null</code> as response body.</p>\n<p>Now, I'll list things I did that are probably the cause:</p>\n<ul>\n<li>I've implemented JWT authentication</li>\n<li>I've set HTTPS protocol</li>\n</ul>\n<p>I use self-signed certificate, thus I needed to configure my Apache <code>HttpClient</code> (which I use to make calls in production code and it works just fine). Here's the <code>HttpClientConfig.java</code>:</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class HttpClientConfig {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(HttpClientConfig.class);\n\n    // Determines the timeout in milliseconds until a connection is established.\n    private static final int CONNECT_TIMEOUT = 30000;\n\n    // The timeout when requesting a connection from the connection manager.\n    private static final int REQUEST_TIMEOUT = 30000;\n\n    // The timeout for waiting for data\n    private static final int SOCKET_TIMEOUT = 60000;\n\n    private static final int MAX_TOTAL_CONNECTIONS = 50;\n\n    private static final int DEFAULT_KEEP_ALIVE_TIME_MILLIS = 20 * 1000;\n\n    private static final int CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS = 30;\n\n    @Bean\n    public PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        SSLContextBuilder builder = new SSLContextBuilder();\n        try {\n            builder.loadTrustMaterial(null, new TrustSelfSignedStrategy());\n        }\n        catch (NoSuchAlgorithmException | KeyStoreException e) {\n            LOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage(), e);\n        }\n        SSLConnectionSocketFactory socketFactory = null;\n        try {\n            socketFactory = new SSLConnectionSocketFactory(builder.build());\n        }\n        catch (KeyManagementException | NoSuchAlgorithmException e) {\n            LOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage());\n        }\n\n        Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\n                .&lt;ConnectionSocketFactory&gt;create().register(&quot;https&quot;, socketFactory)\n                .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n                .build();\n\n        PoolingHttpClientConnectionManager poolingConnectionManager =\n                new PoolingHttpClientConnectionManager(socketFactoryRegistry());\n        poolingConnectionManager.setMaxTotal(MAX_TOTAL_CONNECTIONS);\n        poolingConnectionManager.setDefaultConnectionConfig(connectionConfig());\n\n        return poolingConnectionManager;\n    }\n\n    @Bean\n    public ConnectionKeepAliveStrategy connectionKeepAliveStrategy() {\n        return new ConnectionKeepAliveStrategy() {\n            @Override\n            public TimeValue getKeepAliveDuration(HttpResponse response, HttpContext context) {\n                BasicHeaderElementIterator it = new BasicHeaderElementIterator\n                        (response.headerIterator(HTTP.CONN_KEEP_ALIVE));\n                while (it.hasNext()) {\n                    HeaderElement headerElement = it.next();\n                    String param = headerElement.getName();\n                    String value = headerElement.getValue();\n\n                    if (value != null &amp;&amp; param.equalsIgnoreCase(&quot;timeout&quot;)) {\n                        return TimeValue.of\n                                (Long.parseLong(value) * 1000, TimeUnit.MILLISECONDS);\n                    }\n                }\n                return TimeValue.of(DEFAULT_KEEP_ALIVE_TIME_MILLIS,\n                        TimeUnit.MILLISECONDS);\n            }\n        };\n    }\n\n    @Bean\n    public RequestConfig requestConfig() {\n        return RequestConfig.custom()\n                .setConnectionRequestTimeout(REQUEST_TIMEOUT, TimeUnit.MILLISECONDS)\n                .build();\n    }\n\n    @Bean\n    public ConnectionConfig connectionConfig() {\n        return ConnectionConfig.custom()\n                .setConnectTimeout(CONNECT_TIMEOUT, TimeUnit.MILLISECONDS)\n                .setSocketTimeout(SOCKET_TIMEOUT, TimeUnit.MILLISECONDS)\n                .build();\n    }\n\n    @Bean\n    public CloseableHttpClient httpClient() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        return HttpClients.custom()\n                .setDefaultRequestConfig(requestConfig())\n                .setConnectionManager(poolingHttpClientConnectionManager())\n                .setConnectionManagerShared(true)\n                .setKeepAliveStrategy(connectionKeepAliveStrategy())\n                .build();\n    }\n\n    @Bean\n    public Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        final TrustStrategy trustStrategy = (cert, authType) -&gt; true;\n        final SSLContext sslContext = SSLContexts.custom()\n                .loadTrustMaterial(null, trustStrategy)\n                .build();\n        final SSLConnectionSocketFactory socketFactory =\n                new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\n        final Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\n                .&lt;ConnectionSocketFactory&gt;create()\n                .register(&quot;https&quot;, socketFactory)\n                .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n                .build();\n        return socketFactoryRegistry;\n    }\n\n    @Bean\n    public Runnable idleConnectionMonitor(final PoolingHttpClientConnectionManager connectionManager) {\n        return new Runnable() {\n            @Override\n            @Scheduled(fixedDelay = 10000)\n            public void run() {\n                try {\n                    if (connectionManager != null) {\n                        LOGGER.trace(&quot;run IdleConnectionMonitor - Closing expired and idle connections...&quot;);\n                        connectionManager.closeExpired();\n                        connectionManager.closeIdle(TimeValue.of(\n                                CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS, TimeUnit.SECONDS\n                        ));\n                    }\n                    else {\n                        LOGGER.trace(&quot;run IdleConnectionMonitor - Http Client Connection manager is not initialised&quot;);\n                    }\n                }\n                catch (Exception e) {\n                    LOGGER.error(&quot;run IdleConnectionMonitor - Exception occurred. msg={}, e={}&quot;, e.getMessage(), e);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>Previously, I've had <code>TestRestTemplate</code> just autowired, without any configuration. Now, after all the changes, it does not work. I thought that maybe the <code>HttpClientConfig</code> configuration bean may affect my <code>TestRestTemplate</code> so I've tried that:</p>\n<pre><code>CloseableHttpClient httpClient = HttpClients.createDefault(); // &lt;-- I just want a default client for my TestRestTemplate\nHttpComponentsClientHttpRequestFactory clientHttpRequestFactory =\n          new HttpComponentsClientHttpRequestFactory();\nclientHttpRequestFactory.setHttpClient(httpClient);\nRestTemplate restTemplate = new RestTemplate(clientHttpRequestFactory);\nRestTemplateBuilder builder = new RestTemplateBuilder();\nbuilder.configure(restTemplate);\nTestRestTemplate testRestTemplate = new TestRestTemplate(builder);\nString endpoint = &quot;http://localhost:&quot; + serverPort + &quot;/api/entity/1&quot;; // &lt;-- http://localhost:{local_server_port}/api/entity/1\nSystem.out.println(testRestTemplate.getForObject(endpoint, String.class)); // &lt;-- returns null and 302\n</code></pre>\n<p>Note that the endpoint <code>/api/entity/{id}</code> is available to everyone.</p>\n"},{"tags":["java","appium"],"answers":[{"tags":[],"owner":{"account_id":4846664,"reputation":1772,"user_id":3910122,"accept_rate":44,"display_name":"Chandrashekhar Swami"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1453093708,"creation_date":1452935359,"answer_id":34825303,"question_id":34822435,"body_markdown":"Well if you want to send an app in background then simply use `driver.CloseApp()` function and relaunch it by `driver.OpenApp()`\r\n\r\nYou can also use press keycode method \r\nBelow are the codes \r\n\r\n    Home Menu Button - 82\r\n    Back Button - 4\r\n    Recent app - 187","title":"Press Home button in Appium Java client","body":"<p>Well if you want to send an app in background then simply use <code>driver.CloseApp()</code> function and relaunch it by <code>driver.OpenApp()</code></p>\n\n<p>You can also use press keycode method \nBelow are the codes </p>\n\n<pre><code>Home Menu Button - 82\nBack Button - 4\nRecent app - 187\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8909543,"reputation":128,"user_id":6650289,"accept_rate":0,"display_name":"akhilesh gulati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487075289,"creation_date":1487075289,"answer_id":42226201,"question_id":34822435,"body_markdown":"    public boolean applicationClose(String packageName) {\r\n    \t\tappiumDriver.closeApp();\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    or\r\n    String ud_id=  ;\r\n    String str = &quot;adb -s ud_id shell keyevent KEYCODE_HOME&quot;;\r\n    \t\tString line;\r\n    \t\ttry {\r\n    \t\t\tProcess p = Runtime.getRuntime().exec(commandStr);\r\n    \t\t\tInputStream is = p.getInputStream();\r\n    \t\t\tInputStreamReader isr = new InputStreamReader(is);\r\n    \t\t\tBufferedReader br = new BufferedReader(isr);\r\n    \t\t\t\r\n    \t\t\twhile ((line = br.readLine()) != null)\r\n    \t\t\t\tstr += line;\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Command output: &quot; + str);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tReportAppium.getSnapShot(appiumDriver, &quot;run:&quot; + commandStr);\r\n    \t\treturn str;\r\n    \t\t","title":"Press Home button in Appium Java client","body":"<pre><code>public boolean applicationClose(String packageName) {\n        appiumDriver.closeApp();\n        return true;\n    }\n\nor\nString ud_id=  ;\nString str = \"adb -s ud_id shell keyevent KEYCODE_HOME\";\n        String line;\n        try {\n            Process p = Runtime.getRuntime().exec(commandStr);\n            InputStream is = p.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n            BufferedReader br = new BufferedReader(isr);\n\n            while ((line = br.readLine()) != null)\n                str += line;\n\n            System.out.println(\"Command output: \" + str);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        ReportAppium.getSnapShot(appiumDriver, \"run:\" + commandStr);\n        return str;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6611723,"reputation":32003,"user_id":5106574,"accept_rate":57,"display_name":"Jitesh Mohite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487094139,"creation_date":1487094139,"answer_id":42232794,"question_id":34822435,"body_markdown":"please try below code\r\n\r\n    driver.pressKeyCode(AndroidKeyCode.HOME);` // it will android device home` button \r\n\r\nif you want to perform any other operation with android device keys you can use same approach.You will get keys in AndroidKeyCode.\r\n\r\nhope these helps you.\r\n\r\n","title":"Press Home button in Appium Java client","body":"<p>please try below code</p>\n\n<pre><code>driver.pressKeyCode(AndroidKeyCode.HOME);` // it will android device home` button \n</code></pre>\n\n<p>if you want to perform any other operation with android device keys you can use same approach.You will get keys in AndroidKeyCode.</p>\n\n<p>hope these helps you.</p>\n"},{"tags":[],"owner":{"account_id":11004129,"reputation":181,"user_id":8083653,"display_name":"loroz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533659021,"creation_date":1533659021,"answer_id":51731399,"question_id":34822435,"body_markdown":"Appium has since deprecated `pressKeyCode`. Instead, use:\r\n\r\n`driver.pressKey(new KeyEvent(AndroidKey.HOME));`","title":"Press Home button in Appium Java client","body":"<p>Appium has since deprecated <code>pressKeyCode</code>. Instead, use:</p>\n\n<p><code>driver.pressKey(new KeyEvent(AndroidKey.HOME));</code></p>\n"},{"tags":[],"owner":{"account_id":15017866,"reputation":39,"user_id":10840303,"display_name":"Hacci56"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571402919,"creation_date":1571402919,"answer_id":58451282,"question_id":34822435,"body_markdown":"For Android :\r\n\r\n    driver.pressKeyCode(AndroidKeyCode.HOME);\r\n\r\nFor IOS:\r\n\r\n    driver.executeScript(&quot;mobile: pressButton&quot;, ImmutableMap.of(&quot;name&quot;, &quot;home&quot;));\r\n\r\n \r\n\r\n\r\n\r\n","title":"Press Home button in Appium Java client","body":"<p>For Android :</p>\n\n<pre><code>driver.pressKeyCode(AndroidKeyCode.HOME);\n</code></pre>\n\n<p>For IOS:</p>\n\n<pre><code>driver.executeScript(\"mobile: pressButton\", ImmutableMap.of(\"name\", \"home\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22092269,"reputation":1,"user_id":21574788,"display_name":"Ravenz16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682432466,"creation_date":1682432466,"answer_id":76102244,"question_id":34822435,"body_markdown":"`closeApp()` for me - its force stop of app. If u dont need it u can use:\r\n\r\n`driver.runAppInBackground(Duration.ofSeconds(x));`\r\n\r\nputs the application in the background for a certain time. \r\nUnfortunately this is the only solution that helped me with MIUI.","title":"Press Home button in Appium Java client","body":"<p><code>closeApp()</code> for me - its force stop of app. If u dont need it u can use:</p>\n<p><code>driver.runAppInBackground(Duration.ofSeconds(x));</code></p>\n<p>puts the application in the background for a certain time.\nUnfortunately this is the only solution that helped me with MIUI.</p>\n"},{"tags":[],"owner":{"account_id":29308205,"reputation":1,"user_id":22454712,"display_name":"jagdish gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693136601,"creation_date":1693136601,"answer_id":76986940,"question_id":34822435,"body_markdown":"I am using java client 8.5.0 and below code works fine for me\r\n\r\n\t\tdriver.pressKey(new io.appium.java_client.android.nativekey.KeyEvent(AndroidKey.HOME));","title":"Press Home button in Appium Java client","body":"<p>I am using java client 8.5.0 and below code works fine for me</p>\n<pre><code>    driver.pressKey(new io.appium.java_client.android.nativekey.KeyEvent(AndroidKey.HOME));\n</code></pre>\n"}],"owner":{"account_id":141559,"reputation":1099,"user_id":348686,"accept_rate":36,"display_name":"Shrikanth Kalluraya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8538,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34825303,"answer_count":7,"score":4,"last_activity_date":1693136601,"creation_date":1452906601,"question_id":34822435,"body_markdown":"I am new to appium. It might be a silly question. Wanted to know how will i click home button using java bindings.\r\n\r\nThanks in advance","title":"Press Home button in Appium Java client","body":"<p>I am new to appium. It might be a silly question. Wanted to know how will i click home button using java bindings.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android"],"owner":{"account_id":29281853,"reputation":1,"user_id":22434330,"display_name":"Rumion Tomal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693136471,"creation_date":1693133887,"question_id":76986768,"body_markdown":"I want to take the user&#39;s phone number using my app. I will take the permission then a code will bring the number. \r\n\r\nAn example,\r\nWhen My user runs the app it will request the user to give the permission, and then one function will be run and the number.\r\n\r\n\r\n\r\nI have tried this to get the number.\r\n```\r\nTelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n String simPhoneNumber = telephonyManager.getLine1Number();\r\n```\r\nI got the user&#39;s permission.\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n```\r\n\r\nIt is returning **null**. \r\nWhat can I do now?\r\n\r\n","title":"How to get user phone number in Android","body":"<p>I want to take the user's phone number using my app. I will take the permission then a code will bring the number.</p>\n<p>An example,\nWhen My user runs the app it will request the user to give the permission, and then one function will be run and the number.</p>\n<p>I have tried this to get the number.</p>\n<pre><code>TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n String simPhoneNumber = telephonyManager.getLine1Number();\n</code></pre>\n<p>I got the user's permission.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n</code></pre>\n<p>It is returning <strong>null</strong>.\nWhat can I do now?</p>\n"},{"tags":["java","mysql","tls1.2"],"comments":[{"owner":{"account_id":13388280,"reputation":36856,"user_id":9661424,"display_name":"sticky bit"},"score":1,"creation_date":1619781502,"post_id":67332909,"comment_id":119014311,"body_markdown":"And what is the question now? How to make Java accept TLS 1.0 again or how to make MySQL use TLS 1.2? It&#39;s not really clear to me.","body":"And what is the question now? How to make Java accept TLS 1.0 again or how to make MySQL use TLS 1.2? It&#39;s not really clear to me."},{"owner":{"account_id":3624035,"reputation":18141,"user_id":3022127,"accept_rate":27,"display_name":"bersling"},"score":0,"creation_date":1619781928,"post_id":67332909,"comment_id":119014485,"body_markdown":"thanks for the hint, i rephrased the question to make it more clear. I think the goal should be to use TLSv1.2 as the way forward.","body":"thanks for the hint, i rephrased the question to make it more clear. I think the goal should be to use TLSv1.2 as the way forward."},{"owner":{"account_id":13724158,"reputation":575,"user_id":9903370,"display_name":"skelwa"},"score":7,"creation_date":1620115510,"post_id":67332909,"comment_id":119098413,"body_markdown":"Try adding &#39;enabledTLSProtocols=TLSv1.2&#39; to MySQL connection string. This will enforce TLSV1.2 protocol for java&#39;s mysql connection and you wouldn&#39;t have to make any changes to java.security file.","body":"Try adding &#39;enabledTLSProtocols=TLSv1.2&#39; to MySQL connection string. This will enforce TLSV1.2 protocol for java&#39;s mysql connection and you wouldn&#39;t have to make any changes to java.security file."},{"owner":{"account_id":3637123,"reputation":10786,"user_id":3032209,"display_name":"Yair Kukielka"},"score":0,"creation_date":1643971938,"post_id":67332909,"comment_id":125486431,"body_markdown":"Since Connector/J 8.0.28 enabledTLSProtocols has been renamed to tlsVersions. See https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","body":"Since Connector/J 8.0.28 enabledTLSProtocols has been renamed to tlsVersions. See <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5099328,"reputation":4638,"user_id":4089458,"display_name":"Kristianmitk"},"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1643972936,"creation_date":1620404758,"answer_id":67438592,"question_id":67332909,"body_markdown":"As @skelwa already commented you will need to add the `enabledTLSProtocols=TLSv1.2` configuration property in the connection string to resolve your issue. \r\n\r\nA complete connection string for [Connector/J](https://dev.mysql.com/doc/index-connectors.html) could look like this:\r\n\r\n```\r\njdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\r\n```\r\n\r\nFor [r2dbc](https://r2dbc.io/) you will need to use `tlsVersion=TLSv1.2` instead.\r\n\r\nFor **Connector/J v8.0.28** `enabledTLSProtocols` was renamed to `tlsVersions` (see [note][1]). However, the original name remains as an alias.\r\n\r\n---\r\n\r\nThe question that remains is:\r\n\r\n**Why don&#39;t the JDK and MySQL just agree on using `TLSv1.2`?**\r\n\r\nAlthough both parties do actually support TLSv1.2, the problem you were experiencing is introduced by the default behavior of Connector/J. For compatibility reasons Connector/J does not enable TLSv1.2 and higher by default. Therefore, one has to enable it explicitly.\r\n\r\nSee the following [note]:\r\n\r\n&gt; For Connector/J 8.0.18 and earlier when connecting to MySQL Community\r\n&gt; Server 5.6 and 5.7 using the JDBC API: Due to compatibility issues\r\n&gt; with MySQL Server compiled with yaSSL, Connector/J does not enable\r\n&gt; connections with TLSv1.2 and higher by default. When connecting to\r\n&gt; servers that restrict connections to use those higher TLS versions,\r\n&gt; enable them explicitly by setting the Connector/J connection property\r\n&gt; enabledTLSProtocols (e.g., set\r\n&gt; enabledTLSProtocols=TLSv1,TLSv1.1,TLSv1.2).\r\n\r\n\r\n  [note]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\r\n\r\n\r\n---\r\n\r\n**WARNING:** please be aware that &lt;strike&gt;solutions&lt;/strike&gt; suggesting editing `jdk.tls.disabledAlgorithms` inside of `jre/lib/security` pose a ***security risk*** to your application and changing anything there might have severe implications! \r\nThere are reasons why those protocols were disabled and one should not simply remove everything or even just parts from that list.\r\n\r\n---\r\n\r\n**Note:** if you want to get more low level insights from the JDK to debug your problem you can enable ssl debug logs by passing the following configuration to the java comand: \r\n\r\n`-Djavax.net.debug=ssl,handshake`\r\nor even\r\n`-Djavax.net.debug=all`\r\n\r\nIn your case you will see something like:\r\n\r\n```\r\n...(HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n  \tat java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:170)\r\n  \tat java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\r\n    ...\r\n```\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>As @skelwa already commented you will need to add the <code>enabledTLSProtocols=TLSv1.2</code> configuration property in the connection string to resolve your issue.</p>\n<p>A complete connection string for <a href=\"https://dev.mysql.com/doc/index-connectors.html\" rel=\"noreferrer\">Connector/J</a> could look like this:</p>\n<pre><code>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p>For <a href=\"https://r2dbc.io/\" rel=\"noreferrer\">r2dbc</a> you will need to use <code>tlsVersion=TLSv1.2</code> instead.</p>\n<p>For <strong>Connector/J v8.0.28</strong> <code>enabledTLSProtocols</code> was renamed to <code>tlsVersions</code> (see <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"noreferrer\">note</a>). However, the original name remains as an alias.</p>\n<hr />\n<p>The question that remains is:</p>\n<p><strong>Why don't the JDK and MySQL just agree on using <code>TLSv1.2</code>?</strong></p>\n<p>Although both parties do actually support TLSv1.2, the problem you were experiencing is introduced by the default behavior of Connector/J. For compatibility reasons Connector/J does not enable TLSv1.2 and higher by default. Therefore, one has to enable it explicitly.</p>\n<p>See the following <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"noreferrer\">note</a>:</p>\n<blockquote>\n<p>For Connector/J 8.0.18 and earlier when connecting to MySQL Community\nServer 5.6 and 5.7 using the JDBC API: Due to compatibility issues\nwith MySQL Server compiled with yaSSL, Connector/J does not enable\nconnections with TLSv1.2 and higher by default. When connecting to\nservers that restrict connections to use those higher TLS versions,\nenable them explicitly by setting the Connector/J connection property\nenabledTLSProtocols (e.g., set\nenabledTLSProtocols=TLSv1,TLSv1.1,TLSv1.2).</p>\n</blockquote>\n<hr />\n<p><strong>WARNING:</strong> please be aware that <strike>solutions</strike> suggesting editing <code>jdk.tls.disabledAlgorithms</code> inside of <code>jre/lib/security</code> pose a <em><strong>security risk</strong></em> to your application and changing anything there might have severe implications!\nThere are reasons why those protocols were disabled and one should not simply remove everything or even just parts from that list.</p>\n<hr />\n<p><strong>Note:</strong> if you want to get more low level insights from the JDK to debug your problem you can enable ssl debug logs by passing the following configuration to the java comand:</p>\n<p><code>-Djavax.net.debug=ssl,handshake</code>\nor even\n<code>-Djavax.net.debug=all</code></p>\n<p>In your case you will see something like:</p>\n<pre><code>...(HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:170)\n    at java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9940107,"reputation":87,"user_id":11090297,"display_name":"Vayuj Rajan"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1625049603,"creation_date":1625049603,"answer_id":68193216,"question_id":67332909,"body_markdown":"You can do the following steps:\r\n\r\n 1. Open java.security file. (It is under jre/lib/security folder)\r\n 2. Find the following line : `jdk.tls.disabledAlgorithms`\r\n 3. Comment that complete line.\r\n\r\nAfter this try running and it should work.\r\n\r\nOr if you want only specific algorithm remove it from disabled list.\r\n\r\nYou can send it in config and comment that in java.security file\r\n\r\n    jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\r\n\r\n\r\n","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>You can do the following steps:</p>\n<ol>\n<li>Open java.security file. (It is under jre/lib/security folder)</li>\n<li>Find the following line : <code>jdk.tls.disabledAlgorithms</code></li>\n<li>Comment that complete line.</li>\n</ol>\n<p>After this try running and it should work.</p>\n<p>Or if you want only specific algorithm remove it from disabled list.</p>\n<p>You can send it in config and comment that in java.security file</p>\n<pre><code>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1447480,"reputation":1567,"user_id":1365460,"accept_rate":51,"display_name":"Ankur Raiyani"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1693135988,"creation_date":1630565668,"answer_id":69025467,"question_id":67332909,"body_markdown":"I just added **useSSL=false** and it worked for me.\r\n\r\n`jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?useSSL=false`\r\n\r\nI have JDK 8, MySQL 5.7 and mysql-connector-java lib with version 5.1.38\r\n\r\n**This is useful when you want to execute quickly in local environment only (not recommended for staging/test/prod)**","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>I just added <strong>useSSL=false</strong> and it worked for me.</p>\n<p><code>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?useSSL=false</code></p>\n<p>I have JDK 8, MySQL 5.7 and mysql-connector-java lib with version 5.1.38</p>\n<p><strong>This is useful when you want to execute quickly in local environment only (not recommended for staging/test/prod)</strong></p>\n"},{"tags":[],"owner":{"account_id":1898513,"reputation":635,"user_id":2298385,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632556517,"creation_date":1632556517,"answer_id":69324200,"question_id":67332909,"body_markdown":"I came here because I had the same issue, but unfortunately,\r\n\r\n&gt; jdbc:mysql://host:port/dbname?enabledTLSProtocols=TLSv1.2\r\n\r\ndidn&#39;t work for me because I&#39;m using r2dbc. After a little bit of debugging I found out the name of the parameter must be `tlsVersion` instead, so you can use, for example:\r\n\r\n    spring.r2dbc.url=r2dbc:mysql://host:port/dname?tlsVersion=TLSv1.2\r\n\r\n","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>I came here because I had the same issue, but unfortunately,</p>\n<blockquote>\n<p>jdbc:mysql://host:port/dbname?enabledTLSProtocols=TLSv1.2</p>\n</blockquote>\n<p>didn't work for me because I'm using r2dbc. After a little bit of debugging I found out the name of the parameter must be <code>tlsVersion</code> instead, so you can use, for example:</p>\n<pre><code>spring.r2dbc.url=r2dbc:mysql://host:port/dname?tlsVersion=TLSv1.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5825507,"reputation":1208,"user_id":4592066,"display_name":"Rahul Sawant"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648322987,"creation_date":1648322987,"answer_id":71631180,"question_id":67332909,"body_markdown":"I faced this issue due to the older version of *mysql-connector-java-5.1.40-bin.jar &amp; OpenJDK 1.8* version, After Upgrading to the 5.1.49 version solved my issue","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>I faced this issue due to the older version of <em>mysql-connector-java-5.1.40-bin.jar &amp; OpenJDK 1.8</em> version, After Upgrading to the 5.1.49 version solved my issue</p>\n"},{"tags":[],"owner":{"account_id":2454118,"reputation":880,"user_id":2139708,"accept_rate":100,"display_name":"Linus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666788271,"creation_date":1666788271,"answer_id":74208003,"question_id":67332909,"body_markdown":"This is not a StreamSets issue. This is a compatibility issue between Java and the MySQL JDBC driver\r\n\r\nChoose the most appropriate solution from below for your situation\r\n**Solution #1**: Add &quot;enabledTLSProtocols=TLSv1.2&quot; to JDBC connection string\r\nVerify MySQL supports TLSv1.2\r\n\r\n    mysql&gt; show variables like &#39;tls_version&#39;;\r\n    +---------------+---------------------+\r\n    | Variable_name | Value |\r\n    +---------------+---------------------+\r\n    | tls_version | TLSv1,TLSv1.1,TLSv1.2 |\r\n    +---------------+---------------------+\r\n    1 row in set (0.00 sec)\r\n\r\nUpdate JDBC connection string\r\n\r\n    jdbc:mysql://[hostname]:[port]/[databaseName]?enabledTLSProtocols=TLSv1.2\r\n\r\n**Solution #2**: Enable TLSv1 and TLSv1.1\r\nFile: $JAVA_HOME/jre/lib/security/java.security\r\n**Old configuration**:\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n  DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n**New configuration**:\r\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\r\n  EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n\r\n**Solution #3**: Upgrade the MySQL database\r\nThe TLS version is automatically selected by the JDBC driver depending on the database version.\r\n\r\nTLSv1 and TLSv1.1 will be used for versions below: 8.0, 5.7.28, 5.6.46\r\n\r\n**Additional Information**\r\nA recent Java update, specifically Red Hat/CentOS, disables TLSv1 and TLSv1.1 by default for Java 8\r\n\r\nThe MySQL JDBC driver will attempt to use TLSv1 and/or TLSv1.1 if the MySQL database version is below one of the following: 8.0, 5.7.28, 5.6.46","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>This is not a StreamSets issue. This is a compatibility issue between Java and the MySQL JDBC driver</p>\n<p>Choose the most appropriate solution from below for your situation\n<strong>Solution #1</strong>: Add &quot;enabledTLSProtocols=TLSv1.2&quot; to JDBC connection string\nVerify MySQL supports TLSv1.2</p>\n<pre><code>mysql&gt; show variables like 'tls_version';\n+---------------+---------------------+\n| Variable_name | Value |\n+---------------+---------------------+\n| tls_version | TLSv1,TLSv1.1,TLSv1.2 |\n+---------------+---------------------+\n1 row in set (0.00 sec)\n</code></pre>\n<p>Update JDBC connection string</p>\n<pre><code>jdbc:mysql://[hostname]:[port]/[databaseName]?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p><strong>Solution #2</strong>: Enable TLSv1 and TLSv1.1\nFile: $JAVA_HOME/jre/lib/security/java.security\n<strong>Old configuration</strong>:\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, <br />\nDH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n<strong>New configuration</strong>:\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, <br />\nEC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL</p>\n<p><strong>Solution #3</strong>: Upgrade the MySQL database\nThe TLS version is automatically selected by the JDBC driver depending on the database version.</p>\n<p>TLSv1 and TLSv1.1 will be used for versions below: 8.0, 5.7.28, 5.6.46</p>\n<p><strong>Additional Information</strong>\nA recent Java update, specifically Red Hat/CentOS, disables TLSv1 and TLSv1.1 by default for Java 8</p>\n<p>The MySQL JDBC driver will attempt to use TLSv1 and/or TLSv1.1 if the MySQL database version is below one of the following: 8.0, 5.7.28, 5.6.46</p>\n"},{"tags":[],"owner":{"account_id":13101504,"reputation":1,"user_id":21172487,"display_name":"Buchan Milne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675859445,"creation_date":1675859445,"answer_id":75385829,"question_id":67332909,"body_markdown":"If possible, the better solution should be to upgrade to one of the following releases of Connector/J:\r\n* 8.0.19, released on 2020-01-13, the [release notes][1] for which say:\r\n&gt; The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:\r\n&gt; * TLSv1, TLSv1.1, TLSv1.2, and TLSv1.3 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for all commercial versions of MySQL Servers.\r\n&gt; * TLSv1 and TLSv1.1 for all other versions of MySQL Servers.\r\n\r\nor\r\n* 5.1.49, released 2020-04-29, the [release notes][2] for which say:\r\n&gt; The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:\r\n&gt; * TLSv1, TLSv1.1, and TLSv1.2 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for commercial versions of MySQL Server 5.6, 5.7, and 8.0.\r\n&gt; * TLSv1 and TLSv1.1 for all other versions of MySQL Servers.\r\n\r\nIf that&#39;s not possible, you could consider upgrading your MySQL servers to 8.0.x, which some older versions of Connector/J will use TLSv1.2 to where they won&#39;t enable it when connecting to 5.7.x.\r\n\r\nIf you can&#39;t upgrade either (yet), then changing enabledTLSProtocols would obviously be necessary.\r\n\r\n[1]: https://dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-19.html\r\n[2]: https://docs.oracle.com/cd/E17952_01/connector-j-5.1-relnotes-en/news-5-1-49.html","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>If possible, the better solution should be to upgrade to one of the following releases of Connector/J:</p>\n<ul>\n<li>8.0.19, released on 2020-01-13, the <a href=\"https://dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-19.html\" rel=\"nofollow noreferrer\">release notes</a> for which say:</li>\n</ul>\n<blockquote>\n<p>The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:</p>\n<ul>\n<li>TLSv1, TLSv1.1, TLSv1.2, and TLSv1.3 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for all commercial versions of MySQL Servers.</li>\n<li>TLSv1 and TLSv1.1 for all other versions of MySQL Servers.</li>\n</ul>\n</blockquote>\n<p>or</p>\n<ul>\n<li>5.1.49, released 2020-04-29, the <a href=\"https://docs.oracle.com/cd/E17952_01/connector-j-5.1-relnotes-en/news-5-1-49.html\" rel=\"nofollow noreferrer\">release notes</a> for which say:</li>\n</ul>\n<blockquote>\n<p>The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:</p>\n<ul>\n<li>TLSv1, TLSv1.1, and TLSv1.2 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for commercial versions of MySQL Server 5.6, 5.7, and 8.0.</li>\n<li>TLSv1 and TLSv1.1 for all other versions of MySQL Servers.</li>\n</ul>\n</blockquote>\n<p>If that's not possible, you could consider upgrading your MySQL servers to 8.0.x, which some older versions of Connector/J will use TLSv1.2 to where they won't enable it when connecting to 5.7.x.</p>\n<p>If you can't upgrade either (yet), then changing enabledTLSProtocols would obviously be necessary.</p>\n"}],"owner":{"account_id":3624035,"reputation":18141,"user_id":3022127,"accept_rate":27,"display_name":"bersling"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58317,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":67438592,"answer_count":7,"score":80,"last_activity_date":1693135988,"creation_date":1619781182,"question_id":67332909,"body_markdown":"In the latest update to the JDK in April 2021 (`11.0.11+9-0ubuntu2~18.04`) support for `TLSv1` and `TLSv1.1` was dropped, presumably because since March 2021 those versions are no longer supported. This is evident by the diff in the `java.security` file:\r\n\r\nBefore:\r\n```\r\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\r\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\nAfter:\r\n```\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\nwhich is also discussed in this SO post: https://stackoverflow.com/questions/38205947/sslhandshakeexception-no-appropriate-protocol . In that thread there are also more answers popping up the last few days since the updated JDK version.\r\n\r\nAfter this update of the JDK, we received the error\r\n```\r\njava.sql.SQLException: An attempt by a client to checkout a Connection has timed out.\r\n```\r\nwith `c3p0`.\r\n\r\nAfter switching to `hikari` we got a more meaningful error:\r\n```\r\nERROR [2021-04-29 16:21:16,426] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\r\n! javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n```\r\n\r\nWe&#39;re running on MySQL `5.7.33-0ubuntu0.18.04.1`. Now in my understanding as described [here][1], MySQL 5.7 supports TLSv1.2. Also when running `SHOW VARIABLES LIKE &#39;tls_version&#39;;` we get `TLSv1,TLSv1.1,TLSv1.2` which suggest that `TLSv1.2` is supported.\r\n\r\nSo then the question is, why don&#39;t the JDK and MySQL just agree on using `TLSv1.2` and what can we do about it, to make them communicate with `TLSv1.2`?\r\n\r\nNote: I don&#39;t think changing the `java.security` file as suggested in the other thread is a good long term solution to this problem!\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/encrypted-connection-protocols-ciphers.html","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>In the latest update to the JDK in April 2021 (<code>11.0.11+9-0ubuntu2~18.04</code>) support for <code>TLSv1</code> and <code>TLSv1.1</code> was dropped, presumably because since March 2021 those versions are no longer supported. This is evident by the diff in the <code>java.security</code> file:</p>\n<p>Before:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n<p>After:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n<p>which is also discussed in this SO post: <a href=\"https://stackoverflow.com/questions/38205947/sslhandshakeexception-no-appropriate-protocol\">SSLHandShakeException No Appropriate Protocol</a> . In that thread there are also more answers popping up the last few days since the updated JDK version.</p>\n<p>After this update of the JDK, we received the error</p>\n<pre><code>java.sql.SQLException: An attempt by a client to checkout a Connection has timed out.\n</code></pre>\n<p>with <code>c3p0</code>.</p>\n<p>After switching to <code>hikari</code> we got a more meaningful error:</p>\n<pre><code>ERROR [2021-04-29 16:21:16,426] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\n! javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>We're running on MySQL <code>5.7.33-0ubuntu0.18.04.1</code>. Now in my understanding as described <a href=\"https://dev.mysql.com/doc/refman/5.7/en/encrypted-connection-protocols-ciphers.html\" rel=\"noreferrer\">here</a>, MySQL 5.7 supports TLSv1.2. Also when running <code>SHOW VARIABLES LIKE 'tls_version';</code> we get <code>TLSv1,TLSv1.1,TLSv1.2</code> which suggest that <code>TLSv1.2</code> is supported.</p>\n<p>So then the question is, why don't the JDK and MySQL just agree on using <code>TLSv1.2</code> and what can we do about it, to make them communicate with <code>TLSv1.2</code>?</p>\n<p>Note: I don't think changing the <code>java.security</code> file as suggested in the other thread is a good long term solution to this problem!</p>\n"},{"tags":["java","operating-system","systemd"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692693830,"post_id":76951493,"comment_id":135655323,"body_markdown":"`ExecStart=&#39;java -jar /opt/java_apps/app1/app1.jar&#39;` Your environment setting will likely be unused, so you might want `ExecStart=&quot;$JAVA_HOME/bin/java -jar /opt/java_apps/app1/app1.jar&quot;` but I&#39;m not sure about expansion order. Then there&#39;s that .conf file. The contents might have to be part of the environment too","body":"<code>ExecStart=&#39;java -jar &#47;opt&#47;java_apps&#47;app1&#47;app1.jar&#39;</code> Your environment setting will likely be unused, so you might want <code>ExecStart=&quot;$JAVA_HOME&#47;bin&#47;java -jar &#47;opt&#47;java_apps&#47;app1&#47;app1.jar&quot;</code> but I&#39;m not sure about expansion order. Then there&#39;s that .conf file. The contents might have to be part of the environment too"},{"owner":{"account_id":15672356,"reputation":9,"user_id":11308478,"display_name":"Ya&#231;in Da"},"score":0,"creation_date":1692694490,"post_id":76951493,"comment_id":135655452,"body_markdown":"@g00se, thank you but i have test that also before, it doesn&#39;t work","body":"@g00se, thank you but i have test that also before, it doesn&#39;t work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692695004,"post_id":76951493,"comment_id":135655557,"body_markdown":"I can readily believe there could be errors, but I find it hard to believe you get *the same error*","body":"I can readily believe there could be errors, but I find it hard to believe you get <i>the same error</i>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692704355,"creation_date":1692703812,"answer_id":76952845,"question_id":76951493,"body_markdown":"This is what worked for me. Tricky\r\n```\r\n[Unit]\r\nDescription=APP1 Java Service\r\nAfter=syslog.target\r\n\r\n[Service]\r\n\r\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/bellsoft-java20-full-amd64&quot;\r\nWorkingDirectory=/opt/java_apps/app1\r\nUser=app1_user\r\nExecStart=/usr/bin/env &quot;${JAVA_HOME}/bin/java&quot; -jar app1.jar\r\nStandardError=null\r\nStandardOutput=null\r\nLimitNOFILE=65536\r\nSuccessExitStatus=143\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\nOf course, that `StandardError=null` is dangerous as you&#39;ll never see why, if it fails. You probably want `StandardError=journal`","title":"Exec format error when running a jar file as systemd service","body":"<p>This is what worked for me. Tricky</p>\n<pre><code>[Unit]\nDescription=APP1 Java Service\nAfter=syslog.target\n\n[Service]\n\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/bellsoft-java20-full-amd64&quot;\nWorkingDirectory=/opt/java_apps/app1\nUser=app1_user\nExecStart=/usr/bin/env &quot;${JAVA_HOME}/bin/java&quot; -jar app1.jar\nStandardError=null\nStandardOutput=null\nLimitNOFILE=65536\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>Of course, that <code>StandardError=null</code> is dangerous as you'll never see why, if it fails. You probably want <code>StandardError=journal</code></p>\n"},{"tags":[],"owner":{"account_id":15672356,"reputation":9,"user_id":11308478,"display_name":"Ya&#231;in Da"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693135893,"creation_date":1692711570,"answer_id":76953893,"question_id":76951493,"body_markdown":"I solved my problem by adding this config to my springboot plugin (in the pom.xml):\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;executable&gt;true&lt;/executable&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI rebuilt the application and it runs fine as a systemd service. The issue was that it was not built as executable.\r\n\r\nI appreciate your response, [@g00se][1], but the problem wasn&#39;t that.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/16376827/g00se","title":"Exec format error when running a jar file as systemd service","body":"<p>I solved my problem by adding this config to my springboot plugin (in the pom.xml):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;executable&gt;true&lt;/executable&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I rebuilt the application and it runs fine as a systemd service. The issue was that it was not built as executable.</p>\n<p>I appreciate your response, <a href=\"https://stackoverflow.com/users/16376827/g00se\">@g00se</a>, but the problem wasn't that.</p>\n"}],"owner":{"account_id":15672356,"reputation":9,"user_id":11308478,"display_name":"Ya&#231;in Da"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693135893,"creation_date":1692693309,"question_id":76951493,"body_markdown":"I have a problem when running a jar application as a systemd service. I get this error :\r\n```\r\nsystemd[30196]: Failed at step EXEC spawning /opt/java_apps/app1/app1.jar: Exec format error\r\n```\r\n\r\nbut when i run it manually using java -jar command it runs well.\r\n\r\ni have verified the permissions of the directories and files, the jar is built using the same java version...\r\n\r\napp1.service:\r\n```\r\n[Unit]\r\nDescription=APP1 Java Service\r\nAfter=syslog.target\r\n\r\n[Service]\r\nUser=app1_user\r\nExecStart=/opt/java_apps/app1/app1.jar\r\nStandardError=null\r\nStandardOutput=null\r\nLimitNOFILE=65536\r\nEnvironment=JAVA_HOME=/opt/java/jdk-17.0.7+7\r\nSuccessExitStatus=143\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\napp1.conf:\r\n\r\n```\r\nJAVA_OPTS=&quot;-Dspring.config.location=/opt/java_apps/app1/conf/ \\\r\n-Dlogging.config=/opt/java_apps/app1/conf/logback.xml \\\r\n-Dfile.encoding=UTF-8 \\\r\n-server -Xms2g \\\r\n-Xmx2g \\\r\n-Xmn400m \\\r\n-XX:MetaspaceSize=256m \\\r\n-XX:MaxMetaspaceSize=256m \\\r\n-XX:+PrintConcurrentLocks -verbosegc -XX:+UseCompressedOops -XX:+HeapDumpOnOutOfMemoryError \\\r\n-XX:+UseGCOverheadLimit -Xlog:gc:/var/log/java_apps/app1/gc-app1-2_%t.log \\\r\n-XX:HeapDumpPath=/var/log/heapdump \\\r\n-XX:ErrorFile=/var/log/java_apps/app1/hs_err_%t.log \\\r\n-Djdk.tls.maxCertificateChainLength=100 \\\r\n-Dorg.xerial.snappy.tempdir=/opt/java_apps/snappy&quot;\r\n```\r\n\r\n\r\ni want a solution to run the app1.jar as a systemd service please.","title":"Exec format error when running a jar file as systemd service","body":"<p>I have a problem when running a jar application as a systemd service. I get this error :</p>\n<pre><code>systemd[30196]: Failed at step EXEC spawning /opt/java_apps/app1/app1.jar: Exec format error\n</code></pre>\n<p>but when i run it manually using java -jar command it runs well.</p>\n<p>i have verified the permissions of the directories and files, the jar is built using the same java version...</p>\n<p>app1.service:</p>\n<pre><code>[Unit]\nDescription=APP1 Java Service\nAfter=syslog.target\n\n[Service]\nUser=app1_user\nExecStart=/opt/java_apps/app1/app1.jar\nStandardError=null\nStandardOutput=null\nLimitNOFILE=65536\nEnvironment=JAVA_HOME=/opt/java/jdk-17.0.7+7\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>app1.conf:</p>\n<pre><code>JAVA_OPTS=&quot;-Dspring.config.location=/opt/java_apps/app1/conf/ \\\n-Dlogging.config=/opt/java_apps/app1/conf/logback.xml \\\n-Dfile.encoding=UTF-8 \\\n-server -Xms2g \\\n-Xmx2g \\\n-Xmn400m \\\n-XX:MetaspaceSize=256m \\\n-XX:MaxMetaspaceSize=256m \\\n-XX:+PrintConcurrentLocks -verbosegc -XX:+UseCompressedOops -XX:+HeapDumpOnOutOfMemoryError \\\n-XX:+UseGCOverheadLimit -Xlog:gc:/var/log/java_apps/app1/gc-app1-2_%t.log \\\n-XX:HeapDumpPath=/var/log/heapdump \\\n-XX:ErrorFile=/var/log/java_apps/app1/hs_err_%t.log \\\n-Djdk.tls.maxCertificateChainLength=100 \\\n-Dorg.xerial.snappy.tempdir=/opt/java_apps/snappy&quot;\n</code></pre>\n<p>i want a solution to run the app1.jar as a systemd service please.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1348816725,"post_id":12634918,"comment_id":17039274,"body_markdown":"If you are not happy with these answers, update the question to make it clear what you really want to know and/or add comments.  Do not simply repost the question.  Your repost will be down-voted and closed, and you will lose reputation points.","body":"If you are not happy with these answers, update the question to make it clear what you really want to know and/or add comments.  Do not simply repost the question.  Your repost will be down-voted and closed, and you will lose reputation points."}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348815879,"creation_date":1348815024,"answer_id":12634974,"question_id":12634918,"body_markdown":"A `HashSet` is in itself an implementation of the `HashMap` so in the end it does not really make much of a difference. However, since you are dealing with users, I think that eventually you will need to access `User` objects by ID.\r\n\r\nAssuming that each user has a unique ID, you could use a `HashMap` with ID&#39;s as a key and the entire `User` object as value. This will allow you to both traverse and access specific user data.","title":"what should be used HashMap or HashSet?","body":"<p>A <code>HashSet</code> is in itself an implementation of the <code>HashMap</code> so in the end it does not really make much of a difference. However, since you are dealing with users, I think that eventually you will need to access <code>User</code> objects by ID.</p>\n\n<p>Assuming that each user has a unique ID, you could use a <code>HashMap</code> with ID's as a key and the entire <code>User</code> object as value. This will allow you to both traverse and access specific user data.</p>\n"},{"tags":[],"owner":{"account_id":1062801,"reputation":6664,"user_id":1064076,"accept_rate":59,"display_name":"Arun Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348816211,"creation_date":1348816211,"answer_id":12635247,"question_id":12634918,"body_markdown":"HashMap and HahSet use diffrent data structure to store objects. \r\n    \r\nIn a **HashMap** you store objects in **key-value** pairs\r\n\r\nIn a **HashSet** you store only the **keys** as objects.\r\n\r\n\r\n----------\r\n\r\n\r\n**Following are some of the difference between them:**\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n 1. HashSet is implementation of Set interface. **HashMap** is the implementation of Map interface.\r\n 2. HashSet Store only value. HashMap Stores data in form of key value\r\n    pair.\r\n 3. HashSet does not allow duplicate values/objects HashMap allows\r\n    duplicate value/objects but would not allow duplicate key.\r\n 4. HashSet is slower than hashmap. HashMap is faster than hashset\r\n    because the values are associated to unique key\r\n 5. In HashSet, member object is used for calculating hashcode value\r\n    which can be same for two objects so equal () method is used to\r\n    check for equality if it returns false that means two objects are\r\n    different.In HashMap, hashcode value is calculated using key object.","title":"what should be used HashMap or HashSet?","body":"<p>HashMap and HahSet use diffrent data structure to store objects. </p>\n\n<p>In a <strong>HashMap</strong> you store objects in <strong>key-value</strong> pairs</p>\n\n<p>In a <strong>HashSet</strong> you store only the <strong>keys</strong> as objects.</p>\n\n<hr>\n\n<p><strong>Following are some of the difference between them:</strong></p>\n\n<hr>\n\n<ol>\n<li>HashSet is implementation of Set interface. <strong>HashMap</strong> is the implementation of Map interface.</li>\n<li>HashSet Store only value. HashMap Stores data in form of key value\npair.</li>\n<li>HashSet does not allow duplicate values/objects HashMap allows\nduplicate value/objects but would not allow duplicate key.</li>\n<li>HashSet is slower than hashmap. HashMap is faster than hashset\nbecause the values are associated to unique key</li>\n<li>In HashSet, member object is used for calculating hashcode value\nwhich can be same for two objects so equal () method is used to\ncheck for equality if it returns false that means two objects are\ndifferent.In HashMap, hashcode value is calculated using key object.</li>\n</ol>\n"}],"owner":{"account_id":1567301,"reputation":1653,"user_id":1455802,"accept_rate":18,"display_name":"pankaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693135630,"creation_date":1348814833,"question_id":12634918,"body_markdown":"If you are given a set of records (say, User records with `Id`, `Name` and `age` fields) and you need to send a collection of it \r\nto the view for simple traversal. Then which collection would be preferable for use between `HashMap` and `HashSet` \r\nand why? What hashcode generation code would you use in the User class for efficiency?\r\n","title":"what should be used HashMap or HashSet?","body":"<p>If you are given a set of records (say, User records with <code>Id</code>, <code>Name</code> and <code>age</code> fields) and you need to send a collection of it\nto the view for simple traversal. Then which collection would be preferable for use between <code>HashMap</code> and <code>HashSet</code>\nand why? What hashcode generation code would you use in the User class for efficiency?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":937963,"reputation":67649,"user_id":966550,"accept_rate":67,"display_name":"waqaslam"},"score":0,"creation_date":1592851210,"post_id":62521162,"comment_id":110567515,"body_markdown":"Tip: whenever you upload an apk on playstore, also append the obfuscation mapping-file too in order to decode the exception stack trace for future. The stack points towards `MainActivity$d.a(:4)` and `j.g$b$a$a.run(Unknown Source:37)` but now we don&#39;t know what&#39;s its actual class and call.","body":"Tip: whenever you upload an apk on playstore, also append the obfuscation mapping-file too in order to decode the exception stack trace for future. The stack points towards <code>MainActivity$d.a(:4)</code> and <code>j.g$b$a$a.run(Unknown Source:37)</code> but now we don&#39;t know what&#39;s its actual class and call."},{"owner":{"account_id":17185925,"reputation":192,"user_id":12440539,"display_name":"Hamza Muazzam"},"score":0,"creation_date":1592851301,"post_id":62521162,"comment_id":110567554,"body_markdown":"where to append append the obfuscation mapping-file...","body":"where to append append the obfuscation mapping-file..."},{"owner":{"account_id":937963,"reputation":67649,"user_id":966550,"accept_rate":67,"display_name":"waqaslam"},"score":0,"creation_date":1592851554,"post_id":62521162,"comment_id":110567700,"body_markdown":"App -&gt; Android Vitals -&gt; Deobfuscation files","body":"App -&gt; Android Vitals -&gt; Deobfuscation files"},{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1592860658,"post_id":62521162,"comment_id":110571549,"body_markdown":"This issue might be caused by incompatible data from your apps previous version.Try out the following: Checkout your old code and install the previous version of your app via Android Studio. Then checkout the newest version and install the new version.","body":"This issue might be caused by incompatible data from your apps previous version.Try out the following: Checkout your old code and install the previous version of your app via Android Studio. Then checkout the newest version and install the new version."},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1592892971,"post_id":62521162,"comment_id":110579341,"body_markdown":"Did You test the update to the new major release also in Android Studio? Run old version and update the code und run the version?","body":"Did You test the update to the new major release also in Android Studio? Run old version and update the code und run the version?"},{"owner":{"account_id":17185925,"reputation":192,"user_id":12440539,"display_name":"Hamza Muazzam"},"score":0,"creation_date":1593378712,"post_id":62521162,"comment_id":110753203,"body_markdown":"Thank you all guys. But i changed from true to false again in gradle (app level) for minifyEnabled false and issue resolved.","body":"Thank you all guys. But i changed from true to false again in gradle (app level) for minifyEnabled false and issue resolved."}],"answers":[{"tags":[],"owner":{"account_id":29308097,"reputation":1,"user_id":22454620,"display_name":"majda talal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693134913,"creation_date":1693134866,"answer_id":76986830,"question_id":62521162,"body_markdown":"\r\nThere&#39;s a lot of things can do this problem in my case I had the same issue.. and the problem was in Admob App ID","title":"App is crashing after publishing on playstore update but running ok from android studio (Duplicat But unable to find solution)","body":"<p>There's a lot of things can do this problem in my case I had the same issue.. and the problem was in Admob App ID</p>\n"}],"owner":{"account_id":17185925,"reputation":192,"user_id":12440539,"display_name":"Hamza Muazzam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693134913,"creation_date":1592850663,"question_id":62521162,"body_markdown":"Greeting Experts. I am new to android. I tried every solution but all in vain. please don&#39;t tell me this is stupid question.\r\n i published an app Named &quot;Ertugral GHazi&quot; when i install it from android studio to mobile directly it is working fine . but after major update app is crashing on every device. \r\nI tried Try catch on every block of code but same thing is happening.\r\n crash log is below.\r\n   \r\nApp [Link][1] of playstore\r\n\r\n    &gt; --------- beginning of crash 2020-06-22 23:17:43.725 2091-2091/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n    &gt;     Process: com.sourceinflow.ertugrulinurdu, PID: 2091\r\n    &gt;     java.lang.NullPointerException: throw with null exception\r\n    &gt;         at com.sourceinflow.ertugrulinurdu.MainActivity$d.a(:4)\r\n    &gt;         at j.g$b$a$a.run(Unknown Source:37)\r\n    &gt;         at android.os.Handler.handleCallback(Handler.java:888)\r\n    &gt;         at android.os.Handler.dispatchMessage(Handler.java:100)\r\n    &gt;         at android.os.Looper.loop(Looper.java:213)\r\n    &gt;         at android.app.ActivityThread.main(ActivityThread.java:8178)\r\n    &gt;         at java.lang.reflect.Method.invoke(Native Method)\r\n    &gt;         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n    &gt;         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\r\n\r\nMy Gradle settings are below.\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.sourceinflow.ertugrulinurdu&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 30\r\n            versionCode 3\r\n            versionName &quot;3.0&quot;\r\n            multiDexEnabled true\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                \r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            // Or, if you prefer, you can continue to check for errors in release builds,\r\n            // but continue the build even when errors are found:\r\n            abortOnError false\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-firestore:21.4.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:19.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:20.2.0&#39;\r\n        testImplementation &#39;junit:junit:4.13&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.facebook.shimmer:shimmer:0.5.0&#39;\r\n    //    implementation &#39;com.dailymotion.dailymotion-sdk-android:sdk:0.2.1&#39;\r\n        implementation &#39;com.google.android.exoplayer:exoplayer:2.9.6&#39;\r\n    \r\n        implementation &#39;com.google.android.gms:play-services-ads:19.1.0&#39;\r\n    \r\n        //retrofit and gson\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.4.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.4.0&#39;\r\n    }\r\n\r\nProject Level Gradle file\r\n\r\n\r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            \r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.0.0&#39;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.1.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n    \r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n    \r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.sourceinflow.ertugrulinurdu","title":"App is crashing after publishing on playstore update but running ok from android studio (Duplicat But unable to find solution)","body":"<p>Greeting Experts. I am new to android. I tried every solution but all in vain. please don't tell me this is stupid question.\ni published an app Named &quot;Ertugral GHazi&quot; when i install it from android studio to mobile directly it is working fine . but after major update app is crashing on every device.\nI tried Try catch on every block of code but same thing is happening.\ncrash log is below.</p>\n<p>App <a href=\"https://play.google.com/store/apps/details?id=com.sourceinflow.ertugrulinurdu\" rel=\"nofollow noreferrer\">Link</a> of playstore</p>\n<pre><code>&gt; --------- beginning of crash 2020-06-22 23:17:43.725 2091-2091/? E/AndroidRuntime: FATAL EXCEPTION: main\n&gt;     Process: com.sourceinflow.ertugrulinurdu, PID: 2091\n&gt;     java.lang.NullPointerException: throw with null exception\n&gt;         at com.sourceinflow.ertugrulinurdu.MainActivity$d.a(:4)\n&gt;         at j.g$b$a$a.run(Unknown Source:37)\n&gt;         at android.os.Handler.handleCallback(Handler.java:888)\n&gt;         at android.os.Handler.dispatchMessage(Handler.java:100)\n&gt;         at android.os.Looper.loop(Looper.java:213)\n&gt;         at android.app.ActivityThread.main(ActivityThread.java:8178)\n&gt;         at java.lang.reflect.Method.invoke(Native Method)\n&gt;         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n&gt;         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\n</code></pre>\n<p>My Gradle settings are below.</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.firebase.crashlytics'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.sourceinflow.ertugrulinurdu&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode 3\n        versionName &quot;3.0&quot;\n        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            \n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-firestore:21.4.3'\n    implementation 'com.google.firebase:firebase-storage:19.1.1'\n    implementation 'com.google.firebase:firebase-messaging:20.2.0'\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.google.android.material:material:1.1.0'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.facebook.shimmer:shimmer:0.5.0'\n//    implementation 'com.dailymotion.dailymotion-sdk-android:sdk:0.2.1'\n    implementation 'com.google.android.exoplayer:exoplayer:2.9.6'\n\n    implementation 'com.google.android.gms:play-services-ads:19.1.0'\n\n    //retrofit and gson\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'\n}\n</code></pre>\n<p>Project Level Gradle file</p>\n<pre><code>buildscript {\n    \n    repositories {\n        google()\n        jcenter()\n        \n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.0.0'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.1.1'\n        classpath 'com.google.gms:google-services:4.3.3'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","blockingqueue"],"answers":[{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407446214,"creation_date":1407446214,"answer_id":25192376,"question_id":25192142,"body_markdown":"I&#39;ve never had need to do this sort of thing, but you might have some luck using a [`CountDownLatch`][1] or [`CyclicBarrier`][2] from your various threads.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html","title":"Wait till a Blocking Queue is full","body":"<p>I've never had need to do this sort of thing, but you might have some luck using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow\"><code>CountDownLatch</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"nofollow\"><code>CyclicBarrier</code></a> from your various threads.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407474449,"creation_date":1407474449,"answer_id":25196404,"question_id":25192142,"body_markdown":"If you&#39;re using Java 8, do the following:\r\n\r\n - With each call to `makeAsync`, create a `CompletableFuture&lt;Result&gt;` instance and make it available to the `AsyncHandler`, and have the caller keep a reference too, say in a list.\r\n - When an async task completes normally, have it call `complete(result)` on its `CompletableFuture` instance.\r\n - When an async task completes with an error, have it call `completeExceptionally(exception)` on its `CompletableFuture` instance.\r\n - After initiating all the asynchronous tasks, have the caller call `CompletableFuture.allOf(cfArray).join()`. Unfortunately this takes an array, not a list, so you have to convert. The `join()` call will throw an exception if any one of the tasks completed with an error. Otherwise, you can collect the results from the individual `CompletableFuture` instances by calling their `get()` methods.\r\n\r\nIf you don&#39;t have Java 8, you&#39;ll have to sort of roll your own mechanism. Initialize a `CountDownLatch` to the number of async tasks you&#39;re going to fire off. Have each async task store its result (or an exception, or some other means of indicating failure) into a thread-safe data structure and then decrement (&#39;countDown`) the latch. Have the caller wait for the latch to reach zero and then collect the results and errors. This isn&#39;t terribly difficult, but you have to determine a means for storing valid results as well as recording whether an error occurred, and also maintain a count manually.\r\n","title":"Wait till a Blocking Queue is full","body":"<p>If you're using Java 8, do the following:</p>\n\n<ul>\n<li>With each call to <code>makeAsync</code>, create a <code>CompletableFuture&lt;Result&gt;</code> instance and make it available to the <code>AsyncHandler</code>, and have the caller keep a reference too, say in a list.</li>\n<li>When an async task completes normally, have it call <code>complete(result)</code> on its <code>CompletableFuture</code> instance.</li>\n<li>When an async task completes with an error, have it call <code>completeExceptionally(exception)</code> on its <code>CompletableFuture</code> instance.</li>\n<li>After initiating all the asynchronous tasks, have the caller call <code>CompletableFuture.allOf(cfArray).join()</code>. Unfortunately this takes an array, not a list, so you have to convert. The <code>join()</code> call will throw an exception if any one of the tasks completed with an error. Otherwise, you can collect the results from the individual <code>CompletableFuture</code> instances by calling their <code>get()</code> methods.</li>\n</ul>\n\n<p>If you don't have Java 8, you'll have to sort of roll your own mechanism. Initialize a <code>CountDownLatch</code> to the number of async tasks you're going to fire off. Have each async task store its result (or an exception, or some other means of indicating failure) into a thread-safe data structure and then decrement ('countDown`) the latch. Have the caller wait for the latch to reach zero and then collect the results and errors. This isn't terribly difficult, but you have to determine a means for storing valid results as well as recording whether an error occurred, and also maintain a count manually.</p>\n"},{"tags":[],"owner":{"account_id":2415386,"reputation":2987,"user_id":2109526,"accept_rate":43,"display_name":"Alex Suo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407486066,"creation_date":1407486066,"answer_id":25198961,"question_id":25192142,"body_markdown":"If you can modify methodAsync(), then it&#39;s as simple as to use a CountDownLatch after each time you put some elements in the queue and have the main thread wait for such a CountDownLatch.\r\n\r\nIf unfortunately you cannot modify methodAsync(), then simply wrap the queue and give it a count down latch, and then override the add() method to count down this latch. The main method just wait it to be done.\r\n\r\nHaving said the above, your program structure smells not well organized.","title":"Wait till a Blocking Queue is full","body":"<p>If you can modify methodAsync(), then it's as simple as to use a CountDownLatch after each time you put some elements in the queue and have the main thread wait for such a CountDownLatch.</p>\n\n<p>If unfortunately you cannot modify methodAsync(), then simply wrap the queue and give it a count down latch, and then override the add() method to count down this latch. The main method just wait it to be done.</p>\n\n<p>Having said the above, your program structure smells not well organized.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1407490041,"creation_date":1407490041,"answer_id":25200142,"question_id":25192142,"body_markdown":"What you describe with\r\n\r\n    //Blocking till the Queue is full\r\n    List&lt;Results&gt; results = queue.takeAll();\r\n\r\ndoes not differ semantically from “take as much items as the queue’s capacity”. If you know the capacity you can achieve this by:\r\n\r\n    // preferably a constant which you also use to construct the bounded queue\r\n    int capacity;\r\n\r\n…\r\n\r\n    List&lt;Results&gt; results = new ArrayList&lt;&gt;(capacity);\r\n    queue.drainTo(results, capacity);\r\n    while(result.size()&lt;capacity)\r\n        queue.drainTo(results, capacity-result.size());\r\n\r\nThis will block until it has received as much items as the `capacity` which is, as said, the same as waiting for the queue to become full (has a size equal to its capacity) and than take all items. The only difference is that the event of the queue becoming full is not guaranteed to happen, e.g. if you intend your async operations to `offer` items until the queue is full, it does not work this way.\r\n\r\nIf you don’t know the capacity, you are out of luck. There is not even a guaranty that an arbitrary `BlockingQueue` is bounded, read, it might have an unlimited capacity.\r\n\r\nOn the other hand, if the asynchronous operations are able to detect when they have finished, they could simply collect the items in a list locally and put the entire list into a `BlockingQueue&lt;List&lt;Results&gt;&gt;` as a single item once they are done. Then your code waiting for it needs only a single `take` to get the entire list.\r\n","title":"Wait till a Blocking Queue is full","body":"<p>What you describe with</p>\n\n<pre><code>//Blocking till the Queue is full\nList&lt;Results&gt; results = queue.takeAll();\n</code></pre>\n\n<p>does not differ semantically from “take as much items as the queue’s capacity”. If you know the capacity you can achieve this by:</p>\n\n<pre><code>// preferably a constant which you also use to construct the bounded queue\nint capacity;\n</code></pre>\n\n<p>…</p>\n\n<pre><code>List&lt;Results&gt; results = new ArrayList&lt;&gt;(capacity);\nqueue.drainTo(results, capacity);\nwhile(result.size()&lt;capacity)\n    queue.drainTo(results, capacity-result.size());\n</code></pre>\n\n<p>This will block until it has received as much items as the <code>capacity</code> which is, as said, the same as waiting for the queue to become full (has a size equal to its capacity) and than take all items. The only difference is that the event of the queue becoming full is not guaranteed to happen, e.g. if you intend your async operations to <code>offer</code> items until the queue is full, it does not work this way.</p>\n\n<p>If you don’t know the capacity, you are out of luck. There is not even a guaranty that an arbitrary <code>BlockingQueue</code> is bounded, read, it might have an unlimited capacity.</p>\n\n<p>On the other hand, if the asynchronous operations are able to detect when they have finished, they could simply collect the items in a list locally and put the entire list into a <code>BlockingQueue&lt;List&lt;Results&gt;&gt;</code> as a single item once they are done. Then your code waiting for it needs only a single <code>take</code> to get the entire list.</p>\n"},{"tags":[],"owner":{"account_id":2471986,"reputation":31,"user_id":2153604,"display_name":"user2153604"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693134549,"creation_date":1693134549,"answer_id":76986810,"question_id":25192142,"body_markdown":"I wrote a solution to your problem. I used an additional BlockingQueue with &quot;freeWorkers&quot; with the same capacity as the real worker thread pool. I just take the &quot;freeWorker&quot; before starting the next task and each task returns the &quot;freeWorker&quot; to the &quot;freeWorkes&quot; queue. Here is an example:\r\n\r\n    package poc.concurrecy;\r\n    \r\n    import java.util.Random;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.LinkedBlockingQueue;\r\n    import java.util.concurrent.ThreadPoolExecutor;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import static java.util.concurrent.TimeUnit.SECONDS;\r\n    \r\n    public class ThreadPoolQueueTest {\r\n    \r\n        public static final String WHITE = &quot;\\033[0;39m&quot;;\r\n        public static final Random RANDOM = new Random();\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            int capacity = 5;\r\n            LinkedBlockingQueue&lt;Integer&gt; freeWorkers = new LinkedBlockingQueue&lt;&gt;(capacity);\r\n            for (int i = 1; i &lt; capacity + 1; i++) freeWorkers.put(i);\r\n            System.out.println(WHITE + freeWorkers);\r\n            System.out.println(WHITE + &quot;===========&quot;);\r\n            LinkedBlockingQueue&lt;Runnable&gt; workQueue = new LinkedBlockingQueue&lt;&gt;(capacity);\r\n            ExecutorService executor =\r\n                    new ThreadPoolExecutor(capacity, capacity,\r\n                            0L, TimeUnit.MILLISECONDS,\r\n                            workQueue);\r\n            try {\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    Integer freeWorker = freeWorkers.take();\r\n                    String color = &quot;\\033[0;3&quot; + freeWorker + &quot;m&quot;;\r\n                    System.out.println(WHITE + &quot;take free worker &quot; + freeWorker);\r\n                    System.out.println(WHITE + freeWorkers);\r\n                    executor.execute(() -&gt; {\r\n                        System.out.println(color + &quot;run &quot; + freeWorker);\r\n                        delay(1 + RANDOM.nextInt(3));\r\n                        System.out.println(color + &quot;done &quot; + freeWorker);\r\n                        try {\r\n                            System.out.println(color + &quot;return free worker &quot; + freeWorker);\r\n                            freeWorkers.put(freeWorker);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    });\r\n                    System.out.println(WHITE + &quot;put task &quot; + freeWorker);\r\n                }\r\n    \r\n            } finally {\r\n                executor.shutdown();\r\n                executor.awaitTermination(5, TimeUnit.SECONDS);\r\n            }\r\n            System.out.println(WHITE + &quot;==========&quot;);\r\n            System.out.println(WHITE + freeWorkers);\r\n        }\r\n    \r\n        public static void delay(int timeout) {\r\n            try {\r\n                SECONDS.sleep(timeout);\r\n            } catch (InterruptedException e) {\r\n                // do nothing\r\n            }\r\n        }\r\n    }\r\n\r\nhere is an output:\r\n\r\n    [1, 2, 3, 4, 5]\r\n    ===========\r\n    take free worker 1\r\n\r\n    [2, 3, 4, 5]\r\n    put task 1\r\n    take free worker 2\r\n    [3, 4, 5]\r\n    put task 2\r\n    take free worker 3\r\n    [4, 5]\r\n    put task 3\r\n    take free worker 4\r\n    [5]\r\n    put task 4\r\n    take free worker 5\r\n    []\r\n    put task 5\r\n    run 3\r\n    run 5\r\n    run 1\r\n    run 2\r\n    run 4\r\n    done 4\r\n    return free worker 4\r\n    take free worker 4\r\n    []\r\n    put task 4\r\n    run 4\r\n    done 3\r\n    return free worker 3\r\n    take free worker 3\r\n    []\r\n    put task 3\r\n    run 3\r\n    done 5\r\n    return free worker 5\r\n    done 1\r\n    return free worker 1\r\n    take free worker 5\r\n    [1]\r\n    put task 5\r\n    take free worker 1\r\n    run 5\r\n    []\r\n    put task 1\r\n    run 1\r\n    done 3\r\n    return free worker 3\r\n    done 2\r\n    return free worker 2\r\n    take free worker 3\r\n    [2]\r\n    put task 3\r\n    run 3\r\n    done 5\r\n    return free worker 5\r\n    done 1\r\n    return free worker 1\r\n    done 4\r\n    return free worker 4\r\n    done 3\r\n    return free worker 3\r\n    ==========\r\n    [2, 5, 1, 4, 3]\r\n\r\nObviously you can simplify this code and remove all debug infos &quot;System.out&quot;\r\n\r\n\r\n","title":"Wait till a Blocking Queue is full","body":"<p>I wrote a solution to your problem. I used an additional BlockingQueue with &quot;freeWorkers&quot; with the same capacity as the real worker thread pool. I just take the &quot;freeWorker&quot; before starting the next task and each task returns the &quot;freeWorker&quot; to the &quot;freeWorkes&quot; queue. Here is an example:</p>\n<pre><code>package poc.concurrecy;\n\nimport java.util.Random;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\nimport static java.util.concurrent.TimeUnit.SECONDS;\n\npublic class ThreadPoolQueueTest {\n\n    public static final String WHITE = &quot;\\033[0;39m&quot;;\n    public static final Random RANDOM = new Random();\n\n    public static void main(String[] args) throws InterruptedException {\n        int capacity = 5;\n        LinkedBlockingQueue&lt;Integer&gt; freeWorkers = new LinkedBlockingQueue&lt;&gt;(capacity);\n        for (int i = 1; i &lt; capacity + 1; i++) freeWorkers.put(i);\n        System.out.println(WHITE + freeWorkers);\n        System.out.println(WHITE + &quot;===========&quot;);\n        LinkedBlockingQueue&lt;Runnable&gt; workQueue = new LinkedBlockingQueue&lt;&gt;(capacity);\n        ExecutorService executor =\n                new ThreadPoolExecutor(capacity, capacity,\n                        0L, TimeUnit.MILLISECONDS,\n                        workQueue);\n        try {\n            for (int i = 0; i &lt; 10; i++) {\n                Integer freeWorker = freeWorkers.take();\n                String color = &quot;\\033[0;3&quot; + freeWorker + &quot;m&quot;;\n                System.out.println(WHITE + &quot;take free worker &quot; + freeWorker);\n                System.out.println(WHITE + freeWorkers);\n                executor.execute(() -&gt; {\n                    System.out.println(color + &quot;run &quot; + freeWorker);\n                    delay(1 + RANDOM.nextInt(3));\n                    System.out.println(color + &quot;done &quot; + freeWorker);\n                    try {\n                        System.out.println(color + &quot;return free worker &quot; + freeWorker);\n                        freeWorkers.put(freeWorker);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                });\n                System.out.println(WHITE + &quot;put task &quot; + freeWorker);\n            }\n\n        } finally {\n            executor.shutdown();\n            executor.awaitTermination(5, TimeUnit.SECONDS);\n        }\n        System.out.println(WHITE + &quot;==========&quot;);\n        System.out.println(WHITE + freeWorkers);\n    }\n\n    public static void delay(int timeout) {\n        try {\n            SECONDS.sleep(timeout);\n        } catch (InterruptedException e) {\n            // do nothing\n        }\n    }\n}\n</code></pre>\n<p>here is an output:</p>\n<pre><code>[1, 2, 3, 4, 5]\n===========\ntake free worker 1\n\n[2, 3, 4, 5]\nput task 1\ntake free worker 2\n[3, 4, 5]\nput task 2\ntake free worker 3\n[4, 5]\nput task 3\ntake free worker 4\n[5]\nput task 4\ntake free worker 5\n[]\nput task 5\nrun 3\nrun 5\nrun 1\nrun 2\nrun 4\ndone 4\nreturn free worker 4\ntake free worker 4\n[]\nput task 4\nrun 4\ndone 3\nreturn free worker 3\ntake free worker 3\n[]\nput task 3\nrun 3\ndone 5\nreturn free worker 5\ndone 1\nreturn free worker 1\ntake free worker 5\n[1]\nput task 5\ntake free worker 1\nrun 5\n[]\nput task 1\nrun 1\ndone 3\nreturn free worker 3\ndone 2\nreturn free worker 2\ntake free worker 3\n[2]\nput task 3\nrun 3\ndone 5\nreturn free worker 5\ndone 1\nreturn free worker 1\ndone 4\nreturn free worker 4\ndone 3\nreturn free worker 3\n==========\n[2, 5, 1, 4, 3]\n</code></pre>\n<p>Obviously you can simplify this code and remove all debug infos &quot;System.out&quot;</p>\n"}],"owner":{"account_id":134027,"reputation":6146,"user_id":335868,"accept_rate":94,"display_name":"Michele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25200142,"answer_count":5,"score":0,"last_activity_date":1693134549,"creation_date":1407445426,"question_id":25192142,"body_markdown":"Im looking for a way to synchronize multiple asynchronous operations. I&#39;d like to use a BlockingQueue with a size equal to my operations but who can i wait till the Queue is full? \r\n\r\nIm looking for something like a reversed Blocking Queue.\r\n\r\nI need to **gather the Results** of each Thread at the End.\r\nThe AsyncHandler is fixed, its already a ThreadExecutor underlying, i cannot start new Threads.\r\n\r\n    //3 Times\r\n    makeAsync(new AsyncHandler() {\r\n       onSuccess() {\r\n         ..\r\n         queue.put(result)\r\n       }\r\n    \r\n       onFailure() {\r\n         ..\r\n       }\r\n    });\r\n    \r\n    //Blocking till the Queue is full\r\n    List&lt;Results&gt; = queue.takeAll()\r\n\r\nBonus Question: I need a way to end the wait when one of my Requests fails","title":"Wait till a Blocking Queue is full","body":"<p>Im looking for a way to synchronize multiple asynchronous operations. I'd like to use a BlockingQueue with a size equal to my operations but who can i wait till the Queue is full? </p>\n\n<p>Im looking for something like a reversed Blocking Queue.</p>\n\n<p>I need to <strong>gather the Results</strong> of each Thread at the End.\nThe AsyncHandler is fixed, its already a ThreadExecutor underlying, i cannot start new Threads.</p>\n\n<pre><code>//3 Times\nmakeAsync(new AsyncHandler() {\n   onSuccess() {\n     ..\n     queue.put(result)\n   }\n\n   onFailure() {\n     ..\n   }\n});\n\n//Blocking till the Queue is full\nList&lt;Results&gt; = queue.takeAll()\n</code></pre>\n\n<p>Bonus Question: I need a way to end the wait when one of my Requests fails</p>\n"},{"tags":["java","spring","spring-boot","lombok","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693134454,"creation_date":1693134454,"answer_id":76986804,"question_id":76986272,"body_markdown":"I think the error message speaks for itself:\r\n\r\n&gt; Cannot set property id because no setter, no wither and it&#39;s not part of the persistenc\r\ne constructor\r\n\r\nSpring Data JDBC sets the id of an entity after saving it.\r\nFor this it needs a way to set it. \r\nThere are many variants how to achieve this:\r\n\r\n- make it not `final` and not `private`.\r\n- make it not `final` and provide a setter.\r\n- provide a _wither_, i.e. a `withId` method, taking the new id and returning a new entity instance with the new id applied.\r\n- provide a constructor (if it isn&#39;t the only constructor, mark it as `@PersistenceInstantiator`), that takes the id as an argument.\r\n\r\n\r\nAnd yes, if you don&#39;t use `data.sql` anymore, because you initialise the data in the application, you may and actually should delete it.\r\n","title":"Spring Data JDBC: Error - Cannot set property id because no setter, no wither, and it&#39;s not part of the persistence constructor","body":"<p>I think the error message speaks for itself:</p>\n<blockquote>\n<p>Cannot set property id because no setter, no wither and it's not part of the persistenc\ne constructor</p>\n</blockquote>\n<p>Spring Data JDBC sets the id of an entity after saving it.\nFor this it needs a way to set it.\nThere are many variants how to achieve this:</p>\n<ul>\n<li>make it not <code>final</code> and not <code>private</code>.</li>\n<li>make it not <code>final</code> and provide a setter.</li>\n<li>provide a <em>wither</em>, i.e. a <code>withId</code> method, taking the new id and returning a new entity instance with the new id applied.</li>\n<li>provide a constructor (if it isn't the only constructor, mark it as <code>@PersistenceInstantiator</code>), that takes the id as an argument.</li>\n</ul>\n<p>And yes, if you don't use <code>data.sql</code> anymore, because you initialise the data in the application, you may and actually should delete it.</p>\n"}],"owner":{"account_id":24772637,"reputation":57,"user_id":18656318,"display_name":"Raghav Kavimandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76986804,"answer_count":1,"score":-2,"last_activity_date":1693134454,"creation_date":1693124954,"question_id":76986272,"body_markdown":"I am a beginner in spring and trying to use Spring Data JDBC to persist data. I have made the necessary changes to the Repository interfaces by extending them with Repository/CrudRepositoy. Also, for preloading data into the h2 database, I have also set up a data_Loader_Config class with an ApplicationRunner. Still, Spring data cannot set the id property to one of the fields in the Ingredient class. I don&#39;t know what to do here...\r\n\r\nPS - After creating an applicationRunner instance should I delete the data.sql file that I was using earlier to preload data.\r\n\r\n## Here is my Ingredient class:\r\n\r\n```java\r\npackage tacos;\r\nimport lombok.Data;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.domain.Persistable;\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.beans.ConstructorProperties;\r\n\r\n\r\n@Data\r\n@Table\r\n@AllArgsConstructor\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE, force = true)\r\npublic class Ingredient implements Persistable&lt;String&gt; {\r\n\r\n    @Id\r\n    private final String id;\r\n    private final String name;\r\n    private final Type type;\r\n\r\n    public enum Type {\r\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\r\n    }\r\n\r\n//    @ConstructorProperties({&quot;id&quot;, &quot;name&quot;, &quot;type&quot;})\r\n//    public Ingredient(String id, String name, Type type) {\r\n//        this.id = id;\r\n//        this.name = name;\r\n//        this.type = type;\r\n//    }\r\n\r\n\r\n    @Override\r\n    public boolean isNew() {\r\n        // You can implement your logic here to determine if the ingredient is new or not.\r\n        // For example, you can check if the &#39;id&#39; property is null.\r\n        return id == null;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n## This is my Data_Loader_config class:\r\n\r\n```java\r\npackage tacos;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport tacos.data.IngredientRepository;\r\n\r\n\r\npublic class DataLoaderConfig {\r\n    @Bean\r\n    public ApplicationRunner dataLoader(IngredientRepository repo) {\r\n        return args -&gt; {\r\n            repo.save(new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Ingredient.Type.WRAP));\r\n            repo.save(new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Ingredient.Type.WRAP));\r\n            repo.save(new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Ingredient.Type.PROTEIN));\r\n            repo.save(new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Ingredient.Type.PROTEIN));\r\n            repo.save(new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Ingredient.Type.VEGGIES));\r\n            repo.save(new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Ingredient.Type.VEGGIES));\r\n            repo.save(new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Ingredient.Type.CHEESE));\r\n            repo.save(new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Ingredient.Type.CHEESE));\r\n            repo.save(new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Ingredient.Type.SAUCE));\r\n            repo.save(new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Ingredient.Type.SAUCE));\r\n        };\r\n    }\r\n}\r\n\r\n```\r\n\r\n## This is the ingredient repository which extends Repsitory/CrudRepsitory Interface:\r\n\r\n\r\n```java\r\npackage tacos.data;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport tacos.Ingredient;\r\n\r\npublic interface IngredientRepository extends CrudRepository&lt;Ingredient, String&gt; {\r\n   \r\n}\r\n\r\n```\r\n\r\n## Finally this is the stac trace:\r\n\r\n```\r\n2023-08-27T13:33:12.697+05:30 ERROR 13080 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.servi\r\nce() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.Illeg\r\nalStateException: Cannot set property id because no setter, no wither and it&#39;s not part of the persistence constructor p\r\nrivate tacos.Ingredient()] with root cause\r\n\r\njava.lang.IllegalStateException: Cannot set property id because no setter, no wither and it&#39;s not part of the persistenc\r\ne constructor private tacos.Ingredient()\r\n        at org.springframework.data.mapping.model.InstantiationAwarePropertyAccessor.setProperty(InstantiationAwarePrope\r\nrtyAccessor.java:94) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.model.SimplePersistentPropertyPathAccessor.setProperty(SimplePersistentPrope\r\nrtyPathAccessor.java:108) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.model.ConvertingPropertyAccessor.setProperty(ConvertingPropertyAccessor.java\r\n:60) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.lambda$populateProperties$0(Basi\r\ncJdbcConverter.java:433) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.model.BasicPersistentEntity.doWithProperties(BasicPersistentEntity.java:298)\r\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.PersistentEntity.doWithAll(PersistentEntity.java:297) ~[spring-data-commons-\r\n3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.populateProperties(BasicJdbcConv\r\nerter.java:418) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.createInstanceInternal(BasicJdbc\r\nConverter.java:562) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.mapRow(BasicJdbcConverter.java:4\r\n10) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter.mapRow(BasicJdbcConverter.java:305) ~[spring-da\r\nta-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.EntityRowMapper.mapRow(EntityRowMapper.java:79) ~[spring-data-jdbc\r\n-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[\r\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[\r\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:729) ~[spring-jdbc-6.1.0\r\n-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:654) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4\r\n]\r\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:719) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \r\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \r\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:800) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \r\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:218\r\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:230\r\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.data.jdbc.core.convert.DefaultDataAccessStrategy.findAll(DefaultDataAccessStrategy.java:2\r\n74) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.JdbcAggregateTemplate.findAll(JdbcAggregateTemplate.java:341) ~[spring-dat\r\na-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.findAll(SimpleJdbcRepository.java:89) ~\r\n[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\r\n:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lamb\r\nda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.jav\r\na:136) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:\r\n120) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryC\r\nomposition.java:516) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterc\r\neptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodI\r\nnterceptor.java:168) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInt\r\nerceptor.java:143) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterce\r\nptor.java:123) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspec\r\ntSupport.java:392) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[\r\nspring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTransla\r\ntionInterceptor.java:137) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~\r\n[spring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.1.0-M\r\n4.jar:6.1.0-M4]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy93.findAll(Unknown Source) ~[na:na]\r\n        at tacos.web.DesignTacoController.addIngredientsToModel(DesignTacoController.java:42) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\r\n:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spr\r\ning-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:18\r\n1) ~[spring-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.method.annotation.ModelFactory.invokeModelAttributeMethods(ModelFactory.java:143) ~[s\r\npring-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.method.annotation.ModelFactory.initModel(ModelFactory.java:112) ~[spring-web-6.1.0-M4\r\n.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(Reques\r\ntMappingHandlerAdapter.java:895) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMapp\r\ningHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.j\r\nava:87) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1\r\n.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0\r\n-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6\r\n.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M4.ja\r\nr:6.1.0-M4]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.12.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-M4.\r\njar:6.1.0-M4]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.12.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.12.jar:1\r\n0.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-\r\nweb-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\r\n0-M4.jar:6.1.0-M4]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1\r\n.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\r\n0-M4.jar:6.1.0-M4]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[s\r\npring-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\r\n0-M4.jar:6.1.0-M4]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.\r\n12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.1\r\n2.jar:10.1.12]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10\r\n.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.12.jar\r\n:10.1.12]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:\r\n10.1.12]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.\r\njar:10.1.12]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:1\r\n0.1.12]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10\r\n.1.12]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.\r\njar:10.1.12]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-1\r\n0.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.\r\n12.jar:10.1.12]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.j\r\nar:10.1.12]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1\r\n2.jar:10.1.12]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n","title":"Spring Data JDBC: Error - Cannot set property id because no setter, no wither, and it&#39;s not part of the persistence constructor","body":"<p>I am a beginner in spring and trying to use Spring Data JDBC to persist data. I have made the necessary changes to the Repository interfaces by extending them with Repository/CrudRepositoy. Also, for preloading data into the h2 database, I have also set up a data_Loader_Config class with an ApplicationRunner. Still, Spring data cannot set the id property to one of the fields in the Ingredient class. I don't know what to do here...</p>\n<p>PS - After creating an applicationRunner instance should I delete the data.sql file that I was using earlier to preload data.</p>\n<h2>Here is my Ingredient class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package tacos;\nimport lombok.Data;\nimport org.springframework.data.relational.core.mapping.Table;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.domain.Persistable;\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\n\nimport java.beans.ConstructorProperties;\n\n\n@Data\n@Table\n@AllArgsConstructor\n@NoArgsConstructor(access = AccessLevel.PRIVATE, force = true)\npublic class Ingredient implements Persistable&lt;String&gt; {\n\n    @Id\n    private final String id;\n    private final String name;\n    private final Type type;\n\n    public enum Type {\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\n    }\n\n//    @ConstructorProperties({&quot;id&quot;, &quot;name&quot;, &quot;type&quot;})\n//    public Ingredient(String id, String name, Type type) {\n//        this.id = id;\n//        this.name = name;\n//        this.type = type;\n//    }\n\n\n    @Override\n    public boolean isNew() {\n        // You can implement your logic here to determine if the ingredient is new or not.\n        // For example, you can check if the 'id' property is null.\n        return id == null;\n    }\n\n\n}\n</code></pre>\n<h2>This is my Data_Loader_config class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package tacos;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.boot.ApplicationRunner;\nimport tacos.data.IngredientRepository;\n\n\npublic class DataLoaderConfig {\n    @Bean\n    public ApplicationRunner dataLoader(IngredientRepository repo) {\n        return args -&gt; {\n            repo.save(new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Ingredient.Type.WRAP));\n            repo.save(new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Ingredient.Type.WRAP));\n            repo.save(new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Ingredient.Type.PROTEIN));\n            repo.save(new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Ingredient.Type.PROTEIN));\n            repo.save(new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Ingredient.Type.VEGGIES));\n            repo.save(new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Ingredient.Type.VEGGIES));\n            repo.save(new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Ingredient.Type.CHEESE));\n            repo.save(new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Ingredient.Type.CHEESE));\n            repo.save(new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Ingredient.Type.SAUCE));\n            repo.save(new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Ingredient.Type.SAUCE));\n        };\n    }\n}\n\n</code></pre>\n<h2>This is the ingredient repository which extends Repsitory/CrudRepsitory Interface:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package tacos.data;\n\nimport org.springframework.data.repository.CrudRepository;\nimport tacos.Ingredient;\n\npublic interface IngredientRepository extends CrudRepository&lt;Ingredient, String&gt; {\n   \n}\n\n</code></pre>\n<h2>Finally this is the stac trace:</h2>\n<pre><code>2023-08-27T13:33:12.697+05:30 ERROR 13080 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.servi\nce() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.Illeg\nalStateException: Cannot set property id because no setter, no wither and it's not part of the persistence constructor p\nrivate tacos.Ingredient()] with root cause\n\njava.lang.IllegalStateException: Cannot set property id because no setter, no wither and it's not part of the persistenc\ne constructor private tacos.Ingredient()\n        at org.springframework.data.mapping.model.InstantiationAwarePropertyAccessor.setProperty(InstantiationAwarePrope\nrtyAccessor.java:94) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.model.SimplePersistentPropertyPathAccessor.setProperty(SimplePersistentPrope\nrtyPathAccessor.java:108) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.model.ConvertingPropertyAccessor.setProperty(ConvertingPropertyAccessor.java\n:60) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.lambda$populateProperties$0(Basi\ncJdbcConverter.java:433) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.model.BasicPersistentEntity.doWithProperties(BasicPersistentEntity.java:298)\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.PersistentEntity.doWithAll(PersistentEntity.java:297) ~[spring-data-commons-\n3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.populateProperties(BasicJdbcConv\nerter.java:418) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.createInstanceInternal(BasicJdbc\nConverter.java:562) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.mapRow(BasicJdbcConverter.java:4\n10) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter.mapRow(BasicJdbcConverter.java:305) ~[spring-da\nta-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.EntityRowMapper.mapRow(EntityRowMapper.java:79) ~[spring-data-jdbc\n-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:729) ~[spring-jdbc-6.1.0\n-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:654) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4\n]\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:719) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:800) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:218\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:230\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.data.jdbc.core.convert.DefaultDataAccessStrategy.findAll(DefaultDataAccessStrategy.java:2\n74) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.JdbcAggregateTemplate.findAll(JdbcAggregateTemplate.java:341) ~[spring-dat\na-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.findAll(SimpleJdbcRepository.java:89) ~\n[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\n:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lamb\nda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.jav\na:136) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:\n120) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryC\nomposition.java:516) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterc\neptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodI\nnterceptor.java:168) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInt\nerceptor.java:143) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterce\nptor.java:123) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspec\ntSupport.java:392) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[\nspring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTransla\ntionInterceptor.java:137) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~\n[spring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.1.0-M\n4.jar:6.1.0-M4]\n        at jdk.proxy4/jdk.proxy4.$Proxy93.findAll(Unknown Source) ~[na:na]\n        at tacos.web.DesignTacoController.addIngredientsToModel(DesignTacoController.java:42) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\n:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spr\ning-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:18\n1) ~[spring-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.method.annotation.ModelFactory.invokeModelAttributeMethods(ModelFactory.java:143) ~[s\npring-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.method.annotation.ModelFactory.initModel(ModelFactory.java:112) ~[spring-web-6.1.0-M4\n.jar:6.1.0-M4]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(Reques\ntMappingHandlerAdapter.java:895) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMapp\ningHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.j\nava:87) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1\n.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0\n-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6\n.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M4.ja\nr:6.1.0-M4]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.12.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-M4.\njar:6.1.0-M4]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.12.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.12.jar:1\n0.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-\nweb-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\n0-M4.jar:6.1.0-M4]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1\n.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\n0-M4.jar:6.1.0-M4]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[s\npring-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\n0-M4.jar:6.1.0-M4]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.\n12.jar:10.1.12]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.1\n2.jar:10.1.12]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10\n.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.12.jar\n:10.1.12]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:\n10.1.12]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.\njar:10.1.12]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:1\n0.1.12]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10\n.1.12]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.\njar:10.1.12]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-1\n0.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.\n12.jar:10.1.12]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.j\nar:10.1.12]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1\n2.jar:10.1.12]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693133308,"creation_date":1693133308,"answer_id":76986728,"question_id":76986496,"body_markdown":"Looks like your containers are running in different networks inside docker.\r\n\r\nTry checking each container - to which network it is connected: [Docker : How to find the network my container is in?][1]\r\n\r\nAlso try specifying in docker-compose the exact network you want to be used for both containers:\r\n\r\n    postgres:\r\n            networks:\r\n          - my-network\r\n    app:\r\n            networks:\r\n          - my-network\r\n    networks:\r\n      my-network:\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43904562/docker-how-to-find-the-network-my-container-is-in\r\n","title":"When I run docker compose up my application cannot find the host","body":"<p>Looks like your containers are running in different networks inside docker.</p>\n<p>Try checking each container - to which network it is connected: <a href=\"https://stackoverflow.com/questions/43904562/docker-how-to-find-the-network-my-container-is-in\">Docker : How to find the network my container is in?</a></p>\n<p>Also try specifying in docker-compose the exact network you want to be used for both containers:</p>\n<pre><code>postgres:\n        networks:\n      - my-network\napp:\n        networks:\n      - my-network\nnetworks:\n  my-network:\n</code></pre>\n"}],"owner":{"account_id":28283190,"reputation":78,"user_id":21624524,"display_name":"renatompf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693133308,"creation_date":1693129329,"question_id":76986496,"body_markdown":"During the weekend I&#39;ve been programming some small project to get me entertained and I have encountered a bug I cannot fix.\r\n\r\nThis is a small java app.\r\n\r\nThis is my docker compose:\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  postgres:\r\n    image: postgres:14\r\n    container_name: postgres\r\n    environment:\r\n      POSTGRES_DB: database\r\n      POSTGRES_USER: root\r\n      POSTGRES_PASSWORD: root\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n\r\n  app:\r\n    container_name: app\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - postgres\r\n```\r\n\r\nAnd this is my application.properties file:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgres:5432/database\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\nAnd once I ran the `docker-compose up` command it says that cannot connect to the database because does not recognize the Host. I even try to run first the database in separate but the same error appears.\r\n\r\nI will post the logs below:\r\n\r\n```\r\n2.00 Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.\r\nclass]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n32.00   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n32.00   at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)\r\n32.00   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n32.00   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n32.00   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n32.00   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n32.00   at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n32.00   at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\r\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\r\n32.00   ... 73 more\r\n32.00 Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\r\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n32.00   ... 94 more\r\n32.00 Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\r\n32.00   at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98)\r\n32.00   at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\r\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)\r\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)\r\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:110)\r\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:77)\r\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:235)\r\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:219)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:455)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)\r\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\r\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\r\n32.00   at java.base/java.util.HashMap.forEach(HashMap.java:1425)\r\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\r\n32.00   at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)\r\n32.00   at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\r\n32.00   at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:292)\r\n32.00   at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n32.00   at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n32.00   at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)\r\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n32.00   ... 98 more\r\n32.00 Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\r\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\r\n32.00   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n32.00   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n32.00   at org.postgresql.Driver.makeConnection(Driver.java:443)\r\n32.00   at org.postgresql.Driver.connect(Driver.java:297)\r\n32.00   at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n32.00   at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\n32.00   at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\n32.00   at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\n32.00   at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n32.00   at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\r\n32.00   at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n32.00   at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n32.00   at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)\r\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)\r\n32.00   ... 121 more\r\n32.00 Caused by: java.net.UnknownHostException: postgres\r\n32.00   at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n32.00   at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:331)\r\n32.00   at java.base/java.net.Socket.connect(Socket.java:630)\r\n32.00   at org.postgresql.core.PGStream.createSocket(PGStream.java:243)\r\n32.00   at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\r\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n32.00   ... 135 more\r\n```\r\n\r\nAnother thing, is that I don&#39;t have this error once I change the host to `localhost` and I run the database using the command `docker compose up database` and run the program on IntelliJ just by pressing run.\r\n\r\n","title":"When I run docker compose up my application cannot find the host","body":"<p>During the weekend I've been programming some small project to get me entertained and I have encountered a bug I cannot fix.</p>\n<p>This is a small java app.</p>\n<p>This is my docker compose:</p>\n<pre><code>version: '3.8'\nservices:\n  postgres:\n    image: postgres:14\n    container_name: postgres\n    environment:\n      POSTGRES_DB: database\n      POSTGRES_USER: root\n      POSTGRES_PASSWORD: root\n    ports:\n      - &quot;5432:5432&quot;\n\n  app:\n    container_name: app\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - postgres\n</code></pre>\n<p>And this is my application.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgres:5432/database\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>And once I ran the <code>docker-compose up</code> command it says that cannot connect to the database because does not recognize the Host. I even try to run first the database in separate but the same error appears.</p>\n<p>I will post the logs below:</p>\n<pre><code>2.00 Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.\nclass]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n32.00   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n32.00   at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)\n32.00   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n32.00   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n32.00   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n32.00   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n32.00   at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n32.00   at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\n32.00   ... 73 more\n32.00 Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n32.00   ... 94 more\n32.00 Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\n32.00   at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98)\n32.00   at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:110)\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:77)\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:235)\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:219)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:455)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\n32.00   at java.base/java.util.HashMap.forEach(HashMap.java:1425)\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\n32.00   at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)\n32.00   at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\n32.00   at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:292)\n32.00   at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n32.00   at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n32.00   at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n32.00   ... 98 more\n32.00 Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\n32.00   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n32.00   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n32.00   at org.postgresql.Driver.makeConnection(Driver.java:443)\n32.00   at org.postgresql.Driver.connect(Driver.java:297)\n32.00   at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n32.00   at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\n32.00   at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n32.00   at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\n32.00   at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n32.00   at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\n32.00   at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n32.00   at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n32.00   at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)\n32.00   ... 121 more\n32.00 Caused by: java.net.UnknownHostException: postgres\n32.00   at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n32.00   at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:331)\n32.00   at java.base/java.net.Socket.connect(Socket.java:630)\n32.00   at org.postgresql.core.PGStream.createSocket(PGStream.java:243)\n32.00   at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n32.00   ... 135 more\n</code></pre>\n<p>Another thing, is that I don't have this error once I change the host to <code>localhost</code> and I run the database using the command <code>docker compose up database</code> and run the program on IntelliJ just by pressing run.</p>\n"},{"tags":["java","spring","maven","junit"],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675175050,"creation_date":1675175050,"answer_id":75298598,"question_id":75298144,"body_markdown":"If you don&#39;t want to use the `static` method for BeforeAll, you need to use the annotation `TestInstance(Lifecycle.PER_CLASS)`\r\n\r\nBy default the Junit uses `PER_METHOD` lifecycle, thus the BeforeAll requires it to be static to ensure it is not instantiated with every method. \r\n\r\nThe `TestInstance(Lifecycle.PER_CLASS)` annotation ensures that the lifecycle of the test is per class thus removing the requirement of static BeforeAll.\r\n\r\n\r\n\r\n","title":"InvalidTestClassError: Invalid test class. How to test spring boot with maven and @BeforeAll/Class initializator","body":"<p>If you don't want to use the <code>static</code> method for BeforeAll, you need to use the annotation <code>TestInstance(Lifecycle.PER_CLASS)</code></p>\n<p>By default the Junit uses <code>PER_METHOD</code> lifecycle, thus the BeforeAll requires it to be static to ensure it is not instantiated with every method.</p>\n<p>The <code>TestInstance(Lifecycle.PER_CLASS)</code> annotation ensures that the lifecycle of the test is per class thus removing the requirement of static BeforeAll.</p>\n"},{"tags":[],"owner":{"account_id":1335838,"reputation":1101,"user_id":1278621,"accept_rate":50,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693132630,"creation_date":1693132630,"answer_id":76986687,"question_id":75298144,"body_markdown":"I experienced the same issue and I managed to resolve it using the below 2 SpringBoot 3 annotations following:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class MyControllerTest {","title":"InvalidTestClassError: Invalid test class. How to test spring boot with maven and @BeforeAll/Class initializator","body":"<p>I experienced the same issue and I managed to resolve it using the below 2 SpringBoot 3 annotations following:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class MyControllerTest {\n</code></pre>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693132630,"creation_date":1675172936,"question_id":75298144,"body_markdown":"I have the gradle project where I successfully use tests and try to implement the same solution with maven, but I totally can&#39;t execute tests there.\r\n\r\nMain problem in that I need to use `@BeforeAll/Class` annotation and init NOT static method.\r\nIn the Gradle this works so:\r\n\r\n- build.gradle\r\n```\r\ndependencies {\r\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${spring_boot_version}&quot;\r\n    implementation &#39;junit:junit:4.13.1&#39;\r\n    ....\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\ntest classes:\r\n```\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringBootTest(classes = {DeardiaryApplication.class})\r\n@WebAppConfiguration\r\npublic abstract class AbstractTest {\r\n    protected MockMvc mvc;\r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n    @Autowired\r\n    WebApplicationContext webApplicationContext;\r\n\r\n    protected void setUp() {\r\n        mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    }\r\n...\r\n}\r\n\r\nimport org.junit.jupiter.api.*;\r\n\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class DatabaseTest extends AbstractTest {\r\n\r\n    @Autowired\r\n    private ExerciseInterface exerciseService;\r\n\r\n    @BeforeAll\r\n    public void init() {\r\n        setUp();\r\n        exerciseDto = exerciseService.getByExerciseType(ExerciseTypeEnum.SNATCH).get(0);\r\n    }\r\n\r\n    @Test\r\n....\r\n\r\n```\r\n\r\nBut in the maven project I received `InvalidTestClassError: Invalid test class`.\r\nWhen I use junit.Test instead junit.jupiter.api.Test, the `@BeforeAll/Class` method nod called, or I received error `BeforeAll must be static`, etc...\r\n\r\n- pom.xml:\r\n```\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.9.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.9.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;5.9.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nThis is all difference - classes implemented in the same way","title":"InvalidTestClassError: Invalid test class. How to test spring boot with maven and @BeforeAll/Class initializator","body":"<p>I have the gradle project where I successfully use tests and try to implement the same solution with maven, but I totally can't execute tests there.</p>\n<p>Main problem in that I need to use <code>@BeforeAll/Class</code> annotation and init NOT static method.\nIn the Gradle this works so:</p>\n<ul>\n<li>build.gradle</li>\n</ul>\n<pre><code>dependencies {\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${spring_boot_version}&quot;\n    implementation 'junit:junit:4.13.1'\n    ....\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>test classes:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes = {DeardiaryApplication.class})\n@WebAppConfiguration\npublic abstract class AbstractTest {\n    protected MockMvc mvc;\n    private ObjectMapper objectMapper = new ObjectMapper();\n    @Autowired\n    WebApplicationContext webApplicationContext;\n\n    protected void setUp() {\n        mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n    }\n...\n}\n\nimport org.junit.jupiter.api.*;\n\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class DatabaseTest extends AbstractTest {\n\n    @Autowired\n    private ExerciseInterface exerciseService;\n\n    @BeforeAll\n    public void init() {\n        setUp();\n        exerciseDto = exerciseService.getByExerciseType(ExerciseTypeEnum.SNATCH).get(0);\n    }\n\n    @Test\n....\n\n</code></pre>\n<p>But in the maven project I received <code>InvalidTestClassError: Invalid test class</code>.\nWhen I use junit.Test instead junit.jupiter.api.Test, the <code>@BeforeAll/Class</code> method nod called, or I received error <code>BeforeAll must be static</code>, etc...</p>\n<ul>\n<li>pom.xml:</li>\n</ul>\n<pre><code>    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M8&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                        &lt;version&gt;5.9.2&lt;/version&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>This is all difference - classes implemented in the same way</p>\n"},{"tags":["java","dataprovider"],"owner":{"account_id":9172580,"reputation":396,"user_id":7047364,"accept_rate":0,"display_name":"Anjani Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693132585,"creation_date":1693132585,"question_id":76986685,"body_markdown":"               \r\n    public class YourTestClass {\r\n    WebDriver driver; // You need to initialize your WebDriver\r\n\r\n    @Test(dataProvider = &quot;data-provider&quot;,enabled=true,dataProviderClass = DP.class)\r\n    public void verifyUser_registration_login_logout_test(Method method,String UserName, String Password){\r\n        Assertion assertion = new Assertion();\r\n        try{\r\n        HomePage homePage = new HomePage(driver);\r\n        homePage.navigateToHomePage();\r\n        RegisterPage registerPage = new RegisterPage(driver);\r\n        registerPage.navigateToRegisterPage();\r\n        registerPage.verifyRegisterPage();\r\n        registerPage.performRegister(UserName,Password);\r\n        LoginPage loginPage = new LoginPage(driver);\r\n        loginPage.performLogin(UserName,Password);\r\n        homePage.verifyUserLoggedIn(UserName);\r\n        homePage.clickOnLogoutButton();\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n        driver.navigate().refresh();\r\n        wait.until(ExpectedConditions.urlToBe(&quot;SOMEURL&quot;));\r\n        homePage.verifyUserLoggedOut();\r\n    }catch(Exception e){\r\n        logStatus(&quot;Page test&quot;, &quot;navigation to registration page&quot;, &quot;failed&quot;);\r\n\t\t\te.printStackTrace();\r\n       }\r\n    }\t\r\n\r\npublic class DP {\r\n    static String excelPath = &quot;app/src/test/resources/DatasetsSOMEURL.xlsx&quot;;\r\n\r\n    public DP(String excelPath) {\r\n        DP.excelPath = excelPath;\r\n    }\r\n\r\n    @DataProvider(name = &quot;data-provider&quot;)\r\n    public static Object[][] dataProviderMethod(Method method) throws IOException {\r\n        int rowIndex = 0;\r\n        int cellIndex = 0;\r\n        List&lt;List&gt; outputList = new ArrayList&lt;List&gt;();\r\n        FileInputStream excelFile = new FileInputStream(new File(excelPath));\r\n\r\n        try (Workbook workbook = new XSSFWorkbook(excelFile)) {\r\n            Sheet selectedSheet = workbook.getSheet(method.getName());\r\n            Iterator&lt;Row&gt; iterator = selectedSheet.iterator();\r\n\r\n            while (iterator.hasNext()) {\r\n                Row nextRow = iterator.next();\r\n                Iterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\r\n                List&lt;String&gt; innerList = new ArrayList&lt;String&gt;();\r\n\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n\r\n                    if (rowIndex &gt; 0 &amp;&amp; cellIndex &gt; 0) {\r\n                        String cellValue = &quot;&quot;;\r\n\r\n                        switch (cell.getCellType()) {\r\n                            case STRING:\r\n                                cellValue = cell.getStringCellValue();\r\n                                break;\r\n                            case NUMERIC:\r\n                                cellValue = String.valueOf(cell.getNumericCellValue());\r\n                                break;\r\n                            default:\r\n                                throw new UnsupportedOperationException(&quot;Unsupported Cell Type: &quot; + cell.getCellType());\r\n                        }\r\n\r\n                        innerList.add(cellValue);\r\n                    }\r\n\r\n                    cellIndex++;\r\n                }\r\n\r\n                if (!innerList.isEmpty()) {\r\n                    outputList.add(innerList);\r\n                }\r\n\r\n                rowIndex++;\r\n            }\r\n        }\r\n\r\n        Object[][] data = new Object[outputList.size()][];\r\n        for (int i = 0; i &lt; outputList.size(); i++) {\r\n            data[i] = outputList.get(i).toArray(new String[0]);\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nwhen I run this , my test is getting skipped, with below\r\nError:\r\nDP.java uses unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n&gt; Task :app:test\r\nGradle Test Executor 1 STANDARD_ERROR\r\n    log4j:WARN No appenders could be found for logger (org.testng.internal.Graph).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n.tests.testCase_01 &gt; verifyUser_registration_login_logout_test SKIPPED\r\nTEST SUMMARY: RAN 1 TESTS, 0 SUCCEEDED, 0 FAILED, 1 SKIPPED\r\n","title":"Dataprovider test is getting skipped, with below Error: DP.java uses unchecked or unsafe operations","body":"<pre><code>public class YourTestClass {\nWebDriver driver; // You need to initialize your WebDriver\n\n@Test(dataProvider = &quot;data-provider&quot;,enabled=true,dataProviderClass = DP.class)\npublic void verifyUser_registration_login_logout_test(Method method,String UserName, String Password){\n    Assertion assertion = new Assertion();\n    try{\n    HomePage homePage = new HomePage(driver);\n    homePage.navigateToHomePage();\n    RegisterPage registerPage = new RegisterPage(driver);\n    registerPage.navigateToRegisterPage();\n    registerPage.verifyRegisterPage();\n    registerPage.performRegister(UserName,Password);\n    LoginPage loginPage = new LoginPage(driver);\n    loginPage.performLogin(UserName,Password);\n    homePage.verifyUserLoggedIn(UserName);\n    homePage.clickOnLogoutButton();\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n    driver.navigate().refresh();\n    wait.until(ExpectedConditions.urlToBe(&quot;SOMEURL&quot;));\n    homePage.verifyUserLoggedOut();\n}catch(Exception e){\n    logStatus(&quot;Page test&quot;, &quot;navigation to registration page&quot;, &quot;failed&quot;);\n        e.printStackTrace();\n   }\n}   \n</code></pre>\n<p>public class DP {\nstatic String excelPath = &quot;app/src/test/resources/DatasetsSOMEURL.xlsx&quot;;</p>\n<pre><code>public DP(String excelPath) {\n    DP.excelPath = excelPath;\n}\n\n@DataProvider(name = &quot;data-provider&quot;)\npublic static Object[][] dataProviderMethod(Method method) throws IOException {\n    int rowIndex = 0;\n    int cellIndex = 0;\n    List&lt;List&gt; outputList = new ArrayList&lt;List&gt;();\n    FileInputStream excelFile = new FileInputStream(new File(excelPath));\n\n    try (Workbook workbook = new XSSFWorkbook(excelFile)) {\n        Sheet selectedSheet = workbook.getSheet(method.getName());\n        Iterator&lt;Row&gt; iterator = selectedSheet.iterator();\n\n        while (iterator.hasNext()) {\n            Row nextRow = iterator.next();\n            Iterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\n            List&lt;String&gt; innerList = new ArrayList&lt;String&gt;();\n\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n\n                if (rowIndex &gt; 0 &amp;&amp; cellIndex &gt; 0) {\n                    String cellValue = &quot;&quot;;\n\n                    switch (cell.getCellType()) {\n                        case STRING:\n                            cellValue = cell.getStringCellValue();\n                            break;\n                        case NUMERIC:\n                            cellValue = String.valueOf(cell.getNumericCellValue());\n                            break;\n                        default:\n                            throw new UnsupportedOperationException(&quot;Unsupported Cell Type: &quot; + cell.getCellType());\n                    }\n\n                    innerList.add(cellValue);\n                }\n\n                cellIndex++;\n            }\n\n            if (!innerList.isEmpty()) {\n                outputList.add(innerList);\n            }\n\n            rowIndex++;\n        }\n    }\n\n    Object[][] data = new Object[outputList.size()][];\n    for (int i = 0; i &lt; outputList.size(); i++) {\n        data[i] = outputList.get(i).toArray(new String[0]);\n    }\n\n    return data;\n}\n</code></pre>\n<p>}</p>\n<p>when I run this , my test is getting skipped, with below\nError:\nDP.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.</p>\n<blockquote>\n<p>Task :app:test\nGradle Test Executor 1 STANDARD_ERROR\nlog4j:WARN No appenders could be found for logger (org.testng.internal.Graph).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See <a href=\"http://logging.apache.org/log4j/1.2/faq.html#noconfig\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/faq.html#noconfig</a> for more info.\n.tests.testCase_01 &gt; verifyUser_registration_login_logout_test SKIPPED\nTEST SUMMARY: RAN 1 TESTS, 0 SUCCEEDED, 0 FAILED, 1 SKIPPED</p>\n</blockquote>\n"},{"tags":["java","eclipse","rest","maven","m2eclipse"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1436448525,"post_id":31316339,"comment_id":50624928,"body_markdown":"Looks like proxy/firewall issue?","body":"Looks like proxy/firewall issue?"}],"answers":[{"tags":[],"owner":{"account_id":6569111,"reputation":1066,"user_id":5077771,"display_name":"Pim Verkerk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436442284,"creation_date":1436442284,"answer_id":31316477,"question_id":31316339,"body_markdown":"If a download fails for some reason Maven will not try to download it within a certain time frame (it leaves a file with a timestamp).\r\n\r\nTo fix this you can either\r\n\r\n - Clear (parts of) your .m2 repo\r\n - Run maven with -U to force an update","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>If a download fails for some reason Maven will not try to download it within a certain time frame (it leaves a file with a timestamp).</p>\n\n<p>To fix this you can either</p>\n\n<ul>\n<li>Clear (parts of) your .m2 repo</li>\n<li>Run maven with -U to force an update</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6407271,"reputation":1338,"user_id":4968030,"accept_rate":100,"display_name":"Kalyan Chavali"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1436443107,"creation_date":1436442792,"answer_id":31316682,"question_id":31316339,"body_markdown":"Seems your `settings.xml` file is missing your .m2 (local maven repo) folder. \r\n\r\nWhen using eclipse navigate to Window -&gt; Preferences -&gt; Maven -&gt; User Settings -&gt; Browse to your `settings.xml` and click apply.\r\n\r\nThen do maven Update Project.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cGL2D.png","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Seems your <code>settings.xml</code> file is missing your .m2 (local maven repo) folder. </p>\n\n<p>When using eclipse navigate to Window -> Preferences -> Maven -> User Settings -> Browse to your <code>settings.xml</code> and click apply.</p>\n\n<p>Then do maven Update Project.</p>\n\n<p><img src=\"https://i.stack.imgur.com/cGL2D.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1439386,"reputation":81,"user_id":1359981,"display_name":"Douglas Tondo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469575591,"creation_date":1469575591,"answer_id":38601436,"question_id":31316339,"body_markdown":"On windows: \r\n\r\n1. Remove folder from C:\\Users\\USER\\.m2\r\n2. Close and open the project or force a change on file: pom.xml for saving :) ","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>On windows: </p>\n\n<ol>\n<li>Remove folder from C:\\Users\\USER.m2</li>\n<li>Close and open the project or force a change on file: pom.xml for saving :) </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6462334,"reputation":997,"user_id":5005676,"display_name":"Shubham Verma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474443303,"creation_date":1474443303,"answer_id":39610211,"question_id":31316339,"body_markdown":"Step 1 : Check the proxy configured in eclipse is correct or not ?\r\n(Window-&gt;Preferences-&gt;General-&gt;Network Connections).\r\n\r\nStep 2 : Right Click on Project-&gt; Go to Maven -&gt; Update the project\r\n\r\nStep 3: Run as Maven Install.\r\n\r\n==== By Following these steps, i am able to solve this error.\r\n","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Step 1 : Check the proxy configured in eclipse is correct or not ?\n(Window->Preferences->General->Network Connections).</p>\n\n<p>Step 2 : Right Click on Project-> Go to Maven -> Update the project</p>\n\n<p>Step 3: Run as Maven Install.</p>\n\n<p>==== By Following these steps, i am able to solve this error.</p>\n"},{"tags":[],"owner":{"account_id":7939055,"reputation":955,"user_id":5993854,"display_name":"Pardeep"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1488021691,"creation_date":1488021691,"answer_id":42455386,"question_id":31316339,"body_markdown":"I have faced the same issue. Try declaring missing plugin in the conf/settings.xml.\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/plugin&gt;           \r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;   \r\n    &lt;/build&gt;\r\n","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I have faced the same issue. Try declaring missing plugin in the conf/settings.xml.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/plugin&gt;           \n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;   \n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7415507,"reputation":386,"user_id":5641492,"accept_rate":20,"display_name":"halim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497429148,"creation_date":1497429148,"answer_id":44539496,"question_id":31316339,"body_markdown":"I had exactly the same error. My network is an internal one of a company. I downloaded neon-eclipse for java developpers. These steps worked for me:\r\n\r\n1- I downloaded a VPN client on my PC to be totally blinded from the network. [Shellfire][1] I used. Use free account and connect to Shellserver.\r\n\r\n2- Inside the windows firewall, I added incoming rule for Eclipse. Navigate to where eclipse exe is found. \r\n\r\n3- Perform Maven Update project.\r\n\r\nThen the project was able to fetch from the maven repository.\r\n\r\nhope it helps.\r\n\r\n\r\n  [1]: https://www.shellfire.net/","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I had exactly the same error. My network is an internal one of a company. I downloaded neon-eclipse for java developpers. These steps worked for me:</p>\n\n<p>1- I downloaded a VPN client on my PC to be totally blinded from the network. <a href=\"https://www.shellfire.net/\" rel=\"nofollow noreferrer\">Shellfire</a> I used. Use free account and connect to Shellserver.</p>\n\n<p>2- Inside the windows firewall, I added incoming rule for Eclipse. Navigate to where eclipse exe is found. </p>\n\n<p>3- Perform Maven Update project.</p>\n\n<p>Then the project was able to fetch from the maven repository.</p>\n\n<p>hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":9746422,"reputation":439,"user_id":7226259,"display_name":"Vinayak"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1502117142,"creation_date":1502117142,"answer_id":45549736,"question_id":31316339,"body_markdown":"Right Click on Project go to -&gt; Maven -&gt; Update project -&gt;select Force update project check box and click on Finish.","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Right Click on Project go to -> Maven -> Update project ->select Force update project check box and click on Finish.</p>\n"},{"tags":[],"owner":{"account_id":9964485,"reputation":3,"user_id":7372583,"display_name":"Aru Arshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522779486,"creation_date":1522779486,"answer_id":49636719,"question_id":31316339,"body_markdown":"Tried everything. I deleted m2e and installed m2e version 2.7.0. Then deleted the .m2 directory and force updated maven. It worked! ","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Tried everything. I deleted m2e and installed m2e version 2.7.0. Then deleted the .m2 directory and force updated maven. It worked! </p>\n"},{"tags":[],"owner":{"account_id":13725876,"reputation":11,"user_id":9904638,"display_name":"bartleonid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528309252,"creation_date":1528304615,"answer_id":50725835,"question_id":31316339,"body_markdown":"This fixed the same issue for me:\r\nMy eclipse is installed in `/usr/local/bin/eclipse`\r\n\r\n1) Changed permission for eclipse from root to owner: `sudo chown -R $USER eclipse`\r\n\r\n2) Right click on `project/Maven` right click on `Update Maven` select `Force update maven project`","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>This fixed the same issue for me:\nMy eclipse is installed in <code>/usr/local/bin/eclipse</code></p>\n\n<p>1) Changed permission for eclipse from root to owner: <code>sudo chown -R $USER eclipse</code></p>\n\n<p>2) Right click on <code>project/Maven</code> right click on <code>Update Maven</code> select <code>Force update maven project</code></p>\n"},{"tags":[],"owner":{"account_id":14845736,"reputation":11,"user_id":10721091,"display_name":"Vijay Pratap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543921648,"creation_date":1543921648,"answer_id":53611578,"question_id":31316339,"body_markdown":"I had exactly the same error. My network is an internal one of a company. The proxy has been disabled from the IT team so for that we do not have to enable any proxy settings. I have commented the proxy setting in settings.xml file from the below mentioned locations C:\\Users\\vijay.singh\\.m2\\settings.xml\r\n  &lt;!-- proxy\r\n       |--&gt;\r\nThis fixed the same issue for me","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I had exactly the same error. My network is an internal one of a company. The proxy has been disabled from the IT team so for that we do not have to enable any proxy settings. I have commented the proxy setting in settings.xml file from the below mentioned locations C:\\Users\\vijay.singh.m2\\settings.xml\n  \nThis fixed the same issue for me</p>\n"},{"tags":[],"owner":{"account_id":7573254,"reputation":101,"user_id":5746357,"display_name":"SKSajjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579758211,"creation_date":1579758211,"answer_id":59872184,"question_id":31316339,"body_markdown":"    This issue is happening due to change of protocol from http to https for central repository. please refer following link for more details. https://support.sonatype.com/hc/en-us/articles/360041287334-Central-501-HTTPS-Required \r\n    \r\n    In order to fix the problem, copy following into your pom.ml file. This will set the repository url to use https.\r\n    \r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;","title":"How to solve maven 2.6 resource plugin dependency?","body":"<pre><code>This issue is happening due to change of protocol from http to https for central repository. please refer following link for more details. https://support.sonatype.com/hc/en-us/articles/360041287334-Central-501-HTTPS-Required \n\nIn order to fix the problem, copy following into your pom.ml file. This will set the repository url to use https.\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;releases&gt;\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144680,"reputation":1,"user_id":4120998,"display_name":"Chetan Malondkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642762950,"creation_date":1642762950,"answer_id":70800239,"question_id":31316339,"body_markdown":"Right click on your project under Package Explorer &gt; Maven &gt; Update Project &gt; Select the checkbox that reads &quot;Force updates of Snapshot/Releases&quot; &gt; Click on OK\r\n\r\nThis way you don&#39;t have to search around for your maven&#39;s settings.xml and if the cause is something else eclipse will automatically handle it whatever it may be. [Expected path for user settings XML is shown by eclipse under: Window &gt; Preferences &gt; Maven &gt; User Settings &gt; User Settings][1] (it is most likely, greyed out).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vfBh3.png","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Right click on your project under Package Explorer &gt; Maven &gt; Update Project &gt; Select the checkbox that reads &quot;Force updates of Snapshot/Releases&quot; &gt; Click on OK</p>\n<p>This way you don't have to search around for your maven's settings.xml and if the cause is something else eclipse will automatically handle it whatever it may be. <a href=\"https://i.stack.imgur.com/vfBh3.png\" rel=\"nofollow noreferrer\">Expected path for user settings XML is shown by eclipse under: Window &gt; Preferences &gt; Maven &gt; User Settings &gt; User Settings</a> (it is most likely, greyed out).</p>\n"},{"tags":[],"owner":{"account_id":24659661,"reputation":1,"user_id":18556009,"display_name":"Susana Marques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648036093,"creation_date":1648036093,"answer_id":71586694,"question_id":31316339,"body_markdown":"What worked for me was:\r\n\r\nmvn -Dhttps.protocols=TLSv1.2 install","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>What worked for me was:</p>\n<p>mvn -Dhttps.protocols=TLSv1.2 install</p>\n"},{"tags":[],"owner":{"account_id":11791193,"reputation":1,"user_id":8627266,"display_name":"benson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652780249,"creation_date":1652780249,"answer_id":72271589,"question_id":31316339,"body_markdown":"I faced the same issue and resolved by deleting the project that i created and then deleted the M2 folder in the local.","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I faced the same issue and resolved by deleting the project that i created and then deleted the M2 folder in the local.</p>\n"},{"tags":[],"owner":{"account_id":26611555,"reputation":1,"user_id":20231678,"display_name":"Prashant G"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665666021,"creation_date":1665666021,"answer_id":74056212,"question_id":31316339,"body_markdown":"If you&#39;re connected to VPN, disconnect and then try. ","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>If you're connected to VPN, disconnect and then try.</p>\n"},{"tags":[],"owner":{"account_id":26184241,"reputation":1,"user_id":19867047,"display_name":"RahulG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680575107,"creation_date":1680574966,"answer_id":75925053,"question_id":31316339,"body_markdown":"I got similar issue and resolved by updating below\r\n\r\n 1. Java version\r\n 2. download and set up latest maven version\r\n 3. double check the mvn and java class path in environments variable \r\n 4. Run the mvn commands as Admin on console. \r\n 5. take backup of existing m2 repository and created new .m folder\r\n\r\nHope it helps","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I got similar issue and resolved by updating below</p>\n<ol>\n<li>Java version</li>\n<li>download and set up latest maven version</li>\n<li>double check the mvn and java class path in environments variable</li>\n<li>Run the mvn commands as Admin on console.</li>\n<li>take backup of existing m2 repository and created new .m folder</li>\n</ol>\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":24601874,"reputation":1,"user_id":18504647,"display_name":"quazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693131509,"creation_date":1693131509,"answer_id":76986625,"question_id":31316339,"body_markdown":"If you are using jenkins and Sonatype Nexus repository :\r\n\r\n1. Update pom.xml :\r\n\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n----------\r\n2. Update the Maven version in  Jenkins --&gt; Manage Jenkins --&gt; Tools : Maven verion 3.2.5\r\n\r\n3. Login to Jenkins server and remove .m2 folder ( /jenkins/.m2/)\r\n\r\n----------\r\n4. Login to Sonatype and check whether Proxy URL is http or https.\r\nUse these URLs only for Maven Proxy : \r\nhttps://repo.maven.apache.org/maven2/\r\n-- OR--  \r\nhttps://repo1.maven.org/maven2/\r\n\r\n","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>If you are using jenkins and Sonatype Nexus repository :</p>\n<ol>\n<li><p>Update pom.xml :</p>\n<pre><code> &lt;build&gt;\n &lt;plugins&gt;\n     &lt;plugin&gt;\n         &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.3.1&lt;/version&gt;\n     &lt;/plugin&gt;\n &lt;/plugins&gt;\n</code></pre>\n \n</li>\n</ol>\n<hr />\n<ol start=\"2\">\n<li><p>Update the Maven version in  Jenkins --&gt; Manage Jenkins --&gt; Tools : Maven verion 3.2.5</p>\n</li>\n<li><p>Login to Jenkins server and remove .m2 folder ( /jenkins/.m2/)</p>\n</li>\n</ol>\n<hr />\n<ol start=\"4\">\n<li>Login to Sonatype and check whether Proxy URL is http or https.\nUse these URLs only for Maven Proxy :\n<a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/</a>\n-- OR--<br />\n<a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/</a></li>\n</ol>\n"}],"owner":{"account_id":1643981,"reputation":2192,"user_id":1515891,"accept_rate":100,"display_name":"spt025"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289652,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":31316682,"answer_count":17,"score":34,"last_activity_date":1693131509,"creation_date":1436441939,"question_id":31316339,"body_markdown":"ERROR:\r\n\r\n    Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\n    Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\n\r\n\r\nSolutions Tried:\r\n\r\nUpdated project: not able to download from REPO of maven.\r\n\r\nTried putting perticular jar in that folder of .m2 repo.\r\n\r\nCan provide references if you want.","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>ERROR:</p>\n\n<pre><code>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\nPlugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\n</code></pre>\n\n<p>Solutions Tried:</p>\n\n<p>Updated project: not able to download from REPO of maven.</p>\n\n<p>Tried putting perticular jar in that folder of .m2 repo.</p>\n\n<p>Can provide references if you want.</p>\n"},{"tags":["java","android","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1693058921,"post_id":76983124,"comment_id":135711382,"body_markdown":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the `edit` link under it. Also see https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this and https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the <code>edit</code> link under it. Also see <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"score":0,"creation_date":1693061092,"post_id":76983124,"comment_id":135711593,"body_markdown":"oke i&#39;ve done it &#128077;","body":"oke i&#39;ve done it 👍"},{"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"score":0,"creation_date":1693127731,"post_id":76983124,"comment_id":135716906,"body_markdown":"Okay i&#39;ve fixed it so that the image uploads to firebase but i still get this error any ideas?","body":"Okay i&#39;ve fixed it so that the image uploads to firebase but i still get this error any ideas?"},{"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"score":0,"creation_date":1693128954,"post_id":76983124,"comment_id":135717004,"body_markdown":"I&#39;ve located the problem. Everything works fine but if i upload more than 1 image the email gives the error","body":"I&#39;ve located the problem. Everything works fine but if i upload more than 1 image the email gives the error"}],"answers":[{"tags":[],"owner":{"account_id":22894290,"reputation":56,"user_id":17034019,"display_name":"vraj kalathiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693131112,"creation_date":1693131112,"answer_id":76986596,"question_id":76983124,"body_markdown":"Dear User First you check **Internet permission** in manifests \r\n\r\nTry this way to adding images to firebase storage\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    private void SelectImage() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;image/*&quot;);\r\n        startActivityForResult(intent, 100);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n            filePath = data.getData();\r\n            try {\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                ImageView postImage = findViewById(R.id.IvPostImage);\r\n                postImage.setImageBitmap(bitmap);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void uploadImage() {\r\n        if (filePath != null) {\r\n            String imageName = UUID.randomUUID().toString();\r\n            StorageReference imageRef = storageReference.child(&quot;images/&quot;).child(imageName);\r\n\r\n            // You can use getInstance() without specifying the database URL if it&#39;s already configured in your project.\r\n            FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n\r\n            DatabaseReference myRef = database.getReference();\r\n\r\n            EditText descriptionEditText = findViewById(R.id.EtDescription);\r\n            String description = descriptionEditText.getText().toString().trim();\r\n\r\n            if (!description.isEmpty()) {\r\n                String email = Profile.GetEmail.Email;\r\n                myRef.child(imageName).child(&quot;Description&quot;).setValue(description);\r\n                myRef.child(imageName).child(&quot;Email&quot;).setValue(email.replace(&quot;.&quot;, &quot;;&quot;));\r\n\r\n                // Upload the image\r\n                imageRef.putFile(filePath)\r\n                    .addOnSuccessListener(taskSnapshot -&gt; {\r\n                        Toast.makeText(getApplicationContext(), &quot;Image uploaded successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        // Proceed to the home screen or another appropriate action\r\n                        Intent goHome = new Intent(AddPosts.this, Home.class);\r\n                        startActivity(goHome);\r\n                    })\r\n                    .addOnFailureListener(e -&gt; {\r\n                        Toast.makeText(getApplicationContext(), &quot;Failed to upload image&quot;, Toast.LENGTH_SHORT).show();\r\n                    });\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Please fill in the description&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Problems with adding images to firebase storage","body":"<p>Dear User First you check <strong>Internet permission</strong> in manifests</p>\n<p>Try this way to adding images to firebase storage\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>private void SelectImage() {\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(\"image/*\");\n    startActivityForResult(intent, 100);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n        filePath = data.getData();\n        try {\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n            ImageView postImage = findViewById(R.id.IvPostImage);\n            postImage.setImageBitmap(bitmap);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nprivate void uploadImage() {\n    if (filePath != null) {\n        String imageName = UUID.randomUUID().toString();\n        StorageReference imageRef = storageReference.child(\"images/\").child(imageName);\n\n        // You can use getInstance() without specifying the database URL if it's already configured in your project.\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n\n        DatabaseReference myRef = database.getReference();\n\n        EditText descriptionEditText = findViewById(R.id.EtDescription);\n        String description = descriptionEditText.getText().toString().trim();\n\n        if (!description.isEmpty()) {\n            String email = Profile.GetEmail.Email;\n            myRef.child(imageName).child(\"Description\").setValue(description);\n            myRef.child(imageName).child(\"Email\").setValue(email.replace(\".\", \";\"));\n\n            // Upload the image\n            imageRef.putFile(filePath)\n                .addOnSuccessListener(taskSnapshot -&gt; {\n                    Toast.makeText(getApplicationContext(), \"Image uploaded successfully\", Toast.LENGTH_SHORT).show();\n                    // Proceed to the home screen or another appropriate action\n                    Intent goHome = new Intent(AddPosts.this, Home.class);\n                    startActivity(goHome);\n                })\n                .addOnFailureListener(e -&gt; {\n                    Toast.makeText(getApplicationContext(), \"Failed to upload image\", Toast.LENGTH_SHORT).show();\n                });\n        } else {\n            Toast.makeText(getApplicationContext(), \"Please fill in the description\", Toast.LENGTH_SHORT).show();\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693131112,"creation_date":1693055589,"question_id":76983124,"body_markdown":"So i have a problem with uploading images to the firebase storage through android studio java. I can upload 1 image but as soon as i want to upload a second image the app crashes and it didn&#39;t work.I&#39;ve looked into the code myself but i can&#39;t find the problem so i&#39;m hoping one of you can.\r\n\r\nSo beneath you will find the code where in the &quot;selectImage&quot; void i select an image from the gallery of the phone and with that piece of code is nothing wrong. But as soon as i press the upload image button it crahses so the problem finds itself in the &quot;uploadImage&quot; void i think.\r\n\r\nThis is the error that appears after is crashes:\r\n\r\n&gt;  java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n\r\nHere is the code:\r\n\r\n```\r\nprivate void SelectImage() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(intent, 100);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == 100 &amp;&amp; data != null &amp;&amp; data.getData() != null){\r\n            filePath = data.getData();\r\n            try{\r\n\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                ImageView postImage = findViewById(R.id.IvPostImage);\r\n                postImage.setImageBitmap(bitmap);\r\n            }\r\n            catch (IOException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void uploadImage() {\r\n        if(filePath != null){\r\n            String name = UUID.randomUUID().toString();\r\n\r\n            StorageReference ref = storageReference.child(&quot;images/&quot;).child(String.valueOf(name));\r\n\r\n            FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://elevate-92324-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\r\n            DatabaseReference myRef = database.getReference();\r\n\r\n            EditText Description = findViewById(R.id.EtDescription);\r\n            String description = Description.getText().toString();\r\n\r\n            ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Image uploaded with success&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Failed to upload image&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n            if(description != null){\r\n                String email = Profile.GetEmail.Email;\r\n                myRef.child(name).child(&quot;Description&quot;).setValue(description);\r\n                myRef.child(name).child(&quot;Email&quot;).setValue(email.replace(&quot;.&quot;, &quot;;&quot;));\r\n\r\n                Intent goHome = new Intent(AddPosts.this, Home.class);\r\n                startActivity(goHome);\r\n            }else{\r\n                Toast.makeText(getApplicationContext(), &quot;Fill in the description&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Problems with adding images to firebase storage","body":"<p>So i have a problem with uploading images to the firebase storage through android studio java. I can upload 1 image but as soon as i want to upload a second image the app crashes and it didn't work.I've looked into the code myself but i can't find the problem so i'm hoping one of you can.</p>\n<p>So beneath you will find the code where in the &quot;selectImage&quot; void i select an image from the gallery of the phone and with that piece of code is nothing wrong. But as soon as i press the upload image button it crahses so the problem finds itself in the &quot;uploadImage&quot; void i think.</p>\n<p>This is the error that appears after is crashes:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.</p>\n</blockquote>\n<p>Here is the code:</p>\n<pre><code>private void SelectImage() {\n        Intent intent = new Intent();\n        intent.setType(&quot;image/*&quot;);\n        intent.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(intent, 100);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if(requestCode == 100 &amp;&amp; data != null &amp;&amp; data.getData() != null){\n            filePath = data.getData();\n            try{\n\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n                ImageView postImage = findViewById(R.id.IvPostImage);\n                postImage.setImageBitmap(bitmap);\n            }\n            catch (IOException e){\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void uploadImage() {\n        if(filePath != null){\n            String name = UUID.randomUUID().toString();\n\n            StorageReference ref = storageReference.child(&quot;images/&quot;).child(String.valueOf(name));\n\n            FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://elevate-92324-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\n            DatabaseReference myRef = database.getReference();\n\n            EditText Description = findViewById(R.id.EtDescription);\n            String description = Description.getText().toString();\n\n            ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    Toast.makeText(getApplicationContext(), &quot;Image uploaded with success&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(getApplicationContext(), &quot;Failed to upload image&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            if(description != null){\n                String email = Profile.GetEmail.Email;\n                myRef.child(name).child(&quot;Description&quot;).setValue(description);\n                myRef.child(name).child(&quot;Email&quot;).setValue(email.replace(&quot;.&quot;, &quot;;&quot;));\n\n                Intent goHome = new Intent(AddPosts.this, Home.class);\n                startActivity(goHome);\n            }else{\n                Toast.makeText(getApplicationContext(), &quot;Fill in the description&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","date","datetime","date-difference","java.util.calendar"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":4,"creation_date":1692988887,"post_id":76979636,"comment_id":135705320,"body_markdown":"You should be using `LocalDateTime` instead of `Date` or `Calendar`.  `LocalDateTime` has a parse method to convert a `String` to a `LocalDateTime`.","body":"You should be using <code>LocalDateTime</code> instead of <code>Date</code> or <code>Calendar</code>.  <code>LocalDateTime</code> has a parse method to convert a <code>String</code> to a <code>LocalDateTime</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692991471,"post_id":76979636,"comment_id":135705771,"body_markdown":"`s1 = s1.replace(&quot; &quot;, &quot;T&quot;);s2 = s2.replace(&quot; &quot;, &quot;T&quot;);boolean moreThanOneYearDifference = LocalDateTime.parse(s1).isBefore(LocalDateTime.parse(s2).minusYears(1L));`","body":"<code>s1 = s1.replace(&quot; &quot;, &quot;T&quot;);s2 = s2.replace(&quot; &quot;, &quot;T&quot;);boolean moreThanOneYearDifference = LocalDateTime.parse(s1).isBefore(LocalDateTime.parse(s2).min&zwnj;&#8203;usYears(1L));</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1693033188,"post_id":76979636,"comment_id":135709027,"body_markdown":"Exactly how do you define a year? Usually we ignore the Leap Day, as its purpose is to slow the calendar so we can pretend a year neatly divides into whole days. So a year from August 20 is always August 20, regardless of Leap Year — at least by usual convention. In other words, we try to ignore the existence of Leap Day when counting years. You seem to have a different definition, so you should explain your definition clearly and specifically.","body":"Exactly how do you define a year? Usually we ignore the Leap Day, as its purpose is to slow the calendar so we can pretend a year neatly divides into whole days. So a year from August 20 is always August 20, regardless of Leap Year — at least by usual convention. In other words, we try to ignore the existence of Leap Day when counting years. You seem to have a different definition, so you should explain your definition clearly and specifically."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693076329,"post_id":76979636,"comment_id":135713339,"body_markdown":"As @GilbertLeBlanc said, don’t use `Calendar`. It’s long outdated and was always cumbersome to work with. From the question where you copied your code instead look at [the good answer by Basil Bourque](https://stackoverflow.com/a/48449221/5772882) and [the one by \nklabe](https://stackoverflow.com/a/73889564/5772882).","body":"As @GilbertLeBlanc said, don’t use <code>Calendar</code>. It’s long outdated and was always cumbersome to work with. From the question where you copied your code instead look at <a href=\"https://stackoverflow.com/a/48449221/5772882\">the good answer by Basil Bourque</a> and <a href=\"https://stackoverflow.com/a/73889564/5772882\">the one by  klabe</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693079393,"post_id":76979636,"comment_id":135713650,"body_markdown":"The code you took from that answer is even confusing and flawed. Do your self a favour, throw it away now (I already directed you to where you can find something better).","body":"The code you took from that answer is even confusing and flawed. Do your self a favour, throw it away now (I already directed you to where you can find something better)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693079736,"post_id":76979636,"comment_id":135713687,"body_markdown":"@BasilBourque It looks to me like the code the OP copied from that other answer exactly tries to *compensate* for leap years so that the time from August 20 to August 20 is always exactly a year. However the code fails to do so correctly. And in addition it also doesn’t always count days correctly.","body":"@BasilBourque It looks to me like the code the OP copied from that other answer exactly tries to <i>compensate</i> for leap years so that the time from August 20 to August 20 is always exactly a year. However the code fails to do so correctly. And in addition it also doesn’t always count days correctly."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693081011,"post_id":76979636,"comment_id":135713819,"body_markdown":"Tan, are you after the unsigned difference or absolute value of the difference, so without regard to which of the date-times is earlier?","body":"Tan, are you after the unsigned difference or absolute value of the difference, so without regard to which of the date-times is earlier?"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692990479,"creation_date":1692988914,"answer_id":76979821,"question_id":76979636,"body_markdown":"&gt; How should I send these two dates such that it&#39;s accepted for moreTheOneYearDifference method as defined below?\r\n\r\nYou can send like this:\r\n\r\n```java\r\nCalendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44); // Note: Month is 0-based\r\nCalendar date2 = new GregorianCalendar(2023, 7, 25, 10, 26, 44); // Note: Month is 0-based\r\n```\r\n\r\nI corrected the month values to be 0-based (January is 0, February is 1, and so on), and created instances of `Calendar` for `date1` and `date2` using the `GregorianCalendar` class and provided the correct year, month, day, hour, minute, and second values.\r\n\r\n**Note**: I think that you mean *moreThanOneYearDifference* and no *moreTheOneYearDifference*\r\n\r\n&gt; how would I go about converting 2022-08-20 10:26:44.000 such that it fits this format Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44) ?\r\n\r\nYou can do this way:\r\n\r\n```java\r\nDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\r\n\r\nCalendar c1 = new GregorianCalendar();\r\nc1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\r\n\r\nCalendar c2 = new GregorianCalendar();\r\nc2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\r\n```\r\n\r\n**But**, like [Basil Bourque][1] said: &quot;*These terrible date-time classes were years ago supplanted by the modern java.time classes defined in JSR 310.*&quot;\r\n\r\nSo, I recommend that you use the *modern java.time classes* if it is possible. It will be something like this:\r\n\r\n```java\r\npublic class DateOneYearDifferenceTest {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Original Strings\r\n\t\tString dateString1 = &quot;2022-08-20 10:26:44.000&quot;;\r\n\t\tString dateString2 = &quot;2023-08-20 10:26:44.000&quot;;\r\n\r\n\t\t// Format parser\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n\r\n\t\t// Convertion\r\n\t\tLocalDateTime dateTime1 = LocalDateTime.parse(dateString1, formatter);\r\n\t\tLocalDateTime dateTime2 = LocalDateTime.parse(dateString2, formatter);\r\n\r\n\t\tif (moreThanOneYearDifference(dateTime1, dateTime2)) {\r\n\t\t\tSystem.out.println(&quot;The time difference is more than one year.&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;The time difference is not more than one year.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\t * Modern method\r\n\t */\r\n\tpublic static boolean moreThanOneYearDifference(LocalDateTime dateTime1, LocalDateTime dateTime2) {\r\n\t\tlong daysDifference = ChronoUnit.DAYS.between(dateTime1, dateTime2);\r\n\t\treturn Math.abs(daysDifference) &gt; 365;\r\n\t}\r\n}\r\n```\r\n\r\nI don&#39;t know how much specific you need to be, so maybe you should edit it to consider hours, minutes, seconds, etc...\r\n\r\n  [1]: https://stackoverflow.com/users/642706/basil-bourque","title":"using date for calender as an input to figure out the time difference","body":"<blockquote>\n<p>How should I send these two dates such that it's accepted for moreTheOneYearDifference method as defined below?</p>\n</blockquote>\n<p>You can send like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44); // Note: Month is 0-based\nCalendar date2 = new GregorianCalendar(2023, 7, 25, 10, 26, 44); // Note: Month is 0-based\n</code></pre>\n<p>I corrected the month values to be 0-based (January is 0, February is 1, and so on), and created instances of <code>Calendar</code> for <code>date1</code> and <code>date2</code> using the <code>GregorianCalendar</code> class and provided the correct year, month, day, hour, minute, and second values.</p>\n<p><strong>Note</strong>: I think that you mean <em>moreThanOneYearDifference</em> and no <em>moreTheOneYearDifference</em></p>\n<blockquote>\n<p>how would I go about converting 2022-08-20 10:26:44.000 such that it fits this format Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44) ?</p>\n</blockquote>\n<p>You can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\n\nCalendar c1 = new GregorianCalendar();\nc1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\n\nCalendar c2 = new GregorianCalendar();\nc2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\n</code></pre>\n<p><strong>But</strong>, like <a href=\"https://stackoverflow.com/users/642706/basil-bourque\">Basil Bourque</a> said: &quot;<em>These terrible date-time classes were years ago supplanted by the modern java.time classes defined in JSR 310.</em>&quot;</p>\n<p>So, I recommend that you use the <em>modern java.time classes</em> if it is possible. It will be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateOneYearDifferenceTest {\n    public static void main(String[] args) {\n        // Original Strings\n        String dateString1 = &quot;2022-08-20 10:26:44.000&quot;;\n        String dateString2 = &quot;2023-08-20 10:26:44.000&quot;;\n\n        // Format parser\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n\n        // Convertion\n        LocalDateTime dateTime1 = LocalDateTime.parse(dateString1, formatter);\n        LocalDateTime dateTime2 = LocalDateTime.parse(dateString2, formatter);\n\n        if (moreThanOneYearDifference(dateTime1, dateTime2)) {\n            System.out.println(&quot;The time difference is more than one year.&quot;);\n        } else {\n            System.out.println(&quot;The time difference is not more than one year.&quot;);\n        }\n    }\n\n    /*\n     * Modern method\n     */\n    public static boolean moreThanOneYearDifference(LocalDateTime dateTime1, LocalDateTime dateTime2) {\n        long daysDifference = ChronoUnit.DAYS.between(dateTime1, dateTime2);\n        return Math.abs(daysDifference) &gt; 365;\n    }\n}\n</code></pre>\n<p>I don't know how much specific you need to be, so maybe you should edit it to consider hours, minutes, seconds, etc...</p>\n"},{"tags":[],"owner":{"account_id":23676179,"reputation":3,"user_id":17702382,"display_name":"lzzgabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692989016,"creation_date":1692989016,"answer_id":76979828,"question_id":76979636,"body_markdown":"Maybe try something like this:\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\r\n    \t\r\n    Calendar c1 = new GregorianCalendar(), c2 = new GregorianCalendar();\r\n    c1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\r\n    c2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\r\n    System.out.println(moreTheOneYearDifference(c1, c2));","title":"using date for calender as an input to figure out the time difference","body":"<p>Maybe try something like this:</p>\n<pre><code>DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\n    \nCalendar c1 = new GregorianCalendar(), c2 = new GregorianCalendar();\nc1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\nc2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\nSystem.out.println(moreTheOneYearDifference(c1, c2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693120125,"creation_date":1693120125,"answer_id":76986031,"question_id":76979636,"body_markdown":"Just as an alternative, you could calculate the `Period.between(…)` two `LocalDate`s, which are part of a `LocalDateTime`, available by `LocalDateTime.toLocalDate()`.\r\n\r\nSee this example:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example datetimes\r\n\tString a = &quot;2022-08-20 10:26:44.000&quot;;\r\n\tString b = &quot;2023-08-25 10:26:44.000&quot;;\r\n\t// prepare a formatter that is able to parse those Strings\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS&quot;);\r\n\t// then actually parsen them\r\n\tLocalDateTime ldtA = LocalDateTime.parse(a, dtf);\r\n\tLocalDateTime ldtB = LocalDateTime.parse(b, dtf);\r\n\t// caclulate the period between those two dates\r\n\tPeriod period = Period.between(ldtA.toLocalDate(), ldtB.toLocalDate());\r\n\t// check if the resulting period is a full year or more\r\n\tif (period.getYears() &gt;= 1) {\r\n\t\tSystem.out.println(&quot;Difference is greater than or equals one year&quot;);\r\n\t} else {\r\n\t\tSystem.err.println(&quot;Difference is less than one year&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nResulting output:\r\n\r\n```none\r\nDifference is greater than or equals one year\r\n```\r\n\r\nHave a look at the other methods of a `Period` and if you want to involve time of day or calulate with that exclusively, check out a `Duration`:\r\n\r\n[The Java™ Tutorials — Period and Duration](https://docs.oracle.com/javase/tutorial/datetime/iso/period.html)","title":"using date for calender as an input to figure out the time difference","body":"<p>Just as an alternative, you could calculate the <code>Period.between(…)</code> two <code>LocalDate</code>s, which are part of a <code>LocalDateTime</code>, available by <code>LocalDateTime.toLocalDate()</code>.</p>\n<p>See this example:</p>\n<pre><code>public static void main(String[] args) {\n    // example datetimes\n    String a = &quot;2022-08-20 10:26:44.000&quot;;\n    String b = &quot;2023-08-25 10:26:44.000&quot;;\n    // prepare a formatter that is able to parse those Strings\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS&quot;);\n    // then actually parsen them\n    LocalDateTime ldtA = LocalDateTime.parse(a, dtf);\n    LocalDateTime ldtB = LocalDateTime.parse(b, dtf);\n    // caclulate the period between those two dates\n    Period period = Period.between(ldtA.toLocalDate(), ldtB.toLocalDate());\n    // check if the resulting period is a full year or more\n    if (period.getYears() &gt;= 1) {\n        System.out.println(&quot;Difference is greater than or equals one year&quot;);\n    } else {\n        System.err.println(&quot;Difference is less than one year&quot;);\n    }\n}\n</code></pre>\n<p>Resulting output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Difference is greater than or equals one year\n</code></pre>\n<p>Have a look at the other methods of a <code>Period</code> and if you want to involve time of day or calulate with that exclusively, check out a <code>Duration</code>:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"nofollow noreferrer\">The Java™ Tutorials — Period and Duration</a></p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76979821,"answer_count":3,"score":0,"last_activity_date":1693130682,"creation_date":1692987013,"question_id":76979636,"body_markdown":"I have the following code and trying to figure out if the date difference is greater than one year or not. If I have the two dates like this:\r\n\r\n1. 2022-08-20 10:26:44.000\r\n\r\n2. 2023-08-25 10:26:44.000\r\n\r\nHow should I send these two dates such that it&#39;s accepted for `moreTheOneYearDifference` method as defined below?\r\n\r\n\r\n\r\n    public class DateOneYearDifferenceTest {\r\n    \r\n    \tfinal GregorianCalendar gc = new GregorianCalendar();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.printf(moreTheOneYearDifference(2022-08-20 10:26:44.000, 2023-08-25 10:26:44.000));\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \tpublic boolean moreTheOneYearDifference(Calendar c1, Calendar c2) {\r\n    \t\tint days = 365;\r\n    \t\tif (c1.before(c2) &amp;&amp; gc.isLeapYear(c1.get(Calendar.YEAR))) {\r\n    \t\t\tdays += 1;\r\n    \t\t} else if (gc.isLeapYear(c2.get(Calendar.YEAR))) {\r\n    \t\t\tdays += 1;\r\n    \t\t}\r\n    \t\treturn TimeUnit.MICROSECONDS.toDays((long) Math.abs(c1.getTimeInMillis() - c2.getTimeInMillis())) &gt;= days;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe above method was copied from [this stackoverflow][1] post answer\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37161525/checking-if-difference-between-two-dates-in-greater-than-a-year-java\r\n","title":"using date for calender as an input to figure out the time difference","body":"<p>I have the following code and trying to figure out if the date difference is greater than one year or not. If I have the two dates like this:</p>\n<ol>\n<li><p>2022-08-20 10:26:44.000</p>\n</li>\n<li><p>2023-08-25 10:26:44.000</p>\n</li>\n</ol>\n<p>How should I send these two dates such that it's accepted for <code>moreTheOneYearDifference</code> method as defined below?</p>\n<pre><code>public class DateOneYearDifferenceTest {\n\n    final GregorianCalendar gc = new GregorianCalendar();\n\n    public static void main(String[] args) {\n        System.out.printf(moreTheOneYearDifference(2022-08-20 10:26:44.000, 2023-08-25 10:26:44.000));\n        \n\n    }\n\n    public boolean moreTheOneYearDifference(Calendar c1, Calendar c2) {\n        int days = 365;\n        if (c1.before(c2) &amp;&amp; gc.isLeapYear(c1.get(Calendar.YEAR))) {\n            days += 1;\n        } else if (gc.isLeapYear(c2.get(Calendar.YEAR))) {\n            days += 1;\n        }\n        return TimeUnit.MICROSECONDS.toDays((long) Math.abs(c1.getTimeInMillis() - c2.getTimeInMillis())) &gt;= days;\n    }\n\n}\n</code></pre>\n<p>The above method was copied from <a href=\"https://stackoverflow.com/questions/37161525/checking-if-difference-between-two-dates-in-greater-than-a-year-java\">this stackoverflow</a> post answer</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"score":0,"creation_date":1539775392,"post_id":52853639,"comment_id":92622554,"body_markdown":"Why the backslash before the asterisk in your regex?","body":"Why the backslash before the asterisk in your regex?"},{"owner":{"account_id":6371020,"reputation":353,"user_id":4943412,"accept_rate":30,"display_name":"Mohan Krishnan"},"score":0,"creation_date":1539776117,"post_id":52853639,"comment_id":92622949,"body_markdown":"@CaiusJard The asterisk wasnt displaying in the stackoverflow viewer so had to escape. But the escape character seems to show up in the final view. Will change it. Thanks","body":"@CaiusJard The asterisk wasnt displaying in the stackoverflow viewer so had to escape. But the escape character seems to show up in the final view. Will change it. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539775450,"creation_date":1539775450,"answer_id":52853722,"question_id":52853639,"body_markdown":"We can do this with a one-liner using `String#replaceAll`:\r\n\r\n    String input = &quot;some id-desired - d - d- value-some id&quot;;\r\n    String output = input.replaceAll(&quot;^.*?-(.*)-.*&quot;, &quot;$1&quot;);\r\n    System.out.println(output);\r\n\r\nOutput:\r\n\r\n    desired - d - d- value\r\n\r\nThe pattern I used cautiously consumes everything up until the very first dash.  Then, it greedily consumes everything in between that first dash and the very last dash.  Weird sample data, but I wanted to show that the answer is robust to dashes occurring inside the desired data.","title":"Regex to extract string between the first and last occurrence of a character","body":"<p>We can do this with a one-liner using <code>String#replaceAll</code>:</p>\n\n<pre><code>String input = \"some id-desired - d - d- value-some id\";\nString output = input.replaceAll(\"^.*?-(.*)-.*\", \"$1\");\nSystem.out.println(output);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>desired - d - d- value\n</code></pre>\n\n<p>The pattern I used cautiously consumes everything up until the very first dash.  Then, it greedily consumes everything in between that first dash and the very last dash.  Weird sample data, but I wanted to show that the answer is robust to dashes occurring inside the desired data.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539777124,"creation_date":1539775744,"answer_id":52853818,"question_id":52853639,"body_markdown":"more or less straight forward\r\n\r\n    var pattern = Pattern.compile(&quot;-.*-&quot;);\r\n    var matcher = pattern.matcher(string);\r\n    if (matcher.find())\r\n        result = matcher.group();\r\n\r\n-&gt; find first occurrence of `-` followed by as many characters as possible, followed by a `-`. This also works if there are `-` inside of the *desired-value*.\r\n\r\nDrawback, the dashes are included in the result, but can be easily discarded using `substring()`. This can be avoided using positive lookahead/lookbehind:\r\n\r\n    ...compile(&quot;(?&lt;=-).*(?=-)&quot;);\r\n","title":"Regex to extract string between the first and last occurrence of a character","body":"<p>more or less straight forward</p>\n\n<pre><code>var pattern = Pattern.compile(\"-.*-\");\nvar matcher = pattern.matcher(string);\nif (matcher.find())\n    result = matcher.group();\n</code></pre>\n\n<p>-> find first occurrence of <code>-</code> followed by as many characters as possible, followed by a <code>-</code>. This also works if there are <code>-</code> inside of the <em>desired-value</em>.</p>\n\n<p>Drawback, the dashes are included in the result, but can be easily discarded using <code>substring()</code>. This can be avoided using positive lookahead/lookbehind:</p>\n\n<pre><code>...compile(\"(?&lt;=-).*(?=-)\");\n</code></pre>\n"}],"owner":{"account_id":6371020,"reputation":353,"user_id":4943412,"accept_rate":30,"display_name":"Mohan Krishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52853722,"answer_count":2,"score":1,"last_activity_date":1693129977,"creation_date":1539775135,"question_id":52853639,"body_markdown":"I am currently extracting a particular string from an Violation Exception Error message. The steps I did are as follows:\r\n\r\nInput String format:\r\nDuplicate entry **value** for key **key**\r\n\r\nRegex Currently being used:\r\n\r\n    Duplicate entry &#39;(.*)&#39; for key &#39;(.*)&#39;\r\n\r\nObtained group 1: **value**\r\n\r\nFormat of the value ==&gt; **some id**-**desired value**-**some id**\r\n\r\nTo extract the desired value, I currently use the first index and the last index of (-) and extract the string as follows:\r\n\r\n    error.substring(error.indexOf(&quot;-&quot;) + 1, error.lastIndexOf(&quot;-&quot;));\r\n\r\nCan the same be done by regex only?","title":"Regex to extract string between the first and last occurrence of a character","body":"<p>I am currently extracting a particular string from an Violation Exception Error message. The steps I did are as follows:</p>\n\n<p>Input String format:\nDuplicate entry <strong>value</strong> for key <strong>key</strong></p>\n\n<p>Regex Currently being used:</p>\n\n<pre><code>Duplicate entry '(.*)' for key '(.*)'\n</code></pre>\n\n<p>Obtained group 1: <strong>value</strong></p>\n\n<p>Format of the value ==> <strong>some id</strong>-<strong>desired value</strong>-<strong>some id</strong></p>\n\n<p>To extract the desired value, I currently use the first index and the last index of (-) and extract the string as follows:</p>\n\n<pre><code>error.substring(error.indexOf(\"-\") + 1, error.lastIndexOf(\"-\"));\n</code></pre>\n\n<p>Can the same be done by regex only?</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":12117810,"reputation":2372,"user_id":8850875,"display_name":"PradyumanDixit"},"score":0,"creation_date":1540118480,"post_id":52835775,"comment_id":92738973,"body_markdown":"Did you try my solution @Star ?","body":"Did you try my solution @Star ?"},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540192215,"post_id":52835775,"comment_id":92757098,"body_markdown":"@PradyumanDixit Yes. But still not working.","body":"@PradyumanDixit Yes. But still not working."},{"owner":{"account_id":12117810,"reputation":2372,"user_id":8850875,"display_name":"PradyumanDixit"},"score":0,"creation_date":1540192254,"post_id":52835775,"comment_id":92757114,"body_markdown":"what is the problem @Star ?","body":"what is the problem @Star ?"},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540193320,"post_id":52835775,"comment_id":92757668,"body_markdown":"@PradyumanDixit issue is When i search as Ca in content, it&#39;s not accepting this C&#225;. Only when I search C&#225; it&#39;s accepting.","body":"@PradyumanDixit issue is When i search as Ca in content, it&#39;s not accepting this C&#225;. Only when I search C&#225; it&#39;s accepting."},{"owner":{"account_id":12117810,"reputation":2372,"user_id":8850875,"display_name":"PradyumanDixit"},"score":0,"creation_date":1540193382,"post_id":52835775,"comment_id":92757696,"body_markdown":"Did you use both of the codes I gave in the answer to make the string ignore accented characters?","body":"Did you use both of the codes I gave in the answer to make the string ignore accented characters?"},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540193748,"post_id":52835775,"comment_id":92757896,"body_markdown":"@PradyumanDixit I tried too but still facing after removing accented characters in search.","body":"@PradyumanDixit I tried too but still facing after removing accented characters in search."},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540193980,"post_id":52835775,"comment_id":92758045,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/182244/discussion-between-star-and-pradyuman-dixit).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/182244/discussion-between-star-and-pradyuman-dixit\">continue this discussion in chat</a>."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1540256891,"post_id":52835775,"comment_id":92788281,"body_markdown":"I doubt this can be done, but if you get these `\\p{Block=Latin_1_Supplement}\\p{Block=Latin_Extended_A}\\p{Block=Latin_Extended_Additional}\\p{Block=Latin_Extended_B}\\p{Block=Latin_Extended_C}\\p{Block=Latin_Extended_D}\\p{Block=Latin_Extended_E}` and convert them into basic Latin with the combining code, all you have to do is inject `[\\x{300}-\\x{36F}]?` after all input Latin alpha characters.","body":"I doubt this can be done, but if you get these <code>\\p{Block=Latin_1_Supplement}\\p{Block=Latin_Extended_A}\\p{Blo&zwnj;&#8203;ck=Latin_Extended_Ad&zwnj;&#8203;ditional}\\p{Block=La&zwnj;&#8203;tin_Extended_B}\\p{Bl&zwnj;&#8203;ock=Latin_Extended_C&zwnj;&#8203;}\\p{Block=Latin_Exte&zwnj;&#8203;nded_D}\\p{Block=Lati&zwnj;&#8203;n_Extended_E}</code> and convert them into basic Latin with the combining code, all you have to do is inject <code>[\\x{300}-\\x{36F}]?</code> after all input Latin alpha characters."},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540277844,"post_id":52835775,"comment_id":92794046,"body_markdown":"Hello @sln Thanks. can you please answer and frame it. It it works, let me accept and close it.","body":"Hello @sln Thanks. can you please answer and frame it. It it works, let me accept and close it."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1540426878,"post_id":52835775,"comment_id":92865659,"body_markdown":"Ok, I posted something that might help.","body":"Ok, I posted something that might help."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539705968,"creation_date":1539705968,"answer_id":52839677,"question_id":52835775,"body_markdown":"You already got:\r\n\r\n    private String convertToBasicLatin(String text) {\r\n        return Normalizer.normalize(text, Normalizer.Form.NFD)\r\n            .replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;).replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);\r\n    }\r\n\r\nIn order to have **one** unaccented basic latin char match **one** Unicode code point of an accented letter,\r\none should normalize the to the _composed_ form:\r\n\r\n    private String convertToComposedCodePoints(String text) {\r\n        return Normalizer.normalize(text, Normalizer.Form.NFC).replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);\r\n    }\r\n\r\nIn general one might make the assumption that the Unicode code point is 1 char long too.\r\n\r\n- The search key uses convertToBasicLatin(sought)\r\n- The text view&#39;s content uses convertToComposedCodePoints(content)\r\n- The text content for matching uses convertToBasicLatin(content)\r\n\r\nNow the matcher&#39;s index positions of `start` and `end` are correct.\r\nI normalized explicitly line endings (regex `\\R`) like `\\r\\n` or `\\u0085` to a single `\\n`.\r\nOne cannot normalize to lowercase/uppercase, as the number of chars might vary:\r\nGerman lowercase `&#223;` corresponds with uppercase `SS`.\r\n\r\n    String sought = ...;\r\n    String content = ...;\r\n\r\n    sought = convertToBasicLatin(sought);\r\n    String latinContent = convertToBasicLatin(content);\r\n    String composedContent = convertToComposedUnicode(content);\r\n\r\n    Matcher m = Pattern.compile(sought, Pattern.CASE_INSENSITIVE\r\n            | Pattern.UNICODE_CASE | Pattern.UNICODE_CHARACTER_CLASS\r\n            | Pattern.UNIX_LINES)\r\n        .matcher(latinContent);\r\n    while (m.find()) {\r\n        ... // One can apply `m.start()` and `m.end()` to composedContent of the view too.\r\n    }\r\n\r\n","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<p>You already got:</p>\n\n<pre><code>private String convertToBasicLatin(String text) {\n    return Normalizer.normalize(text, Normalizer.Form.NFD)\n        .replaceAll(\"\\\\p{M}\", \"\").replaceAll(\"\\\\R\", \"\\n\");\n}\n</code></pre>\n\n<p>In order to have <strong>one</strong> unaccented basic latin char match <strong>one</strong> Unicode code point of an accented letter,\none should normalize the to the <em>composed</em> form:</p>\n\n<pre><code>private String convertToComposedCodePoints(String text) {\n    return Normalizer.normalize(text, Normalizer.Form.NFC).replaceAll(\"\\\\R\", \"\\n\");\n}\n</code></pre>\n\n<p>In general one might make the assumption that the Unicode code point is 1 char long too.</p>\n\n<ul>\n<li>The search key uses convertToBasicLatin(sought)</li>\n<li>The text view's content uses convertToComposedCodePoints(content)</li>\n<li>The text content for matching uses convertToBasicLatin(content)</li>\n</ul>\n\n<p>Now the matcher's index positions of <code>start</code> and <code>end</code> are correct.\nI normalized explicitly line endings (regex <code>\\R</code>) like <code>\\r\\n</code> or <code>\\u0085</code> to a single <code>\\n</code>.\nOne cannot normalize to lowercase/uppercase, as the number of chars might vary:\nGerman lowercase <code>ß</code> corresponds with uppercase <code>SS</code>.</p>\n\n<pre><code>String sought = ...;\nString content = ...;\n\nsought = convertToBasicLatin(sought);\nString latinContent = convertToBasicLatin(content);\nString composedContent = convertToComposedUnicode(content);\n\nMatcher m = Pattern.compile(sought, Pattern.CASE_INSENSITIVE\n        | Pattern.UNICODE_CASE | Pattern.UNICODE_CHARACTER_CLASS\n        | Pattern.UNIX_LINES)\n    .matcher(latinContent);\nwhile (m.find()) {\n    ... // One can apply `m.start()` and `m.end()` to composedContent of the view too.\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user557597"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540472645,"creation_date":1540420444,"answer_id":52978822,"question_id":52835775,"body_markdown":"I&#39;m not a Java programmer, so just some basic raw regex solution here.  \r\n\r\nIf you can _Normalize_ the string with it&#39;s _decomposition_ form  \r\nassume it&#39;s this  \r\n\r\n`String sSourceTargetDecom = Normalizer.normalize(sourcetarget, Normalizer.Form.NFD);`,    \r\n\r\nthat should turn something like `0000C1 &#193; LATIN CAPITAL LETTER A WITH ACUTE`  \r\ninto two characters `A` and `000301 ́  COMBINING ACUTE ACCENT`.  \r\n\r\nYou can get most combining characters from blocks using   \r\n\r\n    [\\p{Block=Combining_Diacritical_Marks}\\p{Block=Combining_Diacritical_Marks_Extended}\\p{Block=Combining_Diacritical_Marks_For_Symbols}\\p{Block=Combining_Diacritical_Marks_Supplement}\\p{Block=Combining_Half_Marks}]  \r\n\r\nwhich has a hex range of   \r\n\r\n    [\\x{300}-\\x{36f}\\x{1ab0}-\\x{1aff}\\x{1dc0}-\\x{1dff}\\x{20d0}-\\x{20ff}\\x{fe20}-\\x{fe2f}]  \r\n\r\nIt turns out that most of the combining marks relative to basic Latin that can be  \r\ndecomposed are in the `[\\x{300}-\\x{36f}]` range.  \r\n\r\nYou can decompose _both_ the source target and the input search string.\r\n__________________________\r\n\r\nThen create a regex from the input search string.\r\n_Inject_ `[\\x{300}-\\x{36f}]?`  after each basic Latin letter.  \r\n\r\n    String regex = sSearch.replaceAll(&quot;([a-zA-Z])[\\\\x{300}-\\\\x{36f}]?&quot;, &quot;\\\\1[\\\\x{300}-\\\\x{36f}]?&quot;);\r\n\r\n(not sure what Java uses for codepoint character notation in their regex, possibly needs to be `\\u{DD}`\r\n\r\nThen use the regex on the _sSourceTargetDecom_ string, it will match the basic latin as a stand alone, and/or with an optional combining code.\r\n","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<p>I'm not a Java programmer, so just some basic raw regex solution here.  </p>\n\n<p>If you can <em>Normalize</em> the string with it's <em>decomposition</em> form<br>\nassume it's this  </p>\n\n<p><code>String sSourceTargetDecom = Normalizer.normalize(sourcetarget, Normalizer.Form.NFD);</code>,    </p>\n\n<p>that should turn something like <code>0000C1 Á LATIN CAPITAL LETTER A WITH ACUTE</code><br>\ninto two characters <code>A</code> and <code>000301 ́  COMBINING ACUTE ACCENT</code>.  </p>\n\n<p>You can get most combining characters from blocks using   </p>\n\n<pre><code>[\\p{Block=Combining_Diacritical_Marks}\\p{Block=Combining_Diacritical_Marks_Extended}\\p{Block=Combining_Diacritical_Marks_For_Symbols}\\p{Block=Combining_Diacritical_Marks_Supplement}\\p{Block=Combining_Half_Marks}]  \n</code></pre>\n\n<p>which has a hex range of   </p>\n\n<pre><code>[\\x{300}-\\x{36f}\\x{1ab0}-\\x{1aff}\\x{1dc0}-\\x{1dff}\\x{20d0}-\\x{20ff}\\x{fe20}-\\x{fe2f}]  \n</code></pre>\n\n<p>It turns out that most of the combining marks relative to basic Latin that can be<br>\ndecomposed are in the <code>[\\x{300}-\\x{36f}]</code> range.  </p>\n\n<p>You can decompose <em>both</em> the source target and the input search string.</p>\n\n<hr>\n\n<p>Then create a regex from the input search string.\n<em>Inject</em> <code>[\\x{300}-\\x{36f}]?</code>  after each basic Latin letter.  </p>\n\n<pre><code>String regex = sSearch.replaceAll(\"([a-zA-Z])[\\\\x{300}-\\\\x{36f}]?\", \"\\\\1[\\\\x{300}-\\\\x{36f}]?\");\n</code></pre>\n\n<p>(not sure what Java uses for codepoint character notation in their regex, possibly needs to be <code>\\u{DD}</code></p>\n\n<p>Then use the regex on the <em>sSourceTargetDecom</em> string, it will match the basic latin as a stand alone, and/or with an optional combining code.</p>\n"},{"tags":[],"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540538329,"creation_date":1540538329,"answer_id":53003460,"question_id":52835775,"body_markdown":" As you said, \r\n\r\n String text = &quot;C&#225;m&#233;lan discovered &#244;nte red aleŕt \\n Como se extingue la deuda&quot;;\r\n\r\n So whenever you give first input, receive that first character and compare. \r\n\r\n Eg: If you give Ca,  then\r\n\r\n    if (StringUtils.isNotEmpty(substring)) { //this is the search text\r\n    substring=substring.substring(0,1); //now you get C alone.\r\n\r\n}\r\n\r\nSo whatever you type it displays by filtering the first character. Now \r\n\r\n     SpannableString builder = higlightString((yourContent.getText()), mHighlightColor);\r\n        viewHolder.mTextView.setText(builder);\r\n\r\n\r\n \r\n\r\n    private SpannableString higlightString(String entireContent, int highlightColor) {\r\n                SpannableString returnValue = new SpannableString(entireContent);\r\n    \r\n                String lowercaseNodeText = entireContent;\r\n            try {\r\n                Matcher matcher = mFilter.getPattern().matcher(((diacritical(lowercaseNodeText.toLowerCase()))));\r\n                while (matcher.find()) {\r\n                    returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\r\n                            matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\r\n                }\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n                return returnValue;\r\n    \r\n        }\r\n\r\n  \r\n\r\n     private String diacritical(String original) {\r\n           String removed=null;\r\n               String decomposed = Normalizer.normalize(original, Normalizer.Form.NFD);\r\n               removed = decomposed.replaceAll(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;, &quot;&quot;);\r\n           return removed;\r\n       }\r\n\r\n  Test case: \r\n\r\n  When you give input Ca, it goes to the entire text by displaying all the C content get all the datas and filter out by normalising the content and it matches with accented characters too and display by higlighting.\r\n\r\n\r\n  \r\n\r\n ","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<p>As you said, </p>\n\n<p>String text = \"Cámélan discovered ônte red aleŕt \\n Como se extingue la deuda\";</p>\n\n<p>So whenever you give first input, receive that first character and compare. </p>\n\n<p>Eg: If you give Ca,  then</p>\n\n<pre><code>if (StringUtils.isNotEmpty(substring)) { //this is the search text\nsubstring=substring.substring(0,1); //now you get C alone.\n</code></pre>\n\n<p>}</p>\n\n<p>So whatever you type it displays by filtering the first character. Now </p>\n\n<pre><code> SpannableString builder = higlightString((yourContent.getText()), mHighlightColor);\n    viewHolder.mTextView.setText(builder);\n\n\n\n\nprivate SpannableString higlightString(String entireContent, int highlightColor) {\n            SpannableString returnValue = new SpannableString(entireContent);\n\n            String lowercaseNodeText = entireContent;\n        try {\n            Matcher matcher = mFilter.getPattern().matcher(((diacritical(lowercaseNodeText.toLowerCase()))));\n            while (matcher.find()) {\n                returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\n                        matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\n            }\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n\n            return returnValue;\n\n    }\n\n\n\n private String diacritical(String original) {\n       String removed=null;\n           String decomposed = Normalizer.normalize(original, Normalizer.Form.NFD);\n           removed = decomposed.replaceAll(\"\\\\p{InCombiningDiacriticalMarks}+\", \"\");\n       return removed;\n   }\n</code></pre>\n\n<p>Test case: </p>\n\n<p>When you give input Ca, it goes to the entire text by displaying all the C content get all the datas and filter out by normalising the content and it matches with accented characters too and display by higlighting.</p>\n"}],"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1693129971,"creation_date":1539693908,"question_id":52835775,"body_markdown":"    String text = &quot;C&#225;m&#233;lan discovered &#244;nte red aleŕt \\n Como se extingue la deuda&quot;;\r\n\r\nIf I give the input Ca, it should highlight from the given string C&#225; but it&#39;s not highlighting. \r\n\r\nBelow is what I tried.\r\n\r\n     Pattern mPattern; \r\n      String filterTerm; //this is the input which I give from input filter. Say for eg: Ca\r\n       String regex = createFilterRegex(filterTerm);\r\n            mPattern = Pattern.compile(regex);\r\n    \r\n     private String createFilterRegex(String filterTerm) {\r\n            filterTerm = Normalizer.normalize(filterTerm, Normalizer.Form.NFD);\r\n           filterTerm = filterTerm.replaceAll(&quot;[\\\\p{InCombiningDiacriticalMarks}]&quot;, &quot;&quot;);\r\n            return filterTerm;\r\n        }\r\n    \r\n    public Pattern getPattern() {\r\n            return mPattern;\r\n        }\r\n\r\n In another class,\r\n\r\n \r\n\r\n    private SpannableStringBuilder createHighlightedString(String nodeText, int highlightColor) { //nodeText is the entire list displaying. \r\n            SpannableStringBuilder returnValue = new SpannableStringBuilder(nodeText);\r\n            String lowercaseNodeText = nodeText;\r\n            Matcher matcher = mFilter.getPattern().matcher((createFilterRegex(lowercaseNodeText)));\r\n            while (matcher.find()) {\r\n                returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\r\n                        matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\r\n            }\r\n    \r\n            return returnValue;\r\n        }\r\n\r\n viewHolder.mTextView.setText(createHighlightedString((node.getText()), mHighlightColor));\r\n\r\nBut what I am getting the output as, \r\n\r\nIf I type single alphabet o alone, it&#39;s highlighting but if I pass more than two alphabets say for eg: Ca, it&#39;s not highlighting and displaying. I couldn&#39;t figure out what mistake I am doing.  \r\n\r\n\r\n But if you look WhatsApp. it has been achieved. \r\n\r\n I typed Co,  it&#39;s recognizing and highlighting accented characters in the sentence. \r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Q00d.png","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<pre><code>String text = \"Cámélan discovered ônte red aleŕt \\n Como se extingue la deuda\";\n</code></pre>\n\n<p>If I give the input Ca, it should highlight from the given string Cá but it's not highlighting. </p>\n\n<p>Below is what I tried.</p>\n\n<pre><code> Pattern mPattern; \n  String filterTerm; //this is the input which I give from input filter. Say for eg: Ca\n   String regex = createFilterRegex(filterTerm);\n        mPattern = Pattern.compile(regex);\n\n private String createFilterRegex(String filterTerm) {\n        filterTerm = Normalizer.normalize(filterTerm, Normalizer.Form.NFD);\n       filterTerm = filterTerm.replaceAll(\"[\\\\p{InCombiningDiacriticalMarks}]\", \"\");\n        return filterTerm;\n    }\n\npublic Pattern getPattern() {\n        return mPattern;\n    }\n</code></pre>\n\n<p>In another class,</p>\n\n<pre><code>private SpannableStringBuilder createHighlightedString(String nodeText, int highlightColor) { //nodeText is the entire list displaying. \n        SpannableStringBuilder returnValue = new SpannableStringBuilder(nodeText);\n        String lowercaseNodeText = nodeText;\n        Matcher matcher = mFilter.getPattern().matcher((createFilterRegex(lowercaseNodeText)));\n        while (matcher.find()) {\n            returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\n                    matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\n        }\n\n        return returnValue;\n    }\n</code></pre>\n\n<p>viewHolder.mTextView.setText(createHighlightedString((node.getText()), mHighlightColor));</p>\n\n<p>But what I am getting the output as, </p>\n\n<p>If I type single alphabet o alone, it's highlighting but if I pass more than two alphabets say for eg: Ca, it's not highlighting and displaying. I couldn't figure out what mistake I am doing.  </p>\n\n<p>But if you look WhatsApp. it has been achieved. </p>\n\n<p>I typed Co,  it's recognizing and highlighting accented characters in the sentence. </p>\n\n<p><a href=\"https://i.stack.imgur.com/8Q00d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Q00d.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":0,"creation_date":1539010233,"post_id":52704821,"comment_id":92336229,"body_markdown":"Can you specify what output are you getting from `sb.toString()`?  Is it an error? If so, please add it to your question.","body":"Can you specify what output are you getting from <code>sb.toString()</code>?  Is it an error? If so, please add it to your question."},{"owner":{"display_name":"user10040920"},"score":0,"creation_date":1539010396,"post_id":52704821,"comment_id":92336336,"body_markdown":"@mjuarez I edited my question, pls take a look","body":"@mjuarez I edited my question, pls take a look"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539014825,"post_id":52704821,"comment_id":92338757,"body_markdown":"Is it one big string with embedded newline chars, or a List of strings?","body":"Is it one big string with embedded newline chars, or a List of strings?"},{"owner":{"display_name":"user10040920"},"score":0,"creation_date":1539029048,"post_id":52704821,"comment_id":92344857,"body_markdown":"@Bohemian its a big string","body":"@Bohemian its a big string"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539011618,"creation_date":1539010409,"answer_id":52704921,"question_id":52704821,"body_markdown":"    return dataStr.replaceAll(&quot;(?smi)\\\\bnull\\\\b&quot;, &quot;&quot;);\r\n\r\n- `\\b` is the word boundary.\r\n- `(?i)` is a command with i=ignore case.\r\n- (`(?s)` is DOT_ALL, `.` matching newline characters too.)\r\n- `(?m)` is MULTI_LINE.\r\n\r\n---------------\r\n\r\nYou forgot `appendTail`, for all after the last replacement.\r\nIf the string contains more than one line, add the MULTI_LINE option for reinterpretation of `^` and `$`. See the javadoc of `Pattern`.\r\n\r\n    while (matcher.find()) {\r\n        matcher.appendReplacement(sb, matcher.group(1) + &quot;&quot; + matcher.group(3));\r\n    }\r\n    matcher.appendTail(sb);\r\n\r\nAlternatively with lambda:\r\n\r\n    String result = matcher.replaceAll(mr -&gt; mr.group(1) + mr.group(3));\r\n\r\nwhere `mr` is a freely named `MatchResult` provided by `replaceAll`.","title":"replace substrings in string using regex groups","body":"<pre><code>return dataStr.replaceAll(\"(?smi)\\\\bnull\\\\b\", \"\");\n</code></pre>\n\n<ul>\n<li><code>\\b</code> is the word boundary.</li>\n<li><code>(?i)</code> is a command with i=ignore case.</li>\n<li>(<code>(?s)</code> is DOT_ALL, <code>.</code> matching newline characters too.)</li>\n<li><code>(?m)</code> is MULTI_LINE.</li>\n</ul>\n\n<hr>\n\n<p>You forgot <code>appendTail</code>, for all after the last replacement.\nIf the string contains more than one line, add the MULTI_LINE option for reinterpretation of <code>^</code> and <code>$</code>. See the javadoc of <code>Pattern</code>.</p>\n\n<pre><code>while (matcher.find()) {\n    matcher.appendReplacement(sb, matcher.group(1) + \"\" + matcher.group(3));\n}\nmatcher.appendTail(sb);\n</code></pre>\n\n<p>Alternatively with lambda:</p>\n\n<pre><code>String result = matcher.replaceAll(mr -&gt; mr.group(1) + mr.group(3));\n</code></pre>\n\n<p>where <code>mr</code> is a freely named <code>MatchResult</code> provided by <code>replaceAll</code>.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539010646,"creation_date":1539010646,"answer_id":52704999,"question_id":52704821,"body_markdown":"You probably what to replace `null` as long as it is followed by some characters, like:\r\n\r\n\r\n    first.replaceAll(&quot;(?i)(null)(?=[;$\\\\\\n])&quot;, &quot;&quot;)","title":"replace substrings in string using regex groups","body":"<p>You probably what to replace <code>null</code> as long as it is followed by some characters, like:</p>\n\n<pre><code>first.replaceAll(\"(?i)(null)(?=[;$\\\\\\n])\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539044852,"creation_date":1539044852,"answer_id":52711737,"question_id":52704821,"body_markdown":"You don&#39;t need anything fancy:\r\n\r\n    str = str.replaceAll(&quot;(?i)\\\\bnull\\\\b&quot;, &quot;&quot;);\r\n\r\n`(?1)` means &quot;ignore case&quot;. `\\b` means &quot;word boundary&quot;. Embedded newlines are irrelevant.","title":"replace substrings in string using regex groups","body":"<p>You don't need anything fancy:</p>\n\n<pre><code>str = str.replaceAll(\"(?i)\\\\bnull\\\\b\", \"\");\n</code></pre>\n\n<p><code>(?1)</code> means \"ignore case\". <code>\\b</code> means \"word boundary\". Embedded newlines are irrelevant.</p>\n"}],"owner":{"display_name":"user10040920"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52704921,"answer_count":3,"score":2,"last_activity_date":1693129966,"creation_date":1539010075,"question_id":52704821,"body_markdown":"I can&#39;t find the correct way to remove substrings case insensitive equals to &quot;null&quot; and replacing them with an empty string against a huge input data string, which contains many lines and uses **;** as a separator.\r\n\r\nTo simplify here is an example of what I am looking for:\r\n\r\n**Input string**\r\n\r\n    Steve;nuLL;2;null\\n\r\n    null;nullo;nUll;Marc\\n\r\n    ....\r\n\r\n**Expected Output**\r\n\r\n    Steve;;2;\\n\r\n    ;nullo;;Marc\\n\r\n    ...\r\n\r\n**Code**\r\n\r\n    Matcher matcher = Pattern.compile(&quot;(?i)(^|;)(null)(;|$)&quot;).matcher(dataStr);\r\n    StringBuffer sb = new StringBuffer();\r\n    while (matcher.find()) {\r\n    \tmatcher.appendReplacement(sb, matcher.group(1) + &quot;&quot; + matcher.group(3));\r\n    }\r\n    return sb.toString();\r\n\r\nCan this be solved by using regex?\r\n\r\n**EDIT:**\r\n\r\nFrom the java code above I only get the first match ever being replaced, but not every appearance in the line and in the data stream. For whatever reason the `matcher.find()` is only executed once.","title":"replace substrings in string using regex groups","body":"<p>I can't find the correct way to remove substrings case insensitive equals to \"null\" and replacing them with an empty string against a huge input data string, which contains many lines and uses <strong>;</strong> as a separator.</p>\n\n<p>To simplify here is an example of what I am looking for:</p>\n\n<p><strong>Input string</strong></p>\n\n<pre><code>Steve;nuLL;2;null\\n\nnull;nullo;nUll;Marc\\n\n....\n</code></pre>\n\n<p><strong>Expected Output</strong></p>\n\n<pre><code>Steve;;2;\\n\n;nullo;;Marc\\n\n...\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>Matcher matcher = Pattern.compile(\"(?i)(^|;)(null)(;|$)\").matcher(dataStr);\nStringBuffer sb = new StringBuffer();\nwhile (matcher.find()) {\n    matcher.appendReplacement(sb, matcher.group(1) + \"\" + matcher.group(3));\n}\nreturn sb.toString();\n</code></pre>\n\n<p>Can this be solved by using regex?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>From the java code above I only get the first match ever being replaced, but not every appearance in the line and in the data stream. For whatever reason the <code>matcher.find()</code> is only executed once.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1537038305,"post_id":52347825,"comment_id":91641288,"body_markdown":"If you&#39;re simply looking for the longest match, you&#39;ll need to iterate over all matches and pick the longest one yourself.","body":"If you&#39;re simply looking for the longest match, you&#39;ll need to iterate over all matches and pick the longest one yourself."},{"owner":{"account_id":3372995,"reputation":2683,"user_id":6003161,"accept_rate":50,"display_name":"Pants"},"score":0,"creation_date":1537038747,"post_id":52347825,"comment_id":91641410,"body_markdown":"I added more context @NPE","body":"I added more context @NPE"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1537040809,"post_id":52347825,"comment_id":91641950,"body_markdown":"Link can&#39;t be only resource about problem you are trying to solve. If link breaks (which happens quite often) question will be unclear. Describe what your code is supposed to do within question in a way which wouldn&#39;t *require* others to visit link.","body":"Link can&#39;t be only resource about problem you are trying to solve. If link breaks (which happens quite often) question will be unclear. Describe what your code is supposed to do within question in a way which wouldn&#39;t <i>require</i> others to visit link."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1537046844,"post_id":52347825,"comment_id":91643290,"body_markdown":"You seem to want a mere `[UD]+`","body":"You seem to want a mere <code>[UD]+</code>"}],"answers":[{"tags":[],"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537050868,"creation_date":1537038254,"answer_id":52347960,"question_id":52347825,"body_markdown":"The regex `+` match one or more of the preceding character/regular expression. So this will match any sequence of `D` and the `U`. \r\n\r\nIf you want to return the longest match you could do:\r\n\r\n    static String match(String s) {\r\n        ArrayList&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n        Matcher matcher = Pattern.compile(&quot;D+U&quot;).matcher(s);\r\n        int i = 0;\r\n        while (matcher.find(i)) {\r\n           matches.add(matcher.group());\r\n           i = matcher.end();\r\n        }   \r\n        return Collections.max(matches, Comparator.comparing(c -&gt; c.length()));\r\n    }\r\nWhich (with the test case of `UDDDUDUU`) returns `DDDU`. Also note that I removed the parameter of `n` as you never used it","title":"Pattern matching to match longest substring","body":"<p>The regex <code>+</code> match one or more of the preceding character/regular expression. So this will match any sequence of <code>D</code> and the <code>U</code>. </p>\n\n<p>If you want to return the longest match you could do:</p>\n\n<pre><code>static String match(String s) {\n    ArrayList&lt;String&gt; matches = new ArrayList&lt;&gt;();\n    Matcher matcher = Pattern.compile(\"D+U\").matcher(s);\n    int i = 0;\n    while (matcher.find(i)) {\n       matches.add(matcher.group());\n       i = matcher.end();\n    }   \n    return Collections.max(matches, Comparator.comparing(c -&gt; c.length()));\n}\n</code></pre>\n\n<p>Which (with the test case of <code>UDDDUDUU</code>) returns <code>DDDU</code>. Also note that I removed the parameter of <code>n</code> as you never used it</p>\n"}],"owner":{"account_id":3372995,"reputation":2683,"user_id":6003161,"accept_rate":50,"display_name":"Pants"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52347960,"answer_count":1,"score":0,"last_activity_date":1693129957,"creation_date":1537037260,"question_id":52347825,"body_markdown":"I have this regex `D+U`.\r\n\r\nIt should match once for the following String `UDDDUDUU ` but with Java it matches three times. It matches `DDDU` `DU`. I am using https://regex101.com/ to check my regex, and it should only match once, the `DDDU`.\r\n\r\nI am trying to solve this [HackerRank](https://www.hackerrank.com/challenges/counting-valleys/submissions/code/84730702) challenge. I am also trying to use Pattern&#39;s because I want to practice using those classes.\r\n\r\nWhat exactly am I doing wrong?\r\n\r\nThis is my code:\r\n\r\n    static int match(int n, String s) {\r\n        Matcher matcher = Pattern.compile(&quot;D+U&quot;).matcher(s);\r\n        int count = 0;\r\n        int i = 0;\r\n        while (matcher.find(i)) {\r\n            count++;\r\n            i = matcher.end() + 1;\r\n        }\r\n        return count;\r\n    }","title":"Pattern matching to match longest substring","body":"<p>I have this regex <code>D+U</code>.</p>\n<p>It should match once for the following String <code>UDDDUDUU </code> but with Java it matches three times. It matches <code>DDDU</code> <code>DU</code>. I am using <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> to check my regex, and it should only match once, the <code>DDDU</code>.</p>\n<p>I am trying to solve this <a href=\"https://www.hackerrank.com/challenges/counting-valleys/submissions/code/84730702\" rel=\"nofollow noreferrer\">HackerRank</a> challenge. I am also trying to use Pattern's because I want to practice using those classes.</p>\n<p>What exactly am I doing wrong?</p>\n<p>This is my code:</p>\n<pre><code>static int match(int n, String s) {\n    Matcher matcher = Pattern.compile(&quot;D+U&quot;).matcher(s);\n    int count = 0;\n    int i = 0;\n    while (matcher.find(i)) {\n        count++;\n        i = matcher.end() + 1;\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5190006,"reputation":866,"user_id":4153209,"display_name":"Thomas Francois"},"score":0,"creation_date":1536244752,"post_id":52206445,"comment_id":91362320,"body_markdown":"What did you try?","body":"What did you try?"},{"owner":{"account_id":8709851,"reputation":139,"user_id":6516398,"display_name":"Smaiil"},"score":1,"creation_date":1536245422,"post_id":52206445,"comment_id":91362772,"body_markdown":"Do you need all the values with xxxFT as a pattern ?","body":"Do you need all the values with xxxFT as a pattern ?"},{"owner":{"account_id":5120569,"reputation":1168,"user_id":4602283,"accept_rate":75,"display_name":"Jeutnarg"},"score":0,"creation_date":1536245743,"post_id":52206445,"comment_id":91363011,"body_markdown":"BKN.*?\\s+(\\d+)FT will work in both of the cases you&#39;ve provided - it actually grabs all of the xxx&#39;s, but you can just take the first one. BTW, for regex, you can go to regex101.com, which is a fantastic resource for regex. (I&#39;m not affiliated.)","body":"BKN.*?\\s+(\\d+)FT will work in both of the cases you&#39;ve provided - it actually grabs all of the xxx&#39;s, but you can just take the first one. BTW, for regex, you can go to regex101.com, which is a fantastic resource for regex. (I&#39;m not affiliated.)"},{"owner":{"account_id":14295163,"reputation":13,"user_id":10326048,"display_name":"Thierry E."},"score":0,"creation_date":1536246868,"post_id":52206445,"comment_id":91363739,"body_markdown":"@Jeutnarg thank you very much it works fine !!!","body":"@Jeutnarg thank you very much it works fine !!!"}],"answers":[{"tags":[],"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536246703,"creation_date":1536244496,"answer_id":52206506,"question_id":52206445,"body_markdown":"\r\n\r\n**Update:**\r\nIf you want with a single regex use following code:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;BKN.*?\\\\s+(\\\\d+)FT&quot;);\r\n    Matcher matcher = pattern.matcher(String1);\r\n    if (matcher.find()) {\r\n            System.out.println(matcher.group(1));\r\n    }\r\n\r\n\r\n**Old** Firstly you need to get the SubString starting from BKN so\r\n\r\n    int startIndex = String1.indexOf(&quot;BKN&quot;);\r\n    String str = String1.subString(startIndex);\r\n\r\nThen You need to cut it down between BKN and FT so in order to do that get the index of FT\r\n\r\n    startIndex = 0;\r\n    int endIndex = str.indexOf(&quot;FT&quot;)+1;\r\n    str = str.subString(startIndex,endIndex);\r\n\r\n\r\nAnd then finally You can use this regex and delete non-digit characters from the string\r\n\r\n    str = str.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;); \r\n    \r\n\r\nOutput of String1 : 2400\r\nOutput of String2: 700","title":"Java Regex - find a numeric value in a String","body":"<p><strong>Update:</strong>\nIf you want with a single regex use following code:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"BKN.*?\\\\s+(\\\\d+)FT\");\nMatcher matcher = pattern.matcher(String1);\nif (matcher.find()) {\n        System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p><strong>Old</strong> Firstly you need to get the SubString starting from BKN so</p>\n\n<pre><code>int startIndex = String1.indexOf(\"BKN\");\nString str = String1.subString(startIndex);\n</code></pre>\n\n<p>Then You need to cut it down between BKN and FT so in order to do that get the index of FT</p>\n\n<pre><code>startIndex = 0;\nint endIndex = str.indexOf(\"FT\")+1;\nstr = str.subString(startIndex,endIndex);\n</code></pre>\n\n<p>And then finally You can use this regex and delete non-digit characters from the string</p>\n\n<pre><code>str = str.replaceAll(\"\\\\D+\",\"\"); \n</code></pre>\n\n<p>Output of String1 : 2400\nOutput of String2: 700</p>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536247070,"creation_date":1536247070,"answer_id":52207337,"question_id":52206445,"body_markdown":"with a reference to Jeutnarg comment, we can have a solution without any substring or etc. by using Matcher groups: \r\n\r\n    public static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\r\n        String text    =\r\n            &quot;4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T&quot; + \r\n            &quot; 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;;\r\n            text = &quot;1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;;\r\n\r\n        String patternString = &quot;BKN.*?\\\\s+(\\\\d+)FT&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(patternString);\r\n\r\n        Matcher matcher = pattern.matcher(text);\r\n        if(matcher.find()) {\r\n        \tSystem.out.println(matcher.group(1));\r\n        } else {\r\n            System.out.println(&quot;nothing matched&quot;);\r\n        }\r\n\t}\r\n\r\noutput would be what is asked. 2400 and 700 for the first and second string accordingly. \r\n\r\nIf there is multiple matches is the input string then the only thing needs to be changed is the if statement which should be converted to while. \r\n\r\n    while(matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n    }","title":"Java Regex - find a numeric value in a String","body":"<p>with a reference to Jeutnarg comment, we can have a solution without any substring or etc. by using Matcher groups: </p>\n\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n\n    String text    =\n        \"4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T\" + \n        \" 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\";\n        text = \"1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\";\n\n    String patternString = \"BKN.*?\\\\s+(\\\\d+)FT\";\n\n    Pattern pattern = Pattern.compile(patternString);\n\n    Matcher matcher = pattern.matcher(text);\n    if(matcher.find()) {\n        System.out.println(matcher.group(1));\n    } else {\n        System.out.println(\"nothing matched\");\n    }\n}\n</code></pre>\n\n<p>output would be what is asked. 2400 and 700 for the first and second string accordingly. </p>\n\n<p>If there is multiple matches is the input string then the only thing needs to be changed is the if statement which should be converted to while. </p>\n\n<pre><code>while(matcher.find()) {\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n"}],"owner":{"account_id":14295163,"reputation":13,"user_id":10326048,"display_name":"Thierry E."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":52207337,"answer_count":2,"score":-1,"last_activity_date":1693129954,"creation_date":1536244298,"question_id":52206445,"body_markdown":"In the below two strings (weather mesures) I need to find with a regex expression the first `&quot;xxxFT&quot;` value after `&quot;BKN&quot;` then extract only numerical value : `xxxx`\r\n\r\nIn the 1st String final value will be `2400` and `700` in the second.\r\n\r\nBetween `&quot;BKN&quot;` and `&quot;xxxxFT&quot;` ther could be an additionnal word or not, it depends. ie : `&quot;BKN CB 2400FT&quot;` or `&quot;BKN 700FT&quot;`\r\n\r\n    String str1 = &quot;4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;\r\n\r\n    String str2 = &quot;1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;\r\n\r\nWhich regex pattern could I use for this ?","title":"Java Regex - find a numeric value in a String","body":"<p>In the below two strings (weather mesures) I need to find with a regex expression the first <code>\"xxxFT\"</code> value after <code>\"BKN\"</code> then extract only numerical value : <code>xxxx</code></p>\n\n<p>In the 1st String final value will be <code>2400</code> and <code>700</code> in the second.</p>\n\n<p>Between <code>\"BKN\"</code> and <code>\"xxxxFT\"</code> ther could be an additionnal word or not, it depends. ie : <code>\"BKN CB 2400FT\"</code> or <code>\"BKN 700FT\"</code></p>\n\n<pre><code>String str1 = \"4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\"\n\nString str2 = \"1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\"\n</code></pre>\n\n<p>Which regex pattern could I use for this ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7430446,"reputation":481,"user_id":5651621,"display_name":"IWHKYB"},"score":1,"creation_date":1533155936,"post_id":51641883,"comment_id":90248236,"body_markdown":"try this: (?&lt;=data-srcset=\\&quot;)(.*)(?= ) as your regex","body":"try this: (?&lt;=data-srcset=\\&quot;)(.*)(?= ) as your regex"},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533156244,"post_id":51641883,"comment_id":90248380,"body_markdown":"That would work for that particular line but I&#39;m scraping a webpage and it uses data-srcset for adverts aswell.","body":"That would work for that particular line but I&#39;m scraping a webpage and it uses data-srcset for adverts aswell."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1533165194,"post_id":51641883,"comment_id":90251198,"body_markdown":"[Parsing HTML with a regular expression is going to backfire on you.](https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg)  Use a dedicated HTML parser instead.","body":"<a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg\">Parsing HTML with a regular expression is going to backfire on you.</a>  Use a dedicated HTML parser instead."}],"answers":[{"tags":[],"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533157175,"creation_date":1533155906,"answer_id":51641926,"question_id":51641883,"body_markdown":"**EDIT** \r\n\r\nChange your Pattern to:\r\n\r\n    String regex = &quot;&lt;source media=\\&quot;\\\\(min-width: 0px\\\\)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;(.+)\\&quot;/&gt;&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(regex);\r\n\r\nThe problem is that your Current Regex has Parenthesis as part of the &quot;text&quot; but they are not properly escaped since they are Regular Expression operators.\r\n\r\nSpecifically\r\n\r\n    (min-width: 0px)\r\n\r\nShould be:\r\n\r\n    \\(min-width: 0px\\)\r\n\r\nAnd in java land since you must escape a backslash:\r\n\r\n    \\\\(min-width: 0px\\\\)\r\n\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) {\r\n        String line = &quot;&lt;source media=\\&quot;(min-width: 0px)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\&quot;/&gt;\\n&quot;;\r\n        String regex = &quot;&lt;source media=\\&quot;\\\\(min-width: 0px\\\\)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;(.+)\\&quot;/&gt;&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(line);\r\n        while(matcher.find()) {\r\n            System.out.println(matcher.group(1));\r\n        }\r\n    }\r\n\r\nThe output I get:\r\n\r\n    https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\r\n","title":"Regex not extracting image url from html tag","body":"<p><strong>EDIT</strong> </p>\n\n<p>Change your Pattern to:</p>\n\n<pre><code>String regex = \"&lt;source media=\\\"\\\\(min-width: 0px\\\\)\\\" sizes=\\\"70px\\\" data-srcset=\\\"(.+)\\\"/&gt;\";\n\nPattern pattern = Pattern.compile(regex);\n</code></pre>\n\n<p>The problem is that your Current Regex has Parenthesis as part of the \"text\" but they are not properly escaped since they are Regular Expression operators.</p>\n\n<p>Specifically</p>\n\n<pre><code>(min-width: 0px)\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>\\(min-width: 0px\\)\n</code></pre>\n\n<p>And in java land since you must escape a backslash:</p>\n\n<pre><code>\\\\(min-width: 0px\\\\)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>public static void main(String[] args) {\n    String line = \"&lt;source media=\\\"(min-width: 0px)\\\" sizes=\\\"70px\\\" data-srcset=\\\"https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\\"/&gt;\\n\";\n    String regex = \"&lt;source media=\\\"\\\\(min-width: 0px\\\\)\\\" sizes=\\\"70px\\\" data-srcset=\\\"(.+)\\\"/&gt;\";\n    Pattern pattern = Pattern.compile(regex);\n    Matcher matcher = pattern.matcher(line);\n    while(matcher.find()) {\n        System.out.println(matcher.group(1));\n    }\n}\n</code></pre>\n\n<p>The output I get:</p>\n\n<pre><code>https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\n</code></pre>\n"}],"owner":{"display_name":"user2731063"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1533225704,"answer_count":1,"score":0,"last_activity_date":1693129949,"creation_date":1533155716,"question_id":51641883,"body_markdown":"My regular expression is\r\n\r\n    &lt;source media=&quot;(min-width: 0px)&quot; sizes=&quot;70px&quot; data-srcset=&quot;(.*?)&quot;/&gt;\r\n\r\nThe text I&#39;m testing my regex with is\r\n\r\n    &lt;source media=&quot;(min-width: 0px)&quot; sizes=&quot;70px&quot; data-srcset=&quot;https://static2.therichestimages.com/wordpress/wp-content/uploads/2014/05/52f81afc8b39c.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w&quot;/&gt;\r\n\r\nIt does not detect a URL inside the data-srcset attribute.\r\n\r\nMy code is\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Regex {\r\n    \r\n        private static final String IMG_PREFIX =\r\n                &quot;&lt;source media=\\&quot;(min-width: 0px)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;&quot;;\r\n        private static final String IMG_SUFFIX = &quot;\\&quot;/&gt;&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            String line = &quot;&lt;source media=\\&quot;(min-width: 0px)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\&quot;/&gt;&quot;;\r\n    \r\n            Pattern pattern = Pattern.compile(IMG_PREFIX + &quot;(.*?)&quot; + IMG_SUFFIX);\r\n            Matcher matcher = pattern.matcher(line);\r\n    \r\n            System.out.println(matcher.find());\r\n    \r\n        }\r\n    }\r\n\r\nEdit: the production code is using this [HTML source ](https://www.therichest.com/top-lists/top-100-richest-celebrities/) rather than just a single line.\r\n\r\n\r\n","title":"Regex not extracting image url from html tag","body":"<p>My regular expression is</p>\n\n<pre><code>&lt;source media=\"(min-width: 0px)\" sizes=\"70px\" data-srcset=\"(.*?)\"/&gt;\n</code></pre>\n\n<p>The text I'm testing my regex with is</p>\n\n<pre><code>&lt;source media=\"(min-width: 0px)\" sizes=\"70px\" data-srcset=\"https://static2.therichestimages.com/wordpress/wp-content/uploads/2014/05/52f81afc8b39c.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\"/&gt;\n</code></pre>\n\n<p>It does not detect a URL inside the data-srcset attribute.</p>\n\n<p>My code is</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Regex {\n\n    private static final String IMG_PREFIX =\n            \"&lt;source media=\\\"(min-width: 0px)\\\" sizes=\\\"70px\\\" data-srcset=\\\"\";\n    private static final String IMG_SUFFIX = \"\\\"/&gt;\";\n\n    public static void main(String[] args) {\n        String line = \"&lt;source media=\\\"(min-width: 0px)\\\" sizes=\\\"70px\\\" data-srcset=\\\"https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\\"/&gt;\";\n\n        Pattern pattern = Pattern.compile(IMG_PREFIX + \"(.*?)\" + IMG_SUFFIX);\n        Matcher matcher = pattern.matcher(line);\n\n        System.out.println(matcher.find());\n\n    }\n}\n</code></pre>\n\n<p>Edit: the production code is using this <a href=\"https://www.therichest.com/top-lists/top-100-richest-celebrities/\" rel=\"nofollow noreferrer\">HTML source </a> rather than just a single line.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":213468,"reputation":103492,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693123292,"post_id":76986150,"comment_id":135716483,"body_markdown":"Please do not post screenshots/images of the code, post the actual code as code formatted text. Presumably your application crashed with an exception, so also make sure to include that exception (again, as code formatted text, not as an image).","body":"Please do not post screenshots/images of the code, post the actual code as code formatted text. Presumably your application crashed with an exception, so also make sure to include that exception (again, as code formatted text, not as an image)."},{"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"score":0,"creation_date":1693123871,"post_id":76986150,"comment_id":135716544,"body_markdown":"@MarkRotteveel i dont see any exception while building the project","body":"@MarkRotteveel i dont see any exception while building the project"},{"owner":{"account_id":213468,"reputation":103492,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693123951,"post_id":76986150,"comment_id":135716550,"body_markdown":"There would more likely be an exception when you **run** your application.","body":"There would more likely be an exception when you <b>run</b> your application."},{"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"score":0,"creation_date":1693124207,"post_id":76986150,"comment_id":135716569,"body_markdown":"@MarkRotteveel yh i found .","body":"@MarkRotteveel yh i found ."},{"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"score":0,"creation_date":1693124229,"post_id":76986150,"comment_id":135716572,"body_markdown":"java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to android.widget.EditText","body":"java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to android.widget.EditText"},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1693128665,"post_id":76986150,"comment_id":135716979,"body_markdown":"Can you also add your xml layout file?","body":"Can you also add your xml layout file?"}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693129945,"creation_date":1693129945,"answer_id":76986529,"question_id":76986150,"body_markdown":"This is happening because `findViewById(R.id.emailField)` is returning `TextInputLayout` and not `EditText`. You need to further get `EditText` from `TextInputLayout`.\r\n\r\n```\r\nTextInputLayout emailTextInputLayout = findViewById(R.id.emailField);\r\n\r\nemailField = emailTextInputLayout.getEditText(); // get your editText view from text input layout\r\n``` \r\nDo the same for password field as well.","title":"App crashes after using findViewByID in android studio app development","body":"<p>This is happening because <code>findViewById(R.id.emailField)</code> is returning <code>TextInputLayout</code> and not <code>EditText</code>. You need to further get <code>EditText</code> from <code>TextInputLayout</code>.</p>\n<pre><code>TextInputLayout emailTextInputLayout = findViewById(R.id.emailField);\n\nemailField = emailTextInputLayout.getEditText(); // get your editText view from text input layout\n</code></pre>\n<p>Do the same for password field as well.</p>\n"}],"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693129945,"creation_date":1693122561,"question_id":76986150,"body_markdown":"I am using findviewbyid option in my Java app development. When I build my app, it opens and gets closed automatically. When I don&#39;t use findviewbyid, the app run smoothly\r\n\r\n[![Screenshow](https://i.stack.imgur.com/f3n42.png)](https://i.stack.imgur.com/f3n42.png)\r\n\r\nI tried various solutions, but they didn&#39;t work.","title":"App crashes after using findViewByID in android studio app development","body":"<p>I am using findviewbyid option in my Java app development. When I build my app, it opens and gets closed automatically. When I don't use findviewbyid, the app run smoothly</p>\n<p><a href=\"https://i.stack.imgur.com/f3n42.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f3n42.png\" alt=\"Screenshow\" /></a></p>\n<p>I tried various solutions, but they didn't work.</p>\n"},{"tags":["java","regex","string","parsing"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1531790605,"post_id":51371952,"comment_id":89715900,"body_markdown":"`I want to remove the words` ... to which _words_ are you referring?  Can you show us what you mean by way of sample data?","body":"<code>I want to remove the words</code> ... to which <i>words</i> are you referring?  Can you show us what you mean by way of sample data?"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531790902,"post_id":51371952,"comment_id":89715965,"body_markdown":"@TimBiegeleisen I made the edits to provide an example, sorry!","body":"@TimBiegeleisen I made the edits to provide an example, sorry!"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531790907,"post_id":51371952,"comment_id":89715966,"body_markdown":"@ScaryWombat I&#39;m not sure what you mean, I&#39;m not manipulating a set? Or perhaps I&#39;m misunderstanding what you are saying","body":"@ScaryWombat I&#39;m not sure what you mean, I&#39;m not manipulating a set? Or perhaps I&#39;m misunderstanding what you are saying"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1531790954,"post_id":51371952,"comment_id":89715977,"body_markdown":"The regex engine is just going to parse your input string from start to end.  So removing things won&#39;t really speed up the search process I would imagine.","body":"The regex engine is just going to parse your input string from start to end.  So removing things won&#39;t really speed up the search process I would imagine."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1531791213,"post_id":51371952,"comment_id":89716025,"body_markdown":"Why don&#39;t you try to `match` based upon multiple `words` see https://alvinalexander.com/blog/post/java/how-extract-multiple-groups-patterns-string-regex  or  https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9781449327453/ch05s02.html","body":"Why don&#39;t you try to <code>match</code> based upon multiple <code>words</code> see <a href=\"https://alvinalexander.com/blog/post/java/how-extract-multiple-groups-patterns-string-regex\" rel=\"nofollow noreferrer\">alvinalexander.com/blog/post/java/&hellip;</a>  or  <a href=\"https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9781449327453/ch05s02.html\" rel=\"nofollow noreferrer\">safaribooksonline.com/library/view/regular-expressions-cookb&zwnj;&#8203;ook/&hellip;</a>"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531792028,"post_id":51371952,"comment_id":89716157,"body_markdown":"@ScaryWombat hmm the second link looks very promising if I can translate it to Java. I&#39;ll see if that speeds things up. I have wordList and paragraph on the order of 500-1000 words so If i could search for 500 words at once that&#39;d be nice. The program is also threaded!","body":"@ScaryWombat hmm the second link looks very promising if I can translate it to Java. I&#39;ll see if that speeds things up. I have wordList and paragraph on the order of 500-1000 words so If i could search for 500 words at once that&#39;d be nice. The program is also threaded!"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1531808736,"post_id":51371952,"comment_id":89720424,"body_markdown":"You will make your code way faster by mere changing the regex to `String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;`. although since you have `Pattern.quote`, it must be `String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;`","body":"You will make your code way faster by mere changing the regex to <code>String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;</code>. although since you have <code>Pattern.quote</code>, it must be <code>String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;</code>"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531850913,"post_id":51371952,"comment_id":89747464,"body_markdown":"@WiktorStribiżew the two different snippets you provided seem very different? Could you maybe explain the difference between `String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;` and `String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;`","body":"@WiktorStribiżew the two different snippets you provided seem very different? Could you maybe explain the difference between <code>String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;</code> and <code>String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;</code>"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1531851074,"post_id":51371952,"comment_id":89747542,"body_markdown":"@dude8998 There is little difference, however, `&quot;\\\\b\\\\+test\\\\b&quot;` will never match anything in `&quot;my +test test&quot;` because there must be a letter, or digit, or `_` before `+test`. However, `&quot;(?&lt;!\\\\w)\\\\+test(?!\\\\w)&quot;` will match `+test` in that string. To match partial strings, you need to use `.find()` method, not `.matches()`.","body":"@dude8998 There is little difference, however, <code>&quot;\\\\b\\\\+test\\\\b&quot;</code> will never match anything in <code>&quot;my +test test&quot;</code> because there must be a letter, or digit, or <code>_</code> before <code>+test</code>. However, <code>&quot;(?&lt;!\\\\w)\\\\+test(?!\\\\w)&quot;</code> will match <code>+test</code> in that string. To match partial strings, you need to use <code>.find()</code> method, not <code>.matches()</code>."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1531855475,"post_id":51371952,"comment_id":89749656,"body_markdown":"Ok, I got what you need. Try [**this code on your side**](https://ideone.com/J9olAb), let me know via a comment with `@Wiktor` and if it works, I will post with explanations. And if you only have words in the word list that consist of letters, digits or `_`s, you may use a [**lighter version**](https://ideone.com/h77G9d).","body":"Ok, I got what you need. Try <a href=\"https://ideone.com/J9olAb\" rel=\"nofollow noreferrer\"><b>this code on your side</b></a>, let me know via a comment with <code>@Wiktor</code> and if it works, I will post with explanations. And if you only have words in the word list that consist of letters, digits or <code>_</code>s, you may use a <a href=\"https://ideone.com/h77G9d\" rel=\"nofollow noreferrer\"><b>lighter version</b></a>."},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531862523,"post_id":51371952,"comment_id":89752866,"body_markdown":"@WiktorStribiżew the words list is very simple! Always uppercase letters, hyphens, maybe digits, and occasionally (/ ) slashes. I will try your code and get back to you unless this information changes things","body":"@WiktorStribiżew the words list is very simple! Always uppercase letters, hyphens, maybe digits, and occasionally (/ ) slashes. I will try your code and get back to you unless this information changes things"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1531862628,"post_id":51371952,"comment_id":89752902,"body_markdown":"@dude8998 If the hyphens cannot be at the beginning and end then use the lighter version.","body":"@dude8998 If the hyphens cannot be at the beginning and end then use the lighter version."},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531862822,"post_id":51371952,"comment_id":89752984,"body_markdown":"@WiktorStribiżew what about for slashes? And yes the hyphens will likely never be at beginning or end","body":"@WiktorStribiżew what about for slashes? And yes the hyphens will likely never be at beginning or end"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1531862899,"post_id":51371952,"comment_id":89753011,"body_markdown":"@dude8998 Slashes are non-word chars (same as hyphens), so `\\b/` will only match in strings like `w/`, `1/` or `_/`, but will not  match in `./` or `a /bcd` NOTE that neither hyphens nor slashes need escaping.","body":"@dude8998 Slashes are non-word chars (same as hyphens), so <code>\\b&#47;</code> will only match in strings like <code>w&#47;</code>, <code>1&#47;</code> or <code>_&#47;</code>, but will not  match in <code>.&#47;</code> or <code>a &#47;bcd</code> NOTE that neither hyphens nor slashes need escaping."},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531863019,"post_id":51371952,"comment_id":89753043,"body_markdown":"Great, I will use the lighter version!","body":"Great, I will use the lighter version!"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531863325,"post_id":51371952,"comment_id":89753171,"body_markdown":"@WiktorStribiżew but There is a problem, I need to add every word I find to an ArrayList, but this solution doesn&#39;t seem to let me determine which word i find, so I cant do that","body":"@WiktorStribiżew but There is a problem, I need to add every word I find to an ArrayList, but this solution doesn&#39;t seem to let me determine which word i find, so I cant do that"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1531863412,"post_id":51371952,"comment_id":89753207,"body_markdown":"See https://ideone.com/xVFuGP. See my answer below.","body":"See <a href=\"https://ideone.com/xVFuGP\" rel=\"nofollow noreferrer\">ideone.com/xVFuGP</a>. See my answer below."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1531863432,"creation_date":1531863131,"answer_id":51390482,"question_id":51371952,"body_markdown":"You may use\r\n\r\n    String paragraph = &quot;I ate an apple, but I am still hungry, so I will eat pie&quot;;\r\n\tList&lt;String&gt; wordList = Arrays.asList(&quot;apple&quot;,&quot;hungry&quot;,&quot;pie&quot;);\r\n\tPattern p = Pattern.compile(&quot;\\\\b(?:&quot; + String.join(&quot;|&quot;, wordList) + &quot;)\\\\b&quot;);\r\n\tMatcher m = p.matcher(paragraph);\r\n\tif (m.find()) {  // To find all matches, replace &quot;if&quot; with &quot;while&quot;\r\n\t\tSystem.out.println(&quot;Found &quot; + m.group()); // =&gt; Found apple\r\n\t}\r\n\r\nSee the [Java demo][1].\r\n\r\nThe regex will look like `\\b(?:word1|word2|wordN)\\b` and will match:\r\n\r\n - `\\b` - a word boundary\r\n - `(?:word1|word2|wordN)` - any of the alternatives inside the non-capturing group\r\n - `\\b` - a word boundary\r\n\r\nSince you say the characters in the words can only be uppercase letters, digits and hyphens with slashes, none of them need escaping, so `Pattern.quote` is not important here. Also, since the slashes and hyphens will never appear at the start/end of the string, you won&#39;t have issues usually caused by `\\b` word boundary. Otherwise, replace the first `&quot;\\\\b&quot;` with `&quot;(?&lt;!\\\\w)&quot;` and the last one with `&quot;(?!\\\\w)&quot;`.\r\n\r\n  [1]: https://ideone.com/xVFuGP","title":"Optimize Finding Words in Paragraph","body":"<p>You may use</p>\n\n<pre><code>String paragraph = \"I ate an apple, but I am still hungry, so I will eat pie\";\nList&lt;String&gt; wordList = Arrays.asList(\"apple\",\"hungry\",\"pie\");\nPattern p = Pattern.compile(\"\\\\b(?:\" + String.join(\"|\", wordList) + \")\\\\b\");\nMatcher m = p.matcher(paragraph);\nif (m.find()) {  // To find all matches, replace \"if\" with \"while\"\n    System.out.println(\"Found \" + m.group()); // =&gt; Found apple\n}\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/xVFuGP\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n\n<p>The regex will look like <code>\\b(?:word1|word2|wordN)\\b</code> and will match:</p>\n\n<ul>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>(?:word1|word2|wordN)</code> - any of the alternatives inside the non-capturing group</li>\n<li><code>\\b</code> - a word boundary</li>\n</ul>\n\n<p>Since you say the characters in the words can only be uppercase letters, digits and hyphens with slashes, none of them need escaping, so <code>Pattern.quote</code> is not important here. Also, since the slashes and hyphens will never appear at the start/end of the string, you won't have issues usually caused by <code>\\b</code> word boundary. Otherwise, replace the first <code>\"\\\\b\"</code> with <code>\"(?&lt;!\\\\w)\"</code> and the last one with <code>\"(?!\\\\w)\"</code>.</p>\n"}],"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51390482,"answer_count":1,"score":1,"last_activity_date":1693129941,"creation_date":1531790515,"question_id":51371952,"body_markdown":"I&#39;m searching for words in a paragraph but it takes ages with long paragraphs. Hence, I want to remove the words after I find it in the paragraph to shorten the number of words I have to go through. Or if there&#39;s a better way to make this efficient do tell!\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    for (String word : wordList) {\r\n    \tString regex = &quot;.*\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b.*&quot;; \r\n    \tPattern p = Pattern.compile(regex);\r\n    \tMatcher m = p.matcher(paragraph);\r\n    \tif (m.find()) {\r\n    \t\tSystem.out.println(&quot;Found: &quot; + word);\r\n            list.add(word);\r\n    \t}\r\n    }\r\n\r\nFor example, lets say my `wordList` has the following values `&quot;apple&quot;,&quot;hungry&quot;,&quot;pie&quot;`\r\n\r\nAnd my `paragraph` is `&quot;I ate an apple, but I am still hungry, so I will eat pie&quot;`\r\n\r\nI want to find the words in `wordList` in the `paragraph` and eliminate them in the hopes of making the above code faster","title":"Optimize Finding Words in Paragraph","body":"<p>I'm searching for words in a paragraph but it takes ages with long paragraphs. Hence, I want to remove the words after I find it in the paragraph to shorten the number of words I have to go through. Or if there's a better way to make this efficient do tell!</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (String word : wordList) {\n    String regex = \".*\\\\b\" + Pattern.quote(word) + \"\\\\b.*\"; \n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(paragraph);\n    if (m.find()) {\n        System.out.println(\"Found: \" + word);\n        list.add(word);\n    }\n}\n</code></pre>\n\n<p>For example, lets say my <code>wordList</code> has the following values <code>\"apple\",\"hungry\",\"pie\"</code></p>\n\n<p>And my <code>paragraph</code> is <code>\"I ate an apple, but I am still hungry, so I will eat pie\"</code></p>\n\n<p>I want to find the words in <code>wordList</code> in the <code>paragraph</code> and eliminate them in the hopes of making the above code faster</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1530686643,"post_id":51165382,"comment_id":89317736,"body_markdown":"standard [documentation of Pattern](https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html#DOTALL)","body":"standard <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"nofollow noreferrer\">documentation of Pattern</a>"}],"answers":[{"tags":[],"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530685369,"creation_date":1530676378,"answer_id":51165509,"question_id":51165382,"body_markdown":"***To include newline and spaces*** as well, use:\r\n\r\n    ^#[\\s\\S]*#$\r\n\r\n\r\nCheck it out [here in action][1].\r\n\r\nYou java code becomes:\r\n\r\n    Matcher m = Pattern.compile(&quot;^&quot; + param1 + &quot;[\\\\s\\\\S]*&quot; + param2 + &quot;$&quot;).matcher(data);\r\n\r\n\r\nYou can also use [`Pattern.DOTALL`][2] mode as well.\r\n\r\n    Matcher m = Pattern.compile(&quot;\\\\&quot; + param1 + &quot;(.*?)\\\\&quot; + param2, Pattern.DOTALL).matcher(data);\r\n\r\n\r\n  [1]: https://regex101.com/r/3rPc0b/1\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Java regex between 2 characters include new line or tab","body":"<p><strong><em>To include newline and spaces</em></strong> as well, use:</p>\n\n<pre><code>^#[\\s\\S]*#$\n</code></pre>\n\n<p>Check it out <a href=\"https://regex101.com/r/3rPc0b/1\" rel=\"nofollow noreferrer\">here in action</a>.</p>\n\n<p>You java code becomes:</p>\n\n<pre><code>Matcher m = Pattern.compile(\"^\" + param1 + \"[\\\\s\\\\S]*\" + param2 + \"$\").matcher(data);\n</code></pre>\n\n<p>You can also use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"nofollow noreferrer\"><code>Pattern.DOTALL</code></a> mode as well.</p>\n\n<pre><code>Matcher m = Pattern.compile(\"\\\\\" + param1 + \"(.*?)\\\\\" + param2, Pattern.DOTALL).matcher(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530680546,"creation_date":1530680546,"answer_id":51166075,"question_id":51165382,"body_markdown":"Add the `DOTALL` flag via `(?s)`:\r\n\r\n    Pattern.compile(&quot;\\\\Q&quot; + param1 + &quot;\\\\E(?s)(.*?)\\\\Q&quot; + param2 + &quot;\\\\E&quot;)\r\n\r\nNote also the use of `\\Q...\\E` to correctly escape the delimiter. Just putting a backslash before it won’t work for all cases.","title":"Java regex between 2 characters include new line or tab","body":"<p>Add the <code>DOTALL</code> flag via <code>(?s)</code>:</p>\n\n<pre><code>Pattern.compile(\"\\\\Q\" + param1 + \"\\\\E(?s)(.*?)\\\\Q\" + param2 + \"\\\\E\")\n</code></pre>\n\n<p>Note also the use of <code>\\Q...\\E</code> to correctly escape the delimiter. Just putting a backslash before it won’t work for all cases.</p>\n"}],"owner":{"account_id":12895701,"reputation":61,"user_id":9326100,"display_name":"bob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1693129933,"creation_date":1530675321,"question_id":51165382,"body_markdown":"I have a problem with regex between 2 strings. I want get value between string `#` and `#` but this regex is not working when I have a new line (in my case `\\r\\n`). for example:\r\n\r\n    #89899#\r\n    #this is string I have\r\n    problem#\r\n\r\nI have a problem with line 2 because have new line. how to exclude new line in regex? my code:\r\n\r\n    public static List parserStringBetween(String param1, String param2, String data) {\r\n    \tList result = null;\r\n    \r\n    \tif (param1 != null &amp;&amp; !&quot;&quot;.equalsIgnoreCase(param1) &amp;&amp; param2 != null &amp;&amp; !&quot;&quot;.equalsIgnoreCase(param2)\r\n    \t\t\t&amp;&amp; data != null &amp;&amp; !&quot;&quot;.equalsIgnoreCase(data)) {\r\n    \t\tresult = new ArrayList&lt;&gt;();\r\n    \t\tMatcher m = Pattern.compile(&quot;\\\\&quot; + param1 + &quot;(.*?)\\\\&quot; + param2).matcher(data);\r\n    \t\twhile (m.find()) {\r\n    \t\t\tresult.add(m.group(1));\r\n    \t\t}\r\n    \r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\n`param1` and `param2` are string between setting i.e `#` here. How to solve this problem?\r\n\r\n","title":"Java regex between 2 characters include new line or tab","body":"<p>I have a problem with regex between 2 strings. I want get value between string <code>#</code> and <code>#</code> but this regex is not working when I have a new line (in my case <code>\\r\\n</code>). for example:</p>\n\n<pre><code>#89899#\n#this is string I have\nproblem#\n</code></pre>\n\n<p>I have a problem with line 2 because have new line. how to exclude new line in regex? my code:</p>\n\n<pre><code>public static List parserStringBetween(String param1, String param2, String data) {\n    List result = null;\n\n    if (param1 != null &amp;&amp; !\"\".equalsIgnoreCase(param1) &amp;&amp; param2 != null &amp;&amp; !\"\".equalsIgnoreCase(param2)\n            &amp;&amp; data != null &amp;&amp; !\"\".equalsIgnoreCase(data)) {\n        result = new ArrayList&lt;&gt;();\n        Matcher m = Pattern.compile(\"\\\\\" + param1 + \"(.*?)\\\\\" + param2).matcher(data);\n        while (m.find()) {\n            result.add(m.group(1));\n        }\n\n    }\n    return result;\n}\n</code></pre>\n\n<p><code>param1</code> and <code>param2</code> are string between setting i.e <code>#</code> here. How to solve this problem?</p>\n"},{"tags":["java","regex","parsing"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1529892108,"post_id":51015401,"comment_id":89023566,"body_markdown":"You&#39;re never matched anything against `matcher`. I&#39;m not sure why you&#39;re calling the static method `Pattern.matches` but that line should read `boolean b = matcher.matches();`","body":"You&#39;re never matched anything against <code>matcher</code>. I&#39;m not sure why you&#39;re calling the static method <code>Pattern.matches</code> but that line should read <code>boolean b = matcher.matches();</code>"}],"answers":[{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529892191,"creation_date":1529892191,"answer_id":51015430,"question_id":51015401,"body_markdown":"You&#39;re never matched anything against matcher. I&#39;m not sure why you&#39;re calling the static method Pattern.matches but that line should read \r\n\r\n    boolean b = matcher.matches();\r\n\r\nLike this:\r\n\r\n    public class Parser {\r\n        Pattern pattern;\r\n        Matcher matcher;\r\n        String g;\r\n    \r\n        public Parser(String s) {\r\n            g = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n            pattern = Pattern.compile(&quot;^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$&quot;);\r\n            matcher = pattern.matcher(g);\r\n            boolean b = matcher.matches();\r\n    \r\n            System.out.println(b + &quot; &quot;);\r\n            System.out.println(matcher.group(1));\r\n        }\r\n    }","title":"How exactly does Pattern.matcher() work?","body":"<p>You're never matched anything against matcher. I'm not sure why you're calling the static method Pattern.matches but that line should read </p>\n\n<pre><code>boolean b = matcher.matches();\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>public class Parser {\n    Pattern pattern;\n    Matcher matcher;\n    String g;\n\n    public Parser(String s) {\n        g = s.replaceAll(\"\\\\s+\", \"\");\n        pattern = Pattern.compile(\"^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$\");\n        matcher = pattern.matcher(g);\n        boolean b = matcher.matches();\n\n        System.out.println(b + \" \");\n        System.out.println(matcher.group(1));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13835031,"reputation":25,"user_id":9986788,"display_name":"Pavle Djordjevic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1529892192,"answer_count":1,"score":0,"last_activity_date":1693129925,"creation_date":1529891831,"question_id":51015401,"body_markdown":"So I&#39;m trying to create a parser that will match certain parts of a string. String looks like f(q[group1],[group2])=(q[group3],[group4],[group5]). Pattern.matches() in code below returns true but I&#39;m unable to access groups via matcher.group(int). Last line in code provided throws: java.lang.IllegalStateException: No match available\r\n\r\n    public class Parser {\r\n       Pattern pattern;\r\n       Matcher matcher;\r\n       String g;\r\n     \r\n    public Parser(String s) {\r\n       g = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n       pattern = Pattern.compile(&quot;^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$&quot;);\r\n       matcher = pattern.matcher(g);\r\n       boolean b = Pattern.matches(&quot;^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$&quot;,g);\r\n       \r\n     System.out.println(b +   &quot; &quot;);\r\n     System.out.println(matcher.group(1));\r\n    }\r\n    }\r\n\r\n\r\n\r\n","title":"How exactly does Pattern.matcher() work?","body":"<p>So I'm trying to create a parser that will match certain parts of a string. String looks like f(q[group1],[group2])=(q[group3],[group4],[group5]). Pattern.matches() in code below returns true but I'm unable to access groups via matcher.group(int). Last line in code provided throws: java.lang.IllegalStateException: No match available</p>\n\n<pre><code>public class Parser {\n   Pattern pattern;\n   Matcher matcher;\n   String g;\n\npublic Parser(String s) {\n   g = s.replaceAll(\"\\\\s+\", \"\");\n   pattern = Pattern.compile(\"^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$\");\n   matcher = pattern.matcher(g);\n   boolean b = Pattern.matches(\"^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$\",g);\n\n System.out.println(b +   \" \");\n System.out.println(matcher.group(1));\n}\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1528978193,"post_id":50857224,"comment_id":88716862,"body_markdown":"use `^` at the beginning and `$` at the end of the regex: `^CAR_COMPONENTS_ADT$`","body":"use <code>^</code> at the beginning and <code>$</code> at the end of the regex: <code>^CAR_COMPONENTS_ADT$</code>"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1528982014,"post_id":50857224,"comment_id":88719373,"body_markdown":"Does that mean that the matches are only expected if the search word is not enclosed with letters or/and `_`? Try `pattern.matcher(&quot;(?&lt;![_\\\\p{L}])&quot; + f.getName() + &quot;(?![_\\\\p{L}])&quot;)`","body":"Does that mean that the matches are only expected if the search word is not enclosed with letters or/and <code>_</code>? Try <code>pattern.matcher(&quot;(?&lt;![_\\\\p{L}])&quot; + f.getName() + &quot;(?![_\\\\p{L}])&quot;)</code>"},{"owner":{"account_id":11294116,"reputation":215,"user_id":8282112,"display_name":"Sid"},"score":0,"creation_date":1528982394,"post_id":50857224,"comment_id":88719621,"body_markdown":"will do, I have also tried this that seems to work","body":"will do, I have also tried this that seems to work"},{"owner":{"account_id":11294116,"reputation":215,"user_id":8282112,"display_name":"Sid"},"score":0,"creation_date":1528982579,"post_id":50857224,"comment_id":88719745,"body_markdown":"for(File f: fileList){ if(paternName.equals(f){  for(File t:fileList){ Matcher matcher = p.matcher(t)  if(matcher.find(){count++} }  }}","body":"for(File f: fileList){ if(paternName.equals(f){  for(File t:fileList){ Matcher matcher = p.matcher(t)  if(matcher.find(){count++} }  }}"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1528982890,"post_id":50857224,"comment_id":88719948,"body_markdown":"Oh, sorry, I messed the code a bit, I will post the answer then.","body":"Oh, sorry, I messed the code a bit, I will post the answer then."}],"answers":[{"tags":[],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528978964,"creation_date":1528978964,"answer_id":50857465,"question_id":50857224,"body_markdown":"There are two problems here:\r\n\r\n1. The regex of `Pattern.matcher` will not look for the full string unless you add a leading `^` (start of regex) and trailing `$` (end of regex).\r\n2. `file.getName()` will return the name including file extension.\r\n\r\n**So, there are two possible solutions:**\r\n\r\n1) You could change the regex of the pattern so the matches does only match the full file-name:\r\n\r\n    int count=0;\r\n    Pattern pattern = Pattern.compile(&quot;^&quot; + patternName + &quot;\\\\.?.+$&quot;);\r\n    for(File f: fileList){\r\n      Matcher matcher = pattern.matcher(f.getName());\r\n      if(matcher.find()){\r\n        count++;\r\n      }\r\n    }\r\n\r\nShort explanation of the regex:\r\n\r\n&lt;!-- language-all: lang-python --&gt;\r\n\r\n    ^NUTS\\\\.?.+$\r\n    ^          $    # Start and end of the regex, to match the entire file-name\r\n     NUTS           # The file name you want to check\r\n         \\\\.?.*     # An (optional) file extension (i.e. `.txt`)\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n2) You could remove the extension, and use an `.equals`:\r\n\r\n    int count=0;\r\n    for(File f: fileList){\r\n      String fileNameWithoutExtension = f.getName().split(&quot;\\\\.&quot;)[0];\r\n      if(patternName.equals(fileNameWithoutExtension)){\r\n        count++;\r\n      }\r\n    }","title":"Java Pattern Matcher Incorrectly matches sub string","body":"<p>There are two problems here:</p>\n\n<ol>\n<li>The regex of <code>Pattern.matcher</code> will not look for the full string unless you add a leading <code>^</code> (start of regex) and trailing <code>$</code> (end of regex).</li>\n<li><code>file.getName()</code> will return the name including file extension.</li>\n</ol>\n\n<p><strong>So, there are two possible solutions:</strong></p>\n\n<p>1) You could change the regex of the pattern so the matches does only match the full file-name:</p>\n\n<pre><code>int count=0;\nPattern pattern = Pattern.compile(\"^\" + patternName + \"\\\\.?.+$\");\nfor(File f: fileList){\n  Matcher matcher = pattern.matcher(f.getName());\n  if(matcher.find()){\n    count++;\n  }\n}\n</code></pre>\n\n<p>Short explanation of the regex:</p>\n\n\n\n<pre class=\"lang-python prettyprint-override\"><code>^NUTS\\\\.?.+$\n^          $    # Start and end of the regex, to match the entire file-name\n NUTS           # The file name you want to check\n     \\\\.?.*     # An (optional) file extension (i.e. `.txt`)\n</code></pre>\n\n\n\n<p>2) You could remove the extension, and use an <code>.equals</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int count=0;\nfor(File f: fileList){\n  String fileNameWithoutExtension = f.getName().split(\"\\\\.\")[0];\n  if(patternName.equals(fileNameWithoutExtension)){\n    count++;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1528983019,"creation_date":1528983019,"answer_id":50858726,"question_id":50857224,"body_markdown":"You want to match a term only when it is not enclosed with letters/underscore.\r\n\r\nUse\r\n   \r\n    int count=0;\r\n    Pattern pattern = Pattern.compile(&quot;(?&lt;![_\\\\p{L}])&quot; + patternName + &quot;(?![_\\\\p{L}])&quot;);\r\n    for(File f: fileList) {\r\n        Matcher matcher = pattern.matcher(f.getName());\r\n        if(matcher.find()){\r\n            count++;\r\n        }\r\n    }\r\n\r\nSee the [regex demo with `CAR_COMPONENTS_ADT`](https://regex101.com/r/TEy3II/1) and [a regex demo with `CAR_COMPONENTS`](https://regex101.com/r/TEy3II/2).\r\n\r\nThe `(?&lt;![_\\p{L}])` is a negative lookbehind that matches a location in string that is not immediately preceded with a `_` or any letter (replace `\\p{L}` with `[A-Za-z]` or `\\p{Alpha}` to only match ASCII letters) and `(?![_\\p{L}])` is a negative lookahead that fails the match if there is a letter or `_` immediately to the right of the current location.","title":"Java Pattern Matcher Incorrectly matches sub string","body":"<p>You want to match a term only when it is not enclosed with letters/underscore.</p>\n\n<p>Use</p>\n\n<pre><code>int count=0;\nPattern pattern = Pattern.compile(\"(?&lt;![_\\\\p{L}])\" + patternName + \"(?![_\\\\p{L}])\");\nfor(File f: fileList) {\n    Matcher matcher = pattern.matcher(f.getName());\n    if(matcher.find()){\n        count++;\n    }\n}\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/TEy3II/1\" rel=\"nofollow noreferrer\">regex demo with <code>CAR_COMPONENTS_ADT</code></a> and <a href=\"https://regex101.com/r/TEy3II/2\" rel=\"nofollow noreferrer\">a regex demo with <code>CAR_COMPONENTS</code></a>.</p>\n\n<p>The <code>(?&lt;![_\\p{L}])</code> is a negative lookbehind that matches a location in string that is not immediately preceded with a <code>_</code> or any letter (replace <code>\\p{L}</code> with <code>[A-Za-z]</code> or <code>\\p{Alpha}</code> to only match ASCII letters) and <code>(?![_\\p{L}])</code> is a negative lookahead that fails the match if there is a letter or <code>_</code> immediately to the right of the current location.</p>\n"}],"owner":{"account_id":11294116,"reputation":215,"user_id":8282112,"display_name":"Sid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50858726,"answer_count":2,"score":2,"last_activity_date":1693129882,"creation_date":1528978129,"question_id":50857224,"body_markdown":"I have a list of folders at a particular file path\r\nand it gives following file listwhen searched through the cod below\r\n                                                                              \r\n    File[] fileList = folderListLocation.listFiles(someFileFilter);\r\n    //it gives following list\r\n    fileList=[NUTS, BOLTS, CAR_COMPONENTS_ADT,CAR_COMPONENTS_ADT1, WINDSHIELD]\r\nNow I am trying to get a count for folders of one particular name, that means if I use a pattern matcher to look for CAR_COMPONENTS_ADT, it should give me count as 2, if I look for NUTS using pattern matcher, I should get a count as 1\r\n\r\nNow I am using following code to match this file list against some patterns in following code\r\n \r\n     int count=0;\r\n\t Pattern pattern = Pattern.compile(patternName);\r\n\t\t\r\n\tfor(File f: fileList){\r\n\tMatcher matcher = pattern.matcher(f.getName());\r\n\tif(matcher.find()){\r\n\t\t\tcount++;\r\n\t\t}\r\n\t}\r\n\r\nNow in normal course of things this worked fine, say if patternName = &quot;BIRD&quot;, it won&#39;t match against the file list and final value of \r\n                                                                             \r\n     count will be 0\r\nbut if patternName = &quot;CAR_COMPONENTS&quot;, it results in                         \r\n                  \r\n      count as 2\r\n\r\nSo what I don&#39;t understand is that how come pattern matcher match &quot;CAR_COMPONENTS&quot; with &quot;CAR_COMPONENTS_ADT&quot; and &quot;CAR_COMPONENTS_ADT1&quot;. Even though its a sub string but I am looking for complete match not partial.  \r\n\r\nSuggestions and improvements will be very much welcomed. Thanks in advance\r\n","title":"Java Pattern Matcher Incorrectly matches sub string","body":"<p>I have a list of folders at a particular file path\nand it gives following file listwhen searched through the cod below</p>\n\n<pre><code>File[] fileList = folderListLocation.listFiles(someFileFilter);\n//it gives following list\nfileList=[NUTS, BOLTS, CAR_COMPONENTS_ADT,CAR_COMPONENTS_ADT1, WINDSHIELD]\n</code></pre>\n\n<p>Now I am trying to get a count for folders of one particular name, that means if I use a pattern matcher to look for CAR_COMPONENTS_ADT, it should give me count as 2, if I look for NUTS using pattern matcher, I should get a count as 1</p>\n\n<p>Now I am using following code to match this file list against some patterns in following code</p>\n\n<pre><code> int count=0;\n Pattern pattern = Pattern.compile(patternName);\n\nfor(File f: fileList){\nMatcher matcher = pattern.matcher(f.getName());\nif(matcher.find()){\n        count++;\n    }\n}\n</code></pre>\n\n<p>Now in normal course of things this worked fine, say if patternName = \"BIRD\", it won't match against the file list and final value of </p>\n\n<pre><code> count will be 0\n</code></pre>\n\n<p>but if patternName = \"CAR_COMPONENTS\", it results in                         </p>\n\n<pre><code>  count as 2\n</code></pre>\n\n<p>So what I don't understand is that how come pattern matcher match \"CAR_COMPONENTS\" with \"CAR_COMPONENTS_ADT\" and \"CAR_COMPONENTS_ADT1\". Even though its a sub string but I am looking for complete match not partial.  </p>\n\n<p>Suggestions and improvements will be very much welcomed. Thanks in advance</p>\n"},{"tags":["java","regex","separator"],"comments":[{"owner":{"display_name":"user9755712"},"score":1,"creation_date":1526516470,"post_id":50380810,"comment_id":87779403,"body_markdown":"I am not sure if we even need this method, because if you just use / everywhere, Java will operate correctly on all platforms. There should not be a need to use backslashes in Java filenames.\nIf that&#39;s the case, then why do we even need File. separator anymore?","body":"I am not sure if we even need this method, because if you just use / everywhere, Java will operate correctly on all platforms. There should not be a need to use backslashes in Java filenames. If that&#39;s the case, then why do we even need File. separator anymore?"},{"owner":{"account_id":13201793,"reputation":3606,"user_id":9534819,"display_name":"Matt.G"},"score":0,"creation_date":1526519387,"post_id":50380810,"comment_id":87779903,"body_markdown":"which is the IDE that you use for Java programming? does it support Regex Find and Replace?","body":"which is the IDE that you use for Java programming? does it support Regex Find and Replace?"},{"owner":{"display_name":"user9755712"},"score":0,"creation_date":1526573587,"post_id":50380810,"comment_id":87807952,"body_markdown":"I&#39;m using Eclipse. It supports Regex Find and Replace.","body":"I&#39;m using Eclipse. It supports Regex Find and Replace."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1526699438,"post_id":50380810,"comment_id":87858000,"body_markdown":"Ignore the warning. It&#39;s wrong. `/` is a platform-independent path separator in Java.","body":"Ignore the warning. It&#39;s wrong. <code>&#47;</code> is a platform-independent path separator in Java."}],"answers":[{"tags":[],"owner":{"account_id":13539925,"reputation":71,"user_id":9767930,"display_name":"gorgeousgeorge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526517047,"creation_date":1526517047,"answer_id":50381732,"question_id":50380810,"body_markdown":"I would try splitting the string at the file separator into an array like so.\r\n\r\n    String str = &quot;/tmp/abc.txt&quot;;\r\n    String result = &quot;&quot;;\r\n    String rgx = &quot;\\\\\\\\|/&quot;;\r\n    String [] arrOfStr = str.split(rgx);;\r\n\r\nThen you can add your `File.separator` back in using a for loop. Like this:\r\n\r\n    \r\n \r\n        for (int i = 1; i &lt; arrOfStr.length ; i++)\r\n            result += File.separator + arrOfStr[i];\r\nI start from index one because the first slash gets doubled in the resulting string.","title":"Create a function for File.separator using Pattern Matcher","body":"<p>I would try splitting the string at the file separator into an array like so.</p>\n\n<pre><code>String str = \"/tmp/abc.txt\";\nString result = \"\";\nString rgx = \"\\\\\\\\|/\";\nString [] arrOfStr = str.split(rgx);;\n</code></pre>\n\n<p>Then you can add your <code>File.separator</code> back in using a for loop. Like this:</p>\n\n<pre><code>    for (int i = 1; i &lt; arrOfStr.length ; i++)\n        result += File.separator + arrOfStr[i];\n</code></pre>\n\n<p>I start from index one because the first slash gets doubled in the resulting string.</p>\n"},{"tags":[],"owner":{"account_id":13201793,"reputation":3606,"user_id":9534819,"display_name":"Matt.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526696753,"creation_date":1526696753,"answer_id":50421251,"question_id":50380810,"body_markdown":"Since this is a one time change, you could use the regex find and replace in Eclipse\r\n\r\nFor the first case:\r\nuse Regex: `^File\\sfileUnsafe\\s=\\snew File\\(\\&quot;(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\&quot;\\);`\r\n\r\nReplace with: `File fileSafe = new File(&quot;${folder1}&quot;+File.separator+&quot;${fileName}${extension}&quot;);`\r\n\r\n[Demo][1]\r\n\r\nFor the second case:\r\nuse Regex: `^File\\sfileUnsafe\\s=\\snew File\\(\\&quot;\\/(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\&quot;\\);`\r\n\r\nReplace with: `File fileSafe = new File(File.separator+&quot;${folder1}&quot;+File.separator+&quot;${fileName}${extension}&quot;);`\r\n\r\n[Demo][2]\r\n\r\nif you have more than one folder, you could continue this pattern and fix them.\r\n\r\nI admit, this is not a clean straight forward way, but will get the job done.\r\n\r\n  [1]: https://regex101.com/r/7C2QRY/1\r\n  [2]: https://regex101.com/r/FBIPs6/1","title":"Create a function for File.separator using Pattern Matcher","body":"<p>Since this is a one time change, you could use the regex find and replace in Eclipse</p>\n\n<p>For the first case:\nuse Regex: <code>^File\\sfileUnsafe\\s=\\snew File\\(\\\"(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\\"\\);</code></p>\n\n<p>Replace with: <code>File fileSafe = new File(\"${folder1}\"+File.separator+\"${fileName}${extension}\");</code></p>\n\n<p><a href=\"https://regex101.com/r/7C2QRY/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>For the second case:\nuse Regex: <code>^File\\sfileUnsafe\\s=\\snew File\\(\\\"\\/(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\\"\\);</code></p>\n\n<p>Replace with: <code>File fileSafe = new File(File.separator+\"${folder1}\"+File.separator+\"${fileName}${extension}\");</code></p>\n\n<p><a href=\"https://regex101.com/r/FBIPs6/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>if you have more than one folder, you could continue this pattern and fix them.</p>\n\n<p>I admit, this is not a clean straight forward way, but will get the job done.</p>\n"}],"owner":{"display_name":"user9755712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693129872,"creation_date":1526509802,"question_id":50380810,"body_markdown":"A static analysis tool when running on my java project gives &quot;Portability Flaw In File Separator&quot; error and I need to fix it. In my code, I have fileUnsafe. I want to use a method to convert it into fileSafe (explained below).\r\n\r\n    // Case 1\r\n    //no platform independence, good for Unix systems\r\n    File fileUnsafe = new File(&quot;tmp/abc.txt&quot;);\r\n\r\n    //platform independent and safe to use across Unix and Windows\r\n    File fileSafe = new File(&quot;tmp&quot;+File.separator+&quot;abc.txt&quot;);\r\n\r\nSimilarly for paths like - \r\n\r\n    // Case 2\r\n    //no platform independence, good for Unix systems\r\n    File fileUnsafe = new File(&quot;/tmp/abc.txt&quot;);\r\n\r\n    // platform independent and safe to use across Unix and Windows\r\n    File fileSafe = new File(File.separator+&quot;tmp&quot;+File.separator+&quot;abc.txt&quot;);\r\n\r\nI have multiple of these file addresses throughout my project and I need to create some conversion method that could just take in this path as a string, append File.separator to it, and return it. Something like this -\r\n\r\n    File fileSafe = new File(someConversionMethod(&quot;/tmp/abc.txt&quot;));\r\n\r\nI tried this method but it gives me NullPointerException on case 2. \r\n\r\n    public static String someConversionMethod(String target) {\r\n\t\t\tPattern ptr = Pattern.compile(&quot;[\\\\\\\\\\\\\\\\|/]+&quot;);\r\n\t\t\tMatcher mtr = ptr.matcher(target);\r\n\t\t\treturn mtr.replaceAll(File.separator + &quot;&quot; + File.separator);\r\n\t\t}\r\n\r\nAny help either fixing this method or suggesting a graceful way to handle this situation would be appreciated. \r\n\r\nnit - I referred to https://stackoverflow.com/questions/4767456/replacing-character-with-file-separator-using-java-regex-pattern-matcher but it didn&#39;t really help my case. \r\n","title":"Create a function for File.separator using Pattern Matcher","body":"<p>A static analysis tool when running on my java project gives \"Portability Flaw In File Separator\" error and I need to fix it. In my code, I have fileUnsafe. I want to use a method to convert it into fileSafe (explained below).</p>\n\n<pre><code>// Case 1\n//no platform independence, good for Unix systems\nFile fileUnsafe = new File(\"tmp/abc.txt\");\n\n//platform independent and safe to use across Unix and Windows\nFile fileSafe = new File(\"tmp\"+File.separator+\"abc.txt\");\n</code></pre>\n\n<p>Similarly for paths like - </p>\n\n<pre><code>// Case 2\n//no platform independence, good for Unix systems\nFile fileUnsafe = new File(\"/tmp/abc.txt\");\n\n// platform independent and safe to use across Unix and Windows\nFile fileSafe = new File(File.separator+\"tmp\"+File.separator+\"abc.txt\");\n</code></pre>\n\n<p>I have multiple of these file addresses throughout my project and I need to create some conversion method that could just take in this path as a string, append File.separator to it, and return it. Something like this -</p>\n\n<pre><code>File fileSafe = new File(someConversionMethod(\"/tmp/abc.txt\"));\n</code></pre>\n\n<p>I tried this method but it gives me NullPointerException on case 2. </p>\n\n<pre><code>public static String someConversionMethod(String target) {\n        Pattern ptr = Pattern.compile(\"[\\\\\\\\\\\\\\\\|/]+\");\n        Matcher mtr = ptr.matcher(target);\n        return mtr.replaceAll(File.separator + \"\" + File.separator);\n    }\n</code></pre>\n\n<p>Any help either fixing this method or suggesting a graceful way to handle this situation would be appreciated. </p>\n\n<p>nit - I referred to <a href=\"https://stackoverflow.com/questions/4767456/replacing-character-with-file-separator-using-java-regex-pattern-matcher\">Replacing character with File.separator using java.regex Pattern Matcher</a> but it didn't really help my case. </p>\n"},{"tags":["java","regex","java-8"],"comments":[{"owner":{"account_id":10802634,"reputation":364,"user_id":8603014,"accept_rate":83,"display_name":"mark42inbound"},"score":0,"creation_date":1526284778,"post_id":50321341,"comment_id":87666768,"body_markdown":"According to the code, shouldn&#39;t the output be `&quot;hey.there.man.Acrazy$carlWalletjones&quot;`?","body":"According to the code, shouldn&#39;t the output be <code>&quot;hey.there.man.Acrazy$carlWalletjones&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1526326240,"creation_date":1526253494,"answer_id":50321433,"question_id":50321341,"body_markdown":"In order to capture just the right characters you should exclude right curly brace from your group `[^}]+`. In fact it&#39;s better practice to just include the specific pattern you are looking for to catch errors early:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\$\\\\{([a-z]\\\\.[a-z]+)\\\\}&quot;);\r\n\r\nThe method `Matcher.replaceAll​(Function&lt;MatchResult,String&gt; replacer)` is designed to do exactly what you are asking for. The function passed to the method is given each match and returns a string to replace it with.\r\n\r\nIn your case:\r\n\r\n    pattern.matcher(input).replaceAll(mr -&gt; resolveMatchedValue(mr.group(1)));\r\n\r\nWill return a string with all substrings matching your pattern replaced.\r\n\r\nHere&#39;s a working example that just uppercases the fields:\r\n\r\n    System.out.println(Pattern.compile(&quot;\\\\$\\\\{([[a-z]\\\\.[a-z])\\\\}&quot;)\r\n        .matcher(&quot;hey.there.man.${a.a}crazy$carl${a.b}jones&quot;)\r\n        .replaceAll(mr -&gt; mr.group(1).toUpperCase()));\r\n\r\n----------\r\n\r\n\r\nPrior to Java 9 an equivalent is:\r\n\r\n    StringBuffer result = new StringBuffer();\r\n    while (matcher.find()) {\r\n        matcher.appendReplacement(result, resolvedMatchedValue(matcher.group(1)));\r\n    }\r\n    matcher.appendTail(result);\r\n\r\nAfter which `result.toString()` holds the new string.","title":"Java matcher how to dynamically replace groups based on their value","body":"<p>In order to capture just the right characters you should exclude right curly brace from your group <code>[^}]+</code>. In fact it's better practice to just include the specific pattern you are looking for to catch errors early:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\$\\\\{([a-z]\\\\.[a-z]+)\\\\}\");\n</code></pre>\n\n<p>The method <code>Matcher.replaceAll​(Function&lt;MatchResult,String&gt; replacer)</code> is designed to do exactly what you are asking for. The function passed to the method is given each match and returns a string to replace it with.</p>\n\n<p>In your case:</p>\n\n<pre><code>pattern.matcher(input).replaceAll(mr -&gt; resolveMatchedValue(mr.group(1)));\n</code></pre>\n\n<p>Will return a string with all substrings matching your pattern replaced.</p>\n\n<p>Here's a working example that just uppercases the fields:</p>\n\n<pre><code>System.out.println(Pattern.compile(\"\\\\$\\\\{([[a-z]\\\\.[a-z])\\\\}\")\n    .matcher(\"hey.there.man.${a.a}crazy$carl${a.b}jones\")\n    .replaceAll(mr -&gt; mr.group(1).toUpperCase()));\n</code></pre>\n\n<hr>\n\n<p>Prior to Java 9 an equivalent is:</p>\n\n<pre><code>StringBuffer result = new StringBuffer();\nwhile (matcher.find()) {\n    matcher.appendReplacement(result, resolvedMatchedValue(matcher.group(1)));\n}\nmatcher.appendTail(result);\n</code></pre>\n\n<p>After which <code>result.toString()</code> holds the new string.</p>\n"}],"owner":{"account_id":13560509,"reputation":21,"user_id":9782416,"display_name":"yoplay one"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1911,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693129837,"creation_date":1526252516,"question_id":50321341,"body_markdown":"For a quick sample, I have the following string:\r\n\r\n    String s = &quot;hey.there.man.${a.a}crazy$carl${a.b}jones\r\n\r\nI also have the following method:\r\n\r\n    private String resolveMatchedValue(String s) {\r\n        if(s.equals(&quot;a.a&quot;)) {\r\n               return &quot;A&quot;;\r\n        else if(s.equals(&quot;a.b&quot;)) { \r\n               return &quot;Wallet&quot;;\r\n        else if(.....\r\n        ....\r\n     }\r\n\r\nMy pattern would be\r\n  \r\n     Pattern pattern = Pattern.compile(&quot;\\\\$\\\\{(.*?)\\\\}&quot;);\r\n\r\nSo for every substring in s that matches ${.*} I want there to be a call to the resolveMatchedValue method and it should be replaced with that. So ideally after the regex process s should be\r\n\r\n     s = &quot;hey.there.man.Acrazy$carl$Walletjones\r\n\r\nI&#39;ve looked at similar solutions but nothing that dynamically replaces the matched values based on the matched value, and have not been able to get it to work\r\n\r\nedit: using java8\r\n","title":"Java matcher how to dynamically replace groups based on their value","body":"<p>For a quick sample, I have the following string:</p>\n\n<pre><code>String s = \"hey.there.man.${a.a}crazy$carl${a.b}jones\n</code></pre>\n\n<p>I also have the following method:</p>\n\n<pre><code>private String resolveMatchedValue(String s) {\n    if(s.equals(\"a.a\")) {\n           return \"A\";\n    else if(s.equals(\"a.b\")) { \n           return \"Wallet\";\n    else if(.....\n    ....\n }\n</code></pre>\n\n<p>My pattern would be</p>\n\n<pre><code> Pattern pattern = Pattern.compile(\"\\\\$\\\\{(.*?)\\\\}\");\n</code></pre>\n\n<p>So for every substring in s that matches ${.*} I want there to be a call to the resolveMatchedValue method and it should be replaced with that. So ideally after the regex process s should be</p>\n\n<pre><code> s = \"hey.there.man.Acrazy$carl$Walletjones\n</code></pre>\n\n<p>I've looked at similar solutions but nothing that dynamically replaces the matched values based on the matched value, and have not been able to get it to work</p>\n\n<p>edit: using java8</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"score":0,"creation_date":1525963540,"post_id":50275589,"comment_id":87567786,"body_markdown":"`Expected Output : acds` should be `acs` cause `d` is on even position.","body":"<code>Expected Output : acds</code> should be <code>acs</code> cause <code>d</code> is on even position."},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525963650,"post_id":50275589,"comment_id":87567865,"body_markdown":"it&#39;s not on position but on the length of the pattern matched - even or odd. The length of the substring with successively repeated &#39;d&#39;-s is 3 which is odd, so it should be replaced with the group &#39;d&#39;","body":"it&#39;s not on position but on the length of the pattern matched - even or odd. The length of the substring with successively repeated &#39;d&#39;-s is 3 which is odd, so it should be replaced with the group &#39;d&#39;"},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525964353,"post_id":50275589,"comment_id":87568337,"body_markdown":"The code is skipping the first three patterns and only substituting from ddd the last match. That&#39;s the problem that I am facing. Because I called m.find() only once and then I am calling m.group(i) and that was not my expectation as well","body":"The code is skipping the first three patterns and only substituting from ddd the last match. That&#39;s the problem that I am facing. Because I called m.find() only once and then I am calling m.group(i) and that was not my expectation as well"}],"answers":[{"tags":[],"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525964247,"creation_date":1525964023,"answer_id":50275788,"question_id":50275589,"body_markdown":"You can try like that:\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;aaabbcccddds&quot;;\r\n        StringBuffer output = new StringBuffer();\r\n        Pattern repeatedChars = Pattern.compile(&quot;(\\\\w)(\\\\1+)&quot;);\r\n        Matcher m = repeatedChars.matcher(s);\r\n        while(m.find()) {\r\n            if(m.group(2).length()%2!=0)\r\n                m.appendReplacement(output, &quot;&quot;);\r\n            else\r\n                m.appendReplacement(output, &quot;$1&quot;);\r\n        }\r\n        m.appendTail(output);\r\n        System.out.println(output);\r\n    }\r\n\r\nIt is similar to yours but when getting just the first group you match the first character and your length is always 0. That&#39;s why I introduce a second group which is the matched adjacent characters. Since it has length of -1 I reverse the odd even logic and voila -\r\n\r\n&gt; acds\r\n\r\nis printed. ","title":"Java Regex Matcher skipping the matches","body":"<p>You can try like that:</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"aaabbcccddds\";\n    StringBuffer output = new StringBuffer();\n    Pattern repeatedChars = Pattern.compile(\"(\\\\w)(\\\\1+)\");\n    Matcher m = repeatedChars.matcher(s);\n    while(m.find()) {\n        if(m.group(2).length()%2!=0)\n            m.appendReplacement(output, \"\");\n        else\n            m.appendReplacement(output, \"$1\");\n    }\n    m.appendTail(output);\n    System.out.println(output);\n}\n</code></pre>\n\n<p>It is similar to yours but when getting just the first group you match the first character and your length is always 0. That's why I introduce a second group which is the matched adjacent characters. Since it has length of -1 I reverse the odd even logic and voila -</p>\n\n<blockquote>\n  <p>acds</p>\n</blockquote>\n\n<p>is printed. </p>\n"},{"tags":[],"owner":{"account_id":1007076,"reputation":48143,"user_id":1020526,"accept_rate":73,"display_name":"revo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525966069,"creation_date":1525964447,"answer_id":50275917,"question_id":50275589,"body_markdown":"You don&#39;t need multiple if statements. Try:\r\n\r\n    (?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\r\n\r\nReplace with `$1`\r\n\r\n[Regex live demo][1]\r\n\r\nJava code:\r\n\r\n    str.replaceAll(&quot;(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)&quot;, &quot;$1&quot;);\r\n\r\n[Java live demo][2]\r\n\r\nRegex breakdown:\r\n\r\n - `(?:` Start of non-capturing group\r\n\t - `(\\\\w)` Capture a word character\r\n\t - `(?:\\\\1\\\\1)+` Match an even number of same character\r\n\t - `|` Or\r\n\t - `(\\\\w)` Capture a word character\r\n\t - `\\\\2+` Match any number of same character\r\n - `)` End of non-capturing group\r\n - `(?!\\\\1|\\\\2)` Not followed by previous captured characters\r\n\r\nUsing `Pattern` and `Matcher` with `StringBuffer`:\r\n\r\n    StringBuffer output = new StringBuffer();\r\n    Pattern repeatedChars = Pattern.compile(&quot;(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)&quot;);\r\n    Matcher m = repeatedChars.matcher(s);\r\n    while(m.find()) m.appendReplacement(output, &quot;$1&quot;);\r\n    m.appendTail(output);\r\n    System.out.println(output);\r\n\r\n  [1]: https://regex101.com/r/L7Ga3Y/1\r\n  [2]: https://ideone.com/wHokyk","title":"Java Regex Matcher skipping the matches","body":"<p>You don't need multiple if statements. Try:</p>\n\n<pre><code>(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\n</code></pre>\n\n<p>Replace with <code>$1</code></p>\n\n<p><a href=\"https://regex101.com/r/L7Ga3Y/1\" rel=\"nofollow noreferrer\">Regex live demo</a></p>\n\n<p>Java code:</p>\n\n<pre><code>str.replaceAll(\"(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\", \"$1\");\n</code></pre>\n\n<p><a href=\"https://ideone.com/wHokyk\" rel=\"nofollow noreferrer\">Java live demo</a></p>\n\n<p>Regex breakdown:</p>\n\n<ul>\n<li><code>(?:</code> Start of non-capturing group\n\n<ul>\n<li><code>(\\\\w)</code> Capture a word character</li>\n<li><code>(?:\\\\1\\\\1)+</code> Match an even number of same character</li>\n<li><code>|</code> Or</li>\n<li><code>(\\\\w)</code> Capture a word character</li>\n<li><code>\\\\2+</code> Match any number of same character</li>\n</ul></li>\n<li><code>)</code> End of non-capturing group</li>\n<li><code>(?!\\\\1|\\\\2)</code> Not followed by previous captured characters</li>\n</ul>\n\n<p>Using <code>Pattern</code> and <code>Matcher</code> with <code>StringBuffer</code>:</p>\n\n<pre><code>StringBuffer output = new StringBuffer();\nPattern repeatedChars = Pattern.compile(\"(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\");\nMatcher m = repeatedChars.matcher(s);\nwhile(m.find()) m.appendReplacement(output, \"$1\");\nm.appendTail(output);\nSystem.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525965823,"creation_date":1525964601,"answer_id":50275968,"question_id":50275589,"body_markdown":"This can be done in a single `replaceAll` call like this:\r\n\r\n    String repl = str.replaceAll( &quot;(?:(.)\\\\1)+&quot;, &quot;&quot; );\r\n\r\nRegex expression `(?:(.)\\\\1)+` matches all occurrences of even repetitions and replaces it with empty string this leaving us with first character of odd number of repetitions.\r\n\r\n[RegEx Demo][1]\r\n\r\n---\r\n\r\nCode using `Pattern` and `Matcher`:\r\n\r\n\tfinal Pattern p = Pattern.compile( &quot;(?:(.)\\\\1)+&quot; );\r\n\tMatcher m = p.matcher( &quot;aaabbcccddds&quot; );\r\n\tString repl = m.replaceAll( &quot;&quot; );\r\n\t//=&gt; acds\r\n\r\n  [1]: https://regex101.com/r/7kDuwG/1","title":"Java Regex Matcher skipping the matches","body":"<p>This can be done in a single <code>replaceAll</code> call like this:</p>\n\n<pre><code>String repl = str.replaceAll( \"(?:(.)\\\\1)+\", \"\" );\n</code></pre>\n\n<p>Regex expression <code>(?:(.)\\\\1)+</code> matches all occurrences of even repetitions and replaces it with empty string this leaving us with first character of odd number of repetitions.</p>\n\n<p><a href=\"https://regex101.com/r/7kDuwG/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n\n<hr>\n\n<p>Code using <code>Pattern</code> and <code>Matcher</code>:</p>\n\n<pre><code>final Pattern p = Pattern.compile( \"(?:(.)\\\\1)+\" );\nMatcher m = p.matcher( \"aaabbcccddds\" );\nString repl = m.replaceAll( \"\" );\n//=&gt; acds\n</code></pre>\n"}],"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50275968,"answer_count":3,"score":1,"last_activity_date":1693129824,"creation_date":1525963385,"question_id":50275589,"body_markdown":"Below is my Java code to delete all pair of adjacent letters that match, but I am getting some problems with the Java Matcher class.\r\n\r\n&gt; My Approach\r\n\r\nI am trying to find all successive repeated characters in the input e.g.\r\n\r\n    aaa, bb, ccc, ddd\r\n\r\nNext replace the odd length match with the last matched pattern and even length match with `&quot;&quot;` i.e.\r\n\r\n    aaa -&gt; a\r\n    bb -&gt; &quot;&quot;\r\n    ccc -&gt; c\r\n    ddd -&gt; d\r\n    s has single occurrence, so it&#39;s not matched by the regex pattern and excluded from the substitution\r\n\r\nI am calling `Matcher.appendReplacement` to do conditional replacement of the patterns matched in input, based on the group length (even or odd).\r\n\r\n&gt; Code:\r\n\r\n    public static void main(String[] args) {\r\n            String s = &quot;aaabbcccddds&quot;;\r\n            int i=0;\r\n            StringBuffer output = new StringBuffer();\r\n            Pattern repeatedChars = Pattern.compile(&quot;([a-z])\\\\1+&quot;);\r\n            Matcher m = repeatedChars.matcher(s);\r\n            while(m.find()) {\r\n            \tif(m.group(i).length()%2==0)\r\n            \t\tm.appendReplacement(output, &quot;&quot;);\r\n            \telse\r\n            \t\tm.appendReplacement(output, &quot;$1&quot;);\r\n            \ti++;\r\n            }\r\n            m.appendTail(output);\r\n            System.out.println(output);\r\n        }\r\n\r\n\r\nInput : `aaabbcccddds`\r\n\r\nActual Output : `aaabbcccds` (only replacing `ddd` with `d` but skipping `aaa`, `bb` and `ccc`)\r\n\r\nExpected Output : `acds`","title":"Java Regex Matcher skipping the matches","body":"<p>Below is my Java code to delete all pair of adjacent letters that match, but I am getting some problems with the Java Matcher class.</p>\n\n<blockquote>\n  <p>My Approach</p>\n</blockquote>\n\n<p>I am trying to find all successive repeated characters in the input e.g.</p>\n\n<pre><code>aaa, bb, ccc, ddd\n</code></pre>\n\n<p>Next replace the odd length match with the last matched pattern and even length match with <code>\"\"</code> i.e.</p>\n\n<pre><code>aaa -&gt; a\nbb -&gt; \"\"\nccc -&gt; c\nddd -&gt; d\ns has single occurrence, so it's not matched by the regex pattern and excluded from the substitution\n</code></pre>\n\n<p>I am calling <code>Matcher.appendReplacement</code> to do conditional replacement of the patterns matched in input, based on the group length (even or odd).</p>\n\n<blockquote>\n  <p>Code:</p>\n</blockquote>\n\n<pre><code>public static void main(String[] args) {\n        String s = \"aaabbcccddds\";\n        int i=0;\n        StringBuffer output = new StringBuffer();\n        Pattern repeatedChars = Pattern.compile(\"([a-z])\\\\1+\");\n        Matcher m = repeatedChars.matcher(s);\n        while(m.find()) {\n            if(m.group(i).length()%2==0)\n                m.appendReplacement(output, \"\");\n            else\n                m.appendReplacement(output, \"$1\");\n            i++;\n        }\n        m.appendTail(output);\n        System.out.println(output);\n    }\n</code></pre>\n\n<p>Input : <code>aaabbcccddds</code></p>\n\n<p>Actual Output : <code>aaabbcccds</code> (only replacing <code>ddd</code> with <code>d</code> but skipping <code>aaa</code>, <code>bb</code> and <code>ccc</code>)</p>\n\n<p>Expected Output : <code>acds</code></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1524503419,"post_id":49986202,"comment_id":86989257,"body_markdown":"Show the code you wrote to validate the input and perform the extraction. How can anyone suggest improvements without seeing what you did?","body":"Show the code you wrote to validate the input and perform the extraction. How can anyone suggest improvements without seeing what you did?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1524503485,"post_id":49986202,"comment_id":86989299,"body_markdown":"This sounds like a &quot;write my code for me&quot; request...","body":"This sounds like a &quot;write my code for me&quot; request..."},{"owner":{"account_id":11012983,"reputation":3516,"user_id":8089674,"display_name":"Robo Mop"},"score":0,"creation_date":1524504519,"post_id":49986202,"comment_id":86989828,"body_markdown":"What is the purpose of `LOG_TYPE` before `field5 {value5}`?","body":"What is the purpose of <code>LOG_TYPE</code> before <code>field5 {value5}</code>?"},{"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"score":0,"creation_date":1524509919,"post_id":49986202,"comment_id":86992520,"body_markdown":"@skomisa, I have written code using String.split()  and substring() methods, but the performance will be slow If we use these compared to regex.","body":"@skomisa, I have written code using String.split()  and substring() methods, but the performance will be slow If we use these compared to regex."},{"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"score":0,"creation_date":1524510101,"post_id":49986202,"comment_id":86992606,"body_markdown":"@CoffeehouseCoder LOG_TYPE is telling the category of log line","body":"@CoffeehouseCoder LOG_TYPE is telling the category of log line"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1524510326,"post_id":49986202,"comment_id":86992738,"body_markdown":"@pbajpai21 You may well be correct that your approach is slower that using a regex, but you should still present what you have attempted. Otherwise, as someone else has pointed out, your post simply sounds like a &quot;write my code for me&quot; request. You should show that you have made some effort or you risk having your post removed.","body":"@pbajpai21 You may well be correct that your approach is slower that using a regex, but you should still present what you have attempted. Otherwise, as someone else has pointed out, your post simply sounds like a &quot;write my code for me&quot; request. You should show that you have made some effort or you risk having your post removed."},{"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"score":0,"creation_date":1524510521,"post_id":49986202,"comment_id":86992852,"body_markdown":"@skomisa I agree with your point, thanks for your suggestion, I will post my code by tomorrow as Now I don&#39;t have access to it.","body":"@skomisa I agree with your point, thanks for your suggestion, I will post my code by tomorrow as Now I don&#39;t have access to it."}],"answers":[{"tags":[],"owner":{"account_id":8722183,"reputation":506,"user_id":6524969,"accept_rate":67,"display_name":"Vin&#237;cius Biavatti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524504547,"creation_date":1524504547,"answer_id":49986794,"question_id":49986202,"body_markdown":"This is some example that you can use to read the log file and split the string. I have no idea if the log file has some pattern, but if not, this can solve your problem.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StackOver {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t// Log File Content\r\n    \t\tString LOG_FILE_CONTENT = &quot;Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}&quot;;\r\n    \t\t\r\n    \t\t// Regex\r\n    \t\tString pattern = &quot;([a-zA-Z0-9]+)(\\\\s+)(\\\\{[a-zA-Z0-9]+)(\\\\})&quot;;\r\n    \t\tPattern p = Pattern.compile(pattern);\r\n    \t\tMatcher m = p.matcher(LOG_FILE_CONTENT);\r\n    \t\t\r\n    \t\t// Mapper\r\n    \t\tParserResult pr = new ParserResult();\r\n    \t\tpr.fieldValueMap = new HashMap&lt;&gt;();\r\n    \t\twhile(m.find()){\r\n    \t\t\tString group = m.group();\r\n    \t\t\tpr.fieldValueMap.put(group.split(&quot; &quot;)[0], group.split(&quot; &quot;)[1]);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpr.fieldValueMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class ParserResult {\r\n    \tString logLineType;\r\n    \tMap&lt;String, String&gt; fieldValueMap;\r\n    }\r\n\r\nThe output is:\r\n&lt;pre&gt;\r\n\r\n    field5 -&gt; {value5}\r\n    field4 -&gt; {value4}\r\n    field7 -&gt; {value7}\r\n    field6 -&gt; {value6}\r\n    Level -&gt; {INFO}\r\n    field1 -&gt; {value1}\r\n    field3 -&gt; {value3}\r\n    field2 -&gt; {value2}\r\n\r\n&lt;/pre&gt;\r\n","title":"Get field value pair from a log line in java where value is in curly braces","body":"<p>This is some example that you can use to read the log file and split the string. I have no idea if the log file has some pattern, but if not, this can solve your problem.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StackOver {\n\n    public static void main(String[] args) {\n\n        // Log File Content\n        String LOG_FILE_CONTENT = \"Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}\";\n\n        // Regex\n        String pattern = \"([a-zA-Z0-9]+)(\\\\s+)(\\\\{[a-zA-Z0-9]+)(\\\\})\";\n        Pattern p = Pattern.compile(pattern);\n        Matcher m = p.matcher(LOG_FILE_CONTENT);\n\n        // Mapper\n        ParserResult pr = new ParserResult();\n        pr.fieldValueMap = new HashMap&lt;&gt;();\n        while(m.find()){\n            String group = m.group();\n            pr.fieldValueMap.put(group.split(\" \")[0], group.split(\" \")[1]);\n        }\n\n        pr.fieldValueMap.forEach((k, v) -&gt; System.out.println(k + \" -&gt; \" + v));\n    }\n\n}\n\nclass ParserResult {\n    String logLineType;\n    Map&lt;String, String&gt; fieldValueMap;\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre>\n\n    field5 -> {value5}\n    field4 -> {value4}\n    field7 -> {value7}\n    field6 -> {value6}\n    Level -> {INFO}\n    field1 -> {value1}\n    field3 -> {value3}\n    field2 -> {value2}\n\n</pre>\n"}],"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":49986794,"answer_count":1,"score":-3,"last_activity_date":1693129817,"creation_date":1524502308,"question_id":49986202,"body_markdown":"I tried and googled to solve it but didn&#39;t find any solution.\r\nI have to parse log line and extract map of field-value from it. Somewhere in log line there is log line type also.\r\nI need to return a Java object which is composing of the log line type and a Map of field-value.\r\n\r\nFor ex - Suppose below logline:\r\n\r\n    Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}\r\n\r\nThe expected output should be a java object of below class type:\r\n\r\n    class ParserResult {\r\n    \tString logLineType;\r\n    \tMap&lt;String, String&gt; fieldValueMap;\r\n    }\r\nResult object:\r\n\r\n    {\r\n    \tlogLineType = &quot;LOG_TYPE&quot;,\r\n    \tfieldValueMap = [{&quot;Level&quot;:&quot;INFO&quot;}, {&quot;field1&quot;:&quot;value1&quot;}, {&quot;field2&quot;:&quot;value2&quot;}, {&quot;field3&quot;:&quot;value3&quot;}, {&quot;field4&quot;:&quot;value4&quot;}, {&quot;field5&quot;:&quot;value5&quot;}, {&quot;field6&quot;:&quot;value6&quot;}, {&quot;field7&quot;:&quot;value7&quot;}]\r\n    }\r\n\r\nThe java method signature is as below:\r\n\r\n    ParserResult parseLogLine(String logLine) {\r\n    \t// parse log line and create ParserResult object\r\n    \treturn ParserResultObject;\r\n    \r\n    }\r\n\r\nI am able to write regex to validate the input string and can also extract the field-value pair by using String class methods but It will not be very efficient for my use-case as I have to parse thousands of log lines.  \r\nThere may be some way to implement this using Regex, and Patterns and Matcher classes in java.\r\nCan somebody please suggest some way of doing this ?\r\n\r\n ","title":"Get field value pair from a log line in java where value is in curly braces","body":"<p>I tried and googled to solve it but didn't find any solution.\nI have to parse log line and extract map of field-value from it. Somewhere in log line there is log line type also.\nI need to return a Java object which is composing of the log line type and a Map of field-value.</p>\n\n<p>For ex - Suppose below logline:</p>\n\n<pre><code>Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}\n</code></pre>\n\n<p>The expected output should be a java object of below class type:</p>\n\n<pre><code>class ParserResult {\n    String logLineType;\n    Map&lt;String, String&gt; fieldValueMap;\n}\n</code></pre>\n\n<p>Result object:</p>\n\n<pre><code>{\n    logLineType = \"LOG_TYPE\",\n    fieldValueMap = [{\"Level\":\"INFO\"}, {\"field1\":\"value1\"}, {\"field2\":\"value2\"}, {\"field3\":\"value3\"}, {\"field4\":\"value4\"}, {\"field5\":\"value5\"}, {\"field6\":\"value6\"}, {\"field7\":\"value7\"}]\n}\n</code></pre>\n\n<p>The java method signature is as below:</p>\n\n<pre><code>ParserResult parseLogLine(String logLine) {\n    // parse log line and create ParserResult object\n    return ParserResultObject;\n\n}\n</code></pre>\n\n<p>I am able to write regex to validate the input string and can also extract the field-value pair by using String class methods but It will not be very efficient for my use-case as I have to parse thousands of log lines.<br>\nThere may be some way to implement this using Regex, and Patterns and Matcher classes in java.\nCan somebody please suggest some way of doing this ?</p>\n"},{"tags":["java","regex","string","extract"],"comments":[{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1524029354,"post_id":49891745,"comment_id":86799167,"body_markdown":"You have to define the rule before using matcher.","body":"You have to define the rule before using matcher."},{"owner":{"account_id":11643527,"reputation":304,"user_id":8527195,"accept_rate":75,"display_name":"MrMinemeet"},"score":0,"creation_date":1524029598,"post_id":49891745,"comment_id":86799252,"body_markdown":"@AniketSahrawat but that i asked there is to replace the text...","body":"@AniketSahrawat but that i asked there is to replace the text..."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1524030593,"post_id":49891745,"comment_id":86799639,"body_markdown":"@MrMinemeet I have retracted the close vote.","body":"@MrMinemeet I have retracted the close vote."}],"answers":[{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524029736,"creation_date":1524029736,"answer_id":49891903,"question_id":49891745,"body_markdown":"Use `group(1)` to retrive the text between `product/` and `/ref`:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Pattern pattern = Pattern.compile(&quot;.*product/(.*)/ref.*&quot;);\r\n            Matcher matcher = pattern.matcher(&quot;https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1&quot;);\r\n            if (matcher.matches()) {\r\n                System.out.println(matcher.group(1));\r\n            }\r\n        }\r\n    }","title":"Extract certain string from other string","body":"<p>Use <code>group(1)</code> to retrive the text between <code>product/</code> and <code>/ref</code>:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(\".*product/(.*)/ref.*\");\n        Matcher matcher = pattern.matcher(\"https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1\");\n        if (matcher.matches()) {\n            System.out.println(matcher.group(1));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11643527,"reputation":304,"user_id":8527195,"accept_rate":75,"display_name":"MrMinemeet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49891903,"answer_count":1,"score":0,"last_activity_date":1693129808,"creation_date":1524029018,"question_id":49891745,"body_markdown":"I made a project myself where I need to extract a certain string of a URL.\r\nBefore I used\r\n\r\n    Arrays.asList(URL.split(&quot;/&quot;)).get(6);\r\n\r\nbut with this I only can get it, if it is after the 6th **/**. \r\nI knew there is something with **matcher()** but I don&#39;t get it to work.\r\n\r\nFor example:\r\n\r\n    https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1\r\n\r\nI want to extract out the SOMETEXTHERE. But this characters are changing so I can&#39;t just say that it is always the same.\r\nAnd I need the SOMETEXT then in a seperate string.","title":"Extract certain string from other string","body":"<p>I made a project myself where I need to extract a certain string of a URL.\nBefore I used</p>\n\n<pre><code>Arrays.asList(URL.split(\"/\")).get(6);\n</code></pre>\n\n<p>but with this I only can get it, if it is after the 6th <strong>/</strong>. \nI knew there is something with <strong>matcher()</strong> but I don't get it to work.</p>\n\n<p>For example:</p>\n\n<pre><code>https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1\n</code></pre>\n\n<p>I want to extract out the SOMETEXTHERE. But this characters are changing so I can't just say that it is always the same.\nAnd I need the SOMETEXT then in a seperate string.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":3480698,"reputation":404,"user_id":2912841,"display_name":"nitnamby"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1523116044,"creation_date":1523116044,"answer_id":49709099,"question_id":49709018,"body_markdown":"This should work\r\n\r\n    Pattern.compile(&quot;.*?\\\\[ISOLATION GROUP .*\\\\].*&quot;);","title":"What&#39;s wrong with my RegEx pattern","body":"<p>This should work</p>\n\n<pre><code>Pattern.compile(\".*?\\\\[ISOLATION GROUP .*\\\\].*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1523116915,"creation_date":1523116100,"answer_id":49709107,"question_id":49709018,"body_markdown":"When using a formal pattern matcher in Java, we don&#39;t need to use a pattern which matches the entire input.  Instead, just use the pattern `\\[ISOLATION GROUP ([^\\]]+)` to get all matches:\r\n\r\n    String input = &quot;[ISOLATION GROUP X] blabla&quot;;\r\n    input += &quot;[OTHER FLAG][ISOLATION GROUP Y] blabla&quot;;\r\n    String pattern = &quot;\\\\[ISOLATION GROUP ([^\\\\]]+)&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(input);\r\n    while (m.find()) {\r\n        System.out.println(&quot;Found value: &quot; + m.group(1));\r\n    }\r\n\r\n    Found value: X\r\n    Found value: Y\r\n\r\n[&lt;h2&gt;Demo&lt;/h2&gt;][1]\r\n\r\n\r\n  [1]: http://rextester.com/KWLPVR60188","title":"What&#39;s wrong with my RegEx pattern","body":"<p>When using a formal pattern matcher in Java, we don't need to use a pattern which matches the entire input.  Instead, just use the pattern <code>\\[ISOLATION GROUP ([^\\]]+)</code> to get all matches:</p>\n\n<pre><code>String input = \"[ISOLATION GROUP X] blabla\";\ninput += \"[OTHER FLAG][ISOLATION GROUP Y] blabla\";\nString pattern = \"\\\\[ISOLATION GROUP ([^\\\\]]+)\";\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(input);\nwhile (m.find()) {\n    System.out.println(\"Found value: \" + m.group(1));\n}\n\nFound value: X\nFound value: Y\n</code></pre>\n\n<p><a href=\"http://rextester.com/KWLPVR60188\" rel=\"nofollow noreferrer\"><h2>Demo</h2></a></p>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1523128324,"creation_date":1523128324,"answer_id":49711030,"question_id":49709018,"body_markdown":"You forgot to enclose the characters of the group within braces.\r\n\r\n    .*?\\\\[ISOLATION GROUP (^]+)].*\r\n\r\nshould become     \r\n\r\n    .*?\\\\[ISOLATION GROUP ([^\\\\]]+)\\\\].*\r\n\r\n**[Demo][1]**\r\n\r\n-----\r\n\r\n**Positive lookbehind**\r\n\r\nTry using a positive lookbehind maybe? it is much more easier than your solution I think and you just have to deal with a single group\r\n\r\n    (?&lt;=ISOLATION GROUP\\s)[^\\\\]]+\r\n\r\n\r\n  [1]: https://regex101.com/r/rMbqSj/1\r\n","title":"What&#39;s wrong with my RegEx pattern","body":"<p>You forgot to enclose the characters of the group within braces.</p>\n\n<pre><code>.*?\\\\[ISOLATION GROUP (^]+)].*\n</code></pre>\n\n<p>should become     </p>\n\n<pre><code>.*?\\\\[ISOLATION GROUP ([^\\\\]]+)\\\\].*\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/rMbqSj/1\" rel=\"nofollow noreferrer\">Demo</a></strong></p>\n\n<hr>\n\n<p><strong>Positive lookbehind</strong></p>\n\n<p>Try using a positive lookbehind maybe? it is much more easier than your solution I think and you just have to deal with a single group</p>\n\n<pre><code>(?&lt;=ISOLATION GROUP\\s)[^\\\\]]+\n</code></pre>\n"}],"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":49709107,"answer_count":3,"score":0,"last_activity_date":1693129780,"creation_date":1523115543,"question_id":49709018,"body_markdown":"I have this pattern:\r\n\r\n    Pattern.compile(&quot;.*?\\\\[ISOLATION GROUP (^]+)].*&quot;);\r\n\r\nI assumed this would match, for example, these two strings:\r\n\r\n    &quot;[ISOLATION GROUP X] blabla&quot;\r\n    &quot;[OTHER FLAG][ISOLATION GROUP Y] blabla&quot;\r\n\r\nand then with `group(1)` I could get the name of the isolation group (in the above examples, &quot;X&quot; resp. &quot;Y&quot;)\r\n\r\nHowever the `matches()` is not even returning true. Why do these strings not match that pattern, what is wrong with the pattern?\r\n","title":"What&#39;s wrong with my RegEx pattern","body":"<p>I have this pattern:</p>\n\n<pre><code>Pattern.compile(\".*?\\\\[ISOLATION GROUP (^]+)].*\");\n</code></pre>\n\n<p>I assumed this would match, for example, these two strings:</p>\n\n<pre><code>\"[ISOLATION GROUP X] blabla\"\n\"[OTHER FLAG][ISOLATION GROUP Y] blabla\"\n</code></pre>\n\n<p>and then with <code>group(1)</code> I could get the name of the isolation group (in the above examples, \"X\" resp. \"Y\")</p>\n\n<p>However the <code>matches()</code> is not even returning true. Why do these strings not match that pattern, what is wrong with the pattern?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1520602333,"post_id":49194833,"comment_id":85394536,"body_markdown":"`[^a-zA-Z0-9]` will give you all characters not matching the range so: # ^","body":"<code>[^a-zA-Z0-9]</code> will give you all characters not matching the range so: # ^"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520602526,"creation_date":1520602180,"answer_id":49194919,"question_id":49194833,"body_markdown":"You have to iterate over each `char` of the `String` and check one by one : \r\n\r\n    //for-each loop, shorter way\r\n    for (char c : argument.toCharArray()){\r\n        System.out.println(pattern.matcher(c + &quot;&quot;).matches());\r\n    }\r\n\r\n\r\n or\r\n\r\n    //classic for-i loop, with details\r\n    for (int i = 0; i &lt; argument.length(); i++) {\r\n        String charAtI = argument.charAt(i) + &quot;&quot;;\r\n        boolean doesMatch = pattern.matcher(charAtI).matches();\r\n        System.out.println(doesMatch);\r\n    }\r\n\r\n\r\n----------\r\nAlso, when you don&#39;t require it, you can do declaration and give a value at same time : \r\n\r\n    String argument = &quot;#a1^b2&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n","title":"Java Pattern REGEX Where Not Matching","body":"<p>You have to iterate over each <code>char</code> of the <code>String</code> and check one by one : </p>\n\n<pre><code>//for-each loop, shorter way\nfor (char c : argument.toCharArray()){\n    System.out.println(pattern.matcher(c + \"\").matches());\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>//classic for-i loop, with details\nfor (int i = 0; i &lt; argument.length(); i++) {\n    String charAtI = argument.charAt(i) + \"\";\n    boolean doesMatch = pattern.matcher(charAtI).matches();\n    System.out.println(doesMatch);\n}\n</code></pre>\n\n<hr>\n\n<p>Also, when you don't require it, you can do declaration and give a value at same time : </p>\n\n<pre><code>String argument = \"#a1^b2\";\nPattern pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1520602592,"creation_date":1520602265,"answer_id":49194946,"question_id":49194833,"body_markdown":"You may add a `|(.)` alternative to your pattern (to match any char but a line break char) and check if Group 1 matched upon each match. If yes, output *false*, else, output *true*:\r\n\r\n\tString argument = &quot;#a1^b2&quot;;\r\n\tPattern pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s|(.)&quot;); // or &quot;[a-zA-Z0-9\\\\s]|(.)&quot;\r\n\tMatcher matcher = pattern.matcher(argument);\r\n\t\r\n\twhile(matcher.find()) {                           // find all matching characters\r\n\t\tSystem.out.println(matcher.group(1) == null);\r\n\r\n\r\nSee the [Java demo][1], output:\r\n\r\n    false\r\n    true\r\n    true\r\n    false\r\n    true\r\n    true\r\n\r\nNote you do not need to use a `Pattern.DOTALL` here, because `\\s` in your &quot;whitelist&quot; part of the pattern matches line breaks.\r\n\r\n\r\n  [1]: https://ideone.com/tGbefs","title":"Java Pattern REGEX Where Not Matching","body":"<p>You may add a <code>|(.)</code> alternative to your pattern (to match any char but a line break char) and check if Group 1 matched upon each match. If yes, output <em>false</em>, else, output <em>true</em>:</p>\n\n<pre><code>String argument = \"#a1^b2\";\nPattern pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s|(.)\"); // or \"[a-zA-Z0-9\\\\s]|(.)\"\nMatcher matcher = pattern.matcher(argument);\n\nwhile(matcher.find()) {                           // find all matching characters\n    System.out.println(matcher.group(1) == null);\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/tGbefs\" rel=\"nofollow noreferrer\">Java demo</a>, output:</p>\n\n<pre><code>false\ntrue\ntrue\nfalse\ntrue\ntrue\n</code></pre>\n\n<p>Note you do not need to use a <code>Pattern.DOTALL</code> here, because <code>\\s</code> in your \"whitelist\" part of the pattern matches line breaks.</p>\n"},{"tags":[],"owner":{"account_id":13055459,"reputation":11,"user_id":9434473,"display_name":"MGothe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520602616,"creation_date":1520602616,"answer_id":49195046,"question_id":49194833,"body_markdown":"Why not simply removing all matching chars from your string, so you get only the non matching ones back:\r\n\r\n        \r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n    \r\n    public class RegexUtil {\r\n    \r\n       public static void main(String[] args) {\r\n    \r\n          String    argument;\r\n          Pattern   pattern;\r\n          Matcher   matcher;\r\n    \r\n          argument = &quot;#a1^b2&quot;;\r\n          pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n          matcher = pattern.matcher(argument);\r\n    \r\n          // find all matching characters\r\n          while(matcher.find()) {\r\n             System.out.println(matcher.group());\r\n             argument = argument.replace(matcher.group(), &quot;&quot;);\r\n          }\r\n          \r\n          System.out.println(&quot;argument: &quot; + argument);\r\n    \r\n       }\r\n    \r\n    }","title":"Java Pattern REGEX Where Not Matching","body":"<p>Why not simply removing all matching chars from your string, so you get only the non matching ones back:</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\npublic class RegexUtil {\n\n   public static void main(String[] args) {\n\n      String    argument;\n      Pattern   pattern;\n      Matcher   matcher;\n\n      argument = \"#a1^b2\";\n      pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n      matcher = pattern.matcher(argument);\n\n      // find all matching characters\n      while(matcher.find()) {\n         System.out.println(matcher.group());\n         argument = argument.replace(matcher.group(), \"\");\n      }\n\n      System.out.println(\"argument: \" + argument);\n\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520603048,"creation_date":1520603048,"answer_id":49195160,"question_id":49194833,"body_markdown":"Track positions, and for each match, print the characters between last match and current match.\r\n\r\n    int pos = 0;\r\n    while (matcher.find()) {\r\n        for (int i = pos; i &lt; matcher.start(); i++) {\r\n            System.out.println(argument.charAt(i));\r\n        }\r\n        pos = matcher.end();\r\n    }\r\n    // Print any trailing characters after last match.\r\n    for (int i = pos; i &lt; argument.length(); i++) {\r\n        System.out.println(argument.charAt(i));\r\n    }\r\n","title":"Java Pattern REGEX Where Not Matching","body":"<p>Track positions, and for each match, print the characters between last match and current match.</p>\n\n<pre><code>int pos = 0;\nwhile (matcher.find()) {\n    for (int i = pos; i &lt; matcher.start(); i++) {\n        System.out.println(argument.charAt(i));\n    }\n    pos = matcher.end();\n}\n// Print any trailing characters after last match.\nfor (int i = pos; i &lt; argument.length(); i++) {\n    System.out.println(argument.charAt(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6123459,"reputation":322,"user_id":4776236,"display_name":"Anto Livish A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520604298,"creation_date":1520604298,"answer_id":49195530,"question_id":49194833,"body_markdown":"One solution is \r\n\r\n        String  argument;\r\n        Pattern pattern;\r\n        Matcher matcher;\r\n\r\n        argument = &quot;#a1^b2&quot;;\r\n        List&lt;String&gt; charList = Arrays.asList(argument.split(&quot;&quot;));\r\n        pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n        matcher = pattern.matcher(argument);\r\n        ArrayList&lt;String&gt; unmatchedCharList = new ArrayList&lt;&gt;();\r\n        // find all matching\r\n        while(matcher.find()) {\r\n            unmatchedCharList.add(matcher.group());\r\n        }\r\n        for(String charr : charList)\r\n        {\r\n            System.out.println(unmatchedCharList.contains(charr ));\r\n        }\r\n\r\n\r\nOutput\r\n\r\nfalse\r\ntrue\r\ntrue\r\nfalse\r\ntrue\r\ntrue","title":"Java Pattern REGEX Where Not Matching","body":"<p>One solution is </p>\n\n<pre><code>    String  argument;\n    Pattern pattern;\n    Matcher matcher;\n\n    argument = \"#a1^b2\";\n    List&lt;String&gt; charList = Arrays.asList(argument.split(\"\"));\n    pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n    matcher = pattern.matcher(argument);\n    ArrayList&lt;String&gt; unmatchedCharList = new ArrayList&lt;&gt;();\n    // find all matching\n    while(matcher.find()) {\n        unmatchedCharList.add(matcher.group());\n    }\n    for(String charr : charList)\n    {\n        System.out.println(unmatchedCharList.contains(charr ));\n    }\n</code></pre>\n\n<p>Output</p>\n\n<p>false\ntrue\ntrue\nfalse\ntrue\ntrue</p>\n"}],"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3925,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49194946,"answer_count":5,"score":1,"last_activity_date":1693129773,"creation_date":1520601875,"question_id":49194833,"body_markdown":"I&#39;m trying to use the Java Pattern and Matcher to apply input checks. I have it working in a really basic format which I am happy with so far. It applies a REGEX to an argument and then loops through the matching characters.\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n\r\n    public class RegexUtil {\r\n\r\n       public static void main(String[] args) {\r\n\r\n          String    argument;\r\n          Pattern   pattern;\r\n          Matcher   matcher;\r\n\r\n          argument = &quot;#a1^b2&quot;;\r\n          pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n          matcher = pattern.matcher(argument);\r\n\r\n          // find all matching characters\r\n          while(matcher.find()) {\r\n             System.out.println(matcher.group());\r\n          }\r\n\r\n       }\r\n\r\n    }\r\n\r\nThis is fine for extracting all the good characters, I get the output\r\n\r\n    a\r\n    1\r\n    b\r\n    2\r\n\r\nNow I wanted to know if it&#39;s possible to do the same for any characters that don&#39;t match the REGEX so I get the output\r\n\r\n    #\r\n    ^\r\n\r\nOr better yet loop through it and get TRUE or FALSE flags for each index of the argument\r\n\r\n    false\r\n    true\r\n    true\r\n    false\r\n    true\r\n    true\r\n\r\nI only know how to loop through with matcher.find(), any help would be greatly appreciated","title":"Java Pattern REGEX Where Not Matching","body":"<p>I'm trying to use the Java Pattern and Matcher to apply input checks. I have it working in a really basic format which I am happy with so far. It applies a REGEX to an argument and then loops through the matching characters.</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\npublic class RegexUtil {\n\n   public static void main(String[] args) {\n\n      String    argument;\n      Pattern   pattern;\n      Matcher   matcher;\n\n      argument = \"#a1^b2\";\n      pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n      matcher = pattern.matcher(argument);\n\n      // find all matching characters\n      while(matcher.find()) {\n         System.out.println(matcher.group());\n      }\n\n   }\n\n}\n</code></pre>\n\n<p>This is fine for extracting all the good characters, I get the output</p>\n\n<pre><code>a\n1\nb\n2\n</code></pre>\n\n<p>Now I wanted to know if it's possible to do the same for any characters that don't match the REGEX so I get the output</p>\n\n<pre><code>#\n^\n</code></pre>\n\n<p>Or better yet loop through it and get TRUE or FALSE flags for each index of the argument</p>\n\n<pre><code>false\ntrue\ntrue\nfalse\ntrue\ntrue\n</code></pre>\n\n<p>I only know how to loop through with matcher.find(), any help would be greatly appreciated</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1519315298,"post_id":48931853,"comment_id":84870490,"body_markdown":"Search for at least 2 characters after the start: `&quot;^.{2,}(a{3})&quot;`.","body":"Search for at least 2 characters after the start: <code>&quot;^.{2,}(a{3})&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519315823,"creation_date":1519315517,"answer_id":48931982,"question_id":48931853,"body_markdown":"You might use a positive lookbehind `(?&lt;=`:\r\n\r\n[`(?&lt;=^..)a{3}`](https://regex101.com/r/C6bWmi/1)\r\n\r\nThat would match:\r\n\r\n&lt;pre&gt;\r\n(?&amp;lt= # Positive lookbehind which asserts that what is before is\r\n  ^  # Beginning of the string\r\n  .. # Match 2 times any character\r\n)    # Close lookbehind\r\na{3} # Match aaa\r\n&lt;/pre&gt;\r\n\r\n[Output Java test](http://rextester.com/PMLKB33728)","title":"Java regex with ^ symbol: find from position","body":"<p>You might use a positive lookbehind <code>(?&lt;=</code>:</p>\n\n<p><a href=\"https://regex101.com/r/C6bWmi/1\" rel=\"nofollow noreferrer\"><code>(?&lt;=^..)a{3}</code></a></p>\n\n<p>That would match:</p>\n\n<pre>\n(?&lt= # Positive lookbehind which asserts that what is before is\n  ^  # Beginning of the string\n  .. # Match 2 times any character\n)    # Close lookbehind\na{3} # Match aaa\n</pre>\n\n<p><a href=\"http://rextester.com/PMLKB33728\" rel=\"nofollow noreferrer\">Output Java test</a></p>\n"},{"tags":[],"owner":{"account_id":5331956,"reputation":6989,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519318168,"creation_date":1519318168,"answer_id":48932950,"question_id":48931853,"body_markdown":"This would work:\r\n\r\n    (?&lt;=.)\\^a{3}\r\n\r\n    (?=  # lookbehind\r\n    .    # any character\r\n    )    # close\r\n    \\^a{3} # your pattern\r\n\r\nSee https://regex101.com/r/jTLwUp/1","title":"Java regex with ^ symbol: find from position","body":"<p>This would work:</p>\n\n<pre><code>(?&lt;=.)\\^a{3}\n\n(?=  # lookbehind\n.    # any character\n)    # close\n\\^a{3} # your pattern\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/jTLwUp/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/jTLwUp/1</a></p>\n"},{"tags":[],"owner":{"account_id":96341,"reputation":2862,"user_id":261887,"display_name":"black panda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519324189,"creation_date":1519323867,"answer_id":48934694,"question_id":48931853,"body_markdown":"You can change the region in your Matcher to start at 2 without messing around with the original regex. See below:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;^a{3}&quot;);\r\n    Matcher m = pattern.matcher(&quot;xxaaa&quot;);\r\n    m.region(2, m.regionEnd()); // &lt;---- region start is now 2\r\n\r\n    System.out.println(m.find());\r\n    System.out.println(m.lookingAt());\r\n\r\nSee: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#region-int-int-\r\n","title":"Java regex with ^ symbol: find from position","body":"<p>You can change the region in your Matcher to start at 2 without messing around with the original regex. See below:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"^a{3}\");\nMatcher m = pattern.matcher(\"xxaaa\");\nm.region(2, m.regionEnd()); // &lt;---- region start is now 2\n\nSystem.out.println(m.find());\nSystem.out.println(m.lookingAt());\n</code></pre>\n\n<p>See: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#region-int-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#region-int-int-</a></p>\n"}],"owner":{"account_id":217677,"reputation":795,"user_id":473587,"accept_rate":60,"display_name":"varan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48934694,"answer_count":3,"score":2,"last_activity_date":1693129765,"creation_date":1519315171,"question_id":48931853,"body_markdown":"I&#39;m trying to find ^a{3} pattern in string, but not from beginning. From position 2\r\n\r\nFor example: \r\n\r\n    Pattern pattern = Pattern.compile(&quot;^a{3}&quot;);\r\n    Matcher m = pattern.matcher(&quot;xxaaa&quot;);\r\n    System.out.println(m.find(2));\r\n\r\nIt seems ^ means start of the string (not start of string from position 2)\r\n\r\nBut how to find pattern from position 2 and be sure that a{3} starts in this position\r\n","title":"Java regex with ^ symbol: find from position","body":"<p>I'm trying to find ^a{3} pattern in string, but not from beginning. From position 2</p>\n\n<p>For example: </p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"^a{3}\");\nMatcher m = pattern.matcher(\"xxaaa\");\nSystem.out.println(m.find(2));\n</code></pre>\n\n<p>It seems ^ means start of the string (not start of string from position 2)</p>\n\n<p>But how to find pattern from position 2 and be sure that a{3} starts in this position</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1517241856,"post_id":48505307,"comment_id":84004689,"body_markdown":"create a hashmap of &lt;String, Pattern&gt;, where String is same identifier, now in your main method initialise the hashmap, and use it throughout your code.","body":"create a hashmap of &lt;String, Pattern&gt;, where String is same identifier, now in your main method initialise the hashmap, and use it throughout your code."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1517242150,"post_id":48505307,"comment_id":84004893,"body_markdown":"Don&#39;t parse markup with regex.","body":"Don&#39;t parse markup with regex."},{"owner":{"account_id":12445758,"reputation":127,"user_id":9061997,"display_name":"JaneDoe"},"score":0,"creation_date":1517242567,"post_id":48505307,"comment_id":84005188,"body_markdown":"I cannot understand why people downvote a question that is obviously from a programming beginner, provides a clear question and well formatted source code where somebody already tried a lot to get a solution. (Sorry for offtopic.)","body":"I cannot understand why people downvote a question that is obviously from a programming beginner, provides a clear question and well formatted source code where somebody already tried a lot to get a solution. (Sorry for offtopic.)"}],"answers":[{"tags":[],"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517242602,"creation_date":1517242602,"answer_id":48505612,"question_id":48505307,"body_markdown":"The hashmap mentioned in the comment sounds suitable but less readable. I&#39;d prefer the &quot;method&quot; approach:\r\n\r\n        private String getMatch(final String pattern, final String txt) {\r\n        final Pattern p = Pattern.compile(pattern);\r\n        final Matcher m = p.matcher(txt);\r\n        String result = null;\r\n        while (m.find()) {\r\n            result = m.group(1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public void xxx() {\r\n        //...\r\n        while (m.find()) {\r\n            final String txt = m.group(0);\r\n            origin = getMatch(&quot;&lt;Origin&gt;(.*)&lt;/Origin&gt;&quot;, txt);\r\n            usr = getMatch(&quot;&lt;User&gt;(.*)&lt;/User&gt;&quot;, txt);\r\n            // ...\r\n        }\r\n    }\r\n","title":"Java Pattern Matcher Multiple Optimizing","body":"<p>The hashmap mentioned in the comment sounds suitable but less readable. I'd prefer the \"method\" approach:</p>\n\n<pre><code>    private String getMatch(final String pattern, final String txt) {\n    final Pattern p = Pattern.compile(pattern);\n    final Matcher m = p.matcher(txt);\n    String result = null;\n    while (m.find()) {\n        result = m.group(1);\n    }\n    return result;\n}\n\npublic void xxx() {\n    //...\n    while (m.find()) {\n        final String txt = m.group(0);\n        origin = getMatch(\"&lt;Origin&gt;(.*)&lt;/Origin&gt;\", txt);\n        usr = getMatch(\"&lt;User&gt;(.*)&lt;/User&gt;\", txt);\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9339001,"reputation":1,"user_id":6932398,"display_name":"Ravi Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693129752,"creation_date":1517241660,"question_id":48505307,"body_markdown":"I have to prepare a program wheremultiple regular expression are used.\r\nBelow is the program but for every new element I have to initialize new Pattern and Matcher. Is there any optimized way which I can use in this program or a loop which I can use in this.\r\nCurrently in the program its reading file and assigning all the XML tags in the string. The file is having multiple tags which I have to initialize and print in CSV format and files are having a huge amount of data like in GBs.\r\nIs there any way to optimize below code.\r\n\r\n\r\n\r\nRegex Program:\r\n\r\n\t/*\r\n\t* To change this license header, choose License Headers in Project Properties.\r\n\t* To change this template file, choose Tools | Templates\r\n\t* and open the template in the editor.\r\n\t*/\r\n\tpackage javaapplication1;\r\n\r\n\t/**\r\n\t*\r\n\t* @author ????\r\n\t*/\r\n\timport java.io.*;\r\n\timport java.util.ArrayList;\r\n\timport java.util.regex.*;\r\n\r\n\tpublic class JavaApplication1 {\r\n\r\n\t\t/**\r\n\t\t* @param args the command line arguments\r\n\t\t*/\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\t// TODO code application logic here\r\n\t\t\tString oldContent = &quot;&quot;;\r\n\t\t\tBufferedReader reader = null;\r\n\t\t\tFileWriter writer = null;\r\n\t\t\tFile fileToBeModified = new File(&quot;C:\\\\Documents\\\\audit.log&quot;);\r\n\t\t\tString str = &quot;&quot;;\r\n\t\t\ttry {\r\n\t\t\t\tBufferedReader in = new BufferedReader(new FileReader(fileToBeModified));\r\n\t\t\t\tStringBuffer output = new StringBuffer();\r\n\t\t\t\tString st;\r\n\t\t\t\twhile ((st=in.readLine()) != null) {\r\n\t\t\t\t\toutput.append(st);\r\n\t\t\t\t\toutput.append(&#39;\\n&#39;);\r\n\t\t\t\t}\r\n\t\t\t\tstr = output.toString();\r\n\t\t\t\tin.close();\r\n\t\t\t}\r\n\t\t\tcatch (Exception fx) {\r\n\t\t\t} \r\n\t\t\tString usr = &quot;&quot;;\r\n\t\t\tString origin = &quot;&quot;;\r\n\t\t\tString dt = &quot;&quot;;\r\n\t\t\tString operation = &quot;&quot;;\r\n\t\t\tPattern p = Pattern.compile(&quot;&lt;AuditEntry&gt;(.*\\\\R)*?&lt;\\\\/AuditEntry&gt;&quot;);\r\n\t\t\tMatcher m = p.matcher(str);\r\n\t\t\twhile (m.find()) {\r\n\t\t\t\tPattern e = Pattern.compile(&quot;&lt;User&gt;(.*)&lt;/User&gt;&quot;);\r\n\t\t\t\tMatcher f = e.matcher(m.group(0));\r\n\t\t\t\twhile(f.find())\r\n\t\t\t\t{\r\n\t\t\t\t\tusr = f.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tPattern g = Pattern.compile(&quot;&lt;Origin&gt;(.*)&lt;/Origin&gt;&quot;);\r\n\t\t\t\tMatcher h = g.matcher(m.group(0));\r\n\t\t\t\twhile(h.find())\r\n\t\t\t\t{\r\n\t\t\t\t\torigin = h.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tPattern i = Pattern.compile(&quot;&lt;DateTime.*\\&quot;&gt;(.*)&lt;/DateTime&gt;&quot;);\r\n\t\t\t\tMatcher j = i.matcher(m.group(0));\r\n\t\t\t\twhile(j.find())\r\n\t\t\t\t{\r\n\t\t\t\t\tdt = j.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tPattern k = Pattern.compile(&quot;Operation=\\&quot;([a-zA-z]+)\\&quot;&quot;);\r\n\t\t\t\tMatcher l = k.matcher(m.group(0));\r\n\t\t\t\twhile(l.find())\r\n\t\t\t\t{\r\n\t\t\t\t\toperation = l.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(usr+&quot;,&quot;+origin+&quot;,&quot; +dt+ &quot;,&quot;+operation);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Java Pattern Matcher Multiple Optimizing","body":"<p>I have to prepare a program wheremultiple regular expression are used.\nBelow is the program but for every new element I have to initialize new Pattern and Matcher. Is there any optimized way which I can use in this program or a loop which I can use in this.\nCurrently in the program its reading file and assigning all the XML tags in the string. The file is having multiple tags which I have to initialize and print in CSV format and files are having a huge amount of data like in GBs.\nIs there any way to optimize below code.</p>\n\n<p>Regex Program:</p>\n\n<pre><code>/*\n* To change this license header, choose License Headers in Project Properties.\n* To change this template file, choose Tools | Templates\n* and open the template in the editor.\n*/\npackage javaapplication1;\n\n/**\n*\n* @author ????\n*/\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.regex.*;\n\npublic class JavaApplication1 {\n\n    /**\n    * @param args the command line arguments\n    */\n\n    public static void main(String[] args) throws Exception {\n        // TODO code application logic here\n        String oldContent = \"\";\n        BufferedReader reader = null;\n        FileWriter writer = null;\n        File fileToBeModified = new File(\"C:\\\\Documents\\\\audit.log\");\n        String str = \"\";\n        try {\n            BufferedReader in = new BufferedReader(new FileReader(fileToBeModified));\n            StringBuffer output = new StringBuffer();\n            String st;\n            while ((st=in.readLine()) != null) {\n                output.append(st);\n                output.append('\\n');\n            }\n            str = output.toString();\n            in.close();\n        }\n        catch (Exception fx) {\n        } \n        String usr = \"\";\n        String origin = \"\";\n        String dt = \"\";\n        String operation = \"\";\n        Pattern p = Pattern.compile(\"&lt;AuditEntry&gt;(.*\\\\R)*?&lt;\\\\/AuditEntry&gt;\");\n        Matcher m = p.matcher(str);\n        while (m.find()) {\n            Pattern e = Pattern.compile(\"&lt;User&gt;(.*)&lt;/User&gt;\");\n            Matcher f = e.matcher(m.group(0));\n            while(f.find())\n            {\n                usr = f.group(1);\n            }\n            Pattern g = Pattern.compile(\"&lt;Origin&gt;(.*)&lt;/Origin&gt;\");\n            Matcher h = g.matcher(m.group(0));\n            while(h.find())\n            {\n                origin = h.group(1);\n            }\n            Pattern i = Pattern.compile(\"&lt;DateTime.*\\\"&gt;(.*)&lt;/DateTime&gt;\");\n            Matcher j = i.matcher(m.group(0));\n            while(j.find())\n            {\n                dt = j.group(1);\n            }\n            Pattern k = Pattern.compile(\"Operation=\\\"([a-zA-z]+)\\\"\");\n            Matcher l = k.matcher(m.group(0));\n            while(l.find())\n            {\n                operation = l.group(1);\n            }\n            System.out.println(usr+\",\"+origin+\",\" +dt+ \",\"+operation);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1517064041,"post_id":48476839,"comment_id":83946873,"body_markdown":"why not just `url = url.replaceAll(&quot;/vp/&quot;, &quot;/&quot;).replace(&quot;/s150x150/&quot;, &quot;/s720x720/&quot;);` who you want to use pattern in this?","body":"why not just <code>url = url.replaceAll(&quot;&#47;vp&#47;&quot;, &quot;&#47;&quot;).replace(&quot;&#47;s150x150&#47;&quot;, &quot;&#47;s720x720&#47;&quot;);</code> who you want to use pattern in this?"},{"owner":{"account_id":11401580,"reputation":91,"user_id":8358378,"accept_rate":75,"display_name":"YASSBRA Top10"},"score":0,"creation_date":1517064453,"post_id":48476839,"comment_id":83946997,"body_markdown":"because the url may change evry time , and don&#39;t sure if /s150x150/ existe in the url evry time or not","body":"because the url may change evry time , and don&#39;t sure if /s150x150/ existe in the url evry time or not"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1517064694,"post_id":48476839,"comment_id":83947062,"body_markdown":"if you are worry about exist or not, then replace work just if it was exist, If you want something else for example `/s150x150/` can be something else like `/s888x666/` then it is another story, you can use replaceAll or replaceFirst which use regex, can you clarify more about the input and the expected output so we can help you?","body":"if you are worry about exist or not, then replace work just if it was exist, If you want something else for example <code>&#47;s150x150&#47;</code> can be something else like <code>&#47;s888x666&#47;</code> then it is another story, you can use replaceAll or replaceFirst which use regex, can you clarify more about the input and the expected output so we can help you?"},{"owner":{"account_id":2005844,"reputation":2306,"user_id":1795776,"accept_rate":89,"display_name":"Emmanuel John"},"score":0,"creation_date":1517065094,"post_id":48476839,"comment_id":83947188,"body_markdown":"If you&#39;re beginning Java, you can always look into the API docs for answering your api specific questions. https://docs.oracle.com/javase/7/docs/api/java/lang/String.html","body":"If you&#39;re beginning Java, you can always look into the API docs for answering your api specific questions. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/String.html</a>"},{"owner":{"account_id":11401580,"reputation":91,"user_id":8358378,"accept_rate":75,"display_name":"YASSBRA Top10"},"score":0,"creation_date":1517066127,"post_id":48476839,"comment_id":83947501,"body_markdown":"@YCF_L yes this is exactly what i need using replaceFirst, the input it&#39;s an pageURL then i try to extract  image url  in this page and it worked fine named imageURL , now i want to generate a methode to resize the image so i need to replace s150x150 by s720x720 and /vp/ by / on the imageURL","body":"@YCF_L yes this is exactly what i need using replaceFirst, the input it&#39;s an pageURL then i try to extract  image url  in this page and it worked fine named imageURL , now i want to generate a methode to resize the image so i need to replace s150x150 by s720x720 and /vp/ by / on the imageURL"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1517067960,"creation_date":1517066432,"answer_id":48477207,"question_id":48476839,"body_markdown":"You can use just replace for the first part, For the second part you can use replaceFirst with this regex `/s\\\\d+x\\\\d+/` replace it by `&quot;/&quot; + newSize + &quot;x&quot; + newSize + &quot;/&quot;` like this :\r\n\r\n    String newSize = &quot;720&quot;;\r\n    url = url.replace(&quot;/vp/&quot;, &quot;/&quot;)\r\n            .replaceFirst(&quot;/s\\\\d+x\\\\d+/&quot;, &quot;/s&quot; + &quot;/&quot; + newSize + &quot;x&quot; + newSize + &quot;/&quot;);\r\n\r\n[&lt;h3&gt;regex demo&lt;/h3&gt;][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/20us1N/1","title":"how to replace 2 diffrents strings in one url using matcher?","body":"<p>You can use just replace for the first part, For the second part you can use replaceFirst with this regex <code>/s\\\\d+x\\\\d+/</code> replace it by <code>\"/\" + newSize + \"x\" + newSize + \"/\"</code> like this :</p>\n\n<pre><code>String newSize = \"720\";\nurl = url.replace(\"/vp/\", \"/\")\n        .replaceFirst(\"/s\\\\d+x\\\\d+/\", \"/s\" + \"/\" + newSize + \"x\" + newSize + \"/\");\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/20us1N/1\" rel=\"nofollow noreferrer\"><h3>regex demo</h3></a></p>\n"}],"owner":{"account_id":11401580,"reputation":91,"user_id":8358378,"accept_rate":75,"display_name":"YASSBRA Top10"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":48477207,"answer_count":1,"score":0,"last_activity_date":1693129733,"creation_date":1517063830,"question_id":48476839,"body_markdown":"I am beginner on android, I have an url and I want to replace two strings(`&quot;/vp/&quot;` by `&quot;/&quot;`)   and (`&quot;/s150x150/&quot;` by `&quot;/s720x720/&quot;` (if it&#39;s exist)) in this url using **matcher** and **pattern**!\r\n\r\nthis is my url :\r\n\r\n    cd.com/vp/3070d0210e464e/5AEFB3ED/t51.2885/s150x150/24845474_1790806444289980_66798452736_n.jpg\r\n\r\nAny help please !\r\n","title":"how to replace 2 diffrents strings in one url using matcher?","body":"<p>I am beginner on android, I have an url and I want to replace two strings(<code>\"/vp/\"</code> by <code>\"/\"</code>)   and (<code>\"/s150x150/\"</code> by <code>\"/s720x720/\"</code> (if it's exist)) in this url using <strong>matcher</strong> and <strong>pattern</strong>!</p>\n\n<p>this is my url :</p>\n\n<pre><code>cd.com/vp/3070d0210e464e/5AEFB3ED/t51.2885/s150x150/24845474_1790806444289980_66798452736_n.jpg\n</code></pre>\n\n<p>Any help please !</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":4,"creation_date":1516213598,"post_id":48307671,"comment_id":83600673,"body_markdown":"By doing research and demonstrating the slightest bit of effort.","body":"By doing research and demonstrating the slightest bit of effort."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1516216533,"post_id":48307671,"comment_id":83602181,"body_markdown":"`&quot;@byDate(@RP(@NOW())&quot;.replaceFirst(&quot;@(.*?)\\\\(@.*&quot;, &quot;$1&quot;)`","body":"<code>&quot;@byDate(@RP(@NOW())&quot;.replaceFirst(&quot;@(.*?)\\\\(@.*&quot;, &quot;$1&quot;)</code>"},{"owner":{"account_id":3801166,"reputation":121,"user_id":3154785,"display_name":"user3154785"},"score":1,"creation_date":1516217203,"post_id":48307671,"comment_id":83602525,"body_markdown":"@YCF_L Works fine! Thanks!","body":"@YCF_L Works fine! Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":12311264,"reputation":52,"user_id":8982620,"display_name":"BullyBoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516365447,"creation_date":1516365447,"answer_id":48341309,"question_id":48307671,"body_markdown":"This regular expresion will find all chanracters between the first `@` and the first `(` :\r\n\r\n    (?&lt;!\\(@)(?&lt;=@)[^\\(]+","title":"Java Regex get word","body":"<p>This regular expresion will find all chanracters between the first <code>@</code> and the first <code>(</code> :</p>\n\n<pre><code>(?&lt;!\\(@)(?&lt;=@)[^\\(]+\n</code></pre>\n"}],"owner":{"account_id":3801166,"reputation":121,"user_id":3154785,"display_name":"user3154785"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1693129726,"creation_date":1516213552,"question_id":48307671,"body_markdown":"How to get by regex only &#39;byDate&#39; in @byDate(@RP(@NOW())","title":"Java Regex get word","body":"<p>How to get by regex only 'byDate' in @byDate(@RP(@NOW())</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1515408529,"post_id":48148719,"comment_id":83275618,"body_markdown":"`79` is already 2 digits. Use `\\d{7}` instead of `\\d{9}`.","body":"<code>79</code> is already 2 digits. Use <code>\\d{7}</code> instead of <code>\\d{9}</code>."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1515408557,"post_id":48148719,"comment_id":83275634,"body_markdown":"...and no need for the capture group. But depending on how you&#39;re using the regex, you may need start and end anchors. Also, alternatives aren&#39;t written `79-78`, they&#39;re written `79|78` (and you will want a group around it if you&#39;re combining it with something else, but probably a non-capturing group).","body":"...and no need for the capture group. But depending on how you&#39;re using the regex, you may need start and end anchors. Also, alternatives aren&#39;t written <code>79-78</code>, they&#39;re written <code>79|78</code> (and you will want a group around it if you&#39;re combining it with something else, but probably a non-capturing group)."}],"answers":[{"tags":[],"owner":{"account_id":2814225,"reputation":505,"user_id":2419751,"display_name":"GuyKhmel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515408584,"creation_date":1515408584,"answer_id":48148738,"question_id":48148719,"body_markdown":"    \\\\d{9}\r\nmeans (another) 9 digits.\r\nYou need 7 (9 - 2 you already used)\r\n\r\nsame for the 2nd question,\r\nuse this instead \r\n    \r\n    \\\\d{8}\r\nto indicate 8 additional numbers","title":"Regex starts with 79 and have length of 9","body":"<pre><code>\\\\d{9}\n</code></pre>\n\n<p>means (another) 9 digits.\nYou need 7 (9 - 2 you already used)</p>\n\n<p>same for the 2nd question,\nuse this instead </p>\n\n<pre><code>\\\\d{8}\n</code></pre>\n\n<p>to indicate 8 additional numbers</p>\n"},{"tags":[],"owner":{"account_id":1565888,"reputation":18884,"user_id":1454708,"display_name":"Nahuel Fouilleul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1515408765,"creation_date":1515408765,"answer_id":48148794,"question_id":48148719,"body_markdown":"using a look ahead assertion\r\n\r\n    ^(?=79)\\d{9}$\r\n    ^(?=79|78)\\d{10}$\r\n\r\notherwise matching first two character then 7 or 8 remaining\r\n\r\n\r\n    ^79\\d{7}$\r\n    ^7[89]\\d{8}$\r\n\r\n[regex101][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/mdBTOM/1/","title":"Regex starts with 79 and have length of 9","body":"<p>using a look ahead assertion</p>\n\n<pre><code>^(?=79)\\d{9}$\n^(?=79|78)\\d{10}$\n</code></pre>\n\n<p>otherwise matching first two character then 7 or 8 remaining</p>\n\n<pre><code>^79\\d{7}$\n^7[89]\\d{8}$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/mdBTOM/1/\" rel=\"nofollow noreferrer\">regex101</a></p>\n"},{"tags":[],"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515409009,"creation_date":1515409009,"answer_id":48148868,"question_id":48148719,"body_markdown":"Here are the regex:&lt;br/&gt;\r\n`^79\\\\d{7}$` and `^7(8|9)\\\\d{8}$`\r\n\r\nNow for the explanation:\r\n\r\n- &quot;79&quot; has two characters in it, therefore `79\\\\d{9}` would match 11 characters\r\n- `(79-78)` is not what you thought it would be, it is actually just capturing the characters &quot;79-78&quot; in this specific order, what you want is alternation : `(79|78)`\r\n- 78 and 79 have the &quot;7&quot; in common, so `(79|78)` can become `7(9|8)`\r\n- &quot;79&quot; still has 2 characters in it, therefore you&#39;d need to match only 8 digits afterward","title":"Regex starts with 79 and have length of 9","body":"<p>Here are the regex:<br/>\n<code>^79\\\\d{7}$</code> and <code>^7(8|9)\\\\d{8}$</code></p>\n\n<p>Now for the explanation:</p>\n\n<ul>\n<li>\"79\" has two characters in it, therefore <code>79\\\\d{9}</code> would match 11 characters</li>\n<li><code>(79-78)</code> is not what you thought it would be, it is actually just capturing the characters \"79-78\" in this specific order, what you want is alternation : <code>(79|78)</code></li>\n<li>78 and 79 have the \"7\" in common, so <code>(79|78)</code> can become <code>7(9|8)</code></li>\n<li>\"79\" still has 2 characters in it, therefore you'd need to match only 8 digits afterward</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515409020,"creation_date":1515409020,"answer_id":48148871,"question_id":48148719,"body_markdown":"Your regex does not work because you did not account for the 2 characters that `79` occupies.\r\n\r\nIt should be\r\n\r\n    ^79\\d{7}$\r\n\r\nThis means &quot;starting with 79, with 7 more digits following it&quot;. All together there are exactly 9 characters.\r\n\r\nYour second regex does not work because `-` does not mean &quot;or&quot;. `|` means &quot;or&quot;.\r\n\r\n    ^(79|78)\\d{8}$\r\n\r\nAgain, it should be `\\d{8}` instead of `\\d{10}` for the same reason.","title":"Regex starts with 79 and have length of 9","body":"<p>Your regex does not work because you did not account for the 2 characters that <code>79</code> occupies.</p>\n\n<p>It should be</p>\n\n<pre><code>^79\\d{7}$\n</code></pre>\n\n<p>This means \"starting with 79, with 7 more digits following it\". All together there are exactly 9 characters.</p>\n\n<p>Your second regex does not work because <code>-</code> does not mean \"or\". <code>|</code> means \"or\".</p>\n\n<pre><code>^(79|78)\\d{8}$\n</code></pre>\n\n<p>Again, it should be <code>\\d{8}</code> instead of <code>\\d{10}</code> for the same reason.</p>\n"}],"owner":{"account_id":3854842,"reputation":65,"user_id":3194062,"accept_rate":80,"display_name":"user3194062"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":48148794,"answer_count":4,"score":0,"last_activity_date":1693129714,"creation_date":1515408479,"question_id":48148719,"body_markdown":"Hello everyone, \r\n               I m new to regex and trying to apply two specific regexes in java. \r\n\r\n1 - Regex starts with 79, contain only numbers and length must be 9. My solution is\r\n   \r\n\r\n     ^(79)\\\\d{9}$\r\nBut not matching this string. 791234567. \r\n\r\n2 - Another regex is start with 79 or 78, contain only numbers and length must be 10.\r\nMy solution is `^(79-78)\\\\d{10}$`\r\n\r\nBoth are different and need different regex for each case. Any help would be great.\r\n\r\n","title":"Regex starts with 79 and have length of 9","body":"<p>Hello everyone, \n               I m new to regex and trying to apply two specific regexes in java. </p>\n\n<p>1 - Regex starts with 79, contain only numbers and length must be 9. My solution is</p>\n\n<pre><code> ^(79)\\\\d{9}$\n</code></pre>\n\n<p>But not matching this string. 791234567. </p>\n\n<p>2 - Another regex is start with 79 or 78, contain only numbers and length must be 10.\nMy solution is <code>^(79-78)\\\\d{10}$</code></p>\n\n<p>Both are different and need different regex for each case. Any help would be great.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9773,"page":219,"page_size":100}
