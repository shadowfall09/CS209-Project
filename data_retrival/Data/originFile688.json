{"items":[{"tags":["java","mongodb","pagination","mongorepository"],"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675134052,"creation_date":1675102779,"question_id":75288556,"body_markdown":"I am having trouble trying to implement a query using filters and projections against a mongodb database. I created the simple GET version using mongorepository with the pagination class to return all rows from a specific collection using pagination. However I would like to modify the request to only return records based on a certain field or fields?\r\n\r\n    @RestController\r\n    public class WebSiteController {\r\n\r\n\t@Autowired\r\n\tprivate WebSiteRepository siteRepository;\r\n\t\r\n\t@GetMapping(&quot;list&quot;)\r\n\tpublic List&lt;premium_Web&gt; listWebSites(){\r\n\t\treturn siteRepository.findAll();\r\n\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;listp&quot;)\r\n\tpublic Page&lt;premium_Web&gt; listWebSitesPaginated(Pageable p){\r\n\t\treturn siteRepository.findAll(p);\r\n\t}\r\n\r\nHave to be able to accept the filter parameter in the request and return only those specific records:\r\nI tried some code I had but this does not use mongorepository but instead manually creates an instance of the collection. Could someone please advise as how to use the same filtering query but using mongorepository and the pagination. \r\n\r\n            if(customerId != null) {\r\n\t\t\t\tMongoCollection results;\r\n\t\t\t\tint customerId = Integer.parseInt(customerId);\r\n\t\t\t\tresults = mongoTemplate.getDb().getCollection(&quot;client_publishers&quot;);\r\n\t\t\t\tBson filter = Filters.eq(&quot;customers&quot;, customerId);\r\n\t\t\t\tBson projection = Projections.fields(Projections.include(&quot;id&quot;,&quot;Url&quot;,&quot;siteId&quot;,&quot;projectId&quot;,&quot;active&quot;,&quot;origin&quot;,\r\n\t\t\t\t\t\t&quot;actualVisitors&quot;,&quot;dateAdded&quot;));\r\n\t\t\t    FindIterable&lt;Document&gt; fi = results.find(filter).projection(projection);\r\n\t\t\t    //.sort(descending(&quot;dateAdded&quot;));\r\n\t\t      \r\n\t\t\t    MongoCursor&lt;Document&gt; cursor = fi.iterator();\r\n\t\r\n\t\t        \r\n\t\t        try {\r\n\t\t            while(cursor.hasNext()) {               \r\n\t\t               // System.out.println(cursor.next().toJson)...\r\n\r\n\r\nEDIT:\r\nI&#39;m not sure how to return the results for a GET request that includes the customer &#39;Name&#39; from a customer table, where the customer ID links to the client_publishers table and all records associated with that ID.\r\n\r\n    @org.springframework.data.mongodb.repository.Query(value = &quot;{})&quot;, fields=&quot;{&quot;id&quot;,&quot;Url&quot;,&quot;siteId&quot;,&quot;projectId&quot;,&quot;active&quot;,&quot;origin&quot;,\r\n\t&quot;actualVisitors&quot;,&quot;dateAdded&quot;}&quot;)\r\n\t Page&lt;client_publishers&gt; findByClientID(ObjectId customerId, Pageable pageable);\r\n","title":"using the mongodb mongorepository library with pagination","body":"<p>I am having trouble trying to implement a query using filters and projections against a mongodb database. I created the simple GET version using mongorepository with the pagination class to return all rows from a specific collection using pagination. However I would like to modify the request to only return records based on a certain field or fields?</p>\n<pre><code>@RestController\npublic class WebSiteController {\n\n@Autowired\nprivate WebSiteRepository siteRepository;\n\n@GetMapping(&quot;list&quot;)\npublic List&lt;premium_Web&gt; listWebSites(){\n    return siteRepository.findAll();\n\n}\n\n@GetMapping(&quot;listp&quot;)\npublic Page&lt;premium_Web&gt; listWebSitesPaginated(Pageable p){\n    return siteRepository.findAll(p);\n}\n</code></pre>\n<p>Have to be able to accept the filter parameter in the request and return only those specific records:\nI tried some code I had but this does not use mongorepository but instead manually creates an instance of the collection. Could someone please advise as how to use the same filtering query but using mongorepository and the pagination.</p>\n<pre><code>        if(customerId != null) {\n            MongoCollection results;\n            int customerId = Integer.parseInt(customerId);\n            results = mongoTemplate.getDb().getCollection(&quot;client_publishers&quot;);\n            Bson filter = Filters.eq(&quot;customers&quot;, customerId);\n            Bson projection = Projections.fields(Projections.include(&quot;id&quot;,&quot;Url&quot;,&quot;siteId&quot;,&quot;projectId&quot;,&quot;active&quot;,&quot;origin&quot;,\n                    &quot;actualVisitors&quot;,&quot;dateAdded&quot;));\n            FindIterable&lt;Document&gt; fi = results.find(filter).projection(projection);\n            //.sort(descending(&quot;dateAdded&quot;));\n          \n            MongoCursor&lt;Document&gt; cursor = fi.iterator();\n\n            \n            try {\n                while(cursor.hasNext()) {               \n                   // System.out.println(cursor.next().toJson)...\n</code></pre>\n<p>EDIT:\nI'm not sure how to return the results for a GET request that includes the customer 'Name' from a customer table, where the customer ID links to the client_publishers table and all records associated with that ID.</p>\n<pre><code>@org.springframework.data.mongodb.repository.Query(value = &quot;{})&quot;, fields=&quot;{&quot;id&quot;,&quot;Url&quot;,&quot;siteId&quot;,&quot;projectId&quot;,&quot;active&quot;,&quot;origin&quot;,\n&quot;actualVisitors&quot;,&quot;dateAdded&quot;}&quot;)\n Page&lt;client_publishers&gt; findByClientID(ObjectId customerId, Pageable pageable);\n</code></pre>\n"},{"tags":["java","iterator","treemap"],"owner":{"account_id":22472692,"reputation":11,"user_id":16672916,"display_name":"Gopal Prashad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675133588,"creation_date":1675133076,"question_id":75292225,"body_markdown":"**Input** \r\n\r\n| Column A | Column B | \r\n| -------- | -------- |\r\n| Cell 1   | Cell 2   | \r\n| Cell 3   | Cell 4   | \r\n\r\nCaptured as **TreeMap&lt;String, List&lt;String&gt;&gt; map**\r\n\r\nKey is Column Name (ColumnA)\r\nEach row is List&lt;String&gt; Values.\r\n\r\nI want to retrieve the information like this.\r\n\r\n**Itration 1:**\r\nColumnA --&gt;Cell1\r\nColumnB --&gt; Cell2\r\n\r\n**Itration** 2:\r\nColumnA --&gt;Cell3\r\nColumnB --&gt; Cell3\r\n\r\nand so on........\r\n\r\n\r\n```\r\n\r\nTreeMap&lt;String, List&lt;String&gt;&gt; map\r\n                    = new TreeMap&lt;String, List&lt;String&gt;&gt;();\r\n\r\nfor (int j = 0; j &lt; tcols; j++) {\r\n                List&lt;String&gt; list = new LinkedList&lt;&gt;();\r\n                for (int i = 1; i &lt; rows.getCount(); i++) {\r\n                    String s = convertNumberToString(cells.get(i, j).getValue().toString());\r\n                    list.add(s);\r\n                }\r\n                String colHeader = cells.get(0, j).getValue().toString();\r\n                map.put(colHeader, list);\r\n            }\r\n\r\n            iterateMapRowWise(map);\r\n\r\n    public static void iterateMapRowWise(TreeMap&lt;String, List&lt;String&gt;&gt; map) {\r\n        int maxListSize = 0;\r\n        for (List&lt;String&gt; values : map.values()) {\r\n            maxListSize = Math.max(maxListSize, values.size());\r\n\r\n        }\r\n        System.out.println(maxListSize);\r\n        //list size iteration\r\n        for (int i = 0; i &lt; maxListSize; i++) {\r\n            for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : map.entrySet()) {\r\n                String key = entry.getKey();\r\n                List&lt;String&gt; values = entry.getValue();\r\n                   System.out.println(&quot; ::&quot;+i+&quot; ::&quot;+key + &quot; ::&quot; + values.get(i));\r\n            }\r\n        }\r\n\r\n    }```\r\n\r\nIteration is happening with Column name as Key and List&lt;String&gt; of iteration number as value.\r\nHowever, the data is not iterating from the Zeroth row but rather random as below.\r\n\r\nsome values are truncated at the beginning and start with some random iteration.\r\n\r\ntrans_idfr_org_unit ::1000\r\ntrans_idfr_orgnl ::null\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;**IterationCount :: 271**  &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\naba_nmbr ::null\r\naccrl_status ::null\r\nacct_invld_ind ::null\r\nacct_status_chng_mode ::null\r\nacct_status_chng_revrsl_mode ::null\r\n\r\n\r\n**Expected**:\r\n\r\n**&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;**IterationCount :: 1**  &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n**aba_nmbr ::row1Value\r\naccrl_status ::row1Value\r\nacct_invld_ind ::row1Value\r\nacct_status_chng_mode ::row1Value\r\nacct_status_chng_revrsl_mode ::row1Value\r\n**&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;**IterationCount :: 2**  &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n**aba_nmbr ::row2Value\r\naccrl_status ::row2Value\r\nacct_invld_ind ::row2Value\r\nacct_status_chng_mode ::row2Value\r\nacct_status_chng_revrsl_mode ::row2Value","title":"Tree Map iteration (Column as Key&lt;String&gt; and Rows as List&lt;String&gt;) is skipping rows with Entry Set option","body":"<p><strong>Input</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Column A</th>\n<th>Column B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cell 1</td>\n<td>Cell 2</td>\n</tr>\n<tr>\n<td>Cell 3</td>\n<td>Cell 4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Captured as <strong>TreeMap&lt;String, List&gt; map</strong></p>\n<p>Key is Column Name (ColumnA)\nEach row is List Values.</p>\n<p>I want to retrieve the information like this.</p>\n<p><strong>Itration 1:</strong>\nColumnA --&gt;Cell1\nColumnB --&gt; Cell2</p>\n<p><strong>Itration</strong> 2:\nColumnA --&gt;Cell3\nColumnB --&gt; Cell3</p>\n<p>and so on........</p>\n<pre><code>\nTreeMap&lt;String, List&lt;String&gt;&gt; map\n                    = new TreeMap&lt;String, List&lt;String&gt;&gt;();\n\nfor (int j = 0; j &lt; tcols; j++) {\n                List&lt;String&gt; list = new LinkedList&lt;&gt;();\n                for (int i = 1; i &lt; rows.getCount(); i++) {\n                    String s = convertNumberToString(cells.get(i, j).getValue().toString());\n                    list.add(s);\n                }\n                String colHeader = cells.get(0, j).getValue().toString();\n                map.put(colHeader, list);\n            }\n\n            iterateMapRowWise(map);\n\n    public static void iterateMapRowWise(TreeMap&lt;String, List&lt;String&gt;&gt; map) {\n        int maxListSize = 0;\n        for (List&lt;String&gt; values : map.values()) {\n            maxListSize = Math.max(maxListSize, values.size());\n\n        }\n        System.out.println(maxListSize);\n        //list size iteration\n        for (int i = 0; i &lt; maxListSize; i++) {\n            for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : map.entrySet()) {\n                String key = entry.getKey();\n                List&lt;String&gt; values = entry.getValue();\n                   System.out.println(&quot; ::&quot;+i+&quot; ::&quot;+key + &quot; ::&quot; + values.get(i));\n            }\n        }\n\n    }```\n\nIteration is happening with Column name as Key and List&lt;String&gt; of iteration number as value.\nHowever, the data is not iterating from the Zeroth row but rather random as below.\n\nsome values are truncated at the beginning and start with some random iteration.\n\ntrans_idfr_org_unit ::1000\ntrans_idfr_orgnl ::null\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;**IterationCount :: 271**  &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\naba_nmbr ::null\naccrl_status ::null\nacct_invld_ind ::null\nacct_status_chng_mode ::null\nacct_status_chng_revrsl_mode ::null\n\n\n**Expected**:\n\n**&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;**IterationCount :: 1**  &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n**aba_nmbr ::row1Value\naccrl_status ::row1Value\nacct_invld_ind ::row1Value\nacct_status_chng_mode ::row1Value\nacct_status_chng_revrsl_mode ::row1Value\n**&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;**IterationCount :: 2**  &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n**aba_nmbr ::row2Value\naccrl_status ::row2Value\nacct_invld_ind ::row2Value\nacct_status_chng_mode ::row2Value\nacct_status_chng_revrsl_mode ::row2Value\n</code></pre>\n"},{"tags":["java","hql","jpql","localdatetime"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1674859703,"post_id":75264039,"comment_id":132810962,"body_markdown":"By the way, if your `persistDate` means you are recording the moment when an object/row was saved to the database, `LocalDateTime` is the wrong Java class.","body":"By the way, if your <code>persistDate</code> means you are recording the moment when an object/row was saved to the database, <code>LocalDateTime</code> is the wrong Java class."}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675132164,"creation_date":1674861128,"answer_id":75264221,"question_id":75264039,"body_markdown":"even if the date string may or may not be necesssary, you can (and should!) still use parameter injection, not formatted values.\r\n\r\nBasically, your code should look like this:\r\n\r\n    String queryStr = ....;\r\n    boolean someCondition = &lt;expensive_test_here&gt;;\r\n    if(someCondition) {\r\n      queryStr += &quot; AND s.persistDate &gt;= :userDateTime&quot;;\r\n    }\r\n    Query q = em.createQuery(queryStr).setParameter(&quot;userId&quot;, userId);\r\n    if(someCondition) {\r\n      q.setParameter(&quot;userDateTime&quot;, userDateTime);\r\n    }\r\n","title":"How to compare LocalDateTime values in JPQL query?","body":"<p>even if the date string may or may not be necesssary, you can (and should!) still use parameter injection, not formatted values.</p>\n<p>Basically, your code should look like this:</p>\n<pre><code>String queryStr = ....;\nboolean someCondition = &lt;expensive_test_here&gt;;\nif(someCondition) {\n  queryStr += &quot; AND s.persistDate &gt;= :userDateTime&quot;;\n}\nQuery q = em.createQuery(queryStr).setParameter(&quot;userId&quot;, userId);\nif(someCondition) {\n  q.setParameter(&quot;userDateTime&quot;, userDateTime);\n}\n</code></pre>\n"}],"owner":{"account_id":21063908,"reputation":3,"user_id":15481699,"display_name":"ingors"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75264221,"answer_count":1,"score":0,"last_activity_date":1675132164,"creation_date":1674859476,"question_id":75264039,"body_markdown":"It is necessary to select dataset using JPQL query with optional condition - comparing the field value (`LocalDateTime` type) with a user-specified parameter (also LocalDateTime type).\r\n\r\nFirst I made a well working code:\r\n```\r\nreturn entityManager.createQuery(\r\n    &quot;SELECT new com.******.*******.*******.****.models.dto.SomeDto &quot; +\r\n    &quot;(s.id, &quot; +\r\n    &quot;s.userId) &quot; +\r\n    &quot;s.persistDate) &quot; +\r\n    &quot;FROM Some s WHERE s.userId = :userId \r\n    AND s.persistDate &gt;= :userDateTime&quot;, SomeDTO.class)\r\n    .setParameter(&quot;userId&quot;, userId)\r\n    .setParameter(&quot;userDateTime&quot;, userDateTime)\r\n```\r\n\r\nThis code works but there is one problem:\r\nthis condition may exist or may not exist - dependent on app logic. Therefore, there is a need not to use injection using .setParameter (for this condition), but to form a string (which may be empty) depending on the logic and then add to the request:\r\n\r\n```\r\nString extraCondition = (userDateString.equals(&quot;false&quot;)) ? &quot;&quot; : \r\n    &quot;AND s.persistDateTime &gt;= &quot; + userDateString;\r\n```\r\n```\r\nreturn entityManager.createQuery(\r\n    &quot;SELECT new com.******.*******.*******.****.models.dto.SomeDto &quot; +\r\n    &quot;(s.id, &quot; +\r\n    &quot;s.userId) &quot; +\r\n    &quot;s.persistDate) &quot; +\r\n    &quot;FROM Some s WHERE s.userId = :userId &quot; + extraCondition, SomeDTO.class)\r\n    .setParameter(&quot;userId&quot;, userId)\r\n```\r\n\r\nBut the problem is that no matter how I tried to format the userDateString variable, I get an Internal Server Error.I even tried using just a text string instead of variable (tried with different formatting):\r\n```\r\nString extraCondition = (userDateString.equals(&quot;false&quot;)) ? &quot;&quot; : \r\n    &quot;AND s.persistDateTime &gt;= 2023-01-27T23:30:50&quot;;\r\n```\r\nBut the result is also bad - Internal Server Error.\r\n\r\nI also tried using the .isAfter method instead of the &quot;&gt;=&quot; operator, but that didn&#39;t help either.\r\n\r\nHow to inject `LocalDateTime` values comparing into query as String?","title":"How to compare LocalDateTime values in JPQL query?","body":"<p>It is necessary to select dataset using JPQL query with optional condition - comparing the field value (<code>LocalDateTime</code> type) with a user-specified parameter (also LocalDateTime type).</p>\n<p>First I made a well working code:</p>\n<pre><code>return entityManager.createQuery(\n    &quot;SELECT new com.******.*******.*******.****.models.dto.SomeDto &quot; +\n    &quot;(s.id, &quot; +\n    &quot;s.userId) &quot; +\n    &quot;s.persistDate) &quot; +\n    &quot;FROM Some s WHERE s.userId = :userId \n    AND s.persistDate &gt;= :userDateTime&quot;, SomeDTO.class)\n    .setParameter(&quot;userId&quot;, userId)\n    .setParameter(&quot;userDateTime&quot;, userDateTime)\n</code></pre>\n<p>This code works but there is one problem:\nthis condition may exist or may not exist - dependent on app logic. Therefore, there is a need not to use injection using .setParameter (for this condition), but to form a string (which may be empty) depending on the logic and then add to the request:</p>\n<pre><code>String extraCondition = (userDateString.equals(&quot;false&quot;)) ? &quot;&quot; : \n    &quot;AND s.persistDateTime &gt;= &quot; + userDateString;\n</code></pre>\n<pre><code>return entityManager.createQuery(\n    &quot;SELECT new com.******.*******.*******.****.models.dto.SomeDto &quot; +\n    &quot;(s.id, &quot; +\n    &quot;s.userId) &quot; +\n    &quot;s.persistDate) &quot; +\n    &quot;FROM Some s WHERE s.userId = :userId &quot; + extraCondition, SomeDTO.class)\n    .setParameter(&quot;userId&quot;, userId)\n</code></pre>\n<p>But the problem is that no matter how I tried to format the userDateString variable, I get an Internal Server Error.I even tried using just a text string instead of variable (tried with different formatting):</p>\n<pre><code>String extraCondition = (userDateString.equals(&quot;false&quot;)) ? &quot;&quot; : \n    &quot;AND s.persistDateTime &gt;= 2023-01-27T23:30:50&quot;;\n</code></pre>\n<p>But the result is also bad - Internal Server Error.</p>\n<p>I also tried using the .isAfter method instead of the &quot;&gt;=&quot; operator, but that didn't help either.</p>\n<p>How to inject <code>LocalDateTime</code> values comparing into query as String?</p>\n"},{"tags":["java","feign"],"answers":[{"tags":[],"owner":{"account_id":15795527,"reputation":100,"user_id":11397457,"display_name":"boholder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675131949,"creation_date":1675131949,"answer_id":75292132,"question_id":75292128,"body_markdown":"The solution is configuring scan base-path for `@EnableFeignClients`: `@EnableFeignClients(basePackages= &quot;path-include-that-SPI-interface&quot;)`.","title":"@FeignClient interface in application&#39;s one dependency and @EnableFeignClients on application main class can&#39;t load the interface as bean","body":"<p>The solution is configuring scan base-path for <code>@EnableFeignClients</code>: <code>@EnableFeignClients(basePackages= &quot;path-include-that-SPI-interface&quot;)</code>.</p>\n"}],"owner":{"account_id":15795527,"reputation":100,"user_id":11397457,"display_name":"boholder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75292132,"answer_count":1,"score":0,"last_activity_date":1675131949,"creation_date":1675131892,"question_id":75292128,"body_markdown":"For example:\r\n\r\nApplication A -&gt; dependency B. B got a `@FeignClient` annotated SPI interface, which is `@Autowired` depended by classes **both** in A and B, the SPI is expected to be works fine when application A is started.\r\n\r\nAdding `@EnableFeignClients` and `@SpringBootApplication(scanBasePackages= &quot;path-include-that-SPI-interface&quot;)` on A&#39;s main class and start, encounters an exception that &quot;Cannot find bean qualified... [SPI interface]&quot;.","title":"@FeignClient interface in application&#39;s one dependency and @EnableFeignClients on application main class can&#39;t load the interface as bean","body":"<p>For example:</p>\n<p>Application A -&gt; dependency B. B got a <code>@FeignClient</code> annotated SPI interface, which is <code>@Autowired</code> depended by classes <strong>both</strong> in A and B, the SPI is expected to be works fine when application A is started.</p>\n<p>Adding <code>@EnableFeignClients</code> and <code>@SpringBootApplication(scanBasePackages= &quot;path-include-that-SPI-interface&quot;)</code> on A's main class and start, encounters an exception that &quot;Cannot find bean qualified... [SPI interface]&quot;.</p>\n"},{"tags":["java","option-type"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1675124810,"creation_date":1675124810,"answer_id":75291576,"question_id":75291565,"body_markdown":"Use [`Optional#flatMap`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#flatMap-java.util.function.Function-).\r\n\r\n```java\r\nOptional&lt;String&gt; orderLabel = getOrderInfo().flatMap(Order::genericOrderInfo)\r\n                               .map(orderInfo -&gt; orderInfo.get(&quot;orderLabel&quot;));\r\n```","title":"Fetching value from nested optional elements in Java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Optional#flatMap</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;String&gt; orderLabel = getOrderInfo().flatMap(Order::genericOrderInfo)\n                               .map(orderInfo -&gt; orderInfo.get(&quot;orderLabel&quot;));\n</code></pre>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"closed_date":1675128129,"accepted_answer_id":75291576,"answer_count":1,"score":-1,"last_activity_date":1675127700,"creation_date":1675124653,"question_id":75291565,"body_markdown":"Is there a more concise way of fetching the `orderLabel` information when it is present in an optional object which present under another optional object.\r\n\r\n    Optional&lt;Order&gt; maybeOrderInfo = getOrderInfo(); // API Call\r\n    Optional&lt;String&gt; orderLabel = maybeOrderInfo.isPresent()\r\n      ? maybeOrderInfoPresent\r\n        .get()\r\n        .genericOrderInfo()\r\n        .map(orderInfo -&gt; orderInfo.get(&quot;orderLabel&quot;))\r\n        .or(() -&gt; Optional.empty())\r\n      : Optional.empty();\r\n","title":"Fetching value from nested optional elements in Java","body":"<p>Is there a more concise way of fetching the <code>orderLabel</code> information when it is present in an optional object which present under another optional object.</p>\n<pre><code>Optional&lt;Order&gt; maybeOrderInfo = getOrderInfo(); // API Call\nOptional&lt;String&gt; orderLabel = maybeOrderInfo.isPresent()\n  ? maybeOrderInfoPresent\n    .get()\n    .genericOrderInfo()\n    .map(orderInfo -&gt; orderInfo.get(&quot;orderLabel&quot;))\n    .or(() -&gt; Optional.empty())\n  : Optional.empty();\n</code></pre>\n"},{"tags":["java","filter","rx-java"],"answers":[{"tags":[],"owner":{"account_id":3809860,"reputation":1713,"user_id":3161142,"display_name":"Samuel Gruetter"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1431261340,"creation_date":1431261340,"answer_id":30151488,"question_id":30143591,"body_markdown":"There used to be `mapWithIndex` and `zipWithIndex` operators in RxJava, but they were removed, see [here](https://groups.google.com/forum/#!topic/rxjava/y0KMO7ci0QE) why.\r\n\r\nSo you have to write some library boilerplate once:\r\n\r\n    class Indexed&lt;T&gt; {\r\n        final int index;\r\n        final T value;\r\n        public Indexed(T value, int index) {\r\n            this.index = index;\r\n            this.value = value;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return index + &quot;) &quot; + value;\r\n        }\r\n    }\r\n    \r\n    Iterable&lt;Integer&gt; naturals = IntStream.iterate(0, i -&gt; i + 1)::iterator;\r\n\r\nBut then, you can get it reasonably concise:\r\n\r\n    Observable&lt;String&gt; obs = Observable.just(&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n    obs.zipWith(naturals, (s, i) -&gt; new Indexed&lt;String&gt;(s, i))\r\n       .filter(e -&gt; e.value.length() &gt; 4)\r\n       .subscribe(System.out::println);\r\n","title":"Elegant way to get index of filter or first with RX Java","body":"<p>There used to be <code>mapWithIndex</code> and <code>zipWithIndex</code> operators in RxJava, but they were removed, see <a href=\"https://groups.google.com/forum/#!topic/rxjava/y0KMO7ci0QE\" rel=\"noreferrer\">here</a> why.</p>\n\n<p>So you have to write some library boilerplate once:</p>\n\n<pre><code>class Indexed&lt;T&gt; {\n    final int index;\n    final T value;\n    public Indexed(T value, int index) {\n        this.index = index;\n        this.value = value;\n    }\n    @Override\n    public String toString() {\n        return index + \") \" + value;\n    }\n}\n\nIterable&lt;Integer&gt; naturals = IntStream.iterate(0, i -&gt; i + 1)::iterator;\n</code></pre>\n\n<p>But then, you can get it reasonably concise:</p>\n\n<pre><code>Observable&lt;String&gt; obs = Observable.just(\"zero\", \"one\", \"two\", \"three\");\nobs.zipWith(naturals, (s, i) -&gt; new Indexed&lt;String&gt;(s, i))\n   .filter(e -&gt; e.value.length() &gt; 4)\n   .subscribe(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1557140,"reputation":13261,"user_id":1447885,"accept_rate":74,"display_name":"Diolor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431263700,"creation_date":1431263700,"answer_id":30151854,"question_id":30143591,"body_markdown":"There is not one correct way to do this. Samuel&#39;s answer can be one.\r\nIt also depends the bigger picture on what is you array and how you need to handle the results in the subscriber.\r\n\r\nHere is a (java7) example where the Observer emits a `ArrayList&lt;String&gt;`:\r\n\r\n    strings.map(new Func1&lt;ArrayList&lt;String&gt;, ArrayList&lt;Integer&gt;&gt;() {\r\n                @Override\r\n                public ArrayList&lt;Integer&gt; call(ArrayList&lt;String&gt; strings) {\r\n                    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n                    for(String string: strings){\r\n                        if(statement){\r\n                            list.add(strings.indexOf(string));\r\n                        }\r\n                    }\r\n                    return list;\r\n                }\r\n            }).subscribe(new Action1&lt;ArrayList&lt;Integer&gt;&gt;() {\r\n                @Override\r\n                public void call(ArrayList&lt;Integer&gt; integers) {\r\n                    doSomethingWithThePositions(integers);\r\n                }\r\n            });\r\n\r\n\r\nAnd here is an example where the Observer emits a `String` per time from your ArrayList:\r\n\r\n    final ArrayList&lt;String&gt; strings1 = new ArrayList&lt;&gt;();\r\n    Observable.from(strings1)\r\n            .filter(new Func1&lt;String, Boolean&gt;() {\r\n                @Override\r\n                public Boolean call(String s) {\r\n                    return !s.isEmpty();\r\n                }\r\n            })\r\n            .subscribe(new Action1&lt;String&gt;() {\r\n                @Override\r\n                public void call(String s) {\r\n                    int i = strings1.indexOf(s);\r\n                    doSomethingWithThePosition(i);\r\n                }\r\n            });\r\n\r\n","title":"Elegant way to get index of filter or first with RX Java","body":"<p>There is not one correct way to do this. Samuel's answer can be one.\nIt also depends the bigger picture on what is you array and how you need to handle the results in the subscriber.</p>\n\n<p>Here is a (java7) example where the Observer emits a <code>ArrayList&lt;String&gt;</code>:</p>\n\n<pre><code>strings.map(new Func1&lt;ArrayList&lt;String&gt;, ArrayList&lt;Integer&gt;&gt;() {\n            @Override\n            public ArrayList&lt;Integer&gt; call(ArrayList&lt;String&gt; strings) {\n                ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n                for(String string: strings){\n                    if(statement){\n                        list.add(strings.indexOf(string));\n                    }\n                }\n                return list;\n            }\n        }).subscribe(new Action1&lt;ArrayList&lt;Integer&gt;&gt;() {\n            @Override\n            public void call(ArrayList&lt;Integer&gt; integers) {\n                doSomethingWithThePositions(integers);\n            }\n        });\n</code></pre>\n\n<p>And here is an example where the Observer emits a <code>String</code> per time from your ArrayList:</p>\n\n<pre><code>final ArrayList&lt;String&gt; strings1 = new ArrayList&lt;&gt;();\nObservable.from(strings1)\n        .filter(new Func1&lt;String, Boolean&gt;() {\n            @Override\n            public Boolean call(String s) {\n                return !s.isEmpty();\n            }\n        })\n        .subscribe(new Action1&lt;String&gt;() {\n            @Override\n            public void call(String s) {\n                int i = strings1.indexOf(s);\n                doSomethingWithThePosition(i);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555681089,"creation_date":1434609850,"answer_id":30908251,"question_id":30143591,"body_markdown":"I like Samuel&#39;s answer. I&#39;ve written a Transformer implementation of his stuff which is Java 6/7 compliant and uses a Long index (I have long streams to deal with!). \r\n\r\nYou call it like this:\r\n&lt;pre&gt;\r\nObservable.just(&quot;a&quot;, &quot;b&quot;).compose(MapWithIndex.&amp;lt;String&amp;gt;instance());\r\n&lt;/pre&gt;\r\n\r\nHere&#39;s the class (source and unit tests [here][1]):\r\n&lt;pre&gt;\r\npackage com.github.davidmoten.util;\r\n\r\nimport java.util.Iterator;\r\n\r\nimport rx.Observable;\r\nimport rx.Observable.Transformer;\r\nimport rx.functions.Func2;\r\n\r\nimport com.github.davidmoten.util.MapWithIndex.Indexed;\r\n\r\npublic final class MapWithIndex&amp;lt;T&amp;gt; implements Transformer&amp;lt;T, Indexed&amp;lt;T&amp;gt;&amp;gt; {\r\n\r\n    private static class Holder {\r\n        static final MapWithIndex&amp;lt;?&amp;gt; INSTANCE = new MapWithIndex&amp;lt;Object&amp;gt;();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &amp;lt;T&amp;gt; MapWithIndex&amp;lt;T&amp;gt; instance() {\r\n        return (MapWithIndex&amp;lt;T&amp;gt;) Holder.INSTANCE;\r\n    }\r\n\r\n    @Override\r\n    public Observable&amp;lt;Indexed&amp;lt;T&amp;gt;&amp;gt; call(Observable&amp;lt;T&amp;gt; source) {\r\n\r\n        return source.zipWith(NaturalNumbers.instance(), new Func2&amp;lt;T, Long, Indexed&amp;lt;T&amp;gt;&amp;gt;() {\r\n\r\n            @Override\r\n            public Indexed&amp;lt;T&amp;gt; call(T t, Long n) {\r\n                return new Indexed&amp;lt;T&amp;gt;(t, n);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static class Indexed&amp;lt;T&amp;gt; {\r\n        private final long index;\r\n        private final T value;\r\n\r\n        public Indexed(T value, long index) {\r\n            this.index = index;\r\n            this.value = value;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return index + &quot;-&amp;gt;&quot; + value;\r\n        }\r\n\r\n        public long index() {\r\n            return index;\r\n        }\r\n\r\n        public T value() {\r\n            return value;\r\n        }\r\n\r\n    }\r\n\r\n    private static final class NaturalNumbers implements Iterable&amp;lt;Long&amp;gt; {\r\n\r\n        private static class Holder {\r\n            static final NaturalNumbers INSTANCE = new NaturalNumbers();\r\n        }\r\n\r\n        static NaturalNumbers instance() {\r\n            return Holder.INSTANCE;\r\n        }\r\n\r\n        @Override\r\n        public Iterator&amp;lt;Long&amp;gt; iterator() {\r\n            return new Iterator&amp;lt;Long&amp;gt;() {\r\n\r\n                private long n = 0;\r\n\r\n                @Override\r\n                public boolean hasNext() {\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public Long next() {\r\n                    return n++;\r\n                }\r\n                \r\n                @Override\r\n                public void remove() {\r\n                    throw new RuntimeException(&quot;not supported&quot;);\r\n                }\r\n            };\r\n        }\r\n\r\n    }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: https://github.com/davidmoten/rxjava-extras","title":"Elegant way to get index of filter or first with RX Java","body":"<p>I like Samuel's answer. I've written a Transformer implementation of his stuff which is Java 6/7 compliant and uses a Long index (I have long streams to deal with!). </p>\n\n<p>You call it like this:</p>\n\n<pre>\nObservable.just(\"a\", \"b\").compose(MapWithIndex.&lt;String&gt;instance());\n</pre>\n\n<p>Here's the class (source and unit tests <a href=\"https://github.com/davidmoten/rxjava-extras\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre>\npackage com.github.davidmoten.util;\n\nimport java.util.Iterator;\n\nimport rx.Observable;\nimport rx.Observable.Transformer;\nimport rx.functions.Func2;\n\nimport com.github.davidmoten.util.MapWithIndex.Indexed;\n\npublic final class MapWithIndex&lt;T&gt; implements Transformer&lt;T, Indexed&lt;T&gt;&gt; {\n\n    private static class Holder {\n        static final MapWithIndex&lt;?&gt; INSTANCE = new MapWithIndex&lt;Object&gt;();\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; MapWithIndex&lt;T&gt; instance() {\n        return (MapWithIndex&lt;T&gt;) Holder.INSTANCE;\n    }\n\n    @Override\n    public Observable&lt;Indexed&lt;T&gt;&gt; call(Observable&lt;T&gt; source) {\n\n        return source.zipWith(NaturalNumbers.instance(), new Func2&lt;T, Long, Indexed&lt;T&gt;&gt;() {\n\n            @Override\n            public Indexed&lt;T&gt; call(T t, Long n) {\n                return new Indexed&lt;T&gt;(t, n);\n            }\n        });\n    }\n\n    public static class Indexed&lt;T&gt; {\n        private final long index;\n        private final T value;\n\n        public Indexed(T value, long index) {\n            this.index = index;\n            this.value = value;\n        }\n\n        @Override\n        public String toString() {\n            return index + \"-&gt;\" + value;\n        }\n\n        public long index() {\n            return index;\n        }\n\n        public T value() {\n            return value;\n        }\n\n    }\n\n    private static final class NaturalNumbers implements Iterable&lt;Long&gt; {\n\n        private static class Holder {\n            static final NaturalNumbers INSTANCE = new NaturalNumbers();\n        }\n\n        static NaturalNumbers instance() {\n            return Holder.INSTANCE;\n        }\n\n        @Override\n        public Iterator&lt;Long&gt; iterator() {\n            return new Iterator&lt;Long&gt;() {\n\n                private long n = 0;\n\n                @Override\n                public boolean hasNext() {\n                    return true;\n                }\n\n                @Override\n                public Long next() {\n                    return n++;\n                }\n\n                @Override\n                public void remove() {\n                    throw new RuntimeException(\"not supported\");\n                }\n            };\n        }\n\n    }\n\n}\n</pre>\n"},{"tags":[],"owner":{"account_id":3107965,"reputation":141,"user_id":2630379,"display_name":"Songzhw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675127564,"creation_date":1675127564,"answer_id":75291779,"question_id":30143591,"body_markdown":"if you are looking for the index of the first element which meet one condition, then you can simply do this \r\n```kotlin\r\nvar index = -1\r\nstream$\r\n  .doOnNext{ index++}\r\n  .any { it % 2 == 0 } // your condition\r\n  .subscribe { print(&quot;index = $index&quot;) }\r\n```","title":"Elegant way to get index of filter or first with RX Java","body":"<p>if you are looking for the index of the first element which meet one condition, then you can simply do this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var index = -1\nstream$\n  .doOnNext{ index++}\n  .any { it % 2 == 0 } // your condition\n  .subscribe { print(&quot;index = $index&quot;) }\n</code></pre>\n"}],"owner":{"account_id":162686,"reputation":31355,"user_id":384306,"accept_rate":89,"display_name":"Nathan Schwermann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9563,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":30151488,"answer_count":4,"score":10,"last_activity_date":1675127564,"creation_date":1431196257,"question_id":30143591,"body_markdown":"I&#39;m just practicing RX Java and wanted to get the position in an array for items which match a filter.  I can&#39;t see any obvious way to do it. I was looking at maybe zipping a range and iterable observable or something but it was quickly getting way more verbose and complicated than for loops.","title":"Elegant way to get index of filter or first with RX Java","body":"<p>I'm just practicing RX Java and wanted to get the position in an array for items which match a filter.  I can't see any obvious way to do it. I was looking at maybe zipping a range and iterable observable or something but it was quickly getting way more verbose and complicated than for loops.</p>\n"},{"tags":["java","date","parquet","datetime-format","datetime-conversion"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675120147,"post_id":75291083,"comment_id":132856825,"body_markdown":"`.getLong(j,0)` returns what?","body":"<code>.getLong(j,0)</code> returns what?"},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1675120749,"post_id":75291083,"comment_id":132856918,"body_markdown":"Could you share an example value of input - TIMESTAMP_MICROS_STRINGIFIER ?","body":"Could you share an example value of input - TIMESTAMP_MICROS_STRINGIFIER ?"},{"owner":{"account_id":4395332,"reputation":57,"user_id":3582583,"accept_rate":60,"display_name":"user3582583"},"score":0,"creation_date":1675120752,"post_id":75291083,"comment_id":132856921,"body_markdown":"return this value: 1640997340000000","body":"return this value: 1640997340000000"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675120890,"post_id":75291083,"comment_id":132856947,"body_markdown":"Too large - looks like nanoseconds maybe","body":"Too large - looks like nanoseconds maybe"},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1675120920,"post_id":75291083,"comment_id":132856954,"body_markdown":"You should probably divide your value by 1000:\n1640997340000000 /1000 = 1640997340000","body":"You should probably divide your value by 1000: 1640997340000000 /1000 = 1640997340000"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675120940,"post_id":75291083,"comment_id":132856956,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date` since they are troublesome, poorly designed and long outdated. Stick to `Instant` and other classes of [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). They give you all the functionality you need. Which, by the way, the old classes don’t.","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code> since they are troublesome, poorly designed and long outdated. Stick to <code>Instant</code> and other classes of <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. They give you all the functionality you need. Which, by the way, the old classes don’t."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675121054,"post_id":75291083,"comment_id":132856976,"body_markdown":"I suggest `Instant.EPOCH.plus(1640997340000000L, ChronoUnit.MICROS)`. It yields 2022-01-01T00:35:40Z. And for formatting: `instantFromMicros.atZone(ZoneId.systemDefault()).format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;))`. In my time zone (Europe/Copenhagen) it gave `2022-01-01 01:35:40`.","body":"I suggest <code>Instant.EPOCH.plus(1640997340000000L, ChronoUnit.MICROS)</code>. It yields 2022-01-01T00:35:40Z. And for formatting: <code>instantFromMicros.atZone(ZoneId.systemDefault()).format(Date&zwnj;&#8203;TimeFormatter.ofPatt&zwnj;&#8203;ern(&quot;uuuu-MM-dd HH:mm:ss&quot;))</code>. In my time zone (Europe/Copenhagen) it gave <code>2022-01-01 01:35:40</code>."}],"owner":{"account_id":4395332,"reputation":57,"user_id":3582583,"accept_rate":60,"display_name":"user3582583"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675121443,"answer_count":0,"score":0,"last_activity_date":1675126932,"creation_date":1675119879,"question_id":75291083,"body_markdown":"I would like to converter a Parquet TIMESTAMP_MICROS_STRINGIFIER in Java date format. \r\nMy code below return a wrong date: \r\n\r\n     private static void writeGroup(BufferedWriter w, Group g, MessageType schema, String csvDelimiter)\r\n            throws IOException {\r\n\r\n        SimpleDateFormat dt = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n        for (int j = 0; j &lt; schema.getFieldCount(); j++) {\r\n            if (j &gt; 0) {\r\n                w.write(csvDelimiter);\r\n            }\r\n            String valueToString;\r\n\r\n            try {\r\n                if (String.valueOf(g.getType().getType(schema.getFieldName(j)).asPrimitiveType().stringifier()).equals(&quot;TIMESTAMP_MICROS_STRINGIFIER&quot;)) {\r\n                    Instant instant = Instant.ofEpochMilli(g.getLong(j, 0));\r\n                    Date date = Date.from(instant);\r\n                    valueToString = dt.format(date);\r\n                } else {\r\n                    valueToString = g.getValueToString(j, 0);\r\n                }\r\n\r\n            } catch (RuntimeException e) {\r\n                valueToString = &quot;&quot;;\r\n            }\r\n\r\n            w.write(valueToString);\r\n        }\r\n        w.write(&#39;\\n&#39;);\r\n    }\r\n\r\nOutput Date: 53971-26-19 03:26:40\r\n\r\nExpected Date: 2022-01-01 00:35:40\r\n\r\nTIMESTAMP String Value: 1640997340000000\r\n\r\n\r\nSchema: optional int64 tpep_pickup_datetime (TIMESTAMP(MICROS,false));\r\n\r\nThanks","title":"How to converter a TIMESTAMP_MICROS_STRINGIFIER Parquet using Java","body":"<p>I would like to converter a Parquet TIMESTAMP_MICROS_STRINGIFIER in Java date format.\nMy code below return a wrong date:</p>\n<pre><code> private static void writeGroup(BufferedWriter w, Group g, MessageType schema, String csvDelimiter)\n        throws IOException {\n\n    SimpleDateFormat dt = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\n    for (int j = 0; j &lt; schema.getFieldCount(); j++) {\n        if (j &gt; 0) {\n            w.write(csvDelimiter);\n        }\n        String valueToString;\n\n        try {\n            if (String.valueOf(g.getType().getType(schema.getFieldName(j)).asPrimitiveType().stringifier()).equals(&quot;TIMESTAMP_MICROS_STRINGIFIER&quot;)) {\n                Instant instant = Instant.ofEpochMilli(g.getLong(j, 0));\n                Date date = Date.from(instant);\n                valueToString = dt.format(date);\n            } else {\n                valueToString = g.getValueToString(j, 0);\n            }\n\n        } catch (RuntimeException e) {\n            valueToString = &quot;&quot;;\n        }\n\n        w.write(valueToString);\n    }\n    w.write('\\n');\n}\n</code></pre>\n<p>Output Date: 53971-26-19 03:26:40</p>\n<p>Expected Date: 2022-01-01 00:35:40</p>\n<p>TIMESTAMP String Value: 1640997340000000</p>\n<p>Schema: optional int64 tpep_pickup_datetime (TIMESTAMP(MICROS,false));</p>\n<p>Thanks</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1674912402,"post_id":75267935,"comment_id":132817397,"body_markdown":"Doesn&#39;t it make more sense to have a test coverage tool in the build process? Those also provide a lot more detail like line and branch coverage.","body":"Doesn&#39;t it make more sense to have a test coverage tool in the build process? Those also provide a lot more detail like line and branch coverage."},{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":0,"creation_date":1674931170,"post_id":75267935,"comment_id":132820839,"body_markdown":"@daniu You see, &quot;covered by at least some unit test&quot; and &quot;covered by the class-specific unit test&quot; are two different things. I want all interface methods to be covered in the tests for each class implementing that interface.","body":"@daniu You see, &quot;covered by at least some unit test&quot; and &quot;covered by the class-specific unit test&quot; are two different things. I want all interface methods to be covered in the tests for each class implementing that interface."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1675126474,"post_id":75267935,"comment_id":132857855,"body_markdown":"This might be a good opportunity to use [ArchUnit](https://github.com/TNG/ArchUnit) for such validations? I&#39;m not entirely sure whether it supports it (interface level validation) but it worth looking into it.","body":"This might be a good opportunity to use <a href=\"https://github.com/TNG/ArchUnit\" rel=\"nofollow noreferrer\">ArchUnit</a> for such validations? I&#39;m not entirely sure whether it supports it (interface level validation) but it worth looking into it."},{"owner":{"account_id":657687,"reputation":363,"user_id":471663,"display_name":"simonarame"},"score":0,"creation_date":1680302894,"post_id":75267935,"comment_id":133881444,"body_markdown":"Disregard the chronology, I just found out that for Jetbrains&#39; IntelliJ parsed Java Editor, the CTRL+SHIFT+T key combination navigates to the Test Class of the current class by graceful conventions. I tried to improve the current questions by flipping through ArchUnit sources, I&#39;ll get back here if I found a quicker way than the suggested code.","body":"Disregard the chronology, I just found out that for Jetbrains&#39; IntelliJ parsed Java Editor, the CTRL+SHIFT+T key combination navigates to the Test Class of the current class by graceful conventions. I tried to improve the current questions by flipping through ArchUnit sources, I&#39;ll get back here if I found a quicker way than the suggested code."}],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675125703,"creation_date":1674911908,"question_id":75267935,"body_markdown":"I want to have a unit test that checks if all methods defined in a class/interface are covered with unit tests.\r\n\r\nThere is an interface and a number of classes that implement that interface.\r\nSince the classes are related, and some methods are critical for performance, there is some amount of copied/pasted/modified code.\r\nI want to make sure that unit tests for each class (that implements that interface) cover:\r\n1. all methods declared in the interface\r\n2. all methods declared in the class\r\n\r\nThis _is_ meaningful because such tests discover:\r\n1. code that was not modified after copying/pasting\r\n2. methods inherited from the base class that must be redefined\r\n\r\n\r\nCurrently I use the following tool (in the coding convention that I use all testing classes and methods must end with &quot;Test&quot;):\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.util.Arrays;\r\n    import java.util.stream.Collectors;\r\n\r\n    import static org.junit.Assert.assertTrue;\r\n    import static org.junit.Assert.fail;\r\n\r\n    public class TestCoverage {\r\n        public static void check(Class appClass, Class testingClass) {\r\n            assertTrue(&quot;testingClass must end with \\&quot;Test\\&quot;&quot;, testingClass.getSimpleName().endsWith(&quot;Test&quot;));\r\n            var appMethodNamesToTest =\r\n                    Arrays.stream(appClass.getDeclaredMethods())\r\n                            // .filter(m -&gt; !Modifier.isStatic(m.getModifiers()))\r\n                            .map(Method::getName)\r\n                            .filter(s -&gt; !s.contains(&quot;$&quot;)) // filter out $jacocoInit\r\n                            .map(s -&gt; s + &quot;Test&quot;)\r\n                            .collect(Collectors.toList());\r\n            var testingMethodNames =\r\n                    Arrays.stream(testingClass.getDeclaredMethods())\r\n                            .map(Method::getName)\r\n                            .filter(s -&gt; s.endsWith(&quot;Test&quot;))\r\n                            .collect(Collectors.toSet());\r\n            var missingMethods = appMethodNamesToTest.stream()\r\n                    .filter(methodName -&gt; !testingMethodNames.contains(methodName))\r\n                    .collect(Collectors.joining(&quot;, &quot;));\r\n            if (!missingMethods.isEmpty()) {\r\n                fail(&quot;missing test methods in &quot; + testingClass.getSimpleName() + &quot;: &quot; + missingMethods);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nwhich is used as:\r\n\r\n    public class FooTest {\r\n\r\n        // unit tests go here\r\n\r\n        @Test\r\n        public void coverageTest() {\r\n            TestCoverage.check(Baar.class, getClass()); // interface\r\n            TestCoverage.check(Foo.class, getClass());  // implementing class\r\n        }\r\n    }\r\n\r\nWhat is really good is that I get an early warning about methods not covered by the tests.\r\n\r\nStrictly speaking, `coverageTest()` is not a unit test.\r\n\r\nIn the above code, `getClass()` returns `FooTest.class`, but unlike `FooTest.class`, it need not be modified when you copy/paste `coverageTest()`. In theory, it should be possible to extract the calling class from an exception stack trace, but this is complex.\r\n\r\n**EDIT {**\r\n\r\nThe problem that I want to solve is a bit different from what the coverage tools usually do. I am interested in *per-interface test coverage,* not *per-method test coverage.* With the existing coverage tools, in the following example there is no way to force the developer to define `C.c()`:\r\n\r\n    interface I { void a(); void b(); default void c() {...} }\r\n    class A { // defines a() and b(); the default c() is correct\r\n    }\r\n    class B { // defines a() and b(); the default c() is correct\r\n    }\r\n    class C { // defines a() and b(); the default c() is NOT correct\r\n    }\r\n\r\nIf `I.c()` is covered by at least some test, it will be green, and `C.c()` does not exist and therefore cannot be marked red.\r\n\r\n`TestCoverage.check()` does make the developer write tests for `A.c()`, `B.c()` and `C.c()` and hopefully mention that `c()` must be defined in `C`.\r\nOn the other hand, classes `A` and `B` share the common implementation `I.c()`, but the test for `c()` has to be copied.\r\n\r\nIn other words, what I want is _make sure all interface methods are covered by tests in each implementing class._\r\n\r\n**}**\r\n\r\nSince it is very unlikely that I &quot;invented a wheel&quot;,\r\n\r\n**Question:** \r\nHave such checks been already implemented in the existing testing frameworks?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unit test for coverage checking (java, junit)","body":"<p>I want to have a unit test that checks if all methods defined in a class/interface are covered with unit tests.</p>\n<p>There is an interface and a number of classes that implement that interface.\nSince the classes are related, and some methods are critical for performance, there is some amount of copied/pasted/modified code.\nI want to make sure that unit tests for each class (that implements that interface) cover:</p>\n<ol>\n<li>all methods declared in the interface</li>\n<li>all methods declared in the class</li>\n</ol>\n<p>This <em>is</em> meaningful because such tests discover:</p>\n<ol>\n<li>code that was not modified after copying/pasting</li>\n<li>methods inherited from the base class that must be redefined</li>\n</ol>\n<p>Currently I use the following tool (in the coding convention that I use all testing classes and methods must end with &quot;Test&quot;):</p>\n<pre><code>import java.lang.reflect.Method;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class TestCoverage {\n    public static void check(Class appClass, Class testingClass) {\n        assertTrue(&quot;testingClass must end with \\&quot;Test\\&quot;&quot;, testingClass.getSimpleName().endsWith(&quot;Test&quot;));\n        var appMethodNamesToTest =\n                Arrays.stream(appClass.getDeclaredMethods())\n                        // .filter(m -&gt; !Modifier.isStatic(m.getModifiers()))\n                        .map(Method::getName)\n                        .filter(s -&gt; !s.contains(&quot;$&quot;)) // filter out $jacocoInit\n                        .map(s -&gt; s + &quot;Test&quot;)\n                        .collect(Collectors.toList());\n        var testingMethodNames =\n                Arrays.stream(testingClass.getDeclaredMethods())\n                        .map(Method::getName)\n                        .filter(s -&gt; s.endsWith(&quot;Test&quot;))\n                        .collect(Collectors.toSet());\n        var missingMethods = appMethodNamesToTest.stream()\n                .filter(methodName -&gt; !testingMethodNames.contains(methodName))\n                .collect(Collectors.joining(&quot;, &quot;));\n        if (!missingMethods.isEmpty()) {\n            fail(&quot;missing test methods in &quot; + testingClass.getSimpleName() + &quot;: &quot; + missingMethods);\n        }\n    }\n}\n</code></pre>\n<p>which is used as:</p>\n<pre><code>public class FooTest {\n\n    // unit tests go here\n\n    @Test\n    public void coverageTest() {\n        TestCoverage.check(Baar.class, getClass()); // interface\n        TestCoverage.check(Foo.class, getClass());  // implementing class\n    }\n}\n</code></pre>\n<p>What is really good is that I get an early warning about methods not covered by the tests.</p>\n<p>Strictly speaking, <code>coverageTest()</code> is not a unit test.</p>\n<p>In the above code, <code>getClass()</code> returns <code>FooTest.class</code>, but unlike <code>FooTest.class</code>, it need not be modified when you copy/paste <code>coverageTest()</code>. In theory, it should be possible to extract the calling class from an exception stack trace, but this is complex.</p>\n<p><strong>EDIT {</strong></p>\n<p>The problem that I want to solve is a bit different from what the coverage tools usually do. I am interested in <em>per-interface test coverage,</em> not <em>per-method test coverage.</em> With the existing coverage tools, in the following example there is no way to force the developer to define <code>C.c()</code>:</p>\n<pre><code>interface I { void a(); void b(); default void c() {...} }\nclass A { // defines a() and b(); the default c() is correct\n}\nclass B { // defines a() and b(); the default c() is correct\n}\nclass C { // defines a() and b(); the default c() is NOT correct\n}\n</code></pre>\n<p>If <code>I.c()</code> is covered by at least some test, it will be green, and <code>C.c()</code> does not exist and therefore cannot be marked red.</p>\n<p><code>TestCoverage.check()</code> does make the developer write tests for <code>A.c()</code>, <code>B.c()</code> and <code>C.c()</code> and hopefully mention that <code>c()</code> must be defined in <code>C</code>.\nOn the other hand, classes <code>A</code> and <code>B</code> share the common implementation <code>I.c()</code>, but the test for <code>c()</code> has to be copied.</p>\n<p>In other words, what I want is <em>make sure all interface methods are covered by tests in each implementing class.</em></p>\n<p><strong>}</strong></p>\n<p>Since it is very unlikely that I &quot;invented a wheel&quot;,</p>\n<p><strong>Question:</strong>\nHave such checks been already implemented in the existing testing frameworks?</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1345984355,"post_id":12128195,"comment_id":16222461,"body_markdown":"Duplicate or cause of error. You did some thing more in the setup?  http://stackoverflow.com/questions/12073535/unable-to-run-the-demo-setup","body":"Duplicate or cause of error. You did some thing more in the setup?  <a href=\"http://stackoverflow.com/questions/12073535/unable-to-run-the-demo-setup\" title=\"unable to run the demo setup\">stackoverflow.com/questions/12073535/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1664566,"reputation":8880,"user_id":1532256,"accept_rate":91,"display_name":"imulsion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345963999,"creation_date":1345963999,"answer_id":12128207,"question_id":12128195,"body_markdown":"You need to put the file java.exe in your PATH variable but the JRE in JAVA_HOME","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>You need to put the file java.exe in your PATH variable but the JRE in JAVA_HOME</p>\n"},{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345984594,"creation_date":1345964206,"answer_id":12128228,"question_id":12128195,"body_markdown":"Typically  JAVA_HOME should be the parent directory of the &quot;bin&quot; folder.(jre or jdk)\r\n\r\n\r\nIn this case `ant` expects the java to be from the JDK.\r\n\r\ntry following in a cmd window\r\n\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_06\r\n    set path=&quot;%JAVA_HOME%/bin;%path%;\r\n    ant\r\n\r\n\r\n(side note: adding java.exe to path is  not a requirement for ant; it is a convenience thing for the user)\r\n","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>Typically  JAVA_HOME should be the parent directory of the \"bin\" folder.(jre or jdk)</p>\n\n<p>In this case <code>ant</code> expects the java to be from the JDK.</p>\n\n<p>try following in a cmd window</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_06\nset path=\"%JAVA_HOME%/bin;%path%;\nant\n</code></pre>\n\n<p>(side note: adding java.exe to path is  not a requirement for ant; it is a convenience thing for the user)</p>\n"},{"tags":[],"owner":{"account_id":1636158,"reputation":4134,"user_id":1509578,"accept_rate":50,"display_name":"Mohammod Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345964552,"creation_date":1345964552,"answer_id":12128262,"question_id":12128195,"body_markdown":" \r\n\r\nJAVA_HOME is the path of JDK root folder.eg:  C:\\Program Files\\Java\\jdk1.7.0_06 but path define C:\\Program Files\\Java\\jdk1.7.0_06\\bin\r\n\r\n    JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_06\r\n    JRE_HOME C:\\Program Files\\Java\\jre1.7.0_06\r\n    path = C:\\Program Files\\Java\\jdk1.7.0_06\\bin;C:\\Program Files\\Java\\jre1.7.0_06\\bin","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>JAVA_HOME is the path of JDK root folder.eg:  C:\\Program Files\\Java\\jdk1.7.0_06 but path define C:\\Program Files\\Java\\jdk1.7.0_06\\bin</p>\n\n<pre><code>JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_06\nJRE_HOME C:\\Program Files\\Java\\jre1.7.0_06\npath = C:\\Program Files\\Java\\jdk1.7.0_06\\bin;C:\\Program Files\\Java\\jre1.7.0_06\\bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782267,"reputation":13,"user_id":1624674,"display_name":"Shera A Khan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1345966397,"creation_date":1345965421,"answer_id":12128316,"question_id":12128195,"body_markdown":"I agree with the above explanation but if the problem still persists try setting:\r\nCLASSPATH = C:\\Program Files\\Java\\jdk1.7.0_06\\bin\r\n\r\n","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>I agree with the above explanation but if the problem still persists try setting:\nCLASSPATH = C:\\Program Files\\Java\\jdk1.7.0_06\\bin</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1597208923,"creation_date":1345966338,"answer_id":12128400,"question_id":12128195,"body_markdown":"If you look at the [&quot;ant.bat&quot;][1] file, you will see that it looks for the &quot;java&quot; command in the following way:\r\n\r\n 1. If the `%JAVACMD%` environment variable is set, then it uses that.\r\n 1. Otherwise, if the `%JAVA_HOME%` environment variable is set, it tries to use `%JAVA_HOME%\\bin\\java.exe`\r\n 1. Otherwise, it tries to use `java.exe`; i.e. it will look on your %PATH%.\r\n\r\nIn your case, you have `%JAVA_HOME%` set ... but set to the Java installation&#39;s &quot;bin&quot; directory, not to the root of the installation.  So the `Ant.bat` script looks in the wrong place for `java.exe`.\r\n\r\nJust set `%JAVA_HOME%` correctly, and it should work.\r\n\r\n    JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_06\r\n\r\n-------------\r\n\r\nAs you can see from the above, you do not *need* to have the Java &quot;bin&quot; directory on your `%PATH%` for Ant to work, but it is a good idea to set it anyway.  That way you can run the Java commands simply from the command line.  \r\n\r\nThe setting of `%CLASSPATH%` is not relevant to this problem.  Indeed, unless the `build.xml` file is broken, Ant will **ignore** your `%CLASSPATH%` environment variable.\r\n\r\n  [1]: http://svn.apache.org/viewvc/ant/core/trunk/src/script/ant.bat?view=markup","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>If you look at the <a href=\"http://svn.apache.org/viewvc/ant/core/trunk/src/script/ant.bat?view=markup\" rel=\"nofollow noreferrer\">&quot;ant.bat&quot;</a> file, you will see that it looks for the &quot;java&quot; command in the following way:</p>\n<ol>\n<li>If the <code>%JAVACMD%</code> environment variable is set, then it uses that.</li>\n<li>Otherwise, if the <code>%JAVA_HOME%</code> environment variable is set, it tries to use <code>%JAVA_HOME%\\bin\\java.exe</code></li>\n<li>Otherwise, it tries to use <code>java.exe</code>; i.e. it will look on your %PATH%.</li>\n</ol>\n<p>In your case, you have <code>%JAVA_HOME%</code> set ... but set to the Java installation's &quot;bin&quot; directory, not to the root of the installation.  So the <code>Ant.bat</code> script looks in the wrong place for <code>java.exe</code>.</p>\n<p>Just set <code>%JAVA_HOME%</code> correctly, and it should work.</p>\n<pre><code>JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_06\n</code></pre>\n<hr />\n<p>As you can see from the above, you do not <em>need</em> to have the Java &quot;bin&quot; directory on your <code>%PATH%</code> for Ant to work, but it is a good idea to set it anyway.  That way you can run the Java commands simply from the command line.</p>\n<p>The setting of <code>%CLASSPATH%</code> is not relevant to this problem.  Indeed, unless the <code>build.xml</code> file is broken, Ant will <strong>ignore</strong> your <code>%CLASSPATH%</code> environment variable.</p>\n"},{"tags":[],"owner":{"account_id":191157,"reputation":779,"user_id":431561,"accept_rate":10,"display_name":"Rajaraman Subramanian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391516533,"creation_date":1391516533,"answer_id":21552453,"question_id":12128195,"body_markdown":"Just delete the following set of files from your %windir/System32 folder. Actually deleting java.exe is enough but for consistency sake just delete all the java related binaries.  \r\n\r\n\r\n 1. java.exe\r\n 2. javaw.exe \r\n 3. javaws.exe\r\n\r\nActually oracle windows installer places a copy of these files into %windir/System32 folder (which I don&#39;t understand why) but looks like they are not needed (as they are available anyway under JDK folder where you install them).\r\n\r\nI have tried all the various solutions posted in the SO and other forums as well but none of them worked for me. I have also set all the relevant environment variables (JAVA_PATH, CLASS_PATH etc) correctly as well. Finally this is the only solution that has worked for me.","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>Just delete the following set of files from your %windir/System32 folder. Actually deleting java.exe is enough but for consistency sake just delete all the java related binaries.  </p>\n\n<ol>\n<li>java.exe</li>\n<li>javaw.exe </li>\n<li>javaws.exe</li>\n</ol>\n\n<p>Actually oracle windows installer places a copy of these files into %windir/System32 folder (which I don't understand why) but looks like they are not needed (as they are available anyway under JDK folder where you install them).</p>\n\n<p>I have tried all the various solutions posted in the SO and other forums as well but none of them worked for me. I have also set all the relevant environment variables (JAVA_PATH, CLASS_PATH etc) correctly as well. Finally this is the only solution that has worked for me.</p>\n"},{"tags":[],"owner":{"account_id":15357261,"reputation":1,"user_id":11079222,"display_name":"user11079222"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550495806,"creation_date":1550495461,"answer_id":54748110,"question_id":12128195,"body_markdown":"Go to the \\squirrel-sql-3.9.0&gt;squirrel-sql.bat .open that squirrel-sql.bat in Notepad and comment out the existing logic which is \r\n\r\n    =======================================\r\n    if exist &quot;%IZPACK_JAVA%\\bin\\javaw.exe&quot; (\r\n      set LOCAL_JAVA=%IZPACK_JAVA%\\bin\\javaw.exe\r\n    ) else (\r\n      set LOCAL_JAVA=javaw.exe\r\n    )\r\n     \r\n    echo Using java: %LOCAL_JAVA%\r\n    =================================\r\n\r\nand add the below logic\r\n\r\n    @echo off\r\n     \r\n    set LOCAL_JAVA=C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\r\n     \r\n    echo Using java: %LOCAL_JAVA%\r\n    ================================\r\n\r\nmake sure you add the correct path of javax.exe while adding above logic set LOCAL_JAVA=\r\n\r\nand start the .bat file from CMD ..that&#39;s it. It should work. It worked for me.","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>Go to the \\squirrel-sql-3.9.0>squirrel-sql.bat .open that squirrel-sql.bat in Notepad and comment out the existing logic which is </p>\n\n<pre><code>=======================================\nif exist \"%IZPACK_JAVA%\\bin\\javaw.exe\" (\n  set LOCAL_JAVA=%IZPACK_JAVA%\\bin\\javaw.exe\n) else (\n  set LOCAL_JAVA=javaw.exe\n)\n\necho Using java: %LOCAL_JAVA%\n=================================\n</code></pre>\n\n<p>and add the below logic</p>\n\n<pre><code>@echo off\n\nset LOCAL_JAVA=C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\n\necho Using java: %LOCAL_JAVA%\n================================\n</code></pre>\n\n<p>make sure you add the correct path of javax.exe while adding above logic set LOCAL_JAVA=</p>\n\n<p>and start the .bat file from CMD ..that's it. It should work. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675125406,"creation_date":1675125406,"answer_id":75291636,"question_id":12128195,"body_markdown":"I started getting this error in Android Studio after I updated it to version &quot;Electric Eel&quot;.\r\n\r\nIt happened because Android Studio has changed where they put their JRE:\r\n* it used to be `C:\\Program Files\\Android\\Android Studio\\jre`\r\n* but now it is `C:\\Program Files\\Android\\Android Studio\\jbr`\r\n\r\nTo fix:\r\n1. updated my `JAVA_HOME` environment variable to point to the new java location (`C:\\Program Files\\Android\\Android Studio\\jre`)\r\n1. and then restarted `Android Studio`, and now it is fixed.","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>I started getting this error in Android Studio after I updated it to version &quot;Electric Eel&quot;.</p>\n<p>It happened because Android Studio has changed where they put their JRE:</p>\n<ul>\n<li>it used to be <code>C:\\Program Files\\Android\\Android Studio\\jre</code></li>\n<li>but now it is <code>C:\\Program Files\\Android\\Android Studio\\jbr</code></li>\n</ul>\n<p>To fix:</p>\n<ol>\n<li>updated my <code>JAVA_HOME</code> environment variable to point to the new java location (<code>C:\\Program Files\\Android\\Android Studio\\jre</code>)</li>\n<li>and then restarted <code>Android Studio</code>, and now it is fixed.</li>\n</ol>\n"}],"owner":{"account_id":1112946,"reputation":1,"user_id":1103028,"display_name":"John John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65725,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":12128400,"answer_count":8,"score":10,"last_activity_date":1675125406,"creation_date":1345963831,"question_id":12128195,"body_markdown":"I have downloaded both Java jdk1.7.0_06 and Java jre7. and i added the following system variable `JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_06\\bin` to my windows 7. But when I type the following in the CMD command line on my windows 7 `C:\\activiti-5.10\\activiti-5.10\\setup&gt;ant demo.start` to run a demo application I got the following error in the command line &#39;\r\n\r\n***&quot;java.exe&quot;&#39; is not recognized as an internal or external command, operable program or batch file***\r\n\r\nSo does anyone know how i can solve this problem ?\r\nBR","title":"&#39;&quot;java.exe&quot;&#39; is not recognized as an internal or external command,","body":"<p>I have downloaded both Java jdk1.7.0_06 and Java jre7. and i added the following system variable <code>JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_06\\bin</code> to my windows 7. But when I type the following in the CMD command line on my windows 7 <code>C:\\activiti-5.10\\activiti-5.10\\setup&gt;ant demo.start</code> to run a demo application I got the following error in the command line '</p>\n\n<p><em><strong>\"java.exe\"' is not recognized as an internal or external command, operable program or batch file</em></strong></p>\n\n<p>So does anyone know how i can solve this problem ?\nBR</p>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1525653464,"post_id":50205724,"comment_id":87428589,"body_markdown":"why do you want to clear the cache?","body":"why do you want to clear the cache?"},{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":0,"creation_date":1525654126,"post_id":50205724,"comment_id":87428720,"body_markdown":"Are you saying that you want the re-query to be as slow as the first, or that you want the first query to be as fast as the second?","body":"Are you saying that you want the re-query to be as slow as the first, or that you want the first query to be as fast as the second?"},{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":0,"creation_date":1525654388,"post_id":50205724,"comment_id":87428767,"body_markdown":"Why do you need to know how many rows there are in the result set?","body":"Why do you need to know how many rows there are in the result set?"}],"owner":{"account_id":13393430,"reputation":21,"user_id":9665156,"display_name":"Giacomo Chiavarini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675124742,"creation_date":1525653003,"question_id":50205724,"body_markdown":"I need the query ResultSet size and I do that with the follow code:\r\n\r\n    int size =0;\r\n    if (rs != null) {\r\n    rs.last();\r\n    size = rs.getRow();\r\n    rs.beforeFirst();\r\n    }\r\n\r\nThan I iterate the ResultSet with the classic:\r\n\r\n    while (rs.next()) {\r\n    // do some\r\n    }\r\n\r\nNow, if I have for example 200 row inside my ResultSet the execution time of iteration is about 500 milliseconds. If I execute the first part of code (to get the ResultSet size) the iteration execution time goes down to 50 milliseconds.\r\n\r\nthis probably happens because the data is cached, is there a way to avoid this or to clean the cache?\r\n\r\nThank you\r\n\r\n-----------------\r\nHi guys and thanks for replies, so:\r\n\r\n1) I need to know how many rows are in the result set because of some queries extract thousand of records and I need to inform user about the percentage of progress. To do this I clearly need the maximum value and the intermediate values.\r\n\r\n2) As Bob Jarvis says, I want to re-iterate the result set as slow as first, it is pretty stupid but I can&#39;t push message to the client at intervals lower than 100 milliseconds and if I get the ResultSet as written above (first part of code) the progress information are rather useless.\r\nFor example: a resultset which contains 600 rows takes 500 millisecond to do this:\r\n\r\n    int size =0;\r\n    if (rs != null) {\r\n    rs.last();\r\n    size = rs.getRow();\r\n    rs.beforeFirst();\r\n    }\r\n\r\nand 60 to iterate it again as follow:\r\n\r\n    while (rs.next()) {\r\n    // do some\r\n    }\r\n\r\nThan maybe I can waste some seconds to iterate the resultSet slower but give more accurate information to the user about the execution time of some elaboration.\r\n\r\nThank you all.","title":"Remove ResultSet cached data","body":"<p>I need the query ResultSet size and I do that with the follow code:</p>\n<pre><code>int size =0;\nif (rs != null) {\nrs.last();\nsize = rs.getRow();\nrs.beforeFirst();\n}\n</code></pre>\n<p>Than I iterate the ResultSet with the classic:</p>\n<pre><code>while (rs.next()) {\n// do some\n}\n</code></pre>\n<p>Now, if I have for example 200 row inside my ResultSet the execution time of iteration is about 500 milliseconds. If I execute the first part of code (to get the ResultSet size) the iteration execution time goes down to 50 milliseconds.</p>\n<p>this probably happens because the data is cached, is there a way to avoid this or to clean the cache?</p>\n<p>Thank you</p>\n<hr />\n<p>Hi guys and thanks for replies, so:</p>\n<ol>\n<li><p>I need to know how many rows are in the result set because of some queries extract thousand of records and I need to inform user about the percentage of progress. To do this I clearly need the maximum value and the intermediate values.</p>\n</li>\n<li><p>As Bob Jarvis says, I want to re-iterate the result set as slow as first, it is pretty stupid but I can't push message to the client at intervals lower than 100 milliseconds and if I get the ResultSet as written above (first part of code) the progress information are rather useless.\nFor example: a resultset which contains 600 rows takes 500 millisecond to do this:</p>\n<p>int size =0;\nif (rs != null) {\nrs.last();\nsize = rs.getRow();\nrs.beforeFirst();\n}</p>\n</li>\n</ol>\n<p>and 60 to iterate it again as follow:</p>\n<pre><code>while (rs.next()) {\n// do some\n}\n</code></pre>\n<p>Than maybe I can waste some seconds to iterate the resultSet slower but give more accurate information to the user about the execution time of some elaboration.</p>\n<p>Thank you all.</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675031363,"post_id":75278650,"comment_id":132835590,"body_markdown":"Just to be sure, what URL are you loading that triggers the error? Are you sure the controller is being invoked?","body":"Just to be sure, what URL are you loading that triggers the error? Are you sure the controller is being invoked?"},{"owner":{"account_id":11461471,"reputation":3,"user_id":8401014,"display_name":"jinoJ"},"score":0,"creation_date":1675063422,"post_id":75278650,"comment_id":132839770,"body_markdown":"I&#39;m loading the JSP @http://localhost:8080/WebApplication1/m_menu.jsp as the controller has a redirect to this JSP. I tried adding a button to receive a String I declared in the controller and it displays. The issue seems to be with the request not accepting the ArrayList I guess, might I be missing an imports?","body":"I&#39;m loading the JSP @<a href=\"http://localhost:8080/WebApplication1/m_menu.jsp\" rel=\"nofollow noreferrer\">localhost:8080/WebApplication1/m_menu.jsp</a> as the controller has a redirect to this JSP. I tried adding a button to receive a String I declared in the controller and it displays. The issue seems to be with the request not accepting the ArrayList I guess, might I be missing an imports?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675067176,"post_id":75278650,"comment_id":132840623,"body_markdown":"If you&#39;re visiting m_menu.jsp directly, that would explain it. In that case, the servlet is never invoked, it is bypassed and the JSP loads directly. You&#39;d need to visit the servlet URL http://localhost:8080/WebApplication1/mctrl","body":"If you&#39;re visiting m_menu.jsp directly, that would explain it. In that case, the servlet is never invoked, it is bypassed and the JSP loads directly. You&#39;d need to visit the servlet URL <a href=\"http://localhost:8080/WebApplication1/mctrl\" rel=\"nofollow noreferrer\">localhost:8080/WebApplication1/mctrl</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675067383,"post_id":75278650,"comment_id":132840681,"body_markdown":"When using the MVC pattern with the Java servlet API, it&#39;s common to put the JSP files into the WEB-INF folder to prevent them from being accessed directly, which avoids this problem. See https://stackoverflow.com/a/6825956/29470","body":"When using the MVC pattern with the Java servlet API, it&#39;s common to put the JSP files into the WEB-INF folder to prevent them from being accessed directly, which avoids this problem. See <a href=\"https://stackoverflow.com/a/6825956/29470\">stackoverflow.com/a/6825956/29470</a>"},{"owner":{"account_id":11461471,"reputation":3,"user_id":8401014,"display_name":"jinoJ"},"score":0,"creation_date":1675074143,"post_id":75278650,"comment_id":132842659,"body_markdown":"Thank you, it worked!! This solved another query I had of how a JSP would select a servlet to receive files from. Please post this as an answer so that I can accept it. Also, thanks for the tip about putting the files in WEB-INF. Still, I don&#39;t understand how I was able to display the String from the controller but not the integer...","body":"Thank you, it worked!! This solved another query I had of how a JSP would select a servlet to receive files from. Please post this as an answer so that I can accept it. Also, thanks for the tip about putting the files in WEB-INF. Still, I don&#39;t understand how I was able to display the String from the controller but not the integer..."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675124472,"creation_date":1675124472,"answer_id":75291545,"question_id":75278650,"body_markdown":"When loading the URL http://localhost:8080/WebApplication1/m_menu.jsp, this invokes the JSP directly, without first going through the `menu_cntrlr` servlet. This means it never has the opportunity to add attributes to the request. Then, when the JSP tries to access these attributes, they are returned as `null`.\r\n\r\nIn order to invoke the servlet, you need to visit the URL corresponding to the `urlPatterns` parameter of its `@WebServlet` mapping: http://localhost:8080/WebApplication1/mctrl\r\n\r\nThis results in the servlet being invoked first, setting the request attribute, and then forwarding to the JSP, which will then be able to read the attribute successfully.\r\n\r\nWhen following the MVC pattern with the Java Servlet API, JSPs should never be accessed directly by URL. They are considered an implementation detail of the controller, and to satisfy their preconditions, the controller must always be invoked first. For that reason it is common to [put JSP files into the `WEB-INF` directory](https://stackoverflow.com/a/6825956/29470) of the webapp, as this prevents them from being directly addressable by URL from a web browser or other HTTP client. The Servlet specification [requires that files in `WEB-INF` are not served directly to clients](https://stackoverflow.com/a/19786283/29470).","title":"Error while sending an array list from Java class to display in JSP","body":"<p>When loading the URL http://localhost:8080/WebApplication1/m_menu.jsp, this invokes the JSP directly, without first going through the <code>menu_cntrlr</code> servlet. This means it never has the opportunity to add attributes to the request. Then, when the JSP tries to access these attributes, they are returned as <code>null</code>.</p>\n<p>In order to invoke the servlet, you need to visit the URL corresponding to the <code>urlPatterns</code> parameter of its <code>@WebServlet</code> mapping: http://localhost:8080/WebApplication1/mctrl</p>\n<p>This results in the servlet being invoked first, setting the request attribute, and then forwarding to the JSP, which will then be able to read the attribute successfully.</p>\n<p>When following the MVC pattern with the Java Servlet API, JSPs should never be accessed directly by URL. They are considered an implementation detail of the controller, and to satisfy their preconditions, the controller must always be invoked first. For that reason it is common to <a href=\"https://stackoverflow.com/a/6825956/29470\">put JSP files into the <code>WEB-INF</code> directory</a> of the webapp, as this prevents them from being directly addressable by URL from a web browser or other HTTP client. The Servlet specification <a href=\"https://stackoverflow.com/a/19786283/29470\">requires that files in <code>WEB-INF</code> are not served directly to clients</a>.</p>\n"}],"owner":{"account_id":11461471,"reputation":3,"user_id":8401014,"display_name":"jinoJ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75291545,"answer_count":1,"score":0,"last_activity_date":1675124472,"creation_date":1675029146,"question_id":75278650,"body_markdown":"I am practicing Java-based web development using Tomcat as the application server and following MVC pattern without any framework. I want to send a few fields from the database and display it in a JSP form. For this, I am creating an array list of the data in a java class and then sending it to a controller, which then sends it to the JSP file where it will be shown in a table. \r\n\r\nHowever, the array list is fine in the controller (used .size() method on the ArrayList to confirm equal no. of database records), but the data is apparently null when reaching the JSP page. I have tried going through many links, but most do not apply to my situation (not maven) and the only one that [does](https://coderanch.com/t/730666/java/org-apache-catalina-core-StandardWrapperValve) do not provide a solution. Appreciating any help!\r\n\r\n\r\n**menu_model.java**\r\n\r\n```\r\npackage Created;\r\n\r\npublic class menu_model {\r\n    private String menuid;\r\n    private String menuscr;\r\n    private String menuprnt;\r\n    \r\n    public void setmid(String menuid) {\r\n        this.menuid = menuid;\r\n    }\r\n\r\n    public void setmscr(String menuscr) {\r\n        this.menuscr = menuscr;\r\n    }\r\n    \r\n    public void setmprnt(String menuprnt) {\r\n        this.menuprnt = menuprnt;\r\n    }\r\n    \r\n    public String getmid() {\r\n        return menuid;\r\n    }\r\n\r\n    public String getmscr() {\r\n        return menuscr;\r\n    }\r\n\r\n    public String getmprnt() {\r\n        return menuprnt;\r\n    }    \r\n}\r\n```\r\n\r\n**menu_DAO.java**\r\n\r\n```\r\npackage Created;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\n\r\npublic class menu_DAO {\r\n        public static String cond = &quot;jdbc:oracle:thin:@localhost:1535:DATABASE&quot;;\r\n        public static String usnm = &quot;username&quot;;\r\n        public static String pwrd = &quot;password&quot;;\r\n        \r\n        public static ArrayList&lt;menu_model&gt; menu_rtrv(){\r\n        try {\r\n        PreparedStatement pst = null; \r\n        \r\n        menu_model po;\r\n        \r\n        Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n        Connection conn = DriverManager.getConnection(cond,usnm,pwrd);\r\n        pst = conn.prepareStatement(&quot;select m_id,m_scrnm,m_prnt from menu_menus where m_id in &quot;\r\n                + &quot;(select um_id from um_menus where user_id=? and umenu_enable=?)&quot;);\r\n        pst.setString(1,&quot;TEST&quot;);\r\n        pst.setString(2, &quot;YES&quot;);\r\n        ResultSet rs=pst.executeQuery();\r\n        \r\n        ArrayList&lt;menu_model&gt; rsarr = new ArrayList&lt;&gt;();\r\n                while (rs.next())\r\n                {\r\n                    po = new menu_model();\r\n                    po.setmid(rs.getString(&quot;m_id&quot;));\r\n                    po.setmscr(rs.getString(&quot;m_scrnm&quot;));\r\n                    po.setmprnt(rs.getString(&quot;m_prnt&quot;));\r\n                    rsarr.add(po);\r\n                }\r\n                conn.close();\r\n                return rsarr;\r\n            }\r\n        \r\n        catch (ClassNotFoundException | SQLException e)\r\n        {\r\n            e.getMessage();\r\n        }\r\n            return null;\r\n}\r\n}\r\n\r\n```\r\n\r\n**menu_cntrlr.java (Controller)**\r\n\r\n```\r\npackage Created;\r\n\r\nimport jakarta.servlet.RequestDispatcher;\r\nimport java.io.IOException;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.*;\r\nimport java.util.ArrayList;\r\n\r\n@WebServlet (name = &quot;menu_cntrlr&quot;, urlPatterns = {&quot;/mctrl&quot;})\r\npublic class menu_cntrlr extends HttpServlet {\r\n\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        ArrayList alist = menu_items.menu_rtrv();\r\n        request.setAttribute(&quot;list&quot;, alist);\r\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;m_menu.jsp&quot;);\r\n        dispatcher.forward(request, response);\r\n        }\r\n\r\n@Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        processRequest(request, response);\r\n    }\r\n\r\n@Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        processRequest(request, response);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**m_menu.jsp**\r\n\r\n```\r\n&lt;%@page import=&quot;java.util.*,Created.menu_model&quot;%&gt;\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n   &lt;head&gt;\r\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;static/vendor/fontawesome/all.min.css&quot; /&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;bs_ovrd.css&quot; /&gt;\r\n    &lt;title&gt;Main menu&lt;/title&gt;\r\n   &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;table border=2&gt;\r\n    &lt;tr&gt;\r\n        &lt;th&gt;Menu ID&lt;/th&gt;\r\n        &lt;th&gt;Menu Scr Name&lt;/th&gt;\r\n        &lt;th&gt;Menu Parent&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n        &lt;%\r\n        ArrayList&lt;menu_model&gt; dlist=(ArrayList)request.getAttribute(&quot;list&quot;);\r\n        Iterator it=dlist.iterator();\r\n        while(it.hasNext())\r\n        {\r\n            menu_model m=(menu_model)it.next();  \r\n        %&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;&lt;%=m.getmid() %&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;%=m.getmscr() %&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;%=m.getmprnt() %&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;%\r\n        }\r\n    %&gt;\r\n    &lt;/table&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n**HTTP Status 500 – Internal Server Error (upon loading http://localhost:8080/WebApplication1/m_menu.jsp)**\r\n\r\n```\r\nType Exception Report\r\n\r\nMessage An exception occurred processing [/m_menu.jsp] at line [30]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\norg.apache.jasper.JasperException: An exception occurred processing [/m_menu.jsp] at line [30]\r\n\r\n28:     \r\n29:         \r\n30:         Iterator it=dlist.iterator();\r\n31:         while(it.hasNext())\r\n32:         {\r\n33:             menu_model m=(menu_model)it.next();\r\n\r\n\r\nStacktrace:\r\n\torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nRoot Cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.util.ArrayList.iterator()&quot; because &quot;dlist&quot; is null\r\n\torg.apache.jsp.m_005fmenu_jsp._jspService(m_005fmenu_jsp.java:148)\r\n\torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n```\r\n\r\nTried using JSTL and the JSP page loads but the if condition returns and no list:\r\n\r\n```\r\n&lt;c:if test=&quot;${empty list}&quot;&gt;\r\n            it is null\r\n            &lt;/c:if&gt;\r\n        &lt;c:forEach var=&quot;mitem&quot; items=&quot;${list}&quot;&gt;   \r\n         &lt;td&gt;&lt;c:out value=&quot;${mitem.menuid}&quot;/&gt;&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${mitem.menuscr}&quot;/&gt;&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${mitem.menuprnt}&quot;/&gt;&lt;/td&gt;\r\n     &lt;/c:forEach&gt;\r\n```\r\nEDIT: I tried passing an integer declared in the controller to the JSP, and found the following error which I think is linked to the previous one:\r\n\r\n```\r\nException Report\r\n\r\nMessage An exception occurred processing [m_menu.jsp] at line [21]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\norg.apache.jasper.JasperException: An exception occurred processing [m_menu.jsp] at line [21]\r\n\r\n18:    &lt;/head&gt;\r\n19:     &lt;body&gt;\r\n20:      &lt;%//ArrayList&lt;menu_model&gt; dlist=(ArrayList)request.getAttribute(&quot;list&quot;);\r\n21:         int sc = (int) request.getAttribute(&quot;list&quot;);\r\n22:         out.print(sc);%&gt;\r\n23:         &lt;table border=2&gt;\r\n24:     &lt;tr&gt;\r\n\r\n\r\nStacktrace:\r\n\torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nRoot Cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;jakarta.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\r\n\torg.apache.jsp.m_005fmenu_jsp._jspService(m_005fmenu_jsp.java:145)\r\n\torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\n\r\nThe below is the code that I had added:\r\n```\r\n//in the Controller\r\nint c=2;\r\n        request.setAttribute(&quot;list&quot;, c);\r\n\r\n//in the JSP\r\n&lt;%  int sc = (int) request.getAttribute(&quot;list&quot;);\r\n    out.print(sc);\r\n%&gt;\r\n```","title":"Error while sending an array list from Java class to display in JSP","body":"<p>I am practicing Java-based web development using Tomcat as the application server and following MVC pattern without any framework. I want to send a few fields from the database and display it in a JSP form. For this, I am creating an array list of the data in a java class and then sending it to a controller, which then sends it to the JSP file where it will be shown in a table.</p>\n<p>However, the array list is fine in the controller (used .size() method on the ArrayList to confirm equal no. of database records), but the data is apparently null when reaching the JSP page. I have tried going through many links, but most do not apply to my situation (not maven) and the only one that <a href=\"https://coderanch.com/t/730666/java/org-apache-catalina-core-StandardWrapperValve\" rel=\"nofollow noreferrer\">does</a> do not provide a solution. Appreciating any help!</p>\n<p><strong>menu_model.java</strong></p>\n<pre><code>package Created;\n\npublic class menu_model {\n    private String menuid;\n    private String menuscr;\n    private String menuprnt;\n    \n    public void setmid(String menuid) {\n        this.menuid = menuid;\n    }\n\n    public void setmscr(String menuscr) {\n        this.menuscr = menuscr;\n    }\n    \n    public void setmprnt(String menuprnt) {\n        this.menuprnt = menuprnt;\n    }\n    \n    public String getmid() {\n        return menuid;\n    }\n\n    public String getmscr() {\n        return menuscr;\n    }\n\n    public String getmprnt() {\n        return menuprnt;\n    }    \n}\n</code></pre>\n<p><strong>menu_DAO.java</strong></p>\n<pre><code>package Created;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\npublic class menu_DAO {\n        public static String cond = &quot;jdbc:oracle:thin:@localhost:1535:DATABASE&quot;;\n        public static String usnm = &quot;username&quot;;\n        public static String pwrd = &quot;password&quot;;\n        \n        public static ArrayList&lt;menu_model&gt; menu_rtrv(){\n        try {\n        PreparedStatement pst = null; \n        \n        menu_model po;\n        \n        Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\n        Connection conn = DriverManager.getConnection(cond,usnm,pwrd);\n        pst = conn.prepareStatement(&quot;select m_id,m_scrnm,m_prnt from menu_menus where m_id in &quot;\n                + &quot;(select um_id from um_menus where user_id=? and umenu_enable=?)&quot;);\n        pst.setString(1,&quot;TEST&quot;);\n        pst.setString(2, &quot;YES&quot;);\n        ResultSet rs=pst.executeQuery();\n        \n        ArrayList&lt;menu_model&gt; rsarr = new ArrayList&lt;&gt;();\n                while (rs.next())\n                {\n                    po = new menu_model();\n                    po.setmid(rs.getString(&quot;m_id&quot;));\n                    po.setmscr(rs.getString(&quot;m_scrnm&quot;));\n                    po.setmprnt(rs.getString(&quot;m_prnt&quot;));\n                    rsarr.add(po);\n                }\n                conn.close();\n                return rsarr;\n            }\n        \n        catch (ClassNotFoundException | SQLException e)\n        {\n            e.getMessage();\n        }\n            return null;\n}\n}\n\n</code></pre>\n<p><strong>menu_cntrlr.java (Controller)</strong></p>\n<pre><code>package Created;\n\nimport jakarta.servlet.RequestDispatcher;\nimport java.io.IOException;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.*;\nimport java.util.ArrayList;\n\n@WebServlet (name = &quot;menu_cntrlr&quot;, urlPatterns = {&quot;/mctrl&quot;})\npublic class menu_cntrlr extends HttpServlet {\n\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        ArrayList alist = menu_items.menu_rtrv();\n        request.setAttribute(&quot;list&quot;, alist);\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;m_menu.jsp&quot;);\n        dispatcher.forward(request, response);\n        }\n\n@Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        processRequest(request, response);\n    }\n\n@Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        processRequest(request, response);\n    }\n}\n\n</code></pre>\n<p><strong>m_menu.jsp</strong></p>\n<pre><code>&lt;%@page import=&quot;java.util.*,Created.menu_model&quot;%&gt;\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;static/vendor/fontawesome/all.min.css&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;bs_ovrd.css&quot; /&gt;\n    &lt;title&gt;Main menu&lt;/title&gt;\n   &lt;/head&gt;\n    &lt;body&gt;\n        &lt;table border=2&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Menu ID&lt;/th&gt;\n        &lt;th&gt;Menu Scr Name&lt;/th&gt;\n        &lt;th&gt;Menu Parent&lt;/th&gt;\n    &lt;/tr&gt;\n        &lt;%\n        ArrayList&lt;menu_model&gt; dlist=(ArrayList)request.getAttribute(&quot;list&quot;);\n        Iterator it=dlist.iterator();\n        while(it.hasNext())\n        {\n            menu_model m=(menu_model)it.next();  \n        %&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;%=m.getmid() %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%=m.getmscr() %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%=m.getmprnt() %&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;%\n        }\n    %&gt;\n    &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p><strong>HTTP Status 500 – Internal Server Error (upon loading http://localhost:8080/WebApplication1/m_menu.jsp)</strong></p>\n<pre><code>Type Exception Report\n\nMessage An exception occurred processing [/m_menu.jsp] at line [30]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\norg.apache.jasper.JasperException: An exception occurred processing [/m_menu.jsp] at line [30]\n\n28:     \n29:         \n30:         Iterator it=dlist.iterator();\n31:         while(it.hasNext())\n32:         {\n33:             menu_model m=(menu_model)it.next();\n\n\nStacktrace:\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njava.lang.NullPointerException: Cannot invoke &quot;java.util.ArrayList.iterator()&quot; because &quot;dlist&quot; is null\n    org.apache.jsp.m_005fmenu_jsp._jspService(m_005fmenu_jsp.java:148)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p>Tried using JSTL and the JSP page loads but the if condition returns and no list:</p>\n<pre><code>&lt;c:if test=&quot;${empty list}&quot;&gt;\n            it is null\n            &lt;/c:if&gt;\n        &lt;c:forEach var=&quot;mitem&quot; items=&quot;${list}&quot;&gt;   \n         &lt;td&gt;&lt;c:out value=&quot;${mitem.menuid}&quot;/&gt;&lt;/td&gt;\n       &lt;td&gt;&lt;c:out value=&quot;${mitem.menuscr}&quot;/&gt;&lt;/td&gt;\n       &lt;td&gt;&lt;c:out value=&quot;${mitem.menuprnt}&quot;/&gt;&lt;/td&gt;\n     &lt;/c:forEach&gt;\n</code></pre>\n<p>EDIT: I tried passing an integer declared in the controller to the JSP, and found the following error which I think is linked to the previous one:</p>\n<pre><code>Exception Report\n\nMessage An exception occurred processing [m_menu.jsp] at line [21]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\norg.apache.jasper.JasperException: An exception occurred processing [m_menu.jsp] at line [21]\n\n18:    &lt;/head&gt;\n19:     &lt;body&gt;\n20:      &lt;%//ArrayList&lt;menu_model&gt; dlist=(ArrayList)request.getAttribute(&quot;list&quot;);\n21:         int sc = (int) request.getAttribute(&quot;list&quot;);\n22:         out.print(sc);%&gt;\n23:         &lt;table border=2&gt;\n24:     &lt;tr&gt;\n\n\nStacktrace:\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;jakarta.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\n    org.apache.jsp.m_005fmenu_jsp._jspService(m_005fmenu_jsp.java:145)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>The below is the code that I had added:</p>\n<pre><code>//in the Controller\nint c=2;\n        request.setAttribute(&quot;list&quot;, c);\n\n//in the JSP\n&lt;%  int sc = (int) request.getAttribute(&quot;list&quot;);\n    out.print(sc);\n%&gt;\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1675124821,"post_id":75291495,"comment_id":132857613,"body_markdown":"The usual technique would be to create a class that represents both a course name and a score, and have an array of that custom object instead of two separate arrays. I&#39;m not sure if that&#39;s what your instructor intends, though. If you can post the original assignment text, that might help someone provide help in line with the expectations.","body":"The usual technique would be to create a class that represents both a course name and a score, and have an array of that custom object instead of two separate arrays. I&#39;m not sure if that&#39;s what your instructor intends, though. If you can post the original assignment text, that might help someone provide help in line with the expectations."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1675125053,"post_id":75291495,"comment_id":132857648,"body_markdown":"The alternative is to make the same swaps in the `Course` array that are made in the `Grade` array. FYI: it&#39;s conventional in Java to start variable names with a lowercase letter (so `grade` and `course` instead of `Grade` and `Course`). Names starting with an uppercase letter are only used for types (such as `String`, `Array`, and `System`) except for names that are _all_ uppercase, which are used for constants (such as `Math.PI`).","body":"The alternative is to make the same swaps in the <code>Course</code> array that are made in the <code>Grade</code> array. FYI: it&#39;s conventional in Java to start variable names with a lowercase letter (so <code>grade</code> and <code>course</code> instead of <code>Grade</code> and <code>Course</code>). Names starting with an uppercase letter are only used for types (such as <code>String</code>, <code>Array</code>, and <code>System</code>) except for names that are <i>all</i> uppercase, which are used for constants (such as <code>Math.PI</code>)."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1675126896,"post_id":75291495,"comment_id":132857905,"body_markdown":"you can use the same index you use to change the grade to  change the course\n`String tmp2 = course[i]; course[i] = course[j]; course[j] = tmp2;`","body":"you can use the same index you use to change the grade to  change the course <code>String tmp2 = course[i]; course[i] = course[j]; course[j] = tmp2;</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675131499,"post_id":75291495,"comment_id":132858572,"body_markdown":"There are already several questions on Stack Overflow about sorting parallel arrays in Java. https://stackoverflow.com/search?q=%5Bjava%5D+sort+parallel+arrays to look at some.","body":"There are already several questions on Stack Overflow about sorting parallel arrays in Java. <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+sort+parallel+arrays\">stackoverflow.com/search?q=%5Bjava%5D+sort+parallel+arrays</a> to look at some."}],"owner":{"account_id":27661692,"reputation":11,"user_id":21114373,"display_name":"cstjmn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675123939,"creation_date":1675123939,"question_id":75291495,"body_markdown":"Im new in java and I am building a system that asks for the name of the course and then the grade the student got - I ask for users input and then display it, so i am using 2 arrays a string array and a doubles array. \r\nAt the end I am supposed to print the grades (and the course)  from the highest grade to the lowest. Since I am a begginer we are not allowed to use any other library or import beside the scanner one - I managed to sort the grades using the bubble method but I dont know how to get the corresponding course, since the order has been altered \r\n\r\nI have tried putting the student array inside the for or just printing it at the end. The sorting from highest to lowest works fine but I am not sure how to get the number of spots it went up or down to use it in the sting array so it matches the course.\r\n```\r\n for (int i = 0; i &lt; 20; i++) {\r\n        for (int j = i + 1; j &lt; 20; j++) {\r\n            int tmp = 0;\r\n            if (Grade[i] &lt; Grade[j]) //\r\n            {\r\n                tmp = Grade[i];\r\n                Grade[i] = Grade[j];\r\n                Grade[j] = tmp;\r\n            }\r\n        }\r\n        System.out.println(Grade[i]+&quot;------------&quot;+ Course[i]); /*it just prints the sorted grades but the origial position of the courses*/\r\n    }\r\n    }\r\n```\r\n","title":"ARRAY SORTING - I sorted an array (doubles) using the bubble method but there was a string array with corresponded to it - now i cant put it in place","body":"<p>Im new in java and I am building a system that asks for the name of the course and then the grade the student got - I ask for users input and then display it, so i am using 2 arrays a string array and a doubles array.\nAt the end I am supposed to print the grades (and the course)  from the highest grade to the lowest. Since I am a begginer we are not allowed to use any other library or import beside the scanner one - I managed to sort the grades using the bubble method but I dont know how to get the corresponding course, since the order has been altered</p>\n<p>I have tried putting the student array inside the for or just printing it at the end. The sorting from highest to lowest works fine but I am not sure how to get the number of spots it went up or down to use it in the sting array so it matches the course.</p>\n<pre><code> for (int i = 0; i &lt; 20; i++) {\n        for (int j = i + 1; j &lt; 20; j++) {\n            int tmp = 0;\n            if (Grade[i] &lt; Grade[j]) //\n            {\n                tmp = Grade[i];\n                Grade[i] = Grade[j];\n                Grade[j] = tmp;\n            }\n        }\n        System.out.println(Grade[i]+&quot;------------&quot;+ Course[i]); /*it just prints the sorted grades but the origial position of the courses*/\n    }\n    }\n</code></pre>\n"},{"tags":["java","inputstream"],"answers":[{"tags":[],"owner":{"account_id":12140438,"reputation":495,"user_id":8864483,"display_name":"Kamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675008082,"creation_date":1675006323,"answer_id":75276110,"question_id":75274900,"body_markdown":"You can get the output using `Process` class, like below:\r\n\r\n        ProcessBuilder builder = new ProcessBuilder();\r\n        builder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;netstat -an&quot;);\r\n        Process process = builder.start();\r\n        BufferedReader reader = new BufferedReader(\r\n            new InputStreamReader(process.getInputStream()));\r\n\r\n\r\nThen handling that data is really up to you, there are multiple ways to acheive the goals:\r\n\r\n        List&lt;String[]&gt; output = reader.lines()\r\n                .map(line -&gt; line.trim().split(&quot;\\\\s+&quot;))\r\n                .collect(Collectors.toList());\r\n\r\n\r\n        List&lt;String&gt; task1 = output.stream()\r\n                .filter(line -&gt; line[0].equals(&quot;TCP&quot;))\r\n                .map(line -&gt; String.join(&quot; &quot;, line))\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;String&gt; task2 = output.stream()\r\n                .filter(line -&gt; line[0].equals(&quot;TCP&quot;))\r\n                .filter(line -&gt; distinctByValue(line[1]))\r\n                .map(line -&gt; String.join(&quot; &quot;, line))\r\n                .collect(Collectors.toList());\r\n\r\n\r\nI know the tasks solution are not perfect. Those are just a quickly written examples to show how to handle the data from `reader`.","title":"In java need to fetch data from command prompt and show on console by following tasks","body":"<p>You can get the output using <code>Process</code> class, like below:</p>\n<pre><code>    ProcessBuilder builder = new ProcessBuilder();\n    builder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;netstat -an&quot;);\n    Process process = builder.start();\n    BufferedReader reader = new BufferedReader(\n        new InputStreamReader(process.getInputStream()));\n</code></pre>\n<p>Then handling that data is really up to you, there are multiple ways to acheive the goals:</p>\n<pre><code>    List&lt;String[]&gt; output = reader.lines()\n            .map(line -&gt; line.trim().split(&quot;\\\\s+&quot;))\n            .collect(Collectors.toList());\n\n\n    List&lt;String&gt; task1 = output.stream()\n            .filter(line -&gt; line[0].equals(&quot;TCP&quot;))\n            .map(line -&gt; String.join(&quot; &quot;, line))\n            .collect(Collectors.toList());\n\n    List&lt;String&gt; task2 = output.stream()\n            .filter(line -&gt; line[0].equals(&quot;TCP&quot;))\n            .filter(line -&gt; distinctByValue(line[1]))\n            .map(line -&gt; String.join(&quot; &quot;, line))\n            .collect(Collectors.toList());\n</code></pre>\n<p>I know the tasks solution are not perfect. Those are just a quickly written examples to show how to handle the data from <code>reader</code>.</p>\n"}],"owner":{"account_id":27574350,"reputation":1,"user_id":21044897,"display_name":"chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675122800,"creation_date":1674995423,"question_id":75274900,"body_markdown":"I&#39;m chan beginner for Java developer \r\none of my Interviewer asked this question on Interview I failed and i want to learn this so please share the knowledge if you know.\r\nIn java need to fetch data from command Prompt and show on console by following tasks\r\n\r\nopen command prompt run as administrator type ( C:\\Windows\\system32&gt;netstat -an )\r\nIt will show 4 columns like                        \r\n\r\n```\r\nProto  Local Address        Foreign Address             State)\r\n TCP    0.0.0.0:135            0.0.0.0:0              LISTENING\r\n TCP    0.0.0.0:445            0.0.0.0:0              LISTENING\r\n TCP    0.0.0.0:554            0.0.0.0:0              LISTENING\r\n UDP    0.0.0.0:3702           *:*\r\n UDP    0.0.0.0:3702           *:*\r\n UDP    0.0.0.0:3702           *:*\r\n```\r\nlike this more line\r\n\r\nTask 1\r\nFetch data from command prompt show on console only the TCP details  \r\n```\r\nTCP    0.0.0.0:135            0.0.0.0:0              LISTENING\r\nTCP    0.0.0.0:445            0.0.0.0:0              LISTENING\r\nTCP    0.0.0.0:554            0.0.0.0:0              LISTENING\r\n```\r\n\r\nTask 2\r\nFetch data from command prompt show on console only unique local address from Local Address column\r\n```\r\n0.0.0.0:135\r\n0.0.0.0:445\r\n0.0.0.0:554\r\n0.0.0.0:3702\r\n```\r\n\r\nTask 3\r\nFetch data from command prompt show on console group by State column and count it\r\n```\r\nLISTENING = 3\r\n```\r\n\r\nI tried like ,whats the exact correct methodology\r\n\r\n\t\tString s1= null;\r\n\t\tString s2= null;\r\n\t\tInputStream i=Runtime.getRuntime().exec(&quot;netstat -an&quot;).getInputStream();\r\n\t\tScanner scan=new Scanner(i).useDelimiter(&quot;\\\\&quot;+&quot;\\n&quot;+&quot;\\n&quot;);\r\n\t\ts1=scan.hasNext()?scan.next():null;\r\n\t\tList&lt;String&gt; l=new ArrayList&lt;String&gt;();\r\n\t\ttry {\r\n\t\t\tl.add(s1.replaceAll(&quot;Active Connections\\r\\n&quot;\r\n\t\t\t\t+ &quot;\\r\\n&quot;\r\n\t\t\t\t+ &quot;  Proto  Local Address          Foreign Address        State&quot;, &quot;&quot;));\r\n\t\t\tfor(String a:l) {\r\n\t\t\t\tSystem.out.println(a);\r\n\t\t\t}\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"In java need to fetch data from command prompt and show on console by following tasks","body":"<p>I'm chan beginner for Java developer\none of my Interviewer asked this question on Interview I failed and i want to learn this so please share the knowledge if you know.\nIn java need to fetch data from command Prompt and show on console by following tasks</p>\n<p>open command prompt run as administrator type ( C:\\Windows\\system32&gt;netstat -an )\nIt will show 4 columns like</p>\n<pre><code>Proto  Local Address        Foreign Address             State)\n TCP    0.0.0.0:135            0.0.0.0:0              LISTENING\n TCP    0.0.0.0:445            0.0.0.0:0              LISTENING\n TCP    0.0.0.0:554            0.0.0.0:0              LISTENING\n UDP    0.0.0.0:3702           *:*\n UDP    0.0.0.0:3702           *:*\n UDP    0.0.0.0:3702           *:*\n</code></pre>\n<p>like this more line</p>\n<p>Task 1\nFetch data from command prompt show on console only the TCP details</p>\n<pre><code>TCP    0.0.0.0:135            0.0.0.0:0              LISTENING\nTCP    0.0.0.0:445            0.0.0.0:0              LISTENING\nTCP    0.0.0.0:554            0.0.0.0:0              LISTENING\n</code></pre>\n<p>Task 2\nFetch data from command prompt show on console only unique local address from Local Address column</p>\n<pre><code>0.0.0.0:135\n0.0.0.0:445\n0.0.0.0:554\n0.0.0.0:3702\n</code></pre>\n<p>Task 3\nFetch data from command prompt show on console group by State column and count it</p>\n<pre><code>LISTENING = 3\n</code></pre>\n<p>I tried like ,whats the exact correct methodology</p>\n<pre><code>    String s1= null;\n    String s2= null;\n    InputStream i=Runtime.getRuntime().exec(&quot;netstat -an&quot;).getInputStream();\n    Scanner scan=new Scanner(i).useDelimiter(&quot;\\\\&quot;+&quot;\\n&quot;+&quot;\\n&quot;);\n    s1=scan.hasNext()?scan.next():null;\n    List&lt;String&gt; l=new ArrayList&lt;String&gt;();\n    try {\n        l.add(s1.replaceAll(&quot;Active Connections\\r\\n&quot;\n            + &quot;\\r\\n&quot;\n            + &quot;  Proto  Local Address          Foreign Address        State&quot;, &quot;&quot;));\n        for(String a:l) {\n            System.out.println(a);\n        }\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","csv","stream"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1675123117,"post_id":75291383,"comment_id":132857322,"body_markdown":"Have you tried `InputStreamResource`?","body":"Have you tried <code>InputStreamResource</code>?"},{"owner":{"account_id":470846,"reputation":161,"user_id":878260,"accept_rate":71,"display_name":"Djoz"},"score":0,"creation_date":1675168832,"post_id":75291383,"comment_id":132866675,"body_markdown":"I didn&#39;t find a clean way to go from Stream (this is what we get from database) to InputStreamResource without breaking the stream with foreach","body":"I didn&#39;t find a clean way to go from Stream (this is what we get from database) to InputStreamResource without breaking the stream with foreach"}],"owner":{"account_id":470846,"reputation":161,"user_id":878260,"accept_rate":71,"display_name":"Djoz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675122614,"creation_date":1675122614,"question_id":75291383,"body_markdown":"We have a spring service that fetch large set of data from DB and stream end to end to controller. \r\nFor JSON format we are directly returning Java Stream :\r\n\r\n    @GetMapping(value = &quot;/json&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Stream&lt;Entity&gt;&gt; getJSONData()\r\n\r\nWe have trouble to have same behavior for CSV format, when we try \r\n\r\n    @GetMapping(value = &quot;/csv&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;Stream&lt;String&gt;&gt; getCSVData()\r\n\r\nwe get : `org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.stream.ReferencePipeline$Head] with preset Content-Type &#39;text/plain&#39;`\r\n\r\nIs there a way to achieve this by directly returning a Stream of text like for Json ?\r\nPS : we want to avoid the usage of StreamingResponseBody as it&#39;s async","title":"Stream text response in Spring Boot","body":"<p>We have a spring service that fetch large set of data from DB and stream end to end to controller.\nFor JSON format we are directly returning Java Stream :</p>\n<pre><code>@GetMapping(value = &quot;/json&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Stream&lt;Entity&gt;&gt; getJSONData()\n</code></pre>\n<p>We have trouble to have same behavior for CSV format, when we try</p>\n<pre><code>@GetMapping(value = &quot;/csv&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\npublic ResponseEntity&lt;Stream&lt;String&gt;&gt; getCSVData()\n</code></pre>\n<p>we get : <code>org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.stream.ReferencePipeline$Head] with preset Content-Type 'text/plain'</code></p>\n<p>Is there a way to achieve this by directly returning a Stream of text like for Json ?\nPS : we want to avoid the usage of StreamingResponseBody as it's async</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675117767,"post_id":75288382,"comment_id":132856362,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":7854911,"reputation":37,"user_id":5937223,"accept_rate":20,"display_name":"Ibernato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675121810,"creation_date":1675121810,"answer_id":75291321,"question_id":75288382,"body_markdown":"Instead of using two activities, you have to use an acitivty (the main) and a fragment (the video player). Then define a callback interface which will implement the activity and thus manage the communication between fragment and activity\r\n\r\nSee this https://blog.mindorks.com/how-to-communicate-between-fragments/","title":"Interfacing with MainActivity from video player","body":"<p>Instead of using two activities, you have to use an acitivty (the main) and a fragment (the video player). Then define a callback interface which will implement the activity and thus manage the communication between fragment and activity</p>\n<p>See this <a href=\"https://blog.mindorks.com/how-to-communicate-between-fragments/\" rel=\"nofollow noreferrer\">https://blog.mindorks.com/how-to-communicate-between-fragments/</a></p>\n"}],"owner":{"account_id":18770060,"reputation":1,"user_id":13687079,"display_name":"JordanT92"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675121810,"creation_date":1675101728,"question_id":75288382,"body_markdown":"I&#39;m new to android app development and just creating a simple application for my workplace that allows video playback control from a web panel, so the app pings the panel on a loop and if it gets a request to play a video, it plays it. If it gets a request to stop the video or play something else, then it does that.\r\n\r\nFrom MainActivity I&#39;m using startActivity to start an instance of ExoPlayer, I know how to pass variables to the activity, but how do I send information the other way or control the playback? Basically that loop that runs constantly to check for new actions is running in MainActivity, once the player is started I have no ability to stop playback, get stream metrics or do anything with that instance at all. I realise I&#39;m probably doing things backwards and should have a background service do the checks, but I still have no idea how to pass information back and forth.\r\n\r\nDoes anyone have any tips or suggestions? Thank you!","title":"Interfacing with MainActivity from video player","body":"<p>I'm new to android app development and just creating a simple application for my workplace that allows video playback control from a web panel, so the app pings the panel on a loop and if it gets a request to play a video, it plays it. If it gets a request to stop the video or play something else, then it does that.</p>\n<p>From MainActivity I'm using startActivity to start an instance of ExoPlayer, I know how to pass variables to the activity, but how do I send information the other way or control the playback? Basically that loop that runs constantly to check for new actions is running in MainActivity, once the player is started I have no ability to stop playback, get stream metrics or do anything with that instance at all. I realise I'm probably doing things backwards and should have a background service do the checks, but I still have no idea how to pass information back and forth.</p>\n<p>Does anyone have any tips or suggestions? Thank you!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4055763,"reputation":1013,"user_id":3333848,"accept_rate":60,"display_name":"Manthan Patel"},"score":0,"creation_date":1578038983,"post_id":56625357,"comment_id":105317056,"body_markdown":"did you found any thing regarding this?","body":"did you found any thing regarding this?"},{"owner":{"account_id":15426192,"reputation":439,"user_id":11128798,"display_name":"Kishan Thakkar"},"score":0,"creation_date":1578044443,"post_id":56625357,"comment_id":105319071,"body_markdown":"@ManthanPatel nope","body":"@ManthanPatel nope"},{"owner":{"account_id":17679173,"reputation":1273,"user_id":12833551,"display_name":"Pratik Fagadiya"},"score":0,"creation_date":1598894969,"post_id":56625357,"comment_id":112599208,"body_markdown":"have you found any solution yet?","body":"have you found any solution yet?"}],"answers":[{"tags":[],"owner":{"account_id":22346310,"reputation":54,"user_id":16565260,"display_name":"Zanza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1627710854,"creation_date":1627710854,"answer_id":68599537,"question_id":56625357,"body_markdown":"//Please add this receiver in android manifest file\r\n\r\n    &lt;receiver\r\n            android:name=&quot;.Boot_BroadCast&quot;\r\n            android:label=&quot;StartMyServiceAtBootReceiver&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n\r\n            &lt;/intent-filter&gt;\r\n\r\n    &lt;/receiver&gt;\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Build.VERSION;\r\n\r\n    public class Boot_BroadCast extends BroadcastReceiver {\r\n    public void onReceive(Context context, Intent intent) {\r\n        intent = new Intent(context, Clap_Service.class);\r\n        if (VERSION.SDK_INT &gt;= 26) {\r\n            context.startForegroundService(intent)\r\n         }\r\n       }\r\n     } ","title":"App is not listed in vivo autostart activity","body":"<p>//Please add this receiver in android manifest file</p>\n<pre><code>&lt;receiver\n        android:name=&quot;.Boot_BroadCast&quot;\n        android:label=&quot;StartMyServiceAtBootReceiver&quot;&gt;\n\n        &lt;intent-filter&gt;\n\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n\n        &lt;/intent-filter&gt;\n\n&lt;/receiver&gt;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build.VERSION;\n\npublic class Boot_BroadCast extends BroadcastReceiver {\npublic void onReceive(Context context, Intent intent) {\n    intent = new Intent(context, Clap_Service.class);\n    if (VERSION.SDK_INT &gt;= 26) {\n        context.startForegroundService(intent)\n     }\n   }\n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17402519,"reputation":137,"user_id":12611136,"display_name":"Syeda Soghat Zehra Jaffri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675121541,"creation_date":1675121541,"answer_id":75291297,"question_id":56625357,"body_markdown":"This worked for me. It will work on 80% Chinese manufacturing devices\r\n\r\n\r\n        private void checkBatteryOptimization() {\r\n            Intent intent = new Intent();\r\n            String packageName = this.getPackageName();\r\n            PowerManager pm = (PowerManager) this.getSystemService(Context.POWER_SERVICE);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if (pm.isIgnoringBatteryOptimizations(packageName))\r\n                    intent.setAction(Settings.ACTION_IGNORE_BATTERY_OPTIMIZATION_SETTINGS);\r\n                else {\r\n                    intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\r\n                    intent.setData(Uri.parse(&quot;package:&quot; + packageName));\r\n                }\r\n            }\r\n            this.startActivity(intent);\r\n        }\r\n    \r\n        private void addAutoStartup() {\r\n    \r\n            try {\r\n                Intent intent = new Intent();\r\n                String manufacturer = Build.MANUFACTURER;\r\n                if (&quot;xiaomi&quot;.equalsIgnoreCase(manufacturer)) {\r\n                    intent.setComponent(new ComponentName(&quot;com.miui.securitycenter&quot;, &quot;com.miui.permcenter.autostart.AutoStartManagementActivity&quot;));\r\n                } else if (&quot;oppo&quot;.equalsIgnoreCase(manufacturer)) {\r\n                    intent.setComponent(new ComponentName(&quot;com.coloros.safecenter&quot;, &quot;com.coloros.safecenter.permission.startup.StartupAppListActivity&quot;));\r\n                } else if (&quot;vivo&quot;.equalsIgnoreCase(manufacturer)) {\r\n                    intent.setComponent(new ComponentName(&quot;com.vivo.permissionmanager&quot;, &quot;com.vivo.permissionmanager.activity.BgStartUpManagerActivity&quot;));\r\n                } else if (&quot;Letv&quot;.equalsIgnoreCase(manufacturer)) {\r\n                    intent.setComponent(new ComponentName(&quot;com.letv.android.letvsafe&quot;, &quot;com.letv.android.letvsafe.AutobootManageActivity&quot;));\r\n                } else if (&quot;Honor&quot;.equalsIgnoreCase(manufacturer)) {\r\n                    intent.setComponent(new ComponentName(&quot;com.huawei.systemmanager&quot;, &quot;com.huawei.systemmanager.optimize.process.ProtectActivity&quot;));\r\n    \r\n                } else if (&quot;oneplus&quot;.equalsIgnoreCase(manufacturer)) {\r\n                    intent.setComponent(new ComponentName(&quot;com.oneplus.security&quot;, &quot;com.oneplus.security.chainlaunch.view.ChainLaunchAppListActivity&quot;));\r\n                }\r\n    //            case &quot;oneplus&quot;:\r\n    //                intent.setComponent(new ComponentName(&quot;com.oneplus.security&quot;, &quot;com.oneplus.security.chainlaunch.view.ChainLaunchAppListAct‌​ivity&quot;));\r\n    //                break;\r\n                List&lt;ResolveInfo&gt; list = getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n                if (list.size() &gt; 0) {\r\n                    startActivityForResult(intent, 9);\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;exc&quot;, String.valueOf(e));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            Log.e(&quot;test123 ee&quot;, &quot;test &quot; + requestCode + &quot; &quot; + resultCode + &quot; &quot; + data);\r\n            if (requestCode == 9) {\r\n     Intent mainIntent = new Intent(NotificationsActivity.this, MainActivity.class);\r\n                startActivity(mainIntent);\r\n                finish();\r\n            }\r\n        }\r\n\r\n","title":"App is not listed in vivo autostart activity","body":"<p>This worked for me. It will work on 80% Chinese manufacturing devices</p>\n<pre><code>    private void checkBatteryOptimization() {\n        Intent intent = new Intent();\n        String packageName = this.getPackageName();\n        PowerManager pm = (PowerManager) this.getSystemService(Context.POWER_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (pm.isIgnoringBatteryOptimizations(packageName))\n                intent.setAction(Settings.ACTION_IGNORE_BATTERY_OPTIMIZATION_SETTINGS);\n            else {\n                intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\n                intent.setData(Uri.parse(&quot;package:&quot; + packageName));\n            }\n        }\n        this.startActivity(intent);\n    }\n\n    private void addAutoStartup() {\n\n        try {\n            Intent intent = new Intent();\n            String manufacturer = Build.MANUFACTURER;\n            if (&quot;xiaomi&quot;.equalsIgnoreCase(manufacturer)) {\n                intent.setComponent(new ComponentName(&quot;com.miui.securitycenter&quot;, &quot;com.miui.permcenter.autostart.AutoStartManagementActivity&quot;));\n            } else if (&quot;oppo&quot;.equalsIgnoreCase(manufacturer)) {\n                intent.setComponent(new ComponentName(&quot;com.coloros.safecenter&quot;, &quot;com.coloros.safecenter.permission.startup.StartupAppListActivity&quot;));\n            } else if (&quot;vivo&quot;.equalsIgnoreCase(manufacturer)) {\n                intent.setComponent(new ComponentName(&quot;com.vivo.permissionmanager&quot;, &quot;com.vivo.permissionmanager.activity.BgStartUpManagerActivity&quot;));\n            } else if (&quot;Letv&quot;.equalsIgnoreCase(manufacturer)) {\n                intent.setComponent(new ComponentName(&quot;com.letv.android.letvsafe&quot;, &quot;com.letv.android.letvsafe.AutobootManageActivity&quot;));\n            } else if (&quot;Honor&quot;.equalsIgnoreCase(manufacturer)) {\n                intent.setComponent(new ComponentName(&quot;com.huawei.systemmanager&quot;, &quot;com.huawei.systemmanager.optimize.process.ProtectActivity&quot;));\n\n            } else if (&quot;oneplus&quot;.equalsIgnoreCase(manufacturer)) {\n                intent.setComponent(new ComponentName(&quot;com.oneplus.security&quot;, &quot;com.oneplus.security.chainlaunch.view.ChainLaunchAppListActivity&quot;));\n            }\n//            case &quot;oneplus&quot;:\n//                intent.setComponent(new ComponentName(&quot;com.oneplus.security&quot;, &quot;com.oneplus.security.chainlaunch.view.ChainLaunchAppListAct‌​ivity&quot;));\n//                break;\n            List&lt;ResolveInfo&gt; list = getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n            if (list.size() &gt; 0) {\n                startActivityForResult(intent, 9);\n            }\n        } catch (Exception e) {\n            Log.e(&quot;exc&quot;, String.valueOf(e));\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        Log.e(&quot;test123 ee&quot;, &quot;test &quot; + requestCode + &quot; &quot; + resultCode + &quot; &quot; + data);\n        if (requestCode == 9) {\n Intent mainIntent = new Intent(NotificationsActivity.this, MainActivity.class);\n            startActivity(mainIntent);\n            finish();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":15426192,"reputation":439,"user_id":11128798,"display_name":"Kishan Thakkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68599537,"answer_count":2,"score":4,"last_activity_date":1675121541,"creation_date":1560750568,"question_id":56625357,"body_markdown":"i want my app to autostart in vivo device but when i try to do so my app does not show in the list .Can anyone tell me how to resolve this error\r\n\r\ni am already able to redirect to autostart activity of vivo\r\n\r\n\r\n   \r\n\r\n     if (Build.BRAND.equalsIgnoreCase(&quot;vivo&quot;)) {\r\n        \r\n                    TITLE = &quot;vivo device detected&quot;;\r\n                    PACKAGE_NAME = &quot;com.vivo.permissionmanager&quot;;\r\n                    PACKAGE_ACITIVITY = &quot;com.vivo.permissionmanager.activity.BgStartUpManagerActivity&quot;;\r\n                    Intent intent = new Intent();\r\n                    intent.setComponent(new ComponentName(\r\n                            PACKAGE_NAME, PACKAGE_ACITIVITY));\r\n                    startActivity(intent);\r\n                }","title":"App is not listed in vivo autostart activity","body":"<p>i want my app to autostart in vivo device but when i try to do so my app does not show in the list .Can anyone tell me how to resolve this error</p>\n\n<p>i am already able to redirect to autostart activity of vivo</p>\n\n<pre><code> if (Build.BRAND.equalsIgnoreCase(\"vivo\")) {\n\n                TITLE = \"vivo device detected\";\n                PACKAGE_NAME = \"com.vivo.permissionmanager\";\n                PACKAGE_ACITIVITY = \"com.vivo.permissionmanager.activity.BgStartUpManagerActivity\";\n                Intent intent = new Intent();\n                intent.setComponent(new ComponentName(\n                        PACKAGE_NAME, PACKAGE_ACITIVITY));\n                startActivity(intent);\n            }\n</code></pre>\n"},{"tags":["java","spring-boot","caching","client-server","hazelcast"],"comments":[{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1675318271,"post_id":75290982,"comment_id":132903968,"body_markdown":"In Hazelcast, you get a handle to a data structure by its name name. For example IMap&lt;String, String&gt; hzStock = hazelcast.getMap(&quot;stock&quot;); If you use a different name you will get another instance of a map","body":"In Hazelcast, you get a handle to a data structure by its name name. For example IMap&lt;String, String&gt; hzStock = hazelcast.getMap(&quot;stock&quot;); If you use a different name you will get another instance of a map"}],"owner":{"account_id":4252980,"reputation":118,"user_id":3479420,"accept_rate":40,"display_name":"Gunjan Aswani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675121203,"creation_date":1675119005,"question_id":75290982,"body_markdown":"I have a usecase where there&#39;s a hazelcast cluster setup. There are two different apps, say application A and application B. Application A is already using hazelcast cluster for caching. I want to use the same hazelcast cluster but implement a different cache for application B.\r\nIs this possible?\r\n\r\n","title":"Can we create two different caches in one hazelcast cluster?","body":"<p>I have a usecase where there's a hazelcast cluster setup. There are two different apps, say application A and application B. Application A is already using hazelcast cluster for caching. I want to use the same hazelcast cluster but implement a different cache for application B.\nIs this possible?</p>\n"},{"tags":["java","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1675121913,"post_id":75291211,"comment_id":132857128,"body_markdown":"This seems like basically the same question as [Use environment variables in CMD](https://stackoverflow.com/questions/23071214/use-environment-variables-in-cmd); do the answers there help you?","body":"This seems like basically the same question as <a href=\"https://stackoverflow.com/questions/23071214/use-environment-variables-in-cmd\">Use environment variables in CMD</a>; do the answers there help you?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1675122038,"post_id":75291211,"comment_id":132857155,"body_markdown":"I tend to prefer `CMD` over `ENTRYPOINT` for being a little easier to override and for fitting nicely into the entrypoint-wrapper pattern.  A shell-form (bare string) `ENTRYPOINT` can be problematic for completely ignoring the command part (or any arguments passed after the `docker run image-name`).  But that&#39;s mostly my opinion, and I&#39;ve seen commentary preferring `ENTRYPOINT` as well.","body":"I tend to prefer <code>CMD</code> over <code>ENTRYPOINT</code> for being a little easier to override and for fitting nicely into the entrypoint-wrapper pattern.  A shell-form (bare string) <code>ENTRYPOINT</code> can be problematic for completely ignoring the command part (or any arguments passed after the <code>docker run image-name</code>).  But that&#39;s mostly my opinion, and I&#39;ve seen commentary preferring <code>ENTRYPOINT</code> as well."}],"owner":{"account_id":463449,"reputation":662,"user_id":13764824,"display_name":"placplacboom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675120807,"creation_date":1675120807,"question_id":75291211,"body_markdown":"I am trying to pass JAVA_OPTS to my entrypoint but all syntax that I have tried isn&#39;t working. Here is my code:\r\n\r\n```\r\nENTRYPOINT [&quot;java&quot;, $JAVA_OPTS, &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8008&quot;, &quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;gov.aus.mkt.data.MktApp&quot;, &quot;--spring.redis.host=redis&quot;]\r\n```\r\n\r\nIs there any way to pass `$JAVA_OPTS` from environment variable defined on docker-compose?\r\n\r\nWhile I was searching on internet, I also find some posts about being a bad practice use entrypoint as I am doing. What is the &quot;right&quot; way and why?\r\n\r\nedit:\r\n\r\nSolved it using explicit exec:\r\n\r\n```\r\nENTRYPOINT exec java $JAVA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8008 -cp app:app/lib/* gov.aus.mkt.data.MktApp --spring.redis.host=redis\r\n```\r\n\r\nIs it a good practice? Why?","title":"How can I pass $JAVA_OPTS to my entrypoint as env var?","body":"<p>I am trying to pass JAVA_OPTS to my entrypoint but all syntax that I have tried isn't working. Here is my code:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, $JAVA_OPTS, &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8008&quot;, &quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;gov.aus.mkt.data.MktApp&quot;, &quot;--spring.redis.host=redis&quot;]\n</code></pre>\n<p>Is there any way to pass <code>$JAVA_OPTS</code> from environment variable defined on docker-compose?</p>\n<p>While I was searching on internet, I also find some posts about being a bad practice use entrypoint as I am doing. What is the &quot;right&quot; way and why?</p>\n<p>edit:</p>\n<p>Solved it using explicit exec:</p>\n<pre><code>ENTRYPOINT exec java $JAVA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8008 -cp app:app/lib/* gov.aus.mkt.data.MktApp --spring.redis.host=redis\n</code></pre>\n<p>Is it a good practice? Why?</p>\n"},{"tags":["java","spring-boot","maven","snakeyaml"],"comments":[{"owner":{"account_id":27341130,"reputation":98,"user_id":20851740,"display_name":"Dilshod Fayzullayev"},"score":0,"creation_date":1675104734,"post_id":75288809,"comment_id":132852877,"body_markdown":"yes via pom.xml","body":"yes via pom.xml"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675106785,"post_id":75288809,"comment_id":132853440,"body_markdown":"Please add you Pom to the question. Which version of do you want to use? I will fix via dependencyManagement or dependencies.","body":"Please add you Pom to the question. Which version of do you want to use? I will fix via dependencyManagement or dependencies."}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675105003,"creation_date":1675105003,"answer_id":75288924,"question_id":75288809,"body_markdown":"If you can&#39;t find it in your pom then it means it&#39;s a transitive dependency pulled in by one of your other dependencies. You can just redefine this as a normal dependency in your pom and it will override the version to be whatever you like.","title":"How to update package version in external libraries","body":"<p>If you can't find it in your pom then it means it's a transitive dependency pulled in by one of your other dependencies. You can just redefine this as a normal dependency in your pom and it will override the version to be whatever you like.</p>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675105723,"creation_date":1675105723,"answer_id":75289036,"question_id":75288809,"body_markdown":"If you don’t use it directly, then it is coming from one of your dependencies. You can check which one using \r\n\r\n```sh\r\nmvn dependency:tree\r\n```\r\n\r\nWith IntelliJ IDEA, you can also open the Maven view, then right-click the project and select “Analyze Dependencies…” to get the same information.\r\n\r\nIdeally, you should keep it as a transitive dependency, otherwise you will have to take care of its upgrade every time you upgrade the library that actually depends on it. Moreover, there can be issues if you upgrade only the transitive dependency and not the intermediate one (e.g. [for Spring](https://github.com/spring-projects/spring-boot/issues/32221)).\r\n\r\nThe best solution would thus be to upgrade that intermediate dependency, assuming that they have released a new version of it (SnakeYAML 1.29 being affected by CVE-2022-25857, there are good chances).\r\n\r\nOnly if you can’t do that, you should add the dependency in the `&lt;dependencyManagement&gt;` section of your pom.xml, but don’t forget tot maintain it from now on (and remove it once the intermediate dependency is upgraded).","title":"How to update package version in external libraries","body":"<p>If you don’t use it directly, then it is coming from one of your dependencies. You can check which one using</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:tree\n</code></pre>\n<p>With IntelliJ IDEA, you can also open the Maven view, then right-click the project and select “Analyze Dependencies…” to get the same information.</p>\n<p>Ideally, you should keep it as a transitive dependency, otherwise you will have to take care of its upgrade every time you upgrade the library that actually depends on it. Moreover, there can be issues if you upgrade only the transitive dependency and not the intermediate one (e.g. <a href=\"https://github.com/spring-projects/spring-boot/issues/32221\" rel=\"nofollow noreferrer\">for Spring</a>).</p>\n<p>The best solution would thus be to upgrade that intermediate dependency, assuming that they have released a new version of it (SnakeYAML 1.29 being affected by CVE-2022-25857, there are good chances).</p>\n<p>Only if you can’t do that, you should add the dependency in the <code>&lt;dependencyManagement&gt;</code> section of your pom.xml, but don’t forget tot maintain it from now on (and remove it once the intermediate dependency is upgraded).</p>\n"}],"owner":{"account_id":27415027,"reputation":49,"user_id":20914383,"display_name":"EXEC1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75289036,"answer_count":2,"score":0,"last_activity_date":1675119427,"creation_date":1675104356,"question_id":75288809,"body_markdown":"I want to update this package&#39;s version, but I didn&#39;t find this package in my pom file under root directory\r\n[![SnakeYAML 1.29 dependency][1]][1]\r\n\r\nHow can I update this package&#39;s version? Do I need to do it directly in the pom file under the Maven package?\r\n\r\nThis is my dependency tree, and I want to upgrade to 1.31\r\n[![Dependency tree to SnakeYAML][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vIyMa.png\r\n  [2]: https://i.stack.imgur.com/f7cTp.png","title":"How to update package version in external libraries","body":"<p>I want to update this package's version, but I didn't find this package in my pom file under root directory\n<a href=\"https://i.stack.imgur.com/vIyMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vIyMa.png\" alt=\"SnakeYAML 1.29 dependency\" /></a></p>\n<p>How can I update this package's version? Do I need to do it directly in the pom file under the Maven package?</p>\n<p>This is my dependency tree, and I want to upgrade to 1.31\n<a href=\"https://i.stack.imgur.com/f7cTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f7cTp.png\" alt=\"Dependency tree to SnakeYAML\" /></a></p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3329744,"reputation":944,"user_id":2798950,"accept_rate":100,"display_name":"VNT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496503118,"creation_date":1496502356,"answer_id":44345322,"question_id":44345258,"body_markdown":"profilePage.jsp  : Add `isELIgnored=&quot;false&quot;` in page directive.\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n            pageEncoding=&quot;ISO-8859-1&quot; isELIgnored=&quot;false&quot;%&gt;\r\n\r\n\r\nUpdate your controller with the following :\r\n\r\n    @Controller\r\n    public class LoginController {\r\n    \r\n        @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n        public String showLoginPage(Model model) {\r\n            model.addAttribute(&quot;loginBean&quot;, new LoginBean());\r\n            return &quot;login&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/showProfile&quot;, method = RequestMethod.POST)\r\n        public String redirectToprofile(@ModelAttribute(&quot;loginBean&quot;) LoginBean loginBean , Model model) {\r\n            StaffServiceImpl staffServiceImpl = new StaffServiceImpl();\r\n            Staff staff = staffServiceImpl.authenticateStaff(loginBean);\r\n            if (null != staff) {\r\n               model.addAttribute(&quot;staffData&quot;,staff);\r\n               return &quot;profilePage&quot;;\r\n            }\r\n            return &quot;profileNotFound&quot;;\r\n        }\r\n","title":"Model Data is not getting transferred to the jsp page","body":"<p>profilePage.jsp  : Add <code>isELIgnored=\"false\"</code> in page directive.</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n        pageEncoding=\"ISO-8859-1\" isELIgnored=\"false\"%&gt;\n</code></pre>\n\n<p>Update your controller with the following :</p>\n\n<pre><code>@Controller\npublic class LoginController {\n\n    @RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String showLoginPage(Model model) {\n        model.addAttribute(\"loginBean\", new LoginBean());\n        return \"login\";\n    }\n\n    @RequestMapping(value = \"/showProfile\", method = RequestMethod.POST)\n    public String redirectToprofile(@ModelAttribute(\"loginBean\") LoginBean loginBean , Model model) {\n        StaffServiceImpl staffServiceImpl = new StaffServiceImpl();\n        Staff staff = staffServiceImpl.authenticateStaff(loginBean);\n        if (null != staff) {\n           model.addAttribute(\"staffData\",staff);\n           return \"profilePage\";\n        }\n        return \"profileNotFound\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675119344,"creation_date":1675119344,"answer_id":75291030,"question_id":44345258,"body_markdown":"the above answer is correct, and this is an explination:\r\nThe isELIgnored attribute gives you the ability to disable the evaluation of Expression Language (EL) expressions which has been introduced in JSP 2.0.\r\n\r\nThe default value of the attribute is true, meaning that expressions, ${...}, are evaluated as dictated by the JSP specification. If the attribute is set to false, then expressions are not evaluated but rather treated as static text.\r\nSource :[enter link description here][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/what-is-iselignored-attribute-in-jsp#:~:text=The%20isELIgnored%20attribute%20gives%20you,dictated%20by%20the%20JSP%20specification.","title":"Model Data is not getting transferred to the jsp page","body":"<p>the above answer is correct, and this is an explination:\nThe isELIgnored attribute gives you the ability to disable the evaluation of Expression Language (EL) expressions which has been introduced in JSP 2.0.</p>\n<p>The default value of the attribute is true, meaning that expressions, ${...}, are evaluated as dictated by the JSP specification. If the attribute is set to false, then expressions are not evaluated but rather treated as static text.\nSource :<a href=\"https://www.tutorialspoint.com/what-is-iselignored-attribute-in-jsp#:%7E:text=The%20isELIgnored%20attribute%20gives%20you,dictated%20by%20the%20JSP%20specification.\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":8490885,"reputation":119,"user_id":6367257,"accept_rate":71,"display_name":"Mr Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44345322,"answer_count":2,"score":1,"last_activity_date":1675119344,"creation_date":1496501979,"question_id":44345258,"body_markdown":"I have designed a Login page using Spring MVC,JPA(Hibernate) and Jsp.\r\n\r\nPlease find the login.jsp :-\r\n\r\n        &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        \tpageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n        &lt;%@ taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n        &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n        \t&lt;h2&gt;Login page&lt;/h2&gt;\r\n        \t&lt;form:form method=&quot;POST&quot; modelAttribute=&quot;loginBean&quot; action=&quot;showProfile&quot;&gt;\r\n        \t\t&lt;table&gt;\r\n        \t\t\t&lt;tr&gt;\r\n        \t\t\t\t&lt;td&gt;UserName :&lt;form:input path=&quot;userName&quot;/&gt;&lt;/td&gt;\r\n        \t\t\t&lt;/tr&gt;\r\n        \t\t\t&lt;tr&gt;\r\n        \t\t\t\t&lt;td&gt;Organization Id :&lt;form:input path=&quot;OrgId&quot; /&gt;&lt;/td&gt;\r\n        \t\t\t&lt;/tr&gt;\r\n        \t\t\t&lt;tr&gt;\r\n        \t\t\t\t&lt;td&gt;Password : &lt;form:input path=&quot;password&quot; /&gt;&lt;/td&gt;\r\n        \t\t\t&lt;/tr&gt;\r\n        \t\t\t&lt;tr&gt;\r\n        \t\t\t\t&lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;&lt;/td&gt;\r\n        \t\t\t&lt;/tr&gt;\r\n        \t\t&lt;/table&gt;\r\n        \t&lt;/form:form&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt; \r\n\r\nprofilePage.jsp:-\r\n    \r\n        &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        \tpageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n        &lt;%@ taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n        &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n        &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;Insert title here&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n        \t&lt;table border=&quot;2&quot; width=&quot;70%&quot; cellpadding=&quot;2&quot;&gt;\r\n        \t\t&lt;tr&gt;\r\n        \t\t\t&lt;th&gt;UserName&lt;/th&gt;\r\n        \t\t\t&lt;th&gt;Password&lt;/th&gt;\r\n        \t\t&lt;/tr&gt;\r\n        \t\t&lt;c:forEach var=&quot;staff&quot; items=&quot;${staffData}&quot;&gt;\r\n        \t\t\t&lt;tr&gt;\r\n        \t\t\t\t&lt;td&gt;${staff.userName}&lt;/td&gt;\r\n        \t\t\t\t&lt;td&gt;${staff.password}&lt;/td&gt;\r\n        \t\t\t&lt;/tr&gt;\r\n        \t\t&lt;/c:forEach&gt;\r\n        \t&lt;/table&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\nLoginController.java:-\r\n    \r\n    @Controller\r\n    public class LoginController {\r\n    \r\n    \t@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    \tpublic String showLoginPage(Model model) {\r\n    \t\tmodel.addAttribute(&quot;loginBean&quot;, new LoginBean());\r\n    \t\treturn &quot;login&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = &quot;/showProfile&quot;, method = RequestMethod.POST)\r\n    \tpublic ModelAndView redirectToprofile(@ModelAttribute(&quot;loginBean&quot;) LoginBean loginBean) {\r\n    \t\tStaffServiceImpl staffServiceImpl = new StaffServiceImpl();\r\n    \t\tStaff staff = staffServiceImpl.authenticateStaff(loginBean);\r\n    \t\tif (null != staff) {\r\n    \t\t\treturn new ModelAndView(&quot;redirect:/profilePage&quot;,&quot;staffData&quot;,staff);\r\n    \t\t}\r\n    \t\treturn new ModelAndView(&quot;profileNotFound&quot;);\r\n        \t}\r\n    @RequestMapping(value = &quot;/profilePage&quot;, method = RequestMethod.GET)\r\n    \tpublic String showProfilePage() { \r\n            return &quot;profilePage&quot;;\r\n    \t}\r\n\r\nAfter giving the valid details in the Login.jsp page it is redirecting to profilePage.jsp but the data in profilePage.jsp is not correct. Please help me to understand where i am doing the mistake. \r\n\r\nThe profilePage.jsp is displayed a below:-\r\n\r\nUserName \tPassword\r\n${staff.userName} \t${staff.password}\r\n\r\nThe Value of this variable is not getting displayed.","title":"Model Data is not getting transferred to the jsp page","body":"<p>I have designed a Login page using Spring MVC,JPA(Hibernate) and Jsp.</p>\n\n<p>Please find the login.jsp :-</p>\n\n<pre><code>    &lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n        pageEncoding=\"ISO-8859-1\"%&gt;\n    &lt;%@ taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n    &lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\"%&gt;\n    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n    &lt;html&gt;\n    &lt;body&gt;\n        &lt;h2&gt;Login page&lt;/h2&gt;\n        &lt;form:form method=\"POST\" modelAttribute=\"loginBean\" action=\"showProfile\"&gt;\n            &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;UserName :&lt;form:input path=\"userName\"/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Organization Id :&lt;form:input path=\"OrgId\" /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Password : &lt;form:input path=\"password\" /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td colspan=\"2\"&gt;&lt;input type=\"submit\" value=\"Submit\" /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/form:form&gt;\n    &lt;/body&gt;\n    &lt;/html&gt; \n</code></pre>\n\n<p>profilePage.jsp:-</p>\n\n<pre><code>    &lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n        pageEncoding=\"ISO-8859-1\"%&gt;\n    &lt;%@ taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n    &lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\"%&gt;\n    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;table border=\"2\" width=\"70%\" cellpadding=\"2\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;UserName&lt;/th&gt;\n                &lt;th&gt;Password&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;c:forEach var=\"staff\" items=\"${staffData}\"&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;${staff.userName}&lt;/td&gt;\n                    &lt;td&gt;${staff.password}&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/c:forEach&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>LoginController.java:-</p>\n\n<pre><code>@Controller\npublic class LoginController {\n\n    @RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String showLoginPage(Model model) {\n        model.addAttribute(\"loginBean\", new LoginBean());\n        return \"login\";\n    }\n\n    @RequestMapping(value = \"/showProfile\", method = RequestMethod.POST)\n    public ModelAndView redirectToprofile(@ModelAttribute(\"loginBean\") LoginBean loginBean) {\n        StaffServiceImpl staffServiceImpl = new StaffServiceImpl();\n        Staff staff = staffServiceImpl.authenticateStaff(loginBean);\n        if (null != staff) {\n            return new ModelAndView(\"redirect:/profilePage\",\"staffData\",staff);\n        }\n        return new ModelAndView(\"profileNotFound\");\n        }\n@RequestMapping(value = \"/profilePage\", method = RequestMethod.GET)\n    public String showProfilePage() { \n        return \"profilePage\";\n    }\n</code></pre>\n\n<p>After giving the valid details in the Login.jsp page it is redirecting to profilePage.jsp but the data in profilePage.jsp is not correct. Please help me to understand where i am doing the mistake. </p>\n\n<p>The profilePage.jsp is displayed a below:-</p>\n\n<p>UserName    Password\n${staff.userName}   ${staff.password}</p>\n\n<p>The Value of this variable is not getting displayed.</p>\n"},{"tags":["java","android","android-studio","targeting"],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675118896,"creation_date":1675118896,"question_id":75290965,"body_markdown":"I am trying to make my app available for people of all ages and there for need to add code that complies with google play&#39;s families policy. https://support.google.com/admob/answer/6223431?hl=en#zippy=%2Ccode-sample-for-implementation-in-apps-for-everyone-including-children-and-families\r\n\r\nThis is the code that I have added to my app:\r\n\r\n        RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\r\n        .toBuilder()\r\n        .setTagForChildDirectedTreatment(\r\n            RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\r\n        .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\r\n        .build();\r\n    MobileAds.setRequestConfiguration(requestConfiguration);\r\n\r\n\r\nand this is where I have placed my code within my app:\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n        \r\n            RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\r\n                    .toBuilder()\r\n                    .setTagForChildDirectedTreatment(\r\n                            RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\r\n                    .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\r\n                    .build();\r\n            MobileAds.setRequestConfiguration(requestConfiguration);\r\n        \r\n        \r\n            MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n            });\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n        \r\n            InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\r\n                    new InterstitialAdLoadCallback() {\r\n                        @Override\r\n                        public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                            // The mInterstitialAd reference will be null until\r\n                            // an ad is loaded.\r\n                            mInterstitialAd = interstitialAd;\r\n                            Log.i(TAG, &quot;onAdLoaded&quot;);\r\n        \r\n                        }\r\n        \r\n                        @Override\r\n                        public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                            // Handle the error\r\n                            Log.d(TAG, loadAdError.toString());\r\n                            mInterstitialAd = null;\r\n                        }\r\n                    });\r\n    }\r\n\r\nCould someone verify if this is the correct placement of the code in order for it to comply with google play&#39;s families policy as I am not familiar with this task and do not know how to test it out on where it works or not as there is no change in the app when running it on a device.\r\n","title":"Where is the correct place to put google play&#39;s age group targeting code in android studio?","body":"<p>I am trying to make my app available for people of all ages and there for need to add code that complies with google play's families policy. <a href=\"https://support.google.com/admob/answer/6223431?hl=en#zippy=%2Ccode-sample-for-implementation-in-apps-for-everyone-including-children-and-families\" rel=\"nofollow noreferrer\">https://support.google.com/admob/answer/6223431?hl=en#zippy=%2Ccode-sample-for-implementation-in-apps-for-everyone-including-children-and-families</a></p>\n<p>This is the code that I have added to my app:</p>\n<pre><code>    RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\n    .toBuilder()\n    .setTagForChildDirectedTreatment(\n        RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\n    .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\n    .build();\nMobileAds.setRequestConfiguration(requestConfiguration);\n</code></pre>\n<p>and this is where I have placed my code within my app:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n    \n        RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\n                .toBuilder()\n                .setTagForChildDirectedTreatment(\n                        RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\n                .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\n                .build();\n        MobileAds.setRequestConfiguration(requestConfiguration);\n    \n    \n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\n        });\n        AdRequest adRequest = new AdRequest.Builder().build();\n    \n        InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\n                new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        mInterstitialAd = interstitialAd;\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\n    \n                    }\n    \n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        Log.d(TAG, loadAdError.toString());\n                        mInterstitialAd = null;\n                    }\n                });\n}\n</code></pre>\n<p>Could someone verify if this is the correct placement of the code in order for it to comply with google play's families policy as I am not familiar with this task and do not know how to test it out on where it works or not as there is no change in the app when running it on a device.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":1400444,"reputation":1913,"user_id":1329331,"display_name":"hsanders"},"score":1,"creation_date":1352827805,"post_id":13365646,"comment_id":18247255,"body_markdown":"Are the JVM versions the same? Do you get this error consistently?","body":"Are the JVM versions the same? Do you get this error consistently?"},{"owner":{"account_id":144717,"reputation":1009,"user_id":353971,"accept_rate":100,"display_name":"Favio"},"score":0,"creation_date":1352829334,"post_id":13365646,"comment_id":18247922,"body_markdown":"Yeah, everytime I run the command I get the same error, have tried with different memory settings too.   JVM versions are the same, in fact the vagrant box mirrors the &quot;real&quot; Centos system.  However, java is installed slightly different (different path), not sure if this can cause a fatal error.","body":"Yeah, everytime I run the command I get the same error, have tried with different memory settings too.   JVM versions are the same, in fact the vagrant box mirrors the &quot;real&quot; Centos system.  However, java is installed slightly different (different path), not sure if this can cause a fatal error."},{"owner":{"account_id":1400444,"reputation":1913,"user_id":1329331,"display_name":"hsanders"},"score":1,"creation_date":1352835006,"post_id":13365646,"comment_id":18250453,"body_markdown":"Maybe try a different version of JVM? With a lot of virtualization environments, even if the distro is the same the kernel is slightly different to run in that specific hypervisor. If you can&#39;t change the kernel, maybe try changing the JVM because that&#39;s probably easier to change.","body":"Maybe try a different version of JVM? With a lot of virtualization environments, even if the distro is the same the kernel is slightly different to run in that specific hypervisor. If you can&#39;t change the kernel, maybe try changing the JVM because that&#39;s probably easier to change."},{"owner":{"account_id":144717,"reputation":1009,"user_id":353971,"accept_rate":100,"display_name":"Favio"},"score":1,"creation_date":1352838002,"post_id":13365646,"comment_id":18251691,"body_markdown":"I did try with different JVM versions but still got the same fatal error.  Tried with the option mentioned by dan and now is not crashing.  Thanks!","body":"I did try with different JVM versions but still got the same fatal error.  Tried with the option mentioned by dan and now is not crashing.  Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1352830121,"creation_date":1352830121,"answer_id":13366231,"question_id":13365646,"body_markdown":"If you are able to reproduce this easily, you should configure your system to create a core dump.\r\n\r\nUsing `ulimit -c unlimited` will enable your system to produce such a dump on the next `SIGSEGV` event. Once the core dump file will be created you will be able to examine it, using `gdb`. \r\n\r\nSee [Determining Where the Crash Occurred][1] for details on what options to use to determine the cause.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/crashes-137240.html#gdywn","title":"Debugging SIGSEGV Java Fatal Error in libjvm.so","body":"<p>If you are able to reproduce this easily, you should configure your system to create a core dump.</p>\n\n<p>Using <code>ulimit -c unlimited</code> will enable your system to produce such a dump on the next <code>SIGSEGV</code> event. Once the core dump file will be created you will be able to examine it, using <code>gdb</code>. </p>\n\n<p>See <a href=\"http://www.oracle.com/technetwork/java/javase/crashes-137240.html#gdywn\" rel=\"noreferrer\">Determining Where the Crash Occurred</a> for details on what options to use to determine the cause.</p>\n"}],"owner":{"account_id":144717,"reputation":1009,"user_id":353971,"accept_rate":100,"display_name":"Favio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13362,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":13366231,"answer_count":1,"score":6,"last_activity_date":1675118384,"creation_date":1352827711,"question_id":13365646,"body_markdown":"I&#39;m trying to run jetty inside a Centos 5.7 vagrant box (it runs fine on &quot;real&quot; computers; tested with centos and linux mint).  This is the header error:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00002abb2551a8b1, pid=4299, tid=1105414464\r\n    #\r\n    # JRE version: 6.0_37-b06\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (20.12-b01 mixed mode linux-amd64 )\r\n    # Problematic frame:\r\n    # V  [libjvm.so+0x87a8b1]  YieldingFlexibleWorkGang::start_task(YieldingFlexibleGangTask*)+0x11\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /usr/local/jetty-7.6.7/bin/hs_err_pid4299.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://java.sun.com/webapps/bugreport/crash.jsp\r\n    #\r\n    Aborted\r\n\r\nI&#39;ve pasted the log here: https://gist.github.com/favrik/4067152\r\n\r\nI&#39;m trying to get some hints. :)  Already searched google and the bug database at http://bugs.sun.com/.\r\n\r\nThanks!","title":"Debugging SIGSEGV Java Fatal Error in libjvm.so","body":"<p>I'm trying to run jetty inside a Centos 5.7 vagrant box (it runs fine on &quot;real&quot; computers; tested with centos and linux mint).  This is the header error:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00002abb2551a8b1, pid=4299, tid=1105414464\n#\n# JRE version: 6.0_37-b06\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (20.12-b01 mixed mode linux-amd64 )\n# Problematic frame:\n# V  [libjvm.so+0x87a8b1]  YieldingFlexibleWorkGang::start_task(YieldingFlexibleGangTask*)+0x11\n#\n# An error report file with more information is saved as:\n# /usr/local/jetty-7.6.7/bin/hs_err_pid4299.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://java.sun.com/webapps/bugreport/crash.jsp\n#\nAborted\n</code></pre>\n<p>I've pasted the log here: <a href=\"https://gist.github.com/favrik/4067152\" rel=\"nofollow noreferrer\">https://gist.github.com/favrik/4067152</a></p>\n<p>I'm trying to get some hints. :)  Already searched google and the bug database at <a href=\"http://bugs.sun.com/\" rel=\"nofollow noreferrer\">http://bugs.sun.com/</a>.</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675117975,"post_id":75290695,"comment_id":132856403,"body_markdown":"`index` can&#39;t be referenced from within your `ActionListener` as it&#39;s value changes - so what actually is the value of `index` when the `ActionListener` is triggered? What you need is a better way to look up the index value of the button.  You could use a `Map` to map the `JButton` to an `int` value; you could make use of the [`clientProperty`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JComponent.html#putClientProperty(java.lang.Object,java.lang.Object)) capabilities of `JButton` to store the `index` directly against the instance of `JButton`","body":"<code>index</code> can&#39;t be referenced from within your <code>ActionListener</code> as it&#39;s value changes - so what actually is the value of <code>index</code> when the <code>ActionListener</code> is triggered? What you need is a better way to look up the index value of the button.  You could use a <code>Map</code> to map the <code>JButton</code> to an <code>int</code> value; you could make use of the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JComponent.html#putClientProperty(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>clientProperty</code></a> capabilities of <code>JButton</code> to store the <code>index</code> directly against the instance of <code>JButton</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675118112,"post_id":75290695,"comment_id":132856426,"body_markdown":"If the relationship between the buttons and the colors is linear, you could calculate the index of the color from based on the x/y value of the button, but you&#39;d need to run through the button list EVERY TIME `actionPerformed` was called, which wouldn&#39;t be very efficient.  You could also make use of the `actionCommand` property of the `JButton`, but this would require you to change your color model and allow it to generate a &quot;key&quot; for the button which it could then use to look up the associated color, workable, just not pretty","body":"If the relationship between the buttons and the colors is linear, you could calculate the index of the color from based on the x/y value of the button, but you&#39;d need to run through the button list EVERY TIME <code>actionPerformed</code> was called, which wouldn&#39;t be very efficient.  You could also make use of the <code>actionCommand</code> property of the <code>JButton</code>, but this would require you to change your color model and allow it to generate a &quot;key&quot; for the button which it could then use to look up the associated color, workable, just not pretty"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156787,"post_id":75290695,"comment_id":132862889,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675118107,"creation_date":1675118107,"answer_id":75290875,"question_id":75290695,"body_markdown":"The problem is with `final int currentIndex = index;` as the compiler was telling you in the error message. `actionPerformed` will run at some unspecified future time and the compiler has no idea what value of `index` you expect to find there at that time.\r\n\r\nWhat do you want to do? Assign colors to buttons. You can do that more directly with\r\n\r\n    JButton button = new JButton();\r\n    button.setBackground(Color.GRAY);\r\n    buttons[i][j] = button;\r\n    // let&#39;s store the color for later\r\n    button.putClientProperty(&quot;color&quot;, colorList.get(index));\r\n    add(button);\r\n\r\noutside the handler.\r\n\r\nAnd then retrieving it inside:\r\n\r\n    public void actionPerformed(ActionEvent e) \r\n    {\r\n        JButton clickedButton = (JButton) e.getSource();\r\n        Color color = (Color)clickedButton.getClientProperty(&quot;color&quot;);\r\n\r\n","title":"need help solving errors while creating a memory game in java","body":"<p>The problem is with <code>final int currentIndex = index;</code> as the compiler was telling you in the error message. <code>actionPerformed</code> will run at some unspecified future time and the compiler has no idea what value of <code>index</code> you expect to find there at that time.</p>\n<p>What do you want to do? Assign colors to buttons. You can do that more directly with</p>\n<pre><code>JButton button = new JButton();\nbutton.setBackground(Color.GRAY);\nbuttons[i][j] = button;\n// let's store the color for later\nbutton.putClientProperty(&quot;color&quot;, colorList.get(index));\nadd(button);\n</code></pre>\n<p>outside the handler.</p>\n<p>And then retrieving it inside:</p>\n<pre><code>public void actionPerformed(ActionEvent e) \n{\n    JButton clickedButton = (JButton) e.getSource();\n    Color color = (Color)clickedButton.getClientProperty(&quot;color&quot;);\n</code></pre>\n"}],"owner":{"account_id":27661217,"reputation":1,"user_id":21114019,"display_name":"NanoBot1000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675118107,"creation_date":1675116640,"question_id":75290695,"body_markdown":"I am new to java and am very confused about errors in my code. I have the error at line 48 &quot;local variables referenced from an inner class must be final or effectively final&quot;. here is my code:\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class MemoryGame extends JFrame \r\n{\r\n    private JButton[][] buttons = new JButton[4][4];\r\n    private Color[] colors = {Color.RED, Color.BLUE, Color.GREEN, Color.YELLOW};\r\n    private List&lt;Color&gt; colorList = new ArrayList&lt;&gt;();\r\n    private int score = 0;\r\n\r\n    public MemoryGame() \r\n    {\r\n        setTitle(&quot;Memory Game&quot;);\r\n        setSize(400, 400);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLayout(new GridLayout(4, 4));\r\n\r\n        // populate colorList with two copies of each color\r\n        for (int i = 0; i &lt; 2; i++) \r\n        {\r\n            for (Color color : colors) \r\n            {\r\n                colorList.add(color);\r\n            }\r\n        }\r\n        // shuffle colorList\r\n        Collections.shuffle(colorList);\r\n\r\n        int index = 0;\r\n        for (int i = 0; i &lt; 4; i++) \r\n        {\r\n            for (int j = 0; j &lt; 4; j++) \r\n            {\r\n                JButton button = new JButton();\r\n                button.setBackground(Color.GRAY);\r\n                buttons[i][j] = button;\r\n                add(button);\r\n                button.addActionListener(new ActionListener() \r\n                {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) \r\n                    {\r\n                        final int currentIndex = index;\r\n                        JButton clickedButton = (JButton) e.getSource();\r\n                        Color color = colorList.get(currentIndex);\r\n                        clickedButton.setBackground(color);\r\n                        clickedButton.setEnabled(false);\r\n                        for (int x = 0; x &lt; 4; x++)\r\n                        {\r\n                            for (int y = 0; y &lt; 4; y++)\r\n                            {\r\n                                if (buttons[x][y].getBackground() == color &amp;&amp; buttons[x][y] != clickedButton) \r\n                                {\r\n                                    buttons[x][y].setEnabled(false);\r\n                                    score++;\r\n                                    if (score == 8) \r\n                                    {\r\n                                        JOptionPane.showMessageDialog(MemoryGame.this, &quot;You won!&quot;);\r\n                                        System.exit(0);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            index++;\r\n        }\r\n    }\r\n    setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        new MemoryGame();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried different things to solve the error and they just result in more errors. the program is meant to have a grid of different squares that can be clicked on to display their colors and matched by the user. when the user matches all of the colors on the grid they win.","title":"need help solving errors while creating a memory game in java","body":"<p>I am new to java and am very confused about errors in my code. I have the error at line 48 &quot;local variables referenced from an inner class must be final or effectively final&quot;. here is my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class MemoryGame extends JFrame \n{\n    private JButton[][] buttons = new JButton[4][4];\n    private Color[] colors = {Color.RED, Color.BLUE, Color.GREEN, Color.YELLOW};\n    private List&lt;Color&gt; colorList = new ArrayList&lt;&gt;();\n    private int score = 0;\n\n    public MemoryGame() \n    {\n        setTitle(&quot;Memory Game&quot;);\n        setSize(400, 400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLayout(new GridLayout(4, 4));\n\n        // populate colorList with two copies of each color\n        for (int i = 0; i &lt; 2; i++) \n        {\n            for (Color color : colors) \n            {\n                colorList.add(color);\n            }\n        }\n        // shuffle colorList\n        Collections.shuffle(colorList);\n\n        int index = 0;\n        for (int i = 0; i &lt; 4; i++) \n        {\n            for (int j = 0; j &lt; 4; j++) \n            {\n                JButton button = new JButton();\n                button.setBackground(Color.GRAY);\n                buttons[i][j] = button;\n                add(button);\n                button.addActionListener(new ActionListener() \n                {\n                    @Override\n                    public void actionPerformed(ActionEvent e) \n                    {\n                        final int currentIndex = index;\n                        JButton clickedButton = (JButton) e.getSource();\n                        Color color = colorList.get(currentIndex);\n                        clickedButton.setBackground(color);\n                        clickedButton.setEnabled(false);\n                        for (int x = 0; x &lt; 4; x++)\n                        {\n                            for (int y = 0; y &lt; 4; y++)\n                            {\n                                if (buttons[x][y].getBackground() == color &amp;&amp; buttons[x][y] != clickedButton) \n                                {\n                                    buttons[x][y].setEnabled(false);\n                                    score++;\n                                    if (score == 8) \n                                    {\n                                        JOptionPane.showMessageDialog(MemoryGame.this, &quot;You won!&quot;);\n                                        System.exit(0);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                });\n            index++;\n        }\n    }\n    setVisible(true);\n    }\n\n    public static void main(String[] args) \n    {\n        new MemoryGame();\n    }\n}\n</code></pre>\n<p>I've tried different things to solve the error and they just result in more errors. the program is meant to have a grid of different squares that can be clicked on to display their colors and matched by the user. when the user matches all of the colors on the grid they win.</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1674176539,"post_id":75179672,"comment_id":132664952,"body_markdown":"My guess would be that you will need that multipart/form-data, so work on fixing that error - here’s a few ideas : https://stackoverflow.com/q/42013087/681444","body":"My guess would be that you will need that multipart/form-data, so work on fixing that error - here’s a few ideas : <a href=\"https://stackoverflow.com/q/42013087/681444\">stackoverflow.com/q/42013087/681444</a>"}],"answers":[{"tags":[],"owner":{"account_id":4323437,"reputation":71,"user_id":3530880,"accept_rate":67,"display_name":"bluebrigade23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675117814,"creation_date":1675117814,"answer_id":75290835,"question_id":75179672,"body_markdown":"So i finally managed to fix this, the issue was not in the js or the DTO. The issue was on the Thymeleaf page itself, i had &quot;ajax-form=true&quot; in the form attribute of the page. Once that was removed, I was able to submit the form correctly and get all the images to the controller. ","title":"Post Object with List of Object containing multipart files","body":"<p>So i finally managed to fix this, the issue was not in the js or the DTO. The issue was on the Thymeleaf page itself, i had &quot;ajax-form=true&quot; in the form attribute of the page. Once that was removed, I was able to submit the form correctly and get all the images to the controller.</p>\n"}],"owner":{"account_id":4323437,"reputation":71,"user_id":3530880,"accept_rate":67,"display_name":"bluebrigade23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75290835,"answer_count":1,"score":0,"last_activity_date":1675117814,"creation_date":1674175826,"question_id":75179672,"body_markdown":"I&#39;m trying to send a post request from Thymeleaf to my controller. The page dynamically creates new input fields when a button is pressed and the page can have multiple of these fields. \r\n\r\n```\r\nfunction addNewRow(){\r\n    let row = document.createElement(&quot;tr&quot;);\r\n    let data = document.createElement(&quot;td&quot;);\r\n    let floorData = document.createElement(&quot;td&quot;);\r\n    let imageData = document.createElement(&quot;td&quot;);\r\n    let floorInput = document.createElement(&quot;input&quot;);\r\n    let imageInput = document.createElement(&quot;input&quot;);\r\n    row.setAttribute(&quot;id&quot;,&quot;newAdditions&quot;);\r\n    floorInput.setAttribute(&quot;id&quot;,&quot;floorNumber&quot;);\r\n    floorInput.setAttribute(&quot;type&quot;, &quot;text&quot;);\r\n    floorInput.setAttribute(&quot;placeHolder&quot;, &quot;Floor Number&quot;);\r\n    floorInput.setAttribute(&quot;class&quot;, &quot;form-control floorNumber&quot;);\r\n    floorData.setAttribute(&quot;id&quot;, &quot;floorNumberData&quot;)\r\n    floorData.appendChild(floorInput);\r\n    imageInput.setAttribute(&quot;type&quot;,&quot;file&quot;);\r\n    imageInput.setAttribute(&quot;accept&quot;,&quot;image/*&quot;);\r\n    imageInput.setAttribute(&quot;id&quot;,&quot;imageData&quot;);\r\n    imageInput.setAttribute(&quot;class&quot;,&quot;imageData&quot;);\r\n    imageData.appendChild(imageInput);\r\n    row.appendChild(data);\r\n    row.appendChild(floorData);\r\n    row.appendChild(imageData);\r\n    document.getElementById(&quot;tableBody&quot;).appendChild(row);\r\n  }\r\n```\r\n\r\nNow when the submit button is pressed, the images (imageData) is passed into a List along with the floorNumber\r\n\r\n```\r\nfunction submitImages(){\r\n    let allItems = document.querySelectorAll(&#39;[id=newAdditions]&#39;);\r\n    for(let i = 0; i &lt; allItems.length; i++){\r\n      let floor = allItems[i].getElementsByClassName(&#39;floorNumber&#39;);\r\n      let image = allItems[i].getElementsByClassName(&#39;imageData&#39;);\r\n      floor[0].setAttribute(&quot;name&quot;, &quot;images[&quot; + i +&quot;].floorNumber&quot;);\r\n      image[0].setAttribute(&quot;name&quot;, &quot;images[&quot; + i +&quot;].floorImage&quot;);\r\n\r\n    }\r\n    $(&#39;#floorForm&#39;).submit();\r\n\r\n  }\r\n```\r\n\r\nMy @ModelAttribute/Dto class is as below\r\n\r\n```\r\npublic class UploadFormDto{\r\n\r\n    private List&lt;UploadData&gt; images;\r\n\r\n    private Long id;\r\n\r\ngetters &amp; setters\r\n}\r\n```\r\n\r\n**UploadFormDto** contains\r\n\r\n```\r\npublic class UploadData{\r\n\r\n    private MultipartFile floorImage;\r\n\r\n    private String floorNumber;\r\n\r\ngetters &amp; setters\r\n}\r\n```\r\n\r\nAnd my controller method is as below\r\n\r\n```\r\n @PostMapping(value = &quot;/edit&quot;)\r\n @Transactional\r\n public String handleEditHotelRooms(@ModelAttribute(&quot;editForm&quot;) UploadFormDto editForm,\r\n                                       @PathVariable(&quot;hotelId&quot;) Hotel hotel,\r\n                                       BindingResult result, RedirectAttributes redirectAttributes) throws WebActionException {}\r\n```\r\n\r\n**ISSUE**: When the form is sent through, the list of objects populate the floorNumber correctly but the file is never sent through. What am i doing wrong or missing? \r\n\r\nMy thymeleaf page does not have the enctype=&#39;multipart/form-data&#39; because if I add it, the controller complains that the &quot;Current request is not a multipart request&quot;","title":"Post Object with List of Object containing multipart files","body":"<p>I'm trying to send a post request from Thymeleaf to my controller. The page dynamically creates new input fields when a button is pressed and the page can have multiple of these fields.</p>\n<pre><code>function addNewRow(){\n    let row = document.createElement(&quot;tr&quot;);\n    let data = document.createElement(&quot;td&quot;);\n    let floorData = document.createElement(&quot;td&quot;);\n    let imageData = document.createElement(&quot;td&quot;);\n    let floorInput = document.createElement(&quot;input&quot;);\n    let imageInput = document.createElement(&quot;input&quot;);\n    row.setAttribute(&quot;id&quot;,&quot;newAdditions&quot;);\n    floorInput.setAttribute(&quot;id&quot;,&quot;floorNumber&quot;);\n    floorInput.setAttribute(&quot;type&quot;, &quot;text&quot;);\n    floorInput.setAttribute(&quot;placeHolder&quot;, &quot;Floor Number&quot;);\n    floorInput.setAttribute(&quot;class&quot;, &quot;form-control floorNumber&quot;);\n    floorData.setAttribute(&quot;id&quot;, &quot;floorNumberData&quot;)\n    floorData.appendChild(floorInput);\n    imageInput.setAttribute(&quot;type&quot;,&quot;file&quot;);\n    imageInput.setAttribute(&quot;accept&quot;,&quot;image/*&quot;);\n    imageInput.setAttribute(&quot;id&quot;,&quot;imageData&quot;);\n    imageInput.setAttribute(&quot;class&quot;,&quot;imageData&quot;);\n    imageData.appendChild(imageInput);\n    row.appendChild(data);\n    row.appendChild(floorData);\n    row.appendChild(imageData);\n    document.getElementById(&quot;tableBody&quot;).appendChild(row);\n  }\n</code></pre>\n<p>Now when the submit button is pressed, the images (imageData) is passed into a List along with the floorNumber</p>\n<pre><code>function submitImages(){\n    let allItems = document.querySelectorAll('[id=newAdditions]');\n    for(let i = 0; i &lt; allItems.length; i++){\n      let floor = allItems[i].getElementsByClassName('floorNumber');\n      let image = allItems[i].getElementsByClassName('imageData');\n      floor[0].setAttribute(&quot;name&quot;, &quot;images[&quot; + i +&quot;].floorNumber&quot;);\n      image[0].setAttribute(&quot;name&quot;, &quot;images[&quot; + i +&quot;].floorImage&quot;);\n\n    }\n    $('#floorForm').submit();\n\n  }\n</code></pre>\n<p>My @ModelAttribute/Dto class is as below</p>\n<pre><code>public class UploadFormDto{\n\n    private List&lt;UploadData&gt; images;\n\n    private Long id;\n\ngetters &amp; setters\n}\n</code></pre>\n<p><strong>UploadFormDto</strong> contains</p>\n<pre><code>public class UploadData{\n\n    private MultipartFile floorImage;\n\n    private String floorNumber;\n\ngetters &amp; setters\n}\n</code></pre>\n<p>And my controller method is as below</p>\n<pre><code> @PostMapping(value = &quot;/edit&quot;)\n @Transactional\n public String handleEditHotelRooms(@ModelAttribute(&quot;editForm&quot;) UploadFormDto editForm,\n                                       @PathVariable(&quot;hotelId&quot;) Hotel hotel,\n                                       BindingResult result, RedirectAttributes redirectAttributes) throws WebActionException {}\n</code></pre>\n<p><strong>ISSUE</strong>: When the form is sent through, the list of objects populate the floorNumber correctly but the file is never sent through. What am i doing wrong or missing?</p>\n<p>My thymeleaf page does not have the enctype='multipart/form-data' because if I add it, the controller complains that the &quot;Current request is not a multipart request&quot;</p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":2,"creation_date":1675036434,"post_id":75279189,"comment_id":132836305,"body_markdown":"As per the question guide, please do not post images of code, data, error messages, etc. - copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text.","body":"As per the question guide, please do not post images of code, data, error messages, etc. - copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text."},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":0,"creation_date":1675036865,"post_id":75279189,"comment_id":132836354,"body_markdown":"What&#39;s the timezone setting of your database?","body":"What&#39;s the timezone setting of your database?"},{"owner":{"account_id":3362982,"reputation":188,"user_id":2824374,"display_name":"user2824374"},"score":0,"creation_date":1675037032,"post_id":75279189,"comment_id":132836372,"body_markdown":"@Lae It is in (UTC+10:00) Brisbane.","body":"@Lae It is in (UTC+10:00) Brisbane."},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":0,"creation_date":1675037299,"post_id":75279189,"comment_id":132836394,"body_markdown":"`2022-03-02T00:00+10:00` and `2022-03-01T14:00:00Z` are the same instant, what value are you expecting to see instead?","body":"<code>2022-03-02T00:00+10:00</code> and <code>2022-03-01T14:00:00Z</code> are the same instant, what value are you expecting to see instead?"},{"owner":{"account_id":3362982,"reputation":188,"user_id":2824374,"display_name":"user2824374"},"score":0,"creation_date":1675037514,"post_id":75279189,"comment_id":132836424,"body_markdown":"@Lae I&#39;m expecting to see the one from the database (22-03-02), but I&#39;m getting is 2022-03-01. Interestingly, I tried to use `Date newDate = Date.from(order.getUploadDateTime());` and it kinda gave the right answer, but I&#39;m not sure whether this is the correct approach.","body":"@Lae I&#39;m expecting to see the one from the database (22-03-02), but I&#39;m getting is 2022-03-01. Interestingly, I tried to use <code>Date newDate = Date.from(order.getUploadDateTime());</code> and it kinda gave the right answer, but I&#39;m not sure whether this is the correct approach."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675116210,"post_id":75279189,"comment_id":132856000,"body_markdown":"&#128073; **What *exactly* is the data type of your column?** And confirm your database engine is *Microsoft SQL Server* as the Tag would suggest.","body":"👉 <b>What <i>exactly</i> is the data type of your column?</b> And confirm your database engine is <i>Microsoft SQL Server</i> as the Tag would suggest."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675116640,"post_id":75279189,"comment_id":132856126,"body_markdown":"From what framework library is your `@Column` annotation?","body":"From what framework library is your <code>@Column</code> annotation?"}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675039280,"creation_date":1675037807,"answer_id":75279316,"question_id":75279189,"body_markdown":"Since you commented your database timezone is UTC+10:00, then what you are seeing is correct.\r\n\r\n`2022-03-02T00:00+10:00` is the same date as `2022-03-01T14:00:00Z`, Z is UTC(+0), so they both represent the same date value, just represented with different time zones.\r\n\r\nYou can verify this by:\r\n\r\n```shell\r\njshell&gt; java.time.OffsetDateTime.parse(&quot;2022-03-02T00:00+10:00&quot;).toInstant()\r\n$4 ==&gt; 2022-03-01T14:00:00Z\r\n```\r\n\r\nTo localize the UTC instant to a different zone, you can use `Instant::atZone()` or `Instant::atOffset()`.","title":"How to retrieve the date from the database in a proper way using Java?","body":"<p>Since you commented your database timezone is UTC+10:00, then what you are seeing is correct.</p>\n<p><code>2022-03-02T00:00+10:00</code> is the same date as <code>2022-03-01T14:00:00Z</code>, Z is UTC(+0), so they both represent the same date value, just represented with different time zones.</p>\n<p>You can verify this by:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jshell&gt; java.time.OffsetDateTime.parse(&quot;2022-03-02T00:00+10:00&quot;).toInstant()\n$4 ==&gt; 2022-03-01T14:00:00Z\n</code></pre>\n<p>To localize the UTC instant to a different zone, you can use <code>Instant::atZone()</code> or <code>Instant::atOffset()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1675038369,"creation_date":1675038369,"answer_id":75279361,"question_id":75279189,"body_markdown":"An `Instant` is a moment in time, without any time zone being specified.  And the `Instant` that you&#39;re actually storing is 2pm on 1 March UTC, which is the same as midnight on 2 March AEST.\r\n\r\nWhen you&#39;re looking at this value through your SQL client, the SQL client is translating it to your local time, so you&#39;re seeing midnight on 2 March.\r\n\r\nWhen you&#39;re retrieving it with your Java program, you&#39;re displaying it without specifying a time zone or time offset.  When you do that to an `Instant`, you get to see it in UTC.\r\n\r\nWhat you actually want to do is convert the `Instant` to a `LocalDateTime` before you display it - that way, you&#39;ll be able to see it in AEST, or whatever your local time zone happens to be.  The `LocalDateTime` class has a `static` method called `ofInstant`, which will do that.   You need to pass the `ZoneId` for your timezone, like this.\r\n\r\n    LocalDateTime timeInBrisbane = LocalDateTime.ofInstant(uploadDateTime, ZoneId.of(&quot;Australia/Brisbane&quot;));\r\n\r\nor even like this, to get the system default time zone.\r\n\r\n    LocalDateTime timeInDefaultZone = LocalDateTime.ofInstant(uploadDateTime, ZoneId.systemDefault());\r\n\r\n\r\n","title":"How to retrieve the date from the database in a proper way using Java?","body":"<p>An <code>Instant</code> is a moment in time, without any time zone being specified.  And the <code>Instant</code> that you're actually storing is 2pm on 1 March UTC, which is the same as midnight on 2 March AEST.</p>\n<p>When you're looking at this value through your SQL client, the SQL client is translating it to your local time, so you're seeing midnight on 2 March.</p>\n<p>When you're retrieving it with your Java program, you're displaying it without specifying a time zone or time offset.  When you do that to an <code>Instant</code>, you get to see it in UTC.</p>\n<p>What you actually want to do is convert the <code>Instant</code> to a <code>LocalDateTime</code> before you display it - that way, you'll be able to see it in AEST, or whatever your local time zone happens to be.  The <code>LocalDateTime</code> class has a <code>static</code> method called <code>ofInstant</code>, which will do that.   You need to pass the <code>ZoneId</code> for your timezone, like this.</p>\n<pre><code>LocalDateTime timeInBrisbane = LocalDateTime.ofInstant(uploadDateTime, ZoneId.of(&quot;Australia/Brisbane&quot;));\n</code></pre>\n<p>or even like this, to get the system default time zone.</p>\n<pre><code>LocalDateTime timeInDefaultZone = LocalDateTime.ofInstant(uploadDateTime, ZoneId.systemDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675116985,"creation_date":1675116985,"answer_id":75290738,"question_id":75279189,"body_markdown":"# Data type\r\n\r\nThe Tag on your Question indicates you are using *Microsoft SQL Server* as your database engine. \r\n\r\nAccording to [the doc,][1] you should be defining your  column as the data type `datetimeoffset`. That type is akin to the SQL standard type `TIMESTAMP WITH TIME ZONE` which **stores a moment**.\r\n\r\nDo *not* use the types `smalldatetime`, `datetime`, nor `datetime2`. These lack the context of a time zone or offset-from-UTC. So **these cannot represent a moment**, a specific point on the time line. \r\n\r\n&#128073; Given your code snippets using the name `uploadDateTime`, your business logic requires tracking a moment. So your table column must be of type `datetimeoffset`. \r\n\r\nYour first sentence says:\r\n\r\n&gt;I&#39;m trying to retrieve the datetime value \r\n\r\nIf you mean literally, `datetime` type in Microsoft SQL Server, you are using the wrong type for your column. This will cause you confusion and trouble.\r\n\r\n# `OffsetDateTime`\r\n\r\nWhile you neglected to mention what framework library you are using with your `@Column` annotation. So I cannot say with certainty, but I can guess that `Instant` is the wrong Java class to use here.\r\n\r\nThe [JDBC][2] specification for JDBC 4.2 and later requires [JDBC drivers][3] to support the *java.time* classes. The spec maps values of the SQL standard type `TIMESTAMP WITH TIME ZONE` to the Java class `java.time.OffsetDateTime`. The Java class `Instant` is *not* mapped at all in JDBC. \r\n\r\nAfter retrieving an `OffsetDateTime`, you can extract an `Instant` if needed:  `Instant instant = myOffsetDateTime.toInstant() ;`.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/functions/date-and-time-data-types-and-functions-transact-sql?view=sql-server-ver16#DateandTimeDataTypes\r\n  [2]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [3]: https://en.wikipedia.org/wiki/JDBC_driver","title":"How to retrieve the date from the database in a proper way using Java?","body":"<h1>Data type</h1>\n<p>The Tag on your Question indicates you are using <em>Microsoft SQL Server</em> as your database engine.</p>\n<p>According to <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/functions/date-and-time-data-types-and-functions-transact-sql?view=sql-server-ver16#DateandTimeDataTypes\" rel=\"nofollow noreferrer\">the doc,</a> you should be defining your  column as the data type <code>datetimeoffset</code>. That type is akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> which <strong>stores a moment</strong>.</p>\n<p>Do <em>not</em> use the types <code>smalldatetime</code>, <code>datetime</code>, nor <code>datetime2</code>. These lack the context of a time zone or offset-from-UTC. So <strong>these cannot represent a moment</strong>, a specific point on the time line.</p>\n<p>👉 Given your code snippets using the name <code>uploadDateTime</code>, your business logic requires tracking a moment. So your table column must be of type <code>datetimeoffset</code>.</p>\n<p>Your first sentence says:</p>\n<blockquote>\n<p>I'm trying to retrieve the datetime value</p>\n</blockquote>\n<p>If you mean literally, <code>datetime</code> type in Microsoft SQL Server, you are using the wrong type for your column. This will cause you confusion and trouble.</p>\n<h1><code>OffsetDateTime</code></h1>\n<p>While you neglected to mention what framework library you are using with your <code>@Column</code> annotation. So I cannot say with certainty, but I can guess that <code>Instant</code> is the wrong Java class to use here.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> specification for JDBC 4.2 and later requires <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC drivers</a> to support the <em>java.time</em> classes. The spec maps values of the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> to the Java class <code>java.time.OffsetDateTime</code>. The Java class <code>Instant</code> is <em>not</em> mapped at all in JDBC.</p>\n<p>After retrieving an <code>OffsetDateTime</code>, you can extract an <code>Instant</code> if needed:  <code>Instant instant = myOffsetDateTime.toInstant() ;</code>.</p>\n"}],"owner":{"account_id":3362982,"reputation":188,"user_id":2824374,"display_name":"user2824374"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1675116985,"creation_date":1675035755,"question_id":75279189,"body_markdown":"I&#39;m trying to retrieve the datetime value from my database and I have declared the upload_date_time to be Instant and this is how the value is stored in database. \r\n\r\n[![Database][1]][1]\r\n\r\nHowever, when I attempted to retrieve the value from the database it is giving me &#39;2022-03-01T14:00:00Z&#39;. \r\n    \r\nUploadOrder Table\r\n\r\n    @NotNull\r\n    @Column(name = &quot;upload_date_time&quot;, nullable = false)\r\n    private Instant uploadDateTime;\r\n\r\n    public Instant getUploadDateTime() {\r\n        return uploadDateTime;\r\n    }\r\n\r\n    public UploadOrder uploadDateTime(Instant uploadDateTime) {\r\n        this.uploadDateTime= uploadDateTime;\r\n        return this;\r\n    }\r\n\r\n    public void setUploadDateTime(Instant uploadDateTime) {\r\n        this.uploadDateTime= uploadDateTime;\r\n    }\r\n\r\n\r\nService\r\n\r\n    public PrePickOrderOverPickEmailDTO generateOverPickEmails() {\r\n    log.debug(&quot;Request to retrieve Upload data : {}&quot;);\r\n    List&lt;UploadOrder&gt; uploadOrders = uploadPickRepository.findAllByEmailSent(false);\r\n    String data = &quot;&quot;;\r\n    for (UploadOrder order : uploadOrders) {\r\n            data = data +\r\n            &quot;Upload Date: &quot; + order.getUploadDateTime() +&quot;\\n&quot; +\r\n             // do others\r\n     }\r\n    }\r\n\r\nCurious to know what am I doing wrong here. Any help would be great. Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/65LEg.png","title":"How to retrieve the date from the database in a proper way using Java?","body":"<p>I'm trying to retrieve the datetime value from my database and I have declared the upload_date_time to be Instant and this is how the value is stored in database.</p>\n<p><a href=\"https://i.stack.imgur.com/65LEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/65LEg.png\" alt=\"Database\" /></a></p>\n<p>However, when I attempted to retrieve the value from the database it is giving me '2022-03-01T14:00:00Z'.</p>\n<p>UploadOrder Table</p>\n<pre><code>@NotNull\n@Column(name = &quot;upload_date_time&quot;, nullable = false)\nprivate Instant uploadDateTime;\n\npublic Instant getUploadDateTime() {\n    return uploadDateTime;\n}\n\npublic UploadOrder uploadDateTime(Instant uploadDateTime) {\n    this.uploadDateTime= uploadDateTime;\n    return this;\n}\n\npublic void setUploadDateTime(Instant uploadDateTime) {\n    this.uploadDateTime= uploadDateTime;\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public PrePickOrderOverPickEmailDTO generateOverPickEmails() {\nlog.debug(&quot;Request to retrieve Upload data : {}&quot;);\nList&lt;UploadOrder&gt; uploadOrders = uploadPickRepository.findAllByEmailSent(false);\nString data = &quot;&quot;;\nfor (UploadOrder order : uploadOrders) {\n        data = data +\n        &quot;Upload Date: &quot; + order.getUploadDateTime() +&quot;\\n&quot; +\n         // do others\n }\n}\n</code></pre>\n<p>Curious to know what am I doing wrong here. Any help would be great. Thanks</p>\n"},{"tags":["java","classpath","classloader"],"answers":[{"tags":[],"owner":{"account_id":5947,"reputation":54623,"user_id":9815,"accept_rate":100,"display_name":"Daniel Spiewak"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1224708397,"creation_date":1224708397,"answer_id":227492,"question_id":227486,"body_markdown":"Assuming that you&#39;re working with a class named `MyClass`, the following should work:\r\n\r\n    MyClass.class.getClassLoader();\r\n\r\nWhether or not you can get the on-disk location of the .class file is dependent on the classloader itself.  For example, if you&#39;re using something like BCEL, a certain class may not even have an on-disk representation.","title":"Find where java class is loaded from","body":"<p>Assuming that you're working with a class named <code>MyClass</code>, the following should work:</p>\n\n<pre><code>MyClass.class.getClassLoader();\n</code></pre>\n\n<p>Whether or not you can get the on-disk location of the .class file is dependent on the classloader itself.  For example, if you're using something like BCEL, a certain class may not even have an on-disk representation.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1224708558,"creation_date":1224708558,"answer_id":227498,"question_id":227486,"body_markdown":"Take a look at this similar question.\r\n&lt;a href=&quot;https://stackoverflow.com/questions/135971/is-there-a-tool-to-discover-if-the-same-class-exists-in-multiple-jars-in-the-cl#136292&quot;&gt; Tool to discover same class..&lt;/a&gt;\r\n\r\n\r\nI think the most relevant obstacle is if you have a custom classloader ( loading  from a db or ldap ) \r\n\r\n\r\n","title":"Find where java class is loaded from","body":"<p>Take a look at this similar question.\n<a href=\"https://stackoverflow.com/questions/135971/is-there-a-tool-to-discover-if-the-same-class-exists-in-multiple-jars-in-the-cl#136292\"> Tool to discover same class..</a></p>\n\n<p>I think the most relevant obstacle is if you have a custom classloader ( loading  from a db or ldap ) </p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":211,"is_accepted":true,"score":209,"last_activity_date":1224710109,"creation_date":1224710109,"answer_id":227569,"question_id":227486,"body_markdown":"Here&#39;s an example:\r\n\r\n    package foo;\r\n    \r\n    public class Test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            ClassLoader loader = Test.class.getClassLoader();\r\n            System.out.println(loader.getResource(&quot;foo/Test.class&quot;));\r\n        }\r\n    }\r\n\r\nThis printed out:\r\n\r\n    file:/C:/Users/Jon/Test/foo/Test.class\r\n","title":"Find where java class is loaded from","body":"<p>Here's an example:</p>\n\n<pre><code>package foo;\n\npublic class Test\n{\n    public static void main(String[] args)\n    {\n        ClassLoader loader = Test.class.getClassLoader();\n        System.out.println(loader.getResource(\"foo/Test.class\"));\n    }\n}\n</code></pre>\n\n<p>This printed out:</p>\n\n<pre><code>file:/C:/Users/Jon/Test/foo/Test.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14727,"reputation":1695,"user_id":30547,"display_name":"Dave DiFranco"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1305665574,"creation_date":1224711599,"answer_id":227640,"question_id":227486,"body_markdown":"    getClass().getProtectionDomain().getCodeSource().getLocation();\r\n\r\n","title":"Find where java class is loaded from","body":"<pre><code>getClass().getProtectionDomain().getCodeSource().getLocation();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10560,"reputation":2632,"user_id":20022,"display_name":"Jevgeni Kabanov"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1343765614,"creation_date":1224712438,"answer_id":227677,"question_id":227486,"body_markdown":"This is what we use:\r\n\r\n    public static String getClassResource(Class&lt;?&gt; klass) {\r\n      return klass.getClassLoader().getResource(\r\n         klass.getName().replace(&#39;.&#39;, &#39;/&#39;) + &quot;.class&quot;).toString();\r\n    }\r\n\r\nThis will work depending on the ClassLoader implementation: \r\n`getClass().getProtectionDomain().getCodeSource().getLocation()`\r\n\r\n","title":"Find where java class is loaded from","body":"<p>This is what we use:</p>\n\n<pre><code>public static String getClassResource(Class&lt;?&gt; klass) {\n  return klass.getClassLoader().getResource(\n     klass.getName().replace('.', '/') + \".class\").toString();\n}\n</code></pre>\n\n<p>This will work depending on the ClassLoader implementation: \n<code>getClass().getProtectionDomain().getCodeSource().getLocation()</code></p>\n"},{"tags":[],"owner":{"account_id":10516,"reputation":1664,"user_id":19907,"display_name":"jiriki"},"down_vote_count":1,"up_vote_count":111,"is_accepted":false,"score":110,"last_activity_date":1486377783,"creation_date":1224746161,"answer_id":228823,"question_id":227486,"body_markdown":"Another way to find out where a class is loaded from (without manipulating the source) is to start the Java VM with the option: `-verbose:class`\r\n","title":"Find where java class is loaded from","body":"<p>Another way to find out where a class is loaded from (without manipulating the source) is to start the Java VM with the option: <code>-verbose:class</code></p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1401187750,"creation_date":1382357420,"answer_id":19494116,"question_id":227486,"body_markdown":"Jon&#39;s version fails when the object&#39;s `ClassLoader` is registered as `null` which seems to imply that it was loaded by the Boot `ClassLoader`.\r\n\r\nThis method deals with that issue:\r\n\r\n    public static String whereFrom(Object o) {\r\n      if ( o == null ) {\r\n        return null;\r\n      }\r\n      Class&lt;?&gt; c = o.getClass();\r\n      ClassLoader loader = c.getClassLoader();\r\n      if ( loader == null ) {\r\n        // Try the bootstrap classloader - obtained from the ultimate parent of the System Class Loader.\r\n        loader = ClassLoader.getSystemClassLoader();\r\n        while ( loader != null &amp;&amp; loader.getParent() != null ) {\r\n          loader = loader.getParent();\r\n        }\r\n      }\r\n      if (loader != null) {\r\n        String name = c.getCanonicalName();\r\n        URL resource = loader.getResource(name.replace(&quot;.&quot;, &quot;/&quot;) + &quot;.class&quot;);\r\n        if ( resource != null ) {\r\n          return resource.toString();\r\n        }\r\n      }\r\n      return &quot;Unknown&quot;;\r\n    }\r\n","title":"Find where java class is loaded from","body":"<p>Jon's version fails when the object's <code>ClassLoader</code> is registered as <code>null</code> which seems to imply that it was loaded by the Boot <code>ClassLoader</code>.</p>\n\n<p>This method deals with that issue:</p>\n\n<pre><code>public static String whereFrom(Object o) {\n  if ( o == null ) {\n    return null;\n  }\n  Class&lt;?&gt; c = o.getClass();\n  ClassLoader loader = c.getClassLoader();\n  if ( loader == null ) {\n    // Try the bootstrap classloader - obtained from the ultimate parent of the System Class Loader.\n    loader = ClassLoader.getSystemClassLoader();\n    while ( loader != null &amp;&amp; loader.getParent() != null ) {\n      loader = loader.getParent();\n    }\n  }\n  if (loader != null) {\n    String name = c.getCanonicalName();\n    URL resource = loader.getResource(name.replace(\".\", \"/\") + \".class\");\n    if ( resource != null ) {\n      return resource.toString();\n    }\n  }\n  return \"Unknown\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6186065,"reputation":143,"user_id":4820142,"display_name":"ecerer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462446895,"creation_date":1429717771,"answer_id":29802725,"question_id":227486,"body_markdown":"Edit just 1st line: `Main`.class\r\n\r\n    Class&lt;?&gt; c = Main.class;\r\n\tString path = c.getResource(c.getSimpleName() + &quot;.class&quot;).getPath().replace(c.getSimpleName() + &quot;.class&quot;, &quot;&quot;);\r\n\r\n    System.out.println(path);\r\n\r\n\t\t\r\n\t\t\r\n\r\nOutput: \r\n\r\n    /C:/Users/Test/bin/\r\n\r\nMaybe bad style but works fine!\r\n\r\n","title":"Find where java class is loaded from","body":"<p>Edit just 1st line: <code>Main</code>.class</p>\n\n<pre><code>Class&lt;?&gt; c = Main.class;\nString path = c.getResource(c.getSimpleName() + \".class\").getPath().replace(c.getSimpleName() + \".class\", \"\");\n\nSystem.out.println(path);\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>/C:/Users/Test/bin/\n</code></pre>\n\n<p>Maybe bad style but works fine!</p>\n"},{"tags":[],"owner":{"account_id":125768,"reputation":16988,"user_id":321772,"accept_rate":81,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487116136,"creation_date":1487116136,"answer_id":42238344,"question_id":227486,"body_markdown":"This approach works for both files and jars:\r\n\r\n\tClass clazz = Class.forName(nameOfClassYouWant);\r\n\r\n\tURL resourceUrl = clazz.getResource(&quot;/&quot; + clazz.getCanonicalName().replace(&quot;.&quot;, &quot;/&quot;) + &quot;.class&quot;);\r\n\tInputStream classStream = resourceUrl.openStream(); // load the bytecode, if you wish","title":"Find where java class is loaded from","body":"<p>This approach works for both files and jars:</p>\n\n<pre><code>Class clazz = Class.forName(nameOfClassYouWant);\n\nURL resourceUrl = clazz.getResource(\"/\" + clazz.getCanonicalName().replace(\".\", \"/\") + \".class\");\nInputStream classStream = resourceUrl.openStream(); // load the bytecode, if you wish\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8081696,"reputation":79,"user_id":6090659,"display_name":"Hongyang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508528765,"creation_date":1508528765,"answer_id":46856293,"question_id":227486,"body_markdown":"Typically, we don&#39;t what to use hardcoding. We can get className first, and then use ClassLoader to get the class URL.\r\n\r\n\r\n            String className = MyClass.class.getName().replace(&quot;.&quot;, &quot;/&quot;)+&quot;.class&quot;;\r\n            URL classUrl  = MyClass.class.getClassLoader().getResource(className);\r\n            String fullPath = classUrl==null ? null : classUrl.getPath();\r\n","title":"Find where java class is loaded from","body":"<p>Typically, we don't what to use hardcoding. We can get className first, and then use ClassLoader to get the class URL.</p>\n\n<pre><code>        String className = MyClass.class.getName().replace(\".\", \"/\")+\".class\";\n        URL classUrl  = MyClass.class.getClassLoader().getResource(className);\n        String fullPath = classUrl==null ? null : classUrl.getPath();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219455,"reputation":704,"user_id":476372,"display_name":"seduardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581107245,"creation_date":1581107245,"answer_id":60120595,"question_id":227486,"body_markdown":"Simple way:\r\n\r\n&gt; System.out.println(java.lang.String.class.getResource(String.class.getSimpleName()+&quot;.class&quot;));\r\n\r\nOut Example:\r\n\r\n&gt; jar:file:/D:/Java/jdk1.8/jre/lib/rt.jar!/java/lang/String.class\r\n\r\nOr\r\n&gt; String obj = &quot;simple test&quot;;\r\n&gt; System.out.println(obj.getClass().getResource(obj.getClass().getSimpleName()+&quot;.class&quot;));\r\n\r\nOut Example:\r\n&gt; jar:file:/D:/Java/jdk1.8/jre/lib/rt.jar!/java/lang/String.class\r\n","title":"Find where java class is loaded from","body":"<p>Simple way:</p>\n\n<blockquote>\n  <p>System.out.println(java.lang.String.class.getResource(String.class.getSimpleName()+\".class\"));</p>\n</blockquote>\n\n<p>Out Example:</p>\n\n<blockquote>\n  <p>jar:file:/D:/Java/jdk1.8/jre/lib/rt.jar!/java/lang/String.class</p>\n</blockquote>\n\n<p>Or</p>\n\n<blockquote>\n  <p>String obj = \"simple test\";\n  System.out.println(obj.getClass().getResource(obj.getClass().getSimpleName()+\".class\"));</p>\n</blockquote>\n\n<p>Out Example:</p>\n\n<blockquote>\n  <p>jar:file:/D:/Java/jdk1.8/jre/lib/rt.jar!/java/lang/String.class</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675116257,"creation_date":1675116257,"answer_id":75290645,"question_id":227486,"body_markdown":"## for unit test\r\n\r\nIf you need the location of a class called **Coverage.java** located in package **com.acme.api**\r\n\r\n```java\r\nClass clazz = Coverage.class;\r\nClassLoader loader = clazz.getClassLoader();    \r\nString coverageClazzCompiledAbsoluteTargetLocation = loader\r\n.getResource(clazz.getCanonicalName().replace(&quot;.&quot;, File.separator) + &quot;.class&quot;)\r\n.getFile().replace(File.separatorChar + &quot;$&quot;, &quot;&quot;);\r\nSystem.out.println(coverageClazzCompiledAbsoluteTargetLocation);\r\n```\r\n\r\nResult\r\n\r\n```\r\n/home/Joe/repositories/acme-api/target/test-classes/com/acme/api/Coverage.class\r\n```\r\n\r\n**Note:** Since java needs compilation, you cannot obtain the .java location (src/main/java/...). You need to compile .java into .class, so the location if you are using maven, will be inside of **target** folder\r\n\r\n## at runtime: JAR\r\n\r\nIf you build your app as jar, the location of class will be the jar location plus clazz package\r\n\r\n## at runtime: WAR\r\n\r\nIf you build your app as war, the location of class will be the war location (/bin folder in tomcat) plus clazz package","title":"Find where java class is loaded from","body":"<h2>for unit test</h2>\n<p>If you need the location of a class called <strong>Coverage.java</strong> located in package <strong>com.acme.api</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Class clazz = Coverage.class;\nClassLoader loader = clazz.getClassLoader();    \nString coverageClazzCompiledAbsoluteTargetLocation = loader\n.getResource(clazz.getCanonicalName().replace(&quot;.&quot;, File.separator) + &quot;.class&quot;)\n.getFile().replace(File.separatorChar + &quot;$&quot;, &quot;&quot;);\nSystem.out.println(coverageClazzCompiledAbsoluteTargetLocation);\n</code></pre>\n<p>Result</p>\n<pre><code>/home/Joe/repositories/acme-api/target/test-classes/com/acme/api/Coverage.class\n</code></pre>\n<p><strong>Note:</strong> Since java needs compilation, you cannot obtain the .java location (src/main/java/...). You need to compile .java into .class, so the location if you are using maven, will be inside of <strong>target</strong> folder</p>\n<h2>at runtime: JAR</h2>\n<p>If you build your app as jar, the location of class will be the jar location plus clazz package</p>\n<h2>at runtime: WAR</h2>\n<p>If you build your app as war, the location of class will be the war location (/bin folder in tomcat) plus clazz package</p>\n"}],"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203977,"favorite_count":0,"down_vote_count":1,"up_vote_count":216,"accepted_answer_id":227569,"answer_count":12,"score":215,"last_activity_date":1675116257,"creation_date":1224708281,"question_id":227486,"body_markdown":"Does anyone know how to programmaticly find out where the java classloader actually loads the class from?  \r\n\r\nI often work on large projects where the classpath gets very long and manual searching is not really an option.  I recently had a [problem][1] where the classloader was loading an incorrect version of a class because it was on the classpath in two different places.\r\n\r\nSo how can I get the classloader to tell me where on disk the actual class file is coming from?\r\n\r\n***Edit:*** What about if the classloader actually fails to load the class due to a version mismatch (or something else),  is there anyway we could find out what file its trying to read before it reads it?\r\n\r\n  [1]: https://stackoverflow.com/questions/226280/eclipse-class-version-bug &quot;problem&quot;","title":"Find where java class is loaded from","body":"<p>Does anyone know how to programmaticly find out where the java classloader actually loads the class from?  </p>\n\n<p>I often work on large projects where the classpath gets very long and manual searching is not really an option.  I recently had a <a href=\"https://stackoverflow.com/questions/226280/eclipse-class-version-bug\" title=\"problem\">problem</a> where the classloader was loading an incorrect version of a class because it was on the classpath in two different places.</p>\n\n<p>So how can I get the classloader to tell me where on disk the actual class file is coming from?</p>\n\n<p><strong><em>Edit:</em></strong> What about if the classloader actually fails to load the class due to a version mismatch (or something else),  is there anyway we could find out what file its trying to read before it reads it?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1675116215,"post_id":75290618,"comment_id":132856002,"body_markdown":"Mockito is very precise...if you expect specifically the string &quot;consultaSerie&quot; to be passed in when `getParamPageFlowScope` is called, and you&#39;re getting back `null` from your mock, this *usually* indicates that this string is not being called.  So...you&#39;re going to want to trace back in your code where it&#39;s being called like this.  Or, switch to `anyString()`.","body":"Mockito is very precise...if you expect specifically the string &quot;consultaSerie&quot; to be passed in when <code>getParamPageFlowScope</code> is called, and you&#39;re getting back <code>null</code> from your mock, this <i>usually</i> indicates that this string is not being called.  So...you&#39;re going to want to trace back in your code where it&#39;s being called like this.  Or, switch to <code>anyString()</code>."},{"owner":{"account_id":27661154,"reputation":1,"user_id":21113968,"display_name":"Darkazura Barquero"},"score":0,"creation_date":1675116534,"post_id":75290618,"comment_id":132856100,"body_markdown":"i used anyString() and too return null, the problem getInstance() is a static method and mockito mark as warning","body":"i used anyString() and too return null, the problem getInstance() is a static method and mockito mark as warning"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675119963,"post_id":75290618,"comment_id":132856791,"body_markdown":"Does this answer your question? [Mocking static methods with Mockito](https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\">Mocking static methods with Mockito</a>"}],"owner":{"account_id":27661154,"reputation":1,"user_id":21113968,"display_name":"Darkazura Barquero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675116236,"creation_date":1675116076,"question_id":75290618,"body_markdown":"I have problems when calling the static method of the class ManagerPageFlowScope.getInstance().getParamPageFlowScope(any(), the one that throws an error is the getInstance(), and it always returns null.  \r\n        \r\n\r\n    @Mock\r\n    ManagerPageFlowScope mpfs;\r\n\r\n    @Test\r\n    public void mostrarSeriesTest() {\r\n        ArrayList&lt;Serie&gt; list = new ArrayList&lt;Serie&gt;();\r\n        Serie s = new Serie(&quot;Test01&quot;, &quot;N&quot;);\r\n        Long l = Long.parseLong(&quot;59960000&quot;);\r\n        Etiqueta e = new Etiqueta(l);\r\n        list.add(s);\r\n        when(mpfs.getInstance().getParamPageFlowScope(&quot;consultaSerie&quot;)).thenReturn(e);\r\n","title":"Problems with mockito netbeans call static method","body":"<p>I have problems when calling the static method of the class ManagerPageFlowScope.getInstance().getParamPageFlowScope(any(), the one that throws an error is the getInstance(), and it always returns null.</p>\n<pre><code>@Mock\nManagerPageFlowScope mpfs;\n\n@Test\npublic void mostrarSeriesTest() {\n    ArrayList&lt;Serie&gt; list = new ArrayList&lt;Serie&gt;();\n    Serie s = new Serie(&quot;Test01&quot;, &quot;N&quot;);\n    Long l = Long.parseLong(&quot;59960000&quot;);\n    Etiqueta e = new Etiqueta(l);\n    list.add(s);\n    when(mpfs.getInstance().getParamPageFlowScope(&quot;consultaSerie&quot;)).thenReturn(e);\n</code></pre>\n"},{"tags":["java","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675115702,"creation_date":1675115702,"answer_id":75290566,"question_id":75280888,"body_markdown":"Welcome to Stack Overflow, a simple `xmlMapper` mapper is enough to deserialize your xml; you have to use the [`JacksonXmlText`](https://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.14/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html) annotation to deserialize the `13` value from the `&lt;PhoneDetails&gt; &lt;Iphone os=&quot;ios&quot;&gt;13&lt;/Iphone&gt; &lt;/PhoneDetails&gt;` xml file into your String `iphone` property:\r\n\r\n~~~\r\n@Data\r\npublic class PhoneDetails { \r\n   \r\n    @JacksonXmlProperty(localName = &quot;Iphone&quot;) \r\n    private Iphone iphoneDetails; \r\n}\r\n\r\n@Data\r\npublic class Iphone {\r\n\r\n    private String os;\r\n    @JacksonXmlText\r\n    private String iphone;\r\n}\r\n\r\n//Input xmlfile:\r\n//&lt;PhoneDetails&gt; &lt;Iphone os=&quot;ios&quot;&gt;13&lt;/Iphone&gt; &lt;/PhoneDetails&gt;\r\nXmlMapper xmlMapper = new XmlMapper();\r\nPhoneDetails phoneDetails = xmlMapper.readValue(xml, PhoneDetails.class);\r\n//ok, it prints PhoneDetails(iphoneDetails=Iphone(os=ios, iphone=13))\r\nSystem.out.print(phoneDetails);\r\n~~~","title":"Unable to deserialize non formatted child node in XML with Jackson","body":"<p>Welcome to Stack Overflow, a simple <code>xmlMapper</code> mapper is enough to deserialize your xml; you have to use the <a href=\"https://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.14/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html\" rel=\"nofollow noreferrer\"><code>JacksonXmlText</code></a> annotation to deserialize the <code>13</code> value from the <code>&lt;PhoneDetails&gt; &lt;Iphone os=&quot;ios&quot;&gt;13&lt;/Iphone&gt; &lt;/PhoneDetails&gt;</code> xml file into your String <code>iphone</code> property:</p>\n<pre><code>@Data\npublic class PhoneDetails { \n   \n    @JacksonXmlProperty(localName = &quot;Iphone&quot;) \n    private Iphone iphoneDetails; \n}\n\n@Data\npublic class Iphone {\n\n    private String os;\n    @JacksonXmlText\n    private String iphone;\n}\n\n//Input xmlfile:\n//&lt;PhoneDetails&gt; &lt;Iphone os=&quot;ios&quot;&gt;13&lt;/Iphone&gt; &lt;/PhoneDetails&gt;\nXmlMapper xmlMapper = new XmlMapper();\nPhoneDetails phoneDetails = xmlMapper.readValue(xml, PhoneDetails.class);\n//ok, it prints PhoneDetails(iphoneDetails=Iphone(os=ios, iphone=13))\nSystem.out.print(phoneDetails);\n</code></pre>\n"}],"owner":{"account_id":27646850,"reputation":11,"user_id":21102549,"display_name":"kailash salunke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675115702,"creation_date":1675060194,"question_id":75280888,"body_markdown":"I am converting Xml to Pojo object with help of jackson, But due to different format of xml it&#39;s not converting all fields to Pojo, Please follow for xml structure and mapping Pojo,\r\n\r\nHere I want to deserialize 13 value of iphone.\r\n\r\nXML- `&lt;PhoneDetails&gt; &lt;Iphone os=&quot;ios&quot;&gt;13&lt;/Iphone&gt; &lt;/PhoneDetails&gt;`\r\n\r\nPOJO \r\n\r\n\t@lombok.Data \r\n\tpublic class PhoneDetails { \r\n\t\t@JacksonXmlProperty(localName = &quot;Iphone&quot;) \r\n\t\tprivate Iphone iphoneDetails; \r\n\t}\r\n\r\n\t@lombok.Data \r\n\tpublic class Iphone { \r\n\t\tprivate String os; \r\n\t\tprivate String iphone; \r\n\t}\r\n\r\nmain method \r\n\r\n\tpublic class Demo { \r\n\t\tpublic static void main(String[] args) throws Exception { \r\n\t\t\tXmlMapper xmlMapper = new XmlMapper(); \t\t\r\n\t\t\txmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); \r\n\t\t\txmlMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n\t\t\txmlMapper.configure(MapperFeature.USE_WRAPPER_NAME_AS_PROPERTY_NAME, false); \r\n\t\t\tFile availsContract = ResourceUtils.getFile(&quot;classpath:to_deserialize.xml&quot;);\r\n\r\n\t\t\tString content = new String(Files.readAllBytes(availsContract.toPath()));\r\n\t\t\tPhoneDetails productDetail = xmlMapper.readValue(content, PhoneDetails.class);\r\n\t\t\tSystem.out.println(&quot;Product Details :&quot; + productDetail);\r\n\t\t}\r\n\r\n\t}\r\n\r\nPlease reply with solutions.","title":"Unable to deserialize non formatted child node in XML with Jackson","body":"<p>I am converting Xml to Pojo object with help of jackson, But due to different format of xml it's not converting all fields to Pojo, Please follow for xml structure and mapping Pojo,</p>\n<p>Here I want to deserialize 13 value of iphone.</p>\n<p>XML- <code>&lt;PhoneDetails&gt; &lt;Iphone os=&quot;ios&quot;&gt;13&lt;/Iphone&gt; &lt;/PhoneDetails&gt;</code></p>\n<p>POJO</p>\n<pre><code>@lombok.Data \npublic class PhoneDetails { \n    @JacksonXmlProperty(localName = &quot;Iphone&quot;) \n    private Iphone iphoneDetails; \n}\n\n@lombok.Data \npublic class Iphone { \n    private String os; \n    private String iphone; \n}\n</code></pre>\n<p>main method</p>\n<pre><code>public class Demo { \n    public static void main(String[] args) throws Exception { \n        XmlMapper xmlMapper = new XmlMapper();      \n        xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); \n        xmlMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n        xmlMapper.configure(MapperFeature.USE_WRAPPER_NAME_AS_PROPERTY_NAME, false); \n        File availsContract = ResourceUtils.getFile(&quot;classpath:to_deserialize.xml&quot;);\n\n        String content = new String(Files.readAllBytes(availsContract.toPath()));\n        PhoneDetails productDetail = xmlMapper.readValue(content, PhoneDetails.class);\n        System.out.println(&quot;Product Details :&quot; + productDetail);\n    }\n\n}\n</code></pre>\n<p>Please reply with solutions.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675115678,"creation_date":1675115678,"question_id":75290563,"body_markdown":"I&#39;m writing Junit tests and I&#39;m getting only partial coverage. I&#39;d like to get a better coverage percentage with the following method.\r\n\r\n    @Getter\r\n    @Setter\r\n    private String sessionId = &quot;&quot;;\r\n\r\n    @Service\r\n    public class Service {\r\n    \r\n        private final WebClient webClient;\r\n\r\n    public Flux&lt;String&gt; getIdsList(String sessionId, String query) throws RuntimeException {\r\n\r\n        LinkedMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n    map.add(&quot;q&quot;, query);\r\n    logger.info(&quot;Retrieved ID list.&quot;);\r\n\r\n    return webClient\r\n            .post()\r\n            .uri(&quot;/query&quot;)\r\n            .header(&quot;Authorization&quot;, sessionId)\r\n            .body(BodyInserters.fromMultipartData(map))\r\n            .retrieve()\r\n            .bodyToMono(ProductListResponse.class)\r\n            .doOnSuccess(this::checkVaultResponseErrors)\r\n            .flatMapIterable(res -&gt; {\r\n                List&lt;String&gt; idList = new ArrayList&lt;&gt;();\r\n\r\n                res.data.forEach(id -&gt; Objects.requireNonNull(idList).add(id.id));\r\n\r\n                if (idList.isEmpty())\r\n                    logger.info(&quot;No new products for update or insert found.&quot;);\r\n                else\r\n                    logger.info(String.format(&quot;Found %s new / updated products.&quot;, String.valueOf(idList.size())));\r\n\r\n                return idList;\r\n            })\r\n            .doOnError(throwable -&gt; {\r\n                String warnMessage = &quot;Unable to get products ids: &quot; + throwable.getMessage();\r\n                logger.warn(warnMessage);\r\n            })\r\n            .delayElements(Duration.ofMillis(420));\r\n    }\r\n\r\nHere&#39;s a ProductListResponse class\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ProductListResponse extends VaultResponse {\r\n    \r\n        @JsonProperty(&quot;data&quot;)\r\n        public List&lt;ProductIDs&gt; data;\r\n    \r\n        public static class ProductIDs {\r\n            @JsonProperty(&quot;id&quot;)\r\n            public String id;\r\n        }\r\n    }\r\n\r\nVaultResponse class looks like this:\r\n\r\n    @Getter\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class VaultResponse {\r\n        @JsonProperty(&quot;responseStatus&quot;)\r\n        public ResponseStatus responseStatus;\r\n    \r\n        @JsonProperty(&quot;errors&quot;)\r\n        public List&lt;Error&gt; errors;\r\n    }\r\n\r\nHere&#39;s my test.\r\n\r\n    @Test\r\n    void should_get_ids_list() {\r\n\r\n    String body = &quot;{ \\&quot;key\\&quot; : \\&quot;value\\&quot;}&quot;;\r\n    var uriMock = Mockito.mock(WebClient.RequestHeadersUriSpec.class);\r\n    var headersSpecMock = Mockito.mock(WebClient.RequestHeadersSpec.class);\r\n    var responseSpecMock = Mockito.mock(WebClient.ResponseSpec.class);\r\n\r\n    webClient = WebClient.builder()\r\n            .exchangeFunction(clientRequest -&gt;\r\n                    Mono.just(ClientResponse.create(HttpStatus.OK)\r\n                            .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                            .body(body)\r\n                            .build())\r\n            ).build();\r\n    when(uriMock.uri(ArgumentMatchers.&lt;String&gt;notNull())).thenReturn(headersSpecMock);\r\n    when(headersSpecMock.header(notNull(), notNull())).thenReturn(headersSpecMock);\r\n    when(headersSpecMock.retrieve()).thenReturn(responseSpecMock);\r\n    when(responseSpecMock.bodyToMono(ArgumentMatchers.&lt;Class&lt;String&gt;&gt;notNull()))\r\n            .thenReturn(Mono.just(body));\r\n\r\nI&#39;m getting only partial coverage, and I was unable to get into the `.flatMapIterable` part of the tested method. Does anyone have an idea how I can improve my test?\r\n\r\n","title":"How to get better coverage in Junit test with two arguments","body":"<p>I'm writing Junit tests and I'm getting only partial coverage. I'd like to get a better coverage percentage with the following method.</p>\n<pre><code>@Getter\n@Setter\nprivate String sessionId = &quot;&quot;;\n\n@Service\npublic class Service {\n\n    private final WebClient webClient;\n\npublic Flux&lt;String&gt; getIdsList(String sessionId, String query) throws RuntimeException {\n\n    LinkedMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\nmap.add(&quot;q&quot;, query);\nlogger.info(&quot;Retrieved ID list.&quot;);\n\nreturn webClient\n        .post()\n        .uri(&quot;/query&quot;)\n        .header(&quot;Authorization&quot;, sessionId)\n        .body(BodyInserters.fromMultipartData(map))\n        .retrieve()\n        .bodyToMono(ProductListResponse.class)\n        .doOnSuccess(this::checkVaultResponseErrors)\n        .flatMapIterable(res -&gt; {\n            List&lt;String&gt; idList = new ArrayList&lt;&gt;();\n\n            res.data.forEach(id -&gt; Objects.requireNonNull(idList).add(id.id));\n\n            if (idList.isEmpty())\n                logger.info(&quot;No new products for update or insert found.&quot;);\n            else\n                logger.info(String.format(&quot;Found %s new / updated products.&quot;, String.valueOf(idList.size())));\n\n            return idList;\n        })\n        .doOnError(throwable -&gt; {\n            String warnMessage = &quot;Unable to get products ids: &quot; + throwable.getMessage();\n            logger.warn(warnMessage);\n        })\n        .delayElements(Duration.ofMillis(420));\n}\n</code></pre>\n<p>Here's a ProductListResponse class</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ProductListResponse extends VaultResponse {\n\n    @JsonProperty(&quot;data&quot;)\n    public List&lt;ProductIDs&gt; data;\n\n    public static class ProductIDs {\n        @JsonProperty(&quot;id&quot;)\n        public String id;\n    }\n}\n</code></pre>\n<p>VaultResponse class looks like this:</p>\n<pre><code>@Getter\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class VaultResponse {\n    @JsonProperty(&quot;responseStatus&quot;)\n    public ResponseStatus responseStatus;\n\n    @JsonProperty(&quot;errors&quot;)\n    public List&lt;Error&gt; errors;\n}\n</code></pre>\n<p>Here's my test.</p>\n<pre><code>@Test\nvoid should_get_ids_list() {\n\nString body = &quot;{ \\&quot;key\\&quot; : \\&quot;value\\&quot;}&quot;;\nvar uriMock = Mockito.mock(WebClient.RequestHeadersUriSpec.class);\nvar headersSpecMock = Mockito.mock(WebClient.RequestHeadersSpec.class);\nvar responseSpecMock = Mockito.mock(WebClient.ResponseSpec.class);\n\nwebClient = WebClient.builder()\n        .exchangeFunction(clientRequest -&gt;\n                Mono.just(ClientResponse.create(HttpStatus.OK)\n                        .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                        .body(body)\n                        .build())\n        ).build();\nwhen(uriMock.uri(ArgumentMatchers.&lt;String&gt;notNull())).thenReturn(headersSpecMock);\nwhen(headersSpecMock.header(notNull(), notNull())).thenReturn(headersSpecMock);\nwhen(headersSpecMock.retrieve()).thenReturn(responseSpecMock);\nwhen(responseSpecMock.bodyToMono(ArgumentMatchers.&lt;Class&lt;String&gt;&gt;notNull()))\n        .thenReturn(Mono.just(body));\n</code></pre>\n<p>I'm getting only partial coverage, and I was unable to get into the <code>.flatMapIterable</code> part of the tested method. Does anyone have an idea how I can improve my test?</p>\n"},{"tags":["java","url-rewriting","tuckey-urlrewrite-filter"],"answers":[{"tags":[],"owner":{"account_id":1043161,"reputation":568,"user_id":1048717,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675115560,"creation_date":1675115560,"answer_id":75290548,"question_id":75288053,"body_markdown":"This can not be done using UrlRewriteFilter.  You would need to use a reverse proxy of some sort.  ","title":"Rewrite to different context using tuckey urlRewrite","body":"<p>This can not be done using UrlRewriteFilter.  You would need to use a reverse proxy of some sort.</p>\n"}],"owner":{"account_id":85788,"reputation":1112,"user_id":238968,"accept_rate":73,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675115560,"creation_date":1675099848,"question_id":75288053,"body_markdown":"We have a web application which runs on root(/) context and we have the content provider which runs on different context (/BK/). We need to map the request from the content provide https://provider.com/BK/ to https://myapp.com/\r\n\r\nWe don&#39;t want the client URL to be updated with this. It&#39;s basically a rewrite rather than redirect.\r\n\r\nHow can I achieve this using tuckey urlrewrite rule? If it can&#39;t be done with urlrewrite than can you suggest any other way?","title":"Rewrite to different context using tuckey urlRewrite","body":"<p>We have a web application which runs on root(/) context and we have the content provider which runs on different context (/BK/). We need to map the request from the content provide <a href=\"https://provider.com/BK/\" rel=\"nofollow noreferrer\">https://provider.com/BK/</a> to <a href=\"https://myapp.com/\" rel=\"nofollow noreferrer\">https://myapp.com/</a></p>\n<p>We don't want the client URL to be updated with this. It's basically a rewrite rather than redirect.</p>\n<p>How can I achieve this using tuckey urlrewrite rule? If it can't be done with urlrewrite than can you suggest any other way?</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1675114267,"post_id":75289856,"comment_id":132855485,"body_markdown":"how do you inject a `UserMapper` instance?","body":"how do you inject a <code>UserMapper</code> instance?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1675114976,"post_id":75289856,"comment_id":132855681,"body_markdown":"@Sharon Ben Asher I edited the question adding the ```@Service``` class to show that.","body":"@Sharon Ben Asher I edited the question adding the <code>@Service</code> class to show that."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675113306,"creation_date":1675113306,"answer_id":75290234,"question_id":75289856,"body_markdown":"Try using `spring` instead of `Spring`. [The documentation][1] does not have an upper case. Even better: add the config to your pom.xml, then you don&#39;t have to specify the `componentModel`for every mapper:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\r\n    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n        &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;!-- other annotation processors --&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#configuration-options","title":"Mapstruct - Field required a bean of type that could not be found","body":"<p>Try using <code>spring</code> instead of <code>Spring</code>. <a href=\"https://mapstruct.org/documentation/stable/reference/html/#configuration-options\" rel=\"nofollow noreferrer\">The documentation</a> does not have an upper case. Even better: add the config to your pom.xml, then you don't have to specify the <code>componentModel</code>for every mapper:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\n    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\n        &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- other annotation processors --&gt;\n        &lt;/annotationProcessorPaths&gt;\n        &lt;compilerArgs&gt;\n            &lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675114147,"creation_date":1675114147,"answer_id":75290369,"question_id":75289856,"body_markdown":"according to this guide: https://www.baeldung.com/mapstruct#2-inject-spring-components-into-the-mapper\r\n\r\n&gt; Sometimes, we&#39;ll need to utilize other Spring components inside our\r\n&gt; mapping logic. In this case, we have to use an abstract class instead\r\n&gt; of an interface\r\n\r\ntry to change `UserMapper` into an abstract class.","title":"Mapstruct - Field required a bean of type that could not be found","body":"<p>according to this guide: <a href=\"https://www.baeldung.com/mapstruct#2-inject-spring-components-into-the-mapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mapstruct#2-inject-spring-components-into-the-mapper</a></p>\n<blockquote>\n<p>Sometimes, we'll need to utilize other Spring components inside our\nmapping logic. In this case, we have to use an abstract class instead\nof an interface</p>\n</blockquote>\n<p>try to change <code>UserMapper</code> into an abstract class.</p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675114886,"creation_date":1675110959,"question_id":75289856,"body_markdown":"I need to use Mapstruct and this error is comming up.\r\n\r\n\r\n&gt; *APPLICATION FAILED TO START Description: Field userMapper in com.mycomp.myappapi.service.UserService required a bean of type\r\n&gt; &#39;com.mycomp.myappapi.mapper.UserMapper&#39; that could not be found. The\r\n&gt; injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; Action: Consider defining a bean of type\r\n&gt; &#39;com.mycomp.myappapi.mapper.UserMapper&#39; in your configuration.*\r\n\r\n\r\nSince there&#39;s this line in `myappapiApplication.java`, understand it should be able to find `UserMapper.java`. But for some reason it&#39;s not.\r\n\r\n```\r\n@ComponentScan(basePackages = {&quot;com.mycomp.*&quot;})\r\n```\r\n\r\nAlso, it is not autogenerating the mapstruct implementation classes in `\\target` folder.\r\n\r\n\r\n```\r\npackage com.mycomp.myappapi;\r\n\r\n\r\n@SpringBootApplication\r\n@EntityScan(basePackages = {&quot;com.mycomp.myappapi.model&quot;})\r\n@ComponentScan(basePackages = {&quot;com.mycomp.*&quot;})\r\n@EnableJpaRepositories(basePackages = {&quot;com.mycomp.myappapi.repository&quot;})\r\n@EnableTransactionManagement\r\n@EnableWebMvc\r\n@RestController\r\n@EnableAutoConfiguration\r\npublic class myappapiApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(myappapiApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.mycomp.myappapi.mapper;\r\n\r\n\r\n@Mapper(componentModel = &quot;Spring&quot;)\r\npublic interface UserMapper {\t\r\n\t\r\n\tUser UserRequestDTOtoUser(UserRequestDTO userRequestDTO);\r\n\t\r\n\tUserResponseDTO UserToUserResponseDTO(User user);\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.mycomp.myappapi.service;\r\n\r\n...\r\n\r\n@Service\r\n@Transactional\r\npublic class UserService {\r\n\t\r\n\t@Autowired\r\n\tprivate UserMapper userMapper;\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\t\t\r\n\t\r\n\tpublic UserResponseDTO saveUser(UserRequestDTO userRequestDTO) {\r\n\t\t\r\n\t\tUser user = userMapper.UserRequestDTOtoUser(userRequestDTO);\r\n\t\t\r\n\t\t...\r\n\t\t\r\n\t\tUser savedUser = userRepository.save(user);\r\n\t\t\r\n\t\tUserResponseDTO userResponseDTO = userMapper.UserToUserResponseDTO(savedUser);\t\t\r\n\t\t\r\n\t\treturn userResponseDTO;\r\n\t}\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mycomp.myappapi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myappapi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;myappapi&lt;/name&gt;\r\n\t&lt;description&gt;aaa&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.5.2.Final&lt;/org.mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n                \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n    \t&lt;dependency&gt;\r\n       \t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        \t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n                    &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;                        \r\n                        &lt;!-- other annotation processors --&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n        &lt;/plugins&gt;\r\n        \r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n","title":"Mapstruct - Field required a bean of type that could not be found","body":"<p>I need to use Mapstruct and this error is comming up.</p>\n<blockquote>\n<p>*APPLICATION FAILED TO START Description: Field userMapper in com.mycomp.myappapi.service.UserService required a bean of type\n'com.mycomp.myappapi.mapper.UserMapper' that could not be found. The\ninjection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)\nAction: Consider defining a bean of type\n'com.mycomp.myappapi.mapper.UserMapper' in your configuration.*</li>\n</ul>\n</blockquote>\n<p>Since there's this line in <code>myappapiApplication.java</code>, understand it should be able to find <code>UserMapper.java</code>. But for some reason it's not.</p>\n<pre><code>@ComponentScan(basePackages = {&quot;com.mycomp.*&quot;})\n</code></pre>\n<p>Also, it is not autogenerating the mapstruct implementation classes in <code>\\target</code> folder.</p>\n<pre><code>package com.mycomp.myappapi;\n\n\n@SpringBootApplication\n@EntityScan(basePackages = {&quot;com.mycomp.myappapi.model&quot;})\n@ComponentScan(basePackages = {&quot;com.mycomp.*&quot;})\n@EnableJpaRepositories(basePackages = {&quot;com.mycomp.myappapi.repository&quot;})\n@EnableTransactionManagement\n@EnableWebMvc\n@RestController\n@EnableAutoConfiguration\npublic class myappapiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(myappapiApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>package com.mycomp.myappapi.mapper;\n\n\n@Mapper(componentModel = &quot;Spring&quot;)\npublic interface UserMapper {   \n    \n    User UserRequestDTOtoUser(UserRequestDTO userRequestDTO);\n    \n    UserResponseDTO UserToUserResponseDTO(User user);\n    \n    \n}\n</code></pre>\n<pre><code>package com.mycomp.myappapi.service;\n\n...\n\n@Service\n@Transactional\npublic class UserService {\n    \n    @Autowired\n    private UserMapper userMapper;\n    \n    @Autowired\n    private UserRepository userRepository;      \n    \n    public UserResponseDTO saveUser(UserRequestDTO userRequestDTO) {\n        \n        User user = userMapper.UserRequestDTOtoUser(userRequestDTO);\n        \n        ...\n        \n        User savedUser = userRepository.save(user);\n        \n        UserResponseDTO userResponseDTO = userMapper.UserToUserResponseDTO(savedUser);      \n        \n        return userResponseDTO;\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mycomp.myappapi&lt;/groupId&gt;\n    &lt;artifactId&gt;myappapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myappapi&lt;/name&gt;\n    &lt;description&gt;aaa&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.2.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.25&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                    &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;                        \n                        &lt;!-- other annotation processors --&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n        \n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675110491,"post_id":75289753,"comment_id":132854491,"body_markdown":"Do you know what `Integer.parseInt` does if the string you pass it is not a valid integer?","body":"Do you know what <code>Integer.parseInt</code> does if the string you pass it is not a valid integer?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675110630,"post_id":75289753,"comment_id":132854530,"body_markdown":"It would probably help you if you wrote out in English (or your first language, as this is an exercise for yourself) exactly what your listener does. Then think, does it satisfy &quot;before you do anything, ensure that the number boxes aren’t empty so an error doesn’t throw&quot;?","body":"It would probably help you if you wrote out in English (or your first language, as this is an exercise for yourself) exactly what your listener does. Then think, does it satisfy &quot;before you do anything, ensure that the number boxes aren’t empty so an error doesn’t throw&quot;?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1675110674,"post_id":75289753,"comment_id":132854551,"body_markdown":"And see https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839","body":"And see <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675111687,"creation_date":1675111687,"answer_id":75289959,"question_id":75289753,"body_markdown":"Here&#39;s a simple answer, put these at the start of your onClickListener:\r\n\r\n    if (TextUtils.isEmpty(firstNumber.getText())) return;\r\n    if (TextUtils.isEmpty(secondNumber.getText())) return;\r\n\r\nThis will stop executing the function early if either firstNumber or secondNumber are empty strings.\r\n\r\nRead more about this function here: https://developer.android.com/reference/android/text/TextUtils#isEmpty(java.lang.CharSequence)\r\n\r\n","title":"Simple calculator with java android / Don&#39;t crash","body":"<p>Here's a simple answer, put these at the start of your onClickListener:</p>\n<pre><code>if (TextUtils.isEmpty(firstNumber.getText())) return;\nif (TextUtils.isEmpty(secondNumber.getText())) return;\n</code></pre>\n<p>This will stop executing the function early if either firstNumber or secondNumber are empty strings.</p>\n<p>Read more about this function here: <a href=\"https://developer.android.com/reference/android/text/TextUtils#isEmpty(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/text/TextUtils#isEmpty(java.lang.CharSequence)</a></p>\n"}],"owner":{"account_id":20959268,"reputation":56,"user_id":15399053,"display_name":"ang&#233;lique cop&#233;r&#233;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75289959,"answer_count":1,"score":1,"last_activity_date":1675114344,"creation_date":1675110283,"question_id":75289753,"body_markdown":"This is a project in Codecademy.\r\n\r\nI have a problem with the task : * Ensuring the app doesn’t crash when the equals button is pressed and one of the number boxes is empty.\r\n\r\nWhen equals is pressed, before you do anything, ensure that the number boxes aren’t empty so an error doesn’t throw.\r\n\r\nBut with my code, the button equals is always false.\r\n\r\n\r\n```\r\npackage com.codecademy.simplecalculator;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText firstNumber;\r\n    EditText secondNumber;\r\n    RadioGroup operators;\r\n    RadioButton add;\r\n    RadioButton subtract;\r\n    RadioButton divide;\r\n    RadioButton multiply;\r\n    Button equals;\r\n    TextView result;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        firstNumber = findViewById(R.id.number1);\r\n        secondNumber = findViewById(R.id.number2);\r\n        operators = findViewById(R.id.Radio_Groupoperators);\r\n        add = findViewById(R.id.add);\r\n        subtract = findViewById(R.id.subtract);\r\n        multiply = findViewById(R.id.multiply);\r\n        divide = findViewById(R.id.divide);\r\n        equals = findViewById(R.id.equals);\r\n        result = findViewById(R.id.result);\r\n\r\n        equals.setEnabled(false);\r\n\r\n        /*firstNumber.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            }\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                equals.setEnabled(true);\r\n            }\r\n        });*/\r\n\r\n        equals.setOnClickListener(v -&gt; {\r\n\r\n            int firstNumberValue = Integer.parseInt(firstNumber.getText().toString());\r\n            int secondNumberValue = Integer.parseInt(secondNumber.getText().toString());\r\n\r\n            int operatorButtonId = operators.getCheckedRadioButtonId();\r\n\r\n            Integer answer;\r\n\r\n            if (operatorButtonId == add.getId()) {\r\n                answer = firstNumberValue + secondNumberValue;\r\n            } else if (operatorButtonId == subtract.getId()) {\r\n                answer = firstNumberValue - secondNumberValue;\r\n            } else if (operatorButtonId == multiply.getId()) {\r\n                answer = firstNumberValue * secondNumberValue;\r\n            } else {\r\n                answer = firstNumberValue / secondNumberValue;\r\n            }\r\n\r\n            if (equals.getText().toString() == &quot;&quot;) {\r\n                Toast.makeText(this, &quot;Tap a number&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                equals.setEnabled(true);\r\n            }\r\n\r\n            result.setText(answer.toString());\r\n        });\r\n    }\r\n}\r\n```","title":"Simple calculator with java android / Don&#39;t crash","body":"<p>This is a project in Codecademy.</p>\n<p>I have a problem with the task : * Ensuring the app doesn’t crash when the equals button is pressed and one of the number boxes is empty.</p>\n<p>When equals is pressed, before you do anything, ensure that the number boxes aren’t empty so an error doesn’t throw.</p>\n<p>But with my code, the button equals is always false.</p>\n<pre><code>package com.codecademy.simplecalculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText firstNumber;\n    EditText secondNumber;\n    RadioGroup operators;\n    RadioButton add;\n    RadioButton subtract;\n    RadioButton divide;\n    RadioButton multiply;\n    Button equals;\n    TextView result;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        firstNumber = findViewById(R.id.number1);\n        secondNumber = findViewById(R.id.number2);\n        operators = findViewById(R.id.Radio_Groupoperators);\n        add = findViewById(R.id.add);\n        subtract = findViewById(R.id.subtract);\n        multiply = findViewById(R.id.multiply);\n        divide = findViewById(R.id.divide);\n        equals = findViewById(R.id.equals);\n        result = findViewById(R.id.result);\n\n        equals.setEnabled(false);\n\n        /*firstNumber.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n            }\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n            }\n            @Override\n            public void afterTextChanged(Editable s) {\n                equals.setEnabled(true);\n            }\n        });*/\n\n        equals.setOnClickListener(v -&gt; {\n\n            int firstNumberValue = Integer.parseInt(firstNumber.getText().toString());\n            int secondNumberValue = Integer.parseInt(secondNumber.getText().toString());\n\n            int operatorButtonId = operators.getCheckedRadioButtonId();\n\n            Integer answer;\n\n            if (operatorButtonId == add.getId()) {\n                answer = firstNumberValue + secondNumberValue;\n            } else if (operatorButtonId == subtract.getId()) {\n                answer = firstNumberValue - secondNumberValue;\n            } else if (operatorButtonId == multiply.getId()) {\n                answer = firstNumberValue * secondNumberValue;\n            } else {\n                answer = firstNumberValue / secondNumberValue;\n            }\n\n            if (equals.getText().toString() == &quot;&quot;) {\n                Toast.makeText(this, &quot;Tap a number&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                equals.setEnabled(true);\n            }\n\n            result.setText(answer.toString());\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android","macos","flutter","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11849184,"reputation":193,"user_id":8670966,"display_name":"Mark Parris"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625947118,"creation_date":1625947118,"answer_id":68331129,"question_id":66886491,"body_markdown":"For me, it turned out to be a java version compatibility issue with Gradle. I down graded from Java SE 16 to Java SE 11 and that fixed the issue.","title":"Issue with Java on Flutter for Mac","body":"<p>For me, it turned out to be a java version compatibility issue with Gradle. I down graded from Java SE 16 to Java SE 11 and that fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":15872625,"reputation":1,"user_id":11452818,"display_name":"Богдан Фесенко"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649692005,"creation_date":1649692005,"answer_id":71830701,"question_id":66886491,"body_markdown":"It helped me to install Java 11 series (there is a place to download it on the Internet) and specify the path to it. The previous version 18 does not have to be deleted, just change the path to 11 version in the ~./shzrc file","title":"Issue with Java on Flutter for Mac","body":"<p>It helped me to install Java 11 series (there is a place to download it on the Internet) and specify the path to it. The previous version 18 does not have to be deleted, just change the path to 11 version in the ~./shzrc file</p>\n"},{"tags":[],"owner":{"account_id":19631116,"reputation":138,"user_id":14369429,"display_name":"Shima K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675114016,"creation_date":1674495460,"answer_id":75213092,"question_id":66886491,"body_markdown":"I had the same error,\r\nI fixed the error, by upgrading  my gradle to `gradle:7.0.0` \r\njust going to (android/gradle.build) and under dependencies updating the first classpath :  \r\n\r\n&gt;  classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\r\n\r\nand then going to (android/gradle/wrapper/gradle-wrapper.properties) and updating gradle wrapper to `/gradle-7.0.2-all.zip` in distributionUrl\r\n    \r\n&gt; distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip","title":"Issue with Java on Flutter for Mac","body":"<p>I had the same error,\nI fixed the error, by upgrading  my gradle to <code>gradle:7.0.0</code>\njust going to (android/gradle.build) and under dependencies updating the first classpath :</p>\n<blockquote>\n<p>classpath 'com.android.tools.build:gradle:7.0.0'</p>\n</blockquote>\n<p>and then going to (android/gradle/wrapper/gradle-wrapper.properties) and updating gradle wrapper to <code>/gradle-7.0.2-all.zip</code> in distributionUrl</p>\n<blockquote>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.0.2-all.zip</p>\n</blockquote>\n"}],"owner":{"account_id":19271631,"reputation":159,"user_id":14085431,"display_name":"NikkoNikkoNii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9386,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1675114016,"creation_date":1617188324,"question_id":66886491,"body_markdown":"Error Message:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; java.lang.IllegalAccessError: class org.gradle.internal.compiler.java.ClassNameCollector (in unnamed module @0x71871a5e) cannot access class com.sun.tools.javac.code.Symbol$TypeSymbol (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x71871a5e\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 42s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\nI just installed the JDK, and this is what happens when I try to run on the Android side.\r\n\r\nCan someone explain to me what this is and how to fix it?\r\n\r\nEverything is the latest versions.","title":"Issue with Java on Flutter for Mac","body":"<p>Error Message:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; java.lang.IllegalAccessError: class org.gradle.internal.compiler.java.ClassNameCollector (in unnamed module @0x71871a5e) cannot access class com.sun.tools.javac.code.Symbol$TypeSymbol (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x71871a5e\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 42s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>I just installed the JDK, and this is what happens when I try to run on the Android side.</p>\n<p>Can someone explain to me what this is and how to fix it?</p>\n<p>Everything is the latest versions.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"score":0,"creation_date":1673807166,"post_id":75126512,"comment_id":132575040,"body_markdown":"in User entity class, there are important annotations missing. I do not see &quot;@Id&quot;, &quot;@Table&quot; or &quot;@Entity&quot; annotations. I am sure this code will not even run. Are you sure you provided correct code in question?","body":"in User entity class, there are important annotations missing. I do not see &quot;@Id&quot;, &quot;@Table&quot; or &quot;@Entity&quot; annotations. I am sure this code will not even run. Are you sure you provided correct code in question?"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1673812596,"post_id":75126512,"comment_id":132576072,"body_markdown":"the code works perfectly. The @id annotation is with the id in AbstractEntity then the other two annotations were not put on my publication but they are there in the code. I managed to make it work as I wanted","body":"the code works perfectly. The @id annotation is with the id in AbstractEntity then the other two annotations were not put on my publication but they are there in the code. I managed to make it work as I wanted"}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675114012,"creation_date":1675114012,"answer_id":75290340,"question_id":75126512,"body_markdown":"Can you update your repository as shown below and retry again?\r\n\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n@Query(value = &quot;SELECT * FROM user \r\nLEFT JOIN role ON user.role_id = role.id \r\nLEFT JOIN address ON user.id = address.id_user \r\nWHERE user.id = :id&quot;, nativeQuery = true)\r\nOptional&lt;User&gt; findUserById(Integer id);\r\n}\r\n```","title":"retrieving data from two tables with join springboot","body":"<p>Can you update your repository as shown below and retry again?</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n@Query(value = &quot;SELECT * FROM user \nLEFT JOIN role ON user.role_id = role.id \nLEFT JOIN address ON user.id = address.id_user \nWHERE user.id = :id&quot;, nativeQuery = true)\nOptional&lt;User&gt; findUserById(Integer id);\n}\n</code></pre>\n"}],"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675114012,"creation_date":1673799387,"question_id":75126512,"body_markdown":"I made a join between the user table and the address table. I get an error message: &quot;errorMessage&quot;: &quot;Cannot invoke \\&quot;com.pastrycertified.cda.models.Address.getId()\\&quot; because \\&quot;address\\&quot; is null&quot;  . I am unable to retrieve the address of the user I do not see where it comes from. It returns a null when it tries to retrieve the address. Thanks for your help\r\n\r\nuserModel:\r\n```\r\npublic class User extends AbstractEntity implements UserDetails{\r\n\r\n    private String civility;\r\n\r\n    private String lastname;\r\n\r\n    private String firstname;\r\n\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    private String phone;\r\n\r\n    private String birth_day;\r\n\r\n    private Integer idAddress;\r\n\r\n    @OneToOne\r\n    private Address address;\r\n\r\n    @OneToOne\r\n    private Role role;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return Collections.singletonList(new SimpleGrantedAuthority(role.getName()));\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return getEmail();\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n\r\naddress Model:\r\n```\r\npublic class Address extends AbstractEntity{\r\n\r\n    private Integer address_number;\r\n\r\n    private String street;\r\n\r\n    private String zipCode;\r\n\r\n    private String city;\r\n\r\n    private String country;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;id_user&quot;)\r\n    private User user;\r\n}\r\n```\r\n\r\nUserDto\r\n```\r\npublic class UserDto {\r\n\r\n    private Integer id;\r\n\r\n    private String civility;\r\n\r\n    private String lastname;\r\n\r\n    private String firstname;\r\n\r\n    private String birth_day;\r\n \r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    private String phone;\r\n\r\n    private String role_name;\r\n\r\n    private AddressDto address;\r\n\r\n    public static UserDto fromEntity(User user) {\r\n\r\n        return UserDto.builder()\r\n                .id(user.getId())\r\n                .civility(user.getCivility())\r\n                .lastname(user.getLastname())\r\n                .firstname(user.getFirstname())\r\n                .birth_day(user.getBirth_day())\r\n                .email(user.getEmail())\r\n                .password(user.getPassword())\r\n                .phone(user.getPhone())\r\n                .role_name(user.getRole().getName())\r\n                .address(AddressDto.fromEntity(user.getAddress()))\r\n                .build();\r\n    }\r\n\r\n    public static User toEntity(UserDto user) {\r\n        return User.builder()\r\n                .id(user.getId())\r\n                .civility(user.getCivility())\r\n                .lastname(user.getLastname())\r\n                .firstname(user.getFirstname())\r\n                .birth_day(user.getBirth_day())\r\n                .email(user.getEmail())\r\n                .password(user.getPassword())\r\n                .phone(user.getPhone())\r\n                .role(\r\n                        Role.builder()\r\n                                .name(user.role_name)\r\n                                .build()\r\n                )\r\n                .address(AddressDto.toEntity(user.getAddress()))\r\n                .build();\r\n    }\r\n}\r\n```\r\nAddressDto \r\n```\r\npublic class AddressDto {\r\n\r\n    private Integer id;\r\n\r\n    private Integer address_number;\r\n\r\n    private String street;\r\n\r\n    private String zipCode;\r\n\r\n    private String city;\r\n\r\n    private String country;\r\n\r\n    private Integer userId;\r\n\r\n    private Integer id_user;\r\n\r\n    public static AddressDto fromEntity(Address address) {\r\n\r\n        return AddressDto.builder()\r\n                .id(address.getId())\r\n                .address_number(address.getAddress_number())\r\n                .street(address.getStreet())\r\n                .zipCode(address.getZipCode())\r\n                .city(address.getCity())\r\n                .country(address.getCountry())\r\n                .userId(address.getUser().getId())\r\n                .build();\r\n    }\r\n\r\n    public static Address toEntity(AddressDto address) {\r\n\r\n        return Address.builder()\r\n                .id(address.getId())\r\n                .address_number(address.getAddress_number())\r\n                .street(address.getStreet())\r\n                .zipCode(address.getZipCode())\r\n                .city(address.getCity())\r\n                .country(address.getCountry())\r\n                .user(\r\n                        User.builder()\r\n                                .id(address.getUserId())\r\n                                .build()\r\n                )\r\n                .build();\r\n    }\r\n}\r\n```\r\nUserServiceImpl\r\n```\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDto findUserById(Integer id) {\r\n        return userRepository.findUserById(id)\r\n                .map(UserDto::fromEntity)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Aucun utilisateur n&#39;a &#233;t&#233; trouv&#233; avec l&#39;ID fourni :&quot; + id));\r\n    }\r\n}\r\n```\r\nAddressServiceImpl\r\n```\r\npublic class AddressServiceImpl implements AddressService {\r\n\r\n    private final AddressRepository addressRepository;\r\n    private final ObjectsValidator&lt;AddressDto&gt; validator;\r\n\r\n    @Override\r\n    public AddressDto findById(Integer id) {\r\n        return addressRepository.findById(id)\r\n                .map(AddressDto::fromEntity)\r\n                .orElseThrow(()-&gt; new EntityNotFoundException(&quot;L&#39;adresse n&#39;existe pas&quot;));\r\n    }\r\n\r\n    @Override\r\n    public AddressDto findAddressByIdUser(Integer id) {\r\n        return addressRepository.findAddressByIdUser(id)\r\n                .map(AddressDto::fromEntity)\r\n                .orElseThrow(()-&gt; new EntityNotFoundException(&quot;L&#39;utilisateur ne poss&#233;de pas d&#39;adresse&quot;));\r\n    }\r\n        addressRepository.save(address);\r\n        return address.getId();\r\n    }\r\n\r\n}\r\n\r\n```\r\nUserRepository\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    @Query(value = &quot;SELECT * FROM user INNER JOIN role ON user.role_id = role.id INNER JOIN address ON user.id = address.id_user WHERE user.id = :id&quot;, nativeQuery = true)\r\n    Optional&lt;User&gt; findUserById(Integer id);\r\n}\r\n```","title":"retrieving data from two tables with join springboot","body":"<p>I made a join between the user table and the address table. I get an error message: &quot;errorMessage&quot;: &quot;Cannot invoke &quot;com.pastrycertified.cda.models.Address.getId()&quot; because &quot;address&quot; is null&quot;  . I am unable to retrieve the address of the user I do not see where it comes from. It returns a null when it tries to retrieve the address. Thanks for your help</p>\n<p>userModel:</p>\n<pre><code>public class User extends AbstractEntity implements UserDetails{\n\n    private String civility;\n\n    private String lastname;\n\n    private String firstname;\n\n    @Column(unique = true)\n    private String email;\n\n    private String password;\n\n    private String phone;\n\n    private String birth_day;\n\n    private Integer idAddress;\n\n    @OneToOne\n    private Address address;\n\n    @OneToOne\n    private Role role;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return Collections.singletonList(new SimpleGrantedAuthority(role.getName()));\n    }\n\n    @Override\n    public String getUsername() {\n        return getEmail();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n}\n</code></pre>\n<p>address Model:</p>\n<pre><code>public class Address extends AbstractEntity{\n\n    private Integer address_number;\n\n    private String street;\n\n    private String zipCode;\n\n    private String city;\n\n    private String country;\n\n    @OneToOne\n    @JoinColumn(name = &quot;id_user&quot;)\n    private User user;\n}\n</code></pre>\n<p>UserDto</p>\n<pre><code>public class UserDto {\n\n    private Integer id;\n\n    private String civility;\n\n    private String lastname;\n\n    private String firstname;\n\n    private String birth_day;\n \n    private String email;\n\n    private String password;\n\n    private String phone;\n\n    private String role_name;\n\n    private AddressDto address;\n\n    public static UserDto fromEntity(User user) {\n\n        return UserDto.builder()\n                .id(user.getId())\n                .civility(user.getCivility())\n                .lastname(user.getLastname())\n                .firstname(user.getFirstname())\n                .birth_day(user.getBirth_day())\n                .email(user.getEmail())\n                .password(user.getPassword())\n                .phone(user.getPhone())\n                .role_name(user.getRole().getName())\n                .address(AddressDto.fromEntity(user.getAddress()))\n                .build();\n    }\n\n    public static User toEntity(UserDto user) {\n        return User.builder()\n                .id(user.getId())\n                .civility(user.getCivility())\n                .lastname(user.getLastname())\n                .firstname(user.getFirstname())\n                .birth_day(user.getBirth_day())\n                .email(user.getEmail())\n                .password(user.getPassword())\n                .phone(user.getPhone())\n                .role(\n                        Role.builder()\n                                .name(user.role_name)\n                                .build()\n                )\n                .address(AddressDto.toEntity(user.getAddress()))\n                .build();\n    }\n}\n</code></pre>\n<p>AddressDto</p>\n<pre><code>public class AddressDto {\n\n    private Integer id;\n\n    private Integer address_number;\n\n    private String street;\n\n    private String zipCode;\n\n    private String city;\n\n    private String country;\n\n    private Integer userId;\n\n    private Integer id_user;\n\n    public static AddressDto fromEntity(Address address) {\n\n        return AddressDto.builder()\n                .id(address.getId())\n                .address_number(address.getAddress_number())\n                .street(address.getStreet())\n                .zipCode(address.getZipCode())\n                .city(address.getCity())\n                .country(address.getCountry())\n                .userId(address.getUser().getId())\n                .build();\n    }\n\n    public static Address toEntity(AddressDto address) {\n\n        return Address.builder()\n                .id(address.getId())\n                .address_number(address.getAddress_number())\n                .street(address.getStreet())\n                .zipCode(address.getZipCode())\n                .city(address.getCity())\n                .country(address.getCountry())\n                .user(\n                        User.builder()\n                                .id(address.getUserId())\n                                .build()\n                )\n                .build();\n    }\n}\n</code></pre>\n<p>UserServiceImpl</p>\n<pre><code>public class UserServiceImpl implements UserService {\n\n    private final UserRepository userRepository;\n\n    @Override\n    public UserDto findUserById(Integer id) {\n        return userRepository.findUserById(id)\n                .map(UserDto::fromEntity)\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Aucun utilisateur n'a été trouvé avec l'ID fourni :&quot; + id));\n    }\n}\n</code></pre>\n<p>AddressServiceImpl</p>\n<pre><code>public class AddressServiceImpl implements AddressService {\n\n    private final AddressRepository addressRepository;\n    private final ObjectsValidator&lt;AddressDto&gt; validator;\n\n    @Override\n    public AddressDto findById(Integer id) {\n        return addressRepository.findById(id)\n                .map(AddressDto::fromEntity)\n                .orElseThrow(()-&gt; new EntityNotFoundException(&quot;L'adresse n'existe pas&quot;));\n    }\n\n    @Override\n    public AddressDto findAddressByIdUser(Integer id) {\n        return addressRepository.findAddressByIdUser(id)\n                .map(AddressDto::fromEntity)\n                .orElseThrow(()-&gt; new EntityNotFoundException(&quot;L'utilisateur ne posséde pas d'adresse&quot;));\n    }\n        addressRepository.save(address);\n        return address.getId();\n    }\n\n}\n\n</code></pre>\n<p>UserRepository</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    @Query(value = &quot;SELECT * FROM user INNER JOIN role ON user.role_id = role.id INNER JOIN address ON user.id = address.id_user WHERE user.id = :id&quot;, nativeQuery = true)\n    Optional&lt;User&gt; findUserById(Integer id);\n}\n</code></pre>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":27658281,"reputation":1,"user_id":21111692,"display_name":"Diana Grecu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675113904,"creation_date":1675091854,"question_id":75286404,"body_markdown":"I have a CountResponse object and I am trying to retrieve only the *count* field value (without the *shards* field).\r\n\r\n\r\nIf I am printing the CountResponse object I get something like this:\r\n```\r\nCountResponse: {\r\n  &quot;count&quot;: 17026,\r\n  &quot;_shards&quot;: {\r\n    &quot;failed&quot;: 0.0,\r\n    &quot;successful&quot;: 40.0,\r\n    &quot;total&quot;: 40.0,\r\n    &quot;skipped&quot;: 0.0\r\n  }\r\n};\r\n```\r\nif I am using the count method (CountResponse.count()) I was expecting to get the same number of matching documents (17026) but I get something different.\r\n\r\nI read the [documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html) but I couldn&#39;t find an answer for this behaviour.","title":"CountResponse.count() value different than actual value in CountResponse object","body":"<p>I have a CountResponse object and I am trying to retrieve only the <em>count</em> field value (without the <em>shards</em> field).</p>\n<p>If I am printing the CountResponse object I get something like this:</p>\n<pre><code>CountResponse: {\n  &quot;count&quot;: 17026,\n  &quot;_shards&quot;: {\n    &quot;failed&quot;: 0.0,\n    &quot;successful&quot;: 40.0,\n    &quot;total&quot;: 40.0,\n    &quot;skipped&quot;: 0.0\n  }\n};\n</code></pre>\n<p>if I am using the count method (CountResponse.count()) I was expecting to get the same number of matching documents (17026) but I get something different.</p>\n<p>I read the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html\" rel=\"nofollow noreferrer\">documentation</a> but I couldn't find an answer for this behaviour.</p>\n"},{"tags":["java","json","regex","string"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675113345,"creation_date":1675111839,"answer_id":75289981,"question_id":75289908,"body_markdown":"You might update the pattern to making use of a finite lookbehind assertion:\r\n\r\n    (?&lt;=email&quot;:&quot;[^\\s&quot;]{1,100})[a-zA-Z0-9](?=[^\\s&quot;@]*@)\r\n\r\nThe pattern in parts:\r\n\r\n- `(?&lt;=email&quot;:&quot;` Positive lookbehind, assert `email&quot;:&quot;` to the left\r\n    - `[^\\s&quot;]{1,100}` Match 1-100 times a non whitespace char other than `&quot;` to the left (adjust the quantifier as needed)\r\n- `)` Close the lookbehind\r\n- `[a-zA-Z0-9]` Match a single char a-zA-Z0-9\r\n- `(?=[^\\s&quot;@]*@)` Positive lookahead, assert a `@` to the right without crossing double quotes\r\n\r\nSee a [regex101 demo](https://regex101.com/r/80B1rp/1) and a [Java demo](https://ideone.com/7I2RTr).\r\n\r\nExample in Java with the doubled backslashes and escaped double quotes:\r\n\r\n    String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;\r\n    String result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;[^\\\\s\\&quot;]{1,100})[a-zA-Z0-9](?=[^\\\\s\\&quot;@]*@)&quot;, &quot;*&quot;);\r\n    System.out.println(result);\r\n\r\nOutput\r\n\r\n    { &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }\r\n\r\n\r\n\r\n","title":"Mask Email in JSON String Using regex","body":"<p>You might update the pattern to making use of a finite lookbehind assertion:</p>\n<pre><code>(?&lt;=email&quot;:&quot;[^\\s&quot;]{1,100})[a-zA-Z0-9](?=[^\\s&quot;@]*@)\n</code></pre>\n<p>The pattern in parts:</p>\n<ul>\n<li><code>(?&lt;=email&quot;:&quot;</code> Positive lookbehind, assert <code>email&quot;:&quot;</code> to the left\n<ul>\n<li><code>[^\\s&quot;]{1,100}</code> Match 1-100 times a non whitespace char other than <code>&quot;</code> to the left (adjust the quantifier as needed)</li>\n</ul>\n</li>\n<li><code>)</code> Close the lookbehind</li>\n<li><code>[a-zA-Z0-9]</code> Match a single char a-zA-Z0-9</li>\n<li><code>(?=[^\\s&quot;@]*@)</code> Positive lookahead, assert a <code>@</code> to the right without crossing double quotes</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/80B1rp/1\" rel=\"nofollow noreferrer\">regex101 demo</a> and a <a href=\"https://ideone.com/7I2RTr\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n<p>Example in Java with the doubled backslashes and escaped double quotes:</p>\n<pre><code>String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;\nString result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;[^\\\\s\\&quot;]{1,100})[a-zA-Z0-9](?=[^\\\\s\\&quot;@]*@)&quot;, &quot;*&quot;);\nSystem.out.println(result);\n</code></pre>\n<p>Output</p>\n<pre><code>{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }\n</code></pre>\n"}],"owner":{"account_id":12634959,"reputation":222,"user_id":9184784,"display_name":"tyb9900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675113345,"creation_date":1675111363,"question_id":75289908,"body_markdown":"I have an email masking regex and now I am trying to apply it on JSON Strings for masking email.\r\n\r\n    Regex: (?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)\r\n\r\nIt works fine if we apply it on email in String variable.\r\n\r\n    String s = &quot;test.ing%02@gmail.com&quot;;                        \r\n    s= s.replaceAll(&quot;(?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)&quot;, &quot;*&quot;);  \r\n\r\n**Output:** `t***.***%**@gmail.com`\r\n\r\nNow I am trying to apply it on JSON String which contains the email field. I selected the email field but regex is not identifying its value\r\n\r\n    String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;                                        \r\n    String result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;)((?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@))(?=\\&quot;)&quot;, &quot;*&quot;);                    \r\n    System.out.println(result);  \r\n\r\n                \r\n**Actual Output:** `{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;test.ing%02@gmail.com&quot; }` \r\n\r\n**Expected Output:** `{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }`                                                                            ","title":"Mask Email in JSON String Using regex","body":"<p>I have an email masking regex and now I am trying to apply it on JSON Strings for masking email.</p>\n<pre><code>Regex: (?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)\n</code></pre>\n<p>It works fine if we apply it on email in String variable.</p>\n<pre><code>String s = &quot;test.ing%02@gmail.com&quot;;                        \ns= s.replaceAll(&quot;(?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)&quot;, &quot;*&quot;);  \n</code></pre>\n<p><strong>Output:</strong> <code>t***.***%**@gmail.com</code></p>\n<p>Now I am trying to apply it on JSON String which contains the email field. I selected the email field but regex is not identifying its value</p>\n<pre><code>String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;                                        \nString result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;)((?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@))(?=\\&quot;)&quot;, &quot;*&quot;);                    \nSystem.out.println(result);  \n\n            \n</code></pre>\n<p><strong>Actual Output:</strong> <code>{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;test.ing%02@gmail.com&quot; }</code></p>\n<p><strong>Expected Output:</strong> <code>{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }</code></p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1675114398,"post_id":75290208,"comment_id":132855527,"body_markdown":"Try adding `@SuppressWarnings(&quot;squid:S1149&quot;)` on the icky method call!  S1149 appears to be the related rule, but that specific rule ID should be listed somewhere...","body":"Try adding <code>@SuppressWarnings(&quot;squid:S1149&quot;)</code> on the icky method call!  S1149 appears to be the related rule, but that specific rule ID should be listed somewhere..."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1675120835,"post_id":75290208,"comment_id":132856936,"body_markdown":"An alternative to suppressing the warnings in Sonar could be to use interface types when assigning the return values: `java.util.List`, `java.util.Map`, etc. This might not be as easy to do with `StringBuffer` (you would need to choose between `Appendable` or `CharSequence`, depending on the usage) and `Stack` (which doesn&#39;t actually implement its equivalent interface `Dequeue`) but those are less common as return types. If possible, the benefit is that your code would be less coupled to the specific return types of that library, and easier to change to another implementation in the future.","body":"An alternative to suppressing the warnings in Sonar could be to use interface types when assigning the return values: <code>java.util.List</code>, <code>java.util.Map</code>, etc. This might not be as easy to do with <code>StringBuffer</code> (you would need to choose between <code>Appendable</code> or <code>CharSequence</code>, depending on the usage) and <code>Stack</code> (which doesn&#39;t actually implement its equivalent interface <code>Dequeue</code>) but those are less common as return types. If possible, the benefit is that your code would be less coupled to the specific return types of that library, and easier to change to another implementation in the future."}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675113185,"creation_date":1675113185,"question_id":75290208,"body_markdown":"One of the [Sonar rules][1] states:\r\n\r\n    Synchronized classes Vector, Hashtable, Stack and StringBuffer should not be used\r\n\r\nand it marks all usages as a Major Code Smell.\r\n\r\nIn my project these are return types from a third party library I am using so I can&#39;t avoid using them when calling the API.\r\n\r\nHow can I make Sonar ignore the calls made to third party libraries and only report my own usages of creating these types?\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-1149","title":"How Can I Make Sonar Ignore Errors In Return Types From Libraries?","body":"<p>One of the <a href=\"https://rules.sonarsource.com/java/RSPEC-1149\" rel=\"nofollow noreferrer\">Sonar rules</a> states:</p>\n<pre><code>Synchronized classes Vector, Hashtable, Stack and StringBuffer should not be used\n</code></pre>\n<p>and it marks all usages as a Major Code Smell.</p>\n<p>In my project these are return types from a third party library I am using so I can't avoid using them when calling the API.</p>\n<p>How can I make Sonar ignore the calls made to third party libraries and only report my own usages of creating these types?</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":3526421,"reputation":20884,"user_id":2947378,"display_name":"rdas"},"score":0,"creation_date":1614073461,"post_id":66330610,"comment_id":117266630,"body_markdown":"First of all you&#39;ll need to use something other than `HashMap` that preserves the order of insertion so that you can figure out the ties.","body":"First of all you&#39;ll need to use something other than <code>HashMap</code> that preserves the order of insertion so that you can figure out the ties."},{"owner":{"account_id":17701095,"reputation":51,"user_id":12850705,"display_name":"AlexBlack"},"score":1,"creation_date":1614073655,"post_id":66330610,"comment_id":117266734,"body_markdown":"@rdas I thought that Hashmap is good for having separately the teams and teir score","body":"@rdas I thought that Hashmap is good for having separately the teams and teir score"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1614073723,"post_id":66330610,"comment_id":117266762,"body_markdown":"the order of insertion comes naturally from the list. The hashmap is just a store where he adds the goals","body":"the order of insertion comes naturally from the list. The hashmap is just a store where he adds the goals"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1614081639,"post_id":66330610,"comment_id":117270239,"body_markdown":"@AlexBlack and you thought well : )","body":"@AlexBlack and you thought well : )"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1614091614,"post_id":66330610,"comment_id":117275005,"body_markdown":"You covered this issue in your comments and it was addressed in the answer(s).","body":"You covered this issue in your comments and it was addressed in the answer(s)."}],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1614119416,"creation_date":1614073683,"answer_id":66330741,"question_id":66330610,"body_markdown":"    int max = 0;\r\n    String bestTeam=&quot;&quot;;\r\n \r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for (String s : teams) \r\n    {\r\n        String[] rec = s.split(&quot; &quot;);\r\n        int val = Integer.parseInt(rec[1]);\r\n\t    int sum = map.get(rec[0])==null ? val : map.get(rec[0]) + val;\r\n        map.put(rec[0], sum);\r\n        if (sum&gt;max) {\r\n            max = sum;\r\n            bestTeam = rec[0];\r\n        }  \r\n    }\r\n    \r\n    System.out.println(&quot;Max score winner team :&quot; + bestTeam + &quot;-[&quot;+max+&quot;] goals&quot;);\r\n    \r\n\r\n - Other approaches just selected the max entry. The streams approaches written here  by **[Alex Rudenko][1]** and [**Nikolas Charalambidis**][2] are the perfect example of how streams should handle this scenarios. Related to this, the use of a map, which solely is used to save the total scored goals for each team. The sorting is implicit in an arraylist iteration. The hashmap wasn&#39;t never involved in any type of sorting.\r\n\r\n    *`Dortmund 11&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Bayern 4&quot;`*\r\n       \r\n    The winner of this list **is not Dortmund, but Bayern**. \r\n\r\n - The best team is the one which scores the most goals, after adding all the entries. If two teams share the same max score, the winner is the team that first reach to that max.\r\n \r\n   *`Dortmund 15&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;, &quot;Bayern 20&quot;, &quot;Dortmund 3&quot;`*\r\n\r\n    Both teams share the same max score: 22. The winner is **Bayern**, as it reached the max score first.\r\n\r\n - The logic is as simple as comparing the current maximum score with the current sum. The condition is **`sum&gt;max`** and not **`sum&gt;=max`** to guarantee that the first team who reached to that max is the winner.\r\n\r\n------\r\n\r\n***Tested, working:***\r\n\r\n**`Max score winner team :Bayern-[12]`**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66332573/2148953\r\n  [2]: https://stackoverflow.com/a/66331389/2148953\r\n  [3]: https://i.stack.imgur.com/WjDFE.png","title":"Output the maximum score","body":"<pre><code>int max = 0;\nString bestTeam=&quot;&quot;;\n\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nfor (String s : teams) \n{\n    String[] rec = s.split(&quot; &quot;);\n    int val = Integer.parseInt(rec[1]);\n    int sum = map.get(rec[0])==null ? val : map.get(rec[0]) + val;\n    map.put(rec[0], sum);\n    if (sum&gt;max) {\n        max = sum;\n        bestTeam = rec[0];\n    }  \n}\n\nSystem.out.println(&quot;Max score winner team :&quot; + bestTeam + &quot;-[&quot;+max+&quot;] goals&quot;);\n</code></pre>\n<ul>\n<li><p>Other approaches just selected the max entry. The streams approaches written here  by <strong><a href=\"https://stackoverflow.com/a/66332573/2148953\">Alex Rudenko</a></strong> and <a href=\"https://stackoverflow.com/a/66331389/2148953\"><strong>Nikolas Charalambidis</strong></a> are the perfect example of how streams should handle this scenarios. Related to this, the use of a map, which solely is used to save the total scored goals for each team. The sorting is implicit in an arraylist iteration. The hashmap wasn't never involved in any type of sorting.</p>\n<p><em><code>Dortmund 11&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Bayern 4&quot;</code></em></p>\n<p>The winner of this list <strong>is not Dortmund, but Bayern</strong>.</p>\n</li>\n<li><p>The best team is the one which scores the most goals, after adding all the entries. If two teams share the same max score, the winner is the team that first reach to that max.</p>\n<p><em><code>Dortmund 15&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;, &quot;Bayern 20&quot;, &quot;Dortmund 3&quot;</code></em></p>\n<p>Both teams share the same max score: 22. The winner is <strong>Bayern</strong>, as it reached the max score first.</p>\n</li>\n<li><p>The logic is as simple as comparing the current maximum score with the current sum. The condition is <strong><code>sum&gt;max</code></strong> and not <strong><code>sum&gt;=max</code></strong> to guarantee that the first team who reached to that max is the winner.</p>\n</li>\n</ul>\n<hr />\n<p><em><strong>Tested, working:</strong></em></p>\n<p><strong><code>Max score winner team :Bayern-[12]</code></strong></p>\n<p><a href=\"https://i.stack.imgur.com/WjDFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjDFE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614131708,"creation_date":1614076219,"answer_id":66331389,"question_id":66330610,"body_markdown":"There is a simple way using Stream API, Regex (see demo at [Regex101][1]) and the classes `Pattern` and `Matcher`.\r\n\r\n&gt; ```\r\n&gt; ([A-Za-z ]+) (\\d+)\r\n&gt; ```\r\n\r\nRemember in Java the Regex must be double-escaped (`\\d` -&gt; `\\\\d`):\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;([A-Za-z ]+)(\\\\d+)&quot;);\r\n\r\nOptional&lt;String&gt; result = teams.stream()\r\n\t.map(pattern::matcher)\r\n\t.filter(Matcher::find)\r\n\t.collect(Collectors.collectingAndThen(\r\n\t\t\tCollectors.groupingBy(\r\n\t\t\t\tmatcher -&gt; matcher.group(1),\r\n\t\t\t\tLinkedHashMap::new,\r\n\t\t\t\tCollectors.summingInt(m -&gt; Integer.parseInt(m.group(2)))),\r\n\t\t\tm -&gt; m.entrySet().stream()\r\n\t\t\t\t\t.max(Comparator.comparingInt(Entry::getValue))\r\n\t\t\t\t\t.map(e -&gt; e.getKey() + &quot; &quot; + e.getValue())));\r\n```\r\n\r\n\r\nThe `Matcher` has the advantage it holds the original String (`group()`) and the captured groups (`group(int)`). After calling `Matcher#find` you are able to work with the captured groups. Get a group the number is in and use it for the summing into downstream of `groupingBy` collector to get a `Map&lt;String, Integer&gt;` with the name of the team as a key and their total sum of the score as a value. The map supplier `LinkedHashMap::new` assures an ordered map.\r\n\r\nThe subsequent `Collectors.collectingAndThen` takes the entries and finds the one having the highest score. The whole Stream results in `Optional&lt;String&gt;` as long as the processing is ready to return an empty `Optional` in case of the input list is empty. \r\n\r\n\r\n**An important note:** Consider using rather a class for such construct (with `String name` and `int score`). The further operations would be the way easier.\r\n\r\n  [1]: https://regex101.com/r/1G4FoN/2\r\n\r\n","title":"Output the maximum score","body":"<p>There is a simple way using Stream API, Regex (see demo at <a href=\"https://regex101.com/r/1G4FoN/2\" rel=\"nofollow noreferrer\">Regex101</a>) and the classes <code>Pattern</code> and <code>Matcher</code>.</p>\n<blockquote>\n<pre><code>([A-Za-z ]+) (\\d+)\n</code></pre>\n</blockquote>\n<p>Remember in Java the Regex must be double-escaped (<code>\\d</code> -&gt; <code>\\\\d</code>):</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;([A-Za-z ]+)(\\\\d+)&quot;);\n\nOptional&lt;String&gt; result = teams.stream()\n    .map(pattern::matcher)\n    .filter(Matcher::find)\n    .collect(Collectors.collectingAndThen(\n            Collectors.groupingBy(\n                matcher -&gt; matcher.group(1),\n                LinkedHashMap::new,\n                Collectors.summingInt(m -&gt; Integer.parseInt(m.group(2)))),\n            m -&gt; m.entrySet().stream()\n                    .max(Comparator.comparingInt(Entry::getValue))\n                    .map(e -&gt; e.getKey() + &quot; &quot; + e.getValue())));\n</code></pre>\n<p>The <code>Matcher</code> has the advantage it holds the original String (<code>group()</code>) and the captured groups (<code>group(int)</code>). After calling <code>Matcher#find</code> you are able to work with the captured groups. Get a group the number is in and use it for the summing into downstream of <code>groupingBy</code> collector to get a <code>Map&lt;String, Integer&gt;</code> with the name of the team as a key and their total sum of the score as a value. The map supplier <code>LinkedHashMap::new</code> assures an ordered map.</p>\n<p>The subsequent <code>Collectors.collectingAndThen</code> takes the entries and finds the one having the highest score. The whole Stream results in <code>Optional&lt;String&gt;</code> as long as the processing is ready to return an empty <code>Optional</code> in case of the input list is empty.</p>\n<p><strong>An important note:</strong> Consider using rather a class for such construct (with <code>String name</code> and <code>int score</code>). The further operations would be the way easier.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616432872,"creation_date":1614080995,"answer_id":66332573,"question_id":66330610,"body_markdown":"A stream-based solution should use `Collectors.groupingBy` and `Collectors.summingInt` to calculate the total goals/points into a map and then get maximum value out of its entries:\r\n```java\r\nteams.stream()\r\n     .map(s -&gt; s.split(&quot; &quot;)) // Stream&lt;String[]&gt;\r\n     .collect(Collectors.groupingBy(arr -&gt; arr[0], \r\n              Collectors.summingInt(arr -&gt; Integer.parseInt(arr[1])))) // Map&lt;String, Integer&gt;\r\n     .entrySet().stream()\r\n     .max(Map.Entry.comparingByValue())\r\n     .ifPresentOrElse(e -&gt; System.out.printf(&quot;Stream: %s - %d goals%n&quot;, e.getKey(), e.getValue()),\r\n                      () -&gt; System.out.println(&quot;No team found&quot;));\r\n```\r\nOutput:\r\n```\r\nStream: Bayern - 12 goals\r\n```\r\n**Update**&lt;br/&gt;\r\nHowever, this solution does not guarantee that the team which scored the maximum goals the earliest will be selected as a winner.\r\n\r\nFor `List&lt;String&gt; teams = Arrays.asList(&quot;AEK 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;AEK 4&quot;);` the result is `AEK`.\r\n\r\n----\r\n\r\nSimilar loop-based version could be using `Map::merge` to calculate the total value of goals/points:\r\n```java\r\nMap&lt;String, Integer&gt; totals = new HashMap&lt;&gt;();\r\nString maxTeam = null;\r\nint max = 0;\r\nfor (String record : teams) {\r\n    String[] r = record.split(&quot; &quot;);\r\n    if (max &lt; totals.merge(r[0], Integer.parseInt(r[1]), Integer::sum)) {\r\n        maxTeam = r[0];\r\n        max = totals.get(maxTeam);\r\n    }\r\n}\r\nSystem.out.printf(&quot;Loop: %s - %d goals%n&quot;, maxTeam, max);\r\n```\r\nOutput:\r\n```\r\nLoop: Bayern - 12 goals\r\n```","title":"Output the maximum score","body":"<p>A stream-based solution should use <code>Collectors.groupingBy</code> and <code>Collectors.summingInt</code> to calculate the total goals/points into a map and then get maximum value out of its entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>teams.stream()\n     .map(s -&gt; s.split(&quot; &quot;)) // Stream&lt;String[]&gt;\n     .collect(Collectors.groupingBy(arr -&gt; arr[0], \n              Collectors.summingInt(arr -&gt; Integer.parseInt(arr[1])))) // Map&lt;String, Integer&gt;\n     .entrySet().stream()\n     .max(Map.Entry.comparingByValue())\n     .ifPresentOrElse(e -&gt; System.out.printf(&quot;Stream: %s - %d goals%n&quot;, e.getKey(), e.getValue()),\n                      () -&gt; System.out.println(&quot;No team found&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>Stream: Bayern - 12 goals\n</code></pre>\n<p><strong>Update</strong><br/>\nHowever, this solution does not guarantee that the team which scored the maximum goals the earliest will be selected as a winner.</p>\n<p>For <code>List&lt;String&gt; teams = Arrays.asList(&quot;AEK 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;AEK 4&quot;);</code> the result is <code>AEK</code>.</p>\n<hr />\n<p>Similar loop-based version could be using <code>Map::merge</code> to calculate the total value of goals/points:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; totals = new HashMap&lt;&gt;();\nString maxTeam = null;\nint max = 0;\nfor (String record : teams) {\n    String[] r = record.split(&quot; &quot;);\n    if (max &lt; totals.merge(r[0], Integer.parseInt(r[1]), Integer::sum)) {\n        maxTeam = r[0];\n        max = totals.get(maxTeam);\n    }\n}\nSystem.out.printf(&quot;Loop: %s - %d goals%n&quot;, maxTeam, max);\n</code></pre>\n<p>Output:</p>\n<pre><code>Loop: Bayern - 12 goals\n</code></pre>\n"}],"owner":{"account_id":17701095,"reputation":51,"user_id":12850705,"display_name":"AlexBlack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1614091583,"accepted_answer_id":66330741,"answer_count":3,"score":2,"last_activity_date":1675112961,"creation_date":1614073242,"question_id":66330610,"body_markdown":"I have a following list of teams with their score:\r\n\r\n    List&lt;String&gt; teams = Arrays.asList(&quot;Dortmund 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;);\r\n\r\nI need to output the team who got maximum score. If the scores are equal, output the team who got it first. In my example Dortmund and Bayern has equal score, but Bayern got it first. So the output is Bayern. Here is what I have for now:\r\n\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (String s : teams) {\r\n            String[] rec = s.split(&quot; &quot;);\r\n            int val = Integer.parseInt(rec[1]);\r\n            map.put(rec[0], map.get(rec[0])==null ? val : map.get(rec[0]) + val);\r\n        }\r\n        System.out.println(map);\r\n\r\nThe code just sum the scores of each team and save it on map. I could not change the way I need. ","title":"Output the maximum score","body":"<p>I have a following list of teams with their score:</p>\n<pre><code>List&lt;String&gt; teams = Arrays.asList(&quot;Dortmund 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;);\n</code></pre>\n<p>I need to output the team who got maximum score. If the scores are equal, output the team who got it first. In my example Dortmund and Bayern has equal score, but Bayern got it first. So the output is Bayern. Here is what I have for now:</p>\n<pre><code>    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (String s : teams) {\n        String[] rec = s.split(&quot; &quot;);\n        int val = Integer.parseInt(rec[1]);\n        map.put(rec[0], map.get(rec[0])==null ? val : map.get(rec[0]) + val);\n    }\n    System.out.println(map);\n</code></pre>\n<p>The code just sum the scores of each team and save it on map. I could not change the way I need.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":3365752,"reputation":2491,"user_id":2826417,"accept_rate":50,"display_name":"Sanjay"},"score":1,"creation_date":1486359346,"post_id":42060823,"comment_id":71294035,"body_markdown":"Refer This : http://stackoverflow.com/questions/6946390/installing-a-remote-tomcat-server-in-eclipse","body":"Refer This : <a href=\"http://stackoverflow.com/questions/6946390/installing-a-remote-tomcat-server-in-eclipse\" title=\"installing a remote tomcat server in eclipse\">stackoverflow.com/questions/6946390/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7966736,"reputation":25,"user_id":6012759,"display_name":"Navneet Chandra Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675112804,"creation_date":1486363132,"answer_id":42061716,"question_id":42060823,"body_markdown":"Convert your web project to Maven Project and copy and paste the below code to your pom file.\r\n\r\n````\r\n&lt;project ...&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;url&gt;http://yourhost:8080/manager/text&lt;/url&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n````","title":"Adding Tomcat server remotely to Eclipse IDE","body":"<p>Convert your web project to Maven Project and copy and paste the below code to your pom file.</p>\n<pre><code>&lt;project ...&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;url&gt;http://yourhost:8080/manager/text&lt;/url&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7966736,"reputation":25,"user_id":6012759,"display_name":"Navneet Chandra Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486364634,"creation_date":1486364634,"answer_id":42062045,"question_id":42060823,"body_markdown":"Convert your web project to Maven Project and copy and paste the below code to your pom file.\r\n\r\n&lt;html&gt;\r\n  &lt;build&gt;&lt;plugins&gt;&lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;&lt;version&gt;2.1&lt;/version&gt;&lt;configuration&lt;url&gt;http://yourhost:8080/manager/text&lt;/url&gt; &lt;/configuration&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;&lt;/html&gt;\r\n\r\n\r\nYes the above code is working you need to configure remote ip to url section. \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Adding Tomcat server remotely to Eclipse IDE","body":"<p>Convert your web project to Maven Project and copy and paste the below code to your pom file.</p>\n\n<p>\n   org.apache.tomcat.maventomcat7-maven-plugin2.1<a href=\"http://yourhost:8080/manager/text\" rel=\"nofollow noreferrer\">http://yourhost:8080/manager/text</a> </p>\n\n<p>Yes the above code is working you need to configure remote ip to url section. </p>\n"}],"owner":{"account_id":9518811,"reputation":9,"user_id":7074321,"accept_rate":25,"display_name":"janu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675112804,"creation_date":1486358642,"question_id":42060823,"body_markdown":"Normally in Eclipse we run, Tomcat v7.0 Server at localhost\r\n \r\nCan we add a tomcat which is located remotely on another IP address?\r\n\r\nCurrently, I&#39;m running programs in Windows. I need it to be run with tomcat server which is located on another IP address on Linux.\r\n","title":"Adding Tomcat server remotely to Eclipse IDE","body":"<p>Normally in Eclipse we run, Tomcat v7.0 Server at localhost</p>\n\n<p>Can we add a tomcat which is located remotely on another IP address?</p>\n\n<p>Currently, I'm running programs in Windows. I need it to be run with tomcat server which is located on another IP address on Linux.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1472657540,"post_id":39253547,"comment_id":65843133,"body_markdown":"This sounds like an awfully complicated stored procedure to begin with. Why don&#39;t you use Java code to convert strings to SQL compatible time points to begin with, instead of letting Oracle do this? Also, you only ever open cursors in the stored procedure but never exploit them??","body":"This sounds like an awfully complicated stored procedure to begin with. Why don&#39;t you use Java code to convert strings to SQL compatible time points to begin with, instead of letting Oracle do this? Also, you only ever open cursors in the stored procedure but never exploit them??"}],"answers":[{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675112742,"creation_date":1472660664,"answer_id":39254609,"question_id":39253547,"body_markdown":"Change your namednative query to have `{}` on it\r\n\r\n    @NamedNativeQueries({`@NamedNativeQuery(\r\n        name = &quot;callBusinessUnitProcedure&quot;,`enter code here`\r\n        query = &quot;{CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)}&quot;,\r\n        resultClass = Company.class`)\r\n    })\r\n\r\nCheck this https://stackoverflow.com/a/26381638/258741\r\n","title":"Hibernate invoking Stored Procedure returns not a valid function or procedure name error","body":"<p>Change your namednative query to have <code>{}</code> on it</p>\n<pre><code>@NamedNativeQueries({`@NamedNativeQuery(\n    name = &quot;callBusinessUnitProcedure&quot;,`enter code here`\n    query = &quot;{CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)}&quot;,\n    resultClass = Company.class`)\n})\n</code></pre>\n<p>Check this <a href=\"https://stackoverflow.com/a/26381638/258741\">https://stackoverflow.com/a/26381638/258741</a></p>\n"}],"owner":{"account_id":9106765,"reputation":21,"user_id":6776873,"display_name":"RKN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675112742,"creation_date":1472657190,"question_id":39253547,"body_markdown":"This is my procedure I am trying to invoke in Hibernate.\r\n\r\n    PROCEDURE CSR_GET_BUSINS_UNIT_EXP(\r\n                          v_start_year VARCHAR2,\r\n                          v_end_year VARCHAR2,\r\n                          c_bus_total OUT cursor_output,\r\n                          c_bus_month_total OUT cursor_output,\r\n                          c_bus_unit_info OUT cursor_output,\r\n                          c_bus_exp_info OUT cursor_output\r\n                          ) AS\r\n      BEGIN\r\n            OPEN c_bus_total FOR\r\n                SELECT NVL(SUM(amount),0)\r\n                FROM TIPS_BUS_UNIT\r\n                WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n                AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;);\r\n            OPEN c_bus_month_total FOR\r\n               SELECT TO_CHAR(acct_per,&#39;MON-YYYY&#39;), NVL(SUM(amount),0)\r\n                  FROM TIPS_BUS_UNIT\r\n                  WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n                  AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;)\r\n                  GROUP BY acct_per\r\n                  ORDER BY acct_per DESC;\r\n           OPEN c_bus_unit_info FOR\r\n               SELECT TIPS_BUNIT, NVL(SUM(amount),0)\r\n                  FROM TIPS_BUS_UNIT\r\n                  WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n                  AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;)\r\n                  GROUP BY TIPS_BUNIT\r\n                  ORDER BY TIPS_BUNIT DESC;\r\n           OPEN c_bus_exp_info FOR\r\n                  SELECT TIPS_BUNIT, TO_CHAR(acct_per,&#39;MON-YYYY&#39;), amount\r\n               FROM TIPS_BUS_UNIT\r\n               WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n               AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;)\r\n               ORDER BY TIPS_BUNIT DESC, ACCT_PER DESC;\r\n       END;\r\n\r\nAnd below is my POJO where i have defined my procedure in.setters and getters added.\r\n\r\n\r\n\r\n \r\n\r\n    @NamedNativeQueries({`@NamedNativeQuery(\r\n            name = &quot;callBusinessUnitProcedure&quot;,`enter code here`\r\n            query = &quot;CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)&quot;,\r\n            resultClass = Company.class`)\r\n        })\r\n        @Entity\r\n        @Table(name=&quot;TIPS_BUS_UNIT&quot;,schema =&quot;CSR&quot;)\r\n        public class Company implements Serializable{\r\n        @Column(name = &quot;TIPS_BUNIT&quot;)\r\n        \t@Id\r\n        \t@JsonProperty(value=&quot;businessUnit&quot;)\r\n        \tprivate String businessUnit;\r\n        \t\r\n        \t@Column(name = &quot;BUS_UNIT_DESC&quot;)\r\n        \t@JsonProperty(value=&quot;description&quot;)\r\n        \tprivate String description;\r\n        \t\r\n        \t@Column(name = &quot;ACCT_PER&quot;)\r\n        \t@JsonProperty(value=&quot;date&quot;)\r\n        \tprivate String date;\r\n        \t\r\n        \t@Column(name = &quot;AMOUNT&quot;)\r\n        \t@JsonProperty(value=&quot;amount&quot;)\r\n        \tprivate String amount;\r\n\r\n\r\n    \r\n\r\nThe below is my IMPL class where I am invoking the stored procedure to hit the data base.\r\n\r\n   \r\n\r\n     @SuppressWarnings(&quot;unchecked&quot;)\r\n        \t@Override\r\n        \tpublic  List&lt;Company&gt; getWebReports()\r\n        \t{\r\n        \t\t\r\n        \t\tList&lt;Company&gt; webReport = new ArrayList&lt;Company&gt;();\r\n        \t\t\r\n        \t\t\r\n        \t\twebReport =  entityManager\r\n        \t\t\t\t.createNamedQuery(&quot;callBusinessUnitProcedure&quot;).setParameter(&quot;v_start_year&quot;,&quot;07-OCT-2007&quot;)\r\n        \t\t\t\t.setParameter(&quot;v_end_year&quot;, &quot;06-JAN-2006&quot;).getResultList();\r\n                 return webReport;\r\n\r\nAnd when I run this I am getting the error below in my console.\r\nPlease help if anyone else is facing this kind of problem...\r\n\r\n    2016-08-30 21:59:13.516  INFO 11884 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 56 ms\r\n    Hibernate: CALL CSR_GET_BUSINS_UNIT_EXP(?,?)\r\n    2016-08-30 21:59:15.199  WARN 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 6576, SQLState: 65000\r\n    2016-08-30 21:59:15.199 ERROR 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-06576: not a valid function or procedure name\r\n    \r\n    2016-08-30 21:59:15.269 ERROR 11884 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[`dispatcherServlet`]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract Result Set; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract Result Set] with root cause\r\n    \r\n    java.sql.SQLException: ORA-06576: not a valid function or procedure name\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Hibernate invoking Stored Procedure returns not a valid function or procedure name error","body":"<p>This is my procedure I am trying to invoke in Hibernate.</p>\n\n<pre><code>PROCEDURE CSR_GET_BUSINS_UNIT_EXP(\n                      v_start_year VARCHAR2,\n                      v_end_year VARCHAR2,\n                      c_bus_total OUT cursor_output,\n                      c_bus_month_total OUT cursor_output,\n                      c_bus_unit_info OUT cursor_output,\n                      c_bus_exp_info OUT cursor_output\n                      ) AS\n  BEGIN\n        OPEN c_bus_total FOR\n            SELECT NVL(SUM(amount),0)\n            FROM TIPS_BUS_UNIT\n            WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n            AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy');\n        OPEN c_bus_month_total FOR\n           SELECT TO_CHAR(acct_per,'MON-YYYY'), NVL(SUM(amount),0)\n              FROM TIPS_BUS_UNIT\n              WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n              AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy')\n              GROUP BY acct_per\n              ORDER BY acct_per DESC;\n       OPEN c_bus_unit_info FOR\n           SELECT TIPS_BUNIT, NVL(SUM(amount),0)\n              FROM TIPS_BUS_UNIT\n              WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n              AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy')\n              GROUP BY TIPS_BUNIT\n              ORDER BY TIPS_BUNIT DESC;\n       OPEN c_bus_exp_info FOR\n              SELECT TIPS_BUNIT, TO_CHAR(acct_per,'MON-YYYY'), amount\n           FROM TIPS_BUS_UNIT\n           WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n           AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy')\n           ORDER BY TIPS_BUNIT DESC, ACCT_PER DESC;\n   END;\n</code></pre>\n\n<p>And below is my POJO where i have defined my procedure in.setters and getters added.</p>\n\n<pre><code>@NamedNativeQueries({`@NamedNativeQuery(\n        name = \"callBusinessUnitProcedure\",`enter code here`\n        query = \"CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)\",\n        resultClass = Company.class`)\n    })\n    @Entity\n    @Table(name=\"TIPS_BUS_UNIT\",schema =\"CSR\")\n    public class Company implements Serializable{\n    @Column(name = \"TIPS_BUNIT\")\n        @Id\n        @JsonProperty(value=\"businessUnit\")\n        private String businessUnit;\n\n        @Column(name = \"BUS_UNIT_DESC\")\n        @JsonProperty(value=\"description\")\n        private String description;\n\n        @Column(name = \"ACCT_PER\")\n        @JsonProperty(value=\"date\")\n        private String date;\n\n        @Column(name = \"AMOUNT\")\n        @JsonProperty(value=\"amount\")\n        private String amount;\n</code></pre>\n\n<p>The below is my IMPL class where I am invoking the stored procedure to hit the data base.</p>\n\n<pre><code> @SuppressWarnings(\"unchecked\")\n        @Override\n        public  List&lt;Company&gt; getWebReports()\n        {\n\n            List&lt;Company&gt; webReport = new ArrayList&lt;Company&gt;();\n\n\n            webReport =  entityManager\n                    .createNamedQuery(\"callBusinessUnitProcedure\").setParameter(\"v_start_year\",\"07-OCT-2007\")\n                    .setParameter(\"v_end_year\", \"06-JAN-2006\").getResultList();\n             return webReport;\n</code></pre>\n\n<p>And when I run this I am getting the error below in my console.\nPlease help if anyone else is facing this kind of problem...</p>\n\n<pre><code>2016-08-30 21:59:13.516  INFO 11884 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 56 ms\nHibernate: CALL CSR_GET_BUSINS_UNIT_EXP(?,?)\n2016-08-30 21:59:15.199  WARN 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 6576, SQLState: 65000\n2016-08-30 21:59:15.199 ERROR 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-06576: not a valid function or procedure name\n\n2016-08-30 21:59:15.269 ERROR 11884 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[`dispatcherServlet`]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract Result Set; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract Result Set] with root cause\n\njava.sql.SQLException: ORA-06576: not a valid function or procedure name\n</code></pre>\n"},{"tags":["java","spring-boot","jenkins"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674955591,"post_id":75272029,"comment_id":132824497,"body_markdown":"you need to either change working directory after project been checked out: `cd springbootmicroservicedailybuffer` or tell `maven` where project files are located: `mvn -f springbootmicroservicedailybuffer clean install -DskipTests`","body":"you need to either change working directory after project been checked out: <code>cd springbootmicroservicedailybuffer</code> or tell <code>maven</code> where project files are located: <code>mvn -f springbootmicroservicedailybuffer clean install -DskipTests</code>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1674956297,"post_id":75272029,"comment_id":132824562,"body_markdown":"@AndreyB.Panfilov I&#39;ll try it. Instead of `this command `mvn clean install -D skipTests` at the end of Jenkinsfile, I should this command `mvn -f springbootmicroservicedailybuffer clean install -DskipTests` . Is it right? Where do I use `cd springbootmicroservicedailybuffer` Is it defined after `git` command.","body":"@AndreyB.Panfilov I&#39;ll try it. Instead of <code>this command </code>mvn clean install -D skipTests` at the end of Jenkinsfile, I should this command <code>mvn -f springbootmicroservicedailybuffer clean install -DskipTests</code> . Is it right? Where do I use <code>cd springbootmicroservicedailybuffer</code> Is it defined after <code>git</code> command."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675017964,"post_id":75272029,"comment_id":132833287,"body_markdown":"@AndreyB.Panfilov I tried to use your approach but I get these issues. Can you help me?","body":"@AndreyB.Panfilov I tried to use your approach but I get these issues. Can you help me?"}],"answers":[{"tags":[],"owner":{"account_id":19166589,"reputation":486,"user_id":14001175,"display_name":"Atxulo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675079388,"creation_date":1675029256,"answer_id":75278665,"question_id":75272029,"body_markdown":"In your repo (https://github.com/Rapter1990/springbootmicroservicedailybuffer) you have several pom.xml, but they are in subfolders, so you should enter them before running maven.\r\n\r\n```\r\ndir(&quot;apigateway&quot;) {\r\n  sh &quot;mvn clean install -DskipTests&quot;\r\n}\r\ndir(&quot;auth-service&quot;) {\r\n  sh &quot;mvn clean install -DskipTests&quot;\r\n}\r\n...\r\n```\r\n\r\nI also guess you could delete the &quot;git&quot; line in your Jenkinsfile, as Jenkins is already downloading the project to run it (you have your jenkinsfile and your source code in the same git repo)","title":"Spring Boot Microservices - Jenkinsfile &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>In your repo (<a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">https://github.com/Rapter1990/springbootmicroservicedailybuffer</a>) you have several pom.xml, but they are in subfolders, so you should enter them before running maven.</p>\n<pre><code>dir(&quot;apigateway&quot;) {\n  sh &quot;mvn clean install -DskipTests&quot;\n}\ndir(&quot;auth-service&quot;) {\n  sh &quot;mvn clean install -DskipTests&quot;\n}\n...\n</code></pre>\n<p>I also guess you could delete the &quot;git&quot; line in your Jenkinsfile, as Jenkins is already downloading the project to run it (you have your jenkinsfile and your source code in the same git repo)</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675112648,"creation_date":1675112648,"answer_id":75290124,"question_id":75272029,"body_markdown":"Here is the answer shown below.\r\n\r\n    pipeline {\r\n        agent any\r\n        tools {\r\n            maven &quot;Maven 3.6.3&quot;\r\n        }\r\n        stages {\r\n            stage(&quot;build project&quot;) {\r\n                steps {\r\n                    // git &#39;https://github.com/Rapter1990/springbootmicroservicedailybuffer&#39;\r\n                    echo &quot;Java VERSION&quot;\r\n                    sh &#39;java --version&#39;\r\n                    echo &quot;Maven VERSION&quot;\r\n                    sh &#39;mvn --version&#39;\r\n                    echo &#39;building project...&#39;\r\n    \r\n                    dir(&quot;service-registry&quot;) {\r\n                      sh &quot;mvn clean install&quot;\r\n                    }\r\n    \r\n                    dir(&quot;configserver&quot;) {\r\n                      sh &quot;mvn clean install&quot;\r\n                    }\r\n    \r\n                    dir(&quot;apigateway&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;auth-service&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;productservice&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;orderservice&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;paymentservice&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot Microservices - Jenkinsfile &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>Here is the answer shown below.</p>\n<pre><code>pipeline {\n    agent any\n    tools {\n        maven &quot;Maven 3.6.3&quot;\n    }\n    stages {\n        stage(&quot;build project&quot;) {\n            steps {\n                // git 'https://github.com/Rapter1990/springbootmicroservicedailybuffer'\n                echo &quot;Java VERSION&quot;\n                sh 'java --version'\n                echo &quot;Maven VERSION&quot;\n                sh 'mvn --version'\n                echo 'building project...'\n\n                dir(&quot;service-registry&quot;) {\n                  sh &quot;mvn clean install&quot;\n                }\n\n                dir(&quot;configserver&quot;) {\n                  sh &quot;mvn clean install&quot;\n                }\n\n                dir(&quot;apigateway&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;auth-service&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;productservice&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;orderservice&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;paymentservice&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75278665,"answer_count":2,"score":0,"last_activity_date":1675112648,"creation_date":1674954943,"question_id":75272029,"body_markdown":"I have a problem about running Jenkinsfile in Jenkins for my Spring Boot Microservices example.\r\n\r\nI run Jenkins on Docker.\r\n\r\nAfter implementing a required settings for Jenkins and creating Jenkinsfile in my Spring Boot Microservices example, I run the pipeline in Jenkins but I got an error.\r\n\r\n[![Image][1]][1]\r\n\r\n\r\nHere is the error message shown below.\r\n\r\n    + mvn clean install -D skipTests\r\n    [INFO] Scanning for projects...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.053 s\r\n    [INFO] Finished at: 2023-01-29T01:07:58Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] The goal you specified requires a project to execute but there is no POM in this directory (/var/jenkins_home/workspace/Spring Boot Microservices Pipeline). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\r\n\r\nHow can I fix the issue?\r\n\r\nHere is my repo : [Link][2]\r\n\r\nHere is git backend system : [Link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2zKxq.png\r\n  [2]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [3]: https://github.com/Rapter1990/springappconfig","title":"Spring Boot Microservices - Jenkinsfile &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>I have a problem about running Jenkinsfile in Jenkins for my Spring Boot Microservices example.</p>\n<p>I run Jenkins on Docker.</p>\n<p>After implementing a required settings for Jenkins and creating Jenkinsfile in my Spring Boot Microservices example, I run the pipeline in Jenkins but I got an error.</p>\n<p><a href=\"https://i.stack.imgur.com/2zKxq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2zKxq.png\" alt=\"Image\" /></a></p>\n<p>Here is the error message shown below.</p>\n<pre><code>+ mvn clean install -D skipTests\n[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.053 s\n[INFO] Finished at: 2023-01-29T01:07:58Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (/var/jenkins_home/workspace/Spring Boot Microservices Pipeline). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is git backend system : <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1675120368,"post_id":75290104,"comment_id":132856864,"body_markdown":"_&quot;I created cluster ...&quot;_ On MongoDB Atlas?","body":"<i>&quot;I created cluster ...&quot;</i> On MongoDB Atlas?"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675112517,"creation_date":1675112517,"question_id":75290104,"body_markdown":"I try to use the MongoDB in the spring-boot project.\r\n\r\nI tried a different of non-usable tutorial and stopped on the official [documentation][1]\r\n\r\nI created cluster and now I ready to use MongoDB in my project.\r\nDocumentation says:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs I understand the `pwd` - this is the password, so my `application.properties` looks like:\r\n\r\n```\r\nspring.data.mongodb.uri=mongodb+srv://root:pass@88.155.XX.XXX.mongodb.net/mygrocerylist\r\nspring.data.mongodb.database=mygrocerylist\r\n```\r\n\r\nthis is all what I added to the `application.properties` - there are no other information in the tutorial.\r\n\r\nAfter I started project, I receive error, that repeats every several seconds (however project still launched - I receive error even during system logging):\r\n\r\n&gt; com.mongodb.MongoConfigurationException: No SRV records available for\r\n&gt; host 88.155.21.126 \tat\r\n&gt; com.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:64)\r\n&gt; ~[mongodb-driver-core-4.4.2.jar:na] \tat\r\n&gt; com.mongodb.internal.connection.DefaultDnsSrvRecordMonitor$DnsSrvRecordMonitorRunnable.run(DefaultDnsSrvRecordMonitor.java:78)\r\n&gt; ~[mongodb-driver-core-4.4.2.jar:na] \tat\r\n&gt; java.base/java.lang.Thread.run(Thread.java:829) ~[na:an]\r\n\r\n\r\n- please, can anyone to explain how to exactly add MongoDB to the spring project?\r\nI prefer to use such solution, since I need to complete the task and launch my project in the another PC. In any case - I tried to use mongoDb in the docker and this way also not work for me, and I not sure the other side use MongoDB locally.\r\n\r\n\r\n  [1]: https://www.mongodb.com/compatibility/spring-boot\r\n  [2]: https://i.stack.imgur.com/54wm4.png","title":"How to use mongoDb in spring boot? No SRV records available for host error","body":"<p>I try to use the MongoDB in the spring-boot project.</p>\n<p>I tried a different of non-usable tutorial and stopped on the official <a href=\"https://www.mongodb.com/compatibility/spring-boot\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>I created cluster and now I ready to use MongoDB in my project.\nDocumentation says:</p>\n<p><a href=\"https://i.stack.imgur.com/54wm4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54wm4.png\" alt=\"enter image description here\" /></a></p>\n<p>As I understand the <code>pwd</code> - this is the password, so my <code>application.properties</code> looks like:</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://root:pass@88.155.XX.XXX.mongodb.net/mygrocerylist\nspring.data.mongodb.database=mygrocerylist\n</code></pre>\n<p>this is all what I added to the <code>application.properties</code> - there are no other information in the tutorial.</p>\n<p>After I started project, I receive error, that repeats every several seconds (however project still launched - I receive error even during system logging):</p>\n<blockquote>\n<p>com.mongodb.MongoConfigurationException: No SRV records available for\nhost 88.155.21.126    at\ncom.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:64)\n~[mongodb-driver-core-4.4.2.jar:na]   at\ncom.mongodb.internal.connection.DefaultDnsSrvRecordMonitor$DnsSrvRecordMonitorRunnable.run(DefaultDnsSrvRecordMonitor.java:78)\n~[mongodb-driver-core-4.4.2.jar:na]   at\njava.base/java.lang.Thread.run(Thread.java:829) ~[na:an]</p>\n</blockquote>\n<ul>\n<li>please, can anyone to explain how to exactly add MongoDB to the spring project?\nI prefer to use such solution, since I need to complete the task and launch my project in the another PC. In any case - I tried to use mongoDb in the docker and this way also not work for me, and I not sure the other side use MongoDB locally.</li>\n</ul>\n"},{"tags":["java"],"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675112339,"answer_count":0,"score":0,"last_activity_date":1675112409,"creation_date":1675111987,"question_id":75290011,"body_markdown":"I got following code and that gives me some grief:\r\n\r\n```java\r\npublic class CodePointBuffer {\r\n\tpublic enum Type {\r\n\t\t\tBYTE,\r\n\t\t\tCHAR,\r\n\t\t\tINT\r\n\t}\r\n\tprivate final Type type;\r\n\r\n\tprivate CodePointBuffer(Type type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\tpublic static CodePointBuffer withBytes() {\r\n\t\treturn new CodePointBuffer(Type.BYTE);\r\n\t}\r\n}\r\n```\r\n\r\nI wonder how Java can allow access to a non-static nested type (aka. inner type) from a static method. The inner type (here the enum `Type`) requires an instance of the outer class, which is not the case in this context. So, how is this acceptable?","title":"Why can a static method access a non-static inner type?","body":"<p>I got following code and that gives me some grief:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CodePointBuffer {\n    public enum Type {\n            BYTE,\n            CHAR,\n            INT\n    }\n    private final Type type;\n\n    private CodePointBuffer(Type type) {\n        this.type = type;\n    }\n\n    public static CodePointBuffer withBytes() {\n        return new CodePointBuffer(Type.BYTE);\n    }\n}\n</code></pre>\n<p>I wonder how Java can allow access to a non-static nested type (aka. inner type) from a static method. The inner type (here the enum <code>Type</code>) requires an instance of the outer class, which is not the case in this context. So, how is this acceptable?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1675112920,"post_id":75290082,"comment_id":132855137,"body_markdown":"That query returns everything in both `NAMES` and `ADDRESS`. Which one do you actually need? Also, please share your `@Entities`, as those determine whether or not JPA performs a `JOIN`. As a final note, I **believe** that `IN` is not supported by JPA, but it is in JPQL. Let me check on that","body":"That query returns everything in both <code>NAMES</code> and <code>ADDRESS</code>. Which one do you actually need? Also, please share your <code>@Entities</code>, as those determine whether or not JPA performs a <code>JOIN</code>. As a final note, I <b>believe</b> that <code>IN</code> is not supported by JPA, but it is in JPQL. Let me check on that"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1675113263,"post_id":75290082,"comment_id":132855231,"body_markdown":"Double-checked, `IN` is supported in JPA as well.","body":"Double-checked, <code>IN</code> is supported in JPA as well."}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675112391,"creation_date":1675112391,"question_id":75290082,"body_markdown":"So I have a SQL query like this,\r\n\r\n```sql\r\nSELECT *\r\n  FROM USERS.NAMES UN\r\n  JOIN USERS.ADDRESS UA\r\n    ON ADDRESS_TYPE IN (&#39;{user_supplied_value_1}&#39;, &#39;{user_supplied_value_2}&#39;)\r\n   AND UN.USERS_ID = UA.USERS_ID\r\n WHERE UN.NAMES_ID = &#39;{user_supplied_value}&#39;\r\n```\r\n\r\nHow can I write a derived JPA query for this without having to use a native query?\r\n\r\n\r\nI was thinking of something along the lines of this,\r\n\r\n`List&lt;Names&gt; findAllByNamesIdAndAddressTypeIn`","title":"How can I write a JPA query without native query that includes join operation?","body":"<p>So I have a SQL query like this,</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\n  FROM USERS.NAMES UN\n  JOIN USERS.ADDRESS UA\n    ON ADDRESS_TYPE IN ('{user_supplied_value_1}', '{user_supplied_value_2}')\n   AND UN.USERS_ID = UA.USERS_ID\n WHERE UN.NAMES_ID = '{user_supplied_value}'\n</code></pre>\n<p>How can I write a derived JPA query for this without having to use a native query?</p>\n<p>I was thinking of something along the lines of this,</p>\n<p><code>List&lt;Names&gt; findAllByNamesIdAndAddressTypeIn</code></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675110289,"post_id":75289666,"comment_id":132854415,"body_markdown":"You need to explain how you are getting `ruleType`.","body":"You need to explain how you are getting <code>ruleType</code>."},{"owner":{"account_id":457386,"reputation":1883,"user_id":856672,"accept_rate":72,"display_name":"rico"},"score":0,"creation_date":1675110649,"post_id":75289666,"comment_id":132854539,"body_markdown":"@tgdavies that&#39;s part of the question, I want to get `ruleType` but I do not know how.","body":"@tgdavies that&#39;s part of the question, I want to get <code>ruleType</code> but I do not know how."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675112316,"creation_date":1675112316,"answer_id":75290070,"question_id":75289666,"body_markdown":"Because of type erasure you&#39;ll need to take Rule and DataSource together (not logical) or:\r\n\r\n    class Rule&lt;T&gt; {\r\n        public final Class&lt;T&gt; type;\r\n        protected Rule(Class&lt;T&gt; type) {\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n    private Map&lt;Class&lt;?&gt;, DataSource&lt;?&gt;&gt; dataSourcesByType = New HashMap&lt;&gt;();\r\n\r\nNow you can register DataSources by type \r\n\r\n    Class&lt;?&gt; ruleType = rule.type;\r\n    DataSource&lt;?&gt; ds = dataSourcesByType.get(ruleType);\r\n\r\nYou&#39;ll notice `&lt;?&gt;`, especially that `ds` cannot be more specific.\r\n\r\nThat could hint at alternative method overrides for cases A, B, C. A more type safe Map getter\r\n\r\n    public &lt;X&gt; DataSource&lt;X&gt; get(Class&lt;X&gt; type)\r\n\r\n","title":"Finding generic type in parallel hierarchies of generic types","body":"<p>Because of type erasure you'll need to take Rule and DataSource together (not logical) or:</p>\n<pre><code>class Rule&lt;T&gt; {\n    public final Class&lt;T&gt; type;\n    protected Rule(Class&lt;T&gt; type) {\n        this.type = type;\n    }\n}\n\nprivate Map&lt;Class&lt;?&gt;, DataSource&lt;?&gt;&gt; dataSourcesByType = New HashMap&lt;&gt;();\n</code></pre>\n<p>Now you can register DataSources by type</p>\n<pre><code>Class&lt;?&gt; ruleType = rule.type;\nDataSource&lt;?&gt; ds = dataSourcesByType.get(ruleType);\n</code></pre>\n<p>You'll notice <code>&lt;?&gt;</code>, especially that <code>ds</code> cannot be more specific.</p>\n<p>That could hint at alternative method overrides for cases A, B, C. A more type safe Map getter</p>\n<pre><code>public &lt;X&gt; DataSource&lt;X&gt; get(Class&lt;X&gt; type)\n</code></pre>\n"}],"owner":{"account_id":457386,"reputation":1883,"user_id":856672,"accept_rate":72,"display_name":"rico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75290070,"answer_count":1,"score":0,"last_activity_date":1675112316,"creation_date":1675109765,"question_id":75289666,"body_markdown":"Imagine I have 3 rules : `Rule&lt;A&gt;`, `Rule&lt;B&gt;`, `Rule&lt;C&gt;`\r\nSame I have 3 datasources : `Datasource&lt;A&gt;`, `Datasource&lt;B&gt;`, `Datasource&lt;C&gt;`\r\n\r\nIf I have a list of rules : `List&lt;Rule&lt;?&gt;&gt;`\r\nand I do a stream : `ruleList.stream().map(rule -&gt; ...)`\r\n\r\nIn the lambda function, I would like to call the datasource with same generic type than rule. For example :\r\n\r\n    ruleList.stream().map(rule -&gt; {\r\n       Class&lt;T&gt; ruleType = ... // Class&lt;A&gt;, Class&lt;B&gt; or Class&lt;C&gt;\r\n       Datasource&lt;T&gt; datasource = datasourceResolver.resolve(ruleType); // Datasource&lt;A&gt;, Datasource&lt;B&gt; or Datasource&lt;C&gt;\r\n       return datasource.doSomething();\r\n    })\r\n\r\nWhat would be the code to retrieve the `ruleType` and the code of `datasourceResolver` ?","title":"Finding generic type in parallel hierarchies of generic types","body":"<p>Imagine I have 3 rules : <code>Rule&lt;A&gt;</code>, <code>Rule&lt;B&gt;</code>, <code>Rule&lt;C&gt;</code>\nSame I have 3 datasources : <code>Datasource&lt;A&gt;</code>, <code>Datasource&lt;B&gt;</code>, <code>Datasource&lt;C&gt;</code></p>\n<p>If I have a list of rules : <code>List&lt;Rule&lt;?&gt;&gt;</code>\nand I do a stream : <code>ruleList.stream().map(rule -&gt; ...)</code></p>\n<p>In the lambda function, I would like to call the datasource with same generic type than rule. For example :</p>\n<pre><code>ruleList.stream().map(rule -&gt; {\n   Class&lt;T&gt; ruleType = ... // Class&lt;A&gt;, Class&lt;B&gt; or Class&lt;C&gt;\n   Datasource&lt;T&gt; datasource = datasourceResolver.resolve(ruleType); // Datasource&lt;A&gt;, Datasource&lt;B&gt; or Datasource&lt;C&gt;\n   return datasource.doSomething();\n})\n</code></pre>\n<p>What would be the code to retrieve the <code>ruleType</code> and the code of <code>datasourceResolver</code> ?</p>\n"},{"tags":["java","java-stream","composite","flatmap"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1675104588,"post_id":75288216,"comment_id":132852844,"body_markdown":"What enables you to assign a `BoxContainer` instance to a `List&lt;Box&gt;`?  And an expected output would also help a well as your class and interface definitions.","body":"What enables you to assign a <code>BoxContainer</code> instance to a <code>List&lt;Box&gt;</code>?  And an expected output would also help a well as your class and interface definitions."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1675105185,"post_id":75288216,"comment_id":132853006,"body_markdown":"@WJS I found something like this for composite pattern, dude which i snatched this from also used some streams to manipulate the data inside but he was mapping integers to calculate price, and my method does something else so i coulnd&#39;t borrow ready solution :(\n```public CompositeBlock(Box... boxes) {\n        allBoxes.addAll(Arrays.asList(boxes));\n    }\n```\nas for class/interface definitions :\n\n```\ninterface Box {\n    String getColor();\n    String getState();\n\n}\n```","body":"@WJS I found something like this for composite pattern, dude which i snatched this from also used some streams to manipulate the data inside but he was mapping integers to calculate price, and my method does something else so i coulnd&#39;t borrow ready solution :( <code>public CompositeBlock(Box... boxes) {         allBoxes.addAll(Arrays.asList(boxes));     } </code> as for class/interface definitions :  ``` interface Box {     String getColor();     String getState();  } ```"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675105554,"post_id":75288216,"comment_id":132853102,"body_markdown":"Put the suggested edits and details in the question.","body":"Put the suggested edits and details in the question."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1675107770,"post_id":75288216,"comment_id":132853699,"body_markdown":"@WJS I did just that","body":"@WJS I did just that"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1675109878,"post_id":75288216,"comment_id":132854299,"body_markdown":"So you want a stream of all the `Leaf`s, ignoring the `BoxContainer`s?","body":"So you want a stream of all the <code>Leaf</code>s, ignoring the <code>BoxContainer</code>s?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675111815,"creation_date":1675109827,"answer_id":75289682,"question_id":75288216,"body_markdown":"You need to have nested flatMaps if you want it to be recursive. The simplest way is to provide a method on the `Box` interface that streams all its nested boxes:\r\n\r\n    Stream&lt;Leaf&gt; leaves();\r\n\r\nOn the `BoxContainer` class, it would iterate over its children:\r\n\r\n    @Override\r\n    Stream&lt;Leaf&gt; leaves() {\r\n        return allBoxes.stream().flatMap(Box::leaves);\r\n    }\r\n\r\nAnd the `Leaf` class just returns itself:\r\n\r\n    @Override\r\n    Stream&lt;Leaf&gt; leaves() {\r\n        return Stream.of(this);\r\n    }\r\n\r\n[**Ideone Demo**][1]\r\n\r\n\r\n  [1]: https://ideone.com/KzFMon","title":"flatmap in a composite pattern","body":"<p>You need to have nested flatMaps if you want it to be recursive. The simplest way is to provide a method on the <code>Box</code> interface that streams all its nested boxes:</p>\n<pre><code>Stream&lt;Leaf&gt; leaves();\n</code></pre>\n<p>On the <code>BoxContainer</code> class, it would iterate over its children:</p>\n<pre><code>@Override\nStream&lt;Leaf&gt; leaves() {\n    return allBoxes.stream().flatMap(Box::leaves);\n}\n</code></pre>\n<p>And the <code>Leaf</code> class just returns itself:</p>\n<pre><code>@Override\nStream&lt;Leaf&gt; leaves() {\n    return Stream.of(this);\n}\n</code></pre>\n<p><a href=\"https://ideone.com/KzFMon\" rel=\"nofollow noreferrer\"><strong>Ideone Demo</strong></a></p>\n"}],"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675111815,"creation_date":1675100788,"question_id":75288216,"body_markdown":"I am learning design patterns and I stumbled upon a task that interested me, but I failed completing it. I have an interface Box, that has two extending class, let&#39;s call it Leaf and BoxContainer. I tried doing something like this: \r\n\r\n```\r\nList&lt;Box&gt; boxContainer = new BoxContainer(new Leaf(&quot;red&quot;,&quot;fresh&quot;),\r\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),\r\n                                                new BoxContainer((&quot;red&quot;,&quot;fresh&quot;),\r\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),)));\r\n\r\n```\r\n\r\n and one of the method i implemented needs to flatten the list into one long list, because when i try to sum up the size of the list it gives me 5, not 8 that i expect to get, since there are 8 leafs inside a box - 4 on the outside and another 4 inside the BoxContainer in the BoxContainer.\r\nI&#39;m trying to use flatmap because I wanted the method to be able to flatten more than 1 BoxContainer in a BoxContainer, I mean I would like to be able to pass a box in a box in a box in a box and so on, and the flatmap should help me do this as far as i understand. \r\nThe problem is that when I tried this :\r\n```\r\nList&lt;Box&gt; getBoxes() {\r\n        List&lt;Box&gt;flat= allBoxes.stream().flatMap(List::stream).collect(Collectors.toList());\r\n```\r\nthe List::stream gives me error &quot;Non-static method cannot be referenced from a static context&quot;\r\n\r\nis there any way around it, or is my implementation and simply thinking bad and I should go about it in some other way?\r\n\r\nI tried some lambda solutions and I browsed other examples of the problem but didn&#39;t find anything i could implement in my own code\r\n\r\n@Edit\r\n```\r\nclass BoxContainer implements Box{\r\n     List&lt;Box&gt; allBoxes= new ArrayList&lt;&gt;();\r\n    String color;\r\n    String state;\r\n\r\n    public BoxContainer(Box... boxes) {\r\n        allBoxes.addAll(Arrays.asList(boxes));\r\n    }\r\n\r\n```\r\n\r\nas for class/interface definitions :\r\n``` \r\ninterface Box { String getColor(); String getState(); } \r\n```\r\n\r\n","title":"flatmap in a composite pattern","body":"<p>I am learning design patterns and I stumbled upon a task that interested me, but I failed completing it. I have an interface Box, that has two extending class, let's call it Leaf and BoxContainer. I tried doing something like this:</p>\n<pre><code>List&lt;Box&gt; boxContainer = new BoxContainer(new Leaf(&quot;red&quot;,&quot;fresh&quot;),\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),\n                                                new BoxContainer((&quot;red&quot;,&quot;fresh&quot;),\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),)));\n\n</code></pre>\n<p>and one of the method i implemented needs to flatten the list into one long list, because when i try to sum up the size of the list it gives me 5, not 8 that i expect to get, since there are 8 leafs inside a box - 4 on the outside and another 4 inside the BoxContainer in the BoxContainer.\nI'm trying to use flatmap because I wanted the method to be able to flatten more than 1 BoxContainer in a BoxContainer, I mean I would like to be able to pass a box in a box in a box in a box and so on, and the flatmap should help me do this as far as i understand.\nThe problem is that when I tried this :</p>\n<pre><code>List&lt;Box&gt; getBoxes() {\n        List&lt;Box&gt;flat= allBoxes.stream().flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n<p>the List::stream gives me error &quot;Non-static method cannot be referenced from a static context&quot;</p>\n<p>is there any way around it, or is my implementation and simply thinking bad and I should go about it in some other way?</p>\n<p>I tried some lambda solutions and I browsed other examples of the problem but didn't find anything i could implement in my own code</p>\n<p>@Edit</p>\n<pre><code>class BoxContainer implements Box{\n     List&lt;Box&gt; allBoxes= new ArrayList&lt;&gt;();\n    String color;\n    String state;\n\n    public BoxContainer(Box... boxes) {\n        allBoxes.addAll(Arrays.asList(boxes));\n    }\n\n</code></pre>\n<p>as for class/interface definitions :</p>\n<pre><code>interface Box { String getColor(); String getState(); } \n</code></pre>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1675110290,"post_id":75289012,"comment_id":132854417,"body_markdown":"Please post all code as *text* rather than images. (I note this isn&#39;t the first time you&#39;ve received this feedback, by the way...)","body":"Please post all code as <i>text</i> rather than images. (I note this isn&#39;t the first time you&#39;ve received this feedback, by the way...)"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675110491,"creation_date":1675110178,"answer_id":75289736,"question_id":75289012,"body_markdown":"The `ANTLRInputStream` class is an ANTLR v3 class. You need the v4 variant(s). Do something like this instead:\r\n\r\n```java\r\nCharStream charStream = args.length &gt; 0\r\n    ? CharStreams.fromFileName(args[0])\r\n    : CharStreams.fromStream(System.in);\r\n\r\nLabLexer lexer = new LabLexer(charStream);\r\nLabParser parser = new LabParser(new CommonTokenStream(lexer));\r\n```","title":"Class B constructor argument is an interface.I need to pass as an argument to the 4th generation successor constructor of this interface","body":"<p>The <code>ANTLRInputStream</code> class is an ANTLR v3 class. You need the v4 variant(s). Do something like this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CharStream charStream = args.length &gt; 0\n    ? CharStreams.fromFileName(args[0])\n    : CharStreams.fromStream(System.in);\n\nLabLexer lexer = new LabLexer(charStream);\nLabParser parser = new LabParser(new CommonTokenStream(lexer));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27229009,"reputation":13,"user_id":20757034,"display_name":"ananas1kk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675111608,"creation_date":1675111608,"answer_id":75289943,"question_id":75289012,"body_markdown":"It&#39;s funny, but I quickly found a solution\r\nThe type of the variable must be the name of the interface.\r\nChar input = new ANTLRInputStream(arg); instead of ANTLRInputStream input = new ANTLRInputStream(arg);\r\nSorry for the stupid question, but I&#39;m new to Java))","title":"Class B constructor argument is an interface.I need to pass as an argument to the 4th generation successor constructor of this interface","body":"<p>It's funny, but I quickly found a solution\nThe type of the variable must be the name of the interface.\nChar input = new ANTLRInputStream(arg); instead of ANTLRInputStream input = new ANTLRInputStream(arg);\nSorry for the stupid question, but I'm new to Java))</p>\n"}],"owner":{"account_id":27229009,"reputation":13,"user_id":20757034,"display_name":"ananas1kk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675111608,"creation_date":1675105590,"question_id":75289012,"body_markdown":"There are two lines:\r\n1. An instance of the class &#39;ANTLRInputStream&#39; is created as &#39;input&#39;;\r\n2. An instance of another LabLexer class is created as &#39;lexer&#39;, where the &#39;input&#39; object from the previous line is passed in the constructor;\r\n   The &#39;lexer&#39; constructor specifies that the input argument type is CharStream, but CharStream is an interface. This interface implements the &#39;ANTLRStringStream&#39; class. The latter has a successor - &#39;ANTLReaderStream&#39;, and it has &#39;ANTLRInputStream&#39; from the first line.\r\n   Problem Description: &quot;LabLexer(org.antlr.v4.runtime.CharStream)&quot; in &quot;LabLexer&quot; cannot be applied to &quot;(org.antlr.runtime.ANTLRInputStream)&quot;\r\n   Unfortunately, I can&#39;t change the code, since it&#39;s a rather complicated tool for me - the code is written &quot;according to the instructions.&quot;\r\n   Help please!\r\n\r\nI tried to change the type of variable - not successful.\r\nAnd add new constructor or change existing - not successful too (variable of CharStream type is initialized in begin of code).\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ksMa.jpg\r\n  [2]: https://i.stack.imgur.com/nwlAt.png\r\n  [3]: https://i.stack.imgur.com/JmNDj.png\r\n  [4]: https://i.stack.imgur.com/5QRnY.png\r\n  [5]: https://i.stack.imgur.com/kEu7X.png\r\n  [6]: https://i.stack.imgur.com/FOPHb.png\r\n  [7]: https://i.stack.imgur.com/hbO4u.png","title":"Class B constructor argument is an interface.I need to pass as an argument to the 4th generation successor constructor of this interface","body":"<p>There are two lines:</p>\n<ol>\n<li>An instance of the class 'ANTLRInputStream' is created as 'input';</li>\n<li>An instance of another LabLexer class is created as 'lexer', where the 'input' object from the previous line is passed in the constructor;\nThe 'lexer' constructor specifies that the input argument type is CharStream, but CharStream is an interface. This interface implements the 'ANTLRStringStream' class. The latter has a successor - 'ANTLReaderStream', and it has 'ANTLRInputStream' from the first line.\nProblem Description: &quot;LabLexer(org.antlr.v4.runtime.CharStream)&quot; in &quot;LabLexer&quot; cannot be applied to &quot;(org.antlr.runtime.ANTLRInputStream)&quot;\nUnfortunately, I can't change the code, since it's a rather complicated tool for me - the code is written &quot;according to the instructions.&quot;\nHelp please!</li>\n</ol>\n<p>I tried to change the type of variable - not successful.\nAnd add new constructor or change existing - not successful too (variable of CharStream type is initialized in begin of code).\n<a href=\"https://i.stack.imgur.com/4ksMa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ksMa.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nwlAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nwlAt.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JmNDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JmNDj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5QRnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5QRnY.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kEu7X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kEu7X.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/FOPHb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FOPHb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hbO4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbO4u.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","google-chrome","selenium","selenium-webdriver","click"],"comments":[{"owner":{"account_id":63129,"reputation":22345,"user_id":187061,"accept_rate":88,"display_name":"jim tollan"},"score":1,"creation_date":1438275826,"post_id":31725033,"comment_id":51395396,"body_markdown":"jeremy -chrom v44 has known issues with click events and various sendkey combinations (in other words, it;s fairly useless). there has been lots of chatter about this, as this is the 1st time that chrome has majorly slipped in this respect. many of my tests are faling now too and I didn&#39;t realise the issue and was adding a whole new bundle of Waits until I discovered that there was a problem with v44 -hope this helps","body":"jeremy -chrom v44 has known issues with click events and various sendkey combinations (in other words, it;s fairly useless). there has been lots of chatter about this, as this is the 1st time that chrome has majorly slipped in this respect. many of my tests are faling now too and I didn&#39;t realise the issue and was adding a whole new bundle of Waits until I discovered that there was a problem with v44 -hope this helps"},{"owner":{"account_id":2190742,"reputation":413,"user_id":1937865,"accept_rate":50,"display_name":"Jeremy Borg"},"score":1,"creation_date":1438784131,"post_id":31725033,"comment_id":51591932,"body_markdown":"Thank you for your reply. I guess we&#39;ll have to wait for a new version of chrome then.","body":"Thank you for your reply. I guess we&#39;ll have to wait for a new version of chrome then."}],"answers":[{"tags":[],"owner":{"account_id":403854,"reputation":465637,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1438262751,"creation_date":1438262751,"answer_id":31725102,"question_id":31725033,"body_markdown":"There are several things you can try:\r\n\r\n * an Explicit `elementToBeClickable` Wait:\r\n\r\n        WebDriverWait wait = new WebDriverWait(webDriver, 10);\r\n\r\n        WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;myid&quot;)));\r\n        button.click()\r\n\r\n * move to element before making a click:\r\n\r\n        Actions actions = new Actions(driver);\r\n        actions.moveToElement(button).click().build().perform();\r\n\r\n * make the click via javascript:\r\n\r\n        JavascriptExecutor js = (JavascriptExecutor)driver;\r\n        js.executeScript(&quot;arguments[0].click();&quot;, button);\r\n","title":"Selenium click not always working","body":"<p>There are several things you can try:</p>\n\n<ul>\n<li><p>an Explicit <code>elementToBeClickable</code> Wait:</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(webDriver, 10);\n\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.id(\"myid\")));\nbutton.click()\n</code></pre></li>\n<li><p>move to element before making a click:</p>\n\n<pre><code>Actions actions = new Actions(driver);\nactions.moveToElement(button).click().build().perform();\n</code></pre></li>\n<li><p>make the click via javascript:</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor)driver;\njs.executeScript(\"arguments[0].click();\", button);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5868053,"reputation":101,"user_id":4621308,"accept_rate":25,"display_name":"Aditya Byreddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438262943,"creation_date":1438262943,"answer_id":31725174,"question_id":31725033,"body_markdown":"you can go with `linkText` if the tab name contains any unique string. And make sure your tab is not dynamic. It should be visible in source code(manual source code(`ctrl+u`)).","title":"Selenium click not always working","body":"<p>you can go with <code>linkText</code> if the tab name contains any unique string. And make sure your tab is not dynamic. It should be visible in source code(manual source code(<code>ctrl+u</code>)).</p>\n"},{"tags":[],"owner":{"account_id":15264422,"reputation":11,"user_id":11013506,"display_name":"Vilo C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549300548,"creation_date":1549297600,"answer_id":54520346,"question_id":31725033,"body_markdown":"The following method work for me \r\n\r\n    WebElement button = SeleniumTools.findVisibleElement(By.cssSelector(&quot;#cssid&quot;));\r\n\r\n    Actions actions = new Actions(driver);\r\n\r\n    actions.moveToElement(button).click().build().perform();\r\n\r\n","title":"Selenium click not always working","body":"<p>The following method work for me </p>\n\n<pre><code>WebElement button = SeleniumTools.findVisibleElement(By.cssSelector(\"#cssid\"));\n\nActions actions = new Actions(driver);\n\nactions.moveToElement(button).click().build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644446265,"creation_date":1644446265,"answer_id":71057688,"question_id":31725033,"body_markdown":"I have a similar problem. Tried all solutions from the top answer. Sometimes they work, sometimes don&#39;t. \r\n\r\nBut running code in an infinite loop works always.\r\n\r\nFor example, we need to click on `element-two` which is not visible until `element-one` is clicked. \r\n    \r\n    WebDriverWait wait = new WebDriverWait(webDriver, 10);\r\n    while (true){\r\n        try {\r\n            WebElement elementOne = \r\n                  wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-one&quot;)));\r\n            elementOne.click();\r\n            WebElement elementTwo = \r\n                  wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-two&quot;)));\r\n            elementTwo.click();\r\n            break;\r\n        } catch (Exception e){\r\n            //log\r\n        }\r\n\r\n    }","title":"Selenium click not always working","body":"<p>I have a similar problem. Tried all solutions from the top answer. Sometimes they work, sometimes don't.</p>\n<p>But running code in an infinite loop works always.</p>\n<p>For example, we need to click on <code>element-two</code> which is not visible until <code>element-one</code> is clicked.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(webDriver, 10);\nwhile (true){\n    try {\n        WebElement elementOne = \n              wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-one&quot;)));\n        elementOne.click();\n        WebElement elementTwo = \n              wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-two&quot;)));\n        elementTwo.click();\n        break;\n    } catch (Exception e){\n        //log\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19153806,"reputation":11,"user_id":13991103,"display_name":"Hope"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675111412,"creation_date":1675111412,"answer_id":75289914,"question_id":31725033,"body_markdown":"I have a similar problem. Here is my solution: \r\n```\r\ntable_button = driver.find_element(By.XPATH, insert your xpath)\r\ntry:\r\n    WebDriverWait(driver, 15).until(EC.element_to_be_clickable(table_button)).click()\r\nexcept WebDriverException as e:\r\n    print(&#39;failed&#39;)\r\n    print(e)\r\n```\r\nThrough code above, you can find the error message if your button is not clickable. \r\n\r\nFor example, my error message is &#39;nosuchelement&#39; and &#39;clcik is not clickable&#39;, then I got back to check the table_button.accessible_name, found it print a &#39;null&#39; value, so that means my XPATH is incorrect. \r\n\r\n","title":"Selenium click not always working","body":"<p>I have a similar problem. Here is my solution:</p>\n<pre><code>table_button = driver.find_element(By.XPATH, insert your xpath)\ntry:\n    WebDriverWait(driver, 15).until(EC.element_to_be_clickable(table_button)).click()\nexcept WebDriverException as e:\n    print('failed')\n    print(e)\n</code></pre>\n<p>Through code above, you can find the error message if your button is not clickable.</p>\n<p>For example, my error message is 'nosuchelement' and 'clcik is not clickable', then I got back to check the table_button.accessible_name, found it print a 'null' value, so that means my XPATH is incorrect.</p>\n"}],"owner":{"account_id":2190742,"reputation":413,"user_id":1937865,"accept_rate":50,"display_name":"Jeremy Borg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17100,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1675111412,"creation_date":1438262569,"question_id":31725033,"body_markdown":"I have some tests which click on a tab, however the click is not always performed. \r\n\r\n- The xpath is correct as most of the times the test works\r\n\r\n- It is not a timing issue as I ve used thread.sleep() and other methods to ensure that the element is visible before clicking\r\n\r\n- The test believes that it is performing the click as it is not throwing an ElementNotFoundException or any other exceptions when &#39;performing&#39; the click. The test fails later on after the click since the tab content would not have changed. \r\n\r\n\r\nFurther Info\r\nI am using Selenium 2.44.0 to implement tests in Java which run on Chrome 44.0.2403.107 m.\r\n\r\nIs there something else that I can do or could this be an issue with selenium?","title":"Selenium click not always working","body":"<p>I have some tests which click on a tab, however the click is not always performed. </p>\n\n<ul>\n<li><p>The xpath is correct as most of the times the test works</p></li>\n<li><p>It is not a timing issue as I ve used thread.sleep() and other methods to ensure that the element is visible before clicking</p></li>\n<li><p>The test believes that it is performing the click as it is not throwing an ElementNotFoundException or any other exceptions when 'performing' the click. The test fails later on after the click since the tab content would not have changed. </p></li>\n</ul>\n\n<p>Further Info\nI am using Selenium 2.44.0 to implement tests in Java which run on Chrome 44.0.2403.107 m.</p>\n\n<p>Is there something else that I can do or could this be an issue with selenium?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675110954,"creation_date":1675106757,"answer_id":75289195,"question_id":75288366,"body_markdown":"What you are looking for is a composite key, which you can create with either `@IdClass` or with `@Embeddable` and `@EmbeddedId`.  The catch is, however, that neither of these approaches will work with a @GeneratedId.\r\n\r\nIf you think about it, there&#39;s no need to have a composite key where one of the parts is autogenerated.  Just have one Id on your entity that&#39;s auto generated, and if you want, create an index across `(group_id, id)`.","title":"Spring Data JPA - @GeneratedValue annotation shows no affect","body":"<p>What you are looking for is a composite key, which you can create with either <code>@IdClass</code> or with <code>@Embeddable</code> and <code>@EmbeddedId</code>.  The catch is, however, that neither of these approaches will work with a @GeneratedId.</p>\n<p>If you think about it, there's no need to have a composite key where one of the parts is autogenerated.  Just have one Id on your entity that's auto generated, and if you want, create an index across <code>(group_id, id)</code>.</p>\n"}],"owner":{"account_id":17695614,"reputation":11,"user_id":12846434,"display_name":"WaveZee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675110954,"creation_date":1675101621,"question_id":75288366,"body_markdown":"I have a problem regarding my implementation of a weak entity type. (Note, if that&#39;s important: I&#39;m using H2 as my database)\r\n\r\nHere is my datamodel:\r\n[![Datamodel][1]][1]\r\n\r\nI&#39;m trying to implement Activity&#39;s concatenated primary key using two @ID annotated columns. Here is my activity class as well as its &quot;owner&quot;-class:\r\n\r\n```\r\n@Entity\r\npublic class Activity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn\r\n    private UserGroup group;\r\n\r\n    ...\r\n}\r\n\r\n@Entity\r\npublic class UserGroup {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nMy expected outcome would be, that inside my activity table id is generated by default as identity and group_id is set depending on the corresponding group-join. Basically something like this:\r\n\r\n```\r\ncreate table activity\r\n(\r\n    id              bigint generated by default as identity,\r\n    begin_date_time timestamp(6),\r\n    end_date_time   timestamp(6),\r\n    name            varchar(255) not null,\r\n    note            varchar(255),\r\n    group_id        bigint not null,\r\n    room_id         bigint,\r\n    primary key (group_id, id)\r\n);\r\n```\r\n\r\nInstead, spring disregards my @GeneratedValue annotation and sets it to group_id, ignoring my actual activity.id column:\r\n```\r\ncreate table activity\r\n(\r\n    id              bigint       not null,\r\n    begin_date_time timestamp(6),\r\n    end_date_time   timestamp(6),\r\n    name            varchar(255) not null,\r\n    note            varchar(255),\r\n    group_id        bigint generated by default as identity,\r\n    room_id         bigint,\r\n    primary key (group_id, id)\r\n);\r\n```\r\n\r\nThis is a problem, as I plan on using Rest-Endpoints and Repositories to run CRUD operations using HTTP-requests. Having an ID-counter that increments and gets new IDs for one table only seems unnecessary and dirty.\r\n\r\nCan somebody explain to me why this is happening? Can I manually annotate group_id as a manually assigned field as a quick workaround?\r\n\r\nCheers!\r\n\r\n[1]: https://i.stack.imgur.com/kFkwG.png","title":"Spring Data JPA - @GeneratedValue annotation shows no affect","body":"<p>I have a problem regarding my implementation of a weak entity type. (Note, if that's important: I'm using H2 as my database)</p>\n<p>Here is my datamodel:\n<a href=\"https://i.stack.imgur.com/kFkwG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kFkwG.png\" alt=\"Datamodel\" /></a></p>\n<p>I'm trying to implement Activity's concatenated primary key using two @ID annotated columns. Here is my activity class as well as its &quot;owner&quot;-class:</p>\n<pre><code>@Entity\npublic class Activity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Id\n    @ManyToOne\n    @JoinColumn\n    private UserGroup group;\n\n    ...\n}\n\n@Entity\npublic class UserGroup {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    ...\n}\n</code></pre>\n<p>My expected outcome would be, that inside my activity table id is generated by default as identity and group_id is set depending on the corresponding group-join. Basically something like this:</p>\n<pre><code>create table activity\n(\n    id              bigint generated by default as identity,\n    begin_date_time timestamp(6),\n    end_date_time   timestamp(6),\n    name            varchar(255) not null,\n    note            varchar(255),\n    group_id        bigint not null,\n    room_id         bigint,\n    primary key (group_id, id)\n);\n</code></pre>\n<p>Instead, spring disregards my @GeneratedValue annotation and sets it to group_id, ignoring my actual activity.id column:</p>\n<pre><code>create table activity\n(\n    id              bigint       not null,\n    begin_date_time timestamp(6),\n    end_date_time   timestamp(6),\n    name            varchar(255) not null,\n    note            varchar(255),\n    group_id        bigint generated by default as identity,\n    room_id         bigint,\n    primary key (group_id, id)\n);\n</code></pre>\n<p>This is a problem, as I plan on using Rest-Endpoints and Repositories to run CRUD operations using HTTP-requests. Having an ID-counter that increments and gets new IDs for one table only seems unnecessary and dirty.</p>\n<p>Can somebody explain to me why this is happening? Can I manually annotate group_id as a manually assigned field as a quick workaround?</p>\n<p>Cheers!</p>\n"},{"tags":["java","spring","grpc","interceptor","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675110915,"creation_date":1675110915,"answer_id":75289852,"question_id":75273891,"body_markdown":"Take a look at https://github.com/grpc/grpc-java/blob/master/api/src/test/java/io/grpc/ServerInterceptorsTest.java or https://github.com/grpc/grpc-java/blob/master/core/src/test/java/io/grpc/util/UtilServerInterceptorsTest.java to see how server interceptors are tested.\r\n\r\nRegarding `null`, the grpc framework will not pass null in `call` or `next` so I don&#39;t see any reason to check. In any case consider using `com.google.common.base.Preconditions.checkNotNull` from Guava. ","title":"Issues in Testing gRPC ServerInterceptor In Java","body":"<p>Take a look at <a href=\"https://github.com/grpc/grpc-java/blob/master/api/src/test/java/io/grpc/ServerInterceptorsTest.java\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/api/src/test/java/io/grpc/ServerInterceptorsTest.java</a> or <a href=\"https://github.com/grpc/grpc-java/blob/master/core/src/test/java/io/grpc/util/UtilServerInterceptorsTest.java\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/core/src/test/java/io/grpc/util/UtilServerInterceptorsTest.java</a> to see how server interceptors are tested.</p>\n<p>Regarding <code>null</code>, the grpc framework will not pass null in <code>call</code> or <code>next</code> so I don't see any reason to check. In any case consider using <code>com.google.common.base.Preconditions.checkNotNull</code> from Guava.</p>\n"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675110915,"creation_date":1674984808,"question_id":75273891,"body_markdown":"I have an gRPC interceptor written in java\r\n\r\nmy gRPC interceptor looks like this\r\n\r\n```\r\npublic class GrpcServerInterceptor implements ServerInterceptor {\r\n    @Override\r\n    public &lt;R, T&gt; ServerCall.Listener&lt;R&gt; interceptCall(ServerCall&lt;R, T&gt; call,\r\n                                                                 Metadata requestHeaders, ServerCallHandler&lt;R, T&gt; next) {\r\n\r\n        if(call == null || next == null)\r\n            return null;\r\n\r\n        if(call != null) {\r\n            String actionName = call.getMethodDescriptor().getBareMethodName();\r\n            String serviceName = call.getMethodDescriptor().getServiceName();\r\n            State.Holder.set(State.newBuilder().withControllerName(serviceName).withActionName(actionName).withFramework(&quot;grpc&quot;).build());\r\n        }\r\n\r\n        ServerCall.Listener&lt;R&gt; delegate = next.startCall(call, requestHeaders);\r\n\r\n        return new ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;R&gt;(delegate) {\r\n            @Override\r\n            public void onHalfClose() {\r\n                try {\r\n                    super.onHalfClose();\r\n                } catch (Exception e) {\r\n                    call.close(Status.INTERNAL\r\n                            .withCause (e)\r\n                            .withDescription(&quot;error message&quot;), new Metadata());\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI just want to unit test for above interceptor in junit.\r\n\r\nI am facing issues around building ServerCall, Metaddata and ServerCallHandler Objects and passing them around.\r\n\r\nI tried to create Server Call object like below in my unit test.\r\n```\r\n      ServerCall serverCall = new ForwardingServerCall() {\r\n        @Override\r\n        protected ServerCall delegate() {\r\n          return null;\r\n        }\r\n\r\n        @Override\r\n        public MethodDescriptor getMethodDescriptor() {\r\n          return MethodDescriptor.newBuilder().\r\n              setType(MethodType.UNKNOWN).\r\n              setRequestMarshaller(ProtoUtils.marshaller((StudentRequest.getDefaultInstance()))).\r\n              setResponseMarshaller(ProtoUtils.marshaller(StudentResponse.getDefaultInstance())).\r\n              setFullMethodName(generateFullMethodName(&quot;com.test.cloud.sc.grpc.backend.service.StudentServiceImpl&quot;, &quot;getStudentInfo&quot;)).\r\n              build();\r\n        }\r\n      };\r\n```\r\n\r\nBut above codeblock has issues around setting Request and Response Marshaller.\r\n\r\nHow can i unit test all the scenarios for my interceptor with minimal code setup and I don&#39;t want to start grpc server at all ?\r\n\r\n### EDIT 1\r\n\r\nHow can i improve null check handling in gRPC interceptor ?\r\n\r\nMany Thanks\r\n\r\n\r\n\r\n","title":"Issues in Testing gRPC ServerInterceptor In Java","body":"<p>I have an gRPC interceptor written in java</p>\n<p>my gRPC interceptor looks like this</p>\n<pre><code>public class GrpcServerInterceptor implements ServerInterceptor {\n    @Override\n    public &lt;R, T&gt; ServerCall.Listener&lt;R&gt; interceptCall(ServerCall&lt;R, T&gt; call,\n                                                                 Metadata requestHeaders, ServerCallHandler&lt;R, T&gt; next) {\n\n        if(call == null || next == null)\n            return null;\n\n        if(call != null) {\n            String actionName = call.getMethodDescriptor().getBareMethodName();\n            String serviceName = call.getMethodDescriptor().getServiceName();\n            State.Holder.set(State.newBuilder().withControllerName(serviceName).withActionName(actionName).withFramework(&quot;grpc&quot;).build());\n        }\n\n        ServerCall.Listener&lt;R&gt; delegate = next.startCall(call, requestHeaders);\n\n        return new ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;R&gt;(delegate) {\n            @Override\n            public void onHalfClose() {\n                try {\n                    super.onHalfClose();\n                } catch (Exception e) {\n                    call.close(Status.INTERNAL\n                            .withCause (e)\n                            .withDescription(&quot;error message&quot;), new Metadata());\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>I just want to unit test for above interceptor in junit.</p>\n<p>I am facing issues around building ServerCall, Metaddata and ServerCallHandler Objects and passing them around.</p>\n<p>I tried to create Server Call object like below in my unit test.</p>\n<pre><code>      ServerCall serverCall = new ForwardingServerCall() {\n        @Override\n        protected ServerCall delegate() {\n          return null;\n        }\n\n        @Override\n        public MethodDescriptor getMethodDescriptor() {\n          return MethodDescriptor.newBuilder().\n              setType(MethodType.UNKNOWN).\n              setRequestMarshaller(ProtoUtils.marshaller((StudentRequest.getDefaultInstance()))).\n              setResponseMarshaller(ProtoUtils.marshaller(StudentResponse.getDefaultInstance())).\n              setFullMethodName(generateFullMethodName(&quot;com.test.cloud.sc.grpc.backend.service.StudentServiceImpl&quot;, &quot;getStudentInfo&quot;)).\n              build();\n        }\n      };\n</code></pre>\n<p>But above codeblock has issues around setting Request and Response Marshaller.</p>\n<p>How can i unit test all the scenarios for my interceptor with minimal code setup and I don't want to start grpc server at all ?</p>\n<h3>EDIT 1</h3>\n<p>How can i improve null check handling in gRPC interceptor ?</p>\n<p>Many Thanks</p>\n"},{"tags":["java","spring","swagger","springfox"],"owner":{"account_id":5863731,"reputation":807,"user_id":4618492,"accept_rate":56,"display_name":"littleAlien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675110910,"creation_date":1675081206,"question_id":75284295,"body_markdown":"I&#39;m using Swagger via Springfox in my Spring Boot application:\r\n\r\n    plugins {\r\n\t    id &#39;java&#39;\r\n\t    id &#39;org.springframework.boot&#39; version &#39;2.7.7&#39;\r\n\t    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    }\r\n    ...\r\n    ...\r\n\timplementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-schema:3.0.0&#39;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2).select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.x&quot;))\r\n                .paths(any())\r\n                .build()\r\n                .apiInfo(\r\n                        new ApiInfoBuilder().title(&quot;Title&quot;).build()\r\n                );\r\n    }\r\n\r\n\r\nAnnotation over main class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @SpringBootApplication\r\n    @EnableSwagger2\r\n    public class Main {\r\n\r\n\r\nAnd, the DTO:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Valid\r\n    @Schema(description = &quot;User profile&quot;)\r\n    public class ProfileDto {\r\n        @ApiModelProperty(position = 1, value = &quot;User name&quot;)\r\n        @Schema(description = &quot;User name&quot;, required = true) //just another approach\r\n        @NotEmpty\r\n        @JsonProperty\r\n        private String name;\r\n\r\nBut as a result there are no field description in Swagger UI, only the name of the DTO:\r\n\r\n     ProfileDto{\r\n     }\r\n\r\nWhat could be wrong?\r\n\r\n**UPDATE**: I found that the description is **generated** when I&#39;m running the application in the DEBUG mode in IntelliJ IDEA.","title":"Springfox doesn&#39;t generate model description","body":"<p>I'm using Swagger via Springfox in my Spring Boot application:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.7'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n...\n...\nimplementation 'io.springfox:springfox-swagger2:3.0.0'\nimplementation 'io.springfox:springfox-swagger-ui:3.0.0'\nimplementation 'io.springfox:springfox-boot-starter:3.0.0'\nimplementation 'io.springfox:springfox-schema:3.0.0'\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2).select()\n            .apis(RequestHandlerSelectors.basePackage(&quot;com.x&quot;))\n            .paths(any())\n            .build()\n            .apiInfo(\n                    new ApiInfoBuilder().title(&quot;Title&quot;).build()\n            );\n}\n</code></pre>\n<p>Annotation over main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableSwagger2\npublic class Main {\n</code></pre>\n<p>And, the DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Accessors(chain = true)\n@AllArgsConstructor\n@NoArgsConstructor\n@Valid\n@Schema(description = &quot;User profile&quot;)\npublic class ProfileDto {\n    @ApiModelProperty(position = 1, value = &quot;User name&quot;)\n    @Schema(description = &quot;User name&quot;, required = true) //just another approach\n    @NotEmpty\n    @JsonProperty\n    private String name;\n</code></pre>\n<p>But as a result there are no field description in Swagger UI, only the name of the DTO:</p>\n<pre><code> ProfileDto{\n }\n</code></pre>\n<p>What could be wrong?</p>\n<p><strong>UPDATE</strong>: I found that the description is <strong>generated</strong> when I'm running the application in the DEBUG mode in IntelliJ IDEA.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1675150323,"post_id":75289828,"comment_id":132861126,"body_markdown":"declare `A#name` as a FQN (`private avro.Name name`)","body":"declare <code>A#name</code> as a FQN (<code>private avro.Name name</code>)"},{"owner":{"account_id":9901189,"reputation":20,"user_id":7331157,"display_name":"Tarun"},"score":0,"creation_date":1675175225,"post_id":75289828,"comment_id":132868953,"body_markdown":"Could you please provide me an example, I could understand what you mean by your comment?","body":"Could you please provide me an example, I could understand what you mean by your comment?"}],"owner":{"account_id":9901189,"reputation":20,"user_id":7331157,"display_name":"Tarun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675110762,"creation_date":1675110762,"question_id":75289828,"body_markdown":"I am trying to map object A to object B where object B sits in generated sources of the avro package. However, I do have a similar object name in src/main/java as well. \r\n\r\nHow should I tell Mapstruct to use the subs-classes of Object B to be picked up from same package where object B is?\r\n\r\nFor example \r\n\r\n```\r\ntype here\r\n//This class is source object sits in src/main/java/model\r\nclass A {\r\nprivate String id;\r\nprivate Name name; //this class firstName and lastName fields.\r\n}\r\n\r\n//this class is target object that sits in target/generated-sources/avro/*\r\nclass B {\r\nprivate String id;\r\nprivate Name name;\r\n}\r\n\r\n//this sits in target/generated-sources/avro/*\r\nclass Name {\r\nprivate string firstName;\r\nprivate String lastName;\r\n}\r\n//but I do have Class Name in src/main/java/dto as well.\r\n```\r\n\r\nHow do I tell map struct to not use the Name package from src/main/java/dto but use it from target/generated-sources/avro/* ?\r\n\r\nMy Mapper abstract class looks like this:\r\n\r\nObject B mapFromObjectA(ObjectA a); //here Object B comes from target/avro but the inner class is being picked up from dto package which is incorrect.\r\n\r\n\r\n \r\n\r\nIs there a way, we can tell the target package directory to Map Struct?","title":"Mapstruct is unable to resolve correct package for the Target class while mapping","body":"<p>I am trying to map object A to object B where object B sits in generated sources of the avro package. However, I do have a similar object name in src/main/java as well.</p>\n<p>How should I tell Mapstruct to use the subs-classes of Object B to be picked up from same package where object B is?</p>\n<p>For example</p>\n<pre><code>type here\n//This class is source object sits in src/main/java/model\nclass A {\nprivate String id;\nprivate Name name; //this class firstName and lastName fields.\n}\n\n//this class is target object that sits in target/generated-sources/avro/*\nclass B {\nprivate String id;\nprivate Name name;\n}\n\n//this sits in target/generated-sources/avro/*\nclass Name {\nprivate string firstName;\nprivate String lastName;\n}\n//but I do have Class Name in src/main/java/dto as well.\n</code></pre>\n<p>How do I tell map struct to not use the Name package from src/main/java/dto but use it from target/generated-sources/avro/* ?</p>\n<p>My Mapper abstract class looks like this:</p>\n<p>Object B mapFromObjectA(ObjectA a); //here Object B comes from target/avro but the inner class is being picked up from dto package which is incorrect.</p>\n<p>Is there a way, we can tell the target package directory to Map Struct?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","spring-thymeleaf"],"owner":{"account_id":27660510,"reputation":9,"user_id":21113446,"display_name":"sven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675110106,"creation_date":1675109477,"question_id":75289626,"body_markdown":"I have a Thymeleaf HTML file, which gets correctly rendered by the Thymeleaf engine:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n\r\n  &lt;head&gt;\r\n    &lt;title&gt;Good Thymes Virtual Grocery&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n  &lt;/head&gt;\r\n\r\n  &lt;body&gt;\r\n  \r\n    &lt;p data-th-text=&quot;#{home.welcome}&quot;&gt;Welcome to our grocery store!&lt;/p&gt;\r\n  \r\n  &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nBut if I send this HTML string via JSON to the API, which sends the email with the HTML content, there is an error, because the API cannot understand the many linebreaks (\\n) in the HTML string.\r\n\r\n\r\nIs there any way I can configure Thymeleaf so that the output template string comes from the Thymeleaf engine without line breaks? So in one single line.\r\n\r\n","title":"Thymeleaf HTML output without linebreaks","body":"<p>I have a Thymeleaf HTML file, which gets correctly rendered by the Thymeleaf engine:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n  &lt;head&gt;\n    &lt;title&gt;Good Thymes Virtual Grocery&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n  \n    &lt;p data-th-text=&quot;#{home.welcome}&quot;&gt;Welcome to our grocery store!&lt;/p&gt;\n  \n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>But if I send this HTML string via JSON to the API, which sends the email with the HTML content, there is an error, because the API cannot understand the many linebreaks (\\n) in the HTML string.</p>\n<p>Is there any way I can configure Thymeleaf so that the output template string comes from the Thymeleaf engine without line breaks? So in one single line.</p>\n"},{"tags":["java","output"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1675110318,"post_id":75289693,"comment_id":132854432,"body_markdown":"When use a calculator, I get 35.194444. So, what is wrong with 35.19? That appears to be the correct answer.","body":"When use a calculator, I get 35.194444. So, what is wrong with 35.19? That appears to be the correct answer."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1675110705,"post_id":75289693,"comment_id":132854561,"body_markdown":"What&#39;s with all the `/ 100` and `* 100`?","body":"What&#39;s with all the <code>&#47; 100</code> and <code>* 100</code>?"}],"owner":{"account_id":24485115,"reputation":1,"user_id":18402919,"display_name":"lildroptop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109920,"creation_date":1675109920,"question_id":75289693,"body_markdown":"I am trying to write a java program that allows the user to convert the given temp in fahrenheit then converts the given temp to celsius, however I am having a problem when I input the temp 95.35 fahrenheit it converts it to 35.19 ,when the expected output should be 35.20.\r\n\r\n```\r\n        System.out.println(&quot;Enter Body Temperature (In F):\\n&quot;);\r\n        double tempF = scan.nextDouble();\r\n        double tempFRound = tempF / 100.00;\r\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;0.00&quot;);\r\n        String tempFahrenheit = decimalFormat.format(tempFRound * 100) + &#39;F&#39;;\r\n        double tempC = ((tempF - 32) * (5 / 9.0)) / 100.0;\r\n        double tempCRound = tempC * 100.00;\r\n        String tempCelsius = decimalFormat.format(tempCRound) + &#39;C&#39;;\r\n        scan.nextLine();\r\n        System.out.printf(&quot;Vitals: %s|%s|&quot; , tempFahrenheit , tempCelsius );\r\n```\r\n","title":"receceive unexpected output in calculation","body":"<p>I am trying to write a java program that allows the user to convert the given temp in fahrenheit then converts the given temp to celsius, however I am having a problem when I input the temp 95.35 fahrenheit it converts it to 35.19 ,when the expected output should be 35.20.</p>\n<pre><code>        System.out.println(&quot;Enter Body Temperature (In F):\\n&quot;);\n        double tempF = scan.nextDouble();\n        double tempFRound = tempF / 100.00;\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;0.00&quot;);\n        String tempFahrenheit = decimalFormat.format(tempFRound * 100) + 'F';\n        double tempC = ((tempF - 32) * (5 / 9.0)) / 100.0;\n        double tempCRound = tempC * 100.00;\n        String tempCelsius = decimalFormat.format(tempCRound) + 'C';\n        scan.nextLine();\n        System.out.printf(&quot;Vitals: %s|%s|&quot; , tempFahrenheit , tempCelsius );\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1675110497,"post_id":75289237,"comment_id":132854494,"body_markdown":"You have references - what do you want to do with those referenced entities? Ie shallow or full cloning? There is no best approach as most require customizations based on the specific business requirements. Some providers (EclipseLink) have copy methods you can use, but it is usually more straightforward to do it yourself in the object itself, or a helper method tied to the model.","body":"You have references - what do you want to do with those referenced entities? Ie shallow or full cloning? There is no best approach as most require customizations based on the specific business requirements. Some providers (EclipseLink) have copy methods you can use, but it is usually more straightforward to do it yourself in the object itself, or a helper method tied to the model."},{"owner":{"account_id":27638783,"reputation":1,"user_id":21096168,"display_name":"kale19"},"score":0,"creation_date":1675110746,"post_id":75289237,"comment_id":132854575,"body_markdown":"I want to copy those referenced entities. Though PostDetails will also get cloned first so I want to save a new id in there while cloning.","body":"I want to copy those referenced entities. Though PostDetails will also get cloned first so I want to save a new id in there while cloning."}],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675109267,"creation_date":1675109267,"answer_id":75289599,"question_id":75289237,"body_markdown":"You can use a copy using constructor or the builder pattern, or to set the properties using simple setters. Then, persist the new entity instance using the EntityManager&#39;s `persist()` method. To avoid issues with duplicated `id` values, you must not copy the `id` field and instead let the `JPA` generate a new `id` when the entity is persisted.\r\n\r\nCode example\r\n```java\r\npublic class Post {\r\n\r\n    // constructor, getters and setters are omitted\r\n\r\n    public Post(Post post) {\r\n        //Don’t copy id!\r\n        this.title = post.getTitle();\r\n        this.comments = new ArrayList&lt;&gt;(post.getComments());\r\n        this.details = new PostDetails(post.getDetails());\r\n    }\r\n}\r\n\r\npublic class PostDetails {\r\n\r\n    // constructor, getters and setters are omitted\r\n\r\n    public PostDetails(PostDetails details) {\r\n        // Don’t copy id!\r\n        this.description = details.getDescription();\r\n        // copy other fields as needed\r\n    }\r\n}\r\n\r\n// Usage\r\npublic class PostsRepository{\r\n    @Autowired\r\n    EntityManager em;\r\n\r\n    public void saveCopy(Post originalPost){\r\n\t  Post clonedPost = new Post(originalPost);\r\n\t  em.persist(clonedPost);\r\n    } \r\n}\r\n```\r\n\r\nAlso I would highly recommend you to write [tests](https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test) in order to check that you are doing everything fine. Moreover you will more space for experiments.","title":"How to properly clone an entity with some modified fields and persist into database?","body":"<p>You can use a copy using constructor or the builder pattern, or to set the properties using simple setters. Then, persist the new entity instance using the EntityManager's <code>persist()</code> method. To avoid issues with duplicated <code>id</code> values, you must not copy the <code>id</code> field and instead let the <code>JPA</code> generate a new <code>id</code> when the entity is persisted.</p>\n<p>Code example</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Post {\n\n    // constructor, getters and setters are omitted\n\n    public Post(Post post) {\n        //Don’t copy id!\n        this.title = post.getTitle();\n        this.comments = new ArrayList&lt;&gt;(post.getComments());\n        this.details = new PostDetails(post.getDetails());\n    }\n}\n\npublic class PostDetails {\n\n    // constructor, getters and setters are omitted\n\n    public PostDetails(PostDetails details) {\n        // Don’t copy id!\n        this.description = details.getDescription();\n        // copy other fields as needed\n    }\n}\n\n// Usage\npublic class PostsRepository{\n    @Autowired\n    EntityManager em;\n\n    public void saveCopy(Post originalPost){\n      Post clonedPost = new Post(originalPost);\n      em.persist(clonedPost);\n    } \n}\n</code></pre>\n<p>Also I would highly recommend you to write <a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test\" rel=\"nofollow noreferrer\">tests</a> in order to check that you are doing everything fine. Moreover you will more space for experiments.</p>\n"}],"owner":{"account_id":27638783,"reputation":1,"user_id":21096168,"display_name":"kale19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675109267,"creation_date":1675106988,"question_id":75289237,"body_markdown":"Lets say I have an entity like this,\r\n\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n\r\n    public class Post {\r\n\r\n \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    @OneToMany(\r\n        mappedBy = &quot;post&quot;,\r\n        cascade = CascadeType.ALL, \r\n        orphanRemoval = true,\r\n        FetchType.LAZY\r\n    )\r\n    @JsonManagedReference\r\n    private List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\r\n \r\n    @OneToOne(\r\n        mappedBy = &quot;post&quot;,\r\n        cascade = CascadeType.ALL, \r\n        orphanRemoval = true, \r\n        fetch = FetchType.LAZY\r\n    )\r\n    private PostDetails details;\r\n \r\n    }\r\n\r\n\r\nI want clone this entity, modified a few fields and then persist the new cloned entity in the database. What&#39;s the best approach to achieve this?","title":"How to properly clone an entity with some modified fields and persist into database?","body":"<p>Lets say I have an entity like this,</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\n\npublic class Post {\n\n\n@Id\n@GeneratedValue\nprivate Long id;\n\nprivate String title;\n\n@OneToMany(\n    mappedBy = &quot;post&quot;,\n    cascade = CascadeType.ALL, \n    orphanRemoval = true,\n    FetchType.LAZY\n)\n@JsonManagedReference\nprivate List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\n\n@OneToOne(\n    mappedBy = &quot;post&quot;,\n    cascade = CascadeType.ALL, \n    orphanRemoval = true, \n    fetch = FetchType.LAZY\n)\nprivate PostDetails details;\n\n}\n</code></pre>\n<p>I want clone this entity, modified a few fields and then persist the new cloned entity in the database. What's the best approach to achieve this?</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675133413,"post_id":75289596,"comment_id":132858833,"body_markdown":"Perhaps try a Clean and Rebuild?","body":"Perhaps try a Clean and Rebuild?"},{"owner":{"account_id":25543805,"reputation":3,"user_id":19329465,"display_name":"Alexander Schell"},"score":0,"creation_date":1675146205,"post_id":75289596,"comment_id":132860367,"body_markdown":"Hmm, tried to clean and rebuild the project, but the result is still the same. Uninstalling and reinstalling the app on the device works - probably because arrayList is null again? However, it seems a little unpracticle to expect the user to uninstall and reinstall the app every time I add or delete some random images in the app...","body":"Hmm, tried to clean and rebuild the project, but the result is still the same. Uninstalling and reinstalling the app on the device works - probably because arrayList is null again? However, it seems a little unpracticle to expect the user to uninstall and reinstall the app every time I add or delete some random images in the app..."}],"owner":{"account_id":25543805,"reputation":3,"user_id":19329465,"display_name":"Alexander Schell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109251,"creation_date":1675109251,"question_id":75289596,"body_markdown":"I use a listview that shows an imageview, textview1, textview2, and a checkbox. The data comes from an arraylist:\r\n\r\n\r\n```\r\nif(arrayList==null) {\r\n            arrayList = new ArrayList&lt;&gt;();\r\n\r\n            arrayList.add(new Country(R.drawable.picaed, Txtshort1, txtlong1, false));\r\n            arrayList.add(new Country(R.drawable.picafn, Txtshort2, txtlong2, false));\r\n            arrayList.add(new Country(R.drawable.picall, Txtshort3, txtlong3, false));\r\netc.\r\n}\r\n```\r\nIn my adapter, I use this code to set the images, texts and checked status:\r\n\r\n\r\n```\r\nimage.setImageResource(getItem(position).getImage());\r\n\r\ncurrency.setText(getItem(position).getCurrency());\r\n\r\ncountry.setText(getItem(position).getCountry());\r\n\r\nfavourites.setChecked(getItem(position).getFavourites());\r\n```\r\n\r\nEverything works just fine, but now I deleted some unused images from the drawable folder in my project (images were completely unrelated to the images used in the arraylist) and suddenly the position of the Images shown in the listview are messed up.\r\n\r\n[Thats how it should be](https://i.stack.imgur.com/wISo0.png)\r\n\r\n[Thats how it looks like after deleting the unrelated drawables](https://i.stack.imgur.com/2lNpC.png)\r\n\r\nAs you can see, the texts are still in order, but the images are totaly screwed up. Has anyone experienced a similar problem before and can guide me in the right direction?\r\n\r\n\r\nI tried to find an answer here, but I don&#39;t even know where to start / where the problem could be...","title":"Deleting unused images in drawable folder messes up position of images in arraylist","body":"<p>I use a listview that shows an imageview, textview1, textview2, and a checkbox. The data comes from an arraylist:</p>\n<pre><code>if(arrayList==null) {\n            arrayList = new ArrayList&lt;&gt;();\n\n            arrayList.add(new Country(R.drawable.picaed, Txtshort1, txtlong1, false));\n            arrayList.add(new Country(R.drawable.picafn, Txtshort2, txtlong2, false));\n            arrayList.add(new Country(R.drawable.picall, Txtshort3, txtlong3, false));\netc.\n}\n</code></pre>\n<p>In my adapter, I use this code to set the images, texts and checked status:</p>\n<pre><code>image.setImageResource(getItem(position).getImage());\n\ncurrency.setText(getItem(position).getCurrency());\n\ncountry.setText(getItem(position).getCountry());\n\nfavourites.setChecked(getItem(position).getFavourites());\n</code></pre>\n<p>Everything works just fine, but now I deleted some unused images from the drawable folder in my project (images were completely unrelated to the images used in the arraylist) and suddenly the position of the Images shown in the listview are messed up.</p>\n<p><a href=\"https://i.stack.imgur.com/wISo0.png\" rel=\"nofollow noreferrer\">Thats how it should be</a></p>\n<p><a href=\"https://i.stack.imgur.com/2lNpC.png\" rel=\"nofollow noreferrer\">Thats how it looks like after deleting the unrelated drawables</a></p>\n<p>As you can see, the texts are still in order, but the images are totaly screwed up. Has anyone experienced a similar problem before and can guide me in the right direction?</p>\n<p>I tried to find an answer here, but I don't even know where to start / where the problem could be...</p>\n"},{"tags":["java","gradle","build.gradle","artifactory","nexus"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1675111522,"post_id":75289569,"comment_id":132854772,"body_markdown":"Plugin repositories and dependency repositories are configured differently https://docs.gradle.org/7.6/userguide/plugins.html#sec:custom_plugin_repositories","body":"Plugin repositories and dependency repositories are configured differently <a href=\"https://docs.gradle.org/7.6/userguide/plugins.html#sec:custom_plugin_repositories\" rel=\"nofollow noreferrer\">docs.gradle.org/7.6/userguide/&hellip;</a>"}],"owner":{"account_id":6695972,"reputation":1584,"user_id":5163984,"accept_rate":93,"display_name":"Nikolay Baranenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109042,"creation_date":1675109042,"question_id":75289569,"body_markdown":"I have legacy project\r\n\r\nJava 1.8.0\r\nGradle 6.1.1\r\n\r\nbuild.gradle\r\n\r\n\r\n    plugins {\r\n        id &quot;java&quot;\r\n        id &quot;com.jfrog.artifactory&quot; version &quot;4.15.1&quot;\r\n        id &quot;maven-publish&quot;\r\n        id &#39;distribution&#39;\r\n    }\r\n    \r\n    repositories {\r\n        maven { url = &quot;http://local.artifactory/artifactory/libs-release&quot;}\r\n        maven { url = &quot;http://local.artifactory/artifactory/jcenter&quot;}\r\n        maven { url = &quot;http://local.artifactory/artifactory/gradle-plugins&quot;}\r\n    }\r\n\r\nfor publish jar in artifactory I added plugin com.jfrog.artifactory\r\n\r\nBut I when to try ./gradlew build in safety environment: access to internet resources only via artifactory, process stop and return error on step downloading plugin com.jfrog.artifactory\r\n\r\n./gradlew build\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/home/user123/musor/common-thrifts/build.gradle&#39; line: 3\r\n    \r\n    * What went wrong:\r\n    Plugin [id: &#39;com.jfrog.artifactory&#39;, version: &#39;4.15.1&#39;] was not found in any of the following sources:\r\n    \r\n    - Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n    - Plugin Repositories (could not resolve plugin artifact &#39;com.jfrog.artifactory:com.jfrog.artifactory.gradle.plugin:4.15.1&#39;)\r\n      Searched in the following repositories:\r\n        Gradle Central Plugin Repository\r\n\r\nWhy gradle build not use local Artifactory? ","title":"Why gradle build not use local Artifactory?","body":"<p>I have legacy project</p>\n<p>Java 1.8.0\nGradle 6.1.1</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id &quot;java&quot;\n    id &quot;com.jfrog.artifactory&quot; version &quot;4.15.1&quot;\n    id &quot;maven-publish&quot;\n    id 'distribution'\n}\n\nrepositories {\n    maven { url = &quot;http://local.artifactory/artifactory/libs-release&quot;}\n    maven { url = &quot;http://local.artifactory/artifactory/jcenter&quot;}\n    maven { url = &quot;http://local.artifactory/artifactory/gradle-plugins&quot;}\n}\n</code></pre>\n<p>for publish jar in artifactory I added plugin com.jfrog.artifactory</p>\n<p>But I when to try ./gradlew build in safety environment: access to internet resources only via artifactory, process stop and return error on step downloading plugin com.jfrog.artifactory</p>\n<p>./gradlew build</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/user123/musor/common-thrifts/build.gradle' line: 3\n\n* What went wrong:\nPlugin [id: 'com.jfrog.artifactory', version: '4.15.1'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'com.jfrog.artifactory:com.jfrog.artifactory.gradle.plugin:4.15.1')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n</code></pre>\n<p>Why gradle build not use local Artifactory?</p>\n"},{"tags":["java","swing","graph","awt","jung"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1675156292,"post_id":75289565,"comment_id":132862729,"body_markdown":"Someone already had a great idea.  Edit your question to include a [mre] as text that we can copy into our IDE, compile, run, and test.  I can&#39;t just look at code and spot problems.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Someone already had a great idea.  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as text that we can copy into our IDE, compile, run, and test.  I can&#39;t just look at code and spot problems.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109029,"creation_date":1675109029,"question_id":75289565,"body_markdown":"At the moment, I have a problem to update the VisualizationViewer. \r\nI have two classes, the first on is the class DBPlot and the second one is the class GuiInterface. You can find the source code below. The DBPlot is listening with different event listener of an event change inside the class GuiInterface. If some press the button clearbutton than should be the graph inside the VisualizationViewer substituted with an empty graph or removed. At the moment is it no possible to update VisualizationViewer. I hope some one has an idea. \r\n\r\n\r\n    public DBPlot() {\r\n                    \r\n            user = System.getProperty(&quot;user.name&quot;); // user von system bekommen\r\n                \r\n            try {\r\n                SearchList  = this.getUserSearchlist(user);\r\n            } catch (FileNotFoundException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            \r\n        \r\n            Container content = frame.getContentPane();\r\n            \r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            content.add(new GuiInterface());\r\n            GraphLayoutSelector.InputtextF.addActionListener(this); //   addDocumentListener(new DocumentListener() {})       addActionListener(this) == &quot;A0&quot;)\r\n            GraphLayoutSelector.clearbutton.addActionListener(this);\r\n            GraphLayoutSelector.GraphSlider.addChangeListener(this);\r\n            frame.addWindowListener(new WindowHandler());\r\n            \r\n            //actionPerformed(null);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n    \r\n        }\r\n        \r\n        /**\r\n         * Class WindowHandler:  Is an internal class of an Window GUI Listner. Which listen if the gui closed. If the gui closed than store the search behaivior.\r\n         *\r\n         *\r\n         */\r\n        class WindowHandler extends WindowAdapter{\r\n            public void windowClosing(WindowEvent e) {\r\n                  System.out.println(&quot;windowClosing&quot;);\r\n                  try {\r\n                    setUserSearchlist(user);\r\n                } catch (FileNotFoundException e1) {\r\n                    // TODO Auto-generated catch block\r\n                    e1.printStackTrace();\r\n                }\r\n                  System.exit(0); // End the application\r\n                }\r\n              \r\n        }\r\n    \r\n        /**\r\n         * Funciton actionPerformed:  Is an Listner of the Clear Button and Input Textfield.\r\n         *\r\n         * Parameter ce: Is the Changed Slider value.\r\n         */\r\n        \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) { // after an Enter, should be searched in Graph DB\r\n            if(e.getSource() == GraphLayoutSelector.InputtextF)\r\n            {\r\n                if((!SearchList.contains(GraphLayoutSelector.InputtextF.getText()))&amp;&amp; !GraphLayoutSelector.InputtextF.getText().isEmpty())\r\n                    SearchList.add(GraphLayoutSelector.InputtextF.getText());\r\n                    GraphLayoutSelector.InputtextF.setText(&quot;&quot;);\r\n                    GraphLayoutSelector.treeButton.setEnabled(true);\r\n                    GraphLayoutSelector.radialButton.setEnabled(true);\r\n                    plotgraph(SearchList.get(SearchList.size() - 1));\r\n                }else if(e.getSource()== GraphLayoutSelector.clearbutton)// starts an new search\r\n                {\r\n                    GuiInterface.graph = GraphHandler.createForestTestempty();\r\n                    GuiInterface.vv.getComponent().removeAll();\r\n                    GuiInterface.panel.revalidate();\r\n                    GuiInterface.panel.repaint();\r\n                    GuiInterface.redrawing();\r\n                    frame.revalidate();\r\n                    frame.repaint();\r\n                    \r\n                }\r\n                System.out.println(&quot;Im here &quot;);\r\n            }\r\n            \r\n            public static void main(String[] args) throws Exception{\r\n            \r\n            DBPlot PlotGui = new DBPlot();\r\n                \r\n        }   \r\n    }\r\n\r\n\r\n    public class GuiInterface extends JPanel {\r\n    \r\n        SplitterContext&lt;Object&gt; splitterContext =\r\n                SplitterContext.of(new RStarLeafSplitter&lt;&gt;(), new RStarSplitter&lt;&gt;());\r\n    \r\n        final DefaultGraphMouse&lt;String, Integer&gt; graphMouse = new DefaultGraphMouse&lt;&gt;();\r\n    \r\n    \r\n        public static Graph&lt;String, Integer&gt; graph;\r\n    \r\n        public static     VisualizationScrollPane panel;\r\n    \r\n        static Predicate&lt;Integer&gt; edgePredicate = e -&gt; e &lt; 100;\r\n    \r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(GuiInterface.class);\r\n    \r\n        public static VisualizationViewer&lt;String, Integer&gt; vv;\r\n    \r\n    \r\n    \r\n        /** the visual component and renderer for the graph */\r\n    \r\n        Dimension layoutSize = new Dimension(700, 700);\r\n        Dimension viewSize = new Dimension(700, 700);\r\n        \r\n    \r\n        public static void redrawing()\r\n        {\r\n            \r\n            vv.repaint();\r\n            //panel.removeC\r\n            panel.validate();\r\n            panel.repaint();\r\n        }\r\n        \r\n    \r\n        public GuiInterface() { setLayout(new BorderLayout());\r\n    \r\n    \r\n          graph = GraphHandler.createForestTest();\r\n    \r\n          GraphBuilder&lt;String, Integer, Graph&lt;String, Integer&gt;&gt; tree =\r\n                    GraphTypeBuilder.&lt;String, Integer&gt;forGraphType(DefaultGraphType.dag())\r\n                            .edgeSupplier(SupplierUtil.createIntegerSupplier())\r\n                            .buildGraphBuilder();\r\n    \r\n    \r\n          \r\n            vv =\r\n                    VisualizationViewer.builder(graph)\r\n                            .layoutAlgorithm(new StaticLayoutAlgorithm&lt;&gt;())\r\n                            .layoutSize(layoutSize)\r\n                            .viewSize(viewSize)\r\n                            .graphMouse(graphMouse)\r\n                            .build();\r\n    \r\n            vv.addPreRenderPaintable(\r\n                    new LayoutPaintable.LayoutBounds(\r\n                            vv.getVisualizationModel(), vv.getRenderContext().getMultiLayerTransformer()));\r\n    \r\n          \r\n            \r\n            Box controls = Box.createHorizontalBox();\r\n            controls.add(\r\n                    GraphControlHelpers.getCenteredContainer(\r\n                            &quot;Layout Controls&quot;, GraphLayoutSelector.builder(vv).initialSelection(1).build()));\r\n            controls.add(GraphControlHelpers.getCenteredContainer(&quot;Zoom&quot;,GraphControlHelpers.getZoom(vv)));\r\n            add(controls, BorderLayout.SOUTH);\r\n    \r\n    \r\n    \r\n            panel = new VisualizationScrollPane(vv);\r\n            redrawing();\r\n            repaint();\r\n            add(panel);\r\n    \r\n    ﻿}","title":"Redrawd or Repaint JUNG Graph","body":"<p>At the moment, I have a problem to update the VisualizationViewer.\nI have two classes, the first on is the class DBPlot and the second one is the class GuiInterface. You can find the source code below. The DBPlot is listening with different event listener of an event change inside the class GuiInterface. If some press the button clearbutton than should be the graph inside the VisualizationViewer substituted with an empty graph or removed. At the moment is it no possible to update VisualizationViewer. I hope some one has an idea.</p>\n<pre><code>public DBPlot() {\n                \n        user = System.getProperty(&quot;user.name&quot;); // user von system bekommen\n            \n        try {\n            SearchList  = this.getUserSearchlist(user);\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    \n        Container content = frame.getContentPane();\n        \n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        content.add(new GuiInterface());\n        GraphLayoutSelector.InputtextF.addActionListener(this); //   addDocumentListener(new DocumentListener() {})       addActionListener(this) == &quot;A0&quot;)\n        GraphLayoutSelector.clearbutton.addActionListener(this);\n        GraphLayoutSelector.GraphSlider.addChangeListener(this);\n        frame.addWindowListener(new WindowHandler());\n        \n        //actionPerformed(null);\n        frame.pack();\n        frame.setVisible(true);\n\n    }\n    \n    /**\n     * Class WindowHandler:  Is an internal class of an Window GUI Listner. Which listen if the gui closed. If the gui closed than store the search behaivior.\n     *\n     *\n     */\n    class WindowHandler extends WindowAdapter{\n        public void windowClosing(WindowEvent e) {\n              System.out.println(&quot;windowClosing&quot;);\n              try {\n                setUserSearchlist(user);\n            } catch (FileNotFoundException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n              System.exit(0); // End the application\n            }\n          \n    }\n\n    /**\n     * Funciton actionPerformed:  Is an Listner of the Clear Button and Input Textfield.\n     *\n     * Parameter ce: Is the Changed Slider value.\n     */\n    \n    @Override\n    public void actionPerformed(ActionEvent e) { // after an Enter, should be searched in Graph DB\n        if(e.getSource() == GraphLayoutSelector.InputtextF)\n        {\n            if((!SearchList.contains(GraphLayoutSelector.InputtextF.getText()))&amp;&amp; !GraphLayoutSelector.InputtextF.getText().isEmpty())\n                SearchList.add(GraphLayoutSelector.InputtextF.getText());\n                GraphLayoutSelector.InputtextF.setText(&quot;&quot;);\n                GraphLayoutSelector.treeButton.setEnabled(true);\n                GraphLayoutSelector.radialButton.setEnabled(true);\n                plotgraph(SearchList.get(SearchList.size() - 1));\n            }else if(e.getSource()== GraphLayoutSelector.clearbutton)// starts an new search\n            {\n                GuiInterface.graph = GraphHandler.createForestTestempty();\n                GuiInterface.vv.getComponent().removeAll();\n                GuiInterface.panel.revalidate();\n                GuiInterface.panel.repaint();\n                GuiInterface.redrawing();\n                frame.revalidate();\n                frame.repaint();\n                \n            }\n            System.out.println(&quot;Im here &quot;);\n        }\n        \n        public static void main(String[] args) throws Exception{\n        \n        DBPlot PlotGui = new DBPlot();\n            \n    }   \n}\n\n\npublic class GuiInterface extends JPanel {\n\n    SplitterContext&lt;Object&gt; splitterContext =\n            SplitterContext.of(new RStarLeafSplitter&lt;&gt;(), new RStarSplitter&lt;&gt;());\n\n    final DefaultGraphMouse&lt;String, Integer&gt; graphMouse = new DefaultGraphMouse&lt;&gt;();\n\n\n    public static Graph&lt;String, Integer&gt; graph;\n\n    public static     VisualizationScrollPane panel;\n\n    static Predicate&lt;Integer&gt; edgePredicate = e -&gt; e &lt; 100;\n\n\n    private static final Logger log = LoggerFactory.getLogger(GuiInterface.class);\n\n    public static VisualizationViewer&lt;String, Integer&gt; vv;\n\n\n\n    /** the visual component and renderer for the graph */\n\n    Dimension layoutSize = new Dimension(700, 700);\n    Dimension viewSize = new Dimension(700, 700);\n    \n\n    public static void redrawing()\n    {\n        \n        vv.repaint();\n        //panel.removeC\n        panel.validate();\n        panel.repaint();\n    }\n    \n\n    public GuiInterface() { setLayout(new BorderLayout());\n\n\n      graph = GraphHandler.createForestTest();\n\n      GraphBuilder&lt;String, Integer, Graph&lt;String, Integer&gt;&gt; tree =\n                GraphTypeBuilder.&lt;String, Integer&gt;forGraphType(DefaultGraphType.dag())\n                        .edgeSupplier(SupplierUtil.createIntegerSupplier())\n                        .buildGraphBuilder();\n\n\n      \n        vv =\n                VisualizationViewer.builder(graph)\n                        .layoutAlgorithm(new StaticLayoutAlgorithm&lt;&gt;())\n                        .layoutSize(layoutSize)\n                        .viewSize(viewSize)\n                        .graphMouse(graphMouse)\n                        .build();\n\n        vv.addPreRenderPaintable(\n                new LayoutPaintable.LayoutBounds(\n                        vv.getVisualizationModel(), vv.getRenderContext().getMultiLayerTransformer()));\n\n      \n        \n        Box controls = Box.createHorizontalBox();\n        controls.add(\n                GraphControlHelpers.getCenteredContainer(\n                        &quot;Layout Controls&quot;, GraphLayoutSelector.builder(vv).initialSelection(1).build()));\n        controls.add(GraphControlHelpers.getCenteredContainer(&quot;Zoom&quot;,GraphControlHelpers.getZoom(vv)));\n        add(controls, BorderLayout.SOUTH);\n\n\n\n        panel = new VisualizationScrollPane(vv);\n        redrawing();\n        repaint();\n        add(panel);\n\n﻿}\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1674847584,"post_id":75262375,"comment_id":132808212,"body_markdown":"You should be using `connection.setAutoCommit(false)`, depending on whether your RDBMS supports multiple transactions and one of that size. Using the batch statement inside the forEach loop not outside could be very inefficient too.","body":"You should be using <code>connection.setAutoCommit(false)</code>, depending on whether your RDBMS supports multiple transactions and one of that size. Using the batch statement inside the forEach loop not outside could be very inefficient too."},{"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1674933441,"post_id":75262375,"comment_id":132821227,"body_markdown":"It’s technically not inside a loop. A fixed bunch of rows being executed in batch to get the best performance. Also, does setting autocommit to false revert the whole transaction in case something goes wrong?","body":"It’s technically not inside a loop. A fixed bunch of rows being executed in batch to get the best performance. Also, does setting autocommit to false revert the whole transaction in case something goes wrong?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1674983727,"post_id":75262375,"comment_id":132827100,"body_markdown":"My point is that you can create one prepared statement for all `recordIds`, not one per iteration of `recordIds`.","body":"My point is that you can create one prepared statement for all <code>recordIds</code>, not one per iteration of <code>recordIds</code>."},{"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1674989502,"post_id":75262375,"comment_id":132827985,"body_markdown":"understood. I&#39;ve taken inputs from the accepted answer and moved the prepared statement call outside the partitioning loop. Tested few scenarios and it works fine. Thanks","body":"understood. I&#39;ve taken inputs from the accepted answer and moved the prepared statement call outside the partitioning loop. Tested few scenarios and it works fine. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674957500,"creation_date":1674956045,"answer_id":75272081,"question_id":75262375,"body_markdown":"According to the [JDBC specification](https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-spec/index.html):\r\n\r\n&gt;  In the example, auto-commit mode is disabled to prevent the driver from\r\ncommitting the transaction when Statement.executeBatch is called. Disabling\r\nauto-commit allows an application to decide whether or not to commit the\r\ntransaction in the event that an error occurs and some of the commands in a batch\r\ncannot be processed successfully. For this reason, auto-commit should always be\r\nturned off when batch updates are done. The commit behavior of executeBatch is\r\nalways implementation-defined when an error occurs and auto-commit is true.\r\n\r\n&lt;sub&gt;(section 14.1.1)&lt;/sub&gt;\r\n\r\n&gt; When auto-commit is disabled, each transaction must be explicitly committed by\r\ncalling the Connection method commit or explicitly rolled back by calling the\r\nConnection method rollback, respectively.\r\n\r\n&lt;sub&gt;(section 10.1.1)&lt;/sub&gt;\r\n\r\nAlthough section 14.1.1 specifically is about `Statement`s, it mentions that the same behavior should be assumed for `PreparedStatement`s (which are described in section 14.1.4): If auto-commit is set to true, then `executeBatch` commits the transaction but the error behavior depends on the driver implementation and should not be relied upon. Therefore, the proper way (as suggested by the spec) is to set auto-commit to false.\r\n\r\n&gt; I wish to rollback all changes in proper ACID way.\r\n\r\nWhat do you mean by &quot;all&quot;? If you are referring to an individual partition, then you can call `connection.rollback()` within the `catch` block. If you are referring to all partitions then you could set some flag within the catch block (perhaps via some `AtomicBoolean`) and then commit or rollback depending on the value of the flag. In my opinion, in this case it would be better to not use `forEach` but a for-loop and break out early once an error occurs:\r\n\r\n```java\r\nconnection.setAutoCommit(false);\r\nfor (String[] recordIds : partitions) {\r\n    try (PreparedStatement pstmt = ...) {\r\n        for (String recordId : recordIds) {\r\n            pstmt.setString(1, recordId);\r\n            pstmt.addBatch();\r\n        }\r\n        pstmt.executeBatch();\r\n    } catch (SQLException ex) {\r\n        connection.rollback();\r\n        throw new GenericRuntimeException(ex);\r\n    }\r\n}\r\nconnection.commit();\r\n```","title":"JDBC: Implement exception handling and transaction rollback on error","body":"<p>According to the <a href=\"https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-spec/index.html\" rel=\"nofollow noreferrer\">JDBC specification</a>:</p>\n<blockquote>\n<p>In the example, auto-commit mode is disabled to prevent the driver from\ncommitting the transaction when Statement.executeBatch is called. Disabling\nauto-commit allows an application to decide whether or not to commit the\ntransaction in the event that an error occurs and some of the commands in a batch\ncannot be processed successfully. For this reason, auto-commit should always be\nturned off when batch updates are done. The commit behavior of executeBatch is\nalways implementation-defined when an error occurs and auto-commit is true.</p>\n</blockquote>\n<p><sub>(section 14.1.1)</sub></p>\n<blockquote>\n<p>When auto-commit is disabled, each transaction must be explicitly committed by\ncalling the Connection method commit or explicitly rolled back by calling the\nConnection method rollback, respectively.</p>\n</blockquote>\n<p><sub>(section 10.1.1)</sub></p>\n<p>Although section 14.1.1 specifically is about <code>Statement</code>s, it mentions that the same behavior should be assumed for <code>PreparedStatement</code>s (which are described in section 14.1.4): If auto-commit is set to true, then <code>executeBatch</code> commits the transaction but the error behavior depends on the driver implementation and should not be relied upon. Therefore, the proper way (as suggested by the spec) is to set auto-commit to false.</p>\n<blockquote>\n<p>I wish to rollback all changes in proper ACID way.</p>\n</blockquote>\n<p>What do you mean by &quot;all&quot;? If you are referring to an individual partition, then you can call <code>connection.rollback()</code> within the <code>catch</code> block. If you are referring to all partitions then you could set some flag within the catch block (perhaps via some <code>AtomicBoolean</code>) and then commit or rollback depending on the value of the flag. In my opinion, in this case it would be better to not use <code>forEach</code> but a for-loop and break out early once an error occurs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>connection.setAutoCommit(false);\nfor (String[] recordIds : partitions) {\n    try (PreparedStatement pstmt = ...) {\n        for (String recordId : recordIds) {\n            pstmt.setString(1, recordId);\n            pstmt.addBatch();\n        }\n        pstmt.executeBatch();\n    } catch (SQLException ex) {\n        connection.rollback();\n        throw new GenericRuntimeException(ex);\n    }\n}\nconnection.commit();\n</code></pre>\n"}],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75272081,"answer_count":1,"score":0,"last_activity_date":1675108767,"creation_date":1674846472,"question_id":75262375,"body_markdown":"I have the below code which I wanted to review and understand how I can add a rollback step when something fails.\r\n\r\n\r\n    /**\r\n\t * Insert some data into some table in bulk\r\n\t *\r\n\t * @param requestData requested data\r\n\t */\r\n\tprivate void insertingRowsByBatches(RequestData requestData) {\r\n\t\ttry (\r\n\t\t\t\tConnection connection = myDataSource.getConnection();\r\n\t\t\t\tStatement deleteStatement = connection.createStatement()\r\n\t\t) {\r\n\t\t\tconnection.setAutoCommit(TRUE);\r\n\t\t\tString stagingDeleteSql = buildMessage(&quot;DELETE FROM my_table&quot;);\r\n\t\t\tint rowsAffected = deleteStatement.executeUpdate(stagingDeleteSql);\r\n\t\t\tlog.info(&quot;[{}] records deleted&quot;, rowsAffected);\r\n\r\n\t\t\tString stagingInsertSql = &quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;;\r\n\t\t\tLists.partition(Optional.ofNullable(requestData.getData()).orElse(emptyList()), MAX_ROWS_PER_INSERT)\r\n\t\t\t\t\t.forEach(recordIds -&gt; {\r\n\t\t\t\t\t\ttry (PreparedStatement pstmt = connection.prepareStatement(stagingInsertSql, RETURN_GENERATED_KEYS)) {\r\n\t\t\t\t\t\t\tfor (String recordId: recordIds ) {\r\n\t\t\t\t\t\t\t\tpstmt.setString(1, recordId);\r\n\t\t\t\t\t\t\t\tpstmt.addBatch();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlong start = currentTimeMillis();\r\n\t\t\t\t\t\t\tpstmt.executeBatch();\r\n\t\t\t\t\t\t\tlong end = currentTimeMillis();\r\n\t\t\t\t\t\t\tlog.info(&quot;Total time taken to insert [{}] rows: {}ms&quot;, recordIds.size(), (end - start));\r\n\t\t\t\t\t\t} catch (SQLException ex) {\r\n\t\t\t\t\t\t\tlog.error(&quot;Staging job failed due to an exception: {}&quot;, ex.getMessage());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\tconnection.commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new GenericRuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nI&#39;m a bit concerned on how this code will work if I get a `SQLException` in the loop for some reason. I wish to rollback all changes in proper ACID way.\r\n\r\n**UPDATE**\r\n\r\nAfter looking at the suggestions, this is what I came up with:\r\n\r\n    /**\r\n\t * Insert some data into some table in bulk\r\n\t *\r\n\t * @param requestData requested data\r\n\t */\r\n\tpublic void insertingRowsByBatches(RequestData requestData) {\r\n        try (Connection connection = myDataSource.getConnection()) {\r\n\t\t\t    loadInStagingTable(requestData, connection);\r\n\t\t} catch (SQLException e) {\r\n\t\t\tthrow new GenericRuntimeException(e);\r\n\t\t}\r\n    }\r\n\r\n\t/**\r\n\t * Insert given data to staging table\r\n\t *\r\n\t * @param requestData requested data\r\n\t * @param connection instance of {@link Connection}\r\n\t * @throws SQLException exception\r\n\t */\r\n\tprivate void loadInStagingTable(RequestData requestData, Connection connection) throws SQLException {\r\n\t\ttry (\r\n\t\t\t\tPreparedStatement deleteStatement = connection.prepareStatement(&quot;DELETE FROM my_table&quot;);\r\n\t\t\t\tPreparedStatement insertStatement = connection.prepareStatement(&quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;, RETURN_GENERATED_KEYS)\r\n\t\t) {\r\n\t\t\tconnection.setAutoCommit(false);\r\n\t\t\tlog.info(&quot;Deleting any existing records from staging table...&quot;);\r\n\t\t\tdeleteStatement.executeUpdate();\r\n\r\n\t\t\tlog.info(&quot;Inserting given records in staging table...&quot;);\r\n\t\t\tlong start = currentTimeMillis();\r\n\t\t\tList&lt;String&gt; records = requestData.getData();\r\n\t\t\tList&lt;List&lt;String&gt;&gt; partitions = partition(records , MAX_ROWS_PER_INSERT);\r\n\t\t\tint partitionCount = 0;\r\n\t\t\tfor (List&lt;String&gt; recordIds: partitions) {\r\n\t\t\t\tlog.info(&quot;Partition [{}/{}] - Inserting [{}] records in staging table&quot;, ++partitionCount, partitions.size(), recordIds.size());\r\n\t\t\t\tfor (String recordId: recordIds) {\r\n\t\t\t\t\tinsertStatement.setString(1, recordId);\r\n\t\t\t\t\tinsertStatement.addBatch();\r\n\t\t\t\t}\r\n\t\t\t\tinsertStatement.executeBatch();\r\n\t\t\t}\r\n\t\t\tconnection.commit();\r\n\t\t\tlog.debug(&quot;Total time taken to insert [{}] rows: {}ms&quot;, records.size(), (currentTimeMillis() - start));\r\n\t\t} catch (SQLException e) {\r\n\t\t\tconnection.rollback();\r\n\t\t\tthrow new GenericRuntimeException(e);\r\n\t\t}\r\n\t}\r\n","title":"JDBC: Implement exception handling and transaction rollback on error","body":"<p>I have the below code which I wanted to review and understand how I can add a rollback step when something fails.</p>\n<pre><code>/**\n * Insert some data into some table in bulk\n *\n * @param requestData requested data\n */\nprivate void insertingRowsByBatches(RequestData requestData) {\n    try (\n            Connection connection = myDataSource.getConnection();\n            Statement deleteStatement = connection.createStatement()\n    ) {\n        connection.setAutoCommit(TRUE);\n        String stagingDeleteSql = buildMessage(&quot;DELETE FROM my_table&quot;);\n        int rowsAffected = deleteStatement.executeUpdate(stagingDeleteSql);\n        log.info(&quot;[{}] records deleted&quot;, rowsAffected);\n\n        String stagingInsertSql = &quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;;\n        Lists.partition(Optional.ofNullable(requestData.getData()).orElse(emptyList()), MAX_ROWS_PER_INSERT)\n                .forEach(recordIds -&gt; {\n                    try (PreparedStatement pstmt = connection.prepareStatement(stagingInsertSql, RETURN_GENERATED_KEYS)) {\n                        for (String recordId: recordIds ) {\n                            pstmt.setString(1, recordId);\n                            pstmt.addBatch();\n                        }\n                        long start = currentTimeMillis();\n                        pstmt.executeBatch();\n                        long end = currentTimeMillis();\n                        log.info(&quot;Total time taken to insert [{}] rows: {}ms&quot;, recordIds.size(), (end - start));\n                    } catch (SQLException ex) {\n                        log.error(&quot;Staging job failed due to an exception: {}&quot;, ex.getMessage());\n                    }\n                });\n        connection.commit();\n    } catch (Exception e) {\n        throw new GenericRuntimeException(e);\n    }\n}\n</code></pre>\n<p>I'm a bit concerned on how this code will work if I get a <code>SQLException</code> in the loop for some reason. I wish to rollback all changes in proper ACID way.</p>\n<p><strong>UPDATE</strong></p>\n<p>After looking at the suggestions, this is what I came up with:</p>\n<pre><code>/**\n * Insert some data into some table in bulk\n *\n * @param requestData requested data\n */\npublic void insertingRowsByBatches(RequestData requestData) {\n    try (Connection connection = myDataSource.getConnection()) {\n            loadInStagingTable(requestData, connection);\n    } catch (SQLException e) {\n        throw new GenericRuntimeException(e);\n    }\n}\n\n/**\n * Insert given data to staging table\n *\n * @param requestData requested data\n * @param connection instance of {@link Connection}\n * @throws SQLException exception\n */\nprivate void loadInStagingTable(RequestData requestData, Connection connection) throws SQLException {\n    try (\n            PreparedStatement deleteStatement = connection.prepareStatement(&quot;DELETE FROM my_table&quot;);\n            PreparedStatement insertStatement = connection.prepareStatement(&quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;, RETURN_GENERATED_KEYS)\n    ) {\n        connection.setAutoCommit(false);\n        log.info(&quot;Deleting any existing records from staging table...&quot;);\n        deleteStatement.executeUpdate();\n\n        log.info(&quot;Inserting given records in staging table...&quot;);\n        long start = currentTimeMillis();\n        List&lt;String&gt; records = requestData.getData();\n        List&lt;List&lt;String&gt;&gt; partitions = partition(records , MAX_ROWS_PER_INSERT);\n        int partitionCount = 0;\n        for (List&lt;String&gt; recordIds: partitions) {\n            log.info(&quot;Partition [{}/{}] - Inserting [{}] records in staging table&quot;, ++partitionCount, partitions.size(), recordIds.size());\n            for (String recordId: recordIds) {\n                insertStatement.setString(1, recordId);\n                insertStatement.addBatch();\n            }\n            insertStatement.executeBatch();\n        }\n        connection.commit();\n        log.debug(&quot;Total time taken to insert [{}] rows: {}ms&quot;, records.size(), (currentTimeMillis() - start));\n    } catch (SQLException e) {\n        connection.rollback();\n        throw new GenericRuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675103965,"post_id":75288365,"comment_id":132852664,"body_markdown":"Is the EventPublisher service in the same package as the class annotated with @SpringBootApplication, eg com.reflectoring.eventdemo","body":"Is the EventPublisher service in the same package as the class annotated with @SpringBootApplication, eg com.reflectoring.eventdemo"},{"owner":{"account_id":11342805,"reputation":919,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"score":0,"creation_date":1675106641,"post_id":75288365,"comment_id":132853406,"body_markdown":"No, both Service and Component are in different packages.","body":"No, both Service and Component are in different packages."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1675119440,"post_id":75288365,"comment_id":132856707,"body_markdown":"Does this answer your question? [What is a NoSuchBeanDefinitionException and how do I fix it?](https://stackoverflow.com/questions/39173982/what-is-a-nosuchbeandefinitionexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39173982/what-is-a-nosuchbeandefinitionexception-and-how-do-i-fix-it\">What is a NoSuchBeanDefinitionException and how do I fix it?</a>"},{"owner":{"account_id":11342805,"reputation":919,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"score":0,"creation_date":1675156079,"post_id":75288365,"comment_id":132862662,"body_markdown":"@Hicomputer I already fix it by a using ComponentScan annotation.","body":"@Hicomputer I already fix it by a using ComponentScan annotation."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675108427,"creation_date":1675108427,"answer_id":75289480,"question_id":75288365,"body_markdown":"If @Components (incl @Services) are in are not in the same package (or a sub-package) as the class annotated with @SpringBootApplication then the @SpringBootApplication needs a scanBasePackages, eg\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;basepackage1&quot;, &quot;basepackage2&quot;}","title":"Unable to autowire Component into Service in springboot","body":"<p>If @Components (incl @Services) are in are not in the same package (or a sub-package) as the class annotated with @SpringBootApplication then the @SpringBootApplication needs a scanBasePackages, eg</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;basepackage1&quot;, &quot;basepackage2&quot;}\n</code></pre>\n"}],"owner":{"account_id":11342805,"reputation":919,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75289480,"answer_count":1,"score":-1,"last_activity_date":1675108427,"creation_date":1675101616,"question_id":75288365,"body_markdown":"I am trying to do the event handling in my springboot(4.2) application and following this [example][1]. When I try to Autowired EventPublisher component into my Service, it creates a problem and throws the following exception:\r\n\r\n\r\n    2023-01-30 18:54:15 DEBUG Processing injected element of bean &#39;positionService&#39;: AutowiredFieldElement for com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher\r\n    2023-01-30 18:54:15 WARN Exception encountered during context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;positionService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:834)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4762)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5222)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1326)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1072)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:967)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:543)\r\n    \t... 58 more\r\n\r\n\r\n Here is my EventPublisher\r\n\r\n\r\n    @Component\r\n    public class EventPublisher {\r\n        @Autowired \r\n        private ApplicationEventPublisher applicationEventPublisher;\r\n     \r\n    \r\n        public void publishEvent(String message, Integer eventId) {\r\n            applicationEventPublisher.publishEvent(\r\n                    new UserEvent(this, message, eventId)\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nService:\r\n\r\n    @Service\r\n    public class PositionService extends BaseService implements IPositionService {\r\n        private final Logger LOGGER = LoggerFactory.getLogger(this.getClass());\r\n    \r\n        \r\n    \r\n        @Autowired\r\n        EventPublisher eventPublisher;\r\n\r\n\r\n\r\n  [1]: https://reflectoring.io/spring-boot-application-events-explained/","title":"Unable to autowire Component into Service in springboot","body":"<p>I am trying to do the event handling in my springboot(4.2) application and following this <a href=\"https://reflectoring.io/spring-boot-application-events-explained/\" rel=\"nofollow noreferrer\">example</a>. When I try to Autowired EventPublisher component into my Service, it creates a problem and throws the following exception:</p>\n<pre><code>2023-01-30 18:54:15 DEBUG Processing injected element of bean 'positionService': AutowiredFieldElement for com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher\n2023-01-30 18:54:15 WARN Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'positionService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:834)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4762)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5222)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1326)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1072)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:967)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:543)\n    ... 58 more\n</code></pre>\n<p>Here is my EventPublisher</p>\n<pre><code>@Component\npublic class EventPublisher {\n    @Autowired \n    private ApplicationEventPublisher applicationEventPublisher;\n \n\n    public void publishEvent(String message, Integer eventId) {\n        applicationEventPublisher.publishEvent(\n                new UserEvent(this, message, eventId)\n        );\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class PositionService extends BaseService implements IPositionService {\n    private final Logger LOGGER = LoggerFactory.getLogger(this.getClass());\n\n    \n\n    @Autowired\n    EventPublisher eventPublisher;\n</code></pre>\n"},{"tags":["java","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1675173849,"post_id":75289475,"comment_id":132868416,"body_markdown":"The code of [XWPFDocument.setParagraph(XWPFParagraph paragraph, int pos)](https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xwpf/usermodel/XWPFDocument.java?view=markup#l1001) shows why this will not work properly. See TODO-comment.","body":"The code of <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xwpf/usermodel/XWPFDocument.java?view=markup#l1001\" rel=\"nofollow noreferrer\">XWPFDocument.setParagraph(XWPFParagraph paragraph, int pos)</a> shows why this will not work properly. See TODO-comment."},{"owner":{"account_id":2726971,"reputation":151,"user_id":2351753,"accept_rate":100,"display_name":"nigelg"},"score":0,"creation_date":1675189980,"post_id":75289475,"comment_id":132874024,"body_markdown":"It turns out my point (2) above about a particular Word doc I was running my real app against having Word saying the generated doc is corrupt on opening is because the parargraphs I was cloning like with example code above contained an image, and since the XML is being cloned as-is, this gave duplicate IDs in wp:docPr tags similar to described here https://bz.apache.org/bugzilla/show_bug.cgi?id=49765#c43 so not really relevant to the question of generally the best way to clone and insert paragraphs and tables","body":"It turns out my point (2) above about a particular Word doc I was running my real app against having Word saying the generated doc is corrupt on opening is because the parargraphs I was cloning like with example code above contained an image, and since the XML is being cloned as-is, this gave duplicate IDs in wp:docPr tags similar to described here <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=49765#c43\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/show_bug.cgi?id=49765#c43</a> so not really relevant to the question of generally the best way to clone and insert paragraphs and tables"}],"owner":{"account_id":2726971,"reputation":151,"user_id":2351753,"accept_rate":100,"display_name":"nigelg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675108397,"creation_date":1675108397,"question_id":75289475,"body_markdown":"I am trying to copy paragraphs of a XWPFDocument using Apache POI.  Since POI has no method to insert a pre-made paragraph at an arbitrary point, I&#39;ve read plenty of answers suggesting to first insert a throwaway paragraph using insertNewParagraph(), then replace the temporary paragraph by the one I actually want with setParagraph().  This is further complicated by that insertNewParagraph can&#39;t just take an input which is the desired index into the body&#39;s list of elements (like how XWPFTable.addRow(row,pos) works), and must pass it an XmlCursor.\r\n\r\nTestIn.docx I created as a a test with 6 paragraphs A, B, C, D, E, F.\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.xwpf.usermodel.IBodyElement;\r\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\r\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\nimport org.apache.xmlbeans.XmlCursor;\r\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP;\r\n\r\npublic class ParagraphIssue\r\n{\r\n\tpublic void debugElement (IBodyElement elem, StringBuilder s, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\r\n\t\tXWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\r\n\t{\r\n\t\tif (s.length () &gt; 0) s.append (&quot; &quot;);\r\n\t\tif (elem == a) s.append (&quot;A&quot;);\r\n\t\telse if (elem == b) s.append (&quot;B&quot;);\r\n\t\telse if (elem == c) s.append (&quot;C&quot;);\r\n\t\telse if (elem == d) s.append (&quot;D&quot;);\r\n\t\telse if (elem == e) s.append (&quot;E&quot;);\r\n\t\telse if (elem == f) s.append (&quot;F&quot;);\r\n\t\telse if (elem == t1) s.append (&quot;T1&quot;);\r\n\t\telse if (elem == r1) s.append (&quot;R1&quot;);\r\n\t\telse if (elem == t2) s.append (&quot;T2&quot;);\r\n\t\telse if (elem == r2) s.append (&quot;R2&quot;);\r\n\t\telse s.append (&quot;U&quot;);\r\n\t}\r\n\t\r\n\tpublic void debug (XWPFDocument doc, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\r\n\t\tXWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\r\n\t{\r\n\t\tStringBuilder s = new StringBuilder ();\r\n\t\tfor (IBodyElement elem : doc.getBodyElements ())\r\n\t\t\tdebugElement (elem, s, a, b, c, d, e, f, t1, r1, t2, r2);\r\n\t\tSystem.out.println(&quot;Elements: &quot; + s);\r\n\t\t\r\n\t\ts = new StringBuilder ();\r\n\t\tfor (XWPFParagraph para : doc.getParagraphs ())\r\n\t\t\tdebugElement (para, s, a, b, c, d, e, f, t1, r1, t2, r2);\r\n\t\tSystem.out.println(&quot;Paragraphs: &quot; + s);\r\n\t}\r\n\t\r\n\tpublic void run (XWPFDocument doc, int insertionPoint)\r\n\t{\r\n\t\tXWPFParagraph paraA = doc.getParagraphs().get(0);\r\n\t\tXWPFParagraph paraB = doc.getParagraphs().get(1);\r\n\t\tXWPFParagraph paraC = doc.getParagraphs().get(2);\r\n\t\tXWPFParagraph paraD = doc.getParagraphs().get(3);\r\n\t\tXWPFParagraph paraE = doc.getParagraphs().get(4);\r\n\t\tXWPFParagraph paraF = doc.getParagraphs().get(5);\r\n\t\t\r\n\t\tSystem.out.println (&quot;--- Document initial state ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, null, null, null, null);\r\n\r\n\t\t// Clone the first paragraph\r\n\t\tXWPFParagraph cloneThis = (XWPFParagraph) doc.getBodyElements ().get (0);\r\n\t\tXWPFParagraph clonedPara = new XWPFParagraph ((CTP) cloneThis.getCTP ().copy (), doc);\r\n\t\t\r\n\t\t// Add new paragraph before the final paragraph\r\n\t\tXWPFParagraph insertBeforePara = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint);\r\n\t\tXmlCursor cursor = insertBeforePara.getCTP ().newCursor ();\r\n\t\t\r\n\t\tXWPFParagraph newPara = doc.insertNewParagraph (cursor);\r\n\t\tnewPara.insertNewRun (0).setText (&quot;this should get replaced&quot;);\r\n\t\t\r\n\t\tSystem.out.println (&quot;--- Insert 1st temporary para before F ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\r\n\t\t\r\n\t\tint newParaIndex = 0;\r\n\t\tfor (IBodyElement elem : doc.getBodyElements ())\r\n\t\t{\r\n\t\t\tif (elem == newPara)\r\n\t\t\t\tbreak;\r\n\t\t\telse if (elem.getElementType () == newPara.getElementType ())\r\n\t\t\t\tnewParaIndex++;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println (&quot;1st temporary para is at index &quot; + newParaIndex);\t\t// 5, as expected\r\n\t\t\r\n\t\t// Now replace the added paragraph with the cloned one\r\n\t\tdoc.setParagraph (clonedPara, newParaIndex);\r\n\t\tSystem.out.println (&quot;--- Replace 1st temporary para ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\r\n\t\t\r\n\t\t// Do exactly the same thing again to clone the second paragraph\r\n\t\tXWPFParagraph cloneThis2 = (XWPFParagraph) doc.getBodyElements ().get (1);\r\n\t\tXWPFParagraph clonedPara2 = new XWPFParagraph ((CTP) cloneThis2.getCTP ().copy (), doc);\r\n\t\t\r\n\t\tXWPFParagraph insertBeforePara2 = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint + 1);\r\n\t\tXmlCursor cursor2 = insertBeforePara2.getCTP ().newCursor ();\r\n\t\t\r\n\t\tXWPFParagraph newPara2 = doc.insertNewParagraph (cursor2);\r\n\t\tnewPara2.insertNewRun (0).setText (&quot;this should get replaced too&quot;);\r\n\r\n\t\tSystem.out.println (&quot;--- Insert 2nd temporary para before F ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\r\n\t\t\r\n\t\tint newParaIndex2 = 0;\r\n\t\tfor (IBodyElement elem : doc.getBodyElements ())\r\n\t\t{\r\n\t\t\tif (elem == newPara2)\r\n\t\t\t\tbreak;\r\n\t\t\telse if (elem.getElementType () == newPara2.getElementType ())\r\n\t\t\t\tnewParaIndex2++;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println (&quot;2nd temporary para is at index &quot; + newParaIndex2);\r\n\t\t\r\n\t\tdoc.setParagraph (clonedPara2, newParaIndex2);\t\t// So then this replaces the wrong paragraph\r\n\t\tSystem.out.println (&quot;--- Replace 2nd temporary para ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\r\n\t}\r\n\t\r\n\tpublic final static void main (final String [] args)\r\n\t{\r\n\t\ttry (FileInputStream in = new FileInputStream (&quot;W:\\\\TestIn.docx&quot;))\r\n\t\t{\r\n\t\t\tXWPFDocument doc = new XWPFDocument (in);\r\n\t\t\tnew ParagraphIssue ().run (doc, 5);\r\n\t\t\t\r\n\t\t\ttry (FileOutputStream out = new FileOutputStream (&quot;W:\\\\TestOut.docx&quot;))\r\n\t\t\t{\r\n\t\t\t\tdoc.write (out);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace ();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nA lot is debug code so I can get output that shows exactly what&#39;s happening:\r\n\r\n--- Document initial state ---  \r\nElements: A B C D E F  \r\nParagraphs: A B C D E F  \r\n--- Insert 1st temporary para before F ---  \r\nElements: A B C D E T1 F  \r\nParagraphs: A B C D E T1 F  \r\n1st temporary para is at index 5 **- perfect so far**  \r\n--- Replace 1st temporary para ---  \r\nElements: A B C D E T1 F  \r\nParagraphs: A B C D E R1 F **- The list of paragraphs has the replacement paragraph, but the list of elements still has the temporary paragraph**  \r\n--- Insert 2nd temporary para before F ---  \r\nElements: A B C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R1 F **- now the 2nd temporary paragraph has gone at the front of the list; its in the correct place in the list of elements**  \r\n2nd temporary para is at index 6  \r\n--- Replace 2nd temporary para ---  \r\nElements: A B C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R2 F **- List of elements still contains temporary paragraphs; List of paragraphs has 2nd paragraph in wrong place**\r\n\r\nAmazingly, the saved Word doc actually looks correct, but I don&#39;t understand how when neither list looks correct.\r\n\r\nAs far as finding where to do the insert goes, so far I could&#39;ve used ```int newParaIndex = doc.getPosOfParagraph (newPara);```.  Problem with this comes when you add tables into the mix.  Now I edited the source doc and inserted a table so the list of elements now looks like A, B, (table), C, D, E, F and change insertionPoint to 6 accordingly.\r\n\r\nNow you can no longer use doc.getPosOfParagraph () as this returns the index of the paragraph in the list of elements (including tables) but setParagraph needs the index of the paragraph in the list of paragraph (excluding tables).  Using doc.getParagraphPos() to compenstate for this returns 0 for the 2nd inserted temporary paragraph because as you can see in the output above, that&#39;s literally where it is.  So I worked around this by searching only the paragraphs of the elements list, as you can see in the code.\r\n\r\nRunning again with the table added (this is the &#39;U&#39; in the debug output):\r\n\r\n--- Document initial state ---  \r\nElements: A B U C D E F  \r\nParagraphs: A B C D E F  \r\n--- Insert 1st temporary para before F ---  \r\nElements: A B U C D E T1 F  \r\nParagraphs: A B C D E T1 F  \r\n--- Replace 1st temporary para ---  \r\nElements: A B U C D E T1 F  \r\nParagraphs: A B C D E R1 F  \r\n--- Insert 2nd temporary para before F ---  \r\nElements: A B U C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R1 F  \r\n2nd temporary para is at index 6  \r\n--- Replace 2nd temporary para ---  \r\nElements: A B U C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R2 F\r\n\r\nAgain this does actually generate the correct output in the saved doc.  My questions are:\r\n1) Is there a better way to do this that fixes the screwyness of temporary paragraphs being replaced in one list but not the other, and of the 2nd temporary paragraph showing up at the front of the list?  For example should I re-use the same XmlCursor to insert the 2nd temporary paragraph?  Should I make all the temporary paragraphs in one go and then replace them all in one hit afterwards rather than doing one at a time?  Would anything like this help?\r\n2) When I try this approach in our real app, Word complains the document is corrupted.  It offers to attempt to recover it, and if I click Yes then it opens and the content and all the copied paragraphs all look correct, but the odd behaviour here is causing the corrupt doc warning.\r\n\r\n\r\n","title":"Insert multiple copied paragraphs in XWPFDocument","body":"<p>I am trying to copy paragraphs of a XWPFDocument using Apache POI.  Since POI has no method to insert a pre-made paragraph at an arbitrary point, I've read plenty of answers suggesting to first insert a throwaway paragraph using insertNewParagraph(), then replace the temporary paragraph by the one I actually want with setParagraph().  This is further complicated by that insertNewParagraph can't just take an input which is the desired index into the body's list of elements (like how XWPFTable.addRow(row,pos) works), and must pass it an XmlCursor.</p>\n<p>TestIn.docx I created as a a test with 6 paragraphs A, B, C, D, E, F.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.IBodyElement;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.xmlbeans.XmlCursor;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP;\n\npublic class ParagraphIssue\n{\n    public void debugElement (IBodyElement elem, StringBuilder s, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\n        XWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\n    {\n        if (s.length () &gt; 0) s.append (&quot; &quot;);\n        if (elem == a) s.append (&quot;A&quot;);\n        else if (elem == b) s.append (&quot;B&quot;);\n        else if (elem == c) s.append (&quot;C&quot;);\n        else if (elem == d) s.append (&quot;D&quot;);\n        else if (elem == e) s.append (&quot;E&quot;);\n        else if (elem == f) s.append (&quot;F&quot;);\n        else if (elem == t1) s.append (&quot;T1&quot;);\n        else if (elem == r1) s.append (&quot;R1&quot;);\n        else if (elem == t2) s.append (&quot;T2&quot;);\n        else if (elem == r2) s.append (&quot;R2&quot;);\n        else s.append (&quot;U&quot;);\n    }\n    \n    public void debug (XWPFDocument doc, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\n        XWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\n    {\n        StringBuilder s = new StringBuilder ();\n        for (IBodyElement elem : doc.getBodyElements ())\n            debugElement (elem, s, a, b, c, d, e, f, t1, r1, t2, r2);\n        System.out.println(&quot;Elements: &quot; + s);\n        \n        s = new StringBuilder ();\n        for (XWPFParagraph para : doc.getParagraphs ())\n            debugElement (para, s, a, b, c, d, e, f, t1, r1, t2, r2);\n        System.out.println(&quot;Paragraphs: &quot; + s);\n    }\n    \n    public void run (XWPFDocument doc, int insertionPoint)\n    {\n        XWPFParagraph paraA = doc.getParagraphs().get(0);\n        XWPFParagraph paraB = doc.getParagraphs().get(1);\n        XWPFParagraph paraC = doc.getParagraphs().get(2);\n        XWPFParagraph paraD = doc.getParagraphs().get(3);\n        XWPFParagraph paraE = doc.getParagraphs().get(4);\n        XWPFParagraph paraF = doc.getParagraphs().get(5);\n        \n        System.out.println (&quot;--- Document initial state ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, null, null, null, null);\n\n        // Clone the first paragraph\n        XWPFParagraph cloneThis = (XWPFParagraph) doc.getBodyElements ().get (0);\n        XWPFParagraph clonedPara = new XWPFParagraph ((CTP) cloneThis.getCTP ().copy (), doc);\n        \n        // Add new paragraph before the final paragraph\n        XWPFParagraph insertBeforePara = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint);\n        XmlCursor cursor = insertBeforePara.getCTP ().newCursor ();\n        \n        XWPFParagraph newPara = doc.insertNewParagraph (cursor);\n        newPara.insertNewRun (0).setText (&quot;this should get replaced&quot;);\n        \n        System.out.println (&quot;--- Insert 1st temporary para before F ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\n        \n        int newParaIndex = 0;\n        for (IBodyElement elem : doc.getBodyElements ())\n        {\n            if (elem == newPara)\n                break;\n            else if (elem.getElementType () == newPara.getElementType ())\n                newParaIndex++;\n        }\n        \n        System.out.println (&quot;1st temporary para is at index &quot; + newParaIndex);      // 5, as expected\n        \n        // Now replace the added paragraph with the cloned one\n        doc.setParagraph (clonedPara, newParaIndex);\n        System.out.println (&quot;--- Replace 1st temporary para ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\n        \n        // Do exactly the same thing again to clone the second paragraph\n        XWPFParagraph cloneThis2 = (XWPFParagraph) doc.getBodyElements ().get (1);\n        XWPFParagraph clonedPara2 = new XWPFParagraph ((CTP) cloneThis2.getCTP ().copy (), doc);\n        \n        XWPFParagraph insertBeforePara2 = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint + 1);\n        XmlCursor cursor2 = insertBeforePara2.getCTP ().newCursor ();\n        \n        XWPFParagraph newPara2 = doc.insertNewParagraph (cursor2);\n        newPara2.insertNewRun (0).setText (&quot;this should get replaced too&quot;);\n\n        System.out.println (&quot;--- Insert 2nd temporary para before F ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\n        \n        int newParaIndex2 = 0;\n        for (IBodyElement elem : doc.getBodyElements ())\n        {\n            if (elem == newPara2)\n                break;\n            else if (elem.getElementType () == newPara2.getElementType ())\n                newParaIndex2++;\n        }\n        \n        System.out.println (&quot;2nd temporary para is at index &quot; + newParaIndex2);\n        \n        doc.setParagraph (clonedPara2, newParaIndex2);      // So then this replaces the wrong paragraph\n        System.out.println (&quot;--- Replace 2nd temporary para ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\n    }\n    \n    public final static void main (final String [] args)\n    {\n        try (FileInputStream in = new FileInputStream (&quot;W:\\\\TestIn.docx&quot;))\n        {\n            XWPFDocument doc = new XWPFDocument (in);\n            new ParagraphIssue ().run (doc, 5);\n            \n            try (FileOutputStream out = new FileOutputStream (&quot;W:\\\\TestOut.docx&quot;))\n            {\n                doc.write (out);\n            }\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace ();\n        }\n    }\n}\n</code></pre>\n<p>A lot is debug code so I can get output that shows exactly what's happening:</p>\n<p>--- Document initial state ---<br />\nElements: A B C D E F<br />\nParagraphs: A B C D E F<br />\n--- Insert 1st temporary para before F ---<br />\nElements: A B C D E T1 F<br />\nParagraphs: A B C D E T1 F<br />\n1st temporary para is at index 5 <strong>- perfect so far</strong><br />\n--- Replace 1st temporary para ---<br />\nElements: A B C D E T1 F<br />\nParagraphs: A B C D E R1 F <strong>- The list of paragraphs has the replacement paragraph, but the list of elements still has the temporary paragraph</strong><br />\n--- Insert 2nd temporary para before F ---<br />\nElements: A B C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R1 F <strong>- now the 2nd temporary paragraph has gone at the front of the list; its in the correct place in the list of elements</strong><br />\n2nd temporary para is at index 6<br />\n--- Replace 2nd temporary para ---<br />\nElements: A B C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R2 F <strong>- List of elements still contains temporary paragraphs; List of paragraphs has 2nd paragraph in wrong place</strong></p>\n<p>Amazingly, the saved Word doc actually looks correct, but I don't understand how when neither list looks correct.</p>\n<p>As far as finding where to do the insert goes, so far I could've used <code>int newParaIndex = doc.getPosOfParagraph (newPara);</code>.  Problem with this comes when you add tables into the mix.  Now I edited the source doc and inserted a table so the list of elements now looks like A, B, (table), C, D, E, F and change insertionPoint to 6 accordingly.</p>\n<p>Now you can no longer use doc.getPosOfParagraph () as this returns the index of the paragraph in the list of elements (including tables) but setParagraph needs the index of the paragraph in the list of paragraph (excluding tables).  Using doc.getParagraphPos() to compenstate for this returns 0 for the 2nd inserted temporary paragraph because as you can see in the output above, that's literally where it is.  So I worked around this by searching only the paragraphs of the elements list, as you can see in the code.</p>\n<p>Running again with the table added (this is the 'U' in the debug output):</p>\n<p>--- Document initial state ---<br />\nElements: A B U C D E F<br />\nParagraphs: A B C D E F<br />\n--- Insert 1st temporary para before F ---<br />\nElements: A B U C D E T1 F<br />\nParagraphs: A B C D E T1 F<br />\n--- Replace 1st temporary para ---<br />\nElements: A B U C D E T1 F<br />\nParagraphs: A B C D E R1 F<br />\n--- Insert 2nd temporary para before F ---<br />\nElements: A B U C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R1 F<br />\n2nd temporary para is at index 6<br />\n--- Replace 2nd temporary para ---<br />\nElements: A B U C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R2 F</p>\n<p>Again this does actually generate the correct output in the saved doc.  My questions are:</p>\n<ol>\n<li>Is there a better way to do this that fixes the screwyness of temporary paragraphs being replaced in one list but not the other, and of the 2nd temporary paragraph showing up at the front of the list?  For example should I re-use the same XmlCursor to insert the 2nd temporary paragraph?  Should I make all the temporary paragraphs in one go and then replace them all in one hit afterwards rather than doing one at a time?  Would anything like this help?</li>\n<li>When I try this approach in our real app, Word complains the document is corrupted.  It offers to attempt to recover it, and if I click Yes then it opens and the content and all the copied paragraphs all look correct, but the odd behaviour here is causing the corrupt doc warning.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","stream","hashmap"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675107431,"post_id":75289260,"comment_id":132853600,"body_markdown":"A `List&lt;Map&lt;String, String&gt;&gt;` is a waste over a `Map&lt;String, String&gt;` if your entry keys are unique. From what I&#39;m seeing here, I would assume that `CollectiveInterestsRes` is a `Map` itself, which you could `map.get(&quot;targetInfo&quot;)` to start things off. Keep in mind a hashmap is inherently unordered, you need _keys_ to retrieve information.","body":"A <code>List&lt;Map&lt;String, String&gt;&gt;</code> is a waste over a <code>Map&lt;String, String&gt;</code> if your entry keys are unique. From what I&#39;m seeing here, I would assume that <code>CollectiveInterestsRes</code> is a <code>Map</code> itself, which you could <code>map.get(&quot;targetInfo&quot;)</code> to start things off. Keep in mind a hashmap is inherently unordered, you need <i>keys</i> to retrieve information."},{"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"score":0,"creation_date":1675107594,"post_id":75289260,"comment_id":132853645,"body_markdown":"So how can i do this can you show one example? I&#39;ve never worked with hashmap before so I&#39;m very unfamiliar..","body":"So how can i do this can you show one example? I&#39;ve never worked with hashmap before so I&#39;m very unfamiliar.."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675107678,"post_id":75289260,"comment_id":132853669,"body_markdown":"You should refer to the [documentation for Map](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html). Oracle&#39;s [tutorial](https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html) also covers them extensively.","body":"You should refer to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">documentation for Map</a>. Oracle&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">tutorial</a> also covers them extensively."},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1675107956,"post_id":75289260,"comment_id":132853745,"body_markdown":"@Rogue how do you understand that the provided object is a map? And how is this connected to the given question?","body":"@Rogue how do you understand that the provided object is a map? And how is this connected to the given question?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675112977,"post_id":75289260,"comment_id":132855155,"body_markdown":"@m.antkowicz in the same manner that the state of any object has a 1:1 correspondence to a `Map` (field names =&gt; object values). The manner of using `.get(0)` on `collectiveInterestsRes` made me assume they had an unserialized object. There is a direct approach to just grabbing the info outright, but my concern was that it was potentially furthering a poor design.","body":"@m.antkowicz in the same manner that the state of any object has a 1:1 correspondence to a <code>Map</code> (field names =&gt; object values). The manner of using <code>.get(0)</code> on <code>collectiveInterestsRes</code> made me assume they had an unserialized object. There is a direct approach to just grabbing the info outright, but my concern was that it was potentially furthering a poor design."}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675108378,"creation_date":1675108378,"answer_id":75289469,"question_id":75289260,"body_markdown":"Apart of refactoring this little bit crazy structure you have, the thing you can do is to iterate over the list and put all elements in one common map. Then access elements by key\r\n\r\n    final List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\r\n    final Map&lt;String, String&gt; accumulatedMap = new HashMap&lt;&gt;();\r\n\r\n    targetInfo.forEach(accumulatedMap::putAll);\r\n\r\n    System.out.println(accumulatedMap.get(&quot;tv_interest_f&quot;));\r\n    System.out.println(accumulatedMap.get(&quot;entertainment_interest_f&quot;));","title":"How can I split the hashmap I have and get the information?","body":"<p>Apart of refactoring this little bit crazy structure you have, the thing you can do is to iterate over the list and put all elements in one common map. Then access elements by key</p>\n<pre><code>final List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\nfinal Map&lt;String, String&gt; accumulatedMap = new HashMap&lt;&gt;();\n\ntargetInfo.forEach(accumulatedMap::putAll);\n\nSystem.out.println(accumulatedMap.get(&quot;tv_interest_f&quot;));\nSystem.out.println(accumulatedMap.get(&quot;entertainment_interest_f&quot;));\n</code></pre>\n"}],"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75289469,"answer_count":1,"score":0,"last_activity_date":1675108378,"creation_date":1675107155,"question_id":75289260,"body_markdown":"I have an input output like this. A maximum of three elements can come in the targetInfo in this output. I want to get the first three elements in it. So I want to print the **entertainment_interest_f, citizenship_s, tv_interest_f** variables and values ​​to the screen. How can I do it?\r\n\r\n    \r\n\r\n    CollectiveInterestsRes(\r\n        \t\t\t\t\t\ttargetInfo=[{entertainment_interest_f=3.0}, {citizenship_s-&gt;America=3.0}, {tv_interest_f=3.0}],\r\n        \t\t\t\t\t\tmsisdnCount=3,\r\n        \t\t\t\t\t\tmsisdnList=[495012072622, 495012103468, 495012115405],\r\n        \t\t\t\t\t\tisSuccess=true,\r\n        \t\t\t\t\t\truleRequests=[RuleRequest(ruleId=tv, subruleId=null, locationRequest=null, operator=EQ, values=[1], msisdnRequest=null)]\r\n        \t\t\t\t\t)\r\n    \r\nClass content like this : \r\n    \r\n    public class CollectiveInterestsRes {\r\n            private List&lt;Map&lt;String,String&gt;&gt; targetInfo;\r\n        \r\n            private Integer gsmNoCount;\r\n            private List&lt;String&gt; gsmNoList;\r\n            private boolean isSuccess;\r\n            private List&lt;RuleRequest&gt; ruleRequests;\r\n        }\r\n\r\nI was able to break the method down so much, can you help me for more?\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\r\n","title":"How can I split the hashmap I have and get the information?","body":"<p>I have an input output like this. A maximum of three elements can come in the targetInfo in this output. I want to get the first three elements in it. So I want to print the <strong>entertainment_interest_f, citizenship_s, tv_interest_f</strong> variables and values ​​to the screen. How can I do it?</p>\n<pre><code>CollectiveInterestsRes(\n                            targetInfo=[{entertainment_interest_f=3.0}, {citizenship_s-&gt;America=3.0}, {tv_interest_f=3.0}],\n                            msisdnCount=3,\n                            msisdnList=[495012072622, 495012103468, 495012115405],\n                            isSuccess=true,\n                            ruleRequests=[RuleRequest(ruleId=tv, subruleId=null, locationRequest=null, operator=EQ, values=[1], msisdnRequest=null)]\n                        )\n</code></pre>\n<p>Class content like this :</p>\n<pre><code>public class CollectiveInterestsRes {\n        private List&lt;Map&lt;String,String&gt;&gt; targetInfo;\n    \n        private Integer gsmNoCount;\n        private List&lt;String&gt; gsmNoList;\n        private boolean isSuccess;\n        private List&lt;RuleRequest&gt; ruleRequests;\n    }\n</code></pre>\n<p>I was able to break the method down so much, can you help me for more?</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\n</code></pre>\n"},{"tags":["java","spring-mvc","design-patterns"],"comments":[{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1675109213,"post_id":75289391,"comment_id":132854103,"body_markdown":"But how are you going to process this address - let say that you will keep somehow list of addresses in one string (&quot;address1,address2,address3&quot;) then what should e.g. printAddress() method do? Technically what you are trying to do is quite easy (just create some kind of facade that will keep this string/list sorted out) but business logic anyway will change a lot!","body":"But how are you going to process this address - let say that you will keep somehow list of addresses in one string (&quot;address1,address2,address3&quot;) then what should e.g. printAddress() method do? Technically what you are trying to do is quite easy (just create some kind of facade that will keep this string/list sorted out) but business logic anyway will change a lot!"},{"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"score":0,"creation_date":1675189825,"post_id":75289391,"comment_id":132873978,"body_markdown":"I would capture the address list and store into DB. I know technically its too easy but  wanted it to happen without much change in business logic. I was hoping to have kind of bridge design pattern where in two classes compliment each other","body":"I would capture the address list and store into DB. I know technically its too easy but  wanted it to happen without much change in business logic. I was hoping to have kind of bridge design pattern where in two classes compliment each other"}],"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675108341,"creation_date":1675107938,"question_id":75289391,"body_markdown":"I have request class implemented with more than 20 variables like below\r\n```\r\nClass A {\r\n    private String name;\r\n    private String address;\r\n    ....\r\n}\r\n```\r\nNow I want to make address field as List&lt;String&gt; address in the request How can I achieve this without affecting any other objects/methods/classes which are almost tightly coupled to this.\r\n\r\nI tried to replicate same thing in different new class by adding List of String for address. Which includes lot of changes too, I am afraid code is already in production and I don&#39;t want other things get affected.","title":"Conversion of Object to List of Object in a Request POJO Class(JAVA)","body":"<p>I have request class implemented with more than 20 variables like below</p>\n<pre><code>Class A {\n    private String name;\n    private String address;\n    ....\n}\n</code></pre>\n<p>Now I want to make address field as List address in the request How can I achieve this without affecting any other objects/methods/classes which are almost tightly coupled to this.</p>\n<p>I tried to replicate same thing in different new class by adding List of String for address. Which includes lot of changes too, I am afraid code is already in production and I don't want other things get affected.</p>\n"},{"tags":["java","swing","user-interface","jframe"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675106195,"post_id":75289047,"comment_id":132853284,"body_markdown":"You will probably want to distribute or simply run your application from JAR file, in which case it is better if you learn how to load *resources*. Related: [Loading resources like images while running project distributed as JAR archive](https://stackoverflow.com/q/9864267) (accepted answer there seems to also have info about IntelliJ settings for this)","body":"You will probably want to distribute or simply run your application from JAR file, in which case it is better if you learn how to load <i>resources</i>. Related: <a href=\"https://stackoverflow.com/q/9864267\">Loading resources like images while running project distributed as JAR archive</a> (accepted answer there seems to also have info about IntelliJ settings for this)"},{"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"score":0,"creation_date":1675106803,"post_id":75289047,"comment_id":132853447,"body_markdown":"thanks, i checked the link you provided and fixed it.","body":"thanks, i checked the link you provided and fixed it."}],"answers":[{"tags":[],"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675108196,"creation_date":1675106683,"answer_id":75289187,"question_id":75289047,"body_markdown":" \r\n\r\n    BufferedImage image = null;\r\n    try {\r\n            image = ImageIO.read(Objects.requireNonNull(Main.class.getResource(&quot;CurrencyExchange.png&quot;)));\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Frame1.setIconImage(image);\r\n\r\n","title":"I&#39;m attempting to change the image Icon in my JFrame but it&#39;s not working, how can I fix it?","body":"<pre><code>BufferedImage image = null;\ntry {\n        image = ImageIO.read(Objects.requireNonNull(Main.class.getResource(&quot;CurrencyExchange.png&quot;)));\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n    Frame1.setIconImage(image);\n</code></pre>\n"}],"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675108196,"creation_date":1675105796,"question_id":75289047,"body_markdown":"I&#39;m new to using GUI in java;\r\nI&#39;m trying to change the Image Icon for my Project but I don&#39;t know why it&#39;s not working.\r\nI&#39;m using IntelliJ for this, I moved the image(CurrencyExchange.png) for the Icon to the &quot;src&quot; Folder in my Project.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n\r\npublic class main {\r\n\r\n    public static void main(String[] args){\r\n\r\n        JFrame Frame1 = new JFrame();\r\n\r\n        Frame1.getContentPane().setBackground(new Color(0x123456));\r\n        Frame1.setTitle(&quot;Currency Changer&quot;);\r\n        Frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Frame1.setSize(500,500);\r\n        Frame1.setResizable(false);\r\n        Frame1.setLocation(430,100);\r\n        Frame1.setVisible(true);\r\n\r\n        ImageIcon image = new ImageIcon(&quot;CurrencyExchange.png&quot;);\r\n        Frame1.setIconImage(image.getImage());\r\n\r\n    }\r\n}\r\n```","title":"I&#39;m attempting to change the image Icon in my JFrame but it&#39;s not working, how can I fix it?","body":"<p>I'm new to using GUI in java;\nI'm trying to change the Image Icon for my Project but I don't know why it's not working.\nI'm using IntelliJ for this, I moved the image(CurrencyExchange.png) for the Icon to the &quot;src&quot; Folder in my Project.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\n\npublic class main {\n\n    public static void main(String[] args){\n\n        JFrame Frame1 = new JFrame();\n\n        Frame1.getContentPane().setBackground(new Color(0x123456));\n        Frame1.setTitle(&quot;Currency Changer&quot;);\n        Frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Frame1.setSize(500,500);\n        Frame1.setResizable(false);\n        Frame1.setLocation(430,100);\n        Frame1.setVisible(true);\n\n        ImageIcon image = new ImageIcon(&quot;CurrencyExchange.png&quot;);\n        Frame1.setIconImage(image.getImage());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jquery","ajax","spring-boot","forms"],"owner":{"account_id":25941237,"reputation":11,"user_id":19660722,"display_name":"Stundent12aw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675107828,"creation_date":1675107746,"question_id":75289362,"body_markdown":"I am trying to link my registration form to my backend but i get this error when trying.\r\nI am using java spring boot and jquery ajax.\r\n\r\n\r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: &quot;users&quot;]\r\n\r\nmy users class\r\n```\r\n@Data\r\n@Entity\r\n//this will create Construct we don&#39;t need it but for learning\r\n\r\n\r\n\r\npublic class Users {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String password;\r\n    private String role;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;ShoppingBasket&gt; shoppingBasket;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Orders&gt; orders;\r\n}\r\n\r\n```\r\n\r\nmy users service\r\n```\r\n@Service\r\npublic class UsersService {\r\n\r\n    private final UsersRepository userRepo;\r\n    public UsersService(UsersRepository userRepo) {\r\n        this.userRepo = userRepo;\r\n    }\r\n    public Users createUser(Users user) {\r\n        return userRepo.save(user);\r\n    }\r\n    public List&lt;Users&gt; getAllUsers() {\r\n        return userRepo.findAll();\r\n    }\r\n    public Users getUserById(Long id) {\r\n        return userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\r\n    }\r\n    public Users updateUser(Long id, Users userDetails) {\r\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\r\n        user.setFirstName(userDetails.getFirstName());\r\n        user.setLastName(userDetails.getLastName());\r\n        user.setRole(userDetails.getRole());\r\n        return userRepo.save(user);\r\n    }\r\n    public void deleteUser(Long id) {\r\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\r\n        userRepo.delete(user);\r\n    }\r\n}\r\n```\r\n\r\n\r\nmy users controller \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UsersController {\r\n\r\n    @Autowired\r\n    private UsersService usersService;\r\n\r\n    @GetMapping\r\n    public List&lt;Users&gt; getAllUsers() {\r\n        return usersService.getAllUsers();\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Users getUserById(@PathVariable Long id) {\r\n        return usersService.getUserById(id);\r\n    }\r\n\r\n\r\n    @PostMapping\r\n    public Users createUser(@RequestBody Users user) {\r\n\r\n        return usersService.createUser(user);\r\n    }\r\n\r\n\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public Users updateUser(@PathVariable Long id, @RequestBody Users user) {\r\n        return usersService.updateUser(id, user);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteUser(@PathVariable Long id) {\r\n        usersService.deleteUser(id);\r\n    }\r\n}\r\n```\r\nand my Frontend \r\n\r\njs \r\n\r\n```\r\n$(&quot;#signup-form&quot;).submit(function (event) {\r\n    event.preventDefault();\r\n\r\n    var user = {\r\n        name: $(&quot;#name&quot;).val(),\r\n        email: $(&quot;#email&quot;).val(),\r\n        password: $(&quot;#password&quot;).val()\r\n    };\r\n\r\n    $.ajax({\r\n        type: &quot;POST&quot;,\r\n        url: &quot;http://localhost:8080/users&quot;,\r\n        contentType: &quot;application/json&quot;,\r\n        data: JSON.stringify(user),\r\n        success: function (data) {\r\n            console.log(&quot;User created successfully&quot;, data);\r\n        },\r\n        error: function (error) {\r\n            console.error(&quot;Error creating user&quot;, error);\r\n        }\r\n    });\r\n});\r\n\r\n\r\n```\r\n\r\nHtml\r\n\r\n\r\n```\r\n&lt;div class=&quot;container mt-5&quot;&gt;\r\n  &lt;h2&gt;Registration Form&lt;/h2&gt;\r\n  &lt;form action=&quot;http://localhost:8080/users/users&quot;&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;email&quot;&gt;Email address:&lt;/label&gt;\r\n      &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;firstName&quot;&gt;Firstname:&lt;/label&gt;\r\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;firstName&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;lastName&quot;&gt;Lastname:&lt;/label&gt;\r\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;lastName&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\r\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;confirmPassword&quot;&gt;Confirm Password:&lt;/label&gt;\r\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;confirmPassword&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI expect when I click on the submit button that the user is saved in my backend. the database is connected and is working.","title":"Adding the connections between frontend jquery ajax and backend spring boot user does not work","body":"<p>I am trying to link my registration form to my backend but i get this error when trying.\nI am using java spring boot and jquery ajax.</p>\n<p>Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;users&quot;]</p>\n<p>my users class</p>\n<pre><code>@Data\n@Entity\n//this will create Construct we don't need it but for learning\n\n\n\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;user_id&quot;)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n    private String role;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;ShoppingBasket&gt; shoppingBasket;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;Orders&gt; orders;\n}\n\n</code></pre>\n<p>my users service</p>\n<pre><code>@Service\npublic class UsersService {\n\n    private final UsersRepository userRepo;\n    public UsersService(UsersRepository userRepo) {\n        this.userRepo = userRepo;\n    }\n    public Users createUser(Users user) {\n        return userRepo.save(user);\n    }\n    public List&lt;Users&gt; getAllUsers() {\n        return userRepo.findAll();\n    }\n    public Users getUserById(Long id) {\n        return userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\n    }\n    public Users updateUser(Long id, Users userDetails) {\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\n        user.setFirstName(userDetails.getFirstName());\n        user.setLastName(userDetails.getLastName());\n        user.setRole(userDetails.getRole());\n        return userRepo.save(user);\n    }\n    public void deleteUser(Long id) {\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\n        userRepo.delete(user);\n    }\n}\n</code></pre>\n<p>my users controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UsersController {\n\n    @Autowired\n    private UsersService usersService;\n\n    @GetMapping\n    public List&lt;Users&gt; getAllUsers() {\n        return usersService.getAllUsers();\n    }\n\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Users getUserById(@PathVariable Long id) {\n        return usersService.getUserById(id);\n    }\n\n\n    @PostMapping\n    public Users createUser(@RequestBody Users user) {\n\n        return usersService.createUser(user);\n    }\n\n\n\n    @PutMapping(&quot;/{id}&quot;)\n    public Users updateUser(@PathVariable Long id, @RequestBody Users user) {\n        return usersService.updateUser(id, user);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteUser(@PathVariable Long id) {\n        usersService.deleteUser(id);\n    }\n}\n</code></pre>\n<p>and my Frontend</p>\n<p>js</p>\n<pre><code>$(&quot;#signup-form&quot;).submit(function (event) {\n    event.preventDefault();\n\n    var user = {\n        name: $(&quot;#name&quot;).val(),\n        email: $(&quot;#email&quot;).val(),\n        password: $(&quot;#password&quot;).val()\n    };\n\n    $.ajax({\n        type: &quot;POST&quot;,\n        url: &quot;http://localhost:8080/users&quot;,\n        contentType: &quot;application/json&quot;,\n        data: JSON.stringify(user),\n        success: function (data) {\n            console.log(&quot;User created successfully&quot;, data);\n        },\n        error: function (error) {\n            console.error(&quot;Error creating user&quot;, error);\n        }\n    });\n});\n\n\n</code></pre>\n<p>Html</p>\n<pre><code>&lt;div class=&quot;container mt-5&quot;&gt;\n  &lt;h2&gt;Registration Form&lt;/h2&gt;\n  &lt;form action=&quot;http://localhost:8080/users/users&quot;&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;email&quot;&gt;Email address:&lt;/label&gt;\n      &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;firstName&quot;&gt;Firstname:&lt;/label&gt;\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;firstName&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;lastName&quot;&gt;Lastname:&lt;/label&gt;\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;lastName&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;confirmPassword&quot;&gt;Confirm Password:&lt;/label&gt;\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;confirmPassword&quot;&gt;\n    &lt;/div&gt;\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I expect when I click on the submit button that the user is saved in my backend. the database is connected and is working.</p>\n"},{"tags":["java","multithreading","printwriter"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675107762,"creation_date":1675107762,"answer_id":75289366,"question_id":75289041,"body_markdown":"Starting a thread does not mean it is guaranteed to actually finish executing the first statement in its `run()` method before `start()` returns. In fact,\r\n\r\n* Usually it won&#39;t - starting a thread takes some time, and `start()` returns as soon as it can.\r\n* A JVM that runs a few statements in the thread you just started before `start()` returns is &#39;correct&#39; - that is fine. A JVM that doesn&#39;t is _also_ fine. Generally you don&#39;t want threads, because nothing is predictable anymore. At the very least you want to keep &#39;inter-thread comms&#39; down to a minimum. Anytime a single field is used from more than one thread, things get very tricky.\r\n\r\nWhat you need is `synchronized` or other tools to insert predictability in this code.\r\n\r\n## First, fix a bug\r\n\r\nYour ClientHandler&#39;s `run()` code starts _another_ thread for no reason. Take all that out, your `run()` method in ClientHandler should set up `out` and `in` and then immediately do `while (socket.isConnected())`\r\n\r\n## Synchronizing\r\n\r\nAt the very basic level, make a locker object and use notify/wait:\r\n\r\n```\r\nprivate final Object lock = new Object();\r\n@Override public void run() {\r\n  try {\r\n    synchronized (lock) {\r\n      out = ...;\r\n      in = ...;\r\n      lock.notifyAll();\r\n    }\r\n\r\n    while (socket.isConnected()) { ... }\r\n\r\n```\r\n\r\n`out` __definitely__ cannot be `public` here, you can&#39;t refer to a stream from multiple threads and expect things to work out!\r\n\r\nJust &#39;fixing&#39; your code involves then using something like:\r\n\r\n```\r\npublic OutputStream getOutputStream() {\r\n  synchronized (lock) {\r\n    while (out == null) {\r\n      lock.wait();\r\n    }\r\n  }\r\n  return out;\r\n}\r\n```\r\n\r\nWhich will ensure that any thread that wants the `out` will wait for the other thread to get far enough, but, really, this is just setting you up for another 20 threading problems down the line. Instead, you want one object responsibile for all communication (both outgoing and incoming), and a concurrency-capable queue (there are various collections in the `java.util.concurrent` package good for this). Then:\r\n\r\n* Any other threads that want to just send data dump their message in the queue.\r\n* You have either 1 thread doing all comms, or 2 (one doing incoming, and one doing outgoing), both dedicated. The outgoing one just loops forever, grabbing objects from the queue and sending them.\r\n* If a thread wants to send a message and wait for the response, you need to use `.wait()` or nicer API from e.g. java.util.concurrent, _or_, use callback hell - you pass a closure with the code to run once the result is received.\r\n","title":"NullPointerException for PrintWriter thats initialized in the run method of a thread","body":"<p>Starting a thread does not mean it is guaranteed to actually finish executing the first statement in its <code>run()</code> method before <code>start()</code> returns. In fact,</p>\n<ul>\n<li>Usually it won't - starting a thread takes some time, and <code>start()</code> returns as soon as it can.</li>\n<li>A JVM that runs a few statements in the thread you just started before <code>start()</code> returns is 'correct' - that is fine. A JVM that doesn't is <em>also</em> fine. Generally you don't want threads, because nothing is predictable anymore. At the very least you want to keep 'inter-thread comms' down to a minimum. Anytime a single field is used from more than one thread, things get very tricky.</li>\n</ul>\n<p>What you need is <code>synchronized</code> or other tools to insert predictability in this code.</p>\n<h2>First, fix a bug</h2>\n<p>Your ClientHandler's <code>run()</code> code starts <em>another</em> thread for no reason. Take all that out, your <code>run()</code> method in ClientHandler should set up <code>out</code> and <code>in</code> and then immediately do <code>while (socket.isConnected())</code></p>\n<h2>Synchronizing</h2>\n<p>At the very basic level, make a locker object and use notify/wait:</p>\n<pre><code>private final Object lock = new Object();\n@Override public void run() {\n  try {\n    synchronized (lock) {\n      out = ...;\n      in = ...;\n      lock.notifyAll();\n    }\n\n    while (socket.isConnected()) { ... }\n\n</code></pre>\n<p><code>out</code> <strong>definitely</strong> cannot be <code>public</code> here, you can't refer to a stream from multiple threads and expect things to work out!</p>\n<p>Just 'fixing' your code involves then using something like:</p>\n<pre><code>public OutputStream getOutputStream() {\n  synchronized (lock) {\n    while (out == null) {\n      lock.wait();\n    }\n  }\n  return out;\n}\n</code></pre>\n<p>Which will ensure that any thread that wants the <code>out</code> will wait for the other thread to get far enough, but, really, this is just setting you up for another 20 threading problems down the line. Instead, you want one object responsibile for all communication (both outgoing and incoming), and a concurrency-capable queue (there are various collections in the <code>java.util.concurrent</code> package good for this). Then:</p>\n<ul>\n<li>Any other threads that want to just send data dump their message in the queue.</li>\n<li>You have either 1 thread doing all comms, or 2 (one doing incoming, and one doing outgoing), both dedicated. The outgoing one just loops forever, grabbing objects from the queue and sending them.</li>\n<li>If a thread wants to send a message and wait for the response, you need to use <code>.wait()</code> or nicer API from e.g. java.util.concurrent, <em>or</em>, use callback hell - you pass a closure with the code to run once the result is received.</li>\n</ul>\n"}],"owner":{"account_id":18694319,"reputation":45,"user_id":13627988,"display_name":"Atrocitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75289366,"answer_count":1,"score":1,"last_activity_date":1675107762,"creation_date":1675105749,"question_id":75289041,"body_markdown":"im making a networked game that has a server which creates a clientHandler thread every time a client joins. I want to ask the first client that joined if it wants to start the game every time a new client joins, giving it the current number of players connected. Writting through the clientHandlers printwritter gives a nullPointerException, even though ive started the thread before doing this. what could be the problem?\r\n\r\nHere is the server code: \r\n\r\n`public class Server implements Runnable{\r\n\r\n\r\n    private ArrayList&lt;ClientHandler&gt; handlers = new ArrayList&lt;&gt;();\r\n    private ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n\r\n    private Game game;\r\n\r\n    private boolean start;\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n        Thread s = new Thread(server);\r\n        s.start();\r\n    }\r\n\r\n\r\n\r\n    public void login(String name){\r\n        //todo\r\n\r\n        for (ClientHandler c : handlers){\r\n            if (c.getName().equals(name)){\r\n                alreadyTaken(name);//todo\r\n            }\r\n            else{\r\n\r\n                players.add(new HumanPlayer(name,c));//todo\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    public void setStart(){\r\n        start = true;\r\n    }\r\n\r\n    private void alreadyTaken(String name) {\r\n\r\n\r\n\r\n    }\r\n\r\n    public void setTurn(ServerHandler sh){\r\n        //todo\r\n    }\r\n\r\n    public void updateView(){\r\n\r\n\r\n    }\r\n\r\n    public String hello() {\r\n        return &quot;Hello&quot;; //?\r\n    }\r\n\r\n    public void place(String s){\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        ServerSocket serverSocket;\r\n        try {\r\n            serverSocket = new ServerSocket(1800);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(&quot;----Server----&quot;);\r\n\r\n            while (!serverSocket.isClosed()) {\r\n\r\n                try {\r\n                    Socket socket = serverSocket.accept();\r\n                    ClientHandler handler = new ClientHandler(socket,handlers,this);\r\n                    handlers.add(handler);\r\n                    Thread h = new Thread(handler);\r\n                    h.start();\r\n\r\n                    System.out.println(&quot;A new client has connected&quot;);\r\n                    System.out.println(handlers.get(0));\r\n                    handlers.get(0).out.println(&quot;START? &quot;+ handlers.size());\r\n\r\n                    if (start){\r\n                        System.out.println(&quot;start request works&quot;);\r\n                    }\r\n\r\n\r\n\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n`\r\n\r\n\r\n\r\nAnd here&#39;s the client handler code:\r\n\r\n`public class ClientHandler implements Runnable{\r\n\r\n\r\n    private Socket socket;\r\n\r\n    private ArrayList&lt;ClientHandler&gt; handlers;\r\n    private Server server;\r\n\r\n    public PrintWriter out;\r\n\r\n    private BufferedReader in;\r\n\r\n    private String name;\r\n\r\n\r\n\r\n\r\n    public ClientHandler(Socket socket, ArrayList&lt;ClientHandler&gt; handlers, Server server){\r\n\r\n        this.socket = socket;\r\n        this.handlers = handlers;\r\n        this.server = server;\r\n\r\n\r\n    }\r\n\r\n    public void broadcastMessage(String msg){\r\n\r\n        System.out.println(&quot;Broadcasting&quot;);\r\n\r\n        for (ClientHandler s : this.handlers){\r\n            s.out.println(&quot;Player: &quot; + msg);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static String removePrefix(String s, String prefix)\r\n    {\r\n        if (s != null &amp;&amp; s.startsWith(prefix)) {\r\n            return s.split(prefix, 2)[1];\r\n        }\r\n        return s;\r\n    }\r\n\r\n\r\n\r\n\r\n    public String getName(){\r\n        return name;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        try {\r\n\r\n            out = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\r\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\r\n\r\n            new Thread(() -&gt; {\r\n                while(socket.isConnected()){\r\n                    String msg;\r\n                    try {\r\n                        msg = in.readLine();\r\n\r\n                        while(msg!=null){\r\n\r\n                            switch (msg.split(&quot; &quot;)[0]){\r\n                                case &quot;LOGIN&quot;:\r\n                                    name = removePrefix(msg,&quot;LOGIN &quot;);\r\n                                    server.login(name);//todo\r\n                                    break;\r\n                                case &quot;HELLO&quot;:\r\n                                    server.hello();//todo\r\n                                    break;\r\n                                case &quot;PLACE&quot;:\r\n                                    server.place(removePrefix(msg,&quot;PLACE &quot;));\r\n                                    break;\r\n                                case &quot;QUIT&quot;:\r\n                                    //todo\r\n                                    break;\r\n                                case &quot;STOP&quot;:\r\n                                    //todo\r\n                                    break;\r\n                                case &quot;START&quot;:\r\n                                    server.setStart();\r\n                                default:\r\n                                    broadcastMessage(msg);\r\n                                    break;\r\n                            }\r\n\r\n\r\n\r\n                            msg = in.readLine();\r\n                        }\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }).start();\r\n\r\n\r\n\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n    }\r\n\r\n}`\r\n\r\nI tried making a method in the client handler class which does the same thing. The server would just call that instead of writting directing through the PrintWriter, but i got the same error.","title":"NullPointerException for PrintWriter thats initialized in the run method of a thread","body":"<p>im making a networked game that has a server which creates a clientHandler thread every time a client joins. I want to ask the first client that joined if it wants to start the game every time a new client joins, giving it the current number of players connected. Writting through the clientHandlers printwritter gives a nullPointerException, even though ive started the thread before doing this. what could be the problem?</p>\n<p>Here is the server code:</p>\n<p>`public class Server implements Runnable{</p>\n<pre><code>private ArrayList&lt;ClientHandler&gt; handlers = new ArrayList&lt;&gt;();\nprivate ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\n\nprivate Game game;\n\nprivate boolean start;\n\n\npublic static void main(String[] args) {\n    Server server = new Server();\n    Thread s = new Thread(server);\n    s.start();\n}\n\n\n\npublic void login(String name){\n    //todo\n\n    for (ClientHandler c : handlers){\n        if (c.getName().equals(name)){\n            alreadyTaken(name);//todo\n        }\n        else{\n\n            players.add(new HumanPlayer(name,c));//todo\n        }\n    }\n\n\n\n}\n\npublic void setStart(){\n    start = true;\n}\n\nprivate void alreadyTaken(String name) {\n\n\n\n}\n\npublic void setTurn(ServerHandler sh){\n    //todo\n}\n\npublic void updateView(){\n\n\n}\n\npublic String hello() {\n    return &quot;Hello&quot;; //?\n}\n\npublic void place(String s){\n\n}\n\n\n@Override\npublic void run() {\n\n    ServerSocket serverSocket;\n    try {\n        serverSocket = new ServerSocket(1800);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    System.out.println(&quot;----Server----&quot;);\n\n        while (!serverSocket.isClosed()) {\n\n            try {\n                Socket socket = serverSocket.accept();\n                ClientHandler handler = new ClientHandler(socket,handlers,this);\n                handlers.add(handler);\n                Thread h = new Thread(handler);\n                h.start();\n\n                System.out.println(&quot;A new client has connected&quot;);\n                System.out.println(handlers.get(0));\n                handlers.get(0).out.println(&quot;START? &quot;+ handlers.size());\n\n                if (start){\n                    System.out.println(&quot;start request works&quot;);\n                }\n\n\n\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n\n\n\n\n        }\n\n\n\n\n\n\n}\n</code></pre>\n<p>}</p>\n<p>`</p>\n<p>And here's the client handler code:</p>\n<p>`public class ClientHandler implements Runnable{</p>\n<pre><code>private Socket socket;\n\nprivate ArrayList&lt;ClientHandler&gt; handlers;\nprivate Server server;\n\npublic PrintWriter out;\n\nprivate BufferedReader in;\n\nprivate String name;\n\n\n\n\npublic ClientHandler(Socket socket, ArrayList&lt;ClientHandler&gt; handlers, Server server){\n\n    this.socket = socket;\n    this.handlers = handlers;\n    this.server = server;\n\n\n}\n\npublic void broadcastMessage(String msg){\n\n    System.out.println(&quot;Broadcasting&quot;);\n\n    for (ClientHandler s : this.handlers){\n        s.out.println(&quot;Player: &quot; + msg);\n\n    }\n\n}\n\npublic static String removePrefix(String s, String prefix)\n{\n    if (s != null &amp;&amp; s.startsWith(prefix)) {\n        return s.split(prefix, 2)[1];\n    }\n    return s;\n}\n\n\n\n\npublic String getName(){\n    return name;\n}\n\n\n\n\n\n@Override\npublic void run() {\n\n    try {\n\n        out = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\n        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n\n        new Thread(() -&gt; {\n            while(socket.isConnected()){\n                String msg;\n                try {\n                    msg = in.readLine();\n\n                    while(msg!=null){\n\n                        switch (msg.split(&quot; &quot;)[0]){\n                            case &quot;LOGIN&quot;:\n                                name = removePrefix(msg,&quot;LOGIN &quot;);\n                                server.login(name);//todo\n                                break;\n                            case &quot;HELLO&quot;:\n                                server.hello();//todo\n                                break;\n                            case &quot;PLACE&quot;:\n                                server.place(removePrefix(msg,&quot;PLACE &quot;));\n                                break;\n                            case &quot;QUIT&quot;:\n                                //todo\n                                break;\n                            case &quot;STOP&quot;:\n                                //todo\n                                break;\n                            case &quot;START&quot;:\n                                server.setStart();\n                            default:\n                                broadcastMessage(msg);\n                                break;\n                        }\n\n\n\n                        msg = in.readLine();\n                    }\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }).start();\n\n\n\n\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n\n}\n</code></pre>\n<p>}`</p>\n<p>I tried making a method in the client handler class which does the same thing. The server would just call that instead of writting directing through the PrintWriter, but i got the same error.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","tomcat"],"owner":{"account_id":23275440,"reputation":1,"user_id":17359669,"display_name":"pbale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675107699,"creation_date":1675107699,"question_id":75289348,"body_markdown":"I have a Springboot application with JSP as views, that needs to be deployed on AWS ECS Fargate. Since I have jsp&#39;s, I am building a war to be deployed. once the application is deployed on ECS Fargate, it throws WARNING of memory leak and shutdowns and restarts by itself. This has been happening a lot. I am not able to understand is it due to the infrastructure setup on AWS or the applications itself is having issues. \r\n\r\n(versions: springboot3, springboot oauth2, tomcat 10)\r\n\r\nHere are the logs. \r\n\r\n```\r\nWARNING [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [BufferPoolPruner-1-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\njava.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\r\njava.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252) java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)  java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\njava.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@2231edd9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@19e597e1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@69213e86]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@5ccee6dc]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@4b2f07b7]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8081&quot;]\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8081&quot;]\r\n\r\n```\r\n\r\nDockerfile\r\n\r\n```\r\nFROM tomcat:latest\r\n#COPY src/main/resources/server.xml ${CATALINA_HOME}/conf/server.xml\r\n#permanently change tomcat port from 8080 to 8081\r\nRUN sed -i &#39;s/port=&quot;8080&quot;/port=&quot;8081&quot;/&#39; ${CATALINA_HOME}/conf/server.xml\r\nRUN rm -rf /usr/local/tomcat/webapps/*\r\nCOPY target/xxx-webapp-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/ROOT.war\r\n\r\nENTRYPOINT [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n\r\n```\r\n\r\nThanks,\r\npbale","title":"springboot application shuts down and restarts automatically on ECS Fargate","body":"<p>I have a Springboot application with JSP as views, that needs to be deployed on AWS ECS Fargate. Since I have jsp's, I am building a war to be deployed. once the application is deployed on ECS Fargate, it throws WARNING of memory leak and shutdowns and restarts by itself. This has been happening a lot. I am not able to understand is it due to the infrastructure setup on AWS or the applications itself is having issues.</p>\n<p>(versions: springboot3, springboot oauth2, tomcat 10)</p>\n<p>Here are the logs.</p>\n<pre><code>WARNING [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [BufferPoolPruner-1-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\njava.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\njava.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252) java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)  java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\njava.base@17.0.6/java.lang.Thread.run(Thread.java:833)\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@2231edd9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@19e597e1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@69213e86]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@5ccee6dc]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@4b2f07b7]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8081&quot;]\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8081&quot;]\n\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM tomcat:latest\n#COPY src/main/resources/server.xml ${CATALINA_HOME}/conf/server.xml\n#permanently change tomcat port from 8080 to 8081\nRUN sed -i 's/port=&quot;8080&quot;/port=&quot;8081&quot;/' ${CATALINA_HOME}/conf/server.xml\nRUN rm -rf /usr/local/tomcat/webapps/*\nCOPY target/xxx-webapp-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/ROOT.war\n\nENTRYPOINT [&quot;catalina.sh&quot;, &quot;run&quot;]\n\n</code></pre>\n<p>Thanks,\npbale</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1675110628,"post_id":75289339,"comment_id":132854528,"body_markdown":"Key events are delivered to the `Node` that has focus. Most likely your `mainPane` is not focused—nor are any of its (non-existent) descendants—thus no key events reach it. You could add a `mainPane.requestFocus()` call in the `onMouseClicked` method. After clicking on the pane once, it should start to get key-pressed events. I would say put it in the `initialize` method, but I believe `requestFocus` only works once a `Node` is part of a `Scene`, and the `initialize` method will be called before that&#39;s true.","body":"Key events are delivered to the <code>Node</code> that has focus. Most likely your <code>mainPane</code> is not focused—nor are any of its (non-existent) descendants—thus no key events reach it. You could add a <code>mainPane.requestFocus()</code> call in the <code>onMouseClicked</code> method. After clicking on the pane once, it should start to get key-pressed events. I would say put it in the <code>initialize</code> method, but I believe <code>requestFocus</code> only works once a <code>Node</code> is part of a <code>Scene</code>, and the <code>initialize</code> method will be called before that&#39;s true."},{"owner":{"account_id":12602332,"reputation":478,"user_id":10146626,"display_name":"Mostafa Ayaz"},"score":0,"creation_date":1675112180,"post_id":75289339,"comment_id":132854949,"body_markdown":"Thank you. It worked. So, I guess I need to add the requestFocus() method to any other Node&#39;s MouseEventHandler to capture the focus first and then handle the KeyEvent (e.g. when there is another Pane I wish to capture a KeyEvent).","body":"Thank you. It worked. So, I guess I need to add the requestFocus() method to any other Node&#39;s MouseEventHandler to capture the focus first and then handle the KeyEvent (e.g. when there is another Pane I wish to capture a KeyEvent)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1675112426,"post_id":75289339,"comment_id":132855016,"body_markdown":"Yes. Or add some other way to request the focus (e.g., react to `mainPane` becoming part of a `Scene` by then calling `requestFocus()`). It depends on how you want the flow of your application to work. But you can see in the implementations of e.g., `TextField` that it requests the focus when it is clicked (among other mechanisms, e.g., &quot;tabbing&quot; though the focus-traversable nodes). Note you might want to style your nodes differently when they have the focus, so that your users have some kind of indication.","body":"Yes. Or add some other way to request the focus (e.g., react to <code>mainPane</code> becoming part of a <code>Scene</code> by then calling <code>requestFocus()</code>). It depends on how you want the flow of your application to work. But you can see in the implementations of e.g., <code>TextField</code> that it requests the focus when it is clicked (among other mechanisms, e.g., &quot;tabbing&quot; though the focus-traversable nodes). Note you might want to style your nodes differently when they have the focus, so that your users have some kind of indication."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675112582,"post_id":75289339,"comment_id":132855055,"body_markdown":"As noted in the second example you cited, adding a button produced the effect described by @Slaw.","body":"As noted in the second example you cited, adding a button produced the effect described by @Slaw."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1675113545,"post_id":75289339,"comment_id":132855307,"body_markdown":"If you always want to be notified when a key a pressed, you can do that by an event *filter* on the scene.  Then you will receive the event, whenever the window is focused and a key is pressed, regardless of what is focused or not in the scene.  That is a different approach than you are using, just providing extra info for context, ignore if irrelevant.","body":"If you always want to be notified when a key a pressed, you can do that by an event <i>filter</i> on the scene.  Then you will receive the event, whenever the window is focused and a key is pressed, regardless of what is focused or not in the scene.  That is a different approach than you are using, just providing extra info for context, ignore if irrelevant."}],"owner":{"account_id":12602332,"reputation":478,"user_id":10146626,"display_name":"Mostafa Ayaz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675107618,"creation_date":1675107618,"question_id":75289339,"body_markdown":"I have problems catching the KeyEvent when pressing down a key on the application pane. The files structures are as follows:\r\n\r\n**ApplicationStarter.java**\r\n\r\n    package appdemo;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class ApplicationStarter extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(ApplicationStarter.class.getResource(&quot;GUI.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n            stage.setTitle(&quot;Rock N&#39; Roll&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n**ApplicationControllerClass.java**\r\n\r\n    package appdemo;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.input.*;\r\n    import javafx.scene.layout.Pane;\r\n    \r\n    public class ApplicationControllerClass {\r\n    \r\n        @FXML\r\n        private Pane mainPane;\r\n    \r\n        @FXML\r\n        void initialize(){\r\n        }\r\n    \r\n        @FXML\r\n        void onKeyPressed(KeyEvent event) {\r\n            System.out.println(&quot;Key pressed on pane!&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        void onMouseClicked(MouseEvent event) {\r\n            System.out.println(&quot;Mouse clicked on pane!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n**GUI.fxml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    \r\n    \r\n    &lt;Pane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onKeyPressed=&quot;#onKeyPressed&quot; onMouseClicked=&quot;#onMouseClicked&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;appdemo.ApplicationControllerClass&quot; /&gt;.\r\n\r\nIn ApplicationControllerClass.java, there two methods for printing the events of mouse clicking and key pressing on the console. When I run the application, the mouse clicking event prints without problem when I click on the mainPane, whereas the key pressing event does not when I press a key on mainPane.\r\n\r\nAm I missing something? Does the method OnKeyPressed in ApplicationControllerClass.java actually catch the event?\r\n\r\n**Addendum**\r\n\r\nI also checked [here][1] and [here][2], but could not find any upvoted, accepted or relevant answer. The problem with the current answers is that they bind an event handler method to an element in the controller class, while I wish to do this binding in GUI.fxml, as is the current case.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52423652/how-to-use-onkeypressed-in-javafx-scene-builder\r\n  [2]: https://stackoverflow.com/questions/58936275/javafx-scene-builder-arrow-keys-onkeypressed","title":"onKeyPressed not working for pane at javafx (Scene Builder used for creating the GUI)","body":"<p>I have problems catching the KeyEvent when pressing down a key on the application pane. The files structures are as follows:</p>\n<p><strong>ApplicationStarter.java</strong></p>\n<pre><code>package appdemo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class ApplicationStarter extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(ApplicationStarter.class.getResource(&quot;GUI.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Rock N' Roll&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>ApplicationControllerClass.java</strong></p>\n<pre><code>package appdemo;\nimport javafx.fxml.FXML;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.Pane;\n\npublic class ApplicationControllerClass {\n\n    @FXML\n    private Pane mainPane;\n\n    @FXML\n    void initialize(){\n    }\n\n    @FXML\n    void onKeyPressed(KeyEvent event) {\n        System.out.println(&quot;Key pressed on pane!&quot;);\n    }\n\n    @FXML\n    void onMouseClicked(MouseEvent event) {\n        System.out.println(&quot;Mouse clicked on pane!&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>GUI.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n\n&lt;Pane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onKeyPressed=&quot;#onKeyPressed&quot; onMouseClicked=&quot;#onMouseClicked&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;appdemo.ApplicationControllerClass&quot; /&gt;.\n</code></pre>\n<p>In ApplicationControllerClass.java, there two methods for printing the events of mouse clicking and key pressing on the console. When I run the application, the mouse clicking event prints without problem when I click on the mainPane, whereas the key pressing event does not when I press a key on mainPane.</p>\n<p>Am I missing something? Does the method OnKeyPressed in ApplicationControllerClass.java actually catch the event?</p>\n<p><strong>Addendum</strong></p>\n<p>I also checked <a href=\"https://stackoverflow.com/questions/52423652/how-to-use-onkeypressed-in-javafx-scene-builder\">here</a> and <a href=\"https://stackoverflow.com/questions/58936275/javafx-scene-builder-arrow-keys-onkeypressed\">here</a>, but could not find any upvoted, accepted or relevant answer. The problem with the current answers is that they bind an event handler method to an element in the controller class, while I wish to do this binding in GUI.fxml, as is the current case.</p>\n"},{"tags":["java","oracle","spring-boot","rest","spring-aspects"],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675107502,"creation_date":1675107502,"question_id":75289319,"body_markdown":"Some of my Response are kept as ResponseEntity and some as String. How should I write to the database and how should I read it? What is the best solution?\r\n\r\n**Example response**\r\n1. `ResponseEntity&lt;User&gt;`\r\n2. `String`\r\n\r\n**Entity response field**\r\n\r\n    @Column(name = &quot;RESPONSE&quot;)\r\n    @Lob\r\n    @Type(type = &quot;org.hibernate.type.TextType&quot;)\r\n    private String response;\r\n\r\n\r\n**Oracle db response column**\r\n\r\n    field name: response  datatype: CLOB\r\n\r\nI will intervene with aspects and return the response in the database when necessary.\r\n\r\n \r\n\r\n       @Around(&quot;isHas()&quot;)\r\n        public Object aroundExecution(final ProceedingJoinPoint pjp) throws Throwable {\r\n            Object proceed = pjp.proceed();\r\n            UserLog userLog =userUtil.getUserLogByUsername(&quot;tommy&quot;);\r\n            if (userLog != null) {\r\n                return userLog.getResponse();\r\n            } else {\r\n                return proceed;\r\n            }\r\n        }\r\n\r\nHow can I solve?\r\n","title":"Save Response(Json or String) to Database and Read it again","body":"<p>Some of my Response are kept as ResponseEntity and some as String. How should I write to the database and how should I read it? What is the best solution?</p>\n<p><strong>Example response</strong></p>\n<ol>\n<li><code>ResponseEntity&lt;User&gt;</code></li>\n<li><code>String</code></li>\n</ol>\n<p><strong>Entity response field</strong></p>\n<pre><code>@Column(name = &quot;RESPONSE&quot;)\n@Lob\n@Type(type = &quot;org.hibernate.type.TextType&quot;)\nprivate String response;\n</code></pre>\n<p><strong>Oracle db response column</strong></p>\n<pre><code>field name: response  datatype: CLOB\n</code></pre>\n<p>I will intervene with aspects and return the response in the database when necessary.</p>\n<pre><code>   @Around(&quot;isHas()&quot;)\n    public Object aroundExecution(final ProceedingJoinPoint pjp) throws Throwable {\n        Object proceed = pjp.proceed();\n        UserLog userLog =userUtil.getUserLogByUsername(&quot;tommy&quot;);\n        if (userLog != null) {\n            return userLog.getResponse();\n        } else {\n            return proceed;\n        }\n    }\n</code></pre>\n<p>How can I solve?</p>\n"},{"tags":["java","swing","javabeans"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1675107331,"post_id":75289241,"comment_id":132853574,"body_markdown":"You&#39;re adding the BlueRectangleBean to a JPanel which by default uses a FlowLayout. FlowLayouts, and in fact *most* layouts don&#39;t respect a component&#39;s size but rather its preferred size. So one solution is to call `setPreferredSize(...)` on the BlueRectangleBean. Better would be to set the JPanel container&#39;s layout to BorderLayout, getting rid of `setSize(...)` and let the BlueRectangleBean fill up the JPanel. Either that or add the BlueRectangleBean directly to the JFrame&#39;s contentPane which also uses BorderLayout.","body":"You&#39;re adding the BlueRectangleBean to a JPanel which by default uses a FlowLayout. FlowLayouts, and in fact <i>most</i> layouts don&#39;t respect a component&#39;s size but rather its preferred size. So one solution is to call <code>setPreferredSize(...)</code> on the BlueRectangleBean. Better would be to set the JPanel container&#39;s layout to BorderLayout, getting rid of <code>setSize(...)</code> and let the BlueRectangleBean fill up the JPanel. Either that or add the BlueRectangleBean directly to the JFrame&#39;s contentPane which also uses BorderLayout."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675107712,"post_id":75289241,"comment_id":132853683,"body_markdown":"Also, to Wamika, you can also override the BlueRectangleBean&#39;s `public Dimension getPreferredSize()` method which is cleaner than calling `setPreferredSize(...)` on it. If I were to go this route, I&#39;d get the `super.getPreferredSize()` in the same method and make sure that my width and height returned is the max of the super&#39;s and the image-drawing region.","body":"Also, to Wamika, you can also override the BlueRectangleBean&#39;s <code>public Dimension getPreferredSize()</code> method which is cleaner than calling <code>setPreferredSize(...)</code> on it. If I were to go this route, I&#39;d get the <code>super.getPreferredSize()</code> in the same method and make sure that my width and height returned is the max of the super&#39;s and the image-drawing region."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1675109416,"post_id":75289241,"comment_id":132854165,"body_markdown":"Why does your bean extend `JPanel`?  Isn&#39;t a bean a plain Java getter/setter class?  You can use the `java.awt.Color` and `java.awt.Rectangle` classes to define a logical colored rectangle.","body":"Why does your bean extend <code>JPanel</code>?  Isn&#39;t a bean a plain Java getter/setter class?  You can use the <code>java.awt.Color</code> and <code>java.awt.Rectangle</code> classes to define a logical colored rectangle."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675110849,"post_id":75289241,"comment_id":132854607,"body_markdown":"If you&#39;re using a `JPanel`, you don&#39;t need to override `paintComponent`, you could just use `setBackground` in the constructor","body":"If you&#39;re using a <code>JPanel</code>, you don&#39;t need to override <code>paintComponent</code>, you could just use <code>setBackground</code> in the constructor"}],"owner":{"account_id":27660267,"reputation":1,"user_id":21113248,"display_name":"Wamika Jha 1516403219"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675107219,"answer_count":0,"score":0,"last_activity_date":1675107351,"creation_date":1675106995,"question_id":75289241,"body_markdown":"I am trying to write a code in Java to make a blue/green colored rectangular java bean. \r\n\r\nBelow is my code but it is not working :\r\n\r\nFile 1 : \r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class JavaBean extends JFrame {\r\n\r\n  private BlueRectangleBean blueRectangleBean;\r\n  private JPanel container;\r\n\r\n  public JavaBean() {\r\n    setSize(400, 400);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setTitle(&quot;Java Bean Example&quot;);\r\n\r\n    container = new JPanel();\r\n    add(container);\r\n\r\n    blueRectangleBean = new BlueRectangleBean();\r\n    blueRectangleBean.setSize(100, 100);\r\n    container.add(blueRectangleBean);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    JavaBean jb = new JavaBean();\r\n    jb.setVisible(true);\r\n  }\r\n}\r\n```\r\n\r\nand\r\n\r\nFile 2\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class BlueRectangleBean extends JPanel {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  private int width;\r\n  private int height;\r\n\r\n  public BlueRectangleBean() {\r\n    width = 50;\r\n    height = 50;\r\n  }\r\n\r\n  public void setWidth(int width) {\r\n    this.width = width;\r\n  }\r\n\r\n  public int getWidth() {\r\n    return width;\r\n  }\r\n\r\n  public void setHeight(int height) {\r\n    this.height = height;\r\n  }\r\n\r\n  public int getHeight() {\r\n    return height;\r\n  }\r\n@Override\r\n  protected void paintComponent(Graphics g) {\r\n    super.paintComponent(g);\r\n    g.setColor(Color.BLUE);\r\n    g.fillRect(0, 0, width, height);\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nThere is not error, but I am not getting the required output. Any help with the same will be highly appreciated!","title":"Create a blue colored rectangular java bean","body":"<p>I am trying to write a code in Java to make a blue/green colored rectangular java bean.</p>\n<p>Below is my code but it is not working :</p>\n<p>File 1 :</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class JavaBean extends JFrame {\n\n  private BlueRectangleBean blueRectangleBean;\n  private JPanel container;\n\n  public JavaBean() {\n    setSize(400, 400);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setTitle(&quot;Java Bean Example&quot;);\n\n    container = new JPanel();\n    add(container);\n\n    blueRectangleBean = new BlueRectangleBean();\n    blueRectangleBean.setSize(100, 100);\n    container.add(blueRectangleBean);\n  }\n\n  public static void main(String[] args) {\n    JavaBean jb = new JavaBean();\n    jb.setVisible(true);\n  }\n}\n</code></pre>\n<p>and</p>\n<p>File 2</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class BlueRectangleBean extends JPanel {\n\n  private static final long serialVersionUID = 1L;\n\n  private int width;\n  private int height;\n\n  public BlueRectangleBean() {\n    width = 50;\n    height = 50;\n  }\n\n  public void setWidth(int width) {\n    this.width = width;\n  }\n\n  public int getWidth() {\n    return width;\n  }\n\n  public void setHeight(int height) {\n    this.height = height;\n  }\n\n  public int getHeight() {\n    return height;\n  }\n@Override\n  protected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    g.setColor(Color.BLUE);\n    g.fillRect(0, 0, width, height);\n  }\n}\n\n</code></pre>\n<p>There is not error, but I am not getting the required output. Any help with the same will be highly appreciated!</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":3991579,"reputation":19586,"user_id":3290339,"display_name":"Onik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1552554055,"creation_date":1552491952,"answer_id":55145953,"question_id":55142197,"body_markdown":"&gt; What causes that to happen?\r\n\r\nYou never removed the listener. This results in `onLayoutChange()` being invoked multiple times. Call `removeOnLayoutChangeListener()` on the view as follows:\r\n\r\n    mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\r\n        v.removeOnLayoutChangeListener(this);  // this prevents the callback to be invoked multiple times\r\n        Log.d(TAG,&quot;Reference Pager PhotoView Layout Change.&quot;+&quot; left: &quot;+left+&quot; top: &quot;+top+&quot; right: &quot;+right+ &quot; bottom: &quot;+bottom);\r\n        updatePhotoView();\r\n    });","title":"onLayoutChange() called too many times","body":"<blockquote>\n  <p>What causes that to happen?</p>\n</blockquote>\n\n<p>You never removed the listener. This results in <code>onLayoutChange()</code> being invoked multiple times. Call <code>removeOnLayoutChangeListener()</code> on the view as follows:</p>\n\n<pre><code>mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n    v.removeOnLayoutChangeListener(this);  // this prevents the callback to be invoked multiple times\n    Log.d(TAG,\"Reference Pager PhotoView Layout Change.\"+\" left: \"+left+\" top: \"+top+\" right: \"+right+ \" bottom: \"+bottom);\n    updatePhotoView();\n});\n</code></pre>\n"}],"owner":{"account_id":10068871,"reputation":376,"user_id":7567145,"display_name":"shadow_wxh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2047,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55145953,"answer_count":1,"score":4,"last_activity_date":1675106959,"creation_date":1552480950,"question_id":55142197,"body_markdown":"I am trying to update a thumbnail image once the view is initialized and knows its sizes\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n           View pagerView = inflater.inflate(R.layout.fragment_reference, container, false);\r\n           ......\r\n            mPhotoView = pagerView.findViewById(R.id.reference_photo);\r\n            mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\r\n            Log.d(TAG,&quot;Reference Pager PhotoView Layout Change.&quot;+&quot; left: &quot;+left+&quot; top: &quot;+top+&quot; right: &quot;+right+ &quot; bottom: &quot;+bottom);\r\n            updatePhotoView();\r\n        });\r\n           ......\r\n    }\r\n\r\nbut _Logcat_ shows it has been called four times in a row:\r\n\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n    Skipped 59 frames!  The application may be doing too much work on its main thread.\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n\r\nWhat causes that to happen? How do I avoid that?","title":"onLayoutChange() called too many times","body":"<p>I am trying to update a thumbnail image once the view is initialized and knows its sizes</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n       View pagerView = inflater.inflate(R.layout.fragment_reference, container, false);\n       ......\n        mPhotoView = pagerView.findViewById(R.id.reference_photo);\n        mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n        Log.d(TAG,\"Reference Pager PhotoView Layout Change.\"+\" left: \"+left+\" top: \"+top+\" right: \"+right+ \" bottom: \"+bottom);\n        updatePhotoView();\n    });\n       ......\n}\n</code></pre>\n\n<p>but <em>Logcat</em> shows it has been called four times in a row:</p>\n\n<pre><code>Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\nReference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\nSkipped 59 frames!  The application may be doing too much work on its main thread.\nReference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\nReference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\n</code></pre>\n\n<p>What causes that to happen? How do I avoid that?</p>\n"},{"tags":["java","list","arraylist","collections","linked-list"],"comments":[{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1433379858,"post_id":30633268,"comment_id":49332146,"body_markdown":"a) Define performance. There are many variables to measure for, such as time, efficiency, memory usage, etc. b) Write some testing code, using stopwatches (class, not physicals) and things of that nature to benchmark it and find out.","body":"a) Define performance. There are many variables to measure for, such as time, efficiency, memory usage, etc. b) Write some testing code, using stopwatches (class, not physicals) and things of that nature to benchmark it and find out."},{"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"score":1,"creation_date":1433380162,"post_id":30633268,"comment_id":49332206,"body_markdown":"&quot;What is the most efficient way to do this?&quot; Depends on your scenario.  See http://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist","body":"&quot;What is the most efficient way to do this?&quot; Depends on your scenario.  See <a href=\"http://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\" title=\"when to use linkedlist over arraylist\">stackoverflow.com/questions/322715/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4826528,"reputation":783,"user_id":3895862,"accept_rate":92,"display_name":"J Blaz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433380498,"creation_date":1433379634,"answer_id":30633294,"question_id":30633268,"body_markdown":"Using a linked list is by far faster.\r\n\r\n**LinkedList**\r\n\r\nIt will just reference the nodes so the first one disappears.\r\n![enter image description here][1]\r\n\r\n**ArrayList**\r\n\r\nWith an Array List it has to move all elements back one spot to keep the underlying array proper.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/CrIoM.gif","title":"Efficient way to get/remove first element from the list?","body":"<p>Using a linked list is by far faster.</p>\n\n<p><strong>LinkedList</strong></p>\n\n<p>It will just reference the nodes so the first one disappears.\n<img src=\"https://i.stack.imgur.com/CrIoM.gif\" alt=\"enter image description here\"></p>\n\n<p><strong>ArrayList</strong></p>\n\n<p>With an Array List it has to move all elements back one spot to keep the underlying array proper.</p>\n"},{"tags":[],"owner":{"account_id":158037,"reputation":6836,"user_id":376382,"accept_rate":90,"display_name":"Cacho Santa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433380386,"creation_date":1433379901,"answer_id":30633325,"question_id":30633268,"body_markdown":"Removing the first element of an ArrayList is O(n). For the linked list is O(1), so I&#39;ll go with that.\r\n\r\nCheck the ArrayList [documentation](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)\r\n\r\n&gt; The size, isEmpty, get, set, iterator, and listIterator operations run\r\n&gt; in constant time. The add operation runs in amortized constant time,\r\n&gt; that is, adding n elements requires O(n) time. **All of the other\r\n&gt; operations run in linear time (roughly speaking)**. The constant factor\r\n&gt; is low compared to that for the LinkedList implementation.\r\n\r\nThis guys actually got the OpenJDK source [link](https://stackoverflow.com/a/24462605/376382)","title":"Efficient way to get/remove first element from the list?","body":"<p>Removing the first element of an ArrayList is O(n). For the linked list is O(1), so I'll go with that.</p>\n\n<p>Check the ArrayList <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>The size, isEmpty, get, set, iterator, and listIterator operations run\n  in constant time. The add operation runs in amortized constant time,\n  that is, adding n elements requires O(n) time. <strong>All of the other\n  operations run in linear time (roughly speaking)</strong>. The constant factor\n  is low compared to that for the LinkedList implementation.</p>\n</blockquote>\n\n<p>This guys actually got the OpenJDK source <a href=\"https://stackoverflow.com/a/24462605/376382\">link</a></p>\n"},{"tags":[],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1433380136,"creation_date":1433380136,"answer_id":30633356,"question_id":30633268,"body_markdown":"If the comparison for &quot;remove first&quot; is between the `ArrayList` and the `LinkedList` classes, the `LinkedList` wins clearly.\r\n\r\nRemoving an element from a linked list costs `O(1)`, while doing so for an array (array list) costs `O(n)`.","title":"Efficient way to get/remove first element from the list?","body":"<p>If the comparison for \"remove first\" is between the <code>ArrayList</code> and the <code>LinkedList</code> classes, the <code>LinkedList</code> wins clearly.</p>\n\n<p>Removing an element from a linked list costs <code>O(1)</code>, while doing so for an array (array list) costs <code>O(n)</code>.</p>\n"},{"tags":[],"owner":{"account_id":4638330,"reputation":94,"user_id":4013650,"display_name":"Zlol"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1433380168,"creation_date":1433380168,"answer_id":30633360,"question_id":30633268,"body_markdown":"Make sure you understand the difference between LinkedList and ArrayList. ArrayList is implemented using Array. \r\n\r\nLinkedList takes constant time to remove an element.\r\nArrayList might take linear time to remove the first element (to confirm I need to check the implementation, not java expert here).\r\n\r\nAlso I think LinkedList is more efficient in terms of space. Because ArrayList would not (and should not) re-size the array every time an element is removed, it takes up more space than needed.\r\n\r\n\r\n","title":"Efficient way to get/remove first element from the list?","body":"<p>Make sure you understand the difference between LinkedList and ArrayList. ArrayList is implemented using Array. </p>\n\n<p>LinkedList takes constant time to remove an element.\nArrayList might take linear time to remove the first element (to confirm I need to check the implementation, not java expert here).</p>\n\n<p>Also I think LinkedList is more efficient in terms of space. Because ArrayList would not (and should not) re-size the array every time an element is removed, it takes up more space than needed.</p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433381486,"creation_date":1433381486,"answer_id":30633519,"question_id":30633268,"body_markdown":"As others have rightly pointed out, LinkedList is faster than ArrayList for removal of the first element from anything other than a very short list.\r\n\r\nHowever, to make your choice between them you need to consider the complete mix of operations. For example, if your workload does millions of indexed accesses to a hundred element list for each first element removal, ArrayList will be better overall.","title":"Efficient way to get/remove first element from the list?","body":"<p>As others have rightly pointed out, LinkedList is faster than ArrayList for removal of the first element from anything other than a very short list.</p>\n\n<p>However, to make your choice between them you need to consider the complete mix of operations. For example, if your workload does millions of indexed accesses to a hundred element list for each first element removal, ArrayList will be better overall.</p>\n"},{"tags":[],"owner":{"account_id":1502053,"reputation":2125,"user_id":1420681,"display_name":"Ben-Hur Langoni Junior"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1675106908,"creation_date":1468785623,"answer_id":38425422,"question_id":30633268,"body_markdown":"You should use `LinkedList`.&lt;br&gt;\r\n\r\n***Background:***&lt;br&gt;\r\n\r\nIn practical terms, `LinkedList#removeFirst` is more efficient since it&#39;s operating over a doubly-linked list and the removal of first element basically consist in only unlinking it from the head of the list and update the next element to be the first one (complexity `O(1)`):\r\n\r\n    private E unlinkFirst(Node&lt;E&gt; f) {\r\n        // assert f == first &amp;&amp; f != null;\r\n        final E element = f.item;\r\n        final Node&lt;E&gt; next = f.next;\r\n        f.item = null;\r\n        f.next = null; // help GC\r\n        first = next;\r\n        if (next == null)\r\n            last = null;\r\n        else\r\n            next.prev = null;\r\n        size--;\r\n        modCount++;\r\n        return element;\r\n    }\r\n\r\n`ArrayList#remove` is operating over an internal array structure which requires moving all subsequent elements one position to the left by copying over the subarray (complexity `O(n)`):   \r\n\r\n    public E remove(int index) {\r\n        rangeCheck(index);\r\n\r\n        modCount++;\r\n        E oldValue = elementData(index);\r\n\r\n        int numMoved = size - index - 1;\r\n        if (numMoved &gt; 0)\r\n            System.arraycopy(elementData, index+1, elementData, index,\r\n                             numMoved);\r\n        elementData[--size] = null; // clear to let GC do its work\r\n\r\n        return oldValue;\r\n    }\r\n\r\n***Additional answer:***&lt;br&gt;\r\n\r\nOn the other hand, `LinkedList#get` operation requires traversing half of the entire list for retrieving an element at a specified index - in worst case scenario. `ArrayList#get` would directly access the element at the specified index since it&#39;s operating over an array.\r\n\r\nMy rule of thumbs for efficiency here would be:\r\n\r\n - Use `LinkedList` if you do a lot of `add`/`remove` in comparison with\r\n   access operations (e.g.: `get`); \r\n - Use `ArrayList` if you do a lot\r\n   of access operations in comparison with `add`/`remove`.\r\n\r\n   \r\n","title":"Efficient way to get/remove first element from the list?","body":"<p>You should use <code>LinkedList</code>.<br></p>\n<p><em><strong>Background:</strong></em><br></p>\n<p>In practical terms, <code>LinkedList#removeFirst</code> is more efficient since it's operating over a doubly-linked list and the removal of first element basically consist in only unlinking it from the head of the list and update the next element to be the first one (complexity <code>O(1)</code>):</p>\n<pre><code>private E unlinkFirst(Node&lt;E&gt; f) {\n    // assert f == first &amp;&amp; f != null;\n    final E element = f.item;\n    final Node&lt;E&gt; next = f.next;\n    f.item = null;\n    f.next = null; // help GC\n    first = next;\n    if (next == null)\n        last = null;\n    else\n        next.prev = null;\n    size--;\n    modCount++;\n    return element;\n}\n</code></pre>\n<p><code>ArrayList#remove</code> is operating over an internal array structure which requires moving all subsequent elements one position to the left by copying over the subarray (complexity <code>O(n)</code>):</p>\n<pre><code>public E remove(int index) {\n    rangeCheck(index);\n\n    modCount++;\n    E oldValue = elementData(index);\n\n    int numMoved = size - index - 1;\n    if (numMoved &gt; 0)\n        System.arraycopy(elementData, index+1, elementData, index,\n                         numMoved);\n    elementData[--size] = null; // clear to let GC do its work\n\n    return oldValue;\n}\n</code></pre>\n<p><em><strong>Additional answer:</strong></em><br></p>\n<p>On the other hand, <code>LinkedList#get</code> operation requires traversing half of the entire list for retrieving an element at a specified index - in worst case scenario. <code>ArrayList#get</code> would directly access the element at the specified index since it's operating over an array.</p>\n<p>My rule of thumbs for efficiency here would be:</p>\n<ul>\n<li>Use <code>LinkedList</code> if you do a lot of <code>add</code>/<code>remove</code> in comparison with\naccess operations (e.g.: <code>get</code>);</li>\n<li>Use <code>ArrayList</code> if you do a lot\nof access operations in comparison with <code>add</code>/<code>remove</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468787288,"creation_date":1468787288,"answer_id":38425640,"question_id":30633268,"body_markdown":"**Third Aproach.** \r\n\r\nIt is exposed by the java.util.Queue interface. LinkedList is an implementation of this interface.\r\n\r\nThe Queue interface is exposing  the  E poll() method which effectively removes the head of the List (Queue).\r\n\r\nIn terms of performance the poll() method is comparable to removeFirst(). Actually it is using under the hood the removeFirst() method. ","title":"Efficient way to get/remove first element from the list?","body":"<p><strong>Third Aproach.</strong> </p>\n\n<p>It is exposed by the java.util.Queue interface. LinkedList is an implementation of this interface.</p>\n\n<p>The Queue interface is exposing  the  E poll() method which effectively removes the head of the List (Queue).</p>\n\n<p>In terms of performance the poll() method is comparable to removeFirst(). Actually it is using under the hood the removeFirst() method. </p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493581050,"creation_date":1493581050,"answer_id":43710551,"question_id":30633268,"body_markdown":"I think that what you need is an `ArrayDeque` (an unfairly overlooked class in `java.util`). Its `removeFirst` method performs in O(1) as for `LinkedList`, while it generally shows the better space and time characteristics of `ArrayList`. It’s implemented as a circular queue in an array.\r\n\r\nYou should very rarely use `LinkedList`. I did once in my 17 years as Java programmer and regretted in retrospect.","title":"Efficient way to get/remove first element from the list?","body":"<p>I think that what you need is an <code>ArrayDeque</code> (an unfairly overlooked class in <code>java.util</code>). Its <code>removeFirst</code> method performs in O(1) as for <code>LinkedList</code>, while it generally shows the better space and time characteristics of <code>ArrayList</code>. It’s implemented as a circular queue in an array.</p>\n\n<p>You should very rarely use <code>LinkedList</code>. I did once in my 17 years as Java programmer and regretted in retrospect.</p>\n"},{"tags":[],"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617866657,"creation_date":1505368894,"answer_id":46211629,"question_id":30633268,"body_markdown":"[List.subList​(int fromIndex, int toIndex)](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#subList-int-int-)\r\n\r\n&gt; Returns a view of the portion of this list between the specified fromIndex, inclusive, and toIndex, exclusive. \r\n\r\nGood to use for [ArrayList](https://docs.oracle.com/javase/9/docs/api/java/util/ArrayList.html) where removing the first element has complexity O(n).\r\n\r\n    final String firstServerName = servers.get(0);\r\n    servers = servers.subList(1, servers.size());","title":"Efficient way to get/remove first element from the list?","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\">List.subList​(int fromIndex, int toIndex)</a></p>\n<blockquote>\n<p>Returns a view of the portion of this list between the specified fromIndex, inclusive, and toIndex, exclusive.</p>\n</blockquote>\n<p>Good to use for <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> where removing the first element has complexity O(n).</p>\n<pre><code>final String firstServerName = servers.get(0);\nservers = servers.subList(1, servers.size());\n</code></pre>\n"}],"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38906,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":9,"score":11,"last_activity_date":1675106908,"creation_date":1433379444,"question_id":30633268,"body_markdown":"I want to take out and remove first element from the List. I can see, I have two options:\r\n\r\n**First Approach:**\r\n\r\n    LinkedList&lt;String&gt; servers = new LinkedList&lt;String&gt;();\r\n    ....\r\n    String firstServerName = servers.removeFirst();\r\n\r\n**Second Approach**\r\n\r\n    ArrayList&lt;String&gt; servers = new ArrayList&lt;String&gt;();\r\n    ....\r\n    String firstServerName = servers.remove(0);\r\n\r\nI have lot of elements in my list.\r\n\t\r\n- Is there any preference which one we should use? \r\n- And what is the difference between the above two? Are they technically same thing in terms of performance? What is the complexity involve here if we have lot of elements?\r\n\r\nWhat is the most efficient way to do this.","title":"Efficient way to get/remove first element from the list?","body":"<p>I want to take out and remove first element from the List. I can see, I have two options:</p>\n\n<p><strong>First Approach:</strong></p>\n\n<pre><code>LinkedList&lt;String&gt; servers = new LinkedList&lt;String&gt;();\n....\nString firstServerName = servers.removeFirst();\n</code></pre>\n\n<p><strong>Second Approach</strong></p>\n\n<pre><code>ArrayList&lt;String&gt; servers = new ArrayList&lt;String&gt;();\n....\nString firstServerName = servers.remove(0);\n</code></pre>\n\n<p>I have lot of elements in my list.</p>\n\n<ul>\n<li>Is there any preference which one we should use? </li>\n<li>And what is the difference between the above two? Are they technically same thing in terms of performance? What is the complexity involve here if we have lot of elements?</li>\n</ul>\n\n<p>What is the most efficient way to do this.</p>\n"},{"tags":["java","cdi","quarkus-rest-client","exceptionmapper"],"owner":{"account_id":27659594,"reputation":1,"user_id":21112724,"display_name":"athosga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675106837,"creation_date":1675106837,"question_id":75289214,"body_markdown":"I&#39;m trying to create an ExceptionMapper with an abstract parent class and some injected fields. Here is the part of code, simplified:\r\n\r\n```\r\n@Provider\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\r\n    @Override\r\n    public Response toResponse(MyException exception) {\r\n        ...\r\n    }\r\n}\r\n\r\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\r\n    @Inject\r\n    private ClassA fieldInParentA; // will be null.\r\n\r\n    @Inject\r\n    private ClassB fieldInParentB; // will be null.\r\n\r\n    // all kind of other stuff, including getters\r\n    ... \r\n}\r\n```\r\nClassA and ClassB are simple classes with @Dependent, @ApplicationScoped or @Singleton scopes (tried all these).\r\n\r\nThe problem is, that the fields of the parent don&#39;t get injected (nor do I see any error report in logs) and the result of getFieldInParentA() or of getFieldInParentB() return null in toResponse(), although the problem is not with the injected objects (they gets injected properly in other places). \r\n\r\nFurther, to my biggest surprise, all of fieldInParentA, fieldInParentB and fieldInChild **will be** injected when also the child class contains injected field. This is so with any dependent, singleton or application scoped fields:\r\n\r\n\r\n```\r\n@Provider\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\r\n    @Inject\r\n    private ClassC fieldInChild; // **will be initialized!**\r\n    \r\n    @Override\r\n    public Response toResponse(MyException exception) {\r\n      ...\r\n    }\r\n}\r\n\r\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\r\n    @Inject\r\n    private ClassA fieldInParentA; // **will be initialized!**\r\n\r\n    @Inject\r\n    private ClassB fieldInParentB; // **will be initialized!**\r\n\r\n    ... \r\n}\r\n```\r\n\r\nI might not understand properly the scopes (might it be the @Provider for blame?) or the inheritance of injected fields in Jakarta Dependency Injection, but besides not being able to initialize my classes (you might have guessed, that I don&#39;t want fields in the child class :) ) it is also bothering, that I do not understand this (apparently strange) behavior: *how can the injection of a field in a parent depend on whether we there are fields in the child or not*?!\r\n1. \r\nI did a lot of search, but I unfortunately couldn&#39;t find anything useful.\r\n","title":"Injection issue for exception mapper with abstract parent (Quarkus REST client)","body":"<p>I'm trying to create an ExceptionMapper with an abstract parent class and some injected fields. Here is the part of code, simplified:</p>\n<pre><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\n    @Override\n    public Response toResponse(MyException exception) {\n        ...\n    }\n}\n\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\n    @Inject\n    private ClassA fieldInParentA; // will be null.\n\n    @Inject\n    private ClassB fieldInParentB; // will be null.\n\n    // all kind of other stuff, including getters\n    ... \n}\n</code></pre>\n<p>ClassA and ClassB are simple classes with @Dependent, @ApplicationScoped or @Singleton scopes (tried all these).</p>\n<p>The problem is, that the fields of the parent don't get injected (nor do I see any error report in logs) and the result of getFieldInParentA() or of getFieldInParentB() return null in toResponse(), although the problem is not with the injected objects (they gets injected properly in other places).</p>\n<p>Further, to my biggest surprise, all of fieldInParentA, fieldInParentB and fieldInChild <strong>will be</strong> injected when also the child class contains injected field. This is so with any dependent, singleton or application scoped fields:</p>\n<pre><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\n    @Inject\n    private ClassC fieldInChild; // **will be initialized!**\n    \n    @Override\n    public Response toResponse(MyException exception) {\n      ...\n    }\n}\n\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\n    @Inject\n    private ClassA fieldInParentA; // **will be initialized!**\n\n    @Inject\n    private ClassB fieldInParentB; // **will be initialized!**\n\n    ... \n}\n</code></pre>\n<p>I might not understand properly the scopes (might it be the @Provider for blame?) or the inheritance of injected fields in Jakarta Dependency Injection, but besides not being able to initialize my classes (you might have guessed, that I don't want fields in the child class :) ) it is also bothering, that I do not understand this (apparently strange) behavior: <em>how can the injection of a field in a parent depend on whether we there are fields in the child or not</em>?!\n1.\nI did a lot of search, but I unfortunately couldn't find anything useful.</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":16118964,"reputation":47,"user_id":11635355,"display_name":"Luffy123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675106652,"creation_date":1675084291,"question_id":75284895,"body_markdown":"I have a json which include multiple array.\r\nI have json as:\r\n\r\n```json\r\n&quot;eList&quot;: [\r\n    {\r\n        &quot;eList&quot;: [\r\n            {\r\n                &quot;eOne&quot;: &quot;86&quot;\r\n            }\r\n        ],\r\n        &quot;idList&quot;: [\r\n            &quot;67890&quot;,\r\n            &quot;24328&quot;\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\n\r\n\r\nI have exploded the id list as:\r\n```\r\ndf=df.withColumn(&quot;idList&quot;,explode(col(&quot;eList.idList&quot;)))\r\n```\r\n\r\nIt works fine till here.\r\nI want  the value of eOne from elist. I want the output as follows:\r\n\r\n```\r\n| idList   | eList |\r\n| -------- | ----- |\r\n|  67890   | 86    | \r\n|  24328   | null  |\r\n```\r\n\r\nexplode function is not going to work. I dont have anything unique rows to partition by window? How am i supposed to proceed?","title":"Get value of inside of another array after exploding an array","body":"<p>I have a json which include multiple array.\nI have json as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;eList&quot;: [\n    {\n        &quot;eList&quot;: [\n            {\n                &quot;eOne&quot;: &quot;86&quot;\n            }\n        ],\n        &quot;idList&quot;: [\n            &quot;67890&quot;,\n            &quot;24328&quot;\n        ]\n    }\n]\n</code></pre>\n<p>I have exploded the id list as:</p>\n<pre><code>df=df.withColumn(&quot;idList&quot;,explode(col(&quot;eList.idList&quot;)))\n</code></pre>\n<p>It works fine till here.\nI want  the value of eOne from elist. I want the output as follows:</p>\n<pre><code>| idList   | eList |\n| -------- | ----- |\n|  67890   | 86    | \n|  24328   | null  |\n</code></pre>\n<p>explode function is not going to work. I dont have anything unique rows to partition by window? How am i supposed to proceed?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675105831,"creation_date":1675105831,"answer_id":75289054,"question_id":75289004,"body_markdown":"You need to declare your iterator as `Iterator&lt;String&gt;` to tell the compiler `it.next()` will return a `String`, which has the `endsWith`, otherwise it will think `it.next()` will return an `Object`, which does not have `endsWith`.","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>You need to declare your iterator as <code>Iterator&lt;String&gt;</code> to tell the compiler <code>it.next()</code> will return a <code>String</code>, which has the <code>endsWith</code>, otherwise it will think <code>it.next()</code> will return an <code>Object</code>, which does not have <code>endsWith</code>.</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675106234,"creation_date":1675106234,"answer_id":75289117,"question_id":75289004,"body_markdown":"You should learn what **generics** are. You got error because you use raw type with iterator. Raw type means `Object` type, but method you want to call `endsWith()` is the method of `String` type. So you should declare your iterator like `Iterator&lt;String&gt;` to specify the type of generic. So that compiler knows the actual type of objects.\r\nMore about generics you can read here \r\nhttps://docs.oracle.com/javase/tutorial/java/generics/index.html","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>You should learn what <strong>generics</strong> are. You got error because you use raw type with iterator. Raw type means <code>Object</code> type, but method you want to call <code>endsWith()</code> is the method of <code>String</code> type. So you should declare your iterator like <code>Iterator&lt;String&gt;</code> to specify the type of generic. So that compiler knows the actual type of objects.\nMore about generics you can read here\n<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/index.html</a></p>\n"}],"owner":{"account_id":16654776,"reputation":70,"user_id":12036497,"display_name":"Morgan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675147743,"accepted_answer_id":75289054,"answer_count":2,"score":-2,"last_activity_date":1675106234,"creation_date":1675105553,"question_id":75289004,"body_markdown":"I&#39;m a beginner in Java and am kinda confused why the below code outputs a compilation error.\r\n\r\nBelow is the code.\r\n\r\nWhat did I do wrong?\r\n\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; words = List.of(&quot;Apple&quot;, &quot;Bat&quot;, &quot;Cat&quot;);\r\n\r\n//        System.out.println(&quot;Apple&quot;.endsWith(&quot;le&quot;));\r\n\r\n        Iterator it = words.iterator();\r\n\r\n        while (it.hasNext()) {\r\n            if (it.next().endsWith(&quot;at&quot;)) {\r\n                it.remove();\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>I'm a beginner in Java and am kinda confused why the below code outputs a compilation error.</p>\n<p>Below is the code.</p>\n<p>What did I do wrong?</p>\n<pre><code>import java.util.Iterator;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; words = List.of(&quot;Apple&quot;, &quot;Bat&quot;, &quot;Cat&quot;);\n\n//        System.out.println(&quot;Apple&quot;.endsWith(&quot;le&quot;));\n\n        Iterator it = words.iterator();\n\n        while (it.hasNext()) {\n            if (it.next().endsWith(&quot;at&quot;)) {\n                it.remove();\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1582812770,"post_id":60435130,"comment_id":106912345,"body_markdown":"You can just define this method in the class, Lombok will use that then.","body":"You can just define this method in the class, Lombok will use that then."},{"owner":{"account_id":383886,"reputation":17470,"user_id":740018,"accept_rate":57,"display_name":"Leem"},"score":0,"creation_date":1582812887,"post_id":60435130,"comment_id":106912413,"body_markdown":"No need to have `@override` annotation? Could you please post an example?","body":"No need to have <code>@override</code> annotation? Could you please post an example?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1582843343,"post_id":60435130,"comment_id":106926728,"body_markdown":"You&#39;ve got a good answer, the linked question has some additional related info. Concerning customization: You can&#39;t modify what Lombok setter does (e.g., notify observers or alike). All you can do is to stop Lombok from generating the setter and write your own.","body":"You&#39;ve got a good answer, the linked question has some additional related info. Concerning customization: You can&#39;t modify what Lombok setter does (e.g., notify observers or alike). All you can do is to stop Lombok from generating the setter and write your own."},{"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"score":0,"creation_date":1675105488,"post_id":60435130,"comment_id":132853082,"body_markdown":"I would suggest you go with the lombok provided setter and getter, and add a new method: getAdjustedScore() that returns the score + 1.  It is a bad idea to override the basic concepts of a setter and getter - it is expected that the value passed to a setter is what gets set and returned for that specific value.  Adding getAdjustedScore() makes it very easy to identify what value you are referring to.","body":"I would suggest you go with the lombok provided setter and getter, and add a new method: getAdjustedScore() that returns the score + 1.  It is a bad idea to override the basic concepts of a setter and getter - it is expected that the value passed to a setter is what gets set and returned for that specific value.  Adding getAdjustedScore() makes it very easy to identify what value you are referring to."}],"answers":[{"tags":[],"owner":{"account_id":2169245,"reputation":1238,"user_id":1921678,"accept_rate":100,"display_name":"marandus"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1582812937,"creation_date":1582812937,"answer_id":60435217,"question_id":60435130,"body_markdown":"You can just write the getter method in the class. Lombok will not override methods. If a method that it should generate is already present, it will skip that one.\r\n\r\nSo you could do this:\r\n\r\n```java\r\n@Data\r\npublic class Score {\r\n  private long grade;\r\n\r\n  public void setGrade(long grade) {\r\n    this.grade = grade + 1;\r\n  }\r\n}\r\n```\r\n\r\nOr instead just override the getter:\r\n\r\n```java\r\n@Data\r\npublic class Score {\r\n  private long grade;\r\n\r\n  public long getGrade() {\r\n    return this.grade + 1;\r\n  }\r\n}\r\n```\r\n\r\nEdit:\r\nTo add on your comment: `@Override` is only required if you override methods from superclasses or interfaces. Lombok injects the method directly into your class, thus no `@Override` is required (and it will cause an compiler error, because there is nothing that could be overridden).","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>You can just write the getter method in the class. Lombok will not override methods. If a method that it should generate is already present, it will skip that one.</p>\n\n<p>So you could do this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Score {\n  private long grade;\n\n  public void setGrade(long grade) {\n    this.grade = grade + 1;\n  }\n}\n</code></pre>\n\n<p>Or instead just override the getter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Score {\n  private long grade;\n\n  public long getGrade() {\n    return this.grade + 1;\n  }\n}\n</code></pre>\n\n<p>Edit:\nTo add on your comment: <code>@Override</code> is only required if you override methods from superclasses or interfaces. Lombok injects the method directly into your class, thus no <code>@Override</code> is required (and it will cause an compiler error, because there is nothing that could be overridden).</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675106021,"creation_date":1582813173,"answer_id":60435296,"question_id":60435130,"body_markdown":"This works fine for me\r\n\r\n    class Scratch {\r\n        public static void main(String[] args) {\r\n            MyDataClass object = new MyDataClass();\r\n            object.setOverriddenSet(&quot;some value&quot;);\r\n            if (!&quot;fixed value&quot;.equals(object.getOverriddenSet())) {\r\n                throw new RuntimeException();\r\n            }\r\n            System.out.println(&quot;all went well.&quot;);\r\n        }\r\n    }\r\n    \r\n    @Data\r\n    class MyDataClass {\r\n        String overriddenSet = &quot;fixed initial value&quot;;\r\n    \r\n        void setOverriddenSet(String setTo) {\r\n            overriddenSet = &quot;fixed value&quot;;\r\n        }\r\n    }","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>This works fine for me</p>\n<pre><code>class Scratch {\n    public static void main(String[] args) {\n        MyDataClass object = new MyDataClass();\n        object.setOverriddenSet(&quot;some value&quot;);\n        if (!&quot;fixed value&quot;.equals(object.getOverriddenSet())) {\n            throw new RuntimeException();\n        }\n        System.out.println(&quot;all went well.&quot;);\n    }\n}\n\n@Data\nclass MyDataClass {\n    String overriddenSet = &quot;fixed initial value&quot;;\n\n    void setOverriddenSet(String setTo) {\n        overriddenSet = &quot;fixed value&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":383886,"reputation":17470,"user_id":740018,"accept_rate":57,"display_name":"Leem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10311,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1582843135,"accepted_answer_id":60435217,"answer_count":2,"score":4,"last_activity_date":1675106021,"creation_date":1582812587,"question_id":60435130,"body_markdown":"I use lombok library in my java project.\r\n\r\n    @Data\r\n    public class Score {\r\n       private long grade;\r\n    }\r\n\r\nWith this code, I have getter and setter automatically. e.g.\r\n\r\n    Score score = new Score();\r\n    score.setGrade(10);\r\n    // when I call score.getGrade(), I get 10.\r\n\r\nBut now I want to customize the setter method to introduce additional logics for the grade value. e.g.\r\n   \r\n\r\n    public void setGrade(long grade) {\r\n           // so the returned value from getter is always 1 bigger than what has been set.\r\n           this.grade += 1; \r\n       }\r\n\r\nBasically, I want to have `score.setGrade(10)` but `score.getGrade()` returns 11. That&#39;s override the setter. \r\nHow to achieve it with lombok in use?\r\n","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>I use lombok library in my java project.</p>\n\n<pre><code>@Data\npublic class Score {\n   private long grade;\n}\n</code></pre>\n\n<p>With this code, I have getter and setter automatically. e.g.</p>\n\n<pre><code>Score score = new Score();\nscore.setGrade(10);\n// when I call score.getGrade(), I get 10.\n</code></pre>\n\n<p>But now I want to customize the setter method to introduce additional logics for the grade value. e.g.</p>\n\n<pre><code>public void setGrade(long grade) {\n       // so the returned value from getter is always 1 bigger than what has been set.\n       this.grade += 1; \n   }\n</code></pre>\n\n<p>Basically, I want to have <code>score.setGrade(10)</code> but <code>score.getGrade()</code> returns 11. That's override the setter. \nHow to achieve it with lombok in use?</p>\n"},{"tags":["java","server","client","multicast"],"owner":{"account_id":24083813,"reputation":1,"user_id":18058121,"display_name":"DreckigerDan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675105729,"creation_date":1675105729,"question_id":75289038,"body_markdown":"my programm is establishing a connection via multicastsocket between server and client. I want to send some informations to the client and then receive an answer from the client and print it out.\r\nThis works, but it always printing out the String infromation. Like it is still saved in the DatagramPacket and fill the String received with data from String information. So when i run the programm its always printing out &quot;Server: received Message: Welcome to the Event Server&quot;\r\n\r\n    \t\r\n```\r\n    \tSystem.out.println(&quot;Server is running...&quot;);\r\n    \t\r\n    \tInetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\r\n    \tMulticastSocket info_socket = new MulticastSocket(3456);\r\n    \t\r\n    \tinfo_socket.joinGroup(infoChannel);\r\n    \t\r\n    \t\r\n    \tString information = &quot;Welcome to the Event Server &quot;;\r\n    \tbyte [] buffer = information.getBytes();\r\n    \tDatagramPacket info_packet = new DatagramPacket(buffer, buffer.length, infoChannel, 3456);\r\n        \r\n    \t\r\n    \tinfo_socket.send(info_packet);\r\n    \tSystem.out.println(&quot;Message send&quot;);\r\n    \t\r\n    \t\r\n    \twhile(true) {\r\n    \t\tinfo_packet.setData(new byte[256]);\r\n    \t    \r\n    \t    info_socket.receive(info_packet);\r\n    \t    String received = new String(info_packet.getData(), info_packet.getOffset(), info_packet.getLength());\r\n    \t    \r\n    \t    info_packet.setLength(info_packet.getLength());\r\n\r\n    \t    System.out.println(&quot;Server: received Message: &quot; + received);\r\n    \t\r\n    \t\r\n    \t}\r\n    \t\r\n```\r\n\r\nCLient :\r\n\r\n\r\n```\r\n\t\tSystem.out.println(&quot;Client is waiting for Connection to Server...&quot;);\r\n    \tInetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\r\n    \tMulticastSocket info = new MulticastSocket(3456);\r\n\t\tinfo.joinGroup(infoChannel);\t\r\n\t\t\t\t\r\n\t\r\n\t\t\t\t\r\n\t\tbyte[] buffer = new byte[350];\r\n\r\n\t\tDatagramPacket packet = new DatagramPacket(buffer, buffer.length);\r\n\t\t\r\n\t\tinfo.receive(packet);\r\n\t\t\r\n     \tString recString = new String(buffer);\r\n\t\tString[] lines = recString.split(&quot;#&quot;);\r\n\t\t\r\n\t\tArrays.stream(lines).forEach(System.out::println);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter message to send: &quot;);\r\n\t\tString answer = readIn.nextLine();\r\n\t\t\r\n\t\tpacket = new DatagramPacket(answer.getBytes(), answer.length(), infoChannel, 3456);\r\n\t\t\r\n\t\tinfo.send(packet);\r\n\t\tSystem.out.println(&quot;client: Inormation sended to Server&quot;);\r\n\t\tinfo.close();\r\n```\r\n\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n\r\ni tried to somehow clear the buffer and then store the received message in the String received","title":"Java Multicast Connection Server Client I dont understand why it is printing out the string i sended","body":"<p>my programm is establishing a connection via multicastsocket between server and client. I want to send some informations to the client and then receive an answer from the client and print it out.\nThis works, but it always printing out the String infromation. Like it is still saved in the DatagramPacket and fill the String received with data from String information. So when i run the programm its always printing out &quot;Server: received Message: Welcome to the Event Server&quot;</p>\n<pre><code>        System.out.println(&quot;Server is running...&quot;);\n        \n        InetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\n        MulticastSocket info_socket = new MulticastSocket(3456);\n        \n        info_socket.joinGroup(infoChannel);\n        \n        \n        String information = &quot;Welcome to the Event Server &quot;;\n        byte [] buffer = information.getBytes();\n        DatagramPacket info_packet = new DatagramPacket(buffer, buffer.length, infoChannel, 3456);\n        \n        \n        info_socket.send(info_packet);\n        System.out.println(&quot;Message send&quot;);\n        \n        \n        while(true) {\n            info_packet.setData(new byte[256]);\n            \n            info_socket.receive(info_packet);\n            String received = new String(info_packet.getData(), info_packet.getOffset(), info_packet.getLength());\n            \n            info_packet.setLength(info_packet.getLength());\n\n            System.out.println(&quot;Server: received Message: &quot; + received);\n        \n        \n        }\n        \n</code></pre>\n<p>CLient :</p>\n<pre><code>        System.out.println(&quot;Client is waiting for Connection to Server...&quot;);\n        InetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\n        MulticastSocket info = new MulticastSocket(3456);\n        info.joinGroup(infoChannel);    \n                \n    \n                \n        byte[] buffer = new byte[350];\n\n        DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\n        \n        info.receive(packet);\n        \n        String recString = new String(buffer);\n        String[] lines = recString.split(&quot;#&quot;);\n        \n        Arrays.stream(lines).forEach(System.out::println);\n        \n        System.out.println(&quot;Enter message to send: &quot;);\n        String answer = readIn.nextLine();\n        \n        packet = new DatagramPacket(answer.getBytes(), answer.length(), infoChannel, 3456);\n        \n        info.send(packet);\n        System.out.println(&quot;client: Inormation sended to Server&quot;);\n        info.close();\n</code></pre>\n<p>Thanks in advance!</p>\n<p>i tried to somehow clear the buffer and then store the received message in the String received</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":11128032,"reputation":801,"user_id":8168882,"display_name":"&#199;ağatay Sel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675105471,"creation_date":1675105471,"answer_id":75288991,"question_id":74822010,"body_markdown":"uses clause in @Mapper annotation allow your mapper to use the mappers you defined if they are required. If you want to just get a reference to mapper you can use.\r\n\r\n    MyMapper INSTANCE = Mappers.getMapper( MyMapper.class );","title":"Mapstruct: how to autowire abstract class mapper","body":"<p>uses clause in @Mapper annotation allow your mapper to use the mappers you defined if they are required. If you want to just get a reference to mapper you can use.</p>\n<pre><code>MyMapper INSTANCE = Mappers.getMapper( MyMapper.class );\n</code></pre>\n"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675105471,"creation_date":1671180168,"question_id":74822010,"body_markdown":"my problem seems easy, but may be I&#39;m doing something wrong. this is mapper class with `@Named(&quot;toLocationListCommon&quot;)` bean which suppose to be used in other mappers\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class CommonLocationMapper {\r\n        @Setter(onMethod_ = @Autowired)\r\n        protected TestService testService;\r\n    \r\n        @Named(&quot;toLocationListCommon&quot;)\r\n        List&lt;Location&gt; toLocationListCommon(List&lt;? extends ILocation&gt; loc) {\r\n    \t\t//do mapping logic\r\n        }\r\n    \r\n    }\r\nhere I&#39;m trying to use it:\r\n\r\n    @Mapper(implementationName = &quot;V1Impl&quot;, config = CommonMapper.CommonMapperConfig.class, uses = CommonLocationMapper.class)\r\n    interface TestMapper {\r\n    \t//other mapping methods\r\n    }\r\nI expect to have autowired bean `CommonLocationMapper` in implementation for `TestMapper`, but I haven&#39;t. \r\nWhat I&#39;m doing wrong? thanks in advance!  ","title":"Mapstruct: how to autowire abstract class mapper","body":"<p>my problem seems easy, but may be I'm doing something wrong. this is mapper class with <code>@Named(&quot;toLocationListCommon&quot;)</code> bean which suppose to be used in other mappers</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CommonLocationMapper {\n    @Setter(onMethod_ = @Autowired)\n    protected TestService testService;\n\n    @Named(&quot;toLocationListCommon&quot;)\n    List&lt;Location&gt; toLocationListCommon(List&lt;? extends ILocation&gt; loc) {\n        //do mapping logic\n    }\n\n}\n</code></pre>\n<p>here I'm trying to use it:</p>\n<pre><code>@Mapper(implementationName = &quot;V1Impl&quot;, config = CommonMapper.CommonMapperConfig.class, uses = CommonLocationMapper.class)\ninterface TestMapper {\n    //other mapping methods\n}\n</code></pre>\n<p>I expect to have autowired bean <code>CommonLocationMapper</code> in implementation for <code>TestMapper</code>, but I haven't.\nWhat I'm doing wrong? thanks in advance!</p>\n"},{"tags":["java","lstm","recurrent-neural-network","deeplearning4j","dl4j"],"answers":[{"tags":[],"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675062716,"creation_date":1675062341,"answer_id":75281130,"question_id":75280102,"body_markdown":"There are several problems you&#39;ve got here. If you read the documentation for `predict` it tells you:\r\n\r\n&gt; Usable only for classification networks in conjunction with OutputLayer. Cannot be used with RnnOutputLayer, CnnLossLayer, or networks used for regression.\r\n\r\nThe error message therefore tells you that it only works with `rank 2 output`. \r\n\r\nIn your attempted solution, you try then to reshape the input, and the network complains that it isn&#39;t getting the input it is expecting. \r\n\r\nYou want to either use `rnnTimeStep` (for single stepping) or `output` (for the entire sequence) to get the unprocessed output, and then apply the `argMax` accordingly. \r\n\r\nThe output of `rnnTimeStep()` is just a slice of output, so in order to get the same output as `predict`, you should be able to use `output.argMax(1).toIntVector()` on it. \r\n\r\nThe output of `output()` will be a 2-D matrix, so you&#39;ll need to specify the correct axes.","title":"DL4J LSTM - Contradictory Errors","body":"<p>There are several problems you've got here. If you read the documentation for <code>predict</code> it tells you:</p>\n<blockquote>\n<p>Usable only for classification networks in conjunction with OutputLayer. Cannot be used with RnnOutputLayer, CnnLossLayer, or networks used for regression.</p>\n</blockquote>\n<p>The error message therefore tells you that it only works with <code>rank 2 output</code>.</p>\n<p>In your attempted solution, you try then to reshape the input, and the network complains that it isn't getting the input it is expecting.</p>\n<p>You want to either use <code>rnnTimeStep</code> (for single stepping) or <code>output</code> (for the entire sequence) to get the unprocessed output, and then apply the <code>argMax</code> accordingly.</p>\n<p>The output of <code>rnnTimeStep()</code> is just a slice of output, so in order to get the same output as <code>predict</code>, you should be able to use <code>output.argMax(1).toIntVector()</code> on it.</p>\n<p>The output of <code>output()</code> will be a 2-D matrix, so you'll need to specify the correct axes.</p>\n"}],"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75281130,"answer_count":1,"score":0,"last_activity_date":1675105394,"creation_date":1675050677,"question_id":75280102,"body_markdown":"I&#39;m trying to create a simple LSTM using Deeplearning4J in Java, with 2 input features and a timeseries length of 1. However, I&#39;m running into an error concerning the number of input dimensions when calling predict(). \r\n\r\n```\r\nimport org.deeplearning4j.nn.api.OptimizationAlgorithm;\r\nimport org.deeplearning4j.nn.conf.BackpropType;\r\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\r\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\r\nimport org.deeplearning4j.nn.conf.layers.LSTM;\r\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\r\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\r\nimport org.deeplearning4j.nn.weights.WeightInit;\r\nimport org.nd4j.linalg.activations.Activation;\r\nimport org.nd4j.linalg.api.ndarray.INDArray;\r\nimport org.nd4j.linalg.dataset.DataSet;\r\nimport org.nd4j.linalg.factory.Nd4j;\r\nimport org.nd4j.linalg.learning.config.Adam;\r\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\r\n\r\npublic class LSTMRegression {\r\n\tpublic static final int inputSize = 2,\r\n\t\t\t\t\t\t\tlstmLayerSize = 4,\r\n\t\t\t\t\t\t\toutputSize = 1;\r\n\t\r\n\tpublic static final double learningRate = 0.0001;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint miniBatchSize = 29;\r\n\t\t\r\n\t\tMultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\r\n                .updater(new Adam(learningRate))\r\n                .list()\r\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.IDENTITY).build())\r\n                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.SIGMOID).build())\r\n                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.SIGMOID).build())\r\n                .layer(3, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.IDENTITY)\r\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\r\n                \r\n                .backpropType(BackpropType.TruncatedBPTT)\r\n                .tBPTTForwardLength(miniBatchSize)\r\n                .tBPTTBackwardLength(miniBatchSize)\r\n                .build();\r\n\t\t\r\n\t\tvar network = new MultiLayerNetwork(conf);\r\n\t\t\r\n\t\tnetwork.init();\r\n\t\tnetwork.fit(getTrain());\r\n\t\t\r\n\t\tSystem.out.println(network.predict(getTest()));\r\n\t}\r\n\t\r\n\tpublic static DataSet getTest() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1);\r\n\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n\t\r\n\tpublic static DataSet getTrain() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1);\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n}\r\n```\r\n\r\nThe following error occurs when run:\r\n\r\n```\r\n22:38:28.803 [main] INFO  o.d.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\r\n22:38:29.755 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1]\tand labels with shape [29, 1]\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: predict(INDArray) method can only be used on rank 2 output - got array with rank 3\r\n\tat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\r\n\tat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:274)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2275)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\r\n\tat LSTMRegression.main(LSTMRegression.java:78)\r\n```\r\n\r\nThat&#39;s weird I figured, but I tried reshaping it anyway:\r\n\r\n```\r\n    public static DataSet getTest() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1).reshape(29, 2);\r\n\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n```\r\n\r\n...Leading to the opposite problem:\r\n\r\n```\r\n22:45:28.232 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1]\tand labels with shape [29, 1]\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2\r\n\tat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\r\n\tat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:265)\r\n\tat org.deeplearning4j.nn.layers.recurrent.LSTM.activateHelper(LSTM.java:121)\r\n\tat org.deeplearning4j.nn.layers.recurrent.LSTM.activate(LSTM.java:110)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1349)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2467)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2430)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2421)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2408)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2270)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\r\n\tat LSTMRegression.main(LSTMRegression.java:78)\r\n```\r\n\r\nWhat exactly am I doing wrong here?\r\n\r\nEDIT: I used zeros obviously to make the code a bit easier to read. Here&#39;s what my training and test data actually looks like in the form of a multidimensional double array:\r\n\r\n```\r\npublic static DataSet getData() {\r\n\t\tdouble[][][] inputArray = {\r\n\t\t\t{{18.7}, {181}},\r\n\t\t\t{{17.4}, {186}},\r\n\t\t\t{{18}, {195}},\r\n\t\t\t{{19.3}, {193}},\r\n\t\t\t{{20.6}, {190}},\r\n\t\t\t{{17.8}, {181}},\r\n\t\t\t{{19.6}, {195}},\r\n\t\t\t{{18.1}, {193}},\r\n\t\t\t{{20.2}, {190}},\r\n\t\t\t{{17.1}, {186}},\r\n\t\t\t{{17.3}, {180}},\r\n            ...\r\n        }\r\n       double[][] outputArray = {\r\n\t\t\t\t{3750},\r\n\t\t\t\t{3800},\r\n\t\t\t\t{3250},\r\n\t\t\t\t{3450},\r\n\t\t\t\t{3650},\r\n\t\t\t\t{3625},\r\n\t\t\t\t{4675},\r\n\t\t\t\t{3475},\r\n\t\t\t\t{4250},\r\n\t\t\t\t{3300},\r\n\t\t\t\t{3700},\r\n\t\t\t\t{3200},\r\n\t\t\t\t{3800},\r\n\t\t\t\t{4400},\r\n\t\t\t\t{3700},\r\n\t\t\t\t{3450},\r\n\t\t\t\t{4500},\r\n                ...\r\n        };\r\n        INDArray input = Nd4j.create(inputArray);\r\n\t\tINDArray labels = Nd4j.create(outputArray);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n}\r\n```\r\n\r\n... As well as my test data (updated to only include inputs):\r\n```\r\npublic static INDArray getTest() {\r\n\t\tdouble[][][] test = new double[][][]{\r\n            {{20}, {203}},\r\n            {{16}, {183}},\r\n            {{20}, {190}},\r\n            {{18.6}, {193}},\r\n            {{18.9}, {184}},\r\n            {{17.2}, {199}},\r\n            {{20}, {190}},\r\n            {{17}, {181}},\r\n            {{19}, {197}},\r\n            {{16.5}, {198}},\r\n            {{20.3}, {191}},\r\n            {{17.7}, {193}},\r\n            {{19.5}, {197}},\r\n            {{20.7}, {191}},\r\n            {{18.3}, {196}},\r\n            {{17}, {188}},\r\n            {{20.5}, {199}},\r\n            {{17}, {189}},\r\n            {{18.6}, {189}},\r\n            {{17.2}, {187}},\r\n            {{19.8}, {198}},\r\n            {{17}, {176}},\r\n            {{18.5}, {202}},\r\n            {{15.9}, {186}},\r\n            {{19}, {199}},\r\n            {{17.6}, {191}},\r\n            {{18.3}, {195}},\r\n            {{17.1}, {191}},\r\n            {{18}, {210}}\r\n\t\t};\r\n\t\t\r\n\t\tINDArray input = Nd4j.create(test);\r\n\t\t\r\n\t\treturn input;\r\n\t}\r\n```","title":"DL4J LSTM - Contradictory Errors","body":"<p>I'm trying to create a simple LSTM using Deeplearning4J in Java, with 2 input features and a timeseries length of 1. However, I'm running into an error concerning the number of input dimensions when calling predict().</p>\n<pre><code>import org.deeplearning4j.nn.api.OptimizationAlgorithm;\nimport org.deeplearning4j.nn.conf.BackpropType;\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\nimport org.deeplearning4j.nn.conf.layers.LSTM;\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\nimport org.deeplearning4j.nn.weights.WeightInit;\nimport org.nd4j.linalg.activations.Activation;\nimport org.nd4j.linalg.api.ndarray.INDArray;\nimport org.nd4j.linalg.dataset.DataSet;\nimport org.nd4j.linalg.factory.Nd4j;\nimport org.nd4j.linalg.learning.config.Adam;\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\n\npublic class LSTMRegression {\n    public static final int inputSize = 2,\n                            lstmLayerSize = 4,\n                            outputSize = 1;\n    \n    public static final double learningRate = 0.0001;\n\n    public static void main(String[] args) {\n        int miniBatchSize = 29;\n        \n        MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\n                .updater(new Adam(learningRate))\n                .list()\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.IDENTITY).build())\n                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.SIGMOID).build())\n                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.SIGMOID).build())\n                .layer(3, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.IDENTITY)\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\n                \n                .backpropType(BackpropType.TruncatedBPTT)\n                .tBPTTForwardLength(miniBatchSize)\n                .tBPTTBackwardLength(miniBatchSize)\n                .build();\n        \n        var network = new MultiLayerNetwork(conf);\n        \n        network.init();\n        network.fit(getTrain());\n        \n        System.out.println(network.predict(getTest()));\n    }\n    \n    public static DataSet getTest() {\n        INDArray input = Nd4j.zeros(29, 2, 1);\n\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n    \n    public static DataSet getTrain() {\n        INDArray input = Nd4j.zeros(29, 2, 1);\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n}\n</code></pre>\n<p>The following error occurs when run:</p>\n<pre><code>22:38:28.803 [main] INFO  o.d.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\n22:38:29.755 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1] and labels with shape [29, 1]\nException in thread &quot;main&quot; java.lang.IllegalStateException: predict(INDArray) method can only be used on rank 2 output - got array with rank 3\n    at org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\n    at org.nd4j.common.base.Preconditions.checkState(Preconditions.java:274)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2275)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\n    at LSTMRegression.main(LSTMRegression.java:78)\n</code></pre>\n<p>That's weird I figured, but I tried reshaping it anyway:</p>\n<pre><code>    public static DataSet getTest() {\n        INDArray input = Nd4j.zeros(29, 2, 1).reshape(29, 2);\n\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n</code></pre>\n<p>...Leading to the opposite problem:</p>\n<pre><code>22:45:28.232 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1] and labels with shape [29, 1]\nException in thread &quot;main&quot; java.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2\n    at org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\n    at org.nd4j.common.base.Preconditions.checkState(Preconditions.java:265)\n    at org.deeplearning4j.nn.layers.recurrent.LSTM.activateHelper(LSTM.java:121)\n    at org.deeplearning4j.nn.layers.recurrent.LSTM.activate(LSTM.java:110)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1349)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2467)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2430)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2421)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2408)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2270)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\n    at LSTMRegression.main(LSTMRegression.java:78)\n</code></pre>\n<p>What exactly am I doing wrong here?</p>\n<p>EDIT: I used zeros obviously to make the code a bit easier to read. Here's what my training and test data actually looks like in the form of a multidimensional double array:</p>\n<pre><code>public static DataSet getData() {\n        double[][][] inputArray = {\n            {{18.7}, {181}},\n            {{17.4}, {186}},\n            {{18}, {195}},\n            {{19.3}, {193}},\n            {{20.6}, {190}},\n            {{17.8}, {181}},\n            {{19.6}, {195}},\n            {{18.1}, {193}},\n            {{20.2}, {190}},\n            {{17.1}, {186}},\n            {{17.3}, {180}},\n            ...\n        }\n       double[][] outputArray = {\n                {3750},\n                {3800},\n                {3250},\n                {3450},\n                {3650},\n                {3625},\n                {4675},\n                {3475},\n                {4250},\n                {3300},\n                {3700},\n                {3200},\n                {3800},\n                {4400},\n                {3700},\n                {3450},\n                {4500},\n                ...\n        };\n        INDArray input = Nd4j.create(inputArray);\n        INDArray labels = Nd4j.create(outputArray);\n        \n        return new DataSet(input, labels);\n}\n</code></pre>\n<p>... As well as my test data (updated to only include inputs):</p>\n<pre><code>public static INDArray getTest() {\n        double[][][] test = new double[][][]{\n            {{20}, {203}},\n            {{16}, {183}},\n            {{20}, {190}},\n            {{18.6}, {193}},\n            {{18.9}, {184}},\n            {{17.2}, {199}},\n            {{20}, {190}},\n            {{17}, {181}},\n            {{19}, {197}},\n            {{16.5}, {198}},\n            {{20.3}, {191}},\n            {{17.7}, {193}},\n            {{19.5}, {197}},\n            {{20.7}, {191}},\n            {{18.3}, {196}},\n            {{17}, {188}},\n            {{20.5}, {199}},\n            {{17}, {189}},\n            {{18.6}, {189}},\n            {{17.2}, {187}},\n            {{19.8}, {198}},\n            {{17}, {176}},\n            {{18.5}, {202}},\n            {{15.9}, {186}},\n            {{19}, {199}},\n            {{17.6}, {191}},\n            {{18.3}, {195}},\n            {{17.1}, {191}},\n            {{18}, {210}}\n        };\n        \n        INDArray input = Nd4j.create(test);\n        \n        return input;\n    }\n</code></pre>\n"},{"tags":["java","json","jsonschema","json-schema-validator"],"answers":[{"tags":[],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1509085210,"creation_date":1509084528,"answer_id":46968506,"question_id":46968457,"body_markdown":"I assume your `json` is in a String variable named `var`.\r\nuse `org.json` for the below code.\r\n\r\n    JSONObject jObj=new JSONObject(var);\r\n    ArrayList arr=new ArrayList();\r\n    \r\n    for (Object keyObj: jObj.keySet())\r\n    {\r\n        String key = (String)keyObject;\r\n        arr.add(key);        \r\n    }\r\n\r\nThat&#39;s it. \r\n\r\nI have added maven dependency for `org.json` package for those who are working with maven!\r\n\r\n    &lt;dependency&gt;  \r\n    \t&lt;groupId&gt;org.json&lt;/groupId&gt;  \r\n    \t&lt;artifactId&gt;json&lt;/artifactId&gt;  \r\n    \t&lt;version&gt;20160810&lt;/version&gt; \r\n    &lt;/dependency&gt; ","title":"Java - How to get all the field names from JSON Schema","body":"<p>I assume your <code>json</code> is in a String variable named <code>var</code>.\nuse <code>org.json</code> for the below code.</p>\n\n<pre><code>JSONObject jObj=new JSONObject(var);\nArrayList arr=new ArrayList();\n\nfor (Object keyObj: jObj.keySet())\n{\n    String key = (String)keyObject;\n    arr.add(key);        \n}\n</code></pre>\n\n<p>That's it. </p>\n\n<p>I have added maven dependency for <code>org.json</code> package for those who are working with maven!</p>\n\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.json&lt;/groupId&gt;  \n    &lt;artifactId&gt;json&lt;/artifactId&gt;  \n    &lt;version&gt;20160810&lt;/version&gt; \n&lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9224505,"reputation":8167,"user_id":6852729,"display_name":"KeLiuyue"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1509085034,"creation_date":1509085034,"answer_id":46968613,"question_id":46968457,"body_markdown":"1.convert to `JSONObject`\r\n\r\n2.save in `List`\r\n\r\n3.convert `List` to `Array`\r\n\r\ntry this .\r\n\r\n    public void getKey(String response) {\r\n        List&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(response);\r\n            JSONObject schema = jsonObject.getJSONObject(&quot;schema&quot;);\r\n            JSONObject properties = schema.getJSONObject(&quot;properties&quot;);\r\n            Iterator iterator = properties.keys();\r\n            while (iterator.hasNext()) {\r\n                String key = iterator.next().toString();\r\n                keyList.add(key);\r\n            }\r\n            String[] arr = (String[]) keyList.toArray(new String[keyList.size()]);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Java - How to get all the field names from JSON Schema","body":"<p>1.convert to <code>JSONObject</code></p>\n\n<p>2.save in <code>List</code></p>\n\n<p>3.convert <code>List</code> to <code>Array</code></p>\n\n<p>try this .</p>\n\n<pre><code>public void getKey(String response) {\n    List&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\n    try {\n        JSONObject jsonObject = new JSONObject(response);\n        JSONObject schema = jsonObject.getJSONObject(\"schema\");\n        JSONObject properties = schema.getJSONObject(\"properties\");\n        Iterator iterator = properties.keys();\n        while (iterator.hasNext()) {\n            String key = iterator.next().toString();\n            keyList.add(key);\n        }\n        String[] arr = (String[]) keyList.toArray(new String[keyList.size()]);\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21089810,"reputation":61,"user_id":15501992,"display_name":"RulleR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675105322,"creation_date":1675105322,"answer_id":75288966,"question_id":46968457,"body_markdown":"Recursive solution that will work with nested objects\r\n\r\n    public Set&lt;String&gt; getMetadataSchemaFields(JsonNode metadataSchema) {\r\n        if (metadataSchema.has(&quot;properties&quot;)) {\r\n            val fields = new HashSet&lt;String&gt;();\r\n            metadataSchema.get(&quot;properties&quot;).fields().forEachRemaining(entry -&gt; {\r\n                val nodeFields = getMetadataSchemaFields(entry.getValue());\r\n                if (nodeFields.isEmpty()) {\r\n                    fields.add(entry.getKey());\r\n                } else {\r\n                    nodeFields.forEach(nodeField -&gt; fields.add(entry.getKey() + &quot;/&quot; + nodeField));\r\n                }\r\n            });\r\n            return fields;\r\n        } else {\r\n            return Set.of();\r\n        }\r\n    }","title":"Java - How to get all the field names from JSON Schema","body":"<p>Recursive solution that will work with nested objects</p>\n<pre><code>public Set&lt;String&gt; getMetadataSchemaFields(JsonNode metadataSchema) {\n    if (metadataSchema.has(&quot;properties&quot;)) {\n        val fields = new HashSet&lt;String&gt;();\n        metadataSchema.get(&quot;properties&quot;).fields().forEachRemaining(entry -&gt; {\n            val nodeFields = getMetadataSchemaFields(entry.getValue());\n            if (nodeFields.isEmpty()) {\n                fields.add(entry.getKey());\n            } else {\n                nodeFields.forEach(nodeField -&gt; fields.add(entry.getKey() + &quot;/&quot; + nodeField));\n            }\n        });\n        return fields;\n    } else {\n        return Set.of();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2476517,"reputation":117,"user_id":2157055,"accept_rate":44,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46968613,"answer_count":3,"score":0,"last_activity_date":1675105322,"creation_date":1509084291,"question_id":46968457,"body_markdown":"    {\r\n        &quot;type&quot;: &quot;TestType&quot;,\r\n        &quot;schema&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n                &quot;field1&quot;: {\r\n                    &quot;format&quot;: &quot;date&quot;,\r\n                    &quot;label&quot;: &quot;field 1&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;field2&quot;: {\r\n                    &quot;format&quot;: &quot;date&quot;,\r\n                    &quot;label&quot;: &quot;field 2&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                }\r\n            },\r\n            &quot;required&quot;: [],\r\n            &quot;additionalProperties&quot;: false\r\n        }\r\n    }\r\n\r\nHi Guys, I am new to JSON Schema, I just want to know how to define the Java model to mapping above JSON Schema, I want to get all the field name from the definition.\r\n\r\nSo it means that I want to parse the JSON Schema and return like this:\r\n\r\n    [field1, field2]\r\nNote that the field list is automatic, may add more fields into the JSON Schema, field3, field4 ...","title":"Java - How to get all the field names from JSON Schema","body":"<pre><code>{\n    \"type\": \"TestType\",\n    \"schema\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"field1\": {\n                \"format\": \"date\",\n                \"label\": \"field 1\",\n                \"type\": \"string\"\n            },\n            \"field2\": {\n                \"format\": \"date\",\n                \"label\": \"field 2\",\n                \"type\": \"string\"\n            }\n        },\n        \"required\": [],\n        \"additionalProperties\": false\n    }\n}\n</code></pre>\n\n<p>Hi Guys, I am new to JSON Schema, I just want to know how to define the Java model to mapping above JSON Schema, I want to get all the field name from the definition.</p>\n\n<p>So it means that I want to parse the JSON Schema and return like this:</p>\n\n<pre><code>[field1, field2]\n</code></pre>\n\n<p>Note that the field list is automatic, may add more fields into the JSON Schema, field3, field4 ...</p>\n"},{"tags":["java","spring","webclient","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1590444489,"creation_date":1556686595,"answer_id":55931789,"question_id":55923326,"body_markdown":"Yes, it is possible.\r\n\r\n`Mono` has two concepts for re-subscribing (and thus, re-triggering the request)\r\n\r\n* _retry_ = re-subscribe if the upstream completed with an exception\r\n* _repeat_ = re-subscribe if the upstream completed successfully\r\n\r\nEach concept has multiple overloaded methods on `Mono` for different use cases.  Look for the `retry*` and `repeat*` methods.\r\nFor example, to retry a maximum number of times with no delay, use `retry(int numRetries)`.\r\n\r\nMore complex use cases are supported via the `retryWhen` and `repeatWhen` methods, as shown in the following examples.\r\n\r\n### retryWhen\r\n\r\nTo retry if the mono completed with an exception a maximum of 5 times with 5 seconds between each attempt:\r\n\r\n```java\r\n// From reactor-core &gt;= v3.3.4.RELEASE\r\nimport reactor.util.retry.Retry;\r\n\r\nthis.webClient\r\n        .post()\r\n        .uri(SERVICE_URL)\r\n        .body(BodyInserters.fromValue(docRequest))\r\n        .retrieve()\r\n        .bodyToMono(Document.class)\r\n        .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\r\n        .delaySubscription(Duration.ofSeconds(10))\r\n\r\n```\r\n\r\nThe retry builder supports other backoff strategies (e.g. exponential) and other options to fully customize retries.\r\n\r\nNote the `retryWhen(Retry)` method used above was added in reactor-core v3.3.4.RELEASE, and the `retryWhen(Function)` method was deprecated.\r\nPrior to reactor-core v3.3.4.RELEASE, you could use the retry function builder from [reactor-extras][1] project to create a `Function` to pass to `retryWhen(Function)`.\r\n\r\n\r\n### repeatWhen\r\n\r\nIf you need to repeat on success, then use `.repeatWhen` or `.repeatWhenEmpty` instead of `.retryWhen` above.\r\n\r\nUse the repeat function builder from [reactor-extras][1] project to create the repeat `Function` as follows:\r\n\r\n```\r\n// From reactor-extras\r\nimport reactor.retry.Repeat;\r\n\r\nthis.webClient\r\n        .post()\r\n        .uri(SERVICE_URL)\r\n        .body(BodyInserters.fromValue(docRequest))\r\n        .retrieve()\r\n        .bodyToMono(Document.class)\r\n        .filter(document -&gt; !document.isEmpty())\r\n        .repeatWhenEmpty(Repeat.onlyIf(repeatContext -&gt; true)\r\n                .exponentialBackoff(Duration.ofSeconds(5), Duration.ofSeconds(10))\r\n                .timeout(Duration.ofSeconds(30)))\r\n        .delaySubscription(Duration.ofSeconds(10))\r\n```\r\n\r\nYou can also chain a `.retry*` with a `.repeat*` if you want to re-subscribe on both success or failure.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry","title":"Conditional repeat or retry on Mono with webclient from Spring WebFlux","body":"<p>Yes, it is possible.</p>\n\n<p><code>Mono</code> has two concepts for re-subscribing (and thus, re-triggering the request)</p>\n\n<ul>\n<li><em>retry</em> = re-subscribe if the upstream completed with an exception</li>\n<li><em>repeat</em> = re-subscribe if the upstream completed successfully</li>\n</ul>\n\n<p>Each concept has multiple overloaded methods on <code>Mono</code> for different use cases.  Look for the <code>retry*</code> and <code>repeat*</code> methods.\nFor example, to retry a maximum number of times with no delay, use <code>retry(int numRetries)</code>.</p>\n\n<p>More complex use cases are supported via the <code>retryWhen</code> and <code>repeatWhen</code> methods, as shown in the following examples.</p>\n\n<h3>retryWhen</h3>\n\n<p>To retry if the mono completed with an exception a maximum of 5 times with 5 seconds between each attempt:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// From reactor-core &gt;= v3.3.4.RELEASE\nimport reactor.util.retry.Retry;\n\nthis.webClient\n        .post()\n        .uri(SERVICE_URL)\n        .body(BodyInserters.fromValue(docRequest))\n        .retrieve()\n        .bodyToMono(Document.class)\n        .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\n        .delaySubscription(Duration.ofSeconds(10))\n\n</code></pre>\n\n<p>The retry builder supports other backoff strategies (e.g. exponential) and other options to fully customize retries.</p>\n\n<p>Note the <code>retryWhen(Retry)</code> method used above was added in reactor-core v3.3.4.RELEASE, and the <code>retryWhen(Function)</code> method was deprecated.\nPrior to reactor-core v3.3.4.RELEASE, you could use the retry function builder from <a href=\"https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry\" rel=\"noreferrer\">reactor-extras</a> project to create a <code>Function</code> to pass to <code>retryWhen(Function)</code>.</p>\n\n<h3>repeatWhen</h3>\n\n<p>If you need to repeat on success, then use <code>.repeatWhen</code> or <code>.repeatWhenEmpty</code> instead of <code>.retryWhen</code> above.</p>\n\n<p>Use the repeat function builder from <a href=\"https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry\" rel=\"noreferrer\">reactor-extras</a> project to create the repeat <code>Function</code> as follows:</p>\n\n<pre><code>// From reactor-extras\nimport reactor.retry.Repeat;\n\nthis.webClient\n        .post()\n        .uri(SERVICE_URL)\n        .body(BodyInserters.fromValue(docRequest))\n        .retrieve()\n        .bodyToMono(Document.class)\n        .filter(document -&gt; !document.isEmpty())\n        .repeatWhenEmpty(Repeat.onlyIf(repeatContext -&gt; true)\n                .exponentialBackoff(Duration.ofSeconds(5), Duration.ofSeconds(10))\n                .timeout(Duration.ofSeconds(30)))\n        .delaySubscription(Duration.ofSeconds(10))\n</code></pre>\n\n<p>You can also chain a <code>.retry*</code> with a <code>.repeat*</code> if you want to re-subscribe on both success or failure.</p>\n"}],"owner":{"account_id":15845759,"reputation":568,"user_id":11433112,"display_name":"Bernado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34170,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":55931789,"answer_count":1,"score":22,"last_activity_date":1675104849,"creation_date":1556635147,"question_id":55923326,"body_markdown":"I want implement a **conditional repeat** on a `Mono` in WebFlux with `WebClient`. The situation is the following:\r\n\r\nWe have a rest service service that returns a generated document. The generation of this document is triggered from another service that gets called before this one. The document generation service needs between 10-30 seconds. \r\n\r\nWe want to check after 10 seconds if document (`Mono&lt;Document&gt;`) is generated. If so, all is fine. If not, repeat (or retry) after another 5 seconds and check if document is generated. And so on until (worst case) a timeout after 30 seconds.\r\n\r\nIs this possible? Some (pseudo) code:\r\n\r\n``` lang-java\r\nreturn this.webClient\r\n    .post()\r\n    .uri(SERVICE_URL))\r\n    .body(BodyInserters.fromObject(docRequest))\r\n    .retrieve()\r\n    .bodyToMono(Document.class)\r\n    .delaySubscription(Duration.ofSeconds(10))\r\n    .repeat5TimesWithDynamicTimeDelayUntil(!document.isEmpty())\r\n    .subscribe();\r\n```\r\n","title":"Conditional repeat or retry on Mono with webclient from Spring WebFlux","body":"<p>I want implement a <strong>conditional repeat</strong> on a <code>Mono</code> in WebFlux with <code>WebClient</code>. The situation is the following:</p>\n<p>We have a rest service service that returns a generated document. The generation of this document is triggered from another service that gets called before this one. The document generation service needs between 10-30 seconds.</p>\n<p>We want to check after 10 seconds if document (<code>Mono&lt;Document&gt;</code>) is generated. If so, all is fine. If not, repeat (or retry) after another 5 seconds and check if document is generated. And so on until (worst case) a timeout after 30 seconds.</p>\n<p>Is this possible? Some (pseudo) code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return this.webClient\n    .post()\n    .uri(SERVICE_URL))\n    .body(BodyInserters.fromObject(docRequest))\n    .retrieve()\n    .bodyToMono(Document.class)\n    .delaySubscription(Duration.ofSeconds(10))\n    .repeat5TimesWithDynamicTimeDelayUntil(!document.isEmpty())\n    .subscribe();\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":2,"creation_date":1675113119,"post_id":75288868,"comment_id":132855197,"body_markdown":"Check this https://jda.wiki/using-jda/interactions/#handling-autocomplete You&#39;ll have to implement the actual completion logic yourself.","body":"Check this <a href=\"https://jda.wiki/using-jda/interactions/#handling-autocomplete\" rel=\"nofollow noreferrer\">jda.wiki/using-jda/interactions/#handling-autocomplete</a> You&#39;ll have to implement the actual completion logic yourself."},{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1675118835,"post_id":75288868,"comment_id":132856601,"body_markdown":"Super helpful, thanks! Also the website is amazing &lt;3","body":"Super helpful, thanks! Also the website is amazing &lt;3"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675104699,"creation_date":1675104699,"question_id":75288868,"body_markdown":"I want the user to be able to auto complete the **finishDate** value with *&quot;MM/dd/yyyy HH&quot;*\r\nBut i cannot find it anywhere on how to set it up.\r\n\r\nThis is what the command looks like rn:\r\n\r\n    jda.getGuildById(guild.getId()).upsertCommand(&quot;lottery&quot;, &quot;Creates a lottery in the current or selected channel.&quot;)\r\n         .addOption(OptionType.STRING, &quot;reward&quot;, &quot;The reward for the lottey winners&quot;, true)\r\n         .addOption(OptionType.STRING, &quot;finishDate&quot;, &quot;Use format MM/dd/yyyy HH&quot;, true, true);\r\n\r\n\r\n\r\n","title":"How does autoComplete work with Options for commands?","body":"<p>I want the user to be able to auto complete the <strong>finishDate</strong> value with <em>&quot;MM/dd/yyyy HH&quot;</em>\nBut i cannot find it anywhere on how to set it up.</p>\n<p>This is what the command looks like rn:</p>\n<pre><code>jda.getGuildById(guild.getId()).upsertCommand(&quot;lottery&quot;, &quot;Creates a lottery in the current or selected channel.&quot;)\n     .addOption(OptionType.STRING, &quot;reward&quot;, &quot;The reward for the lottey winners&quot;, true)\n     .addOption(OptionType.STRING, &quot;finishDate&quot;, &quot;Use format MM/dd/yyyy HH&quot;, true, true);\n</code></pre>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1675094008,"post_id":75285498,"comment_id":132849265,"body_markdown":"What do you mean by &quot;go to the IP address in Chrome or Edge&quot;? Do you use the JavaScript websocket API?","body":"What do you mean by &quot;go to the IP address in Chrome or Edge&quot;? Do you use the JavaScript websocket API?"},{"owner":{"account_id":23669257,"reputation":62,"user_id":17696276,"display_name":"2Amateurs"},"score":0,"creation_date":1675094112,"post_id":75285498,"comment_id":132849312,"body_markdown":"@vanje No, I&#39;m just typing in the IP address from a new tab.  My goal is to be able to send over a js file initially that uses the API to handle the connection from the client side.","body":"@vanje No, I&#39;m just typing in the IP address from a new tab.  My goal is to be able to send over a js file initially that uses the API to handle the connection from the client side."}],"answers":[{"tags":[],"owner":{"account_id":15452760,"reputation":387,"user_id":11147707,"display_name":"Iziminza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675104652,"creation_date":1675103827,"answer_id":75288723,"question_id":75285498,"body_markdown":"In addition to your Java WebSocket server, you need an HTML page that connects to your server via the [JavaScript WebSocket API][1], like this:\r\n\r\n    &lt;!-- ... --&gt;\r\n    &lt;script&gt;\r\n    try {\r\n        socket = new WebSocket(host);\r\n        socket.onopen = function(openEvent) {\r\n            // ...\r\n        };\r\n\r\n        socket.onmessage = function (messageEvent) {\r\n            if (messageEvent.data instanceof Blob) {\r\n                // ...\r\n            } else {\r\n                alert(messageEvent.data);\r\n            }\r\n        };\r\n\r\n        socket.onerror = function (errorEvent) {\r\n            // ...\r\n        };\r\n\r\n        socket.onclose = function (errorEvent) {\r\n            // ...\r\n        };\r\n    } catch (exception) {\r\n        if (window.console) console.log(exception);\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;!-- ... --&gt;\r\n\r\nThen, you open that HTML page in your browser and it connects to your WebSocket server.\r\n\r\nSources: [here][2] or further down in [this answer to another question][3].\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\r\n  [2]: https://iditect.com/article/websocket-for-java.html\r\n  [3]: https://stackoverflow.com/a/57924245/11147707","title":"Java Websocket Client Not Including Key in Response","body":"<p>In addition to your Java WebSocket server, you need an HTML page that connects to your server via the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\" rel=\"nofollow noreferrer\">JavaScript WebSocket API</a>, like this:</p>\n<pre><code>&lt;!-- ... --&gt;\n&lt;script&gt;\ntry {\n    socket = new WebSocket(host);\n    socket.onopen = function(openEvent) {\n        // ...\n    };\n\n    socket.onmessage = function (messageEvent) {\n        if (messageEvent.data instanceof Blob) {\n            // ...\n        } else {\n            alert(messageEvent.data);\n        }\n    };\n\n    socket.onerror = function (errorEvent) {\n        // ...\n    };\n\n    socket.onclose = function (errorEvent) {\n        // ...\n    };\n} catch (exception) {\n    if (window.console) console.log(exception);\n}\n&lt;/script&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p>Then, you open that HTML page in your browser and it connects to your WebSocket server.</p>\n<p>Sources: <a href=\"https://iditect.com/article/websocket-for-java.html\" rel=\"nofollow noreferrer\">here</a> or further down in <a href=\"https://stackoverflow.com/a/57924245/11147707\">this answer to another question</a>.</p>\n"}],"owner":{"account_id":23669257,"reputation":62,"user_id":17696276,"display_name":"2Amateurs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75288723,"answer_count":1,"score":0,"last_activity_date":1675104652,"creation_date":1675087339,"question_id":75285498,"body_markdown":"I am trying to make a websocket server in Java.  When I start the server and go to the IP address in Chrome or Edge, the browser sends this to the server: \r\n\r\n~~~\r\nGET / HTTP/1.1\r\nHost: 127.0.0.1:5801\r\nConnection: keep-alive\r\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\nDNT: 1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.70\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nSec-Fetch-Site: none\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-User: ?1\r\nSec-Fetch-Dest: document\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en-US,en;q=0.9\r\n~~~\r\n\r\nIt&#39;s not including ```Sec-Websocket-Key```, which I need to upgrade the connection.  Is there a way to request a websocket connection from the server?","title":"Java Websocket Client Not Including Key in Response","body":"<p>I am trying to make a websocket server in Java.  When I start the server and go to the IP address in Chrome or Edge, the browser sends this to the server:</p>\n<pre><code>GET / HTTP/1.1\nHost: 127.0.0.1:5801\nConnection: keep-alive\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nDNT: 1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.70\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\nSec-Fetch-Site: none\nSec-Fetch-Mode: navigate\nSec-Fetch-User: ?1\nSec-Fetch-Dest: document\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-US,en;q=0.9\n</code></pre>\n<p>It's not including <code>Sec-Websocket-Key</code>, which I need to upgrade the connection.  Is there a way to request a websocket connection from the server?</p>\n"},{"tags":["java","android","date","formatting"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100163,"post_id":75288076,"comment_id":132851467,"body_markdown":"Did you try `DateFormat.FULL`?  The `LONG` format doesn&#39;t generally include the day of the week.","body":"Did you try <code>DateFormat.FULL</code>?  The <code>LONG</code> format doesn&#39;t generally include the day of the week."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100584,"post_id":75288076,"comment_id":132851593,"body_markdown":"Consider not using `DateFormat` and other date and time classes from the mid-1990s. `DateFormat` is notoriously troublesome, and all those classes are long outdated. See if you can use [desugaring](https://developer.android.com/studio/write/java8-support) to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). You wan classes `LocalDate`, `DateTimeFormatter` and `FormatStyle`.","body":"Consider not using <code>DateFormat</code> and other date and time classes from the mid-1990s. <code>DateFormat</code> is notoriously troublesome, and all those classes are long outdated. See if you can use <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a> to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. You wan classes <code>LocalDate</code>, <code>DateTimeFormatter</code> and <code>FormatStyle</code>."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1675100632,"post_id":75288076,"comment_id":132851608,"body_markdown":"Your problem is in architecture.  Nothing should be sending the date as a text string like that.  It should be sending it as an integer (from a predefined time, generally the epoch) or it should be sending it in a predefined format without words, and formatting it on the client side when displayed.","body":"Your problem is in architecture.  Nothing should be sending the date as a text string like that.  It should be sending it as an integer (from a predefined time, generally the epoch) or it should be sending it in a predefined format without words, and formatting it on the client side when displayed."},{"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"score":0,"creation_date":1675100641,"post_id":75288076,"comment_id":132851612,"body_markdown":"@DawoodibnKareem I just tried using FULL instead of LONG, and it appears to work for English and Spanish so far - I&#39;m going to try implementing it at this point, but it seems like changing it to DateFormat.FULL worked.","body":"@DawoodibnKareem I just tried using FULL instead of LONG, and it appears to work for English and Spanish so far - I&#39;m going to try implementing it at this point, but it seems like changing it to DateFormat.FULL worked."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100710,"post_id":75288076,"comment_id":132851631,"body_markdown":"@OleV.V. Are you sure the java.time classes include something equivalent to `DateFormat.FULL` or `DateFormat.LONG`?  I&#39;ve certainly never seen anything that would work for this.","body":"@OleV.V. Are you sure the java.time classes include something equivalent to <code>DateFormat.FULL</code> or <code>DateFormat.LONG</code>?  I&#39;ve certainly never seen anything that would work for this."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100719,"post_id":75288076,"comment_id":132851633,"body_markdown":"@GabeSechan is very, very correct. Have the sender send the date in ISO 8601 standard[](https://en.wikipedia.org/wiki/ISO_8601) format. It goes like `2023-01-30`.","body":"@GabeSechan is very, very correct. Have the sender send the date in ISO 8601 standard[](<a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO_8601</a>) format. It goes like <code>2023-01-30</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100788,"post_id":75288076,"comment_id":132851658,"body_markdown":"Yes, @DawoodibnKareem, [I am in no doubt whatsoever](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/FormatStyle.html).","body":"Yes, @DawoodibnKareem, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/FormatStyle.html\" rel=\"nofollow noreferrer\">I am in no doubt whatsoever</a>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100830,"post_id":75288076,"comment_id":132851677,"body_markdown":"Thank you, @OleV.V., I had never seen that Enum before.","body":"Thank you, @OleV.V., I had never seen that Enum before."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100915,"post_id":75288076,"comment_id":132851705,"body_markdown":"For example `LocalDate.parse(&quot;lundi 30 janvier 2023&quot;, DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLocale(Locale.FRENCH))` yields `2023-01-30`. Also @DawoodibnKareem","body":"For example <code>LocalDate.parse(&quot;lundi 30 janvier 2023&quot;, DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLoca&zwnj;&#8203;le(Locale.FRENCH))</code> yields <code>2023-01-30</code>. Also @DawoodibnKareem"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675101628,"post_id":75288076,"comment_id":132851920,"body_markdown":"A further reason for wanting the `LocalDate` class that you also mention in the question is that counting days is so straightforward: `ChronoUnit.DAYS.between(today, dateFromUser)`.","body":"A further reason for wanting the <code>LocalDate</code> class that you also mention in the question is that counting days is so straightforward: <code>ChronoUnit.DAYS.between(today, dateFromUser)</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675109519,"post_id":75288076,"comment_id":132854205,"body_markdown":"Usage: I think you mean *parse*, that is, convert from string to a date-time object, not *format*, which would be the opposite conversion. I might even suspect that Wijdane KHATTAT misunderstood when answering because you said the opposite of what you meant.","body":"Usage: I think you mean <i>parse</i>, that is, convert from string to a date-time object, not <i>format</i>, which would be the opposite conversion. I might even suspect that Wijdane KHATTAT misunderstood when answering because you said the opposite of what you meant."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675115733,"post_id":75288076,"comment_id":132855885,"body_markdown":"FYI, you should not be exchanging date-time values as localized text. Use the standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats for textual data exchange and data storage.","body":"FYI, you should not be exchanging date-time values as localized text. Use the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for textual data exchange and data storage."}],"answers":[{"tags":[],"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675104414,"creation_date":1675104414,"answer_id":75288822,"question_id":75288076,"body_markdown":"You must to configure your dates patterns for each language (Locale) =&gt; This output is exactly what you want, try to adapt it with your function need :\r\n\r\n    public static void main(String[] args) {\r\n            Locale enLocale = Locale.UK;\r\n            String datePatternForEn = &quot;EEEE&#39;, &#39;MMMM&#39;, &#39;dd yyyy&quot;;\r\n            Locale frLocale = Locale.FRANCE;\r\n            String datePatternForFr = &quot;EEEE dd MMMM yyyy&quot;;\r\n            Locale spLocale = new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n            String datePatternForSp = &quot;EEEE&#39;,&#39; dd&#39; de &#39;MMMM&#39; de &#39;yyyy&quot;;\r\n            DateTimeFormatter englishDateFormat = DateTimeFormatter.ofPattern(datePatternForEn, enLocale);\r\n            DateTimeFormatter frenchDateFormat = DateTimeFormatter.ofPattern(datePatternForFr, frLocale);\r\n            DateTimeFormatter spanishDateFormat = DateTimeFormatter.ofPattern(datePatternForSp, spLocale);\r\n            System.out.println(LocalDate.now().format(englishDateFormat));\r\n            System.out.println(LocalDate.now().format(frenchDateFormat));\r\n            System.out.println(LocalDate.now().format(spanishDateFormat));\r\n        }","title":"How would I format dates of different languages to get the difference between the current day and a day in the future?","body":"<p>You must to configure your dates patterns for each language (Locale) =&gt; This output is exactly what you want, try to adapt it with your function need :</p>\n<pre><code>public static void main(String[] args) {\n        Locale enLocale = Locale.UK;\n        String datePatternForEn = &quot;EEEE', 'MMMM', 'dd yyyy&quot;;\n        Locale frLocale = Locale.FRANCE;\n        String datePatternForFr = &quot;EEEE dd MMMM yyyy&quot;;\n        Locale spLocale = new Locale(&quot;es&quot;, &quot;ES&quot;);\n        String datePatternForSp = &quot;EEEE',' dd' de 'MMMM' de 'yyyy&quot;;\n        DateTimeFormatter englishDateFormat = DateTimeFormatter.ofPattern(datePatternForEn, enLocale);\n        DateTimeFormatter frenchDateFormat = DateTimeFormatter.ofPattern(datePatternForFr, frLocale);\n        DateTimeFormatter spanishDateFormat = DateTimeFormatter.ofPattern(datePatternForSp, spLocale);\n        System.out.println(LocalDate.now().format(englishDateFormat));\n        System.out.println(LocalDate.now().format(frenchDateFormat));\n        System.out.println(LocalDate.now().format(spanishDateFormat));\n    }\n</code></pre>\n"}],"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675104414,"creation_date":1675099955,"question_id":75288076,"body_markdown":"So the goal is to be able to get the current date (no problem there) and compare it to a date coming in, which can be either the current date or a date in the future. Not only that, but because of how other languages write out or structure dates, the date string that comes in can change format-wise depending on the language.\r\n\r\nIf the device is set to English, the string comes in like so:\r\n\r\n**&quot;Monday, January 30, 2023&quot;**\r\n\r\nBut if the device is set to French, the string looks like this instead:\r\n\r\n**&quot;lundi 30 janvier 2023&quot;**\r\n\r\n... and Spanish like this:\r\n\r\n**&quot;lunes, 30 de enero de 2023&quot;**\r\n\r\n... and so on. Italian is slightly different, and I&#39;ve also tried German, which is also slightly different.\r\n\r\nI did try DateFormat with DateFormat.LONG and Locale.getDefault() as the parameters (so that it would always use the Locale the device is set to and will always get the full date) but it throws an &quot;unparsable date&quot; error for every language, even the English string.\r\n\r\nHow would I take any of the given strings above and format them in a way that I can compare the date to the current date (a value like LocalDate.now())? Is there an overarching way to do so across languages, or do I need to create formats for all of these? The purpose is to see how far out the date asked for is from the current date to adjust what is visible in my app (done based on days - is the asked for date 3 days out from the current date? 4 days? 5?). \r\n\r\nThanks in advance for any and all help and insight!","title":"How would I format dates of different languages to get the difference between the current day and a day in the future?","body":"<p>So the goal is to be able to get the current date (no problem there) and compare it to a date coming in, which can be either the current date or a date in the future. Not only that, but because of how other languages write out or structure dates, the date string that comes in can change format-wise depending on the language.</p>\n<p>If the device is set to English, the string comes in like so:</p>\n<p><strong>&quot;Monday, January 30, 2023&quot;</strong></p>\n<p>But if the device is set to French, the string looks like this instead:</p>\n<p><strong>&quot;lundi 30 janvier 2023&quot;</strong></p>\n<p>... and Spanish like this:</p>\n<p><strong>&quot;lunes, 30 de enero de 2023&quot;</strong></p>\n<p>... and so on. Italian is slightly different, and I've also tried German, which is also slightly different.</p>\n<p>I did try DateFormat with DateFormat.LONG and Locale.getDefault() as the parameters (so that it would always use the Locale the device is set to and will always get the full date) but it throws an &quot;unparsable date&quot; error for every language, even the English string.</p>\n<p>How would I take any of the given strings above and format them in a way that I can compare the date to the current date (a value like LocalDate.now())? Is there an overarching way to do so across languages, or do I need to create formats for all of these? The purpose is to see how far out the date asked for is from the current date to adjust what is visible in my app (done based on days - is the asked for date 3 days out from the current date? 4 days? 5?).</p>\n<p>Thanks in advance for any and all help and insight!</p>\n"},{"tags":["java","discord","illegalstateexception","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675103981,"creation_date":1675103981,"answer_id":75288749,"question_id":75172314,"body_markdown":" 1. The **channel** is not declared properly. It does not have a type... In this case you should use either `TextChannel channel = (whatever)` or `Channel channel = (whatever)`\r\n 2. You get the error message because **channel** is not within the scope of\r\n `onMessageReceived()` You need to learn about scopes.\r\n 3. The `onReady()` will have no use in this case. Just as i mentioned before... Because of scopes.\r\n\r\nHere is what your code should look like:\r\n\r\n        @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n        if(event.isFromType(ChannelType.PRIVATE)){\r\n            TextChannel textChannel = event.getJDA().getGuildById(&quot;1046510699809079448&quot;).getTextChannelById(&quot;1046510701184831540&quot;);\r\n            textChannel.sendMessage(event.getMessage().getContentRaw()).queue();\r\n        }\r\n\r\nYou need to get the **TextChannel** from a **Guild** by using their ID&#39;s.\r\nThen you can get the message that was sent to the bot, by using **event.getMessage()** and getting its content via **.getContentRaw()**\r\nand send it using **textChannel.sendMessage().queue()**","title":"Transfer messages from direct message to specific channel using Java Discord API","body":"<ol>\n<li>The <strong>channel</strong> is not declared properly. It does not have a type... In this case you should use either <code>TextChannel channel = (whatever)</code> or <code>Channel channel = (whatever)</code></li>\n<li>You get the error message because <strong>channel</strong> is not within the scope of\n<code>onMessageReceived()</code> You need to learn about scopes.</li>\n<li>The <code>onReady()</code> will have no use in this case. Just as i mentioned before... Because of scopes.</li>\n</ol>\n<p>Here is what your code should look like:</p>\n<pre><code>    @Override\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\n    if(event.isFromType(ChannelType.PRIVATE)){\n        TextChannel textChannel = event.getJDA().getGuildById(&quot;1046510699809079448&quot;).getTextChannelById(&quot;1046510701184831540&quot;);\n        textChannel.sendMessage(event.getMessage().getContentRaw()).queue();\n    }\n</code></pre>\n<p>You need to get the <strong>TextChannel</strong> from a <strong>Guild</strong> by using their ID's.\nThen you can get the message that was sent to the bot, by using <strong>event.getMessage()</strong> and getting its content via <strong>.getContentRaw()</strong>\nand send it using <strong>textChannel.sendMessage().queue()</strong></p>\n"}],"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675103981,"creation_date":1674131676,"question_id":75172314,"body_markdown":"I want to make my bot in a server channel to say whatever an user dm it.\r\n```java\r\npublic class PrivateMessage extends ListenerAdapter\r\n{\r\n    private TextChannel channel;\r\n\r\n    @Override\r\n    public void onReady(@NotNull ReadyEvent event)\r\n    {\r\n        channel = event.getJDA().getChannelById(TextChannel.class, 962688156942073887L);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event)\r\n    {\r\n        if (event.isFromType(ChannelType.PRIVATE))\r\n            channel.sendMessage(MessageCreateData.fromMessage(event.getMessage())).queue();\r\n    }\r\n}\r\n```\r\nAt first it was working properly, until I dm it an image.\r\n```\r\njava.lang.IllegalStateException: Cannot build an empty message. You need at least one of content, embeds, components, or files\r\n```\r\nHow can I fix this?","title":"Transfer messages from direct message to specific channel using Java Discord API","body":"<p>I want to make my bot in a server channel to say whatever an user dm it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrivateMessage extends ListenerAdapter\n{\n    private TextChannel channel;\n\n    @Override\n    public void onReady(@NotNull ReadyEvent event)\n    {\n        channel = event.getJDA().getChannelById(TextChannel.class, 962688156942073887L);\n    }\n\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent event)\n    {\n        if (event.isFromType(ChannelType.PRIVATE))\n            channel.sendMessage(MessageCreateData.fromMessage(event.getMessage())).queue();\n    }\n}\n</code></pre>\n<p>At first it was working properly, until I dm it an image.</p>\n<pre><code>java.lang.IllegalStateException: Cannot build an empty message. You need at least one of content, embeds, components, or files\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","android","seekbar"],"comments":[{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1558626230,"post_id":45329174,"comment_id":99171730,"body_markdown":"To change in layout see https://stackoverflow.com/questions/16163215/android-styling-seek-bar.","body":"To change in layout see <a href=\"https://stackoverflow.com/questions/16163215/android-styling-seek-bar\" title=\"android styling seek bar\">stackoverflow.com/questions/16163215/android-styling-seek-ba&zwnj;&#8203;r</a>."}],"answers":[{"tags":[],"owner":{"account_id":8700106,"reputation":1366,"user_id":6510301,"accept_rate":78,"display_name":"Anmol317"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501077923,"creation_date":1501077861,"answer_id":45329270,"question_id":45329174,"body_markdown":"You need to call you seekbar like this\r\n\r\n    SeekBar newSeek = new SeekBar(this, null, R.style.YOUR_NEW_STYLE);\r\n\r\nwhere `YOUR_NEW_STYLE` will define the colors of the `Seekbar` that you want.","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You need to call you seekbar like this</p>\n\n<pre><code>SeekBar newSeek = new SeekBar(this, null, R.style.YOUR_NEW_STYLE);\n</code></pre>\n\n<p>where <code>YOUR_NEW_STYLE</code> will define the colors of the <code>Seekbar</code> that you want.</p>\n"},{"tags":[],"owner":{"account_id":5062380,"reputation":5275,"user_id":4063532,"accept_rate":75,"display_name":"Oussema Aroua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501077982,"creation_date":1501077982,"answer_id":45329332,"question_id":45329174,"body_markdown":"try this :\r\n\r\n    seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.mcolor), PorterDuff.Mode.MULTIPLY);\r\n\r\n","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>try this :</p>\n\n<pre><code>seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.mcolor), PorterDuff.Mode.MULTIPLY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9354171,"reputation":683,"user_id":6942800,"display_name":"Przemyslaw Jablonski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501078123,"creation_date":1501078123,"answer_id":45329393,"question_id":45329174,"body_markdown":"        //seekBar.setBackgroundColor(Color.DKGRAY);\r\n        //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\r\nThere are few Views in Android SDK (ProgressBar is another example) in which you have to change colour using graphical color filters, instead of changing Background / Foreground source colour.\r\n\r\nFind `.setColorFilter()` method, supply your source colour into it with some PorterDuff filter, like `.Mode.MULTIPLY` (depending on what filter mode you like best) and there you go.\r\n\r\nExample:\r\n\r\n    seekBar.setColorFilter(new PorterDuffColorFilter(srcColor,PorterDuff.Mode.MULTIPLY));","title":"how to change SeekBar color in android? (Programmatically)","body":"<pre><code>    //seekBar.setBackgroundColor(Color.DKGRAY);\n    //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\n</code></pre>\n\n<p>There are few Views in Android SDK (ProgressBar is another example) in which you have to change colour using graphical color filters, instead of changing Background / Foreground source colour.</p>\n\n<p>Find <code>.setColorFilter()</code> method, supply your source colour into it with some PorterDuff filter, like <code>.Mode.MULTIPLY</code> (depending on what filter mode you like best) and there you go.</p>\n\n<p>Example:</p>\n\n<pre><code>seekBar.setColorFilter(new PorterDuffColorFilter(srcColor,PorterDuff.Mode.MULTIPLY));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1501081821,"creation_date":1501078208,"answer_id":45329427,"question_id":45329174,"body_markdown":"To change the color of the `Seekbar` thumb, create a new style in `style.xml`\r\n\r\n    &lt;style name=&quot;SeekBarColor&quot;\r\n      parent=&quot;Widget.AppCompat.SeekBar&quot;&gt; \r\n      &lt;item name=&quot;colorAccent&quot;&gt;@color/your_color&lt;/item&gt; \r\n    &lt;/style&gt;\r\n\r\nFinally in the layout:\r\n\r\n    &lt;SeekBar\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:theme=&quot;@style/SeekBarColor&quot; /&gt;\r\n\r\nTo change the `Seekbar` progress color, use this in Java Class.\r\n\r\n    seekBar.getProgressDrawable().setColorFilter(&quot;yourcolor&quot;, PorterDuff.Mode.MULTIPLY);\r\n\r\nBoth these will work for API&gt;16.\r\n\r\n**Edit**\r\n\r\nTo change SeekBar thumb color by Java code.\r\n  \r\n     seekBar.getProgressDrawable().setColorFilter(getResources().getCo‌​lor(R.color.your_color‌​), PorterDuff.Mode.SRC_ATOP);\r\n ","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>To change the color of the <code>Seekbar</code> thumb, create a new style in <code>style.xml</code></p>\n\n<pre><code>&lt;style name=\"SeekBarColor\"\n  parent=\"Widget.AppCompat.SeekBar\"&gt; \n  &lt;item name=\"colorAccent\"&gt;@color/your_color&lt;/item&gt; \n&lt;/style&gt;\n</code></pre>\n\n<p>Finally in the layout:</p>\n\n<pre><code>&lt;SeekBar\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:theme=\"@style/SeekBarColor\" /&gt;\n</code></pre>\n\n<p>To change the <code>Seekbar</code> progress color, use this in Java Class.</p>\n\n<pre><code>seekBar.getProgressDrawable().setColorFilter(\"yourcolor\", PorterDuff.Mode.MULTIPLY);\n</code></pre>\n\n<p>Both these will work for API>16.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>To change SeekBar thumb color by Java code.</p>\n\n<pre><code> seekBar.getProgressDrawable().setColorFilter(getResources().getCo‌​lor(R.color.your_color‌​), PorterDuff.Mode.SRC_ATOP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13321778,"reputation":71,"user_id":9616158,"display_name":"Georges daou"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1523212394,"creation_date":1523212394,"answer_id":49721343,"question_id":45329174,"body_markdown":"While using a style is a good idea, it does not provide much flexibility specially if you want to assign the colors programmatically I suggest:\r\n\r\n \r\n   `//for the progress \r\nseekBar.getProgressDrawable().setColorFilter(mThemeColor,PorterDuff.Mode.SRC_ATOP);\r\n//for the thumb handle\r\nseekBar.getThumb().setColorFilter(mThemeColor, PorterDuff.Mode.SRC_ATOP);`","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>While using a style is a good idea, it does not provide much flexibility specially if you want to assign the colors programmatically I suggest:</p>\n\n<p><code>//for the progress \nseekBar.getProgressDrawable().setColorFilter(mThemeColor,PorterDuff.Mode.SRC_ATOP);\n//for the thumb handle\nseekBar.getThumb().setColorFilter(mThemeColor, PorterDuff.Mode.SRC_ATOP);</code></p>\n"},{"tags":[],"owner":{"account_id":2757379,"reputation":557,"user_id":4569915,"display_name":"twenk11k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533367365,"creation_date":1533367365,"answer_id":51683448,"question_id":45329174,"body_markdown":"You can change seekbar thumb and progress colors for programmatically like this:\r\n\r\n       seekBar.getProgressDrawable().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\r\n       seekBar.getThumb().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\r\n      ","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You can change seekbar thumb and progress colors for programmatically like this:</p>\n\n<pre><code>   seekBar.getProgressDrawable().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\n   seekBar.getThumb().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8684774,"reputation":2195,"user_id":6499555,"accept_rate":50,"display_name":"Sachin Varma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546077618,"creation_date":1546077618,"answer_id":53968509,"question_id":45329174,"body_markdown":"You can easily change it via code,\r\n\r\nFor example:\r\n\r\n    seekbar.setProgressTintList(ColorStateList.valueOf(Color.parseColor(#000000)));\r\n\r\nor\r\n\r\n    seekbar.setProgressTintList(ColorStateList.valueOf(Color.RED));\r\n\r\nHoping that it will be helpfull for someone in future.","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You can easily change it via code,</p>\n\n<p>For example:</p>\n\n<pre><code>seekbar.setProgressTintList(ColorStateList.valueOf(Color.parseColor(#000000)));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>seekbar.setProgressTintList(ColorStateList.valueOf(Color.RED));\n</code></pre>\n\n<p>Hoping that it will be helpfull for someone in future.</p>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573732940,"creation_date":1573732940,"answer_id":58856347,"question_id":45329174,"body_markdown":"Just a little more peachy answer\r\n\r\n    public static void setSeekBarColor(SeekBar seekBar, int color) {\r\n        seekBar.getProgressDrawable().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\r\n        seekBar.getThumb().setColorFilter(color, PorterDuff.Mode.SRC_ATOP);\r\n    }\r\n","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>Just a little more peachy answer</p>\n\n<pre><code>public static void setSeekBarColor(SeekBar seekBar, int color) {\n    seekBar.getProgressDrawable().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\n    seekBar.getThumb().setColorFilter(color, PorterDuff.Mode.SRC_ATOP);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2559530,"reputation":1322,"user_id":2220839,"accept_rate":33,"display_name":"moyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675103417,"creation_date":1675103417,"answer_id":75288654,"question_id":45329174,"body_markdown":"Kotlin version, and without using deprecated methods:\r\n````\r\nval colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(\r\n    Resources.getSystem().getColor(R.color.your_color, null),\r\n    BlendModeCompat.SRC_ATOP\r\n)\r\n\r\n// SeekBar progress color\r\nseekBar.progressDrawable.colorFilter = colorFilter\r\n// SeekBar thumb handle color\r\nseekBar.thumb.colorFilter = colorFilter\r\n````","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>Kotlin version, and without using deprecated methods:</p>\n<pre><code>val colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(\n    Resources.getSystem().getColor(R.color.your_color, null),\n    BlendModeCompat.SRC_ATOP\n)\n\n// SeekBar progress color\nseekBar.progressDrawable.colorFilter = colorFilter\n// SeekBar thumb handle color\nseekBar.thumb.colorFilter = colorFilter\n</code></pre>\n"}],"owner":{"account_id":4017930,"reputation":277,"user_id":3309334,"accept_rate":62,"display_name":"Alpoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22937,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":45329427,"answer_count":9,"score":12,"last_activity_date":1675103417,"creation_date":1501077651,"question_id":45329174,"body_markdown":"I made an equalizer to go with my app but I am not sure how I can change the seekbar&#39;s thumb and progress color. It seems to be pink by default and that doesn&#39;t fit my app&#39;s aesthetics.\r\n\r\n\r\n     SeekBar seekBar = new SeekBar(this);\r\n\r\n            seekBar.setId(i);\r\n\r\n            seekBar.setLayoutParams(layoutParams);\r\n            seekBar.setMax(upperEqualizerBandLevel - lowerEqualizerBandLevel);\r\n\r\n            seekBar.setProgress(mEqualizer.getBandLevel(equalizerBandIndex));\r\n            //seekBar.setBackgroundColor(Color.DKGRAY);\r\n            //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>I made an equalizer to go with my app but I am not sure how I can change the seekbar's thumb and progress color. It seems to be pink by default and that doesn't fit my app's aesthetics.</p>\n\n<pre><code> SeekBar seekBar = new SeekBar(this);\n\n        seekBar.setId(i);\n\n        seekBar.setLayoutParams(layoutParams);\n        seekBar.setMax(upperEqualizerBandLevel - lowerEqualizerBandLevel);\n\n        seekBar.setProgress(mEqualizer.getBandLevel(equalizerBandIndex));\n        //seekBar.setBackgroundColor(Color.DKGRAY);\n        //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\n</code></pre>\n"},{"tags":["java","spring-boot","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675103068,"creation_date":1675103068,"answer_id":75288604,"question_id":75286211,"body_markdown":"Add the following to `application.properties`:\r\n\r\n    logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level ${PID} --- [${spring.application.name}]  [%thread] %logger{36} : %msg%n\r\n    spring.application.name=@project.name@\r\n\r\nSample output:\r\n\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : Starting QualifierApplication using Java 11.0.15 on NB-3HP3HG3 with PID 5340 (C:\\workspaces\\stackoverflow_workspace\\qualifier\\target\\classes started by WilliamsJ in C:\\workspaces\\stackoverflow_workspace\\qualifier)\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] o.s.b.w.e.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\r\n\r\n","title":"Issue arranging SpringBoot console output log","body":"<p>Add the following to <code>application.properties</code>:</p>\n<pre><code>logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level ${PID} --- [${spring.application.name}]  [%thread] %logger{36} : %msg%n\nspring.application.name=@project.name@\n</code></pre>\n<p>Sample output:</p>\n<pre><code>2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : Starting QualifierApplication using Java 11.0.15 on NB-3HP3HG3 with PID 5340 (C:\\workspaces\\stackoverflow_workspace\\qualifier\\target\\classes started by WilliamsJ in C:\\workspaces\\stackoverflow_workspace\\qualifier)\n2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] o.s.b.w.e.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75288604,"answer_count":1,"score":0,"last_activity_date":1675103068,"creation_date":1675090912,"question_id":75286211,"body_markdown":"Small question on how to re arrange a SpringBoot application output log please.\r\n\r\nIt is well known, if no configuration change, the logs seen in **console** for a SpringBoot app looks like this:\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00  INFO 5216 --- [           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 DEBUG 5216 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n\r\n```\r\n\r\nIt is a timestamp -&gt; log level -&gt; PID -&gt; --- -&gt; thread -&gt; the class\r\n\r\nI just want to rearrange the order to something like:\r\n\r\ntimestamp -&gt; PID -&gt; log level -&gt; --- -&gt; applicationName -&gt; thread -&gt; the class\r\n\r\nSomething like:\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n\r\n```\r\n\r\nWhat I tried:\r\n\r\nI saw there is a property for that, and I tried:\r\n\r\n```logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]```\r\n\r\nHowever, this is not giving the correct output.\r\n\r\nMay I ask what is the pattern in order to have this please?\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n```\r\n\r\nThank you","title":"Issue arranging SpringBoot console output log","body":"<p>Small question on how to re arrange a SpringBoot application output log please.</p>\n<p>It is well known, if no configuration change, the logs seen in <strong>console</strong> for a SpringBoot app looks like this:</p>\n<pre><code>2023-01-30T21:21:06.076+08:00  INFO 5216 --- [           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 DEBUG 5216 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n\n</code></pre>\n<p>It is a timestamp -&gt; log level -&gt; PID -&gt; --- -&gt; thread -&gt; the class</p>\n<p>I just want to rearrange the order to something like:</p>\n<p>timestamp -&gt; PID -&gt; log level -&gt; --- -&gt; applicationName -&gt; thread -&gt; the class</p>\n<p>Something like:</p>\n<pre><code>2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n\n</code></pre>\n<p>What I tried:</p>\n<p>I saw there is a property for that, and I tried:</p>\n<p><code>logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]</code></p>\n<p>However, this is not giving the correct output.</p>\n<p>May I ask what is the pattern in order to have this please?</p>\n<pre><code>2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","multidimensional-array","combinatorics"],"comments":[{"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"score":1,"creation_date":1674925834,"post_id":75263504,"comment_id":132819804,"body_markdown":"You forgot to mention the constraint of having only disjoint subsets made of consecutive elements from the input set. Or, you are missing partitions like `[[1, 3], [2, 4], [5, 6]]`.","body":"You forgot to mention the constraint of having only disjoint subsets made of consecutive elements from the input set. Or, you are missing partitions like <code>[[1, 3], [2, 4], [5, 6]]</code>."},{"owner":{"account_id":14859215,"reputation":39,"user_id":10730661,"display_name":"bha_1999"},"score":0,"creation_date":1675102884,"post_id":75263504,"comment_id":132852300,"body_markdown":"Yea, I mentioned subArrays, not subsets. I thought it would be obvious, but I&#39;ll update the question just to be clear, thanks","body":"Yea, I mentioned subArrays, not subsets. I thought it would be obvious, but I&#39;ll update the question just to be clear, thanks"}],"owner":{"account_id":14859215,"reputation":39,"user_id":10730661,"display_name":"bha_1999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675103036,"creation_date":1674854718,"question_id":75263504,"body_markdown":"It&#39;s a combinatorics problem. We can partition the array at max n-1 times and out of it, we have to choose k-1 partitions.\r\n\r\nEx: arr[] = {1, 2, 3, 4, 5, 6}\r\nk = 3, n = 6.\r\n\r\nTotal possibilities = ``` (n-1)C(k-1)``` 5C2 = 10.\r\n\r\nExpected Output : (3-dimensional array)\r\n---------------------------------------\r\n```\r\n[\r\n[[1], [2], [3, 4, 5, 6]], \r\n[[1], [2, 3], [4, 5, 6]], \r\n[[1], [2, 3, 4], [5, 6]], \r\n[[1], [2, 3, 4, 5], [6]],\r\n[[1, 2], [3], [4, 5, 6]], \r\n[[1, 2], [3, 4], [5, 6]], \r\n[[1, 2], [3, 4, 5], [6]], \r\n[[1, 2, 3], [4, 5], [6]],\r\n[[1, 2, 3, 4], [5], [6]],\r\n]\r\n```\r\nConstraints: \r\n1) Subarrays should have at least 1 element. \r\n2) SubArrays should only consist of consecutive elements. \r\nFor ex: [[1, 3], [2, 4], [5, 6]] This is not valid.\r\n\r\nSo far, I have tried a recursive method but it yields wrong results. I can&#39;t wrap my head around how to correct it. I need an answer explaining how to approach this problem properly and the intuition behind it first and then correct my code and point out where I went wrong.\r\n\r\nMy code:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        int n = 6;\r\n        int k = 3;\r\n        int[] arr = new int[]{1,2,3,4,5,6};\r\n        ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n        ArrayList&lt;Integer&gt; eachSubArray = new ArrayList&lt;Integer&gt;();\r\n        int index = 0;\r\n        \r\n        generateCombinations(arr, k, index, eachSubArray, eachComb, result);\r\n        \r\n        for (ArrayList&lt;ArrayList&lt;Integer&gt;&gt; each : result) {\r\n        \tfor(ArrayList&lt;Integer&gt; eachh: each) {\r\n        \t\tSystem.out.println(eachh);\r\n        \t}\r\n        \tSystem.out.println(&quot;-------------------------------&quot;);\r\n        }\r\n    }\r\n\r\n\tprivate static void generateCombinations(int[] arr, int k, int index, ArrayList&lt;Integer&gt; eachSubArray,\r\n\t\t\tArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb, ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result) {\r\n\t\t\r\n\r\n\t\tif(k==0 || index==arr.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tif(!eachSubArray.isEmpty()) {\r\n\t\t\teachComb.add(new ArrayList&lt;&gt;(eachSubArray));\r\n\t\t}\r\n\t\t\r\n\t\tif(k==1) {\r\n\t\t\tArrayList&lt;Integer&gt; last = new ArrayList&lt;Integer&gt;();\r\n\t\t\tfor(int i=index; i&lt;arr.length; i++) {\r\n\t\t\t\tlast.add(arr[i]);\r\n\t\t\t}\r\n\t\t\tif(!last.isEmpty()) {\r\n\t\t\t\teachComb.add((last));\r\n\t\t\t\tresult.add(new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(eachComb));\r\n\t\t\t\teachComb.remove(eachComb.size()-1);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\teachSubArray.clear();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(int i=index; i&lt;arr.length; i++) {\r\n\t\t\teachSubArray.add((arr[i]));\r\n\t\t\tgenerateCombinations(arr, k-1, i+1, eachSubArray, eachComb, result);\r\n\t\t\tif(!eachComb.isEmpty()) {\r\n\t\t\t\teachComb.remove(eachComb.size()-1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n```","title":"Generate all possible combinations of an array of size n having exactly k subarrays","body":"<p>It's a combinatorics problem. We can partition the array at max n-1 times and out of it, we have to choose k-1 partitions.</p>\n<p>Ex: arr[] = {1, 2, 3, 4, 5, 6}\nk = 3, n = 6.</p>\n<p>Total possibilities = <code> (n-1)C(k-1)</code> 5C2 = 10.</p>\n<h2>Expected Output : (3-dimensional array)</h2>\n<pre><code>[\n[[1], [2], [3, 4, 5, 6]], \n[[1], [2, 3], [4, 5, 6]], \n[[1], [2, 3, 4], [5, 6]], \n[[1], [2, 3, 4, 5], [6]],\n[[1, 2], [3], [4, 5, 6]], \n[[1, 2], [3, 4], [5, 6]], \n[[1, 2], [3, 4, 5], [6]], \n[[1, 2, 3], [4, 5], [6]],\n[[1, 2, 3, 4], [5], [6]],\n]\n</code></pre>\n<p>Constraints:</p>\n<ol>\n<li>Subarrays should have at least 1 element.</li>\n<li>SubArrays should only consist of consecutive elements.\nFor ex: [[1, 3], [2, 4], [5, 6]] This is not valid.</li>\n</ol>\n<p>So far, I have tried a recursive method but it yields wrong results. I can't wrap my head around how to correct it. I need an answer explaining how to approach this problem properly and the intuition behind it first and then correct my code and point out where I went wrong.</p>\n<p>My code:</p>\n<pre><code> public static void main(String[] args) {\n        int n = 6;\n        int k = 3;\n        int[] arr = new int[]{1,2,3,4,5,6};\n        ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt;();\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        ArrayList&lt;Integer&gt; eachSubArray = new ArrayList&lt;Integer&gt;();\n        int index = 0;\n        \n        generateCombinations(arr, k, index, eachSubArray, eachComb, result);\n        \n        for (ArrayList&lt;ArrayList&lt;Integer&gt;&gt; each : result) {\n            for(ArrayList&lt;Integer&gt; eachh: each) {\n                System.out.println(eachh);\n            }\n            System.out.println(&quot;-------------------------------&quot;);\n        }\n    }\n\n    private static void generateCombinations(int[] arr, int k, int index, ArrayList&lt;Integer&gt; eachSubArray,\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb, ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result) {\n        \n\n        if(k==0 || index==arr.length) {\n            return;\n        }\n        \n\n        if(!eachSubArray.isEmpty()) {\n            eachComb.add(new ArrayList&lt;&gt;(eachSubArray));\n        }\n        \n        if(k==1) {\n            ArrayList&lt;Integer&gt; last = new ArrayList&lt;Integer&gt;();\n            for(int i=index; i&lt;arr.length; i++) {\n                last.add(arr[i]);\n            }\n            if(!last.isEmpty()) {\n                eachComb.add((last));\n                result.add(new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(eachComb));\n                eachComb.remove(eachComb.size()-1);\n            }\n            return;\n        }\n        \n        eachSubArray.clear();\n        \n        \n        \n        for(int i=index; i&lt;arr.length; i++) {\n            eachSubArray.add((arr[i]));\n            generateCombinations(arr, k-1, i+1, eachSubArray, eachComb, result);\n            if(!eachComb.isEmpty()) {\n                eachComb.remove(eachComb.size()-1);\n            }\n        }\n        \n    }\n</code></pre>\n"},{"tags":["java","security","ssl","mockserver"],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675102679,"creation_date":1675102679,"question_id":75288539,"body_markdown":"There is a Java unit test using MockServer.\r\n\r\nFor failed SSL handshake emulation I intend to use a certain certificate:\r\nan instance of a class extending `java.security.cert.Certificate`.\r\n\r\nI tried to find something in the [docs][1], but it only describes how to use the SSL context defined by MockServer, without mentioning options of custom SSL contexts. \r\n\r\nHow to make MockServer apply a user-defined certificate for SSL handshakes?\r\n\r\n\r\n  [1]: https://www.mock-server.com/mock_server/HTTPS_TLS.html","title":"How to use custom certificates in MockServer SSL context?","body":"<p>There is a Java unit test using MockServer.</p>\n<p>For failed SSL handshake emulation I intend to use a certain certificate:\nan instance of a class extending <code>java.security.cert.Certificate</code>.</p>\n<p>I tried to find something in the <a href=\"https://www.mock-server.com/mock_server/HTTPS_TLS.html\" rel=\"nofollow noreferrer\">docs</a>, but it only describes how to use the SSL context defined by MockServer, without mentioning options of custom SSL contexts.</p>\n<p>How to make MockServer apply a user-defined certificate for SSL handshakes?</p>\n"},{"tags":["java","android","bundle","parcelable"],"comments":[{"owner":{"account_id":4079753,"reputation":2891,"user_id":3350516,"accept_rate":50,"display_name":"rorschach"},"score":0,"creation_date":1472904622,"post_id":39306586,"comment_id":65946276,"body_markdown":"Does it actually give you the line number where that Exception is thrown?","body":"Does it actually give you the line number where that Exception is thrown?"},{"owner":{"account_id":7113086,"reputation":211,"user_id":5440307,"display_name":"Prashant"},"score":0,"creation_date":1472904734,"post_id":39306586,"comment_id":65946310,"body_markdown":"Ya it says 197 it&#39;s the first line of handle bundle method where I m checking bundle null,  \n\nCaused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null\n       at android.util.ArrayMap.validate(ArrayMap.java:550)\n       at android.os.Parcel.readArrayMapInternal(Parcel.java:2486)\n       at android.os.BaseBundle.unparcel(BaseBundle.java:221)\n       at android.os.BaseBundle.containsKey(BaseBundle.java:269)\n       at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197)","body":"Ya it says 197 it&#39;s the first line of handle bundle method where I m checking bundle null,    Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null        at android.util.ArrayMap.validate(ArrayMap.java:550)        at android.os.Parcel.readArrayMapInternal(Parcel.java:2486)        at android.os.BaseBundle.unparcel(BaseBundle.java:221)        at android.os.BaseBundle.containsKey(BaseBundle.java:269)        at com.example.fragments.QuestionSwipeFragment.handleBundle(Sou&zwnj;&#8203;rceFile:197)"},{"owner":{"account_id":6537320,"reputation":374,"user_id":5056336,"display_name":"Harshikesh Kumar"},"score":0,"creation_date":1477314932,"post_id":39306586,"comment_id":67702020,"body_markdown":"can you paste your ResourceModel class code here.","body":"can you paste your ResourceModel class code here."},{"owner":{"account_id":5234507,"reputation":2709,"user_id":4183558,"accept_rate":75,"display_name":"mattfred"},"score":1,"creation_date":1547566050,"post_id":39306586,"comment_id":95230725,"body_markdown":"Was this ever solved? I&#39;m getting this same error.","body":"Was this ever solved? I&#39;m getting this same error."},{"owner":{"account_id":1324396,"reputation":122,"user_id":4065151,"display_name":"Vijay Sonawane"},"score":1,"creation_date":1580273559,"post_id":39306586,"comment_id":106039192,"body_markdown":"Is this issue resolved, facing same in crashlytics?","body":"Is this issue resolved, facing same in crashlytics?"},{"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"score":0,"creation_date":1643658689,"post_id":39306586,"comment_id":125394488,"body_markdown":"Still have any solutions ?","body":"Still have any solutions ?"},{"owner":{"account_id":1501298,"reputation":313,"user_id":1405843,"accept_rate":100,"display_name":"jonathan3087"},"score":0,"creation_date":1674497654,"post_id":39306586,"comment_id":132722114,"body_markdown":"I added a bounty, here is my crashlytics log:  (wouldn&#39;t let me add my log, was too long.  Do I need to add it as an answer, that doesn&#39;t seem to be the right place.","body":"I added a bounty, here is my crashlytics log:  (wouldn&#39;t let me add my log, was too long.  Do I need to add it as an answer, that doesn&#39;t seem to be the right place."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674557647,"post_id":39306586,"comment_id":132734536,"body_markdown":"@jonathan3087 the right place would have been a new question. It’s rather unlikely that your problem is related to this question from 2016 when you say that you *didn’t* have this problem *from* 2017 to ??? (some rather recent date?).","body":"@jonathan3087 the right place would have been a new question. It’s rather unlikely that your problem is related to this question from 2016 when you say that you <i>didn’t</i> have this problem <i>from</i> 2017 to ??? (some rather recent date?)."}],"answers":[{"tags":[],"owner":{"account_id":13268646,"reputation":26,"user_id":9580471,"display_name":"sansecy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629106587,"creation_date":1629106587,"answer_id":68800466,"question_id":39306586,"body_markdown":"When I have this problem it&#39;s actually caused by other exceptions\r\n\r\nMy problem is caused by starting an Activity that is not exported\r\n\r\nSolution:\r\n1. Check that your passed argument does have multiple **null** keys\r\n2. Check whether an Activity that is not set to export has been started (for starting other apps)\r\n3. You can set references directly to fragments without passing them through **bundle**","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>When I have this problem it's actually caused by other exceptions</p>\n<p>My problem is caused by starting an Activity that is not exported</p>\n<p>Solution:</p>\n<ol>\n<li>Check that your passed argument does have multiple <strong>null</strong> keys</li>\n<li>Check whether an Activity that is not set to export has been started (for starting other apps)</li>\n<li>You can set references directly to fragments without passing them through <strong>bundle</strong></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3488220,"reputation":574,"user_id":2918533,"accept_rate":52,"display_name":"AndyBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675097298,"creation_date":1675074552,"answer_id":75283105,"question_id":39306586,"body_markdown":"@jonathan3087\r\nPlease check below things in your Parcelable class:\r\n - Order of your Parcelable class&#39;s field in `writeToParcel()`\r\n - Key name or reusing key or not\r\n - check proguard keep\r\n\r\n","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>@jonathan3087\nPlease check below things in your Parcelable class:</p>\n<ul>\n<li>Order of your Parcelable class's field in <code>writeToParcel()</code></li>\n<li>Key name or reusing key or not</li>\n<li>check proguard keep</li>\n</ul>\n"}],"owner":{"account_id":7113086,"reputation":211,"user_id":5440307,"display_name":"Prashant"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2575,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1675101868,"creation_date":1472903542,"question_id":39306586,"body_markdown":"I&#39;m getting this error \r\n\r\n&gt; Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null at android.util.ArrayMap.validate(ArrayMap.java:550) at android.os.Parcel.readArrayMapInternal(Parcel.java:2486) at android.os.BaseBundle.unparcel(BaseBundle.java:221) at android.os.BaseBundle.containsKey(BaseBundle.java:269) at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197) \r\n\r\nnot in my current device but it is coming from crashlytics, but I can&#39;t regenerate this issue in my own device tried all possible ways but can&#39;t get this same error in my device, below is my code, answers would be really appreciated.\r\n\r\n    public class QuestionSwipeFragment extends DialogFragment {\r\n    \r\n        private View mRootView;\r\n        private int mPosition;\r\n        private List&lt;ResourceModel&gt; mResourceList;\r\n        private QuestionSwipePagerAdapter mQuestionSwipePagerAdapter;\r\n        private ViewPager mPager;\r\n    \r\n        private int mSelectedChapterId;\r\n        private int mSelectedSectionId;\r\n        private int mSelectedSubSectionId;\r\n        private boolean mSelectedFavourite;\r\n    \r\n        private boolean mIsFavourite;\r\n        private boolean mIsPagination;\r\n    \r\n        private int mCurrentPage;\r\n        private int mTotalPage;\r\n    \r\n        int mResourcePageNo;\r\n        int mMarkId;\r\n        int mDifficulties;\r\n    \r\n        private int mFragmentType;\r\n    \r\n        private int mFragType;\r\n        private PaginationParams mPaginationParams = new PaginationParams();\r\n    \r\n        private static final int RESOURCE_ALL = -1;\r\n    \r\n        private boolean onDestroy = false;\r\n    \r\n        private static final String API_TYPE_PAGINATION = &quot;pagination&quot;;\r\n    \r\n        public QuestionSwipeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int id, int fragType, boolean isFavourited, boolean isPaginationRequest,\r\n                                                 int chapterId, int sectionId,\r\n                                                 int resourcePageNo, int markId,\r\n                                                 int difficulties, int currentPage,\r\n                                                 int totalPage) {\r\n            Bundle bundle = new Bundle();\r\n            QuestionSwipeFragment fragment = new QuestionSwipeFragment();\r\n    \r\n            bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, id);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\r\n    \r\n            bundle.putBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED, isFavourited);\r\n            bundle.putBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST, isPaginationRequest);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, chapterId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, sectionId);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO, resourcePageNo);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_MARKID, markId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_DIFFICULTIES, difficulties);\r\n    \r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\r\n    \r\n            fragment.setArguments(bundle);\r\n            return fragment;\r\n        }\r\n    \r\n        public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int position, int fragType,\r\n                                                 int selectedChapterId, int selectedSectionId, int selectedSubSectionId, int currentPage, int totalPage) {\r\n            Bundle bundle = new Bundle();\r\n            QuestionSwipeFragment fragment = new QuestionSwipeFragment();\r\n            bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, position);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, selectedChapterId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, selectedSectionId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID, selectedSubSectionId);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT, fragType);\r\n    \r\n            fragment.setArguments(bundle);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            handleBundle(getArguments());\r\n            setStyle(DialogFragment.STYLE_NORMAL, R.style.MyMaterialTheme);\r\n        }\r\n\r\n    //the below method is causing IllegalArgumentException\r\n     private void handleBundle(Bundle bundle) {\r\n              if (bundle != null) {\r\n                    if (bundle.containsKey(Constants.QUESTION_SWIPE_RESOURCE_LIST)) {\r\n                        mResourceList = bundle.getParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST);\r\n                        mPosition = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION);\r\n                        mFragType = bundle.getInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT);\r\n        \r\n                        mSelectedChapterId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID);\r\n                        mSelectedSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID);\r\n        \r\n                        mSelectedSubSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID);\r\n        \r\n                        mIsFavourite = bundle.getBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED);\r\n                        mIsPagination = bundle.getBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST);\r\n        \r\n                        mCurrentPage = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTPAGE);\r\n                        mTotalPage = bundle.getInt(Constants.QUESTION_SWIPE_TOTALPAGE);\r\n        \r\n                        mResourcePageNo = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO);\r\n                        mMarkId = bundle.getInt(Constants.QUESTION_SWIPE_MARKID);\r\n                        mDifficulties = bundle.getInt(Constants.QUESTION_SWIPE_DIFFICULTIES);\r\n        \r\n                        mFragmentType = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\nAnd below is the code where i am starting this fragment from adapter\r\n\r\n    private void setonClickListeners(ResourceQuestionsViewHolder viewHolder, final int position) {\r\n            viewHolder.mContainerView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n   \r\n                    DialogFragment questionSwipeFragment = QuestionSwipeFragment.newInstance(getExtractResourceInfo(position).getExtractedList(), getExtractResourceInfo(position).getPosition(), Constants.QB_DETAILS_FRAGMENT, isFavourited, isPaginationRequest, chapterId, sectionId, resourcePageNo, markId, difficulties, mCurrentPage, mTotalPage);\r\n                    questionSwipeFragment.show(((QuestionBankActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\r\n    \r\n                }\r\n            });\r\n    }\r\n\r\n    private void setonLongClickListener(SubSectionResourceQuestionsViewHolder viewHolder, final int position) {\r\n            viewHolder.mContainerView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View v) {\r\n\r\n                    DialogFragment questionBankFragment = QBSubSectionDetailFragment.newInstance(mResourceList, false, position);\r\n                    questionBankFragment.show(((SynopsisActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\r\n    \r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n     ","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>I'm getting this error</p>\n<blockquote>\n<p>Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null at android.util.ArrayMap.validate(ArrayMap.java:550) at android.os.Parcel.readArrayMapInternal(Parcel.java:2486) at android.os.BaseBundle.unparcel(BaseBundle.java:221) at android.os.BaseBundle.containsKey(BaseBundle.java:269) at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197)</p>\n</blockquote>\n<p>not in my current device but it is coming from crashlytics, but I can't regenerate this issue in my own device tried all possible ways but can't get this same error in my device, below is my code, answers would be really appreciated.</p>\n<pre><code>public class QuestionSwipeFragment extends DialogFragment {\n\n    private View mRootView;\n    private int mPosition;\n    private List&lt;ResourceModel&gt; mResourceList;\n    private QuestionSwipePagerAdapter mQuestionSwipePagerAdapter;\n    private ViewPager mPager;\n\n    private int mSelectedChapterId;\n    private int mSelectedSectionId;\n    private int mSelectedSubSectionId;\n    private boolean mSelectedFavourite;\n\n    private boolean mIsFavourite;\n    private boolean mIsPagination;\n\n    private int mCurrentPage;\n    private int mTotalPage;\n\n    int mResourcePageNo;\n    int mMarkId;\n    int mDifficulties;\n\n    private int mFragmentType;\n\n    private int mFragType;\n    private PaginationParams mPaginationParams = new PaginationParams();\n\n    private static final int RESOURCE_ALL = -1;\n\n    private boolean onDestroy = false;\n\n    private static final String API_TYPE_PAGINATION = &quot;pagination&quot;;\n\n    public QuestionSwipeFragment() {\n        // Required empty public constructor\n    }\n\n    public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int id, int fragType, boolean isFavourited, boolean isPaginationRequest,\n                                             int chapterId, int sectionId,\n                                             int resourcePageNo, int markId,\n                                             int difficulties, int currentPage,\n                                             int totalPage) {\n        Bundle bundle = new Bundle();\n        QuestionSwipeFragment fragment = new QuestionSwipeFragment();\n\n        bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, id);\n        bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\n\n        bundle.putBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED, isFavourited);\n        bundle.putBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST, isPaginationRequest);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, chapterId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, sectionId);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO, resourcePageNo);\n        bundle.putInt(Constants.QUESTION_SWIPE_MARKID, markId);\n        bundle.putInt(Constants.QUESTION_SWIPE_DIFFICULTIES, difficulties);\n\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\n        bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\n\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n\n    public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int position, int fragType,\n                                             int selectedChapterId, int selectedSectionId, int selectedSubSectionId, int currentPage, int totalPage) {\n        Bundle bundle = new Bundle();\n        QuestionSwipeFragment fragment = new QuestionSwipeFragment();\n        bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, position);\n        bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, selectedChapterId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, selectedSectionId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID, selectedSubSectionId);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\n        bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT, fragType);\n\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        handleBundle(getArguments());\n        setStyle(DialogFragment.STYLE_NORMAL, R.style.MyMaterialTheme);\n    }\n\n//the below method is causing IllegalArgumentException\n private void handleBundle(Bundle bundle) {\n          if (bundle != null) {\n                if (bundle.containsKey(Constants.QUESTION_SWIPE_RESOURCE_LIST)) {\n                    mResourceList = bundle.getParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST);\n                    mPosition = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION);\n                    mFragType = bundle.getInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT);\n    \n                    mSelectedChapterId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID);\n                    mSelectedSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID);\n    \n                    mSelectedSubSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID);\n    \n                    mIsFavourite = bundle.getBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED);\n                    mIsPagination = bundle.getBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST);\n    \n                    mCurrentPage = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTPAGE);\n                    mTotalPage = bundle.getInt(Constants.QUESTION_SWIPE_TOTALPAGE);\n    \n                    mResourcePageNo = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO);\n                    mMarkId = bundle.getInt(Constants.QUESTION_SWIPE_MARKID);\n                    mDifficulties = bundle.getInt(Constants.QUESTION_SWIPE_DIFFICULTIES);\n    \n                    mFragmentType = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT);\n                }\n            }\n        }\n</code></pre>\n<p>And below is the code where i am starting this fragment from adapter</p>\n<pre><code>private void setonClickListeners(ResourceQuestionsViewHolder viewHolder, final int position) {\n        viewHolder.mContainerView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                DialogFragment questionSwipeFragment = QuestionSwipeFragment.newInstance(getExtractResourceInfo(position).getExtractedList(), getExtractResourceInfo(position).getPosition(), Constants.QB_DETAILS_FRAGMENT, isFavourited, isPaginationRequest, chapterId, sectionId, resourcePageNo, markId, difficulties, mCurrentPage, mTotalPage);\n                questionSwipeFragment.show(((QuestionBankActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\n\n            }\n        });\n}\n\nprivate void setonLongClickListener(SubSectionResourceQuestionsViewHolder viewHolder, final int position) {\n        viewHolder.mContainerView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n\n                DialogFragment questionBankFragment = QBSubSectionDetailFragment.newInstance(mResourceList, false, position);\n                questionBankFragment.show(((SynopsisActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\n\n                return true;\n            }\n        });\n    }\n \n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","exception"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":3,"creation_date":1674507682,"post_id":75214653,"comment_id":132725061,"body_markdown":"Why have you set your ApiError fields private ? Have you tried making them public instead ?","body":"Why have you set your ApiError fields private ? Have you tried making them public instead ?"}],"answers":[{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675101678,"creation_date":1675101678,"answer_id":75288372,"question_id":75214653,"body_markdown":"As you defined all properties in your `ApiError` data class as private they are not visible to Jackson ObjectMapper serializer which is included in spring-web. \r\n\r\nSo to solve your issue you just need *to remove **private** modifier* like this:\r\n\r\n```\r\ndata class ApiError(\r\n    val requestUri: String? = null,\r\n    val status: Int = 0,\r\n    val statusText: String? = null,\r\n    val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\r\n    val errorMessage: String? = null,\r\n)\r\n```","title":"@RestControllerAdvice paired with @ExceptionHandler is not returning a JSON from a data class","body":"<p>As you defined all properties in your <code>ApiError</code> data class as private they are not visible to Jackson ObjectMapper serializer which is included in spring-web.</p>\n<p>So to solve your issue you just need <em>to remove <strong>private</strong> modifier</em> like this:</p>\n<pre><code>data class ApiError(\n    val requestUri: String? = null,\n    val status: Int = 0,\n    val statusText: String? = null,\n    val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\n    val errorMessage: String? = null,\n)\n</code></pre>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75288372,"answer_count":1,"score":2,"last_activity_date":1675101678,"creation_date":1674505257,"question_id":75214653,"body_markdown":"I&#39;m writing a small app using Kotlin with Spring Boot 3. I wanted to have a nice exception handling, so I have created a class annotated with `@RestControllerAdvice`, having a couple of methods annotated with `@ExceptionHandler`. I have created a `data class` to store the returned body data:\r\n\r\n    data class ApiError(\r\n        private val requestUri: String? = null,\r\n        private val status: Int = 0,\r\n        private val statusText: String? = null,\r\n        private val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\r\n        private val errorMessage: String? = null,\r\n    )\r\n\r\nThe rest is quite simple:\r\n\r\n    @RestControllerAdvice\r\n    class ControllerExceptionHandler {\r\n    \r\n        @ExceptionHandler(HttpRequestMethodNotSupportedException::class)\r\n        fun methodNotSupportedException(\r\n            exception: HttpRequestMethodNotSupportedException,\r\n            request: HttpServletRequest,\r\n        ): ResponseEntity&lt;ApiError&gt; {\r\n            println(buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception))\r\n            return ResponseEntity(\r\n                buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception),\r\n                HttpStatus.METHOD_NOT_ALLOWED,\r\n            )\r\n        }\r\n    \r\n        @ExceptionHandler(NotFoundException::class)\r\n        fun notFoundExceptionHandler(\r\n            exception: NotFoundException,\r\n            request: HttpServletRequest,\r\n        ): ResponseEntity&lt;ApiError&gt; {\r\n            println(buildApiError(request, HttpStatus.NOT_FOUND, exception))\r\n            return ResponseEntity(\r\n                buildApiError(request, HttpStatus.NOT_FOUND, exception),\r\n                HttpStatus.NOT_FOUND,\r\n            )\r\n        }\r\n\r\n        private fun buildApiError(\r\n            request: HttpServletRequest,\r\n            httpStatus: HttpStatus,\r\n            throwable: Throwable,\r\n        ): ApiError {\r\n            return ApiError(\r\n                requestUri = request.requestURI,\r\n                status = httpStatus.value(),\r\n                statusText = httpStatus.reasonPhrase,\r\n                errorMessage = throwable.message,\r\n            )\r\n        }\r\n    }\r\n\r\nAnd there is this (do not worry about the quality of this code, it is just for testing purposes.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(\r\n        path = [&quot;/hello&quot;],\r\n    )\r\n    class HelloController {\r\n    \r\n        @GetMapping(&quot;/{name}&quot;, produces = [MediaType.APPLICATION_JSON_VALUE])\r\n        private fun hello(@PathVariable name: String): ResponseEntity&lt;Map&lt;String, String&gt;&gt; {\r\n    \r\n            // this is a forced exception so the @ExceptionHandlers could handle them.\r\n            if (name.lowercase() == &quot;stefan&quot;) throw NotFoundException(&quot;Name not found!&quot;)\r\n            return ResponseEntity.ok(mapOf(&quot;Hello&quot; to &quot;$name!&quot;))\r\n        }\r\n    }\r\n\r\nThe problem is that when I run the app and send a `GET` request to `http://localhost:8080/hello/myrealname I just receive a tiny object:\r\n\r\n    {\r\n    \t&quot;Hello&quot;: &quot;myrealname&quot;\r\n    }\r\n\r\nBut when I either POST to this endpoint or GET with name &quot;stefan&quot; to trigger the exception, I have received a proper status code, either 500 or 404, but the body of my response was empty!\r\n\r\nLater on I tried to return a string or a map instead of my `ApiError` class, everything was fine, the body was there, either a map or a string. But when I want to return an instance of `ApiError`, the body is empty. Bare `&#39;{}&#39;`. Is there something wrong with my object? This is not the first time I have worked with exception handling in a controller advice class, and I have never had a situation like this.\r\n\r\nWhat could be the possible cause of this problem? Is there a better, more Kotlin-ish approach to this? Any extension methods I have no idea about maybe?\r\n\r\nHonest thank You for any clues :)\r\n","title":"@RestControllerAdvice paired with @ExceptionHandler is not returning a JSON from a data class","body":"<p>I'm writing a small app using Kotlin with Spring Boot 3. I wanted to have a nice exception handling, so I have created a class annotated with <code>@RestControllerAdvice</code>, having a couple of methods annotated with <code>@ExceptionHandler</code>. I have created a <code>data class</code> to store the returned body data:</p>\n<pre><code>data class ApiError(\n    private val requestUri: String? = null,\n    private val status: Int = 0,\n    private val statusText: String? = null,\n    private val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\n    private val errorMessage: String? = null,\n)\n</code></pre>\n<p>The rest is quite simple:</p>\n<pre><code>@RestControllerAdvice\nclass ControllerExceptionHandler {\n\n    @ExceptionHandler(HttpRequestMethodNotSupportedException::class)\n    fun methodNotSupportedException(\n        exception: HttpRequestMethodNotSupportedException,\n        request: HttpServletRequest,\n    ): ResponseEntity&lt;ApiError&gt; {\n        println(buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception))\n        return ResponseEntity(\n            buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception),\n            HttpStatus.METHOD_NOT_ALLOWED,\n        )\n    }\n\n    @ExceptionHandler(NotFoundException::class)\n    fun notFoundExceptionHandler(\n        exception: NotFoundException,\n        request: HttpServletRequest,\n    ): ResponseEntity&lt;ApiError&gt; {\n        println(buildApiError(request, HttpStatus.NOT_FOUND, exception))\n        return ResponseEntity(\n            buildApiError(request, HttpStatus.NOT_FOUND, exception),\n            HttpStatus.NOT_FOUND,\n        )\n    }\n\n    private fun buildApiError(\n        request: HttpServletRequest,\n        httpStatus: HttpStatus,\n        throwable: Throwable,\n    ): ApiError {\n        return ApiError(\n            requestUri = request.requestURI,\n            status = httpStatus.value(),\n            statusText = httpStatus.reasonPhrase,\n            errorMessage = throwable.message,\n        )\n    }\n}\n</code></pre>\n<p>And there is this (do not worry about the quality of this code, it is just for testing purposes.</p>\n<pre><code>@RestController\n@RequestMapping(\n    path = [&quot;/hello&quot;],\n)\nclass HelloController {\n\n    @GetMapping(&quot;/{name}&quot;, produces = [MediaType.APPLICATION_JSON_VALUE])\n    private fun hello(@PathVariable name: String): ResponseEntity&lt;Map&lt;String, String&gt;&gt; {\n\n        // this is a forced exception so the @ExceptionHandlers could handle them.\n        if (name.lowercase() == &quot;stefan&quot;) throw NotFoundException(&quot;Name not found!&quot;)\n        return ResponseEntity.ok(mapOf(&quot;Hello&quot; to &quot;$name!&quot;))\n    }\n}\n</code></pre>\n<p>The problem is that when I run the app and send a <code>GET</code> request to `http://localhost:8080/hello/myrealname I just receive a tiny object:</p>\n<pre><code>{\n    &quot;Hello&quot;: &quot;myrealname&quot;\n}\n</code></pre>\n<p>But when I either POST to this endpoint or GET with name &quot;stefan&quot; to trigger the exception, I have received a proper status code, either 500 or 404, but the body of my response was empty!</p>\n<p>Later on I tried to return a string or a map instead of my <code>ApiError</code> class, everything was fine, the body was there, either a map or a string. But when I want to return an instance of <code>ApiError</code>, the body is empty. Bare <code>'{}'</code>. Is there something wrong with my object? This is not the first time I have worked with exception handling in a controller advice class, and I have never had a situation like this.</p>\n<p>What could be the possible cause of this problem? Is there a better, more Kotlin-ish approach to this? Any extension methods I have no idea about maybe?</p>\n<p>Honest thank You for any clues :)</p>\n"},{"tags":["javascript","java","mysql","spring-boot","spring-thymeleaf"],"comments":[{"owner":{"account_id":10570375,"reputation":768,"user_id":7787367,"display_name":"stan chacon"},"score":0,"creation_date":1675108515,"post_id":75288322,"comment_id":132853917,"body_markdown":"The best way you can do this in my personal opinion is with a database scheduled job.","body":"The best way you can do this in my personal opinion is with a database scheduled job."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675117732,"post_id":75288322,"comment_id":132856355,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"score":0,"creation_date":1675345052,"post_id":75288322,"comment_id":132911833,"body_markdown":"Thank you for your various interventions.\nHow could I create a scheduled task in the database that will automatically change the status to expired if the end date is equal to the machine&#39;s local date.","body":"Thank you for your various interventions. How could I create a scheduled task in the database that will automatically change the status to expired if the end date is equal to the machine&#39;s local date."},{"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"score":0,"creation_date":1675855379,"post_id":75288322,"comment_id":133016476,"body_markdown":"Ok my code is in french","body":"Ok my code is in french"}],"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675101364,"creation_date":1675101364,"question_id":75288322,"body_markdown":"My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it. My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it.\r\n\r\nI use Spring boot and Thymeleaf.\r\n\r\nI have done several searches on the internet but I can&#39;t find a solution. Could someone help me find a suitable solution.\r\n\r\nI use Spring boot, Thymeleaf and MySql as my Database Management System.","title":"How to automatically update the expired status on contracts when they expire? Spring boot","body":"<p>My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it. My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it.</p>\n<p>I use Spring boot and Thymeleaf.</p>\n<p>I have done several searches on the internet but I can't find a solution. Could someone help me find a suitable solution.</p>\n<p>I use Spring boot, Thymeleaf and MySql as my Database Management System.</p>\n"},{"tags":["java","kotlin","mockk"],"owner":{"account_id":7662345,"reputation":113,"user_id":5807216,"display_name":"Albert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675101353,"creation_date":1675101010,"question_id":75288256,"body_markdown":"I have tried using [mockk.io][1] constructor&#39;s mocking with `java.io.FileReader`\r\n\r\n```kotlin\r\nimport java.io.FileReader\r\nimport io.mockk.mockkConstructor\r\n\r\nmockkConstructor(FileReader::class)\r\n\r\nevery {  constructedWith&lt;FileReader&gt;(EqMatcher(&quot;/etc/resolv.conf&quot;)).readLines()} returns listOf(&quot;127.0.0.1&quot;)\r\n// code dies here\r\n\r\n\r\nval f = FileReader(&quot;/etc/resolv.conf&quot;).readLines()\r\nf.forEach { println(it) }\r\n```\r\n\r\nWhen I run it in my tests, it runs for 10 seconds without effects and dies without any error.&lt;br&gt;\r\nIn debug mode, when stopping randomly, I can see, that it visits following classes:\r\nCollections.java, Throwable.java, Arrays.java, Object.java, HashMap.java.\r\n\r\nI&#39;ve checked and it works for my own simple classes.\r\n\r\nWhat may be wrong with my code?\r\n\r\n  [1]: https://mockk.io/#constructor-mocks","title":"Mockk mockkConstructor doesn&#39;t work for FileReader","body":"<p>I have tried using <a href=\"https://mockk.io/#constructor-mocks\" rel=\"nofollow noreferrer\">mockk.io</a> constructor's mocking with <code>java.io.FileReader</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.io.FileReader\nimport io.mockk.mockkConstructor\n\nmockkConstructor(FileReader::class)\n\nevery {  constructedWith&lt;FileReader&gt;(EqMatcher(&quot;/etc/resolv.conf&quot;)).readLines()} returns listOf(&quot;127.0.0.1&quot;)\n// code dies here\n\n\nval f = FileReader(&quot;/etc/resolv.conf&quot;).readLines()\nf.forEach { println(it) }\n</code></pre>\n<p>When I run it in my tests, it runs for 10 seconds without effects and dies without any error.<br>\nIn debug mode, when stopping randomly, I can see, that it visits following classes:\nCollections.java, Throwable.java, Arrays.java, Object.java, HashMap.java.</p>\n<p>I've checked and it works for my own simple classes.</p>\n<p>What may be wrong with my code?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"score":0,"creation_date":1674823055,"post_id":75256306,"comment_id":132800230,"body_markdown":"For spring to make use of the Value and Autowired annotation, the class should be annotated with Component so that it can be picked up during context initialization. Have you tried creating a spring Bean from the SchemaPhysicalNamingStrategy ?","body":"For spring to make use of the Value and Autowired annotation, the class should be annotated with Component so that it can be picked up during context initialization. Have you tried creating a spring Bean from the SchemaPhysicalNamingStrategy ?"},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1674837027,"post_id":75256306,"comment_id":132805078,"body_markdown":"@NikhilJoseph, yes. My SchemaPhysicalNamingStrategy has Compoent annotation, but it doesn&#39;t help. Its instance is created by Spring using reflection. HibernateJpaConfiguration.java \n\n\n\t\tthis.hibernatePropertiesCustomizers = determineHibernatePropertiesCustomizers(\n\t\t\t\tphysicalNamingStrategy.getIfAvailable(), implicitNamingStrategy.getIfAvailable(), beanFactory,\n\t\t\t\thibernatePropertiesCustomizers.orderedStream().collect(Collectors.toList()));","body":"@NikhilJoseph, yes. My SchemaPhysicalNamingStrategy has Compoent annotation, but it doesn&#39;t help. Its instance is created by Spring using reflection. HibernateJpaConfiguration.java    \t\tthis.hibernatePropertiesCustomizers = determineHibernatePropertiesCustomizers( \t\t\t\tphysicalNamingStrategy.getIfAvailable(), implicitNamingStrategy.getIfAvailable(), beanFactory, \t\t\t\thibernatePropertiesCustomizers.orderedStream().collect(C&zwnj;&#8203;ollectors.toList()))&zwnj;&#8203;;"},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":0,"creation_date":1675061958,"post_id":75256306,"comment_id":132839479,"body_markdown":"What are you trying to accomplish? Why are you trying to inject `schema` and `catalogName` into a naming strategy? Can you add the values to the Map in `jpaProperties()`?","body":"What are you trying to accomplish? Why are you trying to inject <code>schema</code> and <code>catalogName</code> into a naming strategy? Can you add the values to the Map in <code>jpaProperties()</code>?"},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":1,"creation_date":1675063277,"post_id":75256306,"comment_id":132839745,"body_markdown":"I don&#39;t think that Spring is the issue here. `hibernate.physical_naming_strategy` is vendor-specific (Hibernate), and it&#39;s unlikely that Spring is involved in the construction of the object.","body":"I don&#39;t think that Spring is the issue here. <code>hibernate.physical_naming_strategy</code> is vendor-specific (Hibernate), and it&#39;s unlikely that Spring is involved in the construction of the object."},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1675098742,"post_id":75256306,"comment_id":132850959,"body_markdown":"@Bernie. Thanks. I just want to dynamically set schema, catalog names in physical naming strategy instance instead of hard coding in java code. I am not sure how I can set schema and catalog names in jpaProperties -     protected Map&lt;String, Object&gt; jpaProperties() {\n        return of(\n                &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\n    }","body":"@Bernie. Thanks. I just want to dynamically set schema, catalog names in physical naming strategy instance instead of hard coding in java code. I am not sure how I can set schema and catalog names in jpaProperties -     protected Map&lt;String, Object&gt; jpaProperties() {         return of(                 &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());     }"},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1675099096,"post_id":75256306,"comment_id":132851104,"body_markdown":"@Bernie, Thanks. see HibernateJpaConfiguration.java, if LocalContainerEntityManagerFactoryBean bean is present then spring won&#39;t touch vendor properties. Because of &quot;ConditionalOnMissingBean&quot;. \n\n\tBean\n\tPrimary\n\tConditionalOnMissingBean({ LocalContainerEntityManagerFactoryBean.class, EntityManagerFactory.class })\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder) {\n\t\tMap&lt;String, Object&gt; vendorProperties = getVendorProperties();\n\t\tcustomizeVendorProperties(vendorProperties);","body":"@Bernie, Thanks. see HibernateJpaConfiguration.java, if LocalContainerEntityManagerFactoryBean bean is present then spring won&#39;t touch vendor properties. Because of &quot;ConditionalOnMissingBean&quot;.   \tBean \tPrimary \tConditionalOnMissingBean({ LocalContainerEntityManagerFactoryBean.class, EntityManagerFactory.class }) \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder) { \t\tMap&lt;String, Object&gt; vendorProperties = getVendorProperties(); \t\tcustomizeVendorProperties(vendorProperties);"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675101302,"creation_date":1675101302,"answer_id":75288308,"question_id":75256306,"body_markdown":"Documentation [says](https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#beans-manageable) following:\r\n\r\nHibernate supports using the following integrations as managed beans:\r\n- jakarta.persistence.AttributeConverter\r\n- Jakarta Persistence &quot;entity listener&quot; classes\r\n- org.hibernate.type.descriptor.jdbc.JdbcType\r\n- org.hibernate.type.descriptor.java.BasicJavaType\r\n- org.hibernate.type.descriptor.java.MutabilityPlan\r\n- org.hibernate.usertype.UserType\r\n- org.hibernate.usertype.UserCollectionType\r\n- org.hibernate.metamodel.EmbeddableInstantiator\r\n- org.hibernate.envers.RevisionListener\r\n- org.hibernate.id.IdentifierGenerator\r\n\r\nSince Hibernate do not recognise naming strategies as managed beans you need to pass them as instances to property map, for example:\r\n\r\n```java\r\n@Bean(name = &quot;integrationEntityManagerFactory&quot;)\r\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\r\n        EntityManagerFactoryBuilder builder\r\n        SchemaPhysicalNamingStrategy namingStrategy) {\r\n    return builder.dataSource(integrationDataSource())\r\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\r\n            .properties(jpaProperties(namingStrategy))\r\n            .build();\r\n}\r\n\r\n\r\nprotected Map&lt;String, Object&gt; jpaProperties(PhysicalNamingStrategy namingStrategy) {\r\n    return of(&quot;hibernate.physical_naming_strategy&quot;, namingStrategy);\r\n}\r\n```","title":"@Value or @Autowired annotations not working with custom Physical Naming Strategy","body":"<p>Documentation <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#beans-manageable\" rel=\"nofollow noreferrer\">says</a> following:</p>\n<p>Hibernate supports using the following integrations as managed beans:</p>\n<ul>\n<li>jakarta.persistence.AttributeConverter</li>\n<li>Jakarta Persistence &quot;entity listener&quot; classes</li>\n<li>org.hibernate.type.descriptor.jdbc.JdbcType</li>\n<li>org.hibernate.type.descriptor.java.BasicJavaType</li>\n<li>org.hibernate.type.descriptor.java.MutabilityPlan</li>\n<li>org.hibernate.usertype.UserType</li>\n<li>org.hibernate.usertype.UserCollectionType</li>\n<li>org.hibernate.metamodel.EmbeddableInstantiator</li>\n<li>org.hibernate.envers.RevisionListener</li>\n<li>org.hibernate.id.IdentifierGenerator</li>\n</ul>\n<p>Since Hibernate do not recognise naming strategies as managed beans you need to pass them as instances to property map, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;integrationEntityManagerFactory&quot;)\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\n        EntityManagerFactoryBuilder builder\n        SchemaPhysicalNamingStrategy namingStrategy) {\n    return builder.dataSource(integrationDataSource())\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\n            .properties(jpaProperties(namingStrategy))\n            .build();\n}\n\n\nprotected Map&lt;String, Object&gt; jpaProperties(PhysicalNamingStrategy namingStrategy) {\n    return of(&quot;hibernate.physical_naming_strategy&quot;, namingStrategy);\n}\n</code></pre>\n"}],"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75288308,"answer_count":1,"score":2,"last_activity_date":1675101302,"creation_date":1674812450,"question_id":75256306,"body_markdown":"Something similar to this question but OP there not mentioned that whether they creating LocalContainerEntityManagerFactoryBean .  \r\nhttps://stackoverflow.com/questions/64141279/spring-not-injecting-value-or-autowired-annotated-variables-in-physicalnamings\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    public class SchemaPhysicalNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {\r\n    \r\n        @Value(value = &quot;${spring.jpa.hibernate.default_schema}&quot;)\r\n        private String schemaName;\r\n    \r\n        @Value(value = &quot;${spring.jpa.hibernate.default_catalog}&quot;)\r\n        private String catalogName;\r\n    \r\n        /**\r\n         * @param identifier\r\n         * @param jdbcEnvironment\r\n         * @return\r\n         */\r\n        @Override\r\n        public Identifier toPhysicalSchemaName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n            if (isNull(identifier)) {\r\n                identifier = toIdentifier(this.schemaName);\r\n            }\r\n            return super.toPhysicalSchemaName(identifier, jdbcEnvironment);\r\n        }\r\n    \r\n        @Override\r\n        public Identifier toPhysicalCatalogName(\r\n                Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n            if (isNull(identifier)) {\r\n                identifier = toIdentifier(this.catalogName);\r\n            }\r\n            return super.toPhysicalCatalogName(identifier, jdbcEnvironment);\r\n        }\r\n    }\r\n\r\nBelow is one of the two LocalContainerEntityManagerFactoryBean objects which needs customised physical naming strategy. \r\n\r\n    @Bean(name = &quot;integrationEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) {\r\n        return builder.dataSource(integrationDataSource())\r\n                .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\r\n                .properties(jpaProperties())\r\n                .build();\r\n    }\r\n    \r\n    \r\n        protected Map&lt;String, Object&gt; jpaProperties() {\r\n            return of(\r\n                    &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\r\n        }\r\n\r\n\r\nIssue is - @Value and @Autowired are not working on SchemaPhysicalNamingStrategy as spring creates instance using reflection. Can&#39;t add it to constructor as spring calls constructor without params using reflection. One option is to create SessionFactory bean and set on it but that will be overkill. Please help. \r\n\r\n\r\n\r\n","title":"@Value or @Autowired annotations not working with custom Physical Naming Strategy","body":"<p>Something similar to this question but OP there not mentioned that whether they creating LocalContainerEntityManagerFactoryBean .<br />\n<a href=\"https://stackoverflow.com/questions/64141279/spring-not-injecting-value-or-autowired-annotated-variables-in-physicalnamings\">Spring not injecting @Value or @Autowired annotated variables in PhysicalNamingStrategy Implementations:</a></p>\n<pre><code>@Configuration\npublic class SchemaPhysicalNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {\n\n    @Value(value = &quot;${spring.jpa.hibernate.default_schema}&quot;)\n    private String schemaName;\n\n    @Value(value = &quot;${spring.jpa.hibernate.default_catalog}&quot;)\n    private String catalogName;\n\n    /**\n     * @param identifier\n     * @param jdbcEnvironment\n     * @return\n     */\n    @Override\n    public Identifier toPhysicalSchemaName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n        if (isNull(identifier)) {\n            identifier = toIdentifier(this.schemaName);\n        }\n        return super.toPhysicalSchemaName(identifier, jdbcEnvironment);\n    }\n\n    @Override\n    public Identifier toPhysicalCatalogName(\n            Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n        if (isNull(identifier)) {\n            identifier = toIdentifier(this.catalogName);\n        }\n        return super.toPhysicalCatalogName(identifier, jdbcEnvironment);\n    }\n}\n</code></pre>\n<p>Below is one of the two LocalContainerEntityManagerFactoryBean objects which needs customised physical naming strategy.</p>\n<pre><code>@Bean(name = &quot;integrationEntityManagerFactory&quot;)\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\n        EntityManagerFactoryBuilder builder) {\n    return builder.dataSource(integrationDataSource())\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\n            .properties(jpaProperties())\n            .build();\n}\n\n\n    protected Map&lt;String, Object&gt; jpaProperties() {\n        return of(\n                &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\n    }\n</code></pre>\n<p>Issue is - @Value and @Autowired are not working on SchemaPhysicalNamingStrategy as spring creates instance using reflection. Can't add it to constructor as spring calls constructor without params using reflection. One option is to create SessionFactory bean and set on it but that will be overkill. Please help.</p>\n"},{"tags":["javascript","java","openssl","cryptography"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675101248,"creation_date":1675099468,"answer_id":75287989,"question_id":75287129,"body_markdown":"*rsautl* unchangeably uses SHA1 for the OAEP digests, see [here][1]. Since you apply SHA256 in the WebCrypto code, you must use [*pkeyutl*][2] instead, which allows the specification of the digests:\r\n\r\n```none\r\nopenssl pkeyutl -in plaintext.txt -out ciphertext.bin -encrypt -keyform DER -pubin -inkey spki.der -pkeyopt rsa_padding_mode:oaep -pkeyopt rsa_oaep_md:sha256 -pkeyopt rsa_mgf1_md:sha256 \r\n```\r\n\r\nA ciphertext generated in this way can be decrypted using the WebCrypto code: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    (async () =&gt; {\r\n\r\n    // your private key\r\n    var privateKeyInPem = &quot;MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==&quot;;\r\n\r\n    var privateKey = await window.crypto.subtle.importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {name: &quot;RSA-OAEP&quot;, hash: &quot;SHA-256&quot;}, true, [&quot;decrypt&quot;]);   \r\n    console.log(privateKey);\r\n\r\n    // Base64 encoded ciphertext from openssl pkeyutl\r\n    var cipher = &quot;V2QWzwoOHPAlKhGqv0fDSv+lSPytBW4tTxVVJgneyvfIqTDvllhbZJzUAszdAC0IEow+YgbIWHyIBCw9YVS+EDZ3jbuIU97nx5NxAimiUFKvUmHE8p3oP6AP/etJhGQGC+fMiTbhmGn5FQhMnH/2lVei3yJypXWbgI6ONRmncYalq73q7VGelFUSubuPWQA3bKzuIOSorpQFy9sGIMDvW+YOMLrClVmUujVrEXrdsIbvzSb6hooKHbwjOaAmN4XRw0sr+YaF3n2PwazpLSvJmuugF26GxhmJAMmNViUvvsN+ycpJZdyRKNehQGqmahpC0XXihZ9dsHEH7vIDDmPAZQ==&quot;;\r\n    console.log(&#39;cipher: &#39;+cipher)\r\n\r\n    // successfull decryption\r\n    var decrypted = await window.crypto.subtle.decrypt({name: &quot;RSA-OAEP&quot;}, privateKey, str2ab(window.atob(cipher)));\r\n    const dec = new TextDecoder();\r\n    console.log(&#39;DECRYPTED MSG:&#39; + dec.decode(decrypted));\r\n\r\n    })();\r\n\r\n\r\n    function base64StringToArrayBuffer(base64String){\r\n        return Uint8Array.from(window.atob(base64String), c =&gt; c.charCodeAt(0));\r\n    }\r\n\r\n    function str2ab(str) {\r\n        const buf = new ArrayBuffer(str.length);\r\n        const bufView = new Uint8Array(buf);\r\n        for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\r\n            bufView[i] = str.charCodeAt(i);\r\n        }\r\n        return buf;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n-------\r\n\r\nFor completeness: In the context of OAEP there are two digests to specify, the content digest and the MGF1 digest. *pkeyutl* allows to set both independently. If both digests are identical (which is usually the case), it is sufficient to set only the content digest via `rsa_oaep_md`, i.e. the MGF1 digest implicitly has the same value as long as no other digest is explicitly set via `rsa_mgf1_md`.\r\n\r\n\r\n\r\n[1]: https://superuser.com/q/1016696\r\n[2]: https://www.openssl.org/docs/man1.1.1/man1/openssl-pkeyutl.html","title":"Getting different encryption results - RSA - Java and Openssl","body":"<p><em>rsautl</em> unchangeably uses SHA1 for the OAEP digests, see <a href=\"https://superuser.com/q/1016696\">here</a>. Since you apply SHA256 in the WebCrypto code, you must use <a href=\"https://www.openssl.org/docs/man1.1.1/man1/openssl-pkeyutl.html\" rel=\"nofollow noreferrer\"><em>pkeyutl</em></a> instead, which allows the specification of the digests:</p>\n<pre class=\"lang-none prettyprint-override\"><code>openssl pkeyutl -in plaintext.txt -out ciphertext.bin -encrypt -keyform DER -pubin -inkey spki.der -pkeyopt rsa_padding_mode:oaep -pkeyopt rsa_oaep_md:sha256 -pkeyopt rsa_mgf1_md:sha256 \n</code></pre>\n<p>A ciphertext generated in this way can be decrypted using the WebCrypto code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(async () =&gt; {\n\n// your private key\nvar privateKeyInPem = \"MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\";\n\nvar privateKey = await window.crypto.subtle.importKey(\"pkcs8\", base64StringToArrayBuffer(privateKeyInPem), {name: \"RSA-OAEP\", hash: \"SHA-256\"}, true, [\"decrypt\"]);   \nconsole.log(privateKey);\n\n// Base64 encoded ciphertext from openssl pkeyutl\nvar cipher = \"V2QWzwoOHPAlKhGqv0fDSv+lSPytBW4tTxVVJgneyvfIqTDvllhbZJzUAszdAC0IEow+YgbIWHyIBCw9YVS+EDZ3jbuIU97nx5NxAimiUFKvUmHE8p3oP6AP/etJhGQGC+fMiTbhmGn5FQhMnH/2lVei3yJypXWbgI6ONRmncYalq73q7VGelFUSubuPWQA3bKzuIOSorpQFy9sGIMDvW+YOMLrClVmUujVrEXrdsIbvzSb6hooKHbwjOaAmN4XRw0sr+YaF3n2PwazpLSvJmuugF26GxhmJAMmNViUvvsN+ycpJZdyRKNehQGqmahpC0XXihZ9dsHEH7vIDDmPAZQ==\";\nconsole.log('cipher: '+cipher)\n\n// successfull decryption\nvar decrypted = await window.crypto.subtle.decrypt({name: \"RSA-OAEP\"}, privateKey, str2ab(window.atob(cipher)));\nconst dec = new TextDecoder();\nconsole.log('DECRYPTED MSG:' + dec.decode(decrypted));\n\n})();\n\n\nfunction base64StringToArrayBuffer(base64String){\n    return Uint8Array.from(window.atob(base64String), c =&gt; c.charCodeAt(0));\n}\n\nfunction str2ab(str) {\n    const buf = new ArrayBuffer(str.length);\n    const bufView = new Uint8Array(buf);\n    for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\n        bufView[i] = str.charCodeAt(i);\n    }\n    return buf;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<p>For completeness: In the context of OAEP there are two digests to specify, the content digest and the MGF1 digest. <em>pkeyutl</em> allows to set both independently. If both digests are identical (which is usually the case), it is sufficient to set only the content digest via <code>rsa_oaep_md</code>, i.e. the MGF1 digest implicitly has the same value as long as no other digest is explicitly set via <code>rsa_mgf1_md</code>.</p>\n"}],"owner":{"account_id":17208279,"reputation":89,"user_id":12458326,"display_name":"Ilja Veselov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75287989,"answer_count":1,"score":0,"last_activity_date":1675101248,"creation_date":1675095193,"question_id":75287129,"body_markdown":"When I encrypt a string of text with Java and Openssl - I am unable to decrypt the cipher (using Javascript Crypto Subtle) got from Openssl, however Java cipher is decrypted (with Crypto Subtle Web API JS) succesfully. Could you please look into and advise where is the mistake?\r\n\r\n1. Here are RSA Public and Private key examples in Base64 generated by JS Crypto Sublte API:\r\n\r\nPublic key (RSA-OAEP, monulus 2048, hash SHA-256):\r\n\r\n   ```\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8JhmO71HZ1vb8uxKhw6MM+ZvtTmc9Tw6AFpJVgXKiTjebj1SPdnxhdhJ5Bj15RN0rGNACXhAyUdn7zsp66/tmjNuC91L+9PvQBjDbXLsx7XUV9nIGJ3aYO5/qruVNXwyemf7wlwZVDF7oeZ8JUfjABTg7a7xui2WdXDHgvhTQdvQ9TS0NkX9xWAiDSn/HWfoEBC7TLeKeVjHsT7g1JnskGxfVhFrLfxQCxYZle4ebXP7dCPsff4WNNCxzBQtHHt8iEoZ0SVKBzS5zhdLHIdAIW4ELdnYsM7iTlWZO+kfWnlV2i13lAJobhxOAqwsg4OqkTsrx0KtWfZH40bNtFzx8wIDAQAB\r\n\r\n```\r\n\r\nPrivate Key (the same parameteres):\r\n\r\n```\r\n   MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\r\n\r\n\r\n```\r\n\r\n2. Here is Java Code which receives Public key as Base64 string and create PublicKey instance from ite. Then I am encrypting a string of text with this key and encode the cipher to Base64 string.\r\n\r\n \r\n\r\n     ```\r\n     String stringToEncrypt = &quot;This is encrypted message!!!&quot;;\r\n\r\n    byte[] publicKeyBytes = Base64.getDecoder().decode(&quot;MIIBIjANBgkqhki....&quot;);\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\r\n\r\n    OAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new \r\n     MGF1ParameterSpec(&quot;SHA-256&quot;),PSource.PSpecified.DEFAULT);\r\n\r\n     KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n     PublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\r\n\r\n     cipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams);\r\n\r\n     String cipherBytes = \r\n     Base64.getEncoder().encodeToString(cipher.doFinal(stringToEncrypt.getBytes()));\r\n\r\n    ```\r\n\r\n     The cipherBytes Base64 string then succsefully decrypted by JS Crypto Subtle code below:\r\n\r\n3. First keypair generation code:\r\n\r\n```\r\nconst keyPair = await window.crypto.subtle.generateKey(\r\n            {\r\n                name: &quot;RSA-OAEP&quot;,\r\n                modulusLength: 2048,\r\n                publicExponent: new Uint8Array([1, 0, 1]),\r\n                hash: &quot;SHA-256&quot;\r\n            },\r\n            true,\r\n            [&quot;encrypt&quot;, &quot;decrypt&quot;]\r\n        )\r\n\r\n```\r\n\r\n\r\n\r\nImport Private key = \r\n\r\n```\r\n    return window.crypto.subtle\r\n          .importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {\r\n              name: &quot;RSA-OAEP&quot;,\r\n              hash: &quot;SHA-256&quot;,\r\n          }, true, [&quot;decrypt&quot;]).then(key=&gt;{\r\n              return key;\r\n          })\r\n\r\n```\r\n\r\nAnd then decrypt cipher \r\n\r\n```\r\n        const dec = new TextDecoder();\r\n\r\n        function str2ab(str: any) {\r\n            const buf = new ArrayBuffer(str.length);\r\n            const bufView = new Uint8Array(buf);\r\n            for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\r\n                bufView[i] = str.charCodeAt(i);\r\n            }\r\n\r\n            return buf;\r\n        }\r\n\r\n        console.log(&#39;cipher: &#39;+cipher)\r\n        return window.crypto.subtle.decrypt({\r\n                name: &quot;RSA-OAEP&quot;,\r\n            },\r\n            privateKey,\r\n            str2ab(window.atob(cipher))\r\n        ).then(result=&gt;{\r\n            console.log(&#39;DECRYPTED MSG:&#39;+dec.decode(result));\r\n        })\r\n\r\n\r\n```\r\n\r\nBut the problem is when I try to decrypt the cipher from openssl - it doesn&#39;t work.\r\nHere is the Openssl command which I use:\r\n\r\n```\r\nOpenSSL&gt; rsautl -encrypt -pubin -keyform DER -inkey publicKey.der -oaep -in input.txt -out out.bin\r\n\r\n```\r\nI am using the same Public key, just converted from Base64 string to DER format (converted Base64 string key to DER with Java - 1. Decode base64 string -&gt; byte[]-&gt;write to file each byte)\r\n\r\nAnd finally last Openssl operation to convert binary data from out.bin to Base64 string\r\n\r\n```\r\nOpenSSL&gt; enc -A -base64 -in out.bin -out base64.txt\r\n\r\n``` \r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting different encryption results - RSA - Java and Openssl","body":"<p>When I encrypt a string of text with Java and Openssl - I am unable to decrypt the cipher (using Javascript Crypto Subtle) got from Openssl, however Java cipher is decrypted (with Crypto Subtle Web API JS) succesfully. Could you please look into and advise where is the mistake?</p>\n<ol>\n<li>Here are RSA Public and Private key examples in Base64 generated by JS Crypto Sublte API:</li>\n</ol>\n<p>Public key (RSA-OAEP, monulus 2048, hash SHA-256):</p>\n<pre><code>MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8JhmO71HZ1vb8uxKhw6MM+ZvtTmc9Tw6AFpJVgXKiTjebj1SPdnxhdhJ5Bj15RN0rGNACXhAyUdn7zsp66/tmjNuC91L+9PvQBjDbXLsx7XUV9nIGJ3aYO5/qruVNXwyemf7wlwZVDF7oeZ8JUfjABTg7a7xui2WdXDHgvhTQdvQ9TS0NkX9xWAiDSn/HWfoEBC7TLeKeVjHsT7g1JnskGxfVhFrLfxQCxYZle4ebXP7dCPsff4WNNCxzBQtHHt8iEoZ0SVKBzS5zhdLHIdAIW4ELdnYsM7iTlWZO+kfWnlV2i13lAJobhxOAqwsg4OqkTsrx0KtWfZH40bNtFzx8wIDAQAB\n\n</code></pre>\n<p>Private Key (the same parameteres):</p>\n<pre><code>   MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\n\n\n</code></pre>\n<ol start=\"2\">\n<li><p>Here is Java Code which receives Public key as Base64 string and create PublicKey instance from ite. Then I am encrypting a string of text with this key and encode the cipher to Base64 string.</p>\n<pre><code>String stringToEncrypt = &quot;This is encrypted message!!!&quot;;\n\nbyte[] publicKeyBytes = Base64.getDecoder().decode(&quot;MIIBIjANBgkqhki....&quot;);\n\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\n\nOAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new \nMGF1ParameterSpec(&quot;SHA-256&quot;),PSource.PSpecified.DEFAULT);\n\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n\nPublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\n\ncipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams);\n\nString cipherBytes = \nBase64.getEncoder().encodeToString(cipher.doFinal(stringToEncrypt.getBytes()));\n\n</code></pre>\n<p>The cipherBytes Base64 string then succsefully decrypted by JS Crypto Subtle code below:</p>\n</li>\n<li><p>First keypair generation code:</p>\n</li>\n</ol>\n<pre><code>const keyPair = await window.crypto.subtle.generateKey(\n            {\n                name: &quot;RSA-OAEP&quot;,\n                modulusLength: 2048,\n                publicExponent: new Uint8Array([1, 0, 1]),\n                hash: &quot;SHA-256&quot;\n            },\n            true,\n            [&quot;encrypt&quot;, &quot;decrypt&quot;]\n        )\n\n</code></pre>\n<p>Import Private key =</p>\n<pre><code>    return window.crypto.subtle\n          .importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {\n              name: &quot;RSA-OAEP&quot;,\n              hash: &quot;SHA-256&quot;,\n          }, true, [&quot;decrypt&quot;]).then(key=&gt;{\n              return key;\n          })\n\n</code></pre>\n<p>And then decrypt cipher</p>\n<pre><code>        const dec = new TextDecoder();\n\n        function str2ab(str: any) {\n            const buf = new ArrayBuffer(str.length);\n            const bufView = new Uint8Array(buf);\n            for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\n                bufView[i] = str.charCodeAt(i);\n            }\n\n            return buf;\n        }\n\n        console.log('cipher: '+cipher)\n        return window.crypto.subtle.decrypt({\n                name: &quot;RSA-OAEP&quot;,\n            },\n            privateKey,\n            str2ab(window.atob(cipher))\n        ).then(result=&gt;{\n            console.log('DECRYPTED MSG:'+dec.decode(result));\n        })\n\n\n</code></pre>\n<p>But the problem is when I try to decrypt the cipher from openssl - it doesn't work.\nHere is the Openssl command which I use:</p>\n<pre><code>OpenSSL&gt; rsautl -encrypt -pubin -keyform DER -inkey publicKey.der -oaep -in input.txt -out out.bin\n\n</code></pre>\n<p>I am using the same Public key, just converted from Base64 string to DER format (converted Base64 string key to DER with Java - 1. Decode base64 string -&gt; byte[]-&gt;write to file each byte)</p>\n<p>And finally last Openssl operation to convert binary data from out.bin to Base64 string</p>\n<pre><code>OpenSSL&gt; enc -A -base64 -in out.bin -out base64.txt\n\n</code></pre>\n"},{"tags":["java","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":26864616,"reputation":304,"user_id":20447561,"display_name":"Yuji Bry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675101049,"creation_date":1675101049,"answer_id":75288266,"question_id":75282937,"body_markdown":"I would recommend reaching out to [Firebase support][1] since this is about ownership issue. It’ll be challenging to help you on a public forum without going into project-specific details. The support channel can offer personalized help. \r\n\r\n  [1]: https://firebase.google.com/support\r\n","title":"FCM-I have the server key but I am not remembering the login details to FCM. How will i get details from serverkey?","body":"<p>I would recommend reaching out to <a href=\"https://firebase.google.com/support\" rel=\"nofollow noreferrer\">Firebase support</a> since this is about ownership issue. It’ll be challenging to help you on a public forum without going into project-specific details. The support channel can offer personalized help.</p>\n"}],"owner":{"account_id":18449467,"reputation":80,"user_id":13439943,"display_name":"syam kumar c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675101049,"creation_date":1675073752,"question_id":75282937,"body_markdown":"I have done a project with FCM Push Notification feature. In my java I put the server key from FCM for easily pushing the notification. This was 2 years before and now I am not remembering the Gmail I used to create the FCM account.\r\nIs there any way I can get any information from my server key?","title":"FCM-I have the server key but I am not remembering the login details to FCM. How will i get details from serverkey?","body":"<p>I have done a project with FCM Push Notification feature. In my java I put the server key from FCM for easily pushing the notification. This was 2 years before and now I am not remembering the Gmail I used to create the FCM account.\nIs there any way I can get any information from my server key?</p>\n"},{"tags":["java","spring-boot","validation","thymeleaf"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675295472,"post_id":75288193,"comment_id":132900782,"body_markdown":"https://stackoverflow.com/questions/64266061/using-an-enum-within-a-nested-class-with-thymeleaf-and-spring-boot","body":"<a href=\"https://stackoverflow.com/questions/64266061/using-an-enum-within-a-nested-class-with-thymeleaf-and-spring-boot\" title=\"using an enum within a nested class with thymeleaf and spring boot\">stackoverflow.com/questions/64266061/&hellip;</a>"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675295524,"post_id":75288193,"comment_id":132900788,"body_markdown":"Could try that since your stacktrace shows the value is null","body":"Could try that since your stacktrace shows the value is null"},{"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"score":0,"creation_date":1675344543,"post_id":75288193,"comment_id":132911635,"body_markdown":"the issue is not in enum itself, cuz even the ```String lengthOfOutput``` attribute annotated with\n```@Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)```\ndoes not affect the ```bindingResult.hasErrors()```","body":"the issue is not in enum itself, cuz even the <code>String lengthOfOutput</code> attribute annotated with <code>@Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)</code> does not affect the <code>bindingResult.hasErrors()</code>"}],"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100657,"creation_date":1675100657,"question_id":75288193,"body_markdown":"I&#39;m struggling to get the validation work on simple web form in spring boot + thymeleaf project.\r\n\r\nI&#39;ve got these dependencies in my pom:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThat&#39;s my DTO with @NotEmpty and @Pattern annotated fields:\r\n\r\n    package com.example.randomtext.web;\r\n    import lombok.Getter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.Pattern;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class MainPageForm {\r\n        @NotEmpty(message = &quot;choose the source file&quot;)\r\n        private SourceFile sourceFile;\r\n        private String sourceText;\r\n        private boolean sourceTextSet;\r\n        private String generatedText;\r\n        @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)\r\n        private String lengthOfOutput;\r\n    \r\n        @RequiredArgsConstructor\r\n        @Getter\r\n        public enum SourceFile {\r\n            ALICE(&quot;alice.txt&quot;),\r\n            CONFUCIUS(&quot;confucius.txt&quot;),\r\n            private static final SourceFile[] ALL_VALUES = SourceFile.values();\r\n            private final String fileName;\r\n        }\r\n    }\r\n\r\nthat&#39;s my main.html form\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;title&gt;RandomText&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h3&gt;Random text generator&lt;/h3&gt;\r\n    &lt;pre th:if=&quot;${!mainPageForm.sourceTextSet}&quot; th:style=&quot;&#39;color:red;&#39;&quot;&gt;\r\n        source text not set. Have you chosen the source file?&lt;/pre&gt;\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/random_text}&quot; th:object=&quot;${mainPageForm}&quot;\r\n          method=&quot;post&quot;&gt;\r\n        &lt;label&gt;source file&lt;/label&gt;&lt;br&gt;\r\n        &lt;div th:each=&quot;sourceFile : ${T(com.example.randomtext.web.MainPageForm.SourceFile).values()}&quot;&gt;\r\n            &lt;input type=&quot;radio&quot; th:field=&quot;*{sourceFile}&quot; th:value=&quot;${sourceFile}&quot;&gt;\r\n            &lt;label th:text=&quot;${sourceFile.getFileName()}&quot;&gt;source file&lt;/label&gt;\r\n            &lt;pre th:style=&quot;&#39;color:red;&#39;&quot;\r\n                th:if=&quot;${#fields.hasErrors(&#39;sourceFile&#39;)}&quot;\r\n            th:errors=&quot;*{sourceFile}&quot;&gt;&lt;/pre&gt;\r\n            &lt;br&gt;\r\n        &lt;/div&gt;\r\n        &lt;label&gt;length of string to be generated&lt;br&gt;\r\n            &lt;input type=&quot;text&quot; width=&quot;200&quot; th:field=&quot;*{lengthOfOutput}&quot;&gt;\r\n            &lt;pre th:style=&quot;&#39;color:red;&#39;&quot;\r\n               th:if=&quot;${#fields.hasErrors(&#39;lengthOfOutput&#39;)}&quot;\r\n               th:errors=&quot;*{lengthOfOutput}&quot;&gt;&lt;/pre&gt;\r\n        &lt;/label&gt;&lt;br&gt;&lt;br&gt;\r\n        &lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;input type=&quot;reset&quot; value=&quot;Reset&quot;/&gt;\r\n    &lt;/form&gt;\r\n    &lt;pre th:text=&quot;${mainPageForm.sourceText}&quot; th:style=&quot;&#39;color:black;&#39;&quot;&gt;\r\n        source text&lt;/pre&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nmy controller looks like\r\n\r\n    package com.example.randomtext.web;\r\n    \r\n    import com.example.randomtext.RandomTextService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.net.URISyntaxException;\r\n    \r\n    import static com.example.randomtext.Constants.BASE_PATH;\r\n    import static com.example.randomtext.Constants.MAIN_TEMPLATE;\r\n    \r\n    @Controller\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class MainPageController {\r\n        private final RandomTextService service;\r\n    \r\n        @GetMapping(BASE_PATH)\r\n        public String doGet(MainPageForm form) {\r\n            return MAIN_TEMPLATE;\r\n        }\r\n    \r\n        @PostMapping(BASE_PATH)\r\n        public String doPost(@Valid MainPageForm mainPageForm, BindingResult bindingResult) throws URISyntaxException {\r\n            log.info(&quot;got form data {}&quot;, mainPageForm.toString());\r\n            if (!bindingResult.hasErrors()) {\r\n                log.info(&quot;see no errors :E&quot;);\r\n                log.info(bindingResult.toString());\r\n                log.info(&quot;sourceFile {}&quot;, mainPageForm.getSourceFile().getFileName());\r\n                mainPageForm.setSourceText(service.readSourceString(mainPageForm.getSourceFile().getFileName()));\r\n            } else {\r\n                log.info(&quot;got errors&quot;);\r\n                bindingResult.getFieldErrors()\r\n                             .forEach(e -&gt; log.error(&quot;got validation error {} for field {}&quot;,\r\n                                                     e.getDefaultMessage(),\r\n                                                     e.getField()));\r\n            }\r\n            return MAIN_TEMPLATE;\r\n        }\r\n    }\r\n\r\nand when I submitting the empty form the log output is:\r\n\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : got form data MainPageForm(sourceFile=null, sourceText=null, sourceTextSet=false, generatedText=null, lengthOfOutput=)\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : see no errors :E\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : org.springframework.validation.BeanPropertyBindingResult: 0 errors\r\n    2023-01-30T20:22:49.483+03:00 ERROR 5464 --- [p-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.example.randomtext.web.MainPageForm$SourceFile.getFileName()&quot; because the return value of &quot;com.example.randomtext.web.MainPageForm.getSourceFile()&quot; is null] with root cause\r\n\r\nI&#39;ve looked trough similar questions:\r\nhttps://stackoverflow.com/questions/49492803/spring-boot-validation-doesnt-work\r\nhttps://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\r\nhttps://stackoverflow.com/questions/27111806/validation-form-in-spring-using-valid-not-work\r\nhttps://stackoverflow.com/questions/71330986/dto-validation-in-spring-boot-not-working\r\n\r\nplayed with javax and hibernate validation dependencies versions,\r\ntried maven-clean but nothing of these helped\r\n\r\nI&#39;d appreciate any hint\r\n","title":"themyleaf validation does not work at spring boot + themyleaf project","body":"<p>I'm struggling to get the validation work on simple web form in spring boot + thymeleaf project.</p>\n<p>I've got these dependencies in my pom:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;6.1.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>That's my DTO with @NotEmpty and @Pattern annotated fields:</p>\n<pre><code>package com.example.randomtext.web;\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.Pattern;\n\n@Getter\n@Setter\n@ToString\npublic class MainPageForm {\n    @NotEmpty(message = &quot;choose the source file&quot;)\n    private SourceFile sourceFile;\n    private String sourceText;\n    private boolean sourceTextSet;\n    private String generatedText;\n    @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)\n    private String lengthOfOutput;\n\n    @RequiredArgsConstructor\n    @Getter\n    public enum SourceFile {\n        ALICE(&quot;alice.txt&quot;),\n        CONFUCIUS(&quot;confucius.txt&quot;),\n        private static final SourceFile[] ALL_VALUES = SourceFile.values();\n        private final String fileName;\n    }\n}\n</code></pre>\n<p>that's my main.html form</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;RandomText&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Random text generator&lt;/h3&gt;\n&lt;pre th:if=&quot;${!mainPageForm.sourceTextSet}&quot; th:style=&quot;'color:red;'&quot;&gt;\n    source text not set. Have you chosen the source file?&lt;/pre&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/random_text}&quot; th:object=&quot;${mainPageForm}&quot;\n      method=&quot;post&quot;&gt;\n    &lt;label&gt;source file&lt;/label&gt;&lt;br&gt;\n    &lt;div th:each=&quot;sourceFile : ${T(com.example.randomtext.web.MainPageForm.SourceFile).values()}&quot;&gt;\n        &lt;input type=&quot;radio&quot; th:field=&quot;*{sourceFile}&quot; th:value=&quot;${sourceFile}&quot;&gt;\n        &lt;label th:text=&quot;${sourceFile.getFileName()}&quot;&gt;source file&lt;/label&gt;\n        &lt;pre th:style=&quot;'color:red;'&quot;\n            th:if=&quot;${#fields.hasErrors('sourceFile')}&quot;\n        th:errors=&quot;*{sourceFile}&quot;&gt;&lt;/pre&gt;\n        &lt;br&gt;\n    &lt;/div&gt;\n    &lt;label&gt;length of string to be generated&lt;br&gt;\n        &lt;input type=&quot;text&quot; width=&quot;200&quot; th:field=&quot;*{lengthOfOutput}&quot;&gt;\n        &lt;pre th:style=&quot;'color:red;'&quot;\n           th:if=&quot;${#fields.hasErrors('lengthOfOutput')}&quot;\n           th:errors=&quot;*{lengthOfOutput}&quot;&gt;&lt;/pre&gt;\n    &lt;/label&gt;&lt;br&gt;&lt;br&gt;\n    &lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;input type=&quot;reset&quot; value=&quot;Reset&quot;/&gt;\n&lt;/form&gt;\n&lt;pre th:text=&quot;${mainPageForm.sourceText}&quot; th:style=&quot;'color:black;'&quot;&gt;\n    source text&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my controller looks like</p>\n<pre><code>package com.example.randomtext.web;\n\nimport com.example.randomtext.RandomTextService;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport javax.validation.Valid;\nimport java.net.URISyntaxException;\n\nimport static com.example.randomtext.Constants.BASE_PATH;\nimport static com.example.randomtext.Constants.MAIN_TEMPLATE;\n\n@Controller\n@RequiredArgsConstructor\n@Slf4j\npublic class MainPageController {\n    private final RandomTextService service;\n\n    @GetMapping(BASE_PATH)\n    public String doGet(MainPageForm form) {\n        return MAIN_TEMPLATE;\n    }\n\n    @PostMapping(BASE_PATH)\n    public String doPost(@Valid MainPageForm mainPageForm, BindingResult bindingResult) throws URISyntaxException {\n        log.info(&quot;got form data {}&quot;, mainPageForm.toString());\n        if (!bindingResult.hasErrors()) {\n            log.info(&quot;see no errors :E&quot;);\n            log.info(bindingResult.toString());\n            log.info(&quot;sourceFile {}&quot;, mainPageForm.getSourceFile().getFileName());\n            mainPageForm.setSourceText(service.readSourceString(mainPageForm.getSourceFile().getFileName()));\n        } else {\n            log.info(&quot;got errors&quot;);\n            bindingResult.getFieldErrors()\n                         .forEach(e -&gt; log.error(&quot;got validation error {} for field {}&quot;,\n                                                 e.getDefaultMessage(),\n                                                 e.getField()));\n        }\n        return MAIN_TEMPLATE;\n    }\n}\n</code></pre>\n<p>and when I submitting the empty form the log output is:</p>\n<pre><code>2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : got form data MainPageForm(sourceFile=null, sourceText=null, sourceTextSet=false, generatedText=null, lengthOfOutput=)\n2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : see no errors :E\n2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : org.springframework.validation.BeanPropertyBindingResult: 0 errors\n2023-01-30T20:22:49.483+03:00 ERROR 5464 --- [p-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.example.randomtext.web.MainPageForm$SourceFile.getFileName()&quot; because the return value of &quot;com.example.randomtext.web.MainPageForm.getSourceFile()&quot; is null] with root cause\n</code></pre>\n<p>I've looked trough similar questions:\n<a href=\"https://stackoverflow.com/questions/49492803/spring-boot-validation-doesnt-work\">Spring boot validation doesn&#39;t work</a>\n<a href=\"https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\">Spring boot validation annotations @Valid and @NotBlank not working</a>\n<a href=\"https://stackoverflow.com/questions/27111806/validation-form-in-spring-using-valid-not-work\">Validation form in Spring using @Valid not work</a>\n<a href=\"https://stackoverflow.com/questions/71330986/dto-validation-in-spring-boot-not-working\">DTO validation in Spring Boot not working</a></p>\n<p>played with javax and hibernate validation dependencies versions,\ntried maven-clean but nothing of these helped</p>\n<p>I'd appreciate any hint</p>\n"},{"tags":["java","jackson","reactive-streams","mutiny","smallrye"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1666459804,"post_id":74156376,"comment_id":130944344,"body_markdown":"I had created a `jsongenerator` that creates the wrapper for your first json (not using mutiny) , this could help you ?","body":"I had created a <code>jsongenerator</code> that creates the wrapper for your first json (not using mutiny) , this could help you ?"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666470614,"post_id":74156376,"comment_id":130946446,"body_markdown":"@dariosicily Thanks a lot for your response but I did not understand your response completely. Do you mean you have created JSON using the `JsonGenerator` which you would like to provide? I am already creating the wrapper using the `JsonGenerator` and provided the same using the question. All I need to do is append that JSON to the mutiny which is returning the response asynchronously. I am unable to do it.","body":"@dariosicily Thanks a lot for your response but I did not understand your response completely. Do you mean you have created JSON using the <code>JsonGenerator</code> which you would like to provide? I am already creating the wrapper using the <code>JsonGenerator</code> and provided the same using the question. All I need to do is append that JSON to the mutiny which is returning the response asynchronously. I am unable to do it."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675100416,"creation_date":1675100416,"answer_id":75288153,"question_id":74156376,"body_markdown":"Your approach wouldn&#39;t make as you are wrapping random input that goes out of the `CustomGenerator` control.\r\n\r\nSince you are able to generate the final output only when all emitted `Customer` object are emitted, and supposing you would like to retain a object oriented approach (i.e. not shifting to emitting JSON tokens), you should collect the emitted customers then wrap the collected items into your final JSON output:\r\n\r\n    Uni&lt;byte[]&gt; result = Multi.createFrom().publisher(new CustomerPublisher(input))\r\n        .collect()\r\n        .asList()\r\n        .map(customers -&gt; {\r\n            ByteArrayOutputStream jsonOutput = new ByteArrayOutputStream();\r\n            JsonGenerator jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeArrayFieldStart(&quot;customerList&quot;);\r\n            customers.forEach(customer -&gt; jsonGenerator.writeObject(customer));\r\n            jsonGenerator.writeEndArray();\r\n            jsonGenerator.writeEndObject();\r\n            jsonGenerator.writeEndObject();\r\n            jsonGnenerator.close();\r\n            return jsonOutput.toByteArray();\r\n        });","title":"How to add wrapper JSON to Mutiny Multi?","body":"<p>Your approach wouldn't make as you are wrapping random input that goes out of the <code>CustomGenerator</code> control.</p>\n<p>Since you are able to generate the final output only when all emitted <code>Customer</code> object are emitted, and supposing you would like to retain a object oriented approach (i.e. not shifting to emitting JSON tokens), you should collect the emitted customers then wrap the collected items into your final JSON output:</p>\n<pre><code>Uni&lt;byte[]&gt; result = Multi.createFrom().publisher(new CustomerPublisher(input))\n    .collect()\n    .asList()\n    .map(customers -&gt; {\n        ByteArrayOutputStream jsonOutput = new ByteArrayOutputStream();\n        JsonGenerator jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n        jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n        jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeArrayFieldStart(&quot;customerList&quot;);\n        customers.forEach(customer -&gt; jsonGenerator.writeObject(customer));\n        jsonGenerator.writeEndArray();\n        jsonGenerator.writeEndObject();\n        jsonGenerator.writeEndObject();\n        jsonGnenerator.close();\n        return jsonOutput.toByteArray();\n    });\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675100416,"creation_date":1666368424,"question_id":74156376,"body_markdown":"I have a Java method which creates the customer information in JSON format using the streams approach and returns as and when it is created in an asynchronous approach using the `Multi` from `SmallRye Mutiny`. \r\n\r\nI would like to add the wrapper to this JSON which is being created using the `Jackson JsonGenerator`. I don&#39;t understand how to add the same. I believe I need to make use of the `Multi.createBy().concatenating()` to achieve [this][1].\r\n\r\nThe following is the method that I have:\r\n```\r\npublic static Multi&lt;Customer&gt; generateCustomer(final Input input) {\r\n    try {\r\n        return Multi.createFrom().publisher(new CustomerPublisher(input));\r\n    } catch (Exception e) {\r\n        throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n    }\r\n}\r\n```\r\n\r\nThe above method currently returns something like this asynchronously:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;:&quot;Batman&quot;,\r\n    &quot;age&quot;:45,\r\n    &quot;city&quot;:&quot;gotham&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;:&quot;superman&quot;,\r\n    &quot;age&quot;:50,\r\n    &quot;city&quot;:&quot;moon&quot;\r\n  }\r\n]\r\n```\r\n\r\nI would like to add a wrapper to this JSON and create something like this:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nSo I have added a method which does this and I would like to call the same, but I am unable to append the same to my ` return Multi.createFrom().publisher`\r\n\r\n```\r\npublic class CustomerGenerator {\r\n\r\n    private ByteArrayOutputStream jsonOutput;\r\n    private JsonGenerator jsonGenerator;\r\n\r\n    private CustomerGenerator() {\r\n        try {\r\n            jsonOutput = new ByteArrayOutputStream();\r\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public static Multi &lt; Customer &gt; generateCustomer(final Input input) {\r\n        CustomerGenerator customerGenerator = new CustomerGenerator();\r\n        customerGenerator.wrapperStart();\r\n        try {\r\n            return Multi.createFrom().publisher(new CustomerPublisher(input));\r\n        } catch (Exception e) {\r\n            throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n        } finally {\r\n            System.out.println(&quot;ALL DONE&quot;);\r\n            customerGenerator.wrapperEnd();\r\n        }\r\n    }\r\n\r\n    public void wrapperStart() {\r\n        try {\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public void wrapperEnd() {\r\n        try {\r\n            jsonGenerator.writeEndObject(); // End body\r\n            jsonGenerator.writeEndObject(); // End whole json file\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n        } finally {\r\n            try {\r\n                jsonGenerator.close();\r\n                System.out.println(&quot;JSON DOCUMENT STRING : &quot; + jsonOutput.toString());\r\n            } catch (Exception e) {\r\n                // do nothing\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/1.7.0/guides/merging-and-concatenating-streams/#merging-multis","title":"How to add wrapper JSON to Mutiny Multi?","body":"<p>I have a Java method which creates the customer information in JSON format using the streams approach and returns as and when it is created in an asynchronous approach using the <code>Multi</code> from <code>SmallRye Mutiny</code>.</p>\n<p>I would like to add the wrapper to this JSON which is being created using the <code>Jackson JsonGenerator</code>. I don't understand how to add the same. I believe I need to make use of the <code>Multi.createBy().concatenating()</code> to achieve <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/merging-and-concatenating-streams/#merging-multis\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>The following is the method that I have:</p>\n<pre><code>public static Multi&lt;Customer&gt; generateCustomer(final Input input) {\n    try {\n        return Multi.createFrom().publisher(new CustomerPublisher(input));\n    } catch (Exception e) {\n        throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n    }\n}\n</code></pre>\n<p>The above method currently returns something like this asynchronously:</p>\n<pre><code>[\n  {\n    &quot;name&quot;:&quot;Batman&quot;,\n    &quot;age&quot;:45,\n    &quot;city&quot;:&quot;gotham&quot;\n  },\n  {\n    &quot;name&quot;:&quot;superman&quot;,\n    &quot;age&quot;:50,\n    &quot;city&quot;:&quot;moon&quot;\n  }\n]\n</code></pre>\n<p>I would like to add a wrapper to this JSON and create something like this:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>So I have added a method which does this and I would like to call the same, but I am unable to append the same to my <code> return Multi.createFrom().publisher</code></p>\n<pre><code>public class CustomerGenerator {\n\n    private ByteArrayOutputStream jsonOutput;\n    private JsonGenerator jsonGenerator;\n\n    private CustomerGenerator() {\n        try {\n            jsonOutput = new ByteArrayOutputStream();\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\n        }\n    }\n\n    public static Multi &lt; Customer &gt; generateCustomer(final Input input) {\n        CustomerGenerator customerGenerator = new CustomerGenerator();\n        customerGenerator.wrapperStart();\n        try {\n            return Multi.createFrom().publisher(new CustomerPublisher(input));\n        } catch (Exception e) {\n            throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n        } finally {\n            System.out.println(&quot;ALL DONE&quot;);\n            customerGenerator.wrapperEnd();\n        }\n    }\n\n    public void wrapperStart() {\n        try {\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n        }\n    }\n\n    public void wrapperEnd() {\n        try {\n            jsonGenerator.writeEndObject(); // End body\n            jsonGenerator.writeEndObject(); // End whole json file\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n        } finally {\n            try {\n                jsonGenerator.close();\n                System.out.println(&quot;JSON DOCUMENT STRING : &quot; + jsonOutput.toString());\n            } catch (Exception e) {\n                // do nothing\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","annotation-processing"],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100407,"creation_date":1675100407,"question_id":75288150,"body_markdown":"I have the following annotations:\r\n\r\n```\r\npublic @interface A { B[] value(); }\r\npublic @interface B { C[] value(); }\r\npublic @interface C { Class&lt;?&gt; value(); }\r\n```\r\n\r\nOn the method that I use to process, I receive the annotation itself not the annotation mirror and that behaviour cannot be changed.\r\n\r\n```\r\npublic void process(B annotation)\r\n```\r\n\r\nTo get the class from C I do the following:\r\n\r\n```\r\n    private TypeMirror getClassFromAnnotation( C annotation )\r\n    {\r\n        try\r\n        {\r\n            return getTypeMirror( annotation.value() );\r\n        }\r\n        catch ( MirroredTypeException ex )\r\n        {\r\n            return ex.getTypeMirror();\r\n        }\r\n    }\r\n```\r\n\r\nThe code works fine but the issue comes down when I do the tests.\r\n\r\nI can&#39;t achieve 100% coverage because `return getTypeMirror( annotation.value() )` never gets executed.\r\n\r\nHow can I fix this?\r\n\r\nThanks","title":"Get Class&lt;?&gt; from annotation on annotation processor","body":"<p>I have the following annotations:</p>\n<pre><code>public @interface A { B[] value(); }\npublic @interface B { C[] value(); }\npublic @interface C { Class&lt;?&gt; value(); }\n</code></pre>\n<p>On the method that I use to process, I receive the annotation itself not the annotation mirror and that behaviour cannot be changed.</p>\n<pre><code>public void process(B annotation)\n</code></pre>\n<p>To get the class from C I do the following:</p>\n<pre><code>    private TypeMirror getClassFromAnnotation( C annotation )\n    {\n        try\n        {\n            return getTypeMirror( annotation.value() );\n        }\n        catch ( MirroredTypeException ex )\n        {\n            return ex.getTypeMirror();\n        }\n    }\n</code></pre>\n<p>The code works fine but the issue comes down when I do the tests.</p>\n<p>I can't achieve 100% coverage because <code>return getTypeMirror( annotation.value() )</code> never gets executed.</p>\n<p>How can I fix this?</p>\n<p>Thanks</p>\n"},{"tags":["java","class","java.util.scanner","printwriter"],"comments":[{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1675104466,"post_id":75288139,"comment_id":132852801,"body_markdown":"This thread might help: https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final","body":"This thread might help: <a href=\"https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final\" title=\"why is the java util scanner class declared final\">stackoverflow.com/questions/3776940/&hellip;</a>"}],"owner":{"account_id":26365556,"reputation":1,"user_id":20021091,"display_name":"Mohammed Alsafari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100330,"creation_date":1675100330,"question_id":75288139,"body_markdown":"As a new OOP programmer, our instructor has faced us with an interesting question. \\*Why we can&#39;t inherent a Scanner class?&quot; He said.\r\n\r\nAt first it was kinda obvious, &quot;Because it is declared as final!&quot; We said.\r\n\r\nHe said: &quot;Ok.. Why is the Scanner class defined as final, while PrintWriter is not? and by the way it is not because of security reasons. look it up!&quot;?\r\n\r\nWhat a great question in my sight! they are very similar, we use the first one to scan &amp; input and the second one to write &amp; output.\r\n\r\nI&#39;ve already seen some other similar question in stack overflow, [here](https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final). But I wasn&#39;t satisfied with the answers.\r\n\r\n----------\r\n\r\nSo my question is &quot;Why is the Scanner class is defined as final, while PrintWriter is not?&quot;.\r\n\r\nI tried to search it in google, found no answer. Matter of fact, found no body asking the same question.\r\n\r\nI also looked the Scanner &amp; PrintWriter java documentation. found nothing that justifies it.","title":"Why is the Scanner class in java is defined as final while PrintWriter is not?","body":"<p>As a new OOP programmer, our instructor has faced us with an interesting question. *Why we can't inherent a Scanner class?&quot; He said.</p>\n<p>At first it was kinda obvious, &quot;Because it is declared as final!&quot; We said.</p>\n<p>He said: &quot;Ok.. Why is the Scanner class defined as final, while PrintWriter is not? and by the way it is not because of security reasons. look it up!&quot;?</p>\n<p>What a great question in my sight! they are very similar, we use the first one to scan &amp; input and the second one to write &amp; output.</p>\n<p>I've already seen some other similar question in stack overflow, <a href=\"https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final\">here</a>. But I wasn't satisfied with the answers.</p>\n<hr />\n<p>So my question is &quot;Why is the Scanner class is defined as final, while PrintWriter is not?&quot;.</p>\n<p>I tried to search it in google, found no answer. Matter of fact, found no body asking the same question.</p>\n<p>I also looked the Scanner &amp; PrintWriter java documentation. found nothing that justifies it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9304,"page":688,"page_size":100}
