{"items":[{"tags":["java","sockets","serversocket"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1673386646,"post_id":75075601,"comment_id":132486441,"body_markdown":"A few things I created back in the day that might help you: ServerSocketEx (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java) and DataFetcher https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/DataFetcher.java","body":"A few things I created back in the day that might help you: ServerSocketEx (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>) and DataFetcher <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/DataFetcher.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27492393,"reputation":1,"user_id":20977488,"display_name":"banana13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673386342,"creation_date":1673386342,"answer_id":75076084,"question_id":75075601,"body_markdown":"Never mind, I found a bug. bufferedWriter.flush() should be after bufferedWriter.newLine();\r\n\r\n    Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\r\n                    BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\r\n                    bufferedWriter.write(&quot;initialize&quot;);\r\n                    bufferedWriter.newLine();\r\n    bufferedWriter.flush();\r\n\r\n","title":"Why my ServerSocket doesn&#39;t receive message from socket?","body":"<p>Never mind, I found a bug. bufferedWriter.flush() should be after bufferedWriter.newLine();</p>\n<pre><code>Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\n                bufferedWriter.write(&quot;initialize&quot;);\n                bufferedWriter.newLine();\nbufferedWriter.flush();\n</code></pre>\n"}],"owner":{"account_id":27492393,"reputation":1,"user_id":20977488,"display_name":"banana13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75076084,"answer_count":1,"score":0,"last_activity_date":1673386342,"creation_date":1673383265,"question_id":75075601,"body_markdown":"My ServerSocket can&#39;t get message from socket.\r\n\r\nMy class World with ServerSocket:\r\n\r\n```\r\npackage main;\r\n\r\nimport panels.MainFrameConsole;\r\n\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.Random;\r\n\r\npublic class World {\r\n    ServerSocket serverSocket;\r\n    Thread threadServer;\r\n\r\n    public static void main(String[] args) {\r\n        MainFrameConsole mainFrameConsole = new MainFrameConsole(&quot;World&quot;);\r\n        World world = new World();\r\n        world.startConsole();\r\n    }\r\n\r\n\r\n    public void startConsole()\r\n    {\r\n        threadServer = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    serverSocket = new ServerSocket(2002);\r\n                    while (!serverSocket.isClosed())\r\n                    {\r\n                        System.out.println(&quot;here&quot;);\r\n                        Socket socketShip = serverSocket.accept();\r\n                        System.out.println(&quot;here2&quot;);\r\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(socketShip.getInputStream()));\r\n                        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socketShip.getOutputStream()));\r\n                        String str = reader.readLine();\r\n\r\n                        System.out.println(str);\r\n                        if (str.startsWith(&quot;initialize&quot;))\r\n                           writer.write(initializeShip(str));\r\n                    }\r\n                }\r\n                catch (IOException e)\r\n                {\r\n\r\n                }\r\n            }\r\n        });\r\n        threadServer.start();\r\n    }\r\n}\r\n```\r\n\r\nMy class with Socket:\r\n\r\n```\r\npackage main;\r\n\r\nimport panels.MainFrameConsole;\r\nimport panels.PanelInside;\r\nimport panels.PanelRegion;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class Ship {\r\n    int x;\r\n    int y;\r\n    String id;\r\n    MainFrameConsole frameConsole;\r\n\r\n    public static void main(String[] args) {\r\n        Ship ship = new Ship();\r\n        ship.createFrame();\r\n    }\r\n\r\n    public void createFrame()\r\n    {\r\n        frameConsole = new MainFrameConsole(&quot;Ship &quot; + id,new OptionPanel());\r\n    }\r\n    public void initialize()\r\n    {\r\n        Thread threadShip = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\r\n                    BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\r\n                    bufferedWriter.write(&quot;initialize&quot;);\r\n                    bufferedWriter.newLine();\r\n\r\n                    String str = bufferedReader.readLine();\r\n                    String[] array = str.split(&quot; &quot;);\r\n                    id = array[0];\r\n                    y = Integer.parseInt(array[1]);\r\n                    x = Integer.parseInt(array[2]);\r\n\r\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].setShape(1);\r\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].repaint();\r\n\r\n                    bufferedWriter.flush();\r\n                    bufferedWriter.close();\r\n                    bufferedReader.close();\r\n                    socketToWorld.close();\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        threadShip.start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m running 2 apps: Ship and World\r\nIn frameConsole, i&#39;ve got button which run ship.initialize(). When I click it, in console I&#39;ve got only output:\r\nhere\r\nhere2\r\n\r\nWhy serverSocket can&#39;t get message from socket (&quot;initialize&quot;)?","title":"Why my ServerSocket doesn&#39;t receive message from socket?","body":"<p>My ServerSocket can't get message from socket.</p>\n<p>My class World with ServerSocket:</p>\n<pre><code>package main;\n\nimport panels.MainFrameConsole;\n\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.Random;\n\npublic class World {\n    ServerSocket serverSocket;\n    Thread threadServer;\n\n    public static void main(String[] args) {\n        MainFrameConsole mainFrameConsole = new MainFrameConsole(&quot;World&quot;);\n        World world = new World();\n        world.startConsole();\n    }\n\n\n    public void startConsole()\n    {\n        threadServer = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    serverSocket = new ServerSocket(2002);\n                    while (!serverSocket.isClosed())\n                    {\n                        System.out.println(&quot;here&quot;);\n                        Socket socketShip = serverSocket.accept();\n                        System.out.println(&quot;here2&quot;);\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(socketShip.getInputStream()));\n                        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socketShip.getOutputStream()));\n                        String str = reader.readLine();\n\n                        System.out.println(str);\n                        if (str.startsWith(&quot;initialize&quot;))\n                           writer.write(initializeShip(str));\n                    }\n                }\n                catch (IOException e)\n                {\n\n                }\n            }\n        });\n        threadServer.start();\n    }\n}\n</code></pre>\n<p>My class with Socket:</p>\n<pre><code>package main;\n\nimport panels.MainFrameConsole;\nimport panels.PanelInside;\nimport panels.PanelRegion;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.net.*;\nimport java.io.*;\n\npublic class Ship {\n    int x;\n    int y;\n    String id;\n    MainFrameConsole frameConsole;\n\n    public static void main(String[] args) {\n        Ship ship = new Ship();\n        ship.createFrame();\n    }\n\n    public void createFrame()\n    {\n        frameConsole = new MainFrameConsole(&quot;Ship &quot; + id,new OptionPanel());\n    }\n    public void initialize()\n    {\n        Thread threadShip = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Socket socketToWorld = new Socket(&quot;127.0.0.1&quot;,2002);\n                    BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socketToWorld.getOutputStream()));\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(socketToWorld.getInputStream()));\n                    bufferedWriter.write(&quot;initialize&quot;);\n                    bufferedWriter.newLine();\n\n                    String str = bufferedReader.readLine();\n                    String[] array = str.split(&quot; &quot;);\n                    id = array[0];\n                    y = Integer.parseInt(array[1]);\n                    x = Integer.parseInt(array[2]);\n\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].setShape(1);\n                    frameConsole.getPanelConsole().getArrayOfPanelsMain()[countRegionY(y)][countRegionX(x)].getPanels()[y%5][x%5].repaint();\n\n                    bufferedWriter.flush();\n                    bufferedWriter.close();\n                    bufferedReader.close();\n                    socketToWorld.close();\n                }\n                catch (IOException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        });\n        threadShip.start();\n    }\n}\n</code></pre>\n<p>I'm running 2 apps: Ship and World\nIn frameConsole, i've got button which run ship.initialize(). When I click it, in console I've got only output:\nhere\nhere2</p>\n<p>Why serverSocket can't get message from socket (&quot;initialize&quot;)?</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":7812117,"reputation":2519,"user_id":5908014,"display_name":"tpschmidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595840035,"creation_date":1595839505,"answer_id":63111698,"question_id":63110545,"body_markdown":"I think the issues arises due to the different ports of the app and the actuator.\r\n\r\nChanging it to 0 should do the trick for your tests:\r\n\r\n    @TestPropertySource(properties = { &quot;management.server.port=0&quot; })\r\n\r\n**Edit** - I&#39;ve found a related post, maybe you can check out other solutions proposed there (even there&#39;s no accepted answer): [Unit testing of Spring Boot Actuator endpoints not working when specifying a port][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38505434/unit-testing-of-spring-boot-actuator-endpoints-not-working-when-specifying-a-por","title":"Spring Boot MockMvc test giving 404 for actuator endpoint when using the &quot;management.server.port&quot; property instead of the deprecated &quot;management.port&quot;","body":"<p>I think the issues arises due to the different ports of the app and the actuator.</p>\n<p>Changing it to 0 should do the trick for your tests:</p>\n<pre><code>@TestPropertySource(properties = { &quot;management.server.port=0&quot; })\n</code></pre>\n<p><strong>Edit</strong> - I've found a related post, maybe you can check out other solutions proposed there (even there's no accepted answer): <a href=\"https://stackoverflow.com/questions/38505434/unit-testing-of-spring-boot-actuator-endpoints-not-working-when-specifying-a-por\">Unit testing of Spring Boot Actuator endpoints not working when specifying a port</a></p>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673385397,"creation_date":1673385397,"answer_id":75075947,"question_id":63110545,"body_markdown":"You can use the same approach as the [official guide][1] says.\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@TestPropertySource(properties = {&quot;management.port=0&quot;})\r\npublic class HelloWorldApplicationTests {\r\n\r\n  @LocalServerPort\r\n  private int port;\r\n\r\n  @Value(&quot;${local.management.port}&quot;)\r\n  private int mgt;\r\n\r\n  @Autowired\r\n  private TestRestTemplate testRestTemplate;\r\n\r\n  @Test\r\n  public void shouldReturn200WhenSendingRequestToController() throws Exception {\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\r\n        &quot;http://localhost:&quot; + this.port + &quot;/hello-world&quot;, Map.class);\r\n\r\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n  }\r\n\r\n  @Test\r\n  public void shouldReturn200WhenSendingRequestToManagementEndpoint() throws Exception {\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\r\n        &quot;http://localhost:&quot; + this.mgt + &quot;/actuator&quot;, Map.class);\r\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n  }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://spring.io/guides/gs/actuator-service/","title":"Spring Boot MockMvc test giving 404 for actuator endpoint when using the &quot;management.server.port&quot; property instead of the deprecated &quot;management.port&quot;","body":"<p>You can use the same approach as the <a href=\"https://spring.io/guides/gs/actuator-service/\" rel=\"nofollow noreferrer\">official guide</a> says.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@TestPropertySource(properties = {&quot;management.port=0&quot;})\npublic class HelloWorldApplicationTests {\n\n  @LocalServerPort\n  private int port;\n\n  @Value(&quot;${local.management.port}&quot;)\n  private int mgt;\n\n  @Autowired\n  private TestRestTemplate testRestTemplate;\n\n  @Test\n  public void shouldReturn200WhenSendingRequestToController() throws Exception {\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\n        &quot;http://localhost:&quot; + this.port + &quot;/hello-world&quot;, Map.class);\n\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\n  }\n\n  @Test\n  public void shouldReturn200WhenSendingRequestToManagementEndpoint() throws Exception {\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    ResponseEntity&lt;Map&gt; entity = this.testRestTemplate.getForEntity(\n        &quot;http://localhost:&quot; + this.mgt + &quot;/actuator&quot;, Map.class);\n    then(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5739310,"reputation":155,"user_id":4532475,"display_name":"GauravEdekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673385397,"creation_date":1595834751,"question_id":63110545,"body_markdown":"I was earlier using the management.port in the application yaml for the management endpoint port. However, changed it to using as in the below application yaml file. It has been failing my actuator test for the health endpoint. The endpoint works as normal when i run the application.\r\n\r\napplication.yaml\r\n\r\n``` \r\nspring:\r\n  profiles.active: development\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot;\r\n  server:\r\n    port: 9000\r\n\r\nserver:\r\n  port: 8000\r\n---\r\nspring:\r\n  profiles: development\r\n\r\nlogging:\r\n  level:\r\n    root: INFO\r\n    org.springframework.web: INFO\r\n\r\n---\r\nspring:\r\n  profiles: staging\r\n\r\nlogging:\r\n  level:\r\n    root: ERROR\r\n    org.springframework.web: ERROR\r\n``` \r\n\r\nIntegration Test Class\r\n\r\n``` \r\npackage com.rps;\r\n\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.Assert.assertThat;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\nimport com.rps.infrastructure.repository.PlayersInMemoryRepository;\r\nimport org.hamcrest.Matchers;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.web.context.WebApplicationContext;\r\n\r\n/**\r\n * Integration testing the actual API Check the guide here: https://spring.io/guides/gs/testing-web/\r\n */\r\n@SpringBootTest\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\npublic class RPSApplicationIT {\r\n\r\n  @Autowired\r\n  private WebApplicationContext context;\r\n\r\n  @Autowired\r\n  private PlayersInMemoryRepository playersInMemoryRepository;\r\n\r\n  private MockMvc mockMvc;\r\n\r\n  @Before\r\n  public void setupMockMvc() {\r\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\r\n  }\r\n\r\n  @Test\r\n  public void shouldReturnActuatorHealthResponse() throws Exception {\r\n    this.mockMvc.perform(get(&quot;/actuator/health&quot;))\r\n        .andDo(print())\r\n        .andExpect(status().isOk())\r\n        .andExpect(content().json(&quot;{\\&quot;status\\&quot;:\\&quot;UP\\&quot;}&quot;));\r\n  }\r\n\r\n}\r\n\r\n``` \r\n\r\n","title":"Spring Boot MockMvc test giving 404 for actuator endpoint when using the &quot;management.server.port&quot; property instead of the deprecated &quot;management.port&quot;","body":"<p>I was earlier using the management.port in the application yaml for the management endpoint port. However, changed it to using as in the below application yaml file. It has been failing my actuator test for the health endpoint. The endpoint works as normal when i run the application.</p>\n<p>application.yaml</p>\n<pre><code>spring:\n  profiles.active: development\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n  server:\n    port: 9000\n\nserver:\n  port: 8000\n---\nspring:\n  profiles: development\n\nlogging:\n  level:\n    root: INFO\n    org.springframework.web: INFO\n\n---\nspring:\n  profiles: staging\n\nlogging:\n  level:\n    root: ERROR\n    org.springframework.web: ERROR\n</code></pre>\n<p>Integration Test Class</p>\n<pre><code>package com.rps;\n\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertThat;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport com.rps.infrastructure.repository.PlayersInMemoryRepository;\nimport org.hamcrest.Matchers;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\n\n/**\n * Integration testing the actual API Check the guide here: https://spring.io/guides/gs/testing-web/\n */\n@SpringBootTest\n@RunWith(SpringJUnit4ClassRunner.class)\npublic class RPSApplicationIT {\n\n  @Autowired\n  private WebApplicationContext context;\n\n  @Autowired\n  private PlayersInMemoryRepository playersInMemoryRepository;\n\n  private MockMvc mockMvc;\n\n  @Before\n  public void setupMockMvc() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\n  }\n\n  @Test\n  public void shouldReturnActuatorHealthResponse() throws Exception {\n    this.mockMvc.perform(get(&quot;/actuator/health&quot;))\n        .andDo(print())\n        .andExpect(status().isOk())\n        .andExpect(content().json(&quot;{\\&quot;status\\&quot;:\\&quot;UP\\&quot;}&quot;));\n  }\n\n}\n\n</code></pre>\n"},{"tags":["java","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673385381,"creation_date":1673385381,"answer_id":75075942,"question_id":75072867,"body_markdown":"You can implement a &quot;non-local&quot; `ArchCondition` (i.e. one that relies on all objects to test) by overwriting its [`init(Collection&lt;T&gt; allObjectsToTest)`](https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/ArchCondition.html#init(java.util.Collection)) method.\r\n\r\nArchUnit&#39;s library of `GeneralCodingRules` has a [`testClassesShouldResideInTheSamePackageAsImplementation()`](https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/library/GeneralCodingRules.html#testClassesShouldResideInTheSamePackageAsImplementation()), whose [implementation](https://github.com/TNG/ArchUnit/blob/v1.0.1/archunit/src/main/java/com/tngtech/archunit/library/GeneralCodingRules.java#L423-L482) is a good starting point to come up with something like this:\r\n\r\n```java\r\n@ArchTest\r\nstatic final ArchRule relevant_classes_should_have_tests =\r\n        classes()\r\n            .that()\r\n                .areTopLevelClasses()\r\n                .and().areNotInterfaces()\r\n                .and().areNotRecords()\r\n                .and().areNotEnums()\r\n            .should(haveACorrespondingClassEndingWith(&quot;Test&quot;));\r\n\r\nprivate static ArchCondition&lt;JavaClass&gt; haveACorrespondingClassEndingWith(String testClassSuffix) {\r\n    return new ArchCondition&lt;JavaClass&gt;(&quot;have a corresponding class with suffix &quot; + testClassSuffix) {\r\n        Set&lt;String&gt; testedClasseNames = emptySet();\r\n\r\n        @Override\r\n        public void init(Collection&lt;JavaClass&gt; allClasses) {\r\n            testedClasseNames = allClasses.stream()\r\n                    .map(JavaClass::getName)\r\n                    .filter(className -&gt; className.endsWith(testClassSuffix))\r\n                    .map(className -&gt; className.substring(0, className.length() - testClassSuffix.length()))\r\n                    .collect(toSet());\r\n        }\r\n\r\n        @Override\r\n        public void check(JavaClass clazz, ConditionEvents events) {\r\n            if (!clazz.getName().endsWith(testClassSuffix)) {\r\n                boolean satisfied = testedClasseNames.contains(clazz.getName());\r\n                String message = createMessage(clazz, &quot;has &quot; + (satisfied ? &quot;a&quot; : &quot;no&quot;) + &quot; corresponding test class&quot;);\r\n                events.add(new SimpleConditionEvent(clazz, satisfied, message));\r\n            }\r\n        }\r\n    };\r\n}\r\n```","title":"Archunit enforce test coverage","body":"<p>You can implement a &quot;non-local&quot; <code>ArchCondition</code> (i.e. one that relies on all objects to test) by overwriting its <a href=\"https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/ArchCondition.html#init(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>init(Collection&lt;T&gt; allObjectsToTest)</code></a> method.</p>\n<p>ArchUnit's library of <code>GeneralCodingRules</code> has a <a href=\"https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/library/GeneralCodingRules.html#testClassesShouldResideInTheSamePackageAsImplementation()\" rel=\"nofollow noreferrer\"><code>testClassesShouldResideInTheSamePackageAsImplementation()</code></a>, whose <a href=\"https://github.com/TNG/ArchUnit/blob/v1.0.1/archunit/src/main/java/com/tngtech/archunit/library/GeneralCodingRules.java#L423-L482\" rel=\"nofollow noreferrer\">implementation</a> is a good starting point to come up with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nstatic final ArchRule relevant_classes_should_have_tests =\n        classes()\n            .that()\n                .areTopLevelClasses()\n                .and().areNotInterfaces()\n                .and().areNotRecords()\n                .and().areNotEnums()\n            .should(haveACorrespondingClassEndingWith(&quot;Test&quot;));\n\nprivate static ArchCondition&lt;JavaClass&gt; haveACorrespondingClassEndingWith(String testClassSuffix) {\n    return new ArchCondition&lt;JavaClass&gt;(&quot;have a corresponding class with suffix &quot; + testClassSuffix) {\n        Set&lt;String&gt; testedClasseNames = emptySet();\n\n        @Override\n        public void init(Collection&lt;JavaClass&gt; allClasses) {\n            testedClasseNames = allClasses.stream()\n                    .map(JavaClass::getName)\n                    .filter(className -&gt; className.endsWith(testClassSuffix))\n                    .map(className -&gt; className.substring(0, className.length() - testClassSuffix.length()))\n                    .collect(toSet());\n        }\n\n        @Override\n        public void check(JavaClass clazz, ConditionEvents events) {\n            if (!clazz.getName().endsWith(testClassSuffix)) {\n                boolean satisfied = testedClasseNames.contains(clazz.getName());\n                String message = createMessage(clazz, &quot;has &quot; + (satisfied ? &quot;a&quot; : &quot;no&quot;) + &quot; corresponding test class&quot;);\n                events.add(new SimpleConditionEvent(clazz, satisfied, message));\n            }\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075942,"answer_count":1,"score":0,"last_activity_date":1673385381,"creation_date":1673367467,"question_id":75072867,"body_markdown":"How can I enforce using Archunit that every class has a correspondent test class?\r\n\r\nI&#39;m able to get all the class that I want to check using this Rule:\r\n\r\n```\r\n        classes().that()\r\n                 .areNotInterfaces()\r\n                 .and()\r\n                 .areNotAnonymousClasses()\r\n                 .and()\r\n                 .areNotRecords()\r\n                 .and()\r\n                 .areNotEnums()\r\n                 .should()\r\n```\r\n\r\nBut not sure where to go from here.\r\n\r\nThanks","title":"Archunit enforce test coverage","body":"<p>How can I enforce using Archunit that every class has a correspondent test class?</p>\n<p>I'm able to get all the class that I want to check using this Rule:</p>\n<pre><code>        classes().that()\n                 .areNotInterfaces()\n                 .and()\n                 .areNotAnonymousClasses()\n                 .and()\n                 .areNotRecords()\n                 .and()\n                 .areNotEnums()\n                 .should()\n</code></pre>\n<p>But not sure where to go from here.</p>\n<p>Thanks</p>\n"},{"tags":["java","sdk","android-uiautomator"],"answers":[{"tags":[],"owner":{"account_id":2066910,"reputation":191,"user_id":1842262,"display_name":"Venkatesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533528665,"creation_date":1533528665,"answer_id":51700454,"question_id":49072271,"body_markdown":"If your using JDK 9 or 10 Please downgrade it to JDK 8. It should solve the problem. \r\n\r\nAlso ensure you have set the below path&#39;s correctly. \r\n\r\nANDROID_HOME  C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\r\n\r\nJAVA_HOME     C:\\Program Files\\Java\\jdk1.8.0_181\r\n\r\nUnder path in System variables \r\n\r\nC:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools\\bin \r\n\r\nC:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools\r\n\r\nC:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n\r\nC:\\Program Files\\Java\\jdk1.8.0_181\\bin","title":"Unable to launch the UI Automator viewer","body":"<p>If your using JDK 9 or 10 Please downgrade it to JDK 8. It should solve the problem. </p>\n\n<p>Also ensure you have set the below path's correctly. </p>\n\n<p>ANDROID_HOME  C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk</p>\n\n<p>JAVA_HOME     C:\\Program Files\\Java\\jdk1.8.0_181</p>\n\n<p>Under path in System variables </p>\n\n<p>C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools\\bin </p>\n\n<p>C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\tools</p>\n\n<p>C:\\Users\\xxx\\AppData\\Local\\Android\\Sdk\\platform-tools</p>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_181\\bin</p>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663214391,"creation_date":1663214391,"answer_id":73725475,"question_id":49072271,"body_markdown":"Adding here as Answer so that It should be clear to everyone.\r\n\r\nFound a solution which **DON&#39;T NEED ONE TO DOWNGRADE TO JAVA 8**+\r\nso, there is an option for JRE to run VM for &quot;uiautomatorviewer&quot;. \r\n\r\nStep:1\r\n One needs to install Android Studio\r\n\r\nStep:2\r\nAdd the below location to &quot;path&quot; System Variable-\r\n   \r\n    C:\\Program Files\\Android\\Android Studio\\jre\\bin\r\n\r\n I have jdk-11.0.6 and &quot;uiautomatorviewer&quot; is working fine","title":"Unable to launch the UI Automator viewer","body":"<p>Adding here as Answer so that It should be clear to everyone.</p>\n<p>Found a solution which <strong>DON'T NEED ONE TO DOWNGRADE TO JAVA 8</strong>+\nso, there is an option for JRE to run VM for &quot;uiautomatorviewer&quot;.</p>\n<p>Step:1\nOne needs to install Android Studio</p>\n<p>Step:2\nAdd the below location to &quot;path&quot; System Variable-</p>\n<pre><code>C:\\Program Files\\Android\\Android Studio\\jre\\bin\n</code></pre>\n<p>I have jdk-11.0.6 and &quot;uiautomatorviewer&quot; is working fine</p>\n"}],"owner":{"account_id":8326585,"reputation":355,"user_id":6256497,"display_name":"mudassar munir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3840,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1673384853,"creation_date":1520004624,"question_id":49072271,"body_markdown":"I am unable to launch the UI Automator viewer can anyone help me ?how can I launch it? when I double click on &quot;uiautomatorviewer&quot;  for some time black window  opens but closed automatically even I had set variables in windows path variable \r\nANDROID_HOME%\\tools;\r\n%ANDROID_HOME%\\platform-tools;\r\neven i am not sure how I can alaunch it?","title":"Unable to launch the UI Automator viewer","body":"<p>I am unable to launch the UI Automator viewer can anyone help me ?how can I launch it? when I double click on \"uiautomatorviewer\"  for some time black window  opens but closed automatically even I had set variables in windows path variable \nANDROID_HOME%\\tools;\n%ANDROID_HOME%\\platform-tools;\neven i am not sure how I can alaunch it?</p>\n"},{"tags":["java","spring-boot","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1673383699,"post_id":75075639,"comment_id":132485590,"body_markdown":"Unclear. How are your classes related? What is `nameClass` (hint: your code does not compile). Where are the entity instances created and where do instances of your other class exist? Why can&#39;t you pass a reference of one to the other and then call the getter?","body":"Unclear. How are your classes related? What is <code>nameClass</code> (hint: your code does not compile). Where are the entity instances created and where do instances of your other class exist? Why can&#39;t you pass a reference of one to the other and then call the getter?"},{"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"score":0,"creation_date":1673384105,"post_id":75075639,"comment_id":132485731,"body_markdown":"I wanted to know how to import and use it inside the method. Like how would I use exampleName1 inside the method. Im a beginner at this.\nCan I do like a \npublic static Javaclass1 javaClass1;\nThen do like if(javaClass1.exampleName1 == true){}, then add the remaining if condition inside the method","body":"I wanted to know how to import and use it inside the method. Like how would I use exampleName1 inside the method. Im a beginner at this. Can I do like a  public static Javaclass1 javaClass1; Then do like if(javaClass1.exampleName1 == true){}, then add the remaining if condition inside the method"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1673384447,"post_id":75075639,"comment_id":132485826,"body_markdown":"There are many different ways how to &quot;use&quot; the field of a class in another class, it all depends on what you want your program to do (inject in constructor, construct new instance, pass as method parameter, have a singleton, expose via other class, create from factory, look up in container, …). Note that &quot;import&quot; has a very specific meaning in Java and one does not generally &quot;import a class into a method&quot;. Private fields are generally not accessible from other classes.","body":"There are many different ways how to &quot;use&quot; the field of a class in another class, it all depends on what you want your program to do (inject in constructor, construct new instance, pass as method parameter, have a singleton, expose via other class, create from factory, look up in container, …). Note that &quot;import&quot; has a very specific meaning in Java and one does not generally &quot;import a class into a method&quot;. Private fields are generally not accessible from other classes."},{"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"score":0,"creation_date":1673385142,"post_id":75075639,"comment_id":132486027,"body_markdown":"got it ill look into each of those details. Thanks for the direction","body":"got it ill look into each of those details. Thanks for the direction"}],"answers":[{"tags":[],"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673384763,"creation_date":1673384200,"answer_id":75075759,"question_id":75075639,"body_markdown":"If you want to read a private attribute from another entity (in your example something like ```getExampleName1()```) you should have instance of that entity at first. you should import your entity by Name and then call the getter name. for example:\r\n```\r\npublic static String myMethod(String name1, String nameClass, Javaclass1 javaClass1){\r\n   if(nameClass != null &amp;&amp; javaClass1.getExampleName1 == true ){\r\n       return name1;\r\n  }\r\n}\r\n```","title":"How to reference a variable of Domain class in my method","body":"<p>If you want to read a private attribute from another entity (in your example something like <code>getExampleName1()</code>) you should have instance of that entity at first. you should import your entity by Name and then call the getter name. for example:</p>\n<pre><code>public static String myMethod(String name1, String nameClass, Javaclass1 javaClass1){\n   if(nameClass != null &amp;&amp; javaClass1.getExampleName1 == true ){\n       return name1;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23738666,"reputation":31,"user_id":17757015,"display_name":"Samee_code"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075759,"answer_count":1,"score":0,"last_activity_date":1673384763,"creation_date":1673383524,"question_id":75075639,"body_markdown":"I want to check if a boolean variable from a Domain class equates to true in my method.\r\n\r\n    private Boolean exampleName1 = null;\r\n\r\nThis is in a @Entity class called Javaclass1.java\r\n\r\nMy method is in JavaClass2.java\r\n\r\n    public static String myMethod(name1, nameClass){\r\n       if(nameClass != null){\r\n           return name1;\r\n      }\r\n    }\r\n\r\nI want to execute the if condition above only if the boolean for exampleName1 in the entity class is true. It has a getter and setter.\r\nHow would I import and setup the if condition?","title":"How to reference a variable of Domain class in my method","body":"<p>I want to check if a boolean variable from a Domain class equates to true in my method.</p>\n<pre><code>private Boolean exampleName1 = null;\n</code></pre>\n<p>This is in a @Entity class called Javaclass1.java</p>\n<p>My method is in JavaClass2.java</p>\n<pre><code>public static String myMethod(name1, nameClass){\n   if(nameClass != null){\n       return name1;\n  }\n}\n</code></pre>\n<p>I want to execute the if condition above only if the boolean for exampleName1 in the entity class is true. It has a getter and setter.\nHow would I import and setup the if condition?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1533962494,"post_id":51792313,"comment_id":90550153,"body_markdown":"Use `WebMvcConfigurer` instead of `WebMvcConfigurerAdapter ` . one thing i suspect is the path pattern might be the cause . for secure page you should add .","body":"Use <code>WebMvcConfigurer</code> instead of <code>WebMvcConfigurerAdapter </code> . one thing i suspect is the path pattern might be the cause . for secure page you should add ."},{"owner":{"account_id":12895134,"reputation":483,"user_id":9325709,"display_name":"maxwellhertz"},"score":0,"creation_date":1533964436,"post_id":51792313,"comment_id":90550412,"body_markdown":"@soorapadman I checked the path of view again and again but I didn&#39;t find what was wrong.","body":"@soorapadman I checked the path of view again and again but I didn&#39;t find what was wrong."}],"answers":[{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1533926882,"creation_date":1533926882,"answer_id":51792456,"question_id":51792313,"body_markdown":"To render view you need to use `@Controller`.\r\n\r\nChange this:\r\n\r\n    @RestController\r\n    public class LoginController {\r\n    }\r\n\r\nTo:\r\n\r\n    @Controller\r\n    public class LoginController {\r\n    }","title":"Spring Boot can&#39;t resolve Thymeleaf view","body":"<p>To render view you need to use <code>@Controller</code>.</p>\n\n<p>Change this:</p>\n\n<pre><code>@RestController\npublic class LoginController {\n}\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>@Controller\npublic class LoginController {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673384742,"creation_date":1673384742,"answer_id":75075841,"question_id":51792313,"body_markdown":"Instead of using ModelAndView, try using `Model`. Do following - \r\n\r\n1. Use `Controller` instead of `RestController`.\r\n2. Change return type to String.\r\n3. Add thymeleaf attributes to your Model object.\r\n4. Return the template name you want to display.\r\n5. Configure the template path in your properties/YML file - \r\n\r\n    spring.thymeleaf.prefix = classpath:/YOUR FOLDER NAME/","title":"Spring Boot can&#39;t resolve Thymeleaf view","body":"<p>Instead of using ModelAndView, try using <code>Model</code>. Do following -</p>\n<ol>\n<li><p>Use <code>Controller</code> instead of <code>RestController</code>.</p>\n</li>\n<li><p>Change return type to String.</p>\n</li>\n<li><p>Add thymeleaf attributes to your Model object.</p>\n</li>\n<li><p>Return the template name you want to display.</p>\n</li>\n<li><p>Configure the template path in your properties/YML file -</p>\n<p>spring.thymeleaf.prefix = classpath:/YOUR FOLDER NAME/</p>\n</li>\n</ol>\n"}],"owner":{"account_id":12895134,"reputation":483,"user_id":9325709,"display_name":"maxwellhertz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51792456,"answer_count":2,"score":1,"last_activity_date":1673384742,"creation_date":1533926220,"question_id":51792313,"body_markdown":"I integrate Spring Boot with Thymeleaf but the web doesn&#39;t redirect or forward after the controller returns a view.\r\nThis is Thymeleaf page:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n        &lt;title&gt;login&lt;/title&gt;\r\n    \r\n        &lt;link href=&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; th:href=&quot;@{/webjars/bootstrap/3.3.7/css/bootstrap.css}&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link rel=&#39;stylesheet&#39; href=&#39;https://fonts.googleapis.com/css?family=Open+Sans:400,300&#39;&gt;\r\n        &lt;link rel=&#39;stylesheet&#39; href=&#39;https://fonts.googleapis.com/icon?family=Material+Icons&#39;&gt;\r\n    \r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot; th:href=&quot;@{/css/style.css}&quot;&gt;\r\n    \r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n\r\n                &lt;div class=&quot;cont_forms&quot;&gt;\r\n                    &lt;div class=&quot;cont_img_back_&quot;&gt;\r\n                        &lt;img src=&quot;https://images.unsplash.com/42/U7Fc1sy5SCUDIu4tlJY3_NY_by_PhilippHenzler_philmotion.de.jpg?ixlib=rb-0.3.5&amp;q=50&amp;fm=jpg&amp;crop=entropy&amp;s=7686972873678f32efaf2cd79671673d&quot;\r\n                             alt=&quot;&quot;/&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;cont_form_login&quot;&gt;\r\n                        &lt;a href=&quot;#&quot; onclick=&quot;ocultar_login_sign_up()&quot;&gt;&lt;i class=&quot;material-icons&quot;&gt;&amp;#xE5C4;&lt;/i&gt;&lt;/a&gt;\r\n                        &lt;h3&gt;login&lt;/h3&gt;\r\n                        &lt;input id=&quot;login_name&quot; type=&quot;text&quot; placeholder=&quot;username&quot;/&gt;\r\n                        &lt;input id=&quot;login_password&quot; type=&quot;password&quot; placeholder=&quot;password&quot;/&gt;\r\n                        &lt;div class=&quot;checkbox mb-3&quot; style=&quot;margin:5% auto 0% 2%&quot;&gt;\r\n                            &lt;label&gt;\r\n                                &lt;input type=&quot;checkbox&quot; id=&quot;remember&quot;&gt; Remember me\r\n                            &lt;/label&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;p style=&quot;color: red&quot; th:text=&quot;${msg}&quot; th:if=&quot;${not #strings.isEmpty(msg)}&quot;&gt;&lt;/p&gt;\r\n                        &lt;button class=&quot;btn_login&quot; onclick=&quot;login(&#39;http://localhost:8080/assignment/user/login&#39;)&quot;&gt;login&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n   \r\n                &lt;/div&gt;\r\n    \r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;script src=&quot;https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;script&gt;\r\n        function login(url) {\r\n            var username = document.getElementById(&quot;login_name&quot;).value;\r\n            var password = document.getElementById(&quot;login_password&quot;).value;\r\n            $.post(url, {&#39;username&#39;:username, &#39;password&#39;:password});\r\n        }\r\n\r\n    &lt;/script&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\nAnd I have a controller:\r\n\r\n    @RestController\r\n    public class LoginController {\r\n    \r\n        @Autowired\r\n        private StudentRepository studentRepository;\r\n    \r\n        @Autowired\r\n        private TeacherRepository teacherRepository;\r\n    \r\n        @PostMapping(value = &quot;/user/login&quot;)\r\n        public ModelAndView login(@RequestParam(&quot;username&quot;) String username,\r\n                                  @RequestParam(&quot;password&quot;) String password,\r\n                                  Map&lt;String, Object&gt; info,\r\n                                  HttpSession session) {\r\n            ModelAndView mv = new ModelAndView();\r\n            mv.setViewName(&quot;index&quot;);\r\n                Optional&lt;Student&gt; student = studentRepository.findById(username);\r\n                if (!student.isPresent()) {\r\n                    info.put(&quot;msg&quot;, &quot;User doesn&#39;t exist.&quot;);\r\n                } else {\r\n                    try {\r\n                        if (!EncryptUtil.aesDecrypt(student.get().getPassword()).equals(password)) {\r\n                            info.put(&quot;msg&quot;, &quot;Wrong password!&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;-------------------------success&quot;);\r\n                            session.setAttribute(&quot;user&quot;, student.get().getName()); \r\n                            mv.setViewName(&quot;student/homework&quot;);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            return mv;\r\n        }\r\n    }\r\nI can see `------------------------success` in the console which means method `login` has exited succefully ** but the page doesn&#39;t change.** It doesn&#39;t just go to the view `student/homework`. Anyony helps?\r\nAdditionally this is the `pom.xml`:\r\n   \r\n\r\n     &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt;\r\n            &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n-------------------------UPDATE------------------------------- &lt;br&gt;\r\nThis is the stack trace:\r\n\r\n    2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.a.c.c.C.[.[localhost].[/assignment]    : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2018-08-11 12:21:29.876  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 52 ms\r\n    Hibernate: select student0_.id as id1_0_0_, student0_.name as name2_0_0_, student0_.password as password3_0_0_ from students student0_ where student0_.id=?\r\n    -------------------------success\r\n\r\nAlso, I find another problem. I tried to custom Spring MVC so I wrote a configuration class :\r\n\r\n    @Configuration\r\n    public class MvcConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public WebMvcConfigurerAdapter webMvcConfigurerAdapter() {\r\n            WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addViewControllers(ViewControllerRegistry registry) {\r\n                    // welcome page\r\n                    registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);\r\n                    registry.addViewController(&quot;/index.html&quot;).setViewName(&quot;index&quot;);\r\n                }\r\n            };\r\n            return adapter;\r\n        }\r\n    }\r\n\r\nBut IDEA shows that `WebMvcConfigurerAdapter` has been deprecated. What should I do? I can&#39;t find a solution in the Spring Boot reference doc.\r\n","title":"Spring Boot can&#39;t resolve Thymeleaf view","body":"<p>I integrate Spring Boot with Thymeleaf but the web doesn't redirect or forward after the controller returns a view.\nThis is Thymeleaf page:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;title&gt;login&lt;/title&gt;\n\n    &lt;link href=\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\" th:href=\"@{/webjars/bootstrap/3.3.7/css/bootstrap.css}\" rel=\"stylesheet\"&gt;\n    &lt;link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans:400,300'&gt;\n    &lt;link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'&gt;\n\n    &lt;link rel=\"stylesheet\" href=\"css/style.css\" th:href=\"@{/css/style.css}\"&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n            &lt;div class=\"cont_forms\"&gt;\n                &lt;div class=\"cont_img_back_\"&gt;\n                    &lt;img src=\"https://images.unsplash.com/42/U7Fc1sy5SCUDIu4tlJY3_NY_by_PhilippHenzler_philmotion.de.jpg?ixlib=rb-0.3.5&amp;q=50&amp;fm=jpg&amp;crop=entropy&amp;s=7686972873678f32efaf2cd79671673d\"\n                         alt=\"\"/&gt;\n                &lt;/div&gt;\n                &lt;div class=\"cont_form_login\"&gt;\n                    &lt;a href=\"#\" onclick=\"ocultar_login_sign_up()\"&gt;&lt;i class=\"material-icons\"&gt;&amp;#xE5C4;&lt;/i&gt;&lt;/a&gt;\n                    &lt;h3&gt;login&lt;/h3&gt;\n                    &lt;input id=\"login_name\" type=\"text\" placeholder=\"username\"/&gt;\n                    &lt;input id=\"login_password\" type=\"password\" placeholder=\"password\"/&gt;\n                    &lt;div class=\"checkbox mb-3\" style=\"margin:5% auto 0% 2%\"&gt;\n                        &lt;label&gt;\n                            &lt;input type=\"checkbox\" id=\"remember\"&gt; Remember me\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;p style=\"color: red\" th:text=\"${msg}\" th:if=\"${not #strings.isEmpty(msg)}\"&gt;&lt;/p&gt;\n                    &lt;button class=\"btn_login\" onclick=\"login('http://localhost:8080/assignment/user/login')\"&gt;login&lt;/button&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/index.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    function login(url) {\n        var username = document.getElementById(\"login_name\").value;\n        var password = document.getElementById(\"login_password\").value;\n        $.post(url, {'username':username, 'password':password});\n    }\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>And I have a controller:</p>\n\n<pre><code>@RestController\npublic class LoginController {\n\n    @Autowired\n    private StudentRepository studentRepository;\n\n    @Autowired\n    private TeacherRepository teacherRepository;\n\n    @PostMapping(value = \"/user/login\")\n    public ModelAndView login(@RequestParam(\"username\") String username,\n                              @RequestParam(\"password\") String password,\n                              Map&lt;String, Object&gt; info,\n                              HttpSession session) {\n        ModelAndView mv = new ModelAndView();\n        mv.setViewName(\"index\");\n            Optional&lt;Student&gt; student = studentRepository.findById(username);\n            if (!student.isPresent()) {\n                info.put(\"msg\", \"User doesn't exist.\");\n            } else {\n                try {\n                    if (!EncryptUtil.aesDecrypt(student.get().getPassword()).equals(password)) {\n                        info.put(\"msg\", \"Wrong password!\");\n                    } else {\n                        System.out.println(\"-------------------------success\");\n                        session.setAttribute(\"user\", student.get().getName()); \n                        mv.setViewName(\"student/homework\");\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        return mv;\n    }\n}\n</code></pre>\n\n<p>I can see <code>------------------------success</code> in the console which means method <code>login</code> has exited succefully ** but the page doesn't change.** It doesn't just go to the view <code>student/homework</code>. Anyony helps?\nAdditionally this is the <code>pom.xml</code>:</p>\n\n<pre><code> &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt;\n        &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>-------------------------UPDATE------------------------------- <br>\nThis is the stack trace:</p>\n\n<pre><code>2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.a.c.c.C.[.[localhost].[/assignment]    : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2018-08-11 12:21:29.824  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2018-08-11 12:21:29.876  INFO 13220 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 52 ms\nHibernate: select student0_.id as id1_0_0_, student0_.name as name2_0_0_, student0_.password as password3_0_0_ from students student0_ where student0_.id=?\n-------------------------success\n</code></pre>\n\n<p>Also, I find another problem. I tried to custom Spring MVC so I wrote a configuration class :</p>\n\n<pre><code>@Configuration\npublic class MvcConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public WebMvcConfigurerAdapter webMvcConfigurerAdapter() {\n        WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() {\n            @Override\n            public void addViewControllers(ViewControllerRegistry registry) {\n                // welcome page\n                registry.addViewController(\"/\").setViewName(\"index\");\n                registry.addViewController(\"/index.html\").setViewName(\"index\");\n            }\n        };\n        return adapter;\n    }\n}\n</code></pre>\n\n<p>But IDEA shows that <code>WebMvcConfigurerAdapter</code> has been deprecated. What should I do? I can't find a solution in the Spring Boot reference doc.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17787151,"reputation":378,"user_id":12916990,"display_name":"Vijay S"},"score":0,"creation_date":1638425253,"post_id":70194837,"comment_id":124085770,"body_markdown":"Google play Console  accept .apk file also.","body":"Google play Console  accept .apk file also."},{"owner":{"account_id":22355057,"reputation":359,"user_id":16572497,"display_name":"Kirollos Mallak"},"score":0,"creation_date":1638426231,"post_id":70194837,"comment_id":124085977,"body_markdown":"you can try it from Android Studio. it&#39;s easy","body":"you can try it from Android Studio. it&#39;s easy"}],"answers":[{"tags":[],"owner":{"display_name":"user14616876"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1638426066,"creation_date":1638426066,"answer_id":70194958,"question_id":70194837,"body_markdown":"Yes, They still accept apk files. However, Apk files are 32 bit now. For Later Android releases like 12 and above, move your Project To Android Studio. There is no option other than using android studio because there is no other ide to support it at the moment. Please Contact google If needed any more assistance.","title":"Convert .apk file to .abb file without Android studio","body":"<p>Yes, They still accept apk files. However, Apk files are 32 bit now. For Later Android releases like 12 and above, move your Project To Android Studio. There is no option other than using android studio because there is no other ide to support it at the moment. Please Contact google If needed any more assistance.</p>\n"},{"tags":[],"owner":{"account_id":22355057,"reputation":359,"user_id":16572497,"display_name":"Kirollos Mallak"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1638429368,"creation_date":1638429368,"answer_id":70195422,"question_id":70194837,"body_markdown":"&gt; 1- setup  [Android Studio][1] \r\n&gt; \r\n&gt; 2- open your project in Android studio \r\n&gt; \r\n&gt; 3- from `the Menu` at the top choose `Build` then `Generate Signed\r\n&gt; Bundle/APK...`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n&gt; 4- in dialog box mark at `Android App Bundle(aab)` ***and follow steps that it***\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://developer.android.com/studio\r\n  [2]: https://i.stack.imgur.com/qLqNv.png\r\n  [3]: https://i.stack.imgur.com/Rilq5.png","title":"Convert .apk file to .abb file without Android studio","body":"<blockquote>\n<p>1- setup  <a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">Android Studio</a></p>\n<p>2- open your project in Android studio</p>\n<p>3- from <code>the Menu</code> at the top choose <code>Build</code> then <code>Generate Signed Bundle/APK...</code></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/qLqNv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLqNv.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>4- in dialog box mark at <code>Android App Bundle(aab)</code> <em><strong>and follow steps that it</strong></em></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Rilq5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rilq5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6773257,"reputation":29,"user_id":5215971,"display_name":"spenat28"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653638508,"creation_date":1653638508,"answer_id":72402277,"question_id":70194837,"body_markdown":"Via gradle - without android studio, you would use task &#39;bundle&#39; instead of &#39;assemble&#39;","title":"Convert .apk file to .abb file without Android studio","body":"<p>Via gradle - without android studio, you would use task 'bundle' instead of 'assemble'</p>\n"}],"owner":{"account_id":18976962,"reputation":21,"user_id":13849220,"display_name":"Amos Ayomide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15890,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673384550,"creation_date":1638425023,"question_id":70194837,"body_markdown":"Please how can I convert .apk to .aab without Android studio\r\n\r\nI created an Android app using AIDE and I wanted to upload to Google Play Store and then I discovered it&#39;s only .aab file format of the app they accept.","title":"Convert .apk file to .abb file without Android studio","body":"<p>Please how can I convert .apk to .aab without Android studio</p>\n<p>I created an Android app using AIDE and I wanted to upload to Google Play Store and then I discovered it's only .aab file format of the app they accept.</p>\n"},{"tags":["java","authentication","netbeans","ibm-midrange"],"answers":[{"tags":[],"owner":{"account_id":4802130,"reputation":586,"user_id":3878472,"display_name":"jweberhard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673381288,"creation_date":1673381288,"answer_id":75075298,"question_id":75074910,"body_markdown":"Looking at the documention at https://www.ibm.com/docs/en/i/7.3?topic=ssw_ibm_i_73/rzahh/javadoc/com/ibm/as400/access/doc-files/JDBCProperties.htm, I see the prompt JDBC property should do the trick.\r\n\r\nUse the prompt=false on your JDBC URL, i.e.\r\n\r\n    Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400+&quot;;prompt=false&#39;, usuario, contrasena);\r\n   ","title":"AS400 username and password verification in java. (Problem when putting the wrong credentials)","body":"<p>Looking at the documention at <a href=\"https://www.ibm.com/docs/en/i/7.3?topic=ssw_ibm_i_73/rzahh/javadoc/com/ibm/as400/access/doc-files/JDBCProperties.htm\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/i/7.3?topic=ssw_ibm_i_73/rzahh/javadoc/com/ibm/as400/access/doc-files/JDBCProperties.htm</a>, I see the prompt JDBC property should do the trick.</p>\n<p>Use the prompt=false on your JDBC URL, i.e.</p>\n<pre><code>Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400+&quot;;prompt=false', usuario, contrasena);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8829300,"reputation":1,"user_id":6596378,"display_name":"Laura P&#233;rez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673384463,"creation_date":1673384463,"answer_id":75075796,"question_id":75074910,"body_markdown":"----------\r\nhttps://stackoverflow.com/questions/75074910/as400-username-and-password-verification-in-java-problem-when-putting-the-wron\r\n\r\n\r\nIt seems that you don&#39;t get the error message because your code execution never enters that block of code since connectionAS400 variable of type Connection is not null even if the user is not correct, you need to check for the negative value contained in connectionAS400.\r\n\r\nDriverManager.getConnection returns a url or exceptions, you can check the developer reference here: [DriverManager Java Developer Reference][1]\r\n\r\n\r\n[1]:https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String,java.util.Properties)","title":"AS400 username and password verification in java. (Problem when putting the wrong credentials)","body":"<hr />\n<p><a href=\"https://stackoverflow.com/questions/75074910/as400-username-and-password-verification-in-java-problem-when-putting-the-wron\">AS400 username and password verification in java. (Problem when putting the wrong credentials)</a></p>\n<p>It seems that you don't get the error message because your code execution never enters that block of code since connectionAS400 variable of type Connection is not null even if the user is not correct, you need to check for the negative value contained in connectionAS400.</p>\n<p>DriverManager.getConnection returns a url or exceptions, you can check the developer reference here: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String,java.util.Properties)\" rel=\"nofollow noreferrer\">DriverManager Java Developer Reference</a></p>\n"}],"owner":{"account_id":27454567,"reputation":3,"user_id":20946250,"display_name":"Mauricio Vasquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075298,"answer_count":2,"score":0,"last_activity_date":1673384463,"creation_date":1673378850,"question_id":75074910,"body_markdown":"So when i introduce a wrong username and password it should show me only the message:&quot;Intente otra vez&quot;\r\n\r\nHere is my code:\r\n\r\n```\r\ntry {\r\n            String usuario=txtUsu.getText();\r\n            String password=contrasena.getText();\r\n            ModeloExcel modeloE = new ModeloExcel();\r\n            //loginAS400       \r\n            if(modeloE.loginAS400( usuario, password)==true){\r\n                VistaExcel vistaE = new VistaExcel(usuario, password);\r\n                ControladorExcel contraControladorExcel = new ControladorExcel(vistaE, modeloE);\r\n                try {\r\n                    modeloE.loginAS400(usuario, password);\r\n               } catch (SQLException ex) {\r\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                vistaE.setVisible(true);\r\n                vistaE.setLocationRelativeTo(null);\r\n                this.setVisible(false);\r\n            } else if(modeloE.loginAS400( usuario, password)==false){\r\n                JOptionPane.showMessageDialog(null,&quot;Intente otra vez&quot;);\r\n                txtUsu.setText(&quot;&quot;);\r\n                System.exit(0);\r\n            }\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n```\r\n\r\nand the loginAS400:\r\n\r\n```\r\npublic static boolean loginAS400(String usuario, String contrasena) throws SQLException, IOException {\r\n        String serverAS400 = &quot;ip&quot;; \r\n        Driver d=new com.ibm.as400.access.AS400JDBCDriver();\r\n        DriverManager.registerDriver(d);\r\n        Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400, usuario, contrasena);\r\n        if (connectionAS400!=null) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n[It shows me this...](https://i.stack.imgur.com/c4oJ2.png)\r\n\r\nBut as you can see, it shows me the as400 login error. and it keeps showing after every cancel or exit.\r\nOnly after a few cancels, the program closes and returns me to the login in my project.\r\n\r\n\r\nSo i&#39;m wondering if there is something i can do to make it not show me the AS400 program login.","title":"AS400 username and password verification in java. (Problem when putting the wrong credentials)","body":"<p>So when i introduce a wrong username and password it should show me only the message:&quot;Intente otra vez&quot;</p>\n<p>Here is my code:</p>\n<pre><code>try {\n            String usuario=txtUsu.getText();\n            String password=contrasena.getText();\n            ModeloExcel modeloE = new ModeloExcel();\n            //loginAS400       \n            if(modeloE.loginAS400( usuario, password)==true){\n                VistaExcel vistaE = new VistaExcel(usuario, password);\n                ControladorExcel contraControladorExcel = new ControladorExcel(vistaE, modeloE);\n                try {\n                    modeloE.loginAS400(usuario, password);\n               } catch (SQLException ex) {\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n                } catch (IOException ex) {\n                    Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n                }\n                vistaE.setVisible(true);\n                vistaE.setLocationRelativeTo(null);\n                this.setVisible(false);\n            } else if(modeloE.loginAS400( usuario, password)==false){\n                JOptionPane.showMessageDialog(null,&quot;Intente otra vez&quot;);\n                txtUsu.setText(&quot;&quot;);\n                System.exit(0);\n            }\n        } catch (SQLException ex) {\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (IOException ex) {\n            Logger.getLogger(VistaLogin.class.getName()).log(Level.SEVERE, null, ex);\n        }\n</code></pre>\n<p>and the loginAS400:</p>\n<pre><code>public static boolean loginAS400(String usuario, String contrasena) throws SQLException, IOException {\n        String serverAS400 = &quot;ip&quot;; \n        Driver d=new com.ibm.as400.access.AS400JDBCDriver();\n        DriverManager.registerDriver(d);\n        Connection connectionAS400 = DriverManager.getConnection(&quot;jdbc:as400://&quot; + serverAS400, usuario, contrasena);\n        if (connectionAS400!=null) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/c4oJ2.png\" rel=\"nofollow noreferrer\">It shows me this...</a></p>\n<p>But as you can see, it shows me the as400 login error. and it keeps showing after every cancel or exit.\nOnly after a few cancels, the program closes and returns me to the login in my project.</p>\n<p>So i'm wondering if there is something i can do to make it not show me the AS400 program login.</p>\n"},{"tags":["java","spring-boot","junit","yaml"],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658249289,"creation_date":1658249289,"answer_id":73040739,"question_id":73020838,"body_markdown":"Your `ExcludePopulationProperties` class should not be annotated with `@Component`. Instead, you should have the annotation `@EnableConfigurationProperties(ExcludePopulationProperties.class)` on a configuration class in your project (the main application class will work). \r\n\r\nChange your properties class to look like this (removing `@Component`): \r\n\r\n\r\n```\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;project&quot;)\r\npublic class ExcludePopulationProperties {\r\n   ...\r\n}\r\n```\r\n\r\nChange your application class to enable the configuration properties: \r\n\r\n```\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(ExcludePopulationProperties.class)\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd the `YamlTest` class to look like this (using `@SpringBootTest`): \r\n\r\n```\r\n@SpringBootTest\r\n@ContextConfiguration(classes = { DemoApplication.class })\r\n@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-test.yaml&quot; })\r\nclass YamlTest {\r\n\r\n\t@Autowired\r\n\tprivate ExcludePopulationProperties excludePopulationProperties;\r\n\r\n\t@Test\r\n\tvoid testExternalConfiguration() {\r\n\t\tMap&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\r\n\t\tassertNotNull(map);\r\n\t\tassertEquals(map.get(&quot;InputClass&quot;), &quot;myDate&quot;);\r\n\t\tassertEquals(map.get(&quot;AnotherClass&quot;), &quot;myName&quot;);\r\n\t}\r\n}\r\n\r\n```","title":"How to test ConfigurationProperties with JUnit?","body":"<p>Your <code>ExcludePopulationProperties</code> class should not be annotated with <code>@Component</code>. Instead, you should have the annotation <code>@EnableConfigurationProperties(ExcludePopulationProperties.class)</code> on a configuration class in your project (the main application class will work).</p>\n<p>Change your properties class to look like this (removing <code>@Component</code>):</p>\n<pre><code>@Data\n@ConfigurationProperties(prefix = &quot;project&quot;)\npublic class ExcludePopulationProperties {\n   ...\n}\n</code></pre>\n<p>Change your application class to enable the configuration properties:</p>\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties(ExcludePopulationProperties.class)\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>And the <code>YamlTest</code> class to look like this (using <code>@SpringBootTest</code>):</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = { DemoApplication.class })\n@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-test.yaml&quot; })\nclass YamlTest {\n\n    @Autowired\n    private ExcludePopulationProperties excludePopulationProperties;\n\n    @Test\n    void testExternalConfiguration() {\n        Map&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n        assertEquals(map.get(&quot;InputClass&quot;), &quot;myDate&quot;);\n        assertEquals(map.get(&quot;AnotherClass&quot;), &quot;myName&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667895328,"creation_date":1658759008,"answer_id":73110842,"question_id":73020838,"body_markdown":"With these little changes, now I&#39;m able to test the properties from YAML file.\r\n\r\nI improved the yaml a little bit:      \r\n\r\n    # test placeholders\r\n    project:\r\n      test:\r\n        service:\r\n          computator:\r\n            # exclude field from beeing randomly valorized\r\n            population:\r\n              exclude:\r\n                InputClass: \r\n                   - &#39;myDate&#39;\r\n                AnotherClass: \r\n                   - &#39;myName&#39;\r\n\r\nso now the ExcludePopulationProperties have a Map&lt;String, List&amp;lt;String&gt;&gt; instead of Map&lt;String, String&gt;, in this way I will be able to exclude more than one field from the same class:\r\n\r\n    @Data\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;project&quot;)\r\n    @PropertySource(value = &quot;classpath:application-_test.yaml&quot;, factory = YamlPropertySourceFactory.class)\r\n    public class ExcludePopulationProperties {\r\n    \r\n        private Test test;\r\n    \r\n        @Data\r\n        public static class Test {\r\n            private Service service;\r\n        }\r\n    \r\n        @Data\r\n        public static class Service {\r\n            private Computator computator;\r\n        }\r\n    \r\n        @Data\r\n        public static class Computator {\r\n            private Population population;\r\n        }\r\n    \r\n        @Data\r\n        public static class Population {\r\n            private Map&lt;String, List&lt;String&gt;&gt; exclude;\r\n        }\r\n    \r\n    }\r\n\r\nYamlPropertySourceFactory is a class implemented by Baeldung in this guide: \r\n [@PropertySource with YAML Files in Spring Boot][1]\r\n\r\n\r\n    public class YamlPropertySourceFactory implements PropertySourceFactory {\r\n    \r\n    \t@Override\r\n    \tpublic PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) throws IOException {\r\n    \t\tYamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n    \t\tfactory.setResources(resource.getResource());\r\n    \r\n    \t\tProperties properties = factory.getObject();\r\n    \r\n    \t\treturn new PropertiesPropertySource(resource.getResource().getFilename(), properties);\r\n    \t}\r\n    \r\n    }\r\n\r\nTest Class :\r\n\r\n    @EnableConfigurationProperties\r\n    @ContextConfiguration(classes = { ExcludePopulationProperties.class })\r\n    @TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\r\n    @ExtendWith(SpringExtension.class)\r\n    class YamlTest {\r\n    \r\n        @Autowired\r\n        private ExcludePopulationProperties excludePopulationProperties;\r\n    \r\n        @Test\r\n        void testExternalConfiguration() {\r\n            Map&lt;String, List&lt;String&gt;&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\r\n            assertNotNull(map);\r\n        }\r\n    \r\n    }\r\n\r\nPlease note that for Mockito you need to use both, SpringExtension and MockitoExtension:\r\n\r\n    @EnableConfigurationProperties\r\n    @ContextConfiguration(classes = { ExcludePopulationProperties.class })\r\n    @Extensions({\r\n    \t\t@ExtendWith(SpringExtension.class),\r\n    \t\t@ExtendWith(MockitoExtension.class)\r\n    })\r\n    class YamlTest {\r\n    \r\n    }\r\n\r\n&lt;h1&gt;UPDATE&lt;/h1&gt;\r\n\r\nI find a better solution in order to avoid writing the annotations on all test classes.\r\n\r\nadd the jackson [jackson-dataformat-yaml][2] dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson-dataformat-yaml.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe configuration properties class will be:\r\n\r\n    @Data\r\n    public class ExcludePopulationProperties {\r\n    \r\n        private Project project;\r\n    \r\n    \t@Data\r\n    \tpublic static class Project {\r\n    \t\tprivate Test test;\r\n    \t}\r\n    \r\n        @Data\r\n        public static class Test {\r\n            private Service service;\r\n        }\r\n    \r\n        @Data\r\n        public static class Service {\r\n            private Computator computator;\r\n        }\r\n    \r\n        @Data\r\n        public static class Computator {\r\n            private Population population;\r\n        }\r\n    \r\n        @Data\r\n        public static class Population {\r\n            private Map&lt;String, List&lt;String&gt;&gt; exclude;\r\n        }\r\n    \r\n    \tpublic static ExcludePopulationProperties build() throws IOException {\r\n    \t\tInputStream inputStream = new FileInputStream(new File(&quot;./src/test/resources/&quot; + &quot;application-_test.yaml&quot;));\r\n    \t\tYAMLMapper mapper = new YAMLMapper();\r\n    \t\tmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    \t\tmapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n    \t\treturn mapper.readValue(inputStream, ExcludePopulationProperties.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nthen, wherever you need, simply call the static build method, the test class will be more simple :\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    class YamlTest {\r\n    \r\n        @Test\r\n        void testExternalConfiguration() throws IOException {\r\n            Map&lt;String, List&lt;String&gt;&gt; map = ExcludePopulationProperties.build().getProject().getTest().getService().getComputator().getPopulation().getExclude();\r\n            assertNotNull(map);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-yaml-propertysource\r\n  [2]: https://github.com/FasterXML/jackson-dataformat-yaml","title":"How to test ConfigurationProperties with JUnit?","body":"<p>With these little changes, now I'm able to test the properties from YAML file.</p>\n<p>I improved the yaml a little bit:</p>\n<pre><code># test placeholders\nproject:\n  test:\n    service:\n      computator:\n        # exclude field from beeing randomly valorized\n        population:\n          exclude:\n            InputClass: \n               - 'myDate'\n            AnotherClass: \n               - 'myName'\n</code></pre>\n<p>so now the ExcludePopulationProperties have a Map&lt;String, List&lt;String&gt;&gt; instead of Map&lt;String, String&gt;, in this way I will be able to exclude more than one field from the same class:</p>\n<pre><code>@Data\n@Configuration\n@ConfigurationProperties(prefix = &quot;project&quot;)\n@PropertySource(value = &quot;classpath:application-_test.yaml&quot;, factory = YamlPropertySourceFactory.class)\npublic class ExcludePopulationProperties {\n\n    private Test test;\n\n    @Data\n    public static class Test {\n        private Service service;\n    }\n\n    @Data\n    public static class Service {\n        private Computator computator;\n    }\n\n    @Data\n    public static class Computator {\n        private Population population;\n    }\n\n    @Data\n    public static class Population {\n        private Map&lt;String, List&lt;String&gt;&gt; exclude;\n    }\n\n}\n</code></pre>\n<p>YamlPropertySourceFactory is a class implemented by Baeldung in this guide:\n<a href=\"https://www.baeldung.com/spring-yaml-propertysource\" rel=\"nofollow noreferrer\">@PropertySource with YAML Files in Spring Boot</a></p>\n<pre><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) throws IOException {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(resource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(resource.getResource().getFilename(), properties);\n    }\n\n}\n</code></pre>\n<p>Test Class :</p>\n<pre><code>@EnableConfigurationProperties\n@ContextConfiguration(classes = { ExcludePopulationProperties.class })\n@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\n@ExtendWith(SpringExtension.class)\nclass YamlTest {\n\n    @Autowired\n    private ExcludePopulationProperties excludePopulationProperties;\n\n    @Test\n    void testExternalConfiguration() {\n        Map&lt;String, List&lt;String&gt;&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n    }\n\n}\n</code></pre>\n<p>Please note that for Mockito you need to use both, SpringExtension and MockitoExtension:</p>\n<pre><code>@EnableConfigurationProperties\n@ContextConfiguration(classes = { ExcludePopulationProperties.class })\n@Extensions({\n        @ExtendWith(SpringExtension.class),\n        @ExtendWith(MockitoExtension.class)\n})\nclass YamlTest {\n\n}\n</code></pre>\n<h1>UPDATE</h1>\n<p>I find a better solution in order to avoid writing the annotations on all test classes.</p>\n<p>add the jackson <a href=\"https://github.com/FasterXML/jackson-dataformat-yaml\" rel=\"nofollow noreferrer\">jackson-dataformat-yaml</a> dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n  &lt;version&gt;${jackson-dataformat-yaml.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The configuration properties class will be:</p>\n<pre><code>@Data\npublic class ExcludePopulationProperties {\n\n    private Project project;\n\n    @Data\n    public static class Project {\n        private Test test;\n    }\n\n    @Data\n    public static class Test {\n        private Service service;\n    }\n\n    @Data\n    public static class Service {\n        private Computator computator;\n    }\n\n    @Data\n    public static class Computator {\n        private Population population;\n    }\n\n    @Data\n    public static class Population {\n        private Map&lt;String, List&lt;String&gt;&gt; exclude;\n    }\n\n    public static ExcludePopulationProperties build() throws IOException {\n        InputStream inputStream = new FileInputStream(new File(&quot;./src/test/resources/&quot; + &quot;application-_test.yaml&quot;));\n        YAMLMapper mapper = new YAMLMapper();\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        mapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n        return mapper.readValue(inputStream, ExcludePopulationProperties.class);\n    }\n\n}\n</code></pre>\n<p>then, wherever you need, simply call the static build method, the test class will be more simple :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\nclass YamlTest {\n\n    @Test\n    void testExternalConfiguration() throws IOException {\n        Map&lt;String, List&lt;String&gt;&gt; map = ExcludePopulationProperties.build().getProject().getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73110842,"answer_count":2,"score":0,"last_activity_date":1673384281,"creation_date":1658140094,"question_id":73020838,"body_markdown":"This is my first time working with Externalized Configuration and yaml.\r\n\r\nI created a yaml where I use the class name as KEY, and the field name as VALUE\r\n\r\nYAML:\r\n\r\n    project:\r\n      test:\r\n        service:\r\n          computator:\r\n            # exclude field from beeing randomly valorized\r\n            population:\r\n              exclude:\r\n                InputClass: &#39;myDate&#39;\r\n                AnotherClass: &#39;myName&#39;\r\n\r\nExcludePopulationProperties:\r\n\r\n    @Data\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;project&quot;)\r\n    public class ExcludePopulationProperties {\r\n    \r\n    \tprivate Test test;\r\n    \r\n    \t@Data\r\n    \tpublic static class Test {\r\n    \t\tprivate Service service;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \tpublic static class Service {\r\n    \t\tprivate Computator computator;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \tpublic static class Computator {\r\n    \t\tprivate Population population;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \tpublic static class Population {\r\n    \t\tprivate Map&lt;String, String&gt; exclude;\r\n    \t}\r\n    \r\n    }\r\n\r\nTest with JUnit 5:\r\n\r\n    @ContextConfiguration(classes = { ExcludePopulationProperties.class })\r\n    @ExtendWith(SpringExtension.class)\r\n    class YamlTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate ExcludePopulationProperties excludePopulationProperties;\r\n    \r\n    \t@Test\r\n    \tvoid testExternalConfiguration() {\r\n    \t\tMap&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\r\n    \t\tassertNotNull(map);\r\n    \t}\r\n\r\nThe problem is that I have a NullPointerException because test is null [![enter image description here][2]][2]\r\n\r\nSo I&#39;m not sure what is wrong here, I was expecting that the map was correctly populated.\r\n\r\nI also tried to add \r\n\r\n    @TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\r\n\r\non the YamlTest\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/U3IR2.png","title":"How to test ConfigurationProperties with JUnit?","body":"<p>This is my first time working with Externalized Configuration and yaml.</p>\n<p>I created a yaml where I use the class name as KEY, and the field name as VALUE</p>\n<p>YAML:</p>\n<pre><code>project:\n  test:\n    service:\n      computator:\n        # exclude field from beeing randomly valorized\n        population:\n          exclude:\n            InputClass: 'myDate'\n            AnotherClass: 'myName'\n</code></pre>\n<p>ExcludePopulationProperties:</p>\n<pre><code>@Data\n@Component\n@ConfigurationProperties(prefix = &quot;project&quot;)\npublic class ExcludePopulationProperties {\n\n    private Test test;\n\n    @Data\n    public static class Test {\n        private Service service;\n    }\n\n    @Data\n    public static class Service {\n        private Computator computator;\n    }\n\n    @Data\n    public static class Computator {\n        private Population population;\n    }\n\n    @Data\n    public static class Population {\n        private Map&lt;String, String&gt; exclude;\n    }\n\n}\n</code></pre>\n<p>Test with JUnit 5:</p>\n<pre><code>@ContextConfiguration(classes = { ExcludePopulationProperties.class })\n@ExtendWith(SpringExtension.class)\nclass YamlTest {\n\n    @Autowired\n    private ExcludePopulationProperties excludePopulationProperties;\n\n    @Test\n    void testExternalConfiguration() {\n        Map&lt;String, String&gt; map = excludePopulationProperties.getTest().getService().getComputator().getPopulation().getExclude();\n        assertNotNull(map);\n    }\n</code></pre>\n<p>The problem is that I have a NullPointerException because test is null <a href=\"https://i.stack.imgur.com/U3IR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3IR2.png\" alt=\"enter image description here\" /></a></p>\n<p>So I'm not sure what is wrong here, I was expecting that the map was correctly populated.</p>\n<p>I also tried to add</p>\n<pre><code>@TestPropertySource(properties = { &quot;spring.config.location=classpath:application-_test.yaml&quot; })\n</code></pre>\n<p>on the YamlTest</p>\n"},{"tags":["java","twilio","sms","bulk"],"answers":[{"tags":[],"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614901873,"creation_date":1614901873,"answer_id":66484736,"question_id":66482220,"body_markdown":"Here is the official guide how to do that in java:\r\n\r\nhttps://www.twilio.com/docs/libraries/java","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>Here is the official guide how to do that in java:</p>\n<p><a href=\"https://www.twilio.com/docs/libraries/java\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/libraries/java</a></p>\n"},{"tags":[],"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1614916570,"creation_date":1614916570,"answer_id":66486547,"question_id":66482220,"body_markdown":"Twilio developer evangelist here.\r\n\r\nThere is an example of [sending bulk SMS messages with Java in the documentation for Twilio Notify][1].\r\n\r\nHere is the example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport com.twilio.Twilio;\r\nimport com.twilio.rest.notify.v1.service.Notification;\r\n\r\npublic class Example {\r\n  // Find your Account Sid and Token at twilio.com/user/account\r\n  public static final String ACCOUNT_SID = &quot;ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\r\n  public static final String AUTH_TOKEN = &quot;your_auth_token&quot;;\r\n\r\n  public static final String SERVICE_SID = &quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\r\n\r\n  public static void main(String[] args) {\r\n    // Initialize the client\r\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\r\n    List&lt;String&gt; toBindings = Arrays.asList(\r\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\r\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;);\r\n\r\n    Notification notification = Notification\r\n        .creator(SERVICE_SID)\r\n        .setBody(&quot;Hello Bob&quot;)\r\n        .setToBinding(toBindings)\r\n        .create();\r\n\r\n    System.out.println(notification.getSid());\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/notify/api/notification-resource?code-sample=code-send-a-notification-to-bindings-in-the-request&amp;code-language=Java&amp;code-sdk-version=7.x","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>Twilio developer evangelist here.</p>\n<p>There is an example of <a href=\"https://www.twilio.com/docs/notify/api/notification-resource?code-sample=code-send-a-notification-to-bindings-in-the-request&amp;code-language=Java&amp;code-sdk-version=7.x\" rel=\"nofollow noreferrer\">sending bulk SMS messages with Java in the documentation for Twilio Notify</a>.</p>\n<p>Here is the example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport com.twilio.Twilio;\nimport com.twilio.rest.notify.v1.service.Notification;\n\npublic class Example {\n  // Find your Account Sid and Token at twilio.com/user/account\n  public static final String ACCOUNT_SID = &quot;ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\n  public static final String AUTH_TOKEN = &quot;your_auth_token&quot;;\n\n  public static final String SERVICE_SID = &quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\n\n  public static void main(String[] args) {\n    // Initialize the client\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n    List&lt;String&gt; toBindings = Arrays.asList(\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;);\n\n    Notification notification = Notification\n        .creator(SERVICE_SID)\n        .setBody(&quot;Hello Bob&quot;)\n        .setToBinding(toBindings)\n        .create();\n\n    System.out.println(notification.getSid());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27492175,"reputation":1,"user_id":20977325,"display_name":"EzyTxt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673384112,"creation_date":1673384112,"answer_id":75075743,"question_id":66482220,"body_markdown":"Twilio developer evangelist here. You can get started with free credits here which should last you a month or two if you’re using it for personal use. https://www.twilio.com/try-twilio\r\n\r\nMore details on working with your trial account here: https://www.twilio.com/docs/usage/tutorials/how-to-use-your-free-trial-account","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>Twilio developer evangelist here. You can get started with free credits here which should last you a month or two if you’re using it for personal use. <a href=\"https://www.twilio.com/try-twilio\" rel=\"nofollow noreferrer\">https://www.twilio.com/try-twilio</a></p>\n<p>More details on working with your trial account here: <a href=\"https://www.twilio.com/docs/usage/tutorials/how-to-use-your-free-trial-account\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/usage/tutorials/how-to-use-your-free-trial-account</a></p>\n"}],"owner":{"account_id":10082145,"reputation":93,"user_id":7482915,"display_name":"holymoof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66486547,"answer_count":3,"score":2,"last_activity_date":1673384112,"creation_date":1614888129,"question_id":66482220,"body_markdown":"I&#39;ve found plenty of information on how to send bulk of sms messages with Js, Python, PHP SDKs but nothing on **how to achieve this using Java**?\r\n\r\nHere is a code snippet demonstrating the implementation for Python.\r\n\r\n    from twilio.rest import Client\r\n\r\n\r\n    account = &quot;AC98e9a2817c2e0b4d38b42d1445ef42d9&quot;\r\n    token = &quot;your_auth_token&quot;\r\n    client = Client(account, token)\r\n\r\n    notification = client.notify.services(&quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;)\\\r\n       .notifications.create(\r\n        to_binding=[\r\n            &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\r\n            &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;\r\n        ],\r\n        body=&quot;Hello Bob&quot;)","title":"How to send bulk SMS messages with Twilio Java SDK?","body":"<p>I've found plenty of information on how to send bulk of sms messages with Js, Python, PHP SDKs but nothing on <strong>how to achieve this using Java</strong>?</p>\n<p>Here is a code snippet demonstrating the implementation for Python.</p>\n<pre><code>from twilio.rest import Client\n\n\naccount = &quot;AC98e9a2817c2e0b4d38b42d1445ef42d9&quot;\ntoken = &quot;your_auth_token&quot;\nclient = Client(account, token)\n\nnotification = client.notify.services(&quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;)\\\n   .notifications.create(\n    to_binding=[\n        &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\n        &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;\n    ],\n    body=&quot;Hello Bob&quot;)\n</code></pre>\n"},{"tags":["java","android","kotlin","admob"],"owner":{"account_id":21695027,"reputation":31,"user_id":16009088,"display_name":"Abdellah SAYOUL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673383267,"creation_date":1673383267,"question_id":75075602,"body_markdown":"can anyone please help me.\r\nI&#39;m trying to preload the Native template Ads but i don&#39;t know if it&#39;s possible.\r\nThis is the code of it.\r\n\r\n    MobileAds.initialize(this);\r\n    AdLoader adLoader = new AdLoader.Builder(this, &quot;ca-app-pub-3940256099942544/2247696110&quot;)\r\n        .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\r\n            @Override\r\n            public void onNativeAdLoaded(NativeAd nativeAd) {\r\n                NativeTemplateStyle styles = new\r\n                  NativeTemplateStyle.Builder().withMainBackgroundColor(background).build();\r\n                TemplateView template = findViewById(R.id.my_template);\r\n                template.setStyles(styles);\r\n                template.setNativeAd(nativeAd);\r\n            }\r\n         })\r\n         .build();\r\n    \r\n    adLoader.loadAd(new AdRequest.Builder().build());\r\n\r\nAs you can see you need to specify the template on onNativeAdLoaded().","title":"Preload admob Native Template ad","body":"<p>can anyone please help me.\nI'm trying to preload the Native template Ads but i don't know if it's possible.\nThis is the code of it.</p>\n<pre><code>MobileAds.initialize(this);\nAdLoader adLoader = new AdLoader.Builder(this, &quot;ca-app-pub-3940256099942544/2247696110&quot;)\n    .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\n        @Override\n        public void onNativeAdLoaded(NativeAd nativeAd) {\n            NativeTemplateStyle styles = new\n              NativeTemplateStyle.Builder().withMainBackgroundColor(background).build();\n            TemplateView template = findViewById(R.id.my_template);\n            template.setStyles(styles);\n            template.setNativeAd(nativeAd);\n        }\n     })\n     .build();\n\nadLoader.loadAd(new AdRequest.Builder().build());\n</code></pre>\n<p>As you can see you need to specify the template on onNativeAdLoaded().</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1673382890,"post_id":75075412,"comment_id":132485334,"body_markdown":"I’m voting to close this question because it is off topic for Stack Overflow, but also off topic for the options under Stack Exchange network.","body":"I’m voting to close this question because it is off topic for Stack Overflow, but also off topic for the options under Stack Exchange network."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1673383174,"post_id":75075412,"comment_id":132485424,"body_markdown":"@hfontanez Why? Seems like a reasonable question to me. Although why-based questions often drift into opinion territory, this was clearly a deliberate decision that served a specific purpose.","body":"@hfontanez Why? Seems like a reasonable question to me. Although why-based questions often drift into opinion territory, this was clearly a deliberate decision that served a specific purpose."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1673383585,"post_id":75075412,"comment_id":132485557,"body_markdown":"@shmosel It is a reasonable question. I never said it wasn&#39;t. But I don&#39;t think it belongs here. I have seen other similarly reasonable questions being shut down for being &quot;off topic&quot;. So, I exercised my judgment and did what I think is right. Notice that I didn&#39;t downvote the question. I do not operate that way.","body":"@shmosel It is a reasonable question. I never said it wasn&#39;t. But I don&#39;t think it belongs here. I have seen other similarly reasonable questions being shut down for being &quot;off topic&quot;. So, I exercised my judgment and did what I think is right. Notice that I didn&#39;t downvote the question. I do not operate that way."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1673384066,"post_id":75075412,"comment_id":132485719,"body_markdown":"I think this question should be left open, for the reason mentioned by shmosel. The JavaDocs suggest that this was not a kind of &quot;because the API authors designed it this way&quot;, but it rather suggests that this was a deliberate choice.","body":"I think this question should be left open, for the reason mentioned by shmosel. The JavaDocs suggest that this was not a kind of &quot;because the API authors designed it this way&quot;, but it rather suggests that this was a deliberate choice."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673386212,"post_id":75075412,"comment_id":132486326,"body_markdown":"@shmosel I think when it comes to &quot;api design choices&quot; like this - unless it&#39;s clearly documented, it begins to reach into the area of &quot;opinion&quot; - I tend to agree, while it&#39;s a reasonable question, I&#39;m not convinced it&#39;s within scope for SO.  When you have a look at the source code, there is no explanation of &quot;why&quot;, so unless we happen to have the original author(s) of the code, we can only &quot;guess&quot; at the reasoning","body":"@shmosel I think when it comes to &quot;api design choices&quot; like this - unless it&#39;s clearly documented, it begins to reach into the area of &quot;opinion&quot; - I tend to agree, while it&#39;s a reasonable question, I&#39;m not convinced it&#39;s within scope for SO.  When you have a look at the source code, there is no explanation of &quot;why&quot;, so unless we happen to have the original author(s) of the code, we can only &quot;guess&quot; at the reasoning"}],"answers":[{"tags":[],"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1673383017,"creation_date":1673383017,"answer_id":75075565,"question_id":75075412,"body_markdown":"Likely a limitation that was on older hardware or an older version of an operating system Java works on. You might be able to go around the limitation by putting a space after the prefix to make it longer, like this:\r\n```\r\nFile tempFile = File.createTempFile(&quot;te &quot;, &quot;.tmp&quot;);\r\n```\r\nHowever, I have not used `File.createTempFile()` before, only creating permanent files, such as:\r\n```\r\nFile file = new File(&quot;te.tmp&quot;);\r\nfile.createNewFile();\r\n```\r\nAnd I have had no reason to make a file shorter than 3 characters, so I don&#39;t know whether or not it would work with a permanent file. Let me know if this helps.","title":"Why Java File.createNewFile requires prefix to be at least three characters long?","body":"<p>Likely a limitation that was on older hardware or an older version of an operating system Java works on. You might be able to go around the limitation by putting a space after the prefix to make it longer, like this:</p>\n<pre><code>File tempFile = File.createTempFile(&quot;te &quot;, &quot;.tmp&quot;);\n</code></pre>\n<p>However, I have not used <code>File.createTempFile()</code> before, only creating permanent files, such as:</p>\n<pre><code>File file = new File(&quot;te.tmp&quot;);\nfile.createNewFile();\n</code></pre>\n<p>And I have had no reason to make a file shorter than 3 characters, so I don't know whether or not it would work with a permanent file. Let me know if this helps.</p>\n"}],"owner":{"account_id":4791763,"reputation":5956,"user_id":3870761,"accept_rate":75,"display_name":"sergioFC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1673401195,"answer_count":1,"score":5,"last_activity_date":1673383017,"creation_date":1673382090,"question_id":75075412,"body_markdown":"According to [java.io.File.createTempFile](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-), the prefix to create a temp file must be at least 3 characters long. Why does java API have this restriction? See following javadoc (emphasis mine)\r\n\r\n\r\n&gt; public static&#160;File&#160;**createTempFile(String&#160;prefix, String&#160;suffix) throws IOException**\r\n&gt;\r\n&gt; Creates an empty file in the default temporary-file directory, using the given prefix and suffix to generate its name. Invoking this method is equivalent to invoking createTempFile(prefix,&#160;suffix,&#160;null).\r\n&gt;\r\n&gt; The Files.createTempFile method provides an alternative method to create an empty file in the temporary-file directory. Files created by that method may have more restrictive access permissions to files created by this method and so may be more suited to security-sensitive applications.\r\n&gt;\r\n&gt; Parameters:\r\n&gt;\r\n&gt;    **prefix - The prefix string to be used in generating the file&#39;s name; must be at least three characters long**\r\n&gt;\r\n&gt;    suffix - The suffix string to be used in generating the file&#39;s name; may be null, in which case the suffix &quot;.tmp&quot; will be used\r\n&gt;\r\n&gt; Returns: An abstract pathname denoting a newly-created empty file\r\n&gt;\r\n&gt; Throws: **IllegalArgumentException - If the prefix argument contains fewer than three characters**\r\n&gt;\r\n&gt; IOException - If a file could not be created\r\n&gt;\r\n&gt; SecurityException - If a security manager exists and its SecurityManager.checkWrite(java.lang.String) method does not allow a file to be created\r\n\r\nFor example this prefix is invalid as it has only two characters\r\n\r\n    // Throws IllegalArgumentException: Prefix string &quot;te&quot; too short: length must be at least 3\r\n    File tempFile = File.createTempFile(&quot;te&quot;, &quot;.tmp&quot;);\r\n\r\nWhile this prefix is valid because it has 4 characters:\r\n\r\n    // Creates temp file test14287484991844360415.tmp\r\n    File tempFile = File.createTempFile(&quot;test&quot;, &quot;.tmp&quot;);\r\n\r\nThe new java API ([java.nio.file.Files.createTempFile](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createTempFile-java.lang.String-java.lang.String-java.nio.file.attribute.FileAttribute...-)) does not have this restriction, and works whit prefix shorter than 3 characters, so what is the reason why the old java File API requires prefix to be at least three characters long?","title":"Why Java File.createNewFile requires prefix to be at least three characters long?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-\" rel=\"noreferrer\">java.io.File.createTempFile</a>, the prefix to create a temp file must be at least 3 characters long. Why does java API have this restriction? See following javadoc (emphasis mine)</p>\n<blockquote>\n<p>public static File <strong>createTempFile(String prefix, String suffix) throws IOException</strong></p>\n<p>Creates an empty file in the default temporary-file directory, using the given prefix and suffix to generate its name. Invoking this method is equivalent to invoking createTempFile(prefix, suffix, null).</p>\n<p>The Files.createTempFile method provides an alternative method to create an empty file in the temporary-file directory. Files created by that method may have more restrictive access permissions to files created by this method and so may be more suited to security-sensitive applications.</p>\n<p>Parameters:</p>\n<p><strong>prefix - The prefix string to be used in generating the file's name; must be at least three characters long</strong></p>\n<p>suffix - The suffix string to be used in generating the file's name; may be null, in which case the suffix &quot;.tmp&quot; will be used</p>\n<p>Returns: An abstract pathname denoting a newly-created empty file</p>\n<p>Throws: <strong>IllegalArgumentException - If the prefix argument contains fewer than three characters</strong></p>\n<p>IOException - If a file could not be created</p>\n<p>SecurityException - If a security manager exists and its SecurityManager.checkWrite(java.lang.String) method does not allow a file to be created</p>\n</blockquote>\n<p>For example this prefix is invalid as it has only two characters</p>\n<pre><code>// Throws IllegalArgumentException: Prefix string &quot;te&quot; too short: length must be at least 3\nFile tempFile = File.createTempFile(&quot;te&quot;, &quot;.tmp&quot;);\n</code></pre>\n<p>While this prefix is valid because it has 4 characters:</p>\n<pre><code>// Creates temp file test14287484991844360415.tmp\nFile tempFile = File.createTempFile(&quot;test&quot;, &quot;.tmp&quot;);\n</code></pre>\n<p>The new java API (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createTempFile-java.lang.String-java.lang.String-java.nio.file.attribute.FileAttribute...-\" rel=\"noreferrer\">java.nio.file.Files.createTempFile</a>) does not have this restriction, and works whit prefix shorter than 3 characters, so what is the reason why the old java File API requires prefix to be at least three characters long?</p>\n"},{"tags":["java","spring-boot","lombok","java-17","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672817299,"post_id":75001427,"comment_id":132356202,"body_markdown":"Can you please share pom.xml?","body":"Can you please share pom.xml?"},{"owner":{"account_id":20655562,"reputation":73,"user_id":15164774,"display_name":"Utkarsh Sharma"},"score":0,"creation_date":1672825119,"post_id":75001427,"comment_id":132358254,"body_markdown":"It&#39;s a huge pom.xml with custom artefacts.\nBut I can share a few relevant snippets .\nI&#39;ve updated the page with few snippets, please lemme know if u need more info.\nThanks @RohitAgarwal","body":"It&#39;s a huge pom.xml with custom artefacts. But I can share a few relevant snippets . I&#39;ve updated the page with few snippets, please lemme know if u need more info. Thanks @RohitAgarwal"},{"owner":{"account_id":7779182,"reputation":374,"user_id":5886180,"accept_rate":25,"display_name":"Henrik Klev"},"score":0,"creation_date":1672826533,"post_id":75001427,"comment_id":132358713,"body_markdown":"Does this clarify anything? https://stackoverflow.com/questions/68538851/lombok-and-autowired","body":"Does this clarify anything? <a href=\"https://stackoverflow.com/questions/68538851/lombok-and-autowired\" title=\"lombok and autowired\">stackoverflow.com/questions/68538851/lombok-and-autowired</a>"}],"answers":[{"tags":[],"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673270098,"creation_date":1672919768,"answer_id":75018011,"question_id":75001427,"body_markdown":"As per lombok doc https://www.javadoc.io/doc/org.projectlombok/lombok/1.16.18/lombok/RequiredArgsConstructor.html, the syntax has been updated to\r\n\r\n    @RequiredArgsConstructor(onConstructor_={@AnnotationsGohere})","title":"getting symbol not found for lombok annotation after upgrading java version from 8 to 17","body":"<p>As per lombok doc <a href=\"https://www.javadoc.io/doc/org.projectlombok/lombok/1.16.18/lombok/RequiredArgsConstructor.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.projectlombok/lombok/1.16.18/lombok/RequiredArgsConstructor.html</a>, the syntax has been updated to</p>\n<pre><code>@RequiredArgsConstructor(onConstructor_={@AnnotationsGohere})\n</code></pre>\n"}],"owner":{"account_id":20655562,"reputation":73,"user_id":15164774,"display_name":"Utkarsh Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673382232,"creation_date":1672811692,"question_id":75001427,"body_markdown":"I&#39;ve been trying to upgrade the java version[from 8 -&gt; 17] of a spring boot 2.6.4 project.\r\nAfter setting the `java.version` property to 17 in pom.xml , I started getting the following issue.\r\n\r\n```\r\n[ERROR] Constructing Javadoc information...\r\n[ERROR] @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n[ERROR]                                           ^\r\n[ERROR]   symbol: class __\r\n[ERROR] 2 errors\r\n[ERROR] \r\n[ERROR] Command line was: /Users/utkarsh.s/Library/Java/JavaVirtualMachines/corretto-17.0.5/Contents/Home/bin/javadoc @options @packages\r\n[ERROR] \r\n[ERROR] Refer to the generated Javadoc files in &#39;/Users/utkarsh.s/Development/apps/sample_project/target/apidocs&#39; dir.\r\n[ERROR] \r\n\r\n```\r\n\r\n\r\nPlease Note : \r\n - I&#39;m using IntelliJ 2022.2.3 \r\n - My lombok version is : `1.18.22` and it is working properly with java8.\r\n - In order to upgrade the java version for my project , i have done the following :\r\n     - \r\n     - Installed jdk17 `Amazon Correto 17.0.5`. [I installed it with intelliJ]\r\n     - updated maven setting to use `JDK for importer` as 17.\r\n     - set the project SDK as 17.\r\n    \r\nAttaching few snippets of the pom file .\r\n\r\n```\r\n    &lt;properties&gt;\r\n         &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\r\n         &lt;java.version&gt;17&lt;java.version&gt;\r\n    &lt;properties&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;dependencies&gt;\r\n    .\r\n    .\r\n    .\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;/dependencies&gt;\r\n\r\n```\r\n","title":"getting symbol not found for lombok annotation after upgrading java version from 8 to 17","body":"<p>I've been trying to upgrade the java version[from 8 -&gt; 17] of a spring boot 2.6.4 project.\nAfter setting the <code>java.version</code> property to 17 in pom.xml , I started getting the following issue.</p>\n<pre><code>[ERROR] Constructing Javadoc information...\n[ERROR] @RequiredArgsConstructor(onConstructor = @__(@Autowired))\n[ERROR]                                           ^\n[ERROR]   symbol: class __\n[ERROR] 2 errors\n[ERROR] \n[ERROR] Command line was: /Users/utkarsh.s/Library/Java/JavaVirtualMachines/corretto-17.0.5/Contents/Home/bin/javadoc @options @packages\n[ERROR] \n[ERROR] Refer to the generated Javadoc files in '/Users/utkarsh.s/Development/apps/sample_project/target/apidocs' dir.\n[ERROR] \n\n</code></pre>\n<p>Please Note :</p>\n<ul>\n<li>I'm using IntelliJ 2022.2.3</li>\n<li>My lombok version is : <code>1.18.22</code> and it is working properly with java8.</li>\n<li>In order to upgrade the java version for my project , i have done the following :\n-\n<ul>\n<li>Installed jdk17 <code>Amazon Correto 17.0.5</code>. [I installed it with intelliJ]</li>\n<li>updated maven setting to use <code>JDK for importer</code> as 17.</li>\n<li>set the project SDK as 17.</li>\n</ul>\n</li>\n</ul>\n<p>Attaching few snippets of the pom file .</p>\n<pre><code>    &lt;properties&gt;\n         &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\n         &lt;java.version&gt;17&lt;java.version&gt;\n    &lt;properties&gt;\n    .\n    .\n    .\n    &lt;dependencies&gt;\n    .\n    .\n    .\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    .\n    .\n    .\n    &lt;/dependencies&gt;\n\n</code></pre>\n"},{"tags":["java","memory","memory-management"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1673382340,"post_id":75034744,"comment_id":132485187,"body_markdown":"Please show your findings of memory usage and how you got them.","body":"Please show your findings of memory usage and how you got them."}],"owner":{"account_id":16520930,"reputation":1,"user_id":15220770,"display_name":"Priyanshu Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673382141,"creation_date":1673029239,"question_id":75034744,"body_markdown":"\r\n```\r\nclass Solution1 {\r\n  public int removeElement(int[] nums, int val) {\r\n    int length = nums.length-1;\r\n    for(int i=length; i&gt;=0 ; --i){\r\n      if(nums[i] == val){\r\n        nums[i] = nums[length];\r\n        --length;\r\n      }\r\n    }return length + 1;\r\n  }\r\n}\r\n```\r\n```\r\nclass Solution2 {\r\n  public int removeElement(int[] nums, int val) {\r\n    int index = 0;\r\n    for(int i = 0; i &lt; nums.length; i++){\r\n      if(nums[i] != val){\r\n        nums[index++] = nums[i];\r\n      }\r\n    }\r\n    return index;\r\n  }\r\n}\r\n```\r\n\r\n/\\* -- both solutions perform same task (of removing all occurrences of &quot;int val&quot; in &quot;int nums\\[\\]&quot; in-place), but solution 1 uses abot 10 percent more memory than solution 2 , i am not sure why? please help \\*/\r\n\r\nI am not sure why is there difference in memory usage.","title":"Different algorithm for same task , with same number and type of variables used but different memory usage?","body":"<pre><code>class Solution1 {\n  public int removeElement(int[] nums, int val) {\n    int length = nums.length-1;\n    for(int i=length; i&gt;=0 ; --i){\n      if(nums[i] == val){\n        nums[i] = nums[length];\n        --length;\n      }\n    }return length + 1;\n  }\n}\n</code></pre>\n<pre><code>class Solution2 {\n  public int removeElement(int[] nums, int val) {\n    int index = 0;\n    for(int i = 0; i &lt; nums.length; i++){\n      if(nums[i] != val){\n        nums[index++] = nums[i];\n      }\n    }\n    return index;\n  }\n}\n</code></pre>\n<p>/* -- both solutions perform same task (of removing all occurrences of &quot;int val&quot; in &quot;int nums[]&quot; in-place), but solution 1 uses abot 10 percent more memory than solution 2 , i am not sure why? please help */</p>\n<p>I am not sure why is there difference in memory usage.</p>\n"},{"tags":["java","server","arduino","appdomain"],"answers":[{"tags":[],"owner":{"account_id":13264264,"reputation":712,"user_id":9577694,"display_name":"Nino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673382122,"creation_date":1673382122,"answer_id":75075418,"question_id":75075001,"body_markdown":"You need a server, and you may be able to get one for free, but if you can&#39;t than you would need to rent a server from one of the many companies offering such service. You can get one from Amazon AWS, Google GCP, or smaller but not less reliable companies like Digital Ocean.\r\n\r\nYou need the minimum and least expensive configuration of a virtual machine which you will connect to using SSH text terminal. For instance you can get a Linux server and have your code run behind Apache webserver.\r\n\r\nYou can send data from Arduino to your server using simple GET strings over HTTP/S or utilize MQTT if you need the server to also send commands to the board.\r\n\r\n\r\n","title":"How to make a server to send arduino sensors data to use it in my java application","body":"<p>You need a server, and you may be able to get one for free, but if you can't than you would need to rent a server from one of the many companies offering such service. You can get one from Amazon AWS, Google GCP, or smaller but not less reliable companies like Digital Ocean.</p>\n<p>You need the minimum and least expensive configuration of a virtual machine which you will connect to using SSH text terminal. For instance you can get a Linux server and have your code run behind Apache webserver.</p>\n<p>You can send data from Arduino to your server using simple GET strings over HTTP/S or utilize MQTT if you need the server to also send commands to the board.</p>\n"}],"owner":{"account_id":14665911,"reputation":13,"user_id":10591778,"display_name":"user10591778"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075418,"answer_count":1,"score":0,"last_activity_date":1673382122,"creation_date":1673379414,"question_id":75075001,"body_markdown":"I have an arduino device and i want to send the arduino sensors data to a server so i can fetch the data and store it in sqlite database and use it in my java application. \r\n\r\n\r\n\r\nI already bought a domain name from goDaddy but I don’t know to do next, can you please help me?","title":"How to make a server to send arduino sensors data to use it in my java application","body":"<p>I have an arduino device and i want to send the arduino sensors data to a server so i can fetch the data and store it in sqlite database and use it in my java application.</p>\n<p>I already bought a domain name from goDaddy but I don’t know to do next, can you please help me?</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1430966480,"creation_date":1430966480,"answer_id":30091036,"question_id":30090941,"body_markdown":"From [here](http://en.wikibooks.org/wiki/Java_Persistence/Basic_Attributes#Insertable.2C_Updatable_.2F_Read_Only_Fields_.2F_Returning)\r\n\r\n&gt; The Column annotation and XML element defines insertable and updatable options. These allow for this column, or foreign key field to be omitted from the SQL INSERT or UPDATE statement. These can be used if constraints on the table prevent insert or update operations. They can also be used if multiple attributes map to the same database column, such as with a foreign key field through a ManyToOne and Id or Basic mapping. Setting both insertable and updatable to false, effectively mark the attribute as read-only.\r\n\r\nSo \r\n\r\n        @Column(name=&quot;USER_ID&quot;, nullable=false, length=30,\r\n            updatable=false, insertable=false)\r\n        private String userId;\r\n\r\nshould do it","title":"JPA readonly mapping","body":"<p>From <a href=\"http://en.wikibooks.org/wiki/Java_Persistence/Basic_Attributes#Insertable.2C_Updatable_.2F_Read_Only_Fields_.2F_Returning\">here</a></p>\n\n<blockquote>\n  <p>The Column annotation and XML element defines insertable and updatable options. These allow for this column, or foreign key field to be omitted from the SQL INSERT or UPDATE statement. These can be used if constraints on the table prevent insert or update operations. They can also be used if multiple attributes map to the same database column, such as with a foreign key field through a ManyToOne and Id or Basic mapping. Setting both insertable and updatable to false, effectively mark the attribute as read-only.</p>\n</blockquote>\n\n<p>So </p>\n\n<pre><code>    @Column(name=\"USER_ID\", nullable=false, length=30,\n        updatable=false, insertable=false)\n    private String userId;\n</code></pre>\n\n<p>should do it</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673382041,"creation_date":1673381420,"answer_id":75075310,"question_id":30090941,"body_markdown":"`updatable=false, insertable=false` might not be enough. Hibernate exposes additional requirement:\r\n\r\n```\r\norg.hibernate.DuplicateMappingException:\r\n  Table [passenger] contains physical column name [parent_id]\r\n  referred to by multiple logical column names: [parent_id], [parentId]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl$TableColumnNameBinding.bindPhysicalToLogical(InFlightMetadataCollectorImpl.java:1055)\r\n\r\n```\r\n\r\nThe logical name `parent_id` comes from:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(insertable = false, updatable = false)\r\n    private Passenger parent;\r\n\r\nwhile `parentId` comes from:\r\n\r\n    private Long parentId;\r\n\r\nTo harmonize logical names correct one (or set both) explicitly:\r\n\r\n    @Column(name = &quot;parent_id&quot;)\r\n    private Long parentId;\r\n\r\nRequirements for `updatable=false, insertable=false` comes from:\r\n\r\n```java\r\nfor ( Selectable columnOrFormula : value.getSelectables() ) {\r\n  if ( !columnOrFormula.isFormula() ) {\r\n    Column col = (Column) columnOrFormula;\r\n    if ( !distinctColumns.add( col.getName() ) ) {\r\n      throw new MappingException(\r\n        &quot;Column &#39;&quot; + col.getName()\r\n           + &quot;&#39; is duplicated in mapping for entity &#39;&quot; + getEntityName()\r\n           + &quot;&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)&quot;\r\n```\r\n\r\nlocated:\r\n\r\n```\r\nat org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1009)\r\nat org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:1027)\r\nat org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1055)\r\nat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:720)\r\nat org.hibernate.mapping.RootClass.validate(RootClass.java:283)\r\nat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:376)\r\n```\r\n\r\n","title":"JPA readonly mapping","body":"<p><code>updatable=false, insertable=false</code> might not be enough. Hibernate exposes additional requirement:</p>\n<pre><code>org.hibernate.DuplicateMappingException:\n  Table [passenger] contains physical column name [parent_id]\n  referred to by multiple logical column names: [parent_id], [parentId]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl$TableColumnNameBinding.bindPhysicalToLogical(InFlightMetadataCollectorImpl.java:1055)\n\n</code></pre>\n<p>The logical name <code>parent_id</code> comes from:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(insertable = false, updatable = false)\nprivate Passenger parent;\n</code></pre>\n<p>while <code>parentId</code> comes from:</p>\n<pre><code>private Long parentId;\n</code></pre>\n<p>To harmonize logical names correct one (or set both) explicitly:</p>\n<pre><code>@Column(name = &quot;parent_id&quot;)\nprivate Long parentId;\n</code></pre>\n<p>Requirements for <code>updatable=false, insertable=false</code> comes from:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Selectable columnOrFormula : value.getSelectables() ) {\n  if ( !columnOrFormula.isFormula() ) {\n    Column col = (Column) columnOrFormula;\n    if ( !distinctColumns.add( col.getName() ) ) {\n      throw new MappingException(\n        &quot;Column '&quot; + col.getName()\n           + &quot;' is duplicated in mapping for entity '&quot; + getEntityName()\n           + &quot;' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)&quot;\n</code></pre>\n<p>located:</p>\n<pre><code>at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1009)\nat org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:1027)\nat org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:1055)\nat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:720)\nat org.hibernate.mapping.RootClass.validate(RootClass.java:283)\nat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:376)\n</code></pre>\n"}],"owner":{"account_id":5988795,"reputation":813,"user_id":4705481,"accept_rate":81,"display_name":"Jackie Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28480,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":30091036,"answer_count":2,"score":22,"last_activity_date":1673382041,"creation_date":1430965818,"question_id":30090941,"body_markdown":"Toplink can use read-only mappings when multiple attributes in an object map to the same fields in the database but only one of the mappings can write to the field.\r\n\r\nDoes JPA has such feature, how to write annotation? I have one `@ManyToOne` and one `@Column` annotation which need to map to same field in database.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @ManyToOne(optional=false, fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;USR_ID&quot;, referencedColumnName=&quot;USER_ID&quot;, nullable=false)\r\n    private User user;\r\n    \t\r\n    /** @generated **/\r\n    @Column(name=&quot;USER_ID&quot;, nullable=false, length=30)\r\n    private String userId;\r\n\r\n","title":"JPA readonly mapping","body":"<p>Toplink can use read-only mappings when multiple attributes in an object map to the same fields in the database but only one of the mappings can write to the field.</p>\n<p>Does JPA has such feature, how to write annotation? I have one <code>@ManyToOne</code> and one <code>@Column</code> annotation which need to map to same field in database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToOne(optional=false, fetch=FetchType.LAZY)\n@JoinColumn(name=&quot;USR_ID&quot;, referencedColumnName=&quot;USER_ID&quot;, nullable=false)\nprivate User user;\n    \n/** @generated **/\n@Column(name=&quot;USER_ID&quot;, nullable=false, length=30)\nprivate String userId;\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673380341,"post_id":75075141,"comment_id":132484594,"body_markdown":"`map1.keySet().stream().filter(map2::containsKey).collect(toSet())`","body":"<code>map1.keySet().stream().filter(map2::containsKey).collect(toS&zwnj;&#8203;et())</code>"},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1673381531,"post_id":75075141,"comment_id":132484953,"body_markdown":"What form do you want the output to be in? An array? A Set? A new Map?","body":"What form do you want the output to be in? An array? A Set? A new Map?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673380558,"creation_date":1673380558,"answer_id":75075184,"question_id":75075141,"body_markdown":"Filter the keys from the second regarding if they are in the second map\r\n\r\n    // import static java.util.stream.Collectors.toSet;\r\n    Map&lt;String, Integer&gt; map = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;jkl&quot;, 567);\r\n    Map&lt;String, Integer&gt; map2 = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;j___&quot;, 567);\r\n    \r\n    Set&lt;String&gt; keys = map.keySet().stream().filter(map2::containsKey).collect(toSet());\r\n    System.out.println(keys); // [abc, def]\r\n\r\n","title":"How to find all the keys in a Map that match the key values of a separate Map","body":"<p>Filter the keys from the second regarding if they are in the second map</p>\n<pre><code>// import static java.util.stream.Collectors.toSet;\nMap&lt;String, Integer&gt; map = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;jkl&quot;, 567);\nMap&lt;String, Integer&gt; map2 = Map.of(&quot;abc&quot;, 123, &quot;def&quot;, 234, &quot;j___&quot;, 567);\n\nSet&lt;String&gt; keys = map.keySet().stream().filter(map2::containsKey).collect(toSet());\nSystem.out.println(keys); // [abc, def]\n</code></pre>\n"}],"owner":{"account_id":4659923,"reputation":63,"user_id":3774443,"display_name":"Rohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75075184,"answer_count":1,"score":1,"last_activity_date":1673381503,"creation_date":1673380266,"question_id":75075141,"body_markdown":"I have a Map that has some entires like \r\n\r\n```\r\nmap.put(&quot;abc&quot;, 123)\r\nmap.put(&quot;def&quot;,234)\r\nmap.put(&quot;jkl&quot;, 567)\r\n```\r\n\r\nAnd a separate map that has entries\r\n\r\n```\r\nmap.put(&quot;abc&quot;, 123)\r\nmap.put(&quot;def&quot;,234)\r\nmap.put(&quot;jddj&quot;, 567)\r\n```\r\n\r\nHow can I write logic in java 8 so that I am returned &quot;abc&quot; and &quot;def&quot; as matched keys. ","title":"How to find all the keys in a Map that match the key values of a separate Map","body":"<p>I have a Map that has some entires like</p>\n<pre><code>map.put(&quot;abc&quot;, 123)\nmap.put(&quot;def&quot;,234)\nmap.put(&quot;jkl&quot;, 567)\n</code></pre>\n<p>And a separate map that has entries</p>\n<pre><code>map.put(&quot;abc&quot;, 123)\nmap.put(&quot;def&quot;,234)\nmap.put(&quot;jddj&quot;, 567)\n</code></pre>\n<p>How can I write logic in java 8 so that I am returned &quot;abc&quot; and &quot;def&quot; as matched keys.</p>\n"},{"tags":["java","lambda","enums"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1552569212,"post_id":55162147,"comment_id":97065859,"body_markdown":"Enum constants should be in UPPER_SNAKE_CASE.","body":"Enum constants should be in UPPER_SNAKE_CASE."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":2,"creation_date":1552570261,"post_id":55162147,"comment_id":97066638,"body_markdown":"In the version that works, it&#39;s because the arguments to the enum instances are objects of totally separate classes, but lambda expressions are not exactly the same thing, as they share the context in which they are defined. They are not just syntactic sugar for anonymous classes.","body":"In the version that works, it&#39;s because the arguments to the enum instances are objects of totally separate classes, but lambda expressions are not exactly the same thing, as they share the context in which they are defined. They are not just syntactic sugar for anonymous classes."}],"answers":[{"tags":[],"owner":{"account_id":15315092,"reputation":587,"user_id":11049187,"display_name":"Wisthler"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552566452,"creation_date":1552566452,"answer_id":55162533,"question_id":55162147,"body_markdown":"the issue is that your using variable before they are defined even if it&#39;s a lambda call. A workaround can be to use ```valueOf```\r\n\r\n```\r\npublic enum Baz {\r\n\r\n        yin(() -&gt; Baz.valueOf(&quot;yang&quot;)),\r\n        yang(() -&gt; Baz.valueOf(&quot;yin&quot;)),\r\n        good(() -&gt; Baz.valueOf(&quot;evil&quot;)),\r\n        evil(() -&gt; Baz.valueOf(&quot;good&quot;))\r\n        ;\r\n\r\n        private final OppositeHolder oppositeHolder;\r\n\r\n        private Baz(OppositeHolder oppositeHolder) {\r\n            this.oppositeHolder = oppositeHolder;\r\n        }\r\n\r\n        private static interface OppositeHolder {\r\n            public Baz getOpposite();\r\n        }\r\n    }\r\n\r\n    public static void main(String... args){\r\n        System.out.println(Baz.yin);\r\n        System.out.println(Baz.yin.oppositeHolder.getOpposite());\r\n\r\n    }\r\n```\r\n\r\noutput is \r\n```\r\nyin\r\nyang\r\n```\r\n","title":"Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile","body":"<p>the issue is that your using variable before they are defined even if it's a lambda call. A workaround can be to use <code>valueOf</code></p>\n\n<pre><code>public enum Baz {\n\n        yin(() -&gt; Baz.valueOf(\"yang\")),\n        yang(() -&gt; Baz.valueOf(\"yin\")),\n        good(() -&gt; Baz.valueOf(\"evil\")),\n        evil(() -&gt; Baz.valueOf(\"good\"))\n        ;\n\n        private final OppositeHolder oppositeHolder;\n\n        private Baz(OppositeHolder oppositeHolder) {\n            this.oppositeHolder = oppositeHolder;\n        }\n\n        private static interface OppositeHolder {\n            public Baz getOpposite();\n        }\n    }\n\n    public static void main(String... args){\n        System.out.println(Baz.yin);\n        System.out.println(Baz.yin.oppositeHolder.getOpposite());\n\n    }\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>yin\nyang\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673381456,"creation_date":1552578234,"answer_id":55166692,"question_id":55162147,"body_markdown":"This cannot be done by simply replacing anonymous interface implementations by corresponding lambda expressions, because they are not the same thing.\r\n\r\nA lambda body does not have its own context. This is defined in the [Java Language Specification, &#167; 15.27.2][1]:\r\n\r\n&gt; Unlike code appearing in anonymous class declarations, the meaning of names and the `this` and  `super` keywords appearing in a lambda body, **along with the accessibility of referenced declarations**, are the same as in the surrounding context (except that lambda parameters introduce new names).\r\n\r\n&lt;sup&gt;(Emphasis mine)&lt;/sup&gt;\r\n\r\nThat means you have effectively the same problem as the OP of [your linked question][2].\r\n\r\n----\r\n\r\nI doubt if I would follow your approach. I personally prefer the code from [this answer][3].\r\n\r\n```java\r\nenum Baz {\r\n\r\n    YIN,\r\n    YANG,\r\n    GOOD,\r\n    EVIL;\r\n\r\n    private static final Map&lt;Baz, Baz&gt; OPPOSITES;\r\n    static {\r\n        Map&lt;Baz, Baz&gt; m = new EnumMap&lt;&gt;(Baz.class);\r\n        m.put(YIN, YANG);\r\n        m.put(YANG, YIN);\r\n        m.put(GOOD, EVIL);\r\n        m.put(EVIL, GOOD);\r\n        OPPOSITES = Collections.unmodifiableMap(m);\r\n    }\r\n\r\n    public Baz opposite() {\r\n        return Objects.requireNonNull(OPPOSITES.get(this));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.2\r\n  [2]: https://stackoverflow.com/q/12592286/507738\r\n  [3]: https://stackoverflow.com/a/12592539/507738","title":"Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile","body":"<p>This cannot be done by simply replacing anonymous interface implementations by corresponding lambda expressions, because they are not the same thing.</p>\n<p>A lambda body does not have its own context. This is defined in the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">Java Language Specification, § 15.27.2</a>:</p>\n<blockquote>\n<p>Unlike code appearing in anonymous class declarations, the meaning of names and the <code>this</code> and  <code>super</code> keywords appearing in a lambda body, <strong>along with the accessibility of referenced declarations</strong>, are the same as in the surrounding context (except that lambda parameters introduce new names).</p>\n</blockquote>\n<p><sup>(Emphasis mine)</sup></p>\n<p>That means you have effectively the same problem as the OP of <a href=\"https://stackoverflow.com/q/12592286/507738\">your linked question</a>.</p>\n<hr />\n<p>I doubt if I would follow your approach. I personally prefer the code from <a href=\"https://stackoverflow.com/a/12592539/507738\">this answer</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Baz {\n\n    YIN,\n    YANG,\n    GOOD,\n    EVIL;\n\n    private static final Map&lt;Baz, Baz&gt; OPPOSITES;\n    static {\n        Map&lt;Baz, Baz&gt; m = new EnumMap&lt;&gt;(Baz.class);\n        m.put(YIN, YANG);\n        m.put(YANG, YIN);\n        m.put(GOOD, EVIL);\n        m.put(EVIL, GOOD);\n        OPPOSITES = Collections.unmodifiableMap(m);\n    }\n\n    public Baz opposite() {\n        return Objects.requireNonNull(OPPOSITES.get(this));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6643172,"reputation":560,"user_id":5128241,"accept_rate":65,"display_name":"Vishal Tyagi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673381456,"creation_date":1552565215,"question_id":55162147,"body_markdown":"I am trying to access an enum value inside the declaration of another enum value in the same class. Following is the way I found to get that done .\r\n\r\n[Java enum- Cannot reference a field before it is defined][1]\r\n\r\n  [1]: https://stackoverflow.com/a/29199198/5128241\r\n\r\nwhich compiles just fine but since it involves a lot of formal code, I tried to replace the interface implementations with a Lambda but it doesn&#39;s compile with an error such as \r\n\r\n`Cannot reference a field before it is defined`\r\n\r\nFollowing is the lambda replacement I did.\r\n\r\n    package test;\r\n    public enum Baz {\r\n\r\n\tyin(() -&gt; {\r\n\t\treturn Baz.yang;//doesnt compile. -&gt;Cannot reference a field before it is defined\r\n\t}),\r\n\tyang(new OppositeHolder() {\r\n\t\t@Override\r\n\t\tpublic Baz getOpposite() {\r\n\t\t\treturn yin;\r\n\t\t}\r\n\t}),\r\n\tgood(new OppositeHolder() {\r\n\t\t@Override\r\n\t\tpublic Baz getOpposite() {\r\n\t\t\treturn evil;//BUT THIS COMPILES JUST FINE, EVEN THOUGH IT ACCESSES evil WHICH HAS BEEN DECLARED LATER.\r\n\t\t}\r\n\t}),\r\n\tevil(new OppositeHolder() {\r\n\t\t@Override\r\n\t\tpublic Baz getOpposite() {\r\n\t\t\treturn good;\r\n\t\t}\r\n\t});\r\n\r\n\tprivate final OppositeHolder oppositeHolder;\r\n\r\n\tprivate Baz(OppositeHolder oppositeHolder) {\r\n\t\tthis.oppositeHolder = oppositeHolder;\r\n\t}\r\n\r\n\tprivate static interface OppositeHolder {\r\n\t\tpublic Baz getOpposite();\r\n\t}\r\n\r\n}\r\n\r\nIs there any way I could do this with the help of lambda expressions, since I could be seeing a lot of enums in this class and i don&#39;t really want to repeat the boiler plate code.\r\n\r\n**EDIT**\r\nI know that the error means that I cannot access an Enum that has been declared later. Also, I cannot really have the enum name stored as a string since that would be a maintenance nightmare for me. Also, I am curious why the example in the link compiles but mine does not.","title":"Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile","body":"<p>I am trying to access an enum value inside the declaration of another enum value in the same class. Following is the way I found to get that done .</p>\n<p><a href=\"https://stackoverflow.com/a/29199198/5128241\">Java enum- Cannot reference a field before it is defined</a></p>\n<p>which compiles just fine but since it involves a lot of formal code, I tried to replace the interface implementations with a Lambda but it doesn's compile with an error such as</p>\n<p><code>Cannot reference a field before it is defined</code></p>\n<p>Following is the lambda replacement I did.</p>\n<pre><code>package test;\npublic enum Baz {\n\nyin(() -&gt; {\n    return Baz.yang;//doesnt compile. -&gt;Cannot reference a field before it is defined\n}),\nyang(new OppositeHolder() {\n    @Override\n    public Baz getOpposite() {\n        return yin;\n    }\n}),\ngood(new OppositeHolder() {\n    @Override\n    public Baz getOpposite() {\n        return evil;//BUT THIS COMPILES JUST FINE, EVEN THOUGH IT ACCESSES evil WHICH HAS BEEN DECLARED LATER.\n    }\n}),\nevil(new OppositeHolder() {\n    @Override\n    public Baz getOpposite() {\n        return good;\n    }\n});\n\nprivate final OppositeHolder oppositeHolder;\n\nprivate Baz(OppositeHolder oppositeHolder) {\n    this.oppositeHolder = oppositeHolder;\n}\n\nprivate static interface OppositeHolder {\n    public Baz getOpposite();\n}\n</code></pre>\n<p>}</p>\n<p>Is there any way I could do this with the help of lambda expressions, since I could be seeing a lot of enums in this class and i don't really want to repeat the boiler plate code.</p>\n<p><strong>EDIT</strong>\nI know that the error means that I cannot access an Enum that has been declared later. Also, I cannot really have the enum name stored as a string since that would be a maintenance nightmare for me. Also, I am curious why the example in the link compiles but mine does not.</p>\n"},{"tags":["java","android","nullpointerexception"],"owner":{"account_id":20753948,"reputation":1,"user_id":15240786,"display_name":"Anik Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673381222,"creation_date":1673381222,"question_id":75075285,"body_markdown":"**I want to pick multiple or single images from phone gallery. But my code returning null pointer also one major problem I have notice the createChooser runs twice.**\r\n\r\n&gt; *After tries two pick image two time it sends me to the parent activity*\r\n\r\n*OnCreate Method*\r\n\r\n\r\n&gt; @Override\r\n&gt;     protected void onCreate(Bundle savedInstanceState) {\r\n&gt;         super.onCreate(savedInstanceState);\r\n&gt;         setContentView(R.layout.activity_add_item_business);\r\n&gt; \r\n&gt; \r\n&gt;         ItemName = findViewById(R.id.item_name);\r\n&gt;         ItemDes = findViewById(R.id.item_des);\r\n&gt;         pickImage = findViewById(R.id.pickImage);\r\n&gt; \r\n&gt;         ChooseImageList = new ArrayList&lt;&gt;();\r\n&gt;         UrlsList = new ArrayList&lt;&gt;();\r\n&gt; \r\n&gt; \r\n&gt;         pickImage.setOnClickListener(new View.OnClickListener() {\r\n&gt;             @Override\r\n&gt;             public void onClick(View v) {\r\n&gt;                 CheckPermission();\r\n&gt;                 PickImageFromGallery();\r\n&gt;             }\r\n&gt;         });\r\n&gt; \r\n&gt;     }\r\n\r\n*Checking Permission*\r\n\r\n    \r\n\r\n    private void CheckPermission() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if (ContextCompat.checkSelfPermission(addItemBusiness.this,\r\n                        Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(addItemBusiness.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 2);\r\n                } else {\r\n                    PickImageFromGallery();\r\n                }\r\n            }\r\n        }\r\n\r\n*Move to gallery*\r\n\r\n\r\n    private void PickImageFromGallery() {\r\n       Intent intent = new Intent(Intent.ACTION_PICK,\r\n                android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Select images&quot;), 100);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n       Log.i(&quot;result&quot;, &quot;inside activity result&quot;);\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK) {\r\n            Log.i(&quot;result&quot;, &quot;result is ok&quot;);\r\n            if (data.getClipData() != null) {\r\n                Log.i(&quot;result&quot;, &quot;fine&quot;);\r\n                int count = data.getClipData().getItemCount();\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    ImageUri = data.getClipData().getItemAt(i).getUri();\r\n                    ChooseImageList.add(ImageUri);\r\n                    SetAdapter();\r\n                }\r\n            } else if (data.getData() != null) {\r\n                Log.i(&quot;result&quot;, &quot;clip data is null&quot;);\r\n                ImageUri = data.getData();\r\n                ChooseImageList.add(ImageUri);\r\n                SetAdapter();\r\n            }\r\n        }\r\n\r\n    }\r\n*Adapter*\r\n   \r\n\r\n     private void SetAdapter(){\r\n            ViewPagerAdapter adapter = new ViewPagerAdapter(this, ChooseImageList);\r\n            viewPager.setAdapter(adapter);\r\n        }\r\n\r\n\r\n*Adapter Class*\r\n\r\n    private Context context;\r\n        ArrayList&lt;Uri&gt; ImageUrls;\r\n        LayoutInflater layoutInflater;\r\n    \r\n        public ViewPagerAdapter(Context context, ArrayList&lt;Uri&gt; imageUrls) {\r\n            this.context = context;\r\n            ImageUrls = imageUrls;\r\n            layoutInflater= (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return ImageUrls.size();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n            View view=layoutInflater.inflate(R.layout.show_imgaes_layout,container,false);\r\n            ImageView imageView=view.findViewById(R.id.UploadImage);\r\n            imageView.setImageURI(ImageUrls.get(position));\r\n            container.addView(view);\r\n    \r\n            return view ;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n            return view== object;\r\n        }\r\n    \r\n        @Override\r\n        public void destroyItem(@NonNull View container, int position, @NonNull Object object) {\r\n            ((RelativeLayout)object).removeView(container);\r\n        }\r\n\r\nHope that you can find the issue. Thank you","title":"Choose multiple or single images from the phone storage without having a null exception pointer and with or without using startActivityForResult()","body":"<p><strong>I want to pick multiple or single images from phone gallery. But my code returning null pointer also one major problem I have notice the createChooser runs twice.</strong></p>\n<blockquote>\n<p><em>After tries two pick image two time it sends me to the parent activity</em></p>\n</blockquote>\n<p><em>OnCreate Method</em></p>\n<blockquote>\n<p>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_add_item_business);</p>\n<pre><code>    ItemName = findViewById(R.id.item_name);\n    ItemDes = findViewById(R.id.item_des);\n    pickImage = findViewById(R.id.pickImage);\n\n    ChooseImageList = new ArrayList&lt;&gt;();\n    UrlsList = new ArrayList&lt;&gt;();\n\n\n    pickImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            CheckPermission();\n            PickImageFromGallery();\n        }\n    });\n\n}\n</code></pre>\n</blockquote>\n<p><em>Checking Permission</em></p>\n<pre><code>private void CheckPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (ContextCompat.checkSelfPermission(addItemBusiness.this,\n                    Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(addItemBusiness.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 2);\n            } else {\n                PickImageFromGallery();\n            }\n        }\n    }\n</code></pre>\n<p><em>Move to gallery</em></p>\n<pre><code>private void PickImageFromGallery() {\n   Intent intent = new Intent(Intent.ACTION_PICK,\n            android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n    startActivityForResult(Intent.createChooser(intent, &quot;Select images&quot;), 100);\n\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n   Log.i(&quot;result&quot;, &quot;inside activity result&quot;);\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK) {\n        Log.i(&quot;result&quot;, &quot;result is ok&quot;);\n        if (data.getClipData() != null) {\n            Log.i(&quot;result&quot;, &quot;fine&quot;);\n            int count = data.getClipData().getItemCount();\n            for (int i = 0; i &lt; count; i++) {\n                ImageUri = data.getClipData().getItemAt(i).getUri();\n                ChooseImageList.add(ImageUri);\n                SetAdapter();\n            }\n        } else if (data.getData() != null) {\n            Log.i(&quot;result&quot;, &quot;clip data is null&quot;);\n            ImageUri = data.getData();\n            ChooseImageList.add(ImageUri);\n            SetAdapter();\n        }\n    }\n\n}\n</code></pre>\n<p><em>Adapter</em></p>\n<pre><code> private void SetAdapter(){\n        ViewPagerAdapter adapter = new ViewPagerAdapter(this, ChooseImageList);\n        viewPager.setAdapter(adapter);\n    }\n</code></pre>\n<p><em>Adapter Class</em></p>\n<pre><code>private Context context;\n    ArrayList&lt;Uri&gt; ImageUrls;\n    LayoutInflater layoutInflater;\n\n    public ViewPagerAdapter(Context context, ArrayList&lt;Uri&gt; imageUrls) {\n        this.context = context;\n        ImageUrls = imageUrls;\n        layoutInflater= (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    }\n\n    @Override\n    public int getCount() {\n        return ImageUrls.size();\n    }\n\n    @NonNull\n    @Override\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\n        View view=layoutInflater.inflate(R.layout.show_imgaes_layout,container,false);\n        ImageView imageView=view.findViewById(R.id.UploadImage);\n        imageView.setImageURI(ImageUrls.get(position));\n        container.addView(view);\n\n        return view ;\n    }\n\n    @Override\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n        return view== object;\n    }\n\n    @Override\n    public void destroyItem(@NonNull View container, int position, @NonNull Object object) {\n        ((RelativeLayout)object).removeView(container);\n    }\n</code></pre>\n<p>Hope that you can find the issue. Thank you</p>\n"},{"tags":["java","algorithm","function","collections","stream"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1673344970,"post_id":75068263,"comment_id":132472447,"body_markdown":"What if you have a Product with a unique name in your DB and add another with the same name (but other category) should the formally unique one also change its name in the DB?","body":"What if you have a Product with a unique name in your DB and add another with the same name (but other category) should the formally unique one also change its name in the DB?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1673345061,"post_id":75068263,"comment_id":132472482,"body_markdown":"We need to see your code when you add a new Product because in this case you may need to change the FrontName of the new Product and potentially also of an old one.","body":"We need to see your code when you add a new Product because in this case you may need to change the FrontName of the new Product and potentially also of an old one."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673345407,"post_id":75068263,"comment_id":132472597,"body_markdown":"Its a two step process. First you need to identify which are the unique names. Ones you have done this, you can perform the required operations","body":"Its a two step process. First you need to identify which are the unique names. Ones you have done this, you can perform the required operations"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1673346250,"post_id":75068263,"comment_id":132472835,"body_markdown":"@XtremeBaumer There is a list of products class Product. If a sheet contains a product whose name occurs only once in the collection, it is unique. And for it I need to do product.setFrontName(product.getName).","body":"@XtremeBaumer There is a list of products class Product. If a sheet contains a product whose name occurs only once in the collection, it is unique. And for it I need to do product.setFrontName(product.getName)."},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1673346258,"post_id":75068263,"comment_id":132472840,"body_markdown":"If the list contains products whose name occurs more than once, then it is not unique and for such a product I need to do product.setFrontName (product.getName + &quot;,&quot; product.getCategoryName)","body":"If the list contains products whose name occurs more than once, then it is not unique and for such a product I need to do product.setFrontName (product.getName + &quot;,&quot; product.getCategoryName)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673346799,"post_id":75068263,"comment_id":132472965,"body_markdown":"Still a two step process. You need to identify the unique ones within your code, which is easiest done with counting occurrences of names. Ones you have a list of the unique ones, you can iterate all products and check if the name is in the unique list and depending on the result you perform the required action","body":"Still a two step process. You need to identify the unique ones within your code, which is easiest done with counting occurrences of names. Ones you have a list of the unique ones, you can iterate all products and check if the name is in the unique list and depending on the result you perform the required action"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1673347057,"post_id":75068263,"comment_id":132473049,"body_markdown":"@XtremeBaumer yes, I understand that I need to do exactly that. But I&#39;m having trouble with the implementation (","body":"@XtremeBaumer yes, I understand that I need to do exactly that. But I&#39;m having trouble with the implementation ("}],"answers":[{"tags":[],"owner":{"account_id":2255092,"reputation":31,"user_id":1986444,"display_name":"user1986444"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673380990,"creation_date":1673348405,"answer_id":75068968,"question_id":75068263,"body_markdown":"please see the following code:\r\n    \r\n    Set&lt;String&gt; items = new HashSet&lt;&gt;()\r\n    Set&lt;String&gt; duplicateProduct = \r\n        productList\r\n                .stream()\r\n                .filter(p -&gt; !items.add(p.name))\r\n                .map(Product::getName) // Set.add() returns false if the element was already in the set.\r\n                .collect(Collectors.toSet());\r\n\r\n        productList.forEach( p -&gt;{\r\n           if(duplicateProduct.contains(p.getName())){\r\n               p.setFrontName(p.getName() + &quot;,&quot; + p.getCategoryName());\r\n           } else {\r\n               p.setFrontName(p.getName());\r\n           }\r\n        });","title":"Changing the field value of unique and non-unique objects","body":"<p>please see the following code:</p>\n<pre><code>Set&lt;String&gt; items = new HashSet&lt;&gt;()\nSet&lt;String&gt; duplicateProduct = \n    productList\n            .stream()\n            .filter(p -&gt; !items.add(p.name))\n            .map(Product::getName) // Set.add() returns false if the element was already in the set.\n            .collect(Collectors.toSet());\n\n    productList.forEach( p -&gt;{\n       if(duplicateProduct.contains(p.getName())){\n           p.setFrontName(p.getName() + &quot;,&quot; + p.getCategoryName());\n       } else {\n           p.setFrontName(p.getName());\n       }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9721440,"reputation":53,"user_id":7210052,"accept_rate":83,"display_name":"ZedZerg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673351081,"creation_date":1673351081,"answer_id":75069495,"question_id":75068263,"body_markdown":"There&#39;s a few ways you can approach a solution.\r\n\r\nMy first idea is for example say that you have a List&lt; Product&gt; containing all the products, then you need to:\r\n\r\n1) Iterate through all the products and save each product by name in a Map&lt;String, List&lt; Product&gt;&gt;. Products under the same name should be stored in the List&lt; Product&gt; value that has the name as key.\r\n\r\n2) Iterate through all the entries of this map and check if the size of the list is greater than 1, it means the product has duplicate (or more) name with other products. Otherwise it&#39;s unique.","title":"Changing the field value of unique and non-unique objects","body":"<p>There's a few ways you can approach a solution.</p>\n<p>My first idea is for example say that you have a List&lt; Product&gt; containing all the products, then you need to:</p>\n<ol>\n<li><p>Iterate through all the products and save each product by name in a Map&lt;String, List&lt; Product&gt;&gt;. Products under the same name should be stored in the List&lt; Product&gt; value that has the name as key.</p>\n</li>\n<li><p>Iterate through all the entries of this map and check if the size of the list is greater than 1, it means the product has duplicate (or more) name with other products. Otherwise it's unique.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1673381984,"answer_count":2,"score":-1,"last_activity_date":1673380990,"creation_date":1673344742,"question_id":75068263,"body_markdown":"I have such a product class. \r\n\r\n\r\n    @Data\r\n    public class Product {\r\n        private UUID id;\r\n        private String name;\r\n        private String categoryName;\r\n        private String frontName;\r\n    }\r\n\r\n\r\nAnd I have a list of products - some product names are the same even though they have different category.I need to do the following for products that have the same names:\r\nproduct.setFrontName(product.getName() + &quot;,&quot; product.getCategoryName())\r\n\r\nAnd for products with unique names, it&#39;s just to do: product.setFrontName(product.getName())\r\n\r\nI tried various options with streams, but in the end I could not find a solution.\r\n\r\nCould you share a more efficient solution to this task. Thank you.\r\n\r\n\r\n","title":"Changing the field value of unique and non-unique objects","body":"<p>I have such a product class.</p>\n<pre><code>@Data\npublic class Product {\n    private UUID id;\n    private String name;\n    private String categoryName;\n    private String frontName;\n}\n</code></pre>\n<p>And I have a list of products - some product names are the same even though they have different category.I need to do the following for products that have the same names:\nproduct.setFrontName(product.getName() + &quot;,&quot; product.getCategoryName())</p>\n<p>And for products with unique names, it's just to do: product.setFrontName(product.getName())</p>\n<p>I tried various options with streams, but in the end I could not find a solution.</p>\n<p>Could you share a more efficient solution to this task. Thank you.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1673340644,"post_id":75067467,"comment_id":132471077,"body_markdown":"You can have one layout per [panel](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPanel.html) So you can keep the frame’s borderlayout, create one panel with a gridlayout and add it to the center of the frame and create a footer panel containing the button (and perhaps more elements in the future) and add it to the frame’s south.","body":"You can have one layout per <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPanel.html\" rel=\"nofollow noreferrer\">panel</a> So you can keep the frame’s borderlayout, create one panel with a gridlayout and add it to the center of the frame and create a footer panel containing the button (and perhaps more elements in the future) and add it to the frame’s south."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1673341097,"post_id":75067467,"comment_id":132471232,"body_markdown":"Use multiple containers, each with their own layout manager, then combine them together in a parent container, for [example](https://stackoverflow.com/questions/26411775/how-i-can-do-swing-complex-layout-java/26412976#26412976); [example](https://stackoverflow.com/questions/24462297/layout-relative-to-screensize/24462643#24462643); [example](https://stackoverflow.com/questions/33946629/relative-and-absolute-positioning-issues-with-swing/33947433#33947433); [example](https://stackoverflow.com/questions/33576358/how-to-use-java-swing-layout-manager-to-make-this-gui/33577874#33577874)","body":"Use multiple containers, each with their own layout manager, then combine them together in a parent container, for <a href=\"https://stackoverflow.com/questions/26411775/how-i-can-do-swing-complex-layout-java/26412976#26412976\">example</a>; <a href=\"https://stackoverflow.com/questions/24462297/layout-relative-to-screensize/24462643#24462643\">example</a>; <a href=\"https://stackoverflow.com/questions/33946629/relative-and-absolute-positioning-issues-with-swing/33947433#33947433\">example</a>; <a href=\"https://stackoverflow.com/questions/33576358/how-to-use-java-swing-layout-manager-to-make-this-gui/33577874#33577874\">example</a>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673348818,"post_id":75067467,"comment_id":132473548,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673380926,"creation_date":1673380926,"answer_id":75075244,"question_id":75067467,"body_markdown":"One solution is to use two JPanel instances (with each having its own LayoutManager).\r\n\r\nThen you add these two JPanel instances to your JFrame.\r\n\r\nExample:\r\n\r\n\tpublic class MyApplication extends JFrame {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tMyApplication app = new MyApplication();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate MyApplication() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(600, 600);\r\n\t\t\tsetTitle(&quot;Connect Four&quot;);\r\n\t\t\tsetLocationRelativeTo(null);\r\n\r\n\t\t\tJPanel buttonPanel = new JPanel();\r\n\t\t\tbuttonPanel.setLayout(new BoxLayout(buttonPanel, BoxLayout.Y_AXIS));\r\n\t\t\tJButton resetButton = new JButton();\r\n\t\t\tresetButton.setName(&quot;reset button&quot;);\r\n\t\t\tresetButton.setText(&quot;Reset&quot;);\r\n\t\t\tresetButton.setAlignmentX(Component.RIGHT_ALIGNMENT);\r\n\t\t\tbuttonPanel.add(resetButton);\r\n\r\n\t\t\t// add buttonPanel to JFrame\r\n\t\t\tadd(buttonPanel, BorderLayout.SOUTH);\r\n\r\n\t\t\tJPanel mainPanel = new JPanel(new GridLayout(6, 7, 0, 0));\r\n\r\n\t\t\tfor (int i = 6; i &gt; 0; i--) {\r\n\t\t\t\tfor (char c = &#39;A&#39;; c &lt;= &#39;G&#39;; c++) {\r\n\t\t\t\t\tString cell = &quot;&quot; + c + i;\r\n\t\t\t\t\tJButton cellButton = new JButton(&quot; &quot;);\r\n\r\n\t\t\t\t\tcellButton.setBackground(Color.LIGHT_GRAY);\r\n\t\t\t\t\tcellButton.setName(&quot;Button&quot; + cell);\r\n\t\t\t\t\tmainPanel.add(cellButton);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// add mainPanel to JFrame\r\n\t\t\tadd(mainPanel, BorderLayout.CENTER);\r\n\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\r\n\t}","title":"Jawa Swing multiple layouts in one frame","body":"<p>One solution is to use two JPanel instances (with each having its own LayoutManager).</p>\n<p>Then you add these two JPanel instances to your JFrame.</p>\n<p>Example:</p>\n<pre><code>public class MyApplication extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                MyApplication app = new MyApplication();\n                app.setVisible(true);\n            }\n        });\n    }\n\n    private MyApplication() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n        setTitle(&quot;Connect Four&quot;);\n        setLocationRelativeTo(null);\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout(new BoxLayout(buttonPanel, BoxLayout.Y_AXIS));\n        JButton resetButton = new JButton();\n        resetButton.setName(&quot;reset button&quot;);\n        resetButton.setText(&quot;Reset&quot;);\n        resetButton.setAlignmentX(Component.RIGHT_ALIGNMENT);\n        buttonPanel.add(resetButton);\n\n        // add buttonPanel to JFrame\n        add(buttonPanel, BorderLayout.SOUTH);\n\n        JPanel mainPanel = new JPanel(new GridLayout(6, 7, 0, 0));\n\n        for (int i = 6; i &gt; 0; i--) {\n            for (char c = 'A'; c &lt;= 'G'; c++) {\n                String cell = &quot;&quot; + c + i;\n                JButton cellButton = new JButton(&quot; &quot;);\n\n                cellButton.setBackground(Color.LIGHT_GRAY);\n                cellButton.setName(&quot;Button&quot; + cell);\n                mainPanel.add(cellButton);\n            }\n        }\n\n        // add mainPanel to JFrame\n        add(mainPanel, BorderLayout.CENTER);\n\n        setVisible(true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075244,"answer_count":1,"score":0,"last_activity_date":1673380926,"creation_date":1673340397,"question_id":75067467,"body_markdown":"I&#39;m trying to create Connect 4 game which would look like on this picture:\r\n[![enter image description here][1]][1]\r\nI&#39;ve been able to create a gridlayout with 42 buttons and now I need to add Reset button. I believe that I need to combine 2 layouts in one frame but I dont know how to do that and cant find any answer anywhere. \r\nThank you for your help and time.\r\n```\r\npublic class ApplicationRunner {\r\n\r\npublic static void main(String[] args) {\r\n    new ConnectFour();\r\n    }\r\n} \r\n```\r\n``` \r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class ConnectFour extends JFrame {\r\n    private String buttonLbl = &quot;X&quot;;\r\n    HashMap&lt;String, JButton&gt; buttons;\r\n    public ConnectFour() {\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(600, 600);\r\n        setTitle(&quot;Connect Four&quot;);\r\n        setLocationRelativeTo(null);\r\n\r\n        JButton resetButton = new JButton();\r\n        resetButton.setName(&quot;reset button&quot;);\r\n        resetButton.setText(&quot;Reset&quot;);\r\n\r\n        for (int i = 6; i &gt; 0; i--) {\r\n            for (char c = &#39;A&#39;; c &lt;= &#39;G&#39;; c++) {\r\n                String cell = &quot;&quot; + c + i;\r\n                JButton cellButton = new JButton(&quot; &quot;);\r\n\r\n                cellButton.setBackground(Color.LIGHT_GRAY);\r\n                cellButton.setName(&quot;Button&quot; + cell);\r\n                add(cellButton);\r\n            }\r\n        }\r\n\r\n        GridLayout gl = new GridLayout(6, 7, 0, 0);\r\n        setLayout(gl);\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XEgbo.jpg","title":"Jawa Swing multiple layouts in one frame","body":"<p>I'm trying to create Connect 4 game which would look like on this picture:\n<a href=\"https://i.stack.imgur.com/XEgbo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XEgbo.jpg\" alt=\"enter image description here\" /></a>\nI've been able to create a gridlayout with 42 buttons and now I need to add Reset button. I believe that I need to combine 2 layouts in one frame but I dont know how to do that and cant find any answer anywhere.\nThank you for your help and time.</p>\n<pre><code>public class ApplicationRunner {\n\npublic static void main(String[] args) {\n    new ConnectFour();\n    }\n} \n</code></pre>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class ConnectFour extends JFrame {\n    private String buttonLbl = &quot;X&quot;;\n    HashMap&lt;String, JButton&gt; buttons;\n    public ConnectFour() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n        setTitle(&quot;Connect Four&quot;);\n        setLocationRelativeTo(null);\n\n        JButton resetButton = new JButton();\n        resetButton.setName(&quot;reset button&quot;);\n        resetButton.setText(&quot;Reset&quot;);\n\n        for (int i = 6; i &gt; 0; i--) {\n            for (char c = 'A'; c &lt;= 'G'; c++) {\n                String cell = &quot;&quot; + c + i;\n                JButton cellButton = new JButton(&quot; &quot;);\n\n                cellButton.setBackground(Color.LIGHT_GRAY);\n                cellButton.setName(&quot;Button&quot; + cell);\n                add(cellButton);\n            }\n        }\n\n        GridLayout gl = new GridLayout(6, 7, 0, 0);\n        setLayout(gl);\n        setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","file-upload","automated-tests"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":1,"creation_date":1663844601,"post_id":73813289,"comment_id":130337301,"body_markdown":"Are you able to upload multiple files at one go manually?","body":"Are you able to upload multiple files at one go manually?"},{"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"score":0,"creation_date":1663857400,"post_id":73813289,"comment_id":130342515,"body_markdown":"One input definitly allows it, I am not sure about the other.","body":"One input definitly allows it, I am not sure about the other."},{"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"score":1,"creation_date":1663914398,"post_id":73813289,"comment_id":130355436,"body_markdown":"could you pls share code for  method uploadFilePO.uploadFile(filepath, fileInput, progressBar)","body":"could you pls share code for  method uploadFilePO.uploadFile(filepath, fileInput, progressBar)"},{"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"score":0,"creation_date":1664029851,"post_id":73813289,"comment_id":130380409,"body_markdown":"@SonaliDas I added requested code and edited question to add more explanations.","body":"@SonaliDas I added requested code and edited question to add more explanations."}],"answers":[{"tags":[],"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664208478,"creation_date":1664208478,"answer_id":73856917,"question_id":73813289,"body_markdown":"I found the answer to my problem. An input element has to be provided with a string containing absolute paths to the files one wants to upload joined with &quot; \\n &quot;.\r\n\r\nSo this is the piece of code I am using now:\r\n\r\n```\r\n    public void uploadFiles(@NotNull List&lt;String&gt; filenames, By input, By progressBar) {\r\n        String upload = String.join(&quot; \\n &quot;, filenames\r\n                .stream()\r\n                .map(filename -&gt; new File(Objects.requireNonNull(\r\n                        getClass().getClassLoader().getResource(filename)).getFile()).getAbsolutePath())\r\n                .toList());\r\n        getExistingElement(input).sendKeys(upload);\r\n        wait.until(ExpectedConditions.invisibilityOfAllElements(driver.findElements(progressBar)));\r\n    }\r\n```","title":"Selenium multiple upload input","body":"<p>I found the answer to my problem. An input element has to be provided with a string containing absolute paths to the files one wants to upload joined with &quot; \\n &quot;.</p>\n<p>So this is the piece of code I am using now:</p>\n<pre><code>    public void uploadFiles(@NotNull List&lt;String&gt; filenames, By input, By progressBar) {\n        String upload = String.join(&quot; \\n &quot;, filenames\n                .stream()\n                .map(filename -&gt; new File(Objects.requireNonNull(\n                        getClass().getClassLoader().getResource(filename)).getFile()).getAbsolutePath())\n                .toList());\n        getExistingElement(input).sendKeys(upload);\n        wait.until(ExpectedConditions.invisibilityOfAllElements(driver.findElements(progressBar)));\n    }\n</code></pre>\n"}],"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73856917,"answer_count":1,"score":2,"last_activity_date":1673380591,"creation_date":1663843521,"question_id":73813289,"body_markdown":"I know that there is some kind of bug in selenium that causes uploading multiple files at once a trouble (I&#39;m using v4.4.0). When I try to do it, I can upload 1st file, but 2nd file from the list will be uploaded along with 1st and 3rd along with 1st and 2nd, resulting in 3x1st file, 2x2nd file, 1x3rd file.\r\n\r\nWherever I need to upload multiple files, I visit upload place, upload 1st file, save, return, then visit again and upload 2nd file, and so on. But it&#39;s technically invoking method with a single upload few times.\r\n\r\nNow I am in place, where such a tactic can&#39;t be chosen. I read that using `\\n` as delimiter of String of files can help, but it just doesn&#39;t seem to work for me.\r\n\r\nIf only one file were to be sent (`filepaths` is list of only one element) it works fine.\r\n\r\n```\r\n    public ApplyFilesPO uploadFile(@NotNull List&lt;String&gt; filepaths) {\r\n        String filepath = String.join(&quot;\\n&quot;, filepaths);\r\n        uploadFilePO.uploadFile(filepath, fileInput, progressBar);\r\n        return this; // doesn&#39;t work if list contains more than 1 element\r\n    }\r\n```\r\n\r\nThis is `UploadFilePO#uploadFile(String, By, By)` method:\r\n\r\n```\r\n    public void uploadFile(String filename, By input, By progressBar) {\r\n        File file = new File(Objects\r\n                .requireNonNull(getClass().getClassLoader().getResource(filename))\r\n                .getFile());\r\n        getExistingElement(input).sendKeys(file.toString());\r\n        waitForElementToDisappear(progressBar);\r\n    }\r\n```\r\n\r\nThe input is 2px x 0px element, real user opens select file window by clicking on some button.\r\n\r\n`getExistingElement`:\r\n```\r\n    protected final WebElement getExistingElement(By locator) {\r\n        return wait.until(ExpectedConditions.presenceOfElementLocated(locator));\r\n    }\r\n```\r\n\r\n`waitForElementToDisappear` (Progress bar shows immediately after uploading file, and disappears after it is uploaded, so I added this method to be sure that uploading is done:\r\n\r\n```\r\n    protected final &lt;T&gt; void waitForElementToDisappear(T locator) {\r\n        wait.until(isBy(locator)\r\n                ? ExpectedConditions.invisibilityOfElementLocated((By) locator)\r\n                : ExpectedConditions.invisibilityOf((WebElement) locator));\r\n    }\r\n```","title":"Selenium multiple upload input","body":"<p>I know that there is some kind of bug in selenium that causes uploading multiple files at once a trouble (I'm using v4.4.0). When I try to do it, I can upload 1st file, but 2nd file from the list will be uploaded along with 1st and 3rd along with 1st and 2nd, resulting in 3x1st file, 2x2nd file, 1x3rd file.</p>\n<p>Wherever I need to upload multiple files, I visit upload place, upload 1st file, save, return, then visit again and upload 2nd file, and so on. But it's technically invoking method with a single upload few times.</p>\n<p>Now I am in place, where such a tactic can't be chosen. I read that using <code>\\n</code> as delimiter of String of files can help, but it just doesn't seem to work for me.</p>\n<p>If only one file were to be sent (<code>filepaths</code> is list of only one element) it works fine.</p>\n<pre><code>    public ApplyFilesPO uploadFile(@NotNull List&lt;String&gt; filepaths) {\n        String filepath = String.join(&quot;\\n&quot;, filepaths);\n        uploadFilePO.uploadFile(filepath, fileInput, progressBar);\n        return this; // doesn't work if list contains more than 1 element\n    }\n</code></pre>\n<p>This is <code>UploadFilePO#uploadFile(String, By, By)</code> method:</p>\n<pre><code>    public void uploadFile(String filename, By input, By progressBar) {\n        File file = new File(Objects\n                .requireNonNull(getClass().getClassLoader().getResource(filename))\n                .getFile());\n        getExistingElement(input).sendKeys(file.toString());\n        waitForElementToDisappear(progressBar);\n    }\n</code></pre>\n<p>The input is 2px x 0px element, real user opens select file window by clicking on some button.</p>\n<p><code>getExistingElement</code>:</p>\n<pre><code>    protected final WebElement getExistingElement(By locator) {\n        return wait.until(ExpectedConditions.presenceOfElementLocated(locator));\n    }\n</code></pre>\n<p><code>waitForElementToDisappear</code> (Progress bar shows immediately after uploading file, and disappears after it is uploaded, so I added this method to be sure that uploading is done:</p>\n<pre><code>    protected final &lt;T&gt; void waitForElementToDisappear(T locator) {\n        wait.until(isBy(locator)\n                ? ExpectedConditions.invisibilityOfElementLocated((By) locator)\n                : ExpectedConditions.invisibilityOf((WebElement) locator));\n    }\n</code></pre>\n"},{"tags":["java","android","xml"],"owner":{"account_id":27480440,"reputation":1,"user_id":20967632,"display_name":"Ayush Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673380560,"creation_date":1673289358,"question_id":75061602,"body_markdown":"I&#39;m working on a menu navigation drawer , in that I&#39;m not able to click items when I&#39;m adding a constraint layout inside the drawer layout. But after removing that click, the menu item works fine. So please tell me how can I fix this issue.\r\n\r\nhere below is my `activity_main.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/drawerlayout&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/appbar&quot;&gt;\r\n    &lt;/include&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:menu=&quot;@menu/navigationitem&quot;\r\n        android:id=&quot;@+id/navigationview&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        android:layout_gravity=&quot;start&quot;&gt;\r\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Test&quot;\r\n            android:textColor=&quot;@color/white&quot;&gt;\r\n        &lt;/TextView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\n And here below is my `mainactivity` \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        DrawerLayout drawerLayout;\r\n        Toolbar toolbar1;\r\n        NavigationView navigationView;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            drawerLayout=findViewById(R.id.drawerlayout);\r\n            toolbar1=findViewById(R.id.tbar);\r\n            navigationView=findViewById(R.id.navigationview);\r\n    \r\n            toolbar1.inflateMenu(R.menu.navigationitem);\r\n\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar1,R.string.nav_open,R.string.nav_close);\r\n\r\n            drawerLayout.addDrawerListener(toggle);\r\n\r\n            toggle.syncState();\r\n\r\n            navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    int id = item.getItemId();\r\n    \r\n                    if (id==R.id.profile){\r\n                        Toast.makeText(MainActivity.this, &quot;Profile&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else if(id==R.id.contact){\r\n                        Toast.makeText(MainActivity.this, &quot;Contact&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        Toast.makeText(MainActivity.this, &quot;Logoutact&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nNow, How Can Solve This Problem?","title":"In android navigation menu, menu item is not clickable","body":"<p>I'm working on a menu navigation drawer , in that I'm not able to click items when I'm adding a constraint layout inside the drawer layout. But after removing that click, the menu item works fine. So please tell me how can I fix this issue.</p>\n<p>here below is my <code>activity_main.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/drawerlayout&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;include layout=&quot;@layout/appbar&quot;&gt;\n    &lt;/include&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:menu=&quot;@menu/navigationitem&quot;\n        android:id=&quot;@+id/navigationview&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        android:layout_gravity=&quot;start&quot;&gt;\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Test&quot;\n            android:textColor=&quot;@color/white&quot;&gt;\n        &lt;/TextView&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>And here below is my <code>mainactivity</code></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    DrawerLayout drawerLayout;\n    Toolbar toolbar1;\n    NavigationView navigationView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        drawerLayout=findViewById(R.id.drawerlayout);\n        toolbar1=findViewById(R.id.tbar);\n        navigationView=findViewById(R.id.navigationview);\n\n        toolbar1.inflateMenu(R.menu.navigationitem);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar1,R.string.nav_open,R.string.nav_close);\n\n        drawerLayout.addDrawerListener(toggle);\n\n        toggle.syncState();\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                int id = item.getItemId();\n\n                if (id==R.id.profile){\n                    Toast.makeText(MainActivity.this, &quot;Profile&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else if(id==R.id.contact){\n                    Toast.makeText(MainActivity.this, &quot;Contact&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    Toast.makeText(MainActivity.this, &quot;Logoutact&quot;, Toast.LENGTH_SHORT).show();\n                }\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n<p>Now, How Can Solve This Problem?</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1673369444,"post_id":75073262,"comment_id":132481210,"body_markdown":"No. You can&#39;t add methods to arrays. To achieve something like `manyElements.add(newElement)` in a way similar to array we use lists like ArrayList. They also store elements at indexes and unlike arrays don&#39;t have fixed size. So your code would be like `list.add(element)`.","body":"No. You can&#39;t add methods to arrays. To achieve something like <code>manyElements.add(newElement)</code> in a way similar to array we use lists like ArrayList. They also store elements at indexes and unlike arrays don&#39;t have fixed size. So your code would be like <code>list.add(element)</code>."},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":1,"creation_date":1673369537,"post_id":75073262,"comment_id":132481240,"body_markdown":"_&quot;I&#39;m trying to achieve this without using ArrayLists and NestedLists&quot;_ - is this an academic question or do you have actual requirements to work without lists?","body":"<i>&quot;I&#39;m trying to achieve this without using ArrayLists and NestedLists&quot;</i> - is this an academic question or do you have actual requirements to work without lists?"},{"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"score":1,"creation_date":1673372065,"post_id":75073262,"comment_id":132482113,"body_markdown":"@Marvin we haven&#39;t been taught Lists in school and I don&#39;t want to get penalized for using them (yes, it happens), but at the same time I don&#39;t want my code to be too messy. I was hoping to be able to &quot;create&quot; my own ArrayList by only using what we have already been taught.","body":"@Marvin we haven&#39;t been taught Lists in school and I don&#39;t want to get penalized for using them (yes, it happens), but at the same time I don&#39;t want my code to be too messy. I was hoping to be able to &quot;create&quot; my own ArrayList by only using what we have already been taught."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673373158,"post_id":75073262,"comment_id":132482484,"body_markdown":"The Java [Arrays API](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html) does have methods that can resize arrays. If an array is made larger, zeroes are added. See  [`public static&#160;int[]&#160;copyOf​(int[]&#160;original, int&#160;newLength)`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html#copyOf(int%5B%5D,int)), for example.","body":"The Java <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays API</a> does have methods that can resize arrays. If an array is made larger, zeroes are added. See  <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html#copyOf(int%5B%5D,int)\" rel=\"nofollow noreferrer\"><code>public static int[] copyOf​(int[] original, int newLength)</code></a>, for example."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673370992,"creation_date":1673370992,"answer_id":75073593,"question_id":75073262,"body_markdown":"&gt; Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I&#39;m not too sure how to express it better) in such a way that it would work as follows instead?\r\n\r\nNo, there is not.  You must use something like `List`, or optionally write your own interface that _wraps_ an array (it cannot itself be an array).","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<blockquote>\n<p>Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I'm not too sure how to express it better) in such a way that it would work as follows instead?</p>\n</blockquote>\n<p>No, there is not.  You must use something like <code>List</code>, or optionally write your own interface that <em>wraps</em> an array (it cannot itself be an array).</p>\n"},{"tags":[],"owner":{"account_id":4702310,"reputation":21,"user_id":3805562,"display_name":"hamza moslah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673373215,"creation_date":1673373215,"answer_id":75073986,"question_id":75073262,"body_markdown":"You cannot add a method to &quot;the array class&quot;, same for all predefined classes, the only solution for other predefined classes is to inherit them and add the methods you want, but, this cannot be done for arrays as it has not a specific predefined class, **it can be defined as a container object that holds a fixed number of values of a single type** ([Arrays][1]).\r\n\r\nThe alternative solutions for what you want:\r\n\r\n - Use Lists (`ArrayList` for example), as described in the comments.\r\n - concatenate the array original content with the new element, for this solution, you can use [ArrayUtils.addAll(T[] array1, T... array2)][2] or [System.arraycopy][3] like the following sample (convert the new element to an array before)\r\n\r\n       String[] both = ArrayUtils.addAll(first, second);\r\n\r\n - Create a class to wrap the array (adding the array as a variable in this class), and create addElement method containing something like the following:\r\n\r\n   \r\n        int[] newArray = new int[length + 1];\r\n        for (int i = 0; i &lt; length; i++)\r\n            newArray[i] = this.array[i];\r\n        newArray[length] = element;\r\n        length ++;\r\n        array = newArray;\r\n    \r\n\r\n \r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#addAll%28T%5B%5D,%20T...%29\r\n  [3]: https://docs.oracle.com/javase/6/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\r\n\r\n","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>You cannot add a method to &quot;the array class&quot;, same for all predefined classes, the only solution for other predefined classes is to inherit them and add the methods you want, but, this cannot be done for arrays as it has not a specific predefined class, <strong>it can be defined as a container object that holds a fixed number of values of a single type</strong> (<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays</a>).</p>\n<p>The alternative solutions for what you want:</p>\n<ul>\n<li><p>Use Lists (<code>ArrayList</code> for example), as described in the comments.</p>\n</li>\n<li><p>concatenate the array original content with the new element, for this solution, you can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#addAll%28T%5B%5D,%20T...%29\" rel=\"nofollow noreferrer\">ArrayUtils.addAll(T[] array1, T... array2)</a> or <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"nofollow noreferrer\">System.arraycopy</a> like the following sample (convert the new element to an array before)</p>\n<pre><code>String[] both = ArrayUtils.addAll(first, second);\n</code></pre>\n</li>\n<li><p>Create a class to wrap the array (adding the array as a variable in this class), and create addElement method containing something like the following:</p>\n<pre><code> int[] newArray = new int[length + 1];\n for (int i = 0; i &lt; length; i++)\n     newArray[i] = this.array[i];\n newArray[length] = element;\n length ++;\n array = newArray;\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25959386,"reputation":1,"user_id":19676247,"display_name":"Tarun Pura"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673373467,"creation_date":1673373467,"answer_id":75074023,"question_id":75073262,"body_markdown":"I think you should take a reference of How ArrayList is getting implemented and how its size increases dynamically. Since it uses Array internally for the implementation, you might get some suggestions from there. ","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>I think you should take a reference of How ArrayList is getting implemented and how its size increases dynamically. Since it uses Array internally for the implementation, you might get some suggestions from there.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673379946,"creation_date":1673379946,"answer_id":75075088,"question_id":75073262,"body_markdown":"What you&#39;re asking for are called [&quot;extension methods&quot; in C#][1], but as others have already answered, they don&#39;t exist in Java. However, [Project Lombok][2] (which is full of very useful features that most professional Java developers should be aware of and use), implements them with [a simple annotation][3].\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\npackage so_75073262;\r\n\r\npublic class ArrayExtensions {\r\n\r\n\tpublic static int[] add(int[] oldArray, int value) {\r\n\t\tint n = oldArray.length;\r\n\t\tint[] newArray = new int[n + 1];\r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tnewArray[i] = oldArray[i];\r\n\t\t}\r\n\t\tnewArray[n] = value;\r\n\t\treturn newArray;\r\n\t}\r\n}\r\n```\r\n```java\r\npackage so_75073262;\r\n\r\nimport lombok.experimental.ExtensionMethod;\r\n\r\n@ExtensionMethod(ArrayExtensions.class)\r\npublic class Usage {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] original = {2,5};\r\n\t\tint[] modified = original.add(7);\r\n\r\n\t\tSystem.out.println(modified[0]);\r\n\t\tSystem.out.println(modified[1]);\r\n\t\tSystem.out.println(modified[2]);\r\n\t}\r\n}\r\n```\r\n\r\nLombok is a form of &quot;magic&quot; and probably would get &quot;interesting&quot; responses from some course instructors; I&#39;m not sure I&#39;d recommend using this in an introductory Java class. But it&#39;s still useful to know about; it&#39;s a powerful tool to have in your toolbox, and can help keep code tidy and uncluttered.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\r\n  [2]: https://projectlombok.org/\r\n  [3]: https://projectlombok.org/features/experimental/ExtensionMethod","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>What you're asking for are called <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\" rel=\"nofollow noreferrer\">&quot;extension methods&quot; in C#</a>, but as others have already answered, they don't exist in Java. However, <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> (which is full of very useful features that most professional Java developers should be aware of and use), implements them with <a href=\"https://projectlombok.org/features/experimental/ExtensionMethod\" rel=\"nofollow noreferrer\">a simple annotation</a>.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package so_75073262;\n\npublic class ArrayExtensions {\n\n    public static int[] add(int[] oldArray, int value) {\n        int n = oldArray.length;\n        int[] newArray = new int[n + 1];\n\n        for (int i = 0; i &lt; n; i++) {\n            newArray[i] = oldArray[i];\n        }\n        newArray[n] = value;\n        return newArray;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package so_75073262;\n\nimport lombok.experimental.ExtensionMethod;\n\n@ExtensionMethod(ArrayExtensions.class)\npublic class Usage {\n\n    public static void main(String[] args) {\n        int[] original = {2,5};\n        int[] modified = original.add(7);\n\n        System.out.println(modified[0]);\n        System.out.println(modified[1]);\n        System.out.println(modified[2]);\n    }\n}\n</code></pre>\n<p>Lombok is a form of &quot;magic&quot; and probably would get &quot;interesting&quot; responses from some course instructors; I'm not sure I'd recommend using this in an introductory Java class. But it's still useful to know about; it's a powerful tool to have in your toolbox, and can help keep code tidy and uncluttered.</p>\n"}],"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1673379946,"creation_date":1673369274,"question_id":75073262,"body_markdown":"I have built a static method that adds an element to an array (which has a fixed size). You don&#39;t have to look at the entire method, it just creates a new array with a greater length and adds an element at the end of it, then returns the new array.\r\n```\r\nstatic int[] add(int[] oldArray, int value){\r\n\tint n = oldArray.length;\r\n\tint[] newArray = new int[n+1];\r\n\tfor(int i=0; i&lt;n; i++){\r\n\t\tnewArray[i]=oldArray[i];\r\n\t}\r\n\tnewArray[n] = value;\r\n\treturn newArray;\r\n}\r\n```\r\nThe method is supposed to be used as follows\r\n```\r\nint[] a = {2, 5};\r\na = add(a, 7);\r\n```\r\nNow the array a has three elements instead of two, namely 2, 5 and 7. The problem is, this is still a little messy. Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I&#39;m not too sure how to express it better) in such a way that it would work as follows instead?\r\n```\r\nint[] a = {2, 5};\r\na.add(7);\r\n```\r\nI&#39;m trying to achieve this without using ArrayLists and NestedLists.","title":"How to add a method to &quot;the array class&quot; in Java?","body":"<p>I have built a static method that adds an element to an array (which has a fixed size). You don't have to look at the entire method, it just creates a new array with a greater length and adds an element at the end of it, then returns the new array.</p>\n<pre><code>static int[] add(int[] oldArray, int value){\n    int n = oldArray.length;\n    int[] newArray = new int[n+1];\n    for(int i=0; i&lt;n; i++){\n        newArray[i]=oldArray[i];\n    }\n    newArray[n] = value;\n    return newArray;\n}\n</code></pre>\n<p>The method is supposed to be used as follows</p>\n<pre><code>int[] a = {2, 5};\na = add(a, 7);\n</code></pre>\n<p>Now the array a has three elements instead of two, namely 2, 5 and 7. The problem is, this is still a little messy. Is there a way to implement the method as non-static (in a &quot;predefined array class&quot; or something? I'm not too sure how to express it better) in such a way that it would work as follows instead?</p>\n<pre><code>int[] a = {2, 5};\na.add(7);\n</code></pre>\n<p>I'm trying to achieve this without using ArrayLists and NestedLists.</p>\n"},{"tags":["java","spring-boot","apache-camel","spring-boot-test","springmockito"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673379847,"creation_date":1673379847,"answer_id":75075072,"question_id":75072614,"body_markdown":"You can enable _advice with_ in the unit test - then you need to start Camel manually.\r\n\r\nhttps://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing","title":"How to mock Apache Camel Route before CamelContext is started in CamelSpringBootTest","body":"<p>You can enable <em>advice with</em> in the unit test - then you need to start Camel manually.</p>\n<p><a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing</a></p>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673379847,"creation_date":1673366333,"question_id":75072614,"body_markdown":"Maybe a rather uncommon issue, but I&#39;d like to **mock** certain Camel routes, in the **JUnit setup method** \r\n\r\n\r\n```\r\n@BeforeEach\r\nvoid setUp() {\r\n}\r\n```\r\n\r\n\r\n**before** the \r\n\r\n\r\n```\r\n@Override\r\npublic void configure() throws Exception {\r\n\r\n}\r\n```\r\n\r\n**is executed**, which seems to happen, as soon as the **CamelContext** is autowired\r\n\r\n\r\n```\r\n@Autowired\r\nprotected CamelContext camelContext;\r\n\r\n```\r\n\r\n\r\n**What do I need to do, to prevent autostarting of the Camel Context, in order to be able to mock my routes in the setup method and start it manually?**\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to mock Apache Camel Route before CamelContext is started in CamelSpringBootTest","body":"<p>Maybe a rather uncommon issue, but I'd like to <strong>mock</strong> certain Camel routes, in the <strong>JUnit setup method</strong></p>\n<pre><code>@BeforeEach\nvoid setUp() {\n}\n</code></pre>\n<p><strong>before</strong> the</p>\n<pre><code>@Override\npublic void configure() throws Exception {\n\n}\n</code></pre>\n<p><strong>is executed</strong>, which seems to happen, as soon as the <strong>CamelContext</strong> is autowired</p>\n<pre><code>@Autowired\nprotected CamelContext camelContext;\n\n</code></pre>\n<p><strong>What do I need to do, to prevent autostarting of the Camel Context, in order to be able to mock my routes in the setup method and start it manually?</strong></p>\n"},{"tags":["java","android","notifications"],"owner":{"account_id":27491861,"reputation":11,"user_id":20977067,"display_name":"20_028_Yash _Vajapara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673379651,"creation_date":1673379651,"question_id":75075037,"body_markdown":"[How can I fix this in mediastylenotifications?](https://i.stack.imgur.com/ID4PP.jpg)\r\n\r\n[I want to do that ](https://i.stack.imgur.com/ojiVM.jpg)","title":"Mediastyle notification not proper seen when screen is lock","body":"<p><a href=\"https://i.stack.imgur.com/ID4PP.jpg\" rel=\"nofollow noreferrer\">How can I fix this in mediastylenotifications?</a></p>\n<p><a href=\"https://i.stack.imgur.com/ojiVM.jpg\" rel=\"nofollow noreferrer\">I want to do that </a></p>\n"},{"tags":["java","swing","javafx","jfxpanel"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1673375048,"post_id":75074229,"comment_id":132483052,"body_markdown":"Do you need to mix JavaFX and Swing? This isn&#39;t really recommended. If you really need to do that, you&#39;ll need to pass a reference to the `JFrame` to the controller, and have the controller call `setVisible(false)` on the `JFrame` (which will need to be done on the AWT event dispatching thread, not on the FX Application Thread).","body":"Do you need to mix JavaFX and Swing? This isn&#39;t really recommended. If you really need to do that, you&#39;ll need to pass a reference to the <code>JFrame</code> to the controller, and have the controller call <code>setVisible(false)</code> on the <code>JFrame</code> (which will need to be done on the AWT event dispatching thread, not on the FX Application Thread)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673375756,"post_id":75074229,"comment_id":132483250,"body_markdown":"In my previous comment, I&#39;m assuming you want to close the actual window (which is what the code would do if you were displaying in a stage). Obviously, if you want to display a different FXML in the same panel, you don&#39;t need any of this. Your question says &quot;I am trying to close the current *fxml* to move to the next one&quot; (my emphasis), but the question you link is about closing the current *window*. What exactly do you want to do?","body":"In my previous comment, I&#39;m assuming you want to close the actual window (which is what the code would do if you were displaying in a stage). Obviously, if you want to display a different FXML in the same panel, you don&#39;t need any of this. Your question says &quot;I am trying to close the current <i>fxml</i> to move to the next one&quot; (my emphasis), but the question you link is about closing the current <i>window</i>. What exactly do you want to do?"},{"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"score":0,"creation_date":1673375878,"post_id":75074229,"comment_id":132483271,"body_markdown":"@James_D it follows the instruction in my assignment and I&#39;m not allowed to change it. I&#39;ll try your suggestion and give an update later.","body":"@James_D it follows the instruction in my assignment and I&#39;m not allowed to change it. I&#39;ll try your suggestion and give an update later."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673375917,"post_id":75074229,"comment_id":132483280,"body_markdown":"So what does it actually say to do? Close the window? Or just display another FXML?","body":"So what does it actually say to do? Close the window? Or just display another FXML?"},{"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"score":0,"creation_date":1673376288,"post_id":75074229,"comment_id":132483388,"body_markdown":"The way I am working right now is it opens a new window for each fxml. The idea to display another FXML in the same panel didn&#39;t occur in my head. It should actually be better to do that.\nI still need to also return to the interface created by swing however. For this specific action, I should do as your first comment?","body":"The way I am working right now is it opens a new window for each fxml. The idea to display another FXML in the same panel didn&#39;t occur in my head. It should actually be better to do that. I still need to also return to the interface created by swing however. For this specific action, I should do as your first comment?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673384876,"post_id":75074229,"comment_id":132485948,"body_markdown":"It should also be noted that the cast in the original question you linked is unnecessary. You can just do `closeButton.getScene().getWindow().hide()`, and for a `Stage` (the context for the original question), `close()` is equivalent to the superclass method `hide()`. The `EmbeddedWindow` that is returned by `getWindow()` when the scene is displayed in a `JFXPanel` is of course a subclass of `Window`, so you can make the same call here, though I have no idea what it will actually do (i.e. I don&#39;t know what the implementation of `EmbeddedWindow.hide()` is).","body":"It should also be noted that the cast in the original question you linked is unnecessary. You can just do <code>closeButton.getScene().getWindow().hide()</code>, and for a <code>Stage</code> (the context for the original question), <code>close()</code> is equivalent to the superclass method <code>hide()</code>. The <code>EmbeddedWindow</code> that is returned by <code>getWindow()</code> when the scene is displayed in a <code>JFXPanel</code> is of course a subclass of <code>Window</code>, so you can make the same call here, though I have no idea what it will actually do (i.e. I don&#39;t know what the implementation of <code>EmbeddedWindow.hide()</code> is)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1673399087,"post_id":75074229,"comment_id":132488829,"body_markdown":"*“it follows the instruction in my assignment and I&#39;m not allowed to change it”* -&gt; it boggles the mind that somebody would actually create an assignment requiring mixing JavaFX and Swing/AWT.","body":"<i>“it follows the instruction in my assignment and I&#39;m not allowed to change it”</i> -&gt; it boggles the mind that somebody would actually create an assignment requiring mixing JavaFX and Swing/AWT."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673379645,"creation_date":1673377734,"answer_id":75074730,"question_id":75074229,"body_markdown":"To close the containing `JFrame` in a mixed Swing and JavaFX application, from a JavaFX controller, you need to provide the controller with sufficient information to close the window. Probably the best way to decouple this properly is to just have a `Runnable` in the controller that knows how to close the window:\r\n\r\n    public class ScreenController {\r\n    \r\n        private Runnable windowCloser ;\r\n    \r\n        public void setWindowCloser(Runnable windowCloser) {\r\n            this.windowCloser = windowCloser;\r\n        }\r\n    \r\n        // ...\r\n    \r\n        @FXML\r\n        private void closeButtonAction(){\r\n            \r\n            // do what you have to do\r\n\r\n            // close the current window:\r\n            windowCloser.run();\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nAnd then:\r\n\r\n        JFXPanel fxPanel = new JFXPanel();\r\n        this.add(fxPanel);\r\n        \r\n        this.setTitle(&quot;Title&quot;);\r\n        this.setSize(1024, 768);\r\n        this.setVisible(true);\r\n\r\n        // Assuming this is a JFrame subclass\r\n        // (otherwise replace &quot;this&quot; with a reference to the JFrame):\r\n\r\n        Runnable windowCloser = () -&gt; SwingUtilities.invokeLater(\r\n            () -&gt; this.setVisible(false)\r\n        );\r\n\r\n        Platform.runLater(() -&gt; {\r\n\r\n            try {\r\n                FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\r\n                ScreenController controller = new ScreenController();\r\n\r\n                controller.setWindowCloser(windowCloser);\r\n\r\n                loader.setController(controller);\r\n                Parent root = loader.load();\r\n                fxPanel.setScene(new Scene(root));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\nYou should also consider just loading the FXML into the current `JFXPanel`, which is much easier:\r\n\r\n    public class ScreenController {\r\n    \r\n    \r\n        // ...\r\n    \r\n        @FXML\r\n        private Button closeButton;\r\n    \r\n        @FXML\r\n        private void closeButtonAction(){\r\n    \r\n            Parent root = /* load next FXML */ ;\r\n            closeButton.getScene().setRoot(root);\r\n        }\r\n    \r\n        // ...\r\n    }","title":"Cannot get JavaFx Stage from Node because class com.sun.javafx.stage.EmbeddedWindow cannot be cast to class javafx.stage.Stage","body":"<p>To close the containing <code>JFrame</code> in a mixed Swing and JavaFX application, from a JavaFX controller, you need to provide the controller with sufficient information to close the window. Probably the best way to decouple this properly is to just have a <code>Runnable</code> in the controller that knows how to close the window:</p>\n<pre><code>public class ScreenController {\n\n    private Runnable windowCloser ;\n\n    public void setWindowCloser(Runnable windowCloser) {\n        this.windowCloser = windowCloser;\n    }\n\n    // ...\n\n    @FXML\n    private void closeButtonAction(){\n        \n        // do what you have to do\n\n        // close the current window:\n        windowCloser.run();\n    }\n\n    // ...\n}\n</code></pre>\n<p>And then:</p>\n<pre><code>    JFXPanel fxPanel = new JFXPanel();\n    this.add(fxPanel);\n    \n    this.setTitle(&quot;Title&quot;);\n    this.setSize(1024, 768);\n    this.setVisible(true);\n\n    // Assuming this is a JFrame subclass\n    // (otherwise replace &quot;this&quot; with a reference to the JFrame):\n\n    Runnable windowCloser = () -&gt; SwingUtilities.invokeLater(\n        () -&gt; this.setVisible(false)\n    );\n\n    Platform.runLater(() -&gt; {\n\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\n            ScreenController controller = new ScreenController();\n\n            controller.setWindowCloser(windowCloser);\n\n            loader.setController(controller);\n            Parent root = loader.load();\n            fxPanel.setScene(new Scene(root));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    });\n</code></pre>\n<p>You should also consider just loading the FXML into the current <code>JFXPanel</code>, which is much easier:</p>\n<pre><code>public class ScreenController {\n\n\n    // ...\n\n    @FXML\n    private Button closeButton;\n\n    @FXML\n    private void closeButtonAction(){\n\n        Parent root = /* load next FXML */ ;\n        closeButton.getScene().setRoot(root);\n    }\n\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":19519664,"reputation":15,"user_id":14281832,"display_name":"Minh Long Vu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75074730,"answer_count":1,"score":0,"last_activity_date":1673379645,"creation_date":1673374679,"question_id":75074229,"body_markdown":"I am trying to close the current fxml to move to the next one. I followed the reply from this question: [close fxml window by code, javafx][1]:\r\n```java\r\n@FXML private javafx.scene.control.Button closeButton;\r\n\r\n@FXML\r\nprivate void closeButtonAction(){\r\n    // get a handle to the stage\r\n    Stage stage = (Stage) closeButton.getScene().getWindow();\r\n    // do what you have to do\r\n    stage.close();\r\n}\r\n```\r\nAnd I encountered the same problem as the unanswered comment below it:\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: com.sun.javafx.stage.EmbeddedWindow cannot be cast to javafx.stage.Stage\r\n```\r\nAll of the other answers also doesn&#39;t help. There are little discussion on EmbeddedWindow so I have no clue on what to do next. The previous screen was made with javax.swing, not JavaFx, and the transition is as follow:\r\n```java\r\nimport javafx.embed.swing.JFXPanel;\r\n\r\n// more code\r\n\r\n        JFXPanel fxPanel = new JFXPanel();\r\n\t\tthis.add(fxPanel);\r\n\t\t\r\n\t\tthis.setTitle(&quot;Title&quot;);\r\n\t\tthis.setSize(1024, 768);\r\n\t\tthis.setVisible(true);\r\n\t\tPlatform.runLater(new Runnable() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\r\n\t\t\t\t\tScreenController controller = new ScreenController();\r\n\t\t\t\t\tloader.setController(controller);\r\n\t\t\t\t\tParent root = loader.load();\r\n\t\t\t\t\tfxPanel.setScene(new Scene(root));\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n// more code\r\n```\r\nBy the time I&#39;m done writing the context, I think the problem may lie in the usage of JFXPanel, but I can&#39;t find a solution either. So helps are appreciated. Thanks!\r\n\r\n  [1]: https://stackoverflow.com/questions/13567019/close-fxml-window-by-code-javafx","title":"Cannot get JavaFx Stage from Node because class com.sun.javafx.stage.EmbeddedWindow cannot be cast to class javafx.stage.Stage","body":"<p>I am trying to close the current fxml to move to the next one. I followed the reply from this question: <a href=\"https://stackoverflow.com/questions/13567019/close-fxml-window-by-code-javafx\">close fxml window by code, javafx</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML private javafx.scene.control.Button closeButton;\n\n@FXML\nprivate void closeButtonAction(){\n    // get a handle to the stage\n    Stage stage = (Stage) closeButton.getScene().getWindow();\n    // do what you have to do\n    stage.close();\n}\n</code></pre>\n<p>And I encountered the same problem as the unanswered comment below it:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: com.sun.javafx.stage.EmbeddedWindow cannot be cast to javafx.stage.Stage\n</code></pre>\n<p>All of the other answers also doesn't help. There are little discussion on EmbeddedWindow so I have no clue on what to do next. The previous screen was made with javax.swing, not JavaFx, and the transition is as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.embed.swing.JFXPanel;\n\n// more code\n\n        JFXPanel fxPanel = new JFXPanel();\n        this.add(fxPanel);\n        \n        this.setTitle(&quot;Title&quot;);\n        this.setSize(1024, 768);\n        this.setVisible(true);\n        Platform.runLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                // TODO Auto-generated method stub\n                try {\n                    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;&lt;String url to my fxml file&gt;&quot;));\n                    ScreenController controller = new ScreenController();\n                    loader.setController(controller);\n                    Parent root = loader.load();\n                    fxPanel.setScene(new Scene(root));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n// more code\n</code></pre>\n<p>By the time I'm done writing the context, I think the problem may lie in the usage of JFXPanel, but I can't find a solution either. So helps are appreciated. Thanks!</p>\n"},{"tags":["java","localdate","localdatetime"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1673323594,"post_id":75065328,"comment_id":132467618,"body_markdown":"By &quot;more than current hour&quot;, do you mean more than 1 hour, or the hour component just has to be more? In other words, would shipping time being 00:59:59 and the current time being 01:00:00 fulfil the condition? The same goes for the second condition. Does it need to be 24 hours more, or are you only looking at the calendar day?","body":"By &quot;more than current hour&quot;, do you mean more than 1 hour, or the hour component just has to be more? In other words, would shipping time being 00:59:59 and the current time being 01:00:00 fulfil the condition? The same goes for the second condition. Does it need to be 24 hours more, or are you only looking at the calendar day?"},{"owner":{"account_id":2204191,"reputation":63,"user_id":1947796,"display_name":"Omar Abdullwahhab"},"score":0,"creation_date":1673324078,"post_id":75065328,"comment_id":132467672,"body_markdown":"The LocalDateTime class has getHour(), getMinute(), and getSecond() methods you can use it for comparing the time fields, you can have a look at the LocalDateTime api here https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","body":"The LocalDateTime class has getHour(), getMinute(), and getSecond() methods you can use it for comparing the time fields, you can have a look at the LocalDateTime api here <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"score":0,"creation_date":1673325691,"post_id":75065328,"comment_id":132467865,"body_markdown":"more than 1 hour","body":"more than 1 hour"},{"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"score":0,"creation_date":1673325817,"post_id":75065328,"comment_id":132467892,"body_markdown":"If shipping date and current date is same and Shipping Time 8 PM and Current Time 7PM  then condition true :  Deliver Today at 8 PM","body":"If shipping date and current date is same and Shipping Time 8 PM and Current Time 7PM  then condition true :  Deliver Today at 8 PM"},{"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"score":0,"creation_date":1673325882,"post_id":75065328,"comment_id":132467903,"body_markdown":"If shipping date equals to tomorrow current date is same and Shipping Time 8 PM and Current Time 7PM then. : Deliver Tomorrow 8PM","body":"If shipping date equals to tomorrow current date is same and Shipping Time 8 PM and Current Time 7PM then. : Deliver Tomorrow 8PM"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673326455,"post_id":75065328,"comment_id":132467959,"body_markdown":"Maybe 1) `current.toLocalDate().isEqual(shipping.toLocalDate()) &amp;&amp; shipping.getHour() &gt; current.getHour()`?","body":"Maybe 1) <code>current.toLocalDate().isEqual(shipping.toLocalDate()) &amp;&amp; shipping.getHour() &gt; current.getHour()</code>?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673326480,"post_id":75065328,"comment_id":132467964,"body_markdown":"And 2) `current.toLocalDate().plusDays(1).isEqual(shipping.toLocalDate())`?","body":"And 2) <code>current.toLocalDate().plusDays(1).isEqual(shipping.toLocalDa&zwnj;&#8203;te())</code>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673333318,"post_id":75065328,"comment_id":132469132,"body_markdown":"For 1) the last part of the condition is `shippingdate.isAfter(currentDateTime.plusHours(1))`.  I think. Also @Slaw","body":"For 1) the last part of the condition is <code>shippingdate.isAfter(currentDateTime.plusHours(1))</code>.  I think. Also @Slaw"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673334970,"post_id":75065328,"comment_id":132469505,"body_markdown":"`compareTo()` only tells you which date-time is after which one, not by how much.","body":"<code>compareTo()</code> only tells you which date-time is after which one, not by how much."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673335394,"post_id":75065328,"comment_id":132469606,"body_markdown":"Is your shipping input meant to represent a date and time as seen with an offset from UTC of zero hours-minutes-seconds? Your code implies that, but you should say so explicitly.","body":"Is your shipping input meant to represent a date and time as seen with an offset from UTC of zero hours-minutes-seconds? Your code implies that, but you should say so explicitly."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673336478,"post_id":75065328,"comment_id":132469885,"body_markdown":"In addition to what @BasilBourque says the question of &quot;same date&quot; depends heavily on time zone. You may not want to use UTC here?? Would the user expect it to use their time zone?","body":"In addition to what @BasilBourque says the question of &quot;same date&quot; depends heavily on time zone. You may not want to use UTC here?? Would the user expect it to use their time zone?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673336698,"post_id":75065328,"comment_id":132469964,"body_markdown":"You should be editing your Question, rewriting to make it clear and specific.","body":"You should be editing your Question, rewriting to make it clear and specific."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673379298,"creation_date":1673336580,"answer_id":75066865,"question_id":75065328,"body_markdown":"# `LocalDateTime` cannot represent a moment\r\n\r\nOne problem is your inappropriate use of the `LocalDateTime` class. That class purposely lacks the context of a time zone or office from UTC. So that class cannot represent a moment, a specific point on the timeline. Yet you are trying to track moments, apparently. \r\n\r\nIf handed a date and time only, parse as a `LocalDateTime`. \r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2023-01-11T01:25:59&quot; ) ;\r\n\r\n# `OffsetDateTime`\r\n\r\nBut if you are certain that date and time was meant to represent a moment as seen with an offset of zero, immediately convert to an [`OffsetDateTime`][1]. Meanwhile, educate the publisher of your input data about their failure to communicate all three pieces of vital info (date, time, *and* offset/zone). \r\n\r\n    OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ; \r\n\r\nThe idea here is to “tell the truth”. If the intention is a date with time as seen in UTC, then our code should represent a date with time as seen in UTC. \r\n\r\nApparently you want to compare this date-time in UTC against the current moment as seen in UTC. \r\n\r\n    OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\n# `LocalDate`\r\n\r\nYour primary concern is the date. \r\n\r\n    LocalDate shippingDate = odt.toLocalDate() ;\r\n    LocalDate today = now.toLocalDate() ;\r\n    LocalDate tomorrow = today.plusDays( 1 ) ;\r\n\r\n    if ( shippingDate.isBefore( today ) { … is past }\r\n    else if ( shippingDate.isEqual( today ) { … is today }\r\n    else if ( shippingDate.isEqual( tomorrow ) { … is tomorrow }\r\n    else if ( shippingDate.isAfter( tomorrow ) { … is future }\r\n    else { … throw exception because we should never reach this point }\r\n\r\n# `OffsetDateTime#getHour`\r\n\r\nYour secondary concern was apparently that you want to know, if today, is the target hour the same as the current hour. Your writing is not at all clear on this point, but that is my guess. \r\n\r\nSo add a nested test within the “is equal to today” test branch above. \r\n\r\n    if( odt.getHour() == now.getHour() ) { … same clock hour }\r\n\r\nOr perhaps you want to test for a later, future hour. \r\n\r\n    if( odt.getHour() &gt; now.getHour() ) { … later, future hour }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html","title":"how compare localdatetime with current date including hours in java","body":"<h1><code>LocalDateTime</code> cannot represent a moment</h1>\n<p>One problem is your inappropriate use of the <code>LocalDateTime</code> class. That class purposely lacks the context of a time zone or office from UTC. So that class cannot represent a moment, a specific point on the timeline. Yet you are trying to track moments, apparently.</p>\n<p>If handed a date and time only, parse as a <code>LocalDateTime</code>.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2023-01-11T01:25:59&quot; ) ;\n</code></pre>\n<h1><code>OffsetDateTime</code></h1>\n<p>But if you are certain that date and time was meant to represent a moment as seen with an offset of zero, immediately convert to an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>. Meanwhile, educate the publisher of your input data about their failure to communicate all three pieces of vital info (date, time, <em>and</em> offset/zone).</p>\n<pre><code>OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ; \n</code></pre>\n<p>The idea here is to “tell the truth”. If the intention is a date with time as seen in UTC, then our code should represent a date with time as seen in UTC.</p>\n<p>Apparently you want to compare this date-time in UTC against the current moment as seen in UTC.</p>\n<pre><code>OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<h1><code>LocalDate</code></h1>\n<p>Your primary concern is the date.</p>\n<pre><code>LocalDate shippingDate = odt.toLocalDate() ;\nLocalDate today = now.toLocalDate() ;\nLocalDate tomorrow = today.plusDays( 1 ) ;\n\nif ( shippingDate.isBefore( today ) { … is past }\nelse if ( shippingDate.isEqual( today ) { … is today }\nelse if ( shippingDate.isEqual( tomorrow ) { … is tomorrow }\nelse if ( shippingDate.isAfter( tomorrow ) { … is future }\nelse { … throw exception because we should never reach this point }\n</code></pre>\n<h1><code>OffsetDateTime#getHour</code></h1>\n<p>Your secondary concern was apparently that you want to know, if today, is the target hour the same as the current hour. Your writing is not at all clear on this point, but that is my guess.</p>\n<p>So add a nested test within the “is equal to today” test branch above.</p>\n<pre><code>if( odt.getHour() == now.getHour() ) { … same clock hour }\n</code></pre>\n<p>Or perhaps you want to test for a later, future hour.</p>\n<pre><code>if( odt.getHour() &gt; now.getHour() ) { … later, future hour }\n</code></pre>\n"}],"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673379298,"creation_date":1673323127,"question_id":75065328,"body_markdown":"My Local date Time(Shipping) in the format like &quot;2023-01-11T01:25:59&quot;\r\n\r\nI need to compare with current time do the below conditions\r\n\r\n1) If both are in same date and Shipping hour more than current hour\r\n\r\n2) Shipping Date equals next Current date ( In this case Shipping Date = 2023-01-11 == Current date + 1 day\r\n\r\nI did this but it&#39;s not working with hours\r\n\r\n```\r\nLocalDateTime shippingdate= (calling funtion)\r\nSystem.out.println(&quot;shippingdate &quot;+shippingdate);  //2023-01-11T01:25:59 \r\n\r\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\nSystem.out.println(&quot;currentTime &quot;+currentDateTime);   //2023-01-10T03:42:52.574994\r\n\r\nint diff = shippingdate.compareTo(currentDateTime);\r\n\r\nif (diff==1) {\r\n}\r\n\r\nif (diff &gt; 1) {\r\n}\r\n\r\n\r\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n```\r\n","title":"how compare localdatetime with current date including hours in java","body":"<p>My Local date Time(Shipping) in the format like &quot;2023-01-11T01:25:59&quot;</p>\n<p>I need to compare with current time do the below conditions</p>\n<ol>\n<li><p>If both are in same date and Shipping hour more than current hour</p>\n</li>\n<li><p>Shipping Date equals next Current date ( In this case Shipping Date = 2023-01-11 == Current date + 1 day</p>\n</li>\n</ol>\n<p>I did this but it's not working with hours</p>\n<pre><code>LocalDateTime shippingdate= (calling funtion)\nSystem.out.println(&quot;shippingdate &quot;+shippingdate);  //2023-01-11T01:25:59 \n\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\nSystem.out.println(&quot;currentTime &quot;+currentDateTime);   //2023-01-10T03:42:52.574994\n\nint diff = shippingdate.compareTo(currentDateTime);\n\nif (diff==1) {\n}\n\nif (diff &gt; 1) {\n}\n\n\nLocalDateTime currentDateTime = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":["java","unit-testing","junit","junit4","junit3"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1380111386,"post_id":19004611,"comment_id":28076390,"body_markdown":"Debug your test and inspect the value of `val` right before that `assertTrue` statement. Is it still 5?","body":"Debug your test and inspect the value of <code>val</code> right before that <code>assertTrue</code> statement. Is it still 5?"}],"answers":[{"tags":[],"owner":{"account_id":2643114,"reputation":972,"user_id":2286380,"accept_rate":75,"display_name":"smajlo"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1380112058,"creation_date":1380111746,"answer_id":19004795,"question_id":19004611,"body_markdown":"ive tried to write quick test:\r\n\r\n    @Test\r\n    public void testName() {\r\n        int i = 5;\r\n        junit.framework.Assert.assertTrue(i == 3 || i == 5);\r\n\r\n    }\r\n\r\nits passing always so i guess there is some inbetween code when your value is changed. \r\nYou can use\r\n\r\n    org.junit.Assert.assertEquals(5, i);\r\nto check value - this assertion will print out nice info whats wrong, for example:\r\n\r\n\r\n    java.lang.AssertionError: \r\n    Expected :4\r\n    Actual   :5","title":"Junit assert OR condition in my test case","body":"<p>ive tried to write quick test:</p>\n\n<pre><code>@Test\npublic void testName() {\n    int i = 5;\n    junit.framework.Assert.assertTrue(i == 3 || i == 5);\n\n}\n</code></pre>\n\n<p>its passing always so i guess there is some inbetween code when your value is changed. \nYou can use</p>\n\n<pre><code>org.junit.Assert.assertEquals(5, i);\n</code></pre>\n\n<p>to check value - this assertion will print out nice info whats wrong, for example:</p>\n\n<pre><code>java.lang.AssertionError: \nExpected :4\nActual   :5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1473375575,"creation_date":1380352922,"answer_id":19064484,"question_id":19004611,"body_markdown":"You can use [Hamcrest matchers](http://code.google.com/p/hamcrest/wiki/Tutorial) to get a clearer error message here:\r\n\r\n    int i = 2;\r\n    assertThat(i, Matchers.either(Matchers.is(3)).or(Matchers.is(5))\r\n\r\n    or\r\n\r\n    int i = 2;\r\n    assertThat(i, Matchers.anyOf(Matchers.is(3),Matchers.is(5)));\r\n\r\nThis will more clearly explain:\r\n\r\n    Expected: (is &lt;3&gt; or is &lt;5&gt;)\r\n         but: was &lt;2&gt;\r\n\r\nshowing exactly the expectation and the incorrect value that was provided.\r\n","title":"Junit assert OR condition in my test case","body":"<p>You can use <a href=\"http://code.google.com/p/hamcrest/wiki/Tutorial\" rel=\"noreferrer\">Hamcrest matchers</a> to get a clearer error message here:</p>\n\n<pre><code>int i = 2;\nassertThat(i, Matchers.either(Matchers.is(3)).or(Matchers.is(5))\n\nor\n\nint i = 2;\nassertThat(i, Matchers.anyOf(Matchers.is(3),Matchers.is(5)));\n</code></pre>\n\n<p>This will more clearly explain:</p>\n\n<pre><code>Expected: (is &lt;3&gt; or is &lt;5&gt;)\n     but: was &lt;2&gt;\n</code></pre>\n\n<p>showing exactly the expectation and the incorrect value that was provided.</p>\n"},{"tags":[],"owner":{"account_id":1005292,"reputation":20271,"user_id":1019227,"display_name":"A. Rodas"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1421322055,"creation_date":1421322055,"answer_id":27962617,"question_id":19004611,"body_markdown":"While Harmcrest matchers can do the job, these constants can be easily refactored to a more meaninful constant, like a list of valid values. Then you can use the `contains` method to check that the value is present in the list - IMO is also easier to read:\r\n\r\n    public class Foo {\r\n        public static final List&lt;Integer&gt; VALID_VALUES = Arrays.asList(3, 5);\r\n    }\r\n\r\n    @Test\r\n    public void testName() {\r\n        int i = 5;\r\n        Assert.assertTrue(Foo.VALID_VALUES.contains(i));\r\n    }\r\n\r\n","title":"Junit assert OR condition in my test case","body":"<p>While Harmcrest matchers can do the job, these constants can be easily refactored to a more meaninful constant, like a list of valid values. Then you can use the <code>contains</code> method to check that the value is present in the list - IMO is also easier to read:</p>\n\n<pre><code>public class Foo {\n    public static final List&lt;Integer&gt; VALID_VALUES = Arrays.asList(3, 5);\n}\n\n@Test\npublic void testName() {\n    int i = 5;\n    Assert.assertTrue(Foo.VALID_VALUES.contains(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4395937,"reputation":2784,"user_id":3582996,"accept_rate":100,"display_name":"Mohamed Ibrahim Elsayed"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1542895636,"creation_date":1542895636,"answer_id":53432757,"question_id":19004611,"body_markdown":"In my case I wanted to do some complex assertion logic, so I simply implemented a method that returns a boolean and it did the job, the way it would be implemented in this example is as follows:\r\n\r\n    private Boolean is3or5(Integer val) {\r\n        if(val == 3 || val == 5) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\nThen do the assertion:\r\n\r\n    assertTrue(is3or5(val));\r\nOf course the method can contain more complex logic if needed\r\n\r\n","title":"Junit assert OR condition in my test case","body":"<p>In my case I wanted to do some complex assertion logic, so I simply implemented a method that returns a boolean and it did the job, the way it would be implemented in this example is as follows:</p>\n\n<pre><code>private Boolean is3or5(Integer val) {\n    if(val == 3 || val == 5) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Then do the assertion:</p>\n\n<pre><code>assertTrue(is3or5(val));\n</code></pre>\n\n<p>Of course the method can contain more complex logic if needed</p>\n"},{"tags":[],"owner":{"account_id":13694686,"reputation":1029,"user_id":9881679,"display_name":"Adrian Jimenez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673379160,"creation_date":1673379160,"answer_id":75074963,"question_id":19004611,"body_markdown":"with TestNG this is also possible\r\n\r\n    Assert.assertTrue(val == 3 || val==5)","title":"Junit assert OR condition in my test case","body":"<p>with TestNG this is also possible</p>\n<pre><code>Assert.assertTrue(val == 3 || val==5)\n</code></pre>\n"}],"owner":{"account_id":929610,"reputation":41151,"user_id":959734,"accept_rate":53,"display_name":"Leem.fin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65602,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":19004795,"answer_count":5,"score":37,"last_activity_date":1673379160,"creation_date":1380111240,"question_id":19004611,"body_markdown":"In my test case, I get an integer value:\r\n\r\n    int val = getXXX();\r\n\r\nThen, I would like to check if `val` either equals to 3 or equals to 5 which is OK in either case. So, I did:\r\n\r\n    assertTrue(val == 3 || val==5);\r\n\r\nI run my test, the log shows `val` is 5, but my above assertion code failed with **AssertionFailedError**. Seems I can not use `assertTrue(...)` in this way, then, how to check true for OR condition?","title":"Junit assert OR condition in my test case","body":"<p>In my test case, I get an integer value:</p>\n\n<pre><code>int val = getXXX();\n</code></pre>\n\n<p>Then, I would like to check if <code>val</code> either equals to 3 or equals to 5 which is OK in either case. So, I did:</p>\n\n<pre><code>assertTrue(val == 3 || val==5);\n</code></pre>\n\n<p>I run my test, the log shows <code>val</code> is 5, but my above assertion code failed with <strong>AssertionFailedError</strong>. Seems I can not use <code>assertTrue(...)</code> in this way, then, how to check true for OR condition?</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1620072879,"post_id":67374992,"comment_id":119088623,"body_markdown":"How about `animalMap.values().stream().max(Comparator.comparingInt(Animal::getWeight))`.","body":"How about <code>animalMap.values().stream().max(Comparator.comparingInt(Anim&zwnj;&#8203;al::getWeight))</code>."}],"answers":[{"tags":[],"owner":{"account_id":21480022,"reputation":128,"user_id":15827548,"display_name":"MattDog_222 Overwatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620089663,"creation_date":1620089663,"answer_id":67377502,"question_id":67374992,"body_markdown":"If I&#39;m understanding correctly, you can make a static method that takes in an animal[]. Have a currentMax value, initialized to Double.MIN_VALUE and for each index in the array, if arr[i].getWeight() &gt; currentMax -&gt; currentMax = arr[i].getWeight(). Then return the max currentMax at the end. Add an index value if you want the location of it that stores the index of i whenever the currentMax gets updated.","title":"Find animals with the highest weight without sorted() (map&lt;String, Animal&gt; (Where Animal - class))","body":"<p>If I'm understanding correctly, you can make a static method that takes in an animal[]. Have a currentMax value, initialized to Double.MIN_VALUE and for each index in the array, if arr[i].getWeight() &gt; currentMax -&gt; currentMax = arr[i].getWeight(). Then return the max currentMax at the end. Add an index value if you want the location of it that stores the index of i whenever the currentMax gets updated.</p>\n"},{"tags":[],"owner":{"account_id":27491916,"reputation":1,"user_id":20977115,"display_name":"zine mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378967,"creation_date":1673378967,"answer_id":75074931,"question_id":67374992,"body_markdown":"There are many different animals that can have extremely high weights, depending on the species and whether they are domesticated or wild. Some examples of animals that can weigh a lot include:\r\n\r\nAfrican elephants can weigh up to around 6,000 kg (13,227 lbs)\r\nBlue whales can weigh up to around 200,000 kg (440,925 lbs)\r\nHippopotamuses can weigh up to around 1,500 kg (3,307 lbs)\r\nGiraffes can weigh up to around 1,200 kg (2,646 lbs)\r\nWhite rhinoceroses can weigh up to around 2,300 kg (5,071 lbs)\r\nSaltwater crocodiles can weigh up to around 1,000 kg (2,205 lbs)\r\nKeep in mind that this is not an exhaustive list and there may be other animals that weigh even more.**strong text**","title":"Find animals with the highest weight without sorted() (map&lt;String, Animal&gt; (Where Animal - class))","body":"<p>There are many different animals that can have extremely high weights, depending on the species and whether they are domesticated or wild. Some examples of animals that can weigh a lot include:</p>\n<p>African elephants can weigh up to around 6,000 kg (13,227 lbs)\nBlue whales can weigh up to around 200,000 kg (440,925 lbs)\nHippopotamuses can weigh up to around 1,500 kg (3,307 lbs)\nGiraffes can weigh up to around 1,200 kg (2,646 lbs)\nWhite rhinoceroses can weigh up to around 2,300 kg (5,071 lbs)\nSaltwater crocodiles can weigh up to around 1,000 kg (2,205 lbs)\nKeep in mind that this is not an exhaustive list and there may be other animals that weigh even more.<strong>strong text</strong></p>\n"}],"owner":{"account_id":13979350,"reputation":1,"user_id":10095925,"display_name":"Yanok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673378967,"creation_date":1620071463,"question_id":67374992,"body_markdown":"I have problem with task. I must find animal with the highest weight but without sorted() in map&lt;String,Animal&gt;. Probles is I cannot get the value body_wt. \r\nI tried to make it through **double maxWeight = (Collections.max(map.));** where map **Map&lt;String, Animal&gt;** but nothing works\r\n\r\nClass Animal\r\n\r\n        package com.company;\r\n    \r\n    public class Animal {\r\n        public double body_wt;\r\n        public double brain_wt;\r\n        public double non_dreaming;\r\n        public double dreaming;\r\n        public double total_sleep;\r\n        public double life_span;\r\n        public double gestation;\r\n        public int predation;\r\n        public int exposure;\r\n        public int danger;\r\n    \r\n        //getters and setters\r\n        @Override\r\n        public String toString()\r\n        {\r\n    \r\n            return &quot;AnimalCharacteristics{bodyWt=&quot;+getValue(body_wt)+&quot;, brainWt=&quot;+getValue(brain_wt)+&quot;, nonDreaming=&quot; +\r\n                    getValue(non_dreaming)+ &quot;, dreaming=&quot;+ getValue(dreaming)+ &quot;, totalSleep=&quot;+getValue(total_sleep)+\r\n                    &quot;, lifeSpan=&quot;+getValue(life_span)+&quot;, gestation=&quot;+ getValue(gestation)+&quot;, predation=&quot;+predation+&quot;, exposure=&quot;+exposure+&quot;, danger=&quot;+danger+&quot;}&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI read Animals from txt file \r\n\r\n    public static Map&lt;String, Animal&gt; readAnimals(){\r\n        Map&lt;String, Animal&gt; animals = new HashMap &lt;&gt;();\r\n        Scanner devScanner = null;\r\n        try {\r\n            devScanner = new Scanner(new File(&quot;mammals.txt&quot;));\r\n\r\n            String species = &quot;q&quot;;\r\n            devScanner.nextLine();\r\n            while (devScanner.hasNext()) {\r\n                Animal animal = new Animal();\r\n                String nextLine = devScanner.nextLine();\r\n                String[] anData = nextLine.split(&quot;;&quot;);\r\n                for (int i = 0; i &lt; anData.length; i++) {\r\n                    if (anData[i].isEmpty()) continue;\r\n                    switch(i){\r\n                        case 0:  species = anData[0];continue;\r\n                        case 1: if(anData[1].equals(&quot;NA&quot;)){animal.setBody_wt(0);} else{ animal.setBody_wt(Double.parseDouble(anData[1]));} continue;\r\n                        case 2: if(anData[2].equals(&quot;NA&quot;)){animal.setBrain_wt(0);} else{ animal.setBrain_wt(Double.parseDouble(anData[2]));} continue;\r\n                        case 3: if(anData[3].equals(&quot;NA&quot;)){animal.setNon_dreaming(0);} else{ animal.setNon_dreaming(Double.parseDouble(anData[3]));} continue;\r\n                        case 4: if(anData[4].equals(&quot;NA&quot;)){animal.setDreaming(0);} else{ animal.setDreaming(Double.parseDouble(anData[4]));} continue;\r\n                        case 5: if(anData[5].equals(&quot;NA&quot;)){animal.setTotal_sleep(0);} else{ animal.setTotal_sleep(Double.parseDouble(anData[5]));} continue;\r\n                        case 6: if(anData[6].equals(&quot;NA&quot;)){animal.setLife_span(0);} else{ animal.setLife_span(Double.parseDouble(anData[6]));} continue;\r\n                        case 7: if(anData[7].equals(&quot;NA&quot;)){animal.setGestation(0);} else{ animal.setGestation(Double.parseDouble(anData[7]));} continue;\r\n                        case 8: if(anData[8].equals(&quot;NA&quot;)){animal.setPredation(0);} else { animal.setPredation(Integer.parseInt(anData[8]));} continue;\r\n                        case 9: if(anData[9].equals(&quot;NA&quot;)){animal.setExposure(0);} else { animal.setExposure(Integer.parseInt(anData[9]));} continue;\r\n                        case 10: if(anData[10].equals(&quot;NA&quot;)){animal.setDanger(0);} else { animal.setDanger(Integer.parseInt(anData[10]));} break;\r\n                    }\r\n                }\r\n                animals.put(species, animal);\r\n            }\r\n\r\n\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return animals;\r\n    }\r\n\r\n\r\n","title":"Find animals with the highest weight without sorted() (map&lt;String, Animal&gt; (Where Animal - class))","body":"<p>I have problem with task. I must find animal with the highest weight but without sorted() in map&lt;String,Animal&gt;. Probles is I cannot get the value body_wt.\nI tried to make it through <strong>double maxWeight = (Collections.max(map.));</strong> where map <strong>Map&lt;String, Animal&gt;</strong> but nothing works</p>\n<p>Class Animal</p>\n<pre><code>    package com.company;\n\npublic class Animal {\n    public double body_wt;\n    public double brain_wt;\n    public double non_dreaming;\n    public double dreaming;\n    public double total_sleep;\n    public double life_span;\n    public double gestation;\n    public int predation;\n    public int exposure;\n    public int danger;\n\n    //getters and setters\n    @Override\n    public String toString()\n    {\n\n        return &quot;AnimalCharacteristics{bodyWt=&quot;+getValue(body_wt)+&quot;, brainWt=&quot;+getValue(brain_wt)+&quot;, nonDreaming=&quot; +\n                getValue(non_dreaming)+ &quot;, dreaming=&quot;+ getValue(dreaming)+ &quot;, totalSleep=&quot;+getValue(total_sleep)+\n                &quot;, lifeSpan=&quot;+getValue(life_span)+&quot;, gestation=&quot;+ getValue(gestation)+&quot;, predation=&quot;+predation+&quot;, exposure=&quot;+exposure+&quot;, danger=&quot;+danger+&quot;}&quot;;\n    }\n\n}\n</code></pre>\n<p>I read Animals from txt file</p>\n<pre><code>public static Map&lt;String, Animal&gt; readAnimals(){\n    Map&lt;String, Animal&gt; animals = new HashMap &lt;&gt;();\n    Scanner devScanner = null;\n    try {\n        devScanner = new Scanner(new File(&quot;mammals.txt&quot;));\n\n        String species = &quot;q&quot;;\n        devScanner.nextLine();\n        while (devScanner.hasNext()) {\n            Animal animal = new Animal();\n            String nextLine = devScanner.nextLine();\n            String[] anData = nextLine.split(&quot;;&quot;);\n            for (int i = 0; i &lt; anData.length; i++) {\n                if (anData[i].isEmpty()) continue;\n                switch(i){\n                    case 0:  species = anData[0];continue;\n                    case 1: if(anData[1].equals(&quot;NA&quot;)){animal.setBody_wt(0);} else{ animal.setBody_wt(Double.parseDouble(anData[1]));} continue;\n                    case 2: if(anData[2].equals(&quot;NA&quot;)){animal.setBrain_wt(0);} else{ animal.setBrain_wt(Double.parseDouble(anData[2]));} continue;\n                    case 3: if(anData[3].equals(&quot;NA&quot;)){animal.setNon_dreaming(0);} else{ animal.setNon_dreaming(Double.parseDouble(anData[3]));} continue;\n                    case 4: if(anData[4].equals(&quot;NA&quot;)){animal.setDreaming(0);} else{ animal.setDreaming(Double.parseDouble(anData[4]));} continue;\n                    case 5: if(anData[5].equals(&quot;NA&quot;)){animal.setTotal_sleep(0);} else{ animal.setTotal_sleep(Double.parseDouble(anData[5]));} continue;\n                    case 6: if(anData[6].equals(&quot;NA&quot;)){animal.setLife_span(0);} else{ animal.setLife_span(Double.parseDouble(anData[6]));} continue;\n                    case 7: if(anData[7].equals(&quot;NA&quot;)){animal.setGestation(0);} else{ animal.setGestation(Double.parseDouble(anData[7]));} continue;\n                    case 8: if(anData[8].equals(&quot;NA&quot;)){animal.setPredation(0);} else { animal.setPredation(Integer.parseInt(anData[8]));} continue;\n                    case 9: if(anData[9].equals(&quot;NA&quot;)){animal.setExposure(0);} else { animal.setExposure(Integer.parseInt(anData[9]));} continue;\n                    case 10: if(anData[10].equals(&quot;NA&quot;)){animal.setDanger(0);} else { animal.setDanger(Integer.parseInt(anData[10]));} break;\n                }\n            }\n            animals.put(species, animal);\n        }\n\n\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return animals;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sagemaker"],"comments":[{"owner":{"account_id":5354234,"reputation":2652,"user_id":4267439,"accept_rate":64,"display_name":"rok"},"score":0,"creation_date":1620309328,"post_id":67404280,"comment_id":119167325,"body_markdown":"I am not an expert, so just guessing.. is there any possibility that the image has not been tagged with &quot;latest&quot; ?","body":"I am not an expert, so just guessing.. is there any possibility that the image has not been tagged with &quot;latest&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":8556052,"reputation":390,"user_id":6411548,"display_name":"Raghu Ramesha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626977680,"creation_date":1626977680,"answer_id":68489735,"question_id":67404280,"body_markdown":"Please follow along with the example [here][1] to create a training job using Java API and make sure the region in which the ECR image is same as your reference and is tagged appropriately.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/code-samples/latest/catalog/javav2-sagemaker-src-main-java-com-example-sage-CreateTrainingJob.java.html","title":"SageMaker exception","body":"<p>Please follow along with the example <a href=\"https://docs.aws.amazon.com/code-samples/latest/catalog/javav2-sagemaker-src-main-java-com-example-sage-CreateTrainingJob.java.html\" rel=\"nofollow noreferrer\">here</a> to create a training job using Java API and make sure the region in which the ECR image is same as your reference and is tagged appropriately.</p>\n"},{"tags":[],"owner":{"account_id":15451110,"reputation":45,"user_id":11146517,"display_name":"Ridham Zalavadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378926,"creation_date":1673378926,"answer_id":75074925,"question_id":67404280,"body_markdown":"I believe that the docker image is pulled not by your role but by the sagemaker role (look for something like `Sagemaker_role` in IAM.) This role transfer is done because Sagemaker requires iam:PassRole which changes the role of the job from the caller (you) to the sagemaker role `Sagemaker_role`. It seems that `Sagemaker_role` doesn&#39;t have permissions to pull an image from ECR. The role being used is based on the role you pass to [EstimatorBase][1] (python api but roughly similar.)\r\n\r\n  [1]: https://sagemaker.readthedocs.io/en/stable/api/training/estimators.html#sagemaker.estimator.EstimatorBase","title":"SageMaker exception","body":"<p>I believe that the docker image is pulled not by your role but by the sagemaker role (look for something like <code>Sagemaker_role</code> in IAM.) This role transfer is done because Sagemaker requires iam:PassRole which changes the role of the job from the caller (you) to the sagemaker role <code>Sagemaker_role</code>. It seems that <code>Sagemaker_role</code> doesn't have permissions to pull an image from ECR. The role being used is based on the role you pass to <a href=\"https://sagemaker.readthedocs.io/en/stable/api/training/estimators.html#sagemaker.estimator.EstimatorBase\" rel=\"nofollow noreferrer\">EstimatorBase</a> (python api but roughly similar.)</p>\n"}],"owner":{"account_id":9160862,"reputation":149,"user_id":6812209,"accept_rate":18,"display_name":"codeworks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673378926,"creation_date":1620228453,"question_id":67404280,"body_markdown":"I am trying to create a model on AWS Sagemaker by triggering it from Java.\r\n\r\nThe steps I am following are the following,\r\n* Upload the csv of the training data with the target field as the first one - WORKED\r\n* Create a Training Job using SageMaker by using createTrainingJob API from the AWS SDK - Issue here\r\n\r\nI am getting the following exception while I try to create the image \r\n\r\n`Cannot find the requested image: 777445444252.dkr.ecr.eu-west-1.amazonaws.com/sagemakerimage with tag: latest and digest: null. Please check if your ECR image exists and role arn:aws:iam::777445444252:role/sagemaker has proper pull permissions for SageMaker: ecr:BatchCheckLayerAvailability, ecr:BatchGetImage, ecr:GetDownloadUrlForLayer`\r\n\r\nI have created role `sagemaker` with permissions as,\r\n[![enter image description here][1]][1]\r\nso that it can access all repositories in ECR with full permissions. \r\n\r\nI have also made sure I have the repository `sagemakerimage` created in ECR\r\nBut I still get this error. I am not sure what is wrong in what I am trying to do.\r\n\r\nAlso, I thought the image was supposed to be created?\r\n\r\n  [1]: https://i.stack.imgur.com/f5T6W.png","title":"SageMaker exception","body":"<p>I am trying to create a model on AWS Sagemaker by triggering it from Java.</p>\n<p>The steps I am following are the following,</p>\n<ul>\n<li>Upload the csv of the training data with the target field as the first one - WORKED</li>\n<li>Create a Training Job using SageMaker by using createTrainingJob API from the AWS SDK - Issue here</li>\n</ul>\n<p>I am getting the following exception while I try to create the image</p>\n<p><code>Cannot find the requested image: 777445444252.dkr.ecr.eu-west-1.amazonaws.com/sagemakerimage with tag: latest and digest: null. Please check if your ECR image exists and role arn:aws:iam::777445444252:role/sagemaker has proper pull permissions for SageMaker: ecr:BatchCheckLayerAvailability, ecr:BatchGetImage, ecr:GetDownloadUrlForLayer</code></p>\n<p>I have created role <code>sagemaker</code> with permissions as,\n<a href=\"https://i.stack.imgur.com/f5T6W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5T6W.png\" alt=\"enter image description here\" /></a>\nso that it can access all repositories in ECR with full permissions.</p>\n<p>I have also made sure I have the repository <code>sagemakerimage</code> created in ECR\nBut I still get this error. I am not sure what is wrong in what I am trying to do.</p>\n<p>Also, I thought the image was supposed to be created?</p>\n"},{"tags":["java","spring","jwt","bcrypt","boot"],"comments":[{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":0,"creation_date":1673371723,"post_id":75072822,"comment_id":132481993,"body_markdown":"It sounds like you aren&#39;t storing bcrypt encoded passwords in your database, but the configuration is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using bcrypt before you store the user.","body":"It sounds like you aren&#39;t storing bcrypt encoded passwords in your database, but the configuration is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using bcrypt before you store the user."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673379677,"post_id":75072822,"comment_id":132484394,"body_markdown":"The code that is in your controller should be in a service but alas. What does your `UserService.save` method do? What does your `User` entity look like, how are you storing things in the dabase?","body":"The code that is in your controller should be in a service but alas. What does your <code>UserService.save</code> method do? What does your <code>User</code> entity look like, how are you storing things in the dabase?"}],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378910,"creation_date":1673378910,"answer_id":75074923,"question_id":75072822,"body_markdown":"It seems that you are not actually storing `bcrypt` encoded passwords in your database.\r\n\r\nHowever, the system is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using `bcrypt` before you store the user.\r\n\r\nTry checking your database manually first, by looking into the `UserEntity` you may have created on the corresponding table.\r\n\r\nIf the `password` is not being encrypted, make sure it is being used by a `passwordEncoder()` method which should in turn be using a `BCryptPasswordEncoder` object to actually encode your input password.\r\n\r\nHope it helped!!","title":"Spring Boot Security - Encoded password does not look like BCrypt/Ecommence Method Failed","body":"<p>It seems that you are not actually storing <code>bcrypt</code> encoded passwords in your database.</p>\n<p>However, the system is expecting them. Either that or the password hashes are invalid. When you register a new user, you should make sure the password is hashed using <code>bcrypt</code> before you store the user.</p>\n<p>Try checking your database manually first, by looking into the <code>UserEntity</code> you may have created on the corresponding table.</p>\n<p>If the <code>password</code> is not being encrypted, make sure it is being used by a <code>passwordEncoder()</code> method which should in turn be using a <code>BCryptPasswordEncoder</code> object to actually encode your input password.</p>\n<p>Hope it helped!!</p>\n"}],"owner":{"account_id":27472340,"reputation":1,"user_id":20975683,"display_name":"Tsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673378910,"creation_date":1673367251,"question_id":75072822,"body_markdown":"I&#39;m new in Java/Spring boot and I&#39;m doing a login with jwt. \r\n\r\nWhat happens is that I got well to the part of creating users, the issue is that when I want to log in postman I get &quot;401 bad credentials&quot; and in the netbeans console I get Encoded password does not look like Bcrypt and I fail the commence method.\r\n\r\nI read my code like crazy and still can&#39;t figure out what&#39;s wrong with it.\r\n\r\nAuthcontroller.java\r\n\r\n```\r\njava\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@CrossOrigin\r\npublic class AuthController {\r\n    \r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n    \r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n    \r\n    @Autowired\r\n    UserService userService;\r\n    \r\n    @Autowired\r\n    RolService rolService;\r\n    \r\n    @Autowired\r\n    JwtProvider jwtProvider;\r\n    \r\n    @PostMapping(&quot;/new&quot;)\r\n    public ResponseEntity&lt;?&gt; nuevo(@Valid @RequestBody NewUser newUser, BindingResult bindingResult){\r\n        if(bindingResult.hasErrors())\r\n            return new ResponseEntity(new Msg(&quot;Campos o email inv&#195;&#161;lido&quot;), HttpStatus.BAD_REQUEST);\r\n        \r\n        if(userService.existsByUsername(newUser.getUsername))\r\n            return new ResponseEntity(new Msg(&quot;Nombre de usuario existente&quot;), HttpStatus.BAD_REQUEST);\r\n        \r\n        if(userService.existsByEmail(newUser.getEmail))\r\n            return new ResponseEntity(new Msg(&quot;Email existente&quot;), HttpStatus.BAD_REQUEST);\r\n        \r\n        User user = new User(newUser.getName(), newUser.getUsername(), newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\r\n        \r\n        Set&lt;Rol&gt; roles = new HashSet&lt;&gt;();\r\n        roles.add(rolService.getByRolName(RolName.ROLE_USER).get());\r\n        \r\n        if(newUser.getRoles().contains(&quot;admin&quot;))\r\n            roles.add(rolService.getByRolName(RolName.ROLE_ADMIN).get());\r\n        \r\n        user.setRoles(roles);\r\n        userService.save(user);\r\n        \r\n        return new ResponseEntity(new Msg(&quot;usuario guardado&quot;), HttpStatus.CREATED);\r\n    }\r\n    \r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;JwtDto&gt; login (@Valid @RequestBody UserLogin userLogin, BindingResult bindingResult){\r\n        if (bindingResult.hasErrors())\r\n            return new ResponseEntity(new Msg(&quot;Campos mal ingresados&quot;), HttpStatus.BAD_REQUEST);\r\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\r\n        userLogin.getUsername(), userLogin.getPassword()));\r\n        \r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        \r\n        String jwt = jwtProvider.generateToken(authentication);\r\n        \r\n        UserDetails userDetails = (UserDetails) authentication.getPrincipal();\r\n        \r\n        JwtDto jwtDto = new JwtDto(jwt, userDetails.getUsername(), userDetails.getAuthorities());\r\n        \r\n        return new ResponseEntity(jwtDto, HttpStatus.OK);\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n\r\nMainSecurity.java\r\n\r\n\r\n```\r\njava\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class MainSecurity {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n    @Autowired\r\n    JwtEntryPoint jwtEntryPoint;\r\n\r\n    @Bean\r\n    public JwtTokenFilter jwtTokenFilter() {\r\n        return new JwtTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n            throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedMethods(&quot;*&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot Security - Encoded password does not look like BCrypt/Ecommence Method Failed","body":"<p>I'm new in Java/Spring boot and I'm doing a login with jwt.</p>\n<p>What happens is that I got well to the part of creating users, the issue is that when I want to log in postman I get &quot;401 bad credentials&quot; and in the netbeans console I get Encoded password does not look like Bcrypt and I fail the commence method.</p>\n<p>I read my code like crazy and still can't figure out what's wrong with it.</p>\n<p>Authcontroller.java</p>\n<pre><code>java\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@CrossOrigin\npublic class AuthController {\n    \n    @Autowired\n    PasswordEncoder passwordEncoder;\n    \n    @Autowired\n    AuthenticationManager authenticationManager;\n    \n    @Autowired\n    UserService userService;\n    \n    @Autowired\n    RolService rolService;\n    \n    @Autowired\n    JwtProvider jwtProvider;\n    \n    @PostMapping(&quot;/new&quot;)\n    public ResponseEntity&lt;?&gt; nuevo(@Valid @RequestBody NewUser newUser, BindingResult bindingResult){\n        if(bindingResult.hasErrors())\n            return new ResponseEntity(new Msg(&quot;Campos o email invÃ¡lido&quot;), HttpStatus.BAD_REQUEST);\n        \n        if(userService.existsByUsername(newUser.getUsername))\n            return new ResponseEntity(new Msg(&quot;Nombre de usuario existente&quot;), HttpStatus.BAD_REQUEST);\n        \n        if(userService.existsByEmail(newUser.getEmail))\n            return new ResponseEntity(new Msg(&quot;Email existente&quot;), HttpStatus.BAD_REQUEST);\n        \n        User user = new User(newUser.getName(), newUser.getUsername(), newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\n        \n        Set&lt;Rol&gt; roles = new HashSet&lt;&gt;();\n        roles.add(rolService.getByRolName(RolName.ROLE_USER).get());\n        \n        if(newUser.getRoles().contains(&quot;admin&quot;))\n            roles.add(rolService.getByRolName(RolName.ROLE_ADMIN).get());\n        \n        user.setRoles(roles);\n        userService.save(user);\n        \n        return new ResponseEntity(new Msg(&quot;usuario guardado&quot;), HttpStatus.CREATED);\n    }\n    \n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;JwtDto&gt; login (@Valid @RequestBody UserLogin userLogin, BindingResult bindingResult){\n        if (bindingResult.hasErrors())\n            return new ResponseEntity(new Msg(&quot;Campos mal ingresados&quot;), HttpStatus.BAD_REQUEST);\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\n        userLogin.getUsername(), userLogin.getPassword()));\n        \n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        \n        String jwt = jwtProvider.generateToken(authentication);\n        \n        UserDetails userDetails = (UserDetails) authentication.getPrincipal();\n        \n        JwtDto jwtDto = new JwtDto(jwt, userDetails.getUsername(), userDetails.getAuthorities());\n        \n        return new ResponseEntity(jwtDto, HttpStatus.OK);\n    }\n    \n    \n}\n</code></pre>\n<p>MainSecurity.java</p>\n<pre><code>java\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class MainSecurity {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @Autowired\n    JwtEntryPoint jwtEntryPoint;\n\n    @Bean\n    public JwtTokenFilter jwtTokenFilter() {\n        return new JwtTokenFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n            throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedMethods(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":16369925,"reputation":21,"user_id":11823416,"display_name":"Ghost"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673377774,"creation_date":1673377774,"answer_id":75074738,"question_id":75074412,"body_markdown":"try setting your imageview width to 0dp and if this doesn&#39;t work then try setting scaleType to fitXY.\r\nLet me know if this works or not! ","title":"I do not fit the image I received from the user in Android studio fully into the imageview","body":"<p>try setting your imageview width to 0dp and if this doesn't work then try setting scaleType to fitXY.\nLet me know if this works or not!</p>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378085,"creation_date":1673378085,"answer_id":75074794,"question_id":75074412,"body_markdown":"Try using `adjustViewBounds` attribute, also you can use `scaleType` attribute if you want to scale the image:\r\n\r\n    &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:adjustViewBounds=&quot;true&quot;\r\n            android:src=&quot;@drawable/ic_launcher_background&quot; /&gt;","title":"I do not fit the image I received from the user in Android studio fully into the imageview","body":"<p>Try using <code>adjustViewBounds</code> attribute, also you can use <code>scaleType</code> attribute if you want to scale the image:</p>\n<pre><code>&lt;ImageView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        android:src=&quot;@drawable/ic_launcher_background&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":27128058,"reputation":9,"user_id":20670707,"display_name":"YUSUF ORHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673378085,"creation_date":1673375740,"question_id":75074412,"body_markdown":"[enter image description here](https://i.stack.imgur.com/MfgLU.jpg)\r\n\r\nthis is my application. I want the images in this recycler view to fill the whole screen. As in Instagram (I set the width of the Image View to match parent)\r\n\r\n[enter image description here](https://i.stack.imgur.com/4KrwM.jpg)\r\n\r\nI want it to look like this","title":"I do not fit the image I received from the user in Android studio fully into the imageview","body":"<p><a href=\"https://i.stack.imgur.com/MfgLU.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>this is my application. I want the images in this recycler view to fill the whole screen. As in Instagram (I set the width of the Image View to match parent)</p>\n<p><a href=\"https://i.stack.imgur.com/4KrwM.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want it to look like this</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":1,"creation_date":1673441575,"post_id":75074471,"comment_id":132499099,"body_markdown":"Probably Gradle has some additional configuration for compilation. Please check this thread for possible solutions: https://stackoverflow.com/a/53192674/2000323","body":"Probably Gradle has some additional configuration for compilation. Please check this thread for possible solutions: <a href=\"https://stackoverflow.com/a/53192674/2000323\">stackoverflow.com/a/53192674/2000323</a>"}],"owner":{"account_id":14305969,"reputation":135,"user_id":10333868,"display_name":"Jeongkuk Seo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673377987,"creation_date":1673376055,"question_id":75074471,"body_markdown":"I am using IntelliJ.\r\n\r\nWhen i build and run with gradle, my all tests are success.\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut if i change with IntelliJ IDEA, one test is fail.\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nThe reason why one test fail, no constructor is not exist in response dto.\r\n```\r\npublic class PathResponse {\r\n    private List&lt;StationResponse&gt; stations;\r\n    private int distance;\r\n\r\n    public PathResponse(List&lt;StationResponse&gt; stations, int distance) {\r\n        this.stations = stations;\r\n        this.distance = distance;\r\n    }\r\n\r\n    protected PathResponse() {} // &lt;- if put this, no error with InterlliJ IDEA also.\r\n```\r\n\r\nYes. i success the test with IntelliJ IDEA. \r\n\r\nBut i wonder why Gradle and IntelliJ IDEA test result is different.\r\n\r\nCan someone tell me reason..???\r\n\r\n  [1]: https://i.stack.imgur.com/6e6kg.png\r\n  [2]: https://i.stack.imgur.com/NPnp1.png\r\n  [3]: https://i.stack.imgur.com/olF8H.png\r\n  [4]: https://i.stack.imgur.com/FmmwO.png","title":"Intellij Run test using with Gradle success but Intellij IDEA test fail","body":"<p>I am using IntelliJ.</p>\n<p>When i build and run with gradle, my all tests are success.\n<a href=\"https://i.stack.imgur.com/6e6kg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6e6kg.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NPnp1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NPnp1.png\" alt=\"enter image description here\" /></a></p>\n<p>But if i change with IntelliJ IDEA, one test is fail.\n<a href=\"https://i.stack.imgur.com/olF8H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/olF8H.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/FmmwO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FmmwO.png\" alt=\"enter image description here\" /></a></p>\n<p>The reason why one test fail, no constructor is not exist in response dto.</p>\n<pre><code>public class PathResponse {\n    private List&lt;StationResponse&gt; stations;\n    private int distance;\n\n    public PathResponse(List&lt;StationResponse&gt; stations, int distance) {\n        this.stations = stations;\n        this.distance = distance;\n    }\n\n    protected PathResponse() {} // &lt;- if put this, no error with InterlliJ IDEA also.\n</code></pre>\n<p>Yes. i success the test with IntelliJ IDEA.</p>\n<p>But i wonder why Gradle and IntelliJ IDEA test result is different.</p>\n<p>Can someone tell me reason..???</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1673376420,"post_id":75074505,"comment_id":132483422,"body_markdown":"What is the output you expect ? I don&#39;t see any use of Deck and Deck.Sort","body":"What is the output you expect ? I don&#39;t see any use of Deck and Deck.Sort"},{"owner":{"account_id":24825089,"reputation":1,"user_id":18704995,"display_name":"chunk"},"score":0,"creation_date":1673376579,"post_id":75074505,"comment_id":132483465,"body_markdown":"i need it to print the cards in ascending order but i haven&#39;t figured out how to do that yet.","body":"i need it to print the cards in ascending order but i haven&#39;t figured out how to do that yet."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1673376619,"post_id":75074505,"comment_id":132483475,"body_markdown":"Can you share Card class ? so we can reproduce","body":"Can you share Card class ? so we can reproduce"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1673376649,"post_id":75074505,"comment_id":132483485,"body_markdown":"Also, it seems odd that `Sort` calls `Collections.shuffle` at the end. And why does `Sort` take a parameter? Shouldn&#39;t it work on the `card` member array? If not, you can make it `static`. Lastly, the `Deck` constructor creates an array that can hold 52 cards but only creates 5.","body":"Also, it seems odd that <code>Sort</code> calls <code>Collections.shuffle</code> at the end. And why does <code>Sort</code> take a parameter? Shouldn&#39;t it work on the <code>card</code> member array? If not, you can make it <code>static</code>. Lastly, the <code>Deck</code> constructor creates an array that can hold 52 cards but only creates 5."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1673376806,"post_id":75074505,"comment_id":132483525,"body_markdown":"My advice: have the `Deck` class create all 52 cards and shuffle them. Then make a `Hand` class that can hold 5 cards and sort them.","body":"My advice: have the <code>Deck</code> class create all 52 cards and shuffle them. Then make a <code>Hand</code> class that can hold 5 cards and sort them."},{"owner":{"account_id":24825089,"reputation":1,"user_id":18704995,"display_name":"chunk"},"score":0,"creation_date":1673377031,"post_id":75074505,"comment_id":132483582,"body_markdown":"i updated and provided my card class. the sort should work on the card array, im not sure how id go about fixing that. what should my Hand class look like?","body":"i updated and provided my card class. the sort should work on the card array, im not sure how id go about fixing that. what should my Hand class look like?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673377574,"creation_date":1673377574,"answer_id":75074703,"question_id":75074505,"body_markdown":"You can make `Card implements Comparable`, that&#39;s easy\r\n\r\n    class Card implements Comparable&lt;Card&gt; {\r\n        @Override\r\n        public int compareTo(Card o) {\r\n            return Integer.compare(rank, o.rank);\r\n        }\r\n    }\r\n\r\nThen the sort of the deck is easy\r\n\r\n\r\n    class Deck {    \r\n        public void sort() {\r\n            Arrays.sort(this.cards);\r\n        }\r\n    }\r\n\r\n----\r\n\r\nBut if you have `null` elements in your array (for now your loop stops at 5 not 52) you need a comparator that handles such nulls\r\n\r\nSo the `Deck.sort` would look like this\r\n\r\n    public void sort() {\r\n        Arrays.sort(this.cards, (o1, o2) -&gt; {\r\n            if (o1 == null &amp;&amp; o2 == null) return 0;\r\n            if (o1 == null) return 1;\r\n            if (o2 == null) return -1;\r\n            return o1.compareTo(o2);\r\n        });\r\n    }\r\n\r\n\r\n---\r\n\r\n\r\nHere&#39;s what you would have\r\n\r\n    Deck d = new Deck();\r\n    System.out.println(d); // [Jack of Hearts, Queen of Diamonds, 8 of Clubs, 7 of Diamonds ...\r\n    d.sort();\r\n    System.out.println(d); // [2 of Spades, 2 of Spades, 2 of Diamonds, 2 of Diamonds, 2 of C\r\n\r\n","title":"Deck of Cards (unable to print ordered deck)","body":"<p>You can make <code>Card implements Comparable</code>, that's easy</p>\n<pre><code>class Card implements Comparable&lt;Card&gt; {\n    @Override\n    public int compareTo(Card o) {\n        return Integer.compare(rank, o.rank);\n    }\n}\n</code></pre>\n<p>Then the sort of the deck is easy</p>\n<pre><code>class Deck {    \n    public void sort() {\n        Arrays.sort(this.cards);\n    }\n}\n</code></pre>\n<hr />\n<p>But if you have <code>null</code> elements in your array (for now your loop stops at 5 not 52) you need a comparator that handles such nulls</p>\n<p>So the <code>Deck.sort</code> would look like this</p>\n<pre><code>public void sort() {\n    Arrays.sort(this.cards, (o1, o2) -&gt; {\n        if (o1 == null &amp;&amp; o2 == null) return 0;\n        if (o1 == null) return 1;\n        if (o2 == null) return -1;\n        return o1.compareTo(o2);\n    });\n}\n</code></pre>\n<hr />\n<p>Here's what you would have</p>\n<pre><code>Deck d = new Deck();\nSystem.out.println(d); // [Jack of Hearts, Queen of Diamonds, 8 of Clubs, 7 of Diamonds ...\nd.sort();\nSystem.out.println(d); // [2 of Spades, 2 of Spades, 2 of Diamonds, 2 of Diamonds, 2 of C\n</code></pre>\n"}],"owner":{"account_id":24825089,"reputation":1,"user_id":18704995,"display_name":"chunk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673377574,"creation_date":1673376362,"question_id":75074505,"body_markdown":"i am creating a card game that needs to deal out a number of cards between 5-10 depending on user input. i created a card class and now i&#39;m working on the deck but feeling lost plus not being able to organise it to display in ascending order.\r\n\r\nthis is my Deck so far\r\n\r\n&gt; ```\r\n&gt; import java.util.Arrays;\r\n&gt; import java.util.Collections;\r\n&gt; \r\n&gt; public class Deck {\r\n&gt;     private Card card[];\r\n&gt; \r\n&gt;     public Deck() {\r\n&gt;         this.card = new Card[52];\r\n&gt;         for (int i = 0; i &lt; 5; i++) {\r\n&gt;             Card card = new Card(); //Instantiate a Card\r\n&gt;             this.card[i] = card; //Adding card to the Deck\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt;     private void Sort(Card[] deck){\r\n&gt; \r\n&gt;         for (int i = 1; i &lt; deck.length; i++){\r\n&gt;             int nextToInsertRank = deck[i].getRankValue();\r\n&gt;             Card nextToInsert = deck[i];\r\n&gt;             int index;\r\n&gt;             index = i - 1;\r\n&gt; \r\n&gt;             while (index &gt;= 0 &amp;&amp; deck[index].getRankValue() &gt; nextToInsertRank){\r\n&gt;                 deck[index + 1] = deck[index];\r\n&gt;                 index--;\r\n&gt;             }\r\n&gt;             deck[index + 1] = nextToInsert;\r\n&gt;         }\r\n&gt;         Collections.shuffle(Arrays.asList(this.card));\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nthis is my Card class.\r\n\r\nimport java.util.Random;\r\nimport java.util.Arrays;\r\n\r\npublic class Card{\r\n\r\n    private final int RANK, SUIT;\r\n    private static final Random GENERATOR = new Random();\r\n\r\n    private static final String[] RANKS = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;};\r\n    private static final String[] SUITS = {&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;};\r\n\r\n    public Card(){\r\n        RANK = GENERATOR.nextInt(RANKS.length);\r\n        SUIT = GENERATOR.nextInt(SUITS.length);\r\n\r\n    }\r\n\r\n    public static void SortCards(Card[] hand) {\r\n        for(int i = 0; i &lt; 5; i++) {\r\n            Arrays.sort(RANKS);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public String getRank() {\r\n        return RANKS[RANK];\r\n    }\r\n\r\n    public String getSuit(){\r\n        return SUITS[SUIT];\r\n    }\r\n\r\n    public int getRankValue(){\r\n       return RANK;\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return getRank() + &quot; of &quot; + getSuit();\r\n    }\r\n}\r\n\r\n\r\nthis is the code i use to get it printed.\r\n\r\n&gt; ```\r\n&gt; Card card1 = new Card();\r\n&gt; Card card2 = new Card();\r\n&gt; Card card3 = new Card();\r\n&gt; Card card4 = new Card();\r\n&gt; Card card5 = new Card();\r\n&gt; \r\n&gt; System.out.println(&quot;A: &quot; + card1);\r\n&gt; System.out.println(&quot;B: &quot; + card2);\r\n&gt; System.out.println(&quot;C: &quot; + card3);\r\n&gt; System.out.println(&quot;D: &quot; + card4);\r\n&gt; System.out.println(&quot;E: &quot; + card5);\r\n&gt; ```\r\n\r\nthis is the result i get.\r\n\r\n&gt; A: 9 of Spades\r\n&gt;\r\n&gt; B: 10 of Clubs\r\n&gt;\r\n&gt; C: 2 of Hearts\r\n&gt;\r\n&gt; D: 2 of Clubs\r\n&gt;\r\n&gt; E: 9 of Spades\r\n\r\ni&#39;ve tried a few different things but cant seem to get it to print correctly. any improvements to the code to make it work effectively would be appreciated.","title":"Deck of Cards (unable to print ordered deck)","body":"<p>i am creating a card game that needs to deal out a number of cards between 5-10 depending on user input. i created a card class and now i'm working on the deck but feeling lost plus not being able to organise it to display in ascending order.</p>\n<p>this is my Deck so far</p>\n<blockquote>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\n\npublic class Deck {\n    private Card card[];\n\n    public Deck() {\n        this.card = new Card[52];\n        for (int i = 0; i &lt; 5; i++) {\n            Card card = new Card(); //Instantiate a Card\n            this.card[i] = card; //Adding card to the Deck\n        }\n    }\n\n\n    private void Sort(Card[] deck){\n\n        for (int i = 1; i &lt; deck.length; i++){\n            int nextToInsertRank = deck[i].getRankValue();\n            Card nextToInsert = deck[i];\n            int index;\n            index = i - 1;\n\n            while (index &gt;= 0 &amp;&amp; deck[index].getRankValue() &gt; nextToInsertRank){\n                deck[index + 1] = deck[index];\n                index--;\n            }\n            deck[index + 1] = nextToInsert;\n        }\n        Collections.shuffle(Arrays.asList(this.card));\n    }\n}\n</code></pre>\n</blockquote>\n<p>this is my Card class.</p>\n<p>import java.util.Random;\nimport java.util.Arrays;</p>\n<p>public class Card{</p>\n<pre><code>private final int RANK, SUIT;\nprivate static final Random GENERATOR = new Random();\n\nprivate static final String[] RANKS = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;};\nprivate static final String[] SUITS = {&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;};\n\npublic Card(){\n    RANK = GENERATOR.nextInt(RANKS.length);\n    SUIT = GENERATOR.nextInt(SUITS.length);\n\n}\n\npublic static void SortCards(Card[] hand) {\n    for(int i = 0; i &lt; 5; i++) {\n        Arrays.sort(RANKS);\n        System.out.println();\n    }\n}\n\npublic String getRank() {\n    return RANKS[RANK];\n}\n\npublic String getSuit(){\n    return SUITS[SUIT];\n}\n\npublic int getRankValue(){\n   return RANK;\n}\n\n@Override\npublic String toString(){\n    return getRank() + &quot; of &quot; + getSuit();\n}\n</code></pre>\n<p>}</p>\n<p>this is the code i use to get it printed.</p>\n<blockquote>\n<pre><code>Card card1 = new Card();\nCard card2 = new Card();\nCard card3 = new Card();\nCard card4 = new Card();\nCard card5 = new Card();\n\nSystem.out.println(&quot;A: &quot; + card1);\nSystem.out.println(&quot;B: &quot; + card2);\nSystem.out.println(&quot;C: &quot; + card3);\nSystem.out.println(&quot;D: &quot; + card4);\nSystem.out.println(&quot;E: &quot; + card5);\n</code></pre>\n</blockquote>\n<p>this is the result i get.</p>\n<blockquote>\n<p>A: 9 of Spades</p>\n<p>B: 10 of Clubs</p>\n<p>C: 2 of Hearts</p>\n<p>D: 2 of Clubs</p>\n<p>E: 9 of Spades</p>\n</blockquote>\n<p>i've tried a few different things but cant seem to get it to print correctly. any improvements to the code to make it work effectively would be appreciated.</p>\n"},{"tags":["java","lambda","enums","circular-reference","anonymous-class"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1673368268,"post_id":75072937,"comment_id":132480784,"body_markdown":"Interesting experiment. https://jenkov.com/tutorials/java/lambda-expressions.html states &quot;Java lambda expressions can only be used where the type they are matched against is a single method interface&quot;.  So it looks like where you tried to apply a lambda is not an ok place to apply it.","body":"Interesting experiment. <a href=\"https://jenkov.com/tutorials/java/lambda-expressions.html\" rel=\"nofollow noreferrer\">jenkov.com/tutorials/java/lambda-expressions.html</a> states &quot;Java lambda expressions can only be used where the type they are matched against is a single method interface&quot;.  So it looks like where you tried to apply a lambda is not an ok place to apply it."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1673368352,"post_id":75072937,"comment_id":132480824,"body_markdown":"@ZackMacomber Thank you for your response. I am not sure you are correct though. Isn&#39;t the interface I am matching against supposed to be my `Supplier&lt;RPS1&gt;`?","body":"@ZackMacomber Thank you for your response. I am not sure you are correct though. Isn&#39;t the interface I am matching against supposed to be my <code>Supplier&lt;RPS1&gt;</code>?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673368429,"post_id":75072937,"comment_id":132480848,"body_markdown":"Very good question but I&#39;ve edited it for brevity. I don&#39;t think your (unfortunately fruitless) searches really add much, and I think it&#39;s a better question without them. If you strongly disagree then feel free to add it back, but perhaps edit to the salient points.","body":"Very good question but I&#39;ve edited it for brevity. I don&#39;t think your (unfortunately fruitless) searches really add much, and I think it&#39;s a better question without them. If you strongly disagree then feel free to add it back, but perhaps edit to the salient points."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673368986,"post_id":75072937,"comment_id":132481047,"body_markdown":"@Michael I see your edits. Thank you for the changes. I made a simple bullet list of the searches I tried to make. That should satisfy brevity while allowing people&#39;s support to be more informed/directed. Please edit my edit if you feel it should be different.","body":"@Michael I see your edits. Thank you for the changes. I made a simple bullet list of the searches I tried to make. That should satisfy brevity while allowing people&#39;s support to be more informed/directed. Please edit my edit if you feel it should be different."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1673370050,"post_id":75072937,"comment_id":132481431,"body_markdown":"Does this answer your question? [Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile](https://stackoverflow.com/questions/55162147/acessing-same-class-enum-inside-an-enum-constructor-within-a-lambda-doesnt-com)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55162147/acessing-same-class-enum-inside-an-enum-constructor-within-a-lambda-doesnt-com\">Accessing Same Class&#39; enum value inside an enum declaration within a lambda doesn&#39;t compile</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673370160,"post_id":75072937,"comment_id":132481463,"body_markdown":"@DidierL Ohhhh, I think you found it Didier. I am reading further, but this might be it","body":"@DidierL Ohhhh, I think you found it Didier. I am reading further, but this might be it"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673371305,"post_id":75072937,"comment_id":132481848,"body_markdown":"@DidierL I think that you are correct. Both of our questions fail for the reason mentioned in the answer. I have edited my answer to include a reference to that question and a simple explanation. Thank you for the help. https://stackoverflow.com/a/55166692/10118965","body":"@DidierL I think that you are correct. Both of our questions fail for the reason mentioned in the answer. I have edited my answer to include a reference to that question and a simple explanation. Thank you for the help. <a href=\"https://stackoverflow.com/a/55166692/10118965\">stackoverflow.com/a/55166692/10118965</a>"}],"answers":[{"tags":[],"owner":{"account_id":5505647,"reputation":129,"user_id":4373567,"accept_rate":25,"display_name":"CSDragon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673368937,"creation_date":1673368937,"answer_id":75073194,"question_id":75072937,"body_markdown":"I&#39;m not an expert so I could be wrong but this is my understanding.\r\n\r\nAn Illegal Forward Reference means that you&#39;re trying to use a variable before it has been defined.\r\nIt&#39;s like saying `&quot;i = 10; int i;&quot;`.\r\n\r\nThe first two actually use the variable that was passed. RPS0 and RPS1 assign an unknown variable SCISSORS to a field expecting an RPS0/RPS1 variable. This should be the expected result.\r\n\r\nFor the Anonymous Class then, it must be doing something different.\r\nJava must be re-ordering the definitions to first define the RPS2 instances first, then instancing them after.","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>I'm not an expert so I could be wrong but this is my understanding.</p>\n<p>An Illegal Forward Reference means that you're trying to use a variable before it has been defined.\nIt's like saying <code>&quot;i = 10; int i;&quot;</code>.</p>\n<p>The first two actually use the variable that was passed. RPS0 and RPS1 assign an unknown variable SCISSORS to a field expecting an RPS0/RPS1 variable. This should be the expected result.</p>\n<p>For the Anonymous Class then, it must be doing something different.\nJava must be re-ordering the definitions to first define the RPS2 instances first, then instancing them after.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673377113,"creation_date":1673369306,"answer_id":75073267,"question_id":75072937,"body_markdown":"I believe this is rooted in what the JLS calls [&quot;definite assignment&quot;](https://docs.oracle.com/javase/specs/jls/se19/html/jls-16.html).\r\n\r\nFirst, it may be helpful to outline the order in which the enum is initialized for your first example.\r\n\r\n 1. Some other class refers to the enum class for the first time, e.g. `RPS0.ROCK.winsAgainst()`\r\n 2. The &quot;clinit&quot; (static initializer is invoked)  \r\n 3. The enum constants are initialized in order of declaration\r\n    1. An equivalent of `public static final RPS0 ROCK = new RPS0(SCISSORS);`\r\n    2. An equivalent of `public static final RPS0 PAPER = new RPS0(ROCK);`\r\n    3. An equivalent of `public static final RPS0 SCISSORS = new RPS0(PAPER);`\r\n 4. The enum class is now loaded\r\n 5. The expression `RPS0.ROCK` is evaluated for that referencing class in #1\r\n 6. `winsAgainst` is invoked on that instance.\r\n\r\nThe reason this fails on the `ROCK` line is because `SCISSORS` is not &quot;definitely assigned&quot;. Knowing the order of initialization, we can see it&#39;s even worse than that. Not only is it *not definitely* assigned, it&#39;s *definitely not* assigned. The assignment of `SCISSORS` (3.3) happens after `ROCK` (3.1). \r\n\r\n`SCISSORS` would be null when `ROCK` tried to access it, if the compiler were to allow this. It&#39;s assigned later.\r\n\r\nWe can see this for ourselves if we introduce some indirection. The definite assignment problem is now gone because our constructors aren&#39;t referencing the fields directly. The compiler isn&#39;t checking for any definite assignment in the constructor expression. The constructor is using result of a method invocation, not a field.\r\n\r\nAll we&#39;ve done is trick the compiler into allowing something that&#39;s going to fail.\r\n\r\n    enum RPS0\r\n    {\r\n        ROCK(scissors()),\r\n        PAPER(rock()),\r\n        SCISSORS(paper());\r\n    \r\n        public final RPS0 winsAgainst;\r\n    \r\n        RPS0(final RPS0 winsAgainst)\r\n        {\r\n            this.winsAgainst = Objects.requireNonNull(winsAgainst); // boom\r\n        }\r\n        \r\n        \r\n        \r\n        private static RPS0 scissors() {\r\n            return RPS0.SCISSORS;\r\n        }\r\n    \r\n        private static RPS0 rock() {\r\n            return RPS0.ROCK;\r\n        }\r\n    \r\n        private static RPS0 paper() {\r\n            return RPS0.PAPER;\r\n        }\r\n    }\r\n\r\nThe lambda case is pretty much identical. The value is still not definitely assigned. Consider a case where the enum constructor calls `get` on the `Supplier`. Refer back to the order of initialization above. In the example below, `ROCK` would be trying to access `SCISSORS` before it was initialized, and that&#39;s a potential bug that the compiler is trying to protect you from.\r\n\r\n    enum RPS1\r\n    {\r\n        ROCK(() -&gt; SCISSORS), // compiler error\r\n        PAPER(() -&gt; ROCK),\r\n        SCISSORS(() -&gt; PAPER);\r\n         \r\n        private final Supplier&lt;RPS1&gt; winsAgainst;\r\n         \r\n        RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\r\n        {\r\n            RPS1.get(); // doesn&#39;t compile, but would be null if it did\r\n        }\r\n    }\r\n\r\nAnnoying, really, because you know you&#39;re *not* using the Supplier in that way, and that&#39;s the only time it may not be assigned yet.\r\n\r\nThe reason the abstract class works is because the expression-target in the constructor is now gone completely. Again, refer back to the order of initialization. You should be able to see that for anything which calls `winsAgainst`, e.g. the example in #1, that invocation (#6) necessarily occurs after *all* enum constants have already been initialized (#3). The compiler can guarantee this access is safe. \r\n\r\nPutting together two of the things we know - that we can use indirection to stop the compiler complaining about lack of definite assignment, and that `Supplier` can supply a value lazily - we can create an alternative solution:\r\n\r\n    enum RPS0\r\n    {\r\n        ROCK(RPS0::scissors), // i.e. () -&gt; scissors()\r\n        PAPER(RPS0::rock),\r\n        SCISSORS(RPS0::paper);\r\n    \r\n        public final Supplier&lt;RPS0&gt; winsAgainst;\r\n    \r\n        RPS0(Supplier&lt;RPS0&gt; winsAgainst) {\r\n            this.winsAgainst = winsAgainst;\r\n        }\r\n        \r\n        public RPS0 winsAgainst() {\r\n            return winsAgainst.get();\r\n        }\r\n\r\n\r\n        // Private indirection methods\r\n        private static RPS0 scissors() {\r\n            return RPS0.SCISSORS;\r\n        }\r\n    \r\n        private static RPS0 rock() {\r\n            return RPS0.ROCK;\r\n        }\r\n    \r\n        private static RPS0 paper() {\r\n            return RPS0.PAPER;\r\n        }\r\n    }\r\n\r\nThis is provably safe, provided that the constructor never calls `Supplier.get` (including any methods the constructor itself calls).","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>I believe this is rooted in what the JLS calls <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-16.html\" rel=\"nofollow noreferrer\">&quot;definite assignment&quot;</a>.</p>\n<p>First, it may be helpful to outline the order in which the enum is initialized for your first example.</p>\n<ol>\n<li>Some other class refers to the enum class for the first time, e.g. <code>RPS0.ROCK.winsAgainst()</code></li>\n<li>The &quot;clinit&quot; (static initializer is invoked)</li>\n<li>The enum constants are initialized in order of declaration\n<ol>\n<li>An equivalent of <code>public static final RPS0 ROCK = new RPS0(SCISSORS);</code></li>\n<li>An equivalent of <code>public static final RPS0 PAPER = new RPS0(ROCK);</code></li>\n<li>An equivalent of <code>public static final RPS0 SCISSORS = new RPS0(PAPER);</code></li>\n</ol>\n</li>\n<li>The enum class is now loaded</li>\n<li>The expression <code>RPS0.ROCK</code> is evaluated for that referencing class in #1</li>\n<li><code>winsAgainst</code> is invoked on that instance.</li>\n</ol>\n<p>The reason this fails on the <code>ROCK</code> line is because <code>SCISSORS</code> is not &quot;definitely assigned&quot;. Knowing the order of initialization, we can see it's even worse than that. Not only is it <em>not definitely</em> assigned, it's <em>definitely not</em> assigned. The assignment of <code>SCISSORS</code> (3.3) happens after <code>ROCK</code> (3.1).</p>\n<p><code>SCISSORS</code> would be null when <code>ROCK</code> tried to access it, if the compiler were to allow this. It's assigned later.</p>\n<p>We can see this for ourselves if we introduce some indirection. The definite assignment problem is now gone because our constructors aren't referencing the fields directly. The compiler isn't checking for any definite assignment in the constructor expression. The constructor is using result of a method invocation, not a field.</p>\n<p>All we've done is trick the compiler into allowing something that's going to fail.</p>\n<pre><code>enum RPS0\n{\n    ROCK(scissors()),\n    PAPER(rock()),\n    SCISSORS(paper());\n\n    public final RPS0 winsAgainst;\n\n    RPS0(final RPS0 winsAgainst)\n    {\n        this.winsAgainst = Objects.requireNonNull(winsAgainst); // boom\n    }\n    \n    \n    \n    private static RPS0 scissors() {\n        return RPS0.SCISSORS;\n    }\n\n    private static RPS0 rock() {\n        return RPS0.ROCK;\n    }\n\n    private static RPS0 paper() {\n        return RPS0.PAPER;\n    }\n}\n</code></pre>\n<p>The lambda case is pretty much identical. The value is still not definitely assigned. Consider a case where the enum constructor calls <code>get</code> on the <code>Supplier</code>. Refer back to the order of initialization above. In the example below, <code>ROCK</code> would be trying to access <code>SCISSORS</code> before it was initialized, and that's a potential bug that the compiler is trying to protect you from.</p>\n<pre><code>enum RPS1\n{\n    ROCK(() -&gt; SCISSORS), // compiler error\n    PAPER(() -&gt; ROCK),\n    SCISSORS(() -&gt; PAPER);\n     \n    private final Supplier&lt;RPS1&gt; winsAgainst;\n     \n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\n    {\n        RPS1.get(); // doesn't compile, but would be null if it did\n    }\n}\n</code></pre>\n<p>Annoying, really, because you know you're <em>not</em> using the Supplier in that way, and that's the only time it may not be assigned yet.</p>\n<p>The reason the abstract class works is because the expression-target in the constructor is now gone completely. Again, refer back to the order of initialization. You should be able to see that for anything which calls <code>winsAgainst</code>, e.g. the example in #1, that invocation (#6) necessarily occurs after <em>all</em> enum constants have already been initialized (#3). The compiler can guarantee this access is safe.</p>\n<p>Putting together two of the things we know - that we can use indirection to stop the compiler complaining about lack of definite assignment, and that <code>Supplier</code> can supply a value lazily - we can create an alternative solution:</p>\n<pre><code>enum RPS0\n{\n    ROCK(RPS0::scissors), // i.e. () -&gt; scissors()\n    PAPER(RPS0::rock),\n    SCISSORS(RPS0::paper);\n\n    public final Supplier&lt;RPS0&gt; winsAgainst;\n\n    RPS0(Supplier&lt;RPS0&gt; winsAgainst) {\n        this.winsAgainst = winsAgainst;\n    }\n    \n    public RPS0 winsAgainst() {\n        return winsAgainst.get();\n    }\n\n\n    // Private indirection methods\n    private static RPS0 scissors() {\n        return RPS0.SCISSORS;\n    }\n\n    private static RPS0 rock() {\n        return RPS0.ROCK;\n    }\n\n    private static RPS0 paper() {\n        return RPS0.PAPER;\n    }\n}\n</code></pre>\n<p>This is provably safe, provided that the constructor never calls <code>Supplier.get</code> (including any methods the constructor itself calls).</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673369533,"creation_date":1673369533,"answer_id":75073316,"question_id":75072937,"body_markdown":"Not really an answer, but as soon as you replace the first lambda expression with an anonymous class, it gets to work. \r\n\r\n```java\r\nenum RPS1 {\r\n\tROCK(new Supplier&lt;&gt;() {\r\n\t\t@Override\r\n\t\tpublic RPS1 get() {\r\n\t\t\treturn SCISSORS;\r\n\t\t}\r\n\t}),\r\n\t\t\r\n\tPAPER(() -&gt; ROCK),\r\n\tSCISSORS(() -&gt; PAPER);\r\n\r\n\tprivate final Supplier&lt;RPS1&gt; winsAgainst;\r\n\r\n\tRPS1(final Supplier&lt;RPS1&gt; winsAgainst) {\r\n\t\tthis.winsAgainst = winsAgainst;\r\n\t}\r\n\r\n\tpublic RPS1 winsAgainst() {\r\n\t\treturn this.winsAgainst.get();\r\n\t}\r\n}\r\n```","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>Not really an answer, but as soon as you replace the first lambda expression with an anonymous class, it gets to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum RPS1 {\n    ROCK(new Supplier&lt;&gt;() {\n        @Override\n        public RPS1 get() {\n            return SCISSORS;\n        }\n    }),\n        \n    PAPER(() -&gt; ROCK),\n    SCISSORS(() -&gt; PAPER);\n\n    private final Supplier&lt;RPS1&gt; winsAgainst;\n\n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst) {\n        this.winsAgainst = winsAgainst;\n    }\n\n    public RPS1 winsAgainst() {\n        return this.winsAgainst.get();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673370104,"creation_date":1673370104,"answer_id":75073412,"question_id":75072937,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3\r\n\r\nBased on the rules in there, it looks like the anonymous class is considered acceptable because it&#39;s a &quot;different class&quot;.\r\n\r\nThere are several comments in the example that say &quot;ok - occurs in a different class&quot;\r\n\r\n\r\n\r\n","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3</a></p>\n<p>Based on the rules in there, it looks like the anonymous class is considered acceptable because it's a &quot;different class&quot;.</p>\n<p>There are several comments in the example that say &quot;ok - occurs in a different class&quot;</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1673371145,"accepted_answer_id":75073267,"answer_count":4,"score":5,"last_activity_date":1673377542,"creation_date":1673367734,"question_id":75072937,"body_markdown":"I am trying to represent a [State Transition Diagram][1], and I want to do this with a Java enum. I am well aware that there are many other ways to accomplish this with `Map&lt;K, V&gt;` or maybe with a static initialization block in my enum. However, I am trying to understand why the following occurs.\r\n\r\nHere is a(n extremely) simplified example of what I am trying to do.\r\n\r\n```java\r\n\r\nenum RPS0\r\n{\r\n  \r\n    ROCK(SCISSORS),\r\n    PAPER(ROCK),\r\n    SCISSORS(PAPER);\r\n     \r\n    public final RPS0 winsAgainst;\r\n     \r\n    RPS0(final RPS0 winsAgainst)\r\n    {\r\n        this.winsAgainst = winsAgainst;\r\n    }\r\n}\r\n```\r\n\r\nObviously, this fails due to an illegal forward reference.\r\n\r\n```\r\nScratchPad.java:150: error: illegal forward reference\r\n         ROCK(SCISSORS),\r\n              ^\r\n```\r\n\r\nThat&#39;s fine, I accept that. Trying to manually insert `SCISSORS` there would require Java to try and setup `SCISSORS`, which would then trigger setting up `PAPER`, which would then trigger setting up `ROCK`, leading to an infinite loop. I can easily understand then why this direct reference is not acceptable, and is prohibited with a compiler error.\r\n\r\nSo, I experimented and tried to do the same with lambdas.\r\n\r\n```java\r\nenum RPS1\r\n{\r\n    ROCK(() -&gt; SCISSORS),\r\n    PAPER(() -&gt; ROCK),\r\n    SCISSORS(() -&gt; PAPER);\r\n     \r\n    private final Supplier&lt;RPS1&gt; winsAgainst;\r\n     \r\n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\r\n    {\r\n        this.winsAgainst = winsAgainst;\r\n    }\r\n     \r\n    public RPS1 winsAgainst()\r\n    {\r\n        return this.winsAgainst.get();\r\n    }\r\n}\r\n```\r\n\r\nIt failed with basically the same error.\r\n\r\n```\r\nScratchPad.java:169: error: illegal forward reference\r\n         ROCK(() -&gt; SCISSORS),\r\n                    ^\r\n```\r\n\r\nI was a little more bothered by this, since I really felt like the lambda should have allowed it to not fail. But admittedly, I didn&#39;t understand nearly enough about the rules, scoping, and boundaries of lambdas to have a firmer opinion.\r\n\r\nBy the way, I experimented with adding curly braces and a return to the lambda, but that didn&#39;t help either.\r\n\r\nSo, I tried with an anonymous class.\r\n\r\n```java\r\nenum RPS2\r\n{\r\n    ROCK\r\n    {\r\n        public RPS2 winsAgainst()\r\n        {\r\n            return SCISSORS;\r\n        } \r\n    },\r\n         \r\n    PAPER\r\n    {\r\n        public RPS2 winsAgainst()\r\n        {\r\n            return ROCK;\r\n        }     \r\n    },\r\n         \r\n    SCISSORS\r\n    {\r\n        public RPS2 winsAgainst()\r\n        {\r\n            return PAPER;\r\n        }\r\n    };\r\n         \r\n    public abstract RPS2 winsAgainst();   \r\n}\r\n```\r\n\r\nShockingly enough, it worked.\r\n\r\n```\r\nSystem.out.println(RPS2.ROCK.winsAgainst()); //returns &quot;SCISSORS&quot;\r\n```\r\n\r\nSo then, I thought to search the [Java Language Specification for Java 19][2] for answers, but my searches ended up returning nothing. I tried doing Ctrl+F searches (case-insensitive) for relevant phrases like &quot;***Illegal***&quot;, &quot;***Forward***&quot;, &quot;***Reference***&quot;, &quot;***Enum***&quot;, &quot;***Lambda***&quot;, &quot;***Anonymous***&quot; and more. Here are some of the links I searched. Maybe I missed something in them that answers my question?\r\n\r\n - [Anonymous Class][3]\r\n - [Lambda][4]\r\n - [Restrictions on Field References][5]\r\n - [Restriction on Enum Constant Self-Reference][6]\r\n\r\nNone of them answered my question. Could someone help me understand the rules in play that prevented me from using lambdas but allowed anonymous classes? \r\n\r\n***EDIT*** - @DidierL pointed out a link to [another StackOverflow post][7] that deals with something similar. I think the answer given to that question is the same answer to mine. In short, an anonymous class has its own &quot;context&quot;, while a lambda does not. Therefore, when the lambda attempts to fetch declarations of variables/methods/etc., it would be the same as if you did it inline, like my RPS0 example above.\r\n\r\nIt&#39;s frustrating, but I think that, as well as @Michael&#39;s answer have both answered my question to completion.\r\n\r\n***EDIT 2*** - Adding this snippet for my discussion with @Michael.\r\n\r\n```java\r\n\r\n      enum RPS4\r\n      {\r\n      \r\n         ROCK\r\n         {\r\n            \r\n            public RPS4 winsAgainst()\r\n            {\r\n            \r\n               return SCISSORS;\r\n            }\r\n         \r\n         },\r\n         \r\n         PAPER\r\n         {\r\n         \r\n            public RPS4 winsAgainst()\r\n            {\r\n            \r\n               return ROCK;\r\n               \r\n            }\r\n            \r\n         },\r\n         \r\n         SCISSORS\r\n         {\r\n         \r\n            public RPS4 winsAgainst()\r\n            {\r\n            \r\n               return PAPER;\r\n            \r\n            }\r\n         \r\n         },\r\n         ;\r\n         \r\n         public final RPS4 winsAgainst;\r\n         \r\n         RPS4()\r\n         {\r\n         \r\n            this.winsAgainst = this.winsAgainst();\r\n         \r\n         }\r\n         \r\n         public abstract RPS4 winsAgainst();\r\n      \r\n      }\r\n   \r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/State_diagram\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se19/html/index.html\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.9.5\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.27\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e14309\r\n  [6]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e16611\r\n  [7]: https://stackoverflow.com/a/55166692/10118965","title":"Why does my lambda get illegal forward reference, but my anonymous class does not?","body":"<p>I am trying to represent a <a href=\"https://en.wikipedia.org/wiki/State_diagram\" rel=\"nofollow noreferrer\">State Transition Diagram</a>, and I want to do this with a Java enum. I am well aware that there are many other ways to accomplish this with <code>Map&lt;K, V&gt;</code> or maybe with a static initialization block in my enum. However, I am trying to understand why the following occurs.</p>\n<p>Here is a(n extremely) simplified example of what I am trying to do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nenum RPS0\n{\n  \n    ROCK(SCISSORS),\n    PAPER(ROCK),\n    SCISSORS(PAPER);\n     \n    public final RPS0 winsAgainst;\n     \n    RPS0(final RPS0 winsAgainst)\n    {\n        this.winsAgainst = winsAgainst;\n    }\n}\n</code></pre>\n<p>Obviously, this fails due to an illegal forward reference.</p>\n<pre><code>ScratchPad.java:150: error: illegal forward reference\n         ROCK(SCISSORS),\n              ^\n</code></pre>\n<p>That's fine, I accept that. Trying to manually insert <code>SCISSORS</code> there would require Java to try and setup <code>SCISSORS</code>, which would then trigger setting up <code>PAPER</code>, which would then trigger setting up <code>ROCK</code>, leading to an infinite loop. I can easily understand then why this direct reference is not acceptable, and is prohibited with a compiler error.</p>\n<p>So, I experimented and tried to do the same with lambdas.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum RPS1\n{\n    ROCK(() -&gt; SCISSORS),\n    PAPER(() -&gt; ROCK),\n    SCISSORS(() -&gt; PAPER);\n     \n    private final Supplier&lt;RPS1&gt; winsAgainst;\n     \n    RPS1(final Supplier&lt;RPS1&gt; winsAgainst)\n    {\n        this.winsAgainst = winsAgainst;\n    }\n     \n    public RPS1 winsAgainst()\n    {\n        return this.winsAgainst.get();\n    }\n}\n</code></pre>\n<p>It failed with basically the same error.</p>\n<pre><code>ScratchPad.java:169: error: illegal forward reference\n         ROCK(() -&gt; SCISSORS),\n                    ^\n</code></pre>\n<p>I was a little more bothered by this, since I really felt like the lambda should have allowed it to not fail. But admittedly, I didn't understand nearly enough about the rules, scoping, and boundaries of lambdas to have a firmer opinion.</p>\n<p>By the way, I experimented with adding curly braces and a return to the lambda, but that didn't help either.</p>\n<p>So, I tried with an anonymous class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum RPS2\n{\n    ROCK\n    {\n        public RPS2 winsAgainst()\n        {\n            return SCISSORS;\n        } \n    },\n         \n    PAPER\n    {\n        public RPS2 winsAgainst()\n        {\n            return ROCK;\n        }     \n    },\n         \n    SCISSORS\n    {\n        public RPS2 winsAgainst()\n        {\n            return PAPER;\n        }\n    };\n         \n    public abstract RPS2 winsAgainst();   \n}\n</code></pre>\n<p>Shockingly enough, it worked.</p>\n<pre><code>System.out.println(RPS2.ROCK.winsAgainst()); //returns &quot;SCISSORS&quot;\n</code></pre>\n<p>So then, I thought to search the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/index.html\" rel=\"nofollow noreferrer\">Java Language Specification for Java 19</a> for answers, but my searches ended up returning nothing. I tried doing Ctrl+F searches (case-insensitive) for relevant phrases like &quot;<em><strong>Illegal</strong></em>&quot;, &quot;<em><strong>Forward</strong></em>&quot;, &quot;<em><strong>Reference</strong></em>&quot;, &quot;<em><strong>Enum</strong></em>&quot;, &quot;<em><strong>Lambda</strong></em>&quot;, &quot;<em><strong>Anonymous</strong></em>&quot; and more. Here are some of the links I searched. Maybe I missed something in them that answers my question?</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">Anonymous Class</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">Lambda</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e14309\" rel=\"nofollow noreferrer\">Restrictions on Field References</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#d5e16611\" rel=\"nofollow noreferrer\">Restriction on Enum Constant Self-Reference</a></li>\n</ul>\n<p>None of them answered my question. Could someone help me understand the rules in play that prevented me from using lambdas but allowed anonymous classes?</p>\n<p><em><strong>EDIT</strong></em> - @DidierL pointed out a link to <a href=\"https://stackoverflow.com/a/55166692/10118965\">another StackOverflow post</a> that deals with something similar. I think the answer given to that question is the same answer to mine. In short, an anonymous class has its own &quot;context&quot;, while a lambda does not. Therefore, when the lambda attempts to fetch declarations of variables/methods/etc., it would be the same as if you did it inline, like my RPS0 example above.</p>\n<p>It's frustrating, but I think that, as well as @Michael's answer have both answered my question to completion.</p>\n<p><em><strong>EDIT 2</strong></em> - Adding this snippet for my discussion with @Michael.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n      enum RPS4\n      {\n      \n         ROCK\n         {\n            \n            public RPS4 winsAgainst()\n            {\n            \n               return SCISSORS;\n            }\n         \n         },\n         \n         PAPER\n         {\n         \n            public RPS4 winsAgainst()\n            {\n            \n               return ROCK;\n               \n            }\n            \n         },\n         \n         SCISSORS\n         {\n         \n            public RPS4 winsAgainst()\n            {\n            \n               return PAPER;\n            \n            }\n         \n         },\n         ;\n         \n         public final RPS4 winsAgainst;\n         \n         RPS4()\n         {\n         \n            this.winsAgainst = this.winsAgainst();\n         \n         }\n         \n         public abstract RPS4 winsAgainst();\n      \n      }\n   \n</code></pre>\n"},{"tags":["java","selenium","properties","properties-file"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673378554,"post_id":75074653,"comment_id":132484078,"body_markdown":"try `${browser:-}`, `${browser:}`, or `${browser-}`","body":"try <code>${browser:-}</code>, <code>${browser:}</code>, or <code>${browser-}</code>"},{"owner":{"account_id":17501311,"reputation":1,"user_id":12691505,"display_name":"Athul Devkar"},"score":0,"creation_date":1673392627,"post_id":75074653,"comment_id":132487810,"body_markdown":"Thanks for the response. However, that didn&#39;t work :(","body":"Thanks for the response. However, that didn&#39;t work :("}],"owner":{"account_id":17501311,"reputation":1,"user_id":12691505,"display_name":"Athul Devkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673377266,"creation_date":1673377266,"question_id":75074653,"body_markdown":"So, we have this selenium.properties file from where we get the browser details from the below tag.\r\n\r\nbrowser = ${browser}\r\n\r\nWhen we run through maven command, this value get populated based on what we pass in -Dbrowser and its all good. However, when we don&#39;t pass in a browser value, instead of returning us null value getProperty is returning &quot;${browser}&quot; as value. How to avoid this?\r\n\r\n\r\n\r\nTried googling about this but no real info on how to fix this.","title":"getProperty from Properties.java file is returning ${browser} instead of null when no value is passed","body":"<p>So, we have this selenium.properties file from where we get the browser details from the below tag.</p>\n<p>browser = ${browser}</p>\n<p>When we run through maven command, this value get populated based on what we pass in -Dbrowser and its all good. However, when we don't pass in a browser value, instead of returning us null value getProperty is returning &quot;${browser}&quot; as value. How to avoid this?</p>\n<p>Tried googling about this but no real info on how to fix this.</p>\n"},{"tags":["java","spring","keycloak"],"answers":[{"tags":[],"owner":{"account_id":20179486,"reputation":101,"user_id":14800355,"display_name":"Mariusz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607686167,"creation_date":1607686167,"answer_id":65250525,"question_id":65232897,"body_markdown":"I&#39;ll answer to my question as I managed to find the solution (in case anyone in future faces similar problem). So basically two things are needed:\r\n\r\n 1. Overwrite the KeycloakAuthenticationProcessingFilter bean with setting custom URL in the request matcher:\r\n```\r\n@Bean\r\n    @Override\r\n    protected KeycloakAuthenticationProcessingFilter keycloakAuthenticationProcessingFilter() throws Exception {\r\n        RequestMatcher requestMatcher =\r\n                new OrRequestMatcher(\r\n                        new AntPathRequestMatcher(&quot;/custom_url/sso/login&quot;),\r\n                        new RequestHeaderRequestMatcher(&quot;Authorization&quot;),\r\n                        new QueryParamPresenceRequestMatcher(&quot;access_token&quot;),\r\n                        new AdapterStateCookieRequestMatcher());\r\n\r\n        return new KeycloakAuthenticationProcessingFilter(authenticationManagerBean(), requestMatcher);\r\n    }\r\n```\r\n 2. Set proper authentication entry point:\r\n```\r\n@Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\r\n        entryPoint.setLoginUri(&quot;/custom_url/sso/login&quot;);\r\n\r\n        super.configure(http);\r\n        http\r\n                .authorizeRequests()\r\n                //...\r\n                .and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(entryPoint)\r\n                .and()\r\n                .csrf().disable();\r\n\r\n\r\n    }\r\n```","title":"Keycloak, spring and /sso/login URL setup","body":"<p>I'll answer to my question as I managed to find the solution (in case anyone in future faces similar problem). So basically two things are needed:</p>\n<ol>\n<li>Overwrite the KeycloakAuthenticationProcessingFilter bean with setting custom URL in the request matcher:</li>\n</ol>\n<pre><code>@Bean\n    @Override\n    protected KeycloakAuthenticationProcessingFilter keycloakAuthenticationProcessingFilter() throws Exception {\n        RequestMatcher requestMatcher =\n                new OrRequestMatcher(\n                        new AntPathRequestMatcher(&quot;/custom_url/sso/login&quot;),\n                        new RequestHeaderRequestMatcher(&quot;Authorization&quot;),\n                        new QueryParamPresenceRequestMatcher(&quot;access_token&quot;),\n                        new AdapterStateCookieRequestMatcher());\n\n        return new KeycloakAuthenticationProcessingFilter(authenticationManagerBean(), requestMatcher);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Set proper authentication entry point:</li>\n</ol>\n<pre><code>@Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\n        entryPoint.setLoginUri(&quot;/custom_url/sso/login&quot;);\n\n        super.configure(http);\n        http\n                .authorizeRequests()\n                //...\n                .and()\n                .exceptionHandling()\n                .authenticationEntryPoint(entryPoint)\n                .and()\n                .csrf().disable();\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":20179486,"reputation":101,"user_id":14800355,"display_name":"Mariusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5837,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65250525,"answer_count":1,"score":6,"last_activity_date":1673377121,"creation_date":1607596582,"question_id":65232897,"body_markdown":"I have a spring boot app which is hidden behind reverse proxy. When user sends request to a resource without authorization he is redirected to keycloak login page with `redirect_uri` param set to e.g. `http://some_url/sso/login` (the URL is always relative to context path). I need to change this URL to something like `http://some_url/api/my_api/sso/login` so that reverse proxy knows where to redirect such request. Any idea how to achieve this? Is there any keycloak adapter configuration option to set it (I haven&#39;t found any) or some bean need to be overwritten?","title":"Keycloak, spring and /sso/login URL setup","body":"<p>I have a spring boot app which is hidden behind reverse proxy. When user sends request to a resource without authorization he is redirected to keycloak login page with <code>redirect_uri</code> param set to e.g. <code>http://some_url/sso/login</code> (the URL is always relative to context path). I need to change this URL to something like <code>http://some_url/api/my_api/sso/login</code> so that reverse proxy knows where to redirect such request. Any idea how to achieve this? Is there any keycloak adapter configuration option to set it (I haven't found any) or some bean need to be overwritten?</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper","sasl"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673377207,"post_id":75066018,"comment_id":132483644,"body_markdown":"Why do you think a restart is necessary? I think you want to use `--bootstrap-server` and `--command-config` for authenticating **that command**... Otherwise, you seem to be missing `--zk-tls-config-file` argument","body":"Why do you think a restart is necessary? I think you want to use <code>--bootstrap-server</code> and <code>--command-config</code> for authenticating <b>that command</b>... Otherwise, you seem to be missing <code>--zk-tls-config-file</code> argument"}],"owner":{"account_id":27484777,"reputation":1,"user_id":20971208,"display_name":"kimiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673377077,"creation_date":1673330340,"question_id":75066018,"body_markdown":"We want to add authentication to our kafka cluster by using SASL_SSL.\r\nAs we see that we want to be able to frequently add users we are looking for at way to do this without having to perform a rolling restart.\r\nserver.properties\r\n\r\n```\r\n\r\nlisteners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\r\nadvertised.listeners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\r\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT,SASL_SSL:SASL_SSL\r\n#SASL_SSL:Listener with TLS-based encryption and SASL-based authentication.\r\nsasl.mechanism.inter.broker.protocol=SCRAM-SHA-256\r\nsasl.enabled.mechanisms=SCRAM-SHA-256\r\ninter.broker.listener.name=PLAINTEXT\r\nssl.endpoint.identification.algorithm=\r\nssl.client.auth=required\r\n\r\nssl.enabled.protocols =  TLSv1.2,TLSv1.1,TLSv1\r\nsasl.mechanism.controller.protocol=SCRAM-SHA-256\r\n\r\nssl.keystore.location=certs\\\\server.keystore.jks\r\nssl.keystore.password=******\r\nssl.truststore.location=certs\\\\server.truststore.jks\r\nssl.truststore.password==******\r\nssl.key.password==******\r\n\r\nsuper.users=User:admin\r\nzookeeper.set.acl=true\r\nallow.everyone.if.no.acl.found=true\r\n```\r\n\r\nzookeeper.properties\r\n\r\n```\r\nauthProvider.1=org.apache.zookeeper.server.auth.SASLAuthenticationProvider\r\nauthProvider.2=org.apache.zookeeper.server.auth.DigestAuthenticationProvider\r\nrequireClientAuthScheme=sasl\r\nsasl.client=true\r\nsasl.clientconfig=Client\r\n```\r\n\r\nproducer.properties &amp; consumer.properties\r\n\r\n```\r\n\r\nsecurity.protocol=SASL_SSL\r\nsasl.mechanism=SCRAM-SHA-256\r\nsasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;alice&quot; password=&quot;alice-secret&quot;;\r\nssl.keystore.location=certs\\\\client.keystore.jks\r\nssl.keystore.password==******\r\nssl.key.password==******\r\nssl.truststore.location=certs\\\\client.truststore.jks\r\nssl.truststore.password==******\r\n```\r\n\r\nzookeeper and kafka start.....\r\n\r\nthen add user with below command throw Exception:\r\n\r\nsh kafka-configs.sh --zookeeper localhost:2181 --alter --add-config &#39;SCRAM-SHA-256=[password=&#39;testUSer-secret&#39;]&#39; --entity-type users --entity-name testUSer\r\n\r\nexception:\r\n\r\norg.apache.zookeeper.keeperException$NoAuthException:KeeperErrorCode = NoAuth for config/users/testUser\r\n\r\nIs it possible to add new users to the SASL JAAS configuration without restarting the Kafka cluster?","title":"add user to kafka authentication without cluster restart","body":"<p>We want to add authentication to our kafka cluster by using SASL_SSL.\nAs we see that we want to be able to frequently add users we are looking for at way to do this without having to perform a rolling restart.\nserver.properties</p>\n<pre><code>\nlisteners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\nadvertised.listeners=PLAINTEXT://localhost:9092,SASL_SSL://localhost:9093\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT,SASL_SSL:SASL_SSL\n#SASL_SSL:Listener with TLS-based encryption and SASL-based authentication.\nsasl.mechanism.inter.broker.protocol=SCRAM-SHA-256\nsasl.enabled.mechanisms=SCRAM-SHA-256\ninter.broker.listener.name=PLAINTEXT\nssl.endpoint.identification.algorithm=\nssl.client.auth=required\n\nssl.enabled.protocols =  TLSv1.2,TLSv1.1,TLSv1\nsasl.mechanism.controller.protocol=SCRAM-SHA-256\n\nssl.keystore.location=certs\\\\server.keystore.jks\nssl.keystore.password=******\nssl.truststore.location=certs\\\\server.truststore.jks\nssl.truststore.password==******\nssl.key.password==******\n\nsuper.users=User:admin\nzookeeper.set.acl=true\nallow.everyone.if.no.acl.found=true\n</code></pre>\n<p>zookeeper.properties</p>\n<pre><code>authProvider.1=org.apache.zookeeper.server.auth.SASLAuthenticationProvider\nauthProvider.2=org.apache.zookeeper.server.auth.DigestAuthenticationProvider\nrequireClientAuthScheme=sasl\nsasl.client=true\nsasl.clientconfig=Client\n</code></pre>\n<p>producer.properties &amp; consumer.properties</p>\n<pre><code>\nsecurity.protocol=SASL_SSL\nsasl.mechanism=SCRAM-SHA-256\nsasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;alice&quot; password=&quot;alice-secret&quot;;\nssl.keystore.location=certs\\\\client.keystore.jks\nssl.keystore.password==******\nssl.key.password==******\nssl.truststore.location=certs\\\\client.truststore.jks\nssl.truststore.password==******\n</code></pre>\n<p>zookeeper and kafka start.....</p>\n<p>then add user with below command throw Exception:</p>\n<p>sh kafka-configs.sh --zookeeper localhost:2181 --alter --add-config 'SCRAM-SHA-256=[password='testUSer-secret']' --entity-type users --entity-name testUSer</p>\n<p>exception:</p>\n<p>org.apache.zookeeper.keeperException$NoAuthException:KeeperErrorCode = NoAuth for config/users/testUser</p>\n<p>Is it possible to add new users to the SASL JAAS configuration without restarting the Kafka cluster?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673376882,"creation_date":1673376882,"answer_id":75074594,"question_id":75073018,"body_markdown":"For anyone else stumbling on this - it has to do with the data you are trying to insert - for me it was attempting to insert a String that was longer than the size set in the Hibernate annotations. *In debugging*, you can follow the *cause of the Exception* to find the root cause.\r\n\r\nHope it helps!!","title":"Table joined with different tables with one common column in the foreign key","body":"<p>For anyone else stumbling on this - it has to do with the data you are trying to insert - for me it was attempting to insert a String that was longer than the size set in the Hibernate annotations. <em>In debugging</em>, you can follow the <em>cause of the Exception</em> to find the root cause.</p>\n<p>Hope it helps!!</p>\n"}],"owner":{"account_id":7406499,"reputation":5,"user_id":5635288,"display_name":"Cucunimbus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673376882,"creation_date":1673368107,"question_id":75073018,"body_markdown":"I have a problem with JPA when I try to join a table on 2 other tables using one common column.\r\n\r\n\r\n\r\nI have a table project_user mapped to the class ProjectUser with the columns\r\n- project_id (composite foreign key to the table project)\r\n_ user_account_token (composite foreign key to the table domain_user)\r\n- domain_id (composite foreign key to the table project AND domain_user)\r\n\r\nA table project with primary key\r\n- project_id\r\n- domain_id\r\n\r\nAnd a table domain_user with primary key\r\n- user_account_token_id\r\n- domain_id\r\n\r\nHere is the code :\r\n\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;project_users&quot;, schema = &quot;public&quot;)\r\n@IdClass(ProjectUserId.class)\r\npublic class ProjectUser implements Persistable&lt;ProjectUserId&gt; {\r\n    @Transient\r\n    private boolean isNew = true;\r\n\r\n    @Id\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false)\r\n    })\r\n    private Project project;\r\n\r\n    @Id\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;user_account_token&quot;, referencedColumnName = &quot;user_account_token_id&quot;, insertable = false, updatable = false)\r\n    })\r\n    private DomainUser domainUser;\r\n}\r\n```\r\n\r\nThis does not seem to work, the error I get is :\r\n&gt; could not insert: [commodel.ProjectUser]; SQL [insert into public.project_users (last_access, ref_project_user_role_id, domain_id, user_account_token, project_id) values (?, ?, ?, ?, ?)]; nested exception is org.hibernate.exception.DataException: could not insert: [model.ProjectUser]","title":"Table joined with different tables with one common column in the foreign key","body":"<p>I have a problem with JPA when I try to join a table on 2 other tables using one common column.</p>\n<p>I have a table project_user mapped to the class ProjectUser with the columns</p>\n<ul>\n<li>project_id (composite foreign key to the table project)\n_ user_account_token (composite foreign key to the table domain_user)</li>\n<li>domain_id (composite foreign key to the table project AND domain_user)</li>\n</ul>\n<p>A table project with primary key</p>\n<ul>\n<li>project_id</li>\n<li>domain_id</li>\n</ul>\n<p>And a table domain_user with primary key</p>\n<ul>\n<li>user_account_token_id</li>\n<li>domain_id</li>\n</ul>\n<p>Here is the code :</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;project_users&quot;, schema = &quot;public&quot;)\n@IdClass(ProjectUserId.class)\npublic class ProjectUser implements Persistable&lt;ProjectUserId&gt; {\n    @Transient\n    private boolean isNew = true;\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false)\n    })\n    private Project project;\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;domain_id&quot;, referencedColumnName = &quot;domain_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;user_account_token&quot;, referencedColumnName = &quot;user_account_token_id&quot;, insertable = false, updatable = false)\n    })\n    private DomainUser domainUser;\n}\n</code></pre>\n<p>This does not seem to work, the error I get is :</p>\n<blockquote>\n<p>could not insert: [commodel.ProjectUser]; SQL [insert into public.project_users (last_access, ref_project_user_role_id, domain_id, user_account_token, project_id) values (?, ?, ?, ?, ?)]; nested exception is org.hibernate.exception.DataException: could not insert: [model.ProjectUser]</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"score":1,"creation_date":1673114857,"post_id":75042449,"comment_id":132427354,"body_markdown":"I&#39;m not exactly sure what you are trying to do or what problem you are facing.  Since you say you are an amateur, don&#39;t try to put it in overly technical terms or even coding terms at all.  Describe, in plain language, what you are trying to do and what problem you are facing.    \nEX: I am trying to create a maze of random height and width.  The problem is my maze doesn&#39;t have any entrances or exits.","body":"I&#39;m not exactly sure what you are trying to do or what problem you are facing.  Since you say you are an amateur, don&#39;t try to put it in overly technical terms or even coding terms at all.  Describe, in plain language, what you are trying to do and what problem you are facing.     EX: I am trying to create a maze of random height and width.  The problem is my maze doesn&#39;t have any entrances or exits."},{"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"score":0,"creation_date":1673121693,"post_id":75042449,"comment_id":132428716,"body_markdown":"I apologize if I give the impression of someone who resorts to abstract terminology, but this has more to do with the mother dialect, I will try to say very simply what I am trying to achieve. \nI&#39;m trying to make a labyrinth that builds itself. \nHaving a large area, I want to put other rooms inside, which are smaller, and build a labyrinth out of them.","body":"I apologize if I give the impression of someone who resorts to abstract terminology, but this has more to do with the mother dialect, I will try to say very simply what I am trying to achieve.  I&#39;m trying to make a labyrinth that builds itself.  Having a large area, I want to put other rooms inside, which are smaller, and build a labyrinth out of them."},{"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"score":0,"creation_date":1673277962,"post_id":75042449,"comment_id":132456960,"body_markdown":"It would appear that the maze function and the room function do exactly the same thing. If you call Maze(40) and then Room(10), the call to Room(10) will completely overwrite what was done in Maze(40).  Are you trying to make a maze with 40 rooms and have each room have 10 smaller rooms in them?","body":"It would appear that the maze function and the room function do exactly the same thing. If you call Maze(40) and then Room(10), the call to Room(10) will completely overwrite what was done in Maze(40).  Are you trying to make a maze with 40 rooms and have each room have 10 smaller rooms in them?"},{"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"score":0,"creation_date":1673347430,"post_id":75042449,"comment_id":132473153,"body_markdown":"Yes it is, I know that the initialization of the rooms with the maze itself is identical just with this initialization was easier for me to separate the zones of work \n\nAnd yes, I&#39;m trying to do exactly what you described.","body":"Yes it is, I know that the initialization of the rooms with the maze itself is identical just with this initialization was easier for me to separate the zones of work   And yes, I&#39;m trying to do exactly what you described."},{"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"score":0,"creation_date":1673366171,"post_id":75042449,"comment_id":132479952,"body_markdown":"Do you want all the rooms within the maze to be the same size?  Or can they be different sizes?","body":"Do you want all the rooms within the maze to be the same size?  Or can they be different sizes?"},{"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"score":0,"creation_date":1673370230,"post_id":75042449,"comment_id":132481492,"body_markdown":"different sizes. I added random for this purpose","body":"different sizes. I added random for this purpose"}],"answers":[{"tags":[],"owner":{"account_id":10155,"reputation":7189,"user_id":19038,"accept_rate":64,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673375686,"creation_date":1673375686,"answer_id":75074402,"question_id":75042449,"body_markdown":"Based on your comments, you need to change the room function to use a local string[][] instead of the static string[][] maze declared by the class and change your return statement to process that instead.  \r\n\r\nThen change your maze function to call the room function each loop instead of doing its own thing","title":"How to put a one two-dimensional array into another","body":"<p>Based on your comments, you need to change the room function to use a local string[][] instead of the static string[][] maze declared by the class and change your return statement to process that instead.</p>\n<p>Then change your maze function to call the room function each loop instead of doing its own thing</p>\n"}],"owner":{"account_id":27462906,"reputation":1,"user_id":20953161,"display_name":"Чертков Бронислав"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673375686,"creation_date":1673113057,"question_id":75042449,"body_markdown":"The question is how do I put one two-dimensional array into another if I explain simply the meaning of this project is a self-constructed maze of room which I, as an amateur, cannot describe with due detail because\r\nI don&#39;t know what details to add.\r\n\r\n```\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.Arrays;\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n\tstatic String[][] maze;\r\n\tpublic static String Room (int x)\r\n\t{\r\n\t\t// create random number \r\n\t    int randomNum = ThreadLocalRandom.current ().nextInt (5, x + 1);\r\n\t    maze = new String[randomNum][randomNum];\r\n\t    for (int i = 0; i &lt; maze.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; maze.length; j++) {\r\n\t    \t\t//create the ROOM\r\n            \tmaze[i][j] = &quot;c&quot;;\r\n\t\t\t    maze[0][j] = &quot;\\u2014&quot;;\r\n\t\t\t    maze[maze.length - 1][j] = &quot;\\u2014&quot;;\r\n\t    \t\tmaze[i][0] = &quot;\\u007c&quot;;\r\n\t\t    \tmaze[i][maze.length - 1] = &quot;\\u007c&quot;;\r\n\t\t\t    maze[0][maze.length - 1] = &quot;+&quot;;\r\n\t\t    \tmaze[maze.length - 1][0] = &quot;+&quot;;\r\n\t\t\t    maze[0][0] = &quot;+&quot;;\r\n\t\t    \tmaze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\r\n\t\t  \t}\r\n\t\t}\r\n\r\n\t    return (Arrays.deepToString(maze)\r\n\t\t\t.replace(&quot;]&quot;, &quot;\\n&quot;)\r\n\t\t\t.replace(&quot;[[&quot;, &quot; &quot;)\r\n\t\t\t.replace(&quot;[&quot;, &quot;&quot;)\r\n\t\t\t.replace(&quot;,&quot;, &quot;&quot;));\r\n\t}\r\n\r\n\tpublic static String Maze(int x) {\r\n\t\tint randomNum = ThreadLocalRandom.current ().nextInt (40, x + 1);\r\n\t\tmaze = new String[randomNum][randomNum];\r\n\t\tfor (int i = 0; i &lt; maze.length; i++) {\r\n\t\t\t// create the maze \r\n\t\t\tfor (int j = 0; j &lt; maze.length; j++) {\r\n\t\t\t\tmaze[i][j] = &quot;r&quot;;\r\n\t\t\t    maze[0][j] = &quot;\\u2014&quot;;\r\n\t    \t\tmaze[maze.length - 1][j] = &quot;\\u2014&quot;;\r\n\t\t\t    maze[i][0] = &quot;\\u007c&quot;;\r\n\t    \t\tmaze[i][maze.length - 1] = &quot;\\u007c&quot;;\r\n\t\t\t    maze[0][maze.length - 1] = &quot;+&quot;;\r\n\t    \t\tmaze[maze.length - 1][0] = &quot;+&quot;;\r\n\t\t\t    maze[0][0] = &quot;+&quot;;\r\n\t    \t\tmaze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (Arrays.deepToString(maze)\r\n\t\t\t\t.replace(&quot;]&quot;, &quot;\\n&quot;)\r\n\t\t\t\t.replace (&quot;[[&quot;, &quot; &quot;)\r\n\t\t\t\t.replace (&quot;[&quot;, &quot;&quot;)\r\n\t\t\t\t.replace (&quot;,&quot;, &quot;&quot;));\r\n\t}\r\n\r\n\tpublic static void main (String[] args) { \r\n\t\t// just output   \r\n\t\tString a = Maze(40);\r\n\t\tString x = Room(10);\r\n\t\tSystem.out.println(a);\r\n\t\tSystem.out.println(x);\r\n\t}\r\n}\r\n```\r\n","title":"How to put a one two-dimensional array into another","body":"<p>The question is how do I put one two-dimensional array into another if I explain simply the meaning of this project is a self-constructed maze of room which I, as an amateur, cannot describe with due detail because\nI don't know what details to add.</p>\n<pre><code>import java.util.concurrent.ThreadLocalRandom;\nimport java.util.Arrays;\nimport java.util.*;\npublic class Main\n{\n    static String[][] maze;\n    public static String Room (int x)\n    {\n        // create random number \n        int randomNum = ThreadLocalRandom.current ().nextInt (5, x + 1);\n        maze = new String[randomNum][randomNum];\n        for (int i = 0; i &lt; maze.length; i++) {\n            for (int j = 0; j &lt; maze.length; j++) {\n                //create the ROOM\n                maze[i][j] = &quot;c&quot;;\n                maze[0][j] = &quot;\\u2014&quot;;\n                maze[maze.length - 1][j] = &quot;\\u2014&quot;;\n                maze[i][0] = &quot;\\u007c&quot;;\n                maze[i][maze.length - 1] = &quot;\\u007c&quot;;\n                maze[0][maze.length - 1] = &quot;+&quot;;\n                maze[maze.length - 1][0] = &quot;+&quot;;\n                maze[0][0] = &quot;+&quot;;\n                maze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\n            }\n        }\n\n        return (Arrays.deepToString(maze)\n            .replace(&quot;]&quot;, &quot;\\n&quot;)\n            .replace(&quot;[[&quot;, &quot; &quot;)\n            .replace(&quot;[&quot;, &quot;&quot;)\n            .replace(&quot;,&quot;, &quot;&quot;));\n    }\n\n    public static String Maze(int x) {\n        int randomNum = ThreadLocalRandom.current ().nextInt (40, x + 1);\n        maze = new String[randomNum][randomNum];\n        for (int i = 0; i &lt; maze.length; i++) {\n            // create the maze \n            for (int j = 0; j &lt; maze.length; j++) {\n                maze[i][j] = &quot;r&quot;;\n                maze[0][j] = &quot;\\u2014&quot;;\n                maze[maze.length - 1][j] = &quot;\\u2014&quot;;\n                maze[i][0] = &quot;\\u007c&quot;;\n                maze[i][maze.length - 1] = &quot;\\u007c&quot;;\n                maze[0][maze.length - 1] = &quot;+&quot;;\n                maze[maze.length - 1][0] = &quot;+&quot;;\n                maze[0][0] = &quot;+&quot;;\n                maze[maze.length - 1][maze.length - 1] = &quot;+&quot;;\n            }\n        }\n        return (Arrays.deepToString(maze)\n                .replace(&quot;]&quot;, &quot;\\n&quot;)\n                .replace (&quot;[[&quot;, &quot; &quot;)\n                .replace (&quot;[&quot;, &quot;&quot;)\n                .replace (&quot;,&quot;, &quot;&quot;));\n    }\n\n    public static void main (String[] args) { \n        // just output   \n        String a = Maze(40);\n        String x = Room(10);\n        System.out.println(a);\n        System.out.println(x);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-commons"],"comments":[{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673375105,"post_id":75074263,"comment_id":132483069,"body_markdown":"Are you sure DEFAULT_ENVIRONMENT is not null?","body":"Are you sure DEFAULT_ENVIRONMENT is not null?"},{"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"score":0,"creation_date":1673375642,"post_id":75074263,"comment_id":132483217,"body_markdown":"@BernardBorg Yes. The `DEFAULT_ENVIRONMENT` is not null. As I said, this only occurred when I execute `mvn clean install` locally","body":"@BernardBorg Yes. The <code>DEFAULT_ENVIRONMENT</code> is not null. As I said, this only occurred when I execute <code>mvn clean install</code> locally"},{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673375957,"post_id":75074263,"comment_id":132483293,"body_markdown":"Is the combinedConfiguration null or the combinedConfiguration.getString() result null?","body":"Is the combinedConfiguration null or the combinedConfiguration.getString() result null?"},{"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"score":0,"creation_date":1673376230,"post_id":75074263,"comment_id":132483374,"body_markdown":"@BernardBorg combinedConfiguration.getString() is resulting null","body":"@BernardBorg combinedConfiguration.getString() is resulting null"},{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673376762,"post_id":75074263,"comment_id":132483514,"body_markdown":"Could you debug the line and tell me what the value of DEFAULT_ENVIRONMENT is?","body":"Could you debug the line and tell me what the value of DEFAULT_ENVIRONMENT is?"},{"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"score":0,"creation_date":1673377601,"post_id":75074263,"comment_id":132483747,"body_markdown":"@BernardBorg the value is `dev` which matched with what I set","body":"@BernardBorg the value is <code>dev</code> which matched with what I set"},{"owner":{"account_id":18432157,"reputation":1275,"user_id":13426975,"display_name":"Bernard Borg"},"score":0,"creation_date":1673378239,"post_id":75074263,"comment_id":132483962,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251013/discussion-between-bernard-borg-and-steven-ang).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251013/discussion-between-bernard-borg-and-steven-ang\">continue this discussion in chat</a>."}],"owner":{"account_id":15891790,"reputation":21,"user_id":11466703,"display_name":"steven.ang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673374871,"creation_date":1673374871,"question_id":75074263,"body_markdown":"I have a weird error with my short code. The code is running well when I ran the test class inside IntelliJ and also drone tasks (which just executing command `mvn clean install`).  But error occurred when I tried to run the mvn command using command line.\r\n\r\n\r\n\r\nAfter debugging, I found out a NullPointerException occurred in the following code:\r\n`combinedConfiguration.getString(&quot;application.env&quot;, DEFAULT_ENVIRONMENT).toLowerCase();`\r\n\r\ncombinedConfiguration is an instance of `org.apache.commons.configuration2.CombinedConfiguration`.\r\n\r\nBased on the API documentation, a method `getString(key, devaultValue)` shall return the defaultValue when key is not exist in CombinedConfiguration. So I totally don&#39;t understand why the NullPointerException occurred. Can anyone help?","title":"CombinedConfiguration.getString(key, defaultValue) is not working in MVN","body":"<p>I have a weird error with my short code. The code is running well when I ran the test class inside IntelliJ and also drone tasks (which just executing command <code>mvn clean install</code>).  But error occurred when I tried to run the mvn command using command line.</p>\n<p>After debugging, I found out a NullPointerException occurred in the following code:\n<code>combinedConfiguration.getString(&quot;application.env&quot;, DEFAULT_ENVIRONMENT).toLowerCase();</code></p>\n<p>combinedConfiguration is an instance of <code>org.apache.commons.configuration2.CombinedConfiguration</code>.</p>\n<p>Based on the API documentation, a method <code>getString(key, devaultValue)</code> shall return the defaultValue when key is not exist in CombinedConfiguration. So I totally don't understand why the NullPointerException occurred. Can anyone help?</p>\n"},{"tags":["java","servlets","guava","classnotfoundexception"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1378065394,"post_id":18562280,"comment_id":27309498,"body_markdown":"where have you put the JAR file?","body":"where have you put the JAR file?"},{"owner":{"account_id":3245203,"reputation":75,"user_id":2736993,"accept_rate":60,"display_name":"user2736993"},"score":0,"creation_date":1378065722,"post_id":18562280,"comment_id":27309586,"body_markdown":"I have right clicked the project-&gt;Configure Build Path-&gt;add Library-&gt;and selected guava. Its in the lib folder inside project. Look at the link I edited","body":"I have right clicked the project-&gt;Configure Build Path-&gt;add Library-&gt;and selected guava. Its in the lib folder inside project. Look at the link I edited"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1378065934,"post_id":18562280,"comment_id":27309641,"body_markdown":"Your lib folder should be in `/WebContent/WEB-INF` folder. Currently you are having it under Java Resources. Remove it from there.","body":"Your lib folder should be in <code>&#47;WebContent&#47;WEB-INF</code> folder. Currently you are having it under Java Resources. Remove it from there."}],"answers":[{"tags":[],"owner":{"account_id":144324,"reputation":209,"user_id":2725217,"display_name":"Heikki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1378066274,"creation_date":1378066274,"answer_id":18562441,"question_id":18562280,"body_markdown":"Obvious answer is that; \r\nThe Google guava jar is not found from the classpath dictated by the application server. The jar should be present in either **WEB-INF/classes** or **WEB-INF/lib**. Apache Tomcat also loads common classes from **$CATALINA_HOME/lib** folder.","title":"com.google.common.cache.Cache class not found error","body":"<p>Obvious answer is that; \nThe Google guava jar is not found from the classpath dictated by the application server. The jar should be present in either <strong>WEB-INF/classes</strong> or <strong>WEB-INF/lib</strong>. Apache Tomcat also loads common classes from <strong>$CATALINA_HOME/lib</strong> folder.</p>\n"}],"owner":{"account_id":3245203,"reputation":75,"user_id":2736993,"accept_rate":60,"display_name":"user2736993"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18562441,"answer_count":1,"score":1,"last_activity_date":1673374218,"creation_date":1378065125,"question_id":18562280,"body_markdown":"I am using Guava 14.0 jar and following is my code\r\n\r\n    package org.user.module.test;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.util.concurrent.TimeUnit;\r\n    import com.google.common.cache.CacheBuilder;\r\n    import com.google.common.cache.Cache;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    /**\r\n     * Servlet implementation class test\r\n     */\r\n    @WebServlet(&quot;/test&quot;)\r\n    public class test extends HttpServlet  {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n           \r\n        Cache&lt;String, Integer&gt; map;\r\n    \t\r\n        public test() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n        \r\n        public void init() throws ServletException\r\n        {\r\n            map=CacheBuilder.newBuilder().\r\n    \t\t\t\tmaximumSize(100).\r\n    \t\t\t\texpireAfterAccess(10, TimeUnit.MINUTES).\r\n    \t\t\t\tbuild();\r\n            \r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tPrintWriter out=response.getWriter();\r\n    \t\tString p=request.getParameter(&quot;v&quot;);\r\n    \t\tInteger a=map.getIfPresent(p);\r\n    \t\tif(a==null){\r\n    \t\t\tmap.put(p, 1);\r\n    \t\t\tout.println(&quot;Putting The Integer:&quot;+a);\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tmap.put(p,a++);\r\n    \t\t\tout.println(&quot;A is already present and the value is:&quot;+a);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tdoGet(request,response);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nError:\r\n\r\n&gt; SEVERE: Allocate exception for servlet org.user.module.test.test\r\n&gt; java.lang.ClassNotFoundException: com.google.common.cache.Cache \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1546)\r\n&gt; \tat java.lang.Class.getDeclaredFields0(Native Method) \tat\r\n&gt; java.lang.Class.privateGetDeclaredFields(Class.java:2317) \tat\r\n&gt; java.lang.Class.getDeclaredFields(Class.java:1762) \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:276)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:143)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:125)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1136)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:857)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\r\n&gt; \tat\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n&gt; \tat\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n&gt; \tat\r\n&gt; org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n&gt; \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n&gt; \tat\r\n&gt; org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n&gt; \tat\r\n&gt; org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n&gt; \tat java.lang.Thread.run(Thread.java:722)\r\n\r\ndownloaded jar from here [Downlaod Link][1]\r\nLink to my project folder(Project name:test2) [LINK][2]\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/Release14\r\n  [2]: https://docs.google.com/file/d/0B_pKO9JFqkPsX042OEN1ZnVDa1U/edit?usp=sharing","title":"com.google.common.cache.Cache class not found error","body":"<p>I am using Guava 14.0 jar and following is my code</p>\n\n<pre><code>package org.user.module.test;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.concurrent.TimeUnit;\nimport com.google.common.cache.CacheBuilder;\nimport com.google.common.cache.Cache;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class test\n */\n@WebServlet(\"/test\")\npublic class test extends HttpServlet  {\n    private static final long serialVersionUID = 1L;\n\n    Cache&lt;String, Integer&gt; map;\n\n    public test() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public void init() throws ServletException\n    {\n        map=CacheBuilder.newBuilder().\n                maximumSize(100).\n                expireAfterAccess(10, TimeUnit.MINUTES).\n                build();\n\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        PrintWriter out=response.getWriter();\n        String p=request.getParameter(\"v\");\n        Integer a=map.getIfPresent(p);\n        if(a==null){\n            map.put(p, 1);\n            out.println(\"Putting The Integer:\"+a);\n        }\n        else{\n            map.put(p,a++);\n            out.println(\"A is already present and the value is:\"+a);\n        }\n\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doGet(request,response);\n    }\n\n}\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>SEVERE: Allocate exception for servlet org.user.module.test.test\n  java.lang.ClassNotFoundException: com.google.common.cache.Cache   at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\n    at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1546)\n    at java.lang.Class.getDeclaredFields0(Native Method)    at\n  java.lang.Class.privateGetDeclaredFields(Class.java:2317)     at\n  java.lang.Class.getDeclaredFields(Class.java:1762)    at\n  org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:276)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:143)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:125)\n    at\n  org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1136)\n    at\n  org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:857)\n    at\n  org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\n    at\n  org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n    at\n  org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at\n  org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at\n  org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at\n  org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    at\n  org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at\n  org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    at\n  org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    at\n  org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    at\n  org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)</p>\n</blockquote>\n\n<p>downloaded jar from here <a href=\"http://code.google.com/p/guava-libraries/wiki/Release14\" rel=\"nofollow\">Downlaod Link</a>\nLink to my project folder(Project name:test2) <a href=\"https://docs.google.com/file/d/0B_pKO9JFqkPsX042OEN1ZnVDa1U/edit?usp=sharing\" rel=\"nofollow\">LINK</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":1,"creation_date":1643996366,"post_id":70990212,"comment_id":125496263,"body_markdown":"Compose your `Comparator` with `.thenCompare(..)`, build it in a factory based on your `Pageable.Sort property`.","body":"Compose your <code>Comparator</code> with <code>.thenCompare(..)</code>, build it in a factory based on your <code>Pageable.Sort property</code>."},{"owner":{"account_id":22488356,"reputation":93,"user_id":16686416,"display_name":"Curry"},"score":0,"creation_date":1660721577,"post_id":70990212,"comment_id":129596583,"body_markdown":"Did you find a solution to this problem? I am facing the exact situation of needing to sort DTO with pageable and cannot use Spring Data JPA way to do so.","body":"Did you find a solution to this problem? I am facing the exact situation of needing to sort DTO with pageable and cannot use Spring Data JPA way to do so."},{"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"score":0,"creation_date":1660777573,"post_id":70990212,"comment_id":129615950,"body_markdown":"I just added the answer to this question. I created a PageUtils class that receives a list of objects and applies a Pageable to it using Reflection, hope it helps.","body":"I just added the answer to this question. I created a PageUtils class that receives a list of objects and applies a Pageable to it using Reflection, hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":23890523,"reputation":139,"user_id":17890254,"display_name":"Medamine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644009042,"creation_date":1644009042,"answer_id":70992868,"question_id":70990212,"body_markdown":"in case you want to retrieve users from DB, you can use spring data as follow: \r\n\r\n    public interface UserRepository extends JpaRepository&lt;UserDto, String&gt;{\r\n    \r\n        List&lt;UserDto&gt; findByFirstNameAscLastNameDesc(Pageable pageable);\r\n    \r\n    \r\n    }","title":"Sort a List of objects multiple times","body":"<p>in case you want to retrieve users from DB, you can use spring data as follow:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;UserDto, String&gt;{\n\n    List&lt;UserDto&gt; findByFirstNameAscLastNameDesc(Pageable pageable);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673373301,"creation_date":1660777057,"answer_id":73395742,"question_id":70990212,"body_markdown":"If someone is having this same question I&#39;ve created an Util class using Java Reflection to paginate lists.\r\n\r\nYou can find the code in the following Github repo:\r\n\r\nhttps://github.com/rortegat/generic-pageable/blob/master/src/main/java/com/rortegat/genericpageable/util/PageUtils.java\r\n","title":"Sort a List of objects multiple times","body":"<p>If someone is having this same question I've created an Util class using Java Reflection to paginate lists.</p>\n<p>You can find the code in the following Github repo:</p>\n<p><a href=\"https://github.com/rortegat/generic-pageable/blob/master/src/main/java/com/rortegat/genericpageable/util/PageUtils.java\" rel=\"nofollow noreferrer\">https://github.com/rortegat/generic-pageable/blob/master/src/main/java/com/rortegat/genericpageable/util/PageUtils.java</a></p>\n"}],"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73395742,"answer_count":2,"score":0,"last_activity_date":1673373301,"creation_date":1643994392,"question_id":70990212,"body_markdown":"I have a list of objects retrieved through an external REST service that I&#39;d like to sort with user defined values in the Pageable.Sort property.\r\n\r\nThis is my DTO object:\r\n\r\n```java\r\n@Data\r\n@Builder\r\npublic class UserDto {\r\n    private String guid;\r\n    private String firstName;\r\n    private String lastName;\r\n}\r\n```\r\n\r\nGiven a list of UserDto and a Pageable.Sort. I&#39;m trying to sort the list for each defined attribute and its direction.\r\n\r\n\r\n```java\r\npublic Page&lt;UserDto&gt; listToPage(List&lt;UserDto&gt; list, Pageable pageable) {\r\n\r\n        var sorts = pageable.getSort();\r\n\r\n        //Retrieves the name of all object fields\r\n        var fields = Arrays.stream(UserDto.class.getDeclaredFields())\r\n                .map(Field::getName)\r\n                .collect(Collectors.toList());\r\n\r\n        //For each sort specified in the pageable I need to sort the list of objects\r\n        for (var sort : sorts) {\r\n            //If a given property does not exist. Throws an exception.\r\n            if (!fields.contains(sort.getProperty()))\r\n                throw new InvalidDataException(&quot;Property [&quot; + sort.getProperty() + &quot;] does not exists in &quot; + UserDto.class.getName() + &quot; class&quot;);\r\n\r\n            //Looks for the property and its direction\r\n            switch (sort.getProperty()) {\r\n                case &quot;guid&quot;:\r\n                    list = sort.getDirection().isDescending() ?\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid).reversed()).collect(Collectors.toList()) :\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid)).collect(Collectors.toList());\r\n                    break;\r\n                case &quot;firstName&quot;:\r\n                    list = sort.getDirection().isDescending() ?\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName).reversed()).collect(Collectors.toList()) :\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName)).collect(Collectors.toList());\r\n                    break;\r\n                case &quot;lastName&quot;:\r\n                    list = sort.getDirection().isDescending() ?\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName).reversed()).collect(Collectors.toList()) :\r\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName)).collect(Collectors.toList());\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        final int start = (int) pageable.getOffset();\r\n        final int end = Math.min((start + pageable.getPageSize()), list.size());\r\n        \r\n        var subList = list.subList(start, end);\r\n        return new PageImpl&lt;&gt;(subList, pageable, list.size());\r\n    }\r\n\r\n```\r\n\r\nAll works fine, except when I pass multiple attributes to sort the users list.\r\n\r\nThe first round should sort by firstName:ASC and then, in the second round, it should be sorted by lastName:DESC keeping in mind the first sort order, but this is not doing that.\r\n\r\nIs there any way to handle multiple sorts on the same list but in different rounds? I don&#39;t want to use thenComparing operator because I want to do this dynamically with user interaction.\r\n\r\nA future approach is make this function in a generic way to handle any object and sort its attributes to take advantage of this JPA provided class.\r\n\r\nThis is my test case:\r\n\r\n```java\r\n @Test\r\n    void testCase1() {\r\n        var userDtoList = List.of(\r\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B7&quot;).guid(&quot;G000a&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B4&quot;).guid(&quot;G000b&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B1&quot;).guid(&quot;G000c&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B5&quot;).guid(&quot;G000d&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B6&quot;).guid(&quot;G000e&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B3&quot;).guid(&quot;G000f&quot;).build(),\r\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B2&quot;).guid(&quot;G000g&quot;).build()\r\n        );\r\n\r\n        Sort firstNameSort = Sort.by(&quot;firstName&quot;);\r\n        Sort lastNameSort = Sort.by(&quot;lastName&quot;).descending();\r\n\r\n        Sort sort = firstNameSort.and(lastNameSort);\r\n\r\n        var pageable = PageRequest.of(0, 5, sort);\r\n        \r\n        var result = userService.listToPage(userDtoList, pageable);\r\n        result.getContent().forEach(System.out::println);\r\n\r\n        assertEquals(5, result.getContent().size());\r\n\r\n    }\r\n\r\n```","title":"Sort a List of objects multiple times","body":"<p>I have a list of objects retrieved through an external REST service that I'd like to sort with user defined values in the Pageable.Sort property.</p>\n<p>This is my DTO object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\npublic class UserDto {\n    private String guid;\n    private String firstName;\n    private String lastName;\n}\n</code></pre>\n<p>Given a list of UserDto and a Pageable.Sort. I'm trying to sort the list for each defined attribute and its direction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;UserDto&gt; listToPage(List&lt;UserDto&gt; list, Pageable pageable) {\n\n        var sorts = pageable.getSort();\n\n        //Retrieves the name of all object fields\n        var fields = Arrays.stream(UserDto.class.getDeclaredFields())\n                .map(Field::getName)\n                .collect(Collectors.toList());\n\n        //For each sort specified in the pageable I need to sort the list of objects\n        for (var sort : sorts) {\n            //If a given property does not exist. Throws an exception.\n            if (!fields.contains(sort.getProperty()))\n                throw new InvalidDataException(&quot;Property [&quot; + sort.getProperty() + &quot;] does not exists in &quot; + UserDto.class.getName() + &quot; class&quot;);\n\n            //Looks for the property and its direction\n            switch (sort.getProperty()) {\n                case &quot;guid&quot;:\n                    list = sort.getDirection().isDescending() ?\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid).reversed()).collect(Collectors.toList()) :\n                            list.stream().sorted(Comparator.comparing(UserDto::getGuid)).collect(Collectors.toList());\n                    break;\n                case &quot;firstName&quot;:\n                    list = sort.getDirection().isDescending() ?\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName).reversed()).collect(Collectors.toList()) :\n                            list.stream().sorted(Comparator.comparing(UserDto::getFirstName)).collect(Collectors.toList());\n                    break;\n                case &quot;lastName&quot;:\n                    list = sort.getDirection().isDescending() ?\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName).reversed()).collect(Collectors.toList()) :\n                            list.stream().sorted(Comparator.comparing(UserDto::getLastName)).collect(Collectors.toList());\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        final int start = (int) pageable.getOffset();\n        final int end = Math.min((start + pageable.getPageSize()), list.size());\n        \n        var subList = list.subList(start, end);\n        return new PageImpl&lt;&gt;(subList, pageable, list.size());\n    }\n\n</code></pre>\n<p>All works fine, except when I pass multiple attributes to sort the users list.</p>\n<p>The first round should sort by firstName:ASC and then, in the second round, it should be sorted by lastName:DESC keeping in mind the first sort order, but this is not doing that.</p>\n<p>Is there any way to handle multiple sorts on the same list but in different rounds? I don't want to use thenComparing operator because I want to do this dynamically with user interaction.</p>\n<p>A future approach is make this function in a generic way to handle any object and sort its attributes to take advantage of this JPA provided class.</p>\n<p>This is my test case:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Test\n    void testCase1() {\n        var userDtoList = List.of(\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B7&quot;).guid(&quot;G000a&quot;).build(),\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B4&quot;).guid(&quot;G000b&quot;).build(),\n                UserDto.builder().firstName(&quot;A3&quot;).lastName(&quot;B1&quot;).guid(&quot;G000c&quot;).build(),\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B5&quot;).guid(&quot;G000d&quot;).build(),\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B6&quot;).guid(&quot;G000e&quot;).build(),\n                UserDto.builder().firstName(&quot;A2&quot;).lastName(&quot;B3&quot;).guid(&quot;G000f&quot;).build(),\n                UserDto.builder().firstName(&quot;A1&quot;).lastName(&quot;B2&quot;).guid(&quot;G000g&quot;).build()\n        );\n\n        Sort firstNameSort = Sort.by(&quot;firstName&quot;);\n        Sort lastNameSort = Sort.by(&quot;lastName&quot;).descending();\n\n        Sort sort = firstNameSort.and(lastNameSort);\n\n        var pageable = PageRequest.of(0, 5, sort);\n        \n        var result = userService.listToPage(userDtoList, pageable);\n        result.getContent().forEach(System.out::println);\n\n        assertEquals(5, result.getContent().size());\n\n    }\n\n</code></pre>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1673371158,"post_id":75073614,"comment_id":132481810,"body_markdown":"Did you try to google anything about &quot;thread synchronization&quot;?","body":"Did you try to google anything about &quot;thread synchronization&quot;?"},{"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"score":0,"creation_date":1673371251,"post_id":75073614,"comment_id":132481834,"body_markdown":"Yes, some tries involved syncronized(lock), executor, concurrentexecutor.... but im (ironically) locked xD","body":"Yes, some tries involved syncronized(lock), executor, concurrentexecutor.... but im (ironically) locked xD"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1673371803,"post_id":75073614,"comment_id":132482026,"body_markdown":"But you didnt show any atempt of synchronization whatsoever.","body":"But you didnt show any atempt of synchronization whatsoever."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1673371829,"post_id":75073614,"comment_id":132482035,"body_markdown":"They&#39;re alternative solutions that have evolved over time. For instance, there&#39;s `ReadWriteLock`.","body":"They&#39;re alternative solutions that have evolved over time. For instance, there&#39;s <code>ReadWriteLock</code>."},{"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"score":0,"creation_date":1673371944,"post_id":75073614,"comment_id":132482071,"body_markdown":"@Antoniossss use syncronization is as easy as put &quot;synchronize(lock) { code} lock.notify() I thought it was unnecessary to put all the code again. i will look into ReadWriteLock that, thanks!","body":"@Antoniossss use syncronization is as easy as put &quot;synchronize(lock) { code} lock.notify() I thought it was unnecessary to put all the code again. i will look into ReadWriteLock that, thanks!"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1673372186,"post_id":75073614,"comment_id":132482152,"body_markdown":"you see, there it is - the code you have show in the comment is simmply invalid and will synchronize almost nothing in your case as it must `notify/notifyAll` must be used with `wait` in order to work as intended.","body":"you see, there it is - the code you have show in the comment is simmply invalid and will synchronize almost nothing in your case as it must <code>notify&#47;notifyAll</code> must be used with <code>wait</code> in order to work as intended."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1673372283,"post_id":75073614,"comment_id":132482185,"body_markdown":"Right.  You should just have `synchronized` and _not_ `notify`, to use that approach.  But more to the point, we can&#39;t help you much if you don&#39;t show us the code you tried to do the synchronization with, so we can tell you the bugs.","body":"Right.  You should just have <code>synchronized</code> and <i>not</i> <code>notify</code>, to use that approach.  But more to the point, we can&#39;t help you much if you don&#39;t show us the code you tried to do the synchronization with, so we can tell you the bugs."},{"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"score":0,"creation_date":1673372678,"post_id":75073614,"comment_id":132482323,"body_markdown":"I have edited to add my syncro attempt.","body":"I have edited to add my syncro attempt."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673373242,"post_id":75073614,"comment_id":132482515,"body_markdown":"`Thread.sleep()` does not release ownership of the monitor, don&#39;t sleep in a synchronized block.","body":"<code>Thread.sleep()</code> does not release ownership of the monitor, don&#39;t sleep in a synchronized block."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673373263,"creation_date":1673373263,"answer_id":75073994,"question_id":75073614,"body_markdown":"It&#39;s because that&#39;s not how the wait/notify system should be used.\r\n\r\n&gt; ```java\r\n&gt; // first snippet\r\n&gt;  synchronized (lock) {\r\n&gt; ```\r\n\r\nAs long as this thread&#39;s &#39;location&#39; (what it is executing) is within the body of this `synchronized` block, any other thread, if it hits a `synchronized (lock)` statement, will __wait__. Only one thread can &#39;hold the lock&#39;. With one exception: `lock.wait()`.\r\n\r\n&gt; ```java\r\n&gt; // still first snippet\r\n&gt; Thread.sleep(10000);\r\n&gt; ```\r\n\r\nCalling `sleep` inside any `synchronized` block is virtually guaranteed to be a grave mistake. __You are still holding the `lock`__ - 10 seconds long then, no other thread can enter `synchronized (lock)`. I highly doubt that&#39;s what you want. Stop with the `synchronized` and pick it up again afterwards.\r\n\r\n&gt; ```java\r\n&gt; // second snippet\r\n&gt; lock.wait();\r\n&gt; ```\r\n\r\n`wait` is unique: It releases the lock, then waits for a notify. Once a notification is received, it will __reacquire the lock__ (which will by definition be impossible; whatever thread did the notifying still holds it, as you cannot call `lock.notify()` unless you are inside `synchronized(lock)`, hence, the other thread has the lock and the thread with the `wait()` command cannot reacquire it). This will take some time (the other thread needs to get out of the synchronized block first).\r\n\r\nIt will then continue.\r\n\r\nCrucially then, the thread that does the notifying __does need to stop being in the synchronized block at some point__.\r\n\r\nThe general &#39;look&#39; of a notifying block of code that runs on a simple timer is thus something like this:\r\n\r\n```\r\nwhile (running) {\r\n  synchronized (lock) {\r\n    // Do relevant stuff\r\n    lock.notify();\r\n  }\r\n  Thread.sleep(10000);\r\n}\r\n```\r\n\r\nNote how we __do not__ hold that synchronized lock when sleeping.\r\n\r\nGenerally you&#39;re better off using something relevant from the java.util.concurrent package. Which _might_ be a lock, but more often is a latch, or a collection, or anything else of the many, many things that package has to offer. I&#39;m not quite clear on the underlying problem you&#39;re trying to solve, so I&#39;m not sure what to recommend.\r\n","title":"How can I lock/unlock resources between threads?","body":"<p>It's because that's not how the wait/notify system should be used.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// first snippet\n synchronized (lock) {\n</code></pre>\n</blockquote>\n<p>As long as this thread's 'location' (what it is executing) is within the body of this <code>synchronized</code> block, any other thread, if it hits a <code>synchronized (lock)</code> statement, will <strong>wait</strong>. Only one thread can 'hold the lock'. With one exception: <code>lock.wait()</code>.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// still first snippet\nThread.sleep(10000);\n</code></pre>\n</blockquote>\n<p>Calling <code>sleep</code> inside any <code>synchronized</code> block is virtually guaranteed to be a grave mistake. <strong>You are still holding the <code>lock</code></strong> - 10 seconds long then, no other thread can enter <code>synchronized (lock)</code>. I highly doubt that's what you want. Stop with the <code>synchronized</code> and pick it up again afterwards.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// second snippet\nlock.wait();\n</code></pre>\n</blockquote>\n<p><code>wait</code> is unique: It releases the lock, then waits for a notify. Once a notification is received, it will <strong>reacquire the lock</strong> (which will by definition be impossible; whatever thread did the notifying still holds it, as you cannot call <code>lock.notify()</code> unless you are inside <code>synchronized(lock)</code>, hence, the other thread has the lock and the thread with the <code>wait()</code> command cannot reacquire it). This will take some time (the other thread needs to get out of the synchronized block first).</p>\n<p>It will then continue.</p>\n<p>Crucially then, the thread that does the notifying <strong>does need to stop being in the synchronized block at some point</strong>.</p>\n<p>The general 'look' of a notifying block of code that runs on a simple timer is thus something like this:</p>\n<pre><code>while (running) {\n  synchronized (lock) {\n    // Do relevant stuff\n    lock.notify();\n  }\n  Thread.sleep(10000);\n}\n</code></pre>\n<p>Note how we <strong>do not</strong> hold that synchronized lock when sleeping.</p>\n<p>Generally you're better off using something relevant from the java.util.concurrent package. Which <em>might</em> be a lock, but more often is a latch, or a collection, or anything else of the many, many things that package has to offer. I'm not quite clear on the underlying problem you're trying to solve, so I'm not sure what to recommend.</p>\n"}],"owner":{"account_id":3034856,"reputation":95,"user_id":2573197,"accept_rate":46,"display_name":"uchi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75073994,"answer_count":1,"score":0,"last_activity_date":1673373263,"creation_date":1673371071,"question_id":75073614,"body_markdown":"I&#39;m playing with a broker API.\r\n\r\nI have created a SSLSocket like this:\r\n\r\n    try {\r\n        // Crea el socket SSL\r\n        s = (SSLSocket) SSLSocketFactory.getDefault().createSocket(&quot;xapi.xtb.com&quot;, 5124);\r\n        s.setKeepAlive(true);          \r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nI need that socket to be used in login, and trade actions, but, also, I need to make a ping every 10 minutes.\r\n\r\nSo I have used thread to create one thread to login and start the ping loop (last one with a sleep(60000)) \r\n\r\n    new Thread(() -&gt; {\r\n            try {\r\n                assert s != null;\r\n                BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n                BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                // crea un bucle while infinito\r\n\r\n                while (true) {\r\n                    pingOut.write(\r\n                            &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\r\n                    pingOut.flush();\r\n                    pingIn.readLine();\r\n                    Thread.sleep(10000);\r\n                }\r\n            } catch (IOException  ex) {\r\n                ex.printStackTrace();\r\n            } catch (InterruptedException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }).start();\r\n\r\nAnd then, another thread started on a button click which sends a similar string, but with trade options and without loops, that thread (trade) is killed after every trade action.\r\n\r\nMy main problem, is that sometimes, bufferedRead mixes responses from both threads, so I thought of using locks, waiting and notifying, but this is not working, the ping loop is kidnapping the resource (sslsocket) locking access to the other thread (or in future, threads)\r\n\r\nSo, how can I implement it to use &quot;s&quot;, but avoid to mix responses? (sometimes, when printing tradeIn.readline(), I got the pingIn.readline() reply content.\r\n\r\nOr if there is another way to get the responses to avoid mixing, is also welcome\r\n\r\nAdding synchronized attempt code:\r\n\r\n    Object lock = new Object();\r\n\r\n    new Thread(() -&gt; {\r\n            synchronized (lock) {\r\n                try {\r\n                    assert s != null;\r\n                    BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n                    BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                    // crea un bucle while infinito\r\n\r\n                    while (true) {\r\n                        pingOut.write(\r\n                                &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\r\n                        pingOut.flush();\r\n                        pingIn.readLine();\r\n                        Thread.sleep(10000);\r\n                    }\r\n                } catch (IOException  ex) {\r\n                    ex.printStackTrace();\r\n                } catch (InterruptedException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n\r\n                lock.notify();\r\n            }\r\n        }).start();\r\n\r\nThe second thread:\r\n\r\n     synchronized (lock) {\r\n        try {\r\n            lock.wait();\r\n        } catch (InterruptedException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n    }\r\n    try {\r\n        assert s != null;\r\n        BufferedReader tradeIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n        BufferedWriter tradeOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n        tradeOut.write(\r\n                &quot;{\\&quot;command\\&quot;:\\&quot;tradeTransaction\\&quot;,\\&quot;arguments\\&quot;:{\\&quot;tradeTransInfo\\&quot;:{\\&quot;cmd\\&quot;:0,\\&quot;customComment\\&quot;:\\&quot;Some text\\&quot;,\\&quot;expiration\\&quot;:3462006335000,\\&quot;offset\\&quot;:0,\\&quot;order\\&quot;:0,\\&quot;price\\&quot;:10000.0,\\&quot;sl\\&quot;:9420.0,\\&quot;symbol\\&quot;:\\&quot;US100\\&quot;,\\&quot;tp\\&quot;:0.0,\\&quot;type\\&quot;:0,\\&quot;volume\\&quot;:0.02}}}&quot;);\r\n        tradeOut.flush();\r\n        twoperacion.setText(tradeIn.readLine());\r\n    } catch (IOException ex) {\r\n        ex.printStackTrace();\r\n    }","title":"How can I lock/unlock resources between threads?","body":"<p>I'm playing with a broker API.</p>\n<p>I have created a SSLSocket like this:</p>\n<pre><code>try {\n    // Crea el socket SSL\n    s = (SSLSocket) SSLSocketFactory.getDefault().createSocket(&quot;xapi.xtb.com&quot;, 5124);\n    s.setKeepAlive(true);          \n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I need that socket to be used in login, and trade actions, but, also, I need to make a ping every 10 minutes.</p>\n<p>So I have used thread to create one thread to login and start the ping loop (last one with a sleep(60000))</p>\n<pre><code>new Thread(() -&gt; {\n        try {\n            assert s != null;\n            BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n            BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\n            // crea un bucle while infinito\n\n            while (true) {\n                pingOut.write(\n                        &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\n                pingOut.flush();\n                pingIn.readLine();\n                Thread.sleep(10000);\n            }\n        } catch (IOException  ex) {\n            ex.printStackTrace();\n        } catch (InterruptedException e1) {\n            e1.printStackTrace();\n        }\n    }).start();\n</code></pre>\n<p>And then, another thread started on a button click which sends a similar string, but with trade options and without loops, that thread (trade) is killed after every trade action.</p>\n<p>My main problem, is that sometimes, bufferedRead mixes responses from both threads, so I thought of using locks, waiting and notifying, but this is not working, the ping loop is kidnapping the resource (sslsocket) locking access to the other thread (or in future, threads)</p>\n<p>So, how can I implement it to use &quot;s&quot;, but avoid to mix responses? (sometimes, when printing tradeIn.readline(), I got the pingIn.readline() reply content.</p>\n<p>Or if there is another way to get the responses to avoid mixing, is also welcome</p>\n<p>Adding synchronized attempt code:</p>\n<pre><code>Object lock = new Object();\n\nnew Thread(() -&gt; {\n        synchronized (lock) {\n            try {\n                assert s != null;\n                BufferedWriter pingOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n                BufferedReader pingIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\n                // crea un bucle while infinito\n\n                while (true) {\n                    pingOut.write(\n                            &quot;{\\&quot;command\\&quot;:\\&quot;ping\\&quot;}&quot;);\n                    pingOut.flush();\n                    pingIn.readLine();\n                    Thread.sleep(10000);\n                }\n            } catch (IOException  ex) {\n                ex.printStackTrace();\n            } catch (InterruptedException e1) {\n                e1.printStackTrace();\n            }\n\n            lock.notify();\n        }\n    }).start();\n</code></pre>\n<p>The second thread:</p>\n<pre><code> synchronized (lock) {\n    try {\n        lock.wait();\n    } catch (InterruptedException e1) {\n        e1.printStackTrace();\n    }\n}\ntry {\n    assert s != null;\n    BufferedReader tradeIn = new BufferedReader(new InputStreamReader(s.getInputStream()));\n    BufferedWriter tradeOut = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n    tradeOut.write(\n            &quot;{\\&quot;command\\&quot;:\\&quot;tradeTransaction\\&quot;,\\&quot;arguments\\&quot;:{\\&quot;tradeTransInfo\\&quot;:{\\&quot;cmd\\&quot;:0,\\&quot;customComment\\&quot;:\\&quot;Some text\\&quot;,\\&quot;expiration\\&quot;:3462006335000,\\&quot;offset\\&quot;:0,\\&quot;order\\&quot;:0,\\&quot;price\\&quot;:10000.0,\\&quot;sl\\&quot;:9420.0,\\&quot;symbol\\&quot;:\\&quot;US100\\&quot;,\\&quot;tp\\&quot;:0.0,\\&quot;type\\&quot;:0,\\&quot;volume\\&quot;:0.02}}}&quot;);\n    tradeOut.flush();\n    twoperacion.setText(tradeIn.readLine());\n} catch (IOException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":["javascript","java","blockchain","truffle","ganache"],"comments":[{"owner":{"account_id":23471458,"reputation":27,"user_id":17524907,"display_name":"Avinash Kumar Singh"},"score":0,"creation_date":1673373286,"post_id":75073916,"comment_id":132482532,"body_markdown":"Request to respond as soon as possible.","body":"Request to respond as soon as possible."}],"owner":{"account_id":23471458,"reputation":27,"user_id":17524907,"display_name":"Avinash Kumar Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673372803,"creation_date":1673372803,"question_id":75073916,"body_markdown":"I am creating a blockchain related project but can&#39;t able to run it appropriately on browser. To know about the project I am attaching the link of the project is given below -\r\nhttps://github.com/toful/BC_GDPR-Compliant_PDManagement_System\r\n\r\nI am trying to configure the truffle, ganache and java file but can&#39;t able to get success.\r\nExpecting to get similar to this web page.[![image of login page](https://i.stack.imgur.com/3lI3v.jpg)](https://i.stack.imgur.com/3lI3v.jpg).","title":"How Web3j is used to get the SC wrappers and operate with them using Java (Eclipse ide)","body":"<p>I am creating a blockchain related project but can't able to run it appropriately on browser. To know about the project I am attaching the link of the project is given below -\n<a href=\"https://github.com/toful/BC_GDPR-Compliant_PDManagement_System\" rel=\"nofollow noreferrer\">https://github.com/toful/BC_GDPR-Compliant_PDManagement_System</a></p>\n<p>I am trying to configure the truffle, ganache and java file but can't able to get success.\nExpecting to get similar to this web page.<a href=\"https://i.stack.imgur.com/3lI3v.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3lI3v.jpg\" alt=\"image of login page\" /></a>.</p>\n"},{"tags":["java","spring-boot","micrometer"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1641906324,"post_id":70667172,"comment_id":124925194,"body_markdown":"Looks like it’s trying to send UDP packets to statsd (port 8125). Do you have Micrometer Statsd registry on your class path?","body":"Looks like it’s trying to send UDP packets to statsd (port 8125). Do you have Micrometer Statsd registry on your class path?"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1641906878,"post_id":70667172,"comment_id":124925373,"body_markdown":"@BoristheSpider As a matter of fact, I do!","body":"@BoristheSpider As a matter of fact, I do!"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1641908375,"post_id":70667172,"comment_id":124926013,"body_markdown":"I was able to switch to a version of the company starter without statsd, and that fixes the log spam, as well as its mysterious origin.","body":"I was able to switch to a version of the company starter without statsd, and that fixes the log spam, as well as its mysterious origin."}],"answers":[{"tags":[],"owner":{"account_id":2123935,"reputation":851,"user_id":1886601,"accept_rate":91,"display_name":"java_newbie"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1642096055,"creation_date":1642096055,"answer_id":70700918,"question_id":70667172,"body_markdown":"assuming statsd is not used and configured on your side, since it&#39;s pointed to localhost, you may disable it by setting\r\n\r\n    management.metrics.export.statsd.enabled\r\n\r\nto false","title":"PortUnreachableExceptions spamming log after updating Spring Boot Parent","body":"<p>assuming statsd is not used and configured on your side, since it's pointed to localhost, you may disable it by setting</p>\n<pre><code>management.metrics.export.statsd.enabled\n</code></pre>\n<p>to false</p>\n"},{"tags":[],"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1673372615,"creation_date":1673372615,"answer_id":75073886,"question_id":70667172,"body_markdown":"For anyone reaching here and is the case that you migrated from Spring Boot 2 to 3, there was a change in application properties that went from\r\n\r\n`management.metrics.export.&lt;your-integration&gt;.*`\r\n\r\nto\r\n\r\n`management.&lt;your-integration&gt;.metrics.export.*`\r\n\r\nSo you may need to fix that in your resource files.\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#actuator-metrics-export-properties","title":"PortUnreachableExceptions spamming log after updating Spring Boot Parent","body":"<p>For anyone reaching here and is the case that you migrated from Spring Boot 2 to 3, there was a change in application properties that went from</p>\n<p><code>management.metrics.export.&lt;your-integration&gt;.*</code></p>\n<p>to</p>\n<p><code>management.&lt;your-integration&gt;.metrics.export.*</code></p>\n<p>So you may need to fix that in your resource files.</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#actuator-metrics-export-properties\" rel=\"noreferrer\">source</a></p>\n"}],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8480,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70700918,"answer_count":2,"score":9,"last_activity_date":1673372615,"creation_date":1641905686,"question_id":70667172,"body_markdown":"After upgrading from `spring-boot-parent` version 2.5.5 to 2.6.0, I started seeing these error messages spamming the logs:\r\n\r\n`[INFO] [stdout] 2022-01-11 13:40:01.157  WARN 76859 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [6d1243de, L:/127.0.0.1:58160 - R:localhost/127.0.0.1:8125] An exception has been observed post termination, use DEBUG level to see the full stack: java.net.PortUnreachableException: readAddress(..) failed: Connection refused`\r\n\r\nUsing DEBUG level:\r\n\r\n```\r\n[INFO] [stdout] 2022-01-11 13:38:29.733  WARN 76479 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [43aad7ce, L:/127.0.0.1:38108 - R:localhost/127.0.0.1:8125] An exception has been observed post termination\r\n[INFO] [stdout] \r\n[INFO] [stdout] java.net.PortUnreachableException: readAddress(..) failed: Connection refused\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.translateForConnected(EpollDatagramChannel.java:575)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.access$400(EpollDatagramChannel.java:56)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel$EpollDatagramChannelUnsafe.epollInReady(EpollDatagramChannel.java:503)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n[INFO] [stdout] \tat io.micrometer.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n[INFO] [stdout] \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[INFO] [stdout] Caused by: io.micrometer.shaded.io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection refused\r\n```\r\n\r\nI can&#39;t find much about it in the [release notes](https://github.com/spring-projects/spring-boot/releases/tag/v2.6.0), except for a dependency upgrade that seems relevant:\r\n\r\n&gt; Upgrade to Micrometer 1.8.0 [#28516](https://github.com/spring-projects/spring-boot/issues/28516)\r\n\r\nBut the linked issue is not informative. Neither were Micronaut&#39;s own [release notes for version 1.8.0](https://github.com/micrometer-metrics/micrometer/releases/tag/v1.8.0) (except for the JVM crash notice, which we did run into - a surprising and rather unfortunate side-effect of upgrading Spring Boot, but I digress)\r\n\r\nWe don&#39;t (consciously) use Micrometer, so I tried disabling it in the `application.yml` file (`micrometer.enabled: false` and `instrumentation.micrometer.enabled: false`), but to no avail.\r\n\r\nDespite lots of googling (for various permutations of elements of the error message and digging through code on GitHub), I haven&#39;t been able to find how to fix this message, let alone figure out what causes it.\r\n\r\nNow I could of course suppress this message in the logging configuration, but I&#39;d like to know what it&#39;s actually trying to achieve here, and whether it is useful for our application. And if not, disable it completely.","title":"PortUnreachableExceptions spamming log after updating Spring Boot Parent","body":"<p>After upgrading from <code>spring-boot-parent</code> version 2.5.5 to 2.6.0, I started seeing these error messages spamming the logs:</p>\n<p><code>[INFO] [stdout] 2022-01-11 13:40:01.157  WARN 76859 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [6d1243de, L:/127.0.0.1:58160 - R:localhost/127.0.0.1:8125] An exception has been observed post termination, use DEBUG level to see the full stack: java.net.PortUnreachableException: readAddress(..) failed: Connection refused</code></p>\n<p>Using DEBUG level:</p>\n<pre><code>[INFO] [stdout] 2022-01-11 13:38:29.733  WARN 76479 --- [    udp-epoll-2] i.m.s.reactor.netty.channel.FluxReceive  : [43aad7ce, L:/127.0.0.1:38108 - R:localhost/127.0.0.1:8125] An exception has been observed post termination\n[INFO] [stdout] \n[INFO] [stdout] java.net.PortUnreachableException: readAddress(..) failed: Connection refused\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.translateForConnected(EpollDatagramChannel.java:575)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel.access$400(EpollDatagramChannel.java:56)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollDatagramChannel$EpollDatagramChannelUnsafe.epollInReady(EpollDatagramChannel.java:503)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n[INFO] [stdout]     at io.micrometer.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n[INFO] [stdout]     at java.base/java.lang.Thread.run(Thread.java:833)\n[INFO] [stdout] Caused by: io.micrometer.shaded.io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection refused\n</code></pre>\n<p>I can't find much about it in the <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v2.6.0\" rel=\"noreferrer\">release notes</a>, except for a dependency upgrade that seems relevant:</p>\n<blockquote>\n<p>Upgrade to Micrometer 1.8.0 <a href=\"https://github.com/spring-projects/spring-boot/issues/28516\" rel=\"noreferrer\">#28516</a></p>\n</blockquote>\n<p>But the linked issue is not informative. Neither were Micronaut's own <a href=\"https://github.com/micrometer-metrics/micrometer/releases/tag/v1.8.0\" rel=\"noreferrer\">release notes for version 1.8.0</a> (except for the JVM crash notice, which we did run into - a surprising and rather unfortunate side-effect of upgrading Spring Boot, but I digress)</p>\n<p>We don't (consciously) use Micrometer, so I tried disabling it in the <code>application.yml</code> file (<code>micrometer.enabled: false</code> and <code>instrumentation.micrometer.enabled: false</code>), but to no avail.</p>\n<p>Despite lots of googling (for various permutations of elements of the error message and digging through code on GitHub), I haven't been able to find how to fix this message, let alone figure out what causes it.</p>\n<p>Now I could of course suppress this message in the logging configuration, but I'd like to know what it's actually trying to achieve here, and whether it is useful for our application. And if not, disable it completely.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1673368037,"post_id":75072897,"comment_id":132480677,"body_markdown":"What do you mean by &quot;automatically&quot;? The documented ad-hoc conversion utilities aren&#39;t what you&#39;re looking for? Why?","body":"What do you mean by &quot;automatically&quot;? The documented ad-hoc conversion utilities aren&#39;t what you&#39;re looking for? Why?"},{"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"score":0,"creation_date":1673368170,"post_id":75072897,"comment_id":132480737,"body_markdown":"@LukasEder I guess I&#39;m looking for something like `org.jooq.Records`, but for nested records like `FilmActors`. Not sure if there is an easier way to obtain that other than writing my own `RecordMapper`. It looks like ModelMapper is still waiting on Java records support","body":"@LukasEder I guess I&#39;m looking for something like <code>org.jooq.Records</code>, but for nested records like <code>FilmActors</code>. Not sure if there is an easier way to obtain that other than writing my own <code>RecordMapper</code>. It looks like ModelMapper is still waiting on Java records support"}],"answers":[{"tags":[],"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673372517,"creation_date":1673372517,"answer_id":75073875,"question_id":75072897,"body_markdown":"I think found an answer [here](https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/) under _Using ad hoc converters on nested collections_. `convertFrom` did the trick:\r\n```\r\nField&lt;List&lt;FilmActors.Actor&gt;&gt; actors = DSL.multiset(\r\n                                              DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\r\n                                                 .from(Tables.FILM_ACTOR)\r\n                                                 .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\r\n                                          )\r\n                                          .as(&quot;actors&quot;)\r\n                                          .convertFrom(record -&gt; record.map(Records.mapping(FilmActors.Actor::new)));\r\n\r\nList&lt;FilmActors&gt; filmActors = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE, actors)\r\n                                          .from(Tables.FILM)\r\n                                          .limit(10)\r\n                                          .fetch(Records.mapping(FilmActors::new));\r\n```","title":"Is there a way to automatically map jOOQ records to Java records?","body":"<p>I think found an answer <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">here</a> under <em>Using ad hoc converters on nested collections</em>. <code>convertFrom</code> did the trick:</p>\n<pre><code>Field&lt;List&lt;FilmActors.Actor&gt;&gt; actors = DSL.multiset(\n                                              DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\n                                                 .from(Tables.FILM_ACTOR)\n                                                 .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\n                                          )\n                                          .as(&quot;actors&quot;)\n                                          .convertFrom(record -&gt; record.map(Records.mapping(FilmActors.Actor::new)));\n\nList&lt;FilmActors&gt; filmActors = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE, actors)\n                                          .from(Tables.FILM)\n                                          .limit(10)\n                                          .fetch(Records.mapping(FilmActors::new));\n</code></pre>\n"}],"owner":{"account_id":27490120,"reputation":41,"user_id":20975649,"display_name":"JavaStan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673372517,"creation_date":1673367593,"question_id":75072897,"body_markdown":"For this example, I am using the [Sakila Sample Database](https://dev.mysql.com/doc/sakila/en/).\r\n\r\nLet&#39;s say I have a `Film` record as follows:\r\n```\r\npublic record Film(UShort filmId, String title) {\r\n}\r\n```\r\nIf I am reading films from jOOQ, I can easily map them to `Film` using the following:\r\n```\r\nList&lt;Film&gt; films = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE)\r\n                               .from(Tables.FILM)\r\n                               .limit(10)\r\n                               .fetch(Records.mapping(Film::new));\r\n```\r\nNow let&#39;s say I want each film and the actors associated with it. For this, I decide to use `multiset`:\r\n```\r\nSet&lt;SelectField&lt;?&gt;&gt; readFields = Set.of(\r\n    Tables.FILM.FILM_ID,\r\n    Tables.FILM.TITLE,\r\n    DSL.multiset(\r\n        DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\r\n           .from(Tables.FILM_ACTOR)\r\n           .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\r\n        )\r\n       .as(&quot;actors&quot;)\r\n);\r\n\r\nvar result = this.context.select(readFields)\r\n                         .from(Tables.FILM)\r\n                         .limit(10)\r\n                         .fetch();\r\n```\r\nNow that I have my results, I want to map them into a record `FilmActors`:\r\n```\r\npublic record FilmActors(UShort filmId, String title, List&lt;Actor&gt; actors) {\r\n    public record Actor(String firstName, String lastName) {\r\n    }\r\n}\r\n```\r\nIs there anyway to do this automatically, or with the help of a library like ModelMapper? I&#39;m wanting to avoid rolling a custom `RecordMapper` if possible. Thanks!\r\n\r\nI tried using jOOQ&#39;s built-in `Records` class, and tried to see if ModelMapper supports records.","title":"Is there a way to automatically map jOOQ records to Java records?","body":"<p>For this example, I am using the <a href=\"https://dev.mysql.com/doc/sakila/en/\" rel=\"nofollow noreferrer\">Sakila Sample Database</a>.</p>\n<p>Let's say I have a <code>Film</code> record as follows:</p>\n<pre><code>public record Film(UShort filmId, String title) {\n}\n</code></pre>\n<p>If I am reading films from jOOQ, I can easily map them to <code>Film</code> using the following:</p>\n<pre><code>List&lt;Film&gt; films = this.context.select(Tables.FILM.FILM_ID, Tables.FILM.TITLE)\n                               .from(Tables.FILM)\n                               .limit(10)\n                               .fetch(Records.mapping(Film::new));\n</code></pre>\n<p>Now let's say I want each film and the actors associated with it. For this, I decide to use <code>multiset</code>:</p>\n<pre><code>Set&lt;SelectField&lt;?&gt;&gt; readFields = Set.of(\n    Tables.FILM.FILM_ID,\n    Tables.FILM.TITLE,\n    DSL.multiset(\n        DSL.select(Tables.FILM_ACTOR.actor().FIRST_NAME, Tables.FILM_ACTOR.actor().LAST_NAME)\n           .from(Tables.FILM_ACTOR)\n           .where(Tables.FILM_ACTOR.FILM_ID.eq(Tables.FILM.FILM_ID))\n        )\n       .as(&quot;actors&quot;)\n);\n\nvar result = this.context.select(readFields)\n                         .from(Tables.FILM)\n                         .limit(10)\n                         .fetch();\n</code></pre>\n<p>Now that I have my results, I want to map them into a record <code>FilmActors</code>:</p>\n<pre><code>public record FilmActors(UShort filmId, String title, List&lt;Actor&gt; actors) {\n    public record Actor(String firstName, String lastName) {\n    }\n}\n</code></pre>\n<p>Is there anyway to do this automatically, or with the help of a library like ModelMapper? I'm wanting to avoid rolling a custom <code>RecordMapper</code> if possible. Thanks!</p>\n<p>I tried using jOOQ's built-in <code>Records</code> class, and tried to see if ModelMapper supports records.</p>\n"},{"tags":["java","multithreading","if-statement","parallel-processing"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":5,"creation_date":1673370094,"post_id":75073363,"comment_id":132481446,"body_markdown":"Make the variable `volatile` or use means of synchronization. Java doesn&#39;t gurantees visibility of variables between multiple threads without that.","body":"Make the variable <code>volatile</code> or use means of synchronization. Java doesn&#39;t gurantees visibility of variables between multiple threads without that."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673370540,"post_id":75073363,"comment_id":132481605,"body_markdown":"In addition to the visibility issue you might have a misconception in &quot;the if block executing whenever the other thread updates the shirt variable&quot;. Not knowing all of your code you seem to have one thread that constantly updates the shirt&#39;s color and one (the one you showed) that constantly checks it. That means the if-condition is checked many times until it finally becomes true. However, note that while you have 2 threads it&#39;s not guaranteed that they will be executed round-robin so you don&#39;t know when either of them will run.","body":"In addition to the visibility issue you might have a misconception in &quot;the if block executing whenever the other thread updates the shirt variable&quot;. Not knowing all of your code you seem to have one thread that constantly updates the shirt&#39;s color and one (the one you showed) that constantly checks it. That means the if-condition is checked many times until it finally becomes true. However, note that while you have 2 threads it&#39;s not guaranteed that they will be executed round-robin so you don&#39;t know when either of them will run."},{"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"score":0,"creation_date":1673370666,"post_id":75073363,"comment_id":132481640,"body_markdown":"@dan1st should i make it static too?","body":"@dan1st should i make it static too?"},{"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"score":0,"creation_date":1673370791,"post_id":75073363,"comment_id":132481684,"body_markdown":"@Thomas The other thread actually updates the shirt once","body":"@Thomas The other thread actually updates the shirt once"},{"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"score":0,"creation_date":1673371560,"post_id":75073363,"comment_id":132481924,"body_markdown":"@dan1st But doesn&#39;t volatile just provide the change to be seen immediately? In my case, I don&#39;t care for it to be like that. It is fine by me to see the update after a couple of while loops.","body":"@dan1st But doesn&#39;t volatile just provide the change to be seen immediately? In my case, I don&#39;t care for it to be like that. It is fine by me to see the update after a couple of while loops."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673372413,"post_id":75073363,"comment_id":132482231,"body_markdown":"The problem is that if the variable isn&#39;t `volatile`, there is no guarantee that the other thread ever sees the change, so it has to be volatile (or you need to use another way that establish a happens-before relationship between the threads).","body":"The problem is that if the variable isn&#39;t <code>volatile</code>, there is no guarantee that the other thread ever sees the change, so it has to be volatile (or you need to use another way that establish a happens-before relationship between the threads)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1673372442,"post_id":75073363,"comment_id":132482245,"body_markdown":"&quot;*It is fine by me to see the update after a couple of while loops*&quot; there is no guarantee *when* reading thread will *refresh* values it holds (or if it will refresh at all - like shown in first example). Using `volatile` solves this problem. This may interest you https://jenkov.com/tutorials/java-concurrency/volatile.html (I strongly recommend whole blog and YT channel of this guy)","body":"&quot;<i>It is fine by me to see the update after a couple of while loops</i>&quot; there is no guarantee <i>when</i> reading thread will <i>refresh</i> values it holds (or if it will refresh at all - like shown in first example). Using <code>volatile</code> solves this problem. This may interest you <a href=\"https://jenkov.com/tutorials/java-concurrency/volatile.html\" rel=\"nofollow noreferrer\">jenkov.com/tutorials/java-concurrency/volatile.html</a> (I strongly recommend whole blog and YT channel of this guy)"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1673372977,"post_id":75073363,"comment_id":132482424,"body_markdown":"Dupe: [Loop doesn&#39;t see value changed by other thread without a print statement](//stackoverflow.com/q/25425130). If you use sysout.println() or Thread.sleep is not a real difference in this context.","body":"Dupe: <a href=\"//stackoverflow.com/q/25425130\">Loop doesn&#39;t see value changed by other thread without a print statement</a>. If you use sysout.println() or Thread.sleep is not a real difference in this context."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673376661,"post_id":75073363,"comment_id":132483487,"body_markdown":"@codertryer `volatile` makes sure changes to a variable are immediately visible to other threads. Without it, the variable might never get &quot;published&quot; to other threads.","body":"@codertryer <code>volatile</code> makes sure changes to a variable are immediately visible to other threads. Without it, the variable might never get &quot;published&quot; to other threads."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1673382493,"post_id":75073363,"comment_id":132485217,"body_markdown":"Don&#39;t get the wrong idea from what those other guys are telling you about `volatile`. It is _one_ way to ensure that the change in `color` is seen by the other thread, but it is not the _only_ way. Another way would be through proper use of `synchronized` blocks or `ReentrantLock`. What those things all have in common is, they establish a &quot;[happens before](https://www.geeksforgeeks.org/happens-before-relationship-in-java/)&quot; relationship between the two threads. Anything that establishes &quot;happens before&quot; will ensure that the one thread can see what the other thread did.","body":"Don&#39;t get the wrong idea from what those other guys are telling you about <code>volatile</code>. It is <i>one</i> way to ensure that the change in <code>color</code> is seen by the other thread, but it is not the <i>only</i> way. Another way would be through proper use of <code>synchronized</code> blocks or <code>ReentrantLock</code>. What those things all have in common is, they establish a &quot;<a href=\"https://www.geeksforgeeks.org/happens-before-relationship-in-java/\" rel=\"nofollow noreferrer\">happens before</a>&quot; relationship between the two threads. Anything that establishes &quot;happens before&quot; will ensure that the one thread can see what the other thread did."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673394849,"post_id":75073363,"comment_id":132488201,"body_markdown":"Like [Solomon Slow said](https://stackoverflow.com/questions/75073363/a-variables-update-that-is-done-by-a-different-thread-is-not-seen-in-a-whiletr#comment132485217_75073363), there are multiple solutions. Another, and my preference, is [`AtomicBoolean`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html). To learn about Java concurrency, see [this book](https://jcip.net/).","body":"Like <a href=\"https://stackoverflow.com/questions/75073363/a-variables-update-that-is-done-by-a-different-thread-is-not-seen-in-a-whiletr#comment132485217_75073363\">Solomon Slow said</a>, there are multiple solutions. Another, and my preference, is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a>. To learn about Java concurrency, see <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\">this book</a>."}],"owner":{"account_id":19117300,"reputation":369,"user_id":13961939,"display_name":"codertryer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673372509,"answer_count":0,"score":0,"last_activity_date":1673372374,"creation_date":1673369758,"question_id":75073363,"body_markdown":"I am working on a very simple Java code to get some experience on threads. `shirt` is a variable that has a `color` attribute.\r\n\r\n    while(true){ \r\n        if (shirt.isColorBlue()) {           \r\n            System.out.println(&quot;The shirt is finally blue.&quot;);\r\n        }\r\n    }\r\n\r\nDuring the while loop above, a thread that is running in parallel updates the `shirt`&#39;s color. However, inside of the if block never executes. I did some alterations to see some other conditions:\r\n\r\n    while(true){ \r\n        if (shirt.isColorBlue()) {           \r\n            System.out.println(&quot;The shirt is finally blue.&quot;);\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(1000);\r\n        }  catch (InterruptedException e) { }   \r\n    }\r\n\r\nIf I do it like above, the code works (inside the if block gets executed). From this, I understand that the other thread updates the shirt variable after the while starts to iterate. But shouldn&#39;t it be still okay since the ideal scenario is &quot;the while looping many many times and the if block executing whenever the other thread updates the shirt variable&quot;? \r\n\r\n","title":"A variable&#39;s update that is done by a different thread is not seen in a while(true) loop","body":"<p>I am working on a very simple Java code to get some experience on threads. <code>shirt</code> is a variable that has a <code>color</code> attribute.</p>\n<pre><code>while(true){ \n    if (shirt.isColorBlue()) {           \n        System.out.println(&quot;The shirt is finally blue.&quot;);\n    }\n}\n</code></pre>\n<p>During the while loop above, a thread that is running in parallel updates the <code>shirt</code>'s color. However, inside of the if block never executes. I did some alterations to see some other conditions:</p>\n<pre><code>while(true){ \n    if (shirt.isColorBlue()) {           \n        System.out.println(&quot;The shirt is finally blue.&quot;);\n    }\n\n    try {\n        Thread.sleep(1000);\n    }  catch (InterruptedException e) { }   \n}\n</code></pre>\n<p>If I do it like above, the code works (inside the if block gets executed). From this, I understand that the other thread updates the shirt variable after the while starts to iterate. But shouldn't it be still okay since the ideal scenario is &quot;the while looping many many times and the if block executing whenever the other thread updates the shirt variable&quot;?</p>\n"},{"tags":["java","mongodb","deployment","maven-plugin","wildfly-10"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1474410399,"post_id":39586215,"comment_id":66517760,"body_markdown":"It looks like somewhere you&#39;re referencing a module called `com.redhat.lightblue`, but you haven&#39;t defined the module. Have a look at https://docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly. You can install a module with the CLI `module add` command.","body":"It looks like somewhere you&#39;re referencing a module called <code>com.redhat.lightblue</code>, but you haven&#39;t defined the module. Have a look at <a href=\"https://docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly\" rel=\"nofollow noreferrer\">docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly</a>. You can install a module with the CLI <code>module add</code> command."}],"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673371783,"creation_date":1474348805,"question_id":39586215,"body_markdown":"[What is LightBlue?][1] \r\n\r\nThis is the error I am getting : \r\n\r\n    10:34:15,886 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main\r\n    \tat org.jboss.modules.Module.addPaths(Module.java:1093)\r\n    \tat org.jboss.modules.Module.link(Module.java:1449)\r\n    \tat org.jboss.modules.Module.relinkIfNecessary(Module.java:1477)\r\n    \tat org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:225)\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:68)\r\n    \t... 5 more\r\n    \r\n    10:34:15,888 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 64) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\r\n        Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    10:34:15,888 ERROR [org.jboss.as.server] (management-handler-thread - 64) WFLYSRV0021: Deploy of deployment &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \r\n    {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\r\n        Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n\r\nI have found some solutions that are telling me to add `module.xml` but I don&#39;t know exactly where to add that and what should be the content of `module.xml` for light blue.\r\n\r\nI am very new in wildfly deployment it will great help if anyone comes up with a solution.\r\n\r\nDoes anyone with the same error as mine? \r\n\r\n\r\n  [1]: https://github.com/lightblue-platform/lightblue-rest","title":"Getting error while deploying lightblue on WildFly 10.1.0","body":"<p><a href=\"https://github.com/lightblue-platform/lightblue-rest\" rel=\"nofollow noreferrer\">What is LightBlue?</a></p>\n<p>This is the error I am getting :</p>\n<pre><code>10:34:15,886 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main\n    at org.jboss.modules.Module.addPaths(Module.java:1093)\n    at org.jboss.modules.Module.link(Module.java:1449)\n    at org.jboss.modules.Module.relinkIfNecessary(Module.java:1477)\n    at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:225)\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:68)\n    ... 5 more\n\n10:34:15,888 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 64) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\n    Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n10:34:15,888 ERROR [org.jboss.as.server] (management-handler-thread - 64) WFLYSRV0021: Deploy of deployment &quot;lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \n{\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main: WFLYSRV0179: Failed to load module: deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war:main\n    Caused by: org.jboss.modules.ModuleNotFoundException: com.redhat.lightblue:main&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.module.service.\\&quot;deployment.lightblue-rest-crud-basic-auth-2.10.0-SNAPSHOT.war\\&quot;.main&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n</code></pre>\n<p>I have found some solutions that are telling me to add <code>module.xml</code> but I don't know exactly where to add that and what should be the content of <code>module.xml</code> for light blue.</p>\n<p>I am very new in wildfly deployment it will great help if anyone comes up with a solution.</p>\n<p>Does anyone with the same error as mine?</p>\n"},{"tags":["java","sql-server","spring","query-notifications"],"comments":[{"owner":{"account_id":1292806,"reputation":177,"user_id":1244555,"accept_rate":54,"display_name":"dodjavola"},"score":0,"creation_date":1400082035,"post_id":23659038,"comment_id":36340438,"body_markdown":"Yea, I understand, but that&#39;s just an example. My question is if SQL Server Query Notifications can be implemented in JAVA at all?","body":"Yea, I understand, but that&#39;s just an example. My question is if SQL Server Query Notifications can be implemented in JAVA at all?"}],"answers":[{"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1400083515,"creation_date":1400083515,"answer_id":23659781,"question_id":23659038,"body_markdown":"You want to listen to SQL server notifications. You can configure MSSql Server to notify a Broker. There is [Apache ActiveMQ][1] as an open source solution. So you need to connect MSSql Server to your broker and use JMS implementation to listen &amp; retrieve notifications in java from the broker. \r\n\r\nThe question now is : is it possible to connect MSSql Server to any broker ? I will search for that and comeback to you.\r\n\r\n\r\n  [1]: http://activemq.apache.org/","title":"SQL Server Query Notifications in Java","body":"<p>You want to listen to SQL server notifications. You can configure MSSql Server to notify a Broker. There is <a href=\"http://activemq.apache.org/\" rel=\"noreferrer\">Apache ActiveMQ</a> as an open source solution. So you need to connect MSSql Server to your broker and use JMS implementation to listen &amp; retrieve notifications in java from the broker. </p>\n\n<p>The question now is : is it possible to connect MSSql Server to any broker ? I will search for that and comeback to you.</p>\n"}],"owner":{"account_id":1292806,"reputation":177,"user_id":1244555,"accept_rate":54,"display_name":"dodjavola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5656,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":23659781,"answer_count":1,"score":5,"last_activity_date":1673371654,"creation_date":1400081423,"question_id":23659038,"body_markdown":"I&#39;ve been searching online for a while, but with no luck so far. Is it possible to implement this in Java http://www.codeproject.com/Articles/144344/Query-Notification-using-SqlDependency-and-SqlCach? Is it supported by JDBC for SQL Server 2012? ","title":"SQL Server Query Notifications in Java","body":"<p>I've been searching online for a while, but with no luck so far. Is it possible to implement this in Java <a href=\"http://www.codeproject.com/Articles/144344/Query-Notification-using-SqlDependency-and-SqlCach\" rel=\"nofollow noreferrer\">http://www.codeproject.com/Articles/144344/Query-Notification-using-SqlDependency-and-SqlCach</a>? Is it supported by JDBC for SQL Server 2012?</p>\n"},{"tags":["java","design-patterns","hibernate-validator","spring-validator"],"comments":[{"owner":{"account_id":2998260,"reputation":1246,"user_id":2544318,"accept_rate":76,"display_name":"Tore"},"score":4,"creation_date":1606196282,"post_id":64980788,"comment_id":114882006,"body_markdown":"Sounds like something your code reviewer should answer, if they are requesting it","body":"Sounds like something your code reviewer should answer, if they are requesting it"},{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":0,"creation_date":1606196500,"post_id":64980788,"comment_id":114882058,"body_markdown":"Maybe something from here can help you https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern","body":"Maybe something from here can help you <a href=\"https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern\" title=\"replacing if else statement with pattern\">stackoverflow.com/questions/28049094/&hellip;</a>"},{"owner":{"account_id":7133508,"reputation":1171,"user_id":5784051,"display_name":"Xwtek"},"score":0,"creation_date":1606196529,"post_id":64980788,"comment_id":114882066,"body_markdown":"It seems like something other than if/else is problematic, which in this case, you should ask the reviewer why.","body":"It seems like something other than if/else is problematic, which in this case, you should ask the reviewer why."},{"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"score":0,"creation_date":1606196639,"post_id":64980788,"comment_id":114882096,"body_markdown":"He just vaguely asked me to identify suitable design pattern for this scenario. Or come up with my own pattern. Honestly, I am aware of only a few design patterns. But not exactly sure on what to do to completely avoid if/else especially in validations. I was not able to find much resources online for design patterns for validations that completely avoids if/else @ToreHanssen","body":"He just vaguely asked me to identify suitable design pattern for this scenario. Or come up with my own pattern. Honestly, I am aware of only a few design patterns. But not exactly sure on what to do to completely avoid if/else especially in validations. I was not able to find much resources online for design patterns for validations that completely avoids if/else @ToreHanssen"},{"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"score":0,"creation_date":1606196855,"post_id":64980788,"comment_id":114882141,"body_markdown":"@Xwtek he feels that there are few more scenarios coming on the way and he feels that this if/else would keep growing","body":"@Xwtek he feels that there are few more scenarios coming on the way and he feels that this if/else would keep growing"},{"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"score":0,"creation_date":1606196973,"post_id":64980788,"comment_id":114882174,"body_markdown":"@Jabir The design pattern using enum looks more suitable. Thanks for the link! Will post my solution and close this. Thanks everyone for the comments","body":"@Jabir The design pattern using enum looks more suitable. Thanks for the link! Will post my solution and close this. Thanks everyone for the comments"}],"answers":[{"tags":[],"owner":{"account_id":26894,"reputation":100239,"user_id":70386,"accept_rate":84,"display_name":"jgauffin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1606211781,"creation_date":1606211781,"answer_id":64984068,"question_id":64980788,"body_markdown":"A long time ago, in the beginning of time. There was a guideline that said that methods should only have one exit point. To achieve that, developers had to track the local state and use if/else to be able to reach the end of the method.\r\n\r\nToday we know better. By exiting a method as early as possible it&#39;s much easier to keep the entire flow in our head while reading the code. Easier code means less mistakes. Less mistakes equals less bugs.\r\n\r\nIn my opinion, that&#39;s why the reviewer doesn&#39;t like the code. It&#39;s not as easy to read as it could be.\r\n\r\nLet&#39;s take the first example:\r\n\r\n     public boolean isValid(UUID uuid, ConstraintValidationContext context) {\r\n\r\n             return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn&#39;t want this negation operator\r\n      }\r\n\r\nWhat the code says is &quot;not this: (uuid should not be empty and it must exist)&quot;. Is that easy to understand? I think not.\r\n\r\nThe alternative: &quot;Its OK if uuid do not exist, but if it do, the item may not exist&quot;.\r\n\r\nOr in code:\r\n\r\n```\r\nif (uuid == null) return true;\r\nreturn !someRepository.existsById(uuid);\r\n```\r\n\r\nMuch easier to read, right? (I hope that I got the intention correct ;))\r\n\r\n**Second example**\r\n\r\n          if(someObject.getFieldA() != null) { //He doesn&#39;t want this if statement\r\n                //do some operations\r\n                List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\r\n                return !someList.isEmpty(); //He doesn&#39;t want this ! operator\r\n           }\r\n           return false; // He was not fine with else statement in here as well\r\n\r\nOk. Here you are saying:\r\n\r\n* If field A is not null:\r\n  * Build a list where A and b is found\r\n  * If that list is not empty fail, otherwise succeed.\r\n* Otherwise fail\r\n\r\nA easier way to conclude that is to simply say:\r\n\r\n* It&#39;s ok if field A is not specified\r\n* If field A is specified it must exist in combination with B.\r\n\r\nTranslated to code:\r\n\r\n    if (someObject.getFieldA() == null) \r\n        return true;\r\n\r\n    return !someRepository.findByAAndB(someObject.getFieldA(),B).isEmpty();\r\n\r\nIn C# we have `Any()` which is opposite to `isEmpty` which I would prefer in this case as it removes the negation.\r\n\r\nSometimes negations are required. It doesn&#39;t make sense to write a new method in the repository to avoid it. However, if `findByAAndB` is only used by this I would rename it to `ensureCombination(a,b)` so that it can return true for the valid case.\r\n\r\nTry to write code as you talk, it makes it much easier to create a mental picture of the code then. You aren&#39;t saying &quot;Im not full, lets go to lunch&quot;, are you? ;)","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>A long time ago, in the beginning of time. There was a guideline that said that methods should only have one exit point. To achieve that, developers had to track the local state and use if/else to be able to reach the end of the method.</p>\n<p>Today we know better. By exiting a method as early as possible it's much easier to keep the entire flow in our head while reading the code. Easier code means less mistakes. Less mistakes equals less bugs.</p>\n<p>In my opinion, that's why the reviewer doesn't like the code. It's not as easy to read as it could be.</p>\n<p>Let's take the first example:</p>\n<pre><code> public boolean isValid(UUID uuid, ConstraintValidationContext context) {\n\n         return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn't want this negation operator\n  }\n</code></pre>\n<p>What the code says is &quot;not this: (uuid should not be empty and it must exist)&quot;. Is that easy to understand? I think not.</p>\n<p>The alternative: &quot;Its OK if uuid do not exist, but if it do, the item may not exist&quot;.</p>\n<p>Or in code:</p>\n<pre><code>if (uuid == null) return true;\nreturn !someRepository.existsById(uuid);\n</code></pre>\n<p>Much easier to read, right? (I hope that I got the intention correct ;))</p>\n<p><strong>Second example</strong></p>\n<pre><code>      if(someObject.getFieldA() != null) { //He doesn't want this if statement\n            //do some operations\n            List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\n            return !someList.isEmpty(); //He doesn't want this ! operator\n       }\n       return false; // He was not fine with else statement in here as well\n</code></pre>\n<p>Ok. Here you are saying:</p>\n<ul>\n<li>If field A is not null:\n<ul>\n<li>Build a list where A and b is found</li>\n<li>If that list is not empty fail, otherwise succeed.</li>\n</ul>\n</li>\n<li>Otherwise fail</li>\n</ul>\n<p>A easier way to conclude that is to simply say:</p>\n<ul>\n<li>It's ok if field A is not specified</li>\n<li>If field A is specified it must exist in combination with B.</li>\n</ul>\n<p>Translated to code:</p>\n<pre><code>if (someObject.getFieldA() == null) \n    return true;\n\nreturn !someRepository.findByAAndB(someObject.getFieldA(),B).isEmpty();\n</code></pre>\n<p>In C# we have <code>Any()</code> which is opposite to <code>isEmpty</code> which I would prefer in this case as it removes the negation.</p>\n<p>Sometimes negations are required. It doesn't make sense to write a new method in the repository to avoid it. However, if <code>findByAAndB</code> is only used by this I would rename it to <code>ensureCombination(a,b)</code> so that it can return true for the valid case.</p>\n<p>Try to write code as you talk, it makes it much easier to create a mental picture of the code then. You aren't saying &quot;Im not full, lets go to lunch&quot;, are you? ;)</p>\n"},{"tags":[],"owner":{"account_id":3782879,"reputation":24895,"user_id":3141792,"display_name":"BionicCode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606670888,"creation_date":1606670570,"answer_id":65062932,"question_id":64980788,"body_markdown":"You can check the Null-object pattern.\r\nThe general pattern is to ban `null` completely from your code. This eliminates the ugly `null` checks. In this point I agree with your code reviewer.\r\n\r\nFollowing the below recommendations will result in:\r\n\r\n    public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\r\n      return someRepository.containsAAndB(someObject.getFieldA(), B);\r\n    }\r\n\r\nAvoid null checks\r\n-----------------\r\n\r\nBefore introducing the Null-object pattern, simply apply the pattern or convention to enforce initialization of all references. This way you can be sure that there are no `null` references in your entire code.  \r\nSo when you encounter a `NullPointerException`, you don&#39;t solve the issue by introducing a `null` check, but by initializing the reference (on construction) e.g., by using default values, empty collections or null objects.\r\n\r\nMost modern languages support code analysis via annotations like `@NonNull` that checks references like arguments and will throw an exception, when a parameter is `null`/not initialized. `javax.annotation` for instance provides such annotations.\r\n\r\n    public void operation(@NonNull Object param) {\r\n\t    param.toString(); // Guaranteed to be not null\r\n\t}\r\n\r\nUsing such annotations can guard library code against null arguments.\r\n\r\nNull-Object Pattern\r\n-------------------\r\nInstead of having `null` references, you initialize each reference with a meaningful value or a dedicated null-object:\r\n\r\nDefine the Null-object contract (not required):\r\n\r\n    interface NullObject {\r\n      public boolean getIsNull();\r\n    }\r\n\r\nDefine a base type:\r\n\r\n    abstract class Account {\r\n      private double value;\r\n      private List&lt;Owner&gt; owners;\r\n    \r\n      // Getters/setters    \r\n    }\r\n\r\nDefine the Null-object:\r\n\r\n    class NullAccount extends Account implements NullObject {\r\n    \r\n      // Initialize ALL attributes with meaningful and *neutral* values\r\n      public NullAccount() {\r\n        setValue(0); // \r\n        setOwners(new ArrayList&lt;Owner&gt;())\r\n\r\n      @Override\r\n      public boolean getIsNull() {\r\n        return true;\r\n      }\r\n    }\r\n\r\nDefine the default implementation:\r\n\r\n    class AccountImpl extends Account implements NullObject {\r\n\r\n      @Override\r\n      public boolean getIsNull() {\r\n        return true;\r\n      }    \r\n    }\r\n\r\nInitialize all `Account` references using the `NullAccount` class:\r\n\r\n    class Employee  {\r\n      private Account Account;\r\n    \r\n      public Employee() {\r\n        setAccount(new NullAccount());\r\n      }\r\n    }\r\n\r\nOr use the `NullAccount` to return a failed state instance (or default) instead of returning `null`:\r\n\r\n    public Account findAccountOf(Owner owner) {\r\n      if (notFound) {\r\n        return new NullAccount();\r\n      }\r\n    }\r\n\r\n    public void testNullAccount() {\r\n      Account result = findAccountOf(null); // Returns a NullAccount\r\n      \r\n      // The Null-object is neutral. We can use it without null checking.\r\n      // result.getOwners() always returns \r\n      // an empty collection (NullAccount) =&gt; no iteration =&gt; neutral behavior\r\n      for (Owner owner : result.getOwners()) {\r\n        double total += result.getvalue(); // No side effect.\r\n      }\r\n    }\r\n      \r\n\r\nTry-Do Pattern\r\n------\r\n\r\nAnother pattern you can use is the Try-Do pattern. Instead of testing the result of an operation you simply test the operation itself. The operation is responsible to return whether the operation was successful or not.\r\n\r\nWhen searching a text for a string, it might be more convenient to return a boolean whether the result was found instead of returning an empty string or even worse `null`:\r\n\r\n    public boolean tryFindInText(String source, String searchKey, SearchResult result) {\r\n      int matchIndex = source.indexOf(searchKey);\r\n      result.setMatchIndex(matchIndex);\r\n      return matchIndex &gt; 0;\r\n    }\r\n    \r\n    public void useTryDo() {\r\n      SearchResult result = new Searchresult();\r\n      if (tryFindInText(&quot;Example text&quot;, &quot;ample&quot;, result) {\r\n        int index = result.getMatchIndex();\r\n      }\r\n    }\r\n\r\nIn your special case, you can replace the `findByAAndB()` with an `containsAAndB() : boolean` implementation.\r\n\r\n \r\n\r\n----------\r\n\r\n\r\nCombining the patterns\r\n--------\r\nThe final solution implements the Null-Object pattern and refactors the find method. The result of the original `findByAAndB()` was discarded before, since you wanted to test the existence of  `A` and `B`. A alternative method `public boolean contains()` will improve your code.  \r\nThe refactored implementation looks as followed:\r\n\r\n    abstract class FieldA {\r\n    \r\n    }\r\n    \r\n    class NullFieldA {\r\n    \r\n    }\r\n    \r\n    class FieldAImpl {\r\n    \r\n    }\r\n    \r\n    class SomeClass {\r\n    \r\n      public SomeClass() {\r\n        setFieldA(new NullFieldA());\r\n      }\r\n    }\r\n\r\n  \r\nThe improved validation:\r\n\r\n    public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\r\n      return someRepository.containsAAndB(someObject.getFieldA(), B);\r\n    }\r\n","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>You can check the Null-object pattern.\nThe general pattern is to ban <code>null</code> completely from your code. This eliminates the ugly <code>null</code> checks. In this point I agree with your code reviewer.</p>\n<p>Following the below recommendations will result in:</p>\n<pre><code>public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\n  return someRepository.containsAAndB(someObject.getFieldA(), B);\n}\n</code></pre>\n<h2>Avoid null checks</h2>\n<p>Before introducing the Null-object pattern, simply apply the pattern or convention to enforce initialization of all references. This way you can be sure that there are no <code>null</code> references in your entire code.<br />\nSo when you encounter a <code>NullPointerException</code>, you don't solve the issue by introducing a <code>null</code> check, but by initializing the reference (on construction) e.g., by using default values, empty collections or null objects.</p>\n<p>Most modern languages support code analysis via annotations like <code>@NonNull</code> that checks references like arguments and will throw an exception, when a parameter is <code>null</code>/not initialized. <code>javax.annotation</code> for instance provides such annotations.</p>\n<pre><code>public void operation(@NonNull Object param) {\n    param.toString(); // Guaranteed to be not null\n}\n</code></pre>\n<p>Using such annotations can guard library code against null arguments.</p>\n<h2>Null-Object Pattern</h2>\n<p>Instead of having <code>null</code> references, you initialize each reference with a meaningful value or a dedicated null-object:</p>\n<p>Define the Null-object contract (not required):</p>\n<pre><code>interface NullObject {\n  public boolean getIsNull();\n}\n</code></pre>\n<p>Define a base type:</p>\n<pre><code>abstract class Account {\n  private double value;\n  private List&lt;Owner&gt; owners;\n\n  // Getters/setters    \n}\n</code></pre>\n<p>Define the Null-object:</p>\n<pre><code>class NullAccount extends Account implements NullObject {\n\n  // Initialize ALL attributes with meaningful and *neutral* values\n  public NullAccount() {\n    setValue(0); // \n    setOwners(new ArrayList&lt;Owner&gt;())\n\n  @Override\n  public boolean getIsNull() {\n    return true;\n  }\n}\n</code></pre>\n<p>Define the default implementation:</p>\n<pre><code>class AccountImpl extends Account implements NullObject {\n\n  @Override\n  public boolean getIsNull() {\n    return true;\n  }    \n}\n</code></pre>\n<p>Initialize all <code>Account</code> references using the <code>NullAccount</code> class:</p>\n<pre><code>class Employee  {\n  private Account Account;\n\n  public Employee() {\n    setAccount(new NullAccount());\n  }\n}\n</code></pre>\n<p>Or use the <code>NullAccount</code> to return a failed state instance (or default) instead of returning <code>null</code>:</p>\n<pre><code>public Account findAccountOf(Owner owner) {\n  if (notFound) {\n    return new NullAccount();\n  }\n}\n\npublic void testNullAccount() {\n  Account result = findAccountOf(null); // Returns a NullAccount\n  \n  // The Null-object is neutral. We can use it without null checking.\n  // result.getOwners() always returns \n  // an empty collection (NullAccount) =&gt; no iteration =&gt; neutral behavior\n  for (Owner owner : result.getOwners()) {\n    double total += result.getvalue(); // No side effect.\n  }\n}\n  \n</code></pre>\n<h2>Try-Do Pattern</h2>\n<p>Another pattern you can use is the Try-Do pattern. Instead of testing the result of an operation you simply test the operation itself. The operation is responsible to return whether the operation was successful or not.</p>\n<p>When searching a text for a string, it might be more convenient to return a boolean whether the result was found instead of returning an empty string or even worse <code>null</code>:</p>\n<pre><code>public boolean tryFindInText(String source, String searchKey, SearchResult result) {\n  int matchIndex = source.indexOf(searchKey);\n  result.setMatchIndex(matchIndex);\n  return matchIndex &gt; 0;\n}\n\npublic void useTryDo() {\n  SearchResult result = new Searchresult();\n  if (tryFindInText(&quot;Example text&quot;, &quot;ample&quot;, result) {\n    int index = result.getMatchIndex();\n  }\n}\n</code></pre>\n<p>In your special case, you can replace the <code>findByAAndB()</code> with an <code>containsAAndB() : boolean</code> implementation.</p>\n<hr />\n<h2>Combining the patterns</h2>\n<p>The final solution implements the Null-Object pattern and refactors the find method. The result of the original <code>findByAAndB()</code> was discarded before, since you wanted to test the existence of  <code>A</code> and <code>B</code>. A alternative method <code>public boolean contains()</code> will improve your code.<br />\nThe refactored implementation looks as followed:</p>\n<pre><code>abstract class FieldA {\n\n}\n\nclass NullFieldA {\n\n}\n\nclass FieldAImpl {\n\n}\n\nclass SomeClass {\n\n  public SomeClass() {\n    setFieldA(new NullFieldA());\n  }\n}\n</code></pre>\n<p>The improved validation:</p>\n<pre><code>public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\n  return someRepository.containsAAndB(someObject.getFieldA(), B);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7504119,"reputation":25,"user_id":5701314,"display_name":"Nikolas Leontiou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673371558,"creation_date":1673371558,"answer_id":75073700,"question_id":64980788,"body_markdown":"You can try this\r\n\r\n    return Optional.ofNullable(uuid)\r\n            .map(someRepository::existsById)\r\n            .orElse(false);","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>You can try this</p>\n<pre><code>return Optional.ofNullable(uuid)\n        .map(someRepository::existsById)\n        .orElse(false);\n</code></pre>\n"}],"owner":{"account_id":20047273,"reputation":65,"user_id":14696656,"display_name":"Jammy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1509,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64984068,"answer_count":3,"score":2,"last_activity_date":1673371558,"creation_date":1606196157,"question_id":64980788,"body_markdown":"I am currently using HibernateConstraintValidator to implement my validations. But my reviewer is not fine with having if/else in code or ! operators. Which design pattern can I use to remove the if/else in my validation logic?\r\n``` \r\npublic class SomeValidatorX implements ConstraintValidator&lt;SomeAnnotation, UUID&gt; {\r\n\r\n      @Autowired\r\n      SomeRepository someRepository;\r\n   \r\n      @Override\r\n      public boolean isValid(UUID uuid, ConstraintValidationContext context) {\r\n\r\n             return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn&#39;t want this negation operator\r\n      }\r\n}\r\n\r\n```\r\n\r\nAnd in below code, he doesn&#39;t want if/else\r\n\r\n``` \r\npublic class SomeValidatorY implements ConstraintValidator&lt;SomeAnnotation, SomeClass&gt; {\r\n\r\n      @Autowired\r\n      SomeRepository someRepository;\r\n   \r\n      @Override\r\n      public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\r\n           if(someObject.getFieldA() != null) { //He doesn&#39;t want this if statement\r\n                //do some operations\r\n                List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\r\n                return !someList.isEmpty(); //He doesn&#39;t want this ! operator\r\n           }\r\n           return false; // He was not fine with else statement in here as well\r\n      }\r\n}\r\n\r\n```\r\n\r\nSide Note: We have to use Domain Driven Design (if it helps)\r\n","title":"Which design pattern to use to avoid if/else in validation classes?","body":"<p>I am currently using HibernateConstraintValidator to implement my validations. But my reviewer is not fine with having if/else in code or ! operators. Which design pattern can I use to remove the if/else in my validation logic?</p>\n<pre><code>public class SomeValidatorX implements ConstraintValidator&lt;SomeAnnotation, UUID&gt; {\n\n      @Autowired\n      SomeRepository someRepository;\n   \n      @Override\n      public boolean isValid(UUID uuid, ConstraintValidationContext context) {\n\n             return !(uuid!=null &amp;&amp; someRepository.existsById(uuid)); //The reviewer doesn't want this negation operator\n      }\n}\n\n</code></pre>\n<p>And in below code, he doesn't want if/else</p>\n<pre><code>public class SomeValidatorY implements ConstraintValidator&lt;SomeAnnotation, SomeClass&gt; {\n\n      @Autowired\n      SomeRepository someRepository;\n   \n      @Override\n      public boolean isValid(SomeClass someObject, ConstraintValidationContext context) {\n           if(someObject.getFieldA() != null) { //He doesn't want this if statement\n                //do some operations\n                List&lt;Something&gt; someList = someRepository.findByAAndB(someObject.getFieldA(),B);\n                return !someList.isEmpty(); //He doesn't want this ! operator\n           }\n           return false; // He was not fine with else statement in here as well\n      }\n}\n\n</code></pre>\n<p>Side Note: We have to use Domain Driven Design (if it helps)</p>\n"},{"tags":["java","maven","hbase"],"comments":[{"owner":{"account_id":16569855,"reputation":11,"user_id":11973307,"display_name":"Kalyani Mvn"},"score":0,"creation_date":1673331864,"post_id":74949214,"comment_id":132468830,"body_markdown":"i added  hbase config code above.Please check and do the  needful","body":"i added  hbase config code above.Please check and do the  needful"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673371565,"post_id":74949214,"comment_id":132481927,"body_markdown":"The shown code doesn&#39;t use spring-data, or spring-boot at all. So, you should remove it from your dependencies. Asking for external resources or someone to write SpringBoot code for you is off-topic for Stackoverflow","body":"The shown code doesn&#39;t use spring-data, or spring-boot at all. So, you should remove it from your dependencies. Asking for external resources or someone to write SpringBoot code for you is off-topic for Stackoverflow"}],"owner":{"account_id":16569855,"reputation":11,"user_id":11973307,"display_name":"Kalyani Mvn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673371495,"creation_date":1672305180,"question_id":74949214,"body_markdown":"I have requirement like ,i need to connect hadoop-hbase in my spring boot code.I have done many examples.But i unable to connect hadoop system.Can you please share working sampleproj hadoop with hbase project using spring boot.\r\n\r\n\r\n&gt;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;feedService&#39;: Unsatisfied dependency expressed through field &#39;hbaseTemplate&#39;: Error creating bean with name &#39;hbaseTemplate&#39; defined in class path resource \\[com/example/demo/HbaseConfig.class\\]: Failed to instantiate \\[org.springframework.data.hadoop.hbase.HbaseTemplate\\]: Factory method &#39;hbaseTemplate&#39; threw exception with message: org/apache/hadoop/hbase/client/HTableInterface\\*\\*\r\n\r\nThanks in Advance...\r\n\r\n```\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-hadoop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hbase&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n]\r\n```\r\nHbase config class\r\n\r\n   \r\npublic class HConnection {\r\n\r\n\tprivate String hbasezookeeperquorum = &quot;PRODDMSDN04&quot;;// ,proddmsdn02,proddmsdn01\r\n\tprivate String hbasezookeeperpropertyclientPort = &quot;2181&quot;;\r\n\tprivate String hbasemaster = &quot;proddmsdn01:16010&quot;;\r\n\tprivate String zookeeperznodeparent = &quot;/hbase-unsecure&quot;;\r\n\r\n\tprivate String dmshbasetable=&quot;DMSMASTER&quot;;\r\n\tprivate String dmshbasetableimgfamily=&quot;img&quot;;\r\n\tprivate String  dmshbasetabledatafamily=&quot;data&quot;;\r\n\tprivate String  dmshbasetablemetafamily=&quot;meta&quot;;\r\n\t static Configuration conf;\r\n\t \r\n\t static Connection connection;\r\n\t private String dmsid=&quot;1a2c3e0e-8363-4e94-87c9-701029933b37&quot;;\r\n\tprivate Connection newConnection() {\r\n\t\t\r\n\r\n\t\t Connection conn = null;\r\n\t\t\ttry {\r\n\t\t\t\tconf = HBaseConfiguration.create();\r\n\t\t\t\tconf.set(&quot;hbase.zookeeper.quorum&quot;, hbasezookeeperquorum);\r\n\t\t\t\tconf.set(&quot;hbase.zookeeper.property.clientPort&quot;, hbasezookeeperpropertyclientPort);\r\n\t\t\t\tconf.set(&quot;hbase.master&quot;, hbasemaster);\r\n\t\t\t\tconf.set(&quot;zookeeper.znode.parent&quot;, zookeeperznodeparent);\r\n\t\t\t\tconn = ConnectionFactory.createConnection(conf);\r\n\t\t\t\tSystem.out.println(&quot;conn&quot; + conn.getConfiguration());\r\n\t\t\t\t// Instantiate configuration class\r\n\t\t\t\t// Instantiate configuration class\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\treturn conn;\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException, URISyntaxException, Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t//String fileName = &quot;DMSMASTER&quot;;\r\n\r\n\t\tSystem.out.println(&quot;Connecting to Hadoop-------&gt;&quot;);\r\n\r\n\t\r\n\r\n\t\t connection=new HConnection().newConnection();\r\n\t\t\r\n\t\t FileSystem fileSystem = FileSystem.get(conf);\r\n\r\n\t\tif (fileSystem instanceof DistributedFileSystem) {\r\n\t\t\tSystem.out.println(&quot;HDFS is the underlying filesystem&quot;);\r\n\t\t\tHashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\t// Connection connection=new HConnection().afterPropertiesSet();\r\n\r\n\t\t\t//new HConnection().searchData(connection);\r\n\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Other type of file system &quot; + fileSystem.getClass());\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Filesystem connected-------&gt;&quot;);\r\n\t\t\t\r\n\r\n\t\t\r\n\t}\r\n\tArrayList&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\t\r\n\r\n\tpublic Optional&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; searchMetaData(Map&lt;String, String&gt; searchParams)\r\n\t\t\tthrows IOException {\r\n\t\t\r\n\t\tSystem.out.println(&quot;searchParams--------------&gt;&quot;+searchParams);\r\n\t\t\r\n\t\r\n\t\tTableName tablename = TableName.valueOf(dmshbasetable);\r\n\t\tTable table = connection.getTable(tablename);\r\n\t\tSystem.out.println(&quot;Connecting table--------------&gt;&quot;+table);\r\n\t\tScan scan = new Scan();\r\n\t\tscan.addFamily(Bytes.toBytes(dmshbasetabledatafamily));\r\n\t\tscan.addFamily(Bytes.toBytes(dmshbasetablemetafamily));\r\n\t\tFilterList allFilters = new FilterList(new Filter[0]);\r\n\t\tfor (Map.Entry&lt;String, String&gt; entry : searchParams.entrySet()) {\r\n\t\t\tSingleColumnValueFilter filter = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetablemetafamily),\r\n\t\t\t\t\tBytes.toBytes(entry.getKey()), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(entry.getValue()));\r\n\t\t\tallFilters.addFilter((Filter) filter);\r\n\t\t}\r\n\t\tSingleColumnValueFilter filter2 = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetabledatafamily),\r\n\t\t\t\tBytes.toBytes(&quot;status&quot;), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(&quot;1&quot;));\r\n\t\tallFilters.addFilter((Filter) filter2);\r\n\t\tscan.setFilter((Filter) allFilters);\r\n\t\tResultScanner resultScanner = table.getScanner(scan);\r\n\t\tIterator&lt;Result&gt; arr = resultScanner.iterator();\r\n\t\tlist = new ArrayList&lt;&gt;();\r\n\t\twhile (arr.hasNext()) {\r\n\t\t\tGet g = new Get(((Result) arr.next()).getRow());\r\n\t\t\tResult result = table.get(g);\r\n\t\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\tNavigableMap&lt;byte[], byte[]&gt; data = result.getFamilyMap(Bytes.toBytes(dmshbasetabledatafamily));\r\n\t\t\tNavigableMap&lt;byte[], byte[]&gt; metadata = result.getFamilyMap(Bytes.toBytes(dmshbasetablemetafamily));\r\n\t\t\tdata.putAll(metadata);\r\n\t\t\tfor (Map.Entry&lt;byte[], byte[]&gt; entry : data.entrySet())\r\n\t\t\t\tmap.put(new String(entry.getKey()), new String(entry.getValue()));\r\n\t\t\tlist.add(map);\r\n\t\t\t\r\n\t\t}\r\n\t\tif (list.isEmpty())\r\n\t\t\treturn Optional.empty();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tList&lt;JSONObject&gt; jsonObj = new ArrayList&lt;JSONObject&gt;();\r\n\r\n\t\tfor(Map&lt;String, String&gt; data : list) {\r\n\t\t    JSONObject obj = new JSONObject(data);\r\n\t\t    jsonObj.add(obj);\r\n\t\t}\r\n\r\n\t\tJSONArray test = new JSONArray(jsonObj);\r\n\r\n\t\tSystem.out.println(test.toString());\r\n\t\t\r\n\t\twriteCSV(test.toString());\r\n\t\t\r\n\t\treturn Optional.of(list);\r\n\t}\r\n\r\n\tprivate void writeCSV(String list) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t try (PrintWriter writer = new PrintWriter(new File(&quot;hadoopconnection_test.csv&quot;))) {\r\n\r\n\t\t      StringBuilder stringbuilder = new StringBuilder();\r\n\r\n\t\t      stringbuilder.append(&quot;DMSid&quot;);\r\n\r\n\t\t      stringbuilder.append(&#39;,&#39;);\r\n\r\n\t\t      stringbuilder.append(&quot;Payload&quot;);\r\n\r\n\t\t      stringbuilder.append(&#39;\\n&#39;);\r\n\r\n\t\t      stringbuilder.append(dmsid);\r\n\r\n\t\t      stringbuilder.append(&#39;,&#39;);\r\n\r\n\t\t      stringbuilder.append(list);\r\n\r\n\t\t      stringbuilder.append(&#39;\\n&#39;);\r\n\r\n\t\t      writer.write(stringbuilder.toString());\r\n\r\n\t\t  \tSystem.out.println(&quot;Data Imported to CSV successfully Done-------&gt;&quot;);\r\n\t\t      \r\n\r\n\t\t    } catch (FileNotFoundException exception) {\r\n\t\t    \t\r\n\t\t      System.out.println(exception.getMessage());\r\n\r\n\t\t    }\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t\r\n\r\n\t\r\n\r\n\t}\r\n","title":"Spring boot with Hadoop Connection(Hbase)","body":"<p>I have requirement like ,i need to connect hadoop-hbase in my spring boot code.I have done many examples.But i unable to connect hadoop system.Can you please share working sampleproj hadoop with hbase project using spring boot.</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'feedService': Unsatisfied dependency expressed through field 'hbaseTemplate': Error creating bean with name 'hbaseTemplate' defined in class path resource [com/example/demo/HbaseConfig.class]: Failed to instantiate [org.springframework.data.hadoop.hbase.HbaseTemplate]: Factory method 'hbaseTemplate' threw exception with message: org/apache/hadoop/hbase/client/HTableInterface**</p>\n</blockquote>\n<p>Thanks in Advance...</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-hadoop&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n            &lt;artifactId&gt;hbase&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n            &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n]\n</code></pre>\n<p>Hbase config class</p>\n<p>public class HConnection {</p>\n<pre><code>private String hbasezookeeperquorum = &quot;PRODDMSDN04&quot;;// ,proddmsdn02,proddmsdn01\nprivate String hbasezookeeperpropertyclientPort = &quot;2181&quot;;\nprivate String hbasemaster = &quot;proddmsdn01:16010&quot;;\nprivate String zookeeperznodeparent = &quot;/hbase-unsecure&quot;;\n\nprivate String dmshbasetable=&quot;DMSMASTER&quot;;\nprivate String dmshbasetableimgfamily=&quot;img&quot;;\nprivate String  dmshbasetabledatafamily=&quot;data&quot;;\nprivate String  dmshbasetablemetafamily=&quot;meta&quot;;\n static Configuration conf;\n \n static Connection connection;\n private String dmsid=&quot;1a2c3e0e-8363-4e94-87c9-701029933b37&quot;;\nprivate Connection newConnection() {\n    \n\n     Connection conn = null;\n        try {\n            conf = HBaseConfiguration.create();\n            conf.set(&quot;hbase.zookeeper.quorum&quot;, hbasezookeeperquorum);\n            conf.set(&quot;hbase.zookeeper.property.clientPort&quot;, hbasezookeeperpropertyclientPort);\n            conf.set(&quot;hbase.master&quot;, hbasemaster);\n            conf.set(&quot;zookeeper.znode.parent&quot;, zookeeperznodeparent);\n            conn = ConnectionFactory.createConnection(conf);\n            System.out.println(&quot;conn&quot; + conn.getConfiguration());\n            // Instantiate configuration class\n            // Instantiate configuration class\n\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    return conn;\n\n}\n\npublic static void main(String[] args) throws IOException, URISyntaxException, Exception {\n    // TODO Auto-generated method stub\n    //String fileName = &quot;DMSMASTER&quot;;\n\n    System.out.println(&quot;Connecting to Hadoop-------&gt;&quot;);\n\n\n\n     connection=new HConnection().newConnection();\n    \n     FileSystem fileSystem = FileSystem.get(conf);\n\n    if (fileSystem instanceof DistributedFileSystem) {\n        System.out.println(&quot;HDFS is the underlying filesystem&quot;);\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        // Connection connection=new HConnection().afterPropertiesSet();\n\n        //new HConnection().searchData(connection);\n\n    } else {\n        System.out.println(&quot;Other type of file system &quot; + fileSystem.getClass());\n        \n        System.out.println(&quot;Filesystem connected-------&gt;&quot;);\n        \n\n    \n}\nArrayList&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\n\n\npublic Optional&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; searchMetaData(Map&lt;String, String&gt; searchParams)\n        throws IOException {\n    \n    System.out.println(&quot;searchParams--------------&gt;&quot;+searchParams);\n    \n\n    TableName tablename = TableName.valueOf(dmshbasetable);\n    Table table = connection.getTable(tablename);\n    System.out.println(&quot;Connecting table--------------&gt;&quot;+table);\n    Scan scan = new Scan();\n    scan.addFamily(Bytes.toBytes(dmshbasetabledatafamily));\n    scan.addFamily(Bytes.toBytes(dmshbasetablemetafamily));\n    FilterList allFilters = new FilterList(new Filter[0]);\n    for (Map.Entry&lt;String, String&gt; entry : searchParams.entrySet()) {\n        SingleColumnValueFilter filter = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetablemetafamily),\n                Bytes.toBytes(entry.getKey()), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(entry.getValue()));\n        allFilters.addFilter((Filter) filter);\n    }\n    SingleColumnValueFilter filter2 = new SingleColumnValueFilter(Bytes.toBytes(dmshbasetabledatafamily),\n            Bytes.toBytes(&quot;status&quot;), CompareFilter.CompareOp.EQUAL, Bytes.toBytes(&quot;1&quot;));\n    allFilters.addFilter((Filter) filter2);\n    scan.setFilter((Filter) allFilters);\n    ResultScanner resultScanner = table.getScanner(scan);\n    Iterator&lt;Result&gt; arr = resultScanner.iterator();\n    list = new ArrayList&lt;&gt;();\n    while (arr.hasNext()) {\n        Get g = new Get(((Result) arr.next()).getRow());\n        Result result = table.get(g);\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        NavigableMap&lt;byte[], byte[]&gt; data = result.getFamilyMap(Bytes.toBytes(dmshbasetabledatafamily));\n        NavigableMap&lt;byte[], byte[]&gt; metadata = result.getFamilyMap(Bytes.toBytes(dmshbasetablemetafamily));\n        data.putAll(metadata);\n        for (Map.Entry&lt;byte[], byte[]&gt; entry : data.entrySet())\n            map.put(new String(entry.getKey()), new String(entry.getValue()));\n        list.add(map);\n        \n    }\n    if (list.isEmpty())\n        return Optional.empty();\n    \n    \n    \n    \n    List&lt;JSONObject&gt; jsonObj = new ArrayList&lt;JSONObject&gt;();\n\n    for(Map&lt;String, String&gt; data : list) {\n        JSONObject obj = new JSONObject(data);\n        jsonObj.add(obj);\n    }\n\n    JSONArray test = new JSONArray(jsonObj);\n\n    System.out.println(test.toString());\n    \n    writeCSV(test.toString());\n    \n    return Optional.of(list);\n}\n\nprivate void writeCSV(String list) {\n    // TODO Auto-generated method stub\n    \n     try (PrintWriter writer = new PrintWriter(new File(&quot;hadoopconnection_test.csv&quot;))) {\n\n          StringBuilder stringbuilder = new StringBuilder();\n\n          stringbuilder.append(&quot;DMSid&quot;);\n\n          stringbuilder.append(',');\n\n          stringbuilder.append(&quot;Payload&quot;);\n\n          stringbuilder.append('\\n');\n\n          stringbuilder.append(dmsid);\n\n          stringbuilder.append(',');\n\n          stringbuilder.append(list);\n\n          stringbuilder.append('\\n');\n\n          writer.write(stringbuilder.toString());\n\n        System.out.println(&quot;Data Imported to CSV successfully Done-------&gt;&quot;);\n          \n\n        } catch (FileNotFoundException exception) {\n            \n          System.out.println(exception.getMessage());\n\n        }\n    \n}\n\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673371483,"creation_date":1673371483,"answer_id":75073685,"question_id":74660319,"body_markdown":"Hibernate 6.1 introduces support for real immutable embeddable objects by invoking the appropriate constructor, but since classes can have logic in the constructor you&#39;d have to write a custom `EmbeddableInstantiator` to model this.\r\nSince 6.2 there is out of the box support for Java records as embeddables like this:\r\n\r\n```java\r\n@Embeddable\r\npublic record Address(\r\n    String street1,\r\n    String street2,\r\n    String city,\r\n    String state,\r\n    String zipcode,\r\n    String country) {\r\n\r\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n...\r\n}\r\n```\r\n\r\nAlso see https://in.relation.to/2022/12/22/orm-62-cr1/ for reference.","title":"JPA and Immutable value for @Embeddable fields","body":"<p>Hibernate 6.1 introduces support for real immutable embeddable objects by invoking the appropriate constructor, but since classes can have logic in the constructor you'd have to write a custom <code>EmbeddableInstantiator</code> to model this.\nSince 6.2 there is out of the box support for Java records as embeddables like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic record Address(\n    String street1,\n    String street2,\n    String city,\n    String state,\n    String zipcode,\n    String country) {\n\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n...\n}\n</code></pre>\n<p>Also see <a href=\"https://in.relation.to/2022/12/22/orm-62-cr1/\" rel=\"nofollow noreferrer\">https://in.relation.to/2022/12/22/orm-62-cr1/</a> for reference.</p>\n"}],"owner":{"account_id":1623444,"reputation":227,"user_id":1499546,"display_name":"khaemuaset"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75073685,"answer_count":1,"score":0,"last_activity_date":1673371483,"creation_date":1670007261,"question_id":74660319,"body_markdown":"I have a weird, yet perhaps expected, behaviour of JPA with immutable POJOs.\r\nI teach the use of Spring using a simple project as basis. In its first versions, everything is handmade, without magick. Hence, I took the advantage to introduce my students to the benefit of immutable objects. \r\n\r\nI created a simple immutable Address class, with an associated builder, and included it as a field in a Customer object.\r\n\r\nWhen I moved to JPA, I felt that @Embedded and @Embeddable were the way to go.\r\n\r\nHence I got \r\n\r\n~~~java\r\n@Embeddable\r\npublic final class Address {\r\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n\r\n    private  final String street1;\r\n    private  final String street2;\r\n    private  final String city;\r\n    private  final String state;\r\n    private  final String zipcode;\r\n    private  final String country;\r\n\r\n...\r\n}\r\n~~~\r\n\r\nAnd, as far as JPA goes, my tests went well. But.. notice the EMPTY_ADDRESS constant? Before going to Spring, I had written tests which took advantage of immutability, such as :\r\n\r\n~~~java\r\n@Test\r\npublic void testEmptyBuilder() {\r\n  Address a = Address.builder().build();\r\n  assertEquals(Address.EMPTY_ADDRESS, a);\r\n}\r\n~~~\r\n\r\nThey work in isolation... But when I run all the tests, if the JPA tests run before the tests for Address, the result is that JPA will write into my poor EMPTY_ADDRESS (which happens to be the initial value for a customer address), instead of creating a new Address object.\r\n\r\nI guess it can be expected, but, apart from foregoing the claim to immutability, is there a good way to do this in JPA? And, apart from immutability, what is the expected behaviour of JPA if :\r\n\r\na. we share an embeddable objet (with the same address) between two JPA entities ;\r\nb. we change the value of one of them by calling a setter, like :\r\n\r\n~~~\r\ncustomer.setAddress(new Address(....));\r\n~~~ \r\n\r\n\r\nP.S. I know that a very similar question has been asked, but it was ten years ago, and at that time, the code would not even run. In my case, the problem is that my immutable object is mutated.\r\n\r\n","title":"JPA and Immutable value for @Embeddable fields","body":"<p>I have a weird, yet perhaps expected, behaviour of JPA with immutable POJOs.\nI teach the use of Spring using a simple project as basis. In its first versions, everything is handmade, without magick. Hence, I took the advantage to introduce my students to the benefit of immutable objects.</p>\n<p>I created a simple immutable Address class, with an associated builder, and included it as a field in a Customer object.</p>\n<p>When I moved to JPA, I felt that @Embedded and @Embeddable were the way to go.</p>\n<p>Hence I got</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic final class Address {\n    public static final Address EMPTY_ADDRESS = new Address(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n\n    private  final String street1;\n    private  final String street2;\n    private  final String city;\n    private  final String state;\n    private  final String zipcode;\n    private  final String country;\n\n...\n}\n</code></pre>\n<p>And, as far as JPA goes, my tests went well. But.. notice the EMPTY_ADDRESS constant? Before going to Spring, I had written tests which took advantage of immutability, such as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testEmptyBuilder() {\n  Address a = Address.builder().build();\n  assertEquals(Address.EMPTY_ADDRESS, a);\n}\n</code></pre>\n<p>They work in isolation... But when I run all the tests, if the JPA tests run before the tests for Address, the result is that JPA will write into my poor EMPTY_ADDRESS (which happens to be the initial value for a customer address), instead of creating a new Address object.</p>\n<p>I guess it can be expected, but, apart from foregoing the claim to immutability, is there a good way to do this in JPA? And, apart from immutability, what is the expected behaviour of JPA if :</p>\n<p>a. we share an embeddable objet (with the same address) between two JPA entities ;\nb. we change the value of one of them by calling a setter, like :</p>\n<pre><code>customer.setAddress(new Address(....));\n</code></pre>\n<p>P.S. I know that a very similar question has been asked, but it was ten years ago, and at that time, the code would not even run. In my case, the problem is that my immutable object is mutated.</p>\n"},{"tags":["java","xml","spring","marshalling"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673331412,"post_id":75065682,"comment_id":132468756,"body_markdown":"Now if only Spring would support this itself instaed of you messing around with xml marshalling. Just reutn the `APIList` from the method instead of void and remove all the stuff doing nasty things with XML marshalling.","body":"Now if only Spring would support this itself instaed of you messing around with xml marshalling. Just reutn the <code>APIList</code> from the method instead of void and remove all the stuff doing nasty things with XML marshalling."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673371458,"post_id":75065682,"comment_id":132481889,"body_markdown":"For future reference, snippets are **only** intended for use with HTML/CSS/JavaScript questions. For any other language, use normal code blocks.","body":"For future reference, snippets are <b>only</b> intended for use with HTML/CSS/JavaScript questions. For any other language, use normal code blocks."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673331601,"creation_date":1673331601,"answer_id":75066182,"question_id":75065682,"body_markdown":"Ditch the formatting, ditch the XML code just return `APIList` from the method. \r\n\r\n```java\r\n@Controller\r\n@RequestMapping(value = &quot;/yipapi&quot;)\r\npublic class YipapiContorller {\r\n    \r\n  @Value(&quot;${restApi.key}&quot;)\r\n  private String restApiKey;\r\n\r\n  @Value(&quot;${restApi.basisUrl}&quot;)\r\n  private String basisUrl;\r\n    \r\n    \r\n  @GetMapping(&quot;/sendxml&quot;)\r\n  @ResponseBody\r\n  public APIList doGet(HttpServletRequest request, HttpServletResponse response)  {\r\n        \r\n    APIList apiList = new APIList();\r\n          \r\n    ResultValue respResult = new ResultValue(&quot;응답결과&quot;);\r\n    apiList.addResult(respResult);\r\n    ResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\r\n    apiList.addResult(errMsg);\r\n    ResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\r\n    apiList.addResult(totalCnt);\r\n            \r\n    YipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\r\n    apiList.addVoList(bizId);\r\n    return apiList;\r\n  }\r\n}\r\n```\r\n\r\nSpring will do the marshalling for you (assuming you have the proper annotations). \r\n\r\nIn your current code you are working against/around the capabilities of the framework instead of embracing them. ","title":"Error on line 2 at column 1: Extra content at the end of the document in Spring Java (Marshaller)","body":"<p>Ditch the formatting, ditch the XML code just return <code>APIList</code> from the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(value = &quot;/yipapi&quot;)\npublic class YipapiContorller {\n    \n  @Value(&quot;${restApi.key}&quot;)\n  private String restApiKey;\n\n  @Value(&quot;${restApi.basisUrl}&quot;)\n  private String basisUrl;\n    \n    \n  @GetMapping(&quot;/sendxml&quot;)\n  @ResponseBody\n  public APIList doGet(HttpServletRequest request, HttpServletResponse response)  {\n        \n    APIList apiList = new APIList();\n          \n    ResultValue respResult = new ResultValue(&quot;응답결과&quot;);\n    apiList.addResult(respResult);\n    ResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\n    apiList.addResult(errMsg);\n    ResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\n    apiList.addResult(totalCnt);\n            \n    YipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\n    apiList.addVoList(bizId);\n    return apiList;\n  }\n}\n</code></pre>\n<p>Spring will do the marshalling for you (assuming you have the proper annotations).</p>\n<p>In your current code you are working against/around the capabilities of the framework instead of embracing them.</p>\n"}],"owner":{"account_id":26385882,"reputation":45,"user_id":20038396,"display_name":"hayley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673371407,"creation_date":1673327114,"question_id":75065682,"body_markdown":"I am trying to POJO to XML using Marshaller.\r\n\r\n[![this is error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/55vv6.png\r\n\r\nand I want it to make XML like\r\n\r\n```xml\r\n&lt;youthPolicyList&gt;\r\n  &lt;respResult&gt;resilt&lt;/respResult&gt;\r\n  &lt;errMsg&gt;200&lt;/errMsg&gt;\r\n  &lt;totalCnt&gt;123&lt;/totalCnt&gt;\r\n  &lt;youthPolicyList&gt;\r\n    &lt;bizId&gt;...&lt;/bizId&gt;\r\n    &lt;bizIdCode&gt;...&lt;/bizIdCode&gt;\r\n    ...\r\n  &lt;/youthPolicyList&gt;\r\n&lt;/youthPolicyList&gt;\r\n```\r\n\r\nI made List for youthPolicyList values and result List. This is the VO for youthPolicyList values\r\n\r\n```java\r\npackage egovframework.ksis.yipAPI;\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\n\r\npublic class YipapiVO {\r\n\t\t\r\n\t// 정책사업 ID [ register_type (db) + register_date (db) + bizIdCode + bizIdNum ]\r\n\t@XmlElement\r\n\tprivate String bizId;\r\n\t@XmlElement\r\n\tprivate String bizIdCode;\t\t\t\t// 정책사업구분코드 (코드표)\r\n\t@XmlElement\r\n\tprivate int bizIdNum;\t\t\t\t\t// 일련번호(5자리)\r\n\t\r\n\t// 수혜대상지역구분코드 small_category_sid (YIP.YOUTH_SMALL_CATEGORY)\r\n\t@XmlElement\r\n\tprivate String cntcTrgtDataSeq;\r\n\t\r\n\t// 지역 (정책사업구분코드를 위한 지역) \r\n\t// [small_category_title - 매치해서 코드표 연결해야함]\r\n\t@XmlElement\r\n\tprivate String polyBizIscd;\t\r\n\t\r\n\t@XmlElement\r\n\tprivate String polyBizSjnm;\t\t\t// 정책사업제목 policy_title\r\n\t@XmlElement\r\n\tprivate String polyItcnCn;\t\t\t// 정책소개내용 policy_summary\r\n\t@XmlElement\r\n\tprivate String sporCn;\t\t\t\t// 지원 내용 policy_content\r\n\t@XmlElement\r\n\tprivate String sporScvl;\t\t\t// 지원규모내용 policy_scale\r\n\t@XmlElement\r\n\tprivate String bizPrdCn;\t\t\t// 사업운영기간 policy_start_date ~ policy_end_date\r\n\t@XmlElement\r\n\tprivate String prdRpttSecd;\t\t\t// 기간 반복구분코드(코드표)\r\n\t@XmlElement\r\n\tprivate String rqutPrdCn;\t\t\t// 사업신청기간 policy_apply_start_date ~ policy_apply_end_date\r\n\t\r\n\t@XmlElement\r\n\tprivate String bgnAge;\t\t\t\t// 시작 연령\r\n\t@XmlElement\r\n\tprivate String endAge;\t\t\t\t// 종료 연령\r\n\t\r\n\t@XmlElement\r\n\tprivate String majrRqisCn;\t\t\t// 전공요건내용 policy_major\t\r\n\t@XmlElement\r\n\tprivate String majorRqisSecdCn;\t\t// 전공요건구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String empmSttsCn;\t\t\t// 취업상태내용 policy_job_status\r\n\t@XmlElement\r\n\tprivate String empmSttsSecdCn;\t\t// 취업상태구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String splzRlmRqisCn;\t\t// 특화분야내용 policy_special\r\n\t@XmlElement\r\n\tprivate String splzRlmRqisSecdCn;\t// 특화분야구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String accrRqisCn;\t\t\t// 학력요건내용 policy_education\r\n\t@XmlElement\r\n\tprivate String accrRqisSecdCn;\t\t// 학력요건구분코드(코드표)\r\n\t\r\n\t@XmlElement\r\n\tprivate String prcpCn;\t\t\t\t// 거주지 및 소득조건 policy_location\r\n\t\r\n\t@XmlElement\r\n\tprivate String aditRscn;\t\t\t// 추가단서사항 policy_added_item\r\n\t@XmlElement\r\n\tprivate String prcpLmttTrgtCn;\t\t// 참여제한대상 policy_restrict\r\n\t@XmlElement\r\n\tprivate String rqutProcCn;\t\t\t// 신청절차내용 policy_apply_step\r\n\t@XmlElement\r\n\tprivate String pstnPaprCn;\t\t\t// 제출서류내용 policy_document\r\n\t@XmlElement\r\n\tprivate String jdgnPresCn;\t\t\t// 심사및발표일정 policy_announce\r\n\t@XmlElement\r\n\tprivate String rqutUrla;\t\t\t// 신청사이트주소 policy_apply_site \r\n\t@XmlElement\r\n\tprivate String rfcSiteUrla1;\t\t// 참고사이트URL 주소1 reference_site1\r\n\t@XmlElement\r\n\tprivate String rfcSiteUrla2;\t\t// 참고사이트URL 주소2 reference_site2\r\n\t\r\n\t// 주관부처상세 및 운영자 상세 동일\r\n\t@XmlElement\r\n\tprivate String mngtMson;\t\t\t// 주관부처명  policy_agency_name\r\n\t@XmlElement\r\n\tprivate String mngtMrofCherCn;\t\t// 주관부터담장자이름(db에 없음)\r\n\t@XmlElement\r\n\tprivate String cherCtpcCn;\t\t\t// 주관부처담당자연락처 policy_agency_tel\r\n\t@XmlElement\r\n\tprivate String operNmor;\t\t\t// 운영자기관명 policy_agency_name\r\n\t@XmlElement\r\n\tprivate String tintCherCn;\t\t\t// 운영기관담당자이름(db에 없음)\r\n\t@XmlElement\r\n\tprivate String tintCherCtpcCn;\t\t// 운영기관담당자연락처policy_agency_tel\r\n\t\r\n\t@XmlElement\r\n\tprivate String etct;\t\t\t\t// 기타사항내용 policy_notice\r\n\t@XmlElement\r\n\tprivate String tynm;\t\t\t\t// 카테고리내용 policy_type_detail\r\n\t@XmlElement\r\n\tprivate String rmcn;\t\t\t\t// 비고(db에 없음)\r\n\t@XmlElement\r\n\tprivate String lastCntcUpdtDt;\t\t// 업데이트 데이트 없을경우 리지스트 데이터 사용 update_date\r\n\t\r\n\t// I / U / D\r\n\t@XmlElement\r\n\tprivate String cntcStcd;\t\t\t// 연계상태코드\r\n\t\r\n\t@XmlElement\r\n\tprivate String frstRgstDt;\t\t\t// 최초등록일시 register_date\r\n\t@XmlElement\r\n\tprivate String lastUpdtDt;\t\t\t// 최초수정일시\r\n\t\r\n\t@XmlElement\r\n\tprivate String upprBizId;\t\t\t// 상위사업Id\r\n\r\n\tpublic YipapiVO(String string) {\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAnd this for result VO\r\n\r\n```java\r\npackage egovframework.ksis.yipAPI;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlElementWrapper;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n// @XmlAccessorType(XmlAccessType.NONE) // xml의 직렬화 범위를 결정\r\npublic class YipapiVOXML {\r\n\t\r\n\tpublic static class ResultValue{\r\n\t\t@XmlElement\r\n\t\tprivate String respResult;\r\n\t\t@XmlElement\r\n\t\tprivate String errMsg;\r\n\t\t@XmlElement\r\n\t\tprivate String totalCnt;\r\n\t\t\r\n\t\tpublic ResultValue(String string) {}\r\n\t}\r\n\t\r\n\t@XmlRootElement(name=&quot;youthPolicyList&quot;)\t// xml의 루트 태그를 의미 name을 명시하지 않으면 클래스명이 디폴트가 된다\r\n\tpublic static class APIList{\r\n\t\t// 결과 메세지 List\r\n\t\t@XmlElement\r\n\t\tList&lt;ResultValue&gt; resultValue = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t@XmlElementWrapper(name = &quot;youthPolicy&quot;)\r\n\t\t@XmlElement\t\t\r\n\t\tprivate List&lt;YipapiVO&gt; apiList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t// ADD를 위한\r\n\t\tvoid addVoList(YipapiVO yipapiVO) {\r\n\t\t\tapiList.add(yipapiVO);\r\n\t\t}\r\n\t\tvoid addResult(ResultValue resultVal) {\r\n\t\t\tresultValue.add(resultVal);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is for parsing XML Controller.\r\n\r\n```java\r\npackage egovframework.ksis.yipAPI;\r\n\r\nimport java.io.IOException;\r\nimport java.io.StringWriter;\r\nimport java.io.Writer;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Marshaller;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport egovframework.ksis.yipAPI.YipapiVOXML.APIList;\r\nimport egovframework.ksis.yipAPI.YipapiVOXML.ResultValue;\r\n\r\n@Controller\r\n@RequestMapping(value = &quot;/yipapi&quot;)\r\npublic class YipapiContorller {\r\n\t\r\n\t@Value(&quot;${restApi.key}&quot;)\r\n\tprivate String restApiKey;\r\n\r\n\t@Value(&quot;${restApi.basisUrl}&quot;)\r\n\tprivate String basisUrl;\r\n\t\r\n\t@RequestMapping(value = &quot;/sendxml&quot;, method = RequestMethod.GET, produces= {MediaType.APPLICATION_XML_VALUE})\r\n\t@ResponseBody\r\n\tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws JAXBException, IOException {\r\n\t\t\r\n\t\t// Determine content type\r\n\t    String format = request.getParameter(&quot;format&quot;);\r\n\t    if (format == null || format.equalsIgnoreCase(&quot;XML&quot;)) {\r\n\t        response.setContentType(&quot;text/xml; charset=UTF-8&quot;);\r\n\t    } else if (format.equalsIgnoreCase(&quot;JSON&quot;)) {\r\n\t        response.setContentType(&quot;application/json; charset=UTF-8&quot;);\r\n\t    }\r\n\r\n\t\ttry {\r\n\t\t\tWriter responseWriter = response.getWriter();\r\n\t\t\t\r\n\t\t\tAPIList apiList = new APIList();\r\n\t\t\t\r\n\t\t\tResultValue respResult = new ResultValue(&quot;응답결과&quot;);\r\n\t\t\tapiList.addResult(respResult);\r\n\t\t\tResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\r\n\t\t\tapiList.addResult(errMsg);\r\n\t\t\tResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\r\n\t\t\tapiList.addResult(totalCnt);\r\n\t\t\t\r\n\t\t\tYipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\r\n\t\t\tapiList.addVoList(bizId);\r\n\t\t\t\t\r\n\t\t\tJAXBContext context = JAXBContext.newInstance(YipapiVOXML.class);\r\n\t\t\tMarshaller\tmarshaller = context.createMarshaller();\r\n\t\t\t\r\n\t\t\tStringWriter xml = new StringWriter(); \r\n\t\t\t\r\n\t\t\t// 보기 좋게 출력\r\n\t\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\t\tmarshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\r\n\t\t\t\r\n\t\t\t// 표준 출력으로 결과 보여줌\r\n\t\t\tmarshaller.marshal(apiList, responseWriter);\r\n\t\t\tSystem.out.println(xml);\r\n\t\t} catch (JAXBException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAlso error appear on console.\r\n\r\n&gt; javax.xml.bind.JAXBException: Class *** nor any of its super class is\r\n&gt; known to this context\r\n\r\nAm I missing something? ","title":"Error on line 2 at column 1: Extra content at the end of the document in Spring Java (Marshaller)","body":"<p>I am trying to POJO to XML using Marshaller.</p>\n<p><a href=\"https://i.stack.imgur.com/55vv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/55vv6.png\" alt=\"this is error\" /></a></p>\n<p>and I want it to make XML like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;youthPolicyList&gt;\n  &lt;respResult&gt;resilt&lt;/respResult&gt;\n  &lt;errMsg&gt;200&lt;/errMsg&gt;\n  &lt;totalCnt&gt;123&lt;/totalCnt&gt;\n  &lt;youthPolicyList&gt;\n    &lt;bizId&gt;...&lt;/bizId&gt;\n    &lt;bizIdCode&gt;...&lt;/bizIdCode&gt;\n    ...\n  &lt;/youthPolicyList&gt;\n&lt;/youthPolicyList&gt;\n</code></pre>\n<p>I made List for youthPolicyList values and result List. This is the VO for youthPolicyList values</p>\n<pre class=\"lang-java prettyprint-override\"><code>package egovframework.ksis.yipAPI;\n\nimport javax.xml.bind.annotation.XmlElement;\n\npublic class YipapiVO {\n        \n    // 정책사업 ID [ register_type (db) + register_date (db) + bizIdCode + bizIdNum ]\n    @XmlElement\n    private String bizId;\n    @XmlElement\n    private String bizIdCode;               // 정책사업구분코드 (코드표)\n    @XmlElement\n    private int bizIdNum;                   // 일련번호(5자리)\n    \n    // 수혜대상지역구분코드 small_category_sid (YIP.YOUTH_SMALL_CATEGORY)\n    @XmlElement\n    private String cntcTrgtDataSeq;\n    \n    // 지역 (정책사업구분코드를 위한 지역) \n    // [small_category_title - 매치해서 코드표 연결해야함]\n    @XmlElement\n    private String polyBizIscd; \n    \n    @XmlElement\n    private String polyBizSjnm;         // 정책사업제목 policy_title\n    @XmlElement\n    private String polyItcnCn;          // 정책소개내용 policy_summary\n    @XmlElement\n    private String sporCn;              // 지원 내용 policy_content\n    @XmlElement\n    private String sporScvl;            // 지원규모내용 policy_scale\n    @XmlElement\n    private String bizPrdCn;            // 사업운영기간 policy_start_date ~ policy_end_date\n    @XmlElement\n    private String prdRpttSecd;         // 기간 반복구분코드(코드표)\n    @XmlElement\n    private String rqutPrdCn;           // 사업신청기간 policy_apply_start_date ~ policy_apply_end_date\n    \n    @XmlElement\n    private String bgnAge;              // 시작 연령\n    @XmlElement\n    private String endAge;              // 종료 연령\n    \n    @XmlElement\n    private String majrRqisCn;          // 전공요건내용 policy_major  \n    @XmlElement\n    private String majorRqisSecdCn;     // 전공요건구분코드(코드표)\n    \n    @XmlElement\n    private String empmSttsCn;          // 취업상태내용 policy_job_status\n    @XmlElement\n    private String empmSttsSecdCn;      // 취업상태구분코드(코드표)\n    \n    @XmlElement\n    private String splzRlmRqisCn;       // 특화분야내용 policy_special\n    @XmlElement\n    private String splzRlmRqisSecdCn;   // 특화분야구분코드(코드표)\n    \n    @XmlElement\n    private String accrRqisCn;          // 학력요건내용 policy_education\n    @XmlElement\n    private String accrRqisSecdCn;      // 학력요건구분코드(코드표)\n    \n    @XmlElement\n    private String prcpCn;              // 거주지 및 소득조건 policy_location\n    \n    @XmlElement\n    private String aditRscn;            // 추가단서사항 policy_added_item\n    @XmlElement\n    private String prcpLmttTrgtCn;      // 참여제한대상 policy_restrict\n    @XmlElement\n    private String rqutProcCn;          // 신청절차내용 policy_apply_step\n    @XmlElement\n    private String pstnPaprCn;          // 제출서류내용 policy_document\n    @XmlElement\n    private String jdgnPresCn;          // 심사및발표일정 policy_announce\n    @XmlElement\n    private String rqutUrla;            // 신청사이트주소 policy_apply_site \n    @XmlElement\n    private String rfcSiteUrla1;        // 참고사이트URL 주소1 reference_site1\n    @XmlElement\n    private String rfcSiteUrla2;        // 참고사이트URL 주소2 reference_site2\n    \n    // 주관부처상세 및 운영자 상세 동일\n    @XmlElement\n    private String mngtMson;            // 주관부처명  policy_agency_name\n    @XmlElement\n    private String mngtMrofCherCn;      // 주관부터담장자이름(db에 없음)\n    @XmlElement\n    private String cherCtpcCn;          // 주관부처담당자연락처 policy_agency_tel\n    @XmlElement\n    private String operNmor;            // 운영자기관명 policy_agency_name\n    @XmlElement\n    private String tintCherCn;          // 운영기관담당자이름(db에 없음)\n    @XmlElement\n    private String tintCherCtpcCn;      // 운영기관담당자연락처policy_agency_tel\n    \n    @XmlElement\n    private String etct;                // 기타사항내용 policy_notice\n    @XmlElement\n    private String tynm;                // 카테고리내용 policy_type_detail\n    @XmlElement\n    private String rmcn;                // 비고(db에 없음)\n    @XmlElement\n    private String lastCntcUpdtDt;      // 업데이트 데이트 없을경우 리지스트 데이터 사용 update_date\n    \n    // I / U / D\n    @XmlElement\n    private String cntcStcd;            // 연계상태코드\n    \n    @XmlElement\n    private String frstRgstDt;          // 최초등록일시 register_date\n    @XmlElement\n    private String lastUpdtDt;          // 최초수정일시\n    \n    @XmlElement\n    private String upprBizId;           // 상위사업Id\n\n    public YipapiVO(String string) {\n        \n    }\n}\n</code></pre>\n<p>And this for result VO</p>\n<pre class=\"lang-java prettyprint-override\"><code>package egovframework.ksis.yipAPI;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElementWrapper;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n// @XmlAccessorType(XmlAccessType.NONE) // xml의 직렬화 범위를 결정\npublic class YipapiVOXML {\n    \n    public static class ResultValue{\n        @XmlElement\n        private String respResult;\n        @XmlElement\n        private String errMsg;\n        @XmlElement\n        private String totalCnt;\n        \n        public ResultValue(String string) {}\n    }\n    \n    @XmlRootElement(name=&quot;youthPolicyList&quot;) // xml의 루트 태그를 의미 name을 명시하지 않으면 클래스명이 디폴트가 된다\n    public static class APIList{\n        // 결과 메세지 List\n        @XmlElement\n        List&lt;ResultValue&gt; resultValue = new ArrayList&lt;&gt;();\n        \n        @XmlElementWrapper(name = &quot;youthPolicy&quot;)\n        @XmlElement     \n        private List&lt;YipapiVO&gt; apiList = new ArrayList&lt;&gt;();\n        \n        // ADD를 위한\n        void addVoList(YipapiVO yipapiVO) {\n            apiList.add(yipapiVO);\n        }\n        void addResult(ResultValue resultVal) {\n            resultValue.add(resultVal);\n        }\n    }\n}\n</code></pre>\n<p>And this is for parsing XML Controller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package egovframework.ksis.yipAPI;\n\nimport java.io.IOException;\nimport java.io.StringWriter;\nimport java.io.Writer;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Marshaller;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport egovframework.ksis.yipAPI.YipapiVOXML.APIList;\nimport egovframework.ksis.yipAPI.YipapiVOXML.ResultValue;\n\n@Controller\n@RequestMapping(value = &quot;/yipapi&quot;)\npublic class YipapiContorller {\n    \n    @Value(&quot;${restApi.key}&quot;)\n    private String restApiKey;\n\n    @Value(&quot;${restApi.basisUrl}&quot;)\n    private String basisUrl;\n    \n    @RequestMapping(value = &quot;/sendxml&quot;, method = RequestMethod.GET, produces= {MediaType.APPLICATION_XML_VALUE})\n    @ResponseBody\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws JAXBException, IOException {\n        \n        // Determine content type\n        String format = request.getParameter(&quot;format&quot;);\n        if (format == null || format.equalsIgnoreCase(&quot;XML&quot;)) {\n            response.setContentType(&quot;text/xml; charset=UTF-8&quot;);\n        } else if (format.equalsIgnoreCase(&quot;JSON&quot;)) {\n            response.setContentType(&quot;application/json; charset=UTF-8&quot;);\n        }\n\n        try {\n            Writer responseWriter = response.getWriter();\n            \n            APIList apiList = new APIList();\n            \n            ResultValue respResult = new ResultValue(&quot;응답결과&quot;);\n            apiList.addResult(respResult);\n            ResultValue errMsg = new ResultValue(&quot;에러메세지&quot;);\n            apiList.addResult(errMsg);\n            ResultValue totalCnt = new ResultValue(&quot;토탈&quot;);\n            apiList.addResult(totalCnt);\n            \n            YipapiVO bizId = new YipapiVO(&quot;bizId&quot;);\n            apiList.addVoList(bizId);\n                \n            JAXBContext context = JAXBContext.newInstance(YipapiVOXML.class);\n            Marshaller  marshaller = context.createMarshaller();\n            \n            StringWriter xml = new StringWriter(); \n            \n            // 보기 좋게 출력\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n            marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\n            \n            // 표준 출력으로 결과 보여줌\n            marshaller.marshal(apiList, responseWriter);\n            System.out.println(xml);\n        } catch (JAXBException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Also error appear on console.</p>\n<blockquote>\n<p>javax.xml.bind.JAXBException: Class *** nor any of its super class is\nknown to this context</p>\n</blockquote>\n<p>Am I missing something?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673371079,"creation_date":1673371079,"answer_id":75073617,"question_id":74648706,"body_markdown":"That&#39;s not possible, but why would you even want to do that? IMO an application should upgrade the schema prior or during deployment to the latest state that it expects.","title":"Spring data JPA/Hibernate - Is there a way to mark an entity field as transient dynamically at runtime?","body":"<p>That's not possible, but why would you even want to do that? IMO an application should upgrade the schema prior or during deployment to the latest state that it expects.</p>\n"}],"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673371079,"creation_date":1669932526,"question_id":74648706,"body_markdown":"I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service backwards compatible with the older version. I would like to mark the entity field as transient for older versions to avoid persisting the value, avoiding any errors. The database itself stores the version - the service just needs to check the database to determine whether the field should be transient and mark it as such. Is there a Spring Data JPA/Hibernate API that would allow me to do this?","title":"Spring data JPA/Hibernate - Is there a way to mark an entity field as transient dynamically at runtime?","body":"<p>I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service backwards compatible with the older version. I would like to mark the entity field as transient for older versions to avoid persisting the value, avoiding any errors. The database itself stores the version - the service just needs to check the database to determine whether the field should be transient and mark it as such. Is there a Spring Data JPA/Hibernate API that would allow me to do this?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1673312248,"post_id":75063926,"comment_id":132466210,"body_markdown":"Welcome! Please include your dependencies in the question (`pom.xml`, `build.gradle`, or whatever you’re using). It’s also a good idea to tag the build tool that you’re using. Did you read the page linked in the error message? If there’s something you found unclear in it, that would also be good to include in your question. “I’ve been trying everything” should be replaced with _what specifically_ you’ve tried.","body":"Welcome! Please include your dependencies in the question (<code>pom.xml</code>, <code>build.gradle</code>, or whatever you’re using). It’s also a good idea to tag the build tool that you’re using. Did you read the page linked in the error message? If there’s something you found unclear in it, that would also be good to include in your question. “I’ve been trying everything” should be replaced with <i>what specifically</i> you’ve tried."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673320041,"post_id":75063926,"comment_id":132467186,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27482705,"reputation":1,"user_id":20969471,"display_name":"RodrigoCm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673369098,"answer_count":0,"score":0,"last_activity_date":1673371076,"creation_date":1673306418,"question_id":75063926,"body_markdown":"When trying to compile my Maven project in IntelliJ, it shows an error with the `mvn install` command, also with the `mvn install -DskipTests` command, it shows me in the surefire-reports and when executing the tests, the following:\r\n\r\n```none\r\nSLF4J: Class Path contains multiple SLF4J bindings.\r\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar!/org/slf4j/ impl/StaticLoggerBinder.class]\r\n\r\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.17.1/log4j-slf4j-impl-2.17.1 .jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n```\r\n\r\n[Error image](https://i.stack.imgur.com/8ZzX8.png)\r\n\r\nI hope you can help, I&#39;ve been trying everything for days.\r\n\r\nI tried to delete the duplicate folder, put dependencies but nothing.","title":"SLF4J: Class path contains multiple SLF4J bindings In iNTELIJI LENGUAGE JAVA","body":"<p>When trying to compile my Maven project in IntelliJ, it shows an error with the <code>mvn install</code> command, also with the <code>mvn install -DskipTests</code> command, it shows me in the surefire-reports and when executing the tests, the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Class Path contains multiple SLF4J bindings.\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar!/org/slf4j/ impl/StaticLoggerBinder.class]\n\nSLF4J: Link found in [jar:file:/C:/Users/admin/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.17.1/log4j-slf4j-impl-2.17.1 .jar!/org/slf4j/impl/StaticLoggerBinder.class]\n\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8ZzX8.png\" rel=\"nofollow noreferrer\">Error image</a></p>\n<p>I hope you can help, I've been trying everything for days.</p>\n<p>I tried to delete the duplicate folder, put dependencies but nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1673325557,"post_id":75065491,"comment_id":132467845,"body_markdown":"Does this answer your question? [Regular expression to only allow lower-case letters](https://stackoverflow.com/questions/14107331/regular-expression-to-only-allow-lower-case-letters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14107331/regular-expression-to-only-allow-lower-case-letters\">Regular expression to only allow lower-case letters</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1673328467,"post_id":75065491,"comment_id":132468239,"body_markdown":"`Pattern.compile(&quot;[a-z]&quot;).matcher(password).find()`","body":"<code>Pattern.compile(&quot;[a-z]&quot;).matcher(password).find()</code>"}],"answers":[{"tags":[],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673350132,"creation_date":1673350132,"answer_id":75069312,"question_id":75065491,"body_markdown":"It is not the cleanest solution, but looping through the String like this would also get you the result you want. This function returns true when the string holds one not capital letter. \r\n\r\nIt doesn&#39;t use regex but it also gives you the option to check the String characters for other things you need to verify.\r\n\r\n``` \r\n    private static boolean checkString(String str) {\r\n        char ch;\r\n        boolean lowerCaseFlag = false;\r\n        for(int i=0;i &lt; str.length();i++) {\r\n            ch = str.charAt(i);\r\n\r\n            if (Character.isLowerCase(ch)) {\r\n                lowerCaseFlag = true;\r\n            }\r\n        }\r\n        return lowerCaseFlag;\r\n    }\r\n```\r\n","title":"RegEx to make sure that the string contains at least one lower case letter in the given string","body":"<p>It is not the cleanest solution, but looping through the String like this would also get you the result you want. This function returns true when the string holds one not capital letter.</p>\n<p>It doesn't use regex but it also gives you the option to check the String characters for other things you need to verify.</p>\n<pre><code>    private static boolean checkString(String str) {\n        char ch;\n        boolean lowerCaseFlag = false;\n        for(int i=0;i &lt; str.length();i++) {\n            ch = str.charAt(i);\n\n            if (Character.isLowerCase(ch)) {\n                lowerCaseFlag = true;\n            }\n        }\n        return lowerCaseFlag;\n    }\n</code></pre>\n"}],"owner":{"account_id":14726962,"reputation":1,"user_id":10635546,"display_name":"Venkataramana N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673370626,"creation_date":1673324994,"question_id":75065491,"body_markdown":"For example, if the given string is &quot;HELLO world&quot;, the output should be **true** as the string has satisfied  at least one lowercase letter condition.\r\n\r\n    try {\r\n       \tPattern pattern = Pattern.compile(&quot;^\\w*[a-z]\\w*$&quot;);\r\n    \tMatcher matcher = pattern.matcher(password);\r\n    \tresult = matcher.matches();\r\n\t} catch (Exception e) {\r\n\t\t//print something\r\n\t}\r\n","title":"RegEx to make sure that the string contains at least one lower case letter in the given string","body":"<p>For example, if the given string is &quot;HELLO world&quot;, the output should be <strong>true</strong> as the string has satisfied  at least one lowercase letter condition.</p>\n<pre><code>try {\n    Pattern pattern = Pattern.compile(&quot;^\\w*[a-z]\\w*$&quot;);\n    Matcher matcher = pattern.matcher(password);\n    result = matcher.matches();\n} catch (Exception e) {\n    //print something\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":3,"creation_date":1557844940,"post_id":56133081,"comment_id":98897099,"body_markdown":"No, not in java.","body":"No, not in java."},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":6,"creation_date":1557845018,"post_id":56133081,"comment_id":98897156,"body_markdown":"As an alternative, you could create a class (wrapper) which would contain the `positions` and in which you would implement the method. But, again, this is just an alternative to the problem that in Java you cannot do that.","body":"As an alternative, you could create a class (wrapper) which would contain the <code>positions</code> and in which you would implement the method. But, again, this is just an alternative to the problem that in Java you cannot do that."},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1557845059,"post_id":56133081,"comment_id":98897178,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-10.html</a>"},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1557845147,"post_id":56133081,"comment_id":98897234,"body_markdown":"I&#39;m really having trouble to understand your question because it looks like you&#39;re mixing arrays and classes in a way which is completely unintended and unusual.","body":"I&#39;m really having trouble to understand your question because it looks like you&#39;re mixing arrays and classes in a way which is completely unintended and unusual."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1557845163,"post_id":56133081,"comment_id":98897244,"body_markdown":"[Can be done in Kotlin with extension methods](https://kotlinlang.org/docs/reference/extensions.html)","body":"<a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Can be done in Kotlin with extension methods</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557845622,"creation_date":1557845622,"answer_id":56133312,"question_id":56133081,"body_markdown":"There is no way to do this in Java.  You could possibly create your own class that contained an array of `Position` objects and provides e.g. `get` methods, but there is no way whatsoever to add methods to classes you do not control, including all array types.","title":"Adding methods to arrays of custom objects","body":"<p>There is no way to do this in Java.  You could possibly create your own class that contained an array of <code>Position</code> objects and provides e.g. <code>get</code> methods, but there is no way whatsoever to add methods to classes you do not control, including all array types.</p>\n"},{"tags":[],"owner":{"account_id":15394656,"reputation":525,"user_id":11106227,"display_name":"Jeremy Then"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673369830,"creation_date":1557845975,"answer_id":56133422,"question_id":56133081,"body_markdown":"you can make a class handler for this, like this PositionArray class (name it as you would like):\r\n\r\n```\r\npublic class Test {\r\n    \r\n    public static void main(String... args) {\r\n\r\n        Position[] positions = new Position[10];\r\n\r\n        positions[0] = new Position(5, 10);\r\n        positions[1] = new Position(11, 18);\r\n        positions[2] = new Position(20, 7);\r\n\r\n        PositionArray pa = new PositionArray(positions);\r\n\r\n        System.out.println(pa.getPosAt(5, 10)); // Position{x=5, y=10}\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass PositionArray {\r\n\r\n    private Position[] positions;\r\n\r\n    public PositionArray(Position[] positions) {\r\n        this.positions = positions;\r\n    }\r\n\r\n    public Position getPosAt(int x, int y) {\r\n\r\n        for (Position p : positions) {\r\n            if (!Objects.isNull(p)) {\r\n                System.out.println(p.getX() + &quot; &quot; + p.getY());\r\n                if (p.getX() == x &amp;&amp; p.getY() == y) {\r\n                    return p;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n```\r\nclass Position {\r\n\r\n    private final int x;\r\n    private final int y;\r\n\r\n    public Position(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Position{&quot; + &quot;x=&quot; + x + &quot;, y=&quot; + y + &#39;}&#39;;\r\n    }\r\n    \r\n}\r\n```","title":"Adding methods to arrays of custom objects","body":"<p>you can make a class handler for this, like this PositionArray class (name it as you would like):</p>\n<pre><code>public class Test {\n    \n    public static void main(String... args) {\n\n        Position[] positions = new Position[10];\n\n        positions[0] = new Position(5, 10);\n        positions[1] = new Position(11, 18);\n        positions[2] = new Position(20, 7);\n\n        PositionArray pa = new PositionArray(positions);\n\n        System.out.println(pa.getPosAt(5, 10)); // Position{x=5, y=10}\n\n    }\n}\n</code></pre>\n<pre><code>class PositionArray {\n\n    private Position[] positions;\n\n    public PositionArray(Position[] positions) {\n        this.positions = positions;\n    }\n\n    public Position getPosAt(int x, int y) {\n\n        for (Position p : positions) {\n            if (!Objects.isNull(p)) {\n                System.out.println(p.getX() + &quot; &quot; + p.getY());\n                if (p.getX() == x &amp;&amp; p.getY() == y) {\n                    return p;\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<pre><code>class Position {\n\n    private final int x;\n    private final int y;\n\n    public Position(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Position{&quot; + &quot;x=&quot; + x + &quot;, y=&quot; + y + '}';\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":14852344,"reputation":75,"user_id":10725862,"display_name":"CJCrafter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56133422,"answer_count":2,"score":2,"last_activity_date":1673369830,"creation_date":1557844885,"question_id":56133081,"body_markdown":"I&#39;m trying to add a method an an `array` like this.\r\n```java\r\n    Position[] positions = new Position[10];\r\n    Position pos = positions.getPosAt(x, y);\r\n```\r\n\r\nI know this can be accomplished like:\r\n```java\r\n   Position pos = getPosAt(positions, x, y)\r\n```\r\nBut I would like to know if there is a way to accomplish the first method.","title":"Adding methods to arrays of custom objects","body":"<p>I'm trying to add a method an an <code>array</code> like this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    Position[] positions = new Position[10];\n    Position pos = positions.getPosAt(x, y);\n</code></pre>\n\n<p>I know this can be accomplished like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>   Position pos = getPosAt(positions, x, y)\n</code></pre>\n\n<p>But I would like to know if there is a way to accomplish the first method.</p>\n"},{"tags":["java","selenium","selenium-webdriver","intellij-idea","automation"],"owner":{"account_id":7627380,"reputation":21,"user_id":5783440,"display_name":"shamroz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673369621,"creation_date":1673369621,"question_id":75073338,"body_markdown":"I was searching for how to automate two-factor authentication with Google Authenticator using Selenium. The most common way that I found is by using AeroGear java library. \r\nSomebody guides me that this is not the secure way to test the Google Authenticator. Also, the version is not updated since 2013. I just want a guide should I continue with this library or there is any other way to automate this scenario?\r\n[![enter image description here][1]][1] \r\n \r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHVCz.png","title":"Is there any secure way to automate google authenticator without using AeroGear java library","body":"<p>I was searching for how to automate two-factor authentication with Google Authenticator using Selenium. The most common way that I found is by using AeroGear java library.\nSomebody guides me that this is not the secure way to test the Google Authenticator. Also, the version is not updated since 2013. I just want a guide should I continue with this library or there is any other way to automate this scenario?\n<a href=\"https://i.stack.imgur.com/fHVCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fHVCz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","text","clipboard"],"answers":[{"tags":[],"owner":{"account_id":346016,"reputation":7314,"user_id":679277,"accept_rate":98,"display_name":"Pangolin"},"down_vote_count":1,"up_vote_count":347,"is_accepted":true,"score":346,"last_activity_date":1572464841,"creation_date":1310765021,"answer_id":6713290,"question_id":6710350,"body_markdown":"This works for me and is quite simple:\r\n\r\nImport these:\r\n\r\n    import java.awt.datatransfer.StringSelection;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n\r\nAnd then put this snippet of code wherever you&#39;d like to alter the clipboard:\r\n\r\n    String myString = &quot;This text will be copied into clipboard&quot;;\r\n    StringSelection stringSelection = new StringSelection(myString);\r\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n    clipboard.setContents(stringSelection, null);\r\n","title":"Copying text to the clipboard using Java","body":"<p>This works for me and is quite simple:</p>\n\n<p>Import these:</p>\n\n<pre><code>import java.awt.datatransfer.StringSelection;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\n</code></pre>\n\n<p>And then put this snippet of code wherever you'd like to alter the clipboard:</p>\n\n<pre><code>String myString = \"This text will be copied into clipboard\";\nStringSelection stringSelection = new StringSelection(myString);\nClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\nclipboard.setContents(stringSelection, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1581967967,"creation_date":1422899723,"answer_id":28283777,"question_id":6710350,"body_markdown":"The following class allows you to copy/paste a String to/from the clipboard.\r\n\r\n    import java.awt.*;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.StringSelection;\r\n    \r\n    import static java.awt.event.KeyEvent.*;\r\n    import static org.apache.commons.lang3.SystemUtils.IS_OS_MAC;\r\n    \r\n    public class SystemClipboard\r\n    {\r\n    \tpublic static void copy(String text)\r\n    \t{\r\n    \t\tClipboard clipboard = getSystemClipboard();\r\n    \t\tclipboard.setContents(new StringSelection(text), null);\r\n    \t}\r\n    \r\n    \tpublic static void paste() throws AWTException\r\n    \t{\r\n    \t\tRobot robot = new Robot();\r\n    \r\n            int controlKey = IS_OS_MAC ? VK_META : VK_CONTROL;\r\n\t\t    robot.keyPress(controlKey);\r\n\t\t    robot.keyPress(VK_V);\r\n\t\t    robot.keyRelease(controlKey);\r\n\t\t    robot.keyRelease(VK_V);\r\n    \t}\r\n    \r\n    \tpublic static String get() throws Exception\r\n    \t{\r\n    \t\tClipboard systemClipboard = getSystemClipboard();\r\n    \t\tDataFlavor dataFlavor = DataFlavor.stringFlavor;\r\n    \r\n    \t\tif (systemClipboard.isDataFlavorAvailable(dataFlavor))\r\n    \t\t{\r\n    \t\t\tObject text = systemClipboard.getData(dataFlavor);\r\n    \t\t\treturn (String) text;\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tprivate static Clipboard getSystemClipboard()\r\n    \t{\r\n    \t\tToolkit defaultToolkit = Toolkit.getDefaultToolkit();\r\n    \t\treturn defaultToolkit.getSystemClipboard();\r\n    \t}\r\n    }","title":"Copying text to the clipboard using Java","body":"<p>The following class allows you to copy/paste a String to/from the clipboard.</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.StringSelection;\n\nimport static java.awt.event.KeyEvent.*;\nimport static org.apache.commons.lang3.SystemUtils.IS_OS_MAC;\n\npublic class SystemClipboard\n{\n    public static void copy(String text)\n    {\n        Clipboard clipboard = getSystemClipboard();\n        clipboard.setContents(new StringSelection(text), null);\n    }\n\n    public static void paste() throws AWTException\n    {\n        Robot robot = new Robot();\n\n        int controlKey = IS_OS_MAC ? VK_META : VK_CONTROL;\n        robot.keyPress(controlKey);\n        robot.keyPress(VK_V);\n        robot.keyRelease(controlKey);\n        robot.keyRelease(VK_V);\n    }\n\n    public static String get() throws Exception\n    {\n        Clipboard systemClipboard = getSystemClipboard();\n        DataFlavor dataFlavor = DataFlavor.stringFlavor;\n\n        if (systemClipboard.isDataFlavorAvailable(dataFlavor))\n        {\n            Object text = systemClipboard.getData(dataFlavor);\n            return (String) text;\n        }\n\n        return null;\n    }\n\n    private static Clipboard getSystemClipboard()\n    {\n        Toolkit defaultToolkit = Toolkit.getDefaultToolkit();\n        return defaultToolkit.getSystemClipboard();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7605211,"reputation":1533,"user_id":5768269,"accept_rate":79,"display_name":"Wesos de Queso"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1520612605,"creation_date":1506028961,"answer_id":46353370,"question_id":6710350,"body_markdown":"This is the accepted answer written in a decorative way:\r\n\r\n    Toolkit.getDefaultToolkit()\r\n            .getSystemClipboard()\r\n            .setContents(\r\n                    new StringSelection(txtMySQLScript.getText()),\r\n                    null\r\n            );\r\n","title":"Copying text to the clipboard using Java","body":"<p>This is the accepted answer written in a decorative way:</p>\n\n<pre><code>Toolkit.getDefaultToolkit()\n        .getSystemClipboard()\n        .setContents(\n                new StringSelection(txtMySQLScript.getText()),\n                null\n        );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12449832,"reputation":27,"user_id":9064833,"display_name":"ElementCodez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574559842,"creation_date":1514403491,"answer_id":47997711,"question_id":6710350,"body_markdown":"I found a better way of doing it so you can get a input from a txtbox or have something be generated in that text box and be able to click a button to do it.!\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.Toolkit;\r\n\r\n    private void /* Action performed when the copy to clipboard button is clicked */ {\r\n        String ctc = txtCommand.getText().toString();\r\n        StringSelection stringSelection = new StringSelection(ctc);\r\n        Clipboard clpbrd = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clpbrd.setContents(stringSelection, null);\r\n    }\r\n\r\n    // txtCommand is the variable of a text box\r\n\r\n","title":"Copying text to the clipboard using Java","body":"<p>I found a better way of doing it so you can get a input from a txtbox or have something be generated in that text box and be able to click a button to do it.!</p>\n\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.Toolkit;\n\nprivate void /* Action performed when the copy to clipboard button is clicked */ {\n    String ctc = txtCommand.getText().toString();\n    StringSelection stringSelection = new StringSelection(ctc);\n    Clipboard clpbrd = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clpbrd.setContents(stringSelection, null);\n}\n\n// txtCommand is the variable of a text box\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9814213,"reputation":829,"user_id":7271217,"display_name":"gprasadr8"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1586062349,"creation_date":1586062349,"answer_id":61038222,"question_id":6710350,"body_markdown":"For **JavaFx** based applications.\r\n\r\n```java\r\n        //returns System Clipboard\r\n        final Clipboard clipboard = Clipboard.getSystemClipboard();\r\n        // ClipboardContent provides flexibility to store data in different formats\r\n        final ClipboardContent content = new ClipboardContent();\r\n        content.putString(&quot;Some text&quot;);\r\n        content.putHtml(&quot;&lt;b&gt;Some&lt;/b&gt; text&quot;);\r\n        //this will be replaced by previous putString\r\n        content.putString(&quot;Some different text&quot;);\r\n        //set the content to clipboard\r\n        clipboard.setContent(content);\r\n       // validate before retrieving it\r\n        if(clipboard.hasContent(DataFormat.HTML)){\r\n            System.out.println(clipboard.getHtml());\r\n        }\r\n        if(clipboard.hasString()){\r\n            System.out.println(clipboard.getString());\r\n        }\r\n```\r\n\r\n**ClipboardContent** can save multiple data in several data formats like(html,url,plain text,image).\r\n\r\nFor more information see [official documentation](https://docs.oracle.com/javafx/2/api/javafx/scene/input/ClipboardContent.html)","title":"Copying text to the clipboard using Java","body":"<p>For <strong>JavaFx</strong> based applications.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        //returns System Clipboard\n        final Clipboard clipboard = Clipboard.getSystemClipboard();\n        // ClipboardContent provides flexibility to store data in different formats\n        final ClipboardContent content = new ClipboardContent();\n        content.putString(\"Some text\");\n        content.putHtml(\"&lt;b&gt;Some&lt;/b&gt; text\");\n        //this will be replaced by previous putString\n        content.putString(\"Some different text\");\n        //set the content to clipboard\n        clipboard.setContent(content);\n       // validate before retrieving it\n        if(clipboard.hasContent(DataFormat.HTML)){\n            System.out.println(clipboard.getHtml());\n        }\n        if(clipboard.hasString()){\n            System.out.println(clipboard.getString());\n        }\n</code></pre>\n\n<p><strong>ClipboardContent</strong> can save multiple data in several data formats like(html,url,plain text,image).</p>\n\n<p>For more information see <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/input/ClipboardContent.html\" rel=\"noreferrer\">official documentation</a></p>\n"},{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628028996,"creation_date":1628028996,"answer_id":68643340,"question_id":6710350,"body_markdown":"For reference:\r\n\r\n    static void copyToClipboard(String text) {\r\n\t\tjava.awt.Toolkit.getDefaultToolkit().getSystemClipboard()\r\n\t\t\t.setContents(new java.awt.datatransfer.StringSelection(text), null);\r\n\t}","title":"Copying text to the clipboard using Java","body":"<p>For reference:</p>\n<pre><code>static void copyToClipboard(String text) {\n    java.awt.Toolkit.getDefaultToolkit().getSystemClipboard()\n        .setContents(new java.awt.datatransfer.StringSelection(text), null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267838,"reputation":368,"user_id":556252,"display_name":"J&#233;r&#233;mie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673369547,"creation_date":1673369547,"answer_id":75073319,"question_id":6710350,"body_markdown":"For reference here are the `copy` and `paste` functions from/to the system clipboard written in [Clojure][1] (so related to Java):\r\n\r\n```clojure\r\n\r\n(defn copy [s]\r\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\r\n      .getSystemClipboard\r\n      (.setContents (java.awt.datatransfer.StringSelection. s) nil)))\r\n\r\n(defn paste []\r\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\r\n      .getSystemClipboard\r\n      (.getContents nil)\r\n      (.getTransferData java.awt.datatransfer.DataFlavor/stringFlavor)))\r\n\r\n(copy &quot;Hello!&quot;)\r\n(paste) ;=&gt; &quot;Hello!&quot;\r\n\r\n```\r\n\r\n  [1]: https://clojure.org","title":"Copying text to the clipboard using Java","body":"<p>For reference here are the <code>copy</code> and <code>paste</code> functions from/to the system clipboard written in <a href=\"https://clojure.org\" rel=\"nofollow noreferrer\">Clojure</a> (so related to Java):</p>\n<pre class=\"lang-clj prettyprint-override\"><code>\n(defn copy [s]\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\n      .getSystemClipboard\n      (.setContents (java.awt.datatransfer.StringSelection. s) nil)))\n\n(defn paste []\n  (-&gt; (java.awt.Toolkit/getDefaultToolkit)\n      .getSystemClipboard\n      (.getContents nil)\n      (.getTransferData java.awt.datatransfer.DataFlavor/stringFlavor)))\n\n(copy &quot;Hello!&quot;)\n(paste) ;=&gt; &quot;Hello!&quot;\n\n</code></pre>\n"}],"owner":{"account_id":399645,"reputation":1903,"user_id":765134,"display_name":"user765134"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156595,"favorite_count":0,"down_vote_count":0,"up_vote_count":190,"accepted_answer_id":6713290,"answer_count":7,"score":190,"last_activity_date":1673369547,"creation_date":1310748062,"question_id":6710350,"body_markdown":"I want to copy text from a `JTable`&#39;s cell to the clipboard, making it available to be pasted into other programs such as Microsoft Word. I have the text from the `JTable`, but I am unsure how to copy it to the clipboard.\r\n","title":"Copying text to the clipboard using Java","body":"<p>I want to copy text from a <code>JTable</code>'s cell to the clipboard, making it available to be pasted into other programs such as Microsoft Word. I have the text from the <code>JTable</code>, but I am unsure how to copy it to the clipboard.</p>\n"},{"tags":["java","json","spring-boot","wiremock"],"answers":[{"tags":[],"owner":{"account_id":991044,"reputation":3556,"user_id":1008361,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1568895375,"creation_date":1568895375,"answer_id":58010817,"question_id":57972756,"body_markdown":"You can&#39;t (yet) grab the server port directly, but you can get the inbound port, which usually has the same effect:\r\n\r\n`{{{request.requestLine.port}}}`","title":"How to return WireMock server port in a response body","body":"<p>You can't (yet) grab the server port directly, but you can get the inbound port, which usually has the same effect:</p>\n\n<p><code>{{{request.requestLine.port}}}</code></p>\n"},{"tags":[],"owner":{"account_id":1289848,"reputation":3311,"user_id":1242148,"accept_rate":100,"display_name":"Mindaugas Jaraminas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579610826,"creation_date":1579610826,"answer_id":59841513,"question_id":57972756,"body_markdown":"To fix this problem thx to @Tom suggestion is:\r\n```\r\n{\r\n  &quot;priority&quot;: 1,\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;url&quot;: &quot;/api/public/v3/tasks/taskid123&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n    &quot;status&quot;: 200,\r\n    &quot;jsonBody&quot;: {\r\n      &quot;info&quot;: {\r\n        &quot;result_callbacks&quot;: [{\r\n          &quot;url&quot;: &quot;http://localhost:{{request.requestLine.port}}/download/zip/result&quot;\r\n        }]\r\n      }\r\n    },\r\n    &quot;headers&quot;: {\r\n      &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;\r\n    },\r\n    &quot;transformers&quot;: [\r\n      &quot;response-template&quot;\r\n    ]\r\n  }\r\n}\r\n```","title":"How to return WireMock server port in a response body","body":"<p>To fix this problem thx to @Tom suggestion is:</p>\n\n<pre><code>{\n  \"priority\": 1,\n  \"request\": {\n    \"method\": \"GET\",\n    \"url\": \"/api/public/v3/tasks/taskid123\"\n  },\n  \"response\": {\n    \"status\": 200,\n    \"jsonBody\": {\n      \"info\": {\n        \"result_callbacks\": [{\n          \"url\": \"http://localhost:{{request.requestLine.port}}/download/zip/result\"\n        }]\n      }\n    },\n    \"headers\": {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    },\n    \"transformers\": [\n      \"response-template\"\n    ]\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3497387,"reputation":43,"user_id":5984851,"display_name":"Илья Косолапов"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673369511,"creation_date":1673369511,"answer_id":75073307,"question_id":57972756,"body_markdown":"**Attention!** don&#39;t forget add the  *&quot;transformers&quot;: [&quot;response-template&quot;]*\r\n\r\n \r\n\r\n    &quot;response&quot;: {\r\n       ...\r\n       &quot;jsonBody&quot;: { &quot;url&quot;: &quot;http://localhost:{{port.request}}&quot; },\r\n       &quot;transformers&quot;: [&quot;response-template&quot;]\r\n       ...\r\n    }","title":"How to return WireMock server port in a response body","body":"<p><strong>Attention!</strong> don't forget add the  <em>&quot;transformers&quot;: [&quot;response-template&quot;]</em></p>\n<pre><code>&quot;response&quot;: {\n   ...\n   &quot;jsonBody&quot;: { &quot;url&quot;: &quot;http://localhost:{{port.request}}&quot; },\n   &quot;transformers&quot;: [&quot;response-template&quot;]\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":1289848,"reputation":3311,"user_id":1242148,"accept_rate":100,"display_name":"Mindaugas Jaraminas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1956,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58010817,"answer_count":3,"score":3,"last_activity_date":1673369511,"creation_date":1568717668,"question_id":57972756,"body_markdown":"I have request which is returning WireMock URL to another WireMock stub.\r\n\r\nU have a problem on CI tool port 8080 is taken so I have to use a random port. `@AutoConfigureWireMock(port = 0)` ten port is random I am not able to mock port correctly.\r\n\r\nI have mapping JSON with error:\r\n\r\n```\r\n{\r\n  &quot;priority&quot;: 1,\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;url&quot;: &quot;/api/public/v3/tasks/taskid123&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n    &quot;status&quot;: 200,\r\n    &quot;jsonBody&quot;: {\r\n      &quot;info&quot;: {\r\n        &quot;result_callbacks&quot;: [{\r\n          &quot;url&quot;: &quot;http://localhost:${wiremock.server.port}/download/zip/result&quot;\r\n        }]\r\n      }\r\n    },\r\n    &quot;headers&quot;: {\r\n      &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nHow to set server port in mapping JSON?","title":"How to return WireMock server port in a response body","body":"<p>I have request which is returning WireMock URL to another WireMock stub.</p>\n<p>U have a problem on CI tool port 8080 is taken so I have to use a random port. <code>@AutoConfigureWireMock(port = 0)</code> ten port is random I am not able to mock port correctly.</p>\n<p>I have mapping JSON with error:</p>\n<pre><code>{\n  &quot;priority&quot;: 1,\n  &quot;request&quot;: {\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;url&quot;: &quot;/api/public/v3/tasks/taskid123&quot;\n  },\n  &quot;response&quot;: {\n    &quot;status&quot;: 200,\n    &quot;jsonBody&quot;: {\n      &quot;info&quot;: {\n        &quot;result_callbacks&quot;: [{\n          &quot;url&quot;: &quot;http://localhost:${wiremock.server.port}/download/zip/result&quot;\n        }]\n      }\n    },\n    &quot;headers&quot;: {\n      &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;\n    }\n  }\n}\n</code></pre>\n<p>How to set server port in mapping JSON?</p>\n"},{"tags":["java","jpa","eclipselink","querydsl"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1673283395,"post_id":75060336,"comment_id":132459147,"body_markdown":"Some JPA providers, if configured, can write out the multiple update statements for each &#39;car&#39; update into one batch statement for your DB to handle, bringing the performance to be (more) inline with a single query statement. It still has to handle the entity merge behavior, but that can be good as well if there is an underlying cache that you want to have maintained anyway. With the query update approach, you must maintain the state of any cached entities yourself.","body":"Some JPA providers, if configured, can write out the multiple update statements for each &#39;car&#39; update into one batch statement for your DB to handle, bringing the performance to be (more) inline with a single query statement. It still has to handle the entity merge behavior, but that can be good as well if there is an underlying cache that you want to have maintained anyway. With the query update approach, you must maintain the state of any cached entities yourself."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1673310209,"post_id":75060336,"comment_id":132465953,"body_markdown":"@Chris Thanks for the answer, I am using a batch writing size:1000, and when testing both of the mentioned methods i have the best results with the second method (entityManager merge).","body":"@Chris Thanks for the answer, I am using a batch writing size:1000, and when testing both of the mentioned methods i have the best results with the second method (entityManager merge)."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673282910,"creation_date":1673282910,"answer_id":75060474,"question_id":75060336,"body_markdown":"It depends:\r\n\r\nOption 1 is much faster, but if you have any logic or listeners that should be executed will be bypassed. Also, you cannot proceed with the List of cars because they will not have the same state as the database.","title":"Best way to update a list of entities with QueryDsl, JPA and EclipseLink","body":"<p>It depends:</p>\n<p>Option 1 is much faster, but if you have any logic or listeners that should be executed will be bypassed. Also, you cannot proceed with the List of cars because they will not have the same state as the database.</p>\n"}],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673368840,"creation_date":1673282286,"question_id":75060336,"body_markdown":"Working with QueryDsl and JPA, EclipseLink, I need to update the same column for a list of entities and store that modifications in the database, **Is there a difference (terme of performance) between :**\r\n\r\n1 -Doing that by getting all the ids and execute a single query that update all the rows at the same time.\r\n\r\n2 -Using the entityManager to merge the updated entities one by one.\r\n\r\n \r\n**1.**\r\n\r\n     public void updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\r\n    \r\n     List&lt;Long&gt; ids = CarList.stream().map(v -&gt; v.getId()).collect(Collectors.toList()):\r\n             getQuery().update(CAR_TABLE).set(CAR_TABLE.processed, processed)\r\n                    .where(CAR_TABLE.id.in(ids)).execute();\r\n    }\r\n------------------    \r\n**2.**\r\n\r\n      public List&lt;Car&gt; updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\r\n    \r\n             CarList.stream().forEach(car -&gt; {\r\n                car.setProcessed(processed);\r\n                getEntityManager().merge(car);\r\n            });\r\n    \r\n            return vsCmdbUpdateInfoBEList;\r\n        }\r\n\r\n","title":"Best way to update a list of entities with QueryDsl, JPA and EclipseLink","body":"<p>Working with QueryDsl and JPA, EclipseLink, I need to update the same column for a list of entities and store that modifications in the database, <strong>Is there a difference (terme of performance) between :</strong></p>\n<p>1 -Doing that by getting all the ids and execute a single query that update all the rows at the same time.</p>\n<p>2 -Using the entityManager to merge the updated entities one by one.</p>\n<p><strong>1.</strong></p>\n<pre><code> public void updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\n\n List&lt;Long&gt; ids = CarList.stream().map(v -&gt; v.getId()).collect(Collectors.toList()):\n         getQuery().update(CAR_TABLE).set(CAR_TABLE.processed, processed)\n                .where(CAR_TABLE.id.in(ids)).execute();\n}\n</code></pre>\n<hr />\n<p><strong>2.</strong></p>\n<pre><code>  public List&lt;Car&gt; updateProcessedForCarList( List&lt;Car&gt; CarList, boolean processed) {\n\n         CarList.stream().forEach(car -&gt; {\n            car.setProcessed(processed);\n            getEntityManager().merge(car);\n        });\n\n        return vsCmdbUpdateInfoBEList;\n    }\n</code></pre>\n"},{"tags":["java","function","variables","jframe"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673360132,"post_id":75071081,"comment_id":132477583,"body_markdown":"Move it to class level and make it `static`","body":"Move it to class level and make it <code>static</code>"}],"answers":[{"tags":[],"owner":{"account_id":14060422,"reputation":36,"user_id":10156638,"display_name":"buffman23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673368686,"creation_date":1673368686,"answer_id":75073133,"question_id":75071081,"body_markdown":"1. Move *int credit = 500;* to be an [instance variable](https://stackoverflow.com/questions/16686488/what-is-an-instance-variable-in-java)\r\n2. Move all your code in *main* into a [default constructor](https://stackoverflow.com/questions/4488716/java-default-constructor) for your class Lotto\r\n3. Create an instance of Lotto in your main method\r\n\r\nAlso it is convention to capitalize class names so I changed that here.\r\n```\r\npublic class Lotto {\r\n\t\r\n\tint credit = 500;\r\n\r\n    public Lotto() \r\n\t{\r\n        Random randI = new Random();\r\n        \r\n        JFrame frame = new JFrame(&quot;Lotto&quot;);\r\n        frame.setSize(300, 300);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(null);\r\n        // ...\r\n    }\r\n    \r\n    public static void main(String[]args) {\r\n    \tLotto lotto = new Lotto();\r\n    }\r\n\r\n```\r\n\r\nOr if you want to keep your code in main and no instances created, move *int credit = 500;* out of the method and make it static.\r\n```\r\npublic class Lotto {\r\n\tstatic int credit = 500;\r\n```\r\n\r\nIf you make variables in a class static, then you don&#39;t have to have an instance to use it. &lt;br&gt;\r\nIf you make variables in a class not static, then you have to have an instance *Lotto lotto = new Lotto();* to access it  ","title":"JFrame variable updating","body":"<ol>\n<li>Move <em>int credit = 500;</em> to be an <a href=\"https://stackoverflow.com/questions/16686488/what-is-an-instance-variable-in-java\">instance variable</a></li>\n<li>Move all your code in <em>main</em> into a <a href=\"https://stackoverflow.com/questions/4488716/java-default-constructor\">default constructor</a> for your class Lotto</li>\n<li>Create an instance of Lotto in your main method</li>\n</ol>\n<p>Also it is convention to capitalize class names so I changed that here.</p>\n<pre><code>public class Lotto {\n    \n    int credit = 500;\n\n    public Lotto() \n    {\n        Random randI = new Random();\n        \n        JFrame frame = new JFrame(&quot;Lotto&quot;);\n        frame.setSize(300, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        // ...\n    }\n    \n    public static void main(String[]args) {\n        Lotto lotto = new Lotto();\n    }\n\n</code></pre>\n<p>Or if you want to keep your code in main and no instances created, move <em>int credit = 500;</em> out of the method and make it static.</p>\n<pre><code>public class Lotto {\n    static int credit = 500;\n</code></pre>\n<p>If you make variables in a class static, then you don't have to have an instance to use it. <br>\nIf you make variables in a class not static, then you have to have an instance <em>Lotto lotto = new Lotto();</em> to access it</p>\n"}],"owner":{"account_id":26532283,"reputation":23,"user_id":20164291,"display_name":"PsydoV2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673368686,"creation_date":1673359322,"question_id":75071081,"body_markdown":"I want to do a little lottery program for the school. You start with 500 credits, but every time you lose, 50 credits are deducted. My problem is that you always start with 500 credits again.\r\n\r\n\r\n```\r\npackage jframe;\r\n\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Random;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JTextField;\r\n\r\npublic class lotto {\r\n\tpublic static void main(String[]args) {\r\n\t\t\r\n\t\tRandom randI = new Random();\r\n\t\t\r\n\r\n        \r\n        \r\n        \r\n\t    JFrame frame = new JFrame(&quot;Lotto&quot;);\r\n\t    frame.setSize(300, 300);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    frame.setLayout(null);\r\n\t    \r\n\t    JTextField num1Field = new JTextField();\r\n\t    num1Field.setBounds(80, 10, 100, 30);\r\n\t    frame.add(num1Field);\r\n\t    \r\n\t    JTextField num2Field = new JTextField();\r\n\t    num2Field.setBounds(80, 50, 100, 30);\r\n\t    frame.add(num2Field);\r\n\t    \r\n\t    JTextField num3Field = new JTextField();\r\n\t    num3Field.setBounds(80, 90, 100, 30);\r\n\t    frame.add(num3Field);\r\n\t    \r\n\t    \r\n\t    JLabel num1Label = new JLabel(&quot;Zahl 1: &quot;);\r\n\t    num1Label.setBounds(20, 10, 50, 30);\r\n\t    frame.add(num1Label);\r\n\r\n\t    JLabel num2Label = new JLabel(&quot;Zahl 2: &quot;);\r\n\t    num2Label.setBounds(20, 50, 50, 30);\r\n\t    frame.add(num2Label);\r\n\t    \r\n\t    JLabel num3Label = new JLabel(&quot;Zahl 3: &quot;);\r\n\t    num3Label.setBounds(20, 90, 50, 30);\r\n\t    frame.add(num3Label);\r\n\t    \r\n\t    JButton startButton = new JButton(&quot;Start!&quot;);\r\n\t    startButton.setBounds(30, 150, 80, 30);\r\n\t    frame.add(startButton);\r\n\t    \r\n\t    JButton resetButton = new JButton(&quot;Reset&quot;);\r\n\t    resetButton.setBounds(120, 150, 80, 30);\r\n\t    frame.add(resetButton);\r\n\t    \r\n\t    JLabel ergLabel = new JLabel();\r\n\t    ergLabel.setBounds(10, 200, 400, 30);\r\n\t    frame.add(ergLabel);\r\n\t    \r\n\t    JLabel ghLabel = new JLabel(&quot;500&quot;);\r\n\t    ghLabel.setBounds(50, 230, 200, 30);\r\n\t    frame.add(ghLabel);\r\n\t    \r\n\t    \r\n\t    \r\n\t    \r\n\t    startButton.addActionListener(new ActionListener() {\r\n\t        @Override\r\n\t        public void actionPerformed(ActionEvent e) {\r\n\t          \r\n\t          int num1 = Integer.parseInt(num1Field.getText());\r\n\t          int num2 = Integer.parseInt(num2Field.getText());\r\n\t          int num3 = Integer.parseInt(num2Field.getText());\r\n\t          \r\n\r\n\t          \r\n\t          int credit = 500;\r\n\t          \r\n\t       \r\n\t          System.out.println(credit);\r\n\t          \r\n\t          \r\n\t          \r\n\t          int pcnum1 = randI.nextInt(48);\r\n\t          pcnum1 = pcnum1+1;\r\n\t          \r\n\t          int pcnum2 = randI.nextInt(48);\r\n\t          pcnum2 = pcnum2+1;\r\n\t          \r\n\t          int pcnum3 = randI.nextInt(48);\r\n\t          pcnum3 = pcnum3+1;\r\n\t          \r\n\t          boolean zahl1 = false;\r\n\t          boolean zahl2 = false;\r\n\t          boolean zahl3 = false;\r\n\t          \r\n\t          if(num1 == pcnum1) {\r\n\t        \t  zahl1 = true;\r\n\t          } else {\r\n\t        \t  zahl1 = false;\r\n\t          }\r\n\t          \r\n\t          if(num2 == pcnum2) {\r\n\t        \t  zahl2 = true;\r\n\t          } else {\r\n\t        \t  zahl2 = false;\r\n\t          }\r\n\t          \r\n\t          if(num3 == pcnum3) {\r\n\t        \t  zahl3 = true;\r\n\t          } else {\r\n\t        \t  zahl3 = false;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == true) {\r\n\t        \t  credit = credit + 500;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == false || zahl1 == true &amp;&amp; zahl3 == true &amp;&amp; -                 zahl2 == false || zahl2 == true &amp;&amp; zahl3 == true &amp;&amp; zahl1 == false) {\r\n\t        \t  credit = credit + 250;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == true &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false || zahl1 == false &amp;&amp; zahl3 == false -                 &amp;&amp; zahl2 == true || zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == true) {\r\n\t        \t  credit = credit + 100;\r\n\t          }\r\n\t          \r\n\t          if(zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false){\r\n\t        \t  credit = credit - 50;\r\n\t          }\r\n\t          \r\n\t          ergLabel.setText(&quot;1. Number: &quot; + zahl1 + &quot;  2. Number: &quot; + zahl2 + &quot;  3. Number: &quot; +          -                 zahl3);\r\n\t          ghLabel.setText(&quot;Credit: &quot; + credit);\r\n\t          \r\n\t        }\r\n\t      });\r\n\t    \r\n\t    resetButton.addActionListener(new ActionListener() {\r\n\t        @Override\r\n\t        public void actionPerformed(ActionEvent e) {\r\n\t        \t\r\n\t        \tnum1Field.setText(&quot;&quot;);\r\n\t\t        num2Field.setText(&quot;&quot;);\r\n\t\t        num3Field.setText(&quot;&quot;);\r\n\t\t        ergLabel.setText(&quot;&quot;);\r\n\t        }\r\n\t      });\r\n\t    \r\n\t    \r\n\r\n\t    \r\n\t    \r\n\t    \r\n\t    \r\n\t    \r\n\t    frame.setVisible(true);\r\n\t    \r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nMy only solution would be to declare the variable outside the function, but I don&#39;t know how to use the variable inside the function if I declare it outside.","title":"JFrame variable updating","body":"<p>I want to do a little lottery program for the school. You start with 500 credits, but every time you lose, 50 credits are deducted. My problem is that you always start with 500 credits again.</p>\n<pre><code>package jframe;\n\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\n\npublic class lotto {\n    public static void main(String[]args) {\n        \n        Random randI = new Random();\n        \n\n        \n        \n        \n        JFrame frame = new JFrame(&quot;Lotto&quot;);\n        frame.setSize(300, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        \n        JTextField num1Field = new JTextField();\n        num1Field.setBounds(80, 10, 100, 30);\n        frame.add(num1Field);\n        \n        JTextField num2Field = new JTextField();\n        num2Field.setBounds(80, 50, 100, 30);\n        frame.add(num2Field);\n        \n        JTextField num3Field = new JTextField();\n        num3Field.setBounds(80, 90, 100, 30);\n        frame.add(num3Field);\n        \n        \n        JLabel num1Label = new JLabel(&quot;Zahl 1: &quot;);\n        num1Label.setBounds(20, 10, 50, 30);\n        frame.add(num1Label);\n\n        JLabel num2Label = new JLabel(&quot;Zahl 2: &quot;);\n        num2Label.setBounds(20, 50, 50, 30);\n        frame.add(num2Label);\n        \n        JLabel num3Label = new JLabel(&quot;Zahl 3: &quot;);\n        num3Label.setBounds(20, 90, 50, 30);\n        frame.add(num3Label);\n        \n        JButton startButton = new JButton(&quot;Start!&quot;);\n        startButton.setBounds(30, 150, 80, 30);\n        frame.add(startButton);\n        \n        JButton resetButton = new JButton(&quot;Reset&quot;);\n        resetButton.setBounds(120, 150, 80, 30);\n        frame.add(resetButton);\n        \n        JLabel ergLabel = new JLabel();\n        ergLabel.setBounds(10, 200, 400, 30);\n        frame.add(ergLabel);\n        \n        JLabel ghLabel = new JLabel(&quot;500&quot;);\n        ghLabel.setBounds(50, 230, 200, 30);\n        frame.add(ghLabel);\n        \n        \n        \n        \n        startButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n              \n              int num1 = Integer.parseInt(num1Field.getText());\n              int num2 = Integer.parseInt(num2Field.getText());\n              int num3 = Integer.parseInt(num2Field.getText());\n              \n\n              \n              int credit = 500;\n              \n           \n              System.out.println(credit);\n              \n              \n              \n              int pcnum1 = randI.nextInt(48);\n              pcnum1 = pcnum1+1;\n              \n              int pcnum2 = randI.nextInt(48);\n              pcnum2 = pcnum2+1;\n              \n              int pcnum3 = randI.nextInt(48);\n              pcnum3 = pcnum3+1;\n              \n              boolean zahl1 = false;\n              boolean zahl2 = false;\n              boolean zahl3 = false;\n              \n              if(num1 == pcnum1) {\n                  zahl1 = true;\n              } else {\n                  zahl1 = false;\n              }\n              \n              if(num2 == pcnum2) {\n                  zahl2 = true;\n              } else {\n                  zahl2 = false;\n              }\n              \n              if(num3 == pcnum3) {\n                  zahl3 = true;\n              } else {\n                  zahl3 = false;\n              }\n              \n              if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == true) {\n                  credit = credit + 500;\n              }\n              \n              if(zahl1 == true &amp;&amp; zahl2 == true &amp;&amp; zahl3 == false || zahl1 == true &amp;&amp; zahl3 == true &amp;&amp; -                 zahl2 == false || zahl2 == true &amp;&amp; zahl3 == true &amp;&amp; zahl1 == false) {\n                  credit = credit + 250;\n              }\n              \n              if(zahl1 == true &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false || zahl1 == false &amp;&amp; zahl3 == false -                 &amp;&amp; zahl2 == true || zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == true) {\n                  credit = credit + 100;\n              }\n              \n              if(zahl1 == false &amp;&amp; zahl2 == false &amp;&amp; zahl3 == false){\n                  credit = credit - 50;\n              }\n              \n              ergLabel.setText(&quot;1. Number: &quot; + zahl1 + &quot;  2. Number: &quot; + zahl2 + &quot;  3. Number: &quot; +          -                 zahl3);\n              ghLabel.setText(&quot;Credit: &quot; + credit);\n              \n            }\n          });\n        \n        resetButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                \n                num1Field.setText(&quot;&quot;);\n                num2Field.setText(&quot;&quot;);\n                num3Field.setText(&quot;&quot;);\n                ergLabel.setText(&quot;&quot;);\n            }\n          });\n        \n        \n\n        \n        \n        \n        \n        \n        frame.setVisible(true);\n        \n    }\n}\n\n</code></pre>\n<p>My only solution would be to declare the variable outside the function, but I don't know how to use the variable inside the function if I declare it outside.</p>\n"},{"tags":["java","arraylist","move"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":2,"creation_date":1526460180,"post_id":50366145,"comment_id":87748478,"body_markdown":"Loop through `table1` checking if `price==20` and if so, `table2.add();` and `table1.remove()`?","body":"Loop through <code>table1</code> checking if <code>price==20</code> and if so, <code>table2.add();</code> and <code>table1.remove()</code>?"},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":5,"creation_date":1526460189,"post_id":50366145,"comment_id":87748486,"body_markdown":"Add the element to the second list and remove it from the first. What else would you want to do?","body":"Add the element to the second list and remove it from the first. What else would you want to do?"}],"answers":[{"tags":[],"owner":{"account_id":10869989,"reputation":92,"user_id":7992198,"display_name":"Alexi Courieux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673368290,"creation_date":1526460429,"answer_id":50366253,"question_id":50366145,"body_markdown":"If you want to move a specific item :\r\n    \r\n    moveSellableItem(List&lt;SellableItem&gt; source, SellableItem item, List&lt;SellableItem&gt; destination){\r\n        destination.add(item);\r\n        source.remove(item);\r\n    }\r\n\r\nIf you want to move all item with a specific parameter (price in example) :\r\n\r\n    moveSellableItemWithPrice(List&lt;SellableItem&gt; source, double price, List&lt;SellableItem&gt; destination)\r\n    {\r\n        var itemsToMove = new ArrayList&lt;SellableItem&gt;();\r\n        for(SellableItem item : source){\r\n            if(item.price == price) {\r\n                itemsToMove.add(item);\r\n            }\r\n        }\r\n        source.removeAll(itemsToMove);\r\n        destination.addAll(itemsToMove);\r\n    }\r\n\r\nIn addition, you can use a lambda instead of the foreach loop :\r\n\r\nFrom Java 8 :\r\n    `var itemsToMove = source.stream().filter(i -&gt; i.price == price).collect(Collectors.toList());`\r\n\r\nFrom Java 16 :\r\n    `var itemsToMove = source.stream().filter(i -&gt; i.price == price).toList();`","title":"Move element from one array list to another java","body":"<p>If you want to move a specific item :</p>\n<pre><code>moveSellableItem(List&lt;SellableItem&gt; source, SellableItem item, List&lt;SellableItem&gt; destination){\n    destination.add(item);\n    source.remove(item);\n}\n</code></pre>\n<p>If you want to move all item with a specific parameter (price in example) :</p>\n<pre><code>moveSellableItemWithPrice(List&lt;SellableItem&gt; source, double price, List&lt;SellableItem&gt; destination)\n{\n    var itemsToMove = new ArrayList&lt;SellableItem&gt;();\n    for(SellableItem item : source){\n        if(item.price == price) {\n            itemsToMove.add(item);\n        }\n    }\n    source.removeAll(itemsToMove);\n    destination.addAll(itemsToMove);\n}\n</code></pre>\n<p>In addition, you can use a lambda instead of the foreach loop :</p>\n<p>From Java 8 :\n<code>var itemsToMove = source.stream().filter(i -&gt; i.price == price).collect(Collectors.toList());</code></p>\n<p>From Java 16 :\n<code>var itemsToMove = source.stream().filter(i -&gt; i.price == price).toList();</code></p>\n"},{"tags":[],"owner":{"account_id":8195273,"reputation":97,"user_id":6168343,"display_name":"ayushs27"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526460507,"creation_date":1526460507,"answer_id":50366275,"question_id":50366145,"body_markdown":"            import java.util.List;\r\n            import java.util.ArrayList;\r\n            public class Details\r\n            {\r\n                public static void main(String [] args)\r\n                {\r\n                    //First ArrayList\r\n           List&lt;SellableItems&gt; arraylist1=new ArrayList&lt;SellableItems&gt;();\r\n                    arraylist1.add(SellableItems);\r\n           \r\n            \r\n                    //Second ArrayList\r\n              List&lt;SellableItems&gt; arraylist2=new ArrayList&lt;SellableItems&gt;();\r\n                    arraylist2.add(SellableItems);\r\n                    \r\n            \r\n        arraylist1.addAll(arraylist2);\r\n            \r\n                    }\r\n                }\r\n    \r\n    \r\n   **this can be done see this example**\r\n    \r\n\r\n&gt;you can refer to the begginers book for the collection framework","title":"Move element from one array list to another java","body":"<pre><code>        import java.util.List;\n        import java.util.ArrayList;\n        public class Details\n        {\n            public static void main(String [] args)\n            {\n                //First ArrayList\n       List&lt;SellableItems&gt; arraylist1=new ArrayList&lt;SellableItems&gt;();\n                arraylist1.add(SellableItems);\n\n\n                //Second ArrayList\n          List&lt;SellableItems&gt; arraylist2=new ArrayList&lt;SellableItems&gt;();\n                arraylist2.add(SellableItems);\n\n\n    arraylist1.addAll(arraylist2);\n\n                }\n            }\n</code></pre>\n\n<p><strong>this can be done see this example</strong></p>\n\n<blockquote>\n  <p>you can refer to the begginers book for the collection framework</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526460626,"creation_date":1526460626,"answer_id":50366323,"question_id":50366145,"body_markdown":"Iterate over the source list, if an item matches your criteria remove it from the source list and add it to the target list :\r\n\r\n    for(int i=0; i&lt;table1.size(); i++) {\r\n        if(table1.get(i).price==20) {\r\n            table2.add(table1.remove(i));\r\n        }\r\n    }\r\n\r\nOr with a foreach loop :\r\n\r\n    for(SellableItem item : table1) {\r\n        if(item.price==20) {\r\n            table1.remove(item);\r\n            table2.add(item);\r\n        }\r\n    }","title":"Move element from one array list to another java","body":"<p>Iterate over the source list, if an item matches your criteria remove it from the source list and add it to the target list :</p>\n\n<pre><code>for(int i=0; i&lt;table1.size(); i++) {\n    if(table1.get(i).price==20) {\n        table2.add(table1.remove(i));\n    }\n}\n</code></pre>\n\n<p>Or with a foreach loop :</p>\n\n<pre><code>for(SellableItem item : table1) {\n    if(item.price==20) {\n        table1.remove(item);\n        table2.add(item);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526461747,"creation_date":1526460711,"answer_id":50366354,"question_id":50366145,"body_markdown":"I assume that you want to _filter_ the first list and store the result into another list so that you have the original and a modified version of the same list.\r\n\r\nSince I do not know how your `SellableItem` class is structured I used some Integers for my example:\r\n\r\n    // List of random Integers for the example\r\n    List&lt;Integer&gt; li = new Random().ints( 100,0,30 ).boxed().collect( Collectors.toList() );\r\n    // The list which will contain the results\r\n    List&lt;Integer&gt; target;\r\n        \r\n    // A stream (since Java 8) which is filtering for a certain Predicate and\r\n    // collecting the result as a list.\r\n    target = li.stream().filter( i-&gt;i.intValue() &gt; 20 ).collect( Collectors.toList() );\r\n        \r\n    System.out.println( target );\r\n\r\nIn this case `target` will only contain items which are applicable to their value being bigger than 20.\r\n\r\nHowever if you don&#39;t want to keep the original and remove the items you stored in the 2nd list you can call `li.removeAll(target);`.\r\n\r\n","title":"Move element from one array list to another java","body":"<p>I assume that you want to <em>filter</em> the first list and store the result into another list so that you have the original and a modified version of the same list.</p>\n\n<p>Since I do not know how your <code>SellableItem</code> class is structured I used some Integers for my example:</p>\n\n<pre><code>// List of random Integers for the example\nList&lt;Integer&gt; li = new Random().ints( 100,0,30 ).boxed().collect( Collectors.toList() );\n// The list which will contain the results\nList&lt;Integer&gt; target;\n\n// A stream (since Java 8) which is filtering for a certain Predicate and\n// collecting the result as a list.\ntarget = li.stream().filter( i-&gt;i.intValue() &gt; 20 ).collect( Collectors.toList() );\n\nSystem.out.println( target );\n</code></pre>\n\n<p>In this case <code>target</code> will only contain items which are applicable to their value being bigger than 20.</p>\n\n<p>However if you don't want to keep the original and remove the items you stored in the 2nd list you can call <code>li.removeAll(target);</code>.</p>\n"},{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526460711,"creation_date":1526460711,"answer_id":50366355,"question_id":50366145,"body_markdown":"Iterate on the first list and add to the second list when price equals 20:\r\n\r\n    List&lt;SellableItems&gt; table1 = new ArrayList&lt;&gt;();\r\n    List&lt;SellableItems&gt; table2 = new ArrayList&lt;&gt;();\r\n\r\n    Iterator&lt;SellableItems&gt; itemsIterator = table1.iterator();\r\n    while (itemsIterator.hasNext()) {\r\n        SellableItems next = itemsIterator.next();\r\n        if (next.price.equals(20)) {\r\n            table2.add(next);\r\n            itemsIterator.remove();\r\n        }\r\n    }","title":"Move element from one array list to another java","body":"<p>Iterate on the first list and add to the second list when price equals 20:</p>\n\n<pre><code>List&lt;SellableItems&gt; table1 = new ArrayList&lt;&gt;();\nList&lt;SellableItems&gt; table2 = new ArrayList&lt;&gt;();\n\nIterator&lt;SellableItems&gt; itemsIterator = table1.iterator();\nwhile (itemsIterator.hasNext()) {\n    SellableItems next = itemsIterator.next();\n    if (next.price.equals(20)) {\n        table2.add(next);\n        itemsIterator.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526461098,"creation_date":1526461098,"answer_id":50366493,"question_id":50366145,"body_markdown":"Perhaps use a `stream` to add all the values where `name = beer` and `price = 20`\r\n\r\n    table1.stream().filter((table11) -&gt; (table11.getName().equals(&quot;beer&quot;) &amp;&amp; table11.getPrice() == 20)).forEach((table11) -&gt; {\r\n                table2.add(table11);\r\n            });\r\n\r\nThen remove all from the original list (if required)\r\n\r\n    table1.removeAll(table2);","title":"Move element from one array list to another java","body":"<p>Perhaps use a <code>stream</code> to add all the values where <code>name = beer</code> and <code>price = 20</code></p>\n\n<pre><code>table1.stream().filter((table11) -&gt; (table11.getName().equals(\"beer\") &amp;&amp; table11.getPrice() == 20)).forEach((table11) -&gt; {\n            table2.add(table11);\n        });\n</code></pre>\n\n<p>Then remove all from the original list (if required)</p>\n\n<pre><code>table1.removeAll(table2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586347119,"creation_date":1586347119,"answer_id":61100147,"question_id":50366145,"body_markdown":"Here are two additional options:\r\n\r\n    Iterator&lt;SellableItem&gt; iter = table1.iterator();\r\n    while (iter.hasNext()) {\r\n        SellableItem item = iter.next();\r\n        if (item.getName().equals(&quot;beer&quot;) &amp;&amp; item.getPrice() == 20) {\r\n            iter.remove();\r\n            table2.add(item);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    Predicate&lt;SellableItem&gt; test = item -&gt; item.getName().equals(&quot;beer&quot;) &amp;&amp; item.getPrice() == 20;\r\n    table1.stream().filter(test).forEach(table2::add);\r\n    table1.removeIf(test);","title":"Move element from one array list to another java","body":"<p>Here are two additional options:</p>\n\n<pre><code>Iterator&lt;SellableItem&gt; iter = table1.iterator();\nwhile (iter.hasNext()) {\n    SellableItem item = iter.next();\n    if (item.getName().equals(\"beer\") &amp;&amp; item.getPrice() == 20) {\n        iter.remove();\n        table2.add(item);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Predicate&lt;SellableItem&gt; test = item -&gt; item.getName().equals(\"beer\") &amp;&amp; item.getPrice() == 20;\ntable1.stream().filter(test).forEach(table2::add);\ntable1.removeIf(test);\n</code></pre>\n"}],"owner":{"account_id":12473711,"reputation":57,"user_id":9080881,"display_name":"Peter Holdensgaard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10409,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":50366253,"answer_count":7,"score":-1,"last_activity_date":1673368290,"creation_date":1526460060,"question_id":50366145,"body_markdown":"i have a problem\r\n\r\nI have two lists\r\n    \r\n    List&lt;SellableItems&gt; table1 = new ArrayList();\r\n    List&lt;SellableItems&gt; table2 = new Arraylist();\r\n\r\nIn my sellable items class, i have a name and a price.\r\n\r\nNow I wish to move elements from table1 to table2. So if i my list contains a beer with the price 20, i can move it from table1 to table2","title":"Move element from one array list to another java","body":"<p>i have a problem</p>\n\n<p>I have two lists</p>\n\n<pre><code>List&lt;SellableItems&gt; table1 = new ArrayList();\nList&lt;SellableItems&gt; table2 = new Arraylist();\n</code></pre>\n\n<p>In my sellable items class, i have a name and a price.</p>\n\n<p>Now I wish to move elements from table1 to table2. So if i my list contains a beer with the price 20, i can move it from table1 to table2</p>\n"},{"tags":["java","unit-testing","mockito","webclient"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673378191,"post_id":75072051,"comment_id":132483943,"body_markdown":"`when` is used to setup calls on mocks/stubs. Mocks/stubs don&#39;t do anything, what&#39;s the point in passing in a complicated lambda? It will never be executed and lambdas are not compared based on their &quot;logic&quot;. Perhaps you want to `when(responseSpec.onStatus(any(), any()).thenReturn(responseSpec)`?","body":"<code>when</code> is used to setup calls on mocks/stubs. Mocks/stubs don&#39;t do anything, what&#39;s the point in passing in a complicated lambda? It will never be executed and lambdas are not compared based on their &quot;logic&quot;. Perhaps you want to <code>when(responseSpec.onStatus(any(), any()).thenReturn(responseSpec)</code>?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1674000624,"post_id":75072051,"comment_id":132620847,"body_markdown":"Does this answer your question? [How to unit test the WebClient.onStatus() in java?](https://stackoverflow.com/questions/75114698/how-to-unit-test-the-webclient-onstatus-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75114698/how-to-unit-test-the-webclient-onstatus-in-java\">How to unit test the WebClient.onStatus() in java?</a>"}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673368213,"creation_date":1673363880,"question_id":75072051,"body_markdown":"I need to mock the call to onStatus. The probelem is that I am getting  the below error.\r\n\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n\r\n\r\n\r\n    when(responseSpec.onStatus(HttpStatus::isError,(clientResponse) -&gt; {\r\n      if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\r\n        return Mono.error(new Exception(&quot;402&quot;));\r\n      }\r\n      if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\r\n        return Mono.error(new Exception(&quot;500&quot;));\r\n      }\r\n      if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\r\n        return Mono.error(new Exception(&quot;512&quot;)));\r\n      }\r\n      return Mono.error(new Exception(&quot;Error while processing request&quot;));\r\n    }))\r\n            .thenReturn(responseSpec);\r\n  }","title":"Webclient OnStatus call stubbing","body":"<p>I need to mock the call to onStatus. The probelem is that I am getting  the below error.</p>\n<p>org.mockito.exceptions.misusing.PotentialStubbingProblem:\nStrict stubbing argument mismatch. Please check:</p>\n<pre><code>when(responseSpec.onStatus(HttpStatus::isError,(clientResponse) -&gt; {\n  if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\n    return Mono.error(new Exception(&quot;402&quot;));\n  }\n  if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\n    return Mono.error(new Exception(&quot;500&quot;));\n  }\n  if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\n    return Mono.error(new Exception(&quot;512&quot;)));\n  }\n  return Mono.error(new Exception(&quot;Error while processing request&quot;));\n}))\n        .thenReturn(responseSpec);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","comparison-operators"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":7,"creation_date":1673367139,"post_id":75072784,"comment_id":132480327,"body_markdown":"Since always, if you want reference equality, which you almost never do. &quot;*because they are different objects*&quot; They&#39;re not. Both refer to the same interned string literal in the string constant pool. Same object.","body":"Since always, if you want reference equality, which you almost never do. &quot;<i>because they are different objects</i>&quot; They&#39;re not. Both refer to the same interned string literal in the string constant pool. Same object."},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":1,"creation_date":1673367233,"post_id":75072784,"comment_id":132480374,"body_markdown":"this link might give more details - https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/","body":"this link might give more details - <a href=\"https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/difference-between-and-equals-method-in-ja&zwnj;&#8203;va</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673367406,"post_id":75072784,"comment_id":132480445,"body_markdown":"the reason is that the string literal `&quot;hello&quot;` is known at compile time and thus ends up in the interned string pool. `s` is a reference to it. Since the references are the same, the `==` returns true. This would be different if you read that `&quot;hello&quot;` in line 2 from stdin or a file instead of using the same compile time constant.","body":"the reason is that the string literal <code>&quot;hello&quot;</code> is known at compile time and thus ends up in the interned string pool. <code>s</code> is a reference to it. Since the references are the same, the <code>==</code> returns true. This would be different if you read that <code>&quot;hello&quot;</code> in line 2 from stdin or a file instead of using the same compile time constant."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673367418,"post_id":75072784,"comment_id":132480449,"body_markdown":"&quot;Since always&quot;.  Indeed, this is not an optimization.  Rather it is a behavior that is **mandated** by the Java Language Specification.  JLS 3.10.5 states: *&quot;Moreover, a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (&#167;12.5). &quot;*","body":"&quot;Since always&quot;.  Indeed, this is not an optimization.  Rather it is a behavior that is <b>mandated</b> by the Java Language Specification.  JLS 3.10.5 states: <i>&quot;Moreover, a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (&#167;12.5). &quot;</i>"},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1673367529,"post_id":75072784,"comment_id":132480498,"body_markdown":"Curious, as this is not the way I&#39;ve been told by my profs when he taught me Java. I guess  he got it confused with C languages. Thanks.","body":"Curious, as this is not the way I&#39;ve been told by my profs when he taught me Java. I guess  he got it confused with C languages. Thanks."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673367576,"post_id":75072784,"comment_id":132480519,"body_markdown":"Either he was confused ... or you didn&#39;t hear / understand him correctly.  Lets be fair :-)","body":"Either he was confused ... or you didn&#39;t hear / understand him correctly.  Lets be fair :-)"},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1673367617,"post_id":75072784,"comment_id":132480530,"body_markdown":"@StephenC fair enough :-) I do still have his slides though","body":"@StephenC fair enough :-) I do still have his slides though"}],"answers":[{"tags":[],"owner":{"account_id":16152814,"reputation":203,"user_id":11683534,"display_name":"Ryan Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673368068,"creation_date":1673368068,"answer_id":75073004,"question_id":75072784,"body_markdown":"You are correct that `==` operator in Java will only return `true` if both references are pointing to the exact same object.\r\n\r\nNow for why does `s == &quot;hello&quot;` return `true` for your example it has to do with how the Java compiler works. \r\n\r\nIn Java all strings are immutable. This means the objects themselves can not be changed. When you update the contents of a string in Java a new string object is created.\r\n\r\nThis allows the Java compiler to save memory at runtime by implementing [string interning][1]. Any string that is defined in the source code as a literal is placed in a string intern pool. When adding a string literal to this pool the complier checks if that string is in the pool and if yes returns a reference to the existing string. This means if you use the same string literal multiple times in the source code it is only stored once in memory.\r\n\r\nIn your example you use the string literal `&quot;hello&quot;` three times. When compiled all 3 string literals become the same string object. This is why in your example `s == &quot;hello&quot;` returns `true`.\r\n\r\nUsing `==` is bad practice when comparing strings in Java. It happens to &quot;work&quot; in your example because of how your example code is written and how the Java compiler works.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/String_interning","title":"Since When Can We Compare Strings with == in Java?","body":"<p>You are correct that <code>==</code> operator in Java will only return <code>true</code> if both references are pointing to the exact same object.</p>\n<p>Now for why does <code>s == &quot;hello&quot;</code> return <code>true</code> for your example it has to do with how the Java compiler works.</p>\n<p>In Java all strings are immutable. This means the objects themselves can not be changed. When you update the contents of a string in Java a new string object is created.</p>\n<p>This allows the Java compiler to save memory at runtime by implementing <a href=\"https://en.wikipedia.org/wiki/String_interning\" rel=\"nofollow noreferrer\">string interning</a>. Any string that is defined in the source code as a literal is placed in a string intern pool. When adding a string literal to this pool the complier checks if that string is in the pool and if yes returns a reference to the existing string. This means if you use the same string literal multiple times in the source code it is only stored once in memory.</p>\n<p>In your example you use the string literal <code>&quot;hello&quot;</code> three times. When compiled all 3 string literals become the same string object. This is why in your example <code>s == &quot;hello&quot;</code> returns <code>true</code>.</p>\n<p>Using <code>==</code> is bad practice when comparing strings in Java. It happens to &quot;work&quot; in your example because of how your example code is written and how the Java compiler works.</p>\n"}],"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673367265,"accepted_answer_id":75073004,"answer_count":1,"score":0,"last_activity_date":1673368068,"creation_date":1673367070,"question_id":75072784,"body_markdown":"I recently went back to the String comparisons in Java and tried this:\r\n\r\n```Java\r\nString s = &quot;hello&quot;;\r\nSystem.out.println(s == &quot;hello&quot;);\r\nSystem.out.println(s.equals(&quot;hello&quot;));\r\n```\r\n\r\nWhen I run it with jdk 19.0.1, Both expressions evaluate to `true` despite IDE warnings.\r\n\r\nThis is obviously against all my intuition, as I&#39;ve been told since my very first day programming in Java that the first expression should be evaluate to `false` because they are different objects. My best guess is that Java has done some optimization at some point to override String comparison with `==`, only I would like to know when did they do that.\r\n\r\nDoes anyone remember in which Java version has this optimization been done? Thanks.\r\n\r\n\r\n","title":"Since When Can We Compare Strings with == in Java?","body":"<p>I recently went back to the String comparisons in Java and tried this:</p>\n<pre><code>String s = &quot;hello&quot;;\nSystem.out.println(s == &quot;hello&quot;);\nSystem.out.println(s.equals(&quot;hello&quot;));\n</code></pre>\n<p>When I run it with jdk 19.0.1, Both expressions evaluate to <code>true</code> despite IDE warnings.</p>\n<p>This is obviously against all my intuition, as I've been told since my very first day programming in Java that the first expression should be evaluate to <code>false</code> because they are different objects. My best guess is that Java has done some optimization at some point to override String comparison with <code>==</code>, only I would like to know when did they do that.</p>\n<p>Does anyone remember in which Java version has this optimization been done? Thanks.</p>\n"},{"tags":["java","libgdx","slider","desktop-application"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1498267550,"post_id":44731304,"comment_id":76446363,"body_markdown":"You need to wrap the cast: `((ChangeListener) slider.getListeners().get(0)).change`","body":"You need to wrap the cast: <code>((ChangeListener) slider.getListeners().get(0)).change</code>"},{"owner":{"account_id":2562510,"reputation":1624,"user_id":2223360,"display_name":"clearlyspam23"},"score":0,"creation_date":1498268318,"post_id":44731304,"comment_id":76446481,"body_markdown":"Have you tried calling progressBar.setValue?\n\nhttps://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/ui/ProgressBar.html#setValue-float-","body":"Have you tried calling progressBar.setValue?  <a href=\"https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/ui/ProgressBar.html#setValue-float-\" rel=\"nofollow noreferrer\">libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4206565,"reputation":20016,"user_id":3445320,"display_name":"AAryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498395949,"creation_date":1498278268,"answer_id":44732732,"question_id":44731304,"body_markdown":"You can use `setValue(float value)` method of `Slider` to change value of slider programmatically.\r\n\r\n    public class GdxTest extends ApplicationAdapter {\r\n    \r\n        Stage stage;\r\n        Slider slider;\r\n        \r\n        @Override\r\n        public void create() {\r\n    \r\n            stage=new Stage();\r\n            Gdx.input.setInputProcessor(stage);\r\n            Skin skin=new Skin(Gdx.files.internal(&quot;skin/glassy-ui.json&quot;));\r\n    \r\n            Table table=new Table();\r\n            table.setFillParent(true);\r\n    \r\n            stage.addActor(table);\r\n            table.add(slider=new Slider(0,100,1,false,skin));\r\n    \r\n            slider.setValue(50);   // value changed by 50%\r\n        }\r\n\r\n        ...\r\n    }","title":"How to change the value of a Slider programmatically? (LibGDX)","body":"<p>You can use <code>setValue(float value)</code> method of <code>Slider</code> to change value of slider programmatically.</p>\n\n<pre><code>public class GdxTest extends ApplicationAdapter {\n\n    Stage stage;\n    Slider slider;\n\n    @Override\n    public void create() {\n\n        stage=new Stage();\n        Gdx.input.setInputProcessor(stage);\n        Skin skin=new Skin(Gdx.files.internal(\"skin/glassy-ui.json\"));\n\n        Table table=new Table();\n        table.setFillParent(true);\n\n        stage.addActor(table);\n        table.add(slider=new Slider(0,100,1,false,skin));\n\n        slider.setValue(50);   // value changed by 50%\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21005467,"reputation":1,"user_id":16378090,"display_name":"Mohamed Elcessy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673367956,"creation_date":1673332016,"answer_id":75066229,"question_id":44731304,"body_markdown":"    slider.setAnimateDuration(0.3f);","title":"How to change the value of a Slider programmatically? (LibGDX)","body":"<pre><code>slider.setAnimateDuration(0.3f);\n</code></pre>\n"}],"owner":{"account_id":10442625,"reputation":51,"user_id":7698759,"accept_rate":0,"display_name":"Samuel M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673367956,"creation_date":1498261176,"question_id":44731304,"body_markdown":"I think I am missing something obvious, but I can&#39;t seem to change the value of a Slider (Scene2D.ui) programmatically.\r\nThe reason that I want to do this is because I have a character that you can customize with the sliders but I want to have some preset characters that you can use as a starting point for customization.\r\n\r\nWhat I have so far is something like this:\r\n\r\n`(ChangeListener)(slider.getListeners().get(0))` but I cannot call the `changed(ChangeEvent event, Actor actor)` method that is called when the slider is changed.","title":"How to change the value of a Slider programmatically? (LibGDX)","body":"<p>I think I am missing something obvious, but I can't seem to change the value of a Slider (Scene2D.ui) programmatically.\nThe reason that I want to do this is because I have a character that you can customize with the sliders but I want to have some preset characters that you can use as a starting point for customization.</p>\n\n<p>What I have so far is something like this:</p>\n\n<p><code>(ChangeListener)(slider.getListeners().get(0))</code> but I cannot call the <code>changed(ChangeEvent event, Actor actor)</code> method that is called when the slider is changed.</p>\n"},{"tags":["java","g1gc"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1656596249,"post_id":72816175,"comment_id":128615599,"body_markdown":"While there&#39;s not a lot of long-term data, a jagged yet increasing usage of memory over time is usually a good indicator of more and more objects being unable to be reclaimed (i.e. a memory leak). If that&#39;s the case, in the short term _scheduling_ a restart at a reasonable time (e.g. 4am) may reduce the impact of this, since you can only grow memory for so long.","body":"While there&#39;s not a lot of long-term data, a jagged yet increasing usage of memory over time is usually a good indicator of more and more objects being unable to be reclaimed (i.e. a memory leak). If that&#39;s the case, in the short term <i>scheduling</i> a restart at a reasonable time (e.g. 4am) may reduce the impact of this, since you can only grow memory for so long."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1673368220,"post_id":72816175,"comment_id":132480764,"body_markdown":"What is the exact exception that you&#39;re seeing? `OutOfMemoryError` could be due to a number of reasons, e.g. `Java heap space` (where there really is not enough heap available), `GC overhead limit` (i.e. GC has been running but was unable to reclaim past a certain threshold in a given timeframe), and so on. The specific cause and fix depend on which error you&#39;re getting.","body":"What is the exact exception that you&#39;re seeing? <code>OutOfMemoryError</code> could be due to a number of reasons, e.g. <code>Java heap space</code> (where there really is not enough heap available), <code>GC overhead limit</code> (i.e. GC has been running but was unable to reclaim past a certain threshold in a given timeframe), and so on. The specific cause and fix depend on which error you&#39;re getting."},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1673370254,"post_id":72816175,"comment_id":132481498,"body_markdown":"From the charts above, it looks like the heap keeps increasing, so there may be a leak somewhere. The usual way to analyze is to take a memory dump and investigate it with sth like Eclipse MAT plugin. Another useful simpler tool that may give a hint is `jmap -histo` which lists the objects using the most memory.","body":"From the charts above, it looks like the heap keeps increasing, so there may be a leak somewhere. The usual way to analyze is to take a memory dump and investigate it with sth like Eclipse MAT plugin. Another useful simpler tool that may give a hint is <code>jmap -histo</code> which lists the objects using the most memory."}],"answers":[{"tags":[],"owner":{"account_id":27490350,"reputation":21,"user_id":20975840,"display_name":"Russell Rogers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673367742,"creation_date":1673367742,"answer_id":75072941,"question_id":72816175,"body_markdown":"So the JVM will determine which garbage collector (GC) to use based on the amount of memory and CPU given to the application.  By default, it will use the Serial GC if the RAM is under 2GB or the CPU cores is less than 2.  For a Kubernetes server application, the Serial GC is not a great choice as it runs in a single thread and it seems to wait until the heap is near the max limit to reclaim the heap space.  It also results in a lot of pausing of the application which can lead to health check failures or scaling to due to momentary higher cpu usage.  What has worked best for us, is to force the use of the G1 GC collector.  It is a concurrent collector that runs side by side with your app and tries its best to minimize application pausing.  I would suggest setting your CPU limit to at least 1 and setting your RAM limit to however much you think your application is going to use plus a little overhead.  To force the G1 GC collector add the following option to your java *XX:+UseG1GC*.","title":"Java 17 process running out of memory on Kubernetes when memory potentially available","body":"<p>So the JVM will determine which garbage collector (GC) to use based on the amount of memory and CPU given to the application.  By default, it will use the Serial GC if the RAM is under 2GB or the CPU cores is less than 2.  For a Kubernetes server application, the Serial GC is not a great choice as it runs in a single thread and it seems to wait until the heap is near the max limit to reclaim the heap space.  It also results in a lot of pausing of the application which can lead to health check failures or scaling to due to momentary higher cpu usage.  What has worked best for us, is to force the use of the G1 GC collector.  It is a concurrent collector that runs side by side with your app and tries its best to minimize application pausing.  I would suggest setting your CPU limit to at least 1 and setting your RAM limit to however much you think your application is going to use plus a little overhead.  To force the G1 GC collector add the following option to your java <em>XX:+UseG1GC</em>.</p>\n"}],"owner":{"account_id":1324009,"reputation":89,"user_id":1269245,"display_name":"Thomas Lynema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2769,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673367742,"creation_date":1656593509,"question_id":72816175,"body_markdown":"The goal is to understand what should be tuned in order for the Java process to stop restarting itself.\r\n\r\nWe have a Java Springboot backend application with Hazelcast running that restarts instead of garbage collecting.  \r\nEnvironment is:\r\n&gt; Amazon Corretto 17.0.3\r\n&gt; \r\n\r\nThe only memory tuning parameter supplied is: \r\n\r\n&gt; -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0\r\n\r\nThe memory limit in kubernetes is 2Gi so the container gets 1.6Gi\r\n\r\nGraphs of memory usage:\r\n\r\n[![Heap][1]][1]\r\n\r\n\r\n[![Eden][2]][2]\r\n\r\n[![Old Gen][3]][3]\r\n\r\nThe huge drop towards the end is where I performed a heap dump.  Performing the dump lead to a drastic decrease in memory usage (due to a full GC?).\r\n\r\n[![Heap dump results][4]][4]\r\n\r\nThe GC appears to be working against me here. If the memory dump was not performed, the container hits what appears to be a memory limit, it is restarted by kubernetes, and it continues in this cycle.  Are there tuning parameters that are missed, is this a clear memory leak (perhaps due to hazelcast metrics) https://github.com/hazelcast/hazelcast/issues/16672)?\r\n\r\n  [1]: https://i.stack.imgur.com/7PGI1.png\r\n  [2]: https://i.stack.imgur.com/QUf8n.png\r\n  [3]: https://i.stack.imgur.com/0KQSB.png\r\n  [4]: https://i.stack.imgur.com/9UPeN.png","title":"Java 17 process running out of memory on Kubernetes when memory potentially available","body":"<p>The goal is to understand what should be tuned in order for the Java process to stop restarting itself.</p>\n<p>We have a Java Springboot backend application with Hazelcast running that restarts instead of garbage collecting.<br />\nEnvironment is:</p>\n<blockquote>\n<p>Amazon Corretto 17.0.3</p>\n</blockquote>\n<p>The only memory tuning parameter supplied is:</p>\n<blockquote>\n<p>-XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0</p>\n</blockquote>\n<p>The memory limit in kubernetes is 2Gi so the container gets 1.6Gi</p>\n<p>Graphs of memory usage:</p>\n<p><a href=\"https://i.stack.imgur.com/7PGI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7PGI1.png\" alt=\"Heap\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QUf8n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QUf8n.png\" alt=\"Eden\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0KQSB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KQSB.png\" alt=\"Old Gen\" /></a></p>\n<p>The huge drop towards the end is where I performed a heap dump.  Performing the dump lead to a drastic decrease in memory usage (due to a full GC?).</p>\n<p><a href=\"https://i.stack.imgur.com/9UPeN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9UPeN.png\" alt=\"Heap dump results\" /></a></p>\n<p>The GC appears to be working against me here. If the memory dump was not performed, the container hits what appears to be a memory limit, it is restarted by kubernetes, and it continues in this cycle.  Are there tuning parameters that are missed, is this a clear memory leak (perhaps due to hazelcast metrics) <a href=\"https://github.com/hazelcast/hazelcast/issues/16672\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/16672</a>)?</p>\n"},{"tags":["java","maven","repository","cobra"],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673367685,"creation_date":1673367685,"question_id":75072927,"body_markdown":"I working on converting a project from ant to maven and am getting errors trying to pull in jars from geomajas.\r\n\r\nI am not behind a firewall and the dependencies from maven central are downloading.  I have also added geomajas to the repositories in my projects pom.xml.  \r\n\r\nBelow are the relevant portions from the pom.xml and the error I am getting.\r\n\r\nIf I instead define the jar dependency with a system path to a local copy of the jar the project builds successfully. \r\n```\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.lobobrowser&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cobra&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.98.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n.....\r\n&lt;repository&gt;\r\n\t&lt;id&gt;geomajas&lt;/id&gt;\r\n\t&lt;name&gt;Geomajas Maven Repository&lt;/name&gt;\r\n\t&lt;url&gt;https://maven.geomajas.org/(https://maven.geomajas.org/)&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n\r\n```\r\n\r\n[ERROR] Failed to execute goal on project niksun-services-util: Could not resolve dependencies for project com.niksun:niksun-services-util:jar:main: Failed to collect dependencies at org.lobobrowser:cobra:jar:0.98.4: Failed to read artifact descriptor for org.lobobrowser:cobra:jar:0.98.4: Could not transfer artifact org.lobobrowser:cobra:pom:0.98.4 from/to geomajas (http://maven.geomajas.org/(http://maven.geomajas.org/)): connect timed out -&gt; [Help 1]\r\n```\r\n","title":"Maven Unable to Collect Dependencies at Extra Repositories","body":"<p>I working on converting a project from ant to maven and am getting errors trying to pull in jars from geomajas.</p>\n<p>I am not behind a firewall and the dependencies from maven central are downloading.  I have also added geomajas to the repositories in my projects pom.xml.</p>\n<p>Below are the relevant portions from the pom.xml and the error I am getting.</p>\n<p>If I instead define the jar dependency with a system path to a local copy of the jar the project builds successfully.</p>\n<pre><code>\n&lt;dependency&gt;\n    &lt;groupId&gt;org.lobobrowser&lt;/groupId&gt;\n    &lt;artifactId&gt;cobra&lt;/artifactId&gt;\n    &lt;version&gt;0.98.4&lt;/version&gt;\n&lt;/dependency&gt;\n.....\n&lt;repository&gt;\n    &lt;id&gt;geomajas&lt;/id&gt;\n    &lt;name&gt;Geomajas Maven Repository&lt;/name&gt;\n    &lt;url&gt;https://maven.geomajas.org/(https://maven.geomajas.org/)&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<pre><code>\n[ERROR] Failed to execute goal on project niksun-services-util: Could not resolve dependencies for project com.niksun:niksun-services-util:jar:main: Failed to collect dependencies at org.lobobrowser:cobra:jar:0.98.4: Failed to read artifact descriptor for org.lobobrowser:cobra:jar:0.98.4: Could not transfer artifact org.lobobrowser:cobra:pom:0.98.4 from/to geomajas (http://maven.geomajas.org/(http://maven.geomajas.org/)): connect timed out -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","oracle-adf","jdeveloper"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1426105221,"post_id":28990602,"comment_id":46241216,"body_markdown":"`Please see this log file for more details: C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36\\o.j2ee.adrs\\CreateDefaultDomain.log` ... do that :).","body":"<code>Please see this log file for more details: C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1&zwnj;&#8203;.2.36.55.36\\o.j2ee.a&zwnj;&#8203;drs\\CreateDefaultDom&zwnj;&#8203;ain.log</code> ... do that :)."}],"answers":[{"tags":[],"owner":{"account_id":371386,"reputation":3693,"user_id":719884,"display_name":"Shay Shmeltzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426277119,"creation_date":1426277119,"answer_id":29041032,"question_id":28990602,"body_markdown":"Is you JDK or JDeveloper installed in a path that has a space in it (&quot;Program files&quot;) if so you would want to move it to a directory with no spaces.\r\nTry removing the C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36 directory and restarting JDeveloper.","title":"jdeveloper error","body":"<p>Is you JDK or JDeveloper installed in a path that has a space in it (\"Program files\") if so you would want to move it to a directory with no spaces.\nTry removing the C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36 directory and restarting JDeveloper.</p>\n"},{"tags":[],"owner":{"account_id":9625381,"reputation":4042,"user_id":7145177,"display_name":"Pransh Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524664566,"creation_date":1524664566,"answer_id":50024186,"question_id":28990602,"body_markdown":"Make sure the environment variables are set properly. For eg)\r\n\r\n    setenv JAVA_HOME /ade_autofs/gd29_3rdparty/JDK6_MAIN_LINUX.X64.rdd/121114.1.6.0.38.0B05/jdk6\r\n\r\nIf it doesn&#39;t work, try removing the default domain directory. It is generally located inside the view, in .jdev_user_home with name as systemxx.x. \r\n\r\nTry restarting after this if it doesn&#39;t work. ","title":"jdeveloper error","body":"<p>Make sure the environment variables are set properly. For eg)</p>\n\n<pre><code>setenv JAVA_HOME /ade_autofs/gd29_3rdparty/JDK6_MAIN_LINUX.X64.rdd/121114.1.6.0.38.0B05/jdk6\n</code></pre>\n\n<p>If it doesn't work, try removing the default domain directory. It is generally located inside the view, in .jdev_user_home with name as systemxx.x. </p>\n\n<p>Try restarting after this if it doesn't work. </p>\n"},{"tags":[],"owner":{"account_id":14590366,"reputation":1,"user_id":10537714,"display_name":"alexandros mantsakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673367430,"creation_date":1673367430,"answer_id":75072859,"question_id":28990602,"body_markdown":"Make sure your `JAVA_HOME` is set up properly to show to your JDK folder and also that the `PATH` variable includes the JAVA_HOME variable. :D","title":"jdeveloper error","body":"<p>Make sure your <code>JAVA_HOME</code> is set up properly to show to your JDK folder and also that the <code>PATH</code> variable includes the JAVA_HOME variable. :D</p>\n"}],"owner":{"account_id":1510082,"reputation":35,"user_id":1412433,"display_name":"el-shaimaa badr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3497,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1673367430,"creation_date":1426087368,"question_id":28990602,"body_markdown":"Please I want help, I have installed JDeveloper Studio Edition Version 11.1.1.2.0. \r\n\r\nI get an error trying to run the Debugger on the application. The server appears to be the only area of JDeveloper that has issues under this account, and below is the Log:\r\n\r\n\r\n&gt; [Waiting for the domain to finish building...] [12:51:06 PM] Creating\r\n&gt; Integrated Weblogic domain... The Server Instance cannot be started\r\n&gt; because the Integrated Weblogic domain was not built successfully.\r\n&gt; [12:51:20 PM] ERROR: An error occurred while building the default\r\n&gt; domain. Please see this log file for more details:\r\n&gt; C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36\\o.j2ee.adrs\\CreateDefaultDomain.log\r\n\r\n","title":"jdeveloper error","body":"<p>Please I want help, I have installed JDeveloper Studio Edition Version 11.1.1.2.0. </p>\n\n<p>I get an error trying to run the Debugger on the application. The server appears to be the only area of JDeveloper that has issues under this account, and below is the Log:</p>\n\n<blockquote>\n  <p>[Waiting for the domain to finish building...] [12:51:06 PM] Creating\n  Integrated Weblogic domain... The Server Instance cannot be started\n  because the Integrated Weblogic domain was not built successfully.\n  [12:51:20 PM] ERROR: An error occurred while building the default\n  domain. Please see this log file for more details:\n  C:\\Users\\Brian.Hess2\\AppData\\Roaming\\JDeveloper\\system11.1.1.2.36.55.36\\o.j2ee.adrs\\CreateDefaultDomain.log</p>\n</blockquote>\n"},{"tags":["java","teamcity"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673363998,"post_id":75072034,"comment_id":132479019,"body_markdown":"Add error messages as text not as unreadable image","body":"Add error messages as text not as unreadable image"},{"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"score":0,"creation_date":1673367339,"post_id":75072034,"comment_id":132480416,"body_markdown":"Okay I added to question.","body":"Okay I added to question."},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1673476151,"post_id":75072034,"comment_id":132510897,"body_markdown":"nice question. taking a look into it. could you please also fire this bug to jetbrains youtrack?","body":"nice question. taking a look into it. could you please also fire this bug to jetbrains youtrack?"},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1673513969,"post_id":75072034,"comment_id":132517537,"body_markdown":"which version of TeamCity do you use?","body":"which version of TeamCity do you use?"},{"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"score":0,"creation_date":1673591018,"post_id":75072034,"comment_id":132537757,"body_markdown":"TeamCity Professional 2022.10.1 (build 116934)","body":"TeamCity Professional 2022.10.1 (build 116934)"},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1673593518,"post_id":75072034,"comment_id":132538243,"body_markdown":"how it is installed? in docker? @HighHill","body":"how it is installed? in docker? @HighHill"},{"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"score":0,"creation_date":1673612350,"post_id":75072034,"comment_id":132543815,"body_markdown":"No, in Windows 11","body":"No, in Windows 11"}],"owner":{"account_id":16941532,"reputation":47,"user_id":12253288,"display_name":"HighHill"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673367285,"creation_date":1673363778,"question_id":75072034,"body_markdown":"I installed TC on my new pc but ı have some failures. I am getting Failed to &quot;initialize Spring Context&quot; Error after TC installation and TC WebUI is not working properly. I connected db from PostgreSQL and JRE 1.8.0_351 installed.\r\n\r\nHere is the screenshot:\r\n[![TeamCityError][1]][1]\r\n\r\nError Message:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLEndpoint&#39; defined in URL [jar:file:/C:/TeamCity/webapps/ROOT/WEB-INF/plugins/.unpacked/rest-api/server/rest-api.jar!/jetbrains/buildServer/server/graphql/GraphQLEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;graphQLProvider&#39;: Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\r\n    \r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)\r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.getİd(jetbrains.buildServer.server.graphql.model.Agent)\r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.id\r\n    jetbrains.buildServer.server.graphql.model.Agent.id()\r\n    jetbrains.buildServer.server.graphql.model.Agent.getİd()\r\n    jetbrains.buildServer.server.graphql.model.Agent.id\r\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    at jetbrains.buildServer.plugins.spring.SpringPluginLoader.pluginClassesLoaded(SpringPluginLoader.java:126)\r\n    at jdk.internal.reflect.GeneratedMethodAccessor109.invoke(Unknown Source)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at jetbrains.buildServer.util.EventDispatcher.invokeListeners(EventDispatcher.java:157)\r\n    at jetbrains.buildServer.util.EventDispatcher.dispatch(EventDispatcher.java:136)\r\n    at jetbrains.buildServer.util.EventDispatcher$2.invoke(EventDispatcher.java:82)\r\n    at com.sun.proxy.$Proxy48.pluginClassesLoaded(Unknown Source)\r\n    at jetbrains.buildServer.plugins.PluginManagerImpl$5.visitPlugin(PluginManagerImpl.java:441)\r\n    at jetbrains.buildServer.plugins.PluginsCollection$1.run(PluginsCollection.java:98)\r\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;graphQLProvider&#39;: Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\r\n    \r\n    jetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)...\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KlrKD.png","title":"TeamCity Rest API &quot;Failed to initialize Spring Context&quot; Error","body":"<p>I installed TC on my new pc but ı have some failures. I am getting Failed to &quot;initialize Spring Context&quot; Error after TC installation and TC WebUI is not working properly. I connected db from PostgreSQL and JRE 1.8.0_351 installed.</p>\n<p>Here is the screenshot:\n<a href=\"https://i.stack.imgur.com/KlrKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KlrKD.png\" alt=\"TeamCityError\" /></a></p>\n<p>Error Message:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLEndpoint' defined in URL [jar:file:/C:/TeamCity/webapps/ROOT/WEB-INF/plugins/.unpacked/rest-api/server/rest-api.jar!/jetbrains/buildServer/server/graphql/GraphQLEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'graphQLProvider': Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\n\njetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)\njetbrains.buildServer.server.graphql.resolver.AgentResolver.getİd(jetbrains.buildServer.server.graphql.model.Agent)\njetbrains.buildServer.server.graphql.resolver.AgentResolver.id\njetbrains.buildServer.server.graphql.model.Agent.id()\njetbrains.buildServer.server.graphql.model.Agent.getİd()\njetbrains.buildServer.server.graphql.model.Agent.id\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat jetbrains.buildServer.plugins.spring.SpringPluginLoader.pluginClassesLoaded(SpringPluginLoader.java:126)\nat jdk.internal.reflect.GeneratedMethodAccessor109.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat jetbrains.buildServer.util.EventDispatcher.invokeListeners(EventDispatcher.java:157)\nat jetbrains.buildServer.util.EventDispatcher.dispatch(EventDispatcher.java:136)\nat jetbrains.buildServer.util.EventDispatcher$2.invoke(EventDispatcher.java:82)\nat com.sun.proxy.$Proxy48.pluginClassesLoaded(Unknown Source)\nat jetbrains.buildServer.plugins.PluginManagerImpl$5.visitPlugin(PluginManagerImpl.java:441)\nat jetbrains.buildServer.plugins.PluginsCollection$1.run(PluginsCollection.java:98)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'graphQLProvider': Invocation of init method failed; nested exception is graphql.kickstart.tools.resolver.FieldResolverError: No method or field found as defined in schema &lt;unknown&gt;:282 with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\n\njetbrains.buildServer.server.graphql.resolver.AgentResolver.id(jetbrains.buildServer.server.graphql.model.Agent)...\n</code></pre>\n"},{"tags":["java","mockito","java-17"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1673368494,"post_id":75072665,"comment_id":132480877,"body_markdown":"Side-note: what&#39;s the point in verifying a byte array stream never gets closed since closing it does nothing? **Edit**: sauce [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html#close()) and [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html#close())","body":"Side-note: what&#39;s the point in verifying a byte array stream never gets closed since closing it does nothing? <b>Edit</b>: sauce <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html#close()\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html#close()\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":27489868,"reputation":1,"user_id":20975449,"display_name":"Lars van roy"},"score":0,"creation_date":1673421445,"post_id":75072665,"comment_id":132492348,"body_markdown":"While true, the usage is not  restricted to ByteArrayOutputStream and the close might have effect for the other ones, we simply wish to verify whether or not the close operation is invoked, independent of which output stream is passed.","body":"While true, the usage is not  restricted to ByteArrayOutputStream and the close might have effect for the other ones, we simply wish to verify whether or not the close operation is invoked, independent of which output stream is passed."}],"owner":{"account_id":27489868,"reputation":1,"user_id":20975449,"display_name":"Lars van roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673367071,"creation_date":1673366606,"question_id":75072665,"body_markdown":"We recently upgraded our JDK from 11 to 17. Part of this upgrade included an upgrade from mockito from version 3.3.3 to mockito version 4.11.0.\r\n\r\nOne of our existing tests which used to work in the past broke because of this. In this test we spy on a ByteArrayOutputStream object to verify that it does not get closed. This test fails because of the error given below.\r\n\r\n```\r\n@Test\r\nvoid encryptionDoesNotCloseOutputStream() throws Throwable {\r\n    byte[] key = new byte[32];\r\n    RANDOM.nextBytes(key);\r\n    byte[] data = new byte[101];\r\n    RANDOM.nextBytes(data);\r\n    ByteArrayInputStream in = spy(new ByteArrayInputStream(data));\r\n    ByteArrayOutputStream out = spy(new ByteArrayOutputStream());\r\n\r\n    ...\r\n    \r\n    // Write the IV at the beginning of the file (first 12 Bytes)\r\n    out.write(buffers.iv);\r\n    \r\n    ...\r\n\r\n    verify(in, never()).close();\r\n    verify(out, never()).close();\r\n}\r\n```\r\n\r\nThis results in the following error.\r\n\r\n```\r\n[ERROR] Errors: \r\n[ERROR]   CryptoUtilsTest.encryptionDoesNotCloseOutputStream:47 &#187; NullPointer Cannot read the array length because &quot;this.buf&quot; is null\r\n```\r\n\r\nAs discussed in a related issue, https://stackoverflow.com/questions/73492733/how-to-properly-spy-on-an-input-stream, I tried to change our mockito dependency from mockito-core to mockito-inline but this did not change anything.\r\n\r\nWe did not yet verify whether or not this issue also occurs in a java-11 environment when upgrading mockito. It does happen when just updating java to java-17 without touching mockito at all.","title":"Spying on a ByteArrayOutputStream causes the object to lose context in java-17","body":"<p>We recently upgraded our JDK from 11 to 17. Part of this upgrade included an upgrade from mockito from version 3.3.3 to mockito version 4.11.0.</p>\n<p>One of our existing tests which used to work in the past broke because of this. In this test we spy on a ByteArrayOutputStream object to verify that it does not get closed. This test fails because of the error given below.</p>\n<pre><code>@Test\nvoid encryptionDoesNotCloseOutputStream() throws Throwable {\n    byte[] key = new byte[32];\n    RANDOM.nextBytes(key);\n    byte[] data = new byte[101];\n    RANDOM.nextBytes(data);\n    ByteArrayInputStream in = spy(new ByteArrayInputStream(data));\n    ByteArrayOutputStream out = spy(new ByteArrayOutputStream());\n\n    ...\n    \n    // Write the IV at the beginning of the file (first 12 Bytes)\n    out.write(buffers.iv);\n    \n    ...\n\n    verify(in, never()).close();\n    verify(out, never()).close();\n}\n</code></pre>\n<p>This results in the following error.</p>\n<pre><code>[ERROR] Errors: \n[ERROR]   CryptoUtilsTest.encryptionDoesNotCloseOutputStream:47 » NullPointer Cannot read the array length because &quot;this.buf&quot; is null\n</code></pre>\n<p>As discussed in a related issue, <a href=\"https://stackoverflow.com/questions/73492733/how-to-properly-spy-on-an-input-stream\">How to properly spy on an input stream</a>, I tried to change our mockito dependency from mockito-core to mockito-inline but this did not change anything.</p>\n<p>We did not yet verify whether or not this issue also occurs in a java-11 environment when upgrading mockito. It does happen when just updating java to java-17 without touching mockito at all.</p>\n"},{"tags":["java","diameter-protocol"],"comments":[{"owner":{"account_id":2009138,"reputation":445,"user_id":1798091,"accept_rate":50,"display_name":"Oded Itzhaky"},"score":0,"creation_date":1673427656,"post_id":75072705,"comment_id":132494297,"body_markdown":"Do you have the server logs? Maybe there is an indication there for reason closing the port","body":"Do you have the server logs? Maybe there is an indication there for reason closing the port"}],"owner":{"account_id":27490113,"reputation":11,"user_id":20975643,"display_name":"Dimitris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673367012,"creation_date":1673366798,"question_id":75072705,"body_markdown":"The below log messages   indicate that the connection between my client and the server is being closed by the server since i am getting &quot;Read thread is stopped for socket&quot; from the Wireshark the  message indicates that the server is closing the connection after it has sent the final &quot;ACK&quot; message indeed , the server is sending a FIN,ACK after the client sends a Capabilities-Exchange message. This suggests that the server is properly receiving the client&#39;s message, but for some reason it is not responding with a message of its own and instead is closing the connection. the localhost is my laptop ,  below is the logs \r\n\r\n    2023-01-09 13:11:43,946 INFO DictionaryImpl - Mobicents Diameter Dictionary loaded in 188ms -- Vendors[10] Commands[52] Types[20] AVPs[510]\r\n    \r\n    2023-01-09 13:11:44,044 INFO StackImpl - (-)(-)(-)(-)(-) Started Mobicents DIAMETER Stack v1.5.10.0-build639 (-)(-)(-)(-)(-)\r\n    \r\n    2023-01-09 13:11:44,544 INFO StackCreator - Diameter CLIENT :: Adding Listener for [AppId [Vendor-Id:0; Auth-Application-Id:4; Acct-Application-Id:0]].\r\n    \r\n    2023-01-09 13:11:44,547 INFO StackCreator - Diameter CLIENT :: Supporting 1 applications.\r\n    \r\n    2023-01-09 13:11:45,152 INFO NetworkGuard - Open server socket ServerSocket[addr=/127.0.0.1,localport=8080]\r\n    \r\n    2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.10.203.113,port=3868,localport=60884]]\r\n    2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]]\r\n    2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]] \r\n\r\ndo you have any idea please\r\n\r\nI am expecting to connect to the server and send sendInitial request \r\n","title":"Read thread is stopped for socket","body":"<p>The below log messages   indicate that the connection between my client and the server is being closed by the server since i am getting &quot;Read thread is stopped for socket&quot; from the Wireshark the  message indicates that the server is closing the connection after it has sent the final &quot;ACK&quot; message indeed , the server is sending a FIN,ACK after the client sends a Capabilities-Exchange message. This suggests that the server is properly receiving the client's message, but for some reason it is not responding with a message of its own and instead is closing the connection. the localhost is my laptop ,  below is the logs</p>\n<pre><code>2023-01-09 13:11:43,946 INFO DictionaryImpl - Mobicents Diameter Dictionary loaded in 188ms -- Vendors[10] Commands[52] Types[20] AVPs[510]\n\n2023-01-09 13:11:44,044 INFO StackImpl - (-)(-)(-)(-)(-) Started Mobicents DIAMETER Stack v1.5.10.0-build639 (-)(-)(-)(-)(-)\n\n2023-01-09 13:11:44,544 INFO StackCreator - Diameter CLIENT :: Adding Listener for [AppId [Vendor-Id:0; Auth-Application-Id:4; Acct-Application-Id:0]].\n\n2023-01-09 13:11:44,547 INFO StackCreator - Diameter CLIENT :: Supporting 1 applications.\n\n2023-01-09 13:11:45,152 INFO NetworkGuard - Open server socket ServerSocket[addr=/127.0.0.1,localport=8080]\n\n2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.10.203.113,port=3868,localport=60884]]\n2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]]\n2023-01-09 13:12:00,267 INFO TCPTransportClient - Read thread is stopped for socket [Socket[addr=10.10.10.113/10.105.10.113,port=3868,localport=60884]] \n</code></pre>\n<p>do you have any idea please</p>\n<p>I am expecting to connect to the server and send sendInitial request</p>\n"},{"tags":["javascript","java","angular","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670671639,"post_id":74734533,"comment_id":131930031,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":230878,"reputation":179,"user_id":494744,"display_name":"Tommy Blackbird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673366599,"creation_date":1673362996,"answer_id":75071885,"question_id":74734533,"body_markdown":"In my case, uninstalling de Ansi Console plugin worked for me. I got it twice, one standalone and one as dependency of M2E Chromatic.","title":"Trim Job has encountered a problem in STS","body":"<p>In my case, uninstalling de Ansi Console plugin worked for me. I got it twice, one standalone and one as dependency of M2E Chromatic.</p>\n"}],"owner":{"account_id":27192754,"reputation":1,"user_id":20726188,"display_name":"zinyaw htein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673366599,"creation_date":1670522481,"question_id":74734533,"body_markdown":"In STS, when I click   Clear console  button , below message  appear\r\n\r\nAn internal error has occurred.\r\nclass org.eclipse.ui.internal.console.ansi.participants.AnsiPosition cannot be cast to class mnita.ansiconsole.participants.AnsiPosition (org.eclipse.ui.internal.console.ansi.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @6cddcab6; mnita.ansiconsole.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @a58f9a6)\r\n\r\n\r\nDespite various attempts, the problem is not resolved\r\n\r\n I don&#39;t want that error message to appear","title":"Trim Job has encountered a problem in STS","body":"<p>In STS, when I click   Clear console  button , below message  appear</p>\n<p>An internal error has occurred.\nclass org.eclipse.ui.internal.console.ansi.participants.AnsiPosition cannot be cast to class mnita.ansiconsole.participants.AnsiPosition (org.eclipse.ui.internal.console.ansi.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @6cddcab6; mnita.ansiconsole.participants.AnsiPosition is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @a58f9a6)</p>\n<p>Despite various attempts, the problem is not resolved</p>\n<p>I don't want that error message to appear</p>\n"},{"tags":["java","linux","postgresql","ssl","rundeck"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1661292900,"post_id":73465276,"comment_id":129736627,"body_markdown":"1) There should be more to the error message, can you share it? 2) I am not a JAVA programmer, so this `String dbUser_tDBConnection_1 = context.DB_USER;` is not clear to me. Also I don&#39;t see where `context.DB_USER` is set? Also why not include `context.DB_USER` as part of the `url_tDBConnection_1`? Add answers as update to question.","body":"1) There should be more to the error message, can you share it? 2) I am not a JAVA programmer, so this <code>String dbUser_tDBConnection_1 = context.DB_USER;</code> is not clear to me. Also I don&#39;t see where <code>context.DB_USER</code> is set? Also why not include <code>context.DB_USER</code> as part of the <code>url_tDBConnection_1</code>? Add answers as update to question."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1661301061,"post_id":73465276,"comment_id":129737814,"body_markdown":"The rest of the error message will probably have the info you need.","body":"The rest of the error message will probably have the info you need."},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661326588,"post_id":73465276,"comment_id":129742211,"body_markdown":"The entry in `pg_hba.conf` has to contain the *client* address, no the *server* address. This error will cause messages to be written to the PostgreSQL server log. Please show these messages. Please show all the real IP addresses, because the error may well be there.","body":"The entry in <code>pg_hba.conf</code> has to contain the <i>client</i> address, no the <i>server</i> address. This error will cause messages to be written to the PostgreSQL server log. Please show these messages. Please show all the real IP addresses, because the error may well be there."},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1661346916,"post_id":73465276,"comment_id":129750288,"body_markdown":"Could you test with this config? https://pastebin.com/K85Ea7pt it seems a problem with your &quot;allowed clients&quot; in your postgresql config","body":"Could you test with this config? <a href=\"https://pastebin.com/K85Ea7pt\" rel=\"nofollow noreferrer\">pastebin.com/K85Ea7pt</a> it seems a problem with your &quot;allowed clients&quot; in your postgresql config"},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661350035,"post_id":73465276,"comment_id":129751766,"body_markdown":"@MegaDrive68k I tried adding those lines but I get the same error message from java; and no error messages in the server log; I posted a update to show more of the error message; that I can share.","body":"@MegaDrive68k I tried adding those lines but I get the same error message from java; and no error messages in the server log; I posted a update to show more of the error message; that I can share."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661350577,"post_id":73465276,"comment_id":129752006,"body_markdown":"@LaurenzAlbe The pg_hba.con has the client address; because this is running on the same server; so in this case the host and the client are the same machine.  I hope this clears up any confusion. This is all local and failing.  IF I run this same script from my laptop it works; when it&#39;s a remote connection.  I would expect the exact opposite behavior, blocking remote but allowing local. In this case it is just the opposite.","body":"@LaurenzAlbe The pg_hba.con has the client address; because this is running on the same server; so in this case the host and the client are the same machine.  I hope this clears up any confusion. This is all local and failing.  IF I run this same script from my laptop it works; when it&#39;s a remote connection.  I would expect the exact opposite behavior, blocking remote but allowing local. In this case it is just the opposite."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661350670,"post_id":73465276,"comment_id":129752036,"body_markdown":"@AdrianKlaver the top of the java code is where those values are being set. as an example only.  This code works on a remote windows machine (my laptop) just fine; but only fails when run on the local sever where the postgresql db resides.","body":"@AdrianKlaver the top of the java code is where those values are being set. as an example only.  This code works on a remote windows machine (my laptop) just fine; but only fails when run on the local sever where the postgresql db resides."},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661353156,"post_id":73465276,"comment_id":129753156,"body_markdown":"We need the log entries *that correspond to the error message*.","body":"We need the log entries <i>that correspond to the error message</i>."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1661353939,"post_id":73465276,"comment_id":129753527,"body_markdown":"1) The code sample does not show the user value being set. 2) As @LaurenzAlbe says also show the errors as they appear in the Postgres log as your stack seems to be dropping the part of the message that shows what connection is being attempted.","body":"1) The code sample does not show the user value being set. 2) As @LaurenzAlbe says also show the errors as they appear in the Postgres log as your stack seems to be dropping the part of the message that shows what connection is being attempted."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1661369924,"post_id":73465276,"comment_id":129759144,"body_markdown":"Do you see `context.DB_USER` anywhere in that?  I don&#39;t.","body":"Do you see <code>context.DB_USER</code> anywhere in that?  I don&#39;t."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661376695,"post_id":73465276,"comment_id":129760843,"body_markdown":"@AdrianKlaver my apologies, been re-reading what you asked for and totally missed that.  I thought you were asking for the context.DB_NAME; it&#39;s been a long week, I&#39;ll add those to my example.","body":"@AdrianKlaver my apologies, been re-reading what you asked for and totally missed that.  I thought you were asking for the context.DB_NAME; it&#39;s been a long week, I&#39;ll add those to my example."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661377556,"post_id":73465276,"comment_id":129761046,"body_markdown":"@LaurenzAlbe even after I turned on the more verbose logging; the logs don&#39;t have entries for that error; it&#39;s like it never gets that far, if that makes sense.  I only have log entries for when the connection happens.  postgresql/pgdata-11/log/postgresql-Wed.log doesn&#39;t have any entries for the failed attempts from today and neither do the other prev days.  Am I looking in the right place?","body":"@LaurenzAlbe even after I turned on the more verbose logging; the logs don&#39;t have entries for that error; it&#39;s like it never gets that far, if that makes sense.  I only have log entries for when the connection happens.  postgresql/pgdata-11/log/postgresql-Wed.log doesn&#39;t have any entries for the failed attempts from today and neither do the other prev days.  Am I looking in the right place?"},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661408080,"post_id":73465276,"comment_id":129765918,"body_markdown":"No, that doesn&#39;t make sense: this error *always* produces log entries, unless you set `log_min_messages` to `FATAL` or higher. Check how logging is configured. Since this is Windows, it might go to the event log.","body":"No, that doesn&#39;t make sense: this error <i>always</i> produces log entries, unless you set <code>log_min_messages</code> to <code>FATAL</code> or higher. Check how logging is configured. Since this is Windows, it might go to the event log."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661444141,"post_id":73465276,"comment_id":129779825,"body_markdown":"@LaurenzAlbe to clarify, the errors are not happening on windows, they are happening on linux, but I will double check the logging settings and put in another update, thanks.","body":"@LaurenzAlbe to clarify, the errors are not happening on windows, they are happening on linux, but I will double check the logging settings and put in another update, thanks."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661457023,"post_id":73465276,"comment_id":129783830,"body_markdown":"@LaurenzAlbe I updated the logging settings and couldn&#39;t post the log here but created a gist to house it.","body":"@LaurenzAlbe I updated the logging settings and couldn&#39;t post the log here but created a gist to house it."},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1661495529,"post_id":73465276,"comment_id":129790202,"body_markdown":"If that is indeed the log from the time of the problem, then (since you have set `log_min_messages` to debugging) the conclusion must be that the connection attempt that caused the error in the title of your question must have been to a different PostgreSQL server.","body":"If that is indeed the log from the time of the problem, then (since you have set <code>log_min_messages</code> to debugging) the conclusion must be that the connection attempt that caused the error in the title of your question must have been to a different PostgreSQL server."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661528723,"post_id":73465276,"comment_id":129801370,"body_markdown":"@LaurenzAlbe  so you and Adrian Klaver helped me see past the end of my own nose, okay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. // now pointed and logged. lol","body":"@LaurenzAlbe  so you and Adrian Klaver helped me see past the end of my own nose, okay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. // now pointed and logged. lol"},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661528761,"post_id":73465276,"comment_id":129801383,"body_markdown":"@AdrianKlaver if you and Laurenz want to split the answer; give me a couple to vote on.","body":"@AdrianKlaver if you and Laurenz want to split the answer; give me a couple to vote on."},{"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"score":0,"creation_date":1661528800,"post_id":73465276,"comment_id":129801405,"body_markdown":"Thanks everyone, sometimes if you&#39;re too close to the tracks you can&#39;t see the train","body":"Thanks everyone, sometimes if you&#39;re too close to the tracks you can&#39;t see the train"},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1662649707,"post_id":73465276,"comment_id":130059516,"body_markdown":"Remember to put your solution as an answer and mark it as valid. Thanks.","body":"Remember to put your solution as an answer and mark it as valid. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673366278,"creation_date":1673366278,"answer_id":75072604,"question_id":73465276,"body_markdown":"I removed the Gist because the peeps here helped me find my error:\r\n\r\nokay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. so now it&#39;s working, lol Sometimes you are too close to the tracks to see the train, lol","title":"org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host Linux error that works on Windows","body":"<p>I removed the Gist because the peeps here helped me find my error:</p>\n<p>okay, so the issue was 3 things; thing 1, we have a 'properties' file that I thought was set to this server this db; and it wasn't // thing 2, the default logging was set to 'warning' and didn't have enough information so after putting it to debug level 5 (the most data) and on 'all' events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address. so now it's working, lol Sometimes you are too close to the tracks to see the train, lol</p>\n"}],"owner":{"account_id":2248347,"reputation":95,"user_id":1981195,"accept_rate":86,"display_name":"ASheppardWork"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75072604,"answer_count":1,"score":0,"last_activity_date":1673366278,"creation_date":1661290578,"question_id":73465276,"body_markdown":"I have looked at many (too many) similar questions here and tried over and over to solve this one but I can&#39;t quite get it to resolve.\r\n\r\nI have a java code that connects to a PostGreSQL server on a RHEL 8.2 box to query and return a value.  When I run it on my Windows 10 laptop; it works with no issues.  However, when I run it locally on the Linux box it fails with the dreaded org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host.\r\n\r\nThe java code is made by a ETL software called Talend; and the code is run on Linux by RunDeck.\r\n\r\nTo make matters more confusing, I can login on Linux as the postgres user and use the psql interface to connect to the db with the same host, port, db, and user I&#39;m using in Java without error-\r\n\r\n```psql -h [server ip] -p 5432 -d my_special_db -U my_db_user```\r\n\r\nI have checked the server settings, the pg_hba.conf file, the user permissions, the log files and tried changing all of the above to get some sort of return; all to no avail.\r\n\r\nI have added to pg_hba.conf:\r\n```\r\nhost    my_special_db        my_db_user        [server ip]/32      md5\r\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\r\n\r\nhost    my_special_db        root        ::1/128      trust\r\nhost    all        all        [server ip]/32      trust\r\n```\r\n\r\nI have tried multiple connection modifiers like:\r\n```\r\nsslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer\r\nor\r\nsslmode=prefer\r\nor\r\nsslmode=Require\r\nor\r\nno modifier at all\r\n```\r\n\r\nPlease advise.\r\n\r\nDetails:\r\n\r\nOS\r\nNAME : Linux RHEL 8.2\r\n\r\nVERSION : 4.18.0-372.16.1.el8_6.x86_64\r\n\r\nJVM\r\n\r\nIMPLEMENTATIONVERSION : 11.0.15+9-LTS\r\n\r\nNAME : OpenJDK 64-Bit Server VM\r\n\r\nVENDOR : Amazon.com Inc.\r\n\r\nVERSION : 11.0.15\r\n\r\nPostGreSQL\r\n\r\npostgresql11-libs-11.7-1PGDG.rhel8.x86_64.rpm \\\r\n\r\npostgresql11-11.7-1PGDG.rhel8.x86_64.rpm \\\r\n\r\npostgresql11-server-11.7-1PGDG.rhel8.x86_64.rpm\r\n\r\nUnder server &gt; properties &gt; SSL\r\n\r\nAll Defaults:\r\n\r\nSSL Mode: Prefer\r\n\r\nClient Cert: [blank]\r\n\r\nClient Cert Key: [blank]\r\n\r\nRoot Cert: [blank]\r\n\r\nCert Rev List: [blank]\r\n\r\nSSL compression?: no\r\n\r\n```\r\n//////////////////\r\nUnder /etc/systemd/system/postgresql-11.service\r\n\r\n[Unit]\r\nDescription=PostgreSQL 11 database server\r\nDocumentation=https://www.postgresql.org/docs/11/static/\r\nAfter=syslog.target\r\nAfter=network.target\r\n\r\n[Service]\r\nType=notify\r\n\r\nUser=postgres\r\nGroup=postgres\r\n\r\n# Note: avoid inserting whitespace in these Environment= lines, or you may\r\n# break postgresql-setup.\r\n\r\n# Location of database directory\r\nEnvironment=PGDATA=[my data directory path]\r\n\r\n# Where to send early-startup messages from the server (before the logging\r\n# options of postgresql.conf take effect)\r\n# This is normally controlled by the global default set by systemd\r\n# StandardOutput=syslog\r\n\r\n# Disable OOM kill on the postmaster\r\nOOMScoreAdjust=-1000\r\nEnvironment=PG_OOM_ADJUST_FILE=/proc/self/oom_score_adj\r\nEnvironment=PG_OOM_ADJUST_VALUE=0\r\n\r\nExecStartPre=[path to server]/pgsql-11/bin/postgresql-11-check-db-dir ${PGDATA}\r\nExecStart=[path to server]/pgsql-11/bin/postgres -D ${PGDATA}\r\n#ExecReload=/bin/kill -HUP $MAINPID\r\nKillMode=mixed\r\nKillSignal=SIGINT\r\n \r\n\r\n# Do not set any timeout value, so that systemd will not kill postmaster\r\n# during crash recovery.\r\nTimeoutSec=0\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n\r\n\r\n[Service]\r\nEnvironment=PGDATA=[my data directory path]\r\n\r\n//////////////////\r\n```\r\n\r\n```\r\n//////////////////\r\n\r\nTop of the pg_hba.conf file:\r\n\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\n\r\n# linux requires a &#39;local&#39; entry\r\n#local all all md5\r\n\r\nlocal    all             all                     md5\r\n\r\n# IPv4 local connections:\r\n\r\nhost    all        all        0.0.0.0/0      md5\r\n\r\n# IPv6 local connections:\r\n\r\nhost    all        all        ::0/0      md5\r\n\r\n# no ssl connection\r\n\r\nhostnossl    all        all        0.0.0.0/0      trust\r\n\r\n# IPv4 local connections:\r\n\r\nhostnossl    all        all        127.0.0.1/32      md5\r\n\r\n# IPv6 local connections:\r\n\r\nhostnossl    all        all        ::1/128      md5\r\n\r\n# Allow replication connections from localhost, by a user with the\r\n# replication privilege.\r\n\r\nhost    replication        all        127.0.0.1/32      md5\r\nhost    replication        all        ::1/128      md5\r\n\r\n# This Servers IP and Ranges as Talend doesn&#39;t use localhost\r\n\r\nhost    postgres        postgres        [server ip]/32      md5\r\nhost    postgres        all             [server ip with .0 as the last quatraine]/24        md5\r\nhost    all             postgres        [server ip]/32      md5\r\nhost    all             all             [server ip with .0 as the last quatraine]/24        md5\r\n\r\nhost    my_special_db        my_db_user        [server ip]/32      md5\r\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\r\n\r\nhost    my_special_db        root        ::1/128      trust\r\nhost    all        all        [server ip]/32      trust\r\n\r\n//////////////////\r\n```\r\n\r\n```\r\n//////////////////\r\n\r\nPart of My Java Code:\r\n\r\n\r\n\r\nconn_tDBInput_1 = (java.sql.Connection) globalMap.get(&quot;conn_tDBConnection_2&quot;);\r\n\r\njava.sql.Statement stmt_tDBInput_1 = conn_tDBInput_1.createStatement();\r\n\r\nString dbquery_tDBInput_1 = &quot;\\n(SELECT ID AS \\&quot;id\\&quot;\\n, ATTRIBUTE AS \\&quot;attribute\\&quot;\\n, DEFINITION AS \\&quot;definition\\&quot;\\n, DESCRIPTION AS \\&quot;description\\&quot;&quot;\r\n\t\t+ &quot;\\nFROM &quot; + context.SEC_DB_SCHEMA + &quot;.&quot; + context.SEC_DB_TABLE\r\n\t\t+ &quot;\\nWHERE \\&quot;description\\&quot; = &#39;my_filter_here&#39;\\nLIMIT 1);\\n\\n&quot;;\r\n\r\nglobalMap.put(&quot;tDBInput_1_QUERY&quot;, dbquery_tDBInput_1);\r\njava.sql.ResultSet rs_tDBInput_1 = null;\r\n\r\ntry {\r\n\trs_tDBInput_1 = stmt_tDBInput_1.executeQuery(dbquery_tDBInput_1);\r\n\tjava.sql.ResultSetMetaData rsmd_tDBInput_1 = rs_tDBInput_1.getMetaData();\r\n\tint colQtyInRs_tDBInput_1 = rsmd_tDBInput_1.getColumnCount();\r\n\r\n\tString tmpContent_tDBInput_1 = null;\r\n\r\n\twhile (rs_tDBInput_1.next()) {\r\n\t\tnb_line_tDBInput_1++;\r\n\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 1) {\r\n\t\t\trow1.ID = 0;\r\n\t\t} else {\r\n\r\n\t\t\trow1.ID = rs_tDBInput_1.getInt(1);\r\n\t\t\tif (rs_tDBInput_1.wasNull()) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Null value in non-Nullable column&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 2) {\r\n\t\t\trow1.ATTRIBUTE = null;\r\n\t\t} else {\r\n\r\n\t\t\trow1.ATTRIBUTE = routines.system.JDBCUtil.getString(rs_tDBInput_1, 2, false);\r\n\t\t}\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 3) {\r\n\t\t\trow1.DEFINITION = null;\r\n\t\t} else {\r\n\r\n\t\t\trow1.DEFINITION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 3, false);\r\n\t\t}\r\n\t\tif (colQtyInRs_tDBInput_1 &lt; 4) {\r\n\t\t\trow1.DESCRIPTION = null;\r\n\t\t} else {\r\n\r\n\t\t\trow1.DESCRIPTION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 4, false);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 begin ] stop\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 main ] start\r\n\t\t */\r\n\r\n\t\tcurrentComponent = &quot;tDBInput_1&quot;;\r\n\r\n\t\ttos_count_tDBInput_1++;\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 main ] stop\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 process_data_begin ] start\r\n\t\t */\r\n\r\n\t\tcurrentComponent = &quot;tDBInput_1&quot;;\r\n\r\n\t\t/**\r\n\t\t * [tDBInput_1 process_data_begin ] stop\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * [tReplicate_1 main ] start\r\n\t\t */\r\n\r\n\t\tcurrentComponent = &quot;tReplicate_1&quot;;\r\n\r\n\t\tif (execStat) {\r\n\t\t\trunStat.updateStatOnConnection(iterateId, 1, 1\r\n\r\n\t\t\t\t\t, &quot;row1&quot;\r\n\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\trow5 = new row5Struct();\r\n\r\n\r\nrow5.ID = row1.ID;\r\nrow5.ATTRIBUTE = row1.ATTRIBUTE;\r\nrow5.DEFINITION = row1.DEFINITION;\r\nrow5.DESCRIPTION = row1.DESCRIPTION;\r\n\r\nglobalMap.put(&quot;row5.ATTRIBUTE&quot;, row5.ATTRIBUTE);\r\nglobalMap.put(&quot;row5.DEFINITION&quot;, row5.DEFINITION);\r\n\r\n// Set Reports DB values\r\n\r\ncontext.DB_HOST = [my_server_ip];\r\ncontext.DB_NAME = [my_db];\r\ncontext.DB_PORT = 5432;\r\n// This will have to be changed for each tower will have it&#39;s own &#39;reports&#39; table\r\ncontext.DB_SCHEMA = &quot;my_schema&quot;;\r\ncontext.DB_TABLE = &quot;my_table&quot;;\r\n\r\ncontext.DB_USER = (String)(globalMap.get(&quot;row5.ATTRIBUTE&quot;));\r\ncontext.DB_PWD = (String)(globalMap.get(&quot;row5.DEFINITION&quot;));\r\n\r\n//------------\r\n\r\n\tcurrentComponent=&quot;tDBConnection_1&quot;;\r\n\r\n\t\r\n\t\tint tos_count_tDBConnection_1 = 0;\r\n\t\t\r\n\r\n\r\n\t\r\n            String dbProperties_tDBConnection_1 = &quot;sslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer&quot;;\r\n            String url_tDBConnection_1 = &quot;jdbc:postgresql://&quot;+context.DB_HOST+&quot;:&quot;+context.DB_PORT+&quot;/&quot;+context.DB_NAME;\r\n            \r\n            if(dbProperties_tDBConnection_1 != null &amp;&amp; !&quot;&quot;.equals(dbProperties_tDBConnection_1.trim())) {\r\n                url_tDBConnection_1 = url_tDBConnection_1 + &quot;?&quot; + dbProperties_tDBConnection_1;\r\n            }\r\n\tString dbUser_tDBConnection_1 = context.DB_USER;\r\n\t\r\n//////////////////\r\n```\r\n\r\n```\r\n//////////////////\r\n\r\nLog entry from the time of trying to connect both locally and remotely-\r\n\r\n2022-08-23 15:20:45.452 EDT [67687] LOG:  database system is ready to accept connections\r\n2022-08-23 15:22:00.719 EDT [67687] LOG:  received fast shutdown request\r\n2022-08-23 15:22:00.720 EDT [67687] LOG:  aborting any active transactions\r\n2022-08-23 15:22:00.722 EDT [67687] LOG:  background worker &quot;logical replication launcher&quot; (PID 67696) exited with exit code 1\r\n2022-08-23 15:22:00.722 EDT [67691] LOG:  shutting down\r\n2022-08-23 15:22:00.754 EDT [67687] LOG:  database system is shut down\r\n2022-08-23 15:22:00.814 EDT [67739] LOG:  database system was shut down at 2022-08-23 15:22:00 EDT\r\n2022-08-23 15:22:00.818 EDT [67735] LOG:  database system is ready to accept connections\r\n2022-08-23 15:52:25.666 EDT [67735] LOG:  received fast shutdown request\r\n2022-08-23 15:52:25.668 EDT [67735] LOG:  aborting any active transactions\r\n2022-08-23 15:52:25.669 EDT [67735] LOG:  background worker &quot;logical replication launcher&quot; (PID 67745) exited with exit code 1\r\n2022-08-23 15:52:25.669 EDT [67740] LOG:  shutting down\r\n2022-08-23 15:52:25.692 EDT [67735] LOG:  database system is shut down\r\n2022-08-23 15:52:34.188 EDT [79803] LOG:  database system was shut down at 2022-08-23 15:52:25 EDT\r\n2022-08-23 15:52:34.194 EDT [79801] LOG:  database system is ready to accept connections\r\n\r\n//////////////////////////////////////\r\n```\r\n\r\n\r\nUPDATE:\r\nHere is a much of the java error message as I can share; given some of the restrictions on what I can post;\r\n\r\n```\r\nerror message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off|4\r\nException in component tDBConnection_2 (Generic_Talend_Job)\r\norg.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tDBConnection_2Process(Generic_Talend_Job.java:5752)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tSystem_1Process(Generic_Talend_Job.java:5614)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tJava_3Process(Generic_Talend_Job.java:5342)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tWarn_1Process(Generic_Talend_Job.java:5094)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tFileInputDelimited_1Process(Generic_Talend_Job.java:4851)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tLibraryLoad_1Process(Generic_Talend_Job.java:4089)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.tPrejob_1Process(Generic_Talend_Job.java:3856)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.runJobInTOS(Generic_Talend_Job.java:11916)\r\n\tat local_project.generic_talend_job_0_1.Generic_Talend_Job.main(Generic_Talend_Job.java:11245)\r\n\tSuppressed: org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222)\r\n\t\t... 15 more\r\nsec db connection failure, error message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\r\n```\r\n\r\nUpdate 2:\r\nEntry from this mornings logs at /data_folder/log after trying again and getting the same error\r\n\r\n```\r\n[postgres@my_server_name log]$ vim postgresql-Wed.log\r\n2022-08-24 10:00:17.714 EDT [79801] LOG:  received fast shutdown request\r\n2022-08-24 10:00:17.717 EDT [79801] LOG:  aborting any active transactions\r\n2022-08-24 10:00:17.717 EDT [508177] FATAL:  terminating connection due to administrator command\r\n2022-08-24 10:00:17.717 EDT [508176] FATAL:  terminating connection due to administrator command\r\n2022-08-24 10:00:17.718 EDT [79801] LOG:  background worker &quot;logical replication launcher&quot; (PID 79809) exited with exit code 1\r\n2022-08-24 10:00:17.718 EDT [79804] LOG:  shutting down\r\n2022-08-24 10:00:17.740 EDT [79801] LOG:  database system is shut down\r\n2022-08-24 10:00:35.780 EDT [513920] LOG:  database system was shut down at 2022-08-24 10:00:17 EDT\r\n2022-08-24 10:00:35.788 EDT [513918] LOG:  database system is ready to accept connections\r\n```\r\n\r\n\r\nUpdate 3:\r\n\r\nFrom the postgresql.conf file:\r\n\r\n```\r\n#------------------------------------------------------------------------------\r\n# CONNECTIONS AND AUTHENTICATION\r\n#------------------------------------------------------------------------------\r\n\r\n# - Connection Settings -\r\n\r\nlisten_addresses = &#39;*&#39;\t\t# what IP address(es) to listen on;\r\n\t\t\t\t\t# comma-separated list of addresses;\r\n\t\t\t\t\t# defaults to &#39;localhost&#39;; use &#39;*&#39; for all\r\n\t\t\t\t\t# (change requires restart)\r\nport = 5432\t\t\t\t# (change requires restart)\r\nmax_connections = 100\t\t\t# (change requires restart)\r\n#superuser_reserved_connections = 3\t# (change requires restart)\r\n#unix_socket_directories = &#39;/var/run/postgresql, /tmp&#39;\t# comma-separated list of directories\r\n\t\t\t\t\t# (change requires restart)\r\n#unix_socket_group = &#39;&#39;\t\t\t# (change requires restart)\r\n#unix_socket_permissions = 0777\t\t# begin with 0 to use octal notation\r\n\t\t\t\t\t# (change requires restart)\r\n#bonjour = off\t\t\t\t# advertise server via Bonjour\r\n\t\t\t\t\t# (change requires restart)\r\n#bonjour_name = &#39;&#39;\t\t\t# defaults to the computer name\r\n\t\t\t\t\t# (change requires restart)\r\n\r\n# - TCP Keepalives -\r\n# see &quot;man 7 tcp&quot; for details\r\n\r\n#tcp_keepalives_idle = 0\t\t# TCP_KEEPIDLE, in seconds;\r\n\t\t\t\t\t# 0 selects the system default\r\n#tcp_keepalives_interval = 0\t\t# TCP_KEEPINTVL, in seconds;\r\n\t\t\t\t\t# 0 selects the system default\r\n#tcp_keepalives_count = 0\t\t# TCP_KEEPCNT;\r\n\t\t\t\t\t# 0 selects the system default\r\n\r\n# - Authentication -\r\n\r\n#authentication_timeout = 1min\t\t# 1s-600s\r\n#password_encryption = md5\t\t# md5 or scram-sha-256\r\n#db_user_namespace = off\r\n\r\n# GSSAPI using Kerberos\r\n#krb_server_keyfile = &#39;&#39;\r\n#krb_caseins_users = off\r\n\r\n# - SSL -\r\n\r\n#ssl = off\r\n#ssl_ca_file = &#39;&#39;\r\n#ssl_cert_file = &#39;server.crt&#39;\r\n#ssl_crl_file = &#39;&#39;\r\n#ssl_key_file = &#39;server.key&#39;\r\n#ssl_ciphers = &#39;HIGH:MEDIUM:+3DES:!aNULL&#39; # allowed SSL ciphers\r\n#ssl_prefer_server_ciphers = on\r\n#ssl_ecdh_curve = &#39;prime256v1&#39;\r\n#ssl_dh_params_file = &#39;&#39;\r\n#ssl_passphrase_command = &#39;&#39;\r\n#ssl_passphrase_command_supports_reload = off\r\n```\r\n\r\nUpdate 4:\r\n\r\nAfter doing some more searching, I have found that the default for the postgres logging isn&#39;t verbose; so this is the verbose part:\r\n\r\n```\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [7] [0]:  LOG:  hostssl record cannot match because SSL is disabled\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [8] [0]:  HINT:  Set ssl = on in postgresql.conf.\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [9] [0]:  CONTEXT:  line 103 of configuration file &quot;[data folder path]/pg_hba.conf&quot;\r\n[636132] [630676b4.9b4e4] [2022-08-24 15:06:28.854 EDT] [] [00000] [] [] [] [] [] [1] [0]:  LOG:  database system was shut down at 2022-08-24 15:06:18 EDT\r\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.859 EDT] [] [00000] [] [] [] [] [] [10] [0]:  LOG:  database system is ready to accept connections\r\n```\r\n\r\nI have gotten this error even after the following updates-\r\n\r\nupdate to the postgresql.conf file:\r\n\r\n```\r\nedit 1\r\nssl = off\r\nedit 2\r\nssl = on\r\nedit 3\r\n#ssl = off\r\n```\r\n updated the log level in the postgresql.conf file to\r\n\r\n```\r\nlog_line_prefix = &#39;[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  &#39;\t\r\n...\r\nlog_statement = &#39;all&#39;\t\r\n```\r\n\r\nupdated the pg_hba.conf file to start with:\r\n\r\n```\r\n# Allow any user on the local system to connect to any database with\r\n# any database user name using Unix-domain sockets (the default for local\r\n# connections).\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nlocal   all             all                                     trust\r\n\r\n# The same using local loopback TCP/IP connections.\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nhost    all             all             127.0.0.1/32            trust\r\n\r\n# The same as the previous line, but using a separate netmask column\r\n#\r\n# TYPE  DATABASE        USER            IP-ADDRESS      IP-MASK             METHOD\r\nhost    all             all             127.0.0.1       255.255.255.255     trust\r\n\r\n# The same over IPv6.\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nhost    all             all             ::1/128                 trust\r\n\r\n# The same using a host name (would typically cover both IPv4 and IPv6).\r\n#\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nhost    all             all             localhost               trust\r\nhostssl    all        all        0.0.0.0/0      md5\r\n```\r\n\r\nalso updated the connection params with-\r\n\r\n```\r\nsslfactory=org.postgresql.ssl.NonValidatingFactory\r\n```\r\n\r\nAccording to postgres this is supposed to stop any and all SSL issues and just let the connections through-\r\n\r\nhttps://jdbc.postgresql.org/documentation/head/ssl-client.html\r\n\r\n&quot;A non-validating connection is established via a custom SSLSocketFactory class that is provided with the driver. Setting the connection URL parameter sslfactory=org.postgresql.ssl.NonValidatingFactory will turn off all SSL validation.&quot;\r\n\r\nUpdate 5:\r\n\r\nLogging settings from postgresql.conf file:\r\n\r\n```\r\n#------------------------------------------------------------------------------\r\n# REPORTING AND LOGGING\r\n#------------------------------------------------------------------------------\r\n\r\n# - Where to Log -\r\n\r\nlog_destination = &#39;stderr&#39;\t\t# Valid values are combinations of\r\n\t\t\t\t\t# stderr, csvlog, syslog, and eventlog,\r\n\t\t\t\t\t# depending on platform.  csvlog\r\n\t\t\t\t\t# requires logging_collector to be on.\r\n\r\n# This is used when logging to stderr:\r\nlogging_collector = on\t\t\t# Enable capturing of stderr and csvlog\r\n\t\t\t\t\t# into log files. Required to be on for\r\n\t\t\t\t\t# csvlogs.\r\n\t\t\t\t\t# (change requires restart)\r\n\r\n# These are only used if logging_collector is on:\r\nlog_directory = &#39;log&#39;\t\t\t# directory where log files are written,\r\n\t\t\t\t\t# can be absolute or relative to PGDATA\r\nlog_filename = &#39;postgresql-%a.log&#39;\t# log file name pattern,\r\n\t\t\t\t\t# can include strftime() escapes\r\n#log_file_mode = 0600\t\t\t# creation mode for log files,\r\n\t\t\t\t\t# begin with 0 to use octal notation\r\nlog_truncate_on_rotation = on\t\t# If on, an existing log file with the\r\n\t\t\t\t\t# same name as the new log file will be\r\n\t\t\t\t\t# truncated rather than appended to.\r\n\t\t\t\t\t# But such truncation only occurs on\r\n\t\t\t\t\t# time-driven rotation, not on restarts\r\n\t\t\t\t\t# or size-driven rotation.  Default is\r\n\t\t\t\t\t# off, meaning append to existing files\r\n\t\t\t\t\t# in all cases.\r\nlog_rotation_age = 1d\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that time.  0 disables.\r\nlog_rotation_size = 0\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that much log output.\r\n\t\t\t\t\t# 0 disables.\r\n\r\n# These are relevant when logging to syslog:\r\n#syslog_facility = &#39;LOCAL0&#39;\r\n#syslog_ident = &#39;postgres&#39;\r\n#syslog_sequence_numbers = on\r\n#syslog_split_messages = on\r\n\r\n# This is only relevant when logging to eventlog (win32):\r\n# (change requires restart)\r\n#event_source = &#39;PostgreSQL&#39;\r\n\r\n# - When to Log -\r\n\r\n#log_min_messages = warning\t\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic\r\n\r\n#log_min_error_statement = error\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic (effectively off)\r\n\r\n#log_min_duration_statement = -1\t# -1 is disabled, 0 logs all statements\r\n\t\t\t\t\t# and their durations, &gt; 0 logs only\r\n\t\t\t\t\t# statements running at least this number\r\n\t\t\t\t\t# of milliseconds\r\n\r\n\r\n# - What to Log -\r\n\r\n#debug_print_parse = off\r\n#debug_print_rewritten = off\r\n#debug_print_plan = off\r\n#debug_pretty_print = on\r\n#log_checkpoints = off\r\n#log_connections = off\r\n#log_disconnections = off\r\n#log_duration = off\r\n#log_error_verbosity = default\t\t# terse, default, or verbose messages\r\n#log_hostname = off\r\nlog_line_prefix = &#39;[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  &#39;\t\t# special values:\r\n\t\t\t\t\t#   %a = application name\r\n\t\t\t\t\t#   %u = user name\r\n\t\t\t\t\t#   %d = database name\r\n\t\t\t\t\t#   %r = remote host and port\r\n\t\t\t\t\t#   %h = remote host\r\n\t\t\t\t\t#   %p = process ID\r\n\t\t\t\t\t#   %t = timestamp without milliseconds\r\n\t\t\t\t\t#   %m = timestamp with milliseconds\r\n\t\t\t\t\t#   %n = timestamp with milliseconds (as a Unix epoch)\r\n\t\t\t\t\t#   %i = command tag\r\n\t\t\t\t\t#   %e = SQL state\r\n\t\t\t\t\t#   %c = session ID\r\n\t\t\t\t\t#   %l = session line number\r\n\t\t\t\t\t#   %s = session start timestamp\r\n\t\t\t\t\t#   %v = virtual transaction ID\r\n\t\t\t\t\t#   %x = transaction ID (0 if none)\r\n\t\t\t\t\t#   %q = stop here in non-session\r\n\t\t\t\t\t#        processes\r\n\t\t\t\t\t#   %% = &#39;%&#39;\r\n\t\t\t\t\t# e.g. &#39;&lt;%u%%%d&gt; &#39;\r\n#log_lock_waits = off\t\t\t# log lock waits &gt;= deadlock_timeout\r\nlog_statement = &#39;all&#39;\t\t\t# none, ddl, mod, all\r\n#log_replication_commands = off\r\n#log_temp_files = -1\t\t\t# log temporary files equal or larger\r\n\t\t\t\t\t# than the specified size in kilobytes;\r\n\t\t\t\t\t# -1 disables, 0 logs all temp files\r\nlog_timezone = &#39;America/New_York&#39;\r\n```\r\n\r\nUpdate 6:\r\n\r\nI made edits to the logging part of the config, and now have a lot of output from the log\r\n\r\nnew logging settings:\r\n```\r\n#------------------------------------------------------------------------------\r\n# REPORTING AND LOGGING\r\n#------------------------------------------------------------------------------\r\n\r\n# - Where to Log -\r\n\r\nlog_destination = &#39;stderr&#39;\t\t# Valid values are combinations of\r\n\t\t\t\t\t# stderr, csvlog, syslog, and eventlog,\r\n\t\t\t\t\t# depending on platform.  csvlog\r\n\t\t\t\t\t# requires logging_collector to be on.\r\n\r\n# This is used when logging to stderr:\r\nlogging_collector = on\t\t\t# Enable capturing of stderr and csvlog\r\n\t\t\t\t\t# into log files. Required to be on for\r\n\t\t\t\t\t# csvlogs.\r\n\t\t\t\t\t# (change requires restart)\r\n\r\n# These are only used if logging_collector is on:\r\nlog_directory = &#39;log&#39;\t\t\t# directory where log files are written,\r\n\t\t\t\t\t# can be absolute or relative to PGDATA\r\nlog_filename = &#39;postgresql-%a.log&#39;\t# log file name pattern,\r\n\t\t\t\t\t# can include strftime() escapes\r\n#log_file_mode = 0600\t\t\t# creation mode for log files,\r\n\t\t\t\t\t# begin with 0 to use octal notation\r\nlog_truncate_on_rotation = on\t\t# If on, an existing log file with the\r\n\t\t\t\t\t# same name as the new log file will be\r\n\t\t\t\t\t# truncated rather than appended to.\r\n\t\t\t\t\t# But such truncation only occurs on\r\n\t\t\t\t\t# time-driven rotation, not on restarts\r\n\t\t\t\t\t# or size-driven rotation.  Default is\r\n\t\t\t\t\t# off, meaning append to existing files\r\n\t\t\t\t\t# in all cases.\r\nlog_rotation_age = 1d\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that time.  0 disables.\r\nlog_rotation_size = 0\t\t\t# Automatic rotation of logfiles will\r\n\t\t\t\t\t# happen after that much log output.\r\n\t\t\t\t\t# 0 disables.\r\n\r\n# These are relevant when logging to syslog:\r\n#syslog_facility = &#39;LOCAL0&#39;\r\n#syslog_ident = &#39;postgres&#39;\r\n#syslog_sequence_numbers = on\r\n#syslog_split_messages = on\r\n\r\n# This is only relevant when logging to eventlog (win32):\r\n# (change requires restart)\r\n#event_source = &#39;PostgreSQL&#39;\r\n\r\n# - When to Log -\r\n\r\nlog_min_messages = debug5\t\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic\r\n\r\nlog_min_error_statement = debug5\t# values in order of decreasing detail:\r\n\t\t\t\t\t#   debug5\r\n\t\t\t\t\t#   debug4\r\n\t\t\t\t\t#   debug3\r\n\t\t\t\t\t#   debug2\r\n\t\t\t\t\t#   debug1\r\n\t\t\t\t\t#   info\r\n\t\t\t\t\t#   notice\r\n\t\t\t\t\t#   warning\r\n\t\t\t\t\t#   error\r\n\t\t\t\t\t#   log\r\n\t\t\t\t\t#   fatal\r\n\t\t\t\t\t#   panic (effectively off)\r\n\r\nlog_min_duration_statement = 0\t# -1 is disabled, 0 logs all statements\r\n\t\t\t\t\t# and their durations, &gt; 0 logs only\r\n\t\t\t\t\t# statements running at least this number\r\n\t\t\t\t\t# of milliseconds\r\n\r\n\r\n# - What to Log -\r\n\r\n#debug_print_parse = off\r\n#debug_print_rewritten = off\r\n#debug_print_plan = off\r\n#debug_pretty_print = on\r\n#log_checkpoints = off\r\nlog_connections = on\r\nlog_disconnections = on\r\n#log_duration = off\r\nlog_error_verbosity = verbose\t\t# terse, default, or verbose messages\r\nlog_hostname = on\r\nlog_line_prefix = &#39;[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  &#39;\t\t# special values:\r\n\t\t\t\t\t#   %a = application name\r\n\t\t\t\t\t#   %u = user name\r\n\t\t\t\t\t#   %d = database name\r\n\t\t\t\t\t#   %r = remote host and port\r\n\t\t\t\t\t#   %h = remote host\r\n\t\t\t\t\t#   %p = process ID\r\n\t\t\t\t\t#   %t = timestamp without milliseconds\r\n\t\t\t\t\t#   %m = timestamp with milliseconds\r\n\t\t\t\t\t#   %n = timestamp with milliseconds (as a Unix epoch)\r\n\t\t\t\t\t#   %i = command tag\r\n\t\t\t\t\t#   %e = SQL state\r\n\t\t\t\t\t#   %c = session ID\r\n\t\t\t\t\t#   %l = session line number\r\n\t\t\t\t\t#   %s = session start timestamp\r\n\t\t\t\t\t#   %v = virtual transaction ID\r\n\t\t\t\t\t#   %x = transaction ID (0 if none)\r\n\t\t\t\t\t#   %q = stop here in non-session\r\n\t\t\t\t\t#        processes\r\n\t\t\t\t\t#   %% = &#39;%&#39;\r\n\t\t\t\t\t# e.g. &#39;&lt;%u%%%d&gt; &#39;\r\n#log_lock_waits = off\t\t\t# log lock waits &gt;= deadlock_timeout\r\nlog_statement = &#39;all&#39;\t\t\t# none, ddl, mod, all\r\n#log_replication_commands = off\r\n#log_temp_files = -1\t\t\t# log temporary files equal or larger\r\n\t\t\t\t\t# than the specified size in kilobytes;\r\n\t\t\t\t\t# -1 disables, 0 logs all temp files\r\nlog_timezone = &#39;America/New_York&#39;\r\n```\r\n\r\nI couldn&#39;t paste the error log here because after making it verbose it was very long- so I made a gist\r\n\r\nLast update:\r\n\r\nI removed the Gist because the peeps here helped me find my error:\r\n\r\nokay, so the issue was 3 things; thing 1, we have a &#39;properties&#39; file that I thought was set to this server this db; and it wasn&#39;t // thing 2, the default logging was set to &#39;warning&#39; and didn&#39;t have enough information so after putting it to debug level 5 (the most data) and on &#39;all&#39; events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address.\r\nso now it&#39;s working, lol\r\nSometimes you are too close to the tracks to see the train, lol\r\n\r\n\r\n ","title":"org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host Linux error that works on Windows","body":"<p>I have looked at many (too many) similar questions here and tried over and over to solve this one but I can't quite get it to resolve.</p>\n<p>I have a java code that connects to a PostGreSQL server on a RHEL 8.2 box to query and return a value.  When I run it on my Windows 10 laptop; it works with no issues.  However, when I run it locally on the Linux box it fails with the dreaded org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host.</p>\n<p>The java code is made by a ETL software called Talend; and the code is run on Linux by RunDeck.</p>\n<p>To make matters more confusing, I can login on Linux as the postgres user and use the psql interface to connect to the db with the same host, port, db, and user I'm using in Java without error-</p>\n<p><code>psql -h [server ip] -p 5432 -d my_special_db -U my_db_user</code></p>\n<p>I have checked the server settings, the pg_hba.conf file, the user permissions, the log files and tried changing all of the above to get some sort of return; all to no avail.</p>\n<p>I have added to pg_hba.conf:</p>\n<pre><code>host    my_special_db        my_db_user        [server ip]/32      md5\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\n\nhost    my_special_db        root        ::1/128      trust\nhost    all        all        [server ip]/32      trust\n</code></pre>\n<p>I have tried multiple connection modifiers like:</p>\n<pre><code>sslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer\nor\nsslmode=prefer\nor\nsslmode=Require\nor\nno modifier at all\n</code></pre>\n<p>Please advise.</p>\n<p>Details:</p>\n<p>OS\nNAME : Linux RHEL 8.2</p>\n<p>VERSION : 4.18.0-372.16.1.el8_6.x86_64</p>\n<p>JVM</p>\n<p>IMPLEMENTATIONVERSION : 11.0.15+9-LTS</p>\n<p>NAME : OpenJDK 64-Bit Server VM</p>\n<p>VENDOR : Amazon.com Inc.</p>\n<p>VERSION : 11.0.15</p>\n<p>PostGreSQL</p>\n<p>postgresql11-libs-11.7-1PGDG.rhel8.x86_64.rpm \\</p>\n<p>postgresql11-11.7-1PGDG.rhel8.x86_64.rpm \\</p>\n<p>postgresql11-server-11.7-1PGDG.rhel8.x86_64.rpm</p>\n<p>Under server &gt; properties &gt; SSL</p>\n<p>All Defaults:</p>\n<p>SSL Mode: Prefer</p>\n<p>Client Cert: [blank]</p>\n<p>Client Cert Key: [blank]</p>\n<p>Root Cert: [blank]</p>\n<p>Cert Rev List: [blank]</p>\n<p>SSL compression?: no</p>\n<pre><code>//////////////////\nUnder /etc/systemd/system/postgresql-11.service\n\n[Unit]\nDescription=PostgreSQL 11 database server\nDocumentation=https://www.postgresql.org/docs/11/static/\nAfter=syslog.target\nAfter=network.target\n\n[Service]\nType=notify\n\nUser=postgres\nGroup=postgres\n\n# Note: avoid inserting whitespace in these Environment= lines, or you may\n# break postgresql-setup.\n\n# Location of database directory\nEnvironment=PGDATA=[my data directory path]\n\n# Where to send early-startup messages from the server (before the logging\n# options of postgresql.conf take effect)\n# This is normally controlled by the global default set by systemd\n# StandardOutput=syslog\n\n# Disable OOM kill on the postmaster\nOOMScoreAdjust=-1000\nEnvironment=PG_OOM_ADJUST_FILE=/proc/self/oom_score_adj\nEnvironment=PG_OOM_ADJUST_VALUE=0\n\nExecStartPre=[path to server]/pgsql-11/bin/postgresql-11-check-db-dir ${PGDATA}\nExecStart=[path to server]/pgsql-11/bin/postgres -D ${PGDATA}\n#ExecReload=/bin/kill -HUP $MAINPID\nKillMode=mixed\nKillSignal=SIGINT\n \n\n# Do not set any timeout value, so that systemd will not kill postmaster\n# during crash recovery.\nTimeoutSec=0\n\n[Install]\nWantedBy=multi-user.target\n\n\n[Service]\nEnvironment=PGDATA=[my data directory path]\n\n//////////////////\n</code></pre>\n<pre><code>//////////////////\n\nTop of the pg_hba.conf file:\n\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\n\n# linux requires a 'local' entry\n#local all all md5\n\nlocal    all             all                     md5\n\n# IPv4 local connections:\n\nhost    all        all        0.0.0.0/0      md5\n\n# IPv6 local connections:\n\nhost    all        all        ::0/0      md5\n\n# no ssl connection\n\nhostnossl    all        all        0.0.0.0/0      trust\n\n# IPv4 local connections:\n\nhostnossl    all        all        127.0.0.1/32      md5\n\n# IPv6 local connections:\n\nhostnossl    all        all        ::1/128      md5\n\n# Allow replication connections from localhost, by a user with the\n# replication privilege.\n\nhost    replication        all        127.0.0.1/32      md5\nhost    replication        all        ::1/128      md5\n\n# This Servers IP and Ranges as Talend doesn't use localhost\n\nhost    postgres        postgres        [server ip]/32      md5\nhost    postgres        all             [server ip with .0 as the last quatraine]/24        md5\nhost    all             postgres        [server ip]/32      md5\nhost    all             all             [server ip with .0 as the last quatraine]/24        md5\n\nhost    my_special_db        my_db_user        [server ip]/32      md5\nhost    my_special_db        my_db_user        [server ip with .0 as the last quatraine]/24      md5\n\nhost    my_special_db        root        ::1/128      trust\nhost    all        all        [server ip]/32      trust\n\n//////////////////\n</code></pre>\n<pre><code>//////////////////\n\nPart of My Java Code:\n\n\n\nconn_tDBInput_1 = (java.sql.Connection) globalMap.get(&quot;conn_tDBConnection_2&quot;);\n\njava.sql.Statement stmt_tDBInput_1 = conn_tDBInput_1.createStatement();\n\nString dbquery_tDBInput_1 = &quot;\\n(SELECT ID AS \\&quot;id\\&quot;\\n, ATTRIBUTE AS \\&quot;attribute\\&quot;\\n, DEFINITION AS \\&quot;definition\\&quot;\\n, DESCRIPTION AS \\&quot;description\\&quot;&quot;\n        + &quot;\\nFROM &quot; + context.SEC_DB_SCHEMA + &quot;.&quot; + context.SEC_DB_TABLE\n        + &quot;\\nWHERE \\&quot;description\\&quot; = 'my_filter_here'\\nLIMIT 1);\\n\\n&quot;;\n\nglobalMap.put(&quot;tDBInput_1_QUERY&quot;, dbquery_tDBInput_1);\njava.sql.ResultSet rs_tDBInput_1 = null;\n\ntry {\n    rs_tDBInput_1 = stmt_tDBInput_1.executeQuery(dbquery_tDBInput_1);\n    java.sql.ResultSetMetaData rsmd_tDBInput_1 = rs_tDBInput_1.getMetaData();\n    int colQtyInRs_tDBInput_1 = rsmd_tDBInput_1.getColumnCount();\n\n    String tmpContent_tDBInput_1 = null;\n\n    while (rs_tDBInput_1.next()) {\n        nb_line_tDBInput_1++;\n\n        if (colQtyInRs_tDBInput_1 &lt; 1) {\n            row1.ID = 0;\n        } else {\n\n            row1.ID = rs_tDBInput_1.getInt(1);\n            if (rs_tDBInput_1.wasNull()) {\n                throw new RuntimeException(&quot;Null value in non-Nullable column&quot;);\n            }\n        }\n        if (colQtyInRs_tDBInput_1 &lt; 2) {\n            row1.ATTRIBUTE = null;\n        } else {\n\n            row1.ATTRIBUTE = routines.system.JDBCUtil.getString(rs_tDBInput_1, 2, false);\n        }\n        if (colQtyInRs_tDBInput_1 &lt; 3) {\n            row1.DEFINITION = null;\n        } else {\n\n            row1.DEFINITION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 3, false);\n        }\n        if (colQtyInRs_tDBInput_1 &lt; 4) {\n            row1.DESCRIPTION = null;\n        } else {\n\n            row1.DESCRIPTION = routines.system.JDBCUtil.getString(rs_tDBInput_1, 4, false);\n        }\n\n        /**\n         * [tDBInput_1 begin ] stop\n         */\n\n        /**\n         * [tDBInput_1 main ] start\n         */\n\n        currentComponent = &quot;tDBInput_1&quot;;\n\n        tos_count_tDBInput_1++;\n\n        /**\n         * [tDBInput_1 main ] stop\n         */\n\n        /**\n         * [tDBInput_1 process_data_begin ] start\n         */\n\n        currentComponent = &quot;tDBInput_1&quot;;\n\n        /**\n         * [tDBInput_1 process_data_begin ] stop\n         */\n\n        /**\n         * [tReplicate_1 main ] start\n         */\n\n        currentComponent = &quot;tReplicate_1&quot;;\n\n        if (execStat) {\n            runStat.updateStatOnConnection(iterateId, 1, 1\n\n                    , &quot;row1&quot;\n\n            );\n        }\n\n        row5 = new row5Struct();\n\n\nrow5.ID = row1.ID;\nrow5.ATTRIBUTE = row1.ATTRIBUTE;\nrow5.DEFINITION = row1.DEFINITION;\nrow5.DESCRIPTION = row1.DESCRIPTION;\n\nglobalMap.put(&quot;row5.ATTRIBUTE&quot;, row5.ATTRIBUTE);\nglobalMap.put(&quot;row5.DEFINITION&quot;, row5.DEFINITION);\n\n// Set Reports DB values\n\ncontext.DB_HOST = [my_server_ip];\ncontext.DB_NAME = [my_db];\ncontext.DB_PORT = 5432;\n// This will have to be changed for each tower will have it's own 'reports' table\ncontext.DB_SCHEMA = &quot;my_schema&quot;;\ncontext.DB_TABLE = &quot;my_table&quot;;\n\ncontext.DB_USER = (String)(globalMap.get(&quot;row5.ATTRIBUTE&quot;));\ncontext.DB_PWD = (String)(globalMap.get(&quot;row5.DEFINITION&quot;));\n\n//------------\n\n    currentComponent=&quot;tDBConnection_1&quot;;\n\n    \n        int tos_count_tDBConnection_1 = 0;\n        \n\n\n    \n            String dbProperties_tDBConnection_1 = &quot;sslfactory=org.postgresql.ssl.NonValidatingFactory&amp;sslmode=prefer&quot;;\n            String url_tDBConnection_1 = &quot;jdbc:postgresql://&quot;+context.DB_HOST+&quot;:&quot;+context.DB_PORT+&quot;/&quot;+context.DB_NAME;\n            \n            if(dbProperties_tDBConnection_1 != null &amp;&amp; !&quot;&quot;.equals(dbProperties_tDBConnection_1.trim())) {\n                url_tDBConnection_1 = url_tDBConnection_1 + &quot;?&quot; + dbProperties_tDBConnection_1;\n            }\n    String dbUser_tDBConnection_1 = context.DB_USER;\n    \n//////////////////\n</code></pre>\n<pre><code>//////////////////\n\nLog entry from the time of trying to connect both locally and remotely-\n\n2022-08-23 15:20:45.452 EDT [67687] LOG:  database system is ready to accept connections\n2022-08-23 15:22:00.719 EDT [67687] LOG:  received fast shutdown request\n2022-08-23 15:22:00.720 EDT [67687] LOG:  aborting any active transactions\n2022-08-23 15:22:00.722 EDT [67687] LOG:  background worker &quot;logical replication launcher&quot; (PID 67696) exited with exit code 1\n2022-08-23 15:22:00.722 EDT [67691] LOG:  shutting down\n2022-08-23 15:22:00.754 EDT [67687] LOG:  database system is shut down\n2022-08-23 15:22:00.814 EDT [67739] LOG:  database system was shut down at 2022-08-23 15:22:00 EDT\n2022-08-23 15:22:00.818 EDT [67735] LOG:  database system is ready to accept connections\n2022-08-23 15:52:25.666 EDT [67735] LOG:  received fast shutdown request\n2022-08-23 15:52:25.668 EDT [67735] LOG:  aborting any active transactions\n2022-08-23 15:52:25.669 EDT [67735] LOG:  background worker &quot;logical replication launcher&quot; (PID 67745) exited with exit code 1\n2022-08-23 15:52:25.669 EDT [67740] LOG:  shutting down\n2022-08-23 15:52:25.692 EDT [67735] LOG:  database system is shut down\n2022-08-23 15:52:34.188 EDT [79803] LOG:  database system was shut down at 2022-08-23 15:52:25 EDT\n2022-08-23 15:52:34.194 EDT [79801] LOG:  database system is ready to accept connections\n\n//////////////////////////////////////\n</code></pre>\n<p>UPDATE:\nHere is a much of the java error message as I can share; given some of the restrictions on what I can post;</p>\n<pre><code>error message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off|4\nException in component tDBConnection_2 (Generic_Talend_Job)\norg.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tDBConnection_2Process(Generic_Talend_Job.java:5752)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tSystem_1Process(Generic_Talend_Job.java:5614)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tJava_3Process(Generic_Talend_Job.java:5342)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tWarn_1Process(Generic_Talend_Job.java:5094)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tFileInputDelimited_1Process(Generic_Talend_Job.java:4851)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tLibraryLoad_1Process(Generic_Talend_Job.java:4089)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.tPrejob_1Process(Generic_Talend_Job.java:3856)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.runJobInTOS(Generic_Talend_Job.java:11916)\n    at local_project.generic_talend_job_0_1.Generic_Talend_Job.main(Generic_Talend_Job.java:11245)\n    Suppressed: org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:613)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222)\n        ... 15 more\nsec db connection failure, error message :: FATAL: no pg_hba.conf entry for host &quot;[my_server_ip]&quot;, user &quot;my_db_user&quot;, database &quot;my_db&quot;, SSL off\n</code></pre>\n<p>Update 2:\nEntry from this mornings logs at /data_folder/log after trying again and getting the same error</p>\n<pre><code>[postgres@my_server_name log]$ vim postgresql-Wed.log\n2022-08-24 10:00:17.714 EDT [79801] LOG:  received fast shutdown request\n2022-08-24 10:00:17.717 EDT [79801] LOG:  aborting any active transactions\n2022-08-24 10:00:17.717 EDT [508177] FATAL:  terminating connection due to administrator command\n2022-08-24 10:00:17.717 EDT [508176] FATAL:  terminating connection due to administrator command\n2022-08-24 10:00:17.718 EDT [79801] LOG:  background worker &quot;logical replication launcher&quot; (PID 79809) exited with exit code 1\n2022-08-24 10:00:17.718 EDT [79804] LOG:  shutting down\n2022-08-24 10:00:17.740 EDT [79801] LOG:  database system is shut down\n2022-08-24 10:00:35.780 EDT [513920] LOG:  database system was shut down at 2022-08-24 10:00:17 EDT\n2022-08-24 10:00:35.788 EDT [513918] LOG:  database system is ready to accept connections\n</code></pre>\n<p>Update 3:</p>\n<p>From the postgresql.conf file:</p>\n<pre><code>#------------------------------------------------------------------------------\n# CONNECTIONS AND AUTHENTICATION\n#------------------------------------------------------------------------------\n\n# - Connection Settings -\n\nlisten_addresses = '*'      # what IP address(es) to listen on;\n                    # comma-separated list of addresses;\n                    # defaults to 'localhost'; use '*' for all\n                    # (change requires restart)\nport = 5432             # (change requires restart)\nmax_connections = 100           # (change requires restart)\n#superuser_reserved_connections = 3 # (change requires restart)\n#unix_socket_directories = '/var/run/postgresql, /tmp'  # comma-separated list of directories\n                    # (change requires restart)\n#unix_socket_group = ''         # (change requires restart)\n#unix_socket_permissions = 0777     # begin with 0 to use octal notation\n                    # (change requires restart)\n#bonjour = off              # advertise server via Bonjour\n                    # (change requires restart)\n#bonjour_name = ''          # defaults to the computer name\n                    # (change requires restart)\n\n# - TCP Keepalives -\n# see &quot;man 7 tcp&quot; for details\n\n#tcp_keepalives_idle = 0        # TCP_KEEPIDLE, in seconds;\n                    # 0 selects the system default\n#tcp_keepalives_interval = 0        # TCP_KEEPINTVL, in seconds;\n                    # 0 selects the system default\n#tcp_keepalives_count = 0       # TCP_KEEPCNT;\n                    # 0 selects the system default\n\n# - Authentication -\n\n#authentication_timeout = 1min      # 1s-600s\n#password_encryption = md5      # md5 or scram-sha-256\n#db_user_namespace = off\n\n# GSSAPI using Kerberos\n#krb_server_keyfile = ''\n#krb_caseins_users = off\n\n# - SSL -\n\n#ssl = off\n#ssl_ca_file = ''\n#ssl_cert_file = 'server.crt'\n#ssl_crl_file = ''\n#ssl_key_file = 'server.key'\n#ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL' # allowed SSL ciphers\n#ssl_prefer_server_ciphers = on\n#ssl_ecdh_curve = 'prime256v1'\n#ssl_dh_params_file = ''\n#ssl_passphrase_command = ''\n#ssl_passphrase_command_supports_reload = off\n</code></pre>\n<p>Update 4:</p>\n<p>After doing some more searching, I have found that the default for the postgres logging isn't verbose; so this is the verbose part:</p>\n<pre><code>[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [7] [0]:  LOG:  hostssl record cannot match because SSL is disabled\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [8] [0]:  HINT:  Set ssl = on in postgresql.conf.\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.850 EDT] [] [F0000] [] [] [] [] [] [9] [0]:  CONTEXT:  line 103 of configuration file &quot;[data folder path]/pg_hba.conf&quot;\n[636132] [630676b4.9b4e4] [2022-08-24 15:06:28.854 EDT] [] [00000] [] [] [] [] [] [1] [0]:  LOG:  database system was shut down at 2022-08-24 15:06:18 EDT\n[636130] [630676b4.9b4e2] [2022-08-24 15:06:28.859 EDT] [] [00000] [] [] [] [] [] [10] [0]:  LOG:  database system is ready to accept connections\n</code></pre>\n<p>I have gotten this error even after the following updates-</p>\n<p>update to the postgresql.conf file:</p>\n<pre><code>edit 1\nssl = off\nedit 2\nssl = on\nedit 3\n#ssl = off\n</code></pre>\n<p>updated the log level in the postgresql.conf file to</p>\n<pre><code>log_line_prefix = '[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  '  \n...\nlog_statement = 'all'   \n</code></pre>\n<p>updated the pg_hba.conf file to start with:</p>\n<pre><code># Allow any user on the local system to connect to any database with\n# any database user name using Unix-domain sockets (the default for local\n# connections).\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nlocal   all             all                                     trust\n\n# The same using local loopback TCP/IP connections.\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nhost    all             all             127.0.0.1/32            trust\n\n# The same as the previous line, but using a separate netmask column\n#\n# TYPE  DATABASE        USER            IP-ADDRESS      IP-MASK             METHOD\nhost    all             all             127.0.0.1       255.255.255.255     trust\n\n# The same over IPv6.\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nhost    all             all             ::1/128                 trust\n\n# The same using a host name (would typically cover both IPv4 and IPv6).\n#\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\nhost    all             all             localhost               trust\nhostssl    all        all        0.0.0.0/0      md5\n</code></pre>\n<p>also updated the connection params with-</p>\n<pre><code>sslfactory=org.postgresql.ssl.NonValidatingFactory\n</code></pre>\n<p>According to postgres this is supposed to stop any and all SSL issues and just let the connections through-</p>\n<p><a href=\"https://jdbc.postgresql.org/documentation/head/ssl-client.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/head/ssl-client.html</a></p>\n<p>&quot;A non-validating connection is established via a custom SSLSocketFactory class that is provided with the driver. Setting the connection URL parameter sslfactory=org.postgresql.ssl.NonValidatingFactory will turn off all SSL validation.&quot;</p>\n<p>Update 5:</p>\n<p>Logging settings from postgresql.conf file:</p>\n<pre><code>#------------------------------------------------------------------------------\n# REPORTING AND LOGGING\n#------------------------------------------------------------------------------\n\n# - Where to Log -\n\nlog_destination = 'stderr'      # Valid values are combinations of\n                    # stderr, csvlog, syslog, and eventlog,\n                    # depending on platform.  csvlog\n                    # requires logging_collector to be on.\n\n# This is used when logging to stderr:\nlogging_collector = on          # Enable capturing of stderr and csvlog\n                    # into log files. Required to be on for\n                    # csvlogs.\n                    # (change requires restart)\n\n# These are only used if logging_collector is on:\nlog_directory = 'log'           # directory where log files are written,\n                    # can be absolute or relative to PGDATA\nlog_filename = 'postgresql-%a.log'  # log file name pattern,\n                    # can include strftime() escapes\n#log_file_mode = 0600           # creation mode for log files,\n                    # begin with 0 to use octal notation\nlog_truncate_on_rotation = on       # If on, an existing log file with the\n                    # same name as the new log file will be\n                    # truncated rather than appended to.\n                    # But such truncation only occurs on\n                    # time-driven rotation, not on restarts\n                    # or size-driven rotation.  Default is\n                    # off, meaning append to existing files\n                    # in all cases.\nlog_rotation_age = 1d           # Automatic rotation of logfiles will\n                    # happen after that time.  0 disables.\nlog_rotation_size = 0           # Automatic rotation of logfiles will\n                    # happen after that much log output.\n                    # 0 disables.\n\n# These are relevant when logging to syslog:\n#syslog_facility = 'LOCAL0'\n#syslog_ident = 'postgres'\n#syslog_sequence_numbers = on\n#syslog_split_messages = on\n\n# This is only relevant when logging to eventlog (win32):\n# (change requires restart)\n#event_source = 'PostgreSQL'\n\n# - When to Log -\n\n#log_min_messages = warning     # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic\n\n#log_min_error_statement = error    # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic (effectively off)\n\n#log_min_duration_statement = -1    # -1 is disabled, 0 logs all statements\n                    # and their durations, &gt; 0 logs only\n                    # statements running at least this number\n                    # of milliseconds\n\n\n# - What to Log -\n\n#debug_print_parse = off\n#debug_print_rewritten = off\n#debug_print_plan = off\n#debug_pretty_print = on\n#log_checkpoints = off\n#log_connections = off\n#log_disconnections = off\n#log_duration = off\n#log_error_verbosity = default      # terse, default, or verbose messages\n#log_hostname = off\nlog_line_prefix = '[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  '      # special values:\n                    #   %a = application name\n                    #   %u = user name\n                    #   %d = database name\n                    #   %r = remote host and port\n                    #   %h = remote host\n                    #   %p = process ID\n                    #   %t = timestamp without milliseconds\n                    #   %m = timestamp with milliseconds\n                    #   %n = timestamp with milliseconds (as a Unix epoch)\n                    #   %i = command tag\n                    #   %e = SQL state\n                    #   %c = session ID\n                    #   %l = session line number\n                    #   %s = session start timestamp\n                    #   %v = virtual transaction ID\n                    #   %x = transaction ID (0 if none)\n                    #   %q = stop here in non-session\n                    #        processes\n                    #   %% = '%'\n                    # e.g. '&lt;%u%%%d&gt; '\n#log_lock_waits = off           # log lock waits &gt;= deadlock_timeout\nlog_statement = 'all'           # none, ddl, mod, all\n#log_replication_commands = off\n#log_temp_files = -1            # log temporary files equal or larger\n                    # than the specified size in kilobytes;\n                    # -1 disables, 0 logs all temp files\nlog_timezone = 'America/New_York'\n</code></pre>\n<p>Update 6:</p>\n<p>I made edits to the logging part of the config, and now have a lot of output from the log</p>\n<p>new logging settings:</p>\n<pre><code>#------------------------------------------------------------------------------\n# REPORTING AND LOGGING\n#------------------------------------------------------------------------------\n\n# - Where to Log -\n\nlog_destination = 'stderr'      # Valid values are combinations of\n                    # stderr, csvlog, syslog, and eventlog,\n                    # depending on platform.  csvlog\n                    # requires logging_collector to be on.\n\n# This is used when logging to stderr:\nlogging_collector = on          # Enable capturing of stderr and csvlog\n                    # into log files. Required to be on for\n                    # csvlogs.\n                    # (change requires restart)\n\n# These are only used if logging_collector is on:\nlog_directory = 'log'           # directory where log files are written,\n                    # can be absolute or relative to PGDATA\nlog_filename = 'postgresql-%a.log'  # log file name pattern,\n                    # can include strftime() escapes\n#log_file_mode = 0600           # creation mode for log files,\n                    # begin with 0 to use octal notation\nlog_truncate_on_rotation = on       # If on, an existing log file with the\n                    # same name as the new log file will be\n                    # truncated rather than appended to.\n                    # But such truncation only occurs on\n                    # time-driven rotation, not on restarts\n                    # or size-driven rotation.  Default is\n                    # off, meaning append to existing files\n                    # in all cases.\nlog_rotation_age = 1d           # Automatic rotation of logfiles will\n                    # happen after that time.  0 disables.\nlog_rotation_size = 0           # Automatic rotation of logfiles will\n                    # happen after that much log output.\n                    # 0 disables.\n\n# These are relevant when logging to syslog:\n#syslog_facility = 'LOCAL0'\n#syslog_ident = 'postgres'\n#syslog_sequence_numbers = on\n#syslog_split_messages = on\n\n# This is only relevant when logging to eventlog (win32):\n# (change requires restart)\n#event_source = 'PostgreSQL'\n\n# - When to Log -\n\nlog_min_messages = debug5       # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic\n\nlog_min_error_statement = debug5    # values in order of decreasing detail:\n                    #   debug5\n                    #   debug4\n                    #   debug3\n                    #   debug2\n                    #   debug1\n                    #   info\n                    #   notice\n                    #   warning\n                    #   error\n                    #   log\n                    #   fatal\n                    #   panic (effectively off)\n\nlog_min_duration_statement = 0  # -1 is disabled, 0 logs all statements\n                    # and their durations, &gt; 0 logs only\n                    # statements running at least this number\n                    # of milliseconds\n\n\n# - What to Log -\n\n#debug_print_parse = off\n#debug_print_rewritten = off\n#debug_print_plan = off\n#debug_pretty_print = on\n#log_checkpoints = off\nlog_connections = on\nlog_disconnections = on\n#log_duration = off\nlog_error_verbosity = verbose       # terse, default, or verbose messages\nlog_hostname = on\nlog_line_prefix = '[%p] [%c] [%m] [%v] [%e] [%i] [%d] [%u] [%a] [%r] [%l] [%x]:  '      # special values:\n                    #   %a = application name\n                    #   %u = user name\n                    #   %d = database name\n                    #   %r = remote host and port\n                    #   %h = remote host\n                    #   %p = process ID\n                    #   %t = timestamp without milliseconds\n                    #   %m = timestamp with milliseconds\n                    #   %n = timestamp with milliseconds (as a Unix epoch)\n                    #   %i = command tag\n                    #   %e = SQL state\n                    #   %c = session ID\n                    #   %l = session line number\n                    #   %s = session start timestamp\n                    #   %v = virtual transaction ID\n                    #   %x = transaction ID (0 if none)\n                    #   %q = stop here in non-session\n                    #        processes\n                    #   %% = '%'\n                    # e.g. '&lt;%u%%%d&gt; '\n#log_lock_waits = off           # log lock waits &gt;= deadlock_timeout\nlog_statement = 'all'           # none, ddl, mod, all\n#log_replication_commands = off\n#log_temp_files = -1            # log temporary files equal or larger\n                    # than the specified size in kilobytes;\n                    # -1 disables, 0 logs all temp files\nlog_timezone = 'America/New_York'\n</code></pre>\n<p>I couldn't paste the error log here because after making it verbose it was very long- so I made a gist</p>\n<p>Last update:</p>\n<p>I removed the Gist because the peeps here helped me find my error:</p>\n<p>okay, so the issue was 3 things; thing 1, we have a 'properties' file that I thought was set to this server this db; and it wasn't // thing 2, the default logging was set to 'warning' and didn't have enough information so after putting it to debug level 5 (the most data) and on 'all' events; I finally saw a error message that made me realize it was pointed at the wrong db // thing 3, in the many (too many) iterations of my pg_hba.conf file I had added then removed the IP address.\nso now it's working, lol\nSometimes you are too close to the tracks to see the train, lol</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1673365437,"post_id":75072345,"comment_id":132479634,"body_markdown":"you are adding and working on the SAME instance of the `List` -  adding an element to `pow` will NOT create a copy of it - if you remove (or add) items to `ans` you are also changing the instance that is inside `pow`","body":"you are adding and working on the SAME instance of the <code>List</code> -  adding an element to <code>pow</code> will NOT create a copy of it - if you remove (or add) items to <code>ans</code> you are also changing the instance that is inside <code>pow</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673365601,"post_id":75072345,"comment_id":132479698,"body_markdown":"Just follow the logic of your code: you&#39;re adding elements to `ans` (via `ans.add(arr[i])`) and print them, then remove elements again (via `ans.remove(ans.size()-1)`)  and print that too. In the end you print `pow` which contains _several references to the same instance_ of `ans` which is empty at that point. - To make this clear: `ans` always refers to the same instance and thus `pow.add(ans)` adds a reference to that instance to `pow` again and again.","body":"Just follow the logic of your code: you&#39;re adding elements to <code>ans</code> (via <code>ans.add(arr[i])</code>) and print them, then remove elements again (via <code>ans.remove(ans.size()-1)</code>)  and print that too. In the end you print <code>pow</code> which contains <i>several references to the same instance</i> of <code>ans</code> which is empty at that point. - To make this clear: <code>ans</code> always refers to the same instance and thus <code>pow.add(ans)</code> adds a reference to that instance to <code>pow</code> again and again."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1673365628,"post_id":75072345,"comment_id":132479708,"body_markdown":"If you hook a debugger up, you can easily see the state of each variable as you proceed through your code.","body":"If you hook a debugger up, you can easily see the state of each variable as you proceed through your code."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673365677,"creation_date":1673365677,"answer_id":75072452,"question_id":75072345,"body_markdown":"Count the `new`. I count exactly 2 `new` statements executed for the _entire_ run: `ans = new ArrayList&lt;&gt;()` and `pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;()`.\r\n\r\nThat means there are 2 lists and only 2, __total__.\r\n\r\n&gt; Is there a concept of pass by value / pass by reference ?\r\n\r\nAll non-primitives __are__ references in java. When you write `ans = new ArrayList&lt;&gt;()`, that is __not__ stating that ans _is_ the list. It is short for:\r\n\r\n* Find a place on the beach (the heap).\r\n* Conjure a new arraylist and bury it here, in this place on the beach.\r\n* Draw a map _to_ this place on the piece of paper named `ans`.\r\n\r\nWhen you pass &#39;ans&#39; to another method, it&#39;s pass by value, i.e., a copy, but you&#39;re copying the treasuremap. Not the treasure. So if the called method uses `=` (that&#39;s java-ese for: Wipe out the treasure map and draw a new map), the caller doesn&#39;t notice anything (their copy of the map isn&#39;t being wiped, after all). But if the called method uses `.`, such as `.add` or `.remove`, well, `.` is java-ese for: Follow the map and dig down. Even though you have a copy of the treasure map, given that it leads to the same treasure, if someone else digs down and messes with the treasure, you&#39;d notice.\r\n\r\nThus, __count the `new`__. If you expect your code to produce 15 arraylists, then throughout its total execution, exactly 15 `new` statements need to be executed.\r\n\r\n`new ArrayList&lt;&gt;(someList)` makes a clone.\r\n","title":"Power of the Set","body":"<p>Count the <code>new</code>. I count exactly 2 <code>new</code> statements executed for the <em>entire</em> run: <code>ans = new ArrayList&lt;&gt;()</code> and <code>pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;()</code>.</p>\n<p>That means there are 2 lists and only 2, <strong>total</strong>.</p>\n<blockquote>\n<p>Is there a concept of pass by value / pass by reference ?</p>\n</blockquote>\n<p>All non-primitives <strong>are</strong> references in java. When you write <code>ans = new ArrayList&lt;&gt;()</code>, that is <strong>not</strong> stating that ans <em>is</em> the list. It is short for:</p>\n<ul>\n<li>Find a place on the beach (the heap).</li>\n<li>Conjure a new arraylist and bury it here, in this place on the beach.</li>\n<li>Draw a map <em>to</em> this place on the piece of paper named <code>ans</code>.</li>\n</ul>\n<p>When you pass 'ans' to another method, it's pass by value, i.e., a copy, but you're copying the treasuremap. Not the treasure. So if the called method uses <code>=</code> (that's java-ese for: Wipe out the treasure map and draw a new map), the caller doesn't notice anything (their copy of the map isn't being wiped, after all). But if the called method uses <code>.</code>, such as <code>.add</code> or <code>.remove</code>, well, <code>.</code> is java-ese for: Follow the map and dig down. Even though you have a copy of the treasure map, given that it leads to the same treasure, if someone else digs down and messes with the treasure, you'd notice.</p>\n<p>Thus, <strong>count the <code>new</code></strong>. If you expect your code to produce 15 arraylists, then throughout its total execution, exactly 15 <code>new</code> statements need to be executed.</p>\n<p><code>new ArrayList&lt;&gt;(someList)</code> makes a clone.</p>\n"}],"owner":{"account_id":27489795,"reputation":1,"user_id":20975391,"display_name":"Uddeshya Seth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673365677,"creation_date":1673365192,"question_id":75072345,"body_markdown":"I generated all the subsequences of the array using recursion, but I can&#39;t figure out why my pow\r\n(last line print statement) is printing null arraylist, while the powset print statement always prints the subsequence fine.\r\nIs there a concept of pass by value / pass by reference ?\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class recursion {\r\n    static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; pow;\r\n    public static void main(String[] args) {\r\n        int arr[] = {2, 3, 5};\r\n        int sum = 10;\r\n        ArrayList&lt;Integer&gt; ans = new ArrayList&lt;&gt;();\r\n         pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n        powset(arr, 0, ans);\r\n        System.out.println(pow);  // Prints empty arraylist everytime\r\n    }\r\n\r\n    private static void powset(int[] arr, int i, ArrayList&lt;Integer&gt; ans) {\r\n        if(i &gt;= arr.length){\r\n            System.out.println(ans); // prints the correct arraylist as expected\r\n            pow.add(ans);\r\n            return;\r\n        }\r\n        ans.add(arr[i]);\r\n        powset(arr,i+1,ans);\r\n        ans.remove(ans.size()-1);\r\n        powset(arr,i+1,ans);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI was expecting the **pow** arraylist to print all the arraylist inside it, but It is printing empty arraylists.","title":"Power of the Set","body":"<p>I generated all the subsequences of the array using recursion, but I can't figure out why my pow\n(last line print statement) is printing null arraylist, while the powset print statement always prints the subsequence fine.\nIs there a concept of pass by value / pass by reference ?</p>\n<pre><code>import java.util.ArrayList;\n\npublic class recursion {\n    static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; pow;\n    public static void main(String[] args) {\n        int arr[] = {2, 3, 5};\n        int sum = 10;\n        ArrayList&lt;Integer&gt; ans = new ArrayList&lt;&gt;();\n         pow = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        powset(arr, 0, ans);\n        System.out.println(pow);  // Prints empty arraylist everytime\n    }\n\n    private static void powset(int[] arr, int i, ArrayList&lt;Integer&gt; ans) {\n        if(i &gt;= arr.length){\n            System.out.println(ans); // prints the correct arraylist as expected\n            pow.add(ans);\n            return;\n        }\n        ans.add(arr[i]);\n        powset(arr,i+1,ans);\n        ans.remove(ans.size()-1);\n        powset(arr,i+1,ans);\n\n    }\n\n\n}\n\n</code></pre>\n<p>I was expecting the <strong>pow</strong> arraylist to print all the arraylist inside it, but It is printing empty arraylists.</p>\n"},{"tags":["java","android","user-interface","android-recyclerview"],"comments":[{"owner":{"account_id":984883,"reputation":7571,"user_id":1003665,"accept_rate":78,"display_name":"ticofab"},"score":6,"creation_date":1427785850,"post_id":26245139,"comment_id":46908934,"body_markdown":"On top of Anton&#39;s answer, see my answer here: http://stackoverflow.com/questions/25914003/recyclerview-and-handling-different-type-of-row-inflation/29362643#29362643","body":"On top of Anton&#39;s answer, see my answer here: <a href=\"http://stackoverflow.com/questions/25914003/recyclerview-and-handling-different-type-of-row-inflation/29362643#29362643\" title=\"recyclerview and handling different type of row inflation\">stackoverflow.com/questions/25914003/&hellip;</a>"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":1,"creation_date":1476884394,"post_id":26245139,"comment_id":67535888,"body_markdown":"Check these link which can also useful for you  http://stackoverflow.com/a/39972276/3946958","body":"Check these link which can also useful for you  <a href=\"http://stackoverflow.com/a/39972276/3946958\">stackoverflow.com/a/39972276/3946958</a>"},{"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"score":2,"creation_date":1479343348,"post_id":26245139,"comment_id":68521662,"body_markdown":"Good tutorial here: https://guides.codepath.com/android/Heterogenous-Layouts-inside-RecyclerView","body":"Good tutorial here: <a href=\"https://guides.codepath.com/android/Heterogenous-Layouts-inside-RecyclerView\" rel=\"nofollow noreferrer\">guides.codepath.com/android/&hellip;</a>"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":1,"creation_date":1485152695,"post_id":26245139,"comment_id":70788734,"body_markdown":"Check these link it is workable http://stackoverflow.com/questions/39971350/recycle-view-inflating-different-row-getting-exception-while-binding-the-data/39972276#39972276 If there is issue than please let me know","body":"Check these link it is workable <a href=\"http://stackoverflow.com/questions/39971350/recycle-view-inflating-different-row-getting-exception-while-binding-the-data/39972276#39972276\" title=\"recycle view inflating different row getting exception while binding the data\">stackoverflow.com/questions/39971350/&hellip;</a> If there is issue than please let me know"},{"owner":{"account_id":6299077,"reputation":559,"user_id":4894238,"display_name":"Vitaly"},"score":1,"creation_date":1517136606,"post_id":26245139,"comment_id":83963691,"body_markdown":"The Great library to implement it https://github.com/vivchar/RendererRecyclerViewAdapter","body":"The Great library to implement it <a href=\"https://github.com/vivchar/RendererRecyclerViewAdapter\" rel=\"nofollow noreferrer\">github.com/vivchar/RendererRecyclerViewAdapter</a>"},{"owner":{"account_id":12713720,"reputation":2483,"user_id":9236525,"display_name":"Kunchok Tashi"},"score":0,"creation_date":1585484288,"post_id":26245139,"comment_id":107769289,"body_markdown":"Check this blog https://techtibet.com/blog/android/android-recyclerview-with-multiple-view-type/  its well and clear","body":"Check this blog <a href=\"https://techtibet.com/blog/android/android-recyclerview-with-multiple-view-type/\" rel=\"nofollow noreferrer\">techtibet.com/blog/android/&hellip;</a>  its well and clear"},{"owner":{"account_id":9202140,"reputation":454,"user_id":6838718,"display_name":"Chandu"},"score":0,"creation_date":1594875630,"post_id":26245139,"comment_id":111281013,"body_markdown":"Check this video tutorial: https://youtu.be/UZwiKdrm768\nI felt it helpful. Hope that helps you too.","body":"Check this video tutorial: <a href=\"https://youtu.be/UZwiKdrm768\" rel=\"nofollow noreferrer\">youtu.be/UZwiKdrm768</a> I felt it helpful. Hope that helps you too."},{"owner":{"account_id":2667032,"reputation":253,"user_id":2305239,"accept_rate":70,"display_name":"Shikhar Deep"},"score":1,"creation_date":1611064402,"post_id":26245139,"comment_id":116325317,"body_markdown":"Well, it&#39;s 2021 and I thought this answer needs an update. AndroidX now has something called as ConcatAdapter which beginners may find easier to use. check this for a simple tutorial: https://blog.mindorks.com/implementing-merge-adapter-in-android-tutorial","body":"Well, it&#39;s 2021 and I thought this answer needs an update. AndroidX now has something called as ConcatAdapter which beginners may find easier to use. check this for a simple tutorial: <a href=\"https://blog.mindorks.com/implementing-merge-adapter-in-android-tutorial\" rel=\"nofollow noreferrer\">blog.mindorks.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4915395,"reputation":40941,"user_id":3959454,"accept_rate":75,"display_name":"Anton Savin"},"down_vote_count":2,"up_vote_count":1514,"is_accepted":true,"score":1512,"last_activity_date":1479494651,"creation_date":1412716666,"answer_id":26245463,"question_id":26245139,"body_markdown":"Yes, it&#39;s possible. Just implement [getItemViewType()](https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)), and take care of the `viewType` parameter in `onCreateViewHolder()`.\r\n\r\nSo you do something like:\r\n\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n        class ViewHolder0 extends RecyclerView.ViewHolder {\r\n            ...\r\n            public ViewHolder0(View itemView){\r\n            ...\r\n            }\r\n        }\r\n\r\n        class ViewHolder2 extends RecyclerView.ViewHolder {\r\n            ...\r\n            public ViewHolder2(View itemView){\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            // Just as an example, return 0 or 2 depending on position\r\n            // Note that unlike in ListView adapters, types don&#39;t have to be contiguous\r\n            return position % 2 * 2;\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n             switch (viewType) {\r\n                 case 0: return new ViewHolder0(...);\r\n                 case 2: return new ViewHolder2(...);\r\n                 ...\r\n             }\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int position) {\r\n            switch (holder.getItemViewType()) {\r\n                case 0:\r\n                    ViewHolder0 viewHolder0 = (ViewHolder0)holder;\r\n                    ...\r\n                    break;\r\n\r\n                case 2:\r\n                    ViewHolder2 viewHolder2 = (ViewHolder2)holder;\r\n                    ...\r\n                    break;\r\n            }\r\n        }\r\n    }","title":"How to create RecyclerView with multiple view types","body":"<p>Yes, it's possible. Just implement <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\">getItemViewType()</a>, and take care of the <code>viewType</code> parameter in <code>onCreateViewHolder()</code>.</p>\n\n<p>So you do something like:</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    class ViewHolder0 extends RecyclerView.ViewHolder {\n        ...\n        public ViewHolder0(View itemView){\n        ...\n        }\n    }\n\n    class ViewHolder2 extends RecyclerView.ViewHolder {\n        ...\n        public ViewHolder2(View itemView){\n        ...\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        // Just as an example, return 0 or 2 depending on position\n        // Note that unlike in ListView adapters, types don't have to be contiguous\n        return position % 2 * 2;\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n         switch (viewType) {\n             case 0: return new ViewHolder0(...);\n             case 2: return new ViewHolder2(...);\n             ...\n         }\n    }\n\n    @Override\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int position) {\n        switch (holder.getItemViewType()) {\n            case 0:\n                ViewHolder0 viewHolder0 = (ViewHolder0)holder;\n                ...\n                break;\n\n            case 2:\n                ViewHolder2 viewHolder2 = (ViewHolder2)holder;\n                ...\n                break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3579384,"reputation":10125,"user_id":2987953,"accept_rate":49,"display_name":"lannyf"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1625680786,"creation_date":1421017213,"answer_id":27893098,"question_id":26245139,"body_markdown":"Following [Anton&#39;s solution][1], I came up with this `ViewHolder` which holds/handles/delegates different type of layouts.\r\n\r\nBut I am not sure if the replacing new layout would work when the recycling view&#39;s `ViewHolder` is not the type of the data roll in.\r\n\r\nSo basically,\r\n`onCreateViewHolder(ViewGroup parent, int viewType)` is only called when new view layout is needed;\r\n\r\n`getItemViewType(int position)` will be called for the `viewType`;\r\n\r\n`onBindViewHolder(ViewHolder holder, int position)` is always called when recycling the view (new data is brought in and try to display with that `ViewHolder`).\r\n\r\nSo when `onBindViewHolder` is called it needs to be put in the right view layout and update the `ViewHolder`.\r\n\r\n    public int getItemViewType(int position) {\r\n        TypedData data = mDataSource.get(position);\r\n        return data.type;\r\n    }\r\n\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent,\r\n        int viewType) {\r\n        return ViewHolder.makeViewHolder(parent, viewType);\r\n    }\r\n\r\n    public void onBindViewHolder(ViewHolder holder,\r\n        int position) {\r\n        TypedData data = mDataSource.get(position);\r\n        holder.updateData(data);\r\n    }\r\n\r\n    ///\r\n    public static class ViewHolder extends\r\n        RecyclerView.ViewHolder {\r\n\r\n        ViewGroup mParentViewGroup;\r\n        View mCurrentViewThisViewHolderIsFor;\r\n        int mDataType;\r\n\r\n        public TypeOneViewHolder mTypeOneViewHolder;\r\n        public TypeTwoViewHolder mTypeTwoViewHolder;\r\n\r\n        static ViewHolder makeViewHolder(ViewGroup vwGrp,\r\n            int dataType) {\r\n            View v = getLayoutView(vwGrp, dataType);\r\n            return new ViewHolder(vwGrp, v, viewType);\r\n        }\r\n\r\n        static View getLayoutView(ViewGroup vwGrp,\r\n            int dataType) {\r\n            int layoutId = getLayoutId(dataType);\r\n            return LayoutInflater.from(vwGrp.getContext())\r\n                                 .inflate(layoutId, null);\r\n        }\r\n\r\n        static int getLayoutId(int dataType) {\r\n            if (dataType == TYPE_ONE) {\r\n                return R.layout.type_one_layout;\r\n            } else if (dataType == TYPE_TWO) {\r\n                return R.layout.type_two_layout;\r\n            }\r\n        }\r\n\r\n        public ViewHolder(ViewGroup vwGrp, View v,\r\n            int dataType) {\r\n            super(v);\r\n            mDataType = dataType;\r\n            mParentViewGroup = vwGrp;\r\n            mCurrentViewThisViewHolderIsFor = v;\r\n\r\n            if (data.type == TYPE_ONE) {\r\n                mTypeOneViewHolder = new TypeOneViewHolder(v);\r\n            } else if (data.type == TYPE_TWO) {\r\n                mTypeTwoViewHolder = new TypeTwoViewHolder(v);\r\n            }\r\n        }\r\n\r\n        public void updateData(TypeData data) {\r\n            mDataType = data.type;\r\n            if (data.type == TYPE_ONE) {\r\n                mTypeTwoViewHolder = null;\r\n                if (mTypeOneViewHolder == null) {\r\n                    View newView = getLayoutView(mParentViewGroup,\r\n                                   data.type);\r\n\r\n                    /**\r\n                     *  How can I replace a new view with\r\n                        the view in the parent\r\n                        view container?\r\n                     */\r\n                    replaceView(mCurrentViewThisViewHolderIsFor,\r\n                                newView);\r\n                    mCurrentViewThisViewHolderIsFor = newView;\r\n\r\n                    mTypeOneViewHolder =\r\n                        new TypeOneViewHolder(newView);\r\n                }\r\n                mTypeOneViewHolder.updateDataTypeOne(data);\r\n\r\n            } else if (data.type == TYPE_TWO){\r\n                mTypeOneViewHolder = null;\r\n                if (mTypeTwoViewHolder == null) {\r\n                    View newView = getLayoutView(mParentViewGroup,\r\n                                   data.type);\r\n\r\n                    /**\r\n                     *  How can I replace a new view with\r\n                        the view in the parent view\r\n                        container?\r\n                     */\r\n                    replaceView(mCurrentViewThisViewHolderIsFor,\r\n                                newView);\r\n                    mCurrentViewThisViewHolderIsFor = newView;\r\n\r\n                    mTypeTwoViewHolder =\r\n                        new TypeTwoViewHolder(newView);\r\n                }\r\n                mTypeTwoViewHolder.updateDataTypeOne(data);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void replaceView(View currentView,\r\n        View newView) {\r\n        ViewGroup parent = (ViewGroup)currentView.getParent();\r\n        if(parent == null) {\r\n            return;\r\n        }\r\n        final int index = parent.indexOfChild(currentView);\r\n        parent.removeView(currentView);\r\n        parent.addView(newView, index);\r\n    }\r\n\r\nViewHolder has member mItemViewType to hold the view.\r\n\r\nIt looks like in onBindViewHolder(ViewHolder holder, int position) the ViewHolder passed in has been picked up (or created) by looked at getItemViewType(int position) to make sure it is a match, so it may not need to worry there that ViewHolder&#39;s type does not match the data[position]&#39;s type.\r\n\r\nIt looks like The recycle `ViewHolder` is picked by type, so no warrior there.\r\n\r\n*[Building a RecyclerView LayoutManager – Part 1][2]* answers this question.\r\n\r\nIt gets the recycle `ViewHolder` like:\r\n\r\n    holder = getRecycledViewPool().getRecycledView(mAdapter.getItemViewType(offsetPosition));\r\n\r\nOr create a new one if not find recycle `ViewHolder` of the right type.\r\n\r\n    public ViewHolder getRecycledView(int viewType) {\r\n            final ArrayList&lt;ViewHolder&gt; scrapHeap = mScrap.get(viewType);\r\n            if (scrapHeap != null &amp;&amp; !scrapHeap.isEmpty()) {\r\n                final int index = scrapHeap.size() - 1;\r\n                final ViewHolder scrap = scrapHeap.get(index);\r\n                scrapHeap.remove(index);\r\n                return scrap;\r\n            }\r\n            return null;\r\n        }\r\n\r\n    View getViewForPosition(int position, boolean dryRun) {\r\n        ......\r\n\r\n        if (holder == null) {\r\n                final int offsetPosition = mAdapterHelper.findPositionOffset(position);\r\n                if (offsetPosition &lt; 0 || offsetPosition &gt;= mAdapter.getItemCount()) {\r\n                    throw new IndexOutOfBoundsException(&quot;Inconsistency detected. Invalid item &quot;\r\n                            + &quot;position &quot; + position + &quot;(offset:&quot; + offsetPosition + &quot;).&quot;\r\n                            + &quot;state:&quot; + mState.getItemCount());\r\n                }\r\n\r\n                final int type = mAdapter.getItemViewType(offsetPosition);\r\n                // 2) Find from scrap via stable ids, if exists\r\n                if (mAdapter.hasStableIds()) {\r\n                    holder = getScrapViewForId(mAdapter.getItemId(offsetPosition), type, dryRun);\r\n                    if (holder != null) {\r\n                        // update position\r\n                        holder.mPosition = offsetPosition;\r\n                        fromScrap = true;\r\n                    }\r\n                }\r\n                if (holder == null &amp;&amp; mViewCacheExtension != null) {\r\n                    // We are NOT sending the offsetPosition because LayoutManager does not\r\n                    // know it.\r\n                    final View view = mViewCacheExtension\r\n                            .getViewForPositionAndType(this, position, type);\r\n                    if (view != null) {\r\n                        holder = getChildViewHolder(view);\r\n                        if (holder == null) {\r\n                            throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\r\n                                    + &quot; a view which does not have a ViewHolder&quot;);\r\n                        } else if (holder.shouldIgnore()) {\r\n                            throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\r\n                                    + &quot; a view that is ignored. You must call stopIgnoring before&quot;\r\n                                    + &quot; returning this view.&quot;);\r\n                        }\r\n                    }\r\n                }\r\n                if (holder == null) { // fallback to recycler\r\n                    // try recycler.\r\n                    // Head to the shared pool.\r\n                    if (DEBUG) {\r\n                        Log.d(TAG, &quot;getViewForPosition(&quot; + position + &quot;) fetching from shared &quot;\r\n                                + &quot;pool&quot;);\r\n                    }\r\n                    holder = getRecycledViewPool()\r\n                            .getRecycledView(mAdapter.getItemViewType(offsetPosition));\r\n                    if (holder != null) {\r\n                        holder.resetInternal();\r\n                        if (FORCE_INVALIDATE_DISPLAY_LIST) {\r\n                            invalidateDisplayListInt(holder);\r\n                        }\r\n                    }\r\n                }\r\n                if (holder == null) {\r\n                    holder = mAdapter.createViewHolder(RecyclerView.this,\r\n                            mAdapter.getItemViewType(offsetPosition));\r\n                    if (DEBUG) {\r\n                        Log.d(TAG, &quot;getViewForPosition created new ViewHolder&quot;);\r\n                    }\r\n                }\r\n            }\r\n            boolean bound = false;\r\n            if (mState.isPreLayout() &amp;&amp; holder.isBound()) {\r\n                // do not update unless we absolutely have to.\r\n                holder.mPreLayoutPosition = position;\r\n            } else if (!holder.isBound() || holder.needsUpdate() || holder.isInvalid()) {\r\n                if (DEBUG &amp;&amp; holder.isRemoved()) {\r\n                    throw new IllegalStateException(&quot;Removed holder should be bound and it should&quot;\r\n                            + &quot; come here only in pre-layout. Holder: &quot; + holder);\r\n                }\r\n                final int offsetPosition = mAdapterHelper.findPositionOffset(position);\r\n                mAdapter.bindViewHolder(holder, offsetPosition);\r\n                attachAccessibilityDelegate(holder.itemView);\r\n                bound = true;\r\n                if (mState.isPreLayout()) {\r\n                    holder.mPreLayoutPosition = position;\r\n                }\r\n            }\r\n\r\n            final ViewGroup.LayoutParams lp = holder.itemView.getLayoutParams();\r\n            final LayoutParams rvLayoutParams;\r\n            if (lp == null) {\r\n                rvLayoutParams = (LayoutParams) generateDefaultLayoutParams();\r\n                holder.itemView.setLayoutParams(rvLayoutParams);\r\n            } else if (!checkLayoutParams(lp)) {\r\n                rvLayoutParams = (LayoutParams) generateLayoutParams(lp);\r\n                holder.itemView.setLayoutParams(rvLayoutParams);\r\n            } else {\r\n                rvLayoutParams = (LayoutParams) lp;\r\n            }\r\n            rvLayoutParams.mViewHolder = holder;\r\n            rvLayoutParams.mPendingInvalidate = fromScrap &amp;&amp; bound;\r\n            return holder.itemView;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\r\n  [2]: http://wiresareobsolete.com/2014/09/building-a-recyclerview-layoutmanager-part-1/\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Following <a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\">Anton's solution</a>, I came up with this <code>ViewHolder</code> which holds/handles/delegates different type of layouts.</p>\n<p>But I am not sure if the replacing new layout would work when the recycling view's <code>ViewHolder</code> is not the type of the data roll in.</p>\n<p>So basically,\n<code>onCreateViewHolder(ViewGroup parent, int viewType)</code> is only called when new view layout is needed;</p>\n<p><code>getItemViewType(int position)</code> will be called for the <code>viewType</code>;</p>\n<p><code>onBindViewHolder(ViewHolder holder, int position)</code> is always called when recycling the view (new data is brought in and try to display with that <code>ViewHolder</code>).</p>\n<p>So when <code>onBindViewHolder</code> is called it needs to be put in the right view layout and update the <code>ViewHolder</code>.</p>\n<pre><code>public int getItemViewType(int position) {\n    TypedData data = mDataSource.get(position);\n    return data.type;\n}\n\npublic ViewHolder onCreateViewHolder(ViewGroup parent,\n    int viewType) {\n    return ViewHolder.makeViewHolder(parent, viewType);\n}\n\npublic void onBindViewHolder(ViewHolder holder,\n    int position) {\n    TypedData data = mDataSource.get(position);\n    holder.updateData(data);\n}\n\n///\npublic static class ViewHolder extends\n    RecyclerView.ViewHolder {\n\n    ViewGroup mParentViewGroup;\n    View mCurrentViewThisViewHolderIsFor;\n    int mDataType;\n\n    public TypeOneViewHolder mTypeOneViewHolder;\n    public TypeTwoViewHolder mTypeTwoViewHolder;\n\n    static ViewHolder makeViewHolder(ViewGroup vwGrp,\n        int dataType) {\n        View v = getLayoutView(vwGrp, dataType);\n        return new ViewHolder(vwGrp, v, viewType);\n    }\n\n    static View getLayoutView(ViewGroup vwGrp,\n        int dataType) {\n        int layoutId = getLayoutId(dataType);\n        return LayoutInflater.from(vwGrp.getContext())\n                             .inflate(layoutId, null);\n    }\n\n    static int getLayoutId(int dataType) {\n        if (dataType == TYPE_ONE) {\n            return R.layout.type_one_layout;\n        } else if (dataType == TYPE_TWO) {\n            return R.layout.type_two_layout;\n        }\n    }\n\n    public ViewHolder(ViewGroup vwGrp, View v,\n        int dataType) {\n        super(v);\n        mDataType = dataType;\n        mParentViewGroup = vwGrp;\n        mCurrentViewThisViewHolderIsFor = v;\n\n        if (data.type == TYPE_ONE) {\n            mTypeOneViewHolder = new TypeOneViewHolder(v);\n        } else if (data.type == TYPE_TWO) {\n            mTypeTwoViewHolder = new TypeTwoViewHolder(v);\n        }\n    }\n\n    public void updateData(TypeData data) {\n        mDataType = data.type;\n        if (data.type == TYPE_ONE) {\n            mTypeTwoViewHolder = null;\n            if (mTypeOneViewHolder == null) {\n                View newView = getLayoutView(mParentViewGroup,\n                               data.type);\n\n                /**\n                 *  How can I replace a new view with\n                    the view in the parent\n                    view container?\n                 */\n                replaceView(mCurrentViewThisViewHolderIsFor,\n                            newView);\n                mCurrentViewThisViewHolderIsFor = newView;\n\n                mTypeOneViewHolder =\n                    new TypeOneViewHolder(newView);\n            }\n            mTypeOneViewHolder.updateDataTypeOne(data);\n\n        } else if (data.type == TYPE_TWO){\n            mTypeOneViewHolder = null;\n            if (mTypeTwoViewHolder == null) {\n                View newView = getLayoutView(mParentViewGroup,\n                               data.type);\n\n                /**\n                 *  How can I replace a new view with\n                    the view in the parent view\n                    container?\n                 */\n                replaceView(mCurrentViewThisViewHolderIsFor,\n                            newView);\n                mCurrentViewThisViewHolderIsFor = newView;\n\n                mTypeTwoViewHolder =\n                    new TypeTwoViewHolder(newView);\n            }\n            mTypeTwoViewHolder.updateDataTypeOne(data);\n        }\n    }\n}\n\npublic static void replaceView(View currentView,\n    View newView) {\n    ViewGroup parent = (ViewGroup)currentView.getParent();\n    if(parent == null) {\n        return;\n    }\n    final int index = parent.indexOfChild(currentView);\n    parent.removeView(currentView);\n    parent.addView(newView, index);\n}\n</code></pre>\n<p>ViewHolder has member mItemViewType to hold the view.</p>\n<p>It looks like in onBindViewHolder(ViewHolder holder, int position) the ViewHolder passed in has been picked up (or created) by looked at getItemViewType(int position) to make sure it is a match, so it may not need to worry there that ViewHolder's type does not match the data[position]'s type.</p>\n<p>It looks like The recycle <code>ViewHolder</code> is picked by type, so no warrior there.</p>\n<p><em><a href=\"http://wiresareobsolete.com/2014/09/building-a-recyclerview-layoutmanager-part-1/\" rel=\"nofollow noreferrer\">Building a RecyclerView LayoutManager – Part 1</a></em> answers this question.</p>\n<p>It gets the recycle <code>ViewHolder</code> like:</p>\n<pre><code>holder = getRecycledViewPool().getRecycledView(mAdapter.getItemViewType(offsetPosition));\n</code></pre>\n<p>Or create a new one if not find recycle <code>ViewHolder</code> of the right type.</p>\n<pre><code>public ViewHolder getRecycledView(int viewType) {\n        final ArrayList&lt;ViewHolder&gt; scrapHeap = mScrap.get(viewType);\n        if (scrapHeap != null &amp;&amp; !scrapHeap.isEmpty()) {\n            final int index = scrapHeap.size() - 1;\n            final ViewHolder scrap = scrapHeap.get(index);\n            scrapHeap.remove(index);\n            return scrap;\n        }\n        return null;\n    }\n\nView getViewForPosition(int position, boolean dryRun) {\n    ......\n\n    if (holder == null) {\n            final int offsetPosition = mAdapterHelper.findPositionOffset(position);\n            if (offsetPosition &lt; 0 || offsetPosition &gt;= mAdapter.getItemCount()) {\n                throw new IndexOutOfBoundsException(&quot;Inconsistency detected. Invalid item &quot;\n                        + &quot;position &quot; + position + &quot;(offset:&quot; + offsetPosition + &quot;).&quot;\n                        + &quot;state:&quot; + mState.getItemCount());\n            }\n\n            final int type = mAdapter.getItemViewType(offsetPosition);\n            // 2) Find from scrap via stable ids, if exists\n            if (mAdapter.hasStableIds()) {\n                holder = getScrapViewForId(mAdapter.getItemId(offsetPosition), type, dryRun);\n                if (holder != null) {\n                    // update position\n                    holder.mPosition = offsetPosition;\n                    fromScrap = true;\n                }\n            }\n            if (holder == null &amp;&amp; mViewCacheExtension != null) {\n                // We are NOT sending the offsetPosition because LayoutManager does not\n                // know it.\n                final View view = mViewCacheExtension\n                        .getViewForPositionAndType(this, position, type);\n                if (view != null) {\n                    holder = getChildViewHolder(view);\n                    if (holder == null) {\n                        throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\n                                + &quot; a view which does not have a ViewHolder&quot;);\n                    } else if (holder.shouldIgnore()) {\n                        throw new IllegalArgumentException(&quot;getViewForPositionAndType returned&quot;\n                                + &quot; a view that is ignored. You must call stopIgnoring before&quot;\n                                + &quot; returning this view.&quot;);\n                    }\n                }\n            }\n            if (holder == null) { // fallback to recycler\n                // try recycler.\n                // Head to the shared pool.\n                if (DEBUG) {\n                    Log.d(TAG, &quot;getViewForPosition(&quot; + position + &quot;) fetching from shared &quot;\n                            + &quot;pool&quot;);\n                }\n                holder = getRecycledViewPool()\n                        .getRecycledView(mAdapter.getItemViewType(offsetPosition));\n                if (holder != null) {\n                    holder.resetInternal();\n                    if (FORCE_INVALIDATE_DISPLAY_LIST) {\n                        invalidateDisplayListInt(holder);\n                    }\n                }\n            }\n            if (holder == null) {\n                holder = mAdapter.createViewHolder(RecyclerView.this,\n                        mAdapter.getItemViewType(offsetPosition));\n                if (DEBUG) {\n                    Log.d(TAG, &quot;getViewForPosition created new ViewHolder&quot;);\n                }\n            }\n        }\n        boolean bound = false;\n        if (mState.isPreLayout() &amp;&amp; holder.isBound()) {\n            // do not update unless we absolutely have to.\n            holder.mPreLayoutPosition = position;\n        } else if (!holder.isBound() || holder.needsUpdate() || holder.isInvalid()) {\n            if (DEBUG &amp;&amp; holder.isRemoved()) {\n                throw new IllegalStateException(&quot;Removed holder should be bound and it should&quot;\n                        + &quot; come here only in pre-layout. Holder: &quot; + holder);\n            }\n            final int offsetPosition = mAdapterHelper.findPositionOffset(position);\n            mAdapter.bindViewHolder(holder, offsetPosition);\n            attachAccessibilityDelegate(holder.itemView);\n            bound = true;\n            if (mState.isPreLayout()) {\n                holder.mPreLayoutPosition = position;\n            }\n        }\n\n        final ViewGroup.LayoutParams lp = holder.itemView.getLayoutParams();\n        final LayoutParams rvLayoutParams;\n        if (lp == null) {\n            rvLayoutParams = (LayoutParams) generateDefaultLayoutParams();\n            holder.itemView.setLayoutParams(rvLayoutParams);\n        } else if (!checkLayoutParams(lp)) {\n            rvLayoutParams = (LayoutParams) generateLayoutParams(lp);\n            holder.itemView.setLayoutParams(rvLayoutParams);\n        } else {\n            rvLayoutParams = (LayoutParams) lp;\n        }\n        rvLayoutParams.mViewHolder = holder;\n        rvLayoutParams.mPendingInvalidate = fromScrap &amp;&amp; bound;\n        return holder.itemView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6068095,"reputation":2021,"user_id":4737776,"display_name":"yqritc"},"down_vote_count":4,"up_vote_count":101,"is_accepted":false,"score":97,"last_activity_date":1625681131,"creation_date":1427900264,"answer_id":29394173,"question_id":26245139,"body_markdown":"If the layouts for view types are only a few and binding logics are simple, follow [Anton&#39;s solution][1]. But the code will be messy if you need to manage the complex layouts and binding logics.\r\n\r\nI believe the following solution will be useful for someone who need to handle complex view types.\r\n\r\n**Base DataBinder class**\r\n\r\n    abstract public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt; {\r\n\r\n        private DataBindAdapter mDataBindAdapter;\r\n\r\n        public DataBinder(DataBindAdapter dataBindAdapter) {\r\n            mDataBindAdapter = dataBindAdapter;\r\n        }\r\n\r\n        abstract public T newViewHolder(ViewGroup parent);\r\n\r\n        abstract public void bindViewHolder(T holder, int position);\r\n\r\n        abstract public int getItemCount();\r\n\r\n    ......\r\n\r\n    }\r\n\r\nThe functions needed to define in this class are pretty much same as the adapter class when creating the single view type.\r\n\r\nFor each view type, create the class by extending this DataBinder.\r\n\r\n**Sample DataBinder class**\r\n\r\n    public class Sample1Binder extends DataBinder&lt;Sample1Binder.ViewHolder&gt; {\r\n\r\n        private List&lt;String&gt; mDataSet = new ArrayList();\r\n\r\n        public Sample1Binder(DataBindAdapter dataBindAdapter) {\r\n            super(dataBindAdapter);\r\n        }\r\n\r\n        @Override\r\n        public ViewHolder newViewHolder(ViewGroup parent) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(\r\n                R.layout.layout_sample1, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void bindViewHolder(ViewHolder holder, int position) {\r\n            String title = mDataSet.get(position);\r\n            holder.mTitleText.setText(title);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return mDataSet.size();\r\n        }\r\n\r\n        public void setDataSet(List&lt;String&gt; dataSet) {\r\n            mDataSet.addAll(dataSet);\r\n        }\r\n\r\n        static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView mTitleText;\r\n\r\n            public ViewHolder(View view) {\r\n                super(view);\r\n                mTitleText = (TextView) view.findViewById(R.id.title_type1);\r\n            }\r\n        }\r\n    }\r\n\r\nIn order to manage DataBinder classes, create an adapter class.\r\n\r\n**Base DataBindAdapter class**\r\n\r\n    abstract public class DataBindAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            return getDataBinder(viewType).newViewHolder(parent);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\r\n            int binderPosition = getBinderPosition(position);\r\n            getDataBinder(viewHolder.getItemViewType()).bindViewHolder(viewHolder, binderPosition);\r\n        }\r\n\r\n        @Override\r\n        public abstract int getItemCount();\r\n\r\n        @Override\r\n        public abstract int getItemViewType(int position);\r\n\r\n        public abstract &lt;T extends DataBinder&gt; T getDataBinder(int viewType);\r\n\r\n        public abstract int getPosition(DataBinder binder, int binderPosition);\r\n\r\n        public abstract int getBinderPosition(int position);\r\n\r\n    ......\r\n\r\n    }\r\n\r\nCreate the class by extending this base class, and then instantiate DataBinder classes and override abstract methods\r\n\r\n1. getItemCount \\\r\nReturn the total item count of DataBinders\r\n\r\n2. getItemViewType \\\r\nDefine the mapping logic between the adapter position and view type.\r\n\r\n3. getDataBinder \\\r\nReturn the DataBinder instance based on the view type\r\n\r\n4. getPosition \\\r\nDefine convert logic to the adapter position from the position in the specified DataBinder\r\n\r\n5. getBinderPosition \\\r\nDefine convert logic to the position in the DataBinder from the adapter position\r\n\r\nI left a more detailed solution and samples on GitHub, so please refer to *[RecyclerView-MultipleViewTypeAdapter][2]* if you need.\r\n\r\n  [1]: https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\r\n  [2]: https://github.com/yqritc/RecyclerView-MultipleViewTypesAdapter\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>If the layouts for view types are only a few and binding logics are simple, follow <a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types/26245463#26245463\">Anton's solution</a>. But the code will be messy if you need to manage the complex layouts and binding logics.</p>\n<p>I believe the following solution will be useful for someone who need to handle complex view types.</p>\n<p><strong>Base DataBinder class</strong></p>\n<pre><code>abstract public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt; {\n\n    private DataBindAdapter mDataBindAdapter;\n\n    public DataBinder(DataBindAdapter dataBindAdapter) {\n        mDataBindAdapter = dataBindAdapter;\n    }\n\n    abstract public T newViewHolder(ViewGroup parent);\n\n    abstract public void bindViewHolder(T holder, int position);\n\n    abstract public int getItemCount();\n\n......\n\n}\n</code></pre>\n<p>The functions needed to define in this class are pretty much same as the adapter class when creating the single view type.</p>\n<p>For each view type, create the class by extending this DataBinder.</p>\n<p><strong>Sample DataBinder class</strong></p>\n<pre><code>public class Sample1Binder extends DataBinder&lt;Sample1Binder.ViewHolder&gt; {\n\n    private List&lt;String&gt; mDataSet = new ArrayList();\n\n    public Sample1Binder(DataBindAdapter dataBindAdapter) {\n        super(dataBindAdapter);\n    }\n\n    @Override\n    public ViewHolder newViewHolder(ViewGroup parent) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(\n            R.layout.layout_sample1, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void bindViewHolder(ViewHolder holder, int position) {\n        String title = mDataSet.get(position);\n        holder.mTitleText.setText(title);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mDataSet.size();\n    }\n\n    public void setDataSet(List&lt;String&gt; dataSet) {\n        mDataSet.addAll(dataSet);\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n\n        TextView mTitleText;\n\n        public ViewHolder(View view) {\n            super(view);\n            mTitleText = (TextView) view.findViewById(R.id.title_type1);\n        }\n    }\n}\n</code></pre>\n<p>In order to manage DataBinder classes, create an adapter class.</p>\n<p><strong>Base DataBindAdapter class</strong></p>\n<pre><code>abstract public class DataBindAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        return getDataBinder(viewType).newViewHolder(parent);\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\n        int binderPosition = getBinderPosition(position);\n        getDataBinder(viewHolder.getItemViewType()).bindViewHolder(viewHolder, binderPosition);\n    }\n\n    @Override\n    public abstract int getItemCount();\n\n    @Override\n    public abstract int getItemViewType(int position);\n\n    public abstract &lt;T extends DataBinder&gt; T getDataBinder(int viewType);\n\n    public abstract int getPosition(DataBinder binder, int binderPosition);\n\n    public abstract int getBinderPosition(int position);\n\n......\n\n}\n</code></pre>\n<p>Create the class by extending this base class, and then instantiate DataBinder classes and override abstract methods</p>\n<ol>\n<li><p>getItemCount <br />\nReturn the total item count of DataBinders</p>\n</li>\n<li><p>getItemViewType <br />\nDefine the mapping logic between the adapter position and view type.</p>\n</li>\n<li><p>getDataBinder <br />\nReturn the DataBinder instance based on the view type</p>\n</li>\n<li><p>getPosition <br />\nDefine convert logic to the adapter position from the position in the specified DataBinder</p>\n</li>\n<li><p>getBinderPosition <br />\nDefine convert logic to the position in the DataBinder from the adapter position</p>\n</li>\n</ol>\n<p>I left a more detailed solution and samples on GitHub, so please refer to <em><a href=\"https://github.com/yqritc/RecyclerView-MultipleViewTypesAdapter\" rel=\"noreferrer\">RecyclerView-MultipleViewTypeAdapter</a></em> if you need.</p>\n"},{"tags":[],"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1625681311,"creation_date":1428766806,"answer_id":29579718,"question_id":26245139,"body_markdown":"The below is not pseudocode. I have tested it and it has worked for me.\r\n\r\nI wanted to create a headerview in my recyclerview and then display a list of pictures below the header which the user can click on.\r\n\r\nI used a few switches in my code and don&#39;t know if that is the most efficient way to do this, so feel free to give your comments:\r\n\r\n       public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n            //These are the general elements in the RecyclerView\r\n            public TextView place;\r\n            public ImageView pics;\r\n\r\n            //This is the Header on the Recycler (viewType = 0)\r\n            public TextView name, description;\r\n\r\n            //This constructor would switch what to findViewBy according to the type of viewType\r\n            public ViewHolder(View v, int viewType) {\r\n                super(v);\r\n                if (viewType == 0) {\r\n                    name = (TextView) v.findViewById(R.id.name);\r\n                    decsription = (TextView) v.findViewById(R.id.description);\r\n                } else if (viewType == 1) {\r\n                    place = (TextView) v.findViewById(R.id.place);\r\n                    pics = (ImageView) v.findViewById(R.id.pics);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup parent,\r\n                                             int viewType)\r\n        {\r\n            View v;\r\n            ViewHolder vh;\r\n            // create a new view\r\n            switch (viewType) {\r\n                case 0: //This would be the header view in my Recycler\r\n                    v = LayoutInflater.from(parent.getContext())\r\n                        .inflate(R.layout.recyclerview_welcome, parent, false);\r\n                    vh = new ViewHolder(v,viewType);\r\n                    return  vh;\r\n                default: //This would be the normal list with the pictures of the places in the world\r\n                    v = LayoutInflater.from(parent.getContext())\r\n                            .inflate(R.layout.recyclerview_picture, parent, false);\r\n                    vh = new ViewHolder(v, viewType);\r\n                    v.setOnClickListener(new View.OnClickListener(){\r\n\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent intent = new Intent(mContext, nextActivity.class);\r\n                            intent.putExtra(&quot;ListNo&quot;,mRecyclerView.getChildPosition(v));\r\n                            mContext.startActivity(intent);\r\n                        }\r\n                    });\r\n                    return vh;\r\n            }\r\n        }\r\n\r\n        //Overridden so that I can display custom rows in the recyclerview\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            int viewType = 1; //Default is 1\r\n            if (position == 0) viewType = 0; //If zero, it will be a header view\r\n            return viewType;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            //position == 0 means it&#39;s the info header view on the Recycler\r\n            if (position == 0) {\r\n                holder.name.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Toast.makeText(mContext,&quot;name clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                holder.description.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Toast.makeText(mContext,&quot;description clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                //This means it is beyond the headerview now as it is no longer 0. For testing purposes, I&#39;m alternating between two pics for now\r\n            } else if (position &gt; 0) {\r\n               holder.place.setText(mDataset[position]);\r\n                if (position % 2 == 0) {\r\n                   holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic1));\r\n                }\r\n                if (position % 2 == 1) {\r\n                    holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic2));\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>The below is not pseudocode. I have tested it and it has worked for me.</p>\n<p>I wanted to create a headerview in my recyclerview and then display a list of pictures below the header which the user can click on.</p>\n<p>I used a few switches in my code and don't know if that is the most efficient way to do this, so feel free to give your comments:</p>\n<pre><code>   public class ViewHolder extends RecyclerView.ViewHolder{\n\n        //These are the general elements in the RecyclerView\n        public TextView place;\n        public ImageView pics;\n\n        //This is the Header on the Recycler (viewType = 0)\n        public TextView name, description;\n\n        //This constructor would switch what to findViewBy according to the type of viewType\n        public ViewHolder(View v, int viewType) {\n            super(v);\n            if (viewType == 0) {\n                name = (TextView) v.findViewById(R.id.name);\n                decsription = (TextView) v.findViewById(R.id.description);\n            } else if (viewType == 1) {\n                place = (TextView) v.findViewById(R.id.place);\n                pics = (ImageView) v.findViewById(R.id.pics);\n            }\n        }\n    }\n\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent,\n                                         int viewType)\n    {\n        View v;\n        ViewHolder vh;\n        // create a new view\n        switch (viewType) {\n            case 0: //This would be the header view in my Recycler\n                v = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.recyclerview_welcome, parent, false);\n                vh = new ViewHolder(v,viewType);\n                return  vh;\n            default: //This would be the normal list with the pictures of the places in the world\n                v = LayoutInflater.from(parent.getContext())\n                        .inflate(R.layout.recyclerview_picture, parent, false);\n                vh = new ViewHolder(v, viewType);\n                v.setOnClickListener(new View.OnClickListener(){\n\n                    @Override\n                    public void onClick(View v) {\n                        Intent intent = new Intent(mContext, nextActivity.class);\n                        intent.putExtra(&quot;ListNo&quot;,mRecyclerView.getChildPosition(v));\n                        mContext.startActivity(intent);\n                    }\n                });\n                return vh;\n        }\n    }\n\n    //Overridden so that I can display custom rows in the recyclerview\n    @Override\n    public int getItemViewType(int position) {\n        int viewType = 1; //Default is 1\n        if (position == 0) viewType = 0; //If zero, it will be a header view\n        return viewType;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        //position == 0 means it's the info header view on the Recycler\n        if (position == 0) {\n            holder.name.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(mContext,&quot;name clicked&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n            holder.description.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(mContext,&quot;description clicked&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n            //This means it is beyond the headerview now as it is no longer 0. For testing purposes, I'm alternating between two pics for now\n        } else if (position &gt; 0) {\n           holder.place.setText(mDataset[position]);\n            if (position % 2 == 0) {\n               holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic1));\n            }\n            if (position % 2 == 1) {\n                holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic2));\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2445890,"reputation":131,"user_id":2133296,"display_name":"Michal Faber"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625681618,"creation_date":1429269013,"answer_id":29697571,"question_id":26245139,"body_markdown":"I have a better solution which allows to create multiple view types in a declarative and type safe way. It’s written in Kotlin which, by the way, is really nice.\r\n\r\nSimple view holders for all required view types\r\n\r\n&lt;!-- language-all: lang-scala --&gt;\r\n\r\n    class ViewHolderMedium(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n        val icon: ImageView = itemView.findViewById(R.id.icon) as ImageView\r\n        val label: TextView = itemView.findViewById(R.id.label) as TextView\r\n    }\r\n\r\nThere is an abstraction of adapter data item. Note that a view type is represented by a hashCode of particular view holder class (KClass in Kotlin)\r\n\r\n    trait AdapterItem {\r\n       val viewType: Int\r\n       fun bindViewHolder(viewHolder: RecyclerView.ViewHolder)\r\n    }\r\n\r\n    abstract class AdapterItemBase&lt;T&gt;(val viewHolderClass: KClass&lt;T&gt;) : AdapterItem {\r\n       override val viewType: Int = viewHolderClass.hashCode()\r\n       abstract fun bindViewHolder(viewHolder: T)\r\n       override fun bindViewHolder(viewHolder: RecyclerView.ViewHolder) {\r\n           bindViewHolder(viewHolder as T)\r\n       }\r\n    }\r\n\r\nOnly `bindViewHolder` needs to be overridden in concrete adapter item classes (type safe way).\r\n\r\n    class AdapterItemMedium(val icon: Drawable, val label: String, val onClick: () -&gt; Unit) : AdapterItemBase&lt;ViewHolderMedium&gt;(ViewHolderMedium::class) {\r\n        override fun bindViewHolder(viewHolder: ViewHolderMedium) {\r\n            viewHolder.icon.setImageDrawable(icon)\r\n            viewHolder.label.setText(label)\r\n            viewHolder.itemView.setOnClickListener { onClick() }\r\n        }\r\n    }\r\n\r\nList of such `AdapterItemMedium` objects is a data source for the adapter which actually accepts `List&lt;AdapterItem&gt;`. See below.\r\n\r\nThe important part of this solution is a view holder factory which will provide fresh instances of a specific ViewHolder:\r\n\r\n    class ViewHolderProvider {\r\n        private val viewHolderFactories = hashMapOf&lt;Int, Pair&lt;Int, Any&gt;&gt;()\r\n\r\n        fun provideViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            val (layoutId: Int, f: Any) = viewHolderFactories.get(viewType)\r\n            val viewHolderFactory = f as (View) -&gt; RecyclerView.ViewHolder\r\n            val view = LayoutInflater.from(viewGroup.getContext()).inflate(layoutId, viewGroup, false)\r\n            return viewHolderFactory(view)\r\n        }\r\n\r\n        fun registerViewHolderFactory&lt;T&gt;(key: KClass&lt;T&gt;, layoutId: Int, viewHolderFactory: (View) -&gt; T) {\r\n            viewHolderFactories.put(key.hashCode(), Pair(layoutId, viewHolderFactory))\r\n        }\r\n    }\r\n\r\nAnd the simple adapter class looks like this:\r\n\r\n    public class MultitypeAdapter(val items: List&lt;AdapterItem&gt;) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n\r\n       val viewHolderProvider = ViewHolderProvider() // inject ex Dagger2\r\n\r\n       init {\r\n            viewHolderProvider!!.registerViewHolderFactory(ViewHolderMedium::class, R.layout.item_medium, { itemView -&gt;\r\n                ViewHolderMedium(itemView)\r\n            })\r\n       }\r\n\r\n       override fun getItemViewType(position: Int): Int {\r\n            return items[position].viewType\r\n        }\r\n\r\n        override fun getItemCount(): Int {\r\n            return items.size()\r\n        }\r\n\r\n        override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder? {\r\n            return viewHolderProvider!!.provideViewHolder(viewGroup, viewType)\r\n        }\r\n\r\n        override fun onBindViewHolder(viewHolder: RecyclerView.ViewHolder, position: Int) {\r\n            items[position].bindViewHolder(viewHolder)\r\n        }\r\n    }\r\n\r\nThere are *only* three steps to create a new view type:\r\n\r\n1. create a view holder class\r\n2. create an adapter item class (extending from AdapterItemBase)\r\n3. register the view holder class in `ViewHolderProvider`\r\n\r\nHere is an example of this concept: [android-drawer-template][1].\r\n\r\nIt goes even further - a view type which acts as a spinner component, with selectable adapter items.\r\n\r\n  [1]: https://github.com/michalfaber/android-drawer-template &quot;GitHub&quot;\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I have a better solution which allows to create multiple view types in a declarative and type safe way. It’s written in Kotlin which, by the way, is really nice.</p>\n<p>Simple view holders for all required view types</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>class ViewHolderMedium(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    val icon: ImageView = itemView.findViewById(R.id.icon) as ImageView\n    val label: TextView = itemView.findViewById(R.id.label) as TextView\n}\n</code></pre>\n<p>There is an abstraction of adapter data item. Note that a view type is represented by a hashCode of particular view holder class (KClass in Kotlin)</p>\n<pre class=\"lang-scala prettyprint-override\"><code>trait AdapterItem {\n   val viewType: Int\n   fun bindViewHolder(viewHolder: RecyclerView.ViewHolder)\n}\n\nabstract class AdapterItemBase&lt;T&gt;(val viewHolderClass: KClass&lt;T&gt;) : AdapterItem {\n   override val viewType: Int = viewHolderClass.hashCode()\n   abstract fun bindViewHolder(viewHolder: T)\n   override fun bindViewHolder(viewHolder: RecyclerView.ViewHolder) {\n       bindViewHolder(viewHolder as T)\n   }\n}\n</code></pre>\n<p>Only <code>bindViewHolder</code> needs to be overridden in concrete adapter item classes (type safe way).</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class AdapterItemMedium(val icon: Drawable, val label: String, val onClick: () -&gt; Unit) : AdapterItemBase&lt;ViewHolderMedium&gt;(ViewHolderMedium::class) {\n    override fun bindViewHolder(viewHolder: ViewHolderMedium) {\n        viewHolder.icon.setImageDrawable(icon)\n        viewHolder.label.setText(label)\n        viewHolder.itemView.setOnClickListener { onClick() }\n    }\n}\n</code></pre>\n<p>List of such <code>AdapterItemMedium</code> objects is a data source for the adapter which actually accepts <code>List&lt;AdapterItem&gt;</code>. See below.</p>\n<p>The important part of this solution is a view holder factory which will provide fresh instances of a specific ViewHolder:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class ViewHolderProvider {\n    private val viewHolderFactories = hashMapOf&lt;Int, Pair&lt;Int, Any&gt;&gt;()\n\n    fun provideViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val (layoutId: Int, f: Any) = viewHolderFactories.get(viewType)\n        val viewHolderFactory = f as (View) -&gt; RecyclerView.ViewHolder\n        val view = LayoutInflater.from(viewGroup.getContext()).inflate(layoutId, viewGroup, false)\n        return viewHolderFactory(view)\n    }\n\n    fun registerViewHolderFactory&lt;T&gt;(key: KClass&lt;T&gt;, layoutId: Int, viewHolderFactory: (View) -&gt; T) {\n        viewHolderFactories.put(key.hashCode(), Pair(layoutId, viewHolderFactory))\n    }\n}\n</code></pre>\n<p>And the simple adapter class looks like this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>public class MultitypeAdapter(val items: List&lt;AdapterItem&gt;) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n   val viewHolderProvider = ViewHolderProvider() // inject ex Dagger2\n\n   init {\n        viewHolderProvider!!.registerViewHolderFactory(ViewHolderMedium::class, R.layout.item_medium, { itemView -&gt;\n            ViewHolderMedium(itemView)\n        })\n   }\n\n   override fun getItemViewType(position: Int): Int {\n        return items[position].viewType\n    }\n\n    override fun getItemCount(): Int {\n        return items.size()\n    }\n\n    override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder? {\n        return viewHolderProvider!!.provideViewHolder(viewGroup, viewType)\n    }\n\n    override fun onBindViewHolder(viewHolder: RecyclerView.ViewHolder, position: Int) {\n        items[position].bindViewHolder(viewHolder)\n    }\n}\n</code></pre>\n<p>There are <em>only</em> three steps to create a new view type:</p>\n<ol>\n<li>create a view holder class</li>\n<li>create an adapter item class (extending from AdapterItemBase)</li>\n<li>register the view holder class in <code>ViewHolderProvider</code></li>\n</ol>\n<p>Here is an example of this concept: <a href=\"https://github.com/michalfaber/android-drawer-template\" rel=\"nofollow noreferrer\" title=\"GitHub\">android-drawer-template</a>.</p>\n<p>It goes even further - a view type which acts as a spinner component, with selectable adapter items.</p>\n"},{"tags":[],"owner":{"account_id":3248850,"reputation":1011,"user_id":2739684,"accept_rate":78,"display_name":"Islam Assi"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1451059863,"creation_date":1451059863,"answer_id":34464367,"question_id":26245139,"body_markdown":"Yes, it is possible.\r\n\r\nWrite a generic view holder:\r\n    \r\n        public abstract class GenericViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        public GenericViewHolder(View itemView) {\r\n            super(itemView);\r\n        }\r\n\r\n        public abstract  void setDataOnView(int position);\r\n    }\r\n\r\nthen create your view holders and make them extend the GenericViewHolder. For example, this one:\r\n\r\n         public class SectionViewHolder extends GenericViewHolder{\r\n        public final View mView;\r\n        public final TextView dividerTxtV;\r\n\r\n        public SectionViewHolder(View itemView) {\r\n            super(itemView);\r\n            mView = itemView;\r\n            dividerTxtV = (TextView) mView.findViewById(R.id.dividerTxtV);\r\n        }\r\n\r\n        @Override\r\n        public void setDataOnView(int position) {\r\n            try {\r\n                String title= sections.get(position);\r\n                if(title!= null)\r\n                    this.dividerTxtV.setText(title);\r\n            }catch (Exception e){\r\n                new CustomError(&quot;Error!&quot;+e.getMessage(), null, false, null, e);\r\n            }\r\n        }\r\n    }\r\n        \r\n        \r\nthen the RecyclerView.Adapter class will look like this one:\r\n\r\n    public class MyClassRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyClassRecyclerViewAdapter.GenericViewHolder&gt; {\r\n    \r\n    @Override\r\n    public int getItemViewType(int position) {\r\n         // depends on your problem\r\n         switch (position) {\r\n             case : return VIEW_TYPE1;\r\n             case : return VIEW_TYPE2;\r\n             ...\r\n         }\r\n    }\r\n\r\n        @Override\r\n       public GenericViewHolder onCreateViewHolder(ViewGroup parent, int viewType)  {\r\n        View view;\r\n        if(viewType == VIEW_TYPE1){\r\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout1, parent, false);\r\n            return new SectionViewHolder(view);\r\n        }else if( viewType == VIEW_TYPE2){\r\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout2, parent, false);\r\n            return new OtherViewHolder(view);\r\n        }\r\n        // Cont. other view holders ...\r\n        return null;\r\n       }\r\n\r\n    @Override\r\n    public void onBindViewHolder(GenericViewHolder holder, int position) {\r\n        holder.setDataOnView(position);\r\n    }","title":"How to create RecyclerView with multiple view types","body":"<p>Yes, it is possible.</p>\n\n<p>Write a generic view holder:</p>\n\n<pre><code>    public abstract class GenericViewHolder extends RecyclerView.ViewHolder\n{\n    public GenericViewHolder(View itemView) {\n        super(itemView);\n    }\n\n    public abstract  void setDataOnView(int position);\n}\n</code></pre>\n\n<p>then create your view holders and make them extend the GenericViewHolder. For example, this one:</p>\n\n<pre><code>     public class SectionViewHolder extends GenericViewHolder{\n    public final View mView;\n    public final TextView dividerTxtV;\n\n    public SectionViewHolder(View itemView) {\n        super(itemView);\n        mView = itemView;\n        dividerTxtV = (TextView) mView.findViewById(R.id.dividerTxtV);\n    }\n\n    @Override\n    public void setDataOnView(int position) {\n        try {\n            String title= sections.get(position);\n            if(title!= null)\n                this.dividerTxtV.setText(title);\n        }catch (Exception e){\n            new CustomError(\"Error!\"+e.getMessage(), null, false, null, e);\n        }\n    }\n}\n</code></pre>\n\n<p>then the RecyclerView.Adapter class will look like this one:</p>\n\n<pre><code>public class MyClassRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyClassRecyclerViewAdapter.GenericViewHolder&gt; {\n\n@Override\npublic int getItemViewType(int position) {\n     // depends on your problem\n     switch (position) {\n         case : return VIEW_TYPE1;\n         case : return VIEW_TYPE2;\n         ...\n     }\n}\n\n    @Override\n   public GenericViewHolder onCreateViewHolder(ViewGroup parent, int viewType)  {\n    View view;\n    if(viewType == VIEW_TYPE1){\n        view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout1, parent, false);\n        return new SectionViewHolder(view);\n    }else if( viewType == VIEW_TYPE2){\n        view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout2, parent, false);\n        return new OtherViewHolder(view);\n    }\n    // Cont. other view holders ...\n    return null;\n   }\n\n@Override\npublic void onBindViewHolder(GenericViewHolder holder, int position) {\n    holder.setDataOnView(position);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1470393383,"creation_date":1470393383,"answer_id":38787146,"question_id":26245139,"body_markdown":"Actually, I&#39;d like to improve on [Anton&#39;s answer](https://stackoverflow.com/a/26245463/6523288).\r\n\r\nSince `getItemViewType(int position)` returns an integer value, you can return the layout resource ID you&#39;d need to inflate. That way you&#39;d save some logic in `onCreateViewHolder(ViewGroup parent, int viewType)` method.\r\n\r\nAlso, I wouldn&#39;t suggest doing intensive calculations in `getItemCount()` as that particular function is called at least 5 times while rendering the list, as well as while rendering each item beyond the visible items. Sadly since `notifyDatasetChanged()` method is final, you can&#39;t really override it, but you can call it from another function within the adapter.","title":"How to create RecyclerView with multiple view types","body":"<p>Actually, I'd like to improve on <a href=\"https://stackoverflow.com/a/26245463/6523288\">Anton's answer</a>.</p>\n\n<p>Since <code>getItemViewType(int position)</code> returns an integer value, you can return the layout resource ID you'd need to inflate. That way you'd save some logic in <code>onCreateViewHolder(ViewGroup parent, int viewType)</code> method.</p>\n\n<p>Also, I wouldn't suggest doing intensive calculations in <code>getItemCount()</code> as that particular function is called at least 5 times while rendering the list, as well as while rendering each item beyond the visible items. Sadly since <code>notifyDatasetChanged()</code> method is final, you can't really override it, but you can call it from another function within the adapter.</p>\n"},{"tags":[],"owner":{"account_id":7347252,"reputation":719,"user_id":5594549,"accept_rate":50,"display_name":"Tulsi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625681838,"creation_date":1483365699,"answer_id":41428280,"question_id":26245139,"body_markdown":"It is very simple and straightforward.\r\n\r\nJust *override* the [getItemViewType()][1] method in your adapter. On the basis of data return different itemViewType values. E.g., consider an object of type Person with a member isMale, if isMale is true, return 1 and isMale is false, return 2 in the [getItemViewType()][1] method.\r\n\r\nNow coming to the [createViewHolder (ViewGroup parent, int viewType)][2], on the basis of different viewType yon can inflate the different layout file. Like the following:\r\n\r\n     if (viewType == 1){\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.male, parent, false);\r\n        return new AdapterMaleViewHolder(view);\r\n    }\r\n    else{\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.female, parent, false);\r\n        return new AdapterFemaleViewHolder(view);\r\n    }\r\n\r\nin [onBindViewHolder (VH holder,int position)][3] check where holder is an instance of `AdapterFemaleViewHolder` or `AdapterMaleViewHolder` by `instanceof` and accordingly assign the values.\r\n\r\nViewHolder *may* be like this\r\n\r\n        class AdapterMaleViewHolder extends RecyclerView.ViewHolder {\r\n                ...\r\n                public AdapterMaleViewHolder(View itemView){\r\n                ...\r\n                }\r\n            }\r\n\r\n        class AdapterFemaleViewHolder extends RecyclerView.ViewHolder {\r\n             ...\r\n             public AdapterFemaleViewHolder(View itemView){\r\n                ...\r\n             }\r\n        }\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\r\n  [2]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#createViewHolder(android.view.ViewGroup,%20int)\r\n  [3]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder(VH,%20int)\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>It is very simple and straightforward.</p>\n<p>Just <em>override</em> the <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\" rel=\"nofollow noreferrer\">getItemViewType()</a> method in your adapter. On the basis of data return different itemViewType values. E.g., consider an object of type Person with a member isMale, if isMale is true, return 1 and isMale is false, return 2 in the <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\" rel=\"nofollow noreferrer\">getItemViewType()</a> method.</p>\n<p>Now coming to the <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#createViewHolder(android.view.ViewGroup,%20int)\" rel=\"nofollow noreferrer\">createViewHolder (ViewGroup parent, int viewType)</a>, on the basis of different viewType yon can inflate the different layout file. Like the following:</p>\n<pre><code> if (viewType == 1){\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.male, parent, false);\n    return new AdapterMaleViewHolder(view);\n}\nelse{\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.female, parent, false);\n    return new AdapterFemaleViewHolder(view);\n}\n</code></pre>\n<p>in <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder(VH,%20int)\" rel=\"nofollow noreferrer\">onBindViewHolder (VH holder,int position)</a> check where holder is an instance of <code>AdapterFemaleViewHolder</code> or <code>AdapterMaleViewHolder</code> by <code>instanceof</code> and accordingly assign the values.</p>\n<p>ViewHolder <em>may</em> be like this</p>\n<pre><code>    class AdapterMaleViewHolder extends RecyclerView.ViewHolder {\n            ...\n            public AdapterMaleViewHolder(View itemView){\n            ...\n            }\n        }\n\n    class AdapterFemaleViewHolder extends RecyclerView.ViewHolder {\n         ...\n         public AdapterFemaleViewHolder(View itemView){\n            ...\n         }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299077,"reputation":559,"user_id":4894238,"display_name":"Vitaly"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1625681972,"creation_date":1484640729,"answer_id":41691949,"question_id":26245139,"body_markdown":"You can use the library: https://github.com/vivchar/RendererRecyclerViewAdapter\r\n\r\n    mRecyclerViewAdapter = new RendererRecyclerViewAdapter(); /* Included from library */\r\n    mRecyclerViewAdapter.registerRenderer(new SomeViewRenderer(SomeModel.TYPE, this));\r\n    mRecyclerViewAdapter.registerRenderer(...); /* You can use several types of cells */\r\n\r\nFor each item, you should to implement a ViewRenderer, ViewHolder, SomeModel:\r\n\r\nViewHolder - it is a simple view holder of recycler view.\r\n\r\nSomeModel - it is your model with `ItemModel` interface\r\n\r\n    public class SomeViewRenderer extends ViewRenderer&lt;SomeModel, SomeViewHolder&gt; {\r\n\r\n        public SomeViewRenderer(final int type, final Context context) {\r\n            super(type, context);\r\n        }\r\n\r\n        @Override\r\n        public void bindView(@NonNull final SomeModel model, @NonNull final SomeViewHolder holder) {\r\n            holder.mTitle.setText(model.getTitle());\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public SomeViewHolder createViewHolder(@Nullable final ViewGroup parent) {\r\n            return new SomeViewHolder(LayoutInflater.from(getContext()).inflate(R.layout.some_item, parent, false));\r\n        }\r\n    }\r\n\r\nFor more details you can look at the documentation.\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>You can use the library: <a href=\"https://github.com/vivchar/RendererRecyclerViewAdapter\" rel=\"nofollow noreferrer\">https://github.com/vivchar/RendererRecyclerViewAdapter</a></p>\n<pre><code>mRecyclerViewAdapter = new RendererRecyclerViewAdapter(); /* Included from library */\nmRecyclerViewAdapter.registerRenderer(new SomeViewRenderer(SomeModel.TYPE, this));\nmRecyclerViewAdapter.registerRenderer(...); /* You can use several types of cells */\n</code></pre>\n<p>For each item, you should to implement a ViewRenderer, ViewHolder, SomeModel:</p>\n<p>ViewHolder - it is a simple view holder of recycler view.</p>\n<p>SomeModel - it is your model with <code>ItemModel</code> interface</p>\n<pre><code>public class SomeViewRenderer extends ViewRenderer&lt;SomeModel, SomeViewHolder&gt; {\n\n    public SomeViewRenderer(final int type, final Context context) {\n        super(type, context);\n    }\n\n    @Override\n    public void bindView(@NonNull final SomeModel model, @NonNull final SomeViewHolder holder) {\n        holder.mTitle.setText(model.getTitle());\n    }\n\n    @NonNull\n    @Override\n    public SomeViewHolder createViewHolder(@Nullable final ViewGroup parent) {\n        return new SomeViewHolder(LayoutInflater.from(getContext()).inflate(R.layout.some_item, parent, false));\n    }\n}\n</code></pre>\n<p>For more details you can look at the documentation.</p>\n"},{"tags":[],"owner":{"account_id":11502406,"reputation":614,"user_id":8429796,"display_name":"Sayan Manna"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1625682092,"creation_date":1522756084,"answer_id":49629324,"question_id":26245139,"body_markdown":"Yes, it is possible.\r\n\r\nIn your adapter getItemViewType Layout like this ....\r\n\r\n    public class MultiViewTypeAdapter extends RecyclerView.Adapter {\r\n\r\n        private ArrayList&lt;Model&gt;dataSet;\r\n        Context mContext;\r\n        int total_types;\r\n        MediaPlayer mPlayer;\r\n        private boolean fabStateVolume = false;\r\n\r\n        public static class TextTypeViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView txtType;\r\n            CardView cardView;\r\n\r\n            public TextTypeViewHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                this.txtType = (TextView) itemView.findViewById(R.id.type);\r\n                this.cardView = (CardView) itemView.findViewById(R.id.card_view);\r\n            }\r\n        }\r\n\r\n        public static class ImageTypeViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView txtType;\r\n            ImageView image;\r\n\r\n            public ImageTypeViewHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                this.txtType = (TextView) itemView.findViewById(R.id.type);\r\n                this.image = (ImageView) itemView.findViewById(R.id.background);\r\n            }\r\n        }\r\n\r\n        public static class AudioTypeViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView txtType;\r\n            FloatingActionButton fab;\r\n\r\n            public AudioTypeViewHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                this.txtType = (TextView) itemView.findViewById(R.id.type);\r\n                this.fab = (FloatingActionButton) itemView.findViewById(R.id.fab);\r\n            }\r\n        }\r\n\r\n        public MultiViewTypeAdapter(ArrayList&lt;Model&gt;data, Context context) {\r\n            this.dataSet = data;\r\n            this.mContext = context;\r\n            total_types = dataSet.size();\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n            View view;\r\n            switch (viewType) {\r\n                case Model.TEXT_TYPE:\r\n                    view = LayoutInflater.from(parent.getContext()).inflate(R.layout.text_type, parent, false);\r\n                    return new TextTypeViewHolder(view);\r\n                case Model.IMAGE_TYPE:\r\n                    view = LayoutInflater.from(parent.getContext()).inflate(R.layout.image_type, parent, false);\r\n                    return new ImageTypeViewHolder(view);\r\n                case Model.AUDIO_TYPE:\r\n                    view = LayoutInflater.from(parent.getContext()).inflate(R.layout.audio_type, parent, false);\r\n                    return new AudioTypeViewHolder(view);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n\r\n            switch (dataSet.get(position).type) {\r\n                case 0:\r\n                    return Model.TEXT_TYPE;\r\n                case 1:\r\n                    return Model.IMAGE_TYPE;\r\n                case 2:\r\n                    return Model.AUDIO_TYPE;\r\n                default:\r\n                    return -1;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int listPosition) {\r\n\r\n            Model object = dataSet.get(listPosition);\r\n            if (object != null) {\r\n                switch (object.type) {\r\n                    case Model.TEXT_TYPE:\r\n                        ((TextTypeViewHolder) holder).txtType.setText(object.text);\r\n\r\n                        break;\r\n                    case Model.IMAGE_TYPE:\r\n                        ((ImageTypeViewHolder) holder).txtType.setText(object.text);\r\n                        ((ImageTypeViewHolder) holder).image.setImageResource(object.data);\r\n                        break;\r\n                    case Model.AUDIO_TYPE:\r\n\r\n                        ((AudioTypeViewHolder) holder).txtType.setText(object.text);\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return dataSet.size();\r\n        }\r\n    }\r\n\r\nFor the reference link: *[Android RecyclerView Example – Multiple ViewTypes][1]*\r\n\r\n  [1]: https://www.journaldev.com/12372/android-recyclerview-example\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Yes, it is possible.</p>\n<p>In your adapter getItemViewType Layout like this ....</p>\n<pre><code>public class MultiViewTypeAdapter extends RecyclerView.Adapter {\n\n    private ArrayList&lt;Model&gt;dataSet;\n    Context mContext;\n    int total_types;\n    MediaPlayer mPlayer;\n    private boolean fabStateVolume = false;\n\n    public static class TextTypeViewHolder extends RecyclerView.ViewHolder {\n\n        TextView txtType;\n        CardView cardView;\n\n        public TextTypeViewHolder(View itemView) {\n            super(itemView);\n\n            this.txtType = (TextView) itemView.findViewById(R.id.type);\n            this.cardView = (CardView) itemView.findViewById(R.id.card_view);\n        }\n    }\n\n    public static class ImageTypeViewHolder extends RecyclerView.ViewHolder {\n\n        TextView txtType;\n        ImageView image;\n\n        public ImageTypeViewHolder(View itemView) {\n            super(itemView);\n\n            this.txtType = (TextView) itemView.findViewById(R.id.type);\n            this.image = (ImageView) itemView.findViewById(R.id.background);\n        }\n    }\n\n    public static class AudioTypeViewHolder extends RecyclerView.ViewHolder {\n\n        TextView txtType;\n        FloatingActionButton fab;\n\n        public AudioTypeViewHolder(View itemView) {\n            super(itemView);\n\n            this.txtType = (TextView) itemView.findViewById(R.id.type);\n            this.fab = (FloatingActionButton) itemView.findViewById(R.id.fab);\n        }\n    }\n\n    public MultiViewTypeAdapter(ArrayList&lt;Model&gt;data, Context context) {\n        this.dataSet = data;\n        this.mContext = context;\n        total_types = dataSet.size();\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View view;\n        switch (viewType) {\n            case Model.TEXT_TYPE:\n                view = LayoutInflater.from(parent.getContext()).inflate(R.layout.text_type, parent, false);\n                return new TextTypeViewHolder(view);\n            case Model.IMAGE_TYPE:\n                view = LayoutInflater.from(parent.getContext()).inflate(R.layout.image_type, parent, false);\n                return new ImageTypeViewHolder(view);\n            case Model.AUDIO_TYPE:\n                view = LayoutInflater.from(parent.getContext()).inflate(R.layout.audio_type, parent, false);\n                return new AudioTypeViewHolder(view);\n        }\n        return null;\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n\n        switch (dataSet.get(position).type) {\n            case 0:\n                return Model.TEXT_TYPE;\n            case 1:\n                return Model.IMAGE_TYPE;\n            case 2:\n                return Model.AUDIO_TYPE;\n            default:\n                return -1;\n        }\n    }\n\n    @Override\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int listPosition) {\n\n        Model object = dataSet.get(listPosition);\n        if (object != null) {\n            switch (object.type) {\n                case Model.TEXT_TYPE:\n                    ((TextTypeViewHolder) holder).txtType.setText(object.text);\n\n                    break;\n                case Model.IMAGE_TYPE:\n                    ((ImageTypeViewHolder) holder).txtType.setText(object.text);\n                    ((ImageTypeViewHolder) holder).image.setImageResource(object.data);\n                    break;\n                case Model.AUDIO_TYPE:\n\n                    ((AudioTypeViewHolder) holder).txtType.setText(object.text);\n\n            }\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataSet.size();\n    }\n}\n</code></pre>\n<p>For the reference link: <em><a href=\"https://www.journaldev.com/12372/android-recyclerview-example\" rel=\"nofollow noreferrer\">Android RecyclerView Example – Multiple ViewTypes</a></em></p>\n"},{"tags":[],"owner":{"account_id":5981137,"reputation":17317,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1625682635,"creation_date":1530616068,"answer_id":51153083,"question_id":26245139,"body_markdown":"### Create a different ViewHolder for different layouts\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nRecyclerView can have any number of viewholders you want, but for better readability let’s see how to create one with two ViewHolders.\r\n\r\n&gt; It can be done in three simple steps\r\n\r\n 1. Override `public int getItemViewType(int position)`\r\n 2. Return different ViewHolders based on the ViewType in `onCreateViewHolder()` method\r\n 3. Populate View based on the itemViewType in `onBindViewHolder()` method\r\n\r\nHere is a small code snippet:\r\n\r\n    public class YourListAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n       private static final int LAYOUT_ONE = 0;\r\n       private static final int LAYOUT_TWO = 1;\r\n\r\n       @Override\r\n       public int getItemViewType(int position)\r\n       {\r\n          if(position==0)\r\n            return LAYOUT_ONE;\r\n          else\r\n            return LAYOUT_TWO;\r\n       }\r\n\r\n       @Override\r\n       public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n          View view = null;\r\n          RecyclerView.ViewHolder viewHolder = null;\r\n\r\n          if(viewType==LAYOUT_ONE)\r\n          {\r\n              view = LayoutInflater.from(parent.getContext()).inflate(R.layout.one,parent,false);\r\n              viewHolder = new ViewHolderOne(view);\r\n          }\r\n          else\r\n          {\r\n              view = LayoutInflater.from(parent.getContext()).inflate(R.layout.two,parent,false);\r\n              viewHolder= new ViewHolderTwo(view);\r\n          }\r\n\r\n          return viewHolder;\r\n       }\r\n\r\n       @Override\r\n       public void onBindViewHolder(RecyclerView.ViewHolder holder, final int position) {\r\n\r\n          if(holder.getItemViewType() == LAYOUT_ONE)\r\n          {\r\n                // Typecast Viewholder\r\n                // Set Viewholder properties\r\n                // Add any click listener if any\r\n          }\r\n          else {\r\n            ViewHolderOne vaultItemHolder = (ViewHolderOne) holder;\r\n            vaultItemHolder.name.setText(displayText);\r\n            vaultItemHolder.name.setOnClickListener(new View.OnClickListener() {\r\n               @Override\r\n               public void onClick(View v) {\r\n                .......\r\n               }\r\n             });\r\n           }\r\n       }\r\n\r\n      //****************  VIEW HOLDER 1 ******************//\r\n\r\n       public class ViewHolderOne extends RecyclerView.ViewHolder {\r\n\r\n          public TextView name;\r\n\r\n          public ViewHolderOne(View itemView) {\r\n             super(itemView);\r\n             name = (TextView)itemView.findViewById(R.id.displayName);\r\n         }\r\n       }\r\n\r\n\r\n       //****************  VIEW HOLDER 2 ******************//\r\n\r\n       public class ViewHolderTwo extends RecyclerView.ViewHolder {\r\n\r\n          public ViewHolderTwo(View itemView) {\r\n             super(itemView);\r\n\r\n            ..... Do something\r\n          }\r\n       }\r\n    }\r\n\r\n### getItemViewType(int position) is the key.\r\n\r\nIn my opinion, the starting point to create this kind of recyclerView is the knowledge of this method. Since this method is optional to override, it is not visible in RecylerView class by default which in turn makes many developers (including me) wonder where to begin.\r\n\r\nOnce you know that this method exists, creating such RecyclerView would be a cakewalk.\r\n\r\n&gt; Let&#39;s see one example to prove my point. If you want to show two layout\r\n&gt; at alternate positions do this\r\n\r\n    @Override\r\n    public int getItemViewType(int position)\r\n    {\r\n       if(position%2==0)       // Even position\r\n         return LAYOUT_ONE;\r\n       else                   // Odd position\r\n         return LAYOUT_TWO;\r\n    }\r\n\r\n### Relevant Links:\r\n\r\nCheck out [the project][2] where I have implemented this.\r\n\r\n  [1]: https://i.stack.imgur.com/nvYCw.png\r\n  [2]: https://github.com/rohitksingh/OLA_Play_Music_App/blob/master/OlaPlay/app/src/main/java/rohksin/com/olaplay/Adapters/MusicAdapter.java\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<h3>Create a different ViewHolder for different layouts</h3>\n<p><a href=\"https://i.stack.imgur.com/nvYCw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nvYCw.png\" alt=\"Enter image description here\" /></a></p>\n<p>RecyclerView can have any number of viewholders you want, but for better readability let’s see how to create one with two ViewHolders.</p>\n<blockquote>\n<p>It can be done in three simple steps</p>\n</blockquote>\n<ol>\n<li>Override <code>public int getItemViewType(int position)</code></li>\n<li>Return different ViewHolders based on the ViewType in <code>onCreateViewHolder()</code> method</li>\n<li>Populate View based on the itemViewType in <code>onBindViewHolder()</code> method</li>\n</ol>\n<p>Here is a small code snippet:</p>\n<pre><code>public class YourListAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n   private static final int LAYOUT_ONE = 0;\n   private static final int LAYOUT_TWO = 1;\n\n   @Override\n   public int getItemViewType(int position)\n   {\n      if(position==0)\n        return LAYOUT_ONE;\n      else\n        return LAYOUT_TWO;\n   }\n\n   @Override\n   public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n      View view = null;\n      RecyclerView.ViewHolder viewHolder = null;\n\n      if(viewType==LAYOUT_ONE)\n      {\n          view = LayoutInflater.from(parent.getContext()).inflate(R.layout.one,parent,false);\n          viewHolder = new ViewHolderOne(view);\n      }\n      else\n      {\n          view = LayoutInflater.from(parent.getContext()).inflate(R.layout.two,parent,false);\n          viewHolder= new ViewHolderTwo(view);\n      }\n\n      return viewHolder;\n   }\n\n   @Override\n   public void onBindViewHolder(RecyclerView.ViewHolder holder, final int position) {\n\n      if(holder.getItemViewType() == LAYOUT_ONE)\n      {\n            // Typecast Viewholder\n            // Set Viewholder properties\n            // Add any click listener if any\n      }\n      else {\n        ViewHolderOne vaultItemHolder = (ViewHolderOne) holder;\n        vaultItemHolder.name.setText(displayText);\n        vaultItemHolder.name.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View v) {\n            .......\n           }\n         });\n       }\n   }\n\n  //****************  VIEW HOLDER 1 ******************//\n\n   public class ViewHolderOne extends RecyclerView.ViewHolder {\n\n      public TextView name;\n\n      public ViewHolderOne(View itemView) {\n         super(itemView);\n         name = (TextView)itemView.findViewById(R.id.displayName);\n     }\n   }\n\n\n   //****************  VIEW HOLDER 2 ******************//\n\n   public class ViewHolderTwo extends RecyclerView.ViewHolder {\n\n      public ViewHolderTwo(View itemView) {\n         super(itemView);\n\n        ..... Do something\n      }\n   }\n}\n</code></pre>\n<h3>getItemViewType(int position) is the key.</h3>\n<p>In my opinion, the starting point to create this kind of recyclerView is the knowledge of this method. Since this method is optional to override, it is not visible in RecylerView class by default which in turn makes many developers (including me) wonder where to begin.</p>\n<p>Once you know that this method exists, creating such RecyclerView would be a cakewalk.</p>\n<blockquote>\n<p>Let's see one example to prove my point. If you want to show two layout\nat alternate positions do this</p>\n</blockquote>\n<pre><code>@Override\npublic int getItemViewType(int position)\n{\n   if(position%2==0)       // Even position\n     return LAYOUT_ONE;\n   else                   // Odd position\n     return LAYOUT_TWO;\n}\n</code></pre>\n<h3>Relevant Links:</h3>\n<p>Check out <a href=\"https://github.com/rohitksingh/OLA_Play_Music_App/blob/master/OlaPlay/app/src/main/java/rohksin/com/olaplay/Adapters/MusicAdapter.java\" rel=\"noreferrer\">the project</a> where I have implemented this.</p>\n"},{"tags":[],"owner":{"account_id":8233959,"reputation":771,"user_id":6193843,"display_name":"Link182"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625682738,"creation_date":1545490401,"answer_id":53896666,"question_id":26245139,"body_markdown":"View types implementation becomes easier with Kotlin. Here is a sample with this light library https://github.com/Link184/KidAdapter\r\n\r\n    recyclerView.setUp {\r\n        withViewType {\r\n            withLayoutResId(R.layout.item_int)\r\n            withItems(mutableListOf(1, 2, 3, 4, 5, 6))\r\n            bind&lt;Int&gt; { // this - is adapter view hoder itemView, it - current item\r\n                intName.text = it.toString()\r\n            }\r\n        }\r\n\r\n\r\n        withViewType(&quot;SECOND_STRING_TAG&quot;) {\r\n            withLayoutResId(R.layout.item_text)\r\n            withItems(mutableListOf(&quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;))\r\n            bind&lt;String&gt; {\r\n                stringName.text = it\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>View types implementation becomes easier with Kotlin. Here is a sample with this light library <a href=\"https://github.com/Link184/KidAdapter\" rel=\"nofollow noreferrer\">https://github.com/Link184/KidAdapter</a></p>\n<pre><code>recyclerView.setUp {\n    withViewType {\n        withLayoutResId(R.layout.item_int)\n        withItems(mutableListOf(1, 2, 3, 4, 5, 6))\n        bind&lt;Int&gt; { // this - is adapter view hoder itemView, it - current item\n            intName.text = it.toString()\n        }\n    }\n\n\n    withViewType(&quot;SECOND_STRING_TAG&quot;) {\n        withLayoutResId(R.layout.item_text)\n        withItems(mutableListOf(&quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;))\n        bind&lt;String&gt; {\n            stringName.text = it\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7858454,"reputation":849,"user_id":11316741,"display_name":"Dmitrii Bychkov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625682833,"creation_date":1554463446,"answer_id":55534303,"question_id":26245139,"body_markdown":"I recommend this library from Hannes Dorfmann. It encapsulates all the logic related to a particular view type in a separate object called &quot;AdapterDelegate&quot;.\r\n\r\n[https://github.com/sockeqwe/AdapterDelegates][1]\r\n\r\n    public class CatAdapterDelegate extends AdapterDelegate&lt;List&lt;Animal&gt;&gt; {\r\n\r\n      private LayoutInflater inflater;\r\n\r\n      public CatAdapterDelegate(Activity activity) {\r\n        inflater = activity.getLayoutInflater();\r\n      }\r\n\r\n      @Override public boolean isForViewType(@NonNull List&lt;Animal&gt; items, int position) {\r\n        return items.get(position) instanceof Cat;\r\n      }\r\n\r\n      @NonNull @Override public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent) {\r\n        return new CatViewHolder(inflater.inflate(R.layout.item_cat, parent, false));\r\n      }\r\n\r\n      @Override public void onBindViewHolder(@NonNull List&lt;Animal&gt; items, int position,\r\n          @NonNull RecyclerView.ViewHolder holder, @Nullable List&lt;Object&gt; payloads) {\r\n\r\n        CatViewHolder vh = (CatViewHolder) holder;\r\n        Cat cat = (Cat) items.get(position);\r\n\r\n        vh.name.setText(cat.getName());\r\n      }\r\n\r\n      static class CatViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public TextView name;\r\n\r\n        public CatViewHolder(View itemView) {\r\n          super(itemView);\r\n          name = (TextView) itemView.findViewById(R.id.name);\r\n        }\r\n      }\r\n    }\r\n\r\n    public class AnimalAdapter extends ListDelegationAdapter&lt;List&lt;Animal&gt;&gt; {\r\n\r\n      public AnimalAdapter(Activity activity, List&lt;Animal&gt; items) {\r\n\r\n        // DelegatesManager is a protected Field in ListDelegationAdapter\r\n        delegatesManager.addDelegate(new CatAdapterDelegate(activity))\r\n                        .addDelegate(new DogAdapterDelegate(activity))\r\n                        .addDelegate(new GeckoAdapterDelegate(activity))\r\n                        .addDelegate(23, new SnakeAdapterDelegate(activity));\r\n\r\n        // Set the items from super class.\r\n        setItems(items);\r\n      }\r\n    }\r\n\r\n  [1]: https://github.com/sockeqwe/AdapterDelegates\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I recommend this library from Hannes Dorfmann. It encapsulates all the logic related to a particular view type in a separate object called &quot;AdapterDelegate&quot;.</p>\n<p><a href=\"https://github.com/sockeqwe/AdapterDelegates\" rel=\"nofollow noreferrer\">https://github.com/sockeqwe/AdapterDelegates</a></p>\n<pre><code>public class CatAdapterDelegate extends AdapterDelegate&lt;List&lt;Animal&gt;&gt; {\n\n  private LayoutInflater inflater;\n\n  public CatAdapterDelegate(Activity activity) {\n    inflater = activity.getLayoutInflater();\n  }\n\n  @Override public boolean isForViewType(@NonNull List&lt;Animal&gt; items, int position) {\n    return items.get(position) instanceof Cat;\n  }\n\n  @NonNull @Override public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent) {\n    return new CatViewHolder(inflater.inflate(R.layout.item_cat, parent, false));\n  }\n\n  @Override public void onBindViewHolder(@NonNull List&lt;Animal&gt; items, int position,\n      @NonNull RecyclerView.ViewHolder holder, @Nullable List&lt;Object&gt; payloads) {\n\n    CatViewHolder vh = (CatViewHolder) holder;\n    Cat cat = (Cat) items.get(position);\n\n    vh.name.setText(cat.getName());\n  }\n\n  static class CatViewHolder extends RecyclerView.ViewHolder {\n\n    public TextView name;\n\n    public CatViewHolder(View itemView) {\n      super(itemView);\n      name = (TextView) itemView.findViewById(R.id.name);\n    }\n  }\n}\n\npublic class AnimalAdapter extends ListDelegationAdapter&lt;List&lt;Animal&gt;&gt; {\n\n  public AnimalAdapter(Activity activity, List&lt;Animal&gt; items) {\n\n    // DelegatesManager is a protected Field in ListDelegationAdapter\n    delegatesManager.addDelegate(new CatAdapterDelegate(activity))\n                    .addDelegate(new DogAdapterDelegate(activity))\n                    .addDelegate(new GeckoAdapterDelegate(activity))\n                    .addDelegate(23, new SnakeAdapterDelegate(activity));\n\n    // Set the items from super class.\n    setItems(items);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3499766,"reputation":76,"user_id":2926776,"display_name":"Avinash Ch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625683082,"creation_date":1557144386,"answer_id":56004879,"question_id":26245139,"body_markdown":"You can deal with multipleViewTypes `RecyclerAdapter` by making `getItemViewType()` return the expected `viewType` value for that position.\r\n\r\nI prepared an `MultipleViewTypeAdapter` for constructing an MCQ list for examinations which may throw a question that may have two or more valid answers (checkbox options) and a single answer questions (radiobutton options).\r\n\r\nFor this I get the type of question from the API response and I used that for deciding which view I have to show for that question.\r\n\r\n    public class MultiViewTypeAdapter extends RecyclerView.Adapter {\r\n\r\n        Context mContext;\r\n        ArrayList&lt;Question&gt; dataSet;\r\n        ArrayList&lt;String&gt; questions;\r\n        private Object radiobuttontype1;\r\n\r\n\r\n        //Viewholder to display Questions with checkboxes\r\n        public static class Checkboxtype2 extends RecyclerView.ViewHolder {\r\n            ImageView imgclockcheck;\r\n            CheckBox checkbox;\r\n\r\n            public Checkboxtype2(@NonNull View itemView) {\r\n                super(itemView);\r\n                imgclockcheck = (ImageView) itemView.findViewById(R.id.clockout_cbox_image);\r\n                checkbox = (CheckBox) itemView.findViewById(R.id.clockout_cbox);\r\n            }\r\n        }\r\n\r\n        //Viewholder to display Questions with radiobuttons\r\n\r\n        public static class Radiobuttontype1 extends RecyclerView.ViewHolder {\r\n            ImageView clockout_imageradiobutton;\r\n            RadioButton clockout_radiobutton;\r\n            TextView sample;\r\n\r\n            public radiobuttontype1(View itemView) {\r\n                super(itemView);\r\n                clockout_imageradiobutton = (ImageView) itemView.findViewById(R.id.clockout_imageradiobutton);\r\n                clockout_radiobutton = (RadioButton) itemView.findViewById(R.id.clockout_radiobutton);\r\n                sample = (TextView) itemView.findViewById(R.id.sample);\r\n            }\r\n        }\r\n\r\n        public MultiViewTypeAdapter(ArrayList&lt;QueDatum&gt; data, Context context) {\r\n            this.dataSet = data;\r\n            this.mContext = context;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\r\n            if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new radiobuttontype1(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_cbox_list_row, viewGroup, false);\r\n                view.setHorizontalFadingEdgeEnabled(true);\r\n                return new Checkboxtype2(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new Radiobuttontype1(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new Radiobuttontype1(view);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\r\n                return new Radiobuttontype1(view);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int viewType) {\r\n            if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\r\n                options =  dataSet.get(i).getOptions();\r\n                question = dataSet.get(i).getQuestion();\r\n                image = options.get(i).getValue();\r\n                ((radiobuttontype1) viewHolder).clockout_radiobutton.setChecked(false);\r\n                ((radiobuttontype1) viewHolder).sample.setText(question);\r\n                //Loading image bitmap in the ViewHolder&#39;s View\r\n                Picasso.with(mContext)\r\n                        .load(image)\r\n                        .into(((radiobuttontype1) viewHolder).clockout_imageradiobutton);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\r\n                options = (ArrayList&lt;Clockout_questions_Option&gt;) dataSet.get(i).getOptions();\r\n                question = dataSet.get(i).getQuestion();\r\n                image = options.get(i).getValue();\r\n                //Loading image bitmap in the ViewHolder&#39;s View\r\n                Picasso.with(mContext)\r\n                        .load(image)\r\n                        .into(((Checkboxtype2) viewHolder).imgclockcheck);\r\n\r\n            } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\r\n                //Fit data to viewHolder for ViewType 3\r\n            } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\r\n                //Fit data to viewHolder for ViewType 4\r\n            } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\r\n                //Fit data to viewHolder for ViewType 5\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return dataSet.size();\r\n        }\r\n\r\n        /**\r\n         * Returns viewType for that position by picking the viewType value from the\r\n         *     dataset\r\n         */\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            return dataSet.get(position).getViewType();\r\n        }\r\n    }\r\n\r\nYou can avoid multiple conditionals based viewHolder data fillings in `onBindViewHolder()` by assigning same ids for the similar views across viewHolders which differ in their positioning.\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>You can deal with multipleViewTypes <code>RecyclerAdapter</code> by making <code>getItemViewType()</code> return the expected <code>viewType</code> value for that position.</p>\n<p>I prepared an <code>MultipleViewTypeAdapter</code> for constructing an MCQ list for examinations which may throw a question that may have two or more valid answers (checkbox options) and a single answer questions (radiobutton options).</p>\n<p>For this I get the type of question from the API response and I used that for deciding which view I have to show for that question.</p>\n<pre><code>public class MultiViewTypeAdapter extends RecyclerView.Adapter {\n\n    Context mContext;\n    ArrayList&lt;Question&gt; dataSet;\n    ArrayList&lt;String&gt; questions;\n    private Object radiobuttontype1;\n\n\n    //Viewholder to display Questions with checkboxes\n    public static class Checkboxtype2 extends RecyclerView.ViewHolder {\n        ImageView imgclockcheck;\n        CheckBox checkbox;\n\n        public Checkboxtype2(@NonNull View itemView) {\n            super(itemView);\n            imgclockcheck = (ImageView) itemView.findViewById(R.id.clockout_cbox_image);\n            checkbox = (CheckBox) itemView.findViewById(R.id.clockout_cbox);\n        }\n    }\n\n    //Viewholder to display Questions with radiobuttons\n\n    public static class Radiobuttontype1 extends RecyclerView.ViewHolder {\n        ImageView clockout_imageradiobutton;\n        RadioButton clockout_radiobutton;\n        TextView sample;\n\n        public radiobuttontype1(View itemView) {\n            super(itemView);\n            clockout_imageradiobutton = (ImageView) itemView.findViewById(R.id.clockout_imageradiobutton);\n            clockout_radiobutton = (RadioButton) itemView.findViewById(R.id.clockout_radiobutton);\n            sample = (TextView) itemView.findViewById(R.id.sample);\n        }\n    }\n\n    public MultiViewTypeAdapter(ArrayList&lt;QueDatum&gt; data, Context context) {\n        this.dataSet = data;\n        this.mContext = context;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\n        if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new radiobuttontype1(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_cbox_list_row, viewGroup, false);\n            view.setHorizontalFadingEdgeEnabled(true);\n            return new Checkboxtype2(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new Radiobuttontype1(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new Radiobuttontype1(view);\n\n        } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.clockout_radio_list_row, viewGroup, false);\n            return new Radiobuttontype1(view);\n        }\n\n        return null;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int viewType) {\n        if (viewType.equalsIgnoreCase(&quot;1&quot;)) {\n            options =  dataSet.get(i).getOptions();\n            question = dataSet.get(i).getQuestion();\n            image = options.get(i).getValue();\n            ((radiobuttontype1) viewHolder).clockout_radiobutton.setChecked(false);\n            ((radiobuttontype1) viewHolder).sample.setText(question);\n            //Loading image bitmap in the ViewHolder's View\n            Picasso.with(mContext)\n                    .load(image)\n                    .into(((radiobuttontype1) viewHolder).clockout_imageradiobutton);\n\n        } else if (viewType.equalsIgnoreCase(&quot;2&quot;)) {\n            options = (ArrayList&lt;Clockout_questions_Option&gt;) dataSet.get(i).getOptions();\n            question = dataSet.get(i).getQuestion();\n            image = options.get(i).getValue();\n            //Loading image bitmap in the ViewHolder's View\n            Picasso.with(mContext)\n                    .load(image)\n                    .into(((Checkboxtype2) viewHolder).imgclockcheck);\n\n        } else if (viewType.equalsIgnoreCase(&quot;3&quot;)) {\n            //Fit data to viewHolder for ViewType 3\n        } else if (viewType.equalsIgnoreCase(&quot;4&quot;)) {\n            //Fit data to viewHolder for ViewType 4\n        } else if (viewType.equalsIgnoreCase(&quot;5&quot;)) {\n            //Fit data to viewHolder for ViewType 5\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataSet.size();\n    }\n\n    /**\n     * Returns viewType for that position by picking the viewType value from the\n     *     dataset\n     */\n    @Override\n    public int getItemViewType(int position) {\n        return dataSet.get(position).getViewType();\n    }\n}\n</code></pre>\n<p>You can avoid multiple conditionals based viewHolder data fillings in <code>onBindViewHolder()</code> by assigning same ids for the similar views across viewHolders which differ in their positioning.</p>\n"},{"tags":[],"owner":{"account_id":12731869,"reputation":15110,"user_id":9248201,"display_name":"Pavlo Ostasha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625683341,"creation_date":1570184769,"answer_id":58234559,"question_id":26245139,"body_markdown":"If you want to use it in conjunction with Android Data Binding look into the https://github.com/evant/binding-collection-adapter - it is by far the best solution for the multiple view types ```RecyclerView``` I have even seen.\r\n\r\nYou may use it like\r\n\r\n```kotlin\r\nvar items: AsyncDiffPagedObservableList&lt;BaseListItem&gt; =\r\n        AsyncDiffPagedObservableList(GenericDiff)\r\n\r\n    val onItemBind: OnItemBind&lt;BaseListItem&gt; =\r\n        OnItemBind { itemBinding, _, item -&gt; itemBinding.set(BR.item, item.layoutRes) }\r\n```\r\n\r\nAnd then in the layout where the list is:\r\n\r\n```\r\n &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:enableAnimations=&quot;@{false}&quot;\r\n                app:scrollToPosition=&quot;@{viewModel.scrollPosition}&quot;\r\n\r\n                app:itemBinding=&quot;@{viewModel.onItemBind}&quot;\r\n                app:items=&quot;@{viewModel.items}&quot;\r\n\r\n                app:reverseLayoutManager=&quot;@{true}&quot;/&gt;\r\n```\r\n\r\nYour list items must implement the ```BaseListItem``` interface which looks like this:\r\n\r\n```\r\ninterface BaseListItem {\r\n    val layoutRes: Int\r\n}\r\n```\r\n\r\nAnd the item view should look something like this:\r\n\r\n```\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n\r\n        &lt;variable\r\n                name=&quot;item&quot;\r\n                type=&quot;...presentation.somescreen.list.YourListItem&quot;/&gt;\r\n    &lt;/data&gt;\r\n\r\n   ...\r\n\r\n&lt;/layout&gt;\r\n```\r\n\r\nWhere ```YourListItem``` implements ```BaseListItem```.\r\n\r\n \r\n","title":"How to create RecyclerView with multiple view types","body":"<p>If you want to use it in conjunction with Android Data Binding look into the <a href=\"https://github.com/evant/binding-collection-adapter\" rel=\"nofollow noreferrer\">https://github.com/evant/binding-collection-adapter</a> - it is by far the best solution for the multiple view types <code>RecyclerView</code> I have even seen.</p>\n<p>You may use it like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var items: AsyncDiffPagedObservableList&lt;BaseListItem&gt; =\n        AsyncDiffPagedObservableList(GenericDiff)\n\n    val onItemBind: OnItemBind&lt;BaseListItem&gt; =\n        OnItemBind { itemBinding, _, item -&gt; itemBinding.set(BR.item, item.layoutRes) }\n</code></pre>\n<p>And then in the layout where the list is:</p>\n<pre><code> &lt;androidx.recyclerview.widget.RecyclerView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:enableAnimations=&quot;@{false}&quot;\n                app:scrollToPosition=&quot;@{viewModel.scrollPosition}&quot;\n\n                app:itemBinding=&quot;@{viewModel.onItemBind}&quot;\n                app:items=&quot;@{viewModel.items}&quot;\n\n                app:reverseLayoutManager=&quot;@{true}&quot;/&gt;\n</code></pre>\n<p>Your list items must implement the <code>BaseListItem</code> interface which looks like this:</p>\n<pre><code>interface BaseListItem {\n    val layoutRes: Int\n}\n</code></pre>\n<p>And the item view should look something like this:</p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n                name=&quot;item&quot;\n                type=&quot;...presentation.somescreen.list.YourListItem&quot;/&gt;\n    &lt;/data&gt;\n\n   ...\n\n&lt;/layout&gt;\n</code></pre>\n<p>Where <code>YourListItem</code> implements <code>BaseListItem</code>.</p>\n"},{"tags":[],"owner":{"account_id":15623977,"reputation":135,"user_id":11272095,"display_name":"Genius8020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625683475,"creation_date":1570283757,"answer_id":58249001,"question_id":26245139,"body_markdown":"First you must create two layout XML files. After that inside recyclerview adapter TYPE_CALL and TYPE_EMAIL are two static values with 1 and 2 respectively in the adapter class.\r\n\r\nNow *define* two static values ​​at the Recycler view Adapter class level, for example: private static int TYPE_CALL = 1; private static int TYPE_EMAIL = 2;\r\n\r\nNow create the view holder with multiple views like this:\r\n\r\n    class CallViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView txtName;\r\n        private TextView txtAddress;\r\n\r\n        CallViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n            txtAddress = itemView.findViewById(R.id.txtAddress);\r\n        }\r\n    }\r\n\r\n    class EmailViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView txtName;\r\n        private TextView txtAddress;\r\n\r\n        EmailViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n            txtAddress = itemView.findViewById(R.id.txtAddress);\r\n        }\r\n    }\r\n\r\nNow code as below in onCreateViewHolder and onBindViewHolder method in the recyclerview adapter:\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\r\n        View view;\r\n        if (viewType == TYPE_CALL) { // for call layout\r\n            view = LayoutInflater.from(context).inflate(R.layout.item_call, viewGroup, false);\r\n            return new CallViewHolder(view);\r\n\r\n        } else { // for email layout\r\n            view = LayoutInflater.from(context).inflate(R.layout.item_email, viewGroup, false);\r\n            return new EmailViewHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int position) {\r\n        if (getItemViewType(position) == TYPE_CALL) {\r\n            ((CallViewHolder) viewHolder).setCallDetails(employees.get(position));\r\n        } else {\r\n            ((EmailViewHolder) viewHolder).setEmailDetails(employees.get(position));\r\n        }\r\n    }\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>First you must create two layout XML files. After that inside recyclerview adapter TYPE_CALL and TYPE_EMAIL are two static values with 1 and 2 respectively in the adapter class.</p>\n<p>Now <em>define</em> two static values ​​at the Recycler view Adapter class level, for example: private static int TYPE_CALL = 1; private static int TYPE_EMAIL = 2;</p>\n<p>Now create the view holder with multiple views like this:</p>\n<pre><code>class CallViewHolder extends RecyclerView.ViewHolder {\n\n    private TextView txtName;\n    private TextView txtAddress;\n\n    CallViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtName = itemView.findViewById(R.id.txtName);\n        txtAddress = itemView.findViewById(R.id.txtAddress);\n    }\n}\n\nclass EmailViewHolder extends RecyclerView.ViewHolder {\n\n    private TextView txtName;\n    private TextView txtAddress;\n\n    EmailViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtName = itemView.findViewById(R.id.txtName);\n        txtAddress = itemView.findViewById(R.id.txtAddress);\n    }\n}\n</code></pre>\n<p>Now code as below in onCreateViewHolder and onBindViewHolder method in the recyclerview adapter:</p>\n<pre><code>@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\n    View view;\n    if (viewType == TYPE_CALL) { // for call layout\n        view = LayoutInflater.from(context).inflate(R.layout.item_call, viewGroup, false);\n        return new CallViewHolder(view);\n\n    } else { // for email layout\n        view = LayoutInflater.from(context).inflate(R.layout.item_email, viewGroup, false);\n        return new EmailViewHolder(view);\n    }\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int position) {\n    if (getItemViewType(position) == TYPE_CALL) {\n        ((CallViewHolder) viewHolder).setCallDetails(employees.get(position));\n    } else {\n        ((EmailViewHolder) viewHolder).setEmailDetails(employees.get(position));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7503750,"reputation":5055,"user_id":5701085,"display_name":"Asad Ali Choudhry"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1625683647,"creation_date":1573112870,"answer_id":58744127,"question_id":26245139,"body_markdown":"Although the selected answer is correct, I just want to further elaborate it. I found a useful [Custom Adapter for multiple View Types in RecyclerView][1].\r\nIts [Kotlin version is here][2].\r\n\r\nThe custom adapter is the following:\r\n\r\n    public class CustomAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n        private final Context context;\r\n        ArrayList&lt;String&gt; list; // ArrayList of your Data Model\r\n        final int VIEW_TYPE_ONE = 1;\r\n        final int VIEW_TYPE_TWO = 2;\r\n\r\n        public CustomAdapter(Context context, ArrayList&lt;String&gt; list) { // you can pass other parameters in constructor\r\n            this.context = context;\r\n            this.list = list;\r\n        }\r\n\r\n        private class ViewHolder1 extends RecyclerView.ViewHolder {\r\n\r\n            TextView yourView;\r\n            ViewHolder1(final View itemView) {\r\n                super(itemView);\r\n                yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\r\n            }\r\n            void bind(int position) {\r\n                // This method will be called anytime a list item is created or update its data\r\n                // Do your stuff here\r\n                yourView.setText(list.get(position));\r\n            }\r\n        }\r\n\r\n        private class ViewHolder2 extends RecyclerView.ViewHolder {\r\n\r\n            TextView yourView;\r\n            ViewHolder2(final View itemView) {\r\n                super(itemView);\r\n                yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\r\n            }\r\n            void bind(int position) {\r\n                // This method will be called anytime a list item is created or update its data\r\n                //Do your stuff here\r\n                yourView.setText(list.get(position));\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n           if (viewType == VIEW_TYPE_ONE) {\r\n               return new ViewHolder1(LayoutInflater.from(context).inflate(R.layout.your_list_item_1, parent, false));\r\n           }\r\n           //if its not VIEW_TYPE_ONE then its VIEW_TYPE_TWO\r\n           return new ViewHolder2(LayoutInflater.from(context).inflate(R.layout.your_list_item_2, parent, false));\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n            if (list.get(position).type == Something) { // Put your condition, according to your requirements\r\n                ((ViewHolder1) holder).bind(position);\r\n            } else {\r\n                ((ViewHolder2) holder).bind(position);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            // Here you can get decide from your model&#39;s ArrayList, which type of view you need to load. Like\r\n            if (list.get(position).type == Something) { // Put your condition, according to your requirements\r\n                return VIEW_TYPE_ONE;\r\n            }\r\n            return VIEW_TYPE_TWO;\r\n        }\r\n    }\r\n\r\n  [1]: https://handyopinion.com/recyclerview-custom-adapter-with-multiple-view-types-in-java-android/\r\n  [2]: https://handyopinion.com/custom-adapter-with-multiple-view-types-for-recyclerview-in-kotlin-android/\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Although the selected answer is correct, I just want to further elaborate it. I found a useful <a href=\"https://handyopinion.com/recyclerview-custom-adapter-with-multiple-view-types-in-java-android/\" rel=\"nofollow noreferrer\">Custom Adapter for multiple View Types in RecyclerView</a>.\nIts <a href=\"https://handyopinion.com/custom-adapter-with-multiple-view-types-for-recyclerview-in-kotlin-android/\" rel=\"nofollow noreferrer\">Kotlin version is here</a>.</p>\n<p>The custom adapter is the following:</p>\n<pre><code>public class CustomAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    private final Context context;\n    ArrayList&lt;String&gt; list; // ArrayList of your Data Model\n    final int VIEW_TYPE_ONE = 1;\n    final int VIEW_TYPE_TWO = 2;\n\n    public CustomAdapter(Context context, ArrayList&lt;String&gt; list) { // you can pass other parameters in constructor\n        this.context = context;\n        this.list = list;\n    }\n\n    private class ViewHolder1 extends RecyclerView.ViewHolder {\n\n        TextView yourView;\n        ViewHolder1(final View itemView) {\n            super(itemView);\n            yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\n        }\n        void bind(int position) {\n            // This method will be called anytime a list item is created or update its data\n            // Do your stuff here\n            yourView.setText(list.get(position));\n        }\n    }\n\n    private class ViewHolder2 extends RecyclerView.ViewHolder {\n\n        TextView yourView;\n        ViewHolder2(final View itemView) {\n            super(itemView);\n            yourView = itemView.findViewById(R.id.yourView); // Initialize your All views prensent in list items\n        }\n        void bind(int position) {\n            // This method will be called anytime a list item is created or update its data\n            //Do your stuff here\n            yourView.setText(list.get(position));\n        }\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n       if (viewType == VIEW_TYPE_ONE) {\n           return new ViewHolder1(LayoutInflater.from(context).inflate(R.layout.your_list_item_1, parent, false));\n       }\n       //if its not VIEW_TYPE_ONE then its VIEW_TYPE_TWO\n       return new ViewHolder2(LayoutInflater.from(context).inflate(R.layout.your_list_item_2, parent, false));\n\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        if (list.get(position).type == Something) { // Put your condition, according to your requirements\n            ((ViewHolder1) holder).bind(position);\n        } else {\n            ((ViewHolder2) holder).bind(position);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        // Here you can get decide from your model's ArrayList, which type of view you need to load. Like\n        if (list.get(position).type == Something) { // Put your condition, according to your requirements\n            return VIEW_TYPE_ONE;\n        }\n        return VIEW_TYPE_TWO;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2851453,"reputation":1579,"user_id":2448589,"accept_rate":50,"display_name":"Mariusz Brona"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625683707,"creation_date":1592999848,"answer_id":62554520,"question_id":26245139,"body_markdown":"If anyone is interested to see the super simple solution written in Kotlin, check the blogpost I just created. The example in the blogpost is based on creating Sectioned RecyclerView:\r\n\r\nhttps://brona.blog/2020/06/sectioned-recyclerview-in-three-steps/\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>If anyone is interested to see the super simple solution written in Kotlin, check the blogpost I just created. The example in the blogpost is based on creating Sectioned RecyclerView:</p>\n<p><a href=\"https://brona.blog/2020/06/sectioned-recyclerview-in-three-steps/\" rel=\"nofollow noreferrer\">https://brona.blog/2020/06/sectioned-recyclerview-in-three-steps/</a></p>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1673365548,"creation_date":1593125953,"answer_id":62585542,"question_id":26245139,"body_markdown":"Simpler than ever, forget about ViewTypes. It is not recommended to use multiple viewtypes inside one adapter. It will mess the code and break the single responsibility principle since now the adapter needs to handle logic to know which view to inflate.\r\n\r\nNow imagine working in large teams where each team has to work in one of those viewtypes features. It will be a mess to touch the same adapter by all the teams that work in the different viewtypes. This is solved using ConcatAdapter where you isolate the adapters. Code them one by one and then just merge them inside one view.\r\n\r\nFrom `recyclerview:1.2.0-alpha04` you now can use `ConcatAdapter`.\r\n\r\nIf you need a view with different viewTypes, you can just write the Adapters for each section and just use ConcatAdapter to merge all of them inside one recyclerview.\r\n\r\nConcatAdapter\r\n-------------\r\n\r\nThis image shows three different viewtypes that one recyclerview has, header, content and footer.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nYou only create one adapter for each section, and then just use ConcatAdapter to merge them inside one recyclerview:\r\n\r\n    val firstAdapter: FirstAdapter = …\r\n    val secondAdapter: SecondAdapter = …\r\n    val thirdAdapter: ThirdAdapter = …\r\n    val concatAdapter = ConcatAdapter(firstAdapter, secondAdapter,\r\n                                      thirdAdapter)\r\n    recyclerView.adapter = concatAdapter\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nThat&#39;s all you need to know. If you want to handle loading state, for example remove the last adapter after some loading happened, you can use [LoadState][3].\r\n\r\n  [1]: https://i.stack.imgur.com/qdlpN.png\r\n  [2]: https://i.stack.imgur.com/nnWnq.png\r\n  [3]: https://github.com/googlecodelabs/android-paging/pull/46/files\r\n\r\n\r\nFor more in depth information follow Florina Muntenescu post here https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Simpler than ever, forget about ViewTypes. It is not recommended to use multiple viewtypes inside one adapter. It will mess the code and break the single responsibility principle since now the adapter needs to handle logic to know which view to inflate.</p>\n<p>Now imagine working in large teams where each team has to work in one of those viewtypes features. It will be a mess to touch the same adapter by all the teams that work in the different viewtypes. This is solved using ConcatAdapter where you isolate the adapters. Code them one by one and then just merge them inside one view.</p>\n<p>From <code>recyclerview:1.2.0-alpha04</code> you now can use <code>ConcatAdapter</code>.</p>\n<p>If you need a view with different viewTypes, you can just write the Adapters for each section and just use ConcatAdapter to merge all of them inside one recyclerview.</p>\n<h2>ConcatAdapter</h2>\n<p>This image shows three different viewtypes that one recyclerview has, header, content and footer.</p>\n<p><a href=\"https://i.stack.imgur.com/qdlpN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qdlpN.png\" alt=\"Enter image description here\" /></a></p>\n<p>You only create one adapter for each section, and then just use ConcatAdapter to merge them inside one recyclerview:</p>\n<pre><code>val firstAdapter: FirstAdapter = …\nval secondAdapter: SecondAdapter = …\nval thirdAdapter: ThirdAdapter = …\nval concatAdapter = ConcatAdapter(firstAdapter, secondAdapter,\n                                  thirdAdapter)\nrecyclerView.adapter = concatAdapter\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nnWnq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nnWnq.png\" alt=\"Enter image description here\" /></a></p>\n<p>That's all you need to know. If you want to handle loading state, for example remove the last adapter after some loading happened, you can use <a href=\"https://github.com/googlecodelabs/android-paging/pull/46/files\" rel=\"noreferrer\">LoadState</a>.</p>\n<p>For more in depth information follow Florina Muntenescu post here <a href=\"https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a\" rel=\"noreferrer\">https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a</a></p>\n"},{"tags":[],"owner":{"account_id":40058,"reputation":18491,"user_id":115890,"accept_rate":76,"display_name":"ibrahimyilmaz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625684166,"creation_date":1596365827,"answer_id":63215167,"question_id":26245139,"body_markdown":"I firstly recommend you to read Hannes Dorfmann&#39;s [great article][1] about this topic.\r\n\r\nWhen a new view type comes, you have to edit your adapter and you have to handle so many messy things. Your adapter should be *open* for extension, but *closed* for modification.\r\n\r\nYou may check this two project, they can give the idea about how to handle different ViewTypes in Adapter:\r\n\r\n - https://github.com/sockeqwe/AdapterDelegates\r\n\r\n - https://github.com/ibrahimyilmaz/kiel\r\n\r\n  [1]: http://hannesdorfmann.com/android/adapter-delegates\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I firstly recommend you to read Hannes Dorfmann's <a href=\"http://hannesdorfmann.com/android/adapter-delegates\" rel=\"nofollow noreferrer\">great article</a> about this topic.</p>\n<p>When a new view type comes, you have to edit your adapter and you have to handle so many messy things. Your adapter should be <em>open</em> for extension, but <em>closed</em> for modification.</p>\n<p>You may check this two project, they can give the idea about how to handle different ViewTypes in Adapter:</p>\n<ul>\n<li><p><a href=\"https://github.com/sockeqwe/AdapterDelegates\" rel=\"nofollow noreferrer\">https://github.com/sockeqwe/AdapterDelegates</a></p>\n</li>\n<li><p><a href=\"https://github.com/ibrahimyilmaz/kiel\" rel=\"nofollow noreferrer\">https://github.com/ibrahimyilmaz/kiel</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2150108,"reputation":1059,"user_id":1906738,"accept_rate":0,"display_name":"Syed Arsalan Kazmi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625684567,"creation_date":1609244283,"answer_id":65492004,"question_id":26245139,"body_markdown":"I did something like this. I passed &quot;fragmentType&quot; and created two `ViewHolders` and on basis of this, I classified my Layouts accordingly in a single adapter that can have different `Layouts` and `LayoutManagers`\r\n\r\n    private Context mContext;\r\n    protected IOnLoyaltyCardCategoriesItemClicked mListener;\r\n    private String fragmentType;\r\n    private View view;\r\n\r\n    public LoyaltyCardsCategoriesRecyclerViewAdapter(Context context, IOnLoyaltyCardCategoriesItemClicked itemListener, String fragmentType) {\r\n        this.mContext = context;\r\n        this.mListener = itemListener;\r\n        this.fragmentType = fragmentType;\r\n    }\r\n\r\n    public class LoyaltyCardCategoriesFragmentViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n        private ImageView lc_categories_iv;\r\n        private TextView lc_categories_name_tv;\r\n        private int pos;\r\n\r\n        public LoyaltyCardCategoriesFragmentViewHolder(View v) {\r\n            super(v);\r\n            view.setOnClickListener(this);\r\n            lc_categories_iv = (ImageView) v.findViewById(R.id.lc_categories_iv);\r\n            lc_categories_name_tv = (TextView) v.findViewById(R.id.lc_categories_name_tv);\r\n        }\r\n\r\n        public void setData(int pos) {\r\n            this.pos = pos;\r\n            lc_categories_iv.setImageResource(R.mipmap.ic_launcher);\r\n            lc_categories_name_tv.setText(&quot;Loyalty Card Categories&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (mListener != null) {\r\n                mListener.onLoyaltyCardCategoriesItemClicked(pos);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class MyLoyaltyCardsFragmentTagViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n        public ImageButton lc_categories_btn;\r\n        private int pos;\r\n\r\n        public MyLoyaltyCardsFragmentTagViewHolder(View v) {\r\n            super(v);\r\n            lc_categories_btn = (ImageButton) v.findViewById(R.id.lc_categories_btn);\r\n            lc_categories_btn.setOnClickListener(this);\r\n        }\r\n\r\n        public void setData(int pos) {\r\n            this.pos = pos;\r\n            lc_categories_btn.setImageResource(R.mipmap.ic_launcher);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (mListener != null) {\r\n                mListener.onLoyaltyCardCategoriesItemClicked(pos);\r\n            }\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\r\n            view = LayoutInflater.from(mContext).inflate(R.layout.loyalty_cards_categories_frag_item, parent, false);\r\n            return new LoyaltyCardCategoriesFragmentViewHolder(view);\r\n        } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\r\n            view = LayoutInflater.from(mContext).inflate(R.layout.my_loyalty_cards_categories_frag_item, parent, false);\r\n            return new MyLoyaltyCardsFragmentTagViewHolder(view);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\r\n            ((LoyaltyCardCategoriesFragmentViewHolder) holder).setData(position);\r\n        } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\r\n            ((MyLoyaltyCardsFragmentTagViewHolder) holder).setData(position);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 7;\r\n    }\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I did something like this. I passed &quot;fragmentType&quot; and created two <code>ViewHolders</code> and on basis of this, I classified my Layouts accordingly in a single adapter that can have different <code>Layouts</code> and <code>LayoutManagers</code></p>\n<pre><code>private Context mContext;\nprotected IOnLoyaltyCardCategoriesItemClicked mListener;\nprivate String fragmentType;\nprivate View view;\n\npublic LoyaltyCardsCategoriesRecyclerViewAdapter(Context context, IOnLoyaltyCardCategoriesItemClicked itemListener, String fragmentType) {\n    this.mContext = context;\n    this.mListener = itemListener;\n    this.fragmentType = fragmentType;\n}\n\npublic class LoyaltyCardCategoriesFragmentViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    private ImageView lc_categories_iv;\n    private TextView lc_categories_name_tv;\n    private int pos;\n\n    public LoyaltyCardCategoriesFragmentViewHolder(View v) {\n        super(v);\n        view.setOnClickListener(this);\n        lc_categories_iv = (ImageView) v.findViewById(R.id.lc_categories_iv);\n        lc_categories_name_tv = (TextView) v.findViewById(R.id.lc_categories_name_tv);\n    }\n\n    public void setData(int pos) {\n        this.pos = pos;\n        lc_categories_iv.setImageResource(R.mipmap.ic_launcher);\n        lc_categories_name_tv.setText(&quot;Loyalty Card Categories&quot;);\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (mListener != null) {\n            mListener.onLoyaltyCardCategoriesItemClicked(pos);\n        }\n    }\n}\n\npublic class MyLoyaltyCardsFragmentTagViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    public ImageButton lc_categories_btn;\n    private int pos;\n\n    public MyLoyaltyCardsFragmentTagViewHolder(View v) {\n        super(v);\n        lc_categories_btn = (ImageButton) v.findViewById(R.id.lc_categories_btn);\n        lc_categories_btn.setOnClickListener(this);\n    }\n\n    public void setData(int pos) {\n        this.pos = pos;\n        lc_categories_btn.setImageResource(R.mipmap.ic_launcher);\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (mListener != null) {\n            mListener.onLoyaltyCardCategoriesItemClicked(pos);\n        }\n    }\n}\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\n        view = LayoutInflater.from(mContext).inflate(R.layout.loyalty_cards_categories_frag_item, parent, false);\n        return new LoyaltyCardCategoriesFragmentViewHolder(view);\n    } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\n        view = LayoutInflater.from(mContext).inflate(R.layout.my_loyalty_cards_categories_frag_item, parent, false);\n        return new MyLoyaltyCardsFragmentTagViewHolder(view);\n    } else {\n        return null;\n    }\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n    if (fragmentType.equalsIgnoreCase(Constants.LoyaltyCardCategoriesFragmentTag)) {\n        ((LoyaltyCardCategoriesFragmentViewHolder) holder).setData(position);\n    } else if (fragmentType.equalsIgnoreCase(Constants.MyLoyaltyCardsFragmentTag)) {\n        ((MyLoyaltyCardsFragmentTagViewHolder) holder).setData(position);\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return 7;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1625684674,"creation_date":1609926915,"answer_id":65593579,"question_id":26245139,"body_markdown":"Here is a complete sample to show a RecyclerView with two types, the view type decided by the object.\r\n\r\n**Class model**\r\n\r\n    open class RecyclerViewItem\r\n    class SectionItem(val title: String) : RecyclerViewItem()\r\n    class ContentItem(val name: String, val number: Int) : RecyclerViewItem()\r\n\r\n**Adapter** code\r\n\r\n    const val VIEW_TYPE_SECTION = 1\r\n    const val VIEW_TYPE_ITEM = 2\r\n\r\n    class UserAdapter : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n\r\n        var data = listOf&lt;RecyclerViewItem&gt;()\r\n\r\n        override fun getItemViewType(position: Int): Int {\r\n            if (data[position] is SectionItem) {\r\n                return VIEW_TYPE_SECTION\r\n            }\r\n            return VIEW_TYPE_ITEM\r\n        }\r\n\r\n        override fun getItemCount(): Int {\r\n            return data.size\r\n        }\r\n\r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            if (viewType == VIEW_TYPE_SECTION) {\r\n                return SectionViewHolder(\r\n                    LayoutInflater.from(parent.context).inflate(R.layout.item_user_section, parent, false)\r\n                )\r\n            }\r\n            return ContentViewHolder(\r\n                LayoutInflater.from(parent.context).inflate(R.layout.item_user_content, parent, false)\r\n            )\r\n        }\r\n\r\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n            val item = data[position]\r\n            if (holder is SectionViewHolder &amp;&amp; item is SectionItem) {\r\n                holder.bind(item)\r\n            }\r\n            if (holder is ContentViewHolder &amp;&amp; item is ContentItem) {\r\n                holder.bind(item)\r\n            }\r\n        }\r\n\r\n        internal inner class SectionViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n            fun bind(item: SectionItem) {\r\n                itemView.text_section.text = item.title\r\n            }\r\n        }\r\n\r\n        internal inner class ContentViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n            fun bind(item: ContentItem) {\r\n                itemView.text_name.text = item.name\r\n                itemView.text_number.text = item.number.toString()\r\n            }\r\n        }\r\n    }\r\n\r\n**item_user_section.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/text_section&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#eee&quot;\r\n        android:padding=&quot;16dp&quot; /&gt;\r\n\r\n**item_user_content.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;32dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            tools:text=&quot;Name&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_number&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n**Example using**\r\n\r\n    val dataSet = arrayListOf&lt;RecyclerViewItem&gt;(\r\n        SectionItem(&quot;A1&quot;),\r\n        ContentItem(&quot;11&quot;, 11),\r\n        ContentItem(&quot;12&quot;, 12),\r\n        ContentItem(&quot;13&quot;, 13),\r\n\r\n        SectionItem(&quot;A2&quot;),\r\n        ContentItem(&quot;21&quot;, 21),\r\n        ContentItem(&quot;22&quot;, 22),\r\n\r\n        SectionItem(&quot;A3&quot;),\r\n        ContentItem(&quot;31&quot;, 31),\r\n        ContentItem(&quot;32&quot;, 32),\r\n        ContentItem(&quot;33&quot;, 33),\r\n        ContentItem(&quot;33&quot;, 34),\r\n    )\r\n\r\n    recyclerAdapter.data = dataSet\r\n    recyclerAdapter.notifyDataSetChanged()\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/ihugr.png&quot; height=&quot;300&quot; /&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/ihugr.png\r\n\r\n\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>Here is a complete sample to show a RecyclerView with two types, the view type decided by the object.</p>\n<p><strong>Class model</strong></p>\n<pre><code>open class RecyclerViewItem\nclass SectionItem(val title: String) : RecyclerViewItem()\nclass ContentItem(val name: String, val number: Int) : RecyclerViewItem()\n</code></pre>\n<p><strong>Adapter</strong> code</p>\n<pre><code>const val VIEW_TYPE_SECTION = 1\nconst val VIEW_TYPE_ITEM = 2\n\nclass UserAdapter : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n    var data = listOf&lt;RecyclerViewItem&gt;()\n\n    override fun getItemViewType(position: Int): Int {\n        if (data[position] is SectionItem) {\n            return VIEW_TYPE_SECTION\n        }\n        return VIEW_TYPE_ITEM\n    }\n\n    override fun getItemCount(): Int {\n        return data.size\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        if (viewType == VIEW_TYPE_SECTION) {\n            return SectionViewHolder(\n                LayoutInflater.from(parent.context).inflate(R.layout.item_user_section, parent, false)\n            )\n        }\n        return ContentViewHolder(\n            LayoutInflater.from(parent.context).inflate(R.layout.item_user_content, parent, false)\n        )\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        val item = data[position]\n        if (holder is SectionViewHolder &amp;&amp; item is SectionItem) {\n            holder.bind(item)\n        }\n        if (holder is ContentViewHolder &amp;&amp; item is ContentItem) {\n            holder.bind(item)\n        }\n    }\n\n    internal inner class SectionViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bind(item: SectionItem) {\n            itemView.text_section.text = item.title\n        }\n    }\n\n    internal inner class ContentViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bind(item: ContentItem) {\n            itemView.text_name.text = item.name\n            itemView.text_number.text = item.number.toString()\n        }\n    }\n}\n</code></pre>\n<p><strong>item_user_section.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/text_section&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#eee&quot;\n    android:padding=&quot;16dp&quot; /&gt;\n</code></pre>\n<p><strong>item_user_content.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:padding=&quot;32dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:text=&quot;Name&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_number&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Example using</strong></p>\n<pre><code>val dataSet = arrayListOf&lt;RecyclerViewItem&gt;(\n    SectionItem(&quot;A1&quot;),\n    ContentItem(&quot;11&quot;, 11),\n    ContentItem(&quot;12&quot;, 12),\n    ContentItem(&quot;13&quot;, 13),\n\n    SectionItem(&quot;A2&quot;),\n    ContentItem(&quot;21&quot;, 21),\n    ContentItem(&quot;22&quot;, 22),\n\n    SectionItem(&quot;A3&quot;),\n    ContentItem(&quot;31&quot;, 31),\n    ContentItem(&quot;32&quot;, 32),\n    ContentItem(&quot;33&quot;, 33),\n    ContentItem(&quot;33&quot;, 34),\n)\n\nrecyclerAdapter.data = dataSet\nrecyclerAdapter.notifyDataSetChanged()\n</code></pre>\n<img src=\"https://i.stack.imgur.com/ihugr.png\" height=\"300\" />\n"},{"tags":[],"owner":{"account_id":1324323,"reputation":480,"user_id":1269493,"accept_rate":50,"display_name":"Miguel Lasa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625688003,"creation_date":1611320602,"answer_id":65845732,"question_id":26245139,"body_markdown":"I see there are a lot of great answers, incredibly detailed and extensive. In my case, I always understand things better if I follow along the reasoning from almost scratch, step by step. I would recommend you check this link out and whenever you have similar questions, search for any codelabs that address the issue.\r\n\r\n*[Android Kotlin Fundamentals: Headers in RecyclerView][1]*\r\n\r\n  [1]: https://developer.android.com/codelabs/kotlin-android-training-headers#0\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>I see there are a lot of great answers, incredibly detailed and extensive. In my case, I always understand things better if I follow along the reasoning from almost scratch, step by step. I would recommend you check this link out and whenever you have similar questions, search for any codelabs that address the issue.</p>\n<p><em><a href=\"https://developer.android.com/codelabs/kotlin-android-training-headers#0\" rel=\"nofollow noreferrer\">Android Kotlin Fundamentals: Headers in RecyclerView</a></em></p>\n"}],"owner":{"account_id":475072,"reputation":13268,"user_id":885179,"accept_rate":62,"display_name":"Pongpat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602910,"favorite_count":0,"down_vote_count":3,"up_vote_count":1060,"accepted_answer_id":26245463,"answer_count":23,"score":1057,"last_activity_date":1673365548,"creation_date":1412715330,"question_id":26245139,"body_markdown":"From *[Create dynamic lists with RecyclerView][1]*:\r\n\r\nWhen we create a `RecyclerView.Adapter` we have to specify `ViewHolder` that will bind with the adapter.\r\n\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\r\n\r\n        private String[] mDataset;\r\n\r\n        public MyAdapter(String[] myDataset) {\r\n            mDataset = myDataset;\r\n        }\r\n\r\n        public static class ViewHolder extends RecyclerView.ViewHolder {\r\n            public TextView mTextView;\r\n            public ViewHolder(TextView v) {\r\n                super(v);\r\n                mTextView = v;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.some_layout, parent, false);\r\n\r\n            //findViewById...\r\n\r\n            ViewHolder vh = new ViewHolder(v);\r\n            return vh;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            holder.mTextView.setText(mDataset[position]);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return mDataset.length;\r\n        }\r\n    }\r\n\r\nIs it possible to create `RecyclerView` with multiple view types?\r\n\r\n  [1]: https://developer.android.com/preview/material/ui-widgets.html\r\n\r\n\r\n","title":"How to create RecyclerView with multiple view types","body":"<p>From <em><a href=\"https://developer.android.com/preview/material/ui-widgets.html\" rel=\"noreferrer\">Create dynamic lists with RecyclerView</a></em>:</p>\n<p>When we create a <code>RecyclerView.Adapter</code> we have to specify <code>ViewHolder</code> that will bind with the adapter.</p>\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n\n    private String[] mDataset;\n\n    public MyAdapter(String[] myDataset) {\n        mDataset = myDataset;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView mTextView;\n        public ViewHolder(TextView v) {\n            super(v);\n            mTextView = v;\n        }\n    }\n\n    @Override\n    public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.some_layout, parent, false);\n\n        //findViewById...\n\n        ViewHolder vh = new ViewHolder(v);\n        return vh;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        holder.mTextView.setText(mDataset[position]);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mDataset.length;\n    }\n}\n</code></pre>\n<p>Is it possible to create <code>RecyclerView</code> with multiple view types?</p>\n"},{"tags":["java","android","kotlin","mobile"],"owner":{"account_id":11651547,"reputation":1,"user_id":19631906,"display_name":"ytuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673365501,"creation_date":1673365198,"question_id":75072348,"body_markdown":"I have such a piece of code\r\n\r\n\r\n    private fun snnFormatValidation() {\r\n        binding.snnText.addTextChangedListener(object : TextWatcher {\r\n            private var spaceDeleted = false\r\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\r\n                //in-progress\r\n            }\r\n\r\n            override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\r\n                val charDeleted = s.subSequence(start, start + count)\r\n                spaceDeleted = &quot; &quot; == charDeleted.toString()\r\n            }\r\n\r\n            override fun afterTextChanged(editable: Editable) {\r\n                binding.snnText.removeTextChangedListener(this)\r\n                val cursorPosition: Int = binding.snnText.selectionStart\r\n                val withSpaces = formatText(editable)\r\n                binding.snnText.setText(withSpaces)\r\n                binding.snnText.setSelection(cursorPosition + (withSpaces.length - editable.length))\r\n                if (spaceDeleted) {\r\n                    binding.snnText.setSelection(binding.snnText.selectionStart - 1)\r\n                    spaceDeleted = false\r\n                }\r\n                binding.snnText.addTextChangedListener(this)\r\n            }\r\n\r\n            private fun formatText(text: CharSequence): String {\r\n                val formatted = StringBuilder()\r\n                var count = 0\r\n                for (i in text.indices) {\r\n                    if (Character.isDigit(text[i])) {\r\n                        if (count % 4 == 0 &amp;&amp; count &gt; 0) formatted.append(&quot;-&quot;)\r\n                        formatted.append(text[i])\r\n                        ++count\r\n                    }\r\n                }\r\n                return formatted.toString()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nBut when I enter 5 characters, I catch the following error\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.siolla.app, PID: 28136\r\n    java.lang.IndexOutOfBoundsException: setSpan (7 ... 7) ends beyond length 6\r\n        at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1326)\r\n        at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:685)\r\n        at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:677)\r\n        at androidx.emoji2.text.SpannableBuilder.setSpan(SpannableBuilder.java:140)\r\n        at android.text.Selection.setSelection(Selection.java:94)\r\n        at android.text.Selection.setSelection(Selection.java:78)\r\n        at android.text.Selection.setSelection(Selection.java:153)\r\n        at android.widget.EditText.setSelection(EditText.java:136)\r\n        at com.siolla.application.ui.snn.SnnFragment$snnFormatValidation$1.afterTextChanged(SnnFragment.kt:76)\r\n\r\n\r\nCan anyone explain or show me what I&#39;m doing wrong?","title":"Android: EditText SNN form validation","body":"<p>I have such a piece of code</p>\n<pre><code>private fun snnFormatValidation() {\n    binding.snnText.addTextChangedListener(object : TextWatcher {\n        private var spaceDeleted = false\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n            //in-progress\n        }\n\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\n            val charDeleted = s.subSequence(start, start + count)\n            spaceDeleted = &quot; &quot; == charDeleted.toString()\n        }\n\n        override fun afterTextChanged(editable: Editable) {\n            binding.snnText.removeTextChangedListener(this)\n            val cursorPosition: Int = binding.snnText.selectionStart\n            val withSpaces = formatText(editable)\n            binding.snnText.setText(withSpaces)\n            binding.snnText.setSelection(cursorPosition + (withSpaces.length - editable.length))\n            if (spaceDeleted) {\n                binding.snnText.setSelection(binding.snnText.selectionStart - 1)\n                spaceDeleted = false\n            }\n            binding.snnText.addTextChangedListener(this)\n        }\n\n        private fun formatText(text: CharSequence): String {\n            val formatted = StringBuilder()\n            var count = 0\n            for (i in text.indices) {\n                if (Character.isDigit(text[i])) {\n                    if (count % 4 == 0 &amp;&amp; count &gt; 0) formatted.append(&quot;-&quot;)\n                    formatted.append(text[i])\n                    ++count\n                }\n            }\n            return formatted.toString()\n        }\n    })\n}\n</code></pre>\n<p>But when I enter 5 characters, I catch the following error</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.siolla.app, PID: 28136\njava.lang.IndexOutOfBoundsException: setSpan (7 ... 7) ends beyond length 6\nat android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1326)\nat android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:685)\nat android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:677)\nat androidx.emoji2.text.SpannableBuilder.setSpan(SpannableBuilder.java:140)\nat android.text.Selection.setSelection(Selection.java:94)\nat android.text.Selection.setSelection(Selection.java:78)\nat android.text.Selection.setSelection(Selection.java:153)\nat android.widget.EditText.setSelection(EditText.java:136)\nat com.siolla.application.ui.snn.SnnFragment$snnFormatValidation$1.afterTextChanged(SnnFragment.kt:76)</p>\n<p>Can anyone explain or show me what I'm doing wrong?</p>\n"},{"tags":["java","spring","google-cloud-platform","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":5939721,"reputation":568,"user_id":4671437,"display_name":"Stan Ostrovskii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673365377,"creation_date":1673077332,"answer_id":75038811,"question_id":75038694,"body_markdown":"Well, that did not take me long to figure out. I was able to make it work as follows:\r\n\r\n    @GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName, @RequestParam String bucketName, @RequestParam String projectName) {\r\n        Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n\t\tBlob blob = storage.get(bucketName, fileName);\r\n\t\tReadChannel readChannel = blob.reader();\r\n\t\ttry {\r\n\t\t\tString contentType = Files.probeContentType(Paths.get(fileName));\r\n\r\n\t\t\tInputStream inputStream = Channels.newInputStream(readChannel);\r\n\t\t\treturn ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\r\n\t\t\t\t\t.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\r\n\t\t\t\t\t.body(new InputStreamResource(inputStream));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn ResponseEntity.internalServerError().body(null);\r\n\t\t}\r\n\t}\r\n\r\nBasically redirect the InputStream to the readChannel instead of the file.","title":"Return file from Google Cloud Storage through REST API without downloading locally first","body":"<p>Well, that did not take me long to figure out. I was able to make it work as follows:</p>\n<pre><code>@GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName, @RequestParam String bucketName, @RequestParam String projectName) {\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n    Blob blob = storage.get(bucketName, fileName);\n    ReadChannel readChannel = blob.reader();\n    try {\n        String contentType = Files.probeContentType(Paths.get(fileName));\n\n        InputStream inputStream = Channels.newInputStream(readChannel);\n        return ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\n                .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\n                .body(new InputStreamResource(inputStream));\n    } catch (IOException e) {\n        e.printStackTrace();\n        return ResponseEntity.internalServerError().body(null);\n    }\n}\n</code></pre>\n<p>Basically redirect the InputStream to the readChannel instead of the file.</p>\n"}],"owner":{"account_id":5939721,"reputation":568,"user_id":4671437,"display_name":"Stan Ostrovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75038811,"answer_count":1,"score":3,"last_activity_date":1673365377,"creation_date":1673075754,"question_id":75038694,"body_markdown":"We would like to have a Java REST API to return files from Google Cloud Storage as attachment. I was able to able to get it to work using the following method. The problem is that the file has to be downloaded locally to the service container (we are deploying on Google Cloud Run) and this is a problem in the case of very large files, and may generally be bad practice. Is there a way to modify this code somehow to skip the creation of a local file? \r\n\r\n\t@GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName,\r\n\t\t\t@RequestParam String bucketName, @RequestParam String projectName) {\r\n\t\tStorage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n\t\tBlob blob = storage.get(bucketName, fileName);\r\n\t\tReadChannel readChannel = blob.reader();\r\n\t\tString outputFileName = tempFileDestination.concat(&quot;\\\\&quot;).concat(fileName);\r\n\t\ttry (FileOutputStream fileOutputStream = new FileOutputStream(outputFileName)) {\r\n\t\t\tfileOutputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\r\n\t\t\tString contentType = Files.probeContentType(Paths.get(outputFileName));\r\n\r\n\t\t\tFileInputStream fileInputStream = new FileInputStream(outputFileName);\r\n\t\t\treturn ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\r\n\t\t\t\t\t.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\r\n\t\t\t\t\t.body(new InputStreamResource(fileInputStream));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn ResponseEntity.internalServerError().body(null);\r\n\t\t} finally {\r\n\t\t\t// delete the local file as cleanup\r\n\t\t\ttry {\r\n\t\t\t\tFiles.delete(Paths.get(outputFileName));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Return file from Google Cloud Storage through REST API without downloading locally first","body":"<p>We would like to have a Java REST API to return files from Google Cloud Storage as attachment. I was able to able to get it to work using the following method. The problem is that the file has to be downloaded locally to the service container (we are deploying on Google Cloud Run) and this is a problem in the case of very large files, and may generally be bad practice. Is there a way to modify this code somehow to skip the creation of a local file?</p>\n<pre><code>@GetMapping(path = &quot;/file&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic ResponseEntity&lt;InputStreamResource&gt; getSpecificFile(@RequestParam String fileName,\n        @RequestParam String bucketName, @RequestParam String projectName) {\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n    Blob blob = storage.get(bucketName, fileName);\n    ReadChannel readChannel = blob.reader();\n    String outputFileName = tempFileDestination.concat(&quot;\\\\&quot;).concat(fileName);\n    try (FileOutputStream fileOutputStream = new FileOutputStream(outputFileName)) {\n        fileOutputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\n        String contentType = Files.probeContentType(Paths.get(outputFileName));\n\n        FileInputStream fileInputStream = new FileInputStream(outputFileName);\n        return ResponseEntity.ok().contentType(MediaType.valueOf(contentType))\n                .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName)\n                .body(new InputStreamResource(fileInputStream));\n    } catch (IOException e) {\n        e.printStackTrace();\n        return ResponseEntity.internalServerError().body(null);\n    } finally {\n        // delete the local file as cleanup\n        try {\n            Files.delete(Paths.get(outputFileName));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","intellij-idea"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1673364964,"post_id":75072203,"comment_id":132479409,"body_markdown":"I connect to both oracle and postgresql constantly using IDEA&#39;s Database tool. Are you able to click &quot;Test Connection&quot; and get a &quot;Succeeded&quot; message when you look at your database connection properties?","body":"I connect to both oracle and postgresql constantly using IDEA&#39;s Database tool. Are you able to click &quot;Test Connection&quot; and get a &quot;Succeeded&quot; message when you look at your database connection properties?"},{"owner":{"account_id":25289559,"reputation":13,"user_id":19115926,"display_name":"cookerfresh"},"score":0,"creation_date":1673365362,"post_id":75072203,"comment_id":132479590,"body_markdown":"yes, it is connecting well from IDEA&#39;s database tool, it fails only while application is running","body":"yes, it is connecting well from IDEA&#39;s database tool, it fails only while application is running"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1673365846,"post_id":75072203,"comment_id":132479804,"body_markdown":"Is that the entirety of the error message? I would think there is another section with better details.  Look in the db servers log file to see what it reports.","body":"Is that the entirety of the error message? I would think there is another section with better details.  Look in the db servers log file to see what it reports."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673365855,"post_id":75072203,"comment_id":132479807,"body_markdown":"@cookerfresh , `ERROR: Auth failed`, check connection user name and password.","body":"@cookerfresh , <code>ERROR: Auth failed</code>, check connection user name and password."},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1673367483,"post_id":75072203,"comment_id":132480481,"body_markdown":"When I change my `HikariDataSource` config username and/or pass, I don&#39;t get that `Auth failed` error. I get errors indicating a bad username or pass. I wonder what triggers that `Auth failed` message in particular.","body":"When I change my <code>HikariDataSource</code> config username and/or pass, I don&#39;t get that <code>Auth failed</code> error. I get errors indicating a bad username or pass. I wonder what triggers that <code>Auth failed</code> message in particular."}],"owner":{"account_id":25289559,"reputation":13,"user_id":19115926,"display_name":"cookerfresh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673364539,"creation_date":1673364539,"question_id":75072203,"body_markdown":"I cannot connect to postgresql from intellij idea while running app. It failes to connect to all kinds of datababes - to local db, remote dbs and so on. But it can easily connect these dbs using dbeaver and the app works perfectly on server. Also, the connection is okay if I use another machine for this. Do anyone know, how to fix it? Here is the stacktrace from intellij:\r\n\r\n\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: Auth failed\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:659) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.8.0.jar:na]\r\n```\r\n\r\n\r\nI tried everything but nothing helped","title":"Intellij Idea always fails postgresql connection","body":"<p>I cannot connect to postgresql from intellij idea while running app. It failes to connect to all kinds of datababes - to local db, remote dbs and so on. But it can easily connect these dbs using dbeaver and the app works perfectly on server. Also, the connection is okay if I use another machine for this. Do anyone know, how to fix it? Here is the stacktrace from intellij:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: Auth failed\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:659) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.8.0.jar:na]\n</code></pre>\n<p>I tried everything but nothing helped</p>\n"},{"tags":["java","sockets","multiprocessing","udp","robotics"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673369405,"post_id":75072163,"comment_id":132481195,"body_markdown":"&quot;Blocking&quot; is not the same as &quot;synchronized&quot;. &quot;Blocking&quot; means that the current thread has to wait, but all other threads are still running. It is therefore unclear where your problem is.","body":"&quot;Blocking&quot; is not the same as &quot;synchronized&quot;. &quot;Blocking&quot; means that the current thread has to wait, but all other threads are still running. It is therefore unclear where your problem is."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1673448468,"post_id":75072163,"comment_id":132501829,"body_markdown":"It is not &quot;because ReceiveUDP is a blocking method&quot;","body":"It is not &quot;because ReceiveUDP is a blocking method&quot;"}],"owner":{"account_id":27451171,"reputation":1,"user_id":20943398,"display_name":"Glen Vdb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673364406,"creation_date":1673364406,"question_id":75072163,"body_markdown":"I&#39;m writing a program that enables UDP communication between a KUKA robot (programmed in java) and a python server running on a PC. The program on the robot needs to run multiple methods concurrently because it needs to listen/receive messages on 3 sockets simultaneously (they all need to be listening for messages at all times).\r\n\r\nI first tried this using multi-threading. My main class is DP_UDP_COMM which start running when the robot is started. When starting some initialization between the robot and python server is done to set up the socket connection, after that the communication processes need to be started. An example of 1 of these &#39;communication&#39; threads is shown below as Thread UDP_COMM:\r\n\r\n```\r\n//DP_UDP_COMM class is the main class that gets started when the robot starts\r\npublic class DP_UDP_COMM extends RoboticsAPITask {\r\n\r\n//Some code here\r\n\r\n    //One of the communication processes that needs to run while the DP_UDP_COMM instance is active\r\n    public Thread UDP_COMM = new Thread(new Runnable(){\r\n  \t\tpublic void run(){\r\n  \t    \twhile(running){\r\n  \t\t    \t _log.info(&quot;Thread Started, Waiting for Action&quot;);\r\n   \t\t\r\n  \t    \t\ttry {\r\n  \t    \t\t\tReceiveUDP();\r\n\t  \t  \t\t\t_log.info(&quot;Buffer received is: &quot;+String.valueOf(receive));\r\n\t  \t\t\t\t_log.info(&quot;Type received is: &quot;+String.valueOf(ByteProcess.getType(receive)));\r\n  \t    \t\t\tif(status==0)\r\n  \t    \t\t\t\tprocessPacket(receive);\r\n  \t\t\t\t} catch (Exception e) {\r\n  \t\t\t\t\t// TODO Auto-generated catch block\r\n  \t\t\t\t\tsend = createPacketResponse(&quot;ERROR: &quot;+e.getMessage());\r\n  \t\t\t\t\ttry {\r\n  \t\t\t\t\t\tSendUDP(send);\r\n  \t\t\t\t\t} catch (Exception e1) {\r\n  \t\t\t\t\t\t// TODO Auto-generated catch block\r\n  \t\t\t\t\t\te1.printStackTrace();\t\t\t\t\t}\r\n  \t\t\t\t\te.printStackTrace();\r\n  \t\t\t\t}\t       \t    \t\t\r\n  \t    \t}\r\n  \t\t}\r\n  \t});\r\n\r\n    UDP_COMM.start();   \r\n\r\n//Some code and other methods here\r\n\r\n} \r\n```\r\nThis thread tries to receive a UDP message from a socket using ReceiveUDP(). This is a blocking method so it keeps waiting here untill it receives a message. This message is then processed using processPacket(), which is a method that sends a command to the robot determined by the message that was received. After sending the command it starts listening again for new messages. This loops indefinitely when the robot is active.\r\n\r\nThe other threads are very similar but use slightly different methods which are bound to different sockets.(For example ReceiveUDPEmergency() which is the same as ReceiveUDP() but with a different socket)\r\n\r\nThis is working well with one thread, but when running 3 threads concurrently it doesn&#39;t work anymore because the threads will wait for each other to complete before looping because ReceiveUDP() is a blocking method.\r\n\r\nThe solution for this (I think) is to use multi-processing instead of multi-threading because this truly runs them in parallel instead of sequentially. \r\nHowever when looking at the java.lang.Process documentation I really don&#39;t get how creating a process works. In every example they create/start a process from an external .exe file or something like that. \r\n\r\nIs it possible to create multiple processes that run multiple methods in parallel within my DP_UDP_COMM instance? How would I do this?\r\n\r\n\r\n//What have I tried:\r\nAs explained above I tried multi-threading at first. But this isn&#39;t good enough. \r\n\r\nWith multi-processing it is not clear how to start a process which just runs a method in parallel to the main instance.","title":"Java - How to create a subprocess in a class that is running a method","body":"<p>I'm writing a program that enables UDP communication between a KUKA robot (programmed in java) and a python server running on a PC. The program on the robot needs to run multiple methods concurrently because it needs to listen/receive messages on 3 sockets simultaneously (they all need to be listening for messages at all times).</p>\n<p>I first tried this using multi-threading. My main class is DP_UDP_COMM which start running when the robot is started. When starting some initialization between the robot and python server is done to set up the socket connection, after that the communication processes need to be started. An example of 1 of these 'communication' threads is shown below as Thread UDP_COMM:</p>\n<pre><code>//DP_UDP_COMM class is the main class that gets started when the robot starts\npublic class DP_UDP_COMM extends RoboticsAPITask {\n\n//Some code here\n\n    //One of the communication processes that needs to run while the DP_UDP_COMM instance is active\n    public Thread UDP_COMM = new Thread(new Runnable(){\n        public void run(){\n            while(running){\n                 _log.info(&quot;Thread Started, Waiting for Action&quot;);\n        \n                try {\n                    ReceiveUDP();\n                    _log.info(&quot;Buffer received is: &quot;+String.valueOf(receive));\n                    _log.info(&quot;Type received is: &quot;+String.valueOf(ByteProcess.getType(receive)));\n                    if(status==0)\n                        processPacket(receive);\n                } catch (Exception e) {\n                    // TODO Auto-generated catch block\n                    send = createPacketResponse(&quot;ERROR: &quot;+e.getMessage());\n                    try {\n                        SendUDP(send);\n                    } catch (Exception e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();                   }\n                    e.printStackTrace();\n                }                       \n            }\n        }\n    });\n\n    UDP_COMM.start();   \n\n//Some code and other methods here\n\n} \n</code></pre>\n<p>This thread tries to receive a UDP message from a socket using ReceiveUDP(). This is a blocking method so it keeps waiting here untill it receives a message. This message is then processed using processPacket(), which is a method that sends a command to the robot determined by the message that was received. After sending the command it starts listening again for new messages. This loops indefinitely when the robot is active.</p>\n<p>The other threads are very similar but use slightly different methods which are bound to different sockets.(For example ReceiveUDPEmergency() which is the same as ReceiveUDP() but with a different socket)</p>\n<p>This is working well with one thread, but when running 3 threads concurrently it doesn't work anymore because the threads will wait for each other to complete before looping because ReceiveUDP() is a blocking method.</p>\n<p>The solution for this (I think) is to use multi-processing instead of multi-threading because this truly runs them in parallel instead of sequentially.\nHowever when looking at the java.lang.Process documentation I really don't get how creating a process works. In every example they create/start a process from an external .exe file or something like that.</p>\n<p>Is it possible to create multiple processes that run multiple methods in parallel within my DP_UDP_COMM instance? How would I do this?</p>\n<p>//What have I tried:\nAs explained above I tried multi-threading at first. But this isn't good enough.</p>\n<p>With multi-processing it is not clear how to start a process which just runs a method in parallel to the main instance.</p>\n"},{"tags":["java","asynchronous","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673364094,"creation_date":1673362350,"answer_id":75071744,"question_id":75071304,"body_markdown":"There is no blocking code in your snippet.\r\n\r\nIn first example you use `.delayElements()` and it switches the executing to another thread and releases your main thread. So you can see your `System.out.println(&quot;after&quot;);` executing in Main thread immediately, whilst the reactive chain is being executed on `parallel-n` threads.\r\n\r\nYour first example:\r\n\r\n    18:49:29.195 [main] INFO com.example.demo.FluxTest - AFTER\r\n    18:49:29.199 [parallel-1] INFO com.example.demo.FluxTest - v: 2\r\n    18:49:29.201 [parallel-2] INFO com.example.demo.FluxTest - v: 3\r\n    18:49:29.202 [parallel-3] INFO com.example.demo.FluxTest - v: 4\r\n    18:49:29.203 [parallel-4] INFO com.example.demo.FluxTest - v: 5\r\n    18:49:29.205 [parallel-5] INFO com.example.demo.FluxTest - v: 6\r\n\r\nBut your second example does not switch the executing thread, so your reactive chain executes on Main thread. And after it completes it continues to execute your `System.out.println(&quot;after&quot;);`\r\n\r\n    18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 995\r\n    18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 996\r\n    18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 997\r\n    18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 998\r\n    18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 999\r\n    18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 1000\r\n    18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 1001\r\n    18:51:28.491 [main] INFO com.example.demo.FluxTest - AFTER\r\n\r\n**EDIT:**\r\nIf you want to switch the thread in your second snippet, basically you have two options:\r\n\r\n1) Add `subscribeOn(&lt;Scheduler&gt;)` in any place of your reactive chain. Then the whole subscription process will happen on a thread from scheduler you provided.\r\n\r\n2) Add `publishOn(&lt;Scheduler&gt;)`, for example, after `Flux.range()`, then the emitting itself will happen on your calling thread, but the downstream will be executed on a thread from the scheduler you provided","title":"Java reactor `suscribe` is sometime blocking, sometime not","body":"<p>There is no blocking code in your snippet.</p>\n<p>In first example you use <code>.delayElements()</code> and it switches the executing to another thread and releases your main thread. So you can see your <code>System.out.println(&quot;after&quot;);</code> executing in Main thread immediately, whilst the reactive chain is being executed on <code>parallel-n</code> threads.</p>\n<p>Your first example:</p>\n<pre><code>18:49:29.195 [main] INFO com.example.demo.FluxTest - AFTER\n18:49:29.199 [parallel-1] INFO com.example.demo.FluxTest - v: 2\n18:49:29.201 [parallel-2] INFO com.example.demo.FluxTest - v: 3\n18:49:29.202 [parallel-3] INFO com.example.demo.FluxTest - v: 4\n18:49:29.203 [parallel-4] INFO com.example.demo.FluxTest - v: 5\n18:49:29.205 [parallel-5] INFO com.example.demo.FluxTest - v: 6\n</code></pre>\n<p>But your second example does not switch the executing thread, so your reactive chain executes on Main thread. And after it completes it continues to execute your <code>System.out.println(&quot;after&quot;);</code></p>\n<pre><code>18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 995\n18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 996\n18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 997\n18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 998\n18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 999\n18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 1000\n18:51:28.490 [main] INFO com.example.demo.FluxTest - v: 1001\n18:51:28.491 [main] INFO com.example.demo.FluxTest - AFTER\n</code></pre>\n<p><strong>EDIT:</strong>\nIf you want to switch the thread in your second snippet, basically you have two options:</p>\n<ol>\n<li><p>Add <code>subscribeOn(&lt;Scheduler&gt;)</code> in any place of your reactive chain. Then the whole subscription process will happen on a thread from scheduler you provided.</p>\n</li>\n<li><p>Add <code>publishOn(&lt;Scheduler&gt;)</code>, for example, after <code>Flux.range()</code>, then the emitting itself will happen on your calling thread, but the downstream will be executed on a thread from the scheduler you provided</p>\n</li>\n</ol>\n"}],"owner":{"account_id":11866278,"reputation":309,"user_id":8683748,"display_name":"vandaele mathias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75071744,"answer_count":1,"score":2,"last_activity_date":1673364094,"creation_date":1673360383,"question_id":75071304,"body_markdown":"I have been playing around for some time with reactor, but I still need to get something.\r\n\r\nThis piece of code\r\n\r\n```java\r\n    Flux.range(1, 1000)\r\n        .delayElements(Duration.ofNanos(1))\r\n        .map(integer -&gt; integer + 1)\r\n        .subscribe(System.out::println);\r\n    System.out.println(&quot;after&quot;);\r\n```\r\n\r\nReturns:\r\n\r\n```bash\r\nafter\r\n2\r\n3\r\n4\r\n```\r\n\r\nwhich is expected as the documentation of subscribe states: `this will immediately return control to the calling thread.`\r\n\r\nWhy, then, this piece of code:\r\n\r\n```java\r\n    Flux.range(1, 1000)\r\n        .map(integer -&gt; integer + 1)\r\n        .subscribe(System.out::println);\r\n```\r\n\r\nreturns\r\n\r\n```bash\r\n1\r\n2\r\n...\r\n1000\r\n1001\r\nafter\r\n```\r\n\r\nI can never figure out when `subscribe` will block or not, and that&#39;s very annoying when writing batches.\r\n\r\nIf anyone has the answer, that would be amazing","title":"Java reactor `suscribe` is sometime blocking, sometime not","body":"<p>I have been playing around for some time with reactor, but I still need to get something.</p>\n<p>This piece of code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Flux.range(1, 1000)\n        .delayElements(Duration.ofNanos(1))\n        .map(integer -&gt; integer + 1)\n        .subscribe(System.out::println);\n    System.out.println(&quot;after&quot;);\n</code></pre>\n<p>Returns:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>after\n2\n3\n4\n</code></pre>\n<p>which is expected as the documentation of subscribe states: <code>this will immediately return control to the calling thread.</code></p>\n<p>Why, then, this piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Flux.range(1, 1000)\n        .map(integer -&gt; integer + 1)\n        .subscribe(System.out::println);\n</code></pre>\n<p>returns</p>\n<pre class=\"lang-bash prettyprint-override\"><code>1\n2\n...\n1000\n1001\nafter\n</code></pre>\n<p>I can never figure out when <code>subscribe</code> will block or not, and that's very annoying when writing batches.</p>\n<p>If anyone has the answer, that would be amazing</p>\n"},{"tags":["java","spring","hibernate","jpa","bidirectional-relation"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673301458,"post_id":75060612,"comment_id":132464366,"body_markdown":"Your model doesn&#39;t make sense: you have a singular &quot;choices&#39; attribute in mapped as a ManyToOne - so many customers use a single &#39;email&#39; choices instance, but how then can that single email choices instance reference a single customer?  Try looking at how you might store the data in tables - that might help you map out entities in a way that might better fit your application use cases.","body":"Your model doesn&#39;t make sense: you have a singular &quot;choices&#39; attribute in mapped as a ManyToOne - so many customers use a single &#39;email&#39; choices instance, but how then can that single email choices instance reference a single customer?  Try looking at how you might store the data in tables - that might help you map out entities in a way that might better fit your application use cases."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673363974,"creation_date":1673302073,"answer_id":75063454,"question_id":75060612,"body_markdown":"Did you mean a model more like:\r\n\r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Email(message=&quot;this field must respect the email format !&quot;)\r\n        private String email;\r\n        \r\n        @ElementCollection\r\n        @CollectionTable(name=&quot;Choices&quot;)\r\n        @MapKeyColumn(name=&quot;CHOICE&quot;) //an &quot;EMAIL&quot; or &quot;MAIL&quot; string. You can use an enum instead if you want, but I wouldn&#39;t for upgrade reasons.\r\n        @Column(name=&quot;enabled&quot;)\r\n        private Map&lt;String, Boolean&gt; choices;\r\n    \r\n    }\r\n\r\nThis will give you a Map of choices, resulting in JSON more like:\r\n\r\n    {\r\n      &quot;id&quot;: &quot;24587&quot;,\r\n      &quot;email&quot;: &quot;tartampion&quot;,\r\n      &quot;choices&quot;: {\r\n          &quot;MAIL&quot;: false,\r\n          &quot;EMAIL&quot;: true\r\n        }\r\n    }\r\n\r\nIt should be much more expandable if you get other options and combinations in the future. \r\n\r\nSimilarly, you can use the same table structure with &quot;Choices&quot; as an entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Email(message=&quot;this field must respect the email format !&quot;)\r\n        private String email;\r\n    \r\n        @OneToMany(mappedBy = &quot;customer&quot;)\r\n        @MapKey(name=&quot;type&quot;) //don&#39;t need this if you want just a list\r\n        private Map&lt;String, Choice&gt; choices;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;choices&quot;)\r\n    public class Choice {\r\n        @Id\r\n        @OneToOne\r\n        private Customer customer;\r\n    \r\n        @Id\r\n        @Enumerated(EnumType.STRING)\r\n        private ChoiceType type;\r\n    \r\n        @Column(name=&quot;enabled&quot;)\r\n        private boolean enabled;\r\n    }\r\n    \r\n    @IdClass(EmployeeId.class)\r\n    public class ChoiceId implements Serializable {\r\n      private Integer customer;\r\n      private ChoiceType type;\r\n    }\r\n    \r\n    public enum ChoiceType {\r\n        MAIL, \r\n        EMAIL;             \r\n    }","title":"Problem to implement bidirectional relationship in hibernate with my spring boot api","body":"<p>Did you mean a model more like:</p>\n<pre><code>@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Email(message=&quot;this field must respect the email format !&quot;)\n    private String email;\n    \n    @ElementCollection\n    @CollectionTable(name=&quot;Choices&quot;)\n    @MapKeyColumn(name=&quot;CHOICE&quot;) //an &quot;EMAIL&quot; or &quot;MAIL&quot; string. You can use an enum instead if you want, but I wouldn't for upgrade reasons.\n    @Column(name=&quot;enabled&quot;)\n    private Map&lt;String, Boolean&gt; choices;\n\n}\n</code></pre>\n<p>This will give you a Map of choices, resulting in JSON more like:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;24587&quot;,\n  &quot;email&quot;: &quot;tartampion&quot;,\n  &quot;choices&quot;: {\n      &quot;MAIL&quot;: false,\n      &quot;EMAIL&quot;: true\n    }\n}\n</code></pre>\n<p>It should be much more expandable if you get other options and combinations in the future.</p>\n<p>Similarly, you can use the same table structure with &quot;Choices&quot; as an entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Email(message=&quot;this field must respect the email format !&quot;)\n    private String email;\n\n    @OneToMany(mappedBy = &quot;customer&quot;)\n    @MapKey(name=&quot;type&quot;) //don't need this if you want just a list\n    private Map&lt;String, Choice&gt; choices;\n}\n\n@Entity\n@Table(name = &quot;choices&quot;)\npublic class Choice {\n    @Id\n    @OneToOne\n    private Customer customer;\n\n    @Id\n    @Enumerated(EnumType.STRING)\n    private ChoiceType type;\n\n    @Column(name=&quot;enabled&quot;)\n    private boolean enabled;\n}\n\n@IdClass(EmployeeId.class)\npublic class ChoiceId implements Serializable {\n  private Integer customer;\n  private ChoiceType type;\n}\n\npublic enum ChoiceType {\n    MAIL, \n    EMAIL;             \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27487494,"reputation":11,"user_id":20973483,"display_name":"Umesh Maurya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673349699,"creation_date":1673349699,"answer_id":75069228,"question_id":75060612,"body_markdown":"Here you have to use Many to Many Mapping.\r\nBecause one customer can have many choices and one choice can be opted by many customers.\r\n\r\n    package com.umesh.entity;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonManagedReference;\r\n    import org.hibernate.annotations.LazyCollection;\r\n    import org.hibernate.annotations.LazyCollectionOption;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private int id;\r\n    \r\n        @Column(name=&quot;email&quot;)\r\n        private String email;\r\n    \r\n        @ManyToMany(fetch=FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH })\r\n        @JoinTable(\r\n                name=&quot;customer_choice&quot;,\r\n                joinColumns=@JoinColumn(name=&quot;customer_id&quot;),\r\n                inverseJoinColumns=@JoinColumn(name=&quot;choice_id&quot;)\r\n        )\r\n        @LazyCollection(LazyCollectionOption.FALSE)\r\n        private List&lt;Choice&gt; choices;\r\n    \r\n        public void Customer(){}\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public List&lt;Choice&gt; getChoices() {\r\n            return choices;\r\n        }\r\n    \r\n        public void setChoices(List&lt;Choice&gt; choices) {\r\n            this.choices = choices;\r\n        }\r\n    \r\n        public void addChoices(Choice choice){\r\n            if(choices == null){\r\n                choices = new ArrayList&lt;&gt;();\r\n                choices.add(choice);\r\n            }\r\n            choices.add(choice);\r\n        }\r\n    }\r\n\r\n    package com.umesh.entity;\r\n    import org.hibernate.annotations.LazyCollection;\r\n    import org.hibernate.annotations.LazyCollectionOption;\r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    @Entity\r\n    @Table(name=&quot;choice&quot;)\r\n    public class Choice {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private int id;\r\n    \r\n        @Column(name=&quot;choice&quot;)\r\n        private String choice;\r\n    \r\n        @ManyToMany(fetch=FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH })\r\n        @JoinTable(\r\n                name=&quot;customer_choice&quot;,\r\n                joinColumns=@JoinColumn(name=&quot;choice_id&quot;),\r\n                inverseJoinColumns=@JoinColumn(name=&quot;customer_id&quot;)\r\n        )\r\n        @LazyCollection(LazyCollectionOption.FALSE)\r\n        private List&lt;Customer&gt; customers;\r\n    \r\n        public void Choics(){}\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getChoice() {\r\n            return choice;\r\n        }\r\n    \r\n        public void setChoice(String choice) {\r\n            this.choice = choice;\r\n        }\r\n    \r\n        public List&lt;Customer&gt; getCustomers() {\r\n            return customers;\r\n        }\r\n    \r\n        public void setCustomers(List&lt;Customer&gt; customers) {\r\n            this.customers = customers;\r\n        }\r\n    \r\n        public void addCustomers(Customer customer){\r\n            if(customers == null){\r\n                customers = new ArrayList&lt;&gt;();\r\n                customers.add(customer);\r\n            }\r\n            customers.add(customer);\r\n        }\r\n    }","title":"Problem to implement bidirectional relationship in hibernate with my spring boot api","body":"<p>Here you have to use Many to Many Mapping.\nBecause one customer can have many choices and one choice can be opted by many customers.</p>\n<pre><code>package com.umesh.entity;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\nimport org.hibernate.annotations.LazyCollection;\nimport org.hibernate.annotations.LazyCollectionOption;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@Table(name=&quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @ManyToMany(fetch=FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH })\n    @JoinTable(\n            name=&quot;customer_choice&quot;,\n            joinColumns=@JoinColumn(name=&quot;customer_id&quot;),\n            inverseJoinColumns=@JoinColumn(name=&quot;choice_id&quot;)\n    )\n    @LazyCollection(LazyCollectionOption.FALSE)\n    private List&lt;Choice&gt; choices;\n\n    public void Customer(){}\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public List&lt;Choice&gt; getChoices() {\n        return choices;\n    }\n\n    public void setChoices(List&lt;Choice&gt; choices) {\n        this.choices = choices;\n    }\n\n    public void addChoices(Choice choice){\n        if(choices == null){\n            choices = new ArrayList&lt;&gt;();\n            choices.add(choice);\n        }\n        choices.add(choice);\n    }\n}\n\npackage com.umesh.entity;\nimport org.hibernate.annotations.LazyCollection;\nimport org.hibernate.annotations.LazyCollectionOption;\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n@Entity\n@Table(name=&quot;choice&quot;)\npublic class Choice {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n\n    @Column(name=&quot;choice&quot;)\n    private String choice;\n\n    @ManyToMany(fetch=FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH })\n    @JoinTable(\n            name=&quot;customer_choice&quot;,\n            joinColumns=@JoinColumn(name=&quot;choice_id&quot;),\n            inverseJoinColumns=@JoinColumn(name=&quot;customer_id&quot;)\n    )\n    @LazyCollection(LazyCollectionOption.FALSE)\n    private List&lt;Customer&gt; customers;\n\n    public void Choics(){}\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getChoice() {\n        return choice;\n    }\n\n    public void setChoice(String choice) {\n        this.choice = choice;\n    }\n\n    public List&lt;Customer&gt; getCustomers() {\n        return customers;\n    }\n\n    public void setCustomers(List&lt;Customer&gt; customers) {\n        this.customers = customers;\n    }\n\n    public void addCustomers(Customer customer){\n        if(customers == null){\n            customers = new ArrayList&lt;&gt;();\n            customers.add(customer);\n        }\n        customers.add(customer);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673363974,"creation_date":1673283649,"question_id":75060612,"body_markdown":"I want to create a spring boot rest controller with this specification : \r\n\r\nCustomers of an electricity and gas supply company can choose to receive their monthly bills either by email or by regular mail, neither or both. \r\n\r\nMy goal is to create java hibernate entities to manage these customers and their choices of sending bills.\r\n\r\nA utility customer is identified by their email and can have multiple choice change events that change the customer choice status. \r\n\r\nEach choice made by a customer generates a choice change event. \r\n\r\nA choice change event relates to a customer. A customer can have multiple choice events.\r\n\r\nHere are my java entities. \r\n\r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n    \t@Email(message=&quot;this field must respect the email format !&quot;)\r\n        private String email;\r\n        \r\n    \t@ManyToOne\r\n        private Choices choices;\r\n    \r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;choices&quot;)\r\n    public class Choices {\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private boolean isThisChoice;\r\n        \r\n    \t@OneToOne\r\n        private Customer customer;\r\n    \r\n    }\r\n    \r\n    The resulting customer with id 24587 (GET request):\r\n    {\r\n      &quot;id&quot;: &quot;24587&quot;,\r\n      &quot;email&quot;: &quot;tartampion&quot;,\r\n      &quot;choices&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;regular mail&quot;,\r\n          &quot;isThisChoice&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;email&quot;,\r\n          &quot;isThisChoice&quot;: true\r\n        }\r\n      ]\r\n    }\r\n\r\nMust I have an entity of management of event of choice of the customer","title":"Problem to implement bidirectional relationship in hibernate with my spring boot api","body":"<p>I want to create a spring boot rest controller with this specification :</p>\n<p>Customers of an electricity and gas supply company can choose to receive their monthly bills either by email or by regular mail, neither or both.</p>\n<p>My goal is to create java hibernate entities to manage these customers and their choices of sending bills.</p>\n<p>A utility customer is identified by their email and can have multiple choice change events that change the customer choice status.</p>\n<p>Each choice made by a customer generates a choice change event.</p>\n<p>A choice change event relates to a customer. A customer can have multiple choice events.</p>\n<p>Here are my java entities.</p>\n<pre><code>@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Email(message=&quot;this field must respect the email format !&quot;)\n    private String email;\n    \n    @ManyToOne\n    private Choices choices;\n\n}\n\n\n@Entity\n@Table(name = &quot;choices&quot;)\npublic class Choices {\n\n    @Id\n    private String id;\n\n    @Column(name = &quot;email&quot;)\n    private boolean isThisChoice;\n    \n    @OneToOne\n    private Customer customer;\n\n}\n\nThe resulting customer with id 24587 (GET request):\n{\n  &quot;id&quot;: &quot;24587&quot;,\n  &quot;email&quot;: &quot;tartampion&quot;,\n  &quot;choices&quot;: [\n    {\n      &quot;id&quot;: &quot;regular mail&quot;,\n      &quot;isThisChoice&quot;: false\n    },\n    {\n      &quot;id&quot;: &quot;email&quot;,\n      &quot;isThisChoice&quot;: true\n    }\n  ]\n}\n</code></pre>\n<p>Must I have an entity of management of event of choice of the customer</p>\n"},{"tags":["java","utf-8"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1673360976,"post_id":75064615,"comment_id":132477933,"body_markdown":"Before you do anything else:  Specify a charset in your conversions between bytes and String!  Unless you are using a fairly recent version of Java, `new String(bytes)` and `s.getBytes()` will use the system’s default charset, which may or may not be UTF-8.  Don’t take chances—be certain by using `new String(bytes, StandardCharsetes.UTF_8)` and `s.getBytes(StandardCharsets.UTF_8)` respectively.  To answer your question:  You can write `&quot;\\ufffe\\uffff&quot;` in your code.  They’re not valid Unicode codepoints, but they are valid 16-bit char values.","body":"Before you do anything else:  Specify a charset in your conversions between bytes and String!  Unless you are using a fairly recent version of Java, <code>new String(bytes)</code> and <code>s.getBytes()</code> will use the system’s default charset, which may or may not be UTF-8.  Don’t take chances—be certain by using <code>new String(bytes, StandardCharsetes.UTF_8)</code> and <code>s.getBytes(StandardCharsets.UTF_8)</code> respectively.  To answer your question:  You can write <code>&quot;\\ufffe\\uffff&quot;</code> in your code.  They’re not valid Unicode codepoints, but they are valid 16-bit char values."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673363811,"creation_date":1673363811,"answer_id":75072043,"question_id":75064615,"body_markdown":"In your question, you noted:\r\n\r\n&gt; It seems as if the String class is robustly creating valid UTF-8 strings despite my efforts to supply invalid byte arrays.\r\n\r\nIf you want to test a byte array to see if it is valid for a specific encoding, then you can use [`CharsetDecoder`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/CharsetDecoder.html) (not `CharsetEncoder`).\r\n\r\nThe `CharsetDecoder` can:\r\n\r\n&gt; transform a sequence of bytes in a specific charset into a sequence of sixteen-bit Unicode characters.\r\n\r\nIf you pass the `decode()` method a `ByteBuffer`, you can use use it as follows:\r\n\r\n```java\r\nprivate static boolean testBytes(byte[] bytes) {\r\n    boolean isValid = true;\r\n    try {\r\n        StandardCharsets.UTF_8.newDecoder().decode(ByteBuffer.wrap(bytes));\r\n    } catch (CharacterCodingException ex) {\r\n        //Logger.getLogger(MyTester.class.getName()).log(Level.SEVERE, null, ex);\r\n        isValid = false;\r\n    }\r\n    return isValid;\r\n}\r\n```\r\n\r\nSo, for example, the following will print `false` because `0xFF` is not a valid [UTF-8 byte sequence](https://en.wikipedia.org/wiki/UTF-8#Encoding).\r\n\r\n```java\r\nbyte[] b = HexFormat.of().parseHex(&quot;ff&quot;);\r\nSystem.out.println(testBytes(b));\r\n```\r\n\r\nYour example `{(byte)0xfe, (byte)0xfe, (byte)0xff, (byte)0xff}` will also return `false`.\r\n\r\n---\r\n\r\nIn your question, you asked:\r\n\r\n&gt; Is it possible to create a Java String object that contains a string that can&#39;t be encoded as UTF-8?\r\n\r\nBy the time you have created a Java String, it&#39;s &quot;too late&quot; to check because, as you have seen, any unsupported byte sequences have already been replaced by the Unicode [replacement character](https://www.fileformat.info/info/unicode/char/fffd/index.htm) - which is itself a valid character in a Java string (the Java `String` object itself &quot;represents a string in the UTF-16 format&quot; - and both UTF-8 and UTF-16 cover all valid Unicode code points).","title":"Testing API input validation with an invalid UTF-8 String in a Java Unit Test","body":"<p>In your question, you noted:</p>\n<blockquote>\n<p>It seems as if the String class is robustly creating valid UTF-8 strings despite my efforts to supply invalid byte arrays.</p>\n</blockquote>\n<p>If you want to test a byte array to see if it is valid for a specific encoding, then you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/CharsetDecoder.html\" rel=\"nofollow noreferrer\"><code>CharsetDecoder</code></a> (not <code>CharsetEncoder</code>).</p>\n<p>The <code>CharsetDecoder</code> can:</p>\n<blockquote>\n<p>transform a sequence of bytes in a specific charset into a sequence of sixteen-bit Unicode characters.</p>\n</blockquote>\n<p>If you pass the <code>decode()</code> method a <code>ByteBuffer</code>, you can use use it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean testBytes(byte[] bytes) {\n    boolean isValid = true;\n    try {\n        StandardCharsets.UTF_8.newDecoder().decode(ByteBuffer.wrap(bytes));\n    } catch (CharacterCodingException ex) {\n        //Logger.getLogger(MyTester.class.getName()).log(Level.SEVERE, null, ex);\n        isValid = false;\n    }\n    return isValid;\n}\n</code></pre>\n<p>So, for example, the following will print <code>false</code> because <code>0xFF</code> is not a valid <a href=\"https://en.wikipedia.org/wiki/UTF-8#Encoding\" rel=\"nofollow noreferrer\">UTF-8 byte sequence</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] b = HexFormat.of().parseHex(&quot;ff&quot;);\nSystem.out.println(testBytes(b));\n</code></pre>\n<p>Your example <code>{(byte)0xfe, (byte)0xfe, (byte)0xff, (byte)0xff}</code> will also return <code>false</code>.</p>\n<hr />\n<p>In your question, you asked:</p>\n<blockquote>\n<p>Is it possible to create a Java String object that contains a string that can't be encoded as UTF-8?</p>\n</blockquote>\n<p>By the time you have created a Java String, it's &quot;too late&quot; to check because, as you have seen, any unsupported byte sequences have already been replaced by the Unicode <a href=\"https://www.fileformat.info/info/unicode/char/fffd/index.htm\" rel=\"nofollow noreferrer\">replacement character</a> - which is itself a valid character in a Java string (the Java <code>String</code> object itself &quot;represents a string in the UTF-16 format&quot; - and both UTF-8 and UTF-16 cover all valid Unicode code points).</p>\n"}],"owner":{"account_id":217718,"reputation":33,"user_id":6405803,"display_name":"Ris Misner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75072043,"answer_count":1,"score":3,"last_activity_date":1673363811,"creation_date":1673314843,"question_id":75064615,"body_markdown":"I&#39;m maintaining a back-end service in Java and I have the following method of Java 8 code that&#39;s used to validate the input to my service API:\r\n\r\n```\r\nprivate static boolean containsDisallowedChars(String toValidate) {\r\n    return !StandardCharsets.US_ASCII.newEncoder().canEncode(toValidate);\r\n}\r\n```\r\n\r\nI&#39;m expanding it to support Hindi and other non-English characters, so I&#39;ve changed it from ASCII to UTF-8, as follows:\r\n\r\n```\r\nprivate static boolean containsDisallowedChars(String toValidate) {\r\n    return !StandardCharsets.UTF_8.newEncoder().canEncode(toValidate);\r\n}\r\n```\r\n\r\nNow I&#39;m trying to update the corresponding unit test to pass in a String toValidate that will cause this method to return false.\r\n\r\nHow can I make a Java String that contains contents that can&#39;t be encoded to UTF-8?\r\n\r\nI tried this test setup\r\n```\r\n// ref https://stackoverflow.com/questions/1301402/example-invalid-utf8-string\r\n// test data byte values https://www.cl.cam.ac.uk/~mgk25/ucs/examples/UTF-8-test.txt\r\n// 3.5  Impossible bytes\r\n// The following two bytes cannot appear in a correct UTF-8 string\r\n// 3.5.1  fe = &quot;�&quot;\r\n// 3.5.2  ff = &quot;�&quot;\r\n// 3.5.3  fe fe ff ff = &quot;����&quot;\r\nfinal byte[] bytes = {(byte)0xfe, (byte)0xfe, (byte)0xff, (byte)0xff};\r\nlog.info(&quot;bytes={}&quot;, bytes);\r\nfinal String s = new String(bytes);\r\nlog.info(&quot;s={}&quot;, s);\r\nlog.info(&quot;s.length={}&quot;, s.length());\r\nlog.info(&quot;s.bytes={}&quot;, s.getBytes());\r\n```\r\n\r\nStandardCharsets.UTF_8.newEncoder().canEncode(s) returns true and the log output shows that the String class constructor is changing the byte array as follows:\r\n```\r\nbytes=[-2, -2, -1, -1]\r\ns=����\r\ns.length=4\r\ns.bytes=[-17, -65, -67, -17, -65, -67, -17, -65, -67, -17, -65, -67]\r\n```\r\n\r\nI tried several variations on this with similar results using other invalid UTF-8 byte arrays described in https://www.cl.cam.ac.uk/~mgk25/ucs/examples/UTF-8-test.txt\r\n\r\nIt seems as if the String class is robustly creating valid UTF-8 strings despite my efforts to supply invalid byte arrays.\r\n\r\nI tried Base64 as suggested here https://stackoverflow.com/questions/51856137/how-can-i-generate-non-utf-8-string-char-in-java-for-testing-purposes\r\n```\r\nfinal byte[] bytes = {(byte)0xfe, (byte)0xfe, (byte)0xff, (byte)0xff};\r\nlog.info(&quot;bytes={}&quot;, bytes);\r\nfinal String s = new String(Base64.getEncoder().encode(bytes));\r\nlog.info(&quot;s={}&quot;, s);\r\nlog.info(&quot;s.length={}&quot;, s.length());\r\nlog.info(&quot;s.bytes={}&quot;, s.getBytes());\r\n```\r\n\r\nBase64.getEncoder().encode doesn&#39;t return string. It returns byte[]. Therefore I must still call new String(byte[]) which changes the byte array to a valid UTF-8 byte array. StandardCharsets.UTF_8.newEncoder().canEncode still returns true and I get this log output:\r\n```\r\nbytes=[-2, -2, -1, -1]\r\ns=/v7//w==\r\ns.length=8\r\ns.bytes=[47, 118, 55, 47, 47, 119, 61, 61]\r\n```\r\n\r\nIs it possible to create a Java String object that contains a string that can&#39;t be encoded as UTF-8? If not, does it mean my `containsDisallowedChars` method is unnecessary since it can never return true? Or is there a different validation approach I should consider instead of StandardCharsets.UTF_8.newEncoder().canEncode?","title":"Testing API input validation with an invalid UTF-8 String in a Java Unit Test","body":"<p>I'm maintaining a back-end service in Java and I have the following method of Java 8 code that's used to validate the input to my service API:</p>\n<pre><code>private static boolean containsDisallowedChars(String toValidate) {\n    return !StandardCharsets.US_ASCII.newEncoder().canEncode(toValidate);\n}\n</code></pre>\n<p>I'm expanding it to support Hindi and other non-English characters, so I've changed it from ASCII to UTF-8, as follows:</p>\n<pre><code>private static boolean containsDisallowedChars(String toValidate) {\n    return !StandardCharsets.UTF_8.newEncoder().canEncode(toValidate);\n}\n</code></pre>\n<p>Now I'm trying to update the corresponding unit test to pass in a String toValidate that will cause this method to return false.</p>\n<p>How can I make a Java String that contains contents that can't be encoded to UTF-8?</p>\n<p>I tried this test setup</p>\n<pre><code>// ref https://stackoverflow.com/questions/1301402/example-invalid-utf8-string\n// test data byte values https://www.cl.cam.ac.uk/~mgk25/ucs/examples/UTF-8-test.txt\n// 3.5  Impossible bytes\n// The following two bytes cannot appear in a correct UTF-8 string\n// 3.5.1  fe = &quot;�&quot;\n// 3.5.2  ff = &quot;�&quot;\n// 3.5.3  fe fe ff ff = &quot;����&quot;\nfinal byte[] bytes = {(byte)0xfe, (byte)0xfe, (byte)0xff, (byte)0xff};\nlog.info(&quot;bytes={}&quot;, bytes);\nfinal String s = new String(bytes);\nlog.info(&quot;s={}&quot;, s);\nlog.info(&quot;s.length={}&quot;, s.length());\nlog.info(&quot;s.bytes={}&quot;, s.getBytes());\n</code></pre>\n<p>StandardCharsets.UTF_8.newEncoder().canEncode(s) returns true and the log output shows that the String class constructor is changing the byte array as follows:</p>\n<pre><code>bytes=[-2, -2, -1, -1]\ns=����\ns.length=4\ns.bytes=[-17, -65, -67, -17, -65, -67, -17, -65, -67, -17, -65, -67]\n</code></pre>\n<p>I tried several variations on this with similar results using other invalid UTF-8 byte arrays described in <a href=\"https://www.cl.cam.ac.uk/%7Emgk25/ucs/examples/UTF-8-test.txt\" rel=\"nofollow noreferrer\">https://www.cl.cam.ac.uk/~mgk25/ucs/examples/UTF-8-test.txt</a></p>\n<p>It seems as if the String class is robustly creating valid UTF-8 strings despite my efforts to supply invalid byte arrays.</p>\n<p>I tried Base64 as suggested here <a href=\"https://stackoverflow.com/questions/51856137/how-can-i-generate-non-utf-8-string-char-in-java-for-testing-purposes\">How can I generate non-UTF-8 string / char in Java for testing purposes?</a></p>\n<pre><code>final byte[] bytes = {(byte)0xfe, (byte)0xfe, (byte)0xff, (byte)0xff};\nlog.info(&quot;bytes={}&quot;, bytes);\nfinal String s = new String(Base64.getEncoder().encode(bytes));\nlog.info(&quot;s={}&quot;, s);\nlog.info(&quot;s.length={}&quot;, s.length());\nlog.info(&quot;s.bytes={}&quot;, s.getBytes());\n</code></pre>\n<p>Base64.getEncoder().encode doesn't return string. It returns byte[]. Therefore I must still call new String(byte[]) which changes the byte array to a valid UTF-8 byte array. StandardCharsets.UTF_8.newEncoder().canEncode still returns true and I get this log output:</p>\n<pre><code>bytes=[-2, -2, -1, -1]\ns=/v7//w==\ns.length=8\ns.bytes=[47, 118, 55, 47, 47, 119, 61, 61]\n</code></pre>\n<p>Is it possible to create a Java String object that contains a string that can't be encoded as UTF-8? If not, does it mean my <code>containsDisallowedChars</code> method is unnecessary since it can never return true? Or is there a different validation approach I should consider instead of StandardCharsets.UTF_8.newEncoder().canEncode?</p>\n"},{"tags":["java","classpath","flyway"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673363757,"post_id":75071795,"comment_id":132478932,"body_markdown":"The Java code should not be a resource, it should be with the code (e.g. in `src/main/java`, not `src/main/resources`), because it must be compiled. The Flyway documentation probably doesn&#39;t mention it because that is assumed to be obvious.","body":"The Java code should not be a resource, it should be with the code (e.g. in <code>src&#47;main&#47;java</code>, not <code>src&#47;main&#47;resources</code>), because it must be compiled. The Flyway documentation probably doesn&#39;t mention it because that is assumed to be obvious."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673364053,"post_id":75071795,"comment_id":132479037,"body_markdown":"And in fact, the documentation does mention it (see [Migrations - Java-based migrations - Discovery](https://documentation.red-gate.com/fd/migrations-184127470.html#Migrations-Discovery.1), compared to [Migrations - SQL-based migrations - Discovery](https://documentation.red-gate.com/fd/migrations-184127470.html#Migrations-Discovery))","body":"And in fact, the documentation does mention it (see <a href=\"https://documentation.red-gate.com/fd/migrations-184127470.html#Migrations-Discovery.1\" rel=\"nofollow noreferrer\">Migrations - Java-based migrations - Discovery</a>, compared to <a href=\"https://documentation.red-gate.com/fd/migrations-184127470.html#Migrations-Discovery\" rel=\"nofollow noreferrer\">Migrations - SQL-based migrations - Discovery</a>)"},{"owner":{"account_id":27182294,"reputation":41,"user_id":20717330,"display_name":"Sered"},"score":0,"creation_date":1673539595,"post_id":75071795,"comment_id":132526853,"body_markdown":"Thanks for the reply.  I did see the src/main/java tree in the documentation before submitting this.  However, I&#39;m not making these Java migrations specifically for a _Java application_ (there is no &quot;code&quot;) - let&#39;s say for example I am making these Java migrations for an IIS, PHP, Angular or (none; i.e., there is no) application.  Let&#39;s say I&#39;m wanting to do a database migration by itself even.  I was wondering how the .java files would be compiled (or if I should compile them myself).  In the mean time, I&#39;ll compile my .java to .class and retry.","body":"Thanks for the reply.  I did see the src/main/java tree in the documentation before submitting this.  However, I&#39;m not making these Java migrations specifically for a <i>Java application</i> (there is no &quot;code&quot;) - let&#39;s say for example I am making these Java migrations for an IIS, PHP, Angular or (none; i.e., there is no) application.  Let&#39;s say I&#39;m wanting to do a database migration by itself even.  I was wondering how the .java files would be compiled (or if I should compile them myself).  In the mean time, I&#39;ll compile my .java to .class and retry."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673548170,"post_id":75071795,"comment_id":132529785,"body_markdown":"Flyway itself is besides a library, also a Java application. If you want it to execute a Java migration, that Java migration needs to be compiled and on the classpath when Flyway runs. Otherwise, you should use a SQL migration.","body":"Flyway itself is besides a library, also a Java application. If you want it to execute a Java migration, that Java migration needs to be compiled and on the classpath when Flyway runs. Otherwise, you should use a SQL migration."}],"owner":{"account_id":27182294,"reputation":41,"user_id":20717330,"display_name":"Sered"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673363702,"creation_date":1673362590,"question_id":75071795,"body_markdown":"I&#39;m using the Community version of Flyway.  What Flyway is doing:\r\n\r\n    ...\r\n    DEBUG: Found resource: myfolder/V1.2__description1.java\r\n    ...\r\n    DEBUG: Filtering out resource: myfolder/V1.2__description1.java (filename: V1.2__description1.java)\r\n    ...\r\n\r\nMy &quot;locations&quot; folder is correct:\r\n\r\n    flyway.locations=classpath:myfolder\r\n\r\nI&#39;ve even tried setting jarDirs setting (it did nothing to help):\r\n\r\n    flyway.jarDirs=myfolder\r\n\r\nWhy can&#39;t Flyway print out &quot;why&quot; a file/resource is being filtered out?\r\n\r\nDo I also have to compile the Java file into a class file? The Flyway documentation didn&#39;t say to do that.","title":"Flyway Community edition filtering out resource Java file - why?","body":"<p>I'm using the Community version of Flyway.  What Flyway is doing:</p>\n<pre><code>...\nDEBUG: Found resource: myfolder/V1.2__description1.java\n...\nDEBUG: Filtering out resource: myfolder/V1.2__description1.java (filename: V1.2__description1.java)\n...\n</code></pre>\n<p>My &quot;locations&quot; folder is correct:</p>\n<pre><code>flyway.locations=classpath:myfolder\n</code></pre>\n<p>I've even tried setting jarDirs setting (it did nothing to help):</p>\n<pre><code>flyway.jarDirs=myfolder\n</code></pre>\n<p>Why can't Flyway print out &quot;why&quot; a file/resource is being filtered out?</p>\n<p>Do I also have to compile the Java file into a class file? The Flyway documentation didn't say to do that.</p>\n"},{"tags":["java","multithreading","parallel-processing","executorservice","runnable"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673280291,"creation_date":1673279981,"answer_id":75059879,"question_id":75059762,"body_markdown":"You can do something as follows:\r\n\r\n -  initialize the `CountDownLatch` and `ExecutorService` with the number of desired workers\r\n - on the loop of assigning work to the workers pass the current task number\r\n - each worker should also call `countDownLatch.countDown();` after having terminated the work to signal that to the other workers that might be waiting\r\n - the main thread should call `countDownLatch.await();` to wait for the remaining workers to finish their work.\r\n\r\nThe code could look like the following:\r\n\r\n    public class WaitForAllToEnd {\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            final int total_threads = 15;\r\n            CountDownLatch countDownLatch = new CountDownLatch(total_threads);\r\n            ExecutorService executor = Executors.newFixedThreadPool(total_threads);\r\n            for(int i = 0; i &lt; total_threads; i++){\r\n                final int thread_id = i;\r\n                executor.execute(parallelWork(thread_id, countDownLatch));\r\n            }\r\n            countDownLatch.await();\r\n            System.out.println(&quot;Exit&quot;);\r\n            executor.shutdown();\r\n        }\r\n    \r\n        private static Runnable parallelWork(int thread_id, CountDownLatch countDownLatch) {\r\n            return () -&gt; {\r\n                try {\r\n                    // Some code logic\r\n                } catch (InterruptedException e) {\r\n                    // Do Something\r\n                }\r\n                // Some code logic\r\n                countDownLatch.countDown();\r\n            };\r\n        }\r\n    }","title":"Best approach to manage parallel threads with a set of ip addresses using ExecutorService","body":"<p>You can do something as follows:</p>\n<ul>\n<li>initialize the <code>CountDownLatch</code> and <code>ExecutorService</code> with the number of desired workers</li>\n<li>on the loop of assigning work to the workers pass the current task number</li>\n<li>each worker should also call <code>countDownLatch.countDown();</code> after having terminated the work to signal that to the other workers that might be waiting</li>\n<li>the main thread should call <code>countDownLatch.await();</code> to wait for the remaining workers to finish their work.</li>\n</ul>\n<p>The code could look like the following:</p>\n<pre><code>public class WaitForAllToEnd {\n\n    public static void main(String[] args) throws InterruptedException {\n        final int total_threads = 15;\n        CountDownLatch countDownLatch = new CountDownLatch(total_threads);\n        ExecutorService executor = Executors.newFixedThreadPool(total_threads);\n        for(int i = 0; i &lt; total_threads; i++){\n            final int thread_id = i;\n            executor.execute(parallelWork(thread_id, countDownLatch));\n        }\n        countDownLatch.await();\n        System.out.println(&quot;Exit&quot;);\n        executor.shutdown();\n    }\n\n    private static Runnable parallelWork(int thread_id, CountDownLatch countDownLatch) {\n        return () -&gt; {\n            try {\n                // Some code logic\n            } catch (InterruptedException e) {\n                // Do Something\n            }\n            // Some code logic\n            countDownLatch.countDown();\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75059879,"answer_count":1,"score":1,"last_activity_date":1673363269,"creation_date":1673279430,"question_id":75059762,"body_markdown":"I have a set of 255 ip addresses to manage (x.x.x.1 -&gt; x.x.x.255). \r\nIn Java if I check connection from my java mobile app with only one array of IP with a `setTimeout(200)` I could wait too much till finish all 255 ip addresses. On the other hand if I connect to at least one of those ip address I have some other things to do.\r\nSo my goal to reduce wait time on check if connection test works or fails is to split in a group of 15 parallel threads working at the same time where inside each of them I check 17 ip addresses.\r\nIn this way I made a class that implements Runnable where I execute something like: \r\n\r\n    HttpURLConnection con;\r\n    for(i=(currentThreadNumber*17)+1;i&lt;(currentThreadNumber*17)+17;i++) { \r\n        String ipToCheckConnection = maskIP+&quot;.&quot;+i;\r\n        String loginURL = &quot;http://&quot; + ipToLogin + &quot;/....&quot;;\r\n    \ttry {\r\n    \t\tURL obj = new URL(loginURL);\r\n    \t\tcon = (HttpURLConnection) obj.openConnection();\r\n    \t\tcon.setRequestMethod(&quot;GET&quot;);\r\n    \t\tcon.setConnectTimeout(100);\r\n    \t\tcon.connect();\r\n    \t\tint responseCode = con.getResponseCode();\r\n    \r\n    \t\tif (responseCode == HttpURLConnection.HTTP_OK) {\r\n    \t\t\tcon.disconnect();\r\n    \t\t\tdo something else with this IP....\r\n    \t\t}\r\n    \r\n    \t} catch (java.net.SocketTimeoutException e) {\r\n    \t\tcontinue;\r\n    \t} catch (java.io.IOException e) {\r\n    \t\treturn;\r\n    \t}\r\n    }\r\n\r\n \r\n\r\n\r\nIn my main function inside a button click event I implement:\r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(15);\r\n\r\nthen I tried various way to execute parallel jobs calling the runnable class waiting all threads are finished before to continue and exit from button click event, like using `CountDownLatch` , `.awaitTermination`... I tried also to use `.invokeAll` but it doesn&#39;t work with runnable but with callable... but I encounter the issue how to pass to runnable class current thread count like 0,1,2,3,..so I can pass to the `for(...)` inside runnable...\r\nWhat would be best approach to pass this current thread count like 0,1,2,3,.. to the runnable class? \r\nOr is there a better different way than using ExecutorService which I read everywhere it&#39;s the simplest way to work parallel threads with?...\r\n\r\nThanks!\r\nCheers\r\n","title":"Best approach to manage parallel threads with a set of ip addresses using ExecutorService","body":"<p>I have a set of 255 ip addresses to manage (x.x.x.1 -&gt; x.x.x.255).\nIn Java if I check connection from my java mobile app with only one array of IP with a <code>setTimeout(200)</code> I could wait too much till finish all 255 ip addresses. On the other hand if I connect to at least one of those ip address I have some other things to do.\nSo my goal to reduce wait time on check if connection test works or fails is to split in a group of 15 parallel threads working at the same time where inside each of them I check 17 ip addresses.\nIn this way I made a class that implements Runnable where I execute something like:</p>\n<pre><code>HttpURLConnection con;\nfor(i=(currentThreadNumber*17)+1;i&lt;(currentThreadNumber*17)+17;i++) { \n    String ipToCheckConnection = maskIP+&quot;.&quot;+i;\n    String loginURL = &quot;http://&quot; + ipToLogin + &quot;/....&quot;;\n    try {\n        URL obj = new URL(loginURL);\n        con = (HttpURLConnection) obj.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n        con.setConnectTimeout(100);\n        con.connect();\n        int responseCode = con.getResponseCode();\n\n        if (responseCode == HttpURLConnection.HTTP_OK) {\n            con.disconnect();\n            do something else with this IP....\n        }\n\n    } catch (java.net.SocketTimeoutException e) {\n        continue;\n    } catch (java.io.IOException e) {\n        return;\n    }\n}\n</code></pre>\n<p>In my main function inside a button click event I implement:</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(15);\n</code></pre>\n<p>then I tried various way to execute parallel jobs calling the runnable class waiting all threads are finished before to continue and exit from button click event, like using <code>CountDownLatch</code> , <code>.awaitTermination</code>... I tried also to use <code>.invokeAll</code> but it doesn't work with runnable but with callable... but I encounter the issue how to pass to runnable class current thread count like 0,1,2,3,..so I can pass to the <code>for(...)</code> inside runnable...\nWhat would be best approach to pass this current thread count like 0,1,2,3,.. to the runnable class?\nOr is there a better different way than using ExecutorService which I read everywhere it's the simplest way to work parallel threads with?...</p>\n<p>Thanks!\nCheers</p>\n"},{"tags":["java","comparable","compareto"],"answers":[{"tags":[],"owner":{"account_id":112835,"reputation":9845,"user_id":297484,"display_name":"chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271200003,"creation_date":1271200003,"answer_id":2633804,"question_id":2633794,"body_markdown":"no, the only difference is between negative numbers, 0, and positive numbers. the degree is irrelevant.","title":"Does the specific signed integer matter when implementing compareTo in a Comparable &lt;Type&gt; class?","body":"<p>no, the only difference is between negative numbers, 0, and positive numbers. the degree is irrelevant.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1271209269,"creation_date":1271208516,"answer_id":2634313,"question_id":2633794,"body_markdown":"Interesting question, but nonetheless no, the magnitude of the `int` has no significance as per `Comparable&lt;T&gt;` and `Comparator&lt;T&gt;` specifications, only the sign. Conceivably some sorting algorithm can additionally specify that they can take &quot;hints&quot; from the magnitude, but I&#39;m not sure how practical that would be for comparison-based sorting, since we really need only to know if `a &lt; b`, `a == b`, or `a &gt; b` (which is really what `Comparable` and `Comparator` are OOP abstractions of).\r\n\r\n---\r\n\r\nNow it needs to be said that there may be a hidden intention here of using the subtraction idiom for comparing numeric values, i.e. something like this:\r\n\r\n    public int compare(T t1, T t2) {\r\n        return t1.intField - t2.intField;\r\n    }\r\n\r\nDo note that this comparison method is _potentially_ broken, due to possible overflow when the difference between the two numbers is greater than `Integer.MAX_VALUE`. In fact, this is one of the puzzles covered in [_Java Puzzlers_](http://www.javapuzzlers.com/).\r\n\r\nTo demonstrate, consider the following snippet (taken from the book):\r\n\r\n    int x = -2000000000;\r\n    int z = 2000000000;\r\n    System.out.println(x - z); // prints a positive number due to overflow\r\n\r\nClearly `x &lt; z`, and yet `x - z` is a positive number. Beware of using this subtraction idiom: it&#39;s always much safer to do an explicit comparison and `return -1`, `0`, or `1` instead.\r\n\r\n","title":"Does the specific signed integer matter when implementing compareTo in a Comparable &lt;Type&gt; class?","body":"<p>Interesting question, but nonetheless no, the magnitude of the <code>int</code> has no significance as per <code>Comparable&lt;T&gt;</code> and <code>Comparator&lt;T&gt;</code> specifications, only the sign. Conceivably some sorting algorithm can additionally specify that they can take \"hints\" from the magnitude, but I'm not sure how practical that would be for comparison-based sorting, since we really need only to know if <code>a &lt; b</code>, <code>a == b</code>, or <code>a &gt; b</code> (which is really what <code>Comparable</code> and <code>Comparator</code> are OOP abstractions of).</p>\n\n<hr>\n\n<p>Now it needs to be said that there may be a hidden intention here of using the subtraction idiom for comparing numeric values, i.e. something like this:</p>\n\n<pre><code>public int compare(T t1, T t2) {\n    return t1.intField - t2.intField;\n}\n</code></pre>\n\n<p>Do note that this comparison method is <em>potentially</em> broken, due to possible overflow when the difference between the two numbers is greater than <code>Integer.MAX_VALUE</code>. In fact, this is one of the puzzles covered in <a href=\"http://www.javapuzzlers.com/\" rel=\"nofollow noreferrer\"><em>Java Puzzlers</em></a>.</p>\n\n<p>To demonstrate, consider the following snippet (taken from the book):</p>\n\n<pre><code>int x = -2000000000;\nint z = 2000000000;\nSystem.out.println(x - z); // prints a positive number due to overflow\n</code></pre>\n\n<p>Clearly <code>x &lt; z</code>, and yet <code>x - z</code> is a positive number. Beware of using this subtraction idiom: it's always much safer to do an explicit comparison and <code>return -1</code>, <code>0</code>, or <code>1</code> instead.</p>\n"}],"owner":{"account_id":40571,"reputation":1300,"user_id":117549,"accept_rate":85,"display_name":"javanix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2634313,"answer_count":2,"score":9,"last_activity_date":1673362658,"creation_date":1271199908,"question_id":2633794,"body_markdown":"When implementing `compareTo()`, does the degree of &quot;difference&quot; need to be taken into account?\r\n\r\nFor instance, if I have 3 objects, C1, C2, and C3, such that C1 &lt; C2 &lt; C3. \r\n\r\nShould C1.compareTo(C2) return an integer that is less than C2.compareTo(C3)?\r\n\r\nThe documentation for the Comparable interface doesn&#39;t seem to specify one way or another, so I&#39;m guessing the degree doesn&#39;t matter, but it would be nice to know if there is some advantage returning a specific number (for example, improving TreeSet sort speed or something).\r\n\r\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/lang/Comparable.html#compareTo(T)","title":"Does the specific signed integer matter when implementing compareTo in a Comparable &lt;Type&gt; class?","body":"<p>When implementing <code>compareTo()</code>, does the degree of &quot;difference&quot; need to be taken into account?</p>\n<p>For instance, if I have 3 objects, C1, C2, and C3, such that C1 &lt; C2 &lt; C3.</p>\n<p>Should C1.compareTo(C2) return an integer that is less than C2.compareTo(C3)?</p>\n<p>The documentation for the Comparable interface doesn't seem to specify one way or another, so I'm guessing the degree doesn't matter, but it would be nice to know if there is some advantage returning a specific number (for example, improving TreeSet sort speed or something).</p>\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Comparable.html#compareTo(T)</a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673362412,"creation_date":1673362412,"answer_id":75071766,"question_id":74635502,"body_markdown":"You could write a group by query with an aggregation function:\r\n\r\n```sql\r\nSELECT tw \r\nFROM TW tw\r\nLEFT JOIN tw.docks d ON d.isDeleted = false\r\nWHERE d.id = :dockId\r\nAND tw.status &lt;&gt; &#39;DELETED&#39;\r\nGROUP BY tw\r\nHAVING COUNT(d.id) = 1\r\n```","title":"Spring JPQL and SIZE function with condition","body":"<p>You could write a group by query with an aggregation function:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT tw \nFROM TW tw\nLEFT JOIN tw.docks d ON d.isDeleted = false\nWHERE d.id = :dockId\nAND tw.status &lt;&gt; 'DELETED'\nGROUP BY tw\nHAVING COUNT(d.id) = 1\n</code></pre>\n"}],"owner":{"account_id":7980951,"reputation":2003,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673362412,"creation_date":1669852966,"question_id":74635502,"body_markdown":"I have the following method in my repository in Spring Boot app with Hibernate and MySQL db:\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n            SELECT tw FROM TW tw\r\n            LEFT JOIN tw.docks d // where dock has flag isDeleted\r\n            WHERE d.id = :dockId\r\n            AND tw.status &lt;&gt; &#39;DELETED&#39; AND SIZE(tw.docks) = 1\r\n            &quot;&quot;&quot;)\r\n```\r\n\r\n\r\nI want to add some condition to my `SIZE` function to count only `docks` that `dock.isDeleted = false`. Is it possible or I have to write some native query?\r\n\r\n\r\n\r\n\r\nEDIT:\r\nadding `ON d.isDeleted = false` is not a solution of course because it doesnt affect `SIZE` function\r\n\r\n\r\n`TimeWindow` table and `Dock` table are connected with third table `time_window_dock` table","title":"Spring JPQL and SIZE function with condition","body":"<p>I have the following method in my repository in Spring Boot app with Hibernate and MySQL db:</p>\n<pre><code>@Query(&quot;&quot;&quot;\n            SELECT tw FROM TW tw\n            LEFT JOIN tw.docks d // where dock has flag isDeleted\n            WHERE d.id = :dockId\n            AND tw.status &lt;&gt; 'DELETED' AND SIZE(tw.docks) = 1\n            &quot;&quot;&quot;)\n</code></pre>\n<p>I want to add some condition to my <code>SIZE</code> function to count only <code>docks</code> that <code>dock.isDeleted = false</code>. Is it possible or I have to write some native query?</p>\n<p>EDIT:\nadding <code>ON d.isDeleted = false</code> is not a solution of course because it doesnt affect <code>SIZE</code> function</p>\n<p><code>TimeWindow</code> table and <code>Dock</code> table are connected with third table <code>time_window_dock</code> table</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1673356718,"post_id":75070532,"comment_id":132476300,"body_markdown":"It works fine without that constructor, did you test it ?","body":"It works fine without that constructor, did you test it ?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1673356739,"post_id":75070532,"comment_id":132476308,"body_markdown":"Create `getSummary` method and in there,  `this.summary = getTitle() + getAuthor() + getDescription();`","body":"Create <code>getSummary</code> method and in there,  <code>this.summary = getTitle() + getAuthor() + getDescription();</code>"},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1673360871,"post_id":75070532,"comment_id":132477884,"body_markdown":"@YoucefLAIDANI - in which moment summary would be populated without the constructor?","body":"@YoucefLAIDANI - in which moment summary would be populated without the constructor?"},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1673362097,"post_id":75070532,"comment_id":132478393,"body_markdown":"@AbhijitSarkar - I updated the post to explain why create a getSummary will not work in my case","body":"@AbhijitSarkar - I updated the post to explain why create a getSummary will not work in my case"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673360796,"creation_date":1673360796,"answer_id":75071411,"question_id":75070532,"body_markdown":"There is no simpler way to do this directly, however, this design is dubious. Given that there is a separate field, it is now possible to have &#39;invalid&#39; state - where the fields do not agree. For example, where `summary` simply contains &quot;Hello world&quot; instead of what you actually want it to contain.\r\n\r\nA better solution is to not have a field at all, and just write a getter:\r\n\r\n```\r\npublic String getSummary() {\r\n  return getTitle() + &quot; &quot; + getAuthor() + &quot; &quot; + getDescription();\r\n}\r\n```\r\n\r\nAlternatively, if the design of this class (your question isn&#39;t clear on this topic) is such that you _can_ add a summary, but if you don&#39;t, you get the title+author+description, still, write the getter, just, a slightly different take: Use `null` or `&quot;&quot;` as sentinel:\r\n\r\n```\r\npublic String getSummary() {\r\n  return summary != null ? summary :\r\n    (getTitle() + &quot; &quot; + getAuthor() + &quot; &quot; getDescription());\r\n}\r\n```\r\n\r\nBoth of these strategies obviate the need to explicitly set the field as part of your build process. Lombok does have the `@Builder.Default` mechanism, but this mechanism cannot be used to reference anything set during the build process (i.e. you can set as default &#39;Hello world&#39;, or even `&quot;&quot; + System.currentTimeMillis()` if you want, any java expression will do, but you cannot refer to the title, author, or description set by the caller to the builder, so you couldn&#39;t use it to &#39;default&#39; the `summary` field to what you want.\r\n","title":"Java + Lombok - populate a field at .build() time","body":"<p>There is no simpler way to do this directly, however, this design is dubious. Given that there is a separate field, it is now possible to have 'invalid' state - where the fields do not agree. For example, where <code>summary</code> simply contains &quot;Hello world&quot; instead of what you actually want it to contain.</p>\n<p>A better solution is to not have a field at all, and just write a getter:</p>\n<pre><code>public String getSummary() {\n  return getTitle() + &quot; &quot; + getAuthor() + &quot; &quot; + getDescription();\n}\n</code></pre>\n<p>Alternatively, if the design of this class (your question isn't clear on this topic) is such that you <em>can</em> add a summary, but if you don't, you get the title+author+description, still, write the getter, just, a slightly different take: Use <code>null</code> or <code>&quot;&quot;</code> as sentinel:</p>\n<pre><code>public String getSummary() {\n  return summary != null ? summary :\n    (getTitle() + &quot; &quot; + getAuthor() + &quot; &quot; getDescription());\n}\n</code></pre>\n<p>Both of these strategies obviate the need to explicitly set the field as part of your build process. Lombok does have the <code>@Builder.Default</code> mechanism, but this mechanism cannot be used to reference anything set during the build process (i.e. you can set as default 'Hello world', or even <code>&quot;&quot; + System.currentTimeMillis()</code> if you want, any java expression will do, but you cannot refer to the title, author, or description set by the caller to the builder, so you couldn't use it to 'default' the <code>summary</code> field to what you want.</p>\n"}],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673362409,"creation_date":1673356427,"question_id":75070532,"body_markdown":"The idea is to have `summary` being populated at `.build()` time.\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.experimental.SuperBuilder;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @SuperBuilder\r\n    public class Book\r\n    {\r\n        protected String title;\r\n        protected String author;\r\n        protected String description;\r\n    }\r\n    \r\n------\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.EqualsAndHashCode;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.ToString;\r\n    import lombok.experimental.SuperBuilder;\r\n    \r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @ToString(callSuper = true)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @SuperBuilder\r\n    public class BookSummary extends Book\r\n    {\r\n        public String summary;\r\n\r\n        public BookSummary(BookSummaryBuilder&lt;?, ?&gt; b)\r\n        {\r\n           super(b);\r\n           this.summary = getTitle() + getAuthor() + getDescription();\r\n        }  \r\n    }\r\n\r\n\r\nEverything works fine, but I&#39;m wondering if there is a simpler/more elegant way to do the same without the need of creating this constructor\r\n\r\n**UPDATE**\r\n\r\nI cannot simply override the summary get method because some APIs that will receive this object as parameter don&#39;t use the accessors to retrieve the values from fields.\r\n\r\nFor example:\r\n\r\n    public class BookSummary extends Book\r\n    {\r\n        @Builder.Default\r\n        public String summary = &quot;xxxxxxxxxxxxxxx&quot;;\r\n    \r\n        public String getSummary()\r\n        {\r\n            return getTitle() + getAuthor() + getDescription();\r\n        }\r\n    }\r\n\r\n    BookSummary bookSummary = BookSummary.builder()\r\n                .title(&quot;Java forever&quot;)\r\n                .author(&quot;John John&quot;)\r\n                .description(&quot;bla-bla-bla-bla&quot;)\r\n                .build();\r\n\r\n    String json = new GsonBuilder().create().toJson(bookSummary)\r\n\r\n-----\r\n\r\nJSON:\r\n\r\n    {\r\n        &quot;summary&quot;:&quot;xxxxxxxxxxxxxxx&quot;,\r\n        &quot;title&quot;:&quot;Java forever&quot;,\r\n        &quot;author&quot;:&quot;John John&quot;,\r\n        &quot;description&quot;:&quot;bla-bla-bla-bla&quot;\r\n    }\r\n\r\n","title":"Java + Lombok - populate a field at .build() time","body":"<p>The idea is to have <code>summary</code> being populated at <code>.build()</code> time.</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.SuperBuilder;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@SuperBuilder\npublic class Book\n{\n    protected String title;\n    protected String author;\n    protected String description;\n}\n</code></pre>\n<hr />\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport lombok.experimental.SuperBuilder;\n\n@Data\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\n@AllArgsConstructor\n@NoArgsConstructor\n@SuperBuilder\npublic class BookSummary extends Book\n{\n    public String summary;\n\n    public BookSummary(BookSummaryBuilder&lt;?, ?&gt; b)\n    {\n       super(b);\n       this.summary = getTitle() + getAuthor() + getDescription();\n    }  \n}\n</code></pre>\n<p>Everything works fine, but I'm wondering if there is a simpler/more elegant way to do the same without the need of creating this constructor</p>\n<p><strong>UPDATE</strong></p>\n<p>I cannot simply override the summary get method because some APIs that will receive this object as parameter don't use the accessors to retrieve the values from fields.</p>\n<p>For example:</p>\n<pre><code>public class BookSummary extends Book\n{\n    @Builder.Default\n    public String summary = &quot;xxxxxxxxxxxxxxx&quot;;\n\n    public String getSummary()\n    {\n        return getTitle() + getAuthor() + getDescription();\n    }\n}\n\nBookSummary bookSummary = BookSummary.builder()\n            .title(&quot;Java forever&quot;)\n            .author(&quot;John John&quot;)\n            .description(&quot;bla-bla-bla-bla&quot;)\n            .build();\n\nString json = new GsonBuilder().create().toJson(bookSummary)\n</code></pre>\n<hr />\n<p>JSON:</p>\n<pre><code>{\n    &quot;summary&quot;:&quot;xxxxxxxxxxxxxxx&quot;,\n    &quot;title&quot;:&quot;Java forever&quot;,\n    &quot;author&quot;:&quot;John John&quot;,\n    &quot;description&quot;:&quot;bla-bla-bla-bla&quot;\n}\n</code></pre>\n"},{"tags":["java","android","facebook","date"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1387639073,"post_id":20720417,"comment_id":31040555,"body_markdown":"Well obviously this format `2013-12-21T18:30:00+0100` does not match yours. What did you expect?","body":"Well obviously this format <code>2013-12-21T18:30:00+0100</code> does not match yours. What did you expect?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1387668396,"post_id":20720417,"comment_id":31048593,"body_markdown":"What time zone do you want the extracted time? The same +01:00 offset?","body":"What time zone do you want the extracted time? The same +01:00 offset?"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387639236,"creation_date":1387639236,"answer_id":20720452,"question_id":20720417,"body_markdown":"Use something like `yyyy-MM-dd&#39;T&#39;HH:mm:ssZ` as parsing format instead of ` EEEE, dd MMMM yyyy`.","title":"How to parse time from date string retrieved from Facebook","body":"<p>Use something like <code>yyyy-MM-dd'T'HH:mm:ssZ</code> as parsing format instead of <code>EEEE, dd MMMM yyyy</code>.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1387639378,"creation_date":1387639378,"answer_id":20720477,"question_id":20720417,"body_markdown":"You need two formats: one to parse the date and one to format it\r\n\r\n\tString startTime = &quot;2013-12-21T18:30:00+0100&quot;;\r\n\tSimpleDateFormat incomingFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n\tDate date = incomingFormat.parse(startTime);\r\n\t\t\r\n\tSimpleDateFormat outgoingFormat = new SimpleDateFormat(&quot; EEEE, dd MMMM yyyy&quot;, java.util.Locale.getDefault());\r\n\t\t\r\n\tSystem.out.println(outgoingFormat.format(date));\r\n\r\nprints\r\n\r\n     Saturday, 21 December 2013\r\n\r\n","title":"How to parse time from date string retrieved from Facebook","body":"<p>You need two formats: one to parse the date and one to format it</p>\n\n<pre><code>String startTime = \"2013-12-21T18:30:00+0100\";\nSimpleDateFormat incomingFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\");\nDate date = incomingFormat.parse(startTime);\n\nSimpleDateFormat outgoingFormat = new SimpleDateFormat(\" EEEE, dd MMMM yyyy\", java.util.Locale.getDefault());\n\nSystem.out.println(outgoingFormat.format(date));\n</code></pre>\n\n<p>prints</p>\n\n<pre><code> Saturday, 21 December 2013\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1387671399,"creation_date":1387670908,"answer_id":20724869,"question_id":20720417,"body_markdown":"Substring\r\n--\r\n\r\nIf all you want is literally the time component lifted from that string, call the [`substring`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)) method on the String class…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // &#169; 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\r\n    // import org.joda.time.*;\r\n    // import org.joda.time.format.*;\r\n\r\n    String dateTimeStringFromFacebook = &quot;2013-12-21T18:30:00+0100&quot;;\r\n\r\n    // Extract a substring.\r\n    String timeSubstring = dateTimeStringFromFacebook.substring( 11, 19 );\r\n\r\nDateTime Object\r\n--\r\n\r\nIf you want the time converted to a particular time zone, convert the string to a date-time object. Use a formatter to express just the time component.\r\n\r\nHere is some example code using the [Joda-Time][1] 2.3 library. Avoid the notoriously bad java.util.Date/Calendar classes. Use either Joda-Time or the new java.time.* JSR 310 classes bundled with Java 8.\r\n\r\n    // From String to DateTime object.\r\n    DateTime dateTime = new DateTime( dateTimeStringFromFacebook, DateTimeZone.UTC );\r\n\r\n    // From DateTime object to String\r\n    // Extract just the hours, minutes, seconds.\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\r\n    String timeFragment_Paris = formatter.withZone( DateTimeZone.forID( &quot;Europe/Paris&quot; ) ).print( dateTime );\r\n    String timeFragment_Kolkata = formatter.withZone( DateTimeZone.forID( &quot;Asia/Kolkata&quot; ) ).print( dateTime ); // Formerly known as Calcutta, India.\r\n\r\nDump to console…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;dateTimeStringFromFacebook: &quot;  + dateTimeStringFromFacebook );\r\n    System.out.println( &quot;timeSubstring: &quot; + timeSubstring );\r\n    System.out.println( &quot;dateTime: &quot;  + dateTime );\r\n    System.out.println( &quot;timeFragment_Paris: &quot;  + timeFragment_Paris );\r\n    System.out.println( &quot;timeFragment_Kolkata: &quot; + timeFragment_Kolkata + &quot; (Note the 00:30 difference due to +05:30 offset)&quot;);\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    dateTimeStringFromFacebook: 2013-12-21T18:30:00+0100\r\n    timeSubstring: 18:30:00\r\n    dateTime: 2013-12-21T17:30:00.000Z\r\n    timeFragment_Paris: 18:30:00\r\n    timeFragment_Kolkata: 23:00:00 (Note the 00:30 difference due to +05:30 offset)\r\n\r\nThink Time Zone\r\n--\r\n\r\nYour question fails to address the question of time zone. Make a habit of always thinking about time zone whenever working with date-time values. If you mean the same time zone, say so explicitly. If you mean the default time zone of the Java environment, say so. If you mean [UTC][2]… well, you get the idea.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://en.wikipedia.org/wiki/Coordinated_Universal_Time","title":"How to parse time from date string retrieved from Facebook","body":"<h2>Substring</h2>\n\n<p>If all you want is literally the time component lifted from that string, call the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring%28int,%20int%29\" rel=\"nofollow\"><code>substring</code></a> method on the String class…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// © 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\n// import org.joda.time.*;\n// import org.joda.time.format.*;\n\nString dateTimeStringFromFacebook = \"2013-12-21T18:30:00+0100\";\n\n// Extract a substring.\nString timeSubstring = dateTimeStringFromFacebook.substring( 11, 19 );\n</code></pre>\n\n<h2>DateTime Object</h2>\n\n<p>If you want the time converted to a particular time zone, convert the string to a date-time object. Use a formatter to express just the time component.</p>\n\n<p>Here is some example code using the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> 2.3 library. Avoid the notoriously bad java.util.Date/Calendar classes. Use either Joda-Time or the new java.time.* JSR 310 classes bundled with Java 8.</p>\n\n<pre><code>// From String to DateTime object.\nDateTime dateTime = new DateTime( dateTimeStringFromFacebook, DateTimeZone.UTC );\n\n// From DateTime object to String\n// Extract just the hours, minutes, seconds.\nDateTimeFormatter formatter = DateTimeFormat.forPattern(\"HH:mm:ss\");\nString timeFragment_Paris = formatter.withZone( DateTimeZone.forID( \"Europe/Paris\" ) ).print( dateTime );\nString timeFragment_Kolkata = formatter.withZone( DateTimeZone.forID( \"Asia/Kolkata\" ) ).print( dateTime ); // Formerly known as Calcutta, India.\n</code></pre>\n\n<p>Dump to console…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"dateTimeStringFromFacebook: \"  + dateTimeStringFromFacebook );\nSystem.out.println( \"timeSubstring: \" + timeSubstring );\nSystem.out.println( \"dateTime: \"  + dateTime );\nSystem.out.println( \"timeFragment_Paris: \"  + timeFragment_Paris );\nSystem.out.println( \"timeFragment_Kolkata: \" + timeFragment_Kolkata + \" (Note the 00:30 difference due to +05:30 offset)\");\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dateTimeStringFromFacebook: 2013-12-21T18:30:00+0100\ntimeSubstring: 18:30:00\ndateTime: 2013-12-21T17:30:00.000Z\ntimeFragment_Paris: 18:30:00\ntimeFragment_Kolkata: 23:00:00 (Note the 00:30 difference due to +05:30 offset)\n</code></pre>\n\n<h2>Think Time Zone</h2>\n\n<p>Your question fails to address the question of time zone. Make a habit of always thinking about time zone whenever working with date-time values. If you mean the same time zone, say so explicitly. If you mean the default time zone of the Java environment, say so. If you mean <a href=\"http://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow\">UTC</a>… well, you get the idea.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673362319,"creation_date":1673362319,"answer_id":75071739,"question_id":20720417,"body_markdown":"&gt; I&#39;m getting these times from Facebook events. E.g: start_time and it&#39;s\r\n&gt; a string like this:\r\n&gt; \r\n&gt; 2013-12-21T18:30:00+0100\r\n&gt; \r\n&gt; Now I just want the time, like:\r\n&gt; \r\n&gt; 18.30\r\n\r\nSolution using `java.time`, the modern date-time API:\r\n--\r\n\r\n    OffsetDateTime.parse(\r\n        &quot;2013-12-21T18:30:00+0100&quot;, \r\n        DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n    ).toLocalTime()\r\n\r\n**Description:** Your date-time string has a timezone offset of `+01:00` hours. `java.time` API provides you with `OffsetDateTime` to contain the information of date-time units along with the timezone offset. Using the applicable `DateTimeFormatter`, parse the string into an `OffsetDateTime` and then get the `LocalTime` part of this date-time using [`OffsetDateTime#toLocalTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toLocalTime--).\r\n\r\n**Demo using `java.time` API**:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(OffsetDateTime.parse(\r\n                &quot;2013-12-21T18:30:00+0100&quot;, \r\n                DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n            ).toLocalTime());\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    18:30\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/jd8J45)\r\n\r\n**Note:** You can use `y` instead of `u` here but [I prefer](https://stackoverflow.com/a/65928023/10819573) `u` to `y`.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\nA note about the legacy API:\r\n--\r\nThe question and the [accepted answer](https://stackoverflow.com/a/20720477/10819573) use `java.util.Date` and `SimpleDateFormat` which was the correct thing to do in 2013. In Mar 2014, the `java.util` date-time API and their formatting API, `SimpleDateFormat` were supplanted by the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Since then, it is highly recommended to stop using the legacy date-time API.","title":"How to parse time from date string retrieved from Facebook","body":"<blockquote>\n<p>I'm getting these times from Facebook events. E.g: start_time and it's\na string like this:</p>\n<p>2013-12-21T18:30:00+0100</p>\n<p>Now I just want the time, like:</p>\n<p>18.30</p>\n</blockquote>\n<h2>Solution using <code>java.time</code>, the modern date-time API:</h2>\n<pre><code>OffsetDateTime.parse(\n    &quot;2013-12-21T18:30:00+0100&quot;, \n    DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ssZ&quot;)\n).toLocalTime()\n</code></pre>\n<p><strong>Description:</strong> Your date-time string has a timezone offset of <code>+01:00</code> hours. <code>java.time</code> API provides you with <code>OffsetDateTime</code> to contain the information of date-time units along with the timezone offset. Using the applicable <code>DateTimeFormatter</code>, parse the string into an <code>OffsetDateTime</code> and then get the <code>LocalTime</code> part of this date-time using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toLocalTime--\" rel=\"nofollow noreferrer\"><code>OffsetDateTime#toLocalTime</code></a>.</p>\n<p><strong>Demo using <code>java.time</code> API</strong>:</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\n\nclass Main {\n    public static void main(String[] args) {\n        System.out.println(OffsetDateTime.parse(\n            &quot;2013-12-21T18:30:00+0100&quot;, \n            DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ssZ&quot;)\n        ).toLocalTime());\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>18:30\n</code></pre>\n<p><a href=\"https://ideone.com/jd8J45\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p><strong>Note:</strong> You can use <code>y</code> instead of <code>u</code> here but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer</a> <code>u</code> to <code>y</code>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<h2>A note about the legacy API:</h2>\n<p>The question and the <a href=\"https://stackoverflow.com/a/20720477/10819573\">accepted answer</a> use <code>java.util.Date</code> and <code>SimpleDateFormat</code> which was the correct thing to do in 2013. In Mar 2014, the <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> were supplanted by the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>. Since then, it is highly recommended to stop using the legacy date-time API.</p>\n"}],"owner":{"account_id":3609816,"reputation":67,"user_id":3011083,"accept_rate":33,"display_name":"user3011083"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2796,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1673362319,"creation_date":1387639015,"question_id":20720417,"body_markdown":"I&#39;m getting these times from Facebook events. E.g: start_time and it&#39;s a string like this:\r\n\r\n&gt; 2013-12-21T18:30:00+0100 \r\n\r\nNow I just want the time, like:\r\n&gt;18.30\r\n\r\nI tried to do it with this:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot; EEEE, dd MMMM yyyy&quot;, java.util.Locale.getDefault());\r\n                \tDate formatted = null;\r\n                \ttry {\r\n    \t\t\t\t\tformatted = formatter.parse(p.getStart_time());\r\n    \t\t\t\t} catch (ParseException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n                \tString formattedString = formatted.toString();\r\n                    txtStart_time.setText(&quot;&quot;+formattedString);\r\n\r\n`p.getStart_time()` is a String that gives me the date like I said before.\r\n\r\nIf I do this method, I get an error: \r\n\r\n&gt; Unparseable date.\r\n\r\nDoes anybody know a work around?","title":"How to parse time from date string retrieved from Facebook","body":"<p>I'm getting these times from Facebook events. E.g: start_time and it's a string like this:</p>\n\n<blockquote>\n  <p>2013-12-21T18:30:00+0100 </p>\n</blockquote>\n\n<p>Now I just want the time, like:</p>\n\n<blockquote>\n  <p>18.30</p>\n</blockquote>\n\n<p>I tried to do it with this:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\" EEEE, dd MMMM yyyy\", java.util.Locale.getDefault());\n                Date formatted = null;\n                try {\n                    formatted = formatter.parse(p.getStart_time());\n                } catch (ParseException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                String formattedString = formatted.toString();\n                txtStart_time.setText(\"\"+formattedString);\n</code></pre>\n\n<p><code>p.getStart_time()</code> is a String that gives me the date like I said before.</p>\n\n<p>If I do this method, I get an error: </p>\n\n<blockquote>\n  <p>Unparseable date.</p>\n</blockquote>\n\n<p>Does anybody know a work around?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":5307368,"reputation":342,"user_id":4234789,"display_name":"ARIS"},"score":0,"creation_date":1416320755,"post_id":26839878,"comment_id":42523817,"body_markdown":"Feature requested at official site [http://code.google.com/p/radar-netbeans/issues/detail?id=29](http://code.google.com/p/radar-netbeans/issues/detail?id=29)","body":"Feature requested at official site <a href=\"http://code.google.com/p/radar-netbeans/issues/detail?id=29\" rel=\"nofollow noreferrer\">http://code.google.com/p/radar-netbeans/issues/detail?id=29</a>"}],"answers":[{"tags":[],"owner":{"account_id":5307368,"reputation":342,"user_id":4234789,"display_name":"ARIS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1416816494,"creation_date":1416816494,"answer_id":27100335,"question_id":26839878,"body_markdown":"The feature was requested at official site in this link: http://code.google.com/p/radar-netbeans/issues/detail?id=29 and has been added in version 2.2-SNAPSHOT (not released at current date).\r\n\r\nIn the settings panel (tools &gt; options &gt; miscellaneous &gt; SonarQube) there is an option called &quot;Runner JVM arguments&quot;. I tried with 1GB (option -Xmx1024m) and now is working perfectly.","title":"Netbeans Radar Plugin Configuration","body":"<p>The feature was requested at official site in this link: <a href=\"http://code.google.com/p/radar-netbeans/issues/detail?id=29\">http://code.google.com/p/radar-netbeans/issues/detail?id=29</a> and has been added in version 2.2-SNAPSHOT (not released at current date).</p>\n\n<p>In the settings panel (tools > options > miscellaneous > SonarQube) there is an option called \"Runner JVM arguments\". I tried with 1GB (option -Xmx1024m) and now is working perfectly.</p>\n"}],"owner":{"account_id":5307368,"reputation":342,"user_id":4234789,"display_name":"ARIS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4901,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":27100335,"answer_count":1,"score":6,"last_activity_date":1673362294,"creation_date":1415609416,"question_id":26839878,"body_markdown":"I&#39;m using Netbeans 8.0.1 and I need to run and check SonarQube analysis from my IDE before commiting to SVN. I have installed the plugin Netbeans-Radar plugin for launch local analysis and check de results. This plugin has an option called &quot;Get Issues With Sonnar Runner&quot; for this purpose as I found in this web: http://code.google.com/p/radar-netbeans/\r\n\r\nThe problem is that when I run this option, after a moment, I recive a &quot;Java Heap Space&quot; error. I know what this error mean but I don&#39;t know how to solve it. I tried increasing the heap space of the Netbeans, adding the argument &quot;-J-Xmx1024m&quot; to the property &quot;netbeans_default_options&quot; in the file .../Netbeans 8.0/etc/netbeans.conf. The heap space of Netbeans is really increased, as I check with jvisualVM (the Netbeans process has 1GB heap space). \r\n\r\nThe problem is that the plugin launch an independent process and don&#39;t use the arguments indicated in the file netbeans.conf. In the error log, I see that this command is being launched:\r\n\r\n    C:\\Program Files (x86)\\Java\\jdk1.7.0_45\\jre\\bin\\java.exe -cp C:\\Users\\XXX\\AppData\\Local\\Temp\\sonar-runner-impl7326402756121541816.jar org.sonar.runner.impl.BatchLauncherMain C:\\Users\\XXX\\AppData\\Local\\Temp\\sonar-project1505822727125430784.properties\r\n\r\nSo, the question is, can someone tell me how can I configure the Netbeans-Radar plugin in order to increase the heap space? How can I configure Netbeans or Radar plugin to use the argument &quot;-Xmx1024m&quot; when launching java.exe?\r\n\r\nI use this versions: Netbeans 8.0.1, Radar-plugin 2.1","title":"Netbeans Radar Plugin Configuration","body":"<p>I'm using Netbeans 8.0.1 and I need to run and check SonarQube analysis from my IDE before commiting to SVN. I have installed the plugin Netbeans-Radar plugin for launch local analysis and check de results. This plugin has an option called \"Get Issues With Sonnar Runner\" for this purpose as I found in this web: <a href=\"http://code.google.com/p/radar-netbeans/\">http://code.google.com/p/radar-netbeans/</a></p>\n\n<p>The problem is that when I run this option, after a moment, I recive a \"Java Heap Space\" error. I know what this error mean but I don't know how to solve it. I tried increasing the heap space of the Netbeans, adding the argument \"-J-Xmx1024m\" to the property \"netbeans_default_options\" in the file .../Netbeans 8.0/etc/netbeans.conf. The heap space of Netbeans is really increased, as I check with jvisualVM (the Netbeans process has 1GB heap space). </p>\n\n<p>The problem is that the plugin launch an independent process and don't use the arguments indicated in the file netbeans.conf. In the error log, I see that this command is being launched:</p>\n\n<pre><code>C:\\Program Files (x86)\\Java\\jdk1.7.0_45\\jre\\bin\\java.exe -cp C:\\Users\\XXX\\AppData\\Local\\Temp\\sonar-runner-impl7326402756121541816.jar org.sonar.runner.impl.BatchLauncherMain C:\\Users\\XXX\\AppData\\Local\\Temp\\sonar-project1505822727125430784.properties\n</code></pre>\n\n<p>So, the question is, can someone tell me how can I configure the Netbeans-Radar plugin in order to increase the heap space? How can I configure Netbeans or Radar plugin to use the argument \"-Xmx1024m\" when launching java.exe?</p>\n\n<p>I use this versions: Netbeans 8.0.1, Radar-plugin 2.1</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673362291,"creation_date":1673362291,"answer_id":75071731,"question_id":75064091,"body_markdown":"No; header names are case-sensitive; you would need to write a custom header mapper for this use case.","title":"Spring integration not able to ignore case while mapping request headers into response","body":"<p>No; header names are case-sensitive; you would need to write a custom header mapper for this use case.</p>\n"}],"owner":{"account_id":4659923,"reputation":63,"user_id":3774443,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673362291,"creation_date":1673308307,"question_id":75064091,"body_markdown":"In my spring integration application , one of the step flows creates an outbound request for which X-JWS-Signature header is added and as part of the response another X-Jws-Signature (see the case difference)header is received with a different value. Ideally, while preparing the response headers as spring integration adds the request headers by default it ignores the existing values for headers present in request and replaces them with the values in response headers if header names are same but it in my case it treats them as two different headers which is not what I expect.\r\n\r\nI can not see any functionality within DefaultHttpHeaderMapper class that allows for this case sensitivity in the header mapping to be ignored . Can you please help me with this ?","title":"Spring integration not able to ignore case while mapping request headers into response","body":"<p>In my spring integration application , one of the step flows creates an outbound request for which X-JWS-Signature header is added and as part of the response another X-Jws-Signature (see the case difference)header is received with a different value. Ideally, while preparing the response headers as spring integration adds the request headers by default it ignores the existing values for headers present in request and replaces them with the values in response headers if header names are same but it in my case it treats them as two different headers which is not what I expect.</p>\n<p>I can not see any functionality within DefaultHttpHeaderMapper class that allows for this case sensitivity in the header mapping to be ignored . Can you please help me with this ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1673362906,"post_id":75071548,"comment_id":132478642,"body_markdown":"Bear in mind this is probably a very bad idea. You do not control your activity lifecycle, Android does; by passing it to your Navigation, and having a hard reference, you&#39;re potentially preventing all the activity (and its views) to be destroyed when they should. Or to point to an activity that was destroyed to begin with, causing IllegalState/NullPointer exceptions.","body":"Bear in mind this is probably a very bad idea. You do not control your activity lifecycle, Android does; by passing it to your Navigation, and having a hard reference, you&#39;re potentially preventing all the activity (and its views) to be destroyed when they should. Or to point to an activity that was destroyed to begin with, causing IllegalState/NullPointer exceptions."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1673363826,"post_id":75071548,"comment_id":132478959,"body_markdown":"Please consider adding all relevant code or better a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please consider adding all relevant code or better a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":14718981,"reputation":1715,"user_id":10630172,"display_name":"Greg Moens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673361841,"creation_date":1673361841,"answer_id":75071632,"question_id":75071548,"body_markdown":"It depends on the thread that is executing the call to updateText(text). If you&#39;re on the main thread, you&#39;ll be good. If you&#39;re on a background thread, you&#39;ll want to use runOnUIThead(). If you&#39;re not sure, assume a background thread to be safe.","title":"Can i use TextView.setText() inside of activity class if i pass MainActivity to this class?","body":"<p>It depends on the thread that is executing the call to updateText(text). If you're on the main thread, you'll be good. If you're on a background thread, you'll want to use runOnUIThead(). If you're not sure, assume a background thread to be safe.</p>\n"}],"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673362179,"creation_date":1673361387,"question_id":75071548,"body_markdown":"I have following Activity:\r\n\r\n  \r\n\r\n   \r\n\r\n           public class MapActivity extends Activity implements LocationListener, NavigationView.OnNavigationItemSelectedListener {\r\n        \r\n        TextView mDistance;\r\n     public Navigation navi = new Navigation(this, this);\r\n        \r\n         @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n               \r\n                super.onCreate(savedInstanceState);\r\n        mDistance = findViewById(R.id.distance2);\r\n        \r\n        }\r\n        \r\n       \r\n        }\r\n\r\nand class Navigation:\r\n\r\n    public class Navigation  {\r\n    \r\n     public Navigation(Context context, MapActivity mapActivity) {\r\n            this.mContext = context;\r\n            this.mapActivity = mapActivity;\r\n    \r\n        }\r\n    \r\n     public void updateText(String text){\r\n            mapActivity.mTravelTime.setText(text);\r\n        }\r\n    }\r\n\r\n\r\nCan i update mDistance using mapActivity.mTravelTime.setText(text); from navi class ? or i need to do it on runOnUIThread ?\r\n\r\nThanks you ","title":"Can i use TextView.setText() inside of activity class if i pass MainActivity to this class?","body":"<p>I have following Activity:</p>\n<pre><code>       public class MapActivity extends Activity implements LocationListener, NavigationView.OnNavigationItemSelectedListener {\n    \n    TextView mDistance;\n public Navigation navi = new Navigation(this, this);\n    \n     @Override\n        protected void onCreate(Bundle savedInstanceState) {\n           \n            super.onCreate(savedInstanceState);\n    mDistance = findViewById(R.id.distance2);\n    \n    }\n    \n   \n    }\n</code></pre>\n<p>and class Navigation:</p>\n<pre><code>public class Navigation  {\n\n public Navigation(Context context, MapActivity mapActivity) {\n        this.mContext = context;\n        this.mapActivity = mapActivity;\n\n    }\n\n public void updateText(String text){\n        mapActivity.mTravelTime.setText(text);\n    }\n}\n</code></pre>\n<p>Can i update mDistance using mapActivity.mTravelTime.setText(text); from navi class ? or i need to do it on runOnUIThread ?</p>\n<p>Thanks you</p>\n"},{"tags":["java","security","reflection","annotations","grpc"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1673366801,"post_id":75071686,"comment_id":132480187,"body_markdown":"See https://github.com/grpc/grpc-java/issues/8826 for something similar. The core answer is &quot;this is not appropriate for interceptors; you need to make your own stub system that does this.&quot; Adding an interface for services to use (https://github.com/grpc/grpc-java/issues/9320) will probably be in 1.53 due end of January, 2023. With interfaces you could use java.lang.reflect.Proxy to do what you need, instead of interceptors or custom generated stubs.","body":"See <a href=\"https://github.com/grpc/grpc-java/issues/8826\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/8826</a> for something similar. The core answer is &quot;this is not appropriate for interceptors; you need to make your own stub system that does this.&quot; Adding an interface for services to use (<a href=\"https://github.com/grpc/grpc-java/issues/9320\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/9320</a>) will probably be in 1.53 due end of January, 2023. With interfaces you could use java.lang.reflect.Proxy to do what you need, instead of interceptors or custom generated stubs."}],"owner":{"account_id":1571567,"reputation":2442,"user_id":1459161,"accept_rate":95,"display_name":"glethien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673362138,"creation_date":1673362138,"question_id":75071686,"body_markdown":"I am building a grpc based server client system with multiple different clients (iOS, Android, Web).\r\nMy backend will have a role system for allowing access to certain methods. For this I&#39;ve implemented my own java annotation with values like, which should be added before every grpc method. Only users with at least one of the roles should be allowed to execute the method.\r\n\r\n@ProjectSecure({&quot;Role1&quot;, &quot;Role2})\r\n\r\nusing GRPC&#39;s ServerInterceptor I have access to the token of the user containing all the roles (JWT). \r\n\r\n```\r\n@Override\r\npublic &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata,\r\nServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\r\n     String fullMethodName = serverCall.getMethodDescriptor().getFullMethodName();\r\n}\r\n```\r\n\r\nIn my case the call above returns\r\n```de.example.project.api.user.LdapUserInterface/save``` but the value I need is different because in the given class is not loadable by reflection, because it is not part of my project instead it is a dependecy. The real implementation with the annotation is in the following class: ```de.example.project.backend.api.impl.server.LdapUserInterfaceImplGrpc/save```\r\n\r\nIt there any easy and cheap way to get the real class called? Because I want to check annotation and its values. \r\n\r\n\r\nThe annotation is implemented as following\r\n\r\n```\r\n@Retention(RUNTIME)\r\n@Target(METHOD) \r\npublic @interface EfbSecured {\r\n\r\n      String[] permissionRights() default { };\r\n}\r\n\r\n``` \r\n\r\nI cannot provide more code, because in reality it is more a company secret, but I will try to answer questions as good as possible.\r\n\r\nEdit: \r\nDue to our infrastructure and architecture, we are not able to use SpringSecurity.","title":"Java GRPC annotation based role authorization","body":"<p>I am building a grpc based server client system with multiple different clients (iOS, Android, Web).\nMy backend will have a role system for allowing access to certain methods. For this I've implemented my own java annotation with values like, which should be added before every grpc method. Only users with at least one of the roles should be allowed to execute the method.</p>\n<p>@ProjectSecure({&quot;Role1&quot;, &quot;Role2})</p>\n<p>using GRPC's ServerInterceptor I have access to the token of the user containing all the roles (JWT).</p>\n<pre><code>@Override\npublic &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata,\nServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\n     String fullMethodName = serverCall.getMethodDescriptor().getFullMethodName();\n}\n</code></pre>\n<p>In my case the call above returns\n<code>de.example.project.api.user.LdapUserInterface/save</code> but the value I need is different because in the given class is not loadable by reflection, because it is not part of my project instead it is a dependecy. The real implementation with the annotation is in the following class: <code>de.example.project.backend.api.impl.server.LdapUserInterfaceImplGrpc/save</code></p>\n<p>It there any easy and cheap way to get the real class called? Because I want to check annotation and its values.</p>\n<p>The annotation is implemented as following</p>\n<pre><code>@Retention(RUNTIME)\n@Target(METHOD) \npublic @interface EfbSecured {\n\n      String[] permissionRights() default { };\n}\n\n</code></pre>\n<p>I cannot provide more code, because in reality it is more a company secret, but I will try to answer questions as good as possible.</p>\n<p>Edit:\nDue to our infrastructure and architecture, we are not able to use SpringSecurity.</p>\n"},{"tags":["java","android-studio","retrofit"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1657828214,"post_id":72984852,"comment_id":128909581,"body_markdown":"What do you mean by &quot;high timeOut&quot;? Can you give an example of such timeout?","body":"What do you mean by &quot;high timeOut&quot;? Can you give an example of such timeout?"},{"owner":{"account_id":10243428,"reputation":43,"user_id":7560050,"display_name":"Fernando"},"score":0,"creation_date":1657836393,"post_id":72984852,"comment_id":128911584,"body_markdown":"I need a timeout of at least 2 minutes.\nBut that exception is thrown at 10 seconds or so.","body":"I need a timeout of at least 2 minutes. But that exception is thrown at 10 seconds or so."}],"answers":[{"tags":[],"owner":{"account_id":26224754,"reputation":11,"user_id":19901600,"display_name":"Petros Erk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673361858,"creation_date":1673361858,"answer_id":75071636,"question_id":72984852,"body_markdown":"&gt; I need a timeout of at least 2 minutes. But that exception is thrown at 10 seconds or so.\r\n\r\n10 seconds is the default timeout for OkHttpClient read, write and connect.\r\nTry increasing the timeout seconds in the builder as shown here:\r\n\r\n    OkHttpClient client = new OkHttpClient().newBuilder()\r\n        .connectTimeout(180, TimeUnit.SECONDS)\r\n        .writeTimeout(180, TimeUnit.SECONDS)\r\n        .readTimeout(180, TimeUnit.SECONDS)\r\n        .build();","title":"OkHttpClient java.net.SocketTimeoutException: timeout","body":"<blockquote>\n<p>I need a timeout of at least 2 minutes. But that exception is thrown at 10 seconds or so.</p>\n</blockquote>\n<p>10 seconds is the default timeout for OkHttpClient read, write and connect.\nTry increasing the timeout seconds in the builder as shown here:</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder()\n    .connectTimeout(180, TimeUnit.SECONDS)\n    .writeTimeout(180, TimeUnit.SECONDS)\n    .readTimeout(180, TimeUnit.SECONDS)\n    .build();\n</code></pre>\n"}],"owner":{"account_id":10243428,"reputation":43,"user_id":7560050,"display_name":"Fernando"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1720,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673361858,"creation_date":1657821641,"question_id":72984852,"body_markdown":"I have a class where I prepare my OkHttpClient and add an Interceptor to it for my Retrofit requests in Android Studio. There it assigns default parameters in all requests.\r\n\r\nIt works fine, except when I need to make requests with a high timeOut (a few minutes). When that happens, it returns the exception to me after a few seconds:\r\n\r\n``` \r\nI/okhttp.OkHttpClient: &lt;-- HTTP FAILED: java.net.SocketTimeoutException: timeout\r\nW/System.err: java.net.SocketTimeoutException: timeout\r\n...\r\nW/System.err: Caused by: java.net.SocketException: socket is closed\r\n``` \r\n\r\nThat error is thrown on the line where I do the return chain of the interceptor.\r\n\r\n``` \r\npublic OkHttpClient getClient(\r\n            int readTimeOut,\r\n            int connectTimeOut,\r\n            Integer delayMiliSeconds) {\r\n\r\n        OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder()\r\n                .readTimeout(readTimeOut, TimeUnit.MILLISECONDS)\r\n                .writeTimeout(readTimeOut, TimeUnit.MILLISECONDS)\r\n                .connectTimeout(connectTimeOut, TimeUnit.MILLISECONDS);\r\n\r\n        okHttpClient.addInterceptor(new Interceptor() {\r\n            @NonNull\r\n            @Override\r\n            public okhttp3.Response intercept(@NonNull Chain chain) throws IOException {\r\n                Request original = chain.request();\r\n                Request.Builder requestBuilder = original.newBuilder();\r\n\r\n                Request request = requestBuilder.build();\r\n                if (original.method().equals(&quot;GET&quot;)) {\r\n                    HttpUrl originalHttpUrl = original.url();\r\n                    HttpUrl url = originalHttpUrl.newBuilder()\r\n                            .addQueryParameter(&quot;param&quot;, &quot;some_param&quot;)\r\n                            .build();\r\n                    requestBuilder.url(url);\r\n                    request = requestBuilder.build();\r\n                }\r\n\r\n                if(delayMiliSeconds != null &amp;&amp; delayMiliSeconds &gt; 0){\r\n                    SystemClock.sleep(delayMiliSeconds);\r\n                }\r\n\r\n                return chain.withReadTimeout(readTimeOut, TimeUnit.MILLISECONDS)\r\n                        .withConnectTimeout(connectTimeOut, TimeUnit.MILLISECONDS)\r\n                        .proceed(request);\r\n            }\r\n        });\r\n\r\n        if (BuildConfig.DEBUG) {\r\n            HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n            interceptor.level(HttpLoggingInterceptor.Level.BODY);\r\n            okHttpClient.addInterceptor(interceptor);\r\n        }\r\n\r\n        return okHttpClient.build();\r\n    }\r\n``` \r\n\r\nI tried assigning the time directly to the Builder of the OkHttpClient and directly to the chain in the return.\r\n\r\nI thank you in advance for any suggestion.","title":"OkHttpClient java.net.SocketTimeoutException: timeout","body":"<p>I have a class where I prepare my OkHttpClient and add an Interceptor to it for my Retrofit requests in Android Studio. There it assigns default parameters in all requests.</p>\n<p>It works fine, except when I need to make requests with a high timeOut (a few minutes). When that happens, it returns the exception to me after a few seconds:</p>\n<pre><code>I/okhttp.OkHttpClient: &lt;-- HTTP FAILED: java.net.SocketTimeoutException: timeout\nW/System.err: java.net.SocketTimeoutException: timeout\n...\nW/System.err: Caused by: java.net.SocketException: socket is closed\n</code></pre>\n<p>That error is thrown on the line where I do the return chain of the interceptor.</p>\n<pre><code>public OkHttpClient getClient(\n            int readTimeOut,\n            int connectTimeOut,\n            Integer delayMiliSeconds) {\n\n        OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder()\n                .readTimeout(readTimeOut, TimeUnit.MILLISECONDS)\n                .writeTimeout(readTimeOut, TimeUnit.MILLISECONDS)\n                .connectTimeout(connectTimeOut, TimeUnit.MILLISECONDS);\n\n        okHttpClient.addInterceptor(new Interceptor() {\n            @NonNull\n            @Override\n            public okhttp3.Response intercept(@NonNull Chain chain) throws IOException {\n                Request original = chain.request();\n                Request.Builder requestBuilder = original.newBuilder();\n\n                Request request = requestBuilder.build();\n                if (original.method().equals(&quot;GET&quot;)) {\n                    HttpUrl originalHttpUrl = original.url();\n                    HttpUrl url = originalHttpUrl.newBuilder()\n                            .addQueryParameter(&quot;param&quot;, &quot;some_param&quot;)\n                            .build();\n                    requestBuilder.url(url);\n                    request = requestBuilder.build();\n                }\n\n                if(delayMiliSeconds != null &amp;&amp; delayMiliSeconds &gt; 0){\n                    SystemClock.sleep(delayMiliSeconds);\n                }\n\n                return chain.withReadTimeout(readTimeOut, TimeUnit.MILLISECONDS)\n                        .withConnectTimeout(connectTimeOut, TimeUnit.MILLISECONDS)\n                        .proceed(request);\n            }\n        });\n\n        if (BuildConfig.DEBUG) {\n            HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n            interceptor.level(HttpLoggingInterceptor.Level.BODY);\n            okHttpClient.addInterceptor(interceptor);\n        }\n\n        return okHttpClient.build();\n    }\n</code></pre>\n<p>I tried assigning the time directly to the Builder of the OkHttpClient and directly to the chain in the return.</p>\n<p>I thank you in advance for any suggestion.</p>\n"},{"tags":["java","checkstyle"],"comments":[{"owner":{"account_id":4306041,"reputation":3558,"user_id":3518383,"display_name":"Juraj"},"score":0,"creation_date":1673195178,"post_id":74978200,"comment_id":132438866,"body_markdown":"escape `.` with \\ in `&lt;property name=&quot;files&quot; value=&quot;MyTest.java&quot;/&gt;`","body":"escape <code>.</code> with \\ in <code>&lt;property name=&quot;files&quot; value=&quot;MyTest.java&quot;&#47;&gt;</code>"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1673206537,"post_id":74978200,"comment_id":132441210,"body_markdown":"Thanks @Juraj, but doing this made no difference: `&lt;property name=&quot;files&quot; value=&quot;MyTest\\.java&quot;/&gt;`","body":"Thanks @Juraj, but doing this made no difference: <code>&lt;property name=&quot;files&quot; value=&quot;MyTest\\.java&quot;&#47;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673353612,"creation_date":1673353117,"answer_id":75069873,"question_id":74978200,"body_markdown":"[The `SuppressionXpathSingleFilter` documentation][1] is confusing and it seems it contains outdated examples. If you check the [`XPathFilterElement`][2] you can see the XPath expression must match the AST leaf node so the easiest way to fix the XPath `query` property is to add a wildcard at the end:\r\n\r\n      &lt;property name=&quot;query&quot; value=&quot;//METHOD_DEF[./IDENT[@text=&#39;testOne&#39;]]//*&quot;/&gt;\r\n\r\n\r\n\r\n  [1]: https://checkstyle.org/apidocs/com/puppycrawl/tools/checkstyle/filters/SuppressionXpathSingleFilter.html\r\n  [2]: https://github.com/checkstyle/checkstyle/blob/098d9c0d764f1d1d92cdcf192e71f56e40e0b68c/src/main/java/com/puppycrawl/tools/checkstyle/filters/XpathFilterElement.java#L192","title":"Unable to suppress Checkstyle test on method with SuppressionXpathSingleFilter","body":"<p><a href=\"https://checkstyle.org/apidocs/com/puppycrawl/tools/checkstyle/filters/SuppressionXpathSingleFilter.html\" rel=\"nofollow noreferrer\">The <code>SuppressionXpathSingleFilter</code> documentation</a> is confusing and it seems it contains outdated examples. If you check the <a href=\"https://github.com/checkstyle/checkstyle/blob/098d9c0d764f1d1d92cdcf192e71f56e40e0b68c/src/main/java/com/puppycrawl/tools/checkstyle/filters/XpathFilterElement.java#L192\" rel=\"nofollow noreferrer\"><code>XPathFilterElement</code></a> you can see the XPath expression must match the AST leaf node so the easiest way to fix the XPath <code>query</code> property is to add a wildcard at the end:</p>\n<pre><code>  &lt;property name=&quot;query&quot; value=&quot;//METHOD_DEF[./IDENT[@text='testOne']]//*&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":515720,"reputation":2487,"user_id":1015848,"accept_rate":57,"display_name":"Roman Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673361653,"creation_date":1673361182,"answer_id":75071506,"question_id":74978200,"body_markdown":"to suppress by xpath you need to know AST node where checkstyle place violation on.\r\n\r\nLook at https://checkstyle.org/cmdline.html#Command_line_usage\r\nthere is `[-g | --generate-xpath-suppression]`\r\n\r\nit will print you xpath. it might be a bit verbose and you can shrink it by usage of leading `//` at place you need.\r\n\r\nChecks that does not have support of Xpath yet: https://checkstyle.org/config_filters.html#SuppressionXpathFilter_Description\r\n\r\n\r\nUnfortunately MagicNumber did not get test example of suppression\r\nhttps://github.com/checkstyle/checkstyle/blob/098d9c0d764f1d1d92cdcf192e71f56e40e0b68c/src/test/java/com/puppycrawl/tools/checkstyle/internal/XpathRegressionTest.java#L114 ,\r\nyou can put your bounty on https://github.com/checkstyle/checkstyle/issues/6207 fix it sooner.\r\n \r\nif you need xpath suppression examples for other Checks, look at https://github.com/checkstyle/checkstyle/tree/master/src/it/java/org/checkstyle/suppressionxpathfilter","title":"Unable to suppress Checkstyle test on method with SuppressionXpathSingleFilter","body":"<p>to suppress by xpath you need to know AST node where checkstyle place violation on.</p>\n<p>Look at <a href=\"https://checkstyle.org/cmdline.html#Command_line_usage\" rel=\"nofollow noreferrer\">https://checkstyle.org/cmdline.html#Command_line_usage</a>\nthere is <code>[-g | --generate-xpath-suppression]</code></p>\n<p>it will print you xpath. it might be a bit verbose and you can shrink it by usage of leading <code>//</code> at place you need.</p>\n<p>Checks that does not have support of Xpath yet: <a href=\"https://checkstyle.org/config_filters.html#SuppressionXpathFilter_Description\" rel=\"nofollow noreferrer\">https://checkstyle.org/config_filters.html#SuppressionXpathFilter_Description</a></p>\n<p>Unfortunately MagicNumber did not get test example of suppression\n<a href=\"https://github.com/checkstyle/checkstyle/blob/098d9c0d764f1d1d92cdcf192e71f56e40e0b68c/src/test/java/com/puppycrawl/tools/checkstyle/internal/XpathRegressionTest.java#L114\" rel=\"nofollow noreferrer\">https://github.com/checkstyle/checkstyle/blob/098d9c0d764f1d1d92cdcf192e71f56e40e0b68c/src/test/java/com/puppycrawl/tools/checkstyle/internal/XpathRegressionTest.java#L114</a> ,\nyou can put your bounty on <a href=\"https://github.com/checkstyle/checkstyle/issues/6207\" rel=\"nofollow noreferrer\">https://github.com/checkstyle/checkstyle/issues/6207</a> fix it sooner.</p>\n<p>if you need xpath suppression examples for other Checks, look at <a href=\"https://github.com/checkstyle/checkstyle/tree/master/src/it/java/org/checkstyle/suppressionxpathfilter\" rel=\"nofollow noreferrer\">https://github.com/checkstyle/checkstyle/tree/master/src/it/java/org/checkstyle/suppressionxpathfilter</a></p>\n"}],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75069873,"answer_count":2,"score":0,"last_activity_date":1673361653,"creation_date":1672619147,"question_id":74978200,"body_markdown":"I am using Checkstyle 10.5 within IntelliJ 2022.3.1. I would like to suppress magic number checks within test methods by using `SuppressionXpathSingleFilter` in the configuration file. I prefer not to use a separate suppressions file because my configuration file will be shared, and I do not want to annotate the source to disable checks.\r\n\r\n## Source file `MyTest.java`\r\n```\r\nclass MyTest {\r\n    public int testOne() {\r\n        return 95;\r\n    }\r\n\r\n    public int TestTwo() {\r\n        return 96;\r\n    }\r\n}\r\n```\r\nThere are 3 style errors:\r\n* a magic number in `testOne()`\r\n* a bad method name in `TestTwo()`\r\n* a magic number in `TestTwo()`\r\n\r\n## Configuration file `test-checks.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE module PUBLIC\r\n          &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\r\n          &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n&lt;module name=&quot;Checker&quot;&gt;\r\n  &lt;module name=&quot;TreeWalker&quot;&gt;\r\n    &lt;module name=&quot;MethodName&quot;/&gt;\r\n    &lt;module name=&quot;MagicNumber&quot;/&gt;\r\n\r\n    &lt;module name=&quot;SuppressionXpathSingleFilter&quot;&gt;\r\n      &lt;property name=&quot;files&quot; value=&quot;MyTest.java&quot;/&gt;\r\n      &lt;property name=&quot;checks&quot; value=&quot;MagicNumber&quot;/&gt;\r\n      &lt;property name=&quot;query&quot; value=&quot;//METHOD_DEF[./IDENT[@text=&#39;testOne&#39;]]&quot;/&gt;\r\n    &lt;/module&gt;\r\n  &lt;/module&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\n## Expected result\r\nWhen I run checkstyle, I expect to see only violations in `TestTwo`:\r\n\r\n```\r\nName &#39;TestTwo&#39; must match pattern &#39;^[a-z][a-zA-Z0-9]*$&#39;. (6:16) [MethodName]\r\n&#39;96&#39; is a magic number. (7:16) [MagicNumber]\r\n```\r\n\r\n## Actual result\r\n\r\nI actually still see the magic number violation in `testOne()`:\r\n```\r\n&#39;95&#39; is a magic number. (3:16) [MagicNumber]\r\nName &#39;TestTwo&#39; must match pattern &#39;^[a-z][a-zA-Z0-9]*$&#39;. (6:16) [MethodName]\r\n&#39;96&#39; is a magic number. (7:16) [MagicNumber]\r\n```\r\n\r\n## What I&#39;ve tried\r\n\r\nI have tried different path values in `test-checks.xml`, such as:\r\n```\r\n&quot;//CLASS_DEF[@text=&#39;MyTest&#39;]/OBJBLOCK/METHOD_DEF[@text=&#39;testOne&#39;]/IDENT&quot;\r\n```\r\n\r\nNo matter what I do, the result is the same. **How do I disable a specific check within a specific method without a separate suppression file or annotating the code?**","title":"Unable to suppress Checkstyle test on method with SuppressionXpathSingleFilter","body":"<p>I am using Checkstyle 10.5 within IntelliJ 2022.3.1. I would like to suppress magic number checks within test methods by using <code>SuppressionXpathSingleFilter</code> in the configuration file. I prefer not to use a separate suppressions file because my configuration file will be shared, and I do not want to annotate the source to disable checks.</p>\n<h2>Source file <code>MyTest.java</code></h2>\n<pre><code>class MyTest {\n    public int testOne() {\n        return 95;\n    }\n\n    public int TestTwo() {\n        return 96;\n    }\n}\n</code></pre>\n<p>There are 3 style errors:</p>\n<ul>\n<li>a magic number in <code>testOne()</code></li>\n<li>a bad method name in <code>TestTwo()</code></li>\n<li>a magic number in <code>TestTwo()</code></li>\n</ul>\n<h2>Configuration file <code>test-checks.xml</code></h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE module PUBLIC\n          &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\n          &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\n&lt;module name=&quot;Checker&quot;&gt;\n  &lt;module name=&quot;TreeWalker&quot;&gt;\n    &lt;module name=&quot;MethodName&quot;/&gt;\n    &lt;module name=&quot;MagicNumber&quot;/&gt;\n\n    &lt;module name=&quot;SuppressionXpathSingleFilter&quot;&gt;\n      &lt;property name=&quot;files&quot; value=&quot;MyTest.java&quot;/&gt;\n      &lt;property name=&quot;checks&quot; value=&quot;MagicNumber&quot;/&gt;\n      &lt;property name=&quot;query&quot; value=&quot;//METHOD_DEF[./IDENT[@text='testOne']]&quot;/&gt;\n    &lt;/module&gt;\n  &lt;/module&gt;\n&lt;/module&gt;\n</code></pre>\n<h2>Expected result</h2>\n<p>When I run checkstyle, I expect to see only violations in <code>TestTwo</code>:</p>\n<pre><code>Name 'TestTwo' must match pattern '^[a-z][a-zA-Z0-9]*$'. (6:16) [MethodName]\n'96' is a magic number. (7:16) [MagicNumber]\n</code></pre>\n<h2>Actual result</h2>\n<p>I actually still see the magic number violation in <code>testOne()</code>:</p>\n<pre><code>'95' is a magic number. (3:16) [MagicNumber]\nName 'TestTwo' must match pattern '^[a-z][a-zA-Z0-9]*$'. (6:16) [MethodName]\n'96' is a magic number. (7:16) [MagicNumber]\n</code></pre>\n<h2>What I've tried</h2>\n<p>I have tried different path values in <code>test-checks.xml</code>, such as:</p>\n<pre><code>&quot;//CLASS_DEF[@text='MyTest']/OBJBLOCK/METHOD_DEF[@text='testOne']/IDENT&quot;\n</code></pre>\n<p>No matter what I do, the result is the same. <strong>How do I disable a specific check within a specific method without a separate suppression file or annotating the code?</strong></p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673361526,"post_id":75071558,"comment_id":132478179,"body_markdown":"The code would be very helpful","body":"The code would be very helpful"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673362932,"post_id":75071558,"comment_id":132478651,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27489125,"reputation":1,"user_id":20974849,"display_name":"Harshini Agram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673361451,"creation_date":1673361451,"question_id":75071558,"body_markdown":"I have created a project that detects the prescription. I have used API key of VisionAI to process the request. After entering the API key in the code Im getting an error &quot;Invalid Key&quot;. I have entered the credit card details correctly.\r\n\r\nI want to know how to get the valid API key  to detect the contents in the image","title":"Invalid API key of VisionAI","body":"<p>I have created a project that detects the prescription. I have used API key of VisionAI to process the request. After entering the API key in the code Im getting an error &quot;Invalid Key&quot;. I have entered the credit card details correctly.</p>\n<p>I want to know how to get the valid API key  to detect the contents in the image</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1673359701,"post_id":75071140,"comment_id":132477390,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/33237731/how-to-delete-old-logs-with-log4j2) helps","body":"Maybe <a href=\"https://stackoverflow.com/questions/33237731/how-to-delete-old-logs-with-log4j2\">this</a> helps"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673360175,"creation_date":1673360175,"answer_id":75071264,"question_id":75071140,"body_markdown":"You defined the RollingFileAppender which will regularly write to a new logfile. You also defined the triggers when to write to a new file, but you did not set the [Rollover Strategies][1].\r\n\r\n- You could use the DirectWrite Rollover Strategy with maxFiles not set (to a value greater than zero).\r\n\r\n- You could also try to configure the Log Archive Retention Policy/Delete on Rollover action. Set testMode=true to prevent any file from being deleted.\r\n\r\nExamples are available on the huge page you mentioned.\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#DefaultRolloverStrategy","title":"log4j2 RollingFile only keeping 4 days","body":"<p>You defined the RollingFileAppender which will regularly write to a new logfile. You also defined the triggers when to write to a new file, but you did not set the <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#DefaultRolloverStrategy\" rel=\"nofollow noreferrer\">Rollover Strategies</a>.</p>\n<ul>\n<li><p>You could use the DirectWrite Rollover Strategy with maxFiles not set (to a value greater than zero).</p>\n</li>\n<li><p>You could also try to configure the Log Archive Retention Policy/Delete on Rollover action. Set testMode=true to prevent any file from being deleted.</p>\n</li>\n</ul>\n<p>Examples are available on the huge page you mentioned.</p>\n"},{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673361069,"creation_date":1673361069,"answer_id":75071481,"question_id":75071140,"body_markdown":"What you looking for is the &quot;Default Rollover Strategy&quot; specified under [Rollover Policies][1]. You can add one explicitly to adjust the default parameters.\r\n\r\nSpecify it like this inside the RollingFile:\r\n\r\n    &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n\r\nAlthough I am confused because according to their documentation the default is 7:\r\n\r\n&gt; max | integer | The maximum value of the counter. Once this values is reached older archives will be deleted on subsequent rollovers. The default value is 7\r\n\r\n \r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#RolloverStrategies","title":"log4j2 RollingFile only keeping 4 days","body":"<p>What you looking for is the &quot;Default Rollover Strategy&quot; specified under <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#RolloverStrategies\" rel=\"nofollow noreferrer\">Rollover Policies</a>. You can add one explicitly to adjust the default parameters.</p>\n<p>Specify it like this inside the RollingFile:</p>\n<pre><code>&lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n</code></pre>\n<p>Although I am confused because according to their documentation the default is 7:</p>\n<blockquote>\n<p>max | integer | The maximum value of the counter. Once this values is reached older archives will be deleted on subsequent rollovers. The default value is 7</p>\n</blockquote>\n"}],"owner":{"account_id":1422061,"reputation":107,"user_id":1346514,"accept_rate":100,"display_name":"KoenDG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673361069,"creation_date":1673359526,"question_id":75071140,"body_markdown":"I tried setting up log4j to compress my log files and send them to a mount. I added a day/month/year to it in an attempt to get it in directories like that.\r\n\r\nAt first this appeared to be working.\r\n\r\nComing back a while later, it turns out only the most recent 4 days are present.\r\n\r\nThis is my config:\r\n\r\n```xml\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n\r\n        &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;\r\n                    %d{yyyy-MM-dd HH:mm:ss.SSS} %-5p (%t) %c{1.} %m%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/Console&gt;\r\n\r\n        &lt;RollingFile\r\n                name=&quot;RollingFile&quot;\r\n                fileName=&quot;$/home/myservice/myservice.log&quot;\r\n                filePattern=&quot;/mnt/logbackups/$${date:dd-MM-yyyy}/myservice-%d{dd-MM-yyyy}-%i.log.gz&quot; &gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;\r\n                    %d{yyyy-MM-dd HH:mm:ss.SSS} %-5p (%t) %c{1.} %m%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;OnStartupTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;32 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nI tried looking for a cause in the documentation: https://logging.apache.org/log4j/2.x/manual/appenders.html\r\n\r\nBut I can&#39;t find anything. Then again it&#39;s a gigantic page, maybe I&#39;m missing something.\r\n\r\nDoes anybody know why this is happening?","title":"log4j2 RollingFile only keeping 4 days","body":"<p>I tried setting up log4j to compress my log files and send them to a mount. I added a day/month/year to it in an attempt to get it in directories like that.</p>\n<p>At first this appeared to be working.</p>\n<p>Coming back a while later, it turns out only the most recent 4 days are present.</p>\n<p>This is my config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration&gt;\n    &lt;Appenders&gt;\n\n        &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;\n                    %d{yyyy-MM-dd HH:mm:ss.SSS} %-5p (%t) %c{1.} %m%n\n                &lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Console&gt;\n\n        &lt;RollingFile\n                name=&quot;RollingFile&quot;\n                fileName=&quot;$/home/myservice/myservice.log&quot;\n                filePattern=&quot;/mnt/logbackups/$${date:dd-MM-yyyy}/myservice-%d{dd-MM-yyyy}-%i.log.gz&quot; &gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;\n                    %d{yyyy-MM-dd HH:mm:ss.SSS} %-5p (%t) %c{1.} %m%n\n                &lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;OnStartupTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;32 MB&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>I tried looking for a cause in the documentation: <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/appenders.html</a></p>\n<p>But I can't find anything. Then again it's a gigantic page, maybe I'm missing something.</p>\n<p>Does anybody know why this is happening?</p>\n"},{"tags":["java","android","react-native","react-native-bridge","react-native-ui-components"],"answers":[{"tags":[],"owner":{"account_id":2886018,"reputation":69,"user_id":2475909,"display_name":"Fabio Campos"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1673360584,"creation_date":1587425416,"answer_id":61333749,"question_id":61268516,"body_markdown":"I think you&#39;re looking for the WritableArray.\r\nYou can create one like this:\r\n\r\n```\r\n// Initialize an empty array\r\nWritableArray array = new WritableNativeArray();\r\n\r\n// Add items to array using its push methods, for example\r\narray.pushString(&quot;test&quot;);\r\n```","title":"How to put array on WritableMap object in ReactNative bridge","body":"<p>I think you're looking for the WritableArray.\nYou can create one like this:</p>\n<pre><code>// Initialize an empty array\nWritableArray array = new WritableNativeArray();\n\n// Add items to array using its push methods, for example\narray.pushString(&quot;test&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275533,"reputation":32896,"user_id":568458,"accept_rate":67,"display_name":"user56reinstatemonica8"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673360762,"creation_date":1673359347,"answer_id":75071088,"question_id":61268516,"body_markdown":"`Arguments` from React Native Bridge has a helper method [`Arguments.fromList(list)`][1] that returns a `WritableArray`, which is a subclass of `ReadableArray`, so satisfies the condition and is ready to pass to `putArray`.\r\n\r\n---\r\n\r\nFor example, to take a list and push it to a JS event as an array property:\r\n\r\n**Kotlin**:\r\n\r\n```kt\r\nimport com.facebook.react.bridge.Arguments\r\n// ...\r\n\r\nval params = Arguments.createMap().apply {\r\n   putArray(&quot;data&quot;, Arguments.fromList(someList))\r\n   // ...put more params\r\n}\r\n```\r\n\r\n**Java**:\r\n\r\n```java\r\nimport com.facebook.react.bridge.Arguments;\r\n// ...\r\n\r\nWriteableArray array = Arguments.fromList(someList);\r\nWritableMap params = Arguments.createMap();\r\nparams.putArray(array);\r\n// ...put more params\r\n```\r\n\r\nPass these to `.emit(&quot;SomeEvent&quot;, params)` and JS should receive `{ data: [...someList] }`.\r\n\r\n---\r\n\r\n\r\nThere&#39;s also [`Arguments.makeNativeArray(list)`][2], which has an almost identical API and implementation to `.fromList` - both create a `WritableArray` by iterating a list arg, pushing each item by type. The only differences I can see are:\r\n\r\n- `.fromList` explicitly handles nested arrays\r\n- `.makeNativeArray` explicitly handles `null` (returning an empty array)\r\n\r\n\r\n  [1]: https://github.com/facebook/react-native/blob/main/ReactAndroid/src/main/java/com/facebook/react/bridge/Arguments.java#L251\r\n  [2]: https://github.com/facebook/react-native/blob/main/ReactAndroid/src/main/java/com/facebook/react/bridge/Arguments.java#L51","title":"How to put array on WritableMap object in ReactNative bridge","body":"<p><code>Arguments</code> from React Native Bridge has a helper method <a href=\"https://github.com/facebook/react-native/blob/main/ReactAndroid/src/main/java/com/facebook/react/bridge/Arguments.java#L251\" rel=\"nofollow noreferrer\"><code>Arguments.fromList(list)</code></a> that returns a <code>WritableArray</code>, which is a subclass of <code>ReadableArray</code>, so satisfies the condition and is ready to pass to <code>putArray</code>.</p>\n<hr />\n<p>For example, to take a list and push it to a JS event as an array property:</p>\n<p><strong>Kotlin</strong>:</p>\n<pre><code>import com.facebook.react.bridge.Arguments\n// ...\n\nval params = Arguments.createMap().apply {\n   putArray(&quot;data&quot;, Arguments.fromList(someList))\n   // ...put more params\n}\n</code></pre>\n<p><strong>Java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.facebook.react.bridge.Arguments;\n// ...\n\nWriteableArray array = Arguments.fromList(someList);\nWritableMap params = Arguments.createMap();\nparams.putArray(array);\n// ...put more params\n</code></pre>\n<p>Pass these to <code>.emit(&quot;SomeEvent&quot;, params)</code> and JS should receive <code>{ data: [...someList] }</code>.</p>\n<hr />\n<p>There's also <a href=\"https://github.com/facebook/react-native/blob/main/ReactAndroid/src/main/java/com/facebook/react/bridge/Arguments.java#L51\" rel=\"nofollow noreferrer\"><code>Arguments.makeNativeArray(list)</code></a>, which has an almost identical API and implementation to <code>.fromList</code> - both create a <code>WritableArray</code> by iterating a list arg, pushing each item by type. The only differences I can see are:</p>\n<ul>\n<li><code>.fromList</code> explicitly handles nested arrays</li>\n<li><code>.makeNativeArray</code> explicitly handles <code>null</code> (returning an empty array)</li>\n</ul>\n"}],"owner":{"account_id":9317472,"reputation":927,"user_id":6917362,"accept_rate":80,"display_name":"E J Chathuranga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4077,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1673360762,"creation_date":1587116714,"question_id":61268516,"body_markdown":"To communicate with Android to ReactNative I use ```RCTEventEmitter```. Using this I need parse array to RN side and this array should set on ```WritableMap``` object.\r\nOn `WritableMap` object can put Array as shown below,\r\n\r\n  ```\r\n  void putArray(@NonNull String key, @Nullable ReadableArray value);\r\n```\r\n\r\nHow to create and add data into ```ReadableArray``` ?\r\n\r\n","title":"How to put array on WritableMap object in ReactNative bridge","body":"<p>To communicate with Android to ReactNative I use <code>RCTEventEmitter</code>. Using this I need parse array to RN side and this array should set on <code>WritableMap</code> object.\nOn <code>WritableMap</code> object can put Array as shown below,</p>\n\n<pre><code>void putArray(@NonNull String key, @Nullable ReadableArray value);\n</code></pre>\n\n<p>How to create and add data into <code>ReadableArray</code> ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9252,"page":740,"page_size":100}
