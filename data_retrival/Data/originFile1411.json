{"items":[{"tags":["java","mongodb","mongodb-query","aggregation-framework"],"comments":[{"owner":{"account_id":24576560,"reputation":14741,"user_id":18482310,"display_name":"nimrod serok"},"score":0,"creation_date":1650611362,"post_id":71964183,"comment_id":127163993,"body_markdown":"Please provide sample data, so we could help.","body":"Please provide sample data, so we could help."}],"owner":{"account_id":6022452,"reputation":55,"user_id":4729160,"display_name":"SW_Developer_NR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650608187,"creation_date":1650608187,"question_id":71964183,"body_markdown":"Below is a pipeline snippet for mongo query. And the corresponding Java code that I&#39;m trying to write.\r\nI&#39;m getting the error &#39;Unrecognized expression &#39;$push&#39;&#39;. Can someone please let me know what is wrong with the Java code? \r\nOther pipelines seem to be fine. Issue is with $push.\r\n\r\nI&#39;m using mongo driver 3.8.2 with latest Mongo 5 version\r\n\r\n```\r\n    &quot;$group&quot;: {\r\n      &quot;_id&quot;: {\r\n        &quot;a&quot;: &quot;$_id.a&quot;,\r\n        &quot;b&quot;: &quot;$_id.b&quot;\r\n      },\r\n      &quot;data&quot;: {\r\n        &quot;$push&quot;: {\r\n          &quot;c&quot;: &quot;$_id.c&quot;,\r\n          &quot;customerCount&quot;: {\r\n            &quot;$sum&quot;: &quot;$customerCount&quot;\r\n          },\r\n          &quot;itemQuantity&quot;: {\r\n            &quot;$sum&quot;: &quot;$itemQuantity&quot;\r\n          },\r\n          &quot;amount&quot;: {\r\n            &quot;$sum&quot;: &quot;$amount&quot;\r\n          }\r\n        }\r\n      },\r\n      dataKey: {\r\n        $first: &quot;$_id.c&quot;\r\n      }\r\n    }\r\n```\t\r\nBelow is the Java code for above snippet\r\n\t\r\n```\r\nBson group = new Document(&quot;$group&quot;, new Document(&quot;_id&quot;, idDoc).append(&quot;data&quot;, new Document(&quot;$push&quot;, pushDoc)).append(&quot;dataKey&quot;, new Document(&quot;$first&quot;, &quot;$_id.&quot;+orderBy)));\r\n```\r\n\r\nException is as shown below.\r\n\r\n\t&quot;com.mongodb.MongoCommandException: Command failed with error 168 (InvalidPipelineOperator): &#39;Unrecognized expression &#39;$push&#39;&#39; on server localhost:27017. The full response is { \\&quot;ok\\&quot; : 0.0, \\&quot;errmsg\\&quot; : \\&quot;Unrecognized expression &#39;$push&#39;\\&quot;, \\&quot;code\\&quot; : 168, \\&quot;codeName\\&quot; : \\&quot;InvalidPipelineOperator\\&quot; }\\r\\n\\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:179)\r\n        ","title":"Java code for mongo aggregate query containing $push","body":"<p>Below is a pipeline snippet for mongo query. And the corresponding Java code that I'm trying to write.\nI'm getting the error 'Unrecognized expression '$push''. Can someone please let me know what is wrong with the Java code?\nOther pipelines seem to be fine. Issue is with $push.</p>\n<p>I'm using mongo driver 3.8.2 with latest Mongo 5 version</p>\n<pre><code>    &quot;$group&quot;: {\n      &quot;_id&quot;: {\n        &quot;a&quot;: &quot;$_id.a&quot;,\n        &quot;b&quot;: &quot;$_id.b&quot;\n      },\n      &quot;data&quot;: {\n        &quot;$push&quot;: {\n          &quot;c&quot;: &quot;$_id.c&quot;,\n          &quot;customerCount&quot;: {\n            &quot;$sum&quot;: &quot;$customerCount&quot;\n          },\n          &quot;itemQuantity&quot;: {\n            &quot;$sum&quot;: &quot;$itemQuantity&quot;\n          },\n          &quot;amount&quot;: {\n            &quot;$sum&quot;: &quot;$amount&quot;\n          }\n        }\n      },\n      dataKey: {\n        $first: &quot;$_id.c&quot;\n      }\n    }\n</code></pre>\n<p>Below is the Java code for above snippet</p>\n<pre><code>Bson group = new Document(&quot;$group&quot;, new Document(&quot;_id&quot;, idDoc).append(&quot;data&quot;, new Document(&quot;$push&quot;, pushDoc)).append(&quot;dataKey&quot;, new Document(&quot;$first&quot;, &quot;$_id.&quot;+orderBy)));\n</code></pre>\n<p>Exception is as shown below.</p>\n<pre><code>&quot;com.mongodb.MongoCommandException: Command failed with error 168 (InvalidPipelineOperator): 'Unrecognized expression '$push'' on server localhost:27017. The full response is { \\&quot;ok\\&quot; : 0.0, \\&quot;errmsg\\&quot; : \\&quot;Unrecognized expression '$push'\\&quot;, \\&quot;code\\&quot; : 168, \\&quot;codeName\\&quot; : \\&quot;InvalidPipelineOperator\\&quot; }\\r\\n\\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:179)\n    \n</code></pre>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":11030905,"reputation":171,"user_id":11988305,"display_name":"scorpions"},"score":0,"creation_date":1604650267,"post_id":64697026,"comment_id":114416992,"body_markdown":"Good morning @Abra i add more information en my question i hope that now yu can help me and you can to do a idea wich is my problem","body":"Good morning @Abra i add more information en my question i hope that now yu can help me and you can to do a idea wich is my problem"},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1604652437,"post_id":64697026,"comment_id":114417805,"body_markdown":"The problem is not the file, it is your description. I read it 2 times, still not clear. you need the to get as what is generated from mdb script?","body":"The problem is not the file, it is your description. I read it 2 times, still not clear. you need the to get as what is generated from mdb script?"},{"owner":{"account_id":11030905,"reputation":171,"user_id":11988305,"display_name":"scorpions"},"score":0,"creation_date":1604655134,"post_id":64697026,"comment_id":114418927,"body_markdown":"Hello @Aman correct. I need get with JAVA one CSV result as mdb script. I want to say a clean CSV with necessary data","body":"Hello @Aman correct. I need get with JAVA one CSV result as mdb script. I want to say a clean CSV with necessary data"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604660730,"creation_date":1604581780,"answer_id":64697897,"question_id":64697026,"body_markdown":"For each line of file _MYLAR.csv_ that you read, you are creating a new _MYLAR2.csv_ file. This effectively deletes the file contents. That&#39;s why you only have one line in file _MYLAR2.csv_. Open file *MYLAR2.csv* after you open file *MYLAR.csv*. Also create the `CSVWriter` after you open file *MYLAR2.csv*\r\n\r\nTry the following.\r\n\r\n    public static void main(String[] args) throws FileNotFoundException,\r\n                                                  IOException,\r\n                                                  CsvValidationException,\r\n                                                  CsvException {\r\n        Path archCSV = Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;MYLAR.csv&quot;);\r\n        CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n        File file = new File(&quot;MYLAR2.CSV&quot;);\r\n        try (BufferedReader br = Files.newBufferedReader(archCSV, StandardCharsets.UTF_8);\r\n             CSVReader reader = new CSVReaderBuilder(br).withCSVParser(parser).build();\r\n             FileWriter outputfile = new FileWriter(file);\r\n             CSVWriter writer = new CSVWriter(outputfile)) {\r\n\r\n            // adding header to csv\r\n            String[] header = {&quot;Fabricante&quot;, &quot;ID_PRODUCT&quot;, &quot;PRODUCTO&quot;, &quot;REFERENCIA&quot;, &quot;STOCK&quot;, &quot;EAN13&quot;, &quot;PRECIO&quot;};\r\n            writer.writeNext(header);\r\n\r\n            String col1 = &quot;&quot;;\r\n            String col2 = &quot;&quot;;\r\n            String col3 = &quot;&quot;;\r\n            String col4 = &quot;&quot;;\r\n            String col5 = &quot;&quot;;\r\n            String col6 = &quot;&quot;;\r\n            String col7 = &quot;&quot;;\r\n            String col8 = &quot;&quot;;\r\n\r\n            // Skip HTTP Headers\r\n            for (String line; (line = br.readLine()) != null;)\r\n                if (line.isEmpty())\r\n                    break; // Found end of HTTP Headers\r\n\r\n            String[] fila = null;\r\n            while ((fila = reader.readNext()) != null) {\r\n                col1 = fila[0]; // path\r\n                col2 = fila[1]; // fabricante\r\n                col3 = fila[2]; // ID_PRODUCT\r\n                col4 = fila[3]; // producto\r\n                col5 = fila[4]; // referencia\r\n                col6 = fila[6]; // stock\r\n                col7 = fila[7]; // EAN13\r\n                col8 = fila[9]; // PRECIO\r\n\r\n                try {\r\n                    String[] data1 = new String[fila.length];\r\n                    // add data to csv\r\n                    for (int i = 1; i &lt; fila.length; i++) {\r\n                        data1[i] = fila[i];\r\n                    }\r\n                    writer.writeNext(data1);\r\n\r\n                    /*\r\n                     * String[] data2 = { &quot;Suraj&quot;, &quot;10&quot;, &quot;630&quot; }; writer.writeNext(data2);\r\n                     */\r\n                    // closing writer connection\r\n                    writer.close();\r\n                }\r\n                catch (IOException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                // code here\r\n            }\r\n        }\r\n    }    \r\n\r\nUPDATE\r\n------\r\nThis is what I understand from your updated question.\r\n\r\n* The input file, `MYLAR.csv`, contains ten fields as follows (in the order listed).\r\n     1. CATEGORY_PATH\r\n     2. MANUFACTURER\r\n     3. ID_PRODUCT\r\n     4. PRODUCT\r\n     5. REFERENCE\r\n     6. REFERENCE_PARENT\r\n     7. STOCK\r\n     8. EAN13\r\n     9. SHORT_DESCRIPTION\r\n    10. PRICE_CUSTOMER\r\n* Of those ten columns, you want to extract only the following columns (again, in the listed order)\r\n    1. REFERENCE\r\n    2. PRICE_CUSTOMER\r\n    3. STOCK\r\n    4. The literal string `MYLAR`\r\n    5. PRODUCT\r\n* The input file contains some [HTML] header lines and you want to ignore them.\r\n* An empty line in the input file separates the header lines with the actual data.\r\n* The first line of the data are field headers which you also want to ignore.\r\n* You don&#39;t want any quote characters, i.e. `&quot;`, in the output file.\r\n* You want to separate the fields in the output file with a tab character.\r\n\r\nBased on the above, here is the code. Note that I referred to the *javadoc* of [opencsv][1], for example [CSVParserBuilder][2]\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        CSVParserBuilder builder = new CSVParserBuilder();\r\n        builder.withSeparator(&#39;;&#39;);\r\n        builder.withIgnoreQuotations(true);\r\n        builder.withIgnoreLeadingWhiteSpace(true);\r\n        CSVParser parser = builder.build();\r\n        CSVReader csvReader = null;\r\n        ICSVWriter writer = null;\r\n        Path path = Paths.get(&quot;MYLAR.csv&quot;);\r\n        File file = new File(&quot;MYLAR2.CSV&quot;);\r\n        String[] out = new String[5];\r\n        try (BufferedReader br = Files.newBufferedReader(path, StandardCharsets.UTF_8);\r\n             FileWriter outputfile = new FileWriter(file)) {\r\n            CSVWriterBuilder writerBuilder = new CSVWriterBuilder(outputfile);\r\n            writerBuilder.withQuoteChar(&#39;\\u0000&#39;);\r\n            writerBuilder.withSeparator(&#39;\\t&#39;);\r\n            writer = writerBuilder.build();\r\n            CSVReaderBuilder readerBuilder = new CSVReaderBuilder(br);\r\n            readerBuilder.withCSVParser(parser);\r\n            csvReader = readerBuilder.build();\r\n            String[] line = csvReader.readNext();\r\n            boolean start = false;\r\n            boolean first = true;\r\n            while (line != null) {\r\n                if (!start) {\r\n                    if (line.length == 1  &amp;&amp;  line[0].isEmpty()) {\r\n                        start = true;\r\n                    }\r\n                }\r\n                else {\r\n                    if (first) {\r\n                        first = false;\r\n                    }\r\n                    else {\r\n                        out[0] = line[4];\r\n                        out[1] = line[9];\r\n                        out[2] = line[6];\r\n                        out[3] = &quot;MYLAR&quot;;\r\n                        out[4] = line[3];\r\n                        writer.writeNext(out);\r\n                    }\r\n                }\r\n                line = csvReader.readNext();\r\n            }\r\n        }\r\n        catch (CsvValidationException | IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n        finally {\r\n            if (csvReader != null) {\r\n                try {\r\n                    csvReader.close();\r\n                }\r\n                catch (IOException xIo) {\r\n                    System.out.println(&quot;WARNING (ignored): Failed to close CSV reader.&quot;);\r\n                    xIo.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here is the contents of file `MYLAR2.CSV` after running the above code and using the sample data from your question.\r\n&lt;pre&gt;\r\nC11CA92001\t910.33\t0\tMYLAR\tIMPRESORA EPSON LQ-2190\r\nC11C641001\t428.91\t0\tMYLAR\tIMPRESORA EPSON LX-1170 II\r\nC11C524025\t595.29\t0\tMYLAR\tIMPRESORA EPSON FX-890 II\r\nC11C526022\t714.87\t0\tMYLAR\tIMPRESORA EPSON FX-2190\r\nC11C376125\t664.98\t0\tMYLAR\tIMPRESORA EPSON LQ-680 PRO\r\nC11C480019\t498.67\t0\tMYLAR\tIMPRESORA EPSON LQ-630\r\nC11CA13041\t583.8\t0\tMYLAR\tIMPRESORA EPSON LQ-690\r\nC11CC24031\t171.23\t0\tMYLAR\tIMPRESORA EPSON LX-350\r\nB11B205331BT\t1063.95\t0\tMYLAR\tSCANNER EPSON WORKFORCE DS-7500N\r\nC12C800212\t59.54\t0\tMYLAR\tTRACTOR PUSH/PULL ( FX-2190 )  C12C800212*\r\nC31C176252LG\t512.8\t0\tMYLAR\tIMPRESORA EPSON TMU-950 PARALELO BLANCA\r\nC11CA09001BZ\t294.51\t0\tMYLAR\tIMPRESORA EPSON ACULASER COLOR C2800N\r\nC11C533011BR\t168.41\t0\tMYLAR\tIMPRESORA EPSON EPL-6200N\r\nB11B189081\t194.32\t0\tMYLAR\tSCANNER EPSON PERFECTION V500 OFFICE ADF\r\nC11CB61011\t0\t0\tMYLAR\tIMPRESORA EPSON ACULASER M 7000N\r\nB11B209301BT\t381.92\t0\tMYLAR\tSCANNER EPSON GT-S55\r\nC11CC25001\t188.01\t0\tMYLAR\tIMPRESORA EPSON LQ-350\r\n32GB\t3.29\t0\tMYLAR\tPENDRIVE KINGSTON 32GB  USB 2.0\r\nINFD64GBPASBLS  PEN64GB\t7.34\t0\tMYLAR\tPENDRIVE INTEGRAL 64GB* USB 2.0\r\nTHN U202\t3.91\t0\tMYLAR\tPENDRIVE TOSHIBA  16GB  USB 2.0\r\nHD40CL\t411.4\t0\tMYLAR\tDISCO DURO BROTHER 10 GB PARA  HL4000CN\r\n&lt;/pre&gt;\r\n\r\n\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/\r\n  [2]: http://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html","title":"Write data in CSV with Java","body":"<p>For each line of file <em>MYLAR.csv</em> that you read, you are creating a new <em>MYLAR2.csv</em> file. This effectively deletes the file contents. That's why you only have one line in file <em>MYLAR2.csv</em>. Open file <em>MYLAR2.csv</em> after you open file <em>MYLAR.csv</em>. Also create the <code>CSVWriter</code> after you open file <em>MYLAR2.csv</em></p>\n<p>Try the following.</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException,\n                                              IOException,\n                                              CsvValidationException,\n                                              CsvException {\n    Path archCSV = Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;MYLAR.csv&quot;);\n    CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\n    File file = new File(&quot;MYLAR2.CSV&quot;);\n    try (BufferedReader br = Files.newBufferedReader(archCSV, StandardCharsets.UTF_8);\n         CSVReader reader = new CSVReaderBuilder(br).withCSVParser(parser).build();\n         FileWriter outputfile = new FileWriter(file);\n         CSVWriter writer = new CSVWriter(outputfile)) {\n\n        // adding header to csv\n        String[] header = {&quot;Fabricante&quot;, &quot;ID_PRODUCT&quot;, &quot;PRODUCTO&quot;, &quot;REFERENCIA&quot;, &quot;STOCK&quot;, &quot;EAN13&quot;, &quot;PRECIO&quot;};\n        writer.writeNext(header);\n\n        String col1 = &quot;&quot;;\n        String col2 = &quot;&quot;;\n        String col3 = &quot;&quot;;\n        String col4 = &quot;&quot;;\n        String col5 = &quot;&quot;;\n        String col6 = &quot;&quot;;\n        String col7 = &quot;&quot;;\n        String col8 = &quot;&quot;;\n\n        // Skip HTTP Headers\n        for (String line; (line = br.readLine()) != null;)\n            if (line.isEmpty())\n                break; // Found end of HTTP Headers\n\n        String[] fila = null;\n        while ((fila = reader.readNext()) != null) {\n            col1 = fila[0]; // path\n            col2 = fila[1]; // fabricante\n            col3 = fila[2]; // ID_PRODUCT\n            col4 = fila[3]; // producto\n            col5 = fila[4]; // referencia\n            col6 = fila[6]; // stock\n            col7 = fila[7]; // EAN13\n            col8 = fila[9]; // PRECIO\n\n            try {\n                String[] data1 = new String[fila.length];\n                // add data to csv\n                for (int i = 1; i &lt; fila.length; i++) {\n                    data1[i] = fila[i];\n                }\n                writer.writeNext(data1);\n\n                /*\n                 * String[] data2 = { &quot;Suraj&quot;, &quot;10&quot;, &quot;630&quot; }; writer.writeNext(data2);\n                 */\n                // closing writer connection\n                writer.close();\n            }\n            catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            // code here\n        }\n    }\n}    \n</code></pre>\n<h2>UPDATE</h2>\n<p>This is what I understand from your updated question.</p>\n<ul>\n<li>The input file, <code>MYLAR.csv</code>, contains ten fields as follows (in the order listed).\n<ol>\n<li>CATEGORY_PATH</li>\n<li>MANUFACTURER</li>\n<li>ID_PRODUCT</li>\n<li>PRODUCT</li>\n<li>REFERENCE</li>\n<li>REFERENCE_PARENT</li>\n<li>STOCK</li>\n<li>EAN13</li>\n<li>SHORT_DESCRIPTION</li>\n<li>PRICE_CUSTOMER</li>\n</ol>\n</li>\n<li>Of those ten columns, you want to extract only the following columns (again, in the listed order)\n<ol>\n<li>REFERENCE</li>\n<li>PRICE_CUSTOMER</li>\n<li>STOCK</li>\n<li>The literal string <code>MYLAR</code></li>\n<li>PRODUCT</li>\n</ol>\n</li>\n<li>The input file contains some [HTML] header lines and you want to ignore them.</li>\n<li>An empty line in the input file separates the header lines with the actual data.</li>\n<li>The first line of the data are field headers which you also want to ignore.</li>\n<li>You don't want any quote characters, i.e. <code>&quot;</code>, in the output file.</li>\n<li>You want to separate the fields in the output file with a tab character.</li>\n</ul>\n<p>Based on the above, here is the code. Note that I referred to the <em>javadoc</em> of <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">opencsv</a>, for example <a href=\"http://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html\" rel=\"nofollow noreferrer\">CSVParserBuilder</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    CSVParserBuilder builder = new CSVParserBuilder();\n    builder.withSeparator(';');\n    builder.withIgnoreQuotations(true);\n    builder.withIgnoreLeadingWhiteSpace(true);\n    CSVParser parser = builder.build();\n    CSVReader csvReader = null;\n    ICSVWriter writer = null;\n    Path path = Paths.get(&quot;MYLAR.csv&quot;);\n    File file = new File(&quot;MYLAR2.CSV&quot;);\n    String[] out = new String[5];\n    try (BufferedReader br = Files.newBufferedReader(path, StandardCharsets.UTF_8);\n         FileWriter outputfile = new FileWriter(file)) {\n        CSVWriterBuilder writerBuilder = new CSVWriterBuilder(outputfile);\n        writerBuilder.withQuoteChar('\\u0000');\n        writerBuilder.withSeparator('\\t');\n        writer = writerBuilder.build();\n        CSVReaderBuilder readerBuilder = new CSVReaderBuilder(br);\n        readerBuilder.withCSVParser(parser);\n        csvReader = readerBuilder.build();\n        String[] line = csvReader.readNext();\n        boolean start = false;\n        boolean first = true;\n        while (line != null) {\n            if (!start) {\n                if (line.length == 1  &amp;&amp;  line[0].isEmpty()) {\n                    start = true;\n                }\n            }\n            else {\n                if (first) {\n                    first = false;\n                }\n                else {\n                    out[0] = line[4];\n                    out[1] = line[9];\n                    out[2] = line[6];\n                    out[3] = &quot;MYLAR&quot;;\n                    out[4] = line[3];\n                    writer.writeNext(out);\n                }\n            }\n            line = csvReader.readNext();\n        }\n    }\n    catch (CsvValidationException | IOException x) {\n        x.printStackTrace();\n    }\n    finally {\n        if (csvReader != null) {\n            try {\n                csvReader.close();\n            }\n            catch (IOException xIo) {\n                System.out.println(&quot;WARNING (ignored): Failed to close CSV reader.&quot;);\n                xIo.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>And here is the contents of file <code>MYLAR2.CSV</code> after running the above code and using the sample data from your question.</p>\n<pre>\nC11CA92001  910.33  0   MYLAR   IMPRESORA EPSON LQ-2190\nC11C641001  428.91  0   MYLAR   IMPRESORA EPSON LX-1170 II\nC11C524025  595.29  0   MYLAR   IMPRESORA EPSON FX-890 II\nC11C526022  714.87  0   MYLAR   IMPRESORA EPSON FX-2190\nC11C376125  664.98  0   MYLAR   IMPRESORA EPSON LQ-680 PRO\nC11C480019  498.67  0   MYLAR   IMPRESORA EPSON LQ-630\nC11CA13041  583.8   0   MYLAR   IMPRESORA EPSON LQ-690\nC11CC24031  171.23  0   MYLAR   IMPRESORA EPSON LX-350\nB11B205331BT    1063.95 0   MYLAR   SCANNER EPSON WORKFORCE DS-7500N\nC12C800212  59.54   0   MYLAR   TRACTOR PUSH/PULL ( FX-2190 )  C12C800212*\nC31C176252LG    512.8   0   MYLAR   IMPRESORA EPSON TMU-950 PARALELO BLANCA\nC11CA09001BZ    294.51  0   MYLAR   IMPRESORA EPSON ACULASER COLOR C2800N\nC11C533011BR    168.41  0   MYLAR   IMPRESORA EPSON EPL-6200N\nB11B189081  194.32  0   MYLAR   SCANNER EPSON PERFECTION V500 OFFICE ADF\nC11CB61011  0   0   MYLAR   IMPRESORA EPSON ACULASER M 7000N\nB11B209301BT    381.92  0   MYLAR   SCANNER EPSON GT-S55\nC11CC25001  188.01  0   MYLAR   IMPRESORA EPSON LQ-350\n32GB    3.29    0   MYLAR   PENDRIVE KINGSTON 32GB  USB 2.0\nINFD64GBPASBLS  PEN64GB 7.34    0   MYLAR   PENDRIVE INTEGRAL 64GB* USB 2.0\nTHN U202    3.91    0   MYLAR   PENDRIVE TOSHIBA  16GB  USB 2.0\nHD40CL  411.4   0   MYLAR   DISCO DURO BROTHER 10 GB PARA  HL4000CN\n</pre>\n"},{"tags":[],"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604663224,"creation_date":1604656506,"answer_id":64712378,"question_id":64697026,"body_markdown":"So, the *csv* has a header, while the *mdb* does not and the later one seems normal text file. The following writes both to a text file and csv file at the same time, you can customize it if there is something particular that I didnt understand. \r\n\r\n```\r\n    Path archCSV = Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;MYLAR.csv&quot;);\r\n        CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n        File fileCsv = new File(&quot;MYLAR2.CSV&quot;);\r\n        File fileTxt = new File(&quot;MYLAR2.txt&quot;);\r\n        try (BufferedReader br = Files.newBufferedReader(archCSV, StandardCharsets.UTF_8);\r\n                CSVReader reader = new CSVReaderBuilder(br).withCSVParser(parser).withSkipLines(1).build();\r\n                FileWriter outputfile = new FileWriter(fileCsv);\r\n                CSVWriter writer = new new CSVWriter(outputfile, &#39; &#39;, &#39; &#39;, &#39; &#39;, ICSVWriter.DEFAULT_LINE_END)) { //mind the single space between the simgle quotes &#39;*space*&#39;\r\n\r\n            // Skip HTTP Headers\r\n            for (String line; (line = br.readLine()) != null;)\r\n                if (line.isEmpty())\r\n                    break; // Found end of HTTP Headers\r\n\r\n            List&lt;String[]&gt; toCsv = new ArrayList&lt;&gt;();\r\n            List&lt;String[]&gt; filas = reader.readAll(); // use this if the file is  not gigantic\r\n            for(String[] line : filas) {\r\n                if(line.length == 0) \r\n                    continue;\r\n                \r\n                String[] app = new String[5];\r\n                for(int i = 0; i &lt; line.length; i++) {\r\n                    app[0] = line[4];\r\n                    app[1] = line[9];\r\n                    app[2] = line[6];\r\n                    app[3] = &quot;MYLAR&quot;;\r\n                    app[4] = line[3];\r\n                }\r\n                toCsv.add(app);\r\n                \r\n            }\r\n            \r\n            writer.writeAll(toCsv); // only one IO Operation\r\n        }\r\n    }\r\n```\r\n\r\n**UPDATED OUTPUT**\r\n```\r\n C11CA92001   910.33   0   MYLAR   IMPRESORA  EPSON  LQ-2190 \r\n C11C641001   428.91   0   MYLAR   IMPRESORA  EPSON  LX-1170  II \r\n C11C524025   595.29   0   MYLAR   IMPRESORA  EPSON  FX-890  II \r\n C11C526022   714.87   0   MYLAR   IMPRESORA  EPSON  FX-2190 \r\n C11C376125   664.98   0   MYLAR   IMPRESORA  EPSON  LQ-680  PRO \r\n C11C480019   498.67   0   MYLAR   IMPRESORA  EPSON  LQ-630  \r\n```","title":"Write data in CSV with Java","body":"<p>So, the <em>csv</em> has a header, while the <em>mdb</em> does not and the later one seems normal text file. The following writes both to a text file and csv file at the same time, you can customize it if there is something particular that I didnt understand.</p>\n<pre><code>    Path archCSV = Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;MYLAR.csv&quot;);\n        CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\n        File fileCsv = new File(&quot;MYLAR2.CSV&quot;);\n        File fileTxt = new File(&quot;MYLAR2.txt&quot;);\n        try (BufferedReader br = Files.newBufferedReader(archCSV, StandardCharsets.UTF_8);\n                CSVReader reader = new CSVReaderBuilder(br).withCSVParser(parser).withSkipLines(1).build();\n                FileWriter outputfile = new FileWriter(fileCsv);\n                CSVWriter writer = new new CSVWriter(outputfile, ' ', ' ', ' ', ICSVWriter.DEFAULT_LINE_END)) { //mind the single space between the simgle quotes '*space*'\n\n            // Skip HTTP Headers\n            for (String line; (line = br.readLine()) != null;)\n                if (line.isEmpty())\n                    break; // Found end of HTTP Headers\n\n            List&lt;String[]&gt; toCsv = new ArrayList&lt;&gt;();\n            List&lt;String[]&gt; filas = reader.readAll(); // use this if the file is  not gigantic\n            for(String[] line : filas) {\n                if(line.length == 0) \n                    continue;\n                \n                String[] app = new String[5];\n                for(int i = 0; i &lt; line.length; i++) {\n                    app[0] = line[4];\n                    app[1] = line[9];\n                    app[2] = line[6];\n                    app[3] = &quot;MYLAR&quot;;\n                    app[4] = line[3];\n                }\n                toCsv.add(app);\n                \n            }\n            \n            writer.writeAll(toCsv); // only one IO Operation\n        }\n    }\n</code></pre>\n<p><strong>UPDATED OUTPUT</strong></p>\n<pre><code> C11CA92001   910.33   0   MYLAR   IMPRESORA  EPSON  LQ-2190 \n C11C641001   428.91   0   MYLAR   IMPRESORA  EPSON  LX-1170  II \n C11C524025   595.29   0   MYLAR   IMPRESORA  EPSON  FX-890  II \n C11C526022   714.87   0   MYLAR   IMPRESORA  EPSON  FX-2190 \n C11C376125   664.98   0   MYLAR   IMPRESORA  EPSON  LQ-680  PRO \n C11C480019   498.67   0   MYLAR   IMPRESORA  EPSON  LQ-630  \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18843334"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650608088,"creation_date":1650608088,"answer_id":71964171,"question_id":64697026,"body_markdown":"Just skip the first 16 rows of the current CSV file, get the desired column data, and export result as a non-header CSV file. The code will be rather long if you use Java to express the process.\r\n\r\nBut, You can use SPL, the open-source Java package, to do this. It is easy and only one line of code is enough:\r\n\r\n||A|\r\n|:-|:-|\r\n|1|&gt;file(&quot;MYLAR2.csv&quot;).export@c(file(&quot;MYLAR.csv&quot;;&quot;UTF-8&quot;).read@n().m(17:).concat@n().import@qt(REFERENCE,PRICE_CUSTOMER,STOCK,PRODUCT;&quot;;&quot;).new(REFERENCE,PRICE_CUSTOMER,STOCK,&quot;MYLAR&quot;:MYLAR,PRODUCT))|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as export.splx and invoke it in Java as you call a stored procedure:\r\n```\r\n…\r\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\nst = con.prepareCall(&quot;call export()&quot;);\r\nst.execute();\r\n…\r\n```","title":"Write data in CSV with Java","body":"<p>Just skip the first 16 rows of the current CSV file, get the desired column data, and export result as a non-header CSV file. The code will be rather long if you use Java to express the process.</p>\n<p>But, You can use SPL, the open-source Java package, to do this. It is easy and only one line of code is enough:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">&gt;file(&quot;MYLAR2.csv&quot;).export@c(file(&quot;MYLAR.csv&quot;;&quot;UTF-8&quot;).read@n().m(17:).concat@n().import@qt(REFERENCE,PRICE_CUSTOMER,STOCK,PRODUCT;&quot;;&quot;).new(REFERENCE,PRICE_CUSTOMER,STOCK,&quot;MYLAR&quot;:MYLAR,PRODUCT))</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as export.splx and invoke it in Java as you call a stored procedure:</p>\n<pre><code>…\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\nst = con.prepareCall(&quot;call export()&quot;);\nst.execute();\n…\n</code></pre>\n"}],"owner":{"account_id":11030905,"reputation":171,"user_id":11988305,"display_name":"scorpions"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64712378,"answer_count":3,"score":1,"last_activity_date":1650608088,"creation_date":1604578568,"question_id":64697026,"body_markdown":"I&#39;m trying to write data in a new CSV generated automatically after reading and extracting my data. However, always write one record only and it hasn&#39;t got the format that I want. I want that the data in columns, I want that if I have id, manufacturer, product_name, price, this information should be in diferent columns but my result is:\r\n\r\n[![enter code here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1cLUQ.png\r\n\r\nNevertheless in other script MDB developed for other person, when transform this CSV his format is:\r\n\r\n    51645A-C\t11.86\t21\tINFOWORK\tCARTUCHO COMPATIBLE CON HP 45 51645A NEGRO\t\r\n    http://recursos.infowork.es/img/000/084/000084322.jpg\r\n    C13T04014020-C\t1.01\t3\tINFOWORK\tCARTUCHO COMPATIBLE CON EPSON C62-CX3200 NEGRO\thttp://recursos.infowork.es/img/000/084/000084593.jpg\r\n\r\nI need this format with Java, to have my process automatically update my DB. Why? Now, I&#39;m using one script for transformation and after I need to re-save result.\r\n\r\nMy actual code is:\r\n\r\n    public static void main(String[] args) throws FileNotFoundException, IOException, CsvValidationException, CsvException {\r\n        Path archCSV = Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;MYLAR.csv&quot;);\r\n        \r\n\r\n        CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n        try (BufferedReader br = Files.newBufferedReader(archCSV,  StandardCharsets.UTF_8);\r\n                                  \r\n            CSVReader reader = new CSVReaderBuilder(br).withCSVParser(parser).build()) {\r\n            \r\n            String col1 = &quot;&quot;;\r\n            String col2 = &quot;&quot;;\r\n            String col3 = &quot;&quot;;\r\n            String col4 = &quot;&quot;;\r\n            String col5 = &quot;&quot;;\r\n            String col6 = &quot;&quot;;\r\n            String col7 = &quot;&quot;;\r\n            String col8 = &quot;&quot;;\r\n            \r\n            // Skip HTTP Headers\r\n            for (String line; (line = br.readLine()) != null; )\r\n                if (line.isEmpty())\r\n                    break; // Found end of HTTP Headers\r\n           \r\n                String[] fila = null;\r\n                while((fila = reader.readNext()) != null) {\r\n                    col1 = fila[0]; //path\r\n                    col2 = fila[1]; //fabricante\r\n                    col3 = fila[2]; //ID_PRODUCT\r\n                    col4 = fila[3]; // producto\r\n                    col5 = fila[4]; //referencia\r\n                    col6 = fila[6]; //stock\r\n                    col7 = fila[7]; //EAN13\r\n                    col8 = fila[9]; //PRECIO\r\n                    \r\n                    File file = new File(&quot;MYLAR2.CSV&quot;); \r\n                    try { \r\n                        // create FileWriter object with file as parameter \r\n                        FileWriter outputfile = new FileWriter(file); \r\n\r\n                        // create CSVWriter object filewriter object as parameter \r\n                        CSVWriter writer = new CSVWriter(outputfile); \r\n\r\n                        // adding header to csv \r\n                        String[] header = { &quot;Fabricante&quot;, &quot;ID_PRODUCT&quot;, &quot;PRODUCTO&quot;, &quot;REFERENCIA&quot;, &quot;STOCK&quot;, &quot;EAN13&quot;, &quot;PRECIO&quot;}; \r\n                        writer.writeNext(header); \r\n                        String[] data1 = new String[fila.length];\r\n                        // add data to csv \r\n                        for(int i = 1; i&lt;fila.length; i++){\r\n                            data1[i] = fila[i];\r\n                        }\r\n                        writer.writeNext(data1); \r\n                        \r\n                        /*String[] data2 = { &quot;Suraj&quot;, &quot;10&quot;, &quot;630&quot; }; \r\n                        writer.writeNext(data2); */\r\n\r\n                        // closing writer connection \r\n                        writer.close(); \r\n                    } \r\n                    catch (IOException e) { \r\n                        // TODO Auto-generated catch block \r\n                        e.printStackTrace(); \r\n                    } \r\n                    \r\n                    // code here\r\n                }\r\n            }\r\n    }\r\n\r\nAnd result for transformation I wrote has only one result, when CSV has many results.\r\n\r\n\r\n**UPDATE**\r\n\r\n*Original File Mylar*\r\n\r\n        HTTP/1.1 200 OK\r\n    Date: Wed, 04 Nov 2020 10:33:57 GMT\r\n    Server: Apache/2.4.18 (Unix) OpenSSL/1.0.2g PHP/5.6.19 mod_perl/2.0.8-dev Perl/v5.16.3\r\n    Vary: Host\r\n    X-Powered-By: PHP/5.6.19\r\n    Pragma: public\r\n    Last-Modified: Wed, 04 Nov 2020 10:35:38 GMT\r\n    Cache-Control: no-store, no-cache, must-revalidate\r\n    Cache-Control: pre-check=0, post-check=0, max-age=0\r\n    Cache-Control: private\r\n    Content-Transfer-Encoding: none\r\n    Content-Disposition: attachment; filename=&quot;tarifa_general.csv&quot;\r\n    Content-Length: 1682234\r\n    Set-Cookie: 6bc890cb7b5704cff62e4f70e6f2fe91=xjqG7DAXpIyCS%2FBGEFwnApzYUWiwlkMqmx9ULY%2FdgW%2FMqfHk4mNo67rgSQp10%2FacRlHCinJUyWAv0B%2FInmAGaiyJ0ro5yf2yNl1O9tKx50M%3D000074; expires=Tue, 24-Nov-2020 10:33:57 GMT; Max-Age=1727899; path=/; domain=www.mylar.es; httponly\r\n    Content-Type: text/csv; charset=utf-8\r\n    \r\n    CATEGORY_PATH;MANUFACTURER;ID_PRODUCT;PRODUCT;REFERENCE;REFERENCE_PARENT;STOCK;EAN13;SHORT_DESCRIPTION;PRICE_CUSTOMER\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;1;&quot;IMPRESORA EPSON LQ-2190&quot;;C11CA92001;;0;8715946459172;000003;910.33\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;3;&quot;IMPRESORA EPSON LX-1170 II&quot;;C11C641001;;0;8715946316963;000008;428.91\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;4;&quot;IMPRESORA EPSON FX-890 II&quot;;C11C524025;;0;8715946333137;000012;595.29\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;5;&quot;IMPRESORA EPSON FX-2190&quot;;C11C526022;;0;8715946204420;000013;714.87\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;6;&quot;IMPRESORA EPSON LQ-680 PRO&quot;;C11C376125;;0;8715946333205;000021;664.98\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;8;&quot;IMPRESORA EPSON LQ-630&quot;;C11C480019;;0;8715946538068;000025;498.67\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;11;&quot;IMPRESORA EPSON LQ-690&quot;;C11CA13041;;0;8715946429939;000091;583.8\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;12;&quot;IMPRESORA EPSON LX-350&quot;;C11CC24031;;0;8715946502939;000092;171.23\r\n    &quot;PERIF&#201;RICOS &gt; SCANNERS &gt; EPSON&quot;;EPSON;17;&quot;SCANNER EPSON WORKFORCE DS-7500N&quot;;B11B205331BT;;0;8715946510705;000157;1063.95\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; ACCESORIOS&quot;;EPSON;18;&quot;TRACTOR PUSH/PULL ( FX-2190 )  C12C800212*&quot;;C12C800212;;0;0;000230;59.54\r\n    &quot;PERIF&#201;RICOS &gt; TERMINAL PUNTO VENTA (TPV) &gt; IMPRESORAS TICKETS&quot;;EPSON;19;&quot;IMPRESORA EPSON TMU-950 PARALELO BLANCA&quot;;C31C176252LG;;0;8715946367842;000248;512.8\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; LASER&quot;;EPSON;21;&quot;IMPRESORA EPSON ACULASER COLOR C2800N&quot;;C11CA09001BZ;;0;8715946403878;000251;294.51\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; LASER&quot;;EPSON;22;&quot;IMPRESORA EPSON EPL-6200N&quot;;C11C533011BR;;0;9314020599675;000254;168.41\r\n    &quot;PERIF&#201;RICOS &gt; SCANNERS &gt; EPSON&quot;;EPSON;24;&quot;SCANNER EPSON PERFECTION V500 OFFICE ADF&quot;;B11B189081;;0;8715946448664;000257;194.32\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; LASER&quot;;EPSON;25;&quot;IMPRESORA EPSON ACULASER M 7000N&quot;;C11CB61011;;0;8715946311173;000264;0\r\n    &quot;PERIF&#201;RICOS &gt; SCANNERS &gt; EPSON&quot;;EPSON;26;&quot;SCANNER EPSON GT-S55&quot;;B11B209301BT;;0;8715946490922;000266;381.92\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;51;&quot;IMPRESORA EPSON LQ-350&quot;;C11CC25001;;0;8715946521886;000854;188.01\r\n    &quot;CONSUMIBLES &gt; ALMACENAMIENTO &gt; MEMORIAS USB / PENDRIVES&quot;;KINGSTON;68;&quot;PENDRIVE KINGSTON 32GB  USB 2.0&quot;;32GB;;0;740617297737;001439;3.29\r\n    &quot;CONSUMIBLES &gt; ALMACENAMIENTO &gt; MEMORIAS USB / PENDRIVES&quot;;;77;&quot;PENDRIVE INTEGRAL 64GB* USB 2.0&quot;;&quot;INFD64GBPASBLS  PEN64GB&quot;;;0;5055288427822;001460;7.34\r\n    &quot;CONSUMIBLES &gt; ALMACENAMIENTO &gt; MEMORIAS USB / PENDRIVES&quot;;TOSHIBA;79;&quot;PENDRIVE TOSHIBA  16GB  USB 2.0&quot;;&quot;THN U202&quot;;;0;4047999400226;001498;3.91\r\n    &quot;PERIF&#201;RICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; BROTHER &gt; ACCESORIOS&quot;;BROTHER;81;&quot;DISCO DURO BROTHER 10 GB PARA  HL4000CN&quot;;HD40CL;;0;4977766603645;001677;411.4\r\n\r\n    \r\n\r\nthe result with script to other developed with mdb script is:\r\n\r\n    C11CA92001\t910.33\t0\tMYLAR\tIMPRESORA EPSON LQ-2190\r\n    C11C641001\t428.91\t0\tMYLAR\tIMPRESORA EPSON LX-1170 II\r\n    C11C524025\t595.29\t0\tMYLAR\tIMPRESORA EPSON FX-890 II\r\n    C11C526022\t714.87\t0\tMYLAR\tIMPRESORA EPSON FX-2190\r\n    C11C376125\t664.98\t0\tMYLAR\tIMPRESORA EPSON LQ-680 PRO\r\n    C11C480019\t498.67\t0\tMYLAR\tIMPRESORA EPSON LQ-630\r\n    C11CA13041\t583.8\t0\tMYLAR\tIMPRESORA EPSON LQ-690\r\n    C11CC24031\t171.23\t0\tMYLAR\tIMPRESORA EPSON LX-350\r\n    B11B205331BT\t1063.95\t0\tMYLAR\tSCANNER EPSON WORKFORCE DS-7500N\r\n    C12C800212\t59.54\t0\tMYLAR\tTRACTOR PUSH/PULL ( FX-2190 )  C12C800212*\r\n    C31C176252LG\t512.8\t0\tMYLAR\tIMPRESORA EPSON TMU-950 PARALELO BLANCA\r\n    C11CA09001BZ\t294.51\t0\tMYLAR\tIMPRESORA EPSON ACULASER COLOR C2800N\r\n    C11C533011BR\t168.41\t0\tMYLAR\tIMPRESORA EPSON EPL-6200N\r\n    B11B189081\t194.32\t0\tMYLAR\tSCANNER EPSON PERFECTION V500 OFFICE ADF\r\n    C11CB61011\t0\t0\tMYLAR\tIMPRESORA EPSON ACULASER M 7000N\r\n    B11B209301BT\t381.92\t0\tMYLAR\tSCANNER EPSON GT-S55\r\n    C11CC25001\t188.01\t0\tMYLAR\tIMPRESORA EPSON LQ-350\r\n    32GB\t3.29\t0\tMYLAR\tPENDRIVE KINGSTON 32GB  USB 2.0\r\n    INFD64GBPASBLS  PEN64GB\t7.34\t0\tMYLAR\tPENDRIVE INTEGRAL 64GB* USB 2.0\r\n    THN U202\t3.91\t0\tMYLAR\tPENDRIVE TOSHIBA  16GB  USB 2.0\r\n    HD40CL\t411.4\t0\tMYLAR\tDISCO DURO BROTHER 10 GB PARA  HL4000CN\r\n    FAX2845\t159.2\t0\tMYLAR\tFAX BROTHER 2845 LASER CON AURICULAR\r\n\r\n**I need this format (up)**\r\n\r\n**With my actual code result is:**\r\n\r\n        Fabricante,&quot;ID_PRODUCT&quot;,&quot;PRODUCTO&quot;,&quot;REFERENCIA&quot;,&quot;STOCK&quot;,&quot;EAN13&quot;,&quot;PRECIO&quot;\r\n     ,&quot;MANUFACTURER&quot;,&quot;ID_PRODUCT&quot;,&quot;PRODUCT&quot;,&quot;REFERENCE&quot;,&quot;REFERENCE_PARENT&quot;,&quot;STOCK&quot;,&quot;EAN13&quot;,&quot;SHORT_DESCRIPTION&quot;,&quot;PRICE_CUSTOMER&quot;\r\n        ,&quot;EPSON&quot;,&quot;1&quot;,&quot;IMPRESORA EPSON LQ-2190&quot;,&quot;C11CA92001&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946459172&quot;,&quot;000003&quot;,&quot;910.33&quot;\r\n        ,&quot;EPSON&quot;,&quot;3&quot;,&quot;IMPRESORA EPSON LX-1170 II&quot;,&quot;C11C641001&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946316963&quot;,&quot;000008&quot;,&quot;428.91&quot;\r\n        ,&quot;EPSON&quot;,&quot;4&quot;,&quot;IMPRESORA EPSON FX-890 II&quot;,&quot;C11C524025&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946333137&quot;,&quot;000012&quot;,&quot;595.29&quot;\r\n        ,&quot;EPSON&quot;,&quot;5&quot;,&quot;IMPRESORA EPSON FX-2190&quot;,&quot;C11C526022&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946204420&quot;,&quot;000013&quot;,&quot;714.87&quot;\r\n        ,&quot;EPSON&quot;,&quot;6&quot;,&quot;IMPRESORA EPSON LQ-680 PRO&quot;,&quot;C11C376125&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946333205&quot;,&quot;000021&quot;,&quot;664.98&quot;\r\n        ,&quot;EPSON&quot;,&quot;8&quot;,&quot;IMPRESORA EPSON LQ-630&quot;,&quot;C11C480019&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946538068&quot;,&quot;000025&quot;,&quot;498.67&quot;\r\n        ,&quot;EPSON&quot;,&quot;11&quot;,&quot;IMPRESORA EPSON LQ-690&quot;,&quot;C11CA13041&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946429939&quot;,&quot;000091&quot;,&quot;583.8&quot;\r\n        ,&quot;EPSON&quot;,&quot;12&quot;,&quot;IMPRESORA EPSON LX-350&quot;,&quot;C11CC24031&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946502939&quot;,&quot;000092&quot;,&quot;171.23&quot;\r\n\r\n\r\n\r\n**Explanation**\r\n\r\ni can&#180;t pass the complete CSV file of a company distributor, I have passed some example lines that with that should give an idea of ​​what the whole file is like. Anyway, I&#39;ll try to make it clearer ... The first example after the update is my original mylar file. There was a former developer who made a script with MDB that transformed it as seen in the first example, which is the original from the distributor to the second example ... and finally with my current java script I get the third example. I need to put myself as the second example. I have terms in Spanish and English because this is how the CSVs of the providers come ... What I need to do is an automatic update of a database, with these CSVs, but for this, I have to transform them previously obtaining the data that is there in my script, but keep the CSV as in the example of the MDB script\r\n\r\n","title":"Write data in CSV with Java","body":"<p>I'm trying to write data in a new CSV generated automatically after reading and extracting my data. However, always write one record only and it hasn't got the format that I want. I want that the data in columns, I want that if I have id, manufacturer, product_name, price, this information should be in diferent columns but my result is:</p>\n<p><a href=\"https://i.stack.imgur.com/1cLUQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1cLUQ.png\" alt=\"enter code here\" /></a></p>\n<p>Nevertheless in other script MDB developed for other person, when transform this CSV his format is:</p>\n<pre><code>51645A-C    11.86   21  INFOWORK    CARTUCHO COMPATIBLE CON HP 45 51645A NEGRO  \nhttp://recursos.infowork.es/img/000/084/000084322.jpg\nC13T04014020-C  1.01    3   INFOWORK    CARTUCHO COMPATIBLE CON EPSON C62-CX3200 NEGRO  http://recursos.infowork.es/img/000/084/000084593.jpg\n</code></pre>\n<p>I need this format with Java, to have my process automatically update my DB. Why? Now, I'm using one script for transformation and after I need to re-save result.</p>\n<p>My actual code is:</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException, IOException, CsvValidationException, CsvException {\n    Path archCSV = Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;MYLAR.csv&quot;);\n    \n\n    CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\n    try (BufferedReader br = Files.newBufferedReader(archCSV,  StandardCharsets.UTF_8);\n                              \n        CSVReader reader = new CSVReaderBuilder(br).withCSVParser(parser).build()) {\n        \n        String col1 = &quot;&quot;;\n        String col2 = &quot;&quot;;\n        String col3 = &quot;&quot;;\n        String col4 = &quot;&quot;;\n        String col5 = &quot;&quot;;\n        String col6 = &quot;&quot;;\n        String col7 = &quot;&quot;;\n        String col8 = &quot;&quot;;\n        \n        // Skip HTTP Headers\n        for (String line; (line = br.readLine()) != null; )\n            if (line.isEmpty())\n                break; // Found end of HTTP Headers\n       \n            String[] fila = null;\n            while((fila = reader.readNext()) != null) {\n                col1 = fila[0]; //path\n                col2 = fila[1]; //fabricante\n                col3 = fila[2]; //ID_PRODUCT\n                col4 = fila[3]; // producto\n                col5 = fila[4]; //referencia\n                col6 = fila[6]; //stock\n                col7 = fila[7]; //EAN13\n                col8 = fila[9]; //PRECIO\n                \n                File file = new File(&quot;MYLAR2.CSV&quot;); \n                try { \n                    // create FileWriter object with file as parameter \n                    FileWriter outputfile = new FileWriter(file); \n\n                    // create CSVWriter object filewriter object as parameter \n                    CSVWriter writer = new CSVWriter(outputfile); \n\n                    // adding header to csv \n                    String[] header = { &quot;Fabricante&quot;, &quot;ID_PRODUCT&quot;, &quot;PRODUCTO&quot;, &quot;REFERENCIA&quot;, &quot;STOCK&quot;, &quot;EAN13&quot;, &quot;PRECIO&quot;}; \n                    writer.writeNext(header); \n                    String[] data1 = new String[fila.length];\n                    // add data to csv \n                    for(int i = 1; i&lt;fila.length; i++){\n                        data1[i] = fila[i];\n                    }\n                    writer.writeNext(data1); \n                    \n                    /*String[] data2 = { &quot;Suraj&quot;, &quot;10&quot;, &quot;630&quot; }; \n                    writer.writeNext(data2); */\n\n                    // closing writer connection \n                    writer.close(); \n                } \n                catch (IOException e) { \n                    // TODO Auto-generated catch block \n                    e.printStackTrace(); \n                } \n                \n                // code here\n            }\n        }\n}\n</code></pre>\n<p>And result for transformation I wrote has only one result, when CSV has many results.</p>\n<p><strong>UPDATE</strong></p>\n<p><em>Original File Mylar</em></p>\n<pre><code>    HTTP/1.1 200 OK\nDate: Wed, 04 Nov 2020 10:33:57 GMT\nServer: Apache/2.4.18 (Unix) OpenSSL/1.0.2g PHP/5.6.19 mod_perl/2.0.8-dev Perl/v5.16.3\nVary: Host\nX-Powered-By: PHP/5.6.19\nPragma: public\nLast-Modified: Wed, 04 Nov 2020 10:35:38 GMT\nCache-Control: no-store, no-cache, must-revalidate\nCache-Control: pre-check=0, post-check=0, max-age=0\nCache-Control: private\nContent-Transfer-Encoding: none\nContent-Disposition: attachment; filename=&quot;tarifa_general.csv&quot;\nContent-Length: 1682234\nSet-Cookie: 6bc890cb7b5704cff62e4f70e6f2fe91=xjqG7DAXpIyCS%2FBGEFwnApzYUWiwlkMqmx9ULY%2FdgW%2FMqfHk4mNo67rgSQp10%2FacRlHCinJUyWAv0B%2FInmAGaiyJ0ro5yf2yNl1O9tKx50M%3D000074; expires=Tue, 24-Nov-2020 10:33:57 GMT; Max-Age=1727899; path=/; domain=www.mylar.es; httponly\nContent-Type: text/csv; charset=utf-8\n\nCATEGORY_PATH;MANUFACTURER;ID_PRODUCT;PRODUCT;REFERENCE;REFERENCE_PARENT;STOCK;EAN13;SHORT_DESCRIPTION;PRICE_CUSTOMER\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;1;&quot;IMPRESORA EPSON LQ-2190&quot;;C11CA92001;;0;8715946459172;000003;910.33\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;3;&quot;IMPRESORA EPSON LX-1170 II&quot;;C11C641001;;0;8715946316963;000008;428.91\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;4;&quot;IMPRESORA EPSON FX-890 II&quot;;C11C524025;;0;8715946333137;000012;595.29\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;5;&quot;IMPRESORA EPSON FX-2190&quot;;C11C526022;;0;8715946204420;000013;714.87\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;6;&quot;IMPRESORA EPSON LQ-680 PRO&quot;;C11C376125;;0;8715946333205;000021;664.98\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;8;&quot;IMPRESORA EPSON LQ-630&quot;;C11C480019;;0;8715946538068;000025;498.67\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;11;&quot;IMPRESORA EPSON LQ-690&quot;;C11CA13041;;0;8715946429939;000091;583.8\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;12;&quot;IMPRESORA EPSON LX-350&quot;;C11CC24031;;0;8715946502939;000092;171.23\n&quot;PERIFÉRICOS &gt; SCANNERS &gt; EPSON&quot;;EPSON;17;&quot;SCANNER EPSON WORKFORCE DS-7500N&quot;;B11B205331BT;;0;8715946510705;000157;1063.95\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; ACCESORIOS&quot;;EPSON;18;&quot;TRACTOR PUSH/PULL ( FX-2190 )  C12C800212*&quot;;C12C800212;;0;0;000230;59.54\n&quot;PERIFÉRICOS &gt; TERMINAL PUNTO VENTA (TPV) &gt; IMPRESORAS TICKETS&quot;;EPSON;19;&quot;IMPRESORA EPSON TMU-950 PARALELO BLANCA&quot;;C31C176252LG;;0;8715946367842;000248;512.8\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; LASER&quot;;EPSON;21;&quot;IMPRESORA EPSON ACULASER COLOR C2800N&quot;;C11CA09001BZ;;0;8715946403878;000251;294.51\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; LASER&quot;;EPSON;22;&quot;IMPRESORA EPSON EPL-6200N&quot;;C11C533011BR;;0;9314020599675;000254;168.41\n&quot;PERIFÉRICOS &gt; SCANNERS &gt; EPSON&quot;;EPSON;24;&quot;SCANNER EPSON PERFECTION V500 OFFICE ADF&quot;;B11B189081;;0;8715946448664;000257;194.32\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; LASER&quot;;EPSON;25;&quot;IMPRESORA EPSON ACULASER M 7000N&quot;;C11CB61011;;0;8715946311173;000264;0\n&quot;PERIFÉRICOS &gt; SCANNERS &gt; EPSON&quot;;EPSON;26;&quot;SCANNER EPSON GT-S55&quot;;B11B209301BT;;0;8715946490922;000266;381.92\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; EPSON &gt; MATRICIALES&quot;;EPSON;51;&quot;IMPRESORA EPSON LQ-350&quot;;C11CC25001;;0;8715946521886;000854;188.01\n&quot;CONSUMIBLES &gt; ALMACENAMIENTO &gt; MEMORIAS USB / PENDRIVES&quot;;KINGSTON;68;&quot;PENDRIVE KINGSTON 32GB  USB 2.0&quot;;32GB;;0;740617297737;001439;3.29\n&quot;CONSUMIBLES &gt; ALMACENAMIENTO &gt; MEMORIAS USB / PENDRIVES&quot;;;77;&quot;PENDRIVE INTEGRAL 64GB* USB 2.0&quot;;&quot;INFD64GBPASBLS  PEN64GB&quot;;;0;5055288427822;001460;7.34\n&quot;CONSUMIBLES &gt; ALMACENAMIENTO &gt; MEMORIAS USB / PENDRIVES&quot;;TOSHIBA;79;&quot;PENDRIVE TOSHIBA  16GB  USB 2.0&quot;;&quot;THN U202&quot;;;0;4047999400226;001498;3.91\n&quot;PERIFÉRICOS &gt; IMPRESORAS / FAX &gt; IMPRESORAS &gt; BROTHER &gt; ACCESORIOS&quot;;BROTHER;81;&quot;DISCO DURO BROTHER 10 GB PARA  HL4000CN&quot;;HD40CL;;0;4977766603645;001677;411.4\n</code></pre>\n<p>the result with script to other developed with mdb script is:</p>\n<pre><code>C11CA92001  910.33  0   MYLAR   IMPRESORA EPSON LQ-2190\nC11C641001  428.91  0   MYLAR   IMPRESORA EPSON LX-1170 II\nC11C524025  595.29  0   MYLAR   IMPRESORA EPSON FX-890 II\nC11C526022  714.87  0   MYLAR   IMPRESORA EPSON FX-2190\nC11C376125  664.98  0   MYLAR   IMPRESORA EPSON LQ-680 PRO\nC11C480019  498.67  0   MYLAR   IMPRESORA EPSON LQ-630\nC11CA13041  583.8   0   MYLAR   IMPRESORA EPSON LQ-690\nC11CC24031  171.23  0   MYLAR   IMPRESORA EPSON LX-350\nB11B205331BT    1063.95 0   MYLAR   SCANNER EPSON WORKFORCE DS-7500N\nC12C800212  59.54   0   MYLAR   TRACTOR PUSH/PULL ( FX-2190 )  C12C800212*\nC31C176252LG    512.8   0   MYLAR   IMPRESORA EPSON TMU-950 PARALELO BLANCA\nC11CA09001BZ    294.51  0   MYLAR   IMPRESORA EPSON ACULASER COLOR C2800N\nC11C533011BR    168.41  0   MYLAR   IMPRESORA EPSON EPL-6200N\nB11B189081  194.32  0   MYLAR   SCANNER EPSON PERFECTION V500 OFFICE ADF\nC11CB61011  0   0   MYLAR   IMPRESORA EPSON ACULASER M 7000N\nB11B209301BT    381.92  0   MYLAR   SCANNER EPSON GT-S55\nC11CC25001  188.01  0   MYLAR   IMPRESORA EPSON LQ-350\n32GB    3.29    0   MYLAR   PENDRIVE KINGSTON 32GB  USB 2.0\nINFD64GBPASBLS  PEN64GB 7.34    0   MYLAR   PENDRIVE INTEGRAL 64GB* USB 2.0\nTHN U202    3.91    0   MYLAR   PENDRIVE TOSHIBA  16GB  USB 2.0\nHD40CL  411.4   0   MYLAR   DISCO DURO BROTHER 10 GB PARA  HL4000CN\nFAX2845 159.2   0   MYLAR   FAX BROTHER 2845 LASER CON AURICULAR\n</code></pre>\n<p><strong>I need this format (up)</strong></p>\n<p><strong>With my actual code result is:</strong></p>\n<pre><code>    Fabricante,&quot;ID_PRODUCT&quot;,&quot;PRODUCTO&quot;,&quot;REFERENCIA&quot;,&quot;STOCK&quot;,&quot;EAN13&quot;,&quot;PRECIO&quot;\n ,&quot;MANUFACTURER&quot;,&quot;ID_PRODUCT&quot;,&quot;PRODUCT&quot;,&quot;REFERENCE&quot;,&quot;REFERENCE_PARENT&quot;,&quot;STOCK&quot;,&quot;EAN13&quot;,&quot;SHORT_DESCRIPTION&quot;,&quot;PRICE_CUSTOMER&quot;\n    ,&quot;EPSON&quot;,&quot;1&quot;,&quot;IMPRESORA EPSON LQ-2190&quot;,&quot;C11CA92001&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946459172&quot;,&quot;000003&quot;,&quot;910.33&quot;\n    ,&quot;EPSON&quot;,&quot;3&quot;,&quot;IMPRESORA EPSON LX-1170 II&quot;,&quot;C11C641001&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946316963&quot;,&quot;000008&quot;,&quot;428.91&quot;\n    ,&quot;EPSON&quot;,&quot;4&quot;,&quot;IMPRESORA EPSON FX-890 II&quot;,&quot;C11C524025&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946333137&quot;,&quot;000012&quot;,&quot;595.29&quot;\n    ,&quot;EPSON&quot;,&quot;5&quot;,&quot;IMPRESORA EPSON FX-2190&quot;,&quot;C11C526022&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946204420&quot;,&quot;000013&quot;,&quot;714.87&quot;\n    ,&quot;EPSON&quot;,&quot;6&quot;,&quot;IMPRESORA EPSON LQ-680 PRO&quot;,&quot;C11C376125&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946333205&quot;,&quot;000021&quot;,&quot;664.98&quot;\n    ,&quot;EPSON&quot;,&quot;8&quot;,&quot;IMPRESORA EPSON LQ-630&quot;,&quot;C11C480019&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946538068&quot;,&quot;000025&quot;,&quot;498.67&quot;\n    ,&quot;EPSON&quot;,&quot;11&quot;,&quot;IMPRESORA EPSON LQ-690&quot;,&quot;C11CA13041&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946429939&quot;,&quot;000091&quot;,&quot;583.8&quot;\n    ,&quot;EPSON&quot;,&quot;12&quot;,&quot;IMPRESORA EPSON LX-350&quot;,&quot;C11CC24031&quot;,&quot;&quot;,&quot;0&quot;,&quot;8715946502939&quot;,&quot;000092&quot;,&quot;171.23&quot;\n</code></pre>\n<p><strong>Explanation</strong></p>\n<p>i can´t pass the complete CSV file of a company distributor, I have passed some example lines that with that should give an idea of ​​what the whole file is like. Anyway, I'll try to make it clearer ... The first example after the update is my original mylar file. There was a former developer who made a script with MDB that transformed it as seen in the first example, which is the original from the distributor to the second example ... and finally with my current java script I get the third example. I need to put myself as the second example. I have terms in Spanish and English because this is how the CSVs of the providers come ... What I need to do is an automatic update of a database, with these CSVs, but for this, I have to transform them previously obtaining the data that is there in my script, but keep the CSV as in the example of the MDB script</p>\n"},{"tags":["java","usb4java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1451974553,"post_id":34604904,"comment_id":56956072,"body_markdown":"Sounds like it requires administrator rights.","body":"Sounds like it requires administrator rights."},{"owner":{"account_id":2289655,"reputation":33,"user_id":2012841,"display_name":"user2012841"},"score":0,"creation_date":1452021274,"post_id":34604904,"comment_id":56984476,"body_markdown":"Thanks for the feedback. I tried running Eclipse as an administrator and logged in as the Admin account, but I still receive the same error. I&#39;m sure this is a easy fix, I just am too inexperienced to understand it!","body":"Thanks for the feedback. I tried running Eclipse as an administrator and logged in as the Admin account, but I still receive the same error. I&#39;m sure this is a easy fix, I just am too inexperienced to understand it!"},{"owner":{"account_id":2289655,"reputation":33,"user_id":2012841,"display_name":"user2012841"},"score":0,"creation_date":1452215882,"post_id":34604904,"comment_id":57081806,"body_markdown":"I tried completing a simply read from a USB device with both the low-level (libusb) API and the high-level (javax-usb) API and I receive similar permission errors. Has anyone gotten Usb4Java to work on Windows 10? I&#39;m having a hard time finding any example that is not directly running from C or using Java from Linux.\n\nJust curious if anyone has a working example for Windows 10? No idea how to get around the issue I&#39;m having.","body":"I tried completing a simply read from a USB device with both the low-level (libusb) API and the high-level (javax-usb) API and I receive similar permission errors. Has anyone gotten Usb4Java to work on Windows 10? I&#39;m having a hard time finding any example that is not directly running from C or using Java from Linux.  Just curious if anyone has a working example for Windows 10? No idea how to get around the issue I&#39;m having."}],"answers":[{"tags":[],"owner":{"account_id":12502097,"reputation":45,"user_id":9100235,"display_name":"DarthVeder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525710735,"creation_date":1525709506,"answer_id":50218412,"question_id":34604904,"body_markdown":"Encountered the same issue. The issue seems to be that I did not trigger `LibUsb.freeDeviceList(devs, unref_devices);` , I figured it out when I disconnected the USB device manually and successfully connected it when it is freshly connected.","title":"usb4Java USB error 3: Unable to open USB device: Access denied (insufficient permissions)","body":"<p>Encountered the same issue. The issue seems to be that I did not trigger <code>LibUsb.freeDeviceList(devs, unref_devices);</code> , I figured it out when I disconnected the USB device manually and successfully connected it when it is freshly connected.</p>\n"}],"owner":{"account_id":2289655,"reputation":33,"user_id":2012841,"display_name":"user2012841"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650608082,"creation_date":1451972428,"question_id":34604904,"body_markdown":"I&#39;m using Windows 10 and Java through Eclipse. I&#39;m pretty new to programming and have been working on a project that requires reading in data from a USB Device.\r\n\r\nWhen I run the LibUsb.open(device, Handle) I receive the following error: USB error 3: Unable to open USB device: Access denied (insufficient permissions)\r\n\r\nI&#39;ve already run the zadig program to fix some other errors, but I can&#39;t seem to get around this one. Hoping someone could help me?\r\n\r\nMy Code is below (The FindDevice works fine, it&#39;s just when result = LibUsb.open(device, handle) is run the result = USB error 3: Unable to open USB device: Access denied (insufficient permissions)\r\n\r\nI haven&#39;t been able to find much help on this on google. \r\n\r\n```java\r\npublic void actionPerformed(ActionEvent arg0) {\r\n\r\n    //Initialize the libusb\r\n    context = new Context();\r\n    int result = LibUsb.init(context);\r\n    if (result != LibUsb.SUCCESS) {\r\n        throw new LibUsbException(&quot;Unable to initialize libusb.&quot;, result);\r\n    }\r\n    //Find the Device on the System\r\n    short vendorId = (short)1545;\r\n    short productId = (short)797;\r\n    Device device = findDevice(vendorId,productId);\r\n    DeviceHandle handle = new DeviceHandle();\r\n    //Create the DeviceHandle\r\n    //Open the Test Device  \r\n\r\n    result = LibUsb.open(device, handle);\r\n    if (result != LibUsb.SUCCESS) {\r\n        throw new LibUsbException(&quot;Unable to open USB device&quot;, result);\r\n    }\r\n    try\r\n    {\r\n        // Use device handle here\r\n        System.out.println(&quot;Does this happen?&quot;);\r\n        //claimDevice(vendorId, productId);\r\n    }\r\n    finally\r\n    {\r\n        LibUsb.close(handle);\r\n    }           \r\n\r\n    LibUsb.exit(context);\r\n}\r\n\r\npublic Device findDevice(short vendorId, short productId) {\r\n\r\n    // Read the USB device list\r\n    DeviceList list = new DeviceList();\r\n    int result = LibUsb.getDeviceList(null, list);\r\n    if (result &lt; 0) throw new LibUsbException(&quot;Unable to get device list&quot;, result);\r\n\r\n    try\r\n    {\r\n        // Iterate over all devices and scan for the right one\r\n        for (Device device: list)\r\n        {\r\n            DeviceDescriptor descriptor = new DeviceDescriptor();\r\n            result = LibUsb.getDeviceDescriptor(device, descriptor);\r\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to read device descriptor&quot;, result);\r\n\r\n            //Below is only executed when trying to figure out the Vendor ID and Descripter ID.\r\n            //System.out.println(&quot;VendorID:&quot; + descriptor.idVendor());\r\n            //System.out.println(&quot;Descripter ID:&quot; + descriptor.idProduct());\r\n\r\n            if (descriptor.idVendor() == vendorId &amp;&amp; descriptor.idProduct() == productId) {\r\n                System.out.println(&quot;Found Device!&quot;);\r\n                return device;\r\n            }\r\n        }\r\n    }\r\n    finally\r\n    {\r\n        // Ensure the allocated device list is freed\r\n    }\r\n\r\n    // Device not found\r\n    return null;\r\n}\r\n```","title":"usb4Java USB error 3: Unable to open USB device: Access denied (insufficient permissions)","body":"<p>I'm using Windows 10 and Java through Eclipse. I'm pretty new to programming and have been working on a project that requires reading in data from a USB Device.</p>\n<p>When I run the LibUsb.open(device, Handle) I receive the following error: USB error 3: Unable to open USB device: Access denied (insufficient permissions)</p>\n<p>I've already run the zadig program to fix some other errors, but I can't seem to get around this one. Hoping someone could help me?</p>\n<p>My Code is below (The FindDevice works fine, it's just when result = LibUsb.open(device, handle) is run the result = USB error 3: Unable to open USB device: Access denied (insufficient permissions)</p>\n<p>I haven't been able to find much help on this on google.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(ActionEvent arg0) {\n\n    //Initialize the libusb\n    context = new Context();\n    int result = LibUsb.init(context);\n    if (result != LibUsb.SUCCESS) {\n        throw new LibUsbException(&quot;Unable to initialize libusb.&quot;, result);\n    }\n    //Find the Device on the System\n    short vendorId = (short)1545;\n    short productId = (short)797;\n    Device device = findDevice(vendorId,productId);\n    DeviceHandle handle = new DeviceHandle();\n    //Create the DeviceHandle\n    //Open the Test Device  \n\n    result = LibUsb.open(device, handle);\n    if (result != LibUsb.SUCCESS) {\n        throw new LibUsbException(&quot;Unable to open USB device&quot;, result);\n    }\n    try\n    {\n        // Use device handle here\n        System.out.println(&quot;Does this happen?&quot;);\n        //claimDevice(vendorId, productId);\n    }\n    finally\n    {\n        LibUsb.close(handle);\n    }           \n\n    LibUsb.exit(context);\n}\n\npublic Device findDevice(short vendorId, short productId) {\n\n    // Read the USB device list\n    DeviceList list = new DeviceList();\n    int result = LibUsb.getDeviceList(null, list);\n    if (result &lt; 0) throw new LibUsbException(&quot;Unable to get device list&quot;, result);\n\n    try\n    {\n        // Iterate over all devices and scan for the right one\n        for (Device device: list)\n        {\n            DeviceDescriptor descriptor = new DeviceDescriptor();\n            result = LibUsb.getDeviceDescriptor(device, descriptor);\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to read device descriptor&quot;, result);\n\n            //Below is only executed when trying to figure out the Vendor ID and Descripter ID.\n            //System.out.println(&quot;VendorID:&quot; + descriptor.idVendor());\n            //System.out.println(&quot;Descripter ID:&quot; + descriptor.idProduct());\n\n            if (descriptor.idVendor() == vendorId &amp;&amp; descriptor.idProduct() == productId) {\n                System.out.println(&quot;Found Device!&quot;);\n                return device;\n            }\n        }\n    }\n    finally\n    {\n        // Ensure the allocated device list is freed\n    }\n\n    // Device not found\n    return null;\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1650608253,"post_id":71964129,"comment_id":127163118,"body_markdown":"How are you receiving the file? [FTP transfer issue here](https://stackoverflow.com/questions/37652908/apache-poi-excel-file-reading-potential-loop-detected-block-0-was-already-cl). [Also this](https://stackoverflow.com/questions/68073203/what-does-java-lang-arrayindexoutofboundsexception-index-2-out-of-bounds-for-l)","body":"How are you receiving the file? <a href=\"https://stackoverflow.com/questions/37652908/apache-poi-excel-file-reading-potential-loop-detected-block-0-was-already-cl\">FTP transfer issue here</a>. <a href=\"https://stackoverflow.com/questions/68073203/what-does-java-lang-arrayindexoutofboundsexception-index-2-out-of-bounds-for-l\">Also this</a>"},{"owner":{"account_id":3285777,"reputation":208,"user_id":2765349,"accept_rate":0,"display_name":"Bernhard Kern"},"score":0,"creation_date":1650609452,"post_id":71964129,"comment_id":127163410,"body_markdown":"Thx for the link, seems to be exactly the same issue. And the file could also not be provided. Thats bad, but I do not know how to reproduce the issue without exactly this file. The file is sent with an http interface, so no ftp. We receive many of those files every day from the same system. It is very specific to this file. We could reproduce it on another stage (qa), so it is no network issue or delivery issue.","body":"Thx for the link, seems to be exactly the same issue. And the file could also not be provided. Thats bad, but I do not know how to reproduce the issue without exactly this file. The file is sent with an http interface, so no ftp. We receive many of those files every day from the same system. It is very specific to this file. We could reproduce it on another stage (qa), so it is no network issue or delivery issue."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1650610116,"post_id":71964129,"comment_id":127163602,"body_markdown":"The only option for you is to fix the file creation process. Perhaps upgrade to .xlsx even. Or depending on what the file does, a CSV might be even better","body":"The only option for you is to fix the file creation process. Perhaps upgrade to .xlsx even. Or depending on what the file does, a CSV might be even better"},{"owner":{"account_id":3285777,"reputation":208,"user_id":2765349,"accept_rate":0,"display_name":"Bernhard Kern"},"score":0,"creation_date":1650612845,"post_id":71964129,"comment_id":127164501,"body_markdown":"Yes, I have the same opinion with .csv (or .xlsx), but we get the file delivered by another department, we cannot influence it a lot.","body":"Yes, I have the same opinion with .csv (or .xlsx), but we get the file delivered by another department, we cannot influence it a lot."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1650613265,"post_id":71964129,"comment_id":127164610,"body_markdown":"Well, we can&#39;t help you here in any way. If you really need to process the file, then they must fix it. There is no way around it. Unless you want to manually open -&gt; save each file","body":"Well, we can&#39;t help you here in any way. If you really need to process the file, then they must fix it. There is no way around it. Unless you want to manually open -&gt; save each file"}],"owner":{"account_id":3285777,"reputation":208,"user_id":2765349,"accept_rate":0,"display_name":"Bernhard Kern"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650607848,"creation_date":1650607848,"question_id":71964129,"body_markdown":"Apache POI 5.2.2 fails reading a .xls File (Excel 2003) when calling \r\n\r\n    WorkbookFactory.create(inputStream)\r\n\r\nwith the following StackTrace:\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index -2 out of bounds for length 30182\r\n\r\n\tat org.apache.poi.poifs.filesystem.BlockStore$ChainLoopDetector.claim(BlockStore.java:108)\r\n\tat org.apache.poi.poifs.filesystem.POIFSFileSystem.readCoreContents(POIFSFileSystem.java:406)\r\n\tat org.apache.poi.poifs.filesystem.POIFSFileSystem.&lt;init&gt;(POIFSFileSystem.java:361)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:231)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\r\n\r\nI am sorry to not be able to provide the exact file, since it contains sensitive data, which makes it hard to reproduce.\r\n\r\nAfter opening and saving the file with Excel, the file can be read with POI without any issue. The file was created with POI (currently finding out how and with what version (other department)). I saw the issue on other platforms, it exists since a long time, but I could not find it on Stackoverflow.com. I hope somebody can provide a file with non-sensitive data with the same issue.\r\n\r\n          // Claiming an existing block, ensure there&#39;s no loop\r\n          if(used_blocks[offset]) {\r\n             throw new IllegalStateException(\r\n                   &quot;Potential loop detected - Block &quot; + offset +\r\n                   &quot; was already claimed but was just requested again&quot;\r\n             );\r\n          }\r\nThe offset is not existing in used_blocks array.\r\n","title":"POI fail reading a .xls File (Excel 2003) with java.lang.ArrayIndexOutOfBoundsException BlockStore$ChainLoopDetector","body":"<p>Apache POI 5.2.2 fails reading a .xls File (Excel 2003) when calling</p>\n<pre><code>WorkbookFactory.create(inputStream)\n</code></pre>\n<p>with the following StackTrace:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index -2 out of bounds for length 30182\n\nat org.apache.poi.poifs.filesystem.BlockStore$ChainLoopDetector.claim(BlockStore.java:108)\nat org.apache.poi.poifs.filesystem.POIFSFileSystem.readCoreContents(POIFSFileSystem.java:406)\nat org.apache.poi.poifs.filesystem.POIFSFileSystem.&lt;init&gt;(POIFSFileSystem.java:361)\nat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:231)\nat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\n</code></pre>\n<p>I am sorry to not be able to provide the exact file, since it contains sensitive data, which makes it hard to reproduce.</p>\n<p>After opening and saving the file with Excel, the file can be read with POI without any issue. The file was created with POI (currently finding out how and with what version (other department)). I saw the issue on other platforms, it exists since a long time, but I could not find it on Stackoverflow.com. I hope somebody can provide a file with non-sensitive data with the same issue.</p>\n<pre><code>      // Claiming an existing block, ensure there's no loop\n      if(used_blocks[offset]) {\n         throw new IllegalStateException(\n               &quot;Potential loop detected - Block &quot; + offset +\n               &quot; was already claimed but was just requested again&quot;\n         );\n      }\n</code></pre>\n<p>The offset is not existing in used_blocks array.</p>\n"},{"tags":["java","regex","string","csv","talend"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1606462019,"post_id":65033185,"comment_id":114973338,"body_markdown":"Why do you need to determine _Max lines_ ? Do the fields repeat, i.e. does `$$NAME$$` appear more than once? Does each line consist of only what you wrote in your sample or are there other values in each line of the file? Is there also a space in the file after `$$WEATHER$$` ? How do you want to store the field values? Do you want to store them in some data structure like `ArrayList` or write them to another file or insert them into a database?","body":"Why do you need to determine <i>Max lines</i> ? Do the fields repeat, i.e. does <code>$$NAME$$</code> appear more than once? Does each line consist of only what you wrote in your sample or are there other values in each line of the file? Is there also a space in the file after <code>$$WEATHER$$</code> ? How do you want to store the field values? Do you want to store them in some data structure like <code>ArrayList</code> or write them to another file or insert them into a database?"},{"owner":{"account_id":19522929,"reputation":55,"user_id":14284366,"display_name":"Tommy"},"score":0,"creation_date":1606504081,"post_id":65033185,"comment_id":114989286,"body_markdown":"The fields dont repeat,i mentioned max lines just because i dont want to iterate through all the lines in the csv coz i believe the required fields must be at the top no later than first 100 lines .Each line has only the values i mentioned, yes there is a space after $$WEATHER$$(space) ,i prefer to store the extracted values in a string to insert as column values into a database table","body":"The fields dont repeat,i mentioned max lines just because i dont want to iterate through all the lines in the csv coz i believe the required fields must be at the top no later than first 100 lines .Each line has only the values i mentioned, yes there is a space after $$WEATHER$$(space) ,i prefer to store the extracted values in a string to insert as column values into a database table"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606460574,"creation_date":1606460574,"answer_id":65033245,"question_id":65033185,"body_markdown":"You could use regex here to both detect the name line:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int n = 100; // Max lines\r\n    String line;\r\n    try (BufferedReader br = new BufferedReader(new FileReader(str))) {\r\n        while ((line = br.readLine()) != null &amp;&amp; i++ &lt; n) {\r\n            if (line.matches(&quot;\\\\$\\\\$NAME\\\\$\\|$.$&quot;)) {\r\n                System.out.println(line.split(&quot; &quot;)[1]);\r\n            }\r\n        }\r\n    }","title":"How to capture the field values in the csv file using bufferedreader","body":"<p>You could use regex here to both detect the name line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = 100; // Max lines\nString line;\ntry (BufferedReader br = new BufferedReader(new FileReader(str))) {\n    while ((line = br.readLine()) != null &amp;&amp; i++ &lt; n) {\n        if (line.matches(&quot;\\\\$\\\\$NAME\\\\$\\|$.$&quot;)) {\n            System.out.println(line.split(&quot; &quot;)[1]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5417693,"reputation":1799,"user_id":4312388,"accept_rate":79,"display_name":"Yayotr&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606523104,"creation_date":1606523104,"answer_id":65045280,"question_id":65033185,"body_markdown":"I recommend you first split the line by space, then you&#39;ll have something like\r\n$$NAME$$, JOHN. Then retrieve the key between the dollar signs.\r\n\r\nAn example based on your snippet:\r\n\r\n    int i = 0;\r\n    int n = 100; // Max lines\r\n    String line;\r\n    try (BufferedReader br = new BufferedReader(new FileReader(str))) {\r\n      while ((line = br.readLine()) != null &amp;&amp; i++ &lt; n) {\r\n        String[] splitLine = line.split(&quot; &quot;);\r\n        String key = splitLine[0].split(&quot;\\\\$\\\\$&quot;)[1];\r\n        String value = splitLine[1];\r\n        System.out.printf(&quot;Name: %s | Value: %s%n&quot;, key, value);\r\n      }\r\n    }\r\n\r\nYou could also use a more modern approach using Java 9 Files API and streams, here&#39;s an example of that:\r\n\r\n      public static void main(String[] args) throws IOException, URISyntaxException {\r\n    \r\n        Path filePathFromProjectFolder = Path.of(ClassLoader.getSystemResource(&quot;file.csv&quot;).toURI());\r\n        Map&lt;String, String&gt; csvValues = Files.readAllLines(filePathFromProjectFolder).stream()\r\n            .map(line -&gt; line.split(&quot; &quot;))\r\n            .collect(Collectors.toMap(line -&gt; getKeyName(line[0]), line -&gt; line[1]));\r\n    \r\n        System.out.println(csvValues);\r\n      }\r\n    \r\n    \r\n      private static String getKeyName(String str) {\r\n        return str.split(&quot;\\\\$\\\\$&quot;)[1];\r\n      }","title":"How to capture the field values in the csv file using bufferedreader","body":"<p>I recommend you first split the line by space, then you'll have something like\n$$NAME$$, JOHN. Then retrieve the key between the dollar signs.</p>\n<p>An example based on your snippet:</p>\n<pre><code>int i = 0;\nint n = 100; // Max lines\nString line;\ntry (BufferedReader br = new BufferedReader(new FileReader(str))) {\n  while ((line = br.readLine()) != null &amp;&amp; i++ &lt; n) {\n    String[] splitLine = line.split(&quot; &quot;);\n    String key = splitLine[0].split(&quot;\\\\$\\\\$&quot;)[1];\n    String value = splitLine[1];\n    System.out.printf(&quot;Name: %s | Value: %s%n&quot;, key, value);\n  }\n}\n</code></pre>\n<p>You could also use a more modern approach using Java 9 Files API and streams, here's an example of that:</p>\n<pre><code>  public static void main(String[] args) throws IOException, URISyntaxException {\n\n    Path filePathFromProjectFolder = Path.of(ClassLoader.getSystemResource(&quot;file.csv&quot;).toURI());\n    Map&lt;String, String&gt; csvValues = Files.readAllLines(filePathFromProjectFolder).stream()\n        .map(line -&gt; line.split(&quot; &quot;))\n        .collect(Collectors.toMap(line -&gt; getKeyName(line[0]), line -&gt; line[1]));\n\n    System.out.println(csvValues);\n  }\n\n\n  private static String getKeyName(String str) {\n    return str.split(&quot;\\\\$\\\\$&quot;)[1];\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606548587,"creation_date":1606548179,"answer_id":65047362,"question_id":65033185,"body_markdown":"The following code will read only the first 100 lines of the file and extract the values into a list.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    java.nio.file.Path path = java.nio.file.Paths.get(str);\r\n    try {\r\n        java.util.List&lt;String&gt; values = java.nio.file.Files.lines(path)\r\n                                                           .limit(100)\r\n                                                           .filter(line -&gt; line.matches(&quot;\\\\$\\\\$[A-Z]+\\\\$\\\\$ [0-9A-Z]*$&quot;))\r\n                                                           .map(line -&gt; {\r\n                                                               String[] words = line.split(&quot; &quot;);\r\n                                                               return words.length == 2 ? words[1] : &quot;&quot;;\r\n                                                           })\r\n                                                           .collect(java.util.stream.Collectors.toList());\r\n        System.out.println(values);\r\n    }\r\n    catch (java.io.IOException xIo) {\r\n        xIo.printStackTrace();\r\n    }\r\n\r\nAccording to the sample file in your question, the above code will create the following list.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [JOHN, CA, SF, XYZ, , 25, CATEGORY, ]\r\n\r\nIf you want a [Map][1] instead of a `List` where the `Map` key is the value between the double `$` characters and the `Map` value is the part after the space, then\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Function&lt;String, String&gt; keyMapper = line -&gt; {\r\n        String[] parts = line.split(&quot; &quot;);\r\n        return parts[0].substring(2, parts[0].length() - 2);\r\n    };\r\n    Function&lt;String, String&gt; valueMapper = line -&gt; {\r\n        String[] parts = line.split(&quot; &quot;);\r\n        if (parts.length &gt; 1) {\r\n            return parts[1];\r\n        }\r\n        else {\r\n            return &quot;&quot;;\r\n        }\r\n    };\r\n    Path path = Paths.get(str);\r\n    try {\r\n        Map&lt;String, String&gt; map = Files.lines(path)\r\n                                       .limit(100)\r\n                                       .filter(line -&gt; line.matches(&quot;\\\\$\\\\$[A-Z]+\\\\$\\\\$ [0-9A-Z]*$&quot;))\r\n                                       .collect(Collectors.toMap(keyMapper, valueMapper));\r\n        System.out.println(map);\r\n    }\r\n    catch (IOException xIo) {\r\n        xIo.printStackTrace();\r\n    }\r\n\r\nThis will create the following `Map`\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    {GROUP=CATEGORY, WEATHER=, CITY=SF, STATE=CA, TIME=, NAME=JOHN, REGION=XYZ, AGE=25}\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"How to capture the field values in the csv file using bufferedreader","body":"<p>The following code will read only the first 100 lines of the file and extract the values into a list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.nio.file.Path path = java.nio.file.Paths.get(str);\ntry {\n    java.util.List&lt;String&gt; values = java.nio.file.Files.lines(path)\n                                                       .limit(100)\n                                                       .filter(line -&gt; line.matches(&quot;\\\\$\\\\$[A-Z]+\\\\$\\\\$ [0-9A-Z]*$&quot;))\n                                                       .map(line -&gt; {\n                                                           String[] words = line.split(&quot; &quot;);\n                                                           return words.length == 2 ? words[1] : &quot;&quot;;\n                                                       })\n                                                       .collect(java.util.stream.Collectors.toList());\n    System.out.println(values);\n}\ncatch (java.io.IOException xIo) {\n    xIo.printStackTrace();\n}\n</code></pre>\n<p>According to the sample file in your question, the above code will create the following list.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[JOHN, CA, SF, XYZ, , 25, CATEGORY, ]\n</code></pre>\n<p>If you want a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> instead of a <code>List</code> where the <code>Map</code> key is the value between the double <code>$</code> characters and the <code>Map</code> value is the part after the space, then</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;String, String&gt; keyMapper = line -&gt; {\n    String[] parts = line.split(&quot; &quot;);\n    return parts[0].substring(2, parts[0].length() - 2);\n};\nFunction&lt;String, String&gt; valueMapper = line -&gt; {\n    String[] parts = line.split(&quot; &quot;);\n    if (parts.length &gt; 1) {\n        return parts[1];\n    }\n    else {\n        return &quot;&quot;;\n    }\n};\nPath path = Paths.get(str);\ntry {\n    Map&lt;String, String&gt; map = Files.lines(path)\n                                   .limit(100)\n                                   .filter(line -&gt; line.matches(&quot;\\\\$\\\\$[A-Z]+\\\\$\\\\$ [0-9A-Z]*$&quot;))\n                                   .collect(Collectors.toMap(keyMapper, valueMapper));\n    System.out.println(map);\n}\ncatch (IOException xIo) {\n    xIo.printStackTrace();\n}\n</code></pre>\n<p>This will create the following <code>Map</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>{GROUP=CATEGORY, WEATHER=, CITY=SF, STATE=CA, TIME=, NAME=JOHN, REGION=XYZ, AGE=25}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18843334"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650607697,"creation_date":1650607697,"answer_id":71964110,"question_id":65033185,"body_markdown":"You need to extract data from a CSV file according to the format of “fieldname field value”. The code will be rather long if you try to do this in Java.\r\n\r\nTry using SPL, the open-source Java package, to get it done. It is easy with only two lines of code:\r\n\r\n||A|\r\n|:-|:-|\r\n|1|=file(&quot;data.csv&quot;).read@n().select(left(~,2)==&quot;&quot;).(right(&#160;,−2).split(&quot;&quot;)|\r\n|2|=create(${A1.(~(1)).concat@c()}).record(A1.(~(2)))|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as csv2tbl.splx and invoke it in Java as you call a stored procedure:\r\n```\r\n…\r\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\nst = con.prepareCall(&quot;call csv2tbl()&quot;);\r\nst.execute();\r\n…\r\n```","title":"How to capture the field values in the csv file using bufferedreader","body":"<p>You need to extract data from a CSV file according to the format of “fieldname field value”. The code will be rather long if you try to do this in Java.</p>\n<p>Try using SPL, the open-source Java package, to get it done. It is easy with only two lines of code:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">=file(&quot;data.csv&quot;).read@n().select(left(~,2)==&quot;&quot;).(right( ,−2).split(&quot;&quot;)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">=create(${A1.(~(1)).concat@c()}).record(A1.(~(2)))</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as csv2tbl.splx and invoke it in Java as you call a stored procedure:</p>\n<pre><code>…\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\nst = con.prepareCall(&quot;call csv2tbl()&quot;);\nst.execute();\n…\n</code></pre>\n"}],"owner":{"account_id":19522929,"reputation":55,"user_id":14284366,"display_name":"Tommy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1650607697,"creation_date":1606460134,"question_id":65033185,"body_markdown":"The csv file looks like this [![enter image description here][1]][1]\r\n\r\n [![enter image description here][1]][1]\r\n\r\nI&#39;m trying to get the field values like name, it is the value after $$NAME$$ (there is a space after the identifier). How do I store the value for each field by using BufferedReader in Java? The fields could be in any line number and not in a fixed place or format, and also throw out an error if there is any special characters or null value is encountered.\r\n\r\n  \r\n\r\n          int n = 100; // Max lines\r\n                  String line;\r\n                  try (BufferedReader br = new BufferedReader(new FileReader(str)))\r\n                   {\r\n                       while ((line = br.readLine()) != null &amp;&amp; i++ &lt; n)\r\n                    {\r\n                          br.readLine();\r\n                      line = br.readLine();\r\n                      System.out.println(line);\r\n                     }\r\n                   }\r\n\r\nOnce the values are extracted from the CSV file, I need to store them in a string variable and use it later to insert into the database for each column values\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VG75R.png\r\n\r\nCase 2:And also for the last field $$GROUP$$ CATEGORY the value is &quot;5&quot; in cell 9 to 11 and i need to match that the column CATEGORY in the database has to be 5 stored in a string to be inserted into the database column of the same name.\r\nThe regex wont find the exact match when i used line.matches condition","title":"How to capture the field values in the csv file using bufferedreader","body":"<p>The csv file looks like this <a href=\"https://i.stack.imgur.com/VG75R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VG75R.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VG75R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VG75R.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm trying to get the field values like name, it is the value after $$NAME$$ (there is a space after the identifier). How do I store the value for each field by using BufferedReader in Java? The fields could be in any line number and not in a fixed place or format, and also throw out an error if there is any special characters or null value is encountered.</p>\n<pre><code>      int n = 100; // Max lines\n              String line;\n              try (BufferedReader br = new BufferedReader(new FileReader(str)))\n               {\n                   while ((line = br.readLine()) != null &amp;&amp; i++ &lt; n)\n                {\n                      br.readLine();\n                  line = br.readLine();\n                  System.out.println(line);\n                 }\n               }\n</code></pre>\n<p>Once the values are extracted from the CSV file, I need to store them in a string variable and use it later to insert into the database for each column values</p>\n<p>Case 2:And also for the last field $$GROUP$$ CATEGORY the value is &quot;5&quot; in cell 9 to 11 and i need to match that the column CATEGORY in the database has to be 5 stored in a string to be inserted into the database column of the same name.\nThe regex wont find the exact match when i used line.matches condition</p>\n"},{"tags":["java","android","android-studio","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":428443,"reputation":3282,"user_id":810770,"accept_rate":69,"display_name":"terencey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528265322,"creation_date":1528265322,"answer_id":50713236,"question_id":50713070,"body_markdown":"It will only be named `ActivityMainBinding` if your layout is named `activity_main.xml`.","title":"Unknown DataBinding Class","body":"<p>It will only be named <code>ActivityMainBinding</code> if your layout is named <code>activity_main.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":13469602,"reputation":147,"user_id":9718622,"display_name":"Java Nerd"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1528265875,"creation_date":1528265875,"answer_id":50713352,"question_id":50713070,"body_markdown":"It was totally strange because Its ANDROID STUDIO!\r\n\r\nWhat I done is just changed the name of the **activity_main.xml** to **activity_main_.xml** then I make the project!\r\n\r\nAfter Making the project, I reverted back to the old name i.e activity_main.xml and it works like a charm. Don&#39;t know but it works really because this **GooF Android Studio** doesn&#39;t even ever makes any sense!\r\n","title":"Unknown DataBinding Class","body":"<p>It was totally strange because Its ANDROID STUDIO!</p>\n\n<p>What I done is just changed the name of the <strong>activity_main.xml</strong> to <strong>activity_main_.xml</strong> then I make the project!</p>\n\n<p>After Making the project, I reverted back to the old name i.e activity_main.xml and it works like a charm. Don't know but it works really because this <strong>GooF Android Studio</strong> doesn't even ever makes any sense!</p>\n"},{"tags":[],"owner":{"account_id":6773496,"reputation":781,"user_id":5216127,"accept_rate":80,"display_name":"Pallavi Tapkir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528270305,"creation_date":1528269500,"answer_id":50714387,"question_id":50713070,"body_markdown":"It&#39;s because you are using `&lt;layout&gt;` attribute in content_main.xml. So your binding class name will be ContentMainBinding.\r\n\r\nAlso you need to set R.layout.content_main to DataBindingUtils class.\r\n\r\nOR\r\n\r\nJust add `&lt;layout&gt;` in activity_main.xml and remove from content_main.xml and keep rest of code as it is. Just rebuild the project.\r\n \r\n","title":"Unknown DataBinding Class","body":"<p>It's because you are using <code>&lt;layout&gt;</code> attribute in content_main.xml. So your binding class name will be ContentMainBinding.</p>\n\n<p>Also you need to set R.layout.content_main to DataBindingUtils class.</p>\n\n<p>OR</p>\n\n<p>Just add <code>&lt;layout&gt;</code> in activity_main.xml and remove from content_main.xml and keep rest of code as it is. Just rebuild the project.</p>\n"}],"owner":{"account_id":13469602,"reputation":147,"user_id":9718622,"display_name":"Java Nerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50713352,"answer_count":3,"score":3,"last_activity_date":1650607560,"creation_date":1528264460,"question_id":50713070,"body_markdown":"I am newbie to DataBinding in Android and learning it to my own. I have just enabled the DataBinding in my App Gradle File in the Android Tag as:\r\n\r\n        dataBinding{\r\n            enabled=true\r\n        }\r\n\r\n\r\n----------\r\nMy XML is setup like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            tools:showIn=&quot;@layout/activity_main&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/text&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Hello World!&quot;/&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/layout&gt;\r\n\r\n\r\n----------\r\nAnd my Activity Looks like:\r\n\r\n\r\n----------\r\nThe problem is that the **ActivityMainBinding Class is unknown** to Android Studio. I don&#39;t know why is this happening. As I had clean, re-build make the project and everything doesn&#39;t help me out!\r\n\r\nI am attaching an [screen shot][1] too, looking at the screenshot you can find that the **ActivityMainBinding** is highlighted in **RED COLOR**","title":"Unknown DataBinding Class","body":"<p>I am newbie to DataBinding in Android and learning it to my own. I have just enabled the DataBinding in my App Gradle File in the Android Tag as:</p>\n<pre><code>    dataBinding{\n        enabled=true\n    }\n</code></pre>\n<hr />\n<p>My XML is setup like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;RelativeLayout\n        tools:showIn=&quot;@layout/activity_main&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/text&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Hello World!&quot;/&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n<hr />\n<p>And my Activity Looks like:</p>\n<hr />\n<p>The problem is that the <strong>ActivityMainBinding Class is unknown</strong> to Android Studio. I don't know why is this happening. As I had clean, re-build make the project and everything doesn't help me out!</p>\n<p>I am attaching an [screen shot][1] too, looking at the screenshot you can find that the <strong>ActivityMainBinding</strong> is highlighted in <strong>RED COLOR</strong></p>\n"},{"tags":["java","osgi","apache-felix","declarative-services"],"answers":[{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349615620,"creation_date":1349615620,"answer_id":12769151,"question_id":12620951,"body_markdown":"Firstly I would look into the logging config of your OSGi framework. It should be logging these exceptions.\r\n\r\nIf that doesn&#39;t work, you can just put in this type of code in your annotated method\r\n\r\n    catch (Exception ex) {  // or RuntimeException if possible\r\n        // log it\r\n        // then rethrow\r\n        throw ex;\r\n    }\r\n\r\nNote this is considered an anti-pattern by some, due to the duplicate stack traces it tends to produce.\r\n\r\nThis could also be moved into an aspect although that might cause pain in OSGi.","title":"In OSGi, how do you gracefully handle initialisation exceptions?","body":"<p>Firstly I would look into the logging config of your OSGi framework. It should be logging these exceptions.</p>\n\n<p>If that doesn't work, you can just put in this type of code in your annotated method</p>\n\n<pre><code>catch (Exception ex) {  // or RuntimeException if possible\n    // log it\n    // then rethrow\n    throw ex;\n}\n</code></pre>\n\n<p>Note this is considered an anti-pattern by some, due to the duplicate stack traces it tends to produce.</p>\n\n<p>This could also be moved into an aspect although that might cause pain in OSGi.</p>\n"},{"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650607085,"creation_date":1349617866,"answer_id":12769398,"question_id":12620951,"body_markdown":"The SCR specification requires exceptions from these methods to be logged to the OSGi LogService. Do you have a LogService implementation bundle installed? If so, you can find the exceptions from these methods logged there. If you need to log these exception to some other log, the you might want to check out something like [Pax Logging][1].\r\n\r\n\r\n  [1]: https://github.com/ops4j/org.ops4j.pax.logging","title":"In OSGi, how do you gracefully handle initialisation exceptions?","body":"<p>The SCR specification requires exceptions from these methods to be logged to the OSGi LogService. Do you have a LogService implementation bundle installed? If so, you can find the exceptions from these methods logged there. If you need to log these exception to some other log, the you might want to check out something like <a href=\"https://github.com/ops4j/org.ops4j.pax.logging\" rel=\"nofollow noreferrer\">Pax Logging</a>.</p>\n"}],"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12769398,"answer_count":2,"score":4,"last_activity_date":1650607085,"creation_date":1348747434,"question_id":12620951,"body_markdown":"I am using Maven-SCR. By using the `@Component` and `@Service` tags, I can have my class instance register the interfaces it provides automatically.\r\n\r\nOn occasion, however, the activate method (marked as `@Activate`) or even the constructor, might throw an exception and fail in a way I can&#39;t handle.\r\n\r\nThe issue is: I want to catch that exception so I can properly log it, but at the same time, I want to prevent that the class publishes its services if it failed to activate or initialize.\r\n\r\nHow do you guys do this?\r\n\r\nThanks!","title":"In OSGi, how do you gracefully handle initialisation exceptions?","body":"<p>I am using Maven-SCR. By using the <code>@Component</code> and <code>@Service</code> tags, I can have my class instance register the interfaces it provides automatically.</p>\n\n<p>On occasion, however, the activate method (marked as <code>@Activate</code>) or even the constructor, might throw an exception and fail in a way I can't handle.</p>\n\n<p>The issue is: I want to catch that exception so I can properly log it, but at the same time, I want to prevent that the class publishes its services if it failed to activate or initialize.</p>\n\n<p>How do you guys do this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","constructor","dependencies","guice","code-injection"],"answers":[{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650606998,"creation_date":1650606998,"answer_id":71964026,"question_id":71959571,"body_markdown":"# Annotate your other constructor with `@Inject` \r\n\r\nThink about it. Guice is a dependency injection (DI) framework. This means that Guice takes responsibility for creating objects.\r\n\r\nGuice therefore needs to know some things. The first among them is how to create a new instance. Therefore, Guice (and most other DI frameworks) put some conventions about how to create new objects.\r\n\r\nGuice&#39;s conventions for creating objects are the following: either provide a no-arg constructor or annotate it with `@Inject`. Why the no-arg constructor? Because all of its parameters are known: there are none. It&#39;s easy to create an object that doesn&#39;t have any parameter.\r\n\r\nIf there was any parameter, such as a `String` in your example, how would Guice know *which* `String` to inject? Well, you might say that you provide it in a module, fair enough. But in your example, you have more than one constructor. How would Guice know which constructor to use? Well, let&#39;s standardize and say that the easiest to construct is allowed but not the others. So let&#39;s instantiate using the no-arg constructor.\r\n\r\nPlease note that you can associate field injection with constructor injection, but to do so, you must annotate at most one constructor with `@Inject`. The following code is totally valid:\r\n\r\n```\r\npublic class Dog implements Animal{\r\n    private  String color;\r\n\r\n    @Inject\r\n    private  Owner owner;\r\n\r\n    //This constructor always used to build the Dog object.\r\n    public Dog(){}\r\n\r\n    @Inject public Dog(String random){} // Note the @Inject annotation.\r\n}\r\n```\r\n\r\nPlease note that [Guice&#39;s `@Inject`&#39;s Javadoc](https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Inject.html) is rather explicit (emphasis mine):\r\n\r\n&gt; The class being constructed must have exactly one of its constructors marked with `@Inject` **or must have a constructor taking no parameters**. The `Injector then proceeds to perform field and method injections.\r\n\r\nAlso, note the [Javadoc of `@javax.inject.Inject`](https://docs.oracle.com/javaee/7/api/javax/inject/Inject.html):\r\n\r\n&gt; Injectable constructors are annotated with `@Inject` and accept zero or more dependencies as arguments. `@Inject` can apply to at most one constructor per class. \r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; **`@Inject` is optional for public, no-argument constructors** when no other constructors are present. This enables injectors to invoke default constructors. \r\n&gt;\r\n&gt; [...]\r\n\r\nSo to answer your question, **no**, it&#39;s not possible to request Guice to inject your constructor with a `String` argument without annotating it with `@Inject`.","title":"If I use field injection with Guice, why can I only use the no arg constructor?","body":"<h1>Annotate your other constructor with <code>@Inject</code></h1>\n<p>Think about it. Guice is a dependency injection (DI) framework. This means that Guice takes responsibility for creating objects.</p>\n<p>Guice therefore needs to know some things. The first among them is how to create a new instance. Therefore, Guice (and most other DI frameworks) put some conventions about how to create new objects.</p>\n<p>Guice's conventions for creating objects are the following: either provide a no-arg constructor or annotate it with <code>@Inject</code>. Why the no-arg constructor? Because all of its parameters are known: there are none. It's easy to create an object that doesn't have any parameter.</p>\n<p>If there was any parameter, such as a <code>String</code> in your example, how would Guice know <em>which</em> <code>String</code> to inject? Well, you might say that you provide it in a module, fair enough. But in your example, you have more than one constructor. How would Guice know which constructor to use? Well, let's standardize and say that the easiest to construct is allowed but not the others. So let's instantiate using the no-arg constructor.</p>\n<p>Please note that you can associate field injection with constructor injection, but to do so, you must annotate at most one constructor with <code>@Inject</code>. The following code is totally valid:</p>\n<pre><code>public class Dog implements Animal{\n    private  String color;\n\n    @Inject\n    private  Owner owner;\n\n    //This constructor always used to build the Dog object.\n    public Dog(){}\n\n    @Inject public Dog(String random){} // Note the @Inject annotation.\n}\n</code></pre>\n<p>Please note that <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Inject.html\" rel=\"nofollow noreferrer\">Guice's <code>@Inject</code>'s Javadoc</a> is rather explicit (emphasis mine):</p>\n<blockquote>\n<p>The class being constructed must have exactly one of its constructors marked with <code>@Inject</code> <strong>or must have a constructor taking no parameters</strong>. The `Injector then proceeds to perform field and method injections.</p>\n</blockquote>\n<p>Also, note the <a href=\"https://docs.oracle.com/javaee/7/api/javax/inject/Inject.html\" rel=\"nofollow noreferrer\">Javadoc of <code>@javax.inject.Inject</code></a>:</p>\n<blockquote>\n<p>Injectable constructors are annotated with <code>@Inject</code> and accept zero or more dependencies as arguments. <code>@Inject</code> can apply to at most one constructor per class.</p>\n<p>[...]</p>\n<p><strong><code>@Inject</code> is optional for public, no-argument constructors</strong> when no other constructors are present. This enables injectors to invoke default constructors.</p>\n<p>[...]</p>\n</blockquote>\n<p>So to answer your question, <strong>no</strong>, it's not possible to request Guice to inject your constructor with a <code>String</code> argument without annotating it with <code>@Inject</code>.</p>\n"}],"owner":{"account_id":21341966,"reputation":81,"user_id":15712331,"display_name":"jgialis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650606998,"creation_date":1650567169,"question_id":71959571,"body_markdown":"Here is an example:\r\n\r\n```\r\npublic class Dog implements Animal{\r\n    private  String color;\r\n\r\n    @Inject\r\n    private  Owner owner;\r\n\r\n    //This constructor always used to build the Dog object.\r\n    public Dog(){}\r\n\r\n    public Dog(String random){}\r\n}\r\n```\r\n\r\nIs this a restriction or default behavior? Is there any way to use a parameterized constructor instead to build the Dog object? This seems like a limitation so I must be missing something.","title":"If I use field injection with Guice, why can I only use the no arg constructor?","body":"<p>Here is an example:</p>\n<pre><code>public class Dog implements Animal{\n    private  String color;\n\n    @Inject\n    private  Owner owner;\n\n    //This constructor always used to build the Dog object.\n    public Dog(){}\n\n    public Dog(String random){}\n}\n</code></pre>\n<p>Is this a restriction or default behavior? Is there any way to use a parameterized constructor instead to build the Dog object? This seems like a limitation so I must be missing something.</p>\n"},{"tags":["java","kotlin","casting"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1650607166,"post_id":71964019,"comment_id":127162866,"body_markdown":"Upcasting is generally pointless.","body":"Upcasting is generally pointless."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1650609955,"post_id":71964019,"comment_id":127163560,"body_markdown":"And worrying about casting performance is concentrating on completely irrelevant things, at least if your concern is performance and not the internal workings of casting on the machine level.","body":"And worrying about casting performance is concentrating on completely irrelevant things, at least if your concern is performance and not the internal workings of casting on the machine level."},{"owner":{"account_id":1636131,"reputation":11,"user_id":1509560,"display_name":"JinHyup Kim"},"score":0,"creation_date":1650611736,"post_id":71964019,"comment_id":127164138,"body_markdown":"@BoristheSpider@Kayaman\n\nThank you for your advice. I solved my curious :D!\n(I had situations I get values specific type on Map and casting Any for use, So I had above questions.)","body":"@BoristheSpider@Kayaman  Thank you for your advice. I solved my curious :D! (I had situations I get values specific type on Map and casting Any for use, So I had above questions.)"}],"owner":{"account_id":1636131,"reputation":11,"user_id":1509560,"display_name":"JinHyup Kim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650606931,"creation_date":1650606931,"question_id":71964019,"body_markdown":"While use Kotlin, I have questions about type casting.\r\n\r\n\r\n\r\n1.\tI think, Downcast (like Any as Int) use some resources (expensive) but Upcast (like Int as Any) don’t use resources (or really few). Is my thinking right?\r\n\r\n2.\tSome people say that Kotlin/Java don’t need to care anymore about casting resources because JVM keep developing. Is this right? \r\n\r\n3.\tI want to check myself these thinks are right or not. How I can make sample sources on IDE? (Check running time? or memory uses?)\r\n\r\n\r\n\r\nThank you for your interesting, and I&#39;m waiting your advice.\r\n\r\nSincerely.\r\n","title":"No need to consider resource usage for typecasts in Kotlin/Java?","body":"<p>While use Kotlin, I have questions about type casting.</p>\n<ol>\n<li><p>I think, Downcast (like Any as Int) use some resources (expensive) but Upcast (like Int as Any) don’t use resources (or really few). Is my thinking right?</p>\n</li>\n<li><p>Some people say that Kotlin/Java don’t need to care anymore about casting resources because JVM keep developing. Is this right?</p>\n</li>\n<li><p>I want to check myself these thinks are right or not. How I can make sample sources on IDE? (Check running time? or memory uses?)</p>\n</li>\n</ol>\n<p>Thank you for your interesting, and I'm waiting your advice.</p>\n<p>Sincerely.</p>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":1750817,"reputation":6108,"user_id":1599937,"accept_rate":82,"display_name":"Aliaksei Bulhak"},"score":0,"creation_date":1471241738,"post_id":38949006,"comment_id":65254874,"body_markdown":"can you show camelContext initialization? I think [this article will help you](http://camel.apache.org/spring-boot.html)","body":"can you show camelContext initialization? I think <a href=\"http://camel.apache.org/spring-boot.html\" rel=\"nofollow noreferrer\">this article will help you</a>"},{"owner":{"account_id":52067,"reputation":328,"user_id":1011810,"accept_rate":80,"display_name":"emarshah"},"score":0,"creation_date":1599544960,"post_id":38949006,"comment_id":112797592,"body_markdown":"if you have added a new dependency in POM, it might be possible that dependency has an impact. happened with me.","body":"if you have added a new dependency in POM, it might be possible that dependency has an impact. happened with me."}],"answers":[{"tags":[],"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471337349,"creation_date":1471254638,"answer_id":38952870,"question_id":38949006,"body_markdown":"My guess is that you&#39;re not running Spring Boot correctly or your `FatJarRouter` is not on Spring Boot&#39;s component scan path. Let&#39;s say you have a Spring Boot application class:\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n\t\t\tApplicationContext ctx = SpringApplication.run(DemoApplication.class, args);\r\n\t\t\tSystem.out.println(&quot;Printing out &quot;);\r\n\r\n\t\t\tMap&lt;String, RouteBuilder&gt; routeBuilders = \r\n                ctx.getBeansOfType(RouteBuilder.class);\r\n\t\t\tSystem.out.println(routeBuilders);\r\n\r\n\t\t\tCamelSpringBootApplicationController applicationController =\r\n\t\t\t\tctx.getBean(CamelSpringBootApplicationController.class);\r\n\t\t\tapplicationController.run();\r\n    \t}\r\n    }\r\n\r\nYour `FatJarRouter` must be in the same package (in this case `com.example`) or in a sub-package, e.g. `com.example.camel`:\r\n\r\n    package com.example.camel;\r\n    \r\n    import org.apache.camel.Exchange;\r\n    import org.apache.camel.spring.boot.FatJarRouter;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class DemoRouteBuilder extends FatJarRouter {\r\n    \r\n      @Override\r\n      public void configure() throws Exception {\r\n          from(&quot;timer:sender?delay=3000&amp;period=5000&quot;)\r\n              .log(&quot;Ping!&quot;);\r\n      }\r\n    }\r\n\r\n","title":"Apache camel route is not identified","body":"<p>My guess is that you're not running Spring Boot correctly or your <code>FatJarRouter</code> is not on Spring Boot's component scan path. Let's say you have a Spring Boot application class:</p>\n\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(DemoApplication.class, args);\n        System.out.println(\"Printing out \");\n\n        Map&lt;String, RouteBuilder&gt; routeBuilders = \n            ctx.getBeansOfType(RouteBuilder.class);\n        System.out.println(routeBuilders);\n\n        CamelSpringBootApplicationController applicationController =\n            ctx.getBean(CamelSpringBootApplicationController.class);\n        applicationController.run();\n    }\n}\n</code></pre>\n\n<p>Your <code>FatJarRouter</code> must be in the same package (in this case <code>com.example</code>) or in a sub-package, e.g. <code>com.example.camel</code>:</p>\n\n<pre><code>package com.example.camel;\n\nimport org.apache.camel.Exchange;\nimport org.apache.camel.spring.boot.FatJarRouter;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class DemoRouteBuilder extends FatJarRouter {\n\n  @Override\n  public void configure() throws Exception {\n      from(\"timer:sender?delay=3000&amp;period=5000\")\n          .log(\"Ping!\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471256407,"creation_date":1471256407,"answer_id":38953282,"question_id":38949006,"body_markdown":"From the camel FAQ documentation:\r\n\r\nhttp://camel.apache.org/how-do-i-name-my-routes.html\r\n\r\n    from(&quot;direct:start&quot;).routeId(&quot;myRoute&quot;).to(&quot;mock:bar&quot;);\r\n\r\nAs for the 0 routes, please refer to the answer provided by [Miloš Milivojević][1].\r\n\r\n  [1]: https://stackoverflow.com/a/38952870/289625","title":"Apache camel route is not identified","body":"<p>From the camel FAQ documentation:</p>\n\n<p><a href=\"http://camel.apache.org/how-do-i-name-my-routes.html\" rel=\"nofollow noreferrer\">http://camel.apache.org/how-do-i-name-my-routes.html</a></p>\n\n<pre><code>from(\"direct:start\").routeId(\"myRoute\").to(\"mock:bar\");\n</code></pre>\n\n<p>As for the 0 routes, please refer to the answer provided by <a href=\"https://stackoverflow.com/a/38952870/289625\">Miloš Milivojević</a>.</p>\n"},{"tags":[],"owner":{"account_id":16582995,"reputation":55,"user_id":11983148,"display_name":"Mukul Panchakarla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607342752,"creation_date":1607337543,"answer_id":65180147,"question_id":38949006,"body_markdown":"Faced the same issue today. Putting @ComponentScan and servlet registration in the configuration class worked for me.    \r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @ComponentScan(&quot;com.camel.practice&quot;)\r\n        public class ApplicationMain {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(ApplicationMain.class, args);\r\n        \t}\r\n        \t@Bean\r\n        \tpublic ServletRegistrationBean&lt;CamelHttpTransportServlet&gt; camelServletRegistrationBean() {\r\n        \t\tServletRegistrationBean&lt;CamelHttpTransportServlet&gt; registration = \r\n        \t\t\t\tnew ServletRegistrationBean&lt;CamelHttpTransportServlet&gt;(new CamelHttpTransportServlet(), &quot;/*&quot;);\r\n        \t\tregistration.setName(&quot;CamelServlet&quot;);\r\n        \t\treturn registration;\r\n        \t}","title":"Apache camel route is not identified","body":"<p>Faced the same issue today. Putting @ComponentScan and servlet registration in the configuration class worked for me.</p>\n<pre><code>@SpringBootApplication\n@Configuration\n@ComponentScan(&quot;com.camel.practice&quot;)\n    public class ApplicationMain {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(ApplicationMain.class, args);\n        }\n        @Bean\n        public ServletRegistrationBean&lt;CamelHttpTransportServlet&gt; camelServletRegistrationBean() {\n            ServletRegistrationBean&lt;CamelHttpTransportServlet&gt; registration = \n                    new ServletRegistrationBean&lt;CamelHttpTransportServlet&gt;(new CamelHttpTransportServlet(), &quot;/*&quot;);\n            registration.setName(&quot;CamelServlet&quot;);\n            return registration;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2313056,"reputation":1,"user_id":2030755,"display_name":"user2030755"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650606877,"creation_date":1650412149,"answer_id":71932552,"question_id":38949006,"body_markdown":"I had the same issue the routes were not being picked up, it was showing Routes startup (total:0 started:0)\r\nAdding `@ComponentScan()` solved the issue, \r\nI am getting Routes startup (total:1 started:1)\r\n\r\nThanks for that, it helped","title":"Apache camel route is not identified","body":"<p>I had the same issue the routes were not being picked up, it was showing Routes startup (total:0 started:0)\nAdding <code>@ComponentScan()</code> solved the issue,\nI am getting Routes startup (total:1 started:1)</p>\n<p>Thanks for that, it helped</p>\n"}],"owner":{"account_id":4051239,"reputation":906,"user_id":3330733,"accept_rate":38,"display_name":"Megan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5914,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1650606877,"creation_date":1471232338,"question_id":38949006,"body_markdown":"I have a spring boot application to which I am adding a camel route. The class where the route is defined extends FatJarRouter and is annotated with @Component. When the application is run as spring boot application, the route doesn&#39;t get identified. But if i write the route in the main class with @SpringBootApplication annotation the route is identified.  This is how it shows in logs as of now:\r\n\r\no.a.camel.spring.SpringCamelContext      : Total 0 routes, of which 0 are started.\r\no.a.camel.spring.SpringCamelContext      : Apache Camel 2.17.2 (CamelContext: camel-4) started in 0.026 seconds\r\n\r\nThe method with route is also annotated with override as:\r\n\r\n    @Override\r\n\tpublic void configure()  throws Exception{\r\n    from(&quot;file:\\\\input&quot;).to(&quot;file:\\\\output&quot;);\r\n    }\r\n\r\n\r\nPlease tell me how can I identify the route while writing it as a separate class but not in the main class. Is there anything missing.","title":"Apache camel route is not identified","body":"<p>I have a spring boot application to which I am adding a camel route. The class where the route is defined extends FatJarRouter and is annotated with @Component. When the application is run as spring boot application, the route doesn't get identified. But if i write the route in the main class with @SpringBootApplication annotation the route is identified.  This is how it shows in logs as of now:</p>\n\n<p>o.a.camel.spring.SpringCamelContext      : Total 0 routes, of which 0 are started.\no.a.camel.spring.SpringCamelContext      : Apache Camel 2.17.2 (CamelContext: camel-4) started in 0.026 seconds</p>\n\n<p>The method with route is also annotated with override as:</p>\n\n<pre><code>@Override\npublic void configure()  throws Exception{\nfrom(\"file:\\\\input\").to(\"file:\\\\output\");\n}\n</code></pre>\n\n<p>Please tell me how can I identify the route while writing it as a separate class but not in the main class. Is there anything missing.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1650604310,"post_id":71963133,"comment_id":127162359,"body_markdown":"Hibernate would only update your specfic table if you have coded it to do so in your model. This is not an unexpected behaviour since hibernate was told to create a not null column as defined in the model. However if you still want to see table and column creations , you can enable the property from here : https://www.appsdeveloperblog.com/show-hibernate-sql-query-in-spring-boot/","body":"Hibernate would only update your specfic table if you have coded it to do so in your model. This is not an unexpected behaviour since hibernate was told to create a not null column as defined in the model. However if you still want to see table and column creations , you can enable the property from here : <a href=\"https://www.appsdeveloperblog.com/show-hibernate-sql-query-in-spring-boot/\" rel=\"nofollow noreferrer\">appsdeveloperblog.com/show-hibernate-sql-query-in-spring-boo&zwnj;&#8203;t</a>"},{"owner":{"account_id":13386437,"reputation":61,"user_id":9660162,"display_name":"Antonio Vivalda"},"score":0,"creation_date":1650605457,"post_id":71963133,"comment_id":127162529,"body_markdown":"Hi, thanks fo the reply.  I agree, the point was not that. We need that hibernate, in case of an error occours executing an SQL statement (e.g. a column not null with some data in the table), raise the exception that the database throws. At the moment, instead, it sinlently continue the set of operations, and we have no feedback about the error. We&#39;d rather that the exception would stop the startup of our application, in order to immediately fix it in test environment.","body":"Hi, thanks fo the reply.  I agree, the point was not that. We need that hibernate, in case of an error occours executing an SQL statement (e.g. a column not null with some data in the table), raise the exception that the database throws. At the moment, instead, it sinlently continue the set of operations, and we have no feedback about the error. We&#39;d rather that the exception would stop the startup of our application, in order to immediately fix it in test environment."},{"owner":{"account_id":13386437,"reputation":61,"user_id":9660162,"display_name":"Antonio Vivalda"},"score":0,"creation_date":1650606601,"post_id":71963133,"comment_id":127162761,"body_markdown":"Found!  hibernate.hbm2ddl.halt_on_error   thanks","body":"Found!  hibernate.hbm2ddl.halt_on_error   thanks"}],"answers":[{"tags":[],"owner":{"account_id":13386437,"reputation":61,"user_id":9660162,"display_name":"Antonio Vivalda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650606624,"creation_date":1650606624,"answer_id":71963981,"question_id":71963133,"body_markdown":"Found: hibernate.hbm2ddl.halt_on_error","title":"Hibernate ddl-auto=update, how to intercept errors","body":"<p>Found: hibernate.hbm2ddl.halt_on_error</p>\n"}],"owner":{"account_id":13386437,"reputation":61,"user_id":9660162,"display_name":"Antonio Vivalda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650606624,"creation_date":1650597869,"question_id":71963133,"body_markdown":"Using ddl-auto=update, hibernate properly updates the schema based on the java Entities.\r\nIn case there is an error, for example it tries to create a not null column on a table that is not empty, it does not raise an exception and silently continue the execution.\r\n\r\nOur need is that hibernate immediately throws an exception in case there is any error during schema update.\r\nIs there any option to enable this behavior?\r\n\r\nThanks","title":"Hibernate ddl-auto=update, how to intercept errors","body":"<p>Using ddl-auto=update, hibernate properly updates the schema based on the java Entities.\nIn case there is an error, for example it tries to create a not null column on a table that is not empty, it does not raise an exception and silently continue the execution.</p>\n<p>Our need is that hibernate immediately throws an exception in case there is any error during schema update.\nIs there any option to enable this behavior?</p>\n<p>Thanks</p>\n"},{"tags":["java","loops","while-loop","jgrasp"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1394519617,"post_id":22318123,"comment_id":33914494,"body_markdown":"See [`String` API](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html).","body":"See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code> API</a>."}],"answers":[{"tags":[],"owner":{"account_id":2562745,"reputation":740,"user_id":2223539,"display_name":"amudhan3093"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394519765,"creation_date":1394519765,"answer_id":22318182,"question_id":22318123,"body_markdown":"Try `String upper = friendName.toUpperCase()`.\r\nNow the `upper` String has all the character in the uppercase.Use it according to your need. Refer [String API](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html)","title":"Converting text file to all uppercase letters","body":"<p>Try <code>String upper = friendName.toUpperCase()</code>.\nNow the <code>upper</code> String has all the character in the uppercase.Use it according to your need. Refer <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">String API</a></p>\n"},{"tags":[],"owner":{"account_id":2271976,"reputation":4136,"user_id":1999125,"accept_rate":82,"display_name":"anirudh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394519807,"creation_date":1394519807,"answer_id":22318191,"question_id":22318123,"body_markdown":"Look at the [String class documentation][1] and try to find a method to change the string value to all uppercase. \r\n\r\nAlso you need to get the output file name above the `while` loop and then write to the output file inside the loop since for every iteration of the loop, the string value of the previous iteration is lost.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html","title":"Converting text file to all uppercase letters","body":"<p>Look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">String class documentation</a> and try to find a method to change the string value to all uppercase. </p>\n\n<p>Also you need to get the output file name above the <code>while</code> loop and then write to the output file inside the loop since for every iteration of the loop, the string value of the previous iteration is lost.</p>\n"},{"tags":[],"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394520005,"creation_date":1394520005,"answer_id":22318254,"question_id":22318123,"body_markdown":"Use `FileUtils` [readFileToString()][1] and [writeFileToString()][2] to do the work simple,\r\n\r\n    String content = FileUtils.readFileToString(new File(FILE_PATH));\r\n    FileUtils.writeStringToFile(new File(FILE_PATH), content.toUpperCase());\r\n\r\n\r\n[1]:http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#readFileToString%28java.io.File%29\r\n\r\n[2]:http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#writeStringToFile%28java.io.File,%20java.lang.String,%20java.lang.String%29","title":"Converting text file to all uppercase letters","body":"<p>Use <code>FileUtils</code> <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#readFileToString%28java.io.File%29\" rel=\"nofollow\">readFileToString()</a> and <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#writeStringToFile%28java.io.File,%20java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">writeFileToString()</a> to do the work simple,</p>\n\n<pre><code>String content = FileUtils.readFileToString(new File(FILE_PATH));\nFileUtils.writeStringToFile(new File(FILE_PATH), content.toUpperCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189528,"reputation":3611,"user_id":428904,"accept_rate":82,"display_name":"Hirak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394520012,"creation_date":1394520012,"answer_id":22318257,"question_id":22318123,"body_markdown":"    friendName = friendName +System.lineSeparator()+friendName.toUpperCase();\r\n\r\n//After the while loop finishes, write the contents of friendName in your output file.","title":"Converting text file to all uppercase letters","body":"<pre><code>friendName = friendName +System.lineSeparator()+friendName.toUpperCase();\n</code></pre>\n\n<p>//After the while loop finishes, write the contents of friendName in your output file.</p>\n"},{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443636111,"creation_date":1394520141,"answer_id":22318290,"question_id":22318123,"body_markdown":"You may try like this:\r\n\r\n    File file1 = new File(&quot;initial.txt&quot;);\r\n    File file2 = new File(&quot;final.txt&quot;); \r\n    char CharCounter = 0;       \r\n    BufferedReader in = (new BufferedReader(newFileReader(file1)));\r\n    PrintWriter out = (new PrintWriter(new FileWriter(file2)));\r\n    int ch;\r\n    while ((ch = in.read()) != -1)\r\n    {\r\n       if (Character.isLowerCase(ch))\r\n       {\r\n            ch=Character.toUpperCase(ch);// convert assign variable\r\n       }\r\n    out.write(ch);\r\n    }\r\n    in.close();\r\n    out.close();","title":"Converting text file to all uppercase letters","body":"<p>You may try like this:</p>\n\n<pre><code>File file1 = new File(\"initial.txt\");\nFile file2 = new File(\"final.txt\"); \nchar CharCounter = 0;       \nBufferedReader in = (new BufferedReader(newFileReader(file1)));\nPrintWriter out = (new PrintWriter(new FileWriter(file2)));\nint ch;\nwhile ((ch = in.read()) != -1)\n{\n   if (Character.isLowerCase(ch))\n   {\n        ch=Character.toUpperCase(ch);// convert assign variable\n   }\nout.write(ch);\n}\nin.close();\nout.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4023887,"reputation":2257,"user_id":3313050,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394520889,"creation_date":1394520889,"answer_id":22318479,"question_id":22318123,"body_markdown":" Try This Demo Code:       \r\n\r\n           import java.io.*;\r\n           import java.util.*;\r\n           class m{\r\n\t\r\n      public static void main (String[] args) {\r\n         try\r\n        {\r\n         FileReader fr = new FileReader(&quot;file.java&quot;);\r\n         BufferedReader br = new BufferedReader(fr);\r\n         PrintWriter out = (new PrintWriter(new FileWriter(&quot;mahesh.java&quot;)));\r\n         String s=&quot;&quot;;\r\n       while((s = br.readLine()) != null) \r\n       {\r\n          out.write(s.toUpperCase()+&quot;\\n&quot;);\r\n        }\r\n      out.close();\r\n      }\r\n        catch(Exception e)\r\n        {\r\n         e.printStackTrace();\r\n        }\r\n       }\r\n\r\n      }","title":"Converting text file to all uppercase letters","body":"<p>Try This Demo Code:       </p>\n\n<pre><code>       import java.io.*;\n       import java.util.*;\n       class m{\n\n  public static void main (String[] args) {\n     try\n    {\n     FileReader fr = new FileReader(\"file.java\");\n     BufferedReader br = new BufferedReader(fr);\n     PrintWriter out = (new PrintWriter(new FileWriter(\"mahesh.java\")));\n     String s=\"\";\n   while((s = br.readLine()) != null) \n   {\n      out.write(s.toUpperCase()+\"\\n\");\n    }\n  out.close();\n  }\n    catch(Exception e)\n    {\n     e.printStackTrace();\n    }\n   }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23554036,"reputation":134,"user_id":17596296,"display_name":"Mr. T-REX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650606551,"creation_date":1650383011,"answer_id":71927701,"question_id":22318123,"body_markdown":"    package WT_LAB_THIRTEEN;\r\n    import java.io.*;\r\n    \r\n    public class StringsToUpperCase {\r\n        public static void main(String[] args) throws IOException {\r\n            BufferedReader br = new BufferedReader(\r\n                    new FileReader(new File(&quot;C:\\\\Users\\\\Web Tech\\\\WT_LAB_THIRTEEN\\\\InputFile.txt&quot;)));\r\n            PrintWriter pw = new PrintWriter(\r\n                    new FileWriter(new File(&quot;C:\\\\Users\\\\Web Tech\\\\WT_LAB_THIRTEEN\\\\OutputFile.txt&quot;)));\r\n            int ch;\r\n            while ((ch = br.read()) != -1) {\r\n                if (Character.isLowerCase(ch)) {\r\n                    ch = Character.toUpperCase(ch);\r\n                }\r\n                /*the below part of the code can be used to convert UpperCase characters to lowerCase \r\n                else if (Character.isUpperCase(ch)) {\r\n                    ch = Character.toLowerCase(ch);\r\n                }*/\r\n                pw.write(ch);\r\n            }\r\n            br.close();\r\n            pw.close();\r\n        }\r\n    }\r\n","title":"Converting text file to all uppercase letters","body":"<pre><code>package WT_LAB_THIRTEEN;\nimport java.io.*;\n\npublic class StringsToUpperCase {\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(\n                new FileReader(new File(&quot;C:\\\\Users\\\\Web Tech\\\\WT_LAB_THIRTEEN\\\\InputFile.txt&quot;)));\n        PrintWriter pw = new PrintWriter(\n                new FileWriter(new File(&quot;C:\\\\Users\\\\Web Tech\\\\WT_LAB_THIRTEEN\\\\OutputFile.txt&quot;)));\n        int ch;\n        while ((ch = br.read()) != -1) {\n            if (Character.isLowerCase(ch)) {\n                ch = Character.toUpperCase(ch);\n            }\n            /*the below part of the code can be used to convert UpperCase characters to lowerCase \n            else if (Character.isUpperCase(ch)) {\n                ch = Character.toLowerCase(ch);\n            }*/\n            pw.write(ch);\n        }\n        br.close();\n        pw.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3480516,"reputation":63,"user_id":2912710,"accept_rate":60,"display_name":"nerd4life"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":7,"score":2,"last_activity_date":1650606551,"creation_date":1394519573,"question_id":22318123,"body_markdown":"I have an assignment for class and I have to make a program that takes an existing file and converts all the letters to uppercase. Below is part of the code (specifically the loop):\r\n\r\n     // Read lines from the file until no more are left.\r\n      while (inputFile.hasNext())\r\n      {\r\n          // Read the next name.\r\n         String friendName = inputFile.nextLine();\r\n          \r\n          // Need line to make all letters uppercase\r\n          \r\n      }\r\n      \r\n      System.out.print(&quot;Enter the saved file name: &quot;);\r\n      String filename2 = keyboard.nextLine();\r\n\r\nWhen I run it now: I am able to open the first text file and a second txt file is created, but there is no letters in the new file. \r\n\r\n","title":"Converting text file to all uppercase letters","body":"<p>I have an assignment for class and I have to make a program that takes an existing file and converts all the letters to uppercase. Below is part of the code (specifically the loop):</p>\n\n<pre><code> // Read lines from the file until no more are left.\n  while (inputFile.hasNext())\n  {\n      // Read the next name.\n     String friendName = inputFile.nextLine();\n\n      // Need line to make all letters uppercase\n\n  }\n\n  System.out.print(\"Enter the saved file name: \");\n  String filename2 = keyboard.nextLine();\n</code></pre>\n\n<p>When I run it now: I am able to open the first text file and a second txt file is created, but there is no letters in the new file. </p>\n"},{"tags":["java","sql","hibernate","jpa","prepared-statement"],"comments":[{"owner":{"account_id":1032762,"reputation":682,"user_id":1040740,"accept_rate":62,"display_name":"javatestcase"},"score":0,"creation_date":1327102309,"post_id":8948872,"comment_id":11203432,"body_markdown":"Let me add jtds-1.2.2 to the technology stack.  I&#39;ve debugged through Hibernate into JTDS","body":"Let me add jtds-1.2.2 to the technology stack.  I&#39;ve debugged through Hibernate into JTDS"},{"owner":{"account_id":1032762,"reputation":682,"user_id":1040740,"accept_rate":62,"display_name":"javatestcase"},"score":0,"creation_date":1327103251,"post_id":8948872,"comment_id":11203611,"body_markdown":"tried jtds-1.2.4, but no joy...","body":"tried jtds-1.2.4, but no joy..."},{"owner":{"account_id":1032762,"reputation":682,"user_id":1040740,"accept_rate":62,"display_name":"javatestcase"},"score":0,"creation_date":1327104319,"post_id":8948872,"comment_id":11203809,"body_markdown":"Switching to com.microsoft.sqlserver.jdbc.SQLServerDriver actually produces identical results...  Gotta take a look at SQL Server, maybe something there...","body":"Switching to com.microsoft.sqlserver.jdbc.SQLServerDriver actually produces identical results...  Gotta take a look at SQL Server, maybe something there..."}],"answers":[{"tags":[],"owner":{"account_id":274899,"reputation":936,"user_id":567417,"accept_rate":90,"display_name":"Gareth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1327118615,"creation_date":1327118615,"answer_id":8950556,"question_id":8948872,"body_markdown":"Check the query plans that SQL server is producing. Prepared statements can be especially problematic.\r\n\r\nLet me explain...\r\n\r\nIf you do this:\r\n\r\n    SELECT field1, field2, field3 FROM entity left join entity2 on... left join entity3 on\r\n    WHERE stringId like &#39;ABC123%&#39;;\r\n\r\nand you have an index on &quot;stringId&quot; SQL server knows it can use it.\r\n\r\nHowever if you do this:\r\n\r\n    SELECT field1, field2, field3 FROM entity left join entity2 on... left join entity3 on\r\n    WHERE stringId like ?;\r\n\r\nSQL server doesn&#39;t know it can use the index when it creates the prepared statement (as you could fill in the parameter with &#39;%ABC123&#39; instead of &#39;ABC123%&#39;) and thus may choose a completely different query plan.\r\n\r\n\r\n\r\n","title":"JPA (Hibernate) Native Query for Prepared Statement SLOW","body":"<p>Check the query plans that SQL server is producing. Prepared statements can be especially problematic.</p>\n\n<p>Let me explain...</p>\n\n<p>If you do this:</p>\n\n<pre><code>SELECT field1, field2, field3 FROM entity left join entity2 on... left join entity3 on\nWHERE stringId like 'ABC123%';\n</code></pre>\n\n<p>and you have an index on \"stringId\" SQL server knows it can use it.</p>\n\n<p>However if you do this:</p>\n\n<pre><code>SELECT field1, field2, field3 FROM entity left join entity2 on... left join entity3 on\nWHERE stringId like ?;\n</code></pre>\n\n<p>SQL server doesn't know it can use the index when it creates the prepared statement (as you could fill in the parameter with '%ABC123' instead of 'ABC123%') and thus may choose a completely different query plan.</p>\n"},{"tags":[],"owner":{"account_id":1032762,"reputation":682,"user_id":1040740,"accept_rate":62,"display_name":"javatestcase"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1327164006,"creation_date":1327164006,"answer_id":8954690,"question_id":8948872,"body_markdown":"I&#39;ll leave this question and answer out here in case anyone has the same issue in the future.\r\n\r\nThe issue is in the way the JTDS drivers send the parameter strings to MSSQL. Apparently Java will attempt to send the parameters Unicode by default, and MSSQL will translate it to Ascii.  Why that takes 9 seconds, I do not know.\r\n\r\nLot&#39;s of references to this out there, but nothing that helped my till I was able to isolate that it was an issue with the driver to MSSQL connection.\r\n\r\nThis link was helpful:\r\n\r\n[http://server.pramati.com/blog/2010/06/02/perfissues-jdbcdrivers-mssqlserver/]\r\n\r\nThis is the string using the Microsoft driver.\r\n\r\n    jdbc:sqlserver://localhost\\SQLEXPRESS;\r\n      DatabaseName=TESTDB;\r\n      sendStringParametersAsUnicode=false\r\n\r\nYou just need to get the sendStringParametersAsUnicode=false passed to your driver URL setup and you are good.","title":"JPA (Hibernate) Native Query for Prepared Statement SLOW","body":"<p>I'll leave this question and answer out here in case anyone has the same issue in the future.</p>\n\n<p>The issue is in the way the JTDS drivers send the parameter strings to MSSQL. Apparently Java will attempt to send the parameters Unicode by default, and MSSQL will translate it to Ascii.  Why that takes 9 seconds, I do not know.</p>\n\n<p>Lot's of references to this out there, but nothing that helped my till I was able to isolate that it was an issue with the driver to MSSQL connection.</p>\n\n<p>This link was helpful:</p>\n\n<p>[http://server.pramati.com/blog/2010/06/02/perfissues-jdbcdrivers-mssqlserver/]</p>\n\n<p>This is the string using the Microsoft driver.</p>\n\n<pre><code>jdbc:sqlserver://localhost\\SQLEXPRESS;\n  DatabaseName=TESTDB;\n  sendStringParametersAsUnicode=false\n</code></pre>\n\n<p>You just need to get the sendStringParametersAsUnicode=false passed to your driver URL setup and you are good.</p>\n"},{"tags":[],"owner":{"account_id":16650,"reputation":6289,"user_id":36510,"accept_rate":57,"display_name":"nevster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382076645,"creation_date":1382076645,"answer_id":19442755,"question_id":8948872,"body_markdown":"And another answer for people potentially using Oracle with a similar Unicode problem...\r\n\r\nCheck to make sure someone hasn&#39;t set the property oracle.jdbc.defaultNChar=true\r\n\r\nThis is sometimes done to resolve unicode problems but it means all columns are treated as nvarchars. If you have an index on a varchar column, it won&#39;t be used because oracle has to use a function to convert the character encoding.","title":"JPA (Hibernate) Native Query for Prepared Statement SLOW","body":"<p>And another answer for people potentially using Oracle with a similar Unicode problem...</p>\n\n<p>Check to make sure someone hasn't set the property oracle.jdbc.defaultNChar=true</p>\n\n<p>This is sometimes done to resolve unicode problems but it means all columns are treated as nvarchars. If you have an index on a varchar column, it won't be used because oracle has to use a function to convert the character encoding.</p>\n"}],"owner":{"account_id":1032762,"reputation":682,"user_id":1040740,"accept_rate":62,"display_name":"javatestcase"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16366,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":8954690,"answer_count":3,"score":9,"last_activity_date":1650606289,"creation_date":1327099986,"question_id":8948872,"body_markdown":"Having strange performance issue using Hibernate 3.3.2GA behind JPA (and the rest of the Hibernate packages included in JBoss 5.)\r\n\r\nI&#39;m using Native Query, and assembling SQL into a prepared statement.\r\n\r\n    EntityManager em = getEntityManager(MY_DS);\r\n    final Query query = em.createNativeQuery(fullSql, entity.getClass());\r\n\r\nThe SQL has a lot of joins, but is actually very basic, with a single parameter.  Like:\r\n\r\n    SELECT field1, field2, field3 FROM entity left join entity2 on... left join entity3 on\r\n    WHERE stringId like ?\r\n\r\nand the query runs in under a second on MSSQL Studio.\r\n\r\nIf I add\r\n\r\n    query.setParameter(0, &quot;ABC123%&quot;);\r\n\r\nThe query will pause for 9 seconds\r\n\r\n\r\n    2012-01-20 14:36:21 - TRACE: - AbstractBatcher.getPreparedStatement:(484) | preparing statement\r\n    2012-01-20 14:36:21 - TRACE: - StringType.nullSafeSet:(133) | binding &#39;ABC123%&#39; to parameter: 1\r\n    2012-01-20 14:36:30 - DEBUG: - AbstractBatcher.logOpenResults:(382) | about to open ResultSet (open ResultSets: 0, globally: 0)\r\n\r\n\r\nHowever, if I just replace the &quot;?&quot; with the value (making it not a Prepared Statement, but just a straight SQL query.\r\n\r\n    fullSql = fullSql.replace(&quot;?&quot;, &quot;&#39;ABC123%&#39;&quot;);\r\n\r\nthe query will complete in less that a second.\r\n\r\nI would really prefer to us a Prepared Statement (the input for the parameters is being extracted from user data) to prevent injection attacks.\r\n\r\nTracing down the slow point in the code, I arrived deep within the jtds-1.2.2 package. The offending line seems to be SharedSocket line 841 &quot;getIn().readFully(hdrBuf);&quot; Nothing really obvious there though...\r\n\r\n    private byte[] readPacket(byte buffer[])\r\n            throws IOException {\r\n        //\r\n        // Read rest of header\r\n        try {\r\n            getIn().readFully(hdrBuf);\r\n        } catch (EOFException e) {\r\n            throw new IOException(&quot;DB server closed connection.&quot;);\r\n        }\r\n\r\nArrived to through this stack...\r\n\r\n\r\n\t  at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:841)\r\n\t  at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:722)\r\n\t  at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:466)\r\n\t  at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:103)\r\n\t  at net.sourceforge.jtds.jdbc.ResponseStream.peek(ResponseStream.java:88)\r\n\t  at net.sourceforge.jtds.jdbc.TdsCore.wait(TdsCore.java:3928)\r\n\t  at net.sourceforge.jtds.jdbc.TdsCore.executeSQL(TdsCore.java:1045)\r\n\t  at net.sourceforge.jtds.jdbc.TdsCore.microsoftPrepare(TdsCore.java:1178)\r\n\t  at net.sourceforge.jtds.jdbc.ConnectionJDBC2.prepareSQL(ConnectionJDBC2.java:657)\r\n\t  at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeQuery(JtdsPreparedStatement.java:776)\r\n\t  at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\r\n\t  at org.hibernate.loader.Loader.getResultSet(Loader.java:1808)\r\n\t  at org.hibernate.loader.Loader.doQuery(Loader.java:697)\r\n\t  at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\r\n\t  at org.hibernate.loader.Loader.doList(Loader.java:2228)\r\n\t  at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2125)\r\n\t  at org.hibernate.loader.Loader.list(Loader.java:2120)\r\n\t  at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:312)\r\n\t  at org.hibernate.impl.SessionImpl.listCustomQuery(SessionImpl.java:1722)\r\n\t  at org.hibernate.impl.AbstractSessionImpl.list(AbstractSessionImpl.java:165)\r\n\t  at org.hibernate.impl.SQLQueryImpl.list(SQLQueryImpl.java:175)\r\n\t  at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:67)","title":"JPA (Hibernate) Native Query for Prepared Statement SLOW","body":"<p>Having strange performance issue using Hibernate 3.3.2GA behind JPA (and the rest of the Hibernate packages included in JBoss 5.)</p>\n\n<p>I'm using Native Query, and assembling SQL into a prepared statement.</p>\n\n<pre><code>EntityManager em = getEntityManager(MY_DS);\nfinal Query query = em.createNativeQuery(fullSql, entity.getClass());\n</code></pre>\n\n<p>The SQL has a lot of joins, but is actually very basic, with a single parameter.  Like:</p>\n\n<pre><code>SELECT field1, field2, field3 FROM entity left join entity2 on... left join entity3 on\nWHERE stringId like ?\n</code></pre>\n\n<p>and the query runs in under a second on MSSQL Studio.</p>\n\n<p>If I add</p>\n\n<pre><code>query.setParameter(0, \"ABC123%\");\n</code></pre>\n\n<p>The query will pause for 9 seconds</p>\n\n<pre><code>2012-01-20 14:36:21 - TRACE: - AbstractBatcher.getPreparedStatement:(484) | preparing statement\n2012-01-20 14:36:21 - TRACE: - StringType.nullSafeSet:(133) | binding 'ABC123%' to parameter: 1\n2012-01-20 14:36:30 - DEBUG: - AbstractBatcher.logOpenResults:(382) | about to open ResultSet (open ResultSets: 0, globally: 0)\n</code></pre>\n\n<p>However, if I just replace the \"?\" with the value (making it not a Prepared Statement, but just a straight SQL query.</p>\n\n<pre><code>fullSql = fullSql.replace(\"?\", \"'ABC123%'\");\n</code></pre>\n\n<p>the query will complete in less that a second.</p>\n\n<p>I would really prefer to us a Prepared Statement (the input for the parameters is being extracted from user data) to prevent injection attacks.</p>\n\n<p>Tracing down the slow point in the code, I arrived deep within the jtds-1.2.2 package. The offending line seems to be SharedSocket line 841 \"getIn().readFully(hdrBuf);\" Nothing really obvious there though...</p>\n\n<pre><code>private byte[] readPacket(byte buffer[])\n        throws IOException {\n    //\n    // Read rest of header\n    try {\n        getIn().readFully(hdrBuf);\n    } catch (EOFException e) {\n        throw new IOException(\"DB server closed connection.\");\n    }\n</code></pre>\n\n<p>Arrived to through this stack...</p>\n\n<pre><code>  at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:841)\n  at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:722)\n  at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:466)\n  at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:103)\n  at net.sourceforge.jtds.jdbc.ResponseStream.peek(ResponseStream.java:88)\n  at net.sourceforge.jtds.jdbc.TdsCore.wait(TdsCore.java:3928)\n  at net.sourceforge.jtds.jdbc.TdsCore.executeSQL(TdsCore.java:1045)\n  at net.sourceforge.jtds.jdbc.TdsCore.microsoftPrepare(TdsCore.java:1178)\n  at net.sourceforge.jtds.jdbc.ConnectionJDBC2.prepareSQL(ConnectionJDBC2.java:657)\n  at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeQuery(JtdsPreparedStatement.java:776)\n  at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\n  at org.hibernate.loader.Loader.getResultSet(Loader.java:1808)\n  at org.hibernate.loader.Loader.doQuery(Loader.java:697)\n  at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\n  at org.hibernate.loader.Loader.doList(Loader.java:2228)\n  at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2125)\n  at org.hibernate.loader.Loader.list(Loader.java:2120)\n  at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:312)\n  at org.hibernate.impl.SessionImpl.listCustomQuery(SessionImpl.java:1722)\n  at org.hibernate.impl.AbstractSessionImpl.list(AbstractSessionImpl.java:165)\n  at org.hibernate.impl.SQLQueryImpl.list(SQLQueryImpl.java:175)\n  at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:67)\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"display_name":"user4856296"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1558759291,"creation_date":1507418904,"answer_id":46626092,"question_id":46625996,"body_markdown":"&gt; Spring Boot - Hibernate - Table does not exists\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;mydb.user&#39; **doesn&#39;t exist**\r\nI thing the issue with your program @EntityScan(basePackages = &quot;com.third.party.entity.**package**&quot;) is incorrect where **package** not acceptable as a package name in java.\r\n\r\n\r\n**Else**\r\n\r\nMake sure your pojo entity **user** class is properly defined\r\n\r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    public class User implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        ...\r\n        }\r\n\r\nTry to add below line code in **application.properties** and run\r\n\r\n\r\n**application.properties**\r\n\r\n    # Hibernate ddl auto (create, create-drop, update, none): with &quot;update&quot; the database\r\n    # schema will be automatically updated accordingly to java entities found in the project\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\nAnd exclude the Hibernate AutoConfiguration class in case it is there, by adding the Annotation below\r\n\r\n    @SpringBootApplication(exclude={HibernateJpaAutoConfiguration.class})\r\n\r\nThis question is similar to  https://stackoverflow.com/questions/29566265/hibernate-says-that-table-doesnt-exist-but-it-does","title":"Spring Boot - Hibernate - Table does not exists","body":"<blockquote>\n  <p>Spring Boot - Hibernate - Table does not exists</p>\n</blockquote>\n\n<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'mydb.user' **doesn't exist**\n</code></pre>\n\n<p>I thing the issue with your program @EntityScan(basePackages = \"com.third.party.entity.<strong>package</strong>\") is incorrect where <strong>package</strong> not acceptable as a package name in java.</p>\n\n<p><strong>Else</strong></p>\n\n<p>Make sure your pojo entity <strong>user</strong> class is properly defined</p>\n\n<pre><code>@Entity\n@Table(name = \"User\")\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n    ...\n    }\n</code></pre>\n\n<p>Try to add below line code in <strong>application.properties</strong> and run</p>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code># Hibernate ddl auto (create, create-drop, update, none): with \"update\" the database\n# schema will be automatically updated accordingly to java entities found in the project\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n\n<p>And exclude the Hibernate AutoConfiguration class in case it is there, by adding the Annotation below</p>\n\n<pre><code>@SpringBootApplication(exclude={HibernateJpaAutoConfiguration.class})\n</code></pre>\n\n<p>This question is similar to  <a href=\"https://stackoverflow.com/questions/29566265/hibernate-says-that-table-doesnt-exist-but-it-does\">Hibernate says that table doesn&#39;t exist but it does</a></p>\n"},{"tags":[],"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1507736126,"creation_date":1507736126,"answer_id":46692313,"question_id":46625996,"body_markdown":"The real answer (for me) that may help someone is not to use an implicit naming strategy at all.  If you just want to use what is annotated in the entity class,  use a physical one like this:\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nThanks to the @rsinha answer here:\r\n\r\nhttps://stackoverflow.com/questions/39162976/hibernate-naming-strategy-changing-table-names ","title":"Spring Boot - Hibernate - Table does not exists","body":"<p>The real answer (for me) that may help someone is not to use an implicit naming strategy at all.  If you just want to use what is annotated in the entity class,  use a physical one like this:</p>\n\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n\n<p>Thanks to the @rsinha answer here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39162976/hibernate-naming-strategy-changing-table-names\">Hibernate naming strategy changing table names</a> </p>\n"},{"tags":[],"owner":{"account_id":8041990,"reputation":1598,"user_id":6063416,"accept_rate":76,"display_name":"SnuKies"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522568479,"creation_date":1522568479,"answer_id":49595913,"question_id":46625996,"body_markdown":"I had the same issue, but a different solution: Apparently, Hibernate/JPA lower-cases all the letters in the table name. So even if my table was `User` and I had\r\n\r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    public class OfficeUser {\r\n    ...\r\n    }\r\n\r\nI&#39;d still get the error saying : \r\n\r\n`com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;doctors_office.user&#39; doesn&#39;t exist`\r\n\r\nThe solution for me was to change the table&#39;s name in DB from `User` to `user` (uppercase -&gt; lowercase)\r\n\r\n\r\nNOTE: I was using different Entity name for my table (That&#39;s why I have `OfficeUser` as class&#39; name and different table name)","title":"Spring Boot - Hibernate - Table does not exists","body":"<p>I had the same issue, but a different solution: Apparently, Hibernate/JPA lower-cases all the letters in the table name. So even if my table was <code>User</code> and I had</p>\n\n<pre><code>@Entity\n@Table(name = \"User\")\npublic class OfficeUser {\n...\n}\n</code></pre>\n\n<p>I'd still get the error saying : </p>\n\n<p><code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'doctors_office.user' doesn't exist</code></p>\n\n<p>The solution for me was to change the table's name in DB from <code>User</code> to <code>user</code> (uppercase -> lowercase)</p>\n\n<p>NOTE: I was using different Entity name for my table (That's why I have <code>OfficeUser</code> as class' name and different table name)</p>\n"},{"tags":[],"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549620591,"creation_date":1549620591,"answer_id":54590069,"question_id":46625996,"body_markdown":"I faced the similar issue and the reason was that my Entity Object was having a class variable named  &quot;group&quot; which is a mysql keyword. As i haven&#39;t annotated it with @Column to give some different name , it was forced to use &quot;group&quot; as a column name. Solution was straight forward to annotate the class variable with @Column to give it a different name.\r\n\r\nBefore\r\n   \r\n\r\n     private String group;\r\n\r\nAfter\r\n  \r\n\r\n      @Column(name=&quot;groupName&quot;)\r\n        private String group;\r\n","title":"Spring Boot - Hibernate - Table does not exists","body":"<p>I faced the similar issue and the reason was that my Entity Object was having a class variable named  \"group\" which is a mysql keyword. As i haven't annotated it with @Column to give some different name , it was forced to use \"group\" as a column name. Solution was straight forward to annotate the class variable with @Column to give it a different name.</p>\n\n<p>Before</p>\n\n<pre><code> private String group;\n</code></pre>\n\n<p>After</p>\n\n<pre><code>  @Column(name=\"groupName\")\n    private String group;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558761041,"creation_date":1558761041,"answer_id":56301900,"question_id":46625996,"body_markdown":"I tried all the solutions above, but in the end the error was coming from a much simpler reason.\r\n\r\nHidden in the Exception Stacktrace I found that one of the attributes in the Model was named as a SQL reserved word. This was preventing the table from being created.\r\n\r\n&gt; Renaming the attribute solved the issue.\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot - Hibernate - Table does not exists","body":"<p>I tried all the solutions above, but in the end the error was coming from a much simpler reason.</p>\n\n<p>Hidden in the Exception Stacktrace I found that one of the attributes in the Model was named as a SQL reserved word. This was preventing the table from being created.</p>\n\n<blockquote>\n  <p>Renaming the attribute solved the issue.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5280468,"reputation":191,"user_id":4216024,"display_name":"larisoft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650479961,"creation_date":1650479961,"answer_id":71944673,"question_id":46625996,"body_markdown":"None of the suggestions here worked for me until I put \r\n\r\n    spring.jpa.generate-ddl=true\r\n\r\nin my application.properties file.","title":"Spring Boot - Hibernate - Table does not exists","body":"<p>None of the suggestions here worked for me until I put</p>\n<pre><code>spring.jpa.generate-ddl=true\n</code></pre>\n<p>in my application.properties file.</p>\n"},{"tags":[],"owner":{"account_id":25047374,"reputation":31,"user_id":18903647,"display_name":"Devashish Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650606206,"creation_date":1650606092,"answer_id":71963913,"question_id":46625996,"body_markdown":"Please add below property in your application.properties \r\n\r\n    spring.jpa.generate-ddl=true","title":"Spring Boot - Hibernate - Table does not exists","body":"<p>Please add below property in your application.properties</p>\n<pre><code>spring.jpa.generate-ddl=true\n</code></pre>\n"}],"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41626,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":46692313,"answer_count":7,"score":21,"last_activity_date":1650606206,"creation_date":1507417982,"question_id":46625996,"body_markdown":"I have a 3rd party jar that holds all the entities and mapping.  I am currently using this jar successfully in a classic Spring-MVC application,  but now I am trying to use it in a Spring-Boot application. (1.5.7.RELEASE)\r\n\r\nI have this for my Applicaion.java:\r\n\r\n    @SpringBootApplication\r\n    @EntityScan(basePackages = &quot;com.third.party.entity.package&quot;)\r\n    public class Application extends SpringBootServletInitializer {\r\n\t\r\n\t    public static void main(String[] args) {\r\n          SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nAs it is a third party, I have to have the session scan as well so I have this in my @Configuration class:\r\n\r\n    @Bean\r\n\tpublic LocalSessionFactoryBean sessionFactory(EntityManagerFactory emf) throws ClassNotFoundException {\r\n\t\tLocalSessionFactoryBean fact = new LocalSessionFactoryBean();\r\n\t\tfact.setAnnotatedPackages(&quot;com.third.party.entity.package&quot;);\r\n\t\tfact.setPackagesToScan(&quot;com.third.party.entity.package&quot;);\r\n\t\tfact.setDataSource(dataSource);\r\n\t    return fact;\r\n\t}\r\n\r\nand this in my application.properties:\r\n\r\n    spring.datasource.url=jdbc:mysql://dbserver:3306/mydb?useSSL=false\r\n    spring.datasource.username=user\r\n    spring.datasource.password=password\r\n    spring.datasource.tomcat.max-wait=20000\r\n    spring.datasource.tomcat.max-active=50\r\n    spring.datasource.tomcat.max-idle=20\r\n    spring.datasource.tomcat.min-idle=15\r\n    spring.jpa.properties.hibernate.dialect =org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.properties.hibernate.id.new_generator_mappings = false\r\n    spring.jpa.properties.hibernate.format_sql = true\r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\n\r\nI am getting this error:\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;mydb.user&#39; doesn&#39;t exist\r\n\r\nNow the table name is &quot;User&quot; so that sort of makes sense. However,  I am using this jar for another application so all of the other 100 answers on this subject do not apply. \r\n\r\nIt MUST be a configuration issue? Right? \r\n\r\n**UPDATE**\r\nI tried @sam answer below to no avail,  but I was able to look at the source code of this 3rd party jar file,  and it looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    public class User {\r\n         etc...\r\n    }\r\n\r\nSo the table name in the annotation is correct.  How do I get Spring to use that?  Im looking a default naming strategies and stuff...  Any Suggestions?\r\n","title":"Spring Boot - Hibernate - Table does not exists","body":"<p>I have a 3rd party jar that holds all the entities and mapping.  I am currently using this jar successfully in a classic Spring-MVC application,  but now I am trying to use it in a Spring-Boot application. (1.5.7.RELEASE)</p>\n\n<p>I have this for my Applicaion.java:</p>\n\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = \"com.third.party.entity.package\")\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n      SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>As it is a third party, I have to have the session scan as well so I have this in my @Configuration class:</p>\n\n<pre><code>@Bean\npublic LocalSessionFactoryBean sessionFactory(EntityManagerFactory emf) throws ClassNotFoundException {\n    LocalSessionFactoryBean fact = new LocalSessionFactoryBean();\n    fact.setAnnotatedPackages(\"com.third.party.entity.package\");\n    fact.setPackagesToScan(\"com.third.party.entity.package\");\n    fact.setDataSource(dataSource);\n    return fact;\n}\n</code></pre>\n\n<p>and this in my application.properties:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://dbserver:3306/mydb?useSSL=false\nspring.datasource.username=user\nspring.datasource.password=password\nspring.datasource.tomcat.max-wait=20000\nspring.datasource.tomcat.max-active=50\nspring.datasource.tomcat.max-idle=20\nspring.datasource.tomcat.min-idle=15\nspring.jpa.properties.hibernate.dialect =org.hibernate.dialect.MySQL5Dialect\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\nspring.jpa.properties.hibernate.format_sql = true\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\n</code></pre>\n\n<p>I am getting this error:</p>\n\n<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'mydb.user' doesn't exist\n</code></pre>\n\n<p>Now the table name is \"User\" so that sort of makes sense. However,  I am using this jar for another application so all of the other 100 answers on this subject do not apply. </p>\n\n<p>It MUST be a configuration issue? Right? </p>\n\n<p><strong>UPDATE</strong>\nI tried @sam answer below to no avail,  but I was able to look at the source code of this 3rd party jar file,  and it looks like this:</p>\n\n<pre><code>@Entity\n@Table(name = \"User\")\npublic class User {\n     etc...\n}\n</code></pre>\n\n<p>So the table name in the annotation is correct.  How do I get Spring to use that?  Im looking a default naming strategies and stuff...  Any Suggestions?</p>\n"},{"tags":["java","android-emulator","appium"],"comments":[{"owner":{"account_id":24919392,"reputation":1,"user_id":18787853,"display_name":"Swapna Kota"},"score":0,"creation_date":1650606327,"post_id":71963868,"comment_id":127162699,"body_markdown":"is there anyway we can fetch url of the link in mobile app? But there is no attribute with the link value is displayed when I try to inspect the element","body":"is there anyway we can fetch url of the link in mobile app? But there is no attribute with the link value is displayed when I try to inspect the element"},{"owner":{"account_id":5129087,"reputation":151,"user_id":4109960,"accept_rate":21,"display_name":"Nisim Naim"},"score":0,"creation_date":1661867597,"post_id":71963868,"comment_id":129870254,"body_markdown":"You did not mention which driver you are using. Is it mobile driver, or a driver for testing a browser on a mobile device? That is, are you configuring the appium driver for testing an application (.apk file) or a url that is launched in the browser?","body":"You did not mention which driver you are using. Is it mobile driver, or a driver for testing a browser on a mobile device? That is, are you configuring the appium driver for testing an application (.apk file) or a url that is launched in the browser?"}],"owner":{"account_id":24919392,"reputation":1,"user_id":18787853,"display_name":"Swapna Kota"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650606203,"creation_date":1650605661,"question_id":71963868,"body_markdown":"Steps:&lt;br&gt;\r\nI have opened login page in mobile app&lt;br&gt;\r\nThere is a link to Forgot Your Password?&lt;br&gt;\r\nWhen we click on Forgot Your Password link, it opens up the link in mobile browser&lt;br&gt;\r\nNow, I need to switch to browser and fetch the browser Url.\r\n\r\nCan you please advise how this can be done?\r\n&lt;br&gt;\r\nPlease note that I am trying these steps on Android device.\r\nMobile App screenshot:\r\n[enter image description here][1]\r\nMobile browser screenshot:\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9z9kk.png\r\n  [2]: https://i.stack.imgur.com/R6p2k.png","title":"How to fetch the mobile browser Url which is opened when click on a link on mobile native application using Appium/Android Driver","body":"<p>Steps:<br>\nI have opened login page in mobile app<br>\nThere is a link to Forgot Your Password?<br>\nWhen we click on Forgot Your Password link, it opens up the link in mobile browser<br>\nNow, I need to switch to browser and fetch the browser Url.</p>\n<p>Can you please advise how this can be done?\n<br>\nPlease note that I am trying these steps on Android device.\nMobile App screenshot:\n<a href=\"https://i.stack.imgur.com/9z9kk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nMobile browser screenshot:\n<a href=\"https://i.stack.imgur.com/R6p2k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","html","selenium","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":24884210,"reputation":1,"user_id":18757074,"display_name":"12 class video"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650606144,"creation_date":1650606144,"answer_id":71963925,"question_id":71815578,"body_markdown":"In sele class I added debugger Address and open in particular port to see what went wrong and you can able trigger new browser from already opened browser to ren selenium script","title":"How to Invoke Selenium class from clicking Html Button using tomcat","body":"<p>In sele class I added debugger Address and open in particular port to see what went wrong and you can able trigger new browser from already opened browser to ren selenium script</p>\n"}],"owner":{"account_id":24884210,"reputation":1,"user_id":18757074,"display_name":"12 class video"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650606144,"creation_date":1649585382,"question_id":71815578,"body_markdown":"I have three test case in different java file and want to invoke it using tomcat server by clicking html button. This is my html\r\n```\r\n&lt;form action=&quot;case1&quot; method=&quot;post&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; id=&quot;sele&quot; name=&quot;button&quot;  value=&quot;TestCase1&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; id=&quot;sele1&quot; value=&quot;TestCase2&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; id=&quot;sele2&quot; value=&quot;TestCase3&quot;&gt;\r\n&lt;/form&gt;\r\n```\r\nAfter clicking button it will check which button is clicked in servlet and invoke respective class , one button example\r\n```\r\nString button = req.getParameter(&quot;button&quot;);\r\nPrintWriter out = res.getWriter();\r\nif (&quot;TestCase1&quot;.equals(button)) {\r\ntry {\r\n   out.println(&quot;Started&quot;);\r\n   Sele s=new Sele();\r\n   s.sele();\r\n   out.println(&quot;Ended&quot;);\r\n} catch (InterruptedException e) {\r\n   e.printStackTrace();\r\n}\r\n```\r\nThe output screen show **Started and Ended** but it didnt invoke Selenium class. And Not Showing any error or Exception, My selenium class code\r\n```\r\npublic class Sele{  \r\n    public void sele() throws InterruptedException, IOException{  \r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/java/jar/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;http://localhost:8080/first/index2.html&quot;);\r\n        driver.manage().window().maximize();\r\n```\r\nBut if i Execute this java code in through command prompt it invoke Selenium class\r\n```\r\npublic Remote{\r\n void remote(){\r\n   Sele s=new Sele();\r\n   s.sele();\r\n }\r\n}\r\n```\r\nCode work correctly and open chrome as automated for above code but not in server can any one help me out here.....\r\n\r\n","title":"How to Invoke Selenium class from clicking Html Button using tomcat","body":"<p>I have three test case in different java file and want to invoke it using tomcat server by clicking html button. This is my html</p>\n<pre><code>&lt;form action=&quot;case1&quot; method=&quot;post&quot;&gt;\n    &lt;input type=&quot;submit&quot; id=&quot;sele&quot; name=&quot;button&quot;  value=&quot;TestCase1&quot;&gt;\n    &lt;input type=&quot;submit&quot; id=&quot;sele1&quot; value=&quot;TestCase2&quot;&gt;\n    &lt;input type=&quot;submit&quot; id=&quot;sele2&quot; value=&quot;TestCase3&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p>After clicking button it will check which button is clicked in servlet and invoke respective class , one button example</p>\n<pre><code>String button = req.getParameter(&quot;button&quot;);\nPrintWriter out = res.getWriter();\nif (&quot;TestCase1&quot;.equals(button)) {\ntry {\n   out.println(&quot;Started&quot;);\n   Sele s=new Sele();\n   s.sele();\n   out.println(&quot;Ended&quot;);\n} catch (InterruptedException e) {\n   e.printStackTrace();\n}\n</code></pre>\n<p>The output screen show <strong>Started and Ended</strong> but it didnt invoke Selenium class. And Not Showing any error or Exception, My selenium class code</p>\n<pre><code>public class Sele{  \n    public void sele() throws InterruptedException, IOException{  \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/java/jar/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;http://localhost:8080/first/index2.html&quot;);\n        driver.manage().window().maximize();\n</code></pre>\n<p>But if i Execute this java code in through command prompt it invoke Selenium class</p>\n<pre><code>public Remote{\n void remote(){\n   Sele s=new Sele();\n   s.sele();\n }\n}\n</code></pre>\n<p>Code work correctly and open chrome as automated for above code but not in server can any one help me out here.....</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":1,"creation_date":1381063684,"post_id":19208980,"comment_id":28425536,"body_markdown":"These two approaches aren&#39;t the same.. The first one adds a predetermined set of values to the list, the second one provides a method that can add a single car to the list. You&#39;ll have to elaborate on your use case: will cars be added outside the class or not?","body":"These two approaches aren&#39;t the same.. The first one adds a predetermined set of values to the list, the second one provides a method that can add a single car to the list. You&#39;ll have to elaborate on your use case: will cars be added outside the class or not?"},{"owner":{"account_id":106234,"reputation":4032,"user_id":283084,"display_name":"harpun"},"score":2,"creation_date":1381063834,"post_id":19208980,"comment_id":28425575,"body_markdown":"Duplicating the `Car`&#39;s constructor arguments in `addCars()` is usually not a correct approach. Instead define `addCars(List&lt;Car&gt; cars)` or `addCar(Car car)` and construct the car to be added outside of the function.","body":"Duplicating the <code>Car</code>&#39;s constructor arguments in <code>addCars()</code> is usually not a correct approach. Instead define <code>addCars(List&lt;Car&gt; cars)</code> or <code>addCar(Car car)</code> and construct the car to be added outside of the function."},{"owner":{"account_id":3052231,"reputation":2502,"user_id":2586542,"accept_rate":77,"display_name":"Udy"},"score":0,"creation_date":1381065320,"post_id":19208980,"comment_id":28425915,"body_markdown":"change to cars.addCars(Toyota)","body":"change to cars.addCars(Toyota)"},{"owner":{"account_id":3387779,"reputation":295,"user_id":2843388,"accept_rate":50,"display_name":"pei wang"},"score":0,"creation_date":1381065444,"post_id":19208980,"comment_id":28425946,"body_markdown":"Hi Udy, I did, but still error, it shows&quot; cars cannot be resolved&quot;","body":"Hi Udy, I did, but still error, it shows&quot; cars cannot be resolved&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3389358,"reputation":645,"user_id":2844582,"accept_rate":67,"display_name":"Xandaros"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381064547,"creation_date":1381063576,"answer_id":19209006,"question_id":19208980,"body_markdown":"It depends on what you want to achieve. In general it is better to provide APIs and use them from the outside. In your case, however, I think your &quot;addCars&quot; function in used to populate your ArrayList(you should call it something like that) - which means to add predefined values to a Collection.\r\nIn that case, use the first one.\r\n\r\nSo, both of your methods are correct (though you should call the first `populateCars` and the second `addCar`) and should work, but you need to use them depending on your circumstance.\r\n\r\nAlso, if you want to provide an API for adding Cars, let the user get a Car object himself, rather than constructing one in the add method. (You might want to change it before adding it, you never know)\r\n\r\nSo I suggest using either of the methods, but changing the first to:\r\n\r\n    public void populateCars(){\r\n        Car Toyota=new Car(&quot;Toyota&quot;,1.0,1.0,2.0,2.0);\r\n        Car Honda=new Car(&quot;Honda&quot;,1.0,2.0,1.0,2.0);\r\n        Car Mazda=new Car(&quot;Mazda&quot;,1.0,3.0,2.0,3.0);\r\n        Car Suzuki=new Car(&quot;Suzuki&quot;,1.0,4.0,4.0,2.0);\r\n        \r\n        cars.add(Toyota);\r\n        cars.add(Honda);\r\n        cars.add(Mazda);\r\n        cars.add(Suzuki);\r\n    }\r\n\r\nor the second to:\r\n\r\n    public void addCar(Car car){\r\n        cars.add(car);\r\n    }","title":"How to use add() in ArrayList class in Java","body":"<p>It depends on what you want to achieve. In general it is better to provide APIs and use them from the outside. In your case, however, I think your \"addCars\" function in used to populate your ArrayList(you should call it something like that) - which means to add predefined values to a Collection.\nIn that case, use the first one.</p>\n\n<p>So, both of your methods are correct (though you should call the first <code>populateCars</code> and the second <code>addCar</code>) and should work, but you need to use them depending on your circumstance.</p>\n\n<p>Also, if you want to provide an API for adding Cars, let the user get a Car object himself, rather than constructing one in the add method. (You might want to change it before adding it, you never know)</p>\n\n<p>So I suggest using either of the methods, but changing the first to:</p>\n\n<pre><code>public void populateCars(){\n    Car Toyota=new Car(\"Toyota\",1.0,1.0,2.0,2.0);\n    Car Honda=new Car(\"Honda\",1.0,2.0,1.0,2.0);\n    Car Mazda=new Car(\"Mazda\",1.0,3.0,2.0,3.0);\n    Car Suzuki=new Car(\"Suzuki\",1.0,4.0,4.0,2.0);\n\n    cars.add(Toyota);\n    cars.add(Honda);\n    cars.add(Mazda);\n    cars.add(Suzuki);\n}\n</code></pre>\n\n<p>or the second to:</p>\n\n<pre><code>public void addCar(Car car){\n    cars.add(car);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360601,"reputation":71,"user_id":2067336,"display_name":"Java World"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381063865,"creation_date":1381063865,"answer_id":19209037,"question_id":19208980,"body_markdown":"Both the ways you mentioned are correct but you should modify the method addCars() to take an argument of type Car .\r\n\r\nFor example , change the method signature to :\r\n\r\n    public void addCars(Car car){\r\n         cars.add(car);\r\n    }\r\n\r\nAnd just pass a new car like this :\r\n\r\n    addCars(new Car(&quot;Toyota&quot;,1.0,1.0,2.0,2.0));\r\n\r\n\r\n\r\n","title":"How to use add() in ArrayList class in Java","body":"<p>Both the ways you mentioned are correct but you should modify the method addCars() to take an argument of type Car .</p>\n\n<p>For example , change the method signature to :</p>\n\n<pre><code>public void addCars(Car car){\n     cars.add(car);\n}\n</code></pre>\n\n<p>And just pass a new car like this :</p>\n\n<pre><code>addCars(new Car(\"Toyota\",1.0,1.0,2.0,2.0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3101422,"reputation":107,"user_id":2625439,"display_name":"Hrvoje G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381063957,"creation_date":1381063957,"answer_id":19209046,"question_id":19208980,"body_markdown":"The only difference is that in first case you have hard coded elements in the list and in the second approach you add them dynamically.  What to use depends on your need. \r\nI suppose you will use the arraylist later on to get elements from it, do sth with them etc. Then you will use getter method on the arraylist, iterate through it and so on... This will work on both approaches you choose.","title":"How to use add() in ArrayList class in Java","body":"<p>The only difference is that in first case you have hard coded elements in the list and in the second approach you add them dynamically.  What to use depends on your need. \nI suppose you will use the arraylist later on to get elements from it, do sth with them etc. Then you will use getter method on the arraylist, iterate through it and so on... This will work on both approaches you choose.</p>\n"},{"tags":[],"owner":{"account_id":1091073,"reputation":4761,"user_id":1085699,"accept_rate":97,"display_name":"Nathaniel Johnson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381063970,"creation_date":1381063970,"answer_id":19209050,"question_id":19208980,"body_markdown":"Both answers are correct.  The first method uses a traditional approach to creating objects.  The second method is sometimes called a Factory method.  Using a factory method is useful when  the construction of an object is externally complicated or stamping out multiple objects.\r\n\r\nSo the answer is:  The first approach is correct for objects that are reasonably simple and safe to construct.  The second (factory) pattern is better for complex objects.\r\n","title":"How to use add() in ArrayList class in Java","body":"<p>Both answers are correct.  The first method uses a traditional approach to creating objects.  The second method is sometimes called a Factory method.  Using a factory method is useful when  the construction of an object is externally complicated or stamping out multiple objects.</p>\n\n<p>So the answer is:  The first approach is correct for objects that are reasonably simple and safe to construct.  The second (factory) pattern is better for complex objects.</p>\n"},{"tags":[],"owner":{"account_id":3388025,"reputation":61,"user_id":2843578,"display_name":"Luckyman Nevermore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381064840,"creation_date":1381064840,"answer_id":19209183,"question_id":19208980,"body_markdown":"@pei wang nice question .. Second apporach is gud as ur not hardcoding values .. You should go little bit forward .. please Use DTO design pattern in second approach use setters and getters","title":"How to use add() in ArrayList class in Java","body":"<p>@pei wang nice question .. Second apporach is gud as ur not hardcoding values .. You should go little bit forward .. please Use DTO design pattern in second approach use setters and getters</p>\n"},{"tags":[],"owner":{"account_id":10968796,"reputation":1,"user_id":8059753,"display_name":"naveen prasanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650606128,"creation_date":1511876790,"answer_id":47533132,"question_id":19208980,"body_markdown":"Add method expects object type reference for the add method if you pass any reference variable other than object type reference variable then those reference variable upcasted to object type reference.","title":"How to use add() in ArrayList class in Java","body":"<p>Add method expects object type reference for the add method if you pass any reference variable other than object type reference variable then those reference variable upcasted to object type reference.</p>\n"}],"owner":{"account_id":3387779,"reputation":295,"user_id":2843388,"accept_rate":50,"display_name":"pei wang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1650606128,"creation_date":1381063405,"question_id":19208980,"body_markdown":"I have a question about constructing an ArrayList, I have had a Car Class, now I need to make an ArrayList to put content in, I named it as Race, please see code below:\r\n\r\n    import java.util.ArrayList;\r\n\r\n\r\n    public class Race {\r\n\t\r\n    private ArrayList&lt;Car&gt;cars;\r\n   \r\n    public Race(){\r\n\tcars=new ArrayList&lt;Car&gt;();\r\n    }\r\n\r\nNow I need to have a method for add content to the ArrayList, there are two ways to write that I am confused with:\r\n\r\nFirst one\r\n\r\n    public void addCars(){\r\n\r\n\tCar Toyota=new Car(&quot;Toyota&quot;,1.0,1.0,2.0,2.0);\r\n\tCar Honda=new Car(&quot;Honda&quot;,1.0,2.0,1.0,2.0);\r\n\tCar Mazda=new Car(&quot;Mazda&quot;,1.0,3.0,2.0,3.0);\r\n\tCar Suzuki=new Car(&quot;Suzuki&quot;,1.0,4.0,4.0,2.0);\r\n\r\n\tcars.add(Toyota);\r\n\tcars.add(Honda);\r\n\tcars.add(Mazda);\r\n\tcars.add(Suzuki);\r\n\r\n        }\r\n\r\nSecond one\r\n\r\n    public void addCars(Object nm,String n, double s, double p, double a, double b){\r\n\r\n\tCar name=new Car(n,s,p,a,b);\r\n\tcars.add(name);\r\n        }\r\n\t\r\nBoth ways have no mistake reported when I coding, but I am not sure which one is correct, or maybe neither is correct, please help, cheers!\r\n\r\n**UPDATE:**\r\n\r\n \r\n        \r\n        public void addCars(Car car){\r\n\tcars.add(car);\r\n\t\r\n       } \r\n\r\nThis is what I used finally, then I created a new class called Test that using main method to add cars individually, but there is mistake in the last line:\r\n\r\n        public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tCar Toyota=new Car(&quot;Toyota&quot;,1.0,1.0,2.0,2.0);\r\n\t\t**cars.addCars(Toyota);**\r\n\r\nI have no idea how to fix it, please help!","title":"How to use add() in ArrayList class in Java","body":"<p>I have a question about constructing an ArrayList, I have had a Car Class, now I need to make an ArrayList to put content in, I named it as Race, please see code below:</p>\n\n<pre><code>import java.util.ArrayList;\n\n\npublic class Race {\n\nprivate ArrayList&lt;Car&gt;cars;\n\npublic Race(){\ncars=new ArrayList&lt;Car&gt;();\n}\n</code></pre>\n\n<p>Now I need to have a method for add content to the ArrayList, there are two ways to write that I am confused with:</p>\n\n<p>First one</p>\n\n<pre><code>public void addCars(){\n\nCar Toyota=new Car(\"Toyota\",1.0,1.0,2.0,2.0);\nCar Honda=new Car(\"Honda\",1.0,2.0,1.0,2.0);\nCar Mazda=new Car(\"Mazda\",1.0,3.0,2.0,3.0);\nCar Suzuki=new Car(\"Suzuki\",1.0,4.0,4.0,2.0);\n\ncars.add(Toyota);\ncars.add(Honda);\ncars.add(Mazda);\ncars.add(Suzuki);\n\n    }\n</code></pre>\n\n<p>Second one</p>\n\n<pre><code>public void addCars(Object nm,String n, double s, double p, double a, double b){\n\nCar name=new Car(n,s,p,a,b);\ncars.add(name);\n    }\n</code></pre>\n\n<p>Both ways have no mistake reported when I coding, but I am not sure which one is correct, or maybe neither is correct, please help, cheers!</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>    public void addCars(Car car){\ncars.add(car);\n\n   } \n</code></pre>\n\n<p>This is what I used finally, then I created a new class called Test that using main method to add cars individually, but there is mistake in the last line:</p>\n\n<pre><code>    public class Test {\n\npublic static void main(String[] args) {\n    Car Toyota=new Car(\"Toyota\",1.0,1.0,2.0,2.0);\n    **cars.addCars(Toyota);**\n</code></pre>\n\n<p>I have no idea how to fix it, please help!</p>\n"},{"tags":["java","android","android-studio","darkmode","android-dark-theme"],"answers":[{"tags":[],"owner":{"account_id":21132288,"reputation":409,"user_id":15536371,"display_name":"Tariq Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649924639,"creation_date":1649919635,"answer_id":71867622,"question_id":71864199,"body_markdown":"You are actually starting activity two times. \r\nFirst time you manually recreated activity and `AppCompatDelegate.setDefaultNightMode` it also recreate activity to set default theme \r\n\r\nThat is why it is looks like activity is being created two times. \r\n\r\nFor this what I have done is applied theme in Application class. \r\nAnd didn&#39;t created the activity just applied theme \r\n\r\nIn My Application Class\r\n\r\n     if (preferencesValue!!.getBoolean(&quot;theme&quot;)) {\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES)\r\n            } else {\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)\r\n            }\r\n\r\n\r\nWhile changing theme in activity did the same on the change listener of `Switch Button`\r\n\r\nWhere you are creating intent and starting activity you just have to set Theme using `AppCompatDelegate.setDefaultNightMode`. Do not create Activity again.\r\n\r\n","title":"App launches 2 times while selecting dark mode","body":"<p>You are actually starting activity two times.\nFirst time you manually recreated activity and <code>AppCompatDelegate.setDefaultNightMode</code> it also recreate activity to set default theme</p>\n<p>That is why it is looks like activity is being created two times.</p>\n<p>For this what I have done is applied theme in Application class.\nAnd didn't created the activity just applied theme</p>\n<p>In My Application Class</p>\n<pre><code> if (preferencesValue!!.getBoolean(&quot;theme&quot;)) {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES)\n        } else {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)\n        }\n</code></pre>\n<p>While changing theme in activity did the same on the change listener of <code>Switch Button</code></p>\n<p>Where you are creating intent and starting activity you just have to set Theme using <code>AppCompatDelegate.setDefaultNightMode</code>. Do not create Activity again.</p>\n"},{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650606096,"creation_date":1649919747,"answer_id":71867643,"question_id":71864199,"body_markdown":"set `android:configChanges` to your activity which restarts after selecting Dark mode\r\n\r\n            android:configChanges=&quot;...|...|...|...|uiMode|...|...&quot;\r\n\r\n`uiMode` config handles dark mode UI changes on your app.\r\n\r\nrefer this [documentation](https://developer.android.com/reference/android/content/res/Configuration#:~:text=final%20int%20UI_MODE_NIGHT_MASK-,Constant%20for%20uiMode%3A%20bits%20that%20encode%20the%20night%20mode.,-Constant%20Value%3A%2048)\r\n\r\n**Example for your activity in manifest**\r\n\r\n                &lt;activity\r\n                android:name=&quot;.SplashActivity&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n                android:launchMode=&quot;singleTop&quot;\r\n                android:screenOrientation=&quot;sensorLandscape&quot; /&gt;","title":"App launches 2 times while selecting dark mode","body":"<p>set <code>android:configChanges</code> to your activity which restarts after selecting Dark mode</p>\n<pre><code>        android:configChanges=&quot;...|...|...|...|uiMode|...|...&quot;\n</code></pre>\n<p><code>uiMode</code> config handles dark mode UI changes on your app.</p>\n<p>refer this <a href=\"https://developer.android.com/reference/android/content/res/Configuration#:%7E:text=final%20int%20UI_MODE_NIGHT_MASK-,Constant%20for%20uiMode%3A%20bits%20that%20encode%20the%20night%20mode.,-Constant%20Value%3A%2048\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p><strong>Example for your activity in manifest</strong></p>\n<pre><code>            &lt;activity\n            android:name=&quot;.SplashActivity&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:screenOrientation=&quot;sensorLandscape&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649924773,"creation_date":1649922713,"answer_id":71868197,"question_id":71864199,"body_markdown":"Just remove the `Intent` code because on the SwitchClick system by default `recreate` your app that&#39;s why no need to call `recreate` manually. your new code is below\r\n```\r\nnightmodeswitch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    if (isChecked) {\r\n                             InıtAplıcation.getInstance().setIsNightModeEnabled(true);\r\n//or\r\n// AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n\r\n                    } else {\r\n                            InıtAplıcation.getInstance().setIsNightModeEnabled(false); \r\n//or\r\n//AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                    }\r\n```\r\nand make `SharedPrefrence` code to save your current `boolean` of your DayNight `Switch`. If the problem is not solved yet, let me know","title":"App launches 2 times while selecting dark mode","body":"<p>Just remove the <code>Intent</code> code because on the SwitchClick system by default <code>recreate</code> your app that's why no need to call <code>recreate</code> manually. your new code is below</p>\n<pre><code>nightmodeswitch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                    if (isChecked) {\n                             InıtAplıcation.getInstance().setIsNightModeEnabled(true);\n//or\n// AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n\n                    } else {\n                            InıtAplıcation.getInstance().setIsNightModeEnabled(false); \n//or\n//AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                    }\n</code></pre>\n<p>and make <code>SharedPrefrence</code> code to save your current <code>boolean</code> of your DayNight <code>Switch</code>. If the problem is not solved yet, let me know</p>\n"}],"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan Yıldız"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71867643,"answer_count":3,"score":1,"last_activity_date":1650606096,"creation_date":1649886806,"question_id":71864199,"body_markdown":"I started to encounter this error when I upgraded the version of the project to androidx. I also upgraded the all implementation sdks. I upgraded min sdk from 16 to 19. Before making these upgrades, dark mode was working fine. After upgrading, if you start the application with dark mode selected, the application opens 2 times. How can I solve this problem?\r\n\r\n\r\nMainActiviy ;\r\n\r\n```\r\nSwitchCompat nightmodeswitch ;\r\n\r\n if (InıtAplıcation.getInstance().isNightModeEnabled()) {\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n        } else {\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n            getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);\r\n\r\n        }\r\n\r\n  @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n\r\n        nightmodeswitch = (SwitchCompat) findViewById(R.id.nightmodeswitch);\r\n\r\n\r\n        try {\r\n            if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES)\r\n                  nightmodeswitch.setChecked(true);\r\n\r\n\r\n            nightmodeswitch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    if (isChecked) {\r\n                             InıtAplıcation.getInstance().setIsNightModeEnabled(true);\r\n                            \r\n                           Intent intent = getIntent();\r\n                             intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n                           finish();\r\n                           startActivity(intent);\r\n\r\n                   \r\n\r\n                    } else {\r\n                            InıtAplıcation.getInstance().setIsNightModeEnabled(false);\r\n                            \r\n                            Intent intent = getIntent();\r\n                            intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n                            finish();\r\n                            startActivity(intent);\r\n\r\n                       \r\n                        \r\n                    }\r\n\r\n\r\n                }\r\n            });\r\n        }catch (Exception e){\r\n\r\n        }\r\n\r\n\r\n\r\n        return true;\r\n    }\r\n\r\n```\r\n\r\nInıtAplıcation ;\r\n```\r\npublic class InıtAplıcation extends Application {\r\n\r\n    public static final String NIGHT_MODE = &quot;NIGHT_MODE&quot;;\r\n    private boolean isNightModeEnabled = false;\r\n\r\n    private static InıtAplıcation singleton = null;\r\n\r\n    public static InıtAplıcation getInstance() {\r\n\r\n        if(singleton == null)\r\n        {\r\n            singleton = new InıtAplıcation();\r\n        }\r\n        return singleton;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(base);\r\n        MultiDex.install(this);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n\r\n        singleton = this ;\r\n        SharedPreferences mPrefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n        this.isNightModeEnabled = mPrefs.getBoolean(NIGHT_MODE, false);\r\n    }\r\n\r\n    public boolean isNightModeEnabled() {\r\n        return isNightModeEnabled;\r\n    }\r\n\r\n    public void setIsNightModeEnabled(boolean isNightModeEnabled) {\r\n        this.isNightModeEnabled = isNightModeEnabled;\r\n\r\n        SharedPreferences mPrefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n        SharedPreferences.Editor editor = mPrefs.edit();\r\n        editor.putBoolean(NIGHT_MODE, isNightModeEnabled);\r\n        editor.apply();\r\n    }\r\n}\r\n\r\n```\r\n\r\nValues\\Styles :\r\n```\r\n&lt;style name=&quot;AppTheme.beyaztema&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot; &gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorappaydınlık&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;#FFF&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nNight\\Styles :\r\n```\r\n  &lt;style name=&quot;AppTheme.beyaztema&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot; &gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;#000&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;#000&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;#D81B60&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n```\r\nAndroid manifest :\r\n\r\n```\r\n &lt;application\r\n        android:name=&quot;.InıtAplıcation&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme.beyaztema&quot;&gt;\r\n```\r\n\r\ngradle:\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\n\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    defaultConfig {\r\n        minSdkVersion 19\r\n        targetSdkVersion 30\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        multiDexEnabled true\r\n    }\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        abortOnError false\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\r\n    implementation &quot;androidx.recyclerview:recyclerview-selection:1.1.0&quot;\r\n    implementation &#39;com.github.orangegangsters:swipy:1.2.3@aar&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n    implementation &#39;com.google.android.gms:play-services-ads:15.0.1&#39;\r\n    implementation(&#39;com.google.apis:google-api-services-people:v1-rev2-1.21.0&#39;)\r\n            {\r\n                exclude module: &#39;guava-jdk5&#39;\r\n            }\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.3.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;\r\n    implementation &quot;io.grpc:grpc-okhttp:1.32.2&quot;\r\n\r\n}\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\nGradle:\r\n```\r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n\r\n    }\r\n    dependencies {\r\n\r\n          classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n           classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.5.2&#39;\r\n\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```","title":"App launches 2 times while selecting dark mode","body":"<p>I started to encounter this error when I upgraded the version of the project to androidx. I also upgraded the all implementation sdks. I upgraded min sdk from 16 to 19. Before making these upgrades, dark mode was working fine. After upgrading, if you start the application with dark mode selected, the application opens 2 times. How can I solve this problem?</p>\n<p>MainActiviy ;</p>\n<pre><code>SwitchCompat nightmodeswitch ;\n\n if (InıtAplıcation.getInstance().isNightModeEnabled()) {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n        } else {\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n            getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);\n\n        }\n\n  @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n\n        nightmodeswitch = (SwitchCompat) findViewById(R.id.nightmodeswitch);\n\n\n        try {\n            if (AppCompatDelegate.getDefaultNightMode() == AppCompatDelegate.MODE_NIGHT_YES)\n                  nightmodeswitch.setChecked(true);\n\n\n            nightmodeswitch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                    if (isChecked) {\n                             InıtAplıcation.getInstance().setIsNightModeEnabled(true);\n                            \n                           Intent intent = getIntent();\n                             intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n                           finish();\n                           startActivity(intent);\n\n                   \n\n                    } else {\n                            InıtAplıcation.getInstance().setIsNightModeEnabled(false);\n                            \n                            Intent intent = getIntent();\n                            intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n                            finish();\n                            startActivity(intent);\n\n                       \n                        \n                    }\n\n\n                }\n            });\n        }catch (Exception e){\n\n        }\n\n\n\n        return true;\n    }\n\n</code></pre>\n<p>InıtAplıcation ;</p>\n<pre><code>public class InıtAplıcation extends Application {\n\n    public static final String NIGHT_MODE = &quot;NIGHT_MODE&quot;;\n    private boolean isNightModeEnabled = false;\n\n    private static InıtAplıcation singleton = null;\n\n    public static InıtAplıcation getInstance() {\n\n        if(singleton == null)\n        {\n            singleton = new InıtAplıcation();\n        }\n        return singleton;\n    }\n\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(this);\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n\n        singleton = this ;\n        SharedPreferences mPrefs = PreferenceManager.getDefaultSharedPreferences(this);\n        this.isNightModeEnabled = mPrefs.getBoolean(NIGHT_MODE, false);\n    }\n\n    public boolean isNightModeEnabled() {\n        return isNightModeEnabled;\n    }\n\n    public void setIsNightModeEnabled(boolean isNightModeEnabled) {\n        this.isNightModeEnabled = isNightModeEnabled;\n\n        SharedPreferences mPrefs = PreferenceManager.getDefaultSharedPreferences(this);\n        SharedPreferences.Editor editor = mPrefs.edit();\n        editor.putBoolean(NIGHT_MODE, isNightModeEnabled);\n        editor.apply();\n    }\n}\n\n</code></pre>\n<p>Values\\Styles :</p>\n<pre><code>&lt;style name=&quot;AppTheme.beyaztema&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot; &gt;\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorappaydınlık&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;#FFF&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>Night\\Styles :</p>\n<pre><code>  &lt;style name=&quot;AppTheme.beyaztema&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot; &gt;\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;#000&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;#000&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;#D81B60&lt;/item&gt;\n    &lt;/style&gt;\n\n</code></pre>\n<p>Android manifest :</p>\n<pre><code> &lt;application\n        android:name=&quot;.InıtAplıcation&quot;\n        android:allowBackup=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme.beyaztema&quot;&gt;\n</code></pre>\n<p>gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\n\n\nandroid {\n    compileSdkVersion 30\n    defaultConfig {\n        minSdkVersion 19\n        targetSdkVersion 30\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n        multiDexEnabled true\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    testImplementation 'junit:junit:4.13.2'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\n    implementation &quot;androidx.recyclerview:recyclerview-selection:1.1.0&quot;\n    implementation 'com.github.orangegangsters:swipy:1.2.3@aar'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\n    implementation 'com.google.android.gms:play-services-ads:15.0.1'\n    implementation('com.google.apis:google-api-services-people:v1-rev2-1.21.0')\n            {\n                exclude module: 'guava-jdk5'\n            }\n\n    implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n    implementation &quot;io.grpc:grpc-okhttp:1.32.2&quot;\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>Gradle:</p>\n<pre><code>buildscript {\n    \n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n\n          classpath 'com.android.tools.build:gradle:7.1.2'\n           classpath 'com.google.gms:google-services:4.3.10'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.5.2'\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1650605943,"post_id":71963878,"comment_id":127162626,"body_markdown":"How are you running the application? Are you using any IDE? If so which one?","body":"How are you running the application? Are you using any IDE? If so which one?"},{"owner":{"account_id":12185191,"reputation":6465,"user_id":8895292,"display_name":"SOS"},"score":0,"creation_date":1650607115,"post_id":71963878,"comment_id":127162847,"body_markdown":"`String user=&quot;root&quot;;` Not related to the issue, but it&#39;s never a good idea to use the &quot;root&quot; account. Create a new user and assign whatever limited permissions are needed.","body":"<code>String user=&quot;root&quot;;</code> Not related to the issue, but it&#39;s never a good idea to use the &quot;root&quot; account. Create a new user and assign whatever limited permissions are needed."}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650606040,"creation_date":1650606040,"answer_id":71963906,"question_id":71963878,"body_markdown":"Make sure the driver&#39;s JAR file is in your classpath. The Exception is telling you that Java can&#39;t find the class you&#39;re wanting to instantiate.\r\n\r\nIf it&#39;s not in your classpath it can&#39;t be found.\r\n\r\nFor example you can run it on the command line like this:\r\n\r\n```\r\njava -cp &quot;.;driver.jar&quot; Connect\r\n```\r\n\r\nOr set the CLASSPATH variable in your environment to include the driver.jar file.\r\n","title":"java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver I have added mysql connector to referenced library","body":"<p>Make sure the driver's JAR file is in your classpath. The Exception is telling you that Java can't find the class you're wanting to instantiate.</p>\n<p>If it's not in your classpath it can't be found.</p>\n<p>For example you can run it on the command line like this:</p>\n<pre><code>java -cp &quot;.;driver.jar&quot; Connect\n</code></pre>\n<p>Or set the CLASSPATH variable in your environment to include the driver.jar file.</p>\n"}],"owner":{"account_id":18936750,"reputation":1,"user_id":13817642,"display_name":"Ritika Mukherjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651488407,"answer_count":1,"score":0,"last_activity_date":1650606040,"creation_date":1650605726,"question_id":71963878,"body_markdown":"```java\r\npublic class Connect {\r\n    public static ResultSet select(String query) throws Exception{\r\n        String url=&quot;jdbc:mysql://localhost:3306/ms?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;;\r\n        String user=&quot;root&quot;;\r\n        String password=&quot;Ritika@123&quot;;\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        Connection con=DriverManager.getConnection(url, user, password);\r\n        Statement st=con.createStatement();\r\n        ResultSet rs=st.executeQuery(query);\r\n        rs.next();\r\n        return rs;\r\n    }\r\n}\r\n```","title":"java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver I have added mysql connector to referenced library","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Connect {\n    public static ResultSet select(String query) throws Exception{\n        String url=&quot;jdbc:mysql://localhost:3306/ms?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;;\n        String user=&quot;root&quot;;\n        String password=&quot;Ritika@123&quot;;\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection con=DriverManager.getConnection(url, user, password);\n        Statement st=con.createStatement();\n        ResultSet rs=st.executeQuery(query);\n        rs.next();\n        return rs;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":4,"creation_date":1650563236,"post_id":71958727,"comment_id":127153934,"body_markdown":"Does this answer your question? [Elastic Search and Y10k (years with more than 4 digits)](https://stackoverflow.com/questions/62541394/elastic-search-and-y10k-years-with-more-than-4-digits). In other words, years containing more than 4 digits need a `+` or `-` at the start of the string.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62541394/elastic-search-and-y10k-years-with-more-than-4-digits\">Elastic Search and Y10k (years with more than 4 digits)</a>. In other words, years containing more than 4 digits need a <code>+</code> or <code>-</code> at the start of the string."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1650563908,"post_id":71958727,"comment_id":127154171,"body_markdown":"See similar Question, [*Why &quot;-190732550-MM-ddTHH:mm:ss.SSSZ&quot; datetime does not fail to parse*](https://stackoverflow.com/q/71886611/642706).","body":"See similar Question, <a href=\"https://stackoverflow.com/q/71886611/642706\"><i>Why &quot;-190732550-MM-ddTHH:mm:ss.SSSZ&quot; datetime does not fail to parse</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1650605971,"creation_date":1650563271,"answer_id":71958799,"question_id":71958727,"body_markdown":"# Prepend `+`\r\n\r\n - Years with more than four digits are expected to have a **leading PLUS SIGN** character (`+`) for positive years (AD).\r\n - Negative years (BC) with any count of integers always lead with a MINUS SIGN (`-`).\r\n\r\nThe *java.time* classes generally follow the rules laid down in the ISO 8601 standard. See Wikipedia page on [handling years in ISO 8601][1].\r\n\r\nCode:\r\n\r\n    OffsetDateTime ldt = OffsetDateTime.parse( &quot;+10000-04-11T01:24:55.887-03:56&quot; ) ;\r\n\r\nSee this [code run live at IdeOne.com][2].\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/ISO_8601#Years\r\n  [2]: https://ideone.com/8dOuN6","title":"Java 8 DateTimeFormatter parse fails for ISO dates far in future","body":"<h1>Prepend <code>+</code></h1>\n<ul>\n<li>Years with more than four digits are expected to have a <strong>leading PLUS SIGN</strong> character (<code>+</code>) for positive years (AD).</li>\n<li>Negative years (BC) with any count of integers always lead with a MINUS SIGN (<code>-</code>).</li>\n</ul>\n<p>The <em>java.time</em> classes generally follow the rules laid down in the ISO 8601 standard. See Wikipedia page on <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601#Years\" rel=\"nofollow noreferrer\">handling years in ISO 8601</a>.</p>\n<p>Code:</p>\n<pre><code>OffsetDateTime ldt = OffsetDateTime.parse( &quot;+10000-04-11T01:24:55.887-03:56&quot; ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/8dOuN6\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n"}],"owner":{"account_id":3284624,"reputation":3173,"user_id":2764414,"accept_rate":53,"display_name":"Heisenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71958799,"answer_count":1,"score":3,"last_activity_date":1650605971,"creation_date":1650562837,"question_id":71958727,"body_markdown":"I encountered an issue where `DateTimeFormatter.ISO_DATE_TIME` where date cannot be parsed if year is more then 9999.\r\nI was looking for a bug report or to understand what I am doing wrong. \r\nAlso - `JodaTime` parse works for the same string.\r\nJava version - 8.\r\nThis test fails:\r\n\r\n```    @Test\r\n    public void testParseFarInTheFuture()\r\n    {\r\n        String str = &quot;10000-04-11T01:24:55.887-03:56&quot;;\r\n\r\n        DateTimeFormatter.ISO_DATE_TIME.parse(str);\r\n    }\r\n```\r\nSame test with year 9999 works.\r\n\r\nAm I doing something wrong or is there a bug?","title":"Java 8 DateTimeFormatter parse fails for ISO dates far in future","body":"<p>I encountered an issue where <code>DateTimeFormatter.ISO_DATE_TIME</code> where date cannot be parsed if year is more then 9999.\nI was looking for a bug report or to understand what I am doing wrong.\nAlso - <code>JodaTime</code> parse works for the same string.\nJava version - 8.\nThis test fails:</p>\n<pre><code>    public void testParseFarInTheFuture()\n    {\n        String str = &quot;10000-04-11T01:24:55.887-03:56&quot;;\n\n        DateTimeFormatter.ISO_DATE_TIME.parse(str);\n    }\n</code></pre>\n<p>Same test with year 9999 works.</p>\n<p>Am I doing something wrong or is there a bug?</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":9505849,"reputation":481,"user_id":7065399,"accept_rate":75,"display_name":"agata"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1494281917,"creation_date":1494281917,"answer_id":43858128,"question_id":43848339,"body_markdown":"So I was able solving this using jQuery. \r\n\r\nHere is a useful link: http://www.rockhoppertech.com/blog/spring-mvc-3-cascading-selects-using-jquery/\r\nI will post my code below, maybe will help someone\r\n\r\n-mycontroller\r\n\r\n    @RequestMapping(value=&quot;/create&quot;, method=RequestMethod.GET)\r\n\tpublic String createAppointmentPost(Model model, @ModelAttribute(&quot;city&quot;) City \r\n    city, \r\n\t\t\t@ModelAttribute(&quot;agency&quot;) Agency agency){\r\n\t\t\t\r\n\t\tAppointment appointment=new Appointment();\r\n\t\tmodel.addAttribute(&quot;appointment&quot;, appointment);\r\n\t\tmodel.addAttribute(&quot;dateString&quot;, &quot;&quot;);\r\n\t\tmodel.addAttribute(&quot;cities&quot;, cityService.findAll());\r\n\t\treturn &quot;appointment&quot;;\r\n\t}\t\t\r\n\r\n    @RequestMapping(value = &quot;/agencies&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody\r\n    List&lt;Agency&gt; findAllAgencies(\r\n    \t\t@RequestParam(value = &quot;cityId&quot;, required = true) Long cityId) {\r\n\t\tCity city = cityService.findCity(cityId);\r\n    \treturn agencyService.listAllAgencies(city);\r\n    }\r\n\r\n\r\n-thymeleaf \r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;label for=&quot;location&quot;&gt;Alege orasul:&lt;/label&gt;\r\n        &lt;select  class=&quot;form-control&quot; required=&quot;required&quot; \r\n           th:value=&quot;${appointment.location}&quot; name=&quot;location&quot; id=&quot;location&quot;&gt;\r\n          &lt;option disabled=&quot;disabled&quot; selected=&quot;selected&quot; &gt; -- \r\n          alege orasul --\r\n          &lt;/option&gt;\r\n          &lt;option th:each=&quot;city : ${cities}&quot; th:value=&quot;${city.id}&quot; \r\n           th:text=&quot;${city.name}&quot; &gt;\r\n          &lt;/option&gt;\r\n        &lt;/select&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n             &lt;label for=&quot;location&quot;&gt;Alege agentia:&lt;/label&gt;\r\n                    &lt;select class=&quot;form-control&quot; th:value=&quot;${appointment.agency}&quot; \r\n                    name=&quot;agency&quot; id=&quot;agency&quot; required=&quot;required&quot;&gt;\r\n                        &lt;option disabled=&quot;disabled&quot; selected=&quot;selected&quot; &gt; --alege \r\n                        agentia --&lt;/option&gt;\r\n                    &lt;/select&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\njQuery- for one dropdown\r\n\r\n     $(&#39;#location&#39;).change(\r\n\t\t\tfunction() {\r\n\t\t\t\t$.getJSON(&quot;http://localhost:8181/appointment/agencies&quot;, {\r\n\t\t\t\t\tcityId : $(this).val(),\r\n\t\t\t\t\tajax : &#39;true&#39;\r\n\t\t\t\t}, function(data) {\r\n\t\t\t\t\tvar html = &#39;&lt;option value=&quot;&quot;&gt;--alege agentia--&lt;/option&gt;&#39;;\r\n\t\t\t\t\tvar len = data.length;\r\n\t\t\t\t\tfor ( var i = 0; i &lt; len; i++) {\r\n\t\t\t\t\t\thtml += &#39;&lt;option value=&quot;&#39; + data[i].nume + &#39;&quot;&gt;&#39;\r\n\t\t\t\t\t\t\t\t+ data[i].nume + &#39;&lt;/option&gt;&#39;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\thtml += &#39;&lt;/option&gt;&#39;;\r\n\t\t\t\t\t$(&#39;#agency&#39;).html(html);\r\n\t\t\t\t});\r\n\t\t\t});","title":"Dynamic dropdowns using thymeleaf, spring boot","body":"<p>So I was able solving this using jQuery. </p>\n\n<p>Here is a useful link: <a href=\"http://www.rockhoppertech.com/blog/spring-mvc-3-cascading-selects-using-jquery/\" rel=\"noreferrer\">http://www.rockhoppertech.com/blog/spring-mvc-3-cascading-selects-using-jquery/</a>\nI will post my code below, maybe will help someone</p>\n\n<p>-mycontroller</p>\n\n<pre><code>@RequestMapping(value=\"/create\", method=RequestMethod.GET)\npublic String createAppointmentPost(Model model, @ModelAttribute(\"city\") City \ncity, \n        @ModelAttribute(\"agency\") Agency agency){\n\n    Appointment appointment=new Appointment();\n    model.addAttribute(\"appointment\", appointment);\n    model.addAttribute(\"dateString\", \"\");\n    model.addAttribute(\"cities\", cityService.findAll());\n    return \"appointment\";\n}       \n\n@RequestMapping(value = \"/agencies\", method = RequestMethod.GET)\npublic @ResponseBody\nList&lt;Agency&gt; findAllAgencies(\n        @RequestParam(value = \"cityId\", required = true) Long cityId) {\n    City city = cityService.findCity(cityId);\n    return agencyService.listAllAgencies(city);\n}\n</code></pre>\n\n<p>-thymeleaf </p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"location\"&gt;Alege orasul:&lt;/label&gt;\n    &lt;select  class=\"form-control\" required=\"required\" \n       th:value=\"${appointment.location}\" name=\"location\" id=\"location\"&gt;\n      &lt;option disabled=\"disabled\" selected=\"selected\" &gt; -- \n      alege orasul --\n      &lt;/option&gt;\n      &lt;option th:each=\"city : ${cities}\" th:value=\"${city.id}\" \n       th:text=\"${city.name}\" &gt;\n      &lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n         &lt;label for=\"location\"&gt;Alege agentia:&lt;/label&gt;\n                &lt;select class=\"form-control\" th:value=\"${appointment.agency}\" \n                name=\"agency\" id=\"agency\" required=\"required\"&gt;\n                    &lt;option disabled=\"disabled\" selected=\"selected\" &gt; --alege \n                    agentia --&lt;/option&gt;\n                &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>jQuery- for one dropdown</p>\n\n<pre><code> $('#location').change(\n        function() {\n            $.getJSON(\"http://localhost:8181/appointment/agencies\", {\n                cityId : $(this).val(),\n                ajax : 'true'\n            }, function(data) {\n                var html = '&lt;option value=\"\"&gt;--alege agentia--&lt;/option&gt;';\n                var len = data.length;\n                for ( var i = 0; i &lt; len; i++) {\n                    html += '&lt;option value=\"' + data[i].nume + '\"&gt;'\n                            + data[i].nume + '&lt;/option&gt;';\n                }\n                html += '&lt;/option&gt;';\n                $('#agency').html(html);\n            });\n        });\n</code></pre>\n"}],"owner":{"account_id":9505849,"reputation":481,"user_id":7065399,"accept_rate":75,"display_name":"agata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20997,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":43858128,"answer_count":1,"score":11,"last_activity_date":1650605209,"creation_date":1494248418,"question_id":43848339,"body_markdown":"I have 3 dropdowns(one is populate with cities, one with agencies and one with services). If I select one city, the second dropdown should load the data(agencies), and if i select one agency, the 3 dropdown should load data(services). I am able to populate the first dropdown(cities), but I don&#39;t know how to populate the second and third. \r\n\r\nShould i write a controller for each dropdown and return the value? If the answer is yes, how can I return the value?\r\nI&#39;ve read that Thymeleaf is not a component technology but a template technology like JSP. So there is not components or built-in mechanism in Thymeleaf to do client-server communication. \r\nSo I need to program that communication using plain old HTML forms or using AJAX calls. \r\nHow can I program it using plain old HTML?\r\n\r\nI tried using forms, but I click submit only once, it is not what I need.\r\nI read the posts about dropdowns, but couldn&#39;t find anything helpful. I saw that the easy way is to use jQuery, but I don&#39;t know jQuery.\r\nIs there a way I can do this using only thymeleaf and spring boot?\r\nThanks!\r\nI will post my code below.\r\n\r\nappointment.html\r\n\r\n    &lt;form th:action=&quot;@{/appointment/create}&quot; method=&quot;post&quot; id=&quot;appointmentForm&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${appointment.id}&quot;/&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;location&quot;&gt;Alege orasul:&lt;/label&gt;\r\n                    &lt;select class=&quot;form-control&quot; required=&quot;required&quot; \r\n    th:value=&quot;${appointment.location}&quot; name=&quot;location&quot; id=&quot;location&quot;&gt;\r\n                        &lt;option disabled=&quot;disabled&quot; selected=&quot;selected&quot; &gt; -- \r\n    alege orasul --&lt;/option&gt;\r\n                        &lt;option th:each=&quot;city : ${cities}&quot; th:value=&quot;${city.id}&quot; \r\n    th:text=&quot;${city.name}&quot; &gt;&lt;/option&gt;\r\n                &lt;/select&gt;\r\n                &lt;/div&gt;\r\n                &lt;/form&gt;\r\n                \r\n                &lt;form th:action=&quot;@{/appointment/agency}&quot; method=&quot;post&quot; id=&quot;appointmentForm&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${appointment.id}&quot;/&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;location&quot;&gt;Alege agentia:&lt;/label&gt;\r\n                    &lt;select class=&quot;form-control&quot; th:value=&quot;${appointment.agency}&quot; name=&quot;agency&quot; id=&quot;agency&quot; required=&quot;required&quot;&gt;\r\n                        &lt;option disabled=&quot;disabled&quot; selected=&quot;selected&quot; &gt; -- alege agentia --&lt;/option&gt;\r\n                        &lt;option th:each=&quot;agency : ${agencies}&quot; th:value=&quot;${agency.id}&quot; th:text=&quot;${agency.name}&quot; &gt;&lt;/option&gt;\r\n\r\n                    &lt;/select&gt;\r\n                &lt;/div&gt;\r\n                &lt;/form&gt;\r\n                &lt;form th:action=&quot;@{/appointment/service}&quot; method=&quot;post&quot; id=&quot;appointmentForm&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${appointment.id}&quot;/&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;location&quot;&gt;Alege serviciul:&lt;/label&gt;\r\n                    &lt;select class=&quot;form-control&quot; th:value=&quot;${appointment.service}&quot; name=&quot;service&quot; id=&quot;service&quot; required=&quot;required&quot;&gt;\r\n                        &lt;option disabled=&quot;disabled&quot; selected=&quot;selected&quot; &gt; -- alege serviciul --&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option th:each=&quot;service : ${services}&quot; th:value=&quot;${service.id}&quot; th:text=&quot;${service.name}&quot; &gt;&lt;/option&gt;\r\n\r\n                    &lt;/select&gt;\r\n                &lt;/div&gt;\r\n                &lt;/form&gt;\r\n\r\nAppController.java\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/appointment&quot;)\r\n    public class AppointmentController {\r\n\t\r\n\t@Autowired\r\n\tUserService userService;\t\r\n\tAppointmentService appointmentService;\t\r\n\tCityService cityService;\r\n\tAgencyService agencyService;\r\n\tSerService serService;\r\n\tprivate ModelAndView mav;\r\n\t\r\n\t@RequestMapping(value=&quot;/create&quot;, method=RequestMethod.GET)\r\n\tpublic String createAppointmentPost(Model model, @ModelAttribute(&quot;city&quot;) City \r\n    city, @ModelAttribute(&quot;agency&quot;) Agency agency){\r\n\t\r\n\t\t\r\n\t\tAppointment appointment=new Appointment();\r\n\t\tmodel.addAttribute(&quot;appointment&quot;, appointment);\r\n\t\tmodel.addAttribute(&quot;dateString&quot;, &quot;&quot;);\r\n\t\tmodel.addAttribute(&quot;cities&quot;, cityService.findAll());\r\n\t\t//getAllAgencies(model, city);\r\n\t\tgetAllServices(model,agency);\r\n\t\treturn &quot;appointment&quot;;\r\n\t}\r\n\t\t\r\n\t@RequestMapping(value=&quot;/agency&quot;, method=RequestMethod.GET)\r\n\tpublic String getAllAgencies(Model model, @ModelAttribute(&quot;city&quot;) City city){\r\n\t\tmodel.addAttribute(&quot;agencies&quot;, agencyService.listAllAgencies(city));\r\n\t\treturn &quot;redirect:/appointment/create&quot;;\r\n\t}\r\n\tpublic void getAllServices(Model model, @ModelAttribute(&quot;agency&quot;) Agency \r\n    agency){\r\n\t\tif(agency==null){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tmodel.addAttribute(&quot;services&quot;, serService.listAllServices(agency));\r\n\t\t\r\n\t}","title":"Dynamic dropdowns using thymeleaf, spring boot","body":"<p>I have 3 dropdowns(one is populate with cities, one with agencies and one with services). If I select one city, the second dropdown should load the data(agencies), and if i select one agency, the 3 dropdown should load data(services). I am able to populate the first dropdown(cities), but I don't know how to populate the second and third. </p>\n\n<p>Should i write a controller for each dropdown and return the value? If the answer is yes, how can I return the value?\nI've read that Thymeleaf is not a component technology but a template technology like JSP. So there is not components or built-in mechanism in Thymeleaf to do client-server communication. \nSo I need to program that communication using plain old HTML forms or using AJAX calls. \nHow can I program it using plain old HTML?</p>\n\n<p>I tried using forms, but I click submit only once, it is not what I need.\nI read the posts about dropdowns, but couldn't find anything helpful. I saw that the easy way is to use jQuery, but I don't know jQuery.\nIs there a way I can do this using only thymeleaf and spring boot?\nThanks!\nI will post my code below.</p>\n\n<p>appointment.html</p>\n\n<pre><code>&lt;form th:action=\"@{/appointment/create}\" method=\"post\" id=\"appointmentForm\"&gt;\n            &lt;input type=\"hidden\" name=\"id\" th:value=\"${appointment.id}\"/&gt;\n&lt;div class=\"form-group\"&gt;\n                &lt;label for=\"location\"&gt;Alege orasul:&lt;/label&gt;\n                &lt;select class=\"form-control\" required=\"required\" \nth:value=\"${appointment.location}\" name=\"location\" id=\"location\"&gt;\n                    &lt;option disabled=\"disabled\" selected=\"selected\" &gt; -- \nalege orasul --&lt;/option&gt;\n                    &lt;option th:each=\"city : ${cities}\" th:value=\"${city.id}\" \nth:text=\"${city.name}\" &gt;&lt;/option&gt;\n            &lt;/select&gt;\n            &lt;/div&gt;\n            &lt;/form&gt;\n\n            &lt;form th:action=\"@{/appointment/agency}\" method=\"post\" id=\"appointmentForm\"&gt;\n            &lt;input type=\"hidden\" name=\"id\" th:value=\"${appointment.id}\"/&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"location\"&gt;Alege agentia:&lt;/label&gt;\n                &lt;select class=\"form-control\" th:value=\"${appointment.agency}\" name=\"agency\" id=\"agency\" required=\"required\"&gt;\n                    &lt;option disabled=\"disabled\" selected=\"selected\" &gt; -- alege agentia --&lt;/option&gt;\n                    &lt;option th:each=\"agency : ${agencies}\" th:value=\"${agency.id}\" th:text=\"${agency.name}\" &gt;&lt;/option&gt;\n\n                &lt;/select&gt;\n            &lt;/div&gt;\n            &lt;/form&gt;\n            &lt;form th:action=\"@{/appointment/service}\" method=\"post\" id=\"appointmentForm\"&gt;\n            &lt;input type=\"hidden\" name=\"id\" th:value=\"${appointment.id}\"/&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"location\"&gt;Alege serviciul:&lt;/label&gt;\n                &lt;select class=\"form-control\" th:value=\"${appointment.service}\" name=\"service\" id=\"service\" required=\"required\"&gt;\n                    &lt;option disabled=\"disabled\" selected=\"selected\" &gt; -- alege serviciul --&lt;/option&gt;\n                    &lt;option th:each=\"service : ${services}\" th:value=\"${service.id}\" th:text=\"${service.name}\" &gt;&lt;/option&gt;\n\n                &lt;/select&gt;\n            &lt;/div&gt;\n            &lt;/form&gt;\n</code></pre>\n\n<p>AppController.java</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/appointment\")\npublic class AppointmentController {\n\n@Autowired\nUserService userService;    \nAppointmentService appointmentService;  \nCityService cityService;\nAgencyService agencyService;\nSerService serService;\nprivate ModelAndView mav;\n\n@RequestMapping(value=\"/create\", method=RequestMethod.GET)\npublic String createAppointmentPost(Model model, @ModelAttribute(\"city\") City \ncity, @ModelAttribute(\"agency\") Agency agency){\n\n\n    Appointment appointment=new Appointment();\n    model.addAttribute(\"appointment\", appointment);\n    model.addAttribute(\"dateString\", \"\");\n    model.addAttribute(\"cities\", cityService.findAll());\n    //getAllAgencies(model, city);\n    getAllServices(model,agency);\n    return \"appointment\";\n}\n\n@RequestMapping(value=\"/agency\", method=RequestMethod.GET)\npublic String getAllAgencies(Model model, @ModelAttribute(\"city\") City city){\n    model.addAttribute(\"agencies\", agencyService.listAllAgencies(city));\n    return \"redirect:/appointment/create\";\n}\npublic void getAllServices(Model model, @ModelAttribute(\"agency\") Agency \nagency){\n    if(agency==null){\n        return;\n    }\n    model.addAttribute(\"services\", serService.listAllServices(agency));\n\n}\n</code></pre>\n"},{"tags":["java","firebase","firebase-realtime-database","google-cloud-firestore"],"comments":[{"owner":{"account_id":879403,"reputation":632265,"user_id":217408,"accept_rate":97,"display_name":"G&#252;nter Z&#246;chbauer"},"score":0,"creation_date":1508501812,"post_id":46848801,"comment_id":80645064,"body_markdown":"The docs you linked to has an example for batched writes.","body":"The docs you linked to has an example for batched writes."},{"owner":{"account_id":8298232,"reputation":690,"user_id":6237741,"accept_rate":43,"display_name":"Trey Granderson"},"score":0,"creation_date":1508503329,"post_id":46848801,"comment_id":80645905,"body_markdown":"I understand how to use a batch writes. I am asking how to perform an update for every single document in a collection.","body":"I understand how to use a batch writes. I am asking how to perform an update for every single document in a collection."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1555483690,"creation_date":1508502729,"answer_id":46849146,"question_id":46848801,"body_markdown":"If you have used Firebase database, writing to completely single separate locations atomically was not possible, that&#39;s why you would have to use batch writes, which means that either all of the operations succeed, or none of them are applied.\r\n\r\nRegarding Firestore, all operations are now atomically processed. However, you can execute multiple write operations as a single batch that contains any combination of set(), update(), or delete() operations. A batch of writes completes atomically and can write to multiple documents.\r\n\r\nThis a simple example regarding a batch operation for write, update and delete operation.\r\n\r\n\tWriteBatch batch = db.batch();\r\n\r\n\tDocumentReference johnRef = db.collection(&quot;users&quot;).document(&quot;John&quot;);\r\n\tbatch.set(johnRef, new User());\r\n\r\n\tDocumentReference maryRef = db.collection(&quot;users&quot;).document(&quot;Mary&quot;);\r\n\tbatch.update(maryRef, &quot;Anna&quot;, 20); //Update name and age\r\n\r\n\tDocumentReference alexRef = db.collection(&quot;users&quot;).document(&quot;Alex&quot;);\r\n\tbatch.delete(alexRef);\r\n\r\n\tbatch.commit().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n\t    @Override\r\n\t    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\t\t    // ...\r\n\t    }\r\n\t});\r\n\r\nCalling `commit()` method on the batch object means that you commit the entire batch.","title":"How to do a bulk update in Firestore","body":"<p>If you have used Firebase database, writing to completely single separate locations atomically was not possible, that's why you would have to use batch writes, which means that either all of the operations succeed, or none of them are applied.</p>\n\n<p>Regarding Firestore, all operations are now atomically processed. However, you can execute multiple write operations as a single batch that contains any combination of set(), update(), or delete() operations. A batch of writes completes atomically and can write to multiple documents.</p>\n\n<p>This a simple example regarding a batch operation for write, update and delete operation.</p>\n\n<pre><code>WriteBatch batch = db.batch();\n\nDocumentReference johnRef = db.collection(\"users\").document(\"John\");\nbatch.set(johnRef, new User());\n\nDocumentReference maryRef = db.collection(\"users\").document(\"Mary\");\nbatch.update(maryRef, \"Anna\", 20); //Update name and age\n\nDocumentReference alexRef = db.collection(\"users\").document(\"Alex\");\nbatch.delete(alexRef);\n\nbatch.commit().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        // ...\n    }\n});\n</code></pre>\n\n<p>Calling <code>commit()</code> method on the batch object means that you commit the entire batch.</p>\n"},{"tags":[],"owner":{"account_id":16845121,"reputation":176,"user_id":12179514,"display_name":"Jordi Reinsma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585715466,"creation_date":1585714997,"answer_id":60963679,"question_id":46848801,"body_markdown":"I was looking for a solution, found none, so I made this one, if anyone&#39;s interested.\r\n\r\n    public boolean bulkUpdate() {\r\n      try {\r\n        // see https://firebase.google.com/docs/firestore/quotas#writes_and_transactions\r\n        int writeBatchLimit = 500;\r\n        int totalUpdates = 0;\r\n    \r\n        while (totalUpdates % writeBatchLimit == 0) {\r\n          WriteBatch writeBatch = this.firestoreDB.batch();\r\n    \r\n          List&lt;QueryDocumentSnapshot&gt; documentsInBatch =\r\n              this.firestoreDB.collection(&quot;animals&quot;)\r\n                  .whereEqualTo(&quot;species&quot;, &quot;cat&quot;)\r\n                  .limit(writeBatchLimit)\r\n                  .get()\r\n                  .get()\r\n                  .getDocuments();\r\n    \r\n          if (documentsInBatch.isEmpty()) {\r\n            break;\r\n          }\r\n    \r\n          documentsInBatch.forEach(\r\n              document -&gt; writeBatch.update(document.getReference(), &quot;hasTail&quot;, true));\r\n    \r\n          writeBatch.commit().get();\r\n    \r\n          totalUpdates += documentsInBatch.size();\r\n        }\r\n\r\n        System.out.println(&quot;Number of updates: &quot; + totalUpdates);\r\n\r\n      } catch (Exception e) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }","title":"How to do a bulk update in Firestore","body":"<p>I was looking for a solution, found none, so I made this one, if anyone's interested.</p>\n\n<pre><code>public boolean bulkUpdate() {\n  try {\n    // see https://firebase.google.com/docs/firestore/quotas#writes_and_transactions\n    int writeBatchLimit = 500;\n    int totalUpdates = 0;\n\n    while (totalUpdates % writeBatchLimit == 0) {\n      WriteBatch writeBatch = this.firestoreDB.batch();\n\n      List&lt;QueryDocumentSnapshot&gt; documentsInBatch =\n          this.firestoreDB.collection(\"animals\")\n              .whereEqualTo(\"species\", \"cat\")\n              .limit(writeBatchLimit)\n              .get()\n              .get()\n              .getDocuments();\n\n      if (documentsInBatch.isEmpty()) {\n        break;\n      }\n\n      documentsInBatch.forEach(\n          document -&gt; writeBatch.update(document.getReference(), \"hasTail\", true));\n\n      writeBatch.commit().get();\n\n      totalUpdates += documentsInBatch.size();\n    }\n\n    System.out.println(\"Number of updates: \" + totalUpdates);\n\n  } catch (Exception e) {\n    return false;\n  }\n  return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1671251,"reputation":883,"user_id":1537692,"display_name":"Sean Burlington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607506427,"creation_date":1607506427,"answer_id":65214102,"question_id":46848801,"body_markdown":"in SQL you can do\r\n\r\n```sql\r\nUPDATE table_name\r\nSET column1 = value1, column2 = value2, ...\r\nWHERE condition;\r\n```\r\n\r\nThe WHERE is optional - so you can set all fields to a specific value or all fields for a selection of rows but you don&#39;t need to first obtain a reference to the rows.\r\n\r\nFor example if content needs review you could set a flag in a review column for all rows.\r\n\r\nIn firestore I don&#39;t think there is a way to write to a collection.\r\n\r\nhttps://firebase.google.com/docs/reference/js/firebase.firestore.CollectionReference\r\n\r\nAll the collection methods are ways to add a document, get a doc reference - or filter a search for documents.\r\n\r\nSo as far as I can see there is no way to update a set of documents in firestore without first obtaining references to them.\r\n\r\nBatch writes speeds this up as you can update 500 documents at a time.","title":"How to do a bulk update in Firestore","body":"<p>in SQL you can do</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE table_name\nSET column1 = value1, column2 = value2, ...\nWHERE condition;\n</code></pre>\n<p>The WHERE is optional - so you can set all fields to a specific value or all fields for a selection of rows but you don't need to first obtain a reference to the rows.</p>\n<p>For example if content needs review you could set a flag in a review column for all rows.</p>\n<p>In firestore I don't think there is a way to write to a collection.</p>\n<p><a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.CollectionReference\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/js/firebase.firestore.CollectionReference</a></p>\n<p>All the collection methods are ways to add a document, get a doc reference - or filter a search for documents.</p>\n<p>So as far as I can see there is no way to update a set of documents in firestore without first obtaining references to them.</p>\n<p>Batch writes speeds this up as you can update 500 documents at a time.</p>\n"},{"tags":[],"owner":{"account_id":9133574,"reputation":381,"user_id":6794178,"accept_rate":67,"display_name":"Daniel James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650605046,"creation_date":1650605046,"answer_id":71963793,"question_id":46848801,"body_markdown":"Here&#39;s how I did bulk update in Node.js (case: update all documents in `users` collection to add a new field `country`):\r\n\r\n```\r\nfunction updateCountry(countryName) {\r\n\r\n  let lastUserUpdated = null;\r\n  let updatedUsersCount = 0;\r\n\r\n  const usersRef = firestore.collection(&quot;users&quot;);\r\n  const batchSize = 500;\r\n\r\n  while (true) {\r\n\r\n    const batch = firestore.batch();\r\n    const usersListRef = usersRef\r\n      .orderBy(&quot;userId&quot;) // To start after a particular user, there should be some order, hence orderBy is necessary\r\n      .startAfter(lastUserUpdated)\r\n      .limit(batchSize);\r\n    const usersList = await usersListRef.get();\r\n\r\n    if (usersList.size === 0) { // When all the users have been traversed, we can exit from the loop\r\n      break;\r\n    }\r\n    usersList.forEach((user) =&gt; {\r\n      lastUserUpdated = user;\r\n      batch.update(user.ref, { country: countryName }); // Here, the update will be added to the batch, but won&#39;t be executed now\r\n      updatedUsersCount++;\r\n    });\r\n    await batch.commit(); // At this point, everything added to the batch will be executed together\r\n    console.log(`Updated ${updatedUsersCount} users.`);\r\n  }\r\n}\r\n```","title":"How to do a bulk update in Firestore","body":"<p>Here's how I did bulk update in Node.js (case: update all documents in <code>users</code> collection to add a new field <code>country</code>):</p>\n<pre><code>function updateCountry(countryName) {\n\n  let lastUserUpdated = null;\n  let updatedUsersCount = 0;\n\n  const usersRef = firestore.collection(&quot;users&quot;);\n  const batchSize = 500;\n\n  while (true) {\n\n    const batch = firestore.batch();\n    const usersListRef = usersRef\n      .orderBy(&quot;userId&quot;) // To start after a particular user, there should be some order, hence orderBy is necessary\n      .startAfter(lastUserUpdated)\n      .limit(batchSize);\n    const usersList = await usersListRef.get();\n\n    if (usersList.size === 0) { // When all the users have been traversed, we can exit from the loop\n      break;\n    }\n    usersList.forEach((user) =&gt; {\n      lastUserUpdated = user;\n      batch.update(user.ref, { country: countryName }); // Here, the update will be added to the batch, but won't be executed now\n      updatedUsersCount++;\n    });\n    await batch.commit(); // At this point, everything added to the batch will be executed together\n    console.log(`Updated ${updatedUsersCount} users.`);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8298232,"reputation":690,"user_id":6237741,"accept_rate":43,"display_name":"Trey Granderson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35829,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":46849146,"answer_count":4,"score":21,"last_activity_date":1650605046,"creation_date":1508501477,"question_id":46848801,"body_markdown":"I&#39;m using Cloud Firestore and have a collection of documents. For each document in the collection I would like to update one of the fields. \r\n\r\nUsing a transaction to perform the update would be inefficient because I do not need to read any of the data while updating it. \r\n\r\nBatch updates seem like the right direction, however the docs do not include examples of updating multiple docs at once. See here: [Batched Writes][1]\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/transactions","title":"How to do a bulk update in Firestore","body":"<p>I'm using Cloud Firestore and have a collection of documents. For each document in the collection I would like to update one of the fields. </p>\n\n<p>Using a transaction to perform the update would be inefficient because I do not need to read any of the data while updating it. </p>\n\n<p>Batch updates seem like the right direction, however the docs do not include examples of updating multiple docs at once. See here: <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"noreferrer\">Batched Writes</a></p>\n"},{"tags":["java","rhadoop"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650543473,"post_id":71953443,"comment_id":127145997,"body_markdown":"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/ProcessBuilder.html#redirectOutput(java.io.File) is what you need. Also redirect error","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/ProcessBuilder.html#redirectOutput(java.io.File)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/16/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> is what you need. Also redirect error"},{"owner":{"account_id":9738343,"reputation":133,"user_id":7220859,"display_name":"user7220859"},"score":0,"creation_date":1650604416,"post_id":71953443,"comment_id":127162378,"body_markdown":"thanks, now it is working for sh file, where we are deleting HDFS folders and it redirecting which folders are deleted and which one not found.  When I tried same for redirecting beeline .hql file, it does redirect output to file but, redirected file contains lots of info. is there anyway to just log specific messages?","body":"thanks, now it is working for sh file, where we are deleting HDFS folders and it redirecting which folders are deleted and which one not found.  When I tried same for redirecting beeline .hql file, it does redirect output to file but, redirected file contains lots of info. is there anyway to just log specific messages?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650620928,"post_id":71953443,"comment_id":127167344,"body_markdown":"If you ran beeline via a shell, you could pipe the output through `grep` or `sed` and clean it up","body":"If you ran beeline via a shell, you could pipe the output through <code>grep</code> or <code>sed</code> and clean it up"},{"owner":{"account_id":9738343,"reputation":133,"user_id":7220859,"display_name":"user7220859"},"score":0,"creation_date":1650878190,"post_id":71953443,"comment_id":127218794,"body_markdown":"I run beeline from java.lang.ProcessBuilder.  It  repeats at least 10 lines of INFO messages for each partition drop.  If it couldn&#39;t find the partition id in table still it logs 9 INFO messages.","body":"I run beeline from java.lang.ProcessBuilder.  It  repeats at least 10 lines of INFO messages for each partition drop.  If it couldn&#39;t find the partition id in table still it logs 9 INFO messages."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650879532,"post_id":71953443,"comment_id":127219252,"body_markdown":"I know you do. What I mean is if you run it through `ProcessBuilder` *via* a shell. Something like `String cmd = { &quot;sh&quot;, &quot;MultiDel_FI.sh&quot;, &quot;|&quot;, &quot;sed&quot;, &quot;/INFO/d&quot; };`","body":"I know you do. What I mean is if you run it through <code>ProcessBuilder</code> <i>via</i> a shell. Something like <code>String cmd = { &quot;sh&quot;, &quot;MultiDel_FI.sh&quot;, &quot;|&quot;, &quot;sed&quot;, &quot;&#47;INFO&#47;d&quot; };</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650879935,"post_id":71953443,"comment_id":127219396,"body_markdown":"Or maybe `String cmd = { &quot;sh&quot;, &quot;MultiDel_FI.sh&quot;, &quot;| sed&quot;, &quot;/INFO/d&quot; };` But you&#39;d be better off controlling the logging properly","body":"Or maybe <code>String cmd = { &quot;sh&quot;, &quot;MultiDel_FI.sh&quot;, &quot;| sed&quot;, &quot;&#47;INFO&#47;d&quot; };</code> But you&#39;d be better off controlling the logging properly"}],"answers":[{"tags":[],"owner":{"account_id":9738343,"reputation":133,"user_id":7220859,"display_name":"user7220859"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650604726,"creation_date":1650604726,"answer_id":71963766,"question_id":71953443,"body_markdown":"```\r\npublic static void main(String[] args) throws IOException {\r\n        //String[] commandToExecute = {&quot;sh&quot; , &quot;MultiDel_FI.sh&quot;};\r\n        String[] commandToExecute = {&quot;beeline&quot;, &quot;--force=true&quot;, &quot;-u&quot;, &quot;jdbc:hive2://&lt;host&gt;:&lt;port&gt;/&lt;hive database&gt;;ssl=true;user=&lt;user&gt;;password=&lt;pw&gt;&quot;, &quot;-f&quot;, &quot;ppp1.hql&quot;};\r\n        ProcessBuilder builder = new ProcessBuilder(commandToExecute);\r\n        builder.redirectError(new File(&quot;out.txt&quot;));\r\n        builder.redirectOutput(new File(&quot;out.txt&quot;));\r\n         builder.start();\r\n    }\r\n```","title":"Redirect sh file out put to file using Runtime.getRuntime().exec","body":"<pre><code>public static void main(String[] args) throws IOException {\n        //String[] commandToExecute = {&quot;sh&quot; , &quot;MultiDel_FI.sh&quot;};\n        String[] commandToExecute = {&quot;beeline&quot;, &quot;--force=true&quot;, &quot;-u&quot;, &quot;jdbc:hive2://&lt;host&gt;:&lt;port&gt;/&lt;hive database&gt;;ssl=true;user=&lt;user&gt;;password=&lt;pw&gt;&quot;, &quot;-f&quot;, &quot;ppp1.hql&quot;};\n        ProcessBuilder builder = new ProcessBuilder(commandToExecute);\n        builder.redirectError(new File(&quot;out.txt&quot;));\n        builder.redirectOutput(new File(&quot;out.txt&quot;));\n         builder.start();\n    }\n</code></pre>\n"}],"owner":{"account_id":9738343,"reputation":133,"user_id":7220859,"display_name":"user7220859"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650604726,"creation_date":1650539368,"question_id":71953443,"body_markdown":"I have tried similar suggestions from stack overflow, still issue persist.\r\n\r\nI am executing following command from java \r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        try {\r\n            String line;\r\n            //String[] commandToExecute = {&quot;sh&quot; , &quot;MultiDel_FI.sh&quot;, &quot; &lt; abcd.log 2&gt;&amp;1 &amp;&quot;};\r\n            String[] commandToExecute = {&quot;sh&quot; , &quot;MultiDel_FI.sh&quot;};\r\n\r\n\r\n            Process p = Runtime.getRuntime().exec( commandToExecute );\r\n            p.waitFor();\r\n           BufferedReader reader = new BufferedReader(\r\n                    new InputStreamReader(p.getInputStream()));\r\n            writer = new FileWriter(&quot;redirect.log&quot;);\r\n            while ((line = reader.readLine()) != null) {\r\n                writer.write(line);\r\n          \r\n        }\r\n            writer.close();\r\n            p.waitFor();\r\n            p.destroy();\r\n        catch (Exception e) {\r\n            // \r\n        }\r\n```\r\n\r\nMultiDel_FI.sh file is placed on edge node with following content \r\n```\r\nhadoop fs -rm -R -skipTrash &#39;hdfs://&lt;path&gt;/abc_767&#39; &#39;hdfs://&lt;path&gt;/abc_768&#39; &#39;hdfs://&lt;path&gt;/abc_769&#39; ...........many more records\r\n```\r\n\r\nwhen I run the code it successfully removes the folders from HDFS location.\r\nI need to track the output of the command to identify which folder got deleted successfully and which one is not.\r\nI tried various options with bin/sh  ,writing inputstream to file, it generates empty file.\r\nAny suggestions please?\r\n\r\ndirect unix command properly redirects output.\r\n```\r\nsh MultiDel_FI.sh &gt; abcd.log 2&gt;&amp;1\r\n```\r\n\r\n","title":"Redirect sh file out put to file using Runtime.getRuntime().exec","body":"<p>I have tried similar suggestions from stack overflow, still issue persist.</p>\n<p>I am executing following command from java</p>\n<pre><code>public static void main(String[] args) throws Exception {\n        try {\n            String line;\n            //String[] commandToExecute = {&quot;sh&quot; , &quot;MultiDel_FI.sh&quot;, &quot; &lt; abcd.log 2&gt;&amp;1 &amp;&quot;};\n            String[] commandToExecute = {&quot;sh&quot; , &quot;MultiDel_FI.sh&quot;};\n\n\n            Process p = Runtime.getRuntime().exec( commandToExecute );\n            p.waitFor();\n           BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(p.getInputStream()));\n            writer = new FileWriter(&quot;redirect.log&quot;);\n            while ((line = reader.readLine()) != null) {\n                writer.write(line);\n          \n        }\n            writer.close();\n            p.waitFor();\n            p.destroy();\n        catch (Exception e) {\n            // \n        }\n</code></pre>\n<p>MultiDel_FI.sh file is placed on edge node with following content</p>\n<pre><code>hadoop fs -rm -R -skipTrash 'hdfs://&lt;path&gt;/abc_767' 'hdfs://&lt;path&gt;/abc_768' 'hdfs://&lt;path&gt;/abc_769' ...........many more records\n</code></pre>\n<p>when I run the code it successfully removes the folders from HDFS location.\nI need to track the output of the command to identify which folder got deleted successfully and which one is not.\nI tried various options with bin/sh  ,writing inputstream to file, it generates empty file.\nAny suggestions please?</p>\n<p>direct unix command properly redirects output.</p>\n<pre><code>sh MultiDel_FI.sh &gt; abcd.log 2&gt;&amp;1\n</code></pre>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1650584692,"post_id":71961952,"comment_id":127159535,"body_markdown":"Why doesn&#39;t the expected output finish at the first comma (after `Revision 01`)?","body":"Why doesn&#39;t the expected output finish at the first comma (after <code>Revision 01</code>)?"},{"owner":{"account_id":15262126,"reputation":141,"user_id":11011846,"display_name":"BADS"},"score":0,"creation_date":1650584989,"post_id":71961952,"comment_id":127159584,"body_markdown":"oups i have to delete the comma after 01 in the link provided sorry, thanks","body":"oups i have to delete the comma after 01 in the link provided sorry, thanks"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1651256710,"post_id":71961952,"comment_id":127329548,"body_markdown":"Does `(?i)start.*?(?&lt;!not|here)(?&lt;!not\\s)(?&lt;!here\\s)(?=\\.|finish)` help (see [demo](https://regex101.com/r/xJQNo4/1))?","body":"Does <code>(?i)start.*?(?&lt;!not|here)(?&lt;!not\\s)(?&lt;!here\\s)(?=\\.|finish)</code> help (see <a href=\"https://regex101.com/r/xJQNo4/1\" rel=\"nofollow noreferrer\">demo</a>)?"}],"answers":[{"tags":[],"owner":{"account_id":9960232,"reputation":1568,"user_id":7369809,"display_name":"anotherGatsby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650604480,"creation_date":1650602922,"answer_id":71963599,"question_id":71961952,"body_markdown":"If you meant skipping matching if &#39;here&#39; or &#39;not&#39; is found after &#39;finish&#39; then try this: `(?:start|START).*?(?=[.]|[,]|(finish (?!here|not)))`\r\n\r\nTest here: https://regex101.com/r/PaXBKL/1\r\n\r\n\r\nIf you meant skipping matching if &#39;here&#39; or &#39;not&#39; is found before &#39;finish&#39; then try this: `(?:start|START).*?(?=[.]|[,]|((?&lt;!here|not) finish))`\r\n\r\nThese follow your condition of stopping when , or . is found.\r\n\r\nCases:\r\n\r\nWhen &#39;finish&#39; is found first :\r\n&gt; CONF: For this charaxter **start 6 years of  this Revision 01 its\r\n&gt; indicated in the house warranty  not finish** for  received days finish\r\n&gt; here completion. affected you. of your face\r\n\r\nWhen &#39;finish&#39; if followed by &#39;here&#39;/&#39;not&#39; it will skip till a `,` or `.` is found:\r\n&gt; CONF: For this charaxter **start 6 years of  this Revision 01 its\r\n&gt; indicated in the house warranty  not for  received days finish here\r\n&gt; completion**. affected you. of your face\r\n&gt;\r\n&gt; CONF: For this charaxter **start 6 years of  this Revision 01 its\r\n&gt; indicated in the house warranty finish not for**, received days here\r\n&gt; completion. affected you. of your face","title":"issue to detect first matching end of string with regex","body":"<p>If you meant skipping matching if 'here' or 'not' is found after 'finish' then try this: <code>(?:start|START).*?(?=[.]|[,]|(finish (?!here|not)))</code></p>\n<p>Test here: <a href=\"https://regex101.com/r/PaXBKL/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/PaXBKL/1</a></p>\n<p>If you meant skipping matching if 'here' or 'not' is found before 'finish' then try this: <code>(?:start|START).*?(?=[.]|[,]|((?&lt;!here|not) finish))</code></p>\n<p>These follow your condition of stopping when , or . is found.</p>\n<p>Cases:</p>\n<p>When 'finish' is found first :</p>\n<blockquote>\n<p>CONF: For this charaxter <strong>start 6 years of  this Revision 01 its\nindicated in the house warranty  not finish</strong> for  received days finish\nhere completion. affected you. of your face</p>\n</blockquote>\n<p>When 'finish' if followed by 'here'/'not' it will skip till a <code>,</code> or <code>.</code> is found:</p>\n<blockquote>\n<p>CONF: For this charaxter <strong>start 6 years of  this Revision 01 its\nindicated in the house warranty  not for  received days finish here\ncompletion</strong>. affected you. of your face</p>\n<p>CONF: For this charaxter <strong>start 6 years of  this Revision 01 its\nindicated in the house warranty finish not for</strong>, received days here\ncompletion. affected you. of your face</p>\n</blockquote>\n"}],"owner":{"account_id":15262126,"reputation":141,"user_id":11011846,"display_name":"BADS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1650604480,"creation_date":1650584554,"question_id":71961952,"body_markdown":"I try to find the string starting with &quot;start&quot; and ending with one of this strings : (, | . | finish) with skipping &quot;finish&quot; when its followed by a &quot;not&quot; or &quot;here&quot;.\r\n\r\nHere is the example : \r\n\r\n    CONF: For this charaxter start 6 years of  this Revision 01 its indicated in the house warranty  not finish for  received days  completion. affected you. of your face\r\n\r\nfor this i used the following regex :\r\n\r\n    (start|START).*(?!not finish|here)(?=[.]|[,]|finish)\r\n\r\nlink for my try : [https://regex101.com/r/USaH6I/1][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/mLEbwG/1\r\n\r\nrequested return is : \r\n\r\n    start 6 years of  this Revision 01 its indicated in the house warranty  not finish for  received days completion\r\n\r\nbut I got : \r\n\r\n    start 6 years of  this Revision 01 its indicated in the house warranty  not finish for  received days completion, affected you","title":"issue to detect first matching end of string with regex","body":"<p>I try to find the string starting with &quot;start&quot; and ending with one of this strings : (, | . | finish) with skipping &quot;finish&quot; when its followed by a &quot;not&quot; or &quot;here&quot;.</p>\n<p>Here is the example :</p>\n<pre><code>CONF: For this charaxter start 6 years of  this Revision 01 its indicated in the house warranty  not finish for  received days  completion. affected you. of your face\n</code></pre>\n<p>for this i used the following regex :</p>\n<pre><code>(start|START).*(?!not finish|here)(?=[.]|[,]|finish)\n</code></pre>\n<p>link for my try : <a href=\"https://regex101.com/r/mLEbwG/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/USaH6I/1</a></p>\n<p>requested return is :</p>\n<pre><code>start 6 years of  this Revision 01 its indicated in the house warranty  not finish for  received days completion\n</code></pre>\n<p>but I got :</p>\n<pre><code>start 6 years of  this Revision 01 its indicated in the house warranty  not finish for  received days completion, affected you\n</code></pre>\n"},{"tags":["java","checkstyle","pmd","archunit"],"comments":[{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":1,"creation_date":1641995486,"post_id":70682466,"comment_id":124954132,"body_markdown":"http://errorprone.info/bugpattern/RestrictedApiChecker ?","body":"<a href=\"http://errorprone.info/bugpattern/RestrictedApiChecker\" rel=\"nofollow noreferrer\">errorprone.info/bugpattern/RestrictedApiChecker</a> ?"},{"owner":{"account_id":7481962,"reputation":153,"user_id":8587028,"display_name":"Антон Ткаченко"},"score":0,"creation_date":1642013460,"post_id":70682466,"comment_id":124962350,"body_markdown":"oh, another static analysis tool :) thank you, will check it out","body":"oh, another static analysis tool :) thank you, will check it out"},{"owner":{"account_id":4834769,"reputation":609,"user_id":3901853,"display_name":"strkk"},"score":0,"creation_date":1643543258,"post_id":70682466,"comment_id":125363224,"body_markdown":"this is not possible to achieve by checkstyle. It does not work with bytecode, only works with plain text. So you cannot provide some checkstyle stuff to 3rd parties to warn them about it unless they dont setup such checks themselves.","body":"this is not possible to achieve by checkstyle. It does not work with bytecode, only works with plain text. So you cannot provide some checkstyle stuff to 3rd parties to warn them about it unless they dont setup such checks themselves."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641995888,"creation_date":1641994941,"answer_id":70682623,"question_id":70682466,"body_markdown":"It sounds like you should be using the Java 9+ `module` feature, and its ability specify what classes are exposed outside of a given module.\r\n\r\nHere are some references to get you started:\r\n\r\n  - [Understanding Java 9 Modules](https://www.oracle.com/corporate/features/understanding-java-9-modules.html)\r\n  - [A Guide to Java 9 Modularity][1]\r\n\r\nand there are lots of tutorials and videos.\r\n\r\n------------------\r\n\r\nWhile it should be possible to do what you propose using annotations and a checker, I can&#39;t recommend any practical examples.\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-9-modularity","title":"How to prohibit usage of classes with certain annotation","body":"<p>It sounds like you should be using the Java 9+ <code>module</code> feature, and its ability specify what classes are exposed outside of a given module.</p>\n<p>Here are some references to get you started:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules</a></li>\n<li><a href=\"https://www.baeldung.com/java-9-modularity\" rel=\"nofollow noreferrer\">A Guide to Java 9 Modularity</a></li>\n</ul>\n<p>and there are lots of tutorials and videos.</p>\n<hr />\n<p>While it should be possible to do what you propose using annotations and a checker, I can't recommend any practical examples.</p>\n"},{"tags":[],"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650603968,"creation_date":1650603968,"answer_id":71963688,"question_id":70682466,"body_markdown":"You can achieve something like this with ArchUnit easily, your ArchRule would be something like -\r\n```java\r\n@ArchTest                                                  \r\npublic static final ArchRule customArchRule = noClasses()   \r\n    .should()                                               \r\n    .dependOnClassesThat()                                  \r\n    .areAnnotatedWith(ForInternalUsageOnly.class);         \r\n```\r\nAssuming you are using it with JUnit 5 or 4, classes in `noClasses()` are determined by `@AnalyzeClasses`, you can read more about setting up and using ArchUnit from [here][1].\r\n\r\n\r\n  [1]: https://www.archunit.org/userguide/html/000_Index.html#_junit_support","title":"How to prohibit usage of classes with certain annotation","body":"<p>You can achieve something like this with ArchUnit easily, your ArchRule would be something like -</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest                                                  \npublic static final ArchRule customArchRule = noClasses()   \n    .should()                                               \n    .dependOnClassesThat()                                  \n    .areAnnotatedWith(ForInternalUsageOnly.class);         \n</code></pre>\n<p>Assuming you are using it with JUnit 5 or 4, classes in <code>noClasses()</code> are determined by <code>@AnalyzeClasses</code>, you can read more about setting up and using ArchUnit from <a href=\"https://www.archunit.org/userguide/html/000_Index.html#_junit_support\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":7481962,"reputation":153,"user_id":8587028,"display_name":"Антон Ткаченко"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650603968,"creation_date":1641994407,"question_id":70682466,"body_markdown":"In our organizations we&#39;ve got several microservices and lots of libraries.\r\n\r\nSome libraries define &quot;public&quot; classes that are not intended for public usage - only inside library in multiple packages (thus can&#39;t be package-private)\r\n\r\nI&#39;d like to add something similar to Kotlin&#39;s &quot;internal&quot; modifier - a checkstyle rule/annotation processor/test component that verifies that consumer applications don&#39;t import these classes.\r\n\r\nfor example, I will mark them as @ForInternalUsageOnly or put into package com.ourorg.mylib.internal_usage\r\n\r\nwhat can be a non-copy-pasted (e.g. a jar or a gradle task) implementation that verifies that such classes are not imported? Preferably - on compilation level","title":"How to prohibit usage of classes with certain annotation","body":"<p>In our organizations we've got several microservices and lots of libraries.</p>\n<p>Some libraries define &quot;public&quot; classes that are not intended for public usage - only inside library in multiple packages (thus can't be package-private)</p>\n<p>I'd like to add something similar to Kotlin's &quot;internal&quot; modifier - a checkstyle rule/annotation processor/test component that verifies that consumer applications don't import these classes.</p>\n<p>for example, I will mark them as @ForInternalUsageOnly or put into package com.ourorg.mylib.internal_usage</p>\n<p>what can be a non-copy-pasted (e.g. a jar or a gradle task) implementation that verifies that such classes are not imported? Preferably - on compilation level</p>\n"},{"tags":["java","string","list","jersey"],"answers":[{"tags":[],"owner":{"account_id":73891,"reputation":53530,"user_id":212555,"accept_rate":88,"display_name":"Brendan Long"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353968124,"creation_date":1353968124,"answer_id":13574078,"question_id":13573874,"body_markdown":"It looks like you&#39;re [sending a POST request](http://curl.haxx.se/docs/manpage.html#--data-binary):\n\n&gt; --data-binary &lt; data&gt;\n&gt;\n&gt; (HTTP)  This  **posts** data exactly as specified with no extra processing whatsoever.\n\nSince [`-X` sets a custom request type](http://curl.haxx.se/docs/manpage.html#-X), I&#39;m guessing it&#39;s not detecting that it needs to URL encode the data:\n\n&gt; -X, --request &lt; command&gt;\n&gt;\n&gt; (HTTP) Specifies a **custom request method** to use when communicating with the HTTP server. The specified request will be used instead of the method otherwise used (which defaults to GET). Read the HTTP 1.1 specification for details and explanations. Common additional HTTP requests include PUT and DELETE, but related technologies like WebDAV offers PROPFIND, COPY, MOVE and more. \n\nSo try with [`-G`](http://curl.haxx.se/docs/manpage.html#-G) instead:\n\n&gt; -G, --get\n&gt;\n&gt; When used, this option will make all data specified with -d, --data or --data-binary to be used in an HTTP GET request instead of the POST request that otherwise would be used. The data will be appended to the URL with a &#39;?&#39; separator. ","title":"List&lt;String&gt; as input of GET method","body":"<p>It looks like you're <a href=\"http://curl.haxx.se/docs/manpage.html#--data-binary\" rel=\"nofollow noreferrer\">sending a POST request</a>:</p>\n<blockquote>\n<p>--data-binary &lt; data&gt;</p>\n<p>(HTTP)  This  <strong>posts</strong> data exactly as specified with no extra processing whatsoever.</p>\n</blockquote>\n<p>Since <a href=\"http://curl.haxx.se/docs/manpage.html#-X\" rel=\"nofollow noreferrer\"><code>-X</code> sets a custom request type</a>, I'm guessing it's not detecting that it needs to URL encode the data:</p>\n<blockquote>\n<p>-X, --request &lt; command&gt;</p>\n<p>(HTTP) Specifies a <strong>custom request method</strong> to use when communicating with the HTTP server. The specified request will be used instead of the method otherwise used (which defaults to GET). Read the HTTP 1.1 specification for details and explanations. Common additional HTTP requests include PUT and DELETE, but related technologies like WebDAV offers PROPFIND, COPY, MOVE and more.</p>\n</blockquote>\n<p>So try with <a href=\"http://curl.haxx.se/docs/manpage.html#-G\" rel=\"nofollow noreferrer\"><code>-G</code></a> instead:</p>\n<blockquote>\n<p>-G, --get</p>\n<p>When used, this option will make all data specified with -d, --data or --data-binary to be used in an HTTP GET request instead of the POST request that otherwise would be used. The data will be appended to the URL with a '?' separator.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2015597,"reputation":2807,"user_id":1802974,"accept_rate":69,"display_name":"Victor Mezrin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353970040,"creation_date":1353970040,"answer_id":13574483,"question_id":13573874,"body_markdown":"I found solution :)\r\n\r\nMethod signature should be\r\n\r\n    @GET\r\n    @Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})\r\n    public List&lt;myObject&gt; getData(@QueryParam(&quot;myParamName&quot;) List&lt;String&gt; IDs) {\r\n        ....\r\n    }\r\n\r\ncurl request\r\n\r\n    curl -X GET -H &quot;Content-Type: application/json&quot; http://localhost:8080/myModule/rs/getData?myParamName={dfsf,ddsfdss,sdfsf} -v\r\n\r\nit works :)\r\n","title":"List&lt;String&gt; as input of GET method","body":"<p>I found solution :)</p>\n\n<p>Method signature should be</p>\n\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})\npublic List&lt;myObject&gt; getData(@QueryParam(\"myParamName\") List&lt;String&gt; IDs) {\n    ....\n}\n</code></pre>\n\n<p>curl request</p>\n\n<pre><code>curl -X GET -H \"Content-Type: application/json\" http://localhost:8080/myModule/rs/getData?myParamName={dfsf,ddsfdss,sdfsf} -v\n</code></pre>\n\n<p>it works :)</p>\n"},{"tags":[],"owner":{"account_id":18989337,"reputation":1,"user_id":13858956,"display_name":"Bachy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650603836,"creation_date":1650603645,"answer_id":71963659,"question_id":13573874,"body_markdown":"    yourUrl?param1=value1&amp;param1=value2\r\n\r\nThis will convert to \r\n\r\n    List&lt;string&gt;param1 = [...] \r\nyou get the point\r\n","title":"List&lt;String&gt; as input of GET method","body":"<pre><code>yourUrl?param1=value1&amp;param1=value2\n</code></pre>\n<p>This will convert to</p>\n<pre><code>List&lt;string&gt;param1 = [...] \n</code></pre>\n<p>you get the point</p>\n"}],"owner":{"account_id":2015597,"reputation":2807,"user_id":1802974,"accept_rate":69,"display_name":"Victor Mezrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1650603836,"creation_date":1353967150,"question_id":13573874,"body_markdown":"I have a REST service. The input type of the GET method is `List&lt;String&gt;`:\r\n\r\n    @GET\r\n    @Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})\r\n    public List&lt;myObject&gt; getData(List&lt;String&gt; IDs) {\r\n        ....\r\n    }\r\n\r\nI tried to test this method using curl. I used a lot of different combinations of data:\r\n\r\n    curl -X GET --data-binary &#39;{&quot;IDs&quot;:[&quot;TestString1&quot;,&quot;TestString2&quot;]}&#39; -H &quot;Content-Type: application/json&quot; http://localhost:8080/myModule/rs/getData -v\r\n                              &#39;{&quot;TestString1&quot;,&quot;TestString2&quot;}&#39;\r\n                              &#39;[&quot;TestString1&quot;,&quot;TestString2&quot;]&#39;\r\n                               so on\r\n\r\nBut I always get the response:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\r\n    or\r\n    Can not deserialize instance of java.util.ArrayList out of VALUE_STRING token\r\n\r\nIs it possible to have the input as `List&lt;String&gt;`? Are my curl requests incorrect?","title":"List&lt;String&gt; as input of GET method","body":"<p>I have a REST service. The input type of the GET method is <code>List&lt;String&gt;</code>:</p>\n\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})\npublic List&lt;myObject&gt; getData(List&lt;String&gt; IDs) {\n    ....\n}\n</code></pre>\n\n<p>I tried to test this method using curl. I used a lot of different combinations of data:</p>\n\n<pre><code>curl -X GET --data-binary '{\"IDs\":[\"TestString1\",\"TestString2\"]}' -H \"Content-Type: application/json\" http://localhost:8080/myModule/rs/getData -v\n                          '{\"TestString1\",\"TestString2\"}'\n                          '[\"TestString1\",\"TestString2\"]'\n                           so on\n</code></pre>\n\n<p>But I always get the response:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\nor\nCan not deserialize instance of java.util.ArrayList out of VALUE_STRING token\n</code></pre>\n\n<p>Is it possible to have the input as <code>List&lt;String&gt;</code>? Are my curl requests incorrect?</p>\n"},{"tags":["java","html","jquery","model-view-controller","playframework"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1650604400,"post_id":71963626,"comment_id":127162374,"body_markdown":"Use AJAX in your Jquery","body":"Use AJAX in your Jquery"},{"owner":{"account_id":20967341,"reputation":21,"user_id":15405246,"display_name":"asi"},"score":0,"creation_date":1650604469,"post_id":71963626,"comment_id":127162388,"body_markdown":"How I do that, could you, please, tell me more?","body":"How I do that, could you, please, tell me more?"}],"owner":{"account_id":20967341,"reputation":21,"user_id":15405246,"display_name":"asi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650603656,"creation_date":1650603285,"question_id":71963626,"body_markdown":"I&#39;m new with MVC web-development using Java.\r\n\r\nI can&#39;t really understand how I exchange variable values between HTML and .java controllers.\r\n\r\nI have a radio buttons on my HTML, and depending on what user chooses the variable changes it&#39;s value in jQuery function. What I need is to pass this value to create a #list that is displayed in select on the same HTML page.\r\n\r\nHere is the jQuery to get the value on radio button changes:\r\n\r\n    \r\n    $(document).ready(function () {\r\n            $(&#39;input[type=radio]&#39;).click(function () {\r\n                if (this.name==&quot;radio-gov&quot;)\r\n                    var $gov=$(&#39;input[name=radio-gov]:checked&#39;,&#39;#myForm&#39;).val();\r\n\r\n                console.log($gov);\r\n            });\r\n        });\r\n\r\nHere is the code of the form:\r\n\r\n    &lt;div class=&quot; radio-group&quot;&gt;\r\n                        &lt;div class=&quot;form-check form-check-inline formbuilder-radio&quot;&gt;\r\n                            &lt;input class=&quot;form-check-input&quot;  name=&quot;radio-gov&quot;  access=&quot;false&quot; id=&quot;radio-group-1650256975381-0&quot; required=&quot;required&quot; aria-required=&quot;true&quot; value=&quot;65&quot; type=&quot;radio&quot;&gt;\r\n                            &lt;label class=&quot;form-check-label&quot; for=&quot;radio-group-1650256975381-0&quot;&gt;MIO&lt;/label&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-check form-check-inline formbuilder-radio&quot;&gt;\r\n                            &lt;input class=&quot;form-check-input&quot;  name=&quot;radio-gov&quot;  access=&quot;false&quot; id=&quot;radio-group-1650256975381-1&quot; required=&quot;required&quot; aria-required=&quot;true&quot; value=&quot;66&quot; type=&quot;radio&quot;&gt;\r\n                            &lt;label  class=&quot;form-check-label&quot; for=&quot;radio-group-1650256975381-1&quot;&gt;TSO&lt;/label&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div style=&quot;margin-top: 10px;&quot;&gt;\r\n                        &lt;select class=&quot;form-control&quot; name=&quot;select-1650256981364&quot; id=&quot;select-gov&quot; required&gt;\r\n                            #{list items:onlyParentGovAgencyList, as:&#39;govAgency&#39;}\r\n                            #{if govAgency.parent != null}\r\n                                #{if govAgency.parent.id ==66} &lt;!--insted of 66 I want to use a variable $gov here --&gt;\r\n                                &lt;option value=&quot;${govAgency.id}&quot;&gt;\r\n\r\n                                    ${govAgency.name}\r\n                                &lt;/option&gt;\r\n                                #{/if}\r\n                            #{/if}\r\n                        #{/list}\r\n\r\n                        &lt;/select&gt;\r\n                    &lt;/div&gt;\r\n\r\n\r\n\r\nThis above code works, when I use the int value 66, but I need to be able to change it depending on radio button value, so I was thinking if I could use $gov variable from above jQuery?\r\n\r\n\r\nOn RequestController.java controller I have a code that produces the list: \r\n\r\n    public static void loadGovAgencies() {\r\n        long startTime = System.currentTimeMillis();\r\n\r\n        List&lt;GenericDictionaryModel&gt; list = GenericDictionaryModel.find(&quot;removed = false and enabled = true and type = :type order by &quot; + ((Lang.get().equals(&quot;ru&quot;))?&quot; nameRu&quot; : &quot;nameKk&quot;))\r\n                .setParameter(&quot;type&quot;, GenericDictionaryModel.Type.GOV_AGENCY)\r\n                .fetch();\r\n\r\n        List&lt;Object[]&gt; resultList = JPA.em().createNativeQuery(&quot;WITH RECURSIVE\\n&quot; +\r\n                &quot;  gov AS (\\n&quot; +\r\n                &quot;   SELECT t.id_,\\n&quot; +\r\n                &quot;          t.name_ru_||&#39;&#39; as group_name_ru,\\n&quot; +\r\n                &quot;          t.name_kk_||&#39;&#39; as group_name_kk,\\n&quot; +\r\n                &quot;          0 as level\\n&quot; +\r\n                &quot;   FROM ob_generic_dictionaries t\\n&quot; +\r\n                &quot;   where t.type_ = &#39;GOV_AGENCY&#39;\\n&quot; +\r\n                &quot;    and t.removed_ = false\\n&quot; +\r\n                &quot;     and t.enabled_ = true\\n&quot; +\r\n                &quot;    and t.parent_ is null\\n&quot; +\r\n                &quot;   UNION ALL\\n&quot; +\r\n                &quot;   SELECT t.id_,\\n&quot; +\r\n                &quot;          gov.group_name_ru ||&#39;-|-&#39;||t.name_ru_,\\n&quot; +\r\n                &quot;          gov.group_name_kk ||&#39;-|-&#39;||t.name_kk_,\\n&quot; +\r\n                &quot;          gov.level + 1 as level\\n&quot; +\r\n                &quot;   FROM ob_generic_dictionaries t\\n&quot; +\r\n                &quot;      JOIN gov\\n&quot; +\r\n                &quot;          ON t.parent_ = gov.id_\\n&quot; +\r\n                &quot;    where t.type_ = &#39;GOV_AGENCY&#39;\\n&quot; +\r\n                &quot;     and t.removed_ = false\\n&quot; +\r\n                &quot;     and t.enabled_ = true\\n&quot; +\r\n                &quot;    )\\n&quot; +\r\n                &quot;SELECT gov.id_, gov.level as level_, p.parent_ as has_children,  gov.group_name_ru\\n&quot; +\r\n                &quot;FROM gov\\n&quot; +\r\n                &quot;left join (Select distinct t.parent_ FROM ob_generic_dictionaries t\\n&quot; +\r\n                &quot;            where t.type_ = &#39;GOV_AGENCY&#39;\\n&quot; +\r\n                &quot;             and t.removed_ = false\\n&quot; +\r\n                &quot;             and t.enabled_ = true) p on gov.id_ = p.parent_\\n&quot; +\r\n                &quot;order by &quot; + ((Lang.get().equals(&quot;ru&quot;))?&quot; gov.group_name_ru&quot; : &quot;gov.group_name_kk&quot;))\r\n                .getResultList();\r\n\r\n        List&lt;GenericDictionaryModel&gt; result = new ArrayList&lt;&gt;();\r\n        List&lt;GenericDictionaryModel&gt; result2 = new ArrayList&lt;&gt;();\r\n\r\n        for (Object [] row: resultList) {\r\n            GenericDictionaryModel model = GenericDictionaryModel.findById(((BigInteger) row[0]).longValue());\r\n            model.level = ((Integer) row[1]).intValue();\r\n\r\n            if (row[2] != null) {\r\n                model.hasChildren = true;\r\n            }else{\r\n                model.hasChildren = false;\r\n            }\r\n            result.add(model);\r\n\r\n            if (model.parent != null &amp;&amp; (model.parent.id.equals(Long.valueOf(65)) || model.parent.id.equals(Long.valueOf(66)))) {\r\n                result2.add(model);\r\n            }\r\n        }\r\n\r\n        Logger.info(&quot;loadGovAgencies.time=&quot; + (System.currentTimeMillis() - startTime)); //        startTime = System.currentTimeMillis();\r\n\r\n\r\n        \r\n\r\n        renderArgs.put(&quot;onlyParentGovAgencyList&quot;, result2);\r\n        renderArgs.put(&quot;parentGovAgencyList&quot;, result);\r\n    }\r\n\r\n\r\nAny help will be appreciated, at least maybe some docs on how do I exchange variables between HTML and .java files.","title":"How to change the variable in HTML using jQuery in MVC with Java","body":"<p>I'm new with MVC web-development using Java.</p>\n<p>I can't really understand how I exchange variable values between HTML and .java controllers.</p>\n<p>I have a radio buttons on my HTML, and depending on what user chooses the variable changes it's value in jQuery function. What I need is to pass this value to create a #list that is displayed in select on the same HTML page.</p>\n<p>Here is the jQuery to get the value on radio button changes:</p>\n<pre><code>$(document).ready(function () {\n        $('input[type=radio]').click(function () {\n            if (this.name==&quot;radio-gov&quot;)\n                var $gov=$('input[name=radio-gov]:checked','#myForm').val();\n\n            console.log($gov);\n        });\n    });\n</code></pre>\n<p>Here is the code of the form:</p>\n<pre><code>&lt;div class=&quot; radio-group&quot;&gt;\n                    &lt;div class=&quot;form-check form-check-inline formbuilder-radio&quot;&gt;\n                        &lt;input class=&quot;form-check-input&quot;  name=&quot;radio-gov&quot;  access=&quot;false&quot; id=&quot;radio-group-1650256975381-0&quot; required=&quot;required&quot; aria-required=&quot;true&quot; value=&quot;65&quot; type=&quot;radio&quot;&gt;\n                        &lt;label class=&quot;form-check-label&quot; for=&quot;radio-group-1650256975381-0&quot;&gt;MIO&lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-check form-check-inline formbuilder-radio&quot;&gt;\n                        &lt;input class=&quot;form-check-input&quot;  name=&quot;radio-gov&quot;  access=&quot;false&quot; id=&quot;radio-group-1650256975381-1&quot; required=&quot;required&quot; aria-required=&quot;true&quot; value=&quot;66&quot; type=&quot;radio&quot;&gt;\n                        &lt;label  class=&quot;form-check-label&quot; for=&quot;radio-group-1650256975381-1&quot;&gt;TSO&lt;/label&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div style=&quot;margin-top: 10px;&quot;&gt;\n                    &lt;select class=&quot;form-control&quot; name=&quot;select-1650256981364&quot; id=&quot;select-gov&quot; required&gt;\n                        #{list items:onlyParentGovAgencyList, as:'govAgency'}\n                        #{if govAgency.parent != null}\n                            #{if govAgency.parent.id ==66} &lt;!--insted of 66 I want to use a variable $gov here --&gt;\n                            &lt;option value=&quot;${govAgency.id}&quot;&gt;\n\n                                ${govAgency.name}\n                            &lt;/option&gt;\n                            #{/if}\n                        #{/if}\n                    #{/list}\n\n                    &lt;/select&gt;\n                &lt;/div&gt;\n</code></pre>\n<p>This above code works, when I use the int value 66, but I need to be able to change it depending on radio button value, so I was thinking if I could use $gov variable from above jQuery?</p>\n<p>On RequestController.java controller I have a code that produces the list:</p>\n<pre><code>public static void loadGovAgencies() {\n    long startTime = System.currentTimeMillis();\n\n    List&lt;GenericDictionaryModel&gt; list = GenericDictionaryModel.find(&quot;removed = false and enabled = true and type = :type order by &quot; + ((Lang.get().equals(&quot;ru&quot;))?&quot; nameRu&quot; : &quot;nameKk&quot;))\n            .setParameter(&quot;type&quot;, GenericDictionaryModel.Type.GOV_AGENCY)\n            .fetch();\n\n    List&lt;Object[]&gt; resultList = JPA.em().createNativeQuery(&quot;WITH RECURSIVE\\n&quot; +\n            &quot;  gov AS (\\n&quot; +\n            &quot;   SELECT t.id_,\\n&quot; +\n            &quot;          t.name_ru_||'' as group_name_ru,\\n&quot; +\n            &quot;          t.name_kk_||'' as group_name_kk,\\n&quot; +\n            &quot;          0 as level\\n&quot; +\n            &quot;   FROM ob_generic_dictionaries t\\n&quot; +\n            &quot;   where t.type_ = 'GOV_AGENCY'\\n&quot; +\n            &quot;    and t.removed_ = false\\n&quot; +\n            &quot;     and t.enabled_ = true\\n&quot; +\n            &quot;    and t.parent_ is null\\n&quot; +\n            &quot;   UNION ALL\\n&quot; +\n            &quot;   SELECT t.id_,\\n&quot; +\n            &quot;          gov.group_name_ru ||'-|-'||t.name_ru_,\\n&quot; +\n            &quot;          gov.group_name_kk ||'-|-'||t.name_kk_,\\n&quot; +\n            &quot;          gov.level + 1 as level\\n&quot; +\n            &quot;   FROM ob_generic_dictionaries t\\n&quot; +\n            &quot;      JOIN gov\\n&quot; +\n            &quot;          ON t.parent_ = gov.id_\\n&quot; +\n            &quot;    where t.type_ = 'GOV_AGENCY'\\n&quot; +\n            &quot;     and t.removed_ = false\\n&quot; +\n            &quot;     and t.enabled_ = true\\n&quot; +\n            &quot;    )\\n&quot; +\n            &quot;SELECT gov.id_, gov.level as level_, p.parent_ as has_children,  gov.group_name_ru\\n&quot; +\n            &quot;FROM gov\\n&quot; +\n            &quot;left join (Select distinct t.parent_ FROM ob_generic_dictionaries t\\n&quot; +\n            &quot;            where t.type_ = 'GOV_AGENCY'\\n&quot; +\n            &quot;             and t.removed_ = false\\n&quot; +\n            &quot;             and t.enabled_ = true) p on gov.id_ = p.parent_\\n&quot; +\n            &quot;order by &quot; + ((Lang.get().equals(&quot;ru&quot;))?&quot; gov.group_name_ru&quot; : &quot;gov.group_name_kk&quot;))\n            .getResultList();\n\n    List&lt;GenericDictionaryModel&gt; result = new ArrayList&lt;&gt;();\n    List&lt;GenericDictionaryModel&gt; result2 = new ArrayList&lt;&gt;();\n\n    for (Object [] row: resultList) {\n        GenericDictionaryModel model = GenericDictionaryModel.findById(((BigInteger) row[0]).longValue());\n        model.level = ((Integer) row[1]).intValue();\n\n        if (row[2] != null) {\n            model.hasChildren = true;\n        }else{\n            model.hasChildren = false;\n        }\n        result.add(model);\n\n        if (model.parent != null &amp;&amp; (model.parent.id.equals(Long.valueOf(65)) || model.parent.id.equals(Long.valueOf(66)))) {\n            result2.add(model);\n        }\n    }\n\n    Logger.info(&quot;loadGovAgencies.time=&quot; + (System.currentTimeMillis() - startTime)); //        startTime = System.currentTimeMillis();\n\n\n    \n\n    renderArgs.put(&quot;onlyParentGovAgencyList&quot;, result2);\n    renderArgs.put(&quot;parentGovAgencyList&quot;, result);\n}\n</code></pre>\n<p>Any help will be appreciated, at least maybe some docs on how do I exchange variables between HTML and .java files.</p>\n"},{"tags":["java","android","parallel-processing","countdown"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1402872719,"creation_date":1402872719,"answer_id":24234820,"question_id":24234685,"body_markdown":"Call `secondMethod()` from `onFinish()` of `countdown()`.","title":"Prevent Android function call from running before its predecessor completes?","body":"<p>Call <code>secondMethod()</code> from <code>onFinish()</code> of <code>countdown()</code>.</p>\n"}],"owner":{"account_id":4546810,"reputation":19,"user_id":3693159,"display_name":"user3693159"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24234820,"answer_count":1,"score":0,"last_activity_date":1650603636,"creation_date":1402871625,"question_id":24234685,"body_markdown":"I am running a main function that calls three others in succession like this: \r\n\r\n    public void test() {\r\n       countdown(); \r\n       secondMethod(); \r\n       lastMethod(); \r\n    }\r\n\r\nBut before my call from within countdown() ie intermediateFunction() is compete, secondMethod runs. Countdown contains a timer that calls another function before it completes, like this: \r\n\r\n    public void countdown() {\r\n        new CountDownTIme(3000, 1000) {\r\n             public void onTick(long millisUntilFinished) {\r\n                    text.setText( Long.toString(millisUntilFinished / 1000);\r\n             }\r\n        }\r\n        public void onFinish() {\r\n             text.setText(&quot; &quot;); \r\n             intermediateFunction(); \r\n        } \r\n     }.start(); \r\n    }\r\n\r\n\r\nHow can I get it to run in succession from countdown-&gt;intermediate-&gt;secondMethod-&gt;etc.?\r\n\r\n\r\n","title":"Prevent Android function call from running before its predecessor completes?","body":"<p>I am running a main function that calls three others in succession like this: </p>\n\n<pre><code>public void test() {\n   countdown(); \n   secondMethod(); \n   lastMethod(); \n}\n</code></pre>\n\n<p>But before my call from within countdown() ie intermediateFunction() is compete, secondMethod runs. Countdown contains a timer that calls another function before it completes, like this: </p>\n\n<pre><code>public void countdown() {\n    new CountDownTIme(3000, 1000) {\n         public void onTick(long millisUntilFinished) {\n                text.setText( Long.toString(millisUntilFinished / 1000);\n         }\n    }\n    public void onFinish() {\n         text.setText(\" \"); \n         intermediateFunction(); \n    } \n }.start(); \n}\n</code></pre>\n\n<p>How can I get it to run in succession from countdown->intermediate->secondMethod->etc.?</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1650598920,"post_id":71963193,"comment_id":127161541,"body_markdown":"&quot;but it is not works&quot;, are you getting any error?","body":"&quot;but it is not works&quot;, are you getting any error?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1650599178,"post_id":71963193,"comment_id":127161574,"body_markdown":"Which part doesn&#39;t work? Have you checked what the value of `str` is to make sure that the correct data is selected? How does your code tell the difference between the NOM_ORDER and the SUIP rows and work out which one is the TransactionID? Please provide more details, and add some debugging so that you can see what is being processed.","body":"Which part doesn&#39;t work? Have you checked what the value of <code>str</code> is to make sure that the correct data is selected? How does your code tell the difference between the NOM_ORDER and the SUIP rows and work out which one is the TransactionID? Please provide more details, and add some debugging so that you can see what is being processed."},{"owner":{"account_id":15017872,"reputation":17,"user_id":12029381,"display_name":"omur turdubekov"},"score":0,"creation_date":1650600003,"post_id":71963193,"comment_id":127161716,"body_markdown":"@sorifiend edited)","body":"@sorifiend edited)"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1650600083,"post_id":71963193,"comment_id":127161730,"body_markdown":"Oh, just move this line `RegisterModel registerModel = new RegisterModel();` inside your `for` loop. Otherwise, you just keep overwriting and adding the same object to your list over and over.","body":"Oh, just move this line <code>RegisterModel registerModel = new RegisterModel();</code> inside your <code>for</code> loop. Otherwise, you just keep overwriting and adding the same object to your list over and over."},{"owner":{"account_id":15017872,"reputation":17,"user_id":12029381,"display_name":"omur turdubekov"},"score":0,"creation_date":1650601400,"post_id":71963193,"comment_id":127161920,"body_markdown":"@sorifiend if I will move object to inside `for` it will write only one value to ogject. i need to write all values(OPERDAY, SUIP,STATE ,NOM_OPER)  to object, after that add to `List`","body":"@sorifiend if I will move object to inside <code>for</code> it will write only one value to ogject. i need to write all values(OPERDAY, SUIP,STATE ,NOM_OPER)  to object, after that add to <code>List</code>"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650603311,"creation_date":1650602055,"answer_id":71963511,"question_id":71963193,"body_markdown":"The issue is caused by only creating a single instance of `registerModel` outside of your `for` loop. You just keep editing that object over and over instead of creating new instances of it. The way to solve this is to create a new instance of `registerModel` every time a previous object is completed or before a new object is started.\r\n\r\nThere are multiple ways to achieve this by using nested loops or incrimenting your `for` loop by 5 at a time (rows in your order) and specifically keeping track of where items are at. However, if we assume that the last bit of data in an order is the &quot;NOM_OPER&quot; row then we can do the following quick and easy solution.\r\n\r\nThis is the code that has been changed:\r\n\r\n        if (headers.equals(&quot;NOM_OPER&quot;)){\r\n            registerModel.setTransactionID(values);\r\n\r\n            //Now that the object is complete we can add it to the list (moved here from below)\r\n            registerModelList.add(registerModel);\r\n\r\n            //The lastly we NEED to create a new instance of registerModel for the next order to use\r\n            registerModel = new RegisterModel();\r\n        }\r\n        //Remove the below line after the if statements.\r\n        //You should only add the model to the list once the object is complete. Don&#39;t add it on every row.\r\n        //registerModelList.add(registerModel);\r\n\r\nAnd the complete method looks like this:\r\n\r\n    public List&lt;RegisterModel&gt; parse(MultipartFile file) throws IOException {\r\n        Workbook workbook = new HSSFWorkbook(file.getInputStream());\r\n        Sheet worksheet = workbook.getSheetAt(0);\r\n        List&lt;RegisterModel&gt; registerModelList = new ArrayList&lt;&gt;();\r\n        RegisterModel registerModel = new RegisterModel();\r\n        for (int i = 3; i &lt; worksheet.getPhysicalNumberOfRows(); i++) {\r\n            Row row = worksheet.getRow(i);\r\n            String headers = String.valueOf(row.getCell(0));\r\n            String values = String.valueOf(row.getCell(1));\r\n\r\n            if (headers.equals(&quot;OPERDAY&quot;)){\r\n                registerModel.setDate(values);\r\n            }\r\n            if (headers.equals(&quot;SUIP&quot;)){\r\n                registerModel.setSuip(values);\r\n            }\r\n            if (headers.equals(&quot;STATE&quot;)){\r\n                registerModel.setSuip(values);\r\n            }\r\n            if (headers.equals(&quot;NOM_OPER&quot;)){\r\n                registerModel.setTransactionID(values);\r\n\r\n                //Now that the object is complete we can add it to the list (moved here from below)\r\n                registerModelList.add(registerModel);\r\n\r\n                //The lastly we NEED to create a new instance of registerModel for the next order to use\r\n                registerModel = new RegisterModel();\r\n            }\r\n            //Remove the below line after the if statements.\r\n            //You should only add the model to the list once the object is complete. Don&#39;t add it on every row.\r\n            //registerModelList.add(registerModel);\r\n\r\n        }\r\n        System.out.println(registerModelList);\r\n        return registerModelList;\r\n    }","title":"How parse this excel?","body":"<p>The issue is caused by only creating a single instance of <code>registerModel</code> outside of your <code>for</code> loop. You just keep editing that object over and over instead of creating new instances of it. The way to solve this is to create a new instance of <code>registerModel</code> every time a previous object is completed or before a new object is started.</p>\n<p>There are multiple ways to achieve this by using nested loops or incrimenting your <code>for</code> loop by 5 at a time (rows in your order) and specifically keeping track of where items are at. However, if we assume that the last bit of data in an order is the &quot;NOM_OPER&quot; row then we can do the following quick and easy solution.</p>\n<p>This is the code that has been changed:</p>\n<pre><code>    if (headers.equals(&quot;NOM_OPER&quot;)){\n        registerModel.setTransactionID(values);\n\n        //Now that the object is complete we can add it to the list (moved here from below)\n        registerModelList.add(registerModel);\n\n        //The lastly we NEED to create a new instance of registerModel for the next order to use\n        registerModel = new RegisterModel();\n    }\n    //Remove the below line after the if statements.\n    //You should only add the model to the list once the object is complete. Don't add it on every row.\n    //registerModelList.add(registerModel);\n</code></pre>\n<p>And the complete method looks like this:</p>\n<pre><code>public List&lt;RegisterModel&gt; parse(MultipartFile file) throws IOException {\n    Workbook workbook = new HSSFWorkbook(file.getInputStream());\n    Sheet worksheet = workbook.getSheetAt(0);\n    List&lt;RegisterModel&gt; registerModelList = new ArrayList&lt;&gt;();\n    RegisterModel registerModel = new RegisterModel();\n    for (int i = 3; i &lt; worksheet.getPhysicalNumberOfRows(); i++) {\n        Row row = worksheet.getRow(i);\n        String headers = String.valueOf(row.getCell(0));\n        String values = String.valueOf(row.getCell(1));\n\n        if (headers.equals(&quot;OPERDAY&quot;)){\n            registerModel.setDate(values);\n        }\n        if (headers.equals(&quot;SUIP&quot;)){\n            registerModel.setSuip(values);\n        }\n        if (headers.equals(&quot;STATE&quot;)){\n            registerModel.setSuip(values);\n        }\n        if (headers.equals(&quot;NOM_OPER&quot;)){\n            registerModel.setTransactionID(values);\n\n            //Now that the object is complete we can add it to the list (moved here from below)\n            registerModelList.add(registerModel);\n\n            //The lastly we NEED to create a new instance of registerModel for the next order to use\n            registerModel = new RegisterModel();\n        }\n        //Remove the below line after the if statements.\n        //You should only add the model to the list once the object is complete. Don't add it on every row.\n        //registerModelList.add(registerModel);\n\n    }\n    System.out.println(registerModelList);\n    return registerModelList;\n}\n</code></pre>\n"}],"owner":{"account_id":15017872,"reputation":17,"user_id":12029381,"display_name":"omur turdubekov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650630909,"accepted_answer_id":71963511,"answer_count":1,"score":0,"last_activity_date":1650603311,"creation_date":1650598458,"question_id":71963193,"body_markdown":"I have an excel file, i have to parse to list of objects:\r\nexcel:\r\n[excel][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Stvhc.png\r\n\r\nmy pojo:\r\n\r\nmy service:\r\n\r\n```\r\npublic List&lt;RegisterModel&gt; parse(MultipartFile file) throws IOException {\r\n        Workbook workbook = new HSSFWorkbook(file.getInputStream());\r\n        Sheet worksheet = workbook.getSheetAt(0);\r\n        List&lt;RegisterModel&gt; registerModelList = new ArrayList&lt;&gt;();\r\n        RegisterModel registerModel = new RegisterModel();\r\n        for (int i = 3; i &lt; worksheet.getPhysicalNumberOfRows(); i++) {\r\n\r\n            Row row = worksheet.getRow(i);\r\n            String headers = String.valueOf(row.getCell(0));\r\n            String values = String.valueOf(row.getCell(1));\r\n\r\n            if (headers.equals(&quot;OPERDAY&quot;)){\r\n                registerModel.setDate(values);\r\n            }\r\n            if (headers.equals(&quot;SUIP&quot;)){\r\n                registerModel.setSuip(values);\r\n            }\r\n            if (headers.equals(&quot;STATE&quot;)){\r\n                registerModel.setSuip(values);\r\n            }\r\n            if (headers.equals(&quot;NOM_OPER&quot;)){\r\n                registerModel.setTransactionID(values);\r\n            }\r\n            registerModelList.add(registerModel);\r\n\r\n        }\r\n        System.out.println(registerModelList);\r\n        return registerModelList;\r\n    }\r\n```\r\nbut it is not works(\r\n\r\nresult: values are duplicate \r\n    \r\n[RegisterModel(date=2022-03-01T23:48:47, suip=Проведён, state=null, transactionID=1888314188), \r\n\r\nRegisterModel(date=2022-03-01T23:48:47, suip=Проведён, state=null, transactionID=1888314188), \r\n\r\nRegisterModel(date=2022-03-01T23:48:47, suip=Проведён, state=null, transactionID=1888314188)]\r\n","title":"How parse this excel?","body":"<p>I have an excel file, i have to parse to list of objects:\nexcel:\n<a href=\"https://i.stack.imgur.com/Stvhc.png\" rel=\"nofollow noreferrer\">excel</a></p>\n<p>my pojo:</p>\n<p>my service:</p>\n<pre><code>public List&lt;RegisterModel&gt; parse(MultipartFile file) throws IOException {\n        Workbook workbook = new HSSFWorkbook(file.getInputStream());\n        Sheet worksheet = workbook.getSheetAt(0);\n        List&lt;RegisterModel&gt; registerModelList = new ArrayList&lt;&gt;();\n        RegisterModel registerModel = new RegisterModel();\n        for (int i = 3; i &lt; worksheet.getPhysicalNumberOfRows(); i++) {\n\n            Row row = worksheet.getRow(i);\n            String headers = String.valueOf(row.getCell(0));\n            String values = String.valueOf(row.getCell(1));\n\n            if (headers.equals(&quot;OPERDAY&quot;)){\n                registerModel.setDate(values);\n            }\n            if (headers.equals(&quot;SUIP&quot;)){\n                registerModel.setSuip(values);\n            }\n            if (headers.equals(&quot;STATE&quot;)){\n                registerModel.setSuip(values);\n            }\n            if (headers.equals(&quot;NOM_OPER&quot;)){\n                registerModel.setTransactionID(values);\n            }\n            registerModelList.add(registerModel);\n\n        }\n        System.out.println(registerModelList);\n        return registerModelList;\n    }\n</code></pre>\n<p>but it is not works(</p>\n<p>result: values are duplicate</p>\n<p>[RegisterModel(date=2022-03-01T23:48:47, suip=Проведён, state=null, transactionID=1888314188),</p>\n<p>RegisterModel(date=2022-03-01T23:48:47, suip=Проведён, state=null, transactionID=1888314188),</p>\n<p>RegisterModel(date=2022-03-01T23:48:47, suip=Проведён, state=null, transactionID=1888314188)]</p>\n"},{"tags":["java","anypoint-studio","mule-flow"],"comments":[{"owner":{"account_id":3557393,"reputation":371,"user_id":2970790,"display_name":"MattCorr"},"score":0,"creation_date":1462366421,"post_id":37028292,"comment_id":61606679,"body_markdown":"It says the payload is a Map of keys and values. You have a HashMap. While they are similar, they are not exactly the same. Before running your code to send the message, convert your hashmap to a map with `Map&lt;String, Object&gt; map2 = myHashMap;`","body":"It says the payload is a Map of keys and values. You have a HashMap. While they are similar, they are not exactly the same. Before running your code to send the message, convert your hashmap to a map with <code>Map&lt;String, Object&gt; map2 = myHashMap;</code>"},{"owner":{"account_id":1299412,"reputation":23116,"user_id":1249641,"accept_rate":74,"display_name":"Marco"},"score":0,"creation_date":1462366536,"post_id":37028292,"comment_id":61606778,"body_markdown":"@MattCorr I should have stated, that this my first day with this product and I have no idea how to do this in xml.","body":"@MattCorr I should have stated, that this my first day with this product and I have no idea how to do this in xml."}],"answers":[{"tags":[],"owner":{"account_id":7326661,"reputation":223,"user_id":5580870,"accept_rate":50,"display_name":"scorpion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462445298,"creation_date":1462445298,"answer_id":37048594,"question_id":37028292,"body_markdown":"You dont need to do a set payload for each of the parameters e.i(username/pwd/api token) in set payload you will only have the content you want to post *which is not needed in your case*. **You need to set (username/pwd/api token) as headers in your http request.\r\nAdded to the above three you may also need to set the Content-type as application/json this depends based on your api.**\r\n","title":"Error sending HTTP request. Message payload is of type: HashMap","body":"<p>You dont need to do a set payload for each of the parameters e.i(username/pwd/api token) in set payload you will only have the content you want to post <em>which is not needed in your case</em>. <strong>You need to set (username/pwd/api token) as headers in your http request.\nAdded to the above three you may also need to set the Content-type as application/json this depends based on your api.</strong></p>\n"}],"owner":{"account_id":1299412,"reputation":23116,"user_id":1249641,"accept_rate":74,"display_name":"Marco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650603259,"creation_date":1462366010,"question_id":37028292,"body_markdown":"I am failing at generating a POST message from within Anypoint Studio:\r\n\r\nWhat I am trying to accomplish is to send a POST to our Kykloud api endpoint with 3 key-value-pairs as the payload as x-www-form-urlencoded content.\r\n\r\nThis is the current visual setup:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(Sidenote: I know its bad practice to store secrets and login data in plain view. I&#39;ll try to figure out how to do this properly later on)\r\n\r\nThe appropriate XML looks like this:\r\n\r\n    &lt;flow name=&quot;LoginFlow&quot;&gt;\r\n        &lt;set-payload value=&quot;#[[&#39;ApiToken&#39;: &#39;xxxXXXxxxXXXxxxXXX&#39;]]&quot; doc:name=&quot;Set ApiToken&quot;/&gt;\r\n        &lt;set-payload value=&quot;#[[&#39;Email&#39;:&#39;serv[at]someaddress.com&#39;]]&quot; doc:name=&quot;Set Email&quot;/&gt;\r\n        &lt;set-payload value=&quot;#[[&#39;Password&#39;:&#39;VeryLongPenis&#39;]]&quot; doc:name=&quot;Set Password&quot;/&gt;\r\n        &lt;http:request config-ref=&quot;KyklouConnectorns&quot; path=&quot;/api/v2/sessions?format=json&quot; method=&quot;POST&quot; doc:name=&quot;Login to Kykloud&quot; port=&quot;80&quot; /&gt;\r\n        &lt;logger level=&quot;INFO&quot; message=&quot;SessionId is #[message.payload.&#39;SessionId&#39;]&quot; doc:name=&quot;Logger&quot;&gt;&lt;/logger&gt;\r\n    &lt;/flow&gt;\r\n\r\nIn theory the response should be some JSON with a SessionId object in it.\r\n\r\nWhat I am actually receiving in POSTMAN is:\r\n\r\n    Error sending HTTP request. Message payload is of type: HashMap\r\n\r\nObviously I am doing something wrong in defining my payload, but they documentation on this isn&#39;t clear on how to do it the correct way:\r\n\r\n&gt; HTTP Request Body The Mule Message payload is converted into a byte\r\n&gt; array and sent as the HTTP Request’s body. This behavior is carried\r\n&gt; out always, except in the following scenarios:\r\n&gt; \r\n&gt; The Mule Message’s Payload is a Map of keys and values\r\n&gt; \r\n&gt; The Message has outbound attachments\r\n&gt; \r\n&gt; Generate the Request Body with\r\n&gt; Content-Type:application/x-form-urlencoded Whenever the message\r\n&gt; payload is a Map, the connector automatically generates an HTTP\r\n&gt; request with the header\r\n&gt; Content-Type:`application/x-www-form-urlencoded`. The keys and values\r\n&gt; of the map in the payload are converted into form parameter keys and\r\n&gt; values in the body of the HTTP request.\r\n\r\n  [1]: http://i.stack.imgur.com/AcVaq.jpg","title":"Error sending HTTP request. Message payload is of type: HashMap","body":"<p>I am failing at generating a POST message from within Anypoint Studio:</p>\n\n<p>What I am trying to accomplish is to send a POST to our Kykloud api endpoint with 3 key-value-pairs as the payload as x-www-form-urlencoded content.</p>\n\n<p>This is the current visual setup:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AcVaq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AcVaq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>(Sidenote: I know its bad practice to store secrets and login data in plain view. I'll try to figure out how to do this properly later on)</p>\n\n<p>The appropriate XML looks like this:</p>\n\n<pre><code>&lt;flow name=\"LoginFlow\"&gt;\n    &lt;set-payload value=\"#[['ApiToken': 'xxxXXXxxxXXXxxxXXX']]\" doc:name=\"Set ApiToken\"/&gt;\n    &lt;set-payload value=\"#[['Email':'serv[at]someaddress.com']]\" doc:name=\"Set Email\"/&gt;\n    &lt;set-payload value=\"#[['Password':'VeryLongPenis']]\" doc:name=\"Set Password\"/&gt;\n    &lt;http:request config-ref=\"KyklouConnectorns\" path=\"/api/v2/sessions?format=json\" method=\"POST\" doc:name=\"Login to Kykloud\" port=\"80\" /&gt;\n    &lt;logger level=\"INFO\" message=\"SessionId is #[message.payload.'SessionId']\" doc:name=\"Logger\"&gt;&lt;/logger&gt;\n&lt;/flow&gt;\n</code></pre>\n\n<p>In theory the response should be some JSON with a SessionId object in it.</p>\n\n<p>What I am actually receiving in POSTMAN is:</p>\n\n<pre><code>Error sending HTTP request. Message payload is of type: HashMap\n</code></pre>\n\n<p>Obviously I am doing something wrong in defining my payload, but they documentation on this isn't clear on how to do it the correct way:</p>\n\n<blockquote>\n  <p>HTTP Request Body The Mule Message payload is converted into a byte\n  array and sent as the HTTP Request’s body. This behavior is carried\n  out always, except in the following scenarios:</p>\n  \n  <p>The Mule Message’s Payload is a Map of keys and values</p>\n  \n  <p>The Message has outbound attachments</p>\n  \n  <p>Generate the Request Body with\n  Content-Type:application/x-form-urlencoded Whenever the message\n  payload is a Map, the connector automatically generates an HTTP\n  request with the header\n  Content-Type:<code>application/x-www-form-urlencoded</code>. The keys and values\n  of the map in the payload are converted into form parameter keys and\n  values in the body of the HTTP request.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1574976319,"post_id":59085457,"comment_id":104425959,"body_markdown":"you should never return HttpStatus.OK if there is an error. That is tbh poor design","body":"you should never return HttpStatus.OK if there is an error. That is tbh poor design"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1574976523,"post_id":59085457,"comment_id":104426012,"body_markdown":"and can you please remove `@ContextConfiguration(classes = {MyController.class, MyServiceImpl.class, ExceptionHandlerController.class })`","body":"and can you please remove <code>@ContextConfiguration(classes = {MyController.class, MyServiceImpl.class, ExceptionHandlerController.class })</code>"},{"owner":{"account_id":3440637,"reputation":5641,"user_id":2882688,"accept_rate":29,"display_name":"firegloves"},"score":0,"creation_date":1574976541,"post_id":59085457,"comment_id":104426016,"body_markdown":"the meaning should be: http response 200 because the error is managed so execution has been processed successfully. The statusCode inside indicates that en error has occurred","body":"the meaning should be: http response 200 because the error is managed so execution has been processed successfully. The statusCode inside indicates that en error has occurred"},{"owner":{"account_id":3440637,"reputation":5641,"user_id":2882688,"accept_rate":29,"display_name":"firegloves"},"score":0,"creation_date":1574976819,"post_id":59085457,"comment_id":104426080,"body_markdown":"if i remove @ContextConfiguration spring doesn&#39;t start","body":"if i remove @ContextConfiguration spring doesn&#39;t start"}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1574977041,"creation_date":1574977041,"answer_id":59096415,"question_id":59085457,"body_markdown":"if you read the [documentation][1] for `@WebFluxTest` it states:\r\n\r\n&gt; Annotation that can be used for a Spring WebFlux test that focuses\r\n&gt; **only** on Spring WebFlux components. \r\n&gt; \r\n&gt; Using this annotation will disable full auto-configuration and instead\r\n&gt; apply only configuration\r\n&gt; relevant to WebFlux tests (i.e. @Controller, @ControllerAdvice,\r\n&gt; @JsonComponent, Converter/GenericConverter, and WebFluxConfigurer\r\n&gt; beans but not @Component, @Service or @Repository beans).\r\n&gt; \r\n&gt; Typically @WebFluxTest is used in combination with @MockBean or\r\n&gt; @Import to create any collaborators required by your @Controller\r\n&gt; beans.\r\n&gt; \r\n&gt; If you are looking to load your full application configuration and use\r\n&gt; WebTestClient, you should consider @SpringBootTest combined with\r\n&gt; @AutoConfigureWebTestClient rather than this annotation.\r\n\r\nThis means that\r\n\r\n    @ContextConfiguration(classes = {MyController.class, MyServiceImpl.class, ExceptionHandlerController.class })\r\n\r\nis **not** what u use here. The `@WebFluxTest` annotation does not load `@Component`, `@Service` or `@Repository`\r\n\r\nIt is mainly used to test RestControllers only, and their advices.\r\n\r\nThe options you have seem to be:\r\n\r\n- loading MyController.class and then mock any dependency this class has (MyServiceImpl.class)\r\n- load a full Context using `@SpringBootTest` instead combined with\r\n`@AutoConfigureWebTestClient`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/reactive/WebFluxTest.html","title":"Global exception handling in spring webflux during tests","body":"<p>if you read the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/reactive/WebFluxTest.html\" rel=\"nofollow noreferrer\">documentation</a> for <code>@WebFluxTest</code> it states:</p>\n\n<blockquote>\n  <p>Annotation that can be used for a Spring WebFlux test that focuses\n  <strong>only</strong> on Spring WebFlux components. </p>\n  \n  <p>Using this annotation will disable full auto-configuration and instead\n  apply only configuration\n  relevant to WebFlux tests (i.e. @Controller, @ControllerAdvice,\n  @JsonComponent, Converter/GenericConverter, and WebFluxConfigurer\n  beans but not @Component, @Service or @Repository beans).</p>\n  \n  <p>Typically @WebFluxTest is used in combination with @MockBean or\n  @Import to create any collaborators required by your @Controller\n  beans.</p>\n  \n  <p>If you are looking to load your full application configuration and use\n  WebTestClient, you should consider @SpringBootTest combined with\n  @AutoConfigureWebTestClient rather than this annotation.</p>\n</blockquote>\n\n<p>This means that</p>\n\n<pre><code>@ContextConfiguration(classes = {MyController.class, MyServiceImpl.class, ExceptionHandlerController.class })\n</code></pre>\n\n<p>is <strong>not</strong> what u use here. The <code>@WebFluxTest</code> annotation does not load <code>@Component</code>, <code>@Service</code> or <code>@Repository</code></p>\n\n<p>It is mainly used to test RestControllers only, and their advices.</p>\n\n<p>The options you have seem to be:</p>\n\n<ul>\n<li>loading MyController.class and then mock any dependency this class has (MyServiceImpl.class)</li>\n<li>load a full Context using <code>@SpringBootTest</code> instead combined with\n<code>@AutoConfigureWebTestClient</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1743298,"reputation":347,"user_id":1594088,"display_name":"&#214;zg&#252;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588083054,"creation_date":1588083054,"answer_id":61482272,"question_id":59085457,"body_markdown":"Just a not on top of the already accepted answer which is totally correct.\r\nThe usage of @ContextConfiguration is necessary only for testing Functional endpoints. I Think this is probably what confuses people.\r\n\r\n@WebFluxTest is used during functional endpoint tests for starting the web context and server.\r\nBut since we dont use controllers, we have to use @ContextConfiguration to bring the handler and routerFunction beans in our spring context.\r\n\r\nIn this case since we use annotated controller a simple @WebFluxTest(Controller.class) is more than enough for unit testing.","title":"Global exception handling in spring webflux during tests","body":"<p>Just a not on top of the already accepted answer which is totally correct.\nThe usage of @ContextConfiguration is necessary only for testing Functional endpoints. I Think this is probably what confuses people.</p>\n\n<p>@WebFluxTest is used during functional endpoint tests for starting the web context and server.\nBut since we dont use controllers, we have to use @ContextConfiguration to bring the handler and routerFunction beans in our spring context.</p>\n\n<p>In this case since we use annotated controller a simple @WebFluxTest(Controller.class) is more than enough for unit testing.</p>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650602891,"creation_date":1650602891,"answer_id":71963595,"question_id":59085457,"body_markdown":"Adding controllerAdvice in the WebTestClient solved the issue.\r\n\r\n    WebTestClient.bindToController(controller)\r\n            .controllerAdvice(errorControllerAdvice)\r\n            .build()","title":"Global exception handling in spring webflux during tests","body":"<p>Adding controllerAdvice in the WebTestClient solved the issue.</p>\n<pre><code>WebTestClient.bindToController(controller)\n        .controllerAdvice(errorControllerAdvice)\n        .build()\n</code></pre>\n"}],"owner":{"account_id":3440637,"reputation":5641,"user_id":2882688,"accept_rate":29,"display_name":"firegloves"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6057,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59096415,"answer_count":3,"score":3,"last_activity_date":1650602891,"creation_date":1574933172,"question_id":59085457,"body_markdown":"I&#39;m developing a service with spring webflux. I implemented exception handling using `@ControllerAdvice`. It works pretty well, but when I run integration tests it seems that `@ControllerAdvice` annotated component is not loaded, resulting in this response:\r\n\r\n    {\r\n       &quot;timestamp&quot;:&quot;2019-11-28T08:56:47.285+0000&quot;,\r\n       &quot;path&quot;:&quot;/fooController/bar&quot;,\r\n       &quot;status&quot;:500,\r\n       &quot;error&quot;:&quot;Internal Server Error&quot;,\r\n       &quot;message&quot;:&quot;java.lang.IllegalStateException: Could not resolve parameter [1] in protected org.springframework.http.ResponseEntity&lt;it.test.model.Response&gt; it.test.exception.ExceptionHandlerController.handleServiceException(java.lang.Exception,org.springframework.web.context.request.WebRequest): No suitable resolver\r\n    }\r\n\r\nThis is my controller advice:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerController extends ResponseEntityExceptionHandler {\r\n    \r\n    \tprivate final Logger logger = LoggerFactory.getLogger(ExceptionHandlerController.class);\r\n    \r\n    \t@ExceptionHandler\r\n    \tprotected ResponseEntity&lt;Response&gt; handleServiceException(Exception ex, WebRequest request) {\r\n    \r\n    \t\tthis.logger.error(&quot;Error occurred: \\&quot;{}\\&quot;&quot;, ex.getMessage());\r\n    \r\n    \t\tResponse&lt;Foo&gt; response = new Response&lt;&gt;(new Foo(),\r\n    \t\t\t\t&quot;generic error&quot;,\r\n    \t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR);\r\n    \r\n    \t\treturn new ResponseEntity&lt;&gt;(response, null, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nAnd this is my integration test class\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebFluxTest(MyController.class)\r\n    @ContextConfiguration(classes = {MyController.class, MyServiceImpl.class, ExceptionHandlerController.class })\r\n    public class MyControllerIT {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n\r\n        @Test\r\n        public void testShouldFail() throws IOException {\r\n    \r\n            return this.webTestClient.get()\r\n                .uri(uri)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody()\r\n                .jsonPath(&quot;$.statusCode&quot;).isEqualTo(500);\r\n        }\r\n    }","title":"Global exception handling in spring webflux during tests","body":"<p>I'm developing a service with spring webflux. I implemented exception handling using <code>@ControllerAdvice</code>. It works pretty well, but when I run integration tests it seems that <code>@ControllerAdvice</code> annotated component is not loaded, resulting in this response:</p>\n\n<pre><code>{\n   \"timestamp\":\"2019-11-28T08:56:47.285+0000\",\n   \"path\":\"/fooController/bar\",\n   \"status\":500,\n   \"error\":\"Internal Server Error\",\n   \"message\":\"java.lang.IllegalStateException: Could not resolve parameter [1] in protected org.springframework.http.ResponseEntity&lt;it.test.model.Response&gt; it.test.exception.ExceptionHandlerController.handleServiceException(java.lang.Exception,org.springframework.web.context.request.WebRequest): No suitable resolver\n}\n</code></pre>\n\n<p>This is my controller advice:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerController extends ResponseEntityExceptionHandler {\n\n    private final Logger logger = LoggerFactory.getLogger(ExceptionHandlerController.class);\n\n    @ExceptionHandler\n    protected ResponseEntity&lt;Response&gt; handleServiceException(Exception ex, WebRequest request) {\n\n        this.logger.error(\"Error occurred: \\\"{}\\\"\", ex.getMessage());\n\n        Response&lt;Foo&gt; response = new Response&lt;&gt;(new Foo(),\n                \"generic error\",\n                HttpStatus.INTERNAL_SERVER_ERROR);\n\n        return new ResponseEntity&lt;&gt;(response, null, HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>And this is my integration test class</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebFluxTest(MyController.class)\n@ContextConfiguration(classes = {MyController.class, MyServiceImpl.class, ExceptionHandlerController.class })\npublic class MyControllerIT {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @Test\n    public void testShouldFail() throws IOException {\n\n        return this.webTestClient.get()\n            .uri(uri)\n            .accept(MediaType.APPLICATION_JSON)\n            .exchange()\n            .expectStatus().isOk()\n            .expectBody()\n            .jsonPath(\"$.statusCode\").isEqualTo(500);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","mariadb","wildfly"],"answers":[{"tags":[],"owner":{"account_id":2517962,"reputation":12768,"user_id":10195153,"display_name":"danblack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650602803,"creation_date":1650532783,"answer_id":71951930,"question_id":71951884,"body_markdown":"[KILL SOFT USER test_user](https://mariadb.com/kb/en/kill/) will kill all connections/queries for the `test_user`.","title":"Mariadb Invalidating the existing connections after password change","body":"<p><a href=\"https://mariadb.com/kb/en/kill/\" rel=\"nofollow noreferrer\">KILL SOFT USER test_user</a> will kill all connections/queries for the <code>test_user</code>.</p>\n"}],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650602803,"creation_date":1650532531,"question_id":71951884,"body_markdown":"I have an application running which connects to Mariadb using some user test_user and password.\r\nNow when the application is already up - it will have connections created already. In the meantime password of that test_user is changed. But still the application runs correctly and able to access DB. But if i restart the application it is not able to connect to the Mariadb with old password.\r\nSo my doubt is when - For already existing connections how can i force from mariadb side to reestablish the connection","title":"Mariadb Invalidating the existing connections after password change","body":"<p>I have an application running which connects to Mariadb using some user test_user and password.\nNow when the application is already up - it will have connections created already. In the meantime password of that test_user is changed. But still the application runs correctly and able to access DB. But if i restart the application it is not able to connect to the Mariadb with old password.\nSo my doubt is when - For already existing connections how can i force from mariadb side to reestablish the connection</p>\n"},{"tags":["java","spring","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":4783152,"reputation":96,"user_id":3864379,"display_name":"Leandro Rosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550131818,"creation_date":1550131502,"answer_id":54685676,"question_id":54683929,"body_markdown":"That&#39;s a great question, i came across at this some time ago.\r\n\r\n 1. No, adding `@Transactional` is not going to work because when the `@Async` method starts it is running on a new thread\r\n 2. I think there&#39;s no way to do a rollback based on a `@Async` method call.\r\n 3. You can get rollback to work without async calls, I don&#39;t know why you need to call the driverless method as `@Async`, but if you remove it will work.\r\n\r\n ","title":"Transaction rollback when @Async method fails","body":"<p>That's a great question, i came across at this some time ago.</p>\n\n<ol>\n<li>No, adding <code>@Transactional</code> is not going to work because when the <code>@Async</code> method starts it is running on a new thread</li>\n<li>I think there's no way to do a rollback based on a <code>@Async</code> method call.</li>\n<li>You can get rollback to work without async calls, I don't know why you need to call the driverless method as <code>@Async</code>, but if you remove it will work.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550133534,"creation_date":1550133534,"answer_id":54686186,"question_id":54683929,"body_markdown":"I will not suggest to merge `@Async` and `@Transactional` so i can run the service in either way. I just create async wrapper around the service and use this one instead if needed.\r\n\r\n *@Transactional with @Async*\r\n\r\nwhen a `@Transactional` Spring `@Component` calls a method annotated with `@Async` this does not happen. The call to the asynchronous method is being scheduled and executed at a later time by a task executor and is thus handled as a &#39;fresh&#39; call, i.e. without a transactional context. If the `@Async` method (or the `@Component` in which it is declared) is not `@Transactional` by itself Spring will not manage any needed transactions.\r\n\r\n\r\nIf the `@Async` annotation is being used extra care should be taken with respect to transactions.In this case the transaction gets propagated through the call hierarchy from one Spring `@Component` to the other.\r\n\r\nIn order to make Spring manage the transaction of the `@Async` method either the `@Component` or the method itself should declare the `@Transactional` annotation, this way `Spring` will manage the transaction even if a method is being executed asynchronous.","title":"Transaction rollback when @Async method fails","body":"<p>I will not suggest to merge <code>@Async</code> and <code>@Transactional</code> so i can run the service in either way. I just create async wrapper around the service and use this one instead if needed.</p>\n\n<p><em>@Transactional with @Async</em></p>\n\n<p>when a <code>@Transactional</code> Spring <code>@Component</code> calls a method annotated with <code>@Async</code> this does not happen. The call to the asynchronous method is being scheduled and executed at a later time by a task executor and is thus handled as a 'fresh' call, i.e. without a transactional context. If the <code>@Async</code> method (or the <code>@Component</code> in which it is declared) is not <code>@Transactional</code> by itself Spring will not manage any needed transactions.</p>\n\n<p>If the <code>@Async</code> annotation is being used extra care should be taken with respect to transactions.In this case the transaction gets propagated through the call hierarchy from one Spring <code>@Component</code> to the other.</p>\n\n<p>In order to make Spring manage the transaction of the <code>@Async</code> method either the <code>@Component</code> or the method itself should declare the <code>@Transactional</code> annotation, this way <code>Spring</code> will manage the transaction even if a method is being executed asynchronous.</p>\n"},{"tags":[],"owner":{"account_id":4060289,"reputation":891,"user_id":3337028,"accept_rate":67,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650601621,"creation_date":1650601621,"answer_id":71963473,"question_id":54683929,"body_markdown":"Try below approach,\r\n\r\n1) Create a separate class. Declare that as a bean under spring configuration.\r\n2) Add all async methods in this class.\r\n3) Autowire this class under the service class.\r\n4) Inside a Transactional method from service class, call async method from the class created in 1st step.","title":"Transaction rollback when @Async method fails","body":"<p>Try below approach,</p>\n<ol>\n<li>Create a separate class. Declare that as a bean under spring configuration.</li>\n<li>Add all async methods in this class.</li>\n<li>Autowire this class under the service class.</li>\n<li>Inside a Transactional method from service class, call async method from the class created in 1st step.</li>\n</ol>\n"}],"owner":{"account_id":4105555,"reputation":939,"user_id":3369719,"accept_rate":56,"display_name":"LifeStartsAtHelloWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1650601621,"creation_date":1550123188,"question_id":54683929,"body_markdown":"I am trying to read about Transaction but I cannot understand how would I rollback a async method call, is it even possible to do so.\r\n\r\nI am facing an issue where User can select either select manual or driverless car for example. So if he selects driverless, then manual config will be disabled and other way round. Consider, he is moving from driverless to manual, driverless config is switched off and I make call to another service to switch off the manual configuration (which takes place in an Async call). I have added `@Async` for a reason as it is time consuming call.\r\n\r\nexample\r\n\r\n    // Caller\r\n    @Override\r\n    public void enableDriverlessDriving(DriverlessDriving driverlessConfig) {\r\n        \r\n         validator.validate(driverlessConfig);\r\n\r\n         driverlessDao.update(driverlessConfig);\r\n         \r\n         if(drivelessConfig.isEnabled()) {\r\n        \r\n               manualService.onDrivelessEnabled(driverlessConfig.getUserId());\r\n         }\r\n    }\r\n\r\n    // Callee\r\n    @Override\r\n    @Aysnc\r\n    public void onDrivelessEnabled(int userId) {\r\n      \r\n     .....\r\n       // retrofit rest call. Timeout for 30 secs\r\n       ManualConfig config = client.getManualConfiguration(userid,30);\r\n\r\n       config.isEnabled(false);\r\n\r\n       try {\r\n             // retrofit rest call. timeout for 30 secs\r\n             client.updateManualConfig(config, userId,30);\r\n       }catch(CheckedExceptions e) { // throwing checked exceptions here.\r\n          LOGGER.error(...)\r\n          return;\r\n       }\r\n\r\n    }\r\n\r\nIf there is an invoke error for rest call to disable manual config, the driverless config is switched on but manual config is not switched off, both are turned on. \r\n\r\nQuestion:\r\n\r\n1. Adding `@Transactional` to the caller and callee method work? - May be, but then it will affect the performance, there would be no use of `@Async` in this case.\r\n\r\n2. Should caller method have `@Transactional`, but the `@Async` method should have `@Transactional(REQUIRES_NEW)`? Would having rollback on the caller method `@Transaction` rollback the transaction for checked exception in callee method?\r\n\r\nI am expecting a solution where I achieve the integrity of data without compromising on performance (I want `@Async` to work in a way it works now)","title":"Transaction rollback when @Async method fails","body":"<p>I am trying to read about Transaction but I cannot understand how would I rollback a async method call, is it even possible to do so.</p>\n\n<p>I am facing an issue where User can select either select manual or driverless car for example. So if he selects driverless, then manual config will be disabled and other way round. Consider, he is moving from driverless to manual, driverless config is switched off and I make call to another service to switch off the manual configuration (which takes place in an Async call). I have added <code>@Async</code> for a reason as it is time consuming call.</p>\n\n<p>example</p>\n\n<pre><code>// Caller\n@Override\npublic void enableDriverlessDriving(DriverlessDriving driverlessConfig) {\n\n     validator.validate(driverlessConfig);\n\n     driverlessDao.update(driverlessConfig);\n\n     if(drivelessConfig.isEnabled()) {\n\n           manualService.onDrivelessEnabled(driverlessConfig.getUserId());\n     }\n}\n\n// Callee\n@Override\n@Aysnc\npublic void onDrivelessEnabled(int userId) {\n\n .....\n   // retrofit rest call. Timeout for 30 secs\n   ManualConfig config = client.getManualConfiguration(userid,30);\n\n   config.isEnabled(false);\n\n   try {\n         // retrofit rest call. timeout for 30 secs\n         client.updateManualConfig(config, userId,30);\n   }catch(CheckedExceptions e) { // throwing checked exceptions here.\n      LOGGER.error(...)\n      return;\n   }\n\n}\n</code></pre>\n\n<p>If there is an invoke error for rest call to disable manual config, the driverless config is switched on but manual config is not switched off, both are turned on. </p>\n\n<p>Question:</p>\n\n<ol>\n<li><p>Adding <code>@Transactional</code> to the caller and callee method work? - May be, but then it will affect the performance, there would be no use of <code>@Async</code> in this case.</p></li>\n<li><p>Should caller method have <code>@Transactional</code>, but the <code>@Async</code> method should have <code>@Transactional(REQUIRES_NEW)</code>? Would having rollback on the caller method <code>@Transaction</code> rollback the transaction for checked exception in callee method?</p></li>\n</ol>\n\n<p>I am expecting a solution where I achieve the integrity of data without compromising on performance (I want <code>@Async</code> to work in a way it works now)</p>\n"},{"tags":["java","lucene"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1649942357,"post_id":71871677,"comment_id":127005557,"body_markdown":"Yes, you can create Lucene indexes using one application and then query those indexes using a different application - provided the versions of Lucene used by each application are compatible (or, more specifically, provided the codecs used to create &amp; read the data are compatible).","body":"Yes, you can create Lucene indexes using one application and then query those indexes using a different application - provided the versions of Lucene used by each application are compatible (or, more specifically, provided the codecs used to create &amp; read the data are compatible)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1649942366,"post_id":71871677,"comment_id":127005560,"body_markdown":"The code in the question assumes there is an indexed field called `requiredtext`. Is that actually the case? You can inspect the indexed data using Luke (see notes at the end of [this page](https://lucene.apache.org/core/8_11_0/index.html)), if you need to check.","body":"The code in the question assumes there is an indexed field called <code>requiredtext</code>. Is that actually the case? You can inspect the indexed data using Luke (see notes at the end of <a href=\"https://lucene.apache.org/core/8_11_0/index.html\" rel=\"nofollow noreferrer\">this page</a>), if you need to check."},{"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"score":0,"creation_date":1649996122,"post_id":71871677,"comment_id":127018956,"body_markdown":"@andrewJames ... Really thanks for your quick help. Let me check with Luke.","body":"@andrewJames ... Really thanks for your quick help. Let me check with Luke."}],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650600754,"creation_date":1650600754,"answer_id":71963407,"question_id":71871677,"body_markdown":"I found the issue and fixed it.\r\n\r\nI was looking for the data in the field &quot;***requiredtext***&quot; but the indexer wont store the data for the field like while indexing it wont set the property for this field **&quot;TextField.Store.YES&quot;** and that is the reason I wont get the data for the field which I am looking for. \r\n\r\nI got the data for other field for which the property was set.\r\n\r\nAnd my questions was is it possible to search data on other files which are created by other application? So the answer is yes. @andrewJames answer helps to prove it.","title":"Lucene to use different files to search text","body":"<p>I found the issue and fixed it.</p>\n<p>I was looking for the data in the field &quot;<em><strong>requiredtext</strong></em>&quot; but the indexer wont store the data for the field like while indexing it wont set the property for this field <strong>&quot;TextField.Store.YES&quot;</strong> and that is the reason I wont get the data for the field which I am looking for.</p>\n<p>I got the data for other field for which the property was set.</p>\n<p>And my questions was is it possible to search data on other files which are created by other application? So the answer is yes. @andrewJames answer helps to prove it.</p>\n"}],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71963407,"answer_count":1,"score":1,"last_activity_date":1650600754,"creation_date":1649939538,"question_id":71871677,"body_markdown":"I am working on a task where I need to search a text using lucene. But here the requirement is to use the already created segment, .si, .cfe and .cfs files by other application.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am able to get those files but while searching the text it won&#39;t show me the results. \r\n\r\nThe code is for search is:\r\n\r\n        public void searchText(String indexPath, String searchString) {\r\n            try {\r\n                Analyzer analyzer = new StandardAnalyzer(); \r\n                File indexDirectory = new File(indexPath);\r\n                Directory directory = FSDirectory.open(indexDirectory.toPath());\r\n                IndexReader directoryReader = DirectoryReader.open(directory);\r\n                IndexSearcher searcher = new IndexSearcher(directoryReader);\r\n                QueryParser parser = new QueryParser(&quot;requiredtext&quot;, analyzer);\r\n                Query query = parser.parse(searchString);\r\n                System.out.println(query);\r\n                // Parse a simple query that searches for &quot;text&quot;:\r\n                ScoreDoc[] hits = searcher.search(query, 10).scoreDocs;\r\n                // Iterate through the results:\r\n                for (int i = 0; i &lt; hits.length; i++) {\r\n                    Document hitDoc = searcher.doc(hits[i].doc);\r\n                }\r\n    \r\n                analyzer.close();\r\n                directoryReader.close();\r\n                directory.close();\r\n            }\r\n            catch (Exception ex){\r\n                System.out.println(&quot;Exception - &quot;+ex.getMessage());\r\n            }\r\n        }\r\n\r\nI am using the Lucene version 8.11.1 with Java8.\r\n\r\nThe question is: **Is it possible in Lucene to read/find/search the text for which the files are written by some other application and search by other application. If it is then please provide the pointers how?**\r\n\r\n\r\nAtul\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XnlzH.png","title":"Lucene to use different files to search text","body":"<p>I am working on a task where I need to search a text using lucene. But here the requirement is to use the already created segment, .si, .cfe and .cfs files by other application.</p>\n<p><a href=\"https://i.stack.imgur.com/XnlzH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XnlzH.png\" alt=\"enter image description here\" /></a></p>\n<p>I am able to get those files but while searching the text it won't show me the results.</p>\n<p>The code is for search is:</p>\n<pre><code>    public void searchText(String indexPath, String searchString) {\n        try {\n            Analyzer analyzer = new StandardAnalyzer(); \n            File indexDirectory = new File(indexPath);\n            Directory directory = FSDirectory.open(indexDirectory.toPath());\n            IndexReader directoryReader = DirectoryReader.open(directory);\n            IndexSearcher searcher = new IndexSearcher(directoryReader);\n            QueryParser parser = new QueryParser(&quot;requiredtext&quot;, analyzer);\n            Query query = parser.parse(searchString);\n            System.out.println(query);\n            // Parse a simple query that searches for &quot;text&quot;:\n            ScoreDoc[] hits = searcher.search(query, 10).scoreDocs;\n            // Iterate through the results:\n            for (int i = 0; i &lt; hits.length; i++) {\n                Document hitDoc = searcher.doc(hits[i].doc);\n            }\n\n            analyzer.close();\n            directoryReader.close();\n            directory.close();\n        }\n        catch (Exception ex){\n            System.out.println(&quot;Exception - &quot;+ex.getMessage());\n        }\n    }\n</code></pre>\n<p>I am using the Lucene version 8.11.1 with Java8.</p>\n<p>The question is: <strong>Is it possible in Lucene to read/find/search the text for which the files are written by some other application and search by other application. If it is then please provide the pointers how?</strong></p>\n<p>Atul</p>\n"},{"tags":["java","gradle","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425893827,"creation_date":1425893827,"answer_id":28938796,"question_id":28938712,"body_markdown":"It will not work. One possible solutions is to save hardcoded property to user&#39;s `gradle.properties`. Extract from docs:\r\n\r\n&gt; You can also add properties to your project objects using properties\r\n&gt; files. You can place a gradle.properties file in the Gradle user home\r\n&gt; directory (defined by the “GRADLE_USER_HOME” environment variable,\r\n&gt; which if not set defaults to USER_HOME/.gradle) or in your project\r\n&gt; directory.","title":"Using environment variables in gradle.properties file","body":"<p>It will not work. One possible solutions is to save hardcoded property to user's <code>gradle.properties</code>. Extract from docs:</p>\n\n<blockquote>\n  <p>You can also add properties to your project objects using properties\n  files. You can place a gradle.properties file in the Gradle user home\n  directory (defined by the “GRADLE_USER_HOME” environment variable,\n  which if not set defaults to USER_HOME/.gradle) or in your project\n  directory.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":152499,"reputation":911,"user_id":367077,"display_name":"AndreyKo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1425894115,"creation_date":1425894115,"answer_id":28938870,"question_id":28938712,"body_markdown":"You can edit your gradlew.bat file, and make all developers use this (wrapper) gradle, and not local installation.\r\nEdit it, and anywhere it uses the JAVA_HOME use your env variable instead.","title":"Using environment variables in gradle.properties file","body":"<p>You can edit your gradlew.bat file, and make all developers use this (wrapper) gradle, and not local installation.\nEdit it, and anywhere it uses the JAVA_HOME use your env variable instead.</p>\n"}],"owner":{"account_id":2086356,"reputation":791,"user_id":1857251,"accept_rate":67,"display_name":"Rivi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11621,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28938870,"answer_count":2,"score":9,"last_activity_date":1650599808,"creation_date":1425893530,"question_id":28938712,"body_markdown":"I&#39;m trying to set &quot;org.gradle.java.home&quot; property in `gradle.properties` file to run my Gradle project on Java 8 while the rest of my system uses Java 7. Hence, `JAVA_HOME` is pointing to JDK 7 and not 8.\r\n\r\nThe problem is that I can&#39;t hardcode it to the properties file because other developers might have a different path or version of Java 8. So, I wanted to use an *environment variable* in the properties file like this:\r\n\r\n    org.gradle.java.home=MY_PROJECT_GRADLE_JAVA_HOME\r\n\r\nThat didn&#39;t work.\r\n\r\nDoes anybody know how can I use environment variables in `gradle.properties` or has another solution?\r\n","title":"Using environment variables in gradle.properties file","body":"<p>I'm trying to set &quot;org.gradle.java.home&quot; property in <code>gradle.properties</code> file to run my Gradle project on Java 8 while the rest of my system uses Java 7. Hence, <code>JAVA_HOME</code> is pointing to JDK 7 and not 8.</p>\n<p>The problem is that I can't hardcode it to the properties file because other developers might have a different path or version of Java 8. So, I wanted to use an <em>environment variable</em> in the properties file like this:</p>\n<pre><code>org.gradle.java.home=MY_PROJECT_GRADLE_JAVA_HOME\n</code></pre>\n<p>That didn't work.</p>\n<p>Does anybody know how can I use environment variables in <code>gradle.properties</code> or has another solution?</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"score":1,"creation_date":1413206698,"post_id":26341052,"comment_id":41344259,"body_markdown":"Your test for `largest` is outside the loop.","body":"Your test for <code>largest</code> is outside the loop."},{"owner":{"account_id":2038814,"reputation":11606,"user_id":1820501,"display_name":"Florent Bayle"},"score":1,"creation_date":1413206714,"post_id":26341052,"comment_id":41344269,"body_markdown":"`if(number &gt; 1)` should be `if(number &gt; largest)`","body":"<code>if(number &gt; 1)</code> should be <code>if(number &gt; largest)</code>"},{"owner":{"account_id":4985591,"reputation":107,"user_id":4009318,"accept_rate":67,"display_name":"Shairyar Shafqat"},"score":0,"creation_date":1413207005,"post_id":26341052,"comment_id":41344467,"body_markdown":"thanks a lot friends, it helped out a ton.","body":"thanks a lot friends, it helped out a ton."}],"answers":[{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413207050,"creation_date":1413206733,"answer_id":26341100,"question_id":26341052,"body_markdown":"Here you are checking the condition outside the loop it only checks for the last input.*As you are accepting **first** value before the loop you should set that value as largest before the loop.* (Pointed out by `khelwood`)\r\n\r\nSo it should be like this,\r\n\r\n    System.out.println(&quot;Enter the number: &quot;);\r\n    number = input.nextInt();\r\n    largest=number;\r\n    while(counter &lt; 10){\r\n        System.out.println(&quot;Enter the number: &quot;);\r\n        number = input.nextInt();        \r\n        if(number &gt; largest)//If largest is small, set current number as largest\r\n            largest = number;\r\n        counter++;\r\n    }\r\n\r\n\r\n\r\n   ","title":"printing the largest number from a while loop, when 10 numbers are inputted from the keyboard","body":"<p>Here you are checking the condition outside the loop it only checks for the last input.<em>As you are accepting <strong>first</strong> value before the loop you should set that value as largest before the loop.</em> (Pointed out by <code>khelwood</code>)</p>\n\n<p>So it should be like this,</p>\n\n<pre><code>System.out.println(\"Enter the number: \");\nnumber = input.nextInt();\nlargest=number;\nwhile(counter &lt; 10){\n    System.out.println(\"Enter the number: \");\n    number = input.nextInt();        \n    if(number &gt; largest)//If largest is small, set current number as largest\n        largest = number;\n    counter++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2314718,"reputation":7020,"user_id":2032021,"accept_rate":47,"display_name":"Dr. Debasish Jana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413207383,"creation_date":1413206967,"answer_id":26341186,"question_id":26341052,"body_markdown":"You should move this within the while loop:\r\n\r\n    if(number &gt; largest)\r\n        largest = number;","title":"printing the largest number from a while loop, when 10 numbers are inputted from the keyboard","body":"<p>You should move this within the while loop:</p>\n\n<pre><code>if(number &gt; largest)\n    largest = number;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4877275,"reputation":799,"user_id":3931974,"display_name":"Prabhat Rai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413207220,"creation_date":1413207220,"answer_id":26341279,"question_id":26341052,"body_markdown":"You are checking just for the last accepted number if it is greater than 1 you are assigning it to the largest. But you have to make sure that you check for all the numbers and compare them to have the largest among them.\r\n\r\nThis code will work for you \r\n\r\n    import java.util.Scanner;\r\n    public class test {\r\n        public static void main(String[] args) {\r\n\r\n            int counter = 1;\r\n            int number;\r\n            int largest = 0;\r\n\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Enter the number: &quot;);\r\n            number = input.nextInt();\r\n    \r\n            while(counter &lt; 10)\r\n            {\r\n                System.out.println(&quot;Enter the number: &quot;);\r\n                number = input.nextInt();\r\n   \r\n                if(largest &lt; number) {\r\n                    largest = number;\r\n                }\r\n\r\n                counter++;\r\n\r\n            }\r\n        \r\n            System.out.println(&quot;the largest number is &quot; + largest);\r\n        }\r\n    }","title":"printing the largest number from a while loop, when 10 numbers are inputted from the keyboard","body":"<p>You are checking just for the last accepted number if it is greater than 1 you are assigning it to the largest. But you have to make sure that you check for all the numbers and compare them to have the largest among them.</p>\n\n<p>This code will work for you </p>\n\n<pre><code>import java.util.Scanner;\npublic class test {\n    public static void main(String[] args) {\n\n        int counter = 1;\n        int number;\n        int largest = 0;\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Enter the number: \");\n        number = input.nextInt();\n\n        while(counter &lt; 10)\n        {\n            System.out.println(\"Enter the number: \");\n            number = input.nextInt();\n\n            if(largest &lt; number) {\n                largest = number;\n            }\n\n            counter++;\n\n        }\n\n        System.out.println(\"the largest number is \" + largest);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24614518,"reputation":32,"user_id":18515689,"display_name":"Koleaje olayinka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650598703,"creation_date":1650598703,"answer_id":71963223,"question_id":26341052,"body_markdown":"\r\n        int counter = 1;\r\n        int number;\r\n        int largest = 0;\r\n        Scanner scanner = new Scanner(System.in);\r\n        for (;counter &lt;= 10; counter++) {\r\n            System.out.println(&quot;ENTER &quot; + counter + &quot; NUMBER&quot;);\r\n            number = scanner.nextInt();\r\n\r\n\r\n            if (number &gt; largest  ) {\r\n                largest = number;\r\n\r\n            }\r\n\r\n        }\r\n        System.out.println(&quot;THE LARGEST NUMBER FOUND SO FAR IS: &quot; + largest);\r\n\r\n   ","title":"printing the largest number from a while loop, when 10 numbers are inputted from the keyboard","body":"<pre><code>    int counter = 1;\n    int number;\n    int largest = 0;\n    Scanner scanner = new Scanner(System.in);\n    for (;counter &lt;= 10; counter++) {\n        System.out.println(&quot;ENTER &quot; + counter + &quot; NUMBER&quot;);\n        number = scanner.nextInt();\n\n\n        if (number &gt; largest  ) {\n            largest = number;\n\n        }\n\n    }\n    System.out.println(&quot;THE LARGEST NUMBER FOUND SO FAR IS: &quot; + largest);\n</code></pre>\n"}],"owner":{"account_id":4985591,"reputation":107,"user_id":4009318,"accept_rate":67,"display_name":"Shairyar Shafqat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1650598703,"creation_date":1413206613,"question_id":26341052,"body_markdown":"Every time my output prints out the last number given through the Scanner as the largest number. This program needs to be modified in a way, that it scans through the numbers I input and prints out the largest number.\r\n\r\nP.S this is not school work, its just coding in my spare time.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class FindTheLargestNumber {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int counter = 1;\r\n            int number;\r\n            int largest = 0;\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter the number: &quot;);\r\n            number = input.nextInt();\r\n    \r\n            while(counter &lt; 10)\r\n            {\r\n                System.out.println(&quot;Enter the number: &quot;);\r\n                number = input.nextInt();\r\n    \r\n                counter++;\r\n    \r\n            }\r\n    \r\n    \r\n            if(number &gt; 1)\r\n                largest = number;\r\n    \r\n    \r\n            System.out.println(&quot;the largest number is &quot; + largest);\r\n        }\r\n    }\r\n\r\n\r\nCONSOLE:\r\n\r\n    Enter the number: \r\n    123\r\n    \r\n    Enter the number: \r\n    443\r\n    \r\n    Enter the number: \r\n    221\r\n    \r\n    Enter the number: \r\n    453\r\n    \r\n    Enter the number: \r\n    553\r\n    \r\n    Enter the number: \r\n    665\r\n    \r\n    Enter the number: \r\n    776\r\n    \r\n    Enter the number: \r\n    23\r\n    \r\n    Enter the number: \r\n    12\r\n    \r\n    Enter the number: \r\n    23\r\n    \r\n    \r\n    output: \r\n    the largest number is 23\r\n\r\nit should clearly print out 776, but it prints the last number I input as the largest.\r\n\r\n","title":"printing the largest number from a while loop, when 10 numbers are inputted from the keyboard","body":"<p>Every time my output prints out the last number given through the Scanner as the largest number. This program needs to be modified in a way, that it scans through the numbers I input and prints out the largest number.</p>\n\n<p>P.S this is not school work, its just coding in my spare time.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class FindTheLargestNumber {\n\n    public static void main(String[] args) {\n\n        int counter = 1;\n        int number;\n        int largest = 0;\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Enter the number: \");\n        number = input.nextInt();\n\n        while(counter &lt; 10)\n        {\n            System.out.println(\"Enter the number: \");\n            number = input.nextInt();\n\n            counter++;\n\n        }\n\n\n        if(number &gt; 1)\n            largest = number;\n\n\n        System.out.println(\"the largest number is \" + largest);\n    }\n}\n</code></pre>\n\n<p>CONSOLE:</p>\n\n<pre><code>Enter the number: \n123\n\nEnter the number: \n443\n\nEnter the number: \n221\n\nEnter the number: \n453\n\nEnter the number: \n553\n\nEnter the number: \n665\n\nEnter the number: \n776\n\nEnter the number: \n23\n\nEnter the number: \n12\n\nEnter the number: \n23\n\n\noutput: \nthe largest number is 23\n</code></pre>\n\n<p>it should clearly print out 776, but it prints the last number I input as the largest.</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":4,"creation_date":1650549624,"post_id":71955644,"comment_id":127148605,"body_markdown":"First what is the specific reason? and in general if you like to make separate JAR make separate modules which means to create a multi module build which solves the problem very easy without the need of profiles and manually activating them etc.","body":"First what is the specific reason? and in general if you like to make separate JAR make separate modules which means to create a multi module build which solves the problem very easy without the need of profiles and manually activating them etc."}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650598589,"creation_date":1650598589,"answer_id":71963211,"question_id":71955644,"body_markdown":"You must configure the jar plugin like this :\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;include&gt;**/Einheiten.class&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n","title":"Maven only include some classes","body":"<p>You must configure the jar plugin like this :</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;                      \n                    &lt;include&gt;**/Einheiten.class&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":18056483,"reputation":17,"user_id":13260382,"display_name":"koque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71963211,"answer_count":1,"score":1,"last_activity_date":1650598589,"creation_date":1650548989,"question_id":71955644,"body_markdown":"I have multiple classes in my project, but for a specific jar I don&#39;t want to put all classes into the jar.\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;test&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;finalName&gt;THRechner-test&lt;/finalName&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2.2&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;my.koque.threchner.Einheiten&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\nThen I run the following command: `mvn clean package -Ptest`, but the class is not put into the jar. Running the command without the include lines does put all files into the jar.\r\n\r\nHow can I just include one class into the jar?","title":"Maven only include some classes","body":"<p>I have multiple classes in my project, but for a specific jar I don't want to put all classes into the jar.</p>\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;test&lt;/id&gt;\n        &lt;build&gt;\n            &lt;finalName&gt;THRechner-test&lt;/finalName&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;my.koque.threchner.Einheiten&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>Then I run the following command: <code>mvn clean package -Ptest</code>, but the class is not put into the jar. Running the command without the include lines does put all files into the jar.</p>\n<p>How can I just include one class into the jar?</p>\n"},{"tags":["java","android","android-studio","android-10.0"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1650605532,"post_id":71963207,"comment_id":127162542,"body_markdown":"Why are you using an asynctask to call the updater?","body":"Why are you using an asynctask to call the updater?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1650606552,"post_id":71963207,"comment_id":127162751,"body_markdown":"Why do you try to delete all files in that folder?","body":"Why do you try to delete all files in that folder?"},{"owner":{"account_id":4016824,"reputation":55,"user_id":3308595,"display_name":"user3308595"},"score":0,"creation_date":1650608818,"post_id":71963207,"comment_id":127163239,"body_markdown":"because when I put in the button method the progress bar wont work. I tried only deleting one still doesn&#39;t work to I tried to delete all. In my case it doesn&#39;t matter if the folder is empty in fact it&#39;s better if the folder remain empty.","body":"because when I put in the button method the progress bar wont work. I tried only deleting one still doesn&#39;t work to I tried to delete all. In my case it doesn&#39;t matter if the folder is empty in fact it&#39;s better if the folder remain empty."},{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":0,"creation_date":1650609785,"post_id":71963207,"comment_id":127163500,"body_markdown":"You can delete the file using another way of FileUtils in java from the directory.","body":"You can delete the file using another way of FileUtils in java from the directory."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1650614202,"post_id":71963207,"comment_id":127164915,"body_markdown":"I dont think that users of your app will agree with emptying the Download folder.","body":"I dont think that users of your app will agree with emptying the Download folder."},{"owner":{"account_id":4016824,"reputation":55,"user_id":3308595,"display_name":"user3308595"},"score":0,"creation_date":1650615126,"post_id":71963207,"comment_id":127165264,"body_markdown":"This is warehouse project using android barcode scanner. The user will only use the application that I&#39;ve develop to do their tasks. Users will not be able to use the android scanner as a mobile phone.  Either way this is not the main problem. The main problem is not even a single file is being deleted.","body":"This is warehouse project using android barcode scanner. The user will only use the application that I&#39;ve develop to do their tasks. Users will not be able to use the android scanner as a mobile phone.  Either way this is not the main problem. The main problem is not even a single file is being deleted."}],"owner":{"account_id":4016824,"reputation":55,"user_id":3308595,"display_name":"user3308595"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650598563,"creation_date":1650598563,"question_id":71963207,"body_markdown":"How to delete file programmatically in android java ?\r\nI have used the app updater package to download my .apk file but the package did not delete the downloaded .apk file after it has installed it.\r\nThis is my code for the app updater\r\n\r\n    private class checkForUpdateAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... args) {\r\n\r\n                new AppUpdater(mContext)\r\n                        .setUpdateFrom(UpdateFrom.JSON)\r\n                        .setUpdateJSON(&quot;http://172.16.206.19/REST_API/json_format.json&quot;)\r\n                        .setDisplay(Display.DIALOG)\r\n                        .setCancelable(false) // Dialog could not be dismissable\r\n                        .showAppUpdated(true)\r\n                        .setButtonDoNotShowAgain(null)\r\n                        .start();\r\n\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void result) {\r\n            pb.setVisibility(View.INVISIBLE);\r\n            super.onPostExecute(result);\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            pb.setVisibility(View.VISIBLE);\r\n            try {\r\n                deleteDownloadedFiles();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nWhat ive tried so far : \r\n\r\n    File dl_path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n        File[] files = dl_path.listFiles();\r\n    \r\n        for (File i :files ) {\r\n            Boolean result = i.delete();\r\n            if(result){\r\n                Toast.makeText(MainActivity.this, i.getName()+&quot; has been deleted&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n\r\n        return;\r\n\r\nthis will return a false result and the file is not deleted.","title":"How to delete a downloaded APK file in the download folder Android 10","body":"<p>How to delete file programmatically in android java ?\nI have used the app updater package to download my .apk file but the package did not delete the downloaded .apk file after it has installed it.\nThis is my code for the app updater</p>\n<pre><code>private class checkForUpdateAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    @Override\n    protected Void doInBackground(Void... args) {\n\n            new AppUpdater(mContext)\n                    .setUpdateFrom(UpdateFrom.JSON)\n                    .setUpdateJSON(&quot;http://172.16.206.19/REST_API/json_format.json&quot;)\n                    .setDisplay(Display.DIALOG)\n                    .setCancelable(false) // Dialog could not be dismissable\n                    .showAppUpdated(true)\n                    .setButtonDoNotShowAgain(null)\n                    .start();\n\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void result) {\n        pb.setVisibility(View.INVISIBLE);\n        super.onPostExecute(result);\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        pb.setVisibility(View.VISIBLE);\n        try {\n            deleteDownloadedFiles();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>What ive tried so far :</p>\n<pre><code>File dl_path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n    File[] files = dl_path.listFiles();\n\n    for (File i :files ) {\n        Boolean result = i.delete();\n        if(result){\n            Toast.makeText(MainActivity.this, i.getName()+&quot; has been deleted&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n    return;\n</code></pre>\n<p>this will return a false result and the file is not deleted.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":17750659,"reputation":336,"user_id":12888853,"display_name":"kosmasd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650598024,"creation_date":1650598024,"answer_id":71963153,"question_id":71936376,"body_markdown":"The following worked for me:\r\n\r\n    template:#{&#39;$&#39;}{now}\r\n\r\nOriginal answer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13162346/escape-property-reference-in-spring-property-file","title":"How to set a value with &#39;$&#39; in content of a @Value in Spring","body":"<p>The following worked for me:</p>\n<pre><code>template:#{'$'}{now}\n</code></pre>\n<p>Original answer <a href=\"https://stackoverflow.com/questions/13162346/escape-property-reference-in-spring-property-file\">here</a></p>\n"}],"owner":{"account_id":7353793,"reputation":50,"user_id":5599126,"display_name":"halfdark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650598024,"creation_date":1650443052,"question_id":71936376,"body_markdown":"It&#39;s a common way to use @Value in Spring to load value from propertie files, like:\r\n`@Value(&quot;${xxxx}&quot;)`\r\n\r\nNow I come cross a situation that I need to set the content of value like `&quot;.... now: ${now}....&quot;` , because I need to use it as a template in `org.beetl.core.GroupTemplate` \r\n\r\nhere is the example:\r\n\r\n    @Value(&quot;${myTemplate}&quot;)\r\n    private String myTemplate;\r\n\r\nand the application.properties:\r\n\r\n    myTemplate = template:${now}\r\n\r\nthen Spring find the `$` in `${now}` and parsing it as a placeholder and give the error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;now&#39; in value\r\n\r\nAnd I&#39;m not willing and able to set `setIgnoreUnresolvablePlaceholders` to false;\r\n\r\nAlso I tried to replace the content to `....now:&amp;#36;{now}....`, however I tried many ways to convert the `&amp;#36;` to `$` in java code, but none of them worked;\r\n\r\nSo is there any other ways to deal with this case?\r\n\r\nThanks for your helping and time.","title":"How to set a value with &#39;$&#39; in content of a @Value in Spring","body":"<p>It's a common way to use @Value in Spring to load value from propertie files, like:\n<code>@Value(&quot;${xxxx}&quot;)</code></p>\n<p>Now I come cross a situation that I need to set the content of value like <code>&quot;.... now: ${now}....&quot;</code> , because I need to use it as a template in <code>org.beetl.core.GroupTemplate</code></p>\n<p>here is the example:</p>\n<pre><code>@Value(&quot;${myTemplate}&quot;)\nprivate String myTemplate;\n</code></pre>\n<p>and the application.properties:</p>\n<pre><code>myTemplate = template:${now}\n</code></pre>\n<p>then Spring find the <code>$</code> in <code>${now}</code> and parsing it as a placeholder and give the error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'now' in value\n</code></pre>\n<p>And I'm not willing and able to set <code>setIgnoreUnresolvablePlaceholders</code> to false;</p>\n<p>Also I tried to replace the content to <code>....now:&amp;#36;{now}....</code>, however I tried many ways to convert the <code>&amp;#36;</code> to <code>$</code> in java code, but none of them worked;</p>\n<p>So is there any other ways to deal with this case?</p>\n<p>Thanks for your helping and time.</p>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1480496257,"creation_date":1480496257,"answer_id":40883991,"question_id":40883990,"body_markdown":"it&#39;s actually quite simple. we need a custom matcher :\r\n\r\n    import org.apache.commons.collections.CollectionUtils;\r\n    import org.mockito.ArgumentMatcher;\r\n    import java.util.List;\r\n    import static org.mockito.Matchers.argThat;\r\n\r\n    public class InAnyOrderListMatcher extends ArgumentMatcher&lt;List&gt; {\r\n\r\n    private final List expected;\r\n\r\n    public InAnyOrderListMatcher(List expected){\r\n        this.expected=expected;\r\n    }\r\n\r\n    @Override\r\n    public boolean matches(Object actual) {\r\n\r\n        if(actual instanceof List){\r\n\r\n            List actualList=(List)actual;\r\n\r\n            return CollectionUtils.isEqualCollection(expected,actualList);\r\n\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public static List inAnyOrderListMatcherEq(List expected) {\r\n        return argThat(new InAnyOrderListMatcher(expected));\r\n    }\r\n\r\n    }\r\n\r\nAnd then call it in the test :\r\n \r\n    when(mockStatusCalculatorService.calculateStatus( inAnyOrderListMatcherEq(Arrays.asList(IN_PROGRESS, ABANDONNED,EXPIRED)))).thenReturn(ConsolidatedStatus.EXPIRED);\r\n\r\n","title":"matching List in any order when mocking method behavior with Mockito","body":"<p>it's actually quite simple. we need a custom matcher :</p>\n\n<pre><code>import org.apache.commons.collections.CollectionUtils;\nimport org.mockito.ArgumentMatcher;\nimport java.util.List;\nimport static org.mockito.Matchers.argThat;\n\npublic class InAnyOrderListMatcher extends ArgumentMatcher&lt;List&gt; {\n\nprivate final List expected;\n\npublic InAnyOrderListMatcher(List expected){\n    this.expected=expected;\n}\n\n@Override\npublic boolean matches(Object actual) {\n\n    if(actual instanceof List){\n\n        List actualList=(List)actual;\n\n        return CollectionUtils.isEqualCollection(expected,actualList);\n\n    }\n\n    return false;\n}\n\npublic static List inAnyOrderListMatcherEq(List expected) {\n    return argThat(new InAnyOrderListMatcher(expected));\n}\n\n}\n</code></pre>\n\n<p>And then call it in the test :</p>\n\n<pre><code>when(mockStatusCalculatorService.calculateStatus( inAnyOrderListMatcherEq(Arrays.asList(IN_PROGRESS, ABANDONNED,EXPIRED)))).thenReturn(ConsolidatedStatus.EXPIRED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1650598001,"creation_date":1480498020,"answer_id":40884565,"question_id":40883990,"body_markdown":"**If you have Mockito prior to version 2.1.0:**\r\n\r\nUse the Hamcrest `containsInAnyOrder` matcher.\r\n\r\n    when(myMock.myMethod(argThat(containsInAnyOrder(IN_PROGRESS, ABANDONED, EXPIRED))))\r\n        .thenReturn(myValue);\r\n\r\nThank you to @kolobok for pointing out that as from Mockito 2.1.0 (which came out after I wrote this answer), this no longer works.\r\n\r\n**So for version 2.1.0 and above:**\r\n\r\nadd a dependency on Hamcrest, and use the `MockitoHamcrest.argThat` instead of `Mockito.argThat`\r\n   \r\nMore detail on the breaking change with Mockito 2.1.0 is at https://www.javadoc.io/doc/org.mockito/mockito-core/2.1.0/org/mockito/ArgumentMatcher.html\r\n\r\n","title":"matching List in any order when mocking method behavior with Mockito","body":"<p><strong>If you have Mockito prior to version 2.1.0:</strong></p>\n<p>Use the Hamcrest <code>containsInAnyOrder</code> matcher.</p>\n<pre><code>when(myMock.myMethod(argThat(containsInAnyOrder(IN_PROGRESS, ABANDONED, EXPIRED))))\n    .thenReturn(myValue);\n</code></pre>\n<p>Thank you to @kolobok for pointing out that as from Mockito 2.1.0 (which came out after I wrote this answer), this no longer works.</p>\n<p><strong>So for version 2.1.0 and above:</strong></p>\n<p>add a dependency on Hamcrest, and use the <code>MockitoHamcrest.argThat</code> instead of <code>Mockito.argThat</code></p>\n<p>More detail on the breaking change with Mockito 2.1.0 is at <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.1.0/org/mockito/ArgumentMatcher.html\" rel=\"noreferrer\">https://www.javadoc.io/doc/org.mockito/mockito-core/2.1.0/org/mockito/ArgumentMatcher.html</a></p>\n"},{"tags":[],"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1527419033,"creation_date":1527419033,"answer_id":50551476,"question_id":40883990,"body_markdown":"Adding an answer for newer versions of Mockito and Java 8\r\n\r\n    when(\r\n       mock.method(argThat(t -&gt; t.containsAll(Arrays.asList(IN_PROGRESS, ABANDONED, EXPIRED))))\r\n    ).thenReturn(myValue);","title":"matching List in any order when mocking method behavior with Mockito","body":"<p>Adding an answer for newer versions of Mockito and Java 8</p>\n\n<pre><code>when(\n   mock.method(argThat(t -&gt; t.containsAll(Arrays.asList(IN_PROGRESS, ABANDONED, EXPIRED))))\n).thenReturn(myValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593409100,"creation_date":1593408763,"answer_id":62631820,"question_id":40883990,"body_markdown":"If order does not matter, change your StatusCalculator service to accept a Set instead of a Collection.  Then equals will return true regardless of order.\r\n\r\nBetter to fix your API than hack around it in your unit tests.","title":"matching List in any order when mocking method behavior with Mockito","body":"<p>If order does not matter, change your StatusCalculator service to accept a Set instead of a Collection.  Then equals will return true regardless of order.</p>\n<p>Better to fix your API than hack around it in your unit tests.</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27050,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":40884565,"answer_count":4,"score":26,"last_activity_date":1650598001,"creation_date":1480496257,"question_id":40883990,"body_markdown":"I have a test using Mockito that has a very strange behavior : it works in debug but fails when running normally. After some investigation, I realized it&#39;s because I am mocking methods behavior, passing a list of elements to match. But for some reason, order in the list is not always the same so it doesn&#39;t match and what I expect my mock to return is not returned, because the 2 lists are not &quot;equals&quot;  \r\n\r\n     when(mockStatusCalculatorService.calculateStatus(Arrays.asList(IN_PROGRESS, ABANDONNED,EXPIRED))).thenReturn(ConsolidatedStatus.EXPIRED);\r\n\r\n\r\nIn my case, order of elements to match doesn&#39;t matter. So how can I specify this when configuring my mock ?  ","title":"matching List in any order when mocking method behavior with Mockito","body":"<p>I have a test using Mockito that has a very strange behavior : it works in debug but fails when running normally. After some investigation, I realized it's because I am mocking methods behavior, passing a list of elements to match. But for some reason, order in the list is not always the same so it doesn't match and what I expect my mock to return is not returned, because the 2 lists are not \"equals\"  </p>\n\n<pre><code> when(mockStatusCalculatorService.calculateStatus(Arrays.asList(IN_PROGRESS, ABANDONNED,EXPIRED))).thenReturn(ConsolidatedStatus.EXPIRED);\n</code></pre>\n\n<p>In my case, order of elements to match doesn't matter. So how can I specify this when configuring my mock ?  </p>\n"},{"tags":["java","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650597782,"creation_date":1650591814,"answer_id":71962586,"question_id":71962547,"body_markdown":"I think you&#39;re looking for `FieldPath.of` for that last field:\r\n```\r\nf.col3 = document.getString(FieldPath.of(&quot;details/comments&quot;));\r\n```\r\n\r\nIf the `/` was meant to indicate the `comments` is a subfield inside the `details` map, the correct separator would be a `.` btw:\r\n\r\n```\r\nf.col3 = document.getString(FieldPath.of(&quot;details.comments&quot;));\r\n```\r\n\r\n---\r\n\r\nFor your second error, it looks like [`DocumentSnapshot.getString()`](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#getString(java.lang.String)) only exists with a `String` parameter, so you&#39;ll want to use `get()` which accepts a `FieldPath`:\r\n\r\n```\r\nf.col3 = document.get(FieldPath.of(&quot;details/comments&quot;));\r\n```\r\nor\r\n```\r\nf.col3 = document.get(FieldPath.of(&quot;details.comments&quot;));\r\n```\r\n\r\nIf you&#39;re getting a string conversion error here, add `toString()` to the call.","title":"Java Firestore - Error: Use FieldPath.of() for field names containing &#39;˜*/[]&#39;","body":"<p>I think you're looking for <code>FieldPath.of</code> for that last field:</p>\n<pre><code>f.col3 = document.getString(FieldPath.of(&quot;details/comments&quot;));\n</code></pre>\n<p>If the <code>/</code> was meant to indicate the <code>comments</code> is a subfield inside the <code>details</code> map, the correct separator would be a <code>.</code> btw:</p>\n<pre><code>f.col3 = document.getString(FieldPath.of(&quot;details.comments&quot;));\n</code></pre>\n<hr />\n<p>For your second error, it looks like <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#getString(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DocumentSnapshot.getString()</code></a> only exists with a <code>String</code> parameter, so you'll want to use <code>get()</code> which accepts a <code>FieldPath</code>:</p>\n<pre><code>f.col3 = document.get(FieldPath.of(&quot;details/comments&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>f.col3 = document.get(FieldPath.of(&quot;details.comments&quot;));\n</code></pre>\n<p>If you're getting a string conversion error here, add <code>toString()</code> to the call.</p>\n"}],"owner":{"account_id":8680546,"reputation":47,"user_id":6496577,"display_name":"Will Sutton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71962586,"answer_count":1,"score":0,"last_activity_date":1650597782,"creation_date":1650591261,"question_id":71962547,"body_markdown":"I am writing Java code to interact with a Firestore database. I need to access a field containing a forward-slash in the field name:\r\n\r\n    f.col1 = document.getString(&quot;username&quot;);\r\n    f.col2 = document.getString(&quot;subject&quot;);\r\n    f.col3 = document.getString(&quot;details/comments&quot;);\r\n\r\n\r\nWhen I run the code, I get the following error for the line getting Col3:\r\n\r\n    java.lang.IllegalArgumentException: Use FieldPath.of() for field names containing &#39;˜*/[]&#39;.\r\n\r\nI am unable to work out how to correctly use this method and I cannot find any documentation on how I should correctly use it (Googling brings up an equivalent JS method). When I attempt to use the FieldPath.of() method, as follows:\r\n\r\n    f.col3 = document.getString(FieldPath.of(&quot;details/comments&quot;));\r\n\r\nI get the following compiler error: \r\n\r\n    java: incompatible types: com.google.cloud.firestore.FieldPath cannot be converted to java.lang.String\r\n\r\nI have no control over the structure of the Firebase data, so I need to work with this field name.\r\n\r\nI am using the following documentation to interact with the database:\r\nhttps://firebase.google.com/docs/firestore/quickstart#java_9\r\n","title":"Java Firestore - Error: Use FieldPath.of() for field names containing &#39;˜*/[]&#39;","body":"<p>I am writing Java code to interact with a Firestore database. I need to access a field containing a forward-slash in the field name:</p>\n<pre><code>f.col1 = document.getString(&quot;username&quot;);\nf.col2 = document.getString(&quot;subject&quot;);\nf.col3 = document.getString(&quot;details/comments&quot;);\n</code></pre>\n<p>When I run the code, I get the following error for the line getting Col3:</p>\n<pre><code>java.lang.IllegalArgumentException: Use FieldPath.of() for field names containing '˜*/[]'.\n</code></pre>\n<p>I am unable to work out how to correctly use this method and I cannot find any documentation on how I should correctly use it (Googling brings up an equivalent JS method). When I attempt to use the FieldPath.of() method, as follows:</p>\n<pre><code>f.col3 = document.getString(FieldPath.of(&quot;details/comments&quot;));\n</code></pre>\n<p>I get the following compiler error:</p>\n<pre><code>java: incompatible types: com.google.cloud.firestore.FieldPath cannot be converted to java.lang.String\n</code></pre>\n<p>I have no control over the structure of the Firebase data, so I need to work with this field name.</p>\n<p>I am using the following documentation to interact with the database:\n<a href=\"https://firebase.google.com/docs/firestore/quickstart#java_9\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/quickstart#java_9</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1650597312,"post_id":71963034,"comment_id":127161324,"body_markdown":"The stack trace will tell you where the problem is.","body":"The stack trace will tell you where the problem is."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650597865,"post_id":71963034,"comment_id":127161397,"body_markdown":"`NullPointerException` doesn&#39;t have anything to do with scopes of variables.","body":"<code>NullPointerException</code> doesn&#39;t have anything to do with scopes of variables."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1650597896,"post_id":71963034,"comment_id":127161400,"body_markdown":"This means you have an expression such as `a.b` where `a` is `null`.   Use the line number in the stack trace to find that expression and think backward through the program execution to discover why `a` had that value rather than the one you hoped it would. If you can&#39;t do this in your head, then learn to use the java debugger to help you.","body":"This means you have an expression such as <code>a.b</code> where <code>a</code> is <code>null</code>.   Use the line number in the stack trace to find that expression and think backward through the program execution to discover why <code>a</code> had that value rather than the one you hoped it would. If you can&#39;t do this in your head, then learn to use the java debugger to help you."}],"owner":{"account_id":25045948,"reputation":1,"user_id":18902349,"display_name":"Bleek"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650597840,"answer_count":0,"score":0,"last_activity_date":1650596745,"creation_date":1650596745,"question_id":71963034,"body_markdown":"For our assignment we have to create a bookstore object of type array. After we create it we have to code different methods that take different actions on the array. One of the methods wants us to go through each book in the array and find the cheapest book. If two books have the same price the method should return the book that comes first in the array. This is the code for the program tester:\r\n\r\n    public class BookstoreArrayTester\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            BookstoreArray store = new BookstoreArray(6);\r\n            \r\n            System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\r\n            System.out.println(&quot;Expected: 0.00&quot;);                \r\n            System.out.println(&quot;Cheapest: &quot; + store.cheapest());\r\n            System.out.println(&quot;Expected: &quot;);\r\n            System.out.println(store.toString());\r\n            System.out.println(&quot;Expected: []&quot;);\r\n    \r\n            // Swap bad index. Should have no effect\r\n            store.swap(-1, 1);\r\n            store.swap(2, -1);\r\n            store.swap(1, 5);\r\n            store.swap(5, 2);\r\n    \r\n            System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\r\n            System.out.println(&quot;Expected: 0.00&quot;);                \r\n            System.out.println(&quot;Cheapest: &quot; + store.cheapest());\r\n            System.out.println(&quot;Expected: &quot;);\r\n    \r\n            // add four books \r\n            store.add(new Book(&quot;Island of the Mad&quot;, 15.20));\r\n            store.add(new Book(&quot;Big Java&quot;, 76.95));\r\n            store.add(new Book(&quot;New York to Dallas&quot;, 21.95));\r\n            store.add(new Book(&quot;Swordheart&quot;, 19.25));\r\n            \r\n            System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\r\n            System.out.println(&quot;Expected: 33.34&quot;);                \r\n            System.out.println(&quot;Cheapest: &quot; + store.cheapest());\r\n            System.out.println(&quot;Expected: Island of the Mad&quot;);\r\n            \r\n            // Add another book\r\n            store.add(new Book(&quot;Little Bear&quot;, 7.95));\r\n            \r\n            System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\r\n            System.out.println(&quot;Expected: 28.26&quot;);\r\n            System.out.println(&quot;Cheapest: &quot; + store.cheapest());\r\n            System.out.println(&quot;Expected: Little Bear&quot;);\r\n                            \r\n            // Add another book\r\n            store.add(new Book(&quot;Big Bear&quot;, 7.95));\r\n            System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\r\n            System.out.println(&quot;Expected: 24.88&quot;);\r\n            System.out.println(&quot;Cheapest: &quot; + store.cheapest());\r\n            System.out.println(&quot;Expected: Little Bear&quot;);\r\n    \r\n            System.out.println(store.toString());\r\n            System.out.println(&quot;Expected: [Book[title=Island of the Mad,price=15.2], &quot; + \r\n                                          &quot;Book[title=Big Java,price=76.95], &quot; +\r\n                                          &quot;Book[title=New York to Dallas,price=21.95], &quot; +\r\n                                          &quot;Book[title=Swordheart,price=19.25], &quot; +\r\n                                          &quot;Book[title=Little Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=Big Bear,price=7.95]]&quot;);\r\n            \r\n            //test swap\r\n            store.swap(0, 3);\r\n            store.swap(1, 5);\r\n            System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\r\n            System.out.println(&quot;Expected: 24.88&quot;);\r\n            System.out.println(&quot;Cheapest: &quot; + store.cheapest());\r\n            System.out.println(&quot;Expected: Big Bear&quot;);\r\n    \r\n            System.out.println(store.toString());\r\n            System.out.println(&quot;Expected: [Book[title=Swordheart,price=19.25], &quot; + \r\n                                          &quot;Book[title=Big Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=New York to Dallas,price=21.95], &quot; +\r\n                                          &quot;Book[title=Island of the Mad,price=15.2], &quot; +\r\n                                          &quot;Book[title=Little Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=Big Java,price=76.95]]&quot;);\r\n            \r\n            store.swap(5, 0);\r\n            System.out.println(store.toString());\r\n            System.out.println(&quot;Expected: [Book[title=Big Java,price=76.95], &quot; + \r\n                                          &quot;Book[title=Big Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=New York to Dallas,price=21.95], &quot; +\r\n                                          &quot;Book[title=Island of the Mad,price=15.2], &quot; +\r\n                                          &quot;Book[title=Little Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=Swordheart,price=19.25]]&quot;);\r\n    \r\n            //swap bad index. Should have no effect\r\n            store.swap(-1, 1);\r\n            store.swap(2, -1);\r\n            store.swap(1, 6);\r\n            store.swap(6, 2);\r\n            System.out.println(store);\r\n            System.out.println(&quot;Expected: [Book[title=Big Java,price=76.95], &quot; + \r\n                                          &quot;Book[title=Big Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=New York to Dallas,price=21.95], &quot; +\r\n                                          &quot;Book[title=Island of the Mad,price=15.2], &quot; +\r\n                                          &quot;Book[title=Little Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=Swordheart,price=19.25]]&quot;);\r\n            \r\n            // Add another book when the store is full\r\n            store.add(new Book(&quot;Little Bear&quot;, 5.95));\r\n            System.out.println(store.toString());\r\n            System.out.println(&quot;Expected: [Book[title=Big Java,price=76.95], &quot; + \r\n                                          &quot;Book[title=Big Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=New York to Dallas,price=21.95], &quot; +\r\n                                          &quot;Book[title=Island of the Mad,price=15.2], &quot; +\r\n                                          &quot;Book[title=Little Bear,price=7.95], &quot; +\r\n                                          &quot;Book[title=Swordheart,price=19.25]]&quot;);\r\n        }\r\n    }\r\n\r\nAnd this is the code for &quot;cheapest&quot; method that I&#39;m working on:\r\n\r\n    public String cheapest()\r\n    {\r\n        String cheapest;\r\n        boolean empty = true;\r\n        \r\n        for (int i = 0; i &lt; books.length; i++)\r\n        {\r\n            if (books[i] != null)\r\n            {\r\n                empty = false;\r\n                break;\r\n            }\r\n            \r\n            \r\n        }\r\n        if (empty == true)\r\n        {\r\n            return &quot;&quot;;\r\n        }\r\n        else\r\n        {\r\n            cheapest = books[0].getTitle();\r\n            double cheapestBook = books[0].getPrice();\r\n            \r\n            for(int i = 0; i &lt; books.length; i++)\r\n            {\r\n                if (books[i].getPrice() &lt; cheapestBook)\r\n                {\r\n                    cheapestBook = books[i].getPrice();\r\n                    cheapest = books[i].getTitle();\r\n                }\r\n            }\r\n        }\r\n        return cheapest;\r\n    }\r\n\r\nI keep getting a java.lang.NullPointerException error. Any help would be appreciated!","title":"What is the scope of variables in methods (java)","body":"<p>For our assignment we have to create a bookstore object of type array. After we create it we have to code different methods that take different actions on the array. One of the methods wants us to go through each book in the array and find the cheapest book. If two books have the same price the method should return the book that comes first in the array. This is the code for the program tester:</p>\n<pre><code>public class BookstoreArrayTester\n{\n    public static void main(String[] args)\n    {\n        BookstoreArray store = new BookstoreArray(6);\n        \n        System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\n        System.out.println(&quot;Expected: 0.00&quot;);                \n        System.out.println(&quot;Cheapest: &quot; + store.cheapest());\n        System.out.println(&quot;Expected: &quot;);\n        System.out.println(store.toString());\n        System.out.println(&quot;Expected: []&quot;);\n\n        // Swap bad index. Should have no effect\n        store.swap(-1, 1);\n        store.swap(2, -1);\n        store.swap(1, 5);\n        store.swap(5, 2);\n\n        System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\n        System.out.println(&quot;Expected: 0.00&quot;);                \n        System.out.println(&quot;Cheapest: &quot; + store.cheapest());\n        System.out.println(&quot;Expected: &quot;);\n\n        // add four books \n        store.add(new Book(&quot;Island of the Mad&quot;, 15.20));\n        store.add(new Book(&quot;Big Java&quot;, 76.95));\n        store.add(new Book(&quot;New York to Dallas&quot;, 21.95));\n        store.add(new Book(&quot;Swordheart&quot;, 19.25));\n        \n        System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\n        System.out.println(&quot;Expected: 33.34&quot;);                \n        System.out.println(&quot;Cheapest: &quot; + store.cheapest());\n        System.out.println(&quot;Expected: Island of the Mad&quot;);\n        \n        // Add another book\n        store.add(new Book(&quot;Little Bear&quot;, 7.95));\n        \n        System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\n        System.out.println(&quot;Expected: 28.26&quot;);\n        System.out.println(&quot;Cheapest: &quot; + store.cheapest());\n        System.out.println(&quot;Expected: Little Bear&quot;);\n                        \n        // Add another book\n        store.add(new Book(&quot;Big Bear&quot;, 7.95));\n        System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\n        System.out.println(&quot;Expected: 24.88&quot;);\n        System.out.println(&quot;Cheapest: &quot; + store.cheapest());\n        System.out.println(&quot;Expected: Little Bear&quot;);\n\n        System.out.println(store.toString());\n        System.out.println(&quot;Expected: [Book[title=Island of the Mad,price=15.2], &quot; + \n                                      &quot;Book[title=Big Java,price=76.95], &quot; +\n                                      &quot;Book[title=New York to Dallas,price=21.95], &quot; +\n                                      &quot;Book[title=Swordheart,price=19.25], &quot; +\n                                      &quot;Book[title=Little Bear,price=7.95], &quot; +\n                                      &quot;Book[title=Big Bear,price=7.95]]&quot;);\n        \n        //test swap\n        store.swap(0, 3);\n        store.swap(1, 5);\n        System.out.printf(&quot;Average: %.2f%n&quot;, store.average());\n        System.out.println(&quot;Expected: 24.88&quot;);\n        System.out.println(&quot;Cheapest: &quot; + store.cheapest());\n        System.out.println(&quot;Expected: Big Bear&quot;);\n\n        System.out.println(store.toString());\n        System.out.println(&quot;Expected: [Book[title=Swordheart,price=19.25], &quot; + \n                                      &quot;Book[title=Big Bear,price=7.95], &quot; +\n                                      &quot;Book[title=New York to Dallas,price=21.95], &quot; +\n                                      &quot;Book[title=Island of the Mad,price=15.2], &quot; +\n                                      &quot;Book[title=Little Bear,price=7.95], &quot; +\n                                      &quot;Book[title=Big Java,price=76.95]]&quot;);\n        \n        store.swap(5, 0);\n        System.out.println(store.toString());\n        System.out.println(&quot;Expected: [Book[title=Big Java,price=76.95], &quot; + \n                                      &quot;Book[title=Big Bear,price=7.95], &quot; +\n                                      &quot;Book[title=New York to Dallas,price=21.95], &quot; +\n                                      &quot;Book[title=Island of the Mad,price=15.2], &quot; +\n                                      &quot;Book[title=Little Bear,price=7.95], &quot; +\n                                      &quot;Book[title=Swordheart,price=19.25]]&quot;);\n\n        //swap bad index. Should have no effect\n        store.swap(-1, 1);\n        store.swap(2, -1);\n        store.swap(1, 6);\n        store.swap(6, 2);\n        System.out.println(store);\n        System.out.println(&quot;Expected: [Book[title=Big Java,price=76.95], &quot; + \n                                      &quot;Book[title=Big Bear,price=7.95], &quot; +\n                                      &quot;Book[title=New York to Dallas,price=21.95], &quot; +\n                                      &quot;Book[title=Island of the Mad,price=15.2], &quot; +\n                                      &quot;Book[title=Little Bear,price=7.95], &quot; +\n                                      &quot;Book[title=Swordheart,price=19.25]]&quot;);\n        \n        // Add another book when the store is full\n        store.add(new Book(&quot;Little Bear&quot;, 5.95));\n        System.out.println(store.toString());\n        System.out.println(&quot;Expected: [Book[title=Big Java,price=76.95], &quot; + \n                                      &quot;Book[title=Big Bear,price=7.95], &quot; +\n                                      &quot;Book[title=New York to Dallas,price=21.95], &quot; +\n                                      &quot;Book[title=Island of the Mad,price=15.2], &quot; +\n                                      &quot;Book[title=Little Bear,price=7.95], &quot; +\n                                      &quot;Book[title=Swordheart,price=19.25]]&quot;);\n    }\n}\n</code></pre>\n<p>And this is the code for &quot;cheapest&quot; method that I'm working on:</p>\n<pre><code>public String cheapest()\n{\n    String cheapest;\n    boolean empty = true;\n    \n    for (int i = 0; i &lt; books.length; i++)\n    {\n        if (books[i] != null)\n        {\n            empty = false;\n            break;\n        }\n        \n        \n    }\n    if (empty == true)\n    {\n        return &quot;&quot;;\n    }\n    else\n    {\n        cheapest = books[0].getTitle();\n        double cheapestBook = books[0].getPrice();\n        \n        for(int i = 0; i &lt; books.length; i++)\n        {\n            if (books[i].getPrice() &lt; cheapestBook)\n            {\n                cheapestBook = books[i].getPrice();\n                cheapest = books[i].getTitle();\n            }\n        }\n    }\n    return cheapest;\n}\n</code></pre>\n<p>I keep getting a java.lang.NullPointerException error. Any help would be appreciated!</p>\n"},{"tags":["java","gradle","tomcat","module","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650596376,"creation_date":1650596376,"answer_id":71963001,"question_id":71959645,"body_markdown":"You have this class twice in the classpath. The error message tries to give you the two sources, but it&#39;s not very successful with that. \r\n\r\nIn general: an object of class A (from classloader/jar C1) is attempted to be typecast to an object of a class with the same name A, but loaded from classloader/jar C2. \r\n\r\nFind C1 and C2 and eliminate one of them.  Make the class available only once and the problem will go away","title":"ClassCastException casting a class instance to its own class because it is in an &quot;unnamed module&quot; with gradel and tomcat","body":"<p>You have this class twice in the classpath. The error message tries to give you the two sources, but it's not very successful with that.</p>\n<p>In general: an object of class A (from classloader/jar C1) is attempted to be typecast to an object of a class with the same name A, but loaded from classloader/jar C2.</p>\n<p>Find C1 and C2 and eliminate one of them.  Make the class available only once and the problem will go away</p>\n"}],"owner":{"account_id":327803,"reputation":316,"user_id":650382,"display_name":"Datbates"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650596376,"creation_date":1650567485,"question_id":71959645,"body_markdown":"There are many similar issues, but none I could find have the class being cast to itself.  We are using a dependency on the webp support from this project:\r\n\r\n```\r\nimplementation &quot;org.sejda.imageio:webp-imageio:0.1.6&quot;\r\n```\r\n\r\nIt works fine if we don&#39;t try to change the write params, but if we do like this:\r\n\r\n```\r\nIterator imageWriters = ImageIO.getImageWritersByFormatName(&quot;webp&quot;);\r\nImageWriter writer = (ImageWriter) imageWriters.next();\r\n\r\nWebPWriteParam writeParam = new WebPWriteParam(null);\r\nwriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\nwriteParam.setCompressionType(writeParam.getCompressionTypes([WebPWriteParam.LOSSY_COMPRESSION]);\r\nwriteParam.setCompressionQuality(0.75f);\r\n\r\nbaos = new ByteArrayOutputStream();\r\nImageOutputStream ios = ImageIO.createImageOutputStream(baos);\r\nwriter.setOutput(ios);\r\nwriter.write(null, new IIOImage(img, null, null), writeParam);\r\n```\r\n\r\nWe get this strange exception\r\n\r\n&gt; java.lang.ClassCastException: class\r\n&gt; com.luciad.imageio.webp.WebPWriteParam cannot be cast to class\r\n&gt; com.luciad.imageio.webp.WebPWriteParam\r\n&gt; (com.luciad.imageio.webp.WebPWriteParam is in unnamed module of loader\r\n&gt; org.apache.catalina.loader.ParallelWebappClassLoader @34282781;\r\n&gt; com.luciad.imageio.webp.WebPWriteParam is in unnamed module of loader\r\n&gt; org.apache.catalina.loader.ParallelWebappClassLoader @238ad8c) \tat\r\n&gt; com.luciad.imageio.webp.WebPWriter.write(WebPWriter.java:67)\r\n&gt; ~[webp-imageio-0.1.6.jar:?] \tat\r\n&gt; com.XXX.business.util.ImageServices$ImageSaver.run(ImageServices.java:874)\r\n&gt; [rcw-core.jar:?] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n&gt; [?:?] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n&gt; [?:?] \tat java.lang.Thread.run(Thread.java:832) [?:?]\r\n\r\nI understand class loaders very will, but don&#39;t understand how this module concept is not working here.  Can you get me pointed in the right direction?","title":"ClassCastException casting a class instance to its own class because it is in an &quot;unnamed module&quot; with gradel and tomcat","body":"<p>There are many similar issues, but none I could find have the class being cast to itself.  We are using a dependency on the webp support from this project:</p>\n<pre><code>implementation &quot;org.sejda.imageio:webp-imageio:0.1.6&quot;\n</code></pre>\n<p>It works fine if we don't try to change the write params, but if we do like this:</p>\n<pre><code>Iterator imageWriters = ImageIO.getImageWritersByFormatName(&quot;webp&quot;);\nImageWriter writer = (ImageWriter) imageWriters.next();\n\nWebPWriteParam writeParam = new WebPWriteParam(null);\nwriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\nwriteParam.setCompressionType(writeParam.getCompressionTypes([WebPWriteParam.LOSSY_COMPRESSION]);\nwriteParam.setCompressionQuality(0.75f);\n\nbaos = new ByteArrayOutputStream();\nImageOutputStream ios = ImageIO.createImageOutputStream(baos);\nwriter.setOutput(ios);\nwriter.write(null, new IIOImage(img, null, null), writeParam);\n</code></pre>\n<p>We get this strange exception</p>\n<blockquote>\n<p>java.lang.ClassCastException: class\ncom.luciad.imageio.webp.WebPWriteParam cannot be cast to class\ncom.luciad.imageio.webp.WebPWriteParam\n(com.luciad.imageio.webp.WebPWriteParam is in unnamed module of loader\norg.apache.catalina.loader.ParallelWebappClassLoader @34282781;\ncom.luciad.imageio.webp.WebPWriteParam is in unnamed module of loader\norg.apache.catalina.loader.ParallelWebappClassLoader @238ad8c)    at\ncom.luciad.imageio.webp.WebPWriter.write(WebPWriter.java:67)\n~[webp-imageio-0.1.6.jar:?]   at\ncom.XXX.business.util.ImageServices$ImageSaver.run(ImageServices.java:874)\n[rcw-core.jar:?]  at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n[?:?]     at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n[?:?]     at java.lang.Thread.run(Thread.java:832) [?:?]</p>\n</blockquote>\n<p>I understand class loaders very will, but don't understand how this module concept is not working here.  Can you get me pointed in the right direction?</p>\n"},{"tags":["java","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":1611333,"reputation":4067,"user_id":1490144,"accept_rate":68,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1464385388,"creation_date":1464383905,"answer_id":37492391,"question_id":37492249,"body_markdown":"If you are using Java-based configuration, you can create your configuration class extending WebMvcConfigurerAdapter and do the following:\r\n\r\n\r\n    @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        final MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        converter.setObjectMapper(objectMapper);\r\n        converters.add(converter);\r\n        super.configureMessageConverters(converters);\r\n    }\r\n\r\nIn here, you can configure the ObjectMapper as you like and set it as a converter.","title":"How to configure jackson with spring globally?","body":"<p>If you are using Java-based configuration, you can create your configuration class extending WebMvcConfigurerAdapter and do the following:</p>\n\n<pre><code>@Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    final MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    final ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    converter.setObjectMapper(objectMapper);\n    converters.add(converter);\n    super.configureMessageConverters(converters);\n}\n</code></pre>\n\n<p>In here, you can configure the ObjectMapper as you like and set it as a converter.</p>\n"},{"tags":[],"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464384832,"creation_date":1464384832,"answer_id":37492550,"question_id":37492249,"body_markdown":"Well you can install modules for using things like java datetime or jodatime. checkout this:\r\n\r\n        @Bean\r\n        Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder() {\r\n            JavaTimeModule module = new JavaTimeModule();\r\n            module.addSerializer(OffsetDateTime.class, JSR310DateTimeSerializer.INSTANCE);\r\n            module.addSerializer(ZonedDateTime.class, JSR310DateTimeSerializer.INSTANCE);\r\n            module.addSerializer(LocalDateTime.class, JSR310DateTimeSerializer.INSTANCE);\r\n            module.addSerializer(Instant.class, JSR310DateTimeSerializer.INSTANCE);\r\n            module.addDeserializer(LocalDate.class, JSR310LocalDateDeserializer.INSTANCE);\r\n            return new Jackson2ObjectMapperBuilder()\r\n                    .featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                    .findModulesViaServiceLoader(true)\r\n                    .modulesToInstall(module);\r\n        }","title":"How to configure jackson with spring globally?","body":"<p>Well you can install modules for using things like java datetime or jodatime. checkout this:</p>\n\n<pre><code>    @Bean\n    Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder() {\n        JavaTimeModule module = new JavaTimeModule();\n        module.addSerializer(OffsetDateTime.class, JSR310DateTimeSerializer.INSTANCE);\n        module.addSerializer(ZonedDateTime.class, JSR310DateTimeSerializer.INSTANCE);\n        module.addSerializer(LocalDateTime.class, JSR310DateTimeSerializer.INSTANCE);\n        module.addSerializer(Instant.class, JSR310DateTimeSerializer.INSTANCE);\n        module.addDeserializer(LocalDate.class, JSR310LocalDateDeserializer.INSTANCE);\n        return new Jackson2ObjectMapperBuilder()\n                .featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .findModulesViaServiceLoader(true)\n                .modulesToInstall(module);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464385710,"creation_date":1464385125,"answer_id":37492609,"question_id":37492249,"body_markdown":"You can use configure your serializers (providing fully qualified class name) in spring `Jackson2ObjectMapperFactoryBean` then bind it with  `MappingJackson2HttpMessageConverter`. Here is an example `XML` configuration snippet:  \r\n\r\n    &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n       &lt;property name=&quot;objectMapper&quot;&gt;\r\n         &lt;bean class=&quot;org.springframework.web.context.support.Jackson2ObjectMapperFactoryBean&quot;\r\n           p:failOnEmptyBeans=&quot;false&quot;\r\n           p:indentOutput=&quot;true&quot;&gt;\r\n           &lt;property name=&quot;serializers&quot;&gt;\r\n             &lt;array&gt;\r\n               &lt;bean class=&quot;LocalDateSerializer&quot; /&gt;\r\n             &lt;/array&gt;\r\n           &lt;/property&gt;\r\n         &lt;/bean&gt;\r\n       &lt;/property&gt;\r\n     &lt;/bean&gt;\r\n\r\nThe [link][1] to the documentation \r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperFactoryBean.html","title":"How to configure jackson with spring globally?","body":"<p>You can use configure your serializers (providing fully qualified class name) in spring <code>Jackson2ObjectMapperFactoryBean</code> then bind it with  <code>MappingJackson2HttpMessageConverter</code>. Here is an example <code>XML</code> configuration snippet:  </p>\n\n<pre><code>&lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n   &lt;property name=\"objectMapper\"&gt;\n     &lt;bean class=\"org.springframework.web.context.support.Jackson2ObjectMapperFactoryBean\"\n       p:failOnEmptyBeans=\"false\"\n       p:indentOutput=\"true\"&gt;\n       &lt;property name=\"serializers\"&gt;\n         &lt;array&gt;\n           &lt;bean class=\"LocalDateSerializer\" /&gt;\n         &lt;/array&gt;\n       &lt;/property&gt;\n     &lt;/bean&gt;\n   &lt;/property&gt;\n &lt;/bean&gt;\n</code></pre>\n\n<p>The <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperFactoryBean.html\" rel=\"nofollow\">link</a> to the documentation </p>\n"},{"tags":[],"owner":{"account_id":6080239,"reputation":93,"user_id":4746244,"display_name":"Jan Kopeck&#253;"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513791996,"creation_date":1513791406,"answer_id":47911529,"question_id":37492249,"body_markdown":"With Spring Boot you can achieve this by registering new `Module`.\r\n\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Bean\r\n        public Module module() {\r\n            SimpleModule module = new SimpleModule(&quot;Module&quot;, new Version(1, 0, 0, null, null, null));\r\n            module.addSerializer(LocalDateTime.class, new LocalDateTimeSerializer());\r\n            module.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer());\r\n\r\n            return module;\r\n        }\r\n    }\r\n\r\nAs stated in documentation [here][1] \r\n\r\n&gt; Jackson 1.7 added ability to register serializers and deserializes via\r\n&gt; Module interface. This is the recommended way to add custom\r\n&gt; serializers -- all serializers are considered &quot;generic&quot;, in that they\r\n&gt; are used for subtypes unless more specific binding is found.\r\n\r\nand [here][2]:\r\n\r\n&gt; Any beans of type `com.fasterxml.jackson.databind.Module` are\r\n&gt; automatically registered with the auto-configured\r\n&gt; `Jackson2ObjectMapperBuilder` and are applied to any `ObjectMapper`\r\n&gt; instances that it creates. This provides a global mechanism for\r\n&gt; contributing custom modules when you add new features to your\r\n&gt; application.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToCustomSerializers\r\n  [2]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-customize-the-jackson-objectmapper","title":"How to configure jackson with spring globally?","body":"<p>With Spring Boot you can achieve this by registering new <code>Module</code>.</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public Module module() {\n        SimpleModule module = new SimpleModule(\"Module\", new Version(1, 0, 0, null, null, null));\n        module.addSerializer(LocalDateTime.class, new LocalDateTimeSerializer());\n        module.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer());\n\n        return module;\n    }\n}\n</code></pre>\n\n<p>As stated in documentation <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToCustomSerializers\" rel=\"noreferrer\">here</a> </p>\n\n<blockquote>\n  <p>Jackson 1.7 added ability to register serializers and deserializes via\n  Module interface. This is the recommended way to add custom\n  serializers -- all serializers are considered \"generic\", in that they\n  are used for subtypes unless more specific binding is found.</p>\n</blockquote>\n\n<p>and <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>Any beans of type <code>com.fasterxml.jackson.databind.Module</code> are\n  automatically registered with the auto-configured\n  <code>Jackson2ObjectMapperBuilder</code> and are applied to any <code>ObjectMapper</code>\n  instances that it creates. This provides a global mechanism for\n  contributing custom modules when you add new features to your\n  application.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4996148,"reputation":462,"user_id":4016683,"display_name":"Pavan Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618562335,"creation_date":1618562335,"answer_id":67121878,"question_id":37492249,"body_markdown":"One more solution similar to @Jaiwo99 in the thread. We can register JavaTime module directly to ObjectMapper\r\n\r\n    @Bean\r\n    public Object registerJavaTimeModuleForJackson(){\r\n        return new Object(){\r\n            @Autowired\r\n            private ObjectMapper objectMapper;\r\n    \r\n            @PostConstruct\r\n            public void registerJavaTimeModuleForJackson(){\r\n               objectMapper.registerModule(new JavaTimeModule());\r\n            }\r\n        };\r\n    }\r\n\r\nI am using springboot 2.4.5","title":"How to configure jackson with spring globally?","body":"<p>One more solution similar to @Jaiwo99 in the thread. We can register JavaTime module directly to ObjectMapper</p>\n<pre><code>@Bean\npublic Object registerJavaTimeModuleForJackson(){\n    return new Object(){\n        @Autowired\n        private ObjectMapper objectMapper;\n\n        @PostConstruct\n        public void registerJavaTimeModuleForJackson(){\n           objectMapper.registerModule(new JavaTimeModule());\n        }\n    };\n}\n</code></pre>\n<p>I am using springboot 2.4.5</p>\n"},{"tags":[],"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650596315,"creation_date":1650596315,"answer_id":71962993,"question_id":37492249,"body_markdown":"I tried some of answered solutions but none of them worked for me and this is what i did\r\n```java\r\n@Override\r\npublic void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    converters.forEach(converter -&gt; {\r\n        if(converter.getClass().equals(MappingJackson2HttpMessageConverter.class)) {\r\n            ObjectMapper objectMapper = ((MappingJackson2HttpMessageConverter) converter).getObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n        }\r\n    });\r\n}\r\n```\r\nAnd use `extendMessageConverters` instead of `configureMessageConverters` since it turns off default converter registration.","title":"How to configure jackson with spring globally?","body":"<p>I tried some of answered solutions but none of them worked for me and this is what i did</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    converters.forEach(converter -&gt; {\n        if(converter.getClass().equals(MappingJackson2HttpMessageConverter.class)) {\n            ObjectMapper objectMapper = ((MappingJackson2HttpMessageConverter) converter).getObjectMapper();\n            objectMapper.registerModule(new JavaTimeModule());\n        }\n    });\n}\n</code></pre>\n<p>And use <code>extendMessageConverters</code> instead of <code>configureMessageConverters</code> since it turns off default converter registration.</p>\n"}],"owner":{"account_id":1998529,"reputation":2325,"user_id":1790128,"accept_rate":52,"display_name":"Nabil Sham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26376,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1650596315,"creation_date":1464383137,"question_id":37492249,"body_markdown":"To serialize deserialize object I am useing Jackson as flow\r\n\r\n    @JsonSerialize(using = LocalDateSerializer.class)\r\n    @JsonDeserialize(using = LocalDateDeserializer.class)\r\n    private LocalDate openingDate \r\n\r\nHow do I make this the default globally so I do not have to add it to every property ? \r\n\r\nUsing XML configuration. ","title":"How to configure jackson with spring globally?","body":"<p>To serialize deserialize object I am useing Jackson as flow</p>\n\n<pre><code>@JsonSerialize(using = LocalDateSerializer.class)\n@JsonDeserialize(using = LocalDateDeserializer.class)\nprivate LocalDate openingDate \n</code></pre>\n\n<p>How do I make this the default globally so I do not have to add it to every property ? </p>\n\n<p>Using XML configuration. </p>\n"},{"tags":["java","swing","user-interface","layout-manager","miglayout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1650419367,"post_id":71932847,"comment_id":127109225,"body_markdown":"(1-) *there are two frames* - your code only has a single frame. You appear to be using multiple panels. Use proper terminology so we can understand the question. Also why do you refer to a scroll pane as a &quot;scroll bar&quot;. Again use proper terminology so everybody knows what you are talking about.","body":"(1-) <i>there are two frames</i> - your code only has a single frame. You appear to be using multiple panels. Use proper terminology so we can understand the question. Also why do you refer to a scroll pane as a &quot;scroll bar&quot;. Again use proper terminology so everybody knows what you are talking about."}],"answers":[{"tags":[],"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650551325,"creation_date":1650551325,"answer_id":71956221,"question_id":71932847,"body_markdown":"Try the following:\r\n\r\n    JPanel panel = new JPanel(new GridLayout(9, 9));\r\n    panel.setPreferredSize(new Dimension(800, 20*9));\r\n    JPanel top = new JPanel(new GridLayout(1, 9));\r\n    top.setPreferredSize(new Dimension(800, 20));\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t know exactly what you want to do, but maybe a JTable can help you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QVvdP.png","title":"How to align columns in different MigLayout panels?","body":"<p>Try the following:</p>\n<pre><code>JPanel panel = new JPanel(new GridLayout(9, 9));\npanel.setPreferredSize(new Dimension(800, 20*9));\nJPanel top = new JPanel(new GridLayout(1, 9));\ntop.setPreferredSize(new Dimension(800, 20));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QVvdP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QVvdP.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know exactly what you want to do, but maybe a JTable can help you!</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650596040,"creation_date":1650596040,"answer_id":71962968,"question_id":71932847,"body_markdown":"&gt; Does anyone have any ideas on how I can achieve this?\r\n&gt; \r\n&gt; &lt;img src=&quot;https://i.stack.imgur.com/h88oY.png&quot;&gt;\r\n\r\nThis would be perfect for the `JTable`. \r\n\r\nForget all the panels and layouts and create a `TableModel` that represents the column names and data. Add the model to the constructor of a table. Create appropriate renderers and editors (radio buttons, checkboxes, combo boxes, text fields and areas etc.) for the columns as needed. \r\n\r\nConfigure the table for auto sort and you will have provided the user with functionality that *could not be achieved* using layouts.\r\n\r\nSee [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) for more details on all the above.","title":"How to align columns in different MigLayout panels?","body":"<blockquote>\n<p>Does anyone have any ideas on how I can achieve this?</p>\n<img src=\"https://i.stack.imgur.com/h88oY.png\">\n</blockquote>\n<p>This would be perfect for the <code>JTable</code>.</p>\n<p>Forget all the panels and layouts and create a <code>TableModel</code> that represents the column names and data. Add the model to the constructor of a table. Create appropriate renderers and editors (radio buttons, checkboxes, combo boxes, text fields and areas etc.) for the columns as needed.</p>\n<p>Configure the table for auto sort and you will have provided the user with functionality that <em>could not be achieved</em> using layouts.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> for more details on all the above.</p>\n"}],"owner":{"account_id":25007710,"reputation":25,"user_id":18867476,"display_name":"TendedOcean7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71962968,"answer_count":2,"score":1,"last_activity_date":1650596040,"creation_date":1650415174,"question_id":71932847,"body_markdown":"I have been working on a GUI where at its most basic, there are two panels where one acts as the header for a table that comprises the second. I am using two panels because there are situations where there may be many rows, so the second panel is passed through a Jscrollbar. This creates the effect of a &quot;sticky&quot; top row and being able to scroll through the bottom row. It is also worth noting that the components of the 2nd panel are JLabels, JCheckBoxs, and JTextAreas.\r\n\r\nAll of this to say that my problem is that I can&#39;t find a way to have the labels and the data line up. I have tried many different ways within MigLayout using component constraints and column constraints to no avail. Does anyone have any ideas on how I can achieve this? \r\n\r\nHere is an example of what it looks like as of now: \r\n\r\n[![][1]][1]\r\n\r\nHere is my code as well: \r\n\r\n\r\n    public class help implements ActionListener {\r\n \r\n    public help(ArrayList&lt;Integer&gt; in){\r\n        fighters = in;\r\n        frame = new JFrame();\r\n        frame.setTitle(&quot;&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        MigLayout layout = new MigLayout(\r\n                &quot;wrap 9&quot;,\r\n                &quot;[175, grow] [175, grow] [175, grow] [175, grow] [175, grow] [175, grow] [175, grow] &quot; +\r\n                        &quot;[175, grow] [175, grow]&quot;,\r\n                &quot;&quot;\r\n        );\r\n        MigLayout layout2 = new MigLayout(\r\n                &quot;wrap 9&quot;,\r\n                &quot;[grow] [grow] [grow] [grow] [grow] [grow] [grow, fill] &quot; +\r\n                        &quot;[grow] [grow]&quot;,\r\n                &quot;&quot;\r\n        );\r\n\r\n        JPanel panel = new JPanel(layout2);\r\n        JPanel top = new JPanel(layout2);\r\n        data = new Component[in.size()][9];\r\n        for (int i = 0; i &lt; in.size(); i++) {\r\n            data[i][7] = new JLabel(&quot;Label 1 Row &quot; + i);\r\n            panel.add(data[i][7]);\r\n            data[i][0] = new JLabel();\r\n            panel.add(data[i][0]);\r\n            data[i][1] = new JLabel(&quot;Label 2 Row &quot; + i);\r\n            panel.add(data[i][1]);\r\n            data[i][2] = new JLabel(&quot;Label 3 Row &quot; + i);\r\n            panel.add(data[i][2]);\r\n            data[i][3] = new JLabel(&quot;Label 4 Row &quot; + i);\r\n            panel.add(data[i][3]);\r\n            data[i][4] = new JLabel(&quot;Label 5 Row &quot; + i);\r\n            panel.add(data[i][4]);\r\n            data[i][5] = new JCheckBox();\r\n            JCheckBox a = (JCheckBox) data[i][5];\r\n            a.addActionListener(this);\r\n            panel.add(data[i][5]);\r\n            data[i][6] = new JCheckBox();\r\n            JCheckBox r = (JCheckBox) data[i][6];\r\n            r.addActionListener(this);\r\n            panel.add(data[i][6]);\r\n            data[i][8] = new JTextArea(&quot;&quot;, 5, 20);\r\n            panel.add(data[i][8]);\r\n\r\n        }\r\n        top.add((new JLabel(&quot;Label 1&quot;)));\r\n        top.add(new JLabel(&quot;Label 2&quot;));\r\n        top.add(new JLabel(&quot;Label 3&quot;));\r\n        top.add(new JLabel(&quot;Label 4&quot;));\r\n        top.add(new JLabel(&quot;Label 5&quot;));\r\n        top.add(new JLabel(&quot;Label 6&quot;));\r\n        top.add(new JLabel(&quot;Label 7&quot;));\r\n        top.add(new JLabel(&quot;Label 8&quot;));\r\n        top.add(new JLabel(&quot;Label 9&quot;));\r\n        scrollBar = new JScrollPane(panel);\r\n        scrollBar.setPreferredSize(new Dimension(1000, 600));\r\n        scrollBar.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n        scrollBar.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n        frame.add(top, BorderLayout.NORTH);\r\n        frame.add(scrollBar);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n    }\r\n    }\r\n\r\n\r\nMain Class: \r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 50; i++) {\r\n            list.add(i);\r\n        }\r\n        new help(list);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h88oY.png","title":"How to align columns in different MigLayout panels?","body":"<p>I have been working on a GUI where at its most basic, there are two panels where one acts as the header for a table that comprises the second. I am using two panels because there are situations where there may be many rows, so the second panel is passed through a Jscrollbar. This creates the effect of a &quot;sticky&quot; top row and being able to scroll through the bottom row. It is also worth noting that the components of the 2nd panel are JLabels, JCheckBoxs, and JTextAreas.</p>\n<p>All of this to say that my problem is that I can't find a way to have the labels and the data line up. I have tried many different ways within MigLayout using component constraints and column constraints to no avail. Does anyone have any ideas on how I can achieve this?</p>\n<p>Here is an example of what it looks like as of now:</p>\n<p><a href=\"https://i.stack.imgur.com/h88oY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h88oY.png\" alt=\"\" /></a></p>\n<p>Here is my code as well:</p>\n<pre><code>public class help implements ActionListener {\n\npublic help(ArrayList&lt;Integer&gt; in){\n    fighters = in;\n    frame = new JFrame();\n    frame.setTitle(&quot;&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n    MigLayout layout = new MigLayout(\n            &quot;wrap 9&quot;,\n            &quot;[175, grow] [175, grow] [175, grow] [175, grow] [175, grow] [175, grow] [175, grow] &quot; +\n                    &quot;[175, grow] [175, grow]&quot;,\n            &quot;&quot;\n    );\n    MigLayout layout2 = new MigLayout(\n            &quot;wrap 9&quot;,\n            &quot;[grow] [grow] [grow] [grow] [grow] [grow] [grow, fill] &quot; +\n                    &quot;[grow] [grow]&quot;,\n            &quot;&quot;\n    );\n\n    JPanel panel = new JPanel(layout2);\n    JPanel top = new JPanel(layout2);\n    data = new Component[in.size()][9];\n    for (int i = 0; i &lt; in.size(); i++) {\n        data[i][7] = new JLabel(&quot;Label 1 Row &quot; + i);\n        panel.add(data[i][7]);\n        data[i][0] = new JLabel();\n        panel.add(data[i][0]);\n        data[i][1] = new JLabel(&quot;Label 2 Row &quot; + i);\n        panel.add(data[i][1]);\n        data[i][2] = new JLabel(&quot;Label 3 Row &quot; + i);\n        panel.add(data[i][2]);\n        data[i][3] = new JLabel(&quot;Label 4 Row &quot; + i);\n        panel.add(data[i][3]);\n        data[i][4] = new JLabel(&quot;Label 5 Row &quot; + i);\n        panel.add(data[i][4]);\n        data[i][5] = new JCheckBox();\n        JCheckBox a = (JCheckBox) data[i][5];\n        a.addActionListener(this);\n        panel.add(data[i][5]);\n        data[i][6] = new JCheckBox();\n        JCheckBox r = (JCheckBox) data[i][6];\n        r.addActionListener(this);\n        panel.add(data[i][6]);\n        data[i][8] = new JTextArea(&quot;&quot;, 5, 20);\n        panel.add(data[i][8]);\n\n    }\n    top.add((new JLabel(&quot;Label 1&quot;)));\n    top.add(new JLabel(&quot;Label 2&quot;));\n    top.add(new JLabel(&quot;Label 3&quot;));\n    top.add(new JLabel(&quot;Label 4&quot;));\n    top.add(new JLabel(&quot;Label 5&quot;));\n    top.add(new JLabel(&quot;Label 6&quot;));\n    top.add(new JLabel(&quot;Label 7&quot;));\n    top.add(new JLabel(&quot;Label 8&quot;));\n    top.add(new JLabel(&quot;Label 9&quot;));\n    scrollBar = new JScrollPane(panel);\n    scrollBar.setPreferredSize(new Dimension(1000, 600));\n    scrollBar.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\n    scrollBar.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n    frame.add(top, BorderLayout.NORTH);\n    frame.add(scrollBar);\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n\n}\n}\n</code></pre>\n<p>Main Class:</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; 50; i++) {\n        list.add(i);\n    }\n    new help(list);\n}\n}\n</code></pre>\n"},{"tags":["java","datetime","datetime-format","zoneddatetime","java-17"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1650040709,"post_id":71886611,"comment_id":127030107,"body_markdown":"That looks like a value that&#39;s May 25th about 190 million years BC. It appears to be within the range of values that java.time supports... which surprises me, but if you accept that range, it looks like a reasonable string.","body":"That looks like a value that&#39;s May 25th about 190 million years BC. It appears to be within the range of values that java.time supports... which surprises me, but if you accept that range, it looks like a reasonable string."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1650041446,"post_id":71886611,"comment_id":127030284,"body_markdown":"The minimum supported year seems to be [-999999999](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/Year.html#MIN_VALUE).","body":"The minimum supported year seems to be <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/Year.html#MIN_VALUE\" rel=\"nofollow noreferrer\">-999999999</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650594761,"creation_date":1650041332,"answer_id":71886727,"question_id":71886611,"body_markdown":"# tl;dr\r\n\r\nThis: \r\n\r\n    Instant.parse( &quot;-190732550-05-25T15:14:51.136Z&quot; )\r\n\r\n… succeeds because your input of a few hundreds of millions of years lies within the range of +/- one billion years in that class. \r\n\r\n\r\n# -1,000,000,000 &lt; -190,732,550 &lt; +1,000,000,000\r\n\r\n\r\nUse `Instant` class to parse an input string ending in `Z`, which means an offset from UTC of zero hours-minutes-seconds. No time zone involved, so no need for `ZonedDateTime`. \r\n\r\n    Instant instant = Instant.parse( &quot;-190732550-05-25T15:14:51.136Z&quot; ) ;\r\n\r\nThis input will indeed be parsed successfully. You are supplying a year that lies within the range of possible values for that data type. \r\n\r\nThe minimum value for `Instant` is represented in the predefined constant [`Instant.MIN`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#MIN). To quote the Javadoc:\r\n\r\n&gt;The minimum supported Instant, &#39;-1000000000-01-01T00:00Z&#39;.\r\n\r\nThat is the year -1,000,000,000 (one billion).  \r\n\r\nYou input year is only -190,732,550 (hundreds of millions). So your value fits within the accepted range of +/- one billion years. \r\n\r\nThe `Instant` class is currently implemented as a pair of 64-bit `long` integers. One is for a number of whole seconds since the first moment of 1970 UTC. The other is for a count of nanoseconds in the fractional second. So this class is capable of supporting a wide range of values. \r\n\r\n## Positivity\r\n\r\nNote that positive-numbered years with more than four digits must prepend a PLUS SIGN character. \r\n\r\nTo quote the Javadoc for the predefined constant [`DateTimeFormatter`][1] named [`ISO_LOCAL_DATE`][2], which is used by [`ISO_LOCAL_DATE_TIME`][3], which is used by [`ISO_OFFSET_DATE_TIME`][4], which is used by [`ISO_INSTANT`][5] when calling [`Instant.parse`][6] (emphasis mine):\r\n\r\n&gt;Four digits or more for the year. Years in the range 0000 to 9999 will be pre-padded by zero to ensure four digits. Years outside that range will have **a prefixed positive or negative symbol.**\r\n\r\nThis succeeds:\r\n\r\n    Instant.parse( &quot;+190732550-05-25T15:14:51.136Z&quot; ) \r\n\r\n… whereas this fails:\r\n\r\n    Instant.parse( &quot;190732550-05-25T15:14:51.136Z&quot; ) \r\n\r\nSee this [code run live at IdeOne.com][7].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\r\n  [7]: https://ideone.com/qMoH9P","title":"Why &quot;-190732550-MM-ddTHH:mm:ss.SSSZ&quot; datetime does not fail to parse","body":"<h1>tl;dr</h1>\n<p>This:</p>\n<pre><code>Instant.parse( &quot;-190732550-05-25T15:14:51.136Z&quot; )\n</code></pre>\n<p>… succeeds because your input of a few hundreds of millions of years lies within the range of +/- one billion years in that class.</p>\n<h1>-1,000,000,000 &lt; -190,732,550 &lt; +1,000,000,000</h1>\n<p>Use <code>Instant</code> class to parse an input string ending in <code>Z</code>, which means an offset from UTC of zero hours-minutes-seconds. No time zone involved, so no need for <code>ZonedDateTime</code>.</p>\n<pre><code>Instant instant = Instant.parse( &quot;-190732550-05-25T15:14:51.136Z&quot; ) ;\n</code></pre>\n<p>This input will indeed be parsed successfully. You are supplying a year that lies within the range of possible values for that data type.</p>\n<p>The minimum value for <code>Instant</code> is represented in the predefined constant <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#MIN\" rel=\"nofollow noreferrer\"><code>Instant.MIN</code></a>. To quote the Javadoc:</p>\n<blockquote>\n<p>The minimum supported Instant, '-1000000000-01-01T00:00Z'.</p>\n</blockquote>\n<p>That is the year -1,000,000,000 (one billion).</p>\n<p>You input year is only -190,732,550 (hundreds of millions). So your value fits within the accepted range of +/- one billion years.</p>\n<p>The <code>Instant</code> class is currently implemented as a pair of 64-bit <code>long</code> integers. One is for a number of whole seconds since the first moment of 1970 UTC. The other is for a count of nanoseconds in the fractional second. So this class is capable of supporting a wide range of values.</p>\n<h2>Positivity</h2>\n<p>Note that positive-numbered years with more than four digits must prepend a PLUS SIGN character.</p>\n<p>To quote the Javadoc for the predefined constant <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> named <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"nofollow noreferrer\"><code>ISO_LOCAL_DATE</code></a>, which is used by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\"><code>ISO_LOCAL_DATE_TIME</code></a>, which is used by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME\" rel=\"nofollow noreferrer\"><code>ISO_OFFSET_DATE_TIME</code></a>, which is used by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\"><code>ISO_INSTANT</code></a> when calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Instant.parse</code></a> (emphasis mine):</p>\n<blockquote>\n<p>Four digits or more for the year. Years in the range 0000 to 9999 will be pre-padded by zero to ensure four digits. Years outside that range will have <strong>a prefixed positive or negative symbol.</strong></p>\n</blockquote>\n<p>This succeeds:</p>\n<pre><code>Instant.parse( &quot;+190732550-05-25T15:14:51.136Z&quot; ) \n</code></pre>\n<p>… whereas this fails:</p>\n<pre><code>Instant.parse( &quot;190732550-05-25T15:14:51.136Z&quot; ) \n</code></pre>\n<p>See this <a href=\"https://ideone.com/qMoH9P\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n"}],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71886727,"answer_count":1,"score":0,"last_activity_date":1650594761,"creation_date":1650040526,"question_id":71886611,"body_markdown":"Consider the following snippet:\r\n\r\n    String dateTimeStr = &quot;-190732550-05-25T15:14:51.136Z&quot;;\r\n    ZonedDateTime dateTime = ZonedDateTime.parse(dateTimeStr).withZoneSameInstant(ZoneOffset.UTC);\r\n\r\n    log.info(&quot;String: {}&quot;, dateTimeStr);\r\n    log.info(&quot;ZonedDateTime: {}&quot;, dateTime);\r\n    log.info(&quot;EpochMilli: {}&quot;, dateTime.toInstant().toEpochMilli());\r\n\r\nOutput:\r\n\r\n    String: -190732550-05-25T15:14:51.136Z\r\n    ZonedDateTime: -190732550-05-25T15:14:51.136Z\r\n    EpochMilli: -6019000079877908864\r\n\r\nI expected the above would throw `java.time.format.DateTimeParseException`.\r\n\r\n**Edit**\r\n\r\n`&quot;190732550-05-25T15:14:51.136Z&quot;` throws `java.time.format.DateTimeParseException`. Shouldn&#39;t be valid too? ","title":"Why &quot;-190732550-MM-ddTHH:mm:ss.SSSZ&quot; datetime does not fail to parse","body":"<p>Consider the following snippet:</p>\n<pre><code>String dateTimeStr = &quot;-190732550-05-25T15:14:51.136Z&quot;;\nZonedDateTime dateTime = ZonedDateTime.parse(dateTimeStr).withZoneSameInstant(ZoneOffset.UTC);\n\nlog.info(&quot;String: {}&quot;, dateTimeStr);\nlog.info(&quot;ZonedDateTime: {}&quot;, dateTime);\nlog.info(&quot;EpochMilli: {}&quot;, dateTime.toInstant().toEpochMilli());\n</code></pre>\n<p>Output:</p>\n<pre><code>String: -190732550-05-25T15:14:51.136Z\nZonedDateTime: -190732550-05-25T15:14:51.136Z\nEpochMilli: -6019000079877908864\n</code></pre>\n<p>I expected the above would throw <code>java.time.format.DateTimeParseException</code>.</p>\n<p><strong>Edit</strong></p>\n<p><code>&quot;190732550-05-25T15:14:51.136Z&quot;</code> throws <code>java.time.format.DateTimeParseException</code>. Shouldn't be valid too?</p>\n"},{"tags":["java","constructor","this"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1650564473,"post_id":71958923,"comment_id":127154396,"body_markdown":"If you are on Eclipse you can right click your class, select Source =&gt; Generate Constructor using Fields, and it will make a constructor that is populated using all the current fields so you don&#39;t need to manually type them all.","body":"If you are on Eclipse you can right click your class, select Source =&gt; Generate Constructor using Fields, and it will make a constructor that is populated using all the current fields so you don&#39;t need to manually type them all."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650564446,"creation_date":1650564446,"answer_id":71959019,"question_id":71958923,"body_markdown":"Sorry, the only way to avoid this is to have different names for your constructor parameters and for your class fields.\r\n\r\n```\r\n    public Test(String _name, String _email) {\r\n        // I want to avoid this\r\n        name = _name;\r\n        email = _email;\r\n    }\r\n```\r\n\r\nThat said, you might have better luck using Java 16+&#39;s record syntax.","title":"How to avoid calling this.field for every field in a java class","body":"<p>Sorry, the only way to avoid this is to have different names for your constructor parameters and for your class fields.</p>\n<pre><code>    public Test(String _name, String _email) {\n        // I want to avoid this\n        name = _name;\n        email = _email;\n    }\n</code></pre>\n<p>That said, you might have better luck using Java 16+'s record syntax.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650594466,"creation_date":1650564448,"answer_id":71959020,"question_id":71958923,"body_markdown":"The use of `this` is only required in cases of name collisions, to resolve the ambiguity. \r\n\r\nSome programmers like me prefer using the `this.` prefix routinely, whereas other use only where necessary.\r\n\r\nSee [Answer by Wasserman][1] for an example of how to avoid naming collision. \r\n\r\n# Use the IDE, Luke\r\n\r\nYour IDE will generate constructors, accessors (getters/setters), `equals` &amp; `hashCode`, `toString`, and so on. So you need not type `this.`; let the machine do the typing. \r\n\r\nUse custom settings to control whether you want the IDE to include or omit `this.` prefixes.\r\n\r\n# `record`\r\n\r\nYou may be interested in using the [records][2] feature, new in Java 16+. A record is a brief way to write a class whose main purpose is to communicate data transparently and immutably. \r\n\r\nWith a record, by default, the compiler implicitly writes the constructor, getters, `equals` &amp; `hashCode`, and `toString`. The implicitly created constructor populates each and every member field on your behalf. You write none of that code. \r\n\r\nHere is your *entire* example class when written as a record. No `this` required. All your member fields are automatically assigned.\r\n\r\n    public record Test ( String name , String email ) {}\r\n\r\nBe cautious in using records. The reason for their invention was *not* writing less code. The reason was to provide an explicit mechanism for transmitting immutable data transparently, a “nominal tuple” in academic-speak. Less boilerplate coding is merely a nice side-effect. I highly recommend reading [JEP 395][2] for more explanation. \r\n\r\n\r\n----------\r\n\r\n\r\nTip: You can combine the two points of this Answer. Ask your IDE to generate a full-blown class by starting with a record. \r\n\r\n 1. Write a record with all your member fields listed in the parentheses.\r\n 2. Invoke your IDE to convert from a `record` to a `class`. \r\n\r\nVoil&#224;, you have a complete class with constructor, accessors, `equals` &amp; `hashCode`, and `toString` all written out with an absolute minimum of typing by you. \r\n\r\nFor example, in IntelliJ 2022, choosing *Convert record to class* from the light-bulb icon menu turns this:\r\n\r\n    public record Test ( String name , String email ) {}\r\n\r\n… into this:\r\n\r\n```java\r\npackage work.basil.example.recs;\r\n\r\nimport java.util.Objects;\r\n\r\npublic final class Test\r\n{\r\n    private final String name;\r\n    private final String email;\r\n\r\n    public Test ( String name , String email )\r\n    {\r\n        this.name = name;\r\n        this.email = email;\r\n    }\r\n\r\n    public String name ( ) { return name; }\r\n\r\n    public String email ( ) { return email; }\r\n\r\n    @Override\r\n    public boolean equals ( Object obj )\r\n    {\r\n        if ( obj == this ) { return true; }\r\n        if ( obj == null || obj.getClass() != this.getClass() ) { return false; }\r\n        var that = ( Test ) obj;\r\n        return Objects.equals( this.name , that.name ) &amp;&amp;\r\n                Objects.equals( this.email , that.email );\r\n    }\r\n\r\n    @Override\r\n    public int hashCode ( )\r\n    {\r\n        return Objects.hash( name , email );\r\n    }\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;Test[&quot; +\r\n                &quot;name=&quot; + name + &quot;, &quot; +\r\n                &quot;email=&quot; + email + &#39;]&#39;;\r\n    }\r\n}\r\n```\r\n\r\nCaveat: That result may not be the default. I may have altered the settings in IntelliJ. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71959019/642706\r\n  [2]: http://openjdk.java.net/jeps/395","title":"How to avoid calling this.field for every field in a java class","body":"<p>The use of <code>this</code> is only required in cases of name collisions, to resolve the ambiguity.</p>\n<p>Some programmers like me prefer using the <code>this.</code> prefix routinely, whereas other use only where necessary.</p>\n<p>See <a href=\"https://stackoverflow.com/a/71959019/642706\">Answer by Wasserman</a> for an example of how to avoid naming collision.</p>\n<h1>Use the IDE, Luke</h1>\n<p>Your IDE will generate constructors, accessors (getters/setters), <code>equals</code> &amp; <code>hashCode</code>, <code>toString</code>, and so on. So you need not type <code>this.</code>; let the machine do the typing.</p>\n<p>Use custom settings to control whether you want the IDE to include or omit <code>this.</code> prefixes.</p>\n<h1><code>record</code></h1>\n<p>You may be interested in using the <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature, new in Java 16+. A record is a brief way to write a class whose main purpose is to communicate data transparently and immutably.</p>\n<p>With a record, by default, the compiler implicitly writes the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>. The implicitly created constructor populates each and every member field on your behalf. You write none of that code.</p>\n<p>Here is your <em>entire</em> example class when written as a record. No <code>this</code> required. All your member fields are automatically assigned.</p>\n<pre><code>public record Test ( String name , String email ) {}\n</code></pre>\n<p>Be cautious in using records. The reason for their invention was <em>not</em> writing less code. The reason was to provide an explicit mechanism for transmitting immutable data transparently, a “nominal tuple” in academic-speak. Less boilerplate coding is merely a nice side-effect. I highly recommend reading <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a> for more explanation.</p>\n<hr />\n<p>Tip: You can combine the two points of this Answer. Ask your IDE to generate a full-blown class by starting with a record.</p>\n<ol>\n<li>Write a record with all your member fields listed in the parentheses.</li>\n<li>Invoke your IDE to convert from a <code>record</code> to a <code>class</code>.</li>\n</ol>\n<p>Voilà, you have a complete class with constructor, accessors, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code> all written out with an absolute minimum of typing by you.</p>\n<p>For example, in IntelliJ 2022, choosing <em>Convert record to class</em> from the light-bulb icon menu turns this:</p>\n<pre><code>public record Test ( String name , String email ) {}\n</code></pre>\n<p>… into this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.recs;\n\nimport java.util.Objects;\n\npublic final class Test\n{\n    private final String name;\n    private final String email;\n\n    public Test ( String name , String email )\n    {\n        this.name = name;\n        this.email = email;\n    }\n\n    public String name ( ) { return name; }\n\n    public String email ( ) { return email; }\n\n    @Override\n    public boolean equals ( Object obj )\n    {\n        if ( obj == this ) { return true; }\n        if ( obj == null || obj.getClass() != this.getClass() ) { return false; }\n        var that = ( Test ) obj;\n        return Objects.equals( this.name , that.name ) &amp;&amp;\n                Objects.equals( this.email , that.email );\n    }\n\n    @Override\n    public int hashCode ( )\n    {\n        return Objects.hash( name , email );\n    }\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;Test[&quot; +\n                &quot;name=&quot; + name + &quot;, &quot; +\n                &quot;email=&quot; + email + ']';\n    }\n}\n</code></pre>\n<p>Caveat: That result may not be the default. I may have altered the settings in IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650564951,"creation_date":1650564951,"answer_id":71959128,"question_id":71958923,"body_markdown":"As suggested, using records is the easiest way:\r\n\r\n    public record Test (String name, String email) {\r\n    }\r\n\r\nThat&#39;s all you need. What you then get:\r\n* A constructor that takes all arguments, in the same order as the field list\r\n* A method for each field. This does *not* start with `get`. In this case, the methods are `name()` and `email()`.\r\n* `equals`, `hashCode` and `toString` implementations that use all fields.\r\n\r\nThere is no need for a copy constructor, because every field is automatically final.\r\n\r\n---\r\n\r\nIf you want, you can add extra constructors. However, they *must* delegate to the automatically generated constructor, because that&#39;s the one that sets the fields. Adding additional utility methods is also fine.\r\n\r\nAnd if needed, you can add validation to the generated constructor. There&#39;s special syntax that allows you to omit all the field names:\r\n\r\n    public record Test (String name, String email) {\r\n        public Test {\r\n            Objects.requireNonNull(name);\r\n            Objects.requireNonNull(email);\r\n        }\r\n    }\r\n\r\nThe assignments are done for you, there&#39;s no need to type those either.","title":"How to avoid calling this.field for every field in a java class","body":"<p>As suggested, using records is the easiest way:</p>\n<pre><code>public record Test (String name, String email) {\n}\n</code></pre>\n<p>That's all you need. What you then get:</p>\n<ul>\n<li>A constructor that takes all arguments, in the same order as the field list</li>\n<li>A method for each field. This does <em>not</em> start with <code>get</code>. In this case, the methods are <code>name()</code> and <code>email()</code>.</li>\n<li><code>equals</code>, <code>hashCode</code> and <code>toString</code> implementations that use all fields.</li>\n</ul>\n<p>There is no need for a copy constructor, because every field is automatically final.</p>\n<hr />\n<p>If you want, you can add extra constructors. However, they <em>must</em> delegate to the automatically generated constructor, because that's the one that sets the fields. Adding additional utility methods is also fine.</p>\n<p>And if needed, you can add validation to the generated constructor. There's special syntax that allows you to omit all the field names:</p>\n<pre><code>public record Test (String name, String email) {\n    public Test {\n        Objects.requireNonNull(name);\n        Objects.requireNonNull(email);\n    }\n}\n</code></pre>\n<p>The assignments are done for you, there's no need to type those either.</p>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650565166,"creation_date":1650565166,"answer_id":71959174,"question_id":71958923,"body_markdown":"You need this.x everytime, if there are 2 or more variables, which are called x and you want to call the attribute variable x. \r\nThe this keyword is used, to point on an attribute variable of the created instance (object) of the class. \r\n\r\nThere could be an attribute, that is called x, and a local variable which is called x too. \r\n","title":"How to avoid calling this.field for every field in a java class","body":"<p>You need this.x everytime, if there are 2 or more variables, which are called x and you want to call the attribute variable x.\nThe this keyword is used, to point on an attribute variable of the created instance (object) of the class.</p>\n<p>There could be an attribute, that is called x, and a local variable which is called x too.</p>\n"}],"owner":{"account_id":15917603,"reputation":717,"user_id":13944505,"display_name":"Dr4kk0nnys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71959020,"answer_count":4,"score":1,"last_activity_date":1650594466,"creation_date":1650563934,"question_id":71958923,"body_markdown":"Is there a way to avoid calling this.field for every field in a class ?\r\n\r\n```java\r\npublic class Test {\r\n    private String name;\r\n    private String email;\r\n\r\n    public Test(String name, String email) {\r\n        // I want to avoid this\r\n        this.name = name;\r\n        this.email = email;\r\n    }\r\n\r\n    public Test(Test test) {\r\n        // Something like this would be perfect, setting both name and email to test\r\n        this(test);\r\n    }\r\n}\r\n```","title":"How to avoid calling this.field for every field in a java class","body":"<p>Is there a way to avoid calling this.field for every field in a class ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    private String name;\n    private String email;\n\n    public Test(String name, String email) {\n        // I want to avoid this\n        this.name = name;\n        this.email = email;\n    }\n\n    public Test(Test test) {\n        // Something like this would be perfect, setting both name and email to test\n        this(test);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650593284,"creation_date":1650593284,"answer_id":71962708,"question_id":71962689,"body_markdown":"`int` is a primitive type in Java, so it will never be `null`. If you want to keep track of how much of the array you&#39;ve &quot;used&quot;, you can add a second field to the class to keep up with it.\r\n\r\n    public class MyArrayList {\r\n\r\n      private final int[] data;\r\n      private int index;\r\n\r\n      public MyArrayList() {\r\n        data = new int[6];\r\n        index = 0;\r\n      }\r\n\r\n      ...\r\n\r\n    }\r\n\r\nThen whenever you &quot;push&quot; something new to the list, you put it at the `index` position and increment `index`. If `index` is ever equal to the length of the list, then you&#39;ve exhausted the space you allocated.","title":"How do I detect if a value has been added to array slot? (java)","body":"<p><code>int</code> is a primitive type in Java, so it will never be <code>null</code>. If you want to keep track of how much of the array you've &quot;used&quot;, you can add a second field to the class to keep up with it.</p>\n<pre><code>public class MyArrayList {\n\n  private final int[] data;\n  private int index;\n\n  public MyArrayList() {\n    data = new int[6];\n    index = 0;\n  }\n\n  ...\n\n}\n</code></pre>\n<p>Then whenever you &quot;push&quot; something new to the list, you put it at the <code>index</code> position and increment <code>index</code>. If <code>index</code> is ever equal to the length of the list, then you've exhausted the space you allocated.</p>\n"},{"tags":[],"owner":{"account_id":2862360,"reputation":814,"user_id":2457352,"accept_rate":80,"display_name":"David SK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650594309,"creation_date":1650594309,"answer_id":71962804,"question_id":71962689,"body_markdown":"Use the Integer class instead of the primitive type. It allows to assign a value  or a null value. With this you can apply the logic that you described.\r\n\r\n\r\n    data = new Integer[6];\r\n\r\n    if (data[5] == null)\r\n        data[5] = value;\r\n\r\n","title":"How do I detect if a value has been added to array slot? (java)","body":"<p>Use the Integer class instead of the primitive type. It allows to assign a value  or a null value. With this you can apply the logic that you described.</p>\n<pre><code>data = new Integer[6];\n\nif (data[5] == null)\n    data[5] = value;\n</code></pre>\n"}],"owner":{"account_id":25045552,"reputation":1,"user_id":18902001,"display_name":"Tachanko 狐"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650594309,"creation_date":1650593067,"question_id":71962689,"body_markdown":"I am a beginner programmer and i&#39;ve gotten stuck.\r\n\r\nI&#39;ve set up an array here which has worked how I want it to.\r\nAlthough now I need a way to check the very last slot (data[5]) to see if any value has been placed within it since there is no guarantee in my code that each array slot will be assigned a value.\r\n\r\nBelow is my working array setup:\r\n\r\n\r\n    public final int[] data;\r\n\r\n    //Constructor\r\n    public MyArrayList() {\r\n        this.data = new int[6];\r\n\r\n    }\r\n\r\nAnd here is what I&#39;ve tried:\r\n\r\n\r\n    if(data[5] == null){\r\n            data[5] = value;\r\n            truth = true;\r\n\r\n        } else {\r\n\r\n            truth = false;\r\n        }\r\n\r\nNote that this code is trying to detect if anything is in there, and place another value in if it can see there hasn&#39;t been any code written there.\r\n\r\nAny help appreciated :)","title":"How do I detect if a value has been added to array slot? (java)","body":"<p>I am a beginner programmer and i've gotten stuck.</p>\n<p>I've set up an array here which has worked how I want it to.\nAlthough now I need a way to check the very last slot (data[5]) to see if any value has been placed within it since there is no guarantee in my code that each array slot will be assigned a value.</p>\n<p>Below is my working array setup:</p>\n<pre><code>public final int[] data;\n\n//Constructor\npublic MyArrayList() {\n    this.data = new int[6];\n\n}\n</code></pre>\n<p>And here is what I've tried:</p>\n<pre><code>if(data[5] == null){\n        data[5] = value;\n        truth = true;\n\n    } else {\n\n        truth = false;\n    }\n</code></pre>\n<p>Note that this code is trying to detect if anything is in there, and place another value in if it can see there hasn't been any code written there.</p>\n<p>Any help appreciated :)</p>\n"},{"tags":["java","spring-boot","microservices","load-balancing","service-discovery"],"comments":[{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1700852052,"post_id":71950571,"comment_id":136707465,"body_markdown":"load balancer is to distribute incoming network traffic across multiple servers,  service discovery is the process of locating and identifying services within a network. In many distributed systems, a load balancer use a service discovery underneath","body":"load balancer is to distribute incoming network traffic across multiple servers,  service discovery is the process of locating and identifying services within a network. In many distributed systems, a load balancer use a service discovery underneath"}],"answers":[{"tags":[],"owner":{"account_id":1096969,"reputation":1372,"user_id":6997699,"display_name":"AndrewR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650593449,"creation_date":1650593449,"answer_id":71962727,"question_id":71950571,"body_markdown":"Awesome line of thinking, I propose to get to the bottom via Q&amp;A :)\r\n\r\nLet me pick one of questions: &quot;We are using the load balancer to again eliminate the needs of remembering URL&#39;s and ports of the microservices, right?&quot;\r\n\r\nSo how will a client know the address of the Load Balancer? It will be different for production and testing stages; and in a regionalized world, it may (or may not) be different in different regions.\r\n\r\nThe next dimension is the architecture of the service itself. It is not given that every independent node knows how to register itself with the service discovery. It completely ok to have several nodes be running behind a load balancer - in this case, the whole service looks like a singe box for the entire world. Clients still need to discover the load balancer.\r\n\r\np.s.\r\nThe idea that every service node independently registers itself to service discovery and clients discover and randomly connected to those - this concept often called &quot;service mesh&quot; - a middle ware to do all discovery, routing, failure detection, etc.","title":"Load balancer vs Service discovery?","body":"<p>Awesome line of thinking, I propose to get to the bottom via Q&amp;A :)</p>\n<p>Let me pick one of questions: &quot;We are using the load balancer to again eliminate the needs of remembering URL's and ports of the microservices, right?&quot;</p>\n<p>So how will a client know the address of the Load Balancer? It will be different for production and testing stages; and in a regionalized world, it may (or may not) be different in different regions.</p>\n<p>The next dimension is the architecture of the service itself. It is not given that every independent node knows how to register itself with the service discovery. It completely ok to have several nodes be running behind a load balancer - in this case, the whole service looks like a singe box for the entire world. Clients still need to discover the load balancer.</p>\n<p>p.s.\nThe idea that every service node independently registers itself to service discovery and clients discover and randomly connected to those - this concept often called &quot;service mesh&quot; - a middle ware to do all discovery, routing, failure detection, etc.</p>\n"}],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650593449,"creation_date":1650526588,"question_id":71950571,"body_markdown":"Hope everyone is doing well.\r\n\r\nThere is a question that is bugging me a lot. According to my understanding we were using service discovery to eliminate the needs of remembering the URL and port number of the microservices. Like If we have 10 instances of the same microservices then we were just accessing them via just only the name via service discovery. And it was already load balanced. Right?\r\n\r\nBut then the load balancer came into picture. And according to my understanding we are again doing the same thing, right?\r\n\r\nWe are using the load balancer to again eliminate the needs of remembering URL&#39;s and ports of the microservices, right?\r\n\r\nThen my question is what is the fundamental difference that is making load balancer a load balancer and service discovery a service discovery? \r\n\r\nPardon my mistake. It may be my mis-understanding. But if you can please help it would be great. ","title":"Load balancer vs Service discovery?","body":"<p>Hope everyone is doing well.</p>\n<p>There is a question that is bugging me a lot. According to my understanding we were using service discovery to eliminate the needs of remembering the URL and port number of the microservices. Like If we have 10 instances of the same microservices then we were just accessing them via just only the name via service discovery. And it was already load balanced. Right?</p>\n<p>But then the load balancer came into picture. And according to my understanding we are again doing the same thing, right?</p>\n<p>We are using the load balancer to again eliminate the needs of remembering URL's and ports of the microservices, right?</p>\n<p>Then my question is what is the fundamental difference that is making load balancer a load balancer and service discovery a service discovery?</p>\n<p>Pardon my mistake. It may be my mis-understanding. But if you can please help it would be great.</p>\n"},{"tags":["java","sql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1650589494,"post_id":71962358,"comment_id":127160274,"body_markdown":"What your repository class looks like?","body":"What your repository class looks like?"},{"owner":{"account_id":24605606,"reputation":9,"user_id":18507841,"display_name":"Nikhil Gaarg"},"score":0,"creation_date":1650589636,"post_id":71962358,"comment_id":127160286,"body_markdown":"Added it. Sorry I wanted to avoid adding too much code.","body":"Added it. Sorry I wanted to avoid adding too much code."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1650589826,"post_id":71962358,"comment_id":127160298,"body_markdown":"This is your model. Post your repository interface `repository extend CrudRepository&lt;?, ?&gt;`","body":"This is your model. Post your repository interface <code>repository extend CrudRepository&lt;?, ?&gt;</code>"},{"owner":{"account_id":24605606,"reputation":9,"user_id":18507841,"display_name":"Nikhil Gaarg"},"score":0,"creation_date":1650590000,"post_id":71962358,"comment_id":127160331,"body_markdown":"Posted. It is quite typical though, my repository class","body":"Posted. It is quite typical though, my repository class"},{"owner":{"account_id":24605606,"reputation":9,"user_id":18507841,"display_name":"Nikhil Gaarg"},"score":0,"creation_date":1650590372,"post_id":71962358,"comment_id":127160373,"body_markdown":"This might be of help:https://stackoverflow.com/questions/3154582/why-do-i-get-a-null-value-was-assigned-to-a-property-of-primitive-type-setter-o","body":"This might be of help:<a href=\"https://stackoverflow.com/questions/3154582/why-do-i-get-a-null-value-was-assigned-to-a-property-of-primitive-type-setter-o\" title=\"why do i get a null value was assigned to a property of primitive type setter o\">stackoverflow.com/questions/3154582/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24605606,"reputation":9,"user_id":18507841,"display_name":"Nikhil Gaarg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1650590563,"creation_date":1650590563,"answer_id":71962464,"question_id":71962358,"body_markdown":"Solution was here after all (It is sad that one has to spend so much time for small tweaks like this one):\r\nhttps://stackoverflow.com/questions/3154582/why-do-i-get-a-null-value-was-assigned-to-a-property-of-primitive-type-setter-o","title":"Int property stays null (spring boot / hibernate)","body":"<p>Solution was here after all (It is sad that one has to spend so much time for small tweaks like this one):\n<a href=\"https://stackoverflow.com/questions/3154582/why-do-i-get-a-null-value-was-assigned-to-a-property-of-primitive-type-setter-o\">Why do I get a &quot;Null value was assigned to a property of primitive type setter of&quot; error message when using HibernateCriteriaBuilder in Grails</a></p>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650592221,"creation_date":1650592221,"answer_id":71962613,"question_id":71962358,"body_markdown":"Use the corresponding wrapper class **Integer** as primitives such as int cannot hold null values.\r\n\r\n```java\r\n@Column(nullable = true, unique = false)\r\n@JsonProperty\r\nprivate Integer rateNum;\r\n```","title":"Int property stays null (spring boot / hibernate)","body":"<p>Use the corresponding wrapper class <strong>Integer</strong> as primitives such as int cannot hold null values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(nullable = true, unique = false)\n@JsonProperty\nprivate Integer rateNum;\n</code></pre>\n"}],"owner":{"account_id":24605606,"reputation":9,"user_id":18507841,"display_name":"Nikhil Gaarg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71962464,"answer_count":2,"score":1,"last_activity_date":1650592221,"creation_date":1650589214,"question_id":71962358,"body_markdown":"I have a spring boot app, where I use h2, and a script to create a table as well as I also add values to it.\r\nI followed this tutorial:\r\nhttps://howtodoinjava.com/spring-boot2/h2-database-example/\r\n\r\n\r\n`java.lang.IllegalArgumentException: Can not set int field com.example.movies.model.Movie.rateNum to null value at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\r\nat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]`\r\n\r\nIn the entity class, my property:\r\n\r\n    @Column(nullable = true, unique = false)\r\n    @JsonProperty\r\n    private int rateNum;\r\n\r\n\r\nAnd then in the schema.sql\r\n\r\nDROP TABLE IF EXISTS MOVIE;\r\n\r\nCREATE TABLE MOVIE (\r\n                               id INT AUTO_INCREMENT  PRIMARY KEY,\r\n                               title VARCHAR(45) NOT NULL,\r\n                               genre VARCHAR(45) NOT NULL,\r\n                               rate DOUBLE NOT NULL,\r\n                               description VARCHAR(1000),\r\n                               rateNum INT NOT NULL\r\n);\r\n\r\n\r\n\r\n\r\n\r\nAnd in data.sql:\r\n\r\n\r\n-- noinspection SqlNoDataSourceInspectionForFile\r\n\r\nINSERT INTO MOVIE (title, genre, rate, description, rateNum) VALUES\r\n(&#39;Early Man&#39;,&#39;Action/Adventure, Animated, Comedy&#39;,6.4,&#39;Set at the dawn of time, when prehistoric creatures and woolly mammoths roamed the earth, Early Man tells the story of Dug, along with sidekick Hognob as they unite his tribe against a mighty enemy Lord Nooth and his Bronze Age City to save their home.&#39;,10);\r\n\r\n\r\nMy repository class:\r\n\r\n\r\n    `package com.example.movies.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Objects;\r\n\r\n    //https://howtodoinjava.com/spring-boot2/h2-database-example/\r\n    @Entity\r\n    @Table(name = &quot;MOVIE&quot;)\r\n    public class Movie {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @JsonProperty\r\n        private long id;\r\n    \r\n        @Column(nullable = false, unique = true)\r\n        @JsonProperty\r\n        private String title;\r\n    \r\n        @Column(nullable = false, unique = false)\r\n        @JsonProperty\r\n        private String genre;\r\n    \r\n        @Column(nullable = false, unique = false)\r\n        @JsonProperty\r\n        private double rate;\r\n    \r\n        @Column(nullable = true, unique = false)\r\n        @JsonProperty\r\n        private String description;\r\n    \r\n        @Column(nullable = true, unique = false)\r\n        @JsonProperty\r\n        private int rateNum;\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getGenre() {\r\n            return genre;\r\n        }\r\n    \r\n        public void setGenre(String genre) {\r\n            this.genre = genre;\r\n        }\r\n    \r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public double getRate() {\r\n            return rate;\r\n        }\r\n    \r\n        public void setRate(double rate) {\r\n            this.rate = rate;\r\n        }\r\n    \r\n        public int getRateNum() {\r\n            return rateNum;\r\n        }\r\n    \r\n        public void setRateNum(int rateNum) {\r\n            this.rateNum = rateNum;\r\n        }\r\n    }\r\n\r\n`\r\n\r\n\r\nMy repository class\r\n\r\n\r\n    `import com.example.movies.model.Movie;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface MovieRepository extends JpaRepository&lt;Movie, Long&gt; {\r\n    }`\r\n\r\n","title":"Int property stays null (spring boot / hibernate)","body":"<p>I have a spring boot app, where I use h2, and a script to create a table as well as I also add values to it.\nI followed this tutorial:\n<a href=\"https://howtodoinjava.com/spring-boot2/h2-database-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/h2-database-example/</a></p>\n<p><code>java.lang.IllegalArgumentException: Can not set int field com.example.movies.model.Movie.rateNum to null value at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na] at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]</code></p>\n<p>In the entity class, my property:</p>\n<pre><code>@Column(nullable = true, unique = false)\n@JsonProperty\nprivate int rateNum;\n</code></pre>\n<p>And then in the schema.sql</p>\n<p>DROP TABLE IF EXISTS MOVIE;</p>\n<p>CREATE TABLE MOVIE (\nid INT AUTO_INCREMENT  PRIMARY KEY,\ntitle VARCHAR(45) NOT NULL,\ngenre VARCHAR(45) NOT NULL,\nrate DOUBLE NOT NULL,\ndescription VARCHAR(1000),\nrateNum INT NOT NULL\n);</p>\n<p>And in data.sql:</p>\n<p>-- noinspection SqlNoDataSourceInspectionForFile</p>\n<p>INSERT INTO MOVIE (title, genre, rate, description, rateNum) VALUES\n('Early Man','Action/Adventure, Animated, Comedy',6.4,'Set at the dawn of time, when prehistoric creatures and woolly mammoths roamed the earth, Early Man tells the story of Dug, along with sidekick Hognob as they unite his tribe against a mighty enemy Lord Nooth and his Bronze Age City to save their home.',10);</p>\n<p>My repository class:</p>\n<pre><code>`package com.example.movies.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport javax.persistence.*;\nimport java.util.Objects;\n\n//https://howtodoinjava.com/spring-boot2/h2-database-example/\n@Entity\n@Table(name = &quot;MOVIE&quot;)\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @JsonProperty\n    private long id;\n\n    @Column(nullable = false, unique = true)\n    @JsonProperty\n    private String title;\n\n    @Column(nullable = false, unique = false)\n    @JsonProperty\n    private String genre;\n\n    @Column(nullable = false, unique = false)\n    @JsonProperty\n    private double rate;\n\n    @Column(nullable = true, unique = false)\n    @JsonProperty\n    private String description;\n\n    @Column(nullable = true, unique = false)\n    @JsonProperty\n    private int rateNum;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getGenre() {\n        return genre;\n    }\n\n    public void setGenre(String genre) {\n        this.genre = genre;\n    }\n\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public double getRate() {\n        return rate;\n    }\n\n    public void setRate(double rate) {\n        this.rate = rate;\n    }\n\n    public int getRateNum() {\n        return rateNum;\n    }\n\n    public void setRateNum(int rateNum) {\n        this.rateNum = rateNum;\n    }\n}\n</code></pre>\n<p>`</p>\n<p>My repository class</p>\n<pre><code>`import com.example.movies.model.Movie;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface MovieRepository extends JpaRepository&lt;Movie, Long&gt; {\n}`\n</code></pre>\n"},{"tags":["java","google-api","speech-recognition"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1649763220,"post_id":71841850,"comment_id":126953440,"body_markdown":"&quot;realtime captions for any English audio comping from the laptop speaker&quot; sounds like the biggest issue here. Is the api quick enough for that? Also, this question is very broad.","body":"&quot;realtime captions for any English audio comping from the laptop speaker&quot; sounds like the biggest issue here. Is the api quick enough for that? Also, this question is very broad."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649987457,"post_id":71841850,"comment_id":127017899,"body_markdown":"I would say that it is beyond the state of the art.  (But not theoretically impossible.)  But here&#39;s the thing, by figuring out how to implement this, you could actually be pushing the boundaries of &quot;the state of the art&quot;; e.g. by creating your own fast / accurate speech to text service.  So don&#39;t let us stop you doing your own research and ... trying.","body":"I would say that it is beyond the state of the art.  (But not theoretically impossible.)  But here&#39;s the thing, by figuring out how to implement this, you could actually be pushing the boundaries of &quot;the state of the art&quot;; e.g. by creating your own fast / accurate speech to text service.  So don&#39;t let us stop you doing your own research and ... trying."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649987567,"post_id":71841850,"comment_id":127017911,"body_markdown":"Note that your question as written is **effectively** a request to find / recommend a good / fast speech to text service.  Recommendation requests are off-topic.  (Even if you post a bonus ...)","body":"Note that your question as written is <b>effectively</b> a request to find / recommend a good / fast speech to text service.  Recommendation requests are off-topic.  (Even if you post a bonus ...)"},{"owner":{"account_id":3514828,"reputation":7737,"user_id":2938526,"display_name":"Rodrigo Rodrigues"},"score":0,"creation_date":1650147577,"post_id":71841850,"comment_id":127049167,"body_markdown":"This question, as it is today, is off-topic. It is a &quot;list of desires&quot; only. There is nothing that could lead to a rational, definitive answer. Instead, it invites the users to discuss opinions and give recommendations.","body":"This question, as it is today, is off-topic. It is a &quot;list of desires&quot; only. There is nothing that could lead to a rational, definitive answer. Instead, it invites the users to discuss opinions and give recommendations."}],"answers":[{"tags":[],"owner":{"account_id":10525813,"reputation":1952,"user_id":7756864,"display_name":"qqNade"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650005435,"creation_date":1650005435,"answer_id":71880942,"question_id":71841850,"body_markdown":"One of the fastest and most efficient ways to convert speech to text is Java Speech API (documentation at https://www.oracle.com/java/technologies/speech-api-frequently-asked-questions.html)\r\n\r\nIn the course of text conversion, you will need to break it down to pieces and because of this, the meaning may change slightly, since some expressions may have a different meaning than a single word, but this will help reduce the time of the final translation. Then send the already received segments (words, phrases) via API for translation.\r\n\r\nYou can choose several options you like (for example https://rapidapi.com/blog/best-translation-api/) and check which one will work faster. In my experience &quot;Microsoft Translator Text&quot; and &quot;Google Translate&quot; are some of the fastest. I also think that you will not be able to get instant translation, but if you test several API options and play around with whether to process all sentences, phrases or individual words at once, you can reduce the translation time to a minimum.","title":"Speech to text Java web app for live caption possible?","body":"<p>One of the fastest and most efficient ways to convert speech to text is Java Speech API (documentation at <a href=\"https://www.oracle.com/java/technologies/speech-api-frequently-asked-questions.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/speech-api-frequently-asked-questions.html</a>)</p>\n<p>In the course of text conversion, you will need to break it down to pieces and because of this, the meaning may change slightly, since some expressions may have a different meaning than a single word, but this will help reduce the time of the final translation. Then send the already received segments (words, phrases) via API for translation.</p>\n<p>You can choose several options you like (for example <a href=\"https://rapidapi.com/blog/best-translation-api/\" rel=\"nofollow noreferrer\">https://rapidapi.com/blog/best-translation-api/</a>) and check which one will work faster. In my experience &quot;Microsoft Translator Text&quot; and &quot;Google Translate&quot; are some of the fastest. I also think that you will not be able to get instant translation, but if you test several API options and play around with whether to process all sentences, phrases or individual words at once, you can reduce the translation time to a minimum.</p>\n"},{"tags":[],"owner":{"account_id":8073162,"reputation":7019,"user_id":6085193,"accept_rate":79,"display_name":"Transformer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650591305,"creation_date":1650591003,"answer_id":71962517,"question_id":71841850,"body_markdown":"If I am understanding you correctly, IMHO I would separate it into two parts\r\n\r\n 1. Transcribe the speec to text, like below from google api  \r\n 2. and then do the caption as stream overlay\r\n\r\n\r\n        //\r\n        // Performs streaming speech recognition on raw PCM audio data.\r\n        //\r\n        // @param fileName the path to a PCM audio file to transcribe.\r\n        //\r\n\r\n        public static void streamingRecognizeFile(String fileName) throws Exception, IOException {\r\n        Path path = Paths.get(fileName);\r\n        byte[] data = Files.readAllBytes(path);\r\n    \r\n        // Instantiates a client with GOOGLE_APPLICATION_CREDENTIALS\r\n        try (SpeechClient speech = SpeechClient.create()) {\r\n    \r\n        // Configure request with local raw PCM audio\r\n        RecognitionConfig recConfig =\r\n            RecognitionConfig.newBuilder()\r\n                .setEncoding(AudioEncoding.LINEAR16)\r\n                .setLanguageCode(&quot;en-US&quot;)\r\n                .setSampleRateHertz(16000)\r\n                .setModel(&quot;default&quot;)\r\n                .build();\r\n        StreamingRecognitionConfig config =\r\n            StreamingRecognitionConfig.newBuilder().setConfig(recConfig).build();\r\n    \r\n        class ResponseApiStreamingObserver&lt;T&gt; implements ApiStreamObserver&lt;T&gt; {\r\n          private final SettableFuture&lt;List&lt;T&gt;&gt; future = SettableFuture.create();\r\n          private final List&lt;T&gt; messages = new java.util.ArrayList&lt;T&gt;();\r\n    \r\n          @Override\r\n          public void onNext(T message) {\r\n            messages.add(message);\r\n          }\r\n    \r\n          @Override\r\n          public void onError(Throwable t) {\r\n            future.setException(t);\r\n          }\r\n    \r\n          @Override\r\n          public void onCompleted() {\r\n            future.set(messages);\r\n          }\r\n    \r\n          // Returns the SettableFuture object to get received messages / exceptions.\r\n          public SettableFuture&lt;List&lt;T&gt;&gt; future() {\r\n            return future;\r\n          }\r\n        }\r\n    \r\n        ResponseApiStreamingObserver&lt;StreamingRecognizeResponse&gt; responseObserver =\r\n            new ResponseApiStreamingObserver&lt;&gt;();\r\n    \r\n        BidiStreamingCallable&lt;StreamingRecognizeRequest, StreamingRecognizeResponse&gt; callable =\r\n            speech.streamingRecognizeCallable();\r\n    \r\n        ApiStreamObserver&lt;StreamingRecognizeRequest&gt; requestObserver =\r\n            callable.bidiStreamingCall(responseObserver);\r\n    \r\n        // The first request must **only** contain the audio configuration:\r\n        requestObserver.onNext(\r\n            StreamingRecognizeRequest.newBuilder().setStreamingConfig(config).build());\r\n    \r\n        // Subsequent requests must **only** contain the audio data.\r\n        requestObserver.onNext(\r\n            StreamingRecognizeRequest.newBuilder()\r\n                .setAudioContent(ByteString.copyFrom(data))\r\n                .build());\r\n    \r\n        // Mark transmission as completed after sending the data.\r\n        requestObserver.onCompleted();\r\n    \r\n        List&lt;StreamingRecognizeResponse&gt; responses = responseObserver.future().get();\r\n    \r\n        for (StreamingRecognizeResponse response : responses) {\r\n          // For streaming recognize, the results list has one is_final result (if available) followed\r\n          // by a number of in-progress results (if iterim_results is true) for subsequent utterances.\r\n          // Just print the first result here.\r\n          StreamingRecognitionResult result = response.getResultsList().get(0);\r\n          // There can be several alternative transcripts for a given chunk of speech. Just use the\r\n          // first (most likely) one here.\r\n          SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\r\n          System.out.printf(&quot;Transcript : %s\\n&quot;, alternative.getTranscript());\r\n          }\r\n         }\r\n        }\r\n\r\n\r\n__________\r\n\r\n\r\n\r\nFor your mobile Voice [overlay][1]\r\n\r\nhttps://github.com/algolia/voice-overlay-android\r\n\r\nFor web HTML 5 [overlay][2] \r\n________________\r\n\r\n    &lt;video id=&quot;video&quot; controls preload=&quot;metadata&quot;&gt;\r\n       &lt;source src=&quot;video/sintel-short.mp4&quot; type=&quot;video/mp4&quot;&gt;\r\n       &lt;source src=&quot;video/sintel-short.webm&quot; type=&quot;video/webm&quot;&gt;\r\n       &lt;track label=&quot;English&quot; kind=&quot;subtitles&quot; srclang=&quot;en&quot; src=&quot;captions/vtt/sintel-en.vtt&quot; default&gt;\r\n       &lt;track label=&quot;Deutsch&quot; kind=&quot;subtitles&quot; srclang=&quot;de&quot; src=&quot;captions/vtt/sintel-de.vtt&quot;&gt;\r\n       &lt;track label=&quot;Espa&#241;ol&quot; kind=&quot;subtitles&quot; srclang=&quot;es&quot; src=&quot;captions/vtt/sintel-es.vtt&quot;&gt;\r\n    &lt;/video&gt;\r\n\r\n        // per the sample linked above you can feed the /  append the captions\r\n         var subtitlesMenu;\r\n    if (video.textTracks) {\r\n       var df = document.createDocumentFragment();\r\n       var subtitlesMenu = df.appendChild(document.createElement(&#39;ul&#39;));\r\n       subtitlesMenu.className = &#39;subtitles-menu&#39;;\r\n       subtitlesMenu.appendChild(createMenuItem(&#39;subtitles-off&#39;, &#39;&#39;, &#39;Off&#39;));\r\n       for (var i = 0; i &lt; video.textTracks.length; i++) {\r\n          subtitlesMenu.appendChild(createMenuItem(&#39;subtitles-&#39; + video.textTracks[i].language, video.textTracks[i].language, video.textTracks[i].label));\r\n       }\r\n       videoContainer.appendChild(subtitlesMenu);\r\n    }\r\n\r\n  [1]: https://github.com/algolia/voice-overlay-android\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/Guide/Audio_and_video_delivery/Adding_captions_and_subtitles_to_HTML5_video","title":"Speech to text Java web app for live caption possible?","body":"<p>If I am understanding you correctly, IMHO I would separate it into two parts</p>\n<ol>\n<li><p>Transcribe the speec to text, like below from google api</p>\n</li>\n<li><p>and then do the caption as stream overlay</p>\n<pre><code>//\n// Performs streaming speech recognition on raw PCM audio data.\n//\n// @param fileName the path to a PCM audio file to transcribe.\n//\n\npublic static void streamingRecognizeFile(String fileName) throws Exception, IOException {\nPath path = Paths.get(fileName);\nbyte[] data = Files.readAllBytes(path);\n\n// Instantiates a client with GOOGLE_APPLICATION_CREDENTIALS\ntry (SpeechClient speech = SpeechClient.create()) {\n\n// Configure request with local raw PCM audio\nRecognitionConfig recConfig =\n    RecognitionConfig.newBuilder()\n        .setEncoding(AudioEncoding.LINEAR16)\n        .setLanguageCode(&quot;en-US&quot;)\n        .setSampleRateHertz(16000)\n        .setModel(&quot;default&quot;)\n        .build();\nStreamingRecognitionConfig config =\n    StreamingRecognitionConfig.newBuilder().setConfig(recConfig).build();\n\nclass ResponseApiStreamingObserver&lt;T&gt; implements ApiStreamObserver&lt;T&gt; {\n  private final SettableFuture&lt;List&lt;T&gt;&gt; future = SettableFuture.create();\n  private final List&lt;T&gt; messages = new java.util.ArrayList&lt;T&gt;();\n\n  @Override\n  public void onNext(T message) {\n    messages.add(message);\n  }\n\n  @Override\n  public void onError(Throwable t) {\n    future.setException(t);\n  }\n\n  @Override\n  public void onCompleted() {\n    future.set(messages);\n  }\n\n  // Returns the SettableFuture object to get received messages / exceptions.\n  public SettableFuture&lt;List&lt;T&gt;&gt; future() {\n    return future;\n  }\n}\n\nResponseApiStreamingObserver&lt;StreamingRecognizeResponse&gt; responseObserver =\n    new ResponseApiStreamingObserver&lt;&gt;();\n\nBidiStreamingCallable&lt;StreamingRecognizeRequest, StreamingRecognizeResponse&gt; callable =\n    speech.streamingRecognizeCallable();\n\nApiStreamObserver&lt;StreamingRecognizeRequest&gt; requestObserver =\n    callable.bidiStreamingCall(responseObserver);\n\n// The first request must **only** contain the audio configuration:\nrequestObserver.onNext(\n    StreamingRecognizeRequest.newBuilder().setStreamingConfig(config).build());\n\n// Subsequent requests must **only** contain the audio data.\nrequestObserver.onNext(\n    StreamingRecognizeRequest.newBuilder()\n        .setAudioContent(ByteString.copyFrom(data))\n        .build());\n\n// Mark transmission as completed after sending the data.\nrequestObserver.onCompleted();\n\nList&lt;StreamingRecognizeResponse&gt; responses = responseObserver.future().get();\n\nfor (StreamingRecognizeResponse response : responses) {\n  // For streaming recognize, the results list has one is_final result (if available) followed\n  // by a number of in-progress results (if iterim_results is true) for subsequent utterances.\n  // Just print the first result here.\n  StreamingRecognitionResult result = response.getResultsList().get(0);\n  // There can be several alternative transcripts for a given chunk of speech. Just use the\n  // first (most likely) one here.\n  SpeechRecognitionAlternative alternative = result.getAlternativesList().get(0);\n  System.out.printf(&quot;Transcript : %s\\n&quot;, alternative.getTranscript());\n  }\n }\n}\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>For your mobile Voice <a href=\"https://github.com/algolia/voice-overlay-android\" rel=\"nofollow noreferrer\">overlay</a></p>\n<p><a href=\"https://github.com/algolia/voice-overlay-android\" rel=\"nofollow noreferrer\">https://github.com/algolia/voice-overlay-android</a></p>\n<p>For web HTML 5 <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Audio_and_video_delivery/Adding_captions_and_subtitles_to_HTML5_video\" rel=\"nofollow noreferrer\">overlay</a></p>\n<hr />\n<pre><code>&lt;video id=&quot;video&quot; controls preload=&quot;metadata&quot;&gt;\n   &lt;source src=&quot;video/sintel-short.mp4&quot; type=&quot;video/mp4&quot;&gt;\n   &lt;source src=&quot;video/sintel-short.webm&quot; type=&quot;video/webm&quot;&gt;\n   &lt;track label=&quot;English&quot; kind=&quot;subtitles&quot; srclang=&quot;en&quot; src=&quot;captions/vtt/sintel-en.vtt&quot; default&gt;\n   &lt;track label=&quot;Deutsch&quot; kind=&quot;subtitles&quot; srclang=&quot;de&quot; src=&quot;captions/vtt/sintel-de.vtt&quot;&gt;\n   &lt;track label=&quot;Español&quot; kind=&quot;subtitles&quot; srclang=&quot;es&quot; src=&quot;captions/vtt/sintel-es.vtt&quot;&gt;\n&lt;/video&gt;\n\n    // per the sample linked above you can feed the /  append the captions\n     var subtitlesMenu;\nif (video.textTracks) {\n   var df = document.createDocumentFragment();\n   var subtitlesMenu = df.appendChild(document.createElement('ul'));\n   subtitlesMenu.className = 'subtitles-menu';\n   subtitlesMenu.appendChild(createMenuItem('subtitles-off', '', 'Off'));\n   for (var i = 0; i &lt; video.textTracks.length; i++) {\n      subtitlesMenu.appendChild(createMenuItem('subtitles-' + video.textTracks[i].language, video.textTracks[i].language, video.textTracks[i].label));\n   }\n   videoContainer.appendChild(subtitlesMenu);\n}\n</code></pre>\n"}],"owner":{"account_id":279135,"reputation":11646,"user_id":574122,"accept_rate":64,"display_name":"ace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1651424328,"accepted_answer_id":71962517,"answer_count":2,"score":-4,"last_activity_date":1650591305,"creation_date":1649763045,"question_id":71841850,"body_markdown":"This is regaarding Google Speech to text API:\r\n\r\n[API][1]\r\n\r\n\r\n  [1]: https://cloud.google.com/speech-to-text\r\n\r\nI want to develop Spring Boot Java Web App:\r\n\r\n1. The app is launched in local host\r\n2. I open browser to http://localhost:8080\r\n3. The app displays simple UI, main window that display live realtime captions for \r\nany English audio comping from the laptop speaker which could be zoom video call in which participants are speaking and I hear them and I also see the live captions in my local web app \r\n4. Live captions remains on the screen in a window with scrollbar \r\n5. Live captions are saved in text file as new captions keep on appending in the text file\r\n\r\nIt is critical for the captions to have best accuracy and display captions quickly as the person is speaking.\r\n\r\nCan this be achieved? If not possible with Google API, what is the alternative API?","title":"Speech to text Java web app for live caption possible?","body":"<p>This is regaarding Google Speech to text API:</p>\n<p><a href=\"https://cloud.google.com/speech-to-text\" rel=\"nofollow noreferrer\">API</a></p>\n<p>I want to develop Spring Boot Java Web App:</p>\n<ol>\n<li>The app is launched in local host</li>\n<li>I open browser to http://localhost:8080</li>\n<li>The app displays simple UI, main window that display live realtime captions for\nany English audio comping from the laptop speaker which could be zoom video call in which participants are speaking and I hear them and I also see the live captions in my local web app</li>\n<li>Live captions remains on the screen in a window with scrollbar</li>\n<li>Live captions are saved in text file as new captions keep on appending in the text file</li>\n</ol>\n<p>It is critical for the captions to have best accuracy and display captions quickly as the person is speaking.</p>\n<p>Can this be achieved? If not possible with Google API, what is the alternative API?</p>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1650609241,"post_id":71961495,"comment_id":127163336,"body_markdown":"Unicode explicitly do not include formatting. So you should not use Unicode characters for exponent (they exist just for compatibility, so everyone could migrate to Unicode, but they should not used for other purposes). Good text needs good font and different layers of formatting libraries. Use them.","body":"Unicode explicitly do not include formatting. So you should not use Unicode characters for exponent (they exist just for compatibility, so everyone could migrate to Unicode, but they should not used for other purposes). Good text needs good font and different layers of formatting libraries. Use them."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650590782,"creation_date":1650581324,"answer_id":71961660,"question_id":71961495,"body_markdown":"Use [`java.util.regex.Pattern`][1], calling [`.matcher`][2] to produce a [`Matcher`][3]. That matcher can [replace all][4] your targeted powers by running our passed [function][5]. \r\n\r\n    private static final Pattern EXPONENT_PATTERN = Pattern.compile(&quot;\\\\^(\\\\d+)&quot;);\r\n    private static final String NORMAL_LETTERS = &quot;0123456789&quot;;\r\n    private static final String SUPERSCRIPT_LETTERS =\r\n        &quot;\\u2070\\u00B9\\u00B2\\u00B3\\u2074\\u2075\\u2076\\u2077\\u2078\\u2079&quot;;\r\n\r\n    public static String styled(String s) {\r\n        return EXPONENT_PATTERN.matcher(s).replaceAll(mr -&gt; {\r\n            char[] chs = mr.group(1).toCharArray();\r\n            for (int i = 0; i &lt; chs.length; ++i) {\r\n                int j = NORMAL_LETTERS.indexOf(chs[i]);\r\n                if (j != -1) {\r\n                    chs[i] = SUPERSCRIPT_LETTERS.charAt(j);\r\n                }\r\n            }\r\n            return new String(chs);\r\n        });\r\n    }\r\n\r\nFor letters you may search too, https://unicode-table.com/en/blocks/phonetic-extensions/\r\nHowever I do not think there are many superscript math operators.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#matcher(java.lang.CharSequence)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html","title":"How to correctly print unicode math powers","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>java.util.regex.Pattern</code></a>, calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#matcher(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>.matcher</code></a> to produce a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\"><code>Matcher</code></a>. That matcher can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"nofollow noreferrer\">replace all</a> your targeted powers by running our passed <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\">function</a>.</p>\n<pre><code>private static final Pattern EXPONENT_PATTERN = Pattern.compile(&quot;\\\\^(\\\\d+)&quot;);\nprivate static final String NORMAL_LETTERS = &quot;0123456789&quot;;\nprivate static final String SUPERSCRIPT_LETTERS =\n    &quot;\\u2070\\u00B9\\u00B2\\u00B3\\u2074\\u2075\\u2076\\u2077\\u2078\\u2079&quot;;\n\npublic static String styled(String s) {\n    return EXPONENT_PATTERN.matcher(s).replaceAll(mr -&gt; {\n        char[] chs = mr.group(1).toCharArray();\n        for (int i = 0; i &lt; chs.length; ++i) {\n            int j = NORMAL_LETTERS.indexOf(chs[i]);\n            if (j != -1) {\n                chs[i] = SUPERSCRIPT_LETTERS.charAt(j);\n            }\n        }\n        return new String(chs);\n    });\n}\n</code></pre>\n<p>For letters you may search too, <a href=\"https://unicode-table.com/en/blocks/phonetic-extensions/\" rel=\"nofollow noreferrer\">https://unicode-table.com/en/blocks/phonetic-extensions/</a>\nHowever I do not think there are many superscript math operators.</p>\n"}],"owner":{"account_id":17393359,"reputation":31,"user_id":12603460,"display_name":"gonzo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71961660,"answer_count":1,"score":1,"last_activity_date":1650590782,"creation_date":1650579715,"question_id":71961495,"body_markdown":"I would like to format a number raised to a power using unicode characters.\r\nThe thing is that I have to parse first a String containing `^` symbols and the powers next to it\r\n\r\nI understand that if, for example I get x^2 to format it I should basically `System.out.println(&quot;x\\u00B2&quot;)` for printing x&#178;\r\n\r\nWhat if I get a 2 digit power such as x^23 ?\r\n\r\nI have the following code for formatting 1 digit powers:\r\n\r\n    //0, 1, 2, 3, 4, 5, 6, 7, 8, 9\r\n     char[] unicodePowers = {&#39;\\u2070&#39;,&#39;\\u00B9&#39;,&#39;\\u00B2&#39;,&#39;\\u00B3&#39;,&#39;\\u2074&#39;,\r\n                &#39;\\u2075&#39;,&#39;\\u2076&#39;,&#39;\\u2077&#39;,&#39;\\u2078&#39;,&#39;\\u2079&#39;};\r\n     String[] resultPowers = {&quot;^0&quot;,&quot;^1&quot;,&quot;^2&quot;,&quot;^3&quot;,&quot;^4&quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;,&quot;^9&quot;};\r\n\r\n     for(int i = 0; i &lt; unicodePowers.length; i++){\r\n         expression = expression.replace(resultPowers[i],String.valueOf(unicodePowers[i]));\r\n     }\r\n\r\nI&#39;m not very familiar with formatting Unicode so I don&#39;t know if there is a better approach for solving it.\r\n\r\nThanks!","title":"How to correctly print unicode math powers","body":"<p>I would like to format a number raised to a power using unicode characters.\nThe thing is that I have to parse first a String containing <code>^</code> symbols and the powers next to it</p>\n<p>I understand that if, for example I get x^2 to format it I should basically <code>System.out.println(&quot;x\\u00B2&quot;)</code> for printing x²</p>\n<p>What if I get a 2 digit power such as x^23 ?</p>\n<p>I have the following code for formatting 1 digit powers:</p>\n<pre><code>//0, 1, 2, 3, 4, 5, 6, 7, 8, 9\n char[] unicodePowers = {'\\u2070','\\u00B9','\\u00B2','\\u00B3','\\u2074',\n            '\\u2075','\\u2076','\\u2077','\\u2078','\\u2079'};\n String[] resultPowers = {&quot;^0&quot;,&quot;^1&quot;,&quot;^2&quot;,&quot;^3&quot;,&quot;^4&quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;,&quot;^9&quot;};\n\n for(int i = 0; i &lt; unicodePowers.length; i++){\n     expression = expression.replace(resultPowers[i],String.valueOf(unicodePowers[i]));\n }\n</code></pre>\n<p>I'm not very familiar with formatting Unicode so I don't know if there is a better approach for solving it.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":15843776,"reputation":91,"user_id":11431575,"display_name":"Reinhard Engelbrecht"},"score":0,"creation_date":1651390886,"post_id":71962481,"comment_id":127350389,"body_markdown":"Hi, were you able to solve this problem?","body":"Hi, were you able to solve this problem?"}],"owner":{"account_id":23175645,"reputation":47,"user_id":17274216,"display_name":"Daniel D&#246;bereiner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1650590725,"creation_date":1650590725,"question_id":71962481,"body_markdown":"I have an app running perfectly on iOS but when I try to run on Android, I get the Task :app:compileDebugJavaWithJavac FAILED error, tried some internet solutions but nothing solved the problem. When I run npx react-native run-android I get the error below:\r\n\r\n```&gt; Task :app:compileDebugJavaWithJavac FAILED\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.7/userguide/command_line_interface.html#sec:command_line_warnings\r\n368 actionable tasks: 2 executed, 366 up-to-date\r\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:120: error: cannot find symbol\r\n      new AppCenterReactNativeAnalyticsPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterAnalytics_whenToEnableAnalytics)),\r\n                                                                                                                 ^\r\n  symbol:   variable appCenterAnalytics_whenToEnableAnalytics\r\n  location: class string\r\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:121: error: cannot find symbol\r\n      new AppCenterReactNativeCrashesPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterCrashes_whenToSendCrashes)),\r\n                                                                                                               ^\r\n  symbol:   variable appCenterCrashes_whenToSendCrashes\r\n  location: class string\r\nNote: /Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/src/debug/java/com/empathoapp/ReactNativeFlipper.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m 39s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:120: error: cannot find symbol\r\n      new AppCenterReactNativeAnalyticsPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterAnalytics_whenToEnableAnalytics)),\r\n                                                                                                                 ^\r\n  symbol:   variable appCenterAnalytics_whenToEnableAnalytics\r\n  location: class string\r\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:121: error: cannot find symbol\r\n      new AppCenterReactNativeCrashesPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterCrashes_whenToSendCrashes)),\r\n                                                                                                               ^\r\n  symbol:   variable appCenterCrashes_whenToSendCrashes\r\n  location: class string\r\nNote: /Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/src/debug/java/com/empathoapp/ReactNativeFlipper.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.```\r\n\r\nTried to change JAVA PATH, I have no idea what could I do to fix that","title":"Error React Native run Android - Task :app:compileDebugJavaWithJavac FAILED","body":"<p>I have an app running perfectly on iOS but when I try to run on Android, I get the Task :app:compileDebugJavaWithJavac FAILED error, tried some internet solutions but nothing solved the problem. When I run npx react-native run-android I get the error below:</p>\n<pre><code>\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.7/userguide/command_line_interface.html#sec:command_line_warnings\n368 actionable tasks: 2 executed, 366 up-to-date\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:120: error: cannot find symbol\n      new AppCenterReactNativeAnalyticsPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterAnalytics_whenToEnableAnalytics)),\n                                                                                                                 ^\n  symbol:   variable appCenterAnalytics_whenToEnableAnalytics\n  location: class string\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:121: error: cannot find symbol\n      new AppCenterReactNativeCrashesPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterCrashes_whenToSendCrashes)),\n                                                                                                               ^\n  symbol:   variable appCenterCrashes_whenToSendCrashes\n  location: class string\nNote: /Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/src/debug/java/com/empathoapp/ReactNativeFlipper.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 39s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:120: error: cannot find symbol\n      new AppCenterReactNativeAnalyticsPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterAnalytics_whenToEnableAnalytics)),\n                                                                                                                 ^\n  symbol:   variable appCenterAnalytics_whenToEnableAnalytics\n  location: class string\n/Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/build/generated/rncli/src/main/java/com/facebook/react/PackageList.java:121: error: cannot find symbol\n      new AppCenterReactNativeCrashesPackage(getApplication(), getResources().getString(com.empathoapp.R.string.appCenterCrashes_whenToSendCrashes)),\n                                                                                                               ^\n  symbol:   variable appCenterCrashes_whenToSendCrashes\n  location: class string\nNote: /Users/danieldobereiner/Documents/GitHub/Empatho-App-React-Native/android/app/src/debug/java/com/empathoapp/ReactNativeFlipper.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.```\n\nTried to change JAVA PATH, I have no idea what could I do to fix that\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1650504413,"post_id":71947895,"comment_id":127135210,"body_markdown":"Why not loop through all possible combinations (only 6 of them) and then count how many of them are identical?","body":"Why not loop through all possible combinations (only 6 of them) and then count how many of them are identical?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650507936,"post_id":71947895,"comment_id":127135700,"body_markdown":"What us the type of the `w` variables?  For some types, you should not use `==` to test for equality ... let alone similarity.","body":"What us the type of the <code>w</code> variables?  For some types, you should not use <code>==</code> to test for equality ... let alone similarity."}],"answers":[{"tags":[],"owner":{"account_id":1140773,"reputation":1,"user_id":6622765,"display_name":"user7291"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650506035,"creation_date":1650506035,"answer_id":71948049,"question_id":71947895,"body_markdown":"Put these four values in a four-element array. Sort the array (as shown here https://stackoverflow.com/questions/6145364/sort-4-number-with-few-comparisons). Loop (or just use straight-line code) through the first three elements, comparing each element to the next, and increment a counter each time a comparison shows they are equal. The counter&#39;s value is interpreted as the following:\r\n\r\n    0  All are different.\r\n    1  Two are the same.\r\n    2  Three are the same, or the first two and last two are the same.\r\n    3  All four are the same.\r\n\r\nTo distinguish between the two cases when counter is 2, compare the second and third values. If they are not equal, the first two are equal and the last two are equal.","title":"how do i compare four randomly geenrated codes and find how many are similiar","body":"<p>Put these four values in a four-element array. Sort the array (as shown here <a href=\"https://stackoverflow.com/questions/6145364/sort-4-number-with-few-comparisons\">Sort 4 number with few comparisons</a>). Loop (or just use straight-line code) through the first three elements, comparing each element to the next, and increment a counter each time a comparison shows they are equal. The counter's value is interpreted as the following:</p>\n<pre><code>0  All are different.\n1  Two are the same.\n2  Three are the same, or the first two and last two are the same.\n3  All four are the same.\n</code></pre>\n<p>To distinguish between the two cases when counter is 2, compare the second and third values. If they are not equal, the first two are equal and the last two are equal.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650589953,"creation_date":1650589545,"answer_id":71962380,"question_id":71947895,"body_markdown":"# Streams\r\n\r\nLet&#39;s use an [`IntStream`][1] produced from [`ThreadLocalRandm#ints`][2] to produce some random integers as inputs.\r\n\r\n```java\r\nList &lt; Integer &gt; integers =\r\n        ThreadLocalRandom        // A random number generator automatically instantiated once per thread.\r\n                .current()       // Obtain the generator for this particular thread.\r\n                .ints( 0 , 3 )   // Produce an `IntStream` of randomly generated `int` primitive values. Specify the lowest (inclusive) and the highest (exclusive) of the range of values to generate.\r\n                .limit( 7 )      // Generate seven of those `int` values.\r\n                .boxed()         // Convert from `int` primitives to `Integer` objects.\r\n                .toList();       // Collect our generated `Integer` objects into a list.\r\n```\r\n\r\n&gt;integers = [0, 2, 1, 1, 0, 1, 1]\r\n\r\nLet&#39;s look for duplicates. \r\n\r\nMake a stream of our list of [`Integer`][3] objects. For each of those `Integer` objects, examine our list for how many times that object (or an object matching per [`.equals`][4] method) appears. Conveniently, we can call [`Collections.frequency`][5] to determine that count. Filter out those that appear only once, while keeping those that appear more than once.  \r\n\r\nCollect the hits into a [`Set`][6]. A set in Java is distinct, automatically forbidding duplicates. \r\n\r\n\r\n```java\r\nSet &lt; Integer &gt; dups =\r\n        integers\r\n                .stream()\r\n                .filter( ( Integer i ) -&gt; Collections.frequency( integers , i ) &gt; 1 )\r\n                .collect( Collectors.toSet() );\r\n```\r\n\r\n&gt;dups = [0, 1]\r\n\r\nThis code could be optimized. We can eliminate duplicates from our stream of integers to avoid redundant calls to `Collections.frequency`. Just add a call to [`Stream#distinct`][7].\r\n\r\n```java\r\nSet &lt; Integer &gt; dups =\r\n        integers\r\n                .stream()\r\n                .distinct()\r\n                .filter( ( Integer i ) -&gt; Collections.frequency( integers , i ) &gt; 1 )\r\n                .collect( Collectors.toSet() );\r\n```\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#ints(int,int)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#equals(java.lang.Object)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()","title":"how do i compare four randomly geenrated codes and find how many are similiar","body":"<h1>Streams</h1>\n<p>Let's use an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a> produced from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#ints(int,int)\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandm#ints</code></a> to produce some random integers as inputs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Integer &gt; integers =\n        ThreadLocalRandom        // A random number generator automatically instantiated once per thread.\n                .current()       // Obtain the generator for this particular thread.\n                .ints( 0 , 3 )   // Produce an `IntStream` of randomly generated `int` primitive values. Specify the lowest (inclusive) and the highest (exclusive) of the range of values to generate.\n                .limit( 7 )      // Generate seven of those `int` values.\n                .boxed()         // Convert from `int` primitives to `Integer` objects.\n                .toList();       // Collect our generated `Integer` objects into a list.\n</code></pre>\n<blockquote>\n<p>integers = [0, 2, 1, 1, 0, 1, 1]</p>\n</blockquote>\n<p>Let's look for duplicates.</p>\n<p>Make a stream of our list of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a> objects. For each of those <code>Integer</code> objects, examine our list for how many times that object (or an object matching per <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>.equals</code></a> method) appears. Conveniently, we can call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Collections.frequency</code></a> to determine that count. Filter out those that appear only once, while keeping those that appear more than once.</p>\n<p>Collect the hits into a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>. A set in Java is distinct, automatically forbidding duplicates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; Integer &gt; dups =\n        integers\n                .stream()\n                .filter( ( Integer i ) -&gt; Collections.frequency( integers , i ) &gt; 1 )\n                .collect( Collectors.toSet() );\n</code></pre>\n<blockquote>\n<p>dups = [0, 1]</p>\n</blockquote>\n<p>This code could be optimized. We can eliminate duplicates from our stream of integers to avoid redundant calls to <code>Collections.frequency</code>. Just add a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\"><code>Stream#distinct</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; Integer &gt; dups =\n        integers\n                .stream()\n                .distinct()\n                .filter( ( Integer i ) -&gt; Collections.frequency( integers , i ) &gt; 1 )\n                .collect( Collectors.toSet() );\n</code></pre>\n"}],"owner":{"account_id":25028765,"reputation":1,"user_id":18886744,"display_name":"TTstring"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1650589953,"creation_date":1650504087,"question_id":71947895,"body_markdown":"I have a function that generates and saves numbers in 4 variables, following which I need to compare them and find how many are similar? I was thinking of using the || and &amp;&amp;, but I am struggling to figure out how to tell if the three variables are the same.\r\n            \r\n```java\t\t\r\n\t\t\t//when all are same\r\n                if(w1 == w2 &amp;&amp; w3 == w4 &amp;&amp; w1 == w4) {\r\n\t\t\t\t//output a result\r\n\t\t\t\t}\r\n            //if three are same\r\n\t\t\telse if(w1 == w2 &amp;&amp; w2 == w3 || w4 == w3 &amp;&amp; w3 == w2 ||?? ){\r\n                 //output a result}\r\n\t\t\t\r\n\t\t\t//if two are same\r\n\t\t\telse if(w1 == w2 &amp;&amp; w2 == w3 || w4 == w3 &amp;&amp; w3 == w2) {\r\n\t\t\t\t//output a result\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t//if none are the same\r\n\t\t\telse {\r\n\t\t\t\t//output a result\r\n\t\t\t\t}\r\n```\r\n\t\t\t","title":"how do i compare four randomly geenrated codes and find how many are similiar","body":"<p>I have a function that generates and saves numbers in 4 variables, following which I need to compare them and find how many are similar? I was thinking of using the || and &amp;&amp;, but I am struggling to figure out how to tell if the three variables are the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            //when all are same\n                if(w1 == w2 &amp;&amp; w3 == w4 &amp;&amp; w1 == w4) {\n                //output a result\n                }\n            //if three are same\n            else if(w1 == w2 &amp;&amp; w2 == w3 || w4 == w3 &amp;&amp; w3 == w2 ||?? ){\n                 //output a result}\n            \n            //if two are same\n            else if(w1 == w2 &amp;&amp; w2 == w3 || w4 == w3 &amp;&amp; w3 == w2) {\n                //output a result\n                }\n            \n            //if none are the same\n            else {\n                //output a result\n                }\n</code></pre>\n"},{"tags":["java","kotlin","okhttp","http-caching","clear-cache"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650589473,"creation_date":1650589473,"answer_id":71962378,"question_id":71959045,"body_markdown":"OkHttp’s cache has no API to reset statistics.\r\n\r\nFlush forces in-memory data to disk. Use this before your program exits.\r\n\r\nEvictAll removes all elements from the cache.\r\n\r\nIf you want to reset statistics, create an object to remember the current state, then subtract.","title":"flush() and evictAll() not working for okhttp3 cache","body":"<p>OkHttp’s cache has no API to reset statistics.</p>\n<p>Flush forces in-memory data to disk. Use this before your program exits.</p>\n<p>EvictAll removes all elements from the cache.</p>\n<p>If you want to reset statistics, create an object to remember the current state, then subtract.</p>\n"}],"owner":{"account_id":21991664,"reputation":7,"user_id":16264924,"display_name":"zerotarun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650589473,"creation_date":1650564567,"question_id":71959045,"body_markdown":"I am accessing TestRail&#39;s API which has a 180 Req/min rate limit, \r\n\r\n 1. I am using okHttpClient for accessing it\r\n 2. To keep a count of a count of requests I am using okhttp cache\r\n 3. After every 180 Requests, I want to reset the cache but cache.flush() and cache.evictAll() both are not working\r\n```\r\n@Bean\r\n@Named(&quot;testRail&quot;)\r\nfun createClient(appConfig: AppConfig): OkHttpClient = OkHttpClient\r\n  .Builder()\r\n  .cache(Cache(File(&quot;http_cache&quot;),100*1024*1024))\r\n  .readTimeout(Duration.ofHours(1)).build()\r\n```\r\nI have tried these methods to clear the cache but nothing seems to be working,\r\n```\r\nprintln(&quot;Client Request original: ${httpClient.cache?.requestCount()}&quot;) //prints n\r\nhttpClient.cache?.evictAll()\r\nprintln(&quot;Client Request after evict: ${httpClient.cache?.requestCount()}&quot;) //prints n\r\nhttpClient.cache?.flush()\r\nprintln(&quot;Client Request after flush: ${httpClient.cache?.requestCount()}&quot;) //prints n\r\nhttpClient.cache?.delete()\r\nhttpClient.cache?.initialize()\r\nprintln(&quot;Client Request after deleting and initializing: ${httpClient.cache?.requestCount()}&quot;) //prints n\r\n```\r\nI tried adding an interceptor too, but that didn&#39;t work too or I am doing something wrong here:\r\n```\r\n@Bean\r\n@Named(&quot;testRail&quot;)\r\nfun createClient(appConfig: AppConfig): OkHttpClient = OkHttpClient\r\n  .Builder()\r\n  .cache(Cache(File(&quot;http_cache&quot;),100*1024*1024))\r\n  .readTimeout(Duration.ofHours(1)).build()\r\n  .addInterceptor(provideCacheInterceptor(1))\r\n\r\nprivate fun provideCacheInterceptor(maxMinutes: Int): Interceptor {\r\n    return Interceptor { chain -&gt;\r\n      val response: Response = chain.proceed(chain.request())\r\n      val cacheControl: CacheControl = CacheControl.Builder()\r\n        .maxAge(maxMinutes, TimeUnit.MINUTES)\r\n        .build()\r\n      response.newBuilder()\r\n        .header(CACHE_CONTROL, cacheControl.toString())\r\n        .build()\r\n    }\r\n  }\r\n```\r\nPlease let me know if there is a way to clear this","title":"flush() and evictAll() not working for okhttp3 cache","body":"<p>I am accessing TestRail's API which has a 180 Req/min rate limit,</p>\n<ol>\n<li>I am using okHttpClient for accessing it</li>\n<li>To keep a count of a count of requests I am using okhttp cache</li>\n<li>After every 180 Requests, I want to reset the cache but cache.flush() and cache.evictAll() both are not working</li>\n</ol>\n<pre><code>@Bean\n@Named(&quot;testRail&quot;)\nfun createClient(appConfig: AppConfig): OkHttpClient = OkHttpClient\n  .Builder()\n  .cache(Cache(File(&quot;http_cache&quot;),100*1024*1024))\n  .readTimeout(Duration.ofHours(1)).build()\n</code></pre>\n<p>I have tried these methods to clear the cache but nothing seems to be working,</p>\n<pre><code>println(&quot;Client Request original: ${httpClient.cache?.requestCount()}&quot;) //prints n\nhttpClient.cache?.evictAll()\nprintln(&quot;Client Request after evict: ${httpClient.cache?.requestCount()}&quot;) //prints n\nhttpClient.cache?.flush()\nprintln(&quot;Client Request after flush: ${httpClient.cache?.requestCount()}&quot;) //prints n\nhttpClient.cache?.delete()\nhttpClient.cache?.initialize()\nprintln(&quot;Client Request after deleting and initializing: ${httpClient.cache?.requestCount()}&quot;) //prints n\n</code></pre>\n<p>I tried adding an interceptor too, but that didn't work too or I am doing something wrong here:</p>\n<pre><code>@Bean\n@Named(&quot;testRail&quot;)\nfun createClient(appConfig: AppConfig): OkHttpClient = OkHttpClient\n  .Builder()\n  .cache(Cache(File(&quot;http_cache&quot;),100*1024*1024))\n  .readTimeout(Duration.ofHours(1)).build()\n  .addInterceptor(provideCacheInterceptor(1))\n\nprivate fun provideCacheInterceptor(maxMinutes: Int): Interceptor {\n    return Interceptor { chain -&gt;\n      val response: Response = chain.proceed(chain.request())\n      val cacheControl: CacheControl = CacheControl.Builder()\n        .maxAge(maxMinutes, TimeUnit.MINUTES)\n        .build()\n      response.newBuilder()\n        .header(CACHE_CONTROL, cacheControl.toString())\n        .build()\n    }\n  }\n</code></pre>\n<p>Please let me know if there is a way to clear this</p>\n"},{"tags":["java","android","xml","listview"],"comments":[{"owner":{"account_id":3403371,"reputation":4535,"user_id":2855059,"accept_rate":71,"display_name":"M D P"},"score":0,"creation_date":1650612722,"post_id":71961876,"comment_id":127164460,"body_markdown":"you are not using `listitem.xml`. what&#39;s inside `activity_list_item.xml`?","body":"you are not using <code>listitem.xml</code>. what&#39;s inside <code>activity_list_item.xml</code>?"}],"answers":[{"tags":[],"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650589461,"creation_date":1650589461,"answer_id":71962377,"question_id":71961876,"body_markdown":"Your layout name is listitem.xml and you are using list_item in adapter change this to R.id.listitem.","title":"How to display an array as a ListView in Android","body":"<p>Your layout name is listitem.xml and you are using list_item in adapter change this to R.id.listitem.</p>\n"}],"owner":{"account_id":25044005,"reputation":11,"user_id":18900612,"display_name":"dizzy7439"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650589461,"creation_date":1650583748,"question_id":71961876,"body_markdown":"I&#39;m trying to display the contents of an array in a ListView on Android. I initially had the error \r\n &gt; ArrayAdapter requires the resource ID to be a TextView\r\n\r\nso I changed the ArrayAdapter from \r\n```ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter(getApplicationContext(), android.R.layout.activity_list_item, weatherData);```\r\n\r\nto\r\n \r\n```ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter(getApplicationContext(), android.R.layout.activity_list_item, R.id.list_item, weatherData);```\r\n\r\nHowever I now get the error \r\n\r\n&gt;    java.lang.RuntimeException: Failed to find view with ID com.example.weatherapp:id/list_item in item layout\r\n\r\nI was hoping that someone could help me fix this. The whole code is below\r\n\r\nJava File \r\n```package com.example.weatherapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        displayListView();\r\n\r\n    }\r\n\r\n\r\n    public void displayListView () {\r\n        String[] weatherData = {&quot;Today - Storm 8 / 12&quot;, &quot;Tomorrow - Foggy 9 / 13&quot;, &quot;Thurs - Rainy 8 / 13&quot;, &quot;Fri - foggy 8 / 12&quot;, &quot;Sat - Sunny 9 / 14&quot;, &quot;Sun - Sunny 10 / 15&quot;, &quot;Mon - Sunny 11 / 15&quot; };\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter(getApplicationContext(), android.R.layout.activity_list_item, R.id.list_item, weatherData);\r\n        ListView listView = (ListView) findViewById(R.id.listview);\r\n        listView.setAdapter(adapter);\r\n    }\r\n\r\n    public void toastFunction (View view) {\r\n        Context context = getApplicationContext();\r\n        CharSequence text = &quot;Refreshing Weather!&quot;;\r\n        int duration = Toast.LENGTH_SHORT;\r\n        Toast toast = Toast.makeText(context, text, duration);\r\n        toast.show();\r\n    }\r\n} \r\n```\r\n\r\n\r\nactivity_main.xml\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/welcomeMessage&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:text=&quot;Welcome to weather dummy app :-)&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/refreshButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_marginTop=&quot;110dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:onClick=&quot;toastFunction&quot;\r\n        android:text=&quot;Refresh&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInput&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/enterLocationName&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Location Name&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;false&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;205dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:layout_marginBottom=&quot;0dp&quot; /&gt;\r\n\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nlistitem.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/list_item&quot;\r\n    android:minHeight=&quot;?android:attr/listPreferredItemHeight&quot;\r\n    android:textSize=&quot;25sp&quot;\r\n    android:gravity=&quot;center_vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n&lt;/TextView&gt;\r\n```\r\n","title":"How to display an array as a ListView in Android","body":"<p>I'm trying to display the contents of an array in a ListView on Android. I initially had the error</p>\n<blockquote>\n<p>ArrayAdapter requires the resource ID to be a TextView</p>\n</blockquote>\n<p>so I changed the ArrayAdapter from\n<code>ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter(getApplicationContext(), android.R.layout.activity_list_item, weatherData);</code></p>\n<p>to</p>\n<p><code>ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter(getApplicationContext(), android.R.layout.activity_list_item, R.id.list_item, weatherData);</code></p>\n<p>However I now get the error</p>\n<blockquote>\n<p>java.lang.RuntimeException: Failed to find view with ID com.example.weatherapp:id/list_item in item layout</p>\n</blockquote>\n<p>I was hoping that someone could help me fix this. The whole code is below</p>\n<p>Java File</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        displayListView();\n\n    }\n\n\n    public void displayListView () {\n        String[] weatherData = {&quot;Today - Storm 8 / 12&quot;, &quot;Tomorrow - Foggy 9 / 13&quot;, &quot;Thurs - Rainy 8 / 13&quot;, &quot;Fri - foggy 8 / 12&quot;, &quot;Sat - Sunny 9 / 14&quot;, &quot;Sun - Sunny 10 / 15&quot;, &quot;Mon - Sunny 11 / 15&quot; };\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter(getApplicationContext(), android.R.layout.activity_list_item, R.id.list_item, weatherData);\n        ListView listView = (ListView) findViewById(R.id.listview);\n        listView.setAdapter(adapter);\n    }\n\n    public void toastFunction (View view) {\n        Context context = getApplicationContext();\n        CharSequence text = &quot;Refreshing Weather!&quot;;\n        int duration = Toast.LENGTH_SHORT;\n        Toast toast = Toast.makeText(context, text, duration);\n        toast.show();\n    }\n} \n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/welcomeMessage&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:text=&quot;Welcome to weather dummy app :-)&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/refreshButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginTop=&quot;110dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:onClick=&quot;toastFunction&quot;\n        android:text=&quot;Refresh&quot; /&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/textInput&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;40dp&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/enterLocationName&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Enter Location Name&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;false&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;205dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;0dp&quot; /&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>listitem.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/list_item&quot;\n    android:minHeight=&quot;?android:attr/listPreferredItemHeight&quot;\n    android:textSize=&quot;25sp&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n&lt;/TextView&gt;\n</code></pre>\n"},{"tags":["java","asynchronous","exception","netty"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527868392,"creation_date":1527868392,"answer_id":50647152,"question_id":50612403,"body_markdown":"Basically what you did is correct... The only thing that is not correct is the order of the handlers. Your `ChannelOutboundHandlerAdapter` mast be placed &quot;as last outbound handler&quot; in the pipeline. Which means it should be like this:\r\n\r\n    pipeline.addLast(\r\n            new HttpLoggerHandler(),\r\n            createOutgoingErrorHandler(),\r\n            authHandlerFactory.get());\r\n\r\n\r\nThe reason for this is that outbound events from from the tail to the head of the pipeline while inbound events flow from the head to the tail.\r\n\r\n","title":"Catch-all exception handling for outbound ChannelHandler","body":"<p>Basically what you did is correct... The only thing that is not correct is the order of the handlers. Your <code>ChannelOutboundHandlerAdapter</code> mast be placed \"as last outbound handler\" in the pipeline. Which means it should be like this:</p>\n\n<pre><code>pipeline.addLast(\n        new HttpLoggerHandler(),\n        createOutgoingErrorHandler(),\n        authHandlerFactory.get());\n</code></pre>\n\n<p>The reason for this is that outbound events from from the tail to the head of the pipeline while inbound events flow from the head to the tail.</p>\n"},{"tags":[],"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535721735,"creation_date":1535721735,"answer_id":52116399,"question_id":50612403,"body_markdown":"There does not seem to be a generalized concept of a catch-all exception handler for outgoing handlers that will catch errors regardless of where. This means, unless you registered a listener to catch a certain error a runtime error will probably result in the error being &quot;swallowed&quot;, leaving you scratching your head for why nothing is being returned.\r\n\r\nThat said, maybe it doesn&#39;t make sense to have a handler/listener that always will execute given an error (as it needs to be very general), but it does make logging errors a bit tricker than need be.\r\n\r\nAfter writing [a bunch of *learning tests*][1] (which I suggest checking out!) I ended up with these insights, which are basically the names of my JUnit tests (after some regex manipulation):\r\n\r\n- a listener can write to a channel after the parent write has completed\r\n- a write listener can remove listeners from the pipeline and write on an erronous write\r\n- all listeners are invoked on success if the same promise is passed on\r\n- an error handler near the tail cannot catch an error from a handler nearer the head\r\n- netty does not invoke the next handlers write on runtime exception\r\n- netty invokes a write listener once on a normal write\r\n- netty invokes a write listener once on an erronous write\r\n- netty invokes the next handlers write with its written message\r\n- promises can be used to listen for next handlers success or failure\r\n- promises can be used to listen for non immediate handlers outcome if the promise is passed on\r\n- promises cannot be used to listen for non immediate handlers outcome if a new promise is passed on\r\n- promises cannot be used to listen for non immediate handlers outcome if the promise is not passed on\r\n- only the listener added to the final write is invoked on error if the promise is not passed on\r\n- only the listener added to the final write is invoked on success if the promise is not passed on\r\n- write listeners are invoked from the tail\r\n\r\nThis insight means, given the example in the question, that if an error should arise near the tail *and* `authHandler` does not pass the promise on, then the error handler near the head will never be invoked, as it is being supplied with a new promise, as `ctx.write(msg)` is essentially `ctx.channel.write(msg, newPromise())`.\r\n\r\nIn our situation we ended up solving the situation by injecting the same shareable error handling inbetween all the business logic handlers.\r\n\r\nThe handler looked like this\r\n\r\n    @ChannelHandler.Sharable\r\n    class OutboundErrorHandler extends ChannelOutboundHandlerAdapter {\r\n\r\n        private final static Logger logger = LoggerFactory.getLogger(OutboundErrorHandler.class);\r\n        private Throwable handledCause = null;\r\n\r\n        @Override\r\n        public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) {\r\n            ctx.write(msg, promise).addListener(writeResult -&gt; handleWriteResult(ctx, writeResult));\r\n        }\r\n\r\n        private void handleWriteResult(ChannelHandlerContext ctx, Future&lt;?&gt; writeResult) {\r\n            if (!writeResult.isSuccess()) {\r\n                final Throwable cause = writeResult.cause();\r\n\r\n                if (cause instanceof ClosedChannelException) {\r\n                    // no reason to close an already closed channel - just ignore\r\n                    return;\r\n                }\r\n\r\n                // Since this handler is shared and added multiple times\r\n                // we need to avoid spamming the logs N number of times for the same error\r\n                if (handledCause == cause) return;\r\n                handledCause = cause;\r\n\r\n                logger.error(&quot;Uncaught exception on write!&quot;, cause);\r\n\r\n                // By checking on channel writability and closing the channel after writing the error message,\r\n                // only the first listener will signal the error to the client\r\n                final Channel channel = ctx.channel();\r\n                if (channel.isWritable()) {\r\n                    ctx.writeAndFlush(serverErrorJSON(cause.getMessage()), channel.newPromise());\r\n                    ctx.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen in our pipeline setup we have this\r\n\r\n    // Prepend the error handler to every entry in the pipeline. \r\n    // The intention behind this is to have a catch-all\r\n    // outbound error handler and thereby avoiding the need to attach a\r\n    // listener to every ctx.write(...).\r\n    final OutboundErrorHandler outboundErrorHandler = new OutboundErrorHandler();\r\n    for (Map.Entry&lt;String, ChannelHandler&gt; entry : pipeline) {\r\n        pipeline.addBefore(entry.getKey(), entry.getKey() + &quot;#OutboundErrorHandler&quot;, outboundErrorHandler);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/fatso83/test-driven-learning/blob/master/java-netty/src/test/java/tdl/OutHandlerBehaviourTest.java#L115","title":"Catch-all exception handling for outbound ChannelHandler","body":"<p>There does not seem to be a generalized concept of a catch-all exception handler for outgoing handlers that will catch errors regardless of where. This means, unless you registered a listener to catch a certain error a runtime error will probably result in the error being \"swallowed\", leaving you scratching your head for why nothing is being returned.</p>\n\n<p>That said, maybe it doesn't make sense to have a handler/listener that always will execute given an error (as it needs to be very general), but it does make logging errors a bit tricker than need be.</p>\n\n<p>After writing <a href=\"https://github.com/fatso83/test-driven-learning/blob/master/java-netty/src/test/java/tdl/OutHandlerBehaviourTest.java#L115\" rel=\"nofollow noreferrer\">a bunch of <em>learning tests</em></a> (which I suggest checking out!) I ended up with these insights, which are basically the names of my JUnit tests (after some regex manipulation):</p>\n\n<ul>\n<li>a listener can write to a channel after the parent write has completed</li>\n<li>a write listener can remove listeners from the pipeline and write on an erronous write</li>\n<li>all listeners are invoked on success if the same promise is passed on</li>\n<li>an error handler near the tail cannot catch an error from a handler nearer the head</li>\n<li>netty does not invoke the next handlers write on runtime exception</li>\n<li>netty invokes a write listener once on a normal write</li>\n<li>netty invokes a write listener once on an erronous write</li>\n<li>netty invokes the next handlers write with its written message</li>\n<li>promises can be used to listen for next handlers success or failure</li>\n<li>promises can be used to listen for non immediate handlers outcome if the promise is passed on</li>\n<li>promises cannot be used to listen for non immediate handlers outcome if a new promise is passed on</li>\n<li>promises cannot be used to listen for non immediate handlers outcome if the promise is not passed on</li>\n<li>only the listener added to the final write is invoked on error if the promise is not passed on</li>\n<li>only the listener added to the final write is invoked on success if the promise is not passed on</li>\n<li>write listeners are invoked from the tail</li>\n</ul>\n\n<p>This insight means, given the example in the question, that if an error should arise near the tail <em>and</em> <code>authHandler</code> does not pass the promise on, then the error handler near the head will never be invoked, as it is being supplied with a new promise, as <code>ctx.write(msg)</code> is essentially <code>ctx.channel.write(msg, newPromise())</code>.</p>\n\n<p>In our situation we ended up solving the situation by injecting the same shareable error handling inbetween all the business logic handlers.</p>\n\n<p>The handler looked like this</p>\n\n<pre><code>@ChannelHandler.Sharable\nclass OutboundErrorHandler extends ChannelOutboundHandlerAdapter {\n\n    private final static Logger logger = LoggerFactory.getLogger(OutboundErrorHandler.class);\n    private Throwable handledCause = null;\n\n    @Override\n    public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) {\n        ctx.write(msg, promise).addListener(writeResult -&gt; handleWriteResult(ctx, writeResult));\n    }\n\n    private void handleWriteResult(ChannelHandlerContext ctx, Future&lt;?&gt; writeResult) {\n        if (!writeResult.isSuccess()) {\n            final Throwable cause = writeResult.cause();\n\n            if (cause instanceof ClosedChannelException) {\n                // no reason to close an already closed channel - just ignore\n                return;\n            }\n\n            // Since this handler is shared and added multiple times\n            // we need to avoid spamming the logs N number of times for the same error\n            if (handledCause == cause) return;\n            handledCause = cause;\n\n            logger.error(\"Uncaught exception on write!\", cause);\n\n            // By checking on channel writability and closing the channel after writing the error message,\n            // only the first listener will signal the error to the client\n            final Channel channel = ctx.channel();\n            if (channel.isWritable()) {\n                ctx.writeAndFlush(serverErrorJSON(cause.getMessage()), channel.newPromise());\n                ctx.close();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then in our pipeline setup we have this</p>\n\n<pre><code>// Prepend the error handler to every entry in the pipeline. \n// The intention behind this is to have a catch-all\n// outbound error handler and thereby avoiding the need to attach a\n// listener to every ctx.write(...).\nfinal OutboundErrorHandler outboundErrorHandler = new OutboundErrorHandler();\nfor (Map.Entry&lt;String, ChannelHandler&gt; entry : pipeline) {\n    pipeline.addBefore(entry.getKey(), entry.getKey() + \"#OutboundErrorHandler\", outboundErrorHandler);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650589149,"creation_date":1600226170,"answer_id":63912593,"question_id":50612403,"body_markdown":"I found a very simple solution that allows both inbound and outbound exceptions to reach the same exception handler positioned as the last ChannelHandler in the pipeline.\r\n\r\nMy pipeline is setup as follows:\r\n\r\n```lang-java\r\n        //Inbound propagation\r\n        socketChannel.pipeline()\r\n          .addLast(new Decoder())\r\n          .addLast(new ExceptionHandler());\r\n\r\n        //Outbound propagation\r\n        socketChannel.pipeline()\r\n          .addFirst(new OutboundExceptionRouter())\r\n          .addFirst(new Encoder());\r\n```\r\nThis is the content of my ExceptionHandler, it logs caught exceptions:\r\n\r\n``` lang-java\r\n    public class ExceptionHandler extends ChannelInboundHandlerAdapter {\r\n        @Override\r\n        public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\r\n            log.error(&quot;Exception caught on channel&quot;, cause);\r\n        }\r\n    }\r\n```\r\n\r\nNow the magic that allows even outbound exceptions to be handled by ExceptionHandler happens in the OutBoundExceptionRouter:\r\n``` lang-java\r\n    public class OutboundExceptionRouter extends ChannelOutboundHandlerAdapter {\r\n        @Override\r\n        public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {\r\n            promise.addListener(ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE);\r\n            super.write(ctx, msg, promise);\r\n        }\r\n    }\r\n```\r\n\r\nThis is the first outbound handler invoked in my pipeline, what it does is add a listener to the outbound write promise which will execute `future.channel().pipeline().fireExceptionCaught(future.cause());` when the promise fails. The `fireExceptionCaught` method propagates the exception through the pipeline in the inbound direction, eventually reaching the ExceptionHandler.\r\n\r\n-----\r\n\r\nIn case anyone is interested, as of Netty 4.1, the reason why we need to add a listener to get the exception is because after performing a writeAndFlush to the channel, the [invokeWrite0 method][1] is called in AbstractChannelHandlerContext.java which wraps the write operation in a try catch block. The catch block notifies the Promise instead of calling `fireExceptionCaught` [like the invokeChannelRead method does][2] for inbound messages.\r\n\r\n\r\n  [1]: https://github.com/netty/netty/blob/830fc0d660896ce781aba0a8eb614053a4fe9201/transport/src/main/java/io/netty/channel/AbstractChannelHandlerContext.java#L715\r\n  [2]: https://github.com/netty/netty/blob/830fc0d660896ce781aba0a8eb614053a4fe9201/transport/src/main/java/io/netty/channel/AbstractChannelHandlerContext.java#L376","title":"Catch-all exception handling for outbound ChannelHandler","body":"<p>I found a very simple solution that allows both inbound and outbound exceptions to reach the same exception handler positioned as the last ChannelHandler in the pipeline.</p>\n<p>My pipeline is setup as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        //Inbound propagation\n        socketChannel.pipeline()\n          .addLast(new Decoder())\n          .addLast(new ExceptionHandler());\n\n        //Outbound propagation\n        socketChannel.pipeline()\n          .addFirst(new OutboundExceptionRouter())\n          .addFirst(new Encoder());\n</code></pre>\n<p>This is the content of my ExceptionHandler, it logs caught exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ExceptionHandler extends ChannelInboundHandlerAdapter {\n        @Override\n        public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n            log.error(&quot;Exception caught on channel&quot;, cause);\n        }\n    }\n</code></pre>\n<p>Now the magic that allows even outbound exceptions to be handled by ExceptionHandler happens in the OutBoundExceptionRouter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class OutboundExceptionRouter extends ChannelOutboundHandlerAdapter {\n        @Override\n        public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {\n            promise.addListener(ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE);\n            super.write(ctx, msg, promise);\n        }\n    }\n</code></pre>\n<p>This is the first outbound handler invoked in my pipeline, what it does is add a listener to the outbound write promise which will execute <code>future.channel().pipeline().fireExceptionCaught(future.cause());</code> when the promise fails. The <code>fireExceptionCaught</code> method propagates the exception through the pipeline in the inbound direction, eventually reaching the ExceptionHandler.</p>\n<hr />\n<p>In case anyone is interested, as of Netty 4.1, the reason why we need to add a listener to get the exception is because after performing a writeAndFlush to the channel, the <a href=\"https://github.com/netty/netty/blob/830fc0d660896ce781aba0a8eb614053a4fe9201/transport/src/main/java/io/netty/channel/AbstractChannelHandlerContext.java#L715\" rel=\"nofollow noreferrer\">invokeWrite0 method</a> is called in AbstractChannelHandlerContext.java which wraps the write operation in a try catch block. The catch block notifies the Promise instead of calling <code>fireExceptionCaught</code> <a href=\"https://github.com/netty/netty/blob/830fc0d660896ce781aba0a8eb614053a4fe9201/transport/src/main/java/io/netty/channel/AbstractChannelHandlerContext.java#L376\" rel=\"nofollow noreferrer\">like the invokeChannelRead method does</a> for inbound messages.</p>\n"}],"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1650589149,"creation_date":1527709718,"question_id":50612403,"body_markdown":"In Netty you have the concept of inbound and outbound handlers. A catch-all inbound exception handler is implemented simply by adding a channel handler at the end (the tail) of the pipeline and implementing an `exceptionCaught` override. The exception happening along the inbound pipeline will travel along the handlers until meeting the last one, if not handled along the way.\r\n\r\nThere isn&#39;t an exact opposite for outgoing handlers. Instead (according to Netty in Action, page 94) you need to either add a listener to the _channel&#39;s_ `Future` or a listener to the `Promise` passed into the `write` method of your `Handler`.\r\n\r\nAs I am not sure where to insert the former, I thought I&#39;d go for the latter, so I made the following `ChannelOutboundHandler`:\r\n\r\n``` lang-java\r\n\r\n    /**\r\n     * Catch and log errors happening in the outgoing direction\r\n     *\r\n     * @see &lt;p&gt;p94 in &quot;Netty In Action&quot;&lt;/p&gt;\r\n     */\r\n    private ChannelOutboundHandlerAdapter createOutgoingErrorHandler() {\r\n        return new ChannelOutboundHandlerAdapter() {\r\n            @Override\r\n            public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) {\r\n                logger.info(&quot;howdy! (never gets this far)&quot;);\r\n\r\n                final ChannelFutureListener channelFutureListener = future -&gt; {\r\n                    if (!future.isSuccess()) {\r\n                        future.cause().printStackTrace();\r\n                        // ctx.writeAndFlush(serverErrorJSON(&quot;an error!&quot;));\r\n                        future.channel().writeAndFlush(serverErrorJSON(&quot;an error!&quot;));\r\n                        future.channel().close();\r\n                    }\r\n                };\r\n                promise.addListener(channelFutureListener);\r\n                ctx.write(msg, promise);\r\n            }\r\n        };\r\n```\r\n\r\nThis is added to the head of the pipeline:\r\n\r\n``` lang-java\r\n    @Override\r\n    public void addHandlersToPipeline(final ChannelPipeline pipeline) {\r\n        pipeline.addLast(\r\n                createOutgoingErrorHandler(),\r\n                new HttpLoggerHandler(), // an error in this `write` should go &quot;up&quot;\r\n                authHandlerFactory.get(),\r\n                // etc\r\n\r\n```\r\n\r\nThe problem is that the `write` method of my error handler is never called if I throw a runtime exception in the `HttpLoggerHandler.write()`. \r\n\r\nHow would I make this work? An error in any of the outgoing handlers should &quot;bubble up&quot; to the one attached to the head. \r\n\r\nAn important thing to note is that I don&#39;t merely want to close the channel, I want to write an error message back to the client (as seen from `serverErrorJSON(&#39;...&#39;)`. During my trials of shuffling around the order of the handlers (also trying out stuff from [this answer][1]), I have gotten the listener activated, but I was unable to write anything. If I used `ctx.write()` in the listener, it seems as if I got into a loop, while using `future.channel().write...` didn&#39;t do anything.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/30994095/200987","title":"Catch-all exception handling for outbound ChannelHandler","body":"<p>In Netty you have the concept of inbound and outbound handlers. A catch-all inbound exception handler is implemented simply by adding a channel handler at the end (the tail) of the pipeline and implementing an <code>exceptionCaught</code> override. The exception happening along the inbound pipeline will travel along the handlers until meeting the last one, if not handled along the way.</p>\n<p>There isn't an exact opposite for outgoing handlers. Instead (according to Netty in Action, page 94) you need to either add a listener to the <em>channel's</em> <code>Future</code> or a listener to the <code>Promise</code> passed into the <code>write</code> method of your <code>Handler</code>.</p>\n<p>As I am not sure where to insert the former, I thought I'd go for the latter, so I made the following <code>ChannelOutboundHandler</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    /**\n     * Catch and log errors happening in the outgoing direction\n     *\n     * @see &lt;p&gt;p94 in &quot;Netty In Action&quot;&lt;/p&gt;\n     */\n    private ChannelOutboundHandlerAdapter createOutgoingErrorHandler() {\n        return new ChannelOutboundHandlerAdapter() {\n            @Override\n            public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) {\n                logger.info(&quot;howdy! (never gets this far)&quot;);\n\n                final ChannelFutureListener channelFutureListener = future -&gt; {\n                    if (!future.isSuccess()) {\n                        future.cause().printStackTrace();\n                        // ctx.writeAndFlush(serverErrorJSON(&quot;an error!&quot;));\n                        future.channel().writeAndFlush(serverErrorJSON(&quot;an error!&quot;));\n                        future.channel().close();\n                    }\n                };\n                promise.addListener(channelFutureListener);\n                ctx.write(msg, promise);\n            }\n        };\n</code></pre>\n<p>This is added to the head of the pipeline:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void addHandlersToPipeline(final ChannelPipeline pipeline) {\n        pipeline.addLast(\n                createOutgoingErrorHandler(),\n                new HttpLoggerHandler(), // an error in this `write` should go &quot;up&quot;\n                authHandlerFactory.get(),\n                // etc\n\n</code></pre>\n<p>The problem is that the <code>write</code> method of my error handler is never called if I throw a runtime exception in the <code>HttpLoggerHandler.write()</code>.</p>\n<p>How would I make this work? An error in any of the outgoing handlers should &quot;bubble up&quot; to the one attached to the head.</p>\n<p>An important thing to note is that I don't merely want to close the channel, I want to write an error message back to the client (as seen from <code>serverErrorJSON('...')</code>. During my trials of shuffling around the order of the handlers (also trying out stuff from <a href=\"https://stackoverflow.com/q/30994095/200987\">this answer</a>), I have gotten the listener activated, but I was unable to write anything. If I used <code>ctx.write()</code> in the listener, it seems as if I got into a loop, while using <code>future.channel().write...</code> didn't do anything.</p>\n"},{"tags":["java","styles","element","inline","docx4j"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650588341,"creation_date":1650575345,"answer_id":71960904,"question_id":71946428,"body_markdown":"Word happily opens the following:\r\n\r\n    &lt;w:p &gt;\r\n      &lt;w:r&gt;\r\n        &lt;w:t&gt;cat&lt;/w:t&gt;\r\n        &lt;w:drawing&gt;\r\n          &lt;wp:inline distT=&quot;0&quot; distB=&quot;0&quot; distL=&quot;0&quot; distR=&quot;0&quot; wp14:anchorId=&quot;5BCF56C2&quot; wp14:editId=&quot;3C402C6A&quot;&gt;\r\n            &lt;wp:extent cx=&quot;1762125&quot; cy=&quot;1085850&quot;/&gt;\r\n            &lt;wp:effectExtent l=&quot;0&quot; t=&quot;0&quot; r=&quot;9525&quot; b=&quot;0&quot;/&gt;\r\n            &lt;wp:docPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\r\n            &lt;wp:cNvGraphicFramePr&gt;\r\n              &lt;a:graphicFrameLocks xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot; noChangeAspect=&quot;1&quot;/&gt;\r\n            &lt;/wp:cNvGraphicFramePr&gt;\r\n            &lt;a:graphic xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot;&gt;\r\n              &lt;a:graphicData uri=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\r\n                &lt;pic:pic xmlns:pic=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\r\n                  &lt;pic:nvPicPr&gt;\r\n                    &lt;pic:cNvPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\r\n                    &lt;pic:cNvPicPr/&gt;\r\n                  &lt;/pic:nvPicPr&gt;\r\n                  &lt;pic:blipFill&gt;\r\n                    &lt;a:blip r:embed=&quot;rId4&quot;/&gt;\r\n                    &lt;a:stretch&gt;\r\n                      &lt;a:fillRect/&gt;\r\n                    &lt;/a:stretch&gt;\r\n                  &lt;/pic:blipFill&gt;\r\n                  &lt;pic:spPr&gt;\r\n                    &lt;a:xfrm&gt;\r\n                      &lt;a:off x=&quot;0&quot; y=&quot;0&quot;/&gt;\r\n                      &lt;a:ext cx=&quot;1762125&quot; cy=&quot;1085850&quot;/&gt;\r\n                    &lt;/a:xfrm&gt;\r\n                    &lt;a:prstGeom prst=&quot;rect&quot;&gt;\r\n                      &lt;a:avLst/&gt;\r\n                    &lt;/a:prstGeom&gt;\r\n                  &lt;/pic:spPr&gt;\r\n                &lt;/pic:pic&gt;\r\n              &lt;/a:graphicData&gt;\r\n            &lt;/a:graphic&gt;\r\n          &lt;/wp:inline&gt;\r\n        &lt;/w:drawing&gt;\r\n        &lt;w:t&gt;mat&lt;/w:t&gt;\r\n      &lt;/w:r&gt;\r\n    &lt;/w:p&gt;\r\n\r\nIf you want soft carriage returns in your string, try\r\n\r\n    &lt;w:r&gt;\r\n        &lt;w:t&gt;First&lt;/w:t&gt;\r\n        &lt;w:br/&gt;\r\n        &lt;w:t&gt;Second&lt;/w:t&gt;\r\n        &lt;w:br/&gt;\r\n        &lt;w:t&gt;Third&lt;/w:t&gt;\r\n    &lt;/w:r&gt;\r\n\r\nNote, you are allowed multiple runs in a paragraph.\r\n\r\nPlaying around in Word, the following produces the effect you are describing:\r\n\r\n    &lt;w:p w14:paraId=&quot;51F5329E&quot; w14:textId=&quot;6F4BEDC9&quot; w:rsidR=&quot;00593364&quot; w:rsidRDefault=&quot;00213A25&quot;&gt;\r\n      &lt;w:r&gt;\r\n        &lt;w:t&gt;First&lt;/w:t&gt;\r\n      &lt;/w:r&gt;\r\n      &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\r\n        &lt;w:br/&gt;\r\n      &lt;/w:r&gt;\r\n      &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\r\n        &lt;w:br/&gt;\r\n      &lt;/w:r&gt;\r\n      &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\r\n        &lt;w:rPr&gt;\r\n          &lt;w:noProof/&gt;\r\n        &lt;/w:rPr&gt;\r\n        &lt;w:drawing&gt;\r\n          &lt;wp:anchor distT=&quot;0&quot; distB=&quot;0&quot; distL=&quot;114300&quot; distR=&quot;114300&quot; simplePos=&quot;0&quot; relativeHeight=&quot;251658240&quot; behindDoc=&quot;0&quot; locked=&quot;0&quot; layoutInCell=&quot;1&quot; allowOverlap=&quot;0&quot; wp14:anchorId=&quot;7D920551&quot; wp14:editId=&quot;0F89E79F&quot;&gt;\r\n            &lt;wp:simplePos x=&quot;0&quot; y=&quot;0&quot;/&gt;\r\n            &lt;wp:positionH relativeFrom=&quot;character&quot;&gt;\r\n              &lt;wp:posOffset&gt;1069947&lt;/wp:posOffset&gt;\r\n            &lt;/wp:positionH&gt;\r\n            &lt;wp:positionV relativeFrom=&quot;line&quot;&gt;\r\n              &lt;wp:posOffset&gt;-548640&lt;/wp:posOffset&gt;\r\n            &lt;/wp:positionV&gt;\r\n            &lt;wp:extent cx=&quot;1764792&quot; cy=&quot;1088136&quot;/&gt;\r\n            &lt;wp:effectExtent l=&quot;0&quot; t=&quot;0&quot; r=&quot;6985&quot; b=&quot;0&quot;/&gt;\r\n            &lt;wp:wrapSquare wrapText=&quot;bothSides&quot;/&gt;\r\n            &lt;wp:docPr id=&quot;2&quot; name=&quot;Picture 2&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\r\n            &lt;wp:cNvGraphicFramePr&gt;\r\n              &lt;a:graphicFrameLocks xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot; noChangeAspect=&quot;1&quot;/&gt;\r\n            &lt;/wp:cNvGraphicFramePr&gt;\r\n            &lt;a:graphic xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot;&gt;\r\n              &lt;a:graphicData uri=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\r\n                &lt;pic:pic xmlns:pic=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\r\n                  &lt;pic:nvPicPr&gt;\r\n                    &lt;pic:cNvPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\r\n                    &lt;pic:cNvPicPr/&gt;\r\n                  &lt;/pic:nvPicPr&gt;\r\n                  &lt;pic:blipFill&gt;\r\n                    &lt;a:blip r:embed=&quot;rId6&quot;&gt;\r\n                      &lt;a:extLst&gt;\r\n                        &lt;a:ext uri=&quot;{28A0092B-C50C-407E-A947-70E740481C1C}&quot;&gt;\r\n                          &lt;a14:useLocalDpi xmlns:a14=&quot;http://schemas.microsoft.com/office/drawing/2010/main&quot; val=&quot;0&quot;/&gt;\r\n                        &lt;/a:ext&gt;\r\n                      &lt;/a:extLst&gt;\r\n                    &lt;/a:blip&gt;\r\n                    &lt;a:stretch&gt;\r\n                      &lt;a:fillRect/&gt;\r\n                    &lt;/a:stretch&gt;\r\n                  &lt;/pic:blipFill&gt;\r\n                  &lt;pic:spPr&gt;\r\n                    &lt;a:xfrm&gt;\r\n                      &lt;a:off x=&quot;0&quot; y=&quot;0&quot;/&gt;\r\n                      &lt;a:ext cx=&quot;1764792&quot; cy=&quot;1088136&quot;/&gt;\r\n                    &lt;/a:xfrm&gt;\r\n                    &lt;a:prstGeom prst=&quot;rect&quot;&gt;\r\n                      &lt;a:avLst/&gt;\r\n                    &lt;/a:prstGeom&gt;\r\n                  &lt;/pic:spPr&gt;\r\n                &lt;/pic:pic&gt;\r\n              &lt;/a:graphicData&gt;\r\n            &lt;/a:graphic&gt;\r\n            &lt;wp14:sizeRelH relativeFrom=&quot;margin&quot;&gt;\r\n              &lt;wp14:pctWidth&gt;0&lt;/wp14:pctWidth&gt;\r\n            &lt;/wp14:sizeRelH&gt;\r\n            &lt;wp14:sizeRelV relativeFrom=&quot;margin&quot;&gt;\r\n              &lt;wp14:pctHeight&gt;0&lt;/wp14:pctHeight&gt;\r\n            &lt;/wp14:sizeRelV&gt;\r\n          &lt;/wp:anchor&gt;\r\n        &lt;/w:drawing&gt;\r\n      &lt;/w:r&gt;\r\n      &lt;w:r&gt;\r\n        &lt;w:t&gt;Second&lt;/w:t&gt;\r\n      &lt;/w:r&gt;\r\n      &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\r\n        &lt;w:br/&gt;\r\n      &lt;/w:r&gt;\r\n      &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\r\n        &lt;w:br/&gt;\r\n      &lt;/w:r&gt;\r\n      &lt;w:r&gt;\r\n        &lt;w:t&gt;Third&lt;/w:t&gt;\r\n      &lt;/w:r&gt;\r\n    &lt;/w:p&gt;\r\n\r\nbut me, I&#39;d use a table, 1 row, 2 cols, no borders; text in the left hand cell, image in the right.","title":"Docx4j Put image and text in the same run","body":"<p>Word happily opens the following:</p>\n<pre><code>&lt;w:p &gt;\n  &lt;w:r&gt;\n    &lt;w:t&gt;cat&lt;/w:t&gt;\n    &lt;w:drawing&gt;\n      &lt;wp:inline distT=&quot;0&quot; distB=&quot;0&quot; distL=&quot;0&quot; distR=&quot;0&quot; wp14:anchorId=&quot;5BCF56C2&quot; wp14:editId=&quot;3C402C6A&quot;&gt;\n        &lt;wp:extent cx=&quot;1762125&quot; cy=&quot;1085850&quot;/&gt;\n        &lt;wp:effectExtent l=&quot;0&quot; t=&quot;0&quot; r=&quot;9525&quot; b=&quot;0&quot;/&gt;\n        &lt;wp:docPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\n        &lt;wp:cNvGraphicFramePr&gt;\n          &lt;a:graphicFrameLocks xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot; noChangeAspect=&quot;1&quot;/&gt;\n        &lt;/wp:cNvGraphicFramePr&gt;\n        &lt;a:graphic xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot;&gt;\n          &lt;a:graphicData uri=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\n            &lt;pic:pic xmlns:pic=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\n              &lt;pic:nvPicPr&gt;\n                &lt;pic:cNvPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\n                &lt;pic:cNvPicPr/&gt;\n              &lt;/pic:nvPicPr&gt;\n              &lt;pic:blipFill&gt;\n                &lt;a:blip r:embed=&quot;rId4&quot;/&gt;\n                &lt;a:stretch&gt;\n                  &lt;a:fillRect/&gt;\n                &lt;/a:stretch&gt;\n              &lt;/pic:blipFill&gt;\n              &lt;pic:spPr&gt;\n                &lt;a:xfrm&gt;\n                  &lt;a:off x=&quot;0&quot; y=&quot;0&quot;/&gt;\n                  &lt;a:ext cx=&quot;1762125&quot; cy=&quot;1085850&quot;/&gt;\n                &lt;/a:xfrm&gt;\n                &lt;a:prstGeom prst=&quot;rect&quot;&gt;\n                  &lt;a:avLst/&gt;\n                &lt;/a:prstGeom&gt;\n              &lt;/pic:spPr&gt;\n            &lt;/pic:pic&gt;\n          &lt;/a:graphicData&gt;\n        &lt;/a:graphic&gt;\n      &lt;/wp:inline&gt;\n    &lt;/w:drawing&gt;\n    &lt;w:t&gt;mat&lt;/w:t&gt;\n  &lt;/w:r&gt;\n&lt;/w:p&gt;\n</code></pre>\n<p>If you want soft carriage returns in your string, try</p>\n<pre><code>&lt;w:r&gt;\n    &lt;w:t&gt;First&lt;/w:t&gt;\n    &lt;w:br/&gt;\n    &lt;w:t&gt;Second&lt;/w:t&gt;\n    &lt;w:br/&gt;\n    &lt;w:t&gt;Third&lt;/w:t&gt;\n&lt;/w:r&gt;\n</code></pre>\n<p>Note, you are allowed multiple runs in a paragraph.</p>\n<p>Playing around in Word, the following produces the effect you are describing:</p>\n<pre><code>&lt;w:p w14:paraId=&quot;51F5329E&quot; w14:textId=&quot;6F4BEDC9&quot; w:rsidR=&quot;00593364&quot; w:rsidRDefault=&quot;00213A25&quot;&gt;\n  &lt;w:r&gt;\n    &lt;w:t&gt;First&lt;/w:t&gt;\n  &lt;/w:r&gt;\n  &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\n    &lt;w:br/&gt;\n  &lt;/w:r&gt;\n  &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\n    &lt;w:br/&gt;\n  &lt;/w:r&gt;\n  &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\n    &lt;w:rPr&gt;\n      &lt;w:noProof/&gt;\n    &lt;/w:rPr&gt;\n    &lt;w:drawing&gt;\n      &lt;wp:anchor distT=&quot;0&quot; distB=&quot;0&quot; distL=&quot;114300&quot; distR=&quot;114300&quot; simplePos=&quot;0&quot; relativeHeight=&quot;251658240&quot; behindDoc=&quot;0&quot; locked=&quot;0&quot; layoutInCell=&quot;1&quot; allowOverlap=&quot;0&quot; wp14:anchorId=&quot;7D920551&quot; wp14:editId=&quot;0F89E79F&quot;&gt;\n        &lt;wp:simplePos x=&quot;0&quot; y=&quot;0&quot;/&gt;\n        &lt;wp:positionH relativeFrom=&quot;character&quot;&gt;\n          &lt;wp:posOffset&gt;1069947&lt;/wp:posOffset&gt;\n        &lt;/wp:positionH&gt;\n        &lt;wp:positionV relativeFrom=&quot;line&quot;&gt;\n          &lt;wp:posOffset&gt;-548640&lt;/wp:posOffset&gt;\n        &lt;/wp:positionV&gt;\n        &lt;wp:extent cx=&quot;1764792&quot; cy=&quot;1088136&quot;/&gt;\n        &lt;wp:effectExtent l=&quot;0&quot; t=&quot;0&quot; r=&quot;6985&quot; b=&quot;0&quot;/&gt;\n        &lt;wp:wrapSquare wrapText=&quot;bothSides&quot;/&gt;\n        &lt;wp:docPr id=&quot;2&quot; name=&quot;Picture 2&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\n        &lt;wp:cNvGraphicFramePr&gt;\n          &lt;a:graphicFrameLocks xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot; noChangeAspect=&quot;1&quot;/&gt;\n        &lt;/wp:cNvGraphicFramePr&gt;\n        &lt;a:graphic xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot;&gt;\n          &lt;a:graphicData uri=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\n            &lt;pic:pic xmlns:pic=&quot;http://schemas.openxmlformats.org/drawingml/2006/picture&quot;&gt;\n              &lt;pic:nvPicPr&gt;\n                &lt;pic:cNvPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Graphical user interface, application, Word&amp;#xA;&amp;#xA;Description automatically generated&quot;/&gt;\n                &lt;pic:cNvPicPr/&gt;\n              &lt;/pic:nvPicPr&gt;\n              &lt;pic:blipFill&gt;\n                &lt;a:blip r:embed=&quot;rId6&quot;&gt;\n                  &lt;a:extLst&gt;\n                    &lt;a:ext uri=&quot;{28A0092B-C50C-407E-A947-70E740481C1C}&quot;&gt;\n                      &lt;a14:useLocalDpi xmlns:a14=&quot;http://schemas.microsoft.com/office/drawing/2010/main&quot; val=&quot;0&quot;/&gt;\n                    &lt;/a:ext&gt;\n                  &lt;/a:extLst&gt;\n                &lt;/a:blip&gt;\n                &lt;a:stretch&gt;\n                  &lt;a:fillRect/&gt;\n                &lt;/a:stretch&gt;\n              &lt;/pic:blipFill&gt;\n              &lt;pic:spPr&gt;\n                &lt;a:xfrm&gt;\n                  &lt;a:off x=&quot;0&quot; y=&quot;0&quot;/&gt;\n                  &lt;a:ext cx=&quot;1764792&quot; cy=&quot;1088136&quot;/&gt;\n                &lt;/a:xfrm&gt;\n                &lt;a:prstGeom prst=&quot;rect&quot;&gt;\n                  &lt;a:avLst/&gt;\n                &lt;/a:prstGeom&gt;\n              &lt;/pic:spPr&gt;\n            &lt;/pic:pic&gt;\n          &lt;/a:graphicData&gt;\n        &lt;/a:graphic&gt;\n        &lt;wp14:sizeRelH relativeFrom=&quot;margin&quot;&gt;\n          &lt;wp14:pctWidth&gt;0&lt;/wp14:pctWidth&gt;\n        &lt;/wp14:sizeRelH&gt;\n        &lt;wp14:sizeRelV relativeFrom=&quot;margin&quot;&gt;\n          &lt;wp14:pctHeight&gt;0&lt;/wp14:pctHeight&gt;\n        &lt;/wp14:sizeRelV&gt;\n      &lt;/wp:anchor&gt;\n    &lt;/w:drawing&gt;\n  &lt;/w:r&gt;\n  &lt;w:r&gt;\n    &lt;w:t&gt;Second&lt;/w:t&gt;\n  &lt;/w:r&gt;\n  &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\n    &lt;w:br/&gt;\n  &lt;/w:r&gt;\n  &lt;w:r w:rsidR=&quot;00593364&quot;&gt;\n    &lt;w:br/&gt;\n  &lt;/w:r&gt;\n  &lt;w:r&gt;\n    &lt;w:t&gt;Third&lt;/w:t&gt;\n  &lt;/w:r&gt;\n&lt;/w:p&gt;\n</code></pre>\n<p>but me, I'd use a table, 1 row, 2 cols, no borders; text in the left hand cell, image in the right.</p>\n"}],"owner":{"account_id":18263992,"reputation":21,"user_id":13296174,"display_name":"George Dimitriou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650588341,"creation_date":1650490555,"question_id":71946428,"body_markdown":"Is there any way to put three words(one below another) and an image exactly next to them in the same run inside a P element?\r\n\r\nI am trying this but it is not working. It displays the String without new lines.\r\n\r\n```\r\nprivate static P addImageToParagraph (Inline inline){\r\n      ObjectFactory factory = new ObjectFactory();\r\n      P p = factory.createP();\r\n      R r = factory.createR();\r\n      Text t1 = factory.createText();\r\n      t1.setValue(&quot;First \\n Second \\n Third&quot;);\r\n      r.getContent().add(t1);\r\n      Drawing drawing = factory.createDrawing();\r\n      drawing.getAnchorOrInline().add(inline);\r\n      r.getContent().add(drawing);\r\n      p.getContent().add(r);\r\n      return p;  \r\n}\r\n```","title":"Docx4j Put image and text in the same run","body":"<p>Is there any way to put three words(one below another) and an image exactly next to them in the same run inside a P element?</p>\n<p>I am trying this but it is not working. It displays the String without new lines.</p>\n<pre><code>private static P addImageToParagraph (Inline inline){\n      ObjectFactory factory = new ObjectFactory();\n      P p = factory.createP();\n      R r = factory.createR();\n      Text t1 = factory.createText();\n      t1.setValue(&quot;First \\n Second \\n Third&quot;);\n      r.getContent().add(t1);\n      Drawing drawing = factory.createDrawing();\n      drawing.getAnchorOrInline().add(inline);\n      r.getContent().add(drawing);\n      p.getContent().add(r);\n      return p;  \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"score":1,"creation_date":1650576475,"post_id":71960921,"comment_id":127158117,"body_markdown":"`if(num1 % b == 0 &amp;&amp; num2 % b==0);` should not have the `;` at the end.","body":"<code>if(num1 % b == 0 &amp;&amp; num2 % b==0);</code> should not have the <code>;</code> at the end."},{"owner":{"account_id":22926885,"reputation":5,"user_id":17061818,"display_name":"Savannah M"},"score":0,"creation_date":1650578804,"post_id":71960921,"comment_id":127158606,"body_markdown":"Wow was it that simple of a fix? Seems removing the &quot;;&quot; did the trick for the GCF result. Thank you. However, I still have the issue of the factor pairs not matching up.","body":"Wow was it that simple of a fix? Seems removing the &quot;;&quot; did the trick for the GCF result. Thank you. However, I still have the issue of the factor pairs not matching up."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1650584420,"post_id":71960921,"comment_id":127159498,"body_markdown":"What does the professor mean by &quot;factor pairs&quot;? Why not just say &quot;factors&quot; ?  Why does your professor have `6` twice in the output when the input is `36`? Why does your professor have `**` in front of the first `6` and in front of the `9` ?","body":"What does the professor mean by &quot;factor pairs&quot;? Why not just say &quot;factors&quot; ?  Why does your professor have <code>6</code> twice in the output when the input is <code>36</code>? Why does your professor have <code>**</code> in front of the first <code>6</code> and in front of the <code>9</code> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1650584700,"post_id":71960921,"comment_id":127159537,"body_markdown":"Off topic: A better programming style would be to not duplicate the code for calculating the factors. Make that a method, and pass `num1` as an argument, and then again with `num2`.","body":"Off topic: A better programming style would be to not duplicate the code for calculating the factors. Make that a method, and pass <code>num1</code> as an argument, and then again with <code>num2</code>."}],"owner":{"account_id":22926885,"reputation":5,"user_id":17061818,"display_name":"Savannah M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650587204,"creation_date":1650575439,"question_id":71960921,"body_markdown":"My goal is to create a calculator that takes the user&#39;s input and determines factor pairs and the GCF. I&#39;m trying to get my output to correspond with my professor and I am at a loss as to what could be incorrect. His required output is:\r\n```\r\nEnter the first number:\r\n24\r\nEnter the second number:\r\n36\r\nThe factor pairs of 24 are: {1, 2, 3, 4, 6, 8, 12, 24}.\r\nThe factor pairs of 36 are: {1, 2, 3, 4, 6, 6, 9, 12, 18, 36}.\r\nThe greatest common factor (GCF) of 24 and 36 is 12.\r\n```\r\n\r\nhowever, my results are:\r\n```\r\nThe factor pairs of 36 are: {1, 2, 3, 4, 6, 9, 12, 18, 36}.\r\n```\r\nThen for the GCF for inputs 25, and 30 my results are:\r\n```\r\nThe factor pairs of 25 are: {1, 5, 25}.\r\nThe factor pairs of 30 are: {1, 2, 3, 5, 6, 10, 15, 30}.\r\nThe greatest common factor (GCF) of 25 and 30 is 25.\r\n```\r\n\r\nbut the required output is:\r\n```\r\nThe greatest common factor (GCF) of 25 and 30 is 5.\r\n```\r\nHere is my code for processing the factor pairs and the GCF:\r\n```\r\n public static void greatCF (Scanner sc){\r\n    System.out.println(&quot;\\nEnter the first number:&quot;);\r\n      int num1 = sc.nextInt();\r\n\r\n      System.out.println(&quot;Enter the second number:&quot;);\r\n      int num2 = sc.nextInt();\r\n\r\n      System.out.print(&quot;The factor pairs of &quot; + num1 + &quot; are: {&quot;);\r\n      for(int i = 1; i &lt;= num1; i++)\r\n        if (num1 % i == 0){\r\n        System.out.print(i);  \r\n        if (i &lt; num1){\r\n          System.out.print(&quot;, &quot;);\r\n        }   \r\n    }\r\n    System.out.println(&quot;}.&quot;);\r\n\r\n      System.out.print(&quot;The factor pairs of &quot; + num2 + &quot; are: {&quot;);\r\n      for(int j = 1; j &lt;= num2; j++)\r\n        if (num2 % j == 0){\r\n        System.out.print(j);\r\n        if (j &lt; num2){\r\n          System.out.print(&quot;, &quot;);\r\n        }\r\n    }\r\n    System.out.println(&quot;}.&quot;);\r\n\r\n    int gcd = 1;\r\n    for (int b = 1; b &lt;= num1 &amp;&amp;  b &lt;= num2; b++){\r\n      if(num1 % b == 0 &amp;&amp; num2 % b==0);\r\n    gcd = b;\r\n    }\r\n\r\n    System.out.println(&quot;The greatest common factor (GCF) of &quot; + num1 + &quot; and &quot; + num2 + &quot; is &quot; + gcd + &quot;.&quot;);\r\n```","title":"Incorrect output for GCF calculator","body":"<p>My goal is to create a calculator that takes the user's input and determines factor pairs and the GCF. I'm trying to get my output to correspond with my professor and I am at a loss as to what could be incorrect. His required output is:</p>\n<pre><code>Enter the first number:\n24\nEnter the second number:\n36\nThe factor pairs of 24 are: {1, 2, 3, 4, 6, 8, 12, 24}.\nThe factor pairs of 36 are: {1, 2, 3, 4, 6, 6, 9, 12, 18, 36}.\nThe greatest common factor (GCF) of 24 and 36 is 12.\n</code></pre>\n<p>however, my results are:</p>\n<pre><code>The factor pairs of 36 are: {1, 2, 3, 4, 6, 9, 12, 18, 36}.\n</code></pre>\n<p>Then for the GCF for inputs 25, and 30 my results are:</p>\n<pre><code>The factor pairs of 25 are: {1, 5, 25}.\nThe factor pairs of 30 are: {1, 2, 3, 5, 6, 10, 15, 30}.\nThe greatest common factor (GCF) of 25 and 30 is 25.\n</code></pre>\n<p>but the required output is:</p>\n<pre><code>The greatest common factor (GCF) of 25 and 30 is 5.\n</code></pre>\n<p>Here is my code for processing the factor pairs and the GCF:</p>\n<pre><code> public static void greatCF (Scanner sc){\n    System.out.println(&quot;\\nEnter the first number:&quot;);\n      int num1 = sc.nextInt();\n\n      System.out.println(&quot;Enter the second number:&quot;);\n      int num2 = sc.nextInt();\n\n      System.out.print(&quot;The factor pairs of &quot; + num1 + &quot; are: {&quot;);\n      for(int i = 1; i &lt;= num1; i++)\n        if (num1 % i == 0){\n        System.out.print(i);  \n        if (i &lt; num1){\n          System.out.print(&quot;, &quot;);\n        }   \n    }\n    System.out.println(&quot;}.&quot;);\n\n      System.out.print(&quot;The factor pairs of &quot; + num2 + &quot; are: {&quot;);\n      for(int j = 1; j &lt;= num2; j++)\n        if (num2 % j == 0){\n        System.out.print(j);\n        if (j &lt; num2){\n          System.out.print(&quot;, &quot;);\n        }\n    }\n    System.out.println(&quot;}.&quot;);\n\n    int gcd = 1;\n    for (int b = 1; b &lt;= num1 &amp;&amp;  b &lt;= num2; b++){\n      if(num1 % b == 0 &amp;&amp; num2 % b==0);\n    gcd = b;\n    }\n\n    System.out.println(&quot;The greatest common factor (GCF) of &quot; + num1 + &quot; and &quot; + num2 + &quot; is &quot; + gcd + &quot;.&quot;);\n</code></pre>\n"},{"tags":["java","sockets","tcp","raspberry-pi","network-programming"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1650518903,"post_id":71948559,"comment_id":127137459,"body_markdown":"One improvement could be wrapping your PrintWriter inside an BufferedWriter and flushing only periodically like every second. I feel logging to your file system every 30 ms could be the problem.","body":"One improvement could be wrapping your PrintWriter inside an BufferedWriter and flushing only periodically like every second. I feel logging to your file system every 30 ms could be the problem."},{"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"score":0,"creation_date":1650559838,"post_id":71948559,"comment_id":127152756,"body_markdown":"Thanks for the suggestion. However the logging is not the problem. I noticed the delays (lag) long before I put in the logging. The logging is there to help me isolate the problem. What can possibly be going on that would cause a 1 second or more delay?","body":"Thanks for the suggestion. However the logging is not the problem. I noticed the delays (lag) long before I put in the logging. The logging is there to help me isolate the problem. What can possibly be going on that would cause a 1 second or more delay?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650587248,"post_id":71948559,"comment_id":127159950,"body_markdown":"You should definitely use `BufferedReader.readLine()` rather than rolling your own by reading one character at a time. You need to post the client code.","body":"You should definitely use <code>BufferedReader.readLine()</code> rather than rolling your own by reading one character at a time. You need to post the client code."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650587298,"post_id":71948559,"comment_id":127159963,"body_markdown":"@Sync `PrintWriter` is already buffered. OP should just turn off line flushing in the constructor.","body":"@Sync <code>PrintWriter</code> is already buffered. OP should just turn off line flushing in the constructor."},{"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"score":0,"creation_date":1650600928,"post_id":71948559,"comment_id":127161855,"body_markdown":"I have tried using readLine but it makes absolutely no difference. There is something fundamental happing at a low level with the tcp connection.","body":"I have tried using readLine but it makes absolutely no difference. There is something fundamental happing at a low level with the tcp connection."},{"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"score":0,"creation_date":1650600962,"post_id":71948559,"comment_id":127161862,"body_markdown":"As I said previously, the logging is not the problem. I can remove the logging completely and it has no effect on the delays.","body":"As I said previously, the logging is not the problem. I can remove the logging completely and it has no effect on the delays."},{"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"score":0,"creation_date":1650601058,"post_id":71948559,"comment_id":127161872,"body_markdown":"I can post the client code but I am pretty sure that is not where the problem lies. I added a time stamp to the messages and it is clear there is no delay in transmitting the messages as they are all spaced by about 30ms.","body":"I can post the client code but I am pretty sure that is not where the problem lies. I added a time stamp to the messages and it is clear there is no delay in transmitting the messages as they are all spaced by about 30ms."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650603691,"post_id":71948559,"comment_id":127162241,"body_markdown":"There can be delays at the sender after it gets out of the application into the kernel. Please post some client code as requested.","body":"There can be delays at the sender after it gets out of the application into the kernel. Please post some client code as requested."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650630748,"post_id":71948559,"comment_id":127170758,"body_markdown":"How is the client socket opened, does it disable Nagle?","body":"How is the client socket opened, does it disable Nagle?"},{"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"score":0,"creation_date":1650647080,"post_id":71948559,"comment_id":127176876,"body_markdown":"I was not familiar with Nagle however upon googling it it seems that calling setTcpNoDelay(true) on the socket would disable it (correct me if I am wrong). Sadly, this has no effect on the result.","body":"I was not familiar with Nagle however upon googling it it seems that calling setTcpNoDelay(true) on the socket would disable it (correct me if I am wrong). Sadly, this has no effect on the result."},{"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"score":0,"creation_date":1650647133,"post_id":71948559,"comment_id":127176899,"body_markdown":"I will try and put together a minimal client version and post it. However be aware that I have also written a client using c++ and it behaves the same as the Java version.","body":"I will try and put together a minimal client version and post it. However be aware that I have also written a client using c++ and it behaves the same as the Java version."},{"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"score":0,"creation_date":1650647276,"post_id":71948559,"comment_id":127176957,"body_markdown":"Note that all of this is happening via WiFi. I have not tried a wired test to see if that also has the problem but even if it does not, that is not a solution since I need wireless.","body":"Note that all of this is happening via WiFi. I have not tried a wired test to see if that also has the problem but even if it does not, that is not a solution since I need wireless."}],"owner":{"account_id":207631,"reputation":1500,"user_id":457607,"accept_rate":62,"display_name":"John Gaby"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650587108,"creation_date":1650511306,"question_id":71948559,"body_markdown":"I have a socket server written in Java which runs on an Raspberry Pi. I have a client which runs on a Windows machine and connects to the Pi and then sends a small ASCII string about every 30ms.\r\n\r\nFor the most part it works fine: however at times there is a significant delay in receiving the messages. I have tried transmitting using a Java app on the Windows machine and a app that is written in C++. They both exhibit the same behavior. I have pared down the Java server code (which runs on the Pi) to the bare minimum:\r\n```\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.io.InputStream;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\nclass Network implements Runnable\r\n{\r\n    PrintWriter\tfile;\r\n\r\n    public Network()\r\n    {\r\n        try \r\n        {\r\n            file\t= new PrintWriter(&quot;/home/pi/logs/network.csv&quot;);\r\n        } \r\n        catch (FileNotFoundException e) \r\n        {\r\n            e.printStackTrace();\r\n        }\t\r\n    }\r\n\r\n    @Override\r\n    public void run()\r\n    {\r\n        String command = &quot;&quot;;\r\n        \r\n        System.out.println(&quot;Start Network&quot;);\r\n\r\n        try ( \r\n                ServerSocket serverSocket = new ServerSocket(5802);\r\n                Socket clientSocket = serverSocket.accept();\r\n                InputStream inputStream = clientSocket.getInputStream();\r\n            ) \r\n        {\r\n            int ch;\r\n            \r\n            System.out.println(&quot;Connected&quot;);\r\n        \r\n            long lastTime = System.currentTimeMillis();\r\n            do\r\n            {\r\n                ch = inputStream.read();\r\n                \r\n                if (ch == &#39;\\n&#39;)\r\n                {\r\n                    long time = System.currentTimeMillis();\r\n                    long dt = time - lastTime;\r\n                    lastTime = time;\r\n                    String msg = String.format(&quot;%d: %s&quot;, dt, command);\r\n\r\n                    if (dt &gt; 100)\r\n                    {\r\n                        System.out.println(msg);\r\n                    }\r\n                    file.println(msg);\r\n                    file.flush();\r\n\r\n                    command\t= &quot;&quot;;\r\n                    \r\n                }\r\n                else if (ch != -1)\r\n                {\r\n                    command += (char) ch;\r\n                }\r\n            } while (ch &gt; 0);\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            System.out.println( &quot;DriverStation: StartServer exception: &quot; + ex);        \r\n        }\r\n\r\n        System.out.println(&quot;Disconnected&quot;);\r\n        file.close();\r\n        file = null;\r\n    }\r\n}\r\n```\r\nIn the main, I start this running in its own thread:\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Start&quot;);\r\n\r\n\t\tNetwork network = new Network();\r\n\r\n\t\t(new Thread(network)).start();\r\n\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nHere is a plot of the delay time between receiving messages. Note that if everything was perfect I should receive a message about every 30ms.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAs you can see, there are times of significant delays (up to 1100 ms in this case). In this case there does seem to be some periodicity to it, but that is not always the case. Can someone give me some suggestions as to why this is happening and how to eliminate it?\r\n\r\nThanks.\r\n\r\nI decided to try and rewrite the socket server (which runs on the Pi) in C++ instead of Java to see if that made a difference. Here is the result:\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/3KuZ5.jpg\r\n  [2]: https://i.stack.imgur.com/KSegE.jpg\r\n\r\nWe see that the problem persists. However in this case there was only one instance where the delay was longer than 150ms or so (although it was more than 4 seconds). Once again the shorter burst of delays have a pattern which repeats every 60 seconds. What can be happening on the Pi that would generate this sort of repeating pattern?\r\n\r\nThanks again.","title":"java tcp network delays","body":"<p>I have a socket server written in Java which runs on an Raspberry Pi. I have a client which runs on a Windows machine and connects to the Pi and then sends a small ASCII string about every 30ms.</p>\n<p>For the most part it works fine: however at times there is a significant delay in receiving the messages. I have tried transmitting using a Java app on the Windows machine and a app that is written in C++. They both exhibit the same behavior. I have pared down the Java server code (which runs on the Pi) to the bare minimum:</p>\n<pre><code>\nimport java.io.FileNotFoundException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\nclass Network implements Runnable\n{\n    PrintWriter file;\n\n    public Network()\n    {\n        try \n        {\n            file    = new PrintWriter(&quot;/home/pi/logs/network.csv&quot;);\n        } \n        catch (FileNotFoundException e) \n        {\n            e.printStackTrace();\n        }   \n    }\n\n    @Override\n    public void run()\n    {\n        String command = &quot;&quot;;\n        \n        System.out.println(&quot;Start Network&quot;);\n\n        try ( \n                ServerSocket serverSocket = new ServerSocket(5802);\n                Socket clientSocket = serverSocket.accept();\n                InputStream inputStream = clientSocket.getInputStream();\n            ) \n        {\n            int ch;\n            \n            System.out.println(&quot;Connected&quot;);\n        \n            long lastTime = System.currentTimeMillis();\n            do\n            {\n                ch = inputStream.read();\n                \n                if (ch == '\\n')\n                {\n                    long time = System.currentTimeMillis();\n                    long dt = time - lastTime;\n                    lastTime = time;\n                    String msg = String.format(&quot;%d: %s&quot;, dt, command);\n\n                    if (dt &gt; 100)\n                    {\n                        System.out.println(msg);\n                    }\n                    file.println(msg);\n                    file.flush();\n\n                    command = &quot;&quot;;\n                    \n                }\n                else if (ch != -1)\n                {\n                    command += (char) ch;\n                }\n            } while (ch &gt; 0);\n        }\n        catch (Exception ex)\n        {\n            System.out.println( &quot;DriverStation: StartServer exception: &quot; + ex);        \n        }\n\n        System.out.println(&quot;Disconnected&quot;);\n        file.close();\n        file = null;\n    }\n}\n</code></pre>\n<p>In the main, I start this running in its own thread:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Start&quot;);\n\n        Network network = new Network();\n\n        (new Thread(network)).start();\n\n        while (true)\n        {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is a plot of the delay time between receiving messages. Note that if everything was perfect I should receive a message about every 30ms.</p>\n<p><a href=\"https://i.stack.imgur.com/3KuZ5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3KuZ5.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, there are times of significant delays (up to 1100 ms in this case). In this case there does seem to be some periodicity to it, but that is not always the case. Can someone give me some suggestions as to why this is happening and how to eliminate it?</p>\n<p>Thanks.</p>\n<p>I decided to try and rewrite the socket server (which runs on the Pi) in C++ instead of Java to see if that made a difference. Here is the result:\n<a href=\"https://i.stack.imgur.com/KSegE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KSegE.jpg\" alt=\"enter image description here\" /></a></p>\n<p>We see that the problem persists. However in this case there was only one instance where the delay was longer than 150ms or so (although it was more than 4 seconds). Once again the shorter burst of delays have a pattern which repeats every 60 seconds. What can be happening on the Pi that would generate this sort of repeating pattern?</p>\n<p>Thanks again.</p>\n"},{"tags":["java","ubuntu","ip"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1394406123,"post_id":22289022,"comment_id":33863399,"body_markdown":"Just exec whatever command you would use to do it in a shell.","body":"Just exec whatever command you would use to do it in a shell."}],"answers":[{"tags":[],"owner":{"account_id":2116093,"reputation":1547,"user_id":1880376,"accept_rate":50,"display_name":"Desorder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394405436,"creation_date":1394405436,"answer_id":22289289,"question_id":22289022,"body_markdown":"You could use your Java application to rewrite /etc/sysconfig/network-scripts/ifcfg-ethX (or wherever your network scripts are) and set the IP address you want. Then you would need to ask your Java application to run a bash script, reloading either the device or the whole network.\r\n\r\nI could paste a couple of examples here but you will find loads on internet. :)","title":"How to change ip for ubuntu host in java","body":"<p>You could use your Java application to rewrite /etc/sysconfig/network-scripts/ifcfg-ethX (or wherever your network scripts are) and set the IP address you want. Then you would need to ask your Java application to run a bash script, reloading either the device or the whole network.</p>\n\n<p>I could paste a couple of examples here but you will find loads on internet. :)</p>\n"}],"owner":{"account_id":1728997,"reputation":83,"user_id":1583026,"accept_rate":7,"display_name":"PhilipSong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650585598,"answer_count":1,"score":-1,"last_activity_date":1650585610,"creation_date":1394403941,"question_id":22289022,"body_markdown":"There is an ubuntu host with multiple ips. I want to make periodical change its ips in my java application. But I do not know how to do this. Does any one know about this?\r\n\r\n","title":"How to change ip for ubuntu host in java","body":"<p>There is an ubuntu host with multiple ips. I want to make periodical change its ips in my java application. But I do not know how to do this. Does any one know about this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17750659,"reputation":336,"user_id":12888853,"display_name":"kosmasd"},"score":1,"creation_date":1650584477,"post_id":71961881,"comment_id":127159508,"body_markdown":"My first thought is that &quot;calculate&quot; is very abstract term, is it possible perhaps to make the method names more specific, such as calculateXXX() and calculateYYY(), which may result in having fewer overloaded implementations of the same method?","body":"My first thought is that &quot;calculate&quot; is very abstract term, is it possible perhaps to make the method names more specific, such as calculateXXX() and calculateYYY(), which may result in having fewer overloaded implementations of the same method?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1650584485,"post_id":71961881,"comment_id":127159509,"body_markdown":"`calculateSomeMeaningfulNameWhichHelpsExplainTheParameters(double e, double not)` - not always pretty, but sometimes required","body":"<code>calculateSomeMeaningfulNameWhichHelpsExplainTheParameters(do&zwnj;&#8203;uble e, double not)</code> - not always pretty, but sometimes required"}],"answers":[{"tags":[],"owner":{"account_id":17750659,"reputation":336,"user_id":12888853,"display_name":"kosmasd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650584874,"creation_date":1650584874,"answer_id":71961984,"question_id":71961881,"body_markdown":"As mentioned in my comment, I think &quot;calculate&quot; is a very generic method name and does not make it easy for the user/caller to understand what the method is doing.\r\n\r\nI would recommend choosing names such as calculateThis(), and calculateThat() (random choices, replace it with something meaningful to the caller and future readers of your code). That should lead to fewer overloaded methods and better code readability/maintainability. ","title":"using a method parameter as placeholder(Sorry for my bad grammar btw)","body":"<p>As mentioned in my comment, I think &quot;calculate&quot; is a very generic method name and does not make it easy for the user/caller to understand what the method is doing.</p>\n<p>I would recommend choosing names such as calculateThis(), and calculateThat() (random choices, replace it with something meaningful to the caller and future readers of your code). That should lead to fewer overloaded methods and better code readability/maintainability.</p>\n"}],"owner":{"account_id":24582484,"reputation":7,"user_id":18487396,"display_name":"Isalanctos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650584874,"creation_date":1650583788,"question_id":71961881,"body_markdown":"\r\n\r\nI have two methods with the same name, but with different parameters:\r\n\r\n    public void calculate(double waveLength){\r\n    //......\r\n    }\r\n    public void calculate(double freq, double not){\r\n    //......\r\n    }\r\n\r\nI want to add one more, but it also needs only two double parameters. So i did this:\r\n\r\n    public void calculate(double E, double not, int placeholder ){\r\n    //.....\r\n    } \r\n Where &#39;placeholder&#39; use is to differenciate this method from the others, but i feel like this is not the right way to do it. My question is: is there any better of doing it?\r\n\r\n","title":"using a method parameter as placeholder(Sorry for my bad grammar btw)","body":"<p>I have two methods with the same name, but with different parameters:</p>\n<pre><code>public void calculate(double waveLength){\n//......\n}\npublic void calculate(double freq, double not){\n//......\n}\n</code></pre>\n<p>I want to add one more, but it also needs only two double parameters. So i did this:</p>\n<pre><code>public void calculate(double E, double not, int placeholder ){\n//.....\n} \n</code></pre>\n<p>Where 'placeholder' use is to differenciate this method from the others, but i feel like this is not the right way to do it. My question is: is there any better of doing it?</p>\n"},{"tags":["java","sqlite","serialization","deserialization"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1650586584,"post_id":71961978,"comment_id":127159849,"body_markdown":"Why not simply convert the bytes from `byte[] asBytes = results.getBytes(&quot;actions&quot;);`  to an String, then split ?  `String res = new String(asBytes);` ?","body":"Why not simply convert the bytes from <code>byte[] asBytes = results.getBytes(&quot;actions&quot;);</code>  to an String, then split ?  <code>String res = new String(asBytes);</code> ?"},{"owner":{"account_id":23119134,"reputation":44,"user_id":17400037,"display_name":"brandon v"},"score":0,"creation_date":1650587780,"post_id":71961978,"comment_id":127160050,"body_markdown":"because in my case the ArrayList Could contain especial characters like comma points etc","body":"because in my case the ArrayList Could contain especial characters like comma points etc"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1650590737,"post_id":71961978,"comment_id":127160437,"body_markdown":"use some other delimeter then","body":"use some other delimeter then"},{"owner":{"account_id":23119134,"reputation":44,"user_id":17400037,"display_name":"brandon v"},"score":0,"creation_date":1650625273,"post_id":71961978,"comment_id":127168863,"body_markdown":"that doesn&#39;t answer my question, the array is intended to store any character","body":"that doesn&#39;t answer my question, the array is intended to store any character"}],"owner":{"account_id":23119134,"reputation":44,"user_id":17400037,"display_name":"brandon v"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650584852,"creation_date":1650584852,"question_id":71961978,"body_markdown":"I have a problem in my aplication trying to deserialize a ArrayList of String from a Blob in a SQLite DataBase. \r\nI reached to serialize the array and save it in the Database but I could not recover it as it should be.\r\nI think the problem is when deserializing because I manage to recover the strings but all within the same array element [run][1]. This is the deserializing method\r\n\r\n    private static ArrayList&lt;String&gt; sqliteBytesToArrayListString(ResultSet results){\r\n            ArrayList&lt;String&gt; acciones = new ArrayList&lt;String&gt;();        \r\n            try {   \r\n                    byte[] asBytes = results.getBytes(&quot;actions&quot;);\r\n                    ByteArrayInputStream bin = new ByteArrayInputStream(asBytes);\r\n                    BufferedReader din = new BufferedReader(new InputStreamReader(bin));\r\n                    for (int i = 0; i &lt; asBytes.length/16; i++) \r\n                        acciones.add(din.readLine());\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n            return acciones;\r\n        }\r\n\r\nHere I leave my complete code\r\n\r\n    package BDD;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.BufferedReader;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class DataBase {\r\n    \r\n        private final static String BDD_URL = &quot;jdbc:sqlite:grabadora.db&quot;;\r\n        private final static String SCRIT_INSERT = &quot;INSERT INTO test (recordName, actions) VALUES (?, ?);&quot;;\r\n        private final static String SCRIT_SELECT_ALL = &quot;SELECT * FROM test;&quot;;\r\n        private final static String SCRIPT_TABLE =\r\n            &quot;CREATE TABLE IF NOT EXISTS test (recordId INTEGER PRIMARY KEY AUTOINCREMENT, recordName TEXT, actions BLOB);&quot;; \r\n        \r\n        public static void main(String[] args) throws SQLException {\r\n            ArrayList&lt;String&gt; datos = new ArrayList&lt;&gt;();\r\n            datos.add(&quot;Second&quot;);\r\n            datos.add(&quot;Third&quot;);\r\n            datos.add(0, &quot;First&quot;);\r\n            String name = &quot;record2&quot;;\r\n            \r\n            Connection con = DataBase.getConnection();\r\n            DataBase.createTable(con);\r\n            DataBase.addNewRecord(name, datos, con);\r\n            con.close();\r\n            System.out.print(DataBase.getRecords());\r\n            \r\n        }    \r\n        \r\n        public static void addNewRecord(String nombre, ArrayList&lt;String&gt; acciones, Connection con){\r\n            \r\n            try {\r\n                PreparedStatement stat = con.prepareStatement(SCRIT_INSERT, Statement.RETURN_GENERATED_KEYS);\r\n                stat.setString(1, nombre);\r\n                stat.setBytes(2, arrayListToBytes(acciones));\r\n                stat.executeUpdate();\r\n                ResultSet res = stat.getGeneratedKeys();\r\n                \r\n                while(res.next()){\r\n                    System.out.println(res.getInt(1) + &quot;\\t&quot; );\r\n                }\r\n                stat.close();\r\n                res.close();\r\n                \r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;There was a problem doing the update in the method | &quot; + e.getMessage() + &quot; | &quot; + e.getSQLState()+ &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n           \r\n        public static String getRecords(){\r\n            Connection con = DataBase.getConnection();\r\n            String Records=&quot;&quot;;\r\n            try{\r\n                Statement sta = con.createStatement();\r\n                ResultSet results = sta.executeQuery(SCRIT_SELECT_ALL);\r\n    \r\n                while(results.next()){\r\n                    int id = Integer.parseInt(results.getString(&quot;recordId&quot;));\r\n                    String nombre = results.getString(&quot;recordName&quot;);\r\n                    ArrayList&lt;String&gt; actionsArray = sqliteBytesToArrayListString(results);\r\n                    String print = &quot;\\n RecordId= &quot; + id + &quot; | RecordName= &quot; + nombre + &quot; | Actions= &quot; + Arrays.toString(actionsArray.toArray()) ;\r\n                    Records += print;\r\n                }\r\n                con.close();\r\n                sta.close();\r\n            }catch(SQLException e){\r\n                System.out.println(&quot;There was a problem al obtener las grabaciones in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n            return Records;\r\n        }\r\n        \r\n        private static ArrayList&lt;String&gt; sqliteBytesToArrayListString(ResultSet results){\r\n            ArrayList&lt;String&gt; acciones = new ArrayList&lt;String&gt;();        \r\n            try {   \r\n                    byte[] asBytes = results.getBytes(&quot;actions&quot;);\r\n                    ByteArrayInputStream bin = new ByteArrayInputStream(asBytes);\r\n                    BufferedReader din = new BufferedReader(new InputStreamReader(bin));\r\n                    for (int i = 0; i &lt; asBytes.length/16; i++) \r\n                        acciones.add(din.readLine());\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n            return acciones;\r\n        }\r\n        \r\n        private static byte[] arrayListToBytes(ArrayList&lt;String&gt; array){\r\n            byte[] dataInBytes= new byte[1];\r\n            try {\r\n                ByteArrayOutputStream byteOutput = new ByteArrayOutputStream();\r\n                DataOutputStream dataOutput = new DataOutputStream(byteOutput);\r\n                \r\n                for (String  element: array) \r\n                    dataOutput.writeBytes(element);\r\n                \r\n                dataOutput.close();            \r\n                dataInBytes = byteOutput.toByteArray();            \r\n                \r\n            } catch (IOException e) {\r\n                System.out.println(&quot;There was a problem converting the ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            return dataInBytes;        \r\n        }\r\n        \r\n        private static Connection getConnection() {\r\n            Connection conn = null;\r\n            try {\r\n                Class.forName(&quot;org.sqlite.JDBC&quot;);            \r\n                conn = DriverManager.getConnection(BDD_URL);\r\n                System.out.println(&quot;Connection created successfully&quot;);\r\n            } catch (ClassNotFoundException e) {\r\n                System.out.println(&quot;There was a problem creating the connection in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            } catch (SQLException e){\r\n                System.out.println(&quot;There was a problem creating the connection in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n            return conn;\r\n        }\r\n        \r\n        private static void createTable(Connection conexion){\r\n            try {\r\n                Statement stat = conexion.createStatement();\r\n                stat.executeUpdate(SCRIPT_TABLE);\r\n                stat.close();\r\n                System.out.println(&quot;The table was created or already exists&quot;);\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;There was a problem creating the table in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n    }\r\nI base myself on this answer [about to store a ArrayList in sql][2]\r\n\r\nAnd I use this tool to se the use [this tool to view my database data][3] I got this [results][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6163L.png\r\n  [2]: https://stackoverflow.com/a/3107250/17400037\r\n  [3]: https://inloop.github.io/sqlite-viewer/\r\n  [4]: https://i.stack.imgur.com/GUfS4.png","title":"How to correctly deserialize an array of Strings from blob in SQLite","body":"<p>I have a problem in my aplication trying to deserialize a ArrayList of String from a Blob in a SQLite DataBase.\nI reached to serialize the array and save it in the Database but I could not recover it as it should be.\nI think the problem is when deserializing because I manage to recover the strings but all within the same array element <a href=\"https://i.stack.imgur.com/6163L.png\" rel=\"nofollow noreferrer\">run</a>. This is the deserializing method</p>\n<pre><code>private static ArrayList&lt;String&gt; sqliteBytesToArrayListString(ResultSet results){\n        ArrayList&lt;String&gt; acciones = new ArrayList&lt;String&gt;();        \n        try {   \n                byte[] asBytes = results.getBytes(&quot;actions&quot;);\n                ByteArrayInputStream bin = new ByteArrayInputStream(asBytes);\n                BufferedReader din = new BufferedReader(new InputStreamReader(bin));\n                for (int i = 0; i &lt; asBytes.length/16; i++) \n                    acciones.add(din.readLine());\n        } catch (SQLException e) {\n            System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        }\n        return acciones;\n    }\n</code></pre>\n<p>Here I leave my complete code</p>\n<pre><code>package BDD;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStreamReader;\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class DataBase {\n\n    private final static String BDD_URL = &quot;jdbc:sqlite:grabadora.db&quot;;\n    private final static String SCRIT_INSERT = &quot;INSERT INTO test (recordName, actions) VALUES (?, ?);&quot;;\n    private final static String SCRIT_SELECT_ALL = &quot;SELECT * FROM test;&quot;;\n    private final static String SCRIPT_TABLE =\n        &quot;CREATE TABLE IF NOT EXISTS test (recordId INTEGER PRIMARY KEY AUTOINCREMENT, recordName TEXT, actions BLOB);&quot;; \n    \n    public static void main(String[] args) throws SQLException {\n        ArrayList&lt;String&gt; datos = new ArrayList&lt;&gt;();\n        datos.add(&quot;Second&quot;);\n        datos.add(&quot;Third&quot;);\n        datos.add(0, &quot;First&quot;);\n        String name = &quot;record2&quot;;\n        \n        Connection con = DataBase.getConnection();\n        DataBase.createTable(con);\n        DataBase.addNewRecord(name, datos, con);\n        con.close();\n        System.out.print(DataBase.getRecords());\n        \n    }    \n    \n    public static void addNewRecord(String nombre, ArrayList&lt;String&gt; acciones, Connection con){\n        \n        try {\n            PreparedStatement stat = con.prepareStatement(SCRIT_INSERT, Statement.RETURN_GENERATED_KEYS);\n            stat.setString(1, nombre);\n            stat.setBytes(2, arrayListToBytes(acciones));\n            stat.executeUpdate();\n            ResultSet res = stat.getGeneratedKeys();\n            \n            while(res.next()){\n                System.out.println(res.getInt(1) + &quot;\\t&quot; );\n            }\n            stat.close();\n            res.close();\n            \n        } catch (SQLException e) {\n            System.out.println(&quot;There was a problem doing the update in the method | &quot; + e.getMessage() + &quot; | &quot; + e.getSQLState()+ &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        }\n    }\n       \n    public static String getRecords(){\n        Connection con = DataBase.getConnection();\n        String Records=&quot;&quot;;\n        try{\n            Statement sta = con.createStatement();\n            ResultSet results = sta.executeQuery(SCRIT_SELECT_ALL);\n\n            while(results.next()){\n                int id = Integer.parseInt(results.getString(&quot;recordId&quot;));\n                String nombre = results.getString(&quot;recordName&quot;);\n                ArrayList&lt;String&gt; actionsArray = sqliteBytesToArrayListString(results);\n                String print = &quot;\\n RecordId= &quot; + id + &quot; | RecordName= &quot; + nombre + &quot; | Actions= &quot; + Arrays.toString(actionsArray.toArray()) ;\n                Records += print;\n            }\n            con.close();\n            sta.close();\n        }catch(SQLException e){\n            System.out.println(&quot;There was a problem al obtener las grabaciones in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        }\n        return Records;\n    }\n    \n    private static ArrayList&lt;String&gt; sqliteBytesToArrayListString(ResultSet results){\n        ArrayList&lt;String&gt; acciones = new ArrayList&lt;String&gt;();        \n        try {   \n                byte[] asBytes = results.getBytes(&quot;actions&quot;);\n                ByteArrayInputStream bin = new ByteArrayInputStream(asBytes);\n                BufferedReader din = new BufferedReader(new InputStreamReader(bin));\n                for (int i = 0; i &lt; asBytes.length/16; i++) \n                    acciones.add(din.readLine());\n        } catch (SQLException e) {\n            System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.out.println(&quot;There was a problem converting bytes[] to ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        }\n        return acciones;\n    }\n    \n    private static byte[] arrayListToBytes(ArrayList&lt;String&gt; array){\n        byte[] dataInBytes= new byte[1];\n        try {\n            ByteArrayOutputStream byteOutput = new ByteArrayOutputStream();\n            DataOutputStream dataOutput = new DataOutputStream(byteOutput);\n            \n            for (String  element: array) \n                dataOutput.writeBytes(element);\n            \n            dataOutput.close();            \n            dataInBytes = byteOutput.toByteArray();            \n            \n        } catch (IOException e) {\n            System.out.println(&quot;There was a problem converting the ArrayList in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        }\n        \n        return dataInBytes;        \n    }\n    \n    private static Connection getConnection() {\n        Connection conn = null;\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);            \n            conn = DriverManager.getConnection(BDD_URL);\n            System.out.println(&quot;Connection created successfully&quot;);\n        } catch (ClassNotFoundException e) {\n            System.out.println(&quot;There was a problem creating the connection in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        } catch (SQLException e){\n            System.out.println(&quot;There was a problem creating the connection in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        }\n        return conn;\n    }\n    \n    private static void createTable(Connection conexion){\n        try {\n            Statement stat = conexion.createStatement();\n            stat.executeUpdate(SCRIPT_TABLE);\n            stat.close();\n            System.out.println(&quot;The table was created or already exists&quot;);\n        } catch (SQLException e) {\n            System.out.println(&quot;There was a problem creating the table in the method | &quot; + e.getMessage() + &quot; | &quot; + e.toString());\n            e.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>I base myself on this answer <a href=\"https://stackoverflow.com/a/3107250/17400037\">about to store a ArrayList in sql</a></p>\n<p>And I use this tool to se the use <a href=\"https://inloop.github.io/sqlite-viewer/\" rel=\"nofollow noreferrer\">this tool to view my database data</a> I got this <a href=\"https://i.stack.imgur.com/GUfS4.png\" rel=\"nofollow noreferrer\">results</a></p>\n"},{"tags":["java","spring-boot","junit","h2","junit5"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1643092667,"post_id":70840879,"comment_id":125241431,"body_markdown":"What&#39;s the name of the properties file and where is it located?","body":"What&#39;s the name of the properties file and where is it located?"},{"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"score":0,"creation_date":1643095186,"post_id":70840879,"comment_id":125242050,"body_markdown":"application-test.yaml located in test/resources","body":"application-test.yaml located in test/resources"},{"owner":{"account_id":3836818,"reputation":173,"user_id":3180916,"display_name":"ittradco"},"score":0,"creation_date":1653982074,"post_id":70840879,"comment_id":127976428,"body_markdown":"Try using only application.yaml instead.","body":"Try using only application.yaml instead."}],"answers":[{"tags":[],"owner":{"account_id":19584488,"reputation":319,"user_id":14332866,"display_name":"CHAHI Saad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650584816,"creation_date":1643061420,"answer_id":70840985,"question_id":70840879,"body_markdown":"try to use this h2 file cofiguration :\r\n\r\n        @Configuration\r\n        @EnableTransactionManagement\r\n        @EnableJpaRepositories(basePackages = &quot;com.example.repository&quot;)\r\n        public class DatabaseConfig {\r\n           @Autowired\r\n           private DataSource dataSource;\r\n           @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean em = new \r\n            LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(dataSource);\r\n            em.setPackagesToScan(new String[] { &quot;com.example.model&quot; });\r\n            em.setPersistenceUnitName(&quot;entityManager&quot;);\r\n    \r\n            JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            em.setJpaVendorAdapter(vendorAdapter);\r\n            em.setJpaProperties(additionalProperties());\r\n    \r\n            return em;\r\n        }\r\n        @Bean\r\n        public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(emf);\r\n            return transactionManager;\r\n        }\r\n        Properties additionalProperties() {\r\n            Properties properties = new Properties();\r\n            properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\r\n            properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\r\n            return properties;\r\n        }    \r\n    }\r\n\r\nand modify the application.properties like this :\r\n\r\n# Datasource configuration\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:MyProjectName;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.h2.console.enabled=true\r\n    spring.application.admin.enabled=true\r\n\r\nadd this dependency :\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.200&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nit work it for me\r\n","title":"Not able to run Junit test with H2 database SpringBoot","body":"<p>try to use this h2 file cofiguration :</p>\n<pre><code>    @Configuration\n    @EnableTransactionManagement\n    @EnableJpaRepositories(basePackages = &quot;com.example.repository&quot;)\n    public class DatabaseConfig {\n       @Autowired\n       private DataSource dataSource;\n       @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean em = new \n        LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource);\n        em.setPackagesToScan(new String[] { &quot;com.example.model&quot; });\n        em.setPersistenceUnitName(&quot;entityManager&quot;);\n\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n\n        return em;\n    }\n    @Bean\n    public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf);\n        return transactionManager;\n    }\n    Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\n        return properties;\n    }    \n}\n</code></pre>\n<p>and modify the application.properties like this :</p>\n<h1>Datasource configuration</h1>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:MyProjectName;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\nspring.datasource.username=sa\nspring.datasource.password=\nspring.h2.console.enabled=true\nspring.application.admin.enabled=true\n</code></pre>\n<p>add this dependency :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;1.4.200&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it work it for me</p>\n"}],"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650584816,"creation_date":1643060619,"question_id":70840879,"body_markdown":"I have a strange problem with my unit test..\r\nMy goal is to run test on a H2 database and not on my Mysql database..\r\n\r\nActually the strange thing is that when i click on maven test it runs the app, trying to connect to mysql.. crash and the start with the h2 database and unit test fail..\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n\r\n// @ActiveProfiles(&quot;test&quot;) // Without this it runs on my mysql and works.. , \r\n// with this annotation the behaviour is described above\r\n\r\n@Transactional\r\nclass BelugaprojectsApplicationTests {\r\n\r\n\t@Autowired\r\n\tprivate ICheckConfigService iCheckConfigService;\r\n\r\n\t@Autowired\r\n\tprivate CheckConfigJpaRepository checkConfigJpaRepository;\r\n\r\n\t@Test \r\n\tvoid getAllCheckConfigDeploiement() {\r\n\t\tassertThat(iCheckConfigService.getAllCheckConfigDeploiement(\r\n\t\t\t\tInteger.parseInt(AppConstants.DEFAULT_PAGE_NUMBER), \r\n\t\t\t\tInteger.parseInt(AppConstants.DEFAULT_PAGE_SIZE),\r\n\t\t\t\t&quot;id&quot;).getTotalElements() &gt; 0);\r\n\t}\r\n}\r\n```\r\nProperties \r\n```\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\r\n    username: root\r\n    password:\r\n  jpa:\r\n    open-in-view: true\r\n    hibernate:\r\n      ddl-auto: create-drop\r\n```\r\n\r\nRunning with the test profile activated it throws\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;HISTORIQUEDEPLOIEMENT&quot; non trouv&#233;e\r\nTable &quot;HISTORIQUEDEPLOIEMENT&quot; not found; SQL statement:\r\nalter table historiquedeploiement add constraint FK134pkswiisobg18okjr9pegt7 foreign key (id_namespace) references namespace (id) [42102-200]\r\nTable &quot;CHECKCONFIGDEPLOIEMENT&quot; non trouv&#233;e\r\nTable &quot;CHECKCONFIGDEPLOIEMENT&quot; not found; SQL statement:\r\n```\r\n\r\nDependencies \r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Not able to run Junit test with H2 database SpringBoot","body":"<p>I have a strange problem with my unit test..\nMy goal is to run test on a H2 database and not on my Mysql database..</p>\n<p>Actually the strange thing is that when i click on maven test it runs the app, trying to connect to mysql.. crash and the start with the h2 database and unit test fail..</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n\n// @ActiveProfiles(&quot;test&quot;) // Without this it runs on my mysql and works.. , \n// with this annotation the behaviour is described above\n\n@Transactional\nclass BelugaprojectsApplicationTests {\n\n    @Autowired\n    private ICheckConfigService iCheckConfigService;\n\n    @Autowired\n    private CheckConfigJpaRepository checkConfigJpaRepository;\n\n    @Test \n    void getAllCheckConfigDeploiement() {\n        assertThat(iCheckConfigService.getAllCheckConfigDeploiement(\n                Integer.parseInt(AppConstants.DEFAULT_PAGE_NUMBER), \n                Integer.parseInt(AppConstants.DEFAULT_PAGE_SIZE),\n                &quot;id&quot;).getTotalElements() &gt; 0);\n    }\n}\n</code></pre>\n<p>Properties</p>\n<pre><code>  datasource:\n    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\n    username: root\n    password:\n  jpa:\n    open-in-view: true\n    hibernate:\n      ddl-auto: create-drop\n</code></pre>\n<p>Running with the test profile activated it throws</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;HISTORIQUEDEPLOIEMENT&quot; non trouvée\nTable &quot;HISTORIQUEDEPLOIEMENT&quot; not found; SQL statement:\nalter table historiquedeploiement add constraint FK134pkswiisobg18okjr9pegt7 foreign key (id_namespace) references namespace (id) [42102-200]\nTable &quot;CHECKCONFIGDEPLOIEMENT&quot; non trouvée\nTable &quot;CHECKCONFIGDEPLOIEMENT&quot; not found; SQL statement:\n</code></pre>\n<p>Dependencies</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","outlook"],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650583937,"creation_date":1551364103,"answer_id":54927926,"question_id":54924147,"body_markdown":"Outlook Object Model does not expose signatures at all.\r\n\r\nOn the Outlook account level, the name of the signature is stored in the account profile data accessible through the [IOlkAccountManager][1] Extended MAPI interface. Since that interface is Extended MAPI, it can only be accessed using C++ or Delphi. You can see the interface and its data in [OutlookSpy][2] (I am its author) if you click the `IOlkAccountManager` button.&lt;br&gt;:\r\n[![enter image description here][3]][3]\r\n\r\nIf using [Redemption][4] is an option (I am also its author), you can use its [RDOAccount][5] object (accessible in any language, including Java). New message signature name is stored in the `0x0016001F` property, reply signature is in `0x0017001F` (can be read or set using `RDOAccount.Fields[]`). \r\nYou can also use the [RDOAccount][5].`ReplySignature` and `NewSignature` properties.&lt;br&gt;\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/office/ff960327.aspx\r\n  [2]: http://www.dimastr.com/outspy\r\n  [3]: https://i.stack.imgur.com/lxAtt.png\r\n  [4]: http://www.dimastr.com/redemption\r\n  [5]: http://www.dimastr.com/redemption/RDOAccount.htm","title":"Programmatically set signatures in Outlook client using JAVA","body":"<p>Outlook Object Model does not expose signatures at all.</p>\n<p>On the Outlook account level, the name of the signature is stored in the account profile data accessible through the <a href=\"https://msdn.microsoft.com/en-us/library/office/ff960327.aspx\" rel=\"nofollow noreferrer\">IOlkAccountManager</a> Extended MAPI interface. Since that interface is Extended MAPI, it can only be accessed using C++ or Delphi. You can see the interface and its data in <a href=\"http://www.dimastr.com/outspy\" rel=\"nofollow noreferrer\">OutlookSpy</a> (I am its author) if you click the <code>IOlkAccountManager</code> button.<br>:\n<a href=\"https://i.stack.imgur.com/lxAtt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lxAtt.png\" alt=\"enter image description here\" /></a></p>\n<p>If using <a href=\"http://www.dimastr.com/redemption\" rel=\"nofollow noreferrer\">Redemption</a> is an option (I am also its author), you can use its <a href=\"http://www.dimastr.com/redemption/RDOAccount.htm\" rel=\"nofollow noreferrer\">RDOAccount</a> object (accessible in any language, including Java). New message signature name is stored in the <code>0x0016001F</code> property, reply signature is in <code>0x0017001F</code> (can be read or set using <code>RDOAccount.Fields[]</code>).\nYou can also use the <a href=\"http://www.dimastr.com/redemption/RDOAccount.htm\" rel=\"nofollow noreferrer\">RDOAccount</a>.<code>ReplySignature</code> and <code>NewSignature</code> properties.<br></p>\n"}],"owner":{"account_id":12541184,"reputation":69,"user_id":9126048,"display_name":"Amy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650583937,"creation_date":1551351616,"question_id":54924147,"body_markdown":"I want to set signatures for multiple address in outlook client application. I read concepts using VBA and other scripts. But I want to do it in Java. I have already created the html signature files. I can use AD to pull user information but I don&#39;t know how to connect it with Outlook using Java. Can someone help me with this?  \r\nThanks in advance. ","title":"Programmatically set signatures in Outlook client using JAVA","body":"<p>I want to set signatures for multiple address in outlook client application. I read concepts using VBA and other scripts. But I want to do it in Java. I have already created the html signature files. I can use AD to pull user information but I don't know how to connect it with Outlook using Java. Can someone help me with this?<br>\nThanks in advance. </p>\n"},{"tags":["java","sorting","document","webmethods"],"answers":[{"tags":[],"owner":{"account_id":10085353,"reputation":62,"user_id":7454168,"display_name":"MDaniluk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520849984,"creation_date":1520849984,"answer_id":49232813,"question_id":49150124,"body_markdown":"I am not sure but maybe this is the problem: on screenshoot1 we can see that you sort ffValues but you are mapping it to the document. (because you are using invoke, it is done automatically) \r\nIs screen number two is showing ffValues or document variable ? \r\nMaybe you are checking wrong, not sorted variable? \r\n\r\n\r\nI am also want to suggest to use Map and transformer rather than invoke, because using map gives you power to control the pipeline. \r\nWhile using invoke each variable is save to the pipeline (having varaible with the same name on pipeline ale on the output of the service will result with overwrite on pipeline variable). \r\n","title":"pub.document.sortDocuments not sorting","body":"<p>I am not sure but maybe this is the problem: on screenshoot1 we can see that you sort ffValues but you are mapping it to the document. (because you are using invoke, it is done automatically) \nIs screen number two is showing ffValues or document variable ? \nMaybe you are checking wrong, not sorted variable? </p>\n\n<p>I am also want to suggest to use Map and transformer rather than invoke, because using map gives you power to control the pipeline. \nWhile using invoke each variable is save to the pipeline (having varaible with the same name on pipeline ale on the output of the service will result with overwrite on pipeline variable). </p>\n"},{"tags":[],"owner":{"account_id":13508762,"reputation":16,"user_id":9745851,"display_name":"Christoph Jahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1525586996,"creation_date":1525586996,"answer_id":50196747,"question_id":49150124,"body_markdown":"It appears that you map the `ffValues` document (IData) and not the `recordWithNoID` document list (IData array) inside it, which would be the wrong level.\r\n\r\nPlease map the `recordWithNoID` instead and let us know if that solves the issue.\r\n\r\nWhile not related to the question, it seems that some &quot;clutter&quot; is on the pipeline. I always recommend to people that they drop variable as early as possible. Mostly to improve readability but also for performance.\r\n","title":"pub.document.sortDocuments not sorting","body":"<p>It appears that you map the <code>ffValues</code> document (IData) and not the <code>recordWithNoID</code> document list (IData array) inside it, which would be the wrong level.</p>\n\n<p>Please map the <code>recordWithNoID</code> instead and let us know if that solves the issue.</p>\n\n<p>While not related to the question, it seems that some \"clutter\" is on the pipeline. I always recommend to people that they drop variable as early as possible. Mostly to improve readability but also for performance.</p>\n"}],"owner":{"account_id":6926947,"reputation":5,"user_id":5317743,"display_name":"Gazza Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50196747,"answer_count":2,"score":0,"last_activity_date":1650583419,"creation_date":1520419989,"question_id":49150124,"body_markdown":"I am stuck, I had this working last week now I have changed something and it will not work! \r\n\r\nI have a simple flow service as follows: \r\n\r\n    pub.file.getFile \r\n    pub.flatFile.convertToValues \r\n    pub.document.sortDocuments\r\n\r\n \r\n\r\nBut the sortDocuments stage is not doing anything. \r\nThe recordWithNoID document list is perfect and all the fields are correct (so the schema and dictionary are working as intended), but when I try to sort it on the key &quot;Field1&quot; the sort is not doing anything, the documents are not changing order at all. \r\n\r\nSee two attached screenshots: \r\nScreenshot 1 shows the pipeline during pub.document.sortDocuments step \r\nkey variable is: Field1 \r\norder variable is:ascending \r\n\r\nScreenshot 2 shows the recordwithNoID after running the flow service. As you can see the Field1 column has not been ordered correctly.(it&#39;s still in the original document order) I have also tried mapping the results to other document types with the same result. \r\n\r\nAs I said above I had this working last week and now cannot seem to get it to work. I have even started the whole process from scratch and it still will not work. Any help would be very much appreciated! \r\n\r\n[Screenshot1][1]\r\n\r\n\r\n\r\n[Screenshot 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PPHVI.jpg\r\n  [2]: https://i.stack.imgur.com/2ttzd.jpg\r\n\r\nEDIT:\r\nI resolved this issue by mapping to the Document Type created from the Schema.\r\n","title":"pub.document.sortDocuments not sorting","body":"<p>I am stuck, I had this working last week now I have changed something and it will not work! </p>\n\n<p>I have a simple flow service as follows: </p>\n\n<pre><code>pub.file.getFile \npub.flatFile.convertToValues \npub.document.sortDocuments\n</code></pre>\n\n<p>But the sortDocuments stage is not doing anything. \nThe recordWithNoID document list is perfect and all the fields are correct (so the schema and dictionary are working as intended), but when I try to sort it on the key \"Field1\" the sort is not doing anything, the documents are not changing order at all. </p>\n\n<p>See two attached screenshots: \nScreenshot 1 shows the pipeline during pub.document.sortDocuments step \nkey variable is: Field1 \norder variable is:ascending </p>\n\n<p>Screenshot 2 shows the recordwithNoID after running the flow service. As you can see the Field1 column has not been ordered correctly.(it's still in the original document order) I have also tried mapping the results to other document types with the same result. </p>\n\n<p>As I said above I had this working last week and now cannot seem to get it to work. I have even started the whole process from scratch and it still will not work. Any help would be very much appreciated! </p>\n\n<p><a href=\"https://i.stack.imgur.com/PPHVI.jpg\" rel=\"nofollow noreferrer\">Screenshot1</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/2ttzd.jpg\" rel=\"nofollow noreferrer\">Screenshot 2</a></p>\n\n<p>EDIT:\nI resolved this issue by mapping to the Document Type created from the Schema.</p>\n"},{"tags":["java","image","maven","path","reference"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650581402,"post_id":71961643,"comment_id":127159057,"body_markdown":"So, &quot;resources&quot; for maven go in the `{project folder}/src/main/resources` folder.  From within your code, you don&#39;t need to reference `resources`, just sub folders (ie `/images/tick.png`)","body":"So, &quot;resources&quot; for maven go in the <code>{project folder}&#47;src&#47;main&#47;resources</code> folder.  From within your code, you don&#39;t need to reference <code>resources</code>, just sub folders (ie <code>&#47;images&#47;tick.png</code>)"},{"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"score":0,"creation_date":1650581886,"post_id":71961643,"comment_id":127159136,"body_markdown":"@MadProgrammer I also tied this exact path with the preceding slash, but same error.","body":"@MadProgrammer I also tied this exact path with the preceding slash, but same error."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650582094,"post_id":71961643,"comment_id":127159165,"body_markdown":"But based on the directory structure you&#39;ve provided, it&#39;s in the wrong directory for maven, in fact, your directory structure is wrong for maven generally","body":"But based on the directory structure you&#39;ve provided, it&#39;s in the wrong directory for maven, in fact, your directory structure is wrong for maven generally"},{"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"score":0,"creation_date":1650591085,"post_id":71961643,"comment_id":127160489,"body_markdown":"@MadProgrammer I uploaded a photo, if this is not proper location, then how to properly create a `resources` directory in maven.","body":"@MadProgrammer I uploaded a photo, if this is not proper location, then how to properly create a <code>resources</code> directory in maven."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1650591446,"post_id":71961643,"comment_id":127160537,"body_markdown":"You might want to have a read through https://stackoverflow.com/questions/69308166/netbeans-12x-mavan-include-and-load-embedded-resources","body":"You might want to have a read through <a href=\"https://stackoverflow.com/questions/69308166/netbeans-12x-mavan-include-and-load-embedded-resources\" title=\"netbeans 12x mavan include and load embedded resources\">stackoverflow.com/questions/69308166/&hellip;</a>"}],"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650583126,"creation_date":1650581194,"question_id":71961643,"body_markdown":"I am Using Windows 10, Apache NetBeans, maven swing project;\r\n\r\nmaven project structure:\r\n\r\n    |-- projectname\r\n    \t|-- Source Packages\r\n    \t|\t|--package1\r\n    \t|\t|--package2\r\n    \t|\t|--resources\r\n    \t|\t|\t|--images\r\n    \t|\t|\t|\t|--image.png\r\n\r\nThough NetBeans displays nested packages/folders like this `resources.images`\r\n\r\n[![project structure][1]][1]\r\n\r\nInside NetBeans, When I right-click on `image.png` then click `Properties` then click (`All Files` &lt;kbd&gt;...&lt;/kbd&gt;) it gives me this path:\r\n\r\n```\r\nC:\\Users\\%USERNAME%\\Documents\\NetBeansProjects\\projectname\\src\\main\\java\\resources\\images\\image.png\r\n```\r\n\r\nHow to reference image path?\r\n\r\nI tried many paths, also many answers from this site, but non solved my problem. The output always gives `Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException`\r\n\r\n\r\n    java.net.URL u = getClass().getResource(&quot;/resources/images/image.png&quot;);\r\n    ImageIcon icon = new ImageIcon(u);\r\n    JLabel label1 = new JLabel(&quot;Image and Text&quot;, icon, JLabel.CENTER);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6s8sp.png","title":"How to make reference to image path in maven swing project?","body":"<p>I am Using Windows 10, Apache NetBeans, maven swing project;</p>\n<p>maven project structure:</p>\n<pre><code>|-- projectname\n    |-- Source Packages\n    |   |--package1\n    |   |--package2\n    |   |--resources\n    |   |   |--images\n    |   |   |   |--image.png\n</code></pre>\n<p>Though NetBeans displays nested packages/folders like this <code>resources.images</code></p>\n<p><a href=\"https://i.stack.imgur.com/6s8sp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6s8sp.png\" alt=\"project structure\" /></a></p>\n<p>Inside NetBeans, When I right-click on <code>image.png</code> then click <code>Properties</code> then click (<code>All Files</code> <kbd>...</kbd>) it gives me this path:</p>\n<pre><code>C:\\Users\\%USERNAME%\\Documents\\NetBeansProjects\\projectname\\src\\main\\java\\resources\\images\\image.png\n</code></pre>\n<p>How to reference image path?</p>\n<p>I tried many paths, also many answers from this site, but non solved my problem. The output always gives <code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException</code></p>\n<pre><code>java.net.URL u = getClass().getResource(&quot;/resources/images/image.png&quot;);\nImageIcon icon = new ImageIcon(u);\nJLabel label1 = new JLabel(&quot;Image and Text&quot;, icon, JLabel.CENTER);\n</code></pre>\n"},{"tags":["java","android","sqlite","android-studio","search"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1650176169,"post_id":71899549,"comment_id":127052209,"body_markdown":"It isn&#39;t clear if you have gone through tutorials for the SQL language like SQLZoo.net.","body":"It isn&#39;t clear if you have gone through tutorials for the SQL language like SQLZoo.net."}],"answers":[{"tags":[],"owner":{"account_id":24764063,"reputation":3,"user_id":18648097,"display_name":"Whoyoumecallit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650582733,"creation_date":1650582733,"answer_id":71961789,"question_id":71899549,"body_markdown":"so all i had to do was\r\nchange this \r\n```\r\n qb.setTables(tableName);\r\n        //This will query : Select * from Data where Variety %PATTERN%&quot;\r\n        Cursor cursor = qb.query(db, sqlSelect, &quot;VARIETY LIKE ?&quot;, new String[]{&quot;%&quot; + VARIETY + &quot;%&quot;}, null, null, null);\r\n```\r\n\r\n\r\nto this\r\n```\r\nqb.setTables(tableName);\r\n        //This will query : Select * from Data where Variety %PATTERN%&quot;\r\n        String conditions = &quot;COMMODITY LIKE ? OR PLU LIKE ? OR VARIETY LIKE ?&quot;;\r\n        String par;\r\n        par = &quot;%&quot;+COMMODITY+&quot;%&quot;;\r\n        Cursor cursor = db.query(tableName, sqlSelect, conditions, new String[]{par, par, par}, null, null, null);\r\n```","title":"How can I search all columns of a table in Android Studio using SQL database","body":"<p>so all i had to do was\nchange this</p>\n<pre><code> qb.setTables(tableName);\n        //This will query : Select * from Data where Variety %PATTERN%&quot;\n        Cursor cursor = qb.query(db, sqlSelect, &quot;VARIETY LIKE ?&quot;, new String[]{&quot;%&quot; + VARIETY + &quot;%&quot;}, null, null, null);\n</code></pre>\n<p>to this</p>\n<pre><code>qb.setTables(tableName);\n        //This will query : Select * from Data where Variety %PATTERN%&quot;\n        String conditions = &quot;COMMODITY LIKE ? OR PLU LIKE ? OR VARIETY LIKE ?&quot;;\n        String par;\n        par = &quot;%&quot;+COMMODITY+&quot;%&quot;;\n        Cursor cursor = db.query(tableName, sqlSelect, conditions, new String[]{par, par, par}, null, null, null);\n</code></pre>\n"}],"owner":{"account_id":24764063,"reputation":3,"user_id":18648097,"display_name":"Whoyoumecallit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71961789,"answer_count":1,"score":0,"last_activity_date":1650582733,"creation_date":1650173725,"question_id":71899549,"body_markdown":"I have an Android app with a SQL database that has 4 columns. I would like to search all 4 columns in the database however I can only get 1 to be searched.\r\nI&#39;m not quite sure on how to get it to search all 4 columns.\r\n\r\nAll 4 Columns are displayed but I can only search one.  I can not seem to get it to search all 4 columns.\r\n\r\nthe code I&#39;m using to get it to search one column is \r\n```\r\n@SuppressLint(&quot;Range&quot;)\r\n    public List&lt;Data&gt; getDataByVARIETY (String VARIETY) {\r\n        variety = VARIETY;\r\n        SQLiteDatabase db = getReadableDatabase();\r\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n\r\n        String[] sqlSelect = {&quot;VARIETY&quot;, &quot;COMMODITY&quot;, &quot;PLU&quot;, &quot;BOTANICAL&quot;};\r\n        String tableName = &quot;data&quot;;\r\n\r\n        qb.setTables(tableName);\r\n        //This will query : Select * from Data where Variety %PATTERN%&quot;\r\n        Cursor cursor = qb.query(db, sqlSelect, &quot;VARIETY LIKE ?&quot;, new String[]{&quot;%&quot; + VARIETY + &quot;%&quot;}, null, null, null);\r\n        List&lt;Data&gt; result = new ArrayList&lt;&gt;();\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                Data data = new Data();\r\n                data.setCOMMODITY(cursor.getString(cursor.getColumnIndex(&quot;COMMODITY&quot;)));\r\n                data.setVARIETY(cursor.getString(cursor.getColumnIndex(&quot;VARIETY&quot;)));\r\n                data.setPLU(cursor.getString(cursor.getColumnIndex(&quot;PLU&quot;)));\r\n                data.setBOTANICAL(cursor.getString(cursor.getColumnIndex(&quot;BOTANICAL&quot;)));\r\n\r\n                result.add(data);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        return result;\r\n}\r\n```\r\n","title":"How can I search all columns of a table in Android Studio using SQL database","body":"<p>I have an Android app with a SQL database that has 4 columns. I would like to search all 4 columns in the database however I can only get 1 to be searched.\nI'm not quite sure on how to get it to search all 4 columns.</p>\n<p>All 4 Columns are displayed but I can only search one.  I can not seem to get it to search all 4 columns.</p>\n<p>the code I'm using to get it to search one column is</p>\n<pre><code>@SuppressLint(&quot;Range&quot;)\n    public List&lt;Data&gt; getDataByVARIETY (String VARIETY) {\n        variety = VARIETY;\n        SQLiteDatabase db = getReadableDatabase();\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n\n        String[] sqlSelect = {&quot;VARIETY&quot;, &quot;COMMODITY&quot;, &quot;PLU&quot;, &quot;BOTANICAL&quot;};\n        String tableName = &quot;data&quot;;\n\n        qb.setTables(tableName);\n        //This will query : Select * from Data where Variety %PATTERN%&quot;\n        Cursor cursor = qb.query(db, sqlSelect, &quot;VARIETY LIKE ?&quot;, new String[]{&quot;%&quot; + VARIETY + &quot;%&quot;}, null, null, null);\n        List&lt;Data&gt; result = new ArrayList&lt;&gt;();\n        if (cursor.moveToFirst()) {\n            do {\n                Data data = new Data();\n                data.setCOMMODITY(cursor.getString(cursor.getColumnIndex(&quot;COMMODITY&quot;)));\n                data.setVARIETY(cursor.getString(cursor.getColumnIndex(&quot;VARIETY&quot;)));\n                data.setPLU(cursor.getString(cursor.getColumnIndex(&quot;PLU&quot;)));\n                data.setBOTANICAL(cursor.getString(cursor.getColumnIndex(&quot;BOTANICAL&quot;)));\n\n                result.add(data);\n            } while (cursor.moveToNext());\n        }\n        return result;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1650482294,"post_id":71945043,"comment_id":127130064,"body_markdown":"Can we see your `Music` class?  There might be a problem with the `song` field.","body":"Can we see your <code>Music</code> class?  There might be a problem with the <code>song</code> field."},{"owner":{"account_id":24202710,"reputation":45,"user_id":18160330,"display_name":"Laura"},"score":0,"creation_date":1650482974,"post_id":71945043,"comment_id":127130299,"body_markdown":"Now you can see it :)","body":"Now you can see it :)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1650483285,"post_id":71945043,"comment_id":127130386,"body_markdown":"I suppose that you are calling `public String musics(Model model, @Param(&quot;keyword&quot;) String keyword)` somehow? With keywords or without? Did you try to unit-test it?","body":"I suppose that you are calling <code>public String musics(Model model, @Param(&quot;keyword&quot;) String keyword)</code> somehow? With keywords or without? Did you try to unit-test it?"},{"owner":{"account_id":24202710,"reputation":45,"user_id":18160330,"display_name":"Laura"},"score":0,"creation_date":1650483454,"post_id":71945043,"comment_id":127130437,"body_markdown":"&lt;h1&gt;Music List&lt;/h1&gt;\n\t\n\t&lt;div class=&quot;search&quot;&gt;\n\t\t&lt;form th:action=&quot;@{/musiclist}&quot;&gt;\n    \t &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;40&quot; th:value=&quot;${keyword}&quot; required /&gt;\n    \t\t&amp;nbsp;\n    \t\t&lt;input type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\n    \t\t&amp;nbsp;\n\t\t&lt;/form&gt;\n&lt;/div&gt;\n\nHere is the music.html  search","body":"&lt;h1&gt;Music List&lt;/h1&gt; \t \t&lt;div class=&quot;search&quot;&gt; \t\t&lt;form th:action=&quot;@{/musiclist}&quot;&gt;     \t &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;40&quot; th:value=&quot;${keyword}&quot; required /&gt;     \t\t&amp;nbsp;     \t\t&lt;input type=&quot;submit&quot; value=&quot;Search&quot; /&gt;     \t\t&amp;nbsp; \t\t&lt;/form&gt; &lt;/div&gt;  Here is the music.html  search"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1650485154,"post_id":71945043,"comment_id":127130949,"body_markdown":"I don&#39;t know if this will work, but one suggestion would be to concatenate the two lists before calling `addAttribute`.  So something like `List&lt;Music&gt; result = new ArrayList&lt;&gt;(); result.addAll(mrepository.findByArtist(keyword)); result.addAll(mrepository.findBySong(keyword)); model.addAttribute(&quot;musics&quot;, result);`","body":"I don&#39;t know if this will work, but one suggestion would be to concatenate the two lists before calling <code>addAttribute</code>.  So something like <code>List&lt;Music&gt; result = new ArrayList&lt;&gt;(); result.addAll(mrepository.findByArtist(keyword)); result.addAll(mrepository.findBySong(keyword)); model.addAttribute(&quot;musics&quot;, result);</code>"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650582340,"creation_date":1650582340,"answer_id":71961759,"question_id":71945043,"body_markdown":"It seems that filtering is performed only by 1 field, because you re-write `musics` model attribute here\r\n\r\n    if (keyword != null) {\r\n            model.addAttribute(&quot;musics&quot;, mrepository.findByArtist(keyword));\r\n            model.addAttribute(&quot;musics&quot;, mrepository.findBySong(keyword));\r\n\r\n1. First you set it to the findByArtist result\r\n2. Then try to update with findBySong result.\r\n\r\nSolution can be the following: \r\n1. add additional method to your `MusicRepository`\r\n\r\n       findByArtistOrSong(String artist, String song)\r\n2. Call this method instead the other two here \r\n\r\n    if (keyword != null) {\r\n        model.addAttribute(&quot;musics&quot;, mrepository.findByArtistOrSong(keyword, keyword));\r\n\r\n","title":"i have a search box that works well but it currently filters results only by artist name although i also have filtering by song.. what is wrong?","body":"<p>It seems that filtering is performed only by 1 field, because you re-write <code>musics</code> model attribute here</p>\n<pre><code>if (keyword != null) {\n        model.addAttribute(&quot;musics&quot;, mrepository.findByArtist(keyword));\n        model.addAttribute(&quot;musics&quot;, mrepository.findBySong(keyword));\n</code></pre>\n<ol>\n<li>First you set it to the findByArtist result</li>\n<li>Then try to update with findBySong result.</li>\n</ol>\n<p>Solution can be the following:</p>\n<ol>\n<li><p>add additional method to your <code>MusicRepository</code></p>\n<pre><code>findByArtistOrSong(String artist, String song)\n</code></pre>\n</li>\n<li><p>Call this method instead the other two here</p>\n<p>if (keyword != null) {\nmodel.addAttribute(&quot;musics&quot;, mrepository.findByArtistOrSong(keyword, keyword));</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24202710,"reputation":45,"user_id":18160330,"display_name":"Laura"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650582340,"creation_date":1650481834,"question_id":71945043,"body_markdown":"I have a search box that should filter the data stored in the database by artist or song but for some reason it currently only filters by artist even though I have defined it to filter by song as well.\r\n\r\nMusicController.java\r\n```\r\n@Controller\r\npublic class MusicController {\r\n\t\r\n\t@Autowired\r\n\tprivate MusicRepository mrepository;\r\n\t\r\n\t @Autowired\r\n\t private GenreRepository grepository;\r\n\t\r\n\t\r\n //sis&#228;&#228;nkirjautumimen\r\n\t @RequestMapping(value=&quot;/login&quot;)\r\n\t public String login() {\t\r\n\t     return &quot;login&quot;;\r\n\t }\t\r\n\r\n\t //N&#228;ytt&#228;&#228; musiikkilistan\r\n\t\t\r\n\t @RequestMapping(value=&quot;/musiclist&quot;)\r\n\t \tpublic String bookList(Model model) {\r\n\t \tmodel.addAttribute(&quot;musics&quot;, mrepository.findAll());\r\n\t \t\t\treturn &quot;musiclist&quot;;\r\n\t \t\t}\r\n\t //Search field\r\n\t@RequestMapping(value =&quot;musiclist&quot;, method=RequestMethod.GET)\r\n\tpublic String musics(Model model, @Param(&quot;keyword&quot;) String keyword) {\r\n\t\tif (keyword != null) {\r\n\t\t\tmodel.addAttribute(&quot;musics&quot;, mrepository.findByArtist(keyword));\r\n\t\t\tmodel.addAttribute(&quot;musics&quot;, mrepository.findBySong(keyword));\r\n\t\t\t\r\n\t\t\treturn &quot;Music&quot;;\r\n\t\t}\r\n\t\t\tmodel.addAttribute(&quot;musics&quot;, mrepository.findAll());\r\n\t\t\treturn &quot;Music&quot;;\r\n\t}\r\n\t\r\n```\r\nMusicRepository\r\n```\r\npublic interface MusicRepository extends CrudRepository&lt;Music, Long&gt; {\r\n\t\r\n\t List&lt;Music&gt; findByMusicId(Long musicId);\r\n\t List&lt;Music&gt; findByArtist(String artist);\r\n\t List&lt;Music&gt; findBySong(String song);\r\n\t \r\n\t\t\r\n}\r\n```\r\nHere is the Music.java i cant find any problems :(\r\n```\r\npackage MusicProject.Music.domain;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@Entity\r\npublic class Music {\r\n\t @Id\r\n\t @GeneratedValue(strategy=GenerationType.AUTO)\r\n\t public Long musicId;\r\n\t public String artist;\r\n\t public String song;\r\n\t public int year;\r\n\t \r\n\t @ManyToOne\r\n\t   @JsonIgnoreProperties (&quot;musics&quot;) \r\n\t   @JoinColumn(name = &quot;genreId&quot;)\r\n\t   private Genre genre;\r\n\t \r\n\t public Music() {}\r\n\t \r\n\t public Music(String artist, String song, int year, Genre genre) {\r\n\t\t super();\r\n\t\t this.artist = artist;\r\n\t\t this.song = song;\r\n\t\t this.year = year;\r\n\t\t this.genre = genre;\r\n\t}\r\n\tpublic Long getMusicId() {\r\n\t\treturn musicId;\r\n\t}\r\n\r\n\tpublic void setMusicId(Long id) {\r\n\t\tthis.musicId = id;\r\n\t}\r\n\t\r\n\tpublic String getArtist() {\r\n\t\treturn artist;\r\n\t}\r\n\r\n\tpublic void setArtist(String artist) {\r\n\t\tthis.artist = artist;\r\n\t}\r\n\t\r\n\tpublic String getSong() {\r\n\t\treturn song;\r\n\t}\r\n\r\n\tpublic void setSong(String song) {\r\n\t\tthis.song = song;\r\n\t}\r\n\t\r\n\tpublic int getYear() {\r\n\t\treturn year;\r\n\t}\r\n\t\r\n\tpublic void setYear(int year) {\r\n\t\tthis.year = year;\r\n\t}\r\n\t\r\n\t \r\n\tpublic Genre getGenre() {\r\n\t\treturn genre;\r\n\t}\r\n\r\n\tpublic void setGenre(Genre genre) {\r\n\t\tthis.genre = genre;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\tif (this.genre != null)\r\n\t\treturn &quot;Music [musicId=&quot; + musicId + &quot;, Artist=&quot; + artist + &quot;, Song=&quot; + song + &quot;, Year=&quot; + year + &quot;Genre=&quot; + this.getGenre() + &quot;]&quot;;\r\n\t\telse \r\n\t\t\treturn &quot;Music [musicId=&quot; + musicId + &quot;, Artist=&quot; + artist + &quot;, Song=&quot; + song + &quot;, Year=&quot; + year + &quot;]&quot;;\r\n\t\t\t\t \r\n}\t\r\n}\r\n```\r\nI haven&#39;t made any changes to the music category since the search box was added.","title":"i have a search box that works well but it currently filters results only by artist name although i also have filtering by song.. what is wrong?","body":"<p>I have a search box that should filter the data stored in the database by artist or song but for some reason it currently only filters by artist even though I have defined it to filter by song as well.</p>\n<p>MusicController.java</p>\n<pre><code>@Controller\npublic class MusicController {\n    \n    @Autowired\n    private MusicRepository mrepository;\n    \n     @Autowired\n     private GenreRepository grepository;\n    \n    \n //sisäänkirjautumimen\n     @RequestMapping(value=&quot;/login&quot;)\n     public String login() {    \n         return &quot;login&quot;;\n     }  \n\n     //Näyttää musiikkilistan\n        \n     @RequestMapping(value=&quot;/musiclist&quot;)\n        public String bookList(Model model) {\n        model.addAttribute(&quot;musics&quot;, mrepository.findAll());\n                return &quot;musiclist&quot;;\n            }\n     //Search field\n    @RequestMapping(value =&quot;musiclist&quot;, method=RequestMethod.GET)\n    public String musics(Model model, @Param(&quot;keyword&quot;) String keyword) {\n        if (keyword != null) {\n            model.addAttribute(&quot;musics&quot;, mrepository.findByArtist(keyword));\n            model.addAttribute(&quot;musics&quot;, mrepository.findBySong(keyword));\n            \n            return &quot;Music&quot;;\n        }\n            model.addAttribute(&quot;musics&quot;, mrepository.findAll());\n            return &quot;Music&quot;;\n    }\n    \n</code></pre>\n<p>MusicRepository</p>\n<pre><code>public interface MusicRepository extends CrudRepository&lt;Music, Long&gt; {\n    \n     List&lt;Music&gt; findByMusicId(Long musicId);\n     List&lt;Music&gt; findByArtist(String artist);\n     List&lt;Music&gt; findBySong(String song);\n     \n        \n}\n</code></pre>\n<p>Here is the Music.java i cant find any problems :(</p>\n<pre><code>package MusicProject.Music.domain;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@Entity\npublic class Music {\n     @Id\n     @GeneratedValue(strategy=GenerationType.AUTO)\n     public Long musicId;\n     public String artist;\n     public String song;\n     public int year;\n     \n     @ManyToOne\n       @JsonIgnoreProperties (&quot;musics&quot;) \n       @JoinColumn(name = &quot;genreId&quot;)\n       private Genre genre;\n     \n     public Music() {}\n     \n     public Music(String artist, String song, int year, Genre genre) {\n         super();\n         this.artist = artist;\n         this.song = song;\n         this.year = year;\n         this.genre = genre;\n    }\n    public Long getMusicId() {\n        return musicId;\n    }\n\n    public void setMusicId(Long id) {\n        this.musicId = id;\n    }\n    \n    public String getArtist() {\n        return artist;\n    }\n\n    public void setArtist(String artist) {\n        this.artist = artist;\n    }\n    \n    public String getSong() {\n        return song;\n    }\n\n    public void setSong(String song) {\n        this.song = song;\n    }\n    \n    public int getYear() {\n        return year;\n    }\n    \n    public void setYear(int year) {\n        this.year = year;\n    }\n    \n     \n    public Genre getGenre() {\n        return genre;\n    }\n\n    public void setGenre(Genre genre) {\n        this.genre = genre;\n    }\n\n    @Override\n    public String toString() {\n        if (this.genre != null)\n        return &quot;Music [musicId=&quot; + musicId + &quot;, Artist=&quot; + artist + &quot;, Song=&quot; + song + &quot;, Year=&quot; + year + &quot;Genre=&quot; + this.getGenre() + &quot;]&quot;;\n        else \n            return &quot;Music [musicId=&quot; + musicId + &quot;, Artist=&quot; + artist + &quot;, Song=&quot; + song + &quot;, Year=&quot; + year + &quot;]&quot;;\n                 \n}   \n}\n</code></pre>\n<p>I haven't made any changes to the music category since the search box was added.</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1643392479,"post_id":70898066,"comment_id":125336341,"body_markdown":"The statement `if(smallestNums[i] == smallestNums[i]) {\n                break;\n            }`  will always be true and always cause this break to happen leaving the loop. You are also assigning `smallestNums[i]=minval` every iteration so they will always have the same number repeated. `int counter` isn&#39;t used anywhere in the code you displayed.","body":"The statement <code>if(smallestNums[i] == smallestNums[i]) {                 break;             }</code>  will always be true and always cause this break to happen leaving the loop. You are also assigning <code>smallestNums[i]=minval</code> every iteration so they will always have the same number repeated. <code>int counter</code> isn&#39;t used anywhere in the code you displayed."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643392897,"post_id":70898066,"comment_id":125336520,"body_markdown":"Are you allowed to sort the array with your own code, just not using the built-in array sorting method?s I suggest you sort this with bubblesort(descending) and retrieve the n last numbers and you&#39;ll have your required output.","body":"Are you allowed to sort the array with your own code, just not using the built-in array sorting method?s I suggest you sort this with bubblesort(descending) and retrieve the n last numbers and you&#39;ll have your required output."},{"owner":{"account_id":20709293,"reputation":3,"user_id":15206317,"display_name":"Othman"},"score":0,"creation_date":1643454769,"post_id":70898066,"comment_id":125346921,"body_markdown":"How can I sort the array manually without creating a new one?","body":"How can I sort the array manually without creating a new one?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643479055,"post_id":70898066,"comment_id":125352876,"body_markdown":"You don&#39;t create a new array when sorting. Look at this tutorial on [bubblesort](https://www.google.com/amp/s/www.geeksforgeeks.org/bubble-sort/amp/).","body":"You don&#39;t create a new array when sorting. Look at this tutorial on <a href=\"https://www.google.com/amp/s/www.geeksforgeeks.org/bubble-sort/amp/\" rel=\"nofollow noreferrer\">bubblesort</a>."}],"answers":[{"tags":[],"owner":{"account_id":14722664,"reputation":89,"user_id":10632756,"display_name":"Andrei"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643393821,"creation_date":1643393821,"answer_id":70898428,"question_id":70898066,"body_markdown":"[Randomized select][1]  allows to find k-th ranked element in linear time on average.\r\nIt alters the input order, so practically, it makes sense to just sort and return k-th element of the sorted array. Especially if there are several such calls on the given input array.\r\n\r\n\r\n  [1]: https://walkccc.me/CLRS/Chap09/9.2/","title":"How can I get N smallest number in an array?","body":"<p><a href=\"https://walkccc.me/CLRS/Chap09/9.2/\" rel=\"nofollow noreferrer\">Randomized select</a>  allows to find k-th ranked element in linear time on average.\nIt alters the input order, so practically, it makes sense to just sort and return k-th element of the sorted array. Especially if there are several such calls on the given input array.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643407518,"creation_date":1643395543,"answer_id":70898776,"question_id":70898066,"body_markdown":"Here is one way.  Just do a **partial sort with the outer loop limit equal to the number of items required**. This is variant of the selection sort. This example, varies `n` in the outer list for demo purposes.\r\n```\r\nint[] array = { 10, 1, 5, 8, 7, 6, 3 };\r\nfor (int n = 1; n &lt;= array.length; n++) {\r\n\tint[] smallest = getNSmallest(n, array);\r\n\tSystem.out.printf(&quot;smallest %2d = %s%n&quot;, n,\r\n\t\t\tArrays.toString(smallest));\r\n}\r\n```\r\nprints\r\n```\r\nsmallest  1 = [1]\r\nsmallest  2 = [1, 3]\r\nsmallest  3 = [1, 3, 5]\r\nsmallest  4 = [1, 3, 5, 6]\r\nsmallest  5 = [1, 3, 5, 6, 7]\r\nsmallest  6 = [1, 3, 5, 6, 7, 8]\r\nsmallest  7 = [1, 3, 5, 6, 7, 8, 10]\r\n```\r\nHere is the method.  The first thing to do is copy the array so the\r\noriginal is preserved. Then just do the sort and return array of smallest elements.\r\n```\r\npublic static int[] getNSmallest(int n, int[] arr) {\r\n\tint[] ar = Arrays.copyOf(arr, arr.length);\r\n\tint[] smallest = new int[n];\r\n\tfor (int i = 0; i &lt; n; i++) {\r\n\t\tfor (int k = i + 1; k &lt; ar.length; k++) {\r\n\t\t\tif (ar[i] &gt; ar[k]) {\r\n\t\t\t\tint t = ar[i];\r\n\t\t\t\tar[i] = ar[k];\r\n\t\t\t\tar[k] = t;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsmallest[i] = ar[i];\r\n\t}\r\n\treturn smallest;\r\n}","title":"How can I get N smallest number in an array?","body":"<p>Here is one way.  Just do a <strong>partial sort with the outer loop limit equal to the number of items required</strong>. This is variant of the selection sort. This example, varies <code>n</code> in the outer list for demo purposes.</p>\n<pre><code>int[] array = { 10, 1, 5, 8, 7, 6, 3 };\nfor (int n = 1; n &lt;= array.length; n++) {\n    int[] smallest = getNSmallest(n, array);\n    System.out.printf(&quot;smallest %2d = %s%n&quot;, n,\n            Arrays.toString(smallest));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>smallest  1 = [1]\nsmallest  2 = [1, 3]\nsmallest  3 = [1, 3, 5]\nsmallest  4 = [1, 3, 5, 6]\nsmallest  5 = [1, 3, 5, 6, 7]\nsmallest  6 = [1, 3, 5, 6, 7, 8]\nsmallest  7 = [1, 3, 5, 6, 7, 8, 10]\n</code></pre>\n<p>Here is the method.  The first thing to do is copy the array so the\noriginal is preserved. Then just do the sort and return array of smallest elements.</p>\n<pre><code>public static int[] getNSmallest(int n, int[] arr) {\n    int[] ar = Arrays.copyOf(arr, arr.length);\n    int[] smallest = new int[n];\n    for (int i = 0; i &lt; n; i++) {\n        for (int k = i + 1; k &lt; ar.length; k++) {\n            if (ar[i] &gt; ar[k]) {\n                int t = ar[i];\n                ar[i] = ar[k];\n                ar[k] = t;\n            }\n        }\n        smallest[i] = ar[i];\n    }\n    return smallest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650582044,"creation_date":1643402932,"answer_id":70900142,"question_id":70898066,"body_markdown":"For this task, you don&#39;t have to sort the *whole array*. Only a group of `N` elements has to be sorted. I.e. only a **partial sorting** is required.\r\n\r\nBelow, I&#39;ve provided two implementations for this problem. The first utilizes only plane *arrays* and *loops*, the second makes use of the `PriorytyQueue`.\r\n\r\nThe first solution maintains a variable `pos` which denotes the position in the `result` array which isn&#39;t assigned yet. Note that the default value for an element of the `int[]` is `0`. It&#39;s important to be able to distinguish between the default value and a zero-element from the given array. Hence we can&#39;t rely on the values and have to track the number of elements that are assigned.\r\n\r\nEvery element of the source array gets compared with all the elements of the result array that are already assigned. The new element will be added to the result array in two cases:\r\n* nested loop has reached an unoccupied position `pos` in the result array;\r\n* an element in the result array that is greater than the next element from the given array has been found.\r\n\r\nIn the first case, a new element gets assigned the position denoted by `pos`. In the second case, a new element has to be inserted \r\nnested loop iterates over the given array at the current position `i` and all elements must be shifted to the right. That&#39;s what the method `shiftElements()` does.\r\n\r\n**The First solution - Arrays &amp; Loops**\r\n```\r\n    public static int[] getSmallest(int[] arr, int limit) {\r\n        int[] result = new int[Math.min(limit, arr.length)];\r\n        int pos = 0;\r\n        for (int next: arr) {\r\n            for (int i = 0; i &lt; Math.min(pos + 1, result.length); i++) {\r\n                if (i == pos) result[i] = next;\r\n                else if (result[i] &gt; next) {\r\n                    shiftElements(result, next, i, Math.min(pos + 1, result.length));\r\n                    break;\r\n                }\r\n            }\r\n            pos++;\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\n```\r\n    private static void shiftElements(int[] arr, int val, int start, int end) {\r\n        int move = arr[start];\r\n        arr[start] = val;\r\n        for (int i = start + 1; i &lt; end; i++) {\r\n            int temp = arr[i];\r\n            arr[i] = move;\r\n            move = temp;\r\n        }\r\n    }\r\n```\r\n\r\nMaybe you&#39;ll be more comfortable with the first version, but if you are somehow familiar with the `Collections` framework, then it&#39;s a good time to get acquainted with `PriorytyQueue`. In the nutshell, this collection is `backed by an array` and maintains its element in the same order as they were added, but when an element is being deleted `collection retrieves the smallest one` according to the natural order or based on the `Comparator`, which can be provided while instantiating the `PriorytyQueue`. It uses a sorting algorithm that is called a [heapsort](https://en.wikipedia.org/wiki/Heapsort) which allows removing a single element in **`O(log N)`** time.\r\n\r\n**The Second solution - PriorytyQueue**\r\n```\r\n    public static int[] getSmallestWithPriorityQueue(int[] arr, int limit) {\r\n        Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;();\r\n        populateQueue(queue, arr);\r\n        int[] result = new int[Math.min(limit, arr.length)];\r\n        for (int i = 0; i &lt; result.length; i++) {\r\n            result[i] = queue.remove();\r\n        }\r\n        return result;\r\n    }\r\n```\r\n```\r\n    private static void populateQueue(Queue&lt;Integer&gt; queue, int[] arr) {\r\n        for (int next: arr) {\r\n            queue.add(next);\r\n        }\r\n    }\r\n```\r\n**main &amp; utility-method to generate an array**\r\n```\r\n    public static void main(String[] args) {\r\n        int[] source = generateArr(100, 10);\r\n        System.out.println(&quot;source : &quot; + Arrays.toString(source));\r\n\r\n        int[] result1 = getSmallest(source, 3);\r\n        System.out.println(&quot;result(Arrays &amp; Loops) : &quot; + Arrays.toString(result1));\r\n\r\n        int[] result2 = getSmallestWithPriorityQueue(source, 3);\r\n        System.out.println(&quot;result(PriorityQueue)  : &quot; + Arrays.toString(result2));\r\n    }\r\n```\r\n```\r\n    public static int[] generateArr(int maxVal, int limit) {\r\n        Random random = new Random();\r\n        return IntStream.generate(() -&gt; random.nextInt(maxVal + 1))\r\n                .limit(limit)\r\n                .toArray();\r\n    }\r\n```\r\n**output**\r\n```\r\nsource : [61, 67, 78, 53, 74, 51, 50, 83, 59, 21]\r\nresult(Arrays &amp; Loops) : [21, 50, 51]\r\nresult(PriorityQueue)  : [21, 50, 51]\r\n```","title":"How can I get N smallest number in an array?","body":"<p>For this task, you don't have to sort the <em>whole array</em>. Only a group of <code>N</code> elements has to be sorted. I.e. only a <strong>partial sorting</strong> is required.</p>\n<p>Below, I've provided two implementations for this problem. The first utilizes only plane <em>arrays</em> and <em>loops</em>, the second makes use of the <code>PriorytyQueue</code>.</p>\n<p>The first solution maintains a variable <code>pos</code> which denotes the position in the <code>result</code> array which isn't assigned yet. Note that the default value for an element of the <code>int[]</code> is <code>0</code>. It's important to be able to distinguish between the default value and a zero-element from the given array. Hence we can't rely on the values and have to track the number of elements that are assigned.</p>\n<p>Every element of the source array gets compared with all the elements of the result array that are already assigned. The new element will be added to the result array in two cases:</p>\n<ul>\n<li>nested loop has reached an unoccupied position <code>pos</code> in the result array;</li>\n<li>an element in the result array that is greater than the next element from the given array has been found.</li>\n</ul>\n<p>In the first case, a new element gets assigned the position denoted by <code>pos</code>. In the second case, a new element has to be inserted\nnested loop iterates over the given array at the current position <code>i</code> and all elements must be shifted to the right. That's what the method <code>shiftElements()</code> does.</p>\n<p><strong>The First solution - Arrays &amp; Loops</strong></p>\n<pre><code>    public static int[] getSmallest(int[] arr, int limit) {\n        int[] result = new int[Math.min(limit, arr.length)];\n        int pos = 0;\n        for (int next: arr) {\n            for (int i = 0; i &lt; Math.min(pos + 1, result.length); i++) {\n                if (i == pos) result[i] = next;\n                else if (result[i] &gt; next) {\n                    shiftElements(result, next, i, Math.min(pos + 1, result.length));\n                    break;\n                }\n            }\n            pos++;\n        }\n        return result;\n    }\n</code></pre>\n<pre><code>    private static void shiftElements(int[] arr, int val, int start, int end) {\n        int move = arr[start];\n        arr[start] = val;\n        for (int i = start + 1; i &lt; end; i++) {\n            int temp = arr[i];\n            arr[i] = move;\n            move = temp;\n        }\n    }\n</code></pre>\n<p>Maybe you'll be more comfortable with the first version, but if you are somehow familiar with the <code>Collections</code> framework, then it's a good time to get acquainted with <code>PriorytyQueue</code>. In the nutshell, this collection is <code>backed by an array</code> and maintains its element in the same order as they were added, but when an element is being deleted <code>collection retrieves the smallest one</code> according to the natural order or based on the <code>Comparator</code>, which can be provided while instantiating the <code>PriorytyQueue</code>. It uses a sorting algorithm that is called a <a href=\"https://en.wikipedia.org/wiki/Heapsort\" rel=\"nofollow noreferrer\">heapsort</a> which allows removing a single element in <strong><code>O(log N)</code></strong> time.</p>\n<p><strong>The Second solution - PriorytyQueue</strong></p>\n<pre><code>    public static int[] getSmallestWithPriorityQueue(int[] arr, int limit) {\n        Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;();\n        populateQueue(queue, arr);\n        int[] result = new int[Math.min(limit, arr.length)];\n        for (int i = 0; i &lt; result.length; i++) {\n            result[i] = queue.remove();\n        }\n        return result;\n    }\n</code></pre>\n<pre><code>    private static void populateQueue(Queue&lt;Integer&gt; queue, int[] arr) {\n        for (int next: arr) {\n            queue.add(next);\n        }\n    }\n</code></pre>\n<p><strong>main &amp; utility-method to generate an array</strong></p>\n<pre><code>    public static void main(String[] args) {\n        int[] source = generateArr(100, 10);\n        System.out.println(&quot;source : &quot; + Arrays.toString(source));\n\n        int[] result1 = getSmallest(source, 3);\n        System.out.println(&quot;result(Arrays &amp; Loops) : &quot; + Arrays.toString(result1));\n\n        int[] result2 = getSmallestWithPriorityQueue(source, 3);\n        System.out.println(&quot;result(PriorityQueue)  : &quot; + Arrays.toString(result2));\n    }\n</code></pre>\n<pre><code>    public static int[] generateArr(int maxVal, int limit) {\n        Random random = new Random();\n        return IntStream.generate(() -&gt; random.nextInt(maxVal + 1))\n                .limit(limit)\n                .toArray();\n    }\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>source : [61, 67, 78, 53, 74, 51, 50, 83, 59, 21]\nresult(Arrays &amp; Loops) : [21, 50, 51]\nresult(PriorityQueue)  : [21, 50, 51]\n</code></pre>\n"}],"owner":{"account_id":20709293,"reputation":3,"user_id":15206317,"display_name":"Othman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1650582044,"creation_date":1643392033,"question_id":70898066,"body_markdown":"I&#39;m trying to get the N smallest numbers (given by the user) in an array without using methods like sort()... in the last step, I keep getting only the smallest values and 0 for the rest.. where&#39;s the problem?\r\n\r\n```java\r\n        //1- Scanner to take inputs\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        //2- Take the array size as input and store it in &quot;sizeOfArr&quot; var\r\n        System.out.print(&quot;Enter the array size: &quot;);\r\n        int sizeOfArr = input.nextInt();\r\n\r\n        //3- Assign the input as an array size\r\n        int array[] = new int[sizeOfArr];\r\n\r\n        //4- Looping on the array and update its values by inputs taken from the user\r\n        for(int i = 0; i &lt; array.length; i++) {\r\n            System.out.print(&quot;Enter &quot;+ (i+1) + &quot;-st element: &quot;);\r\n            array[i] = input.nextInt();\r\n        }\r\n\r\n        //5- Print out the array after convert it to String\r\n        System.out.println(Arrays.toString(array));\r\n\r\n        //6- Find the smallest element in the array and print it\r\n        int minVal = array[0];\r\n        for(int i = 0; i &lt; array.length; i++) {\r\n            if (array[i] &lt; minVal) {\r\n                minVal = array[i];\r\n            }\r\n        }\r\n//        System.out.println(minVal);\r\n\r\n        //7- Find the (n) smallest of number defined by the user\r\n        System.out.print(&quot;Enter the number of smallest numbers do you want: &quot;);\r\n        int n = input.nextInt();\r\n\r\n        //8- new array to store n smallest numbers\r\n        int smallestNums[] = new int[n];\r\n\r\n        //9- trying to loop on the original array n times\r\n        int counter;\r\n        for(int i = 0; i &lt; n ; i++) {\r\n\r\n            //10- trying to loop on the original array to store the smallest values in smallestNum[] array.\r\n            for(int j = 0; j &lt; array.length; j++) {\r\n                smallestNums[i] = minVal;\r\n            }\r\n\r\n            if(smallestNums[i] == smallestNums[i]) {\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n        System.out.println(Arrays.toString(smallestNums));\r\n```\r\n","title":"How can I get N smallest number in an array?","body":"<p>I'm trying to get the N smallest numbers (given by the user) in an array without using methods like sort()... in the last step, I keep getting only the smallest values and 0 for the rest.. where's the problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        //1- Scanner to take inputs\n        Scanner input = new Scanner(System.in);\n\n        //2- Take the array size as input and store it in &quot;sizeOfArr&quot; var\n        System.out.print(&quot;Enter the array size: &quot;);\n        int sizeOfArr = input.nextInt();\n\n        //3- Assign the input as an array size\n        int array[] = new int[sizeOfArr];\n\n        //4- Looping on the array and update its values by inputs taken from the user\n        for(int i = 0; i &lt; array.length; i++) {\n            System.out.print(&quot;Enter &quot;+ (i+1) + &quot;-st element: &quot;);\n            array[i] = input.nextInt();\n        }\n\n        //5- Print out the array after convert it to String\n        System.out.println(Arrays.toString(array));\n\n        //6- Find the smallest element in the array and print it\n        int minVal = array[0];\n        for(int i = 0; i &lt; array.length; i++) {\n            if (array[i] &lt; minVal) {\n                minVal = array[i];\n            }\n        }\n//        System.out.println(minVal);\n\n        //7- Find the (n) smallest of number defined by the user\n        System.out.print(&quot;Enter the number of smallest numbers do you want: &quot;);\n        int n = input.nextInt();\n\n        //8- new array to store n smallest numbers\n        int smallestNums[] = new int[n];\n\n        //9- trying to loop on the original array n times\n        int counter;\n        for(int i = 0; i &lt; n ; i++) {\n\n            //10- trying to loop on the original array to store the smallest values in smallestNum[] array.\n            for(int j = 0; j &lt; array.length; j++) {\n                smallestNums[i] = minVal;\n            }\n\n            if(smallestNums[i] == smallestNums[i]) {\n                break;\n            }\n\n        }\n\n        System.out.println(Arrays.toString(smallestNums));\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":0,"creation_date":1650595902,"post_id":71961712,"comment_id":127161156,"body_markdown":"You can configure the maxSize on the PagedList.Config that can be passed to the builder. https://developer.android.com/reference/androidx/paging/PagedList.Config","body":"You can configure the maxSize on the PagedList.Config that can be passed to the builder. <a href=\"https://developer.android.com/reference/androidx/paging/PagedList.Config\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/paging/&hellip;</a>"},{"owner":{"account_id":6408559,"reputation":11,"user_id":4968995,"display_name":"ikramul haque"},"score":0,"creation_date":1650872561,"post_id":71961712,"comment_id":127216929,"body_markdown":"Thanks @Dan Harms\nAnother problem: when I use LinearLayoutManager.scrollToPositionWithOffset() adapter loads all pages in between. Could you please help?","body":"Thanks @Dan Harms Another problem: when I use LinearLayoutManager.scrollToPositionWithOffset() adapter loads all pages in between. Could you please help?"},{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":0,"creation_date":1650995853,"post_id":71961712,"comment_id":127254827,"body_markdown":"That&#39;s expected. If you find that users will be scrolling to position often, consider restructuring how your requests are done (eg. reversing your paging order if always going to the bottom).","body":"That&#39;s expected. If you find that users will be scrolling to position often, consider restructuring how your requests are done (eg. reversing your paging order if always going to the bottom)."},{"owner":{"account_id":6408559,"reputation":11,"user_id":4968995,"display_name":"ikramul haque"},"score":0,"creation_date":1651010112,"post_id":71961712,"comment_id":127259122,"body_markdown":"I didn&#39;t expected that. Anyway thanks for helping, at least I will stop searching now.","body":"I didn&#39;t expected that. Anyway thanks for helping, at least I will stop searching now."}],"owner":{"account_id":6408559,"reputation":11,"user_id":4968995,"display_name":"ikramul haque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650581880,"creation_date":1650581880,"question_id":71961712,"body_markdown":"After long time searching I could not find any implementation of ```PagedListAdapter``` with raw ```SQLiteDatabase```. Now I have implemented one for test purpose and it&#39;s working fine.\r\n\r\nMyViewModel.class\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.ViewModel;\r\nimport androidx.paging.LivePagedListBuilder;\r\nimport androidx.paging.PagedList;\r\n\r\npublic class MyViewModel extends ViewModel {\r\n    public final LiveData&lt;PagedList&lt;User&gt;&gt; usersList;\r\n    public MyViewModel() {\r\n        usersList = new LivePagedListBuilder&lt;&gt;(new MyFactory(),20).build();\r\n    }\r\n}\r\n```\r\n\r\nMyFactory.class\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.paging.DataSource;\r\n\r\npublic class MyFactory extends DataSource.Factory&lt;Integer, User&gt; {\r\n\r\n    @NonNull\r\n    @Override\r\n    public DataSource&lt;Integer, User&gt; create() {\r\n        return new MyDataSource();\r\n    }\r\n}\r\n```\r\n\r\nMyDataSource.class\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.paging.PositionalDataSource;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MyDataSource extends PositionalDataSource&lt;User&gt; {\r\n    @Override\r\n    public void loadInitial(@NonNull LoadInitialParams params, @NonNull LoadInitialCallback&lt;User&gt; callback) {\r\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n        SQLiteDatabase database = SQLiteDatabase.openDatabase(MainActivity.databasePath, null, SQLiteDatabase.OPEN_READONLY);\r\n        Cursor cursor = database.rawQuery(&quot;select id,text from content limit ?,?&quot;,\r\n                new String[]{String.valueOf(params.requestedStartPosition),String.valueOf(params.requestedLoadSize)});\r\n        while (cursor.moveToNext())\r\n            userList.add(new User(cursor.getInt(0), cursor.getString(1)));\r\n        cursor.close();\r\n        database.close();\r\n        callback.onResult(userList, params.requestedStartPosition, 7000/*test only*/);\r\n    }\r\n\r\n    @Override\r\n    public void loadRange(@NonNull LoadRangeParams params, @NonNull LoadRangeCallback&lt;User&gt; callback) {\r\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n        SQLiteDatabase database = SQLiteDatabase.openDatabase(MainActivity.databasePath, null, SQLiteDatabase.OPEN_READONLY);\r\n        Cursor cursor = database.rawQuery(&quot;select id,text from content limit ?,?&quot;,\r\n                new String[]{String.valueOf(params.startPosition),String.valueOf(params.loadSize)});\r\n        while (cursor.moveToNext())\r\n            userList.add(new User(cursor.getInt(0), cursor.getString(1)));\r\n        cursor.close();\r\n        database.close();\r\n        callback.onResult(userList);\r\n    }\r\n}\r\n```\r\n\r\nBut when ```RecyclerView``` is scrolled down, more data is loaded into list along with all data from the very begining. Thats why memory usage is increasing gradually and app slows down. \r\n\r\nShould I recycle old data manually?\r\nor Am I missing something?\r\n","title":"PagedListAdapter using huge memory when RecyclerView is scrolled long way","body":"<p>After long time searching I could not find any implementation of <code>PagedListAdapter</code> with raw <code>SQLiteDatabase</code>. Now I have implemented one for test purpose and it's working fine.</p>\n<p>MyViewModel.class</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.lifecycle.ViewModel;\nimport androidx.paging.LivePagedListBuilder;\nimport androidx.paging.PagedList;\n\npublic class MyViewModel extends ViewModel {\n    public final LiveData&lt;PagedList&lt;User&gt;&gt; usersList;\n    public MyViewModel() {\n        usersList = new LivePagedListBuilder&lt;&gt;(new MyFactory(),20).build();\n    }\n}\n</code></pre>\n<p>MyFactory.class</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.annotation.NonNull;\nimport androidx.paging.DataSource;\n\npublic class MyFactory extends DataSource.Factory&lt;Integer, User&gt; {\n\n    @NonNull\n    @Override\n    public DataSource&lt;Integer, User&gt; create() {\n        return new MyDataSource();\n    }\n}\n</code></pre>\n<p>MyDataSource.class</p>\n<pre><code>package com.example.myapplication;\n\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\n\nimport androidx.annotation.NonNull;\nimport androidx.paging.PositionalDataSource;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MyDataSource extends PositionalDataSource&lt;User&gt; {\n    @Override\n    public void loadInitial(@NonNull LoadInitialParams params, @NonNull LoadInitialCallback&lt;User&gt; callback) {\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n        SQLiteDatabase database = SQLiteDatabase.openDatabase(MainActivity.databasePath, null, SQLiteDatabase.OPEN_READONLY);\n        Cursor cursor = database.rawQuery(&quot;select id,text from content limit ?,?&quot;,\n                new String[]{String.valueOf(params.requestedStartPosition),String.valueOf(params.requestedLoadSize)});\n        while (cursor.moveToNext())\n            userList.add(new User(cursor.getInt(0), cursor.getString(1)));\n        cursor.close();\n        database.close();\n        callback.onResult(userList, params.requestedStartPosition, 7000/*test only*/);\n    }\n\n    @Override\n    public void loadRange(@NonNull LoadRangeParams params, @NonNull LoadRangeCallback&lt;User&gt; callback) {\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n        SQLiteDatabase database = SQLiteDatabase.openDatabase(MainActivity.databasePath, null, SQLiteDatabase.OPEN_READONLY);\n        Cursor cursor = database.rawQuery(&quot;select id,text from content limit ?,?&quot;,\n                new String[]{String.valueOf(params.startPosition),String.valueOf(params.loadSize)});\n        while (cursor.moveToNext())\n            userList.add(new User(cursor.getInt(0), cursor.getString(1)));\n        cursor.close();\n        database.close();\n        callback.onResult(userList);\n    }\n}\n</code></pre>\n<p>But when <code>RecyclerView</code> is scrolled down, more data is loaded into list along with all data from the very begining. Thats why memory usage is increasing gradually and app slows down.</p>\n<p>Should I recycle old data manually?\nor Am I missing something?</p>\n"},{"tags":["java","android","api","kotlin","retrofit"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1650580880,"post_id":71961390,"comment_id":127158980,"body_markdown":"Where is `filename` coming from? Your title mentions &quot;uri&quot;, but there is no `Uri` in your code.","body":"Where is <code>filename</code> coming from? Your title mentions &quot;uri&quot;, but there is no <code>Uri</code> in your code."},{"owner":{"account_id":21144914,"reputation":43,"user_id":15546453,"display_name":"gejivi2011"},"score":0,"creation_date":1650624598,"post_id":71961390,"comment_id":127168626,"body_markdown":"its from file , not uri","body":"its from file , not uri"}],"answers":[{"tags":[],"owner":{"account_id":14095308,"reputation":156,"user_id":10182273,"display_name":"Yousef Kazemi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650581669,"creation_date":1650581669,"answer_id":71961692,"question_id":71961390,"body_markdown":"The way you are trying to send the video is not correct. Please follow these steps to send a video using retrofit.\r\nFirst, create a network interface like this.\r\n\r\n    @Multipart\r\n    @POST(&quot;uploadVideo&quot;)\r\n    suspend fun uploadVideo(@Part part: MultipartBody.Part) : Response&lt;DefaultResponse&gt;\r\n\r\nSecond, call function like this:\r\n\r\n    fun createMultipartBodyPart(file: File) {\r\n        val requestBody = RequestBody.create(&quot;multipart/form-data&quot;.toMediaTypeOrNull(), file)\r\n        val body = MultipartBody.Part.createFormData(&quot;name&quot;, file.name, requestBody)\r\n\r\n        service.uploadVideo(body)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Upload file form uri using retrofit android with kotlin","body":"<p>The way you are trying to send the video is not correct. Please follow these steps to send a video using retrofit.\nFirst, create a network interface like this.</p>\n<pre><code>@Multipart\n@POST(&quot;uploadVideo&quot;)\nsuspend fun uploadVideo(@Part part: MultipartBody.Part) : Response&lt;DefaultResponse&gt;\n</code></pre>\n<p>Second, call function like this:</p>\n<pre><code>fun createMultipartBodyPart(file: File) {\n    val requestBody = RequestBody.create(&quot;multipart/form-data&quot;.toMediaTypeOrNull(), file)\n    val body = MultipartBody.Part.createFormData(&quot;name&quot;, file.name, requestBody)\n\n    service.uploadVideo(body)\n}\n</code></pre>\n"}],"owner":{"account_id":21144914,"reputation":43,"user_id":15546453,"display_name":"gejivi2011"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650581669,"creation_date":1650578760,"question_id":71961390,"body_markdown":"I am trying to upload a video using retrofit, but I can&#39;t generate the correct format\r\nthis is my postman request : \r\n\r\npostman request: https://i.stack.imgur.com/rDC6s.png\r\n\r\nand this is the API endpoint call :\r\n\r\n\r\n    @POST(&quot;uploadVideo&quot;)\r\n    suspend fun uploadVideo(@Body body: UploadVideoRequest) : Response&lt;DefaultResponse&gt;\r\n\r\n,Also this the &quot;UploadVideoRequest&quot; class : \r\n\r\n    data class UploadVideoRequest(\r\n        @SerializedName(&quot;video&quot;)\r\n        val video: RequestBody? = null\r\n    )\r\n\r\nfinally this is my call : \r\n\r\n\r\n\r\n    fun createPostWithVideo(fileName: String) {\r\n\r\n        val file = File(fileName);\r\n        val requestFile = RequestBody.create(&quot;multipart/form-data&quot;.toMediaTypeOrNull(), file)\r\n        val body = MultipartBody.Part.createFormData(&quot;video&quot;, requestFile.toString())\r\n\r\n\r\n        viewModel.uploadVideoRequest = UploadVideoRequest(\r\n            video = body.body,\r\n        )\r\n        viewModel.uploadVideo()\r\n\r\n    }\r\n\r\n\r\nBut I am still not able to send that request \r\n","title":"Upload file form uri using retrofit android with kotlin","body":"<p>I am trying to upload a video using retrofit, but I can't generate the correct format\nthis is my postman request :</p>\n<p>postman request: <a href=\"https://i.stack.imgur.com/rDC6s.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rDC6s.png</a></p>\n<p>and this is the API endpoint call :</p>\n<pre><code>@POST(&quot;uploadVideo&quot;)\nsuspend fun uploadVideo(@Body body: UploadVideoRequest) : Response&lt;DefaultResponse&gt;\n</code></pre>\n<p>,Also this the &quot;UploadVideoRequest&quot; class :</p>\n<pre><code>data class UploadVideoRequest(\n    @SerializedName(&quot;video&quot;)\n    val video: RequestBody? = null\n)\n</code></pre>\n<p>finally this is my call :</p>\n<pre><code>fun createPostWithVideo(fileName: String) {\n\n    val file = File(fileName);\n    val requestFile = RequestBody.create(&quot;multipart/form-data&quot;.toMediaTypeOrNull(), file)\n    val body = MultipartBody.Part.createFormData(&quot;video&quot;, requestFile.toString())\n\n\n    viewModel.uploadVideoRequest = UploadVideoRequest(\n        video = body.body,\n    )\n    viewModel.uploadVideo()\n\n}\n</code></pre>\n<p>But I am still not able to send that request</p>\n"},{"tags":["java","css","javafx","text","new-style-class"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1650556883,"post_id":71957349,"comment_id":127151594,"body_markdown":"That should work. Create and post a [mre].","body":"That should work. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1650561647,"post_id":71957349,"comment_id":127153397,"body_markdown":"did you save in scennebuilder after that ?","body":"did you save in scennebuilder after that ?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1650578335,"post_id":71957349,"comment_id":127158514,"body_markdown":"`-fx-text-fill` sets the style of text in a `Label` object, not a `Text` object (which is a shape).  You can set the style of a `Text` object using `-fx-fill`.  For more info, study the [JavaFX CSS reference](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html).","body":"<code>-fx-text-fill</code> sets the style of text in a <code>Label</code> object, not a <code>Text</code> object (which is a shape).  You can set the style of a <code>Text</code> object using <code>-fx-fill</code>.  For more info, study the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html\" rel=\"nofollow noreferrer\">JavaFX CSS reference</a>."}],"answers":[{"tags":[],"owner":{"account_id":19069126,"reputation":127,"user_id":17129506,"display_name":"Belushi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1650576859,"creation_date":1650576859,"answer_id":71961111,"question_id":71957349,"body_markdown":"Finally I figured out what caused the problem. I had to add stylesheet to FXML in SceneBuilder.\r\n\r\nAfter that, everything worked correctly.\r\n\r\n-----\r\nBy the way, I don&#39;t know why I had to add stylesheet in SB, despite the fact that I added it in my code earlier. Maybe is it a bug? Or am I just silly?\r\n","title":"How to change JavaFX text color with CSS?","body":"<p>Finally I figured out what caused the problem. I had to add stylesheet to FXML in SceneBuilder.</p>\n<p>After that, everything worked correctly.</p>\n<hr />\n<p>By the way, I don't know why I had to add stylesheet in SB, despite the fact that I added it in my code earlier. Maybe is it a bug? Or am I just silly?</p>\n"},{"tags":[],"owner":{"account_id":18256027,"reputation":69,"user_id":13289963,"display_name":"MMR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650581603,"creation_date":1650581603,"answer_id":71961683,"question_id":71957349,"body_markdown":" for example here :\r\n\r\n    &lt;Button fx:id=&quot;stop&quot; layoutX=&quot;100.0&quot;\r\n         layoutY=&quot;14.0&quot; mnemonicParsing=&quot;false&quot;\r\n         onAction=&quot;#onActionStopBtn&quot;\r\n         style=&quot; -fx-background-color:\r\n                        #000000, \r\n                        linear-gradient(#7ebcea, #2f4b8f),\r\n                        linear-gradient(#426ab7, #263e75),\r\n                        linear-gradient(#395cab, #223768);\r\n                 -fx-background-insets: 0,1,2,3;\r\n                 -fx-background-radius: 3,2,2,2; \r\n                 -fx-padding: 12 30 12 30;\r\n                 -fx-text-fill: white;\r\n                 -fx-font-size: 12px;&quot;\r\n         text=&quot;Stop&quot; /&gt;\r\n\r\nadd some `style` to `FXML` `Button`&lt;br&gt;\r\nsee [this][1] for more detail\r\n\r\n\r\n  [1]: https://www.vojtechruzicka.com/javafx-css/","title":"How to change JavaFX text color with CSS?","body":"<p>for example here :</p>\n<pre><code>&lt;Button fx:id=&quot;stop&quot; layoutX=&quot;100.0&quot;\n     layoutY=&quot;14.0&quot; mnemonicParsing=&quot;false&quot;\n     onAction=&quot;#onActionStopBtn&quot;\n     style=&quot; -fx-background-color:\n                    #000000, \n                    linear-gradient(#7ebcea, #2f4b8f),\n                    linear-gradient(#426ab7, #263e75),\n                    linear-gradient(#395cab, #223768);\n             -fx-background-insets: 0,1,2,3;\n             -fx-background-radius: 3,2,2,2; \n             -fx-padding: 12 30 12 30;\n             -fx-text-fill: white;\n             -fx-font-size: 12px;&quot;\n     text=&quot;Stop&quot; /&gt;\n</code></pre>\n<p>add some <code>style</code> to <code>FXML</code> <code>Button</code><br>\nsee <a href=\"https://www.vojtechruzicka.com/javafx-css/\" rel=\"nofollow noreferrer\">this</a> for more detail</p>\n"}],"owner":{"account_id":19069126,"reputation":127,"user_id":17129506,"display_name":"Belushi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1650581603,"creation_date":1650556220,"question_id":71957349,"body_markdown":"I write a JavaFX application and I&#39;d like to skin it with css.\r\n\r\nI&#39;ve successfully added a style sheet to my application like this:\r\n\r\n```\r\n//Java code\r\nFXMLLoader loader = new FXMLLoader(MainApp.class.getResource(&quot;/path/to/fxml&quot;));\r\n        Scene scene = new Scene(loader.load());\r\n        \r\n        scene.getStylesheets().add(getClass().getResource(&quot;/path/to/css&quot;).toExternalForm());\r\n```\r\n\r\nI need to change text color, but [there is no][1] style class for text object by default.\r\n\r\nI created FXML files with SceneBuilder. To assign a text object to a class, I typed the class name to the proper text field (Sidebar &gt;&gt; JavaFX CSS &gt;&gt; Style Class).\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCSS file:\r\n```\r\n.myText {\r\n    -fx-text-fill: #ffffff;\r\n}\r\n```\r\n\r\nHowever if I run my app, this method does change nothing. How can I solve this problem?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#text\r\n  [2]: https://i.stack.imgur.com/0dIUw.png","title":"How to change JavaFX text color with CSS?","body":"<p>I write a JavaFX application and I'd like to skin it with css.</p>\n<p>I've successfully added a style sheet to my application like this:</p>\n<pre><code>//Java code\nFXMLLoader loader = new FXMLLoader(MainApp.class.getResource(&quot;/path/to/fxml&quot;));\n        Scene scene = new Scene(loader.load());\n        \n        scene.getStylesheets().add(getClass().getResource(&quot;/path/to/css&quot;).toExternalForm());\n</code></pre>\n<p>I need to change text color, but <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#text\" rel=\"nofollow noreferrer\">there is no</a> style class for text object by default.</p>\n<p>I created FXML files with SceneBuilder. To assign a text object to a class, I typed the class name to the proper text field (Sidebar &gt;&gt; JavaFX CSS &gt;&gt; Style Class).</p>\n<p><a href=\"https://i.stack.imgur.com/0dIUw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dIUw.png\" alt=\"enter image description here\" /></a></p>\n<p>CSS file:</p>\n<pre><code>.myText {\n    -fx-text-fill: #ffffff;\n}\n</code></pre>\n<p>However if I run my app, this method does change nothing. How can I solve this problem?</p>\n"},{"tags":["java","sql","multithreading","parallel-processing","executor"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1650568638,"post_id":71959743,"comment_id":127155775,"body_markdown":"Important is that the [ExecutorService] does something like `shutdownAndAwaitTermination` (example in javadoc). The backlog of tasks still not executed might grow, and other ExecutorServices might be present stealing threads.","body":"Important is that the [ExecutorService] does something like <code>shutdownAndAwaitTermination</code> (example in javadoc). The backlog of tasks still not executed might grow, and other ExecutorServices might be present stealing threads."},{"owner":{"account_id":3889645,"reputation":133,"user_id":3220197,"accept_rate":80,"display_name":"Peter"},"score":0,"creation_date":1650569084,"post_id":71959743,"comment_id":127155899,"body_markdown":"Thx for your input, I edited my question- shutdown and waiting to finish are the next two lines which i omitted in my snippet.","body":"Thx for your input, I edited my question- shutdown and waiting to finish are the next two lines which i omitted in my snippet."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1650577309,"post_id":71959743,"comment_id":127158316,"body_markdown":"[Thread.getAllStackTraces()](https://docs.oracle.com/javase/10/docs/api/java/lang/Thread.html#getAllStackTraces()) might be an idea.","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Thread.html#getAllStackTraces()\" rel=\"nofollow noreferrer\">Thread.getAllStackTraces()</a> might be an idea."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650581504,"creation_date":1650581504,"answer_id":71961674,"question_id":71959743,"body_markdown":"I assume you replaced\r\n\r\n    for (int i = 0; i &lt; 10; i++) {                \r\n        executor.submit( () -&gt; processRule(rule_queue.poll()));           \r\n    }\r\n\r\nwith\r\n\r\n    for (int i = 0; i &lt; rule_queue.size(); i++) {\r\n    //                  ^^^^^^^^^^^^^^^^^\r\n        executor.submit( () -&gt; processRule(rule_queue.poll()));           \r\n    }\r\n\r\nThe problem is that `rule_queue.size()` is being re-evaluated at each iteration.  Consider the case where the initial queue size is 2.\r\n\r\n    Iteration    i   rule_queue.size()   result\r\n    ---------    -   -----------------   ------\r\n        1        0           2           submit\r\n        2        1           1           exit loop\r\n\r\nSo only half of your rules will be submitted. What you want instead is:\r\n\r\n    while(rule_queue.size() &gt; 0) {\r\n        executor.submit( () -&gt; processRule(rule_queue.poll()));           \r\n    }\r\n\r\nYou would have immediately seen this if you had stepped through the code in your IDE debugger.","title":"java Executor not executing all tasks if task count is not known in compile time","body":"<p>I assume you replaced</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {                \n    executor.submit( () -&gt; processRule(rule_queue.poll()));           \n}\n</code></pre>\n<p>with</p>\n<pre><code>for (int i = 0; i &lt; rule_queue.size(); i++) {\n//                  ^^^^^^^^^^^^^^^^^\n    executor.submit( () -&gt; processRule(rule_queue.poll()));           \n}\n</code></pre>\n<p>The problem is that <code>rule_queue.size()</code> is being re-evaluated at each iteration.  Consider the case where the initial queue size is 2.</p>\n<pre><code>Iteration    i   rule_queue.size()   result\n---------    -   -----------------   ------\n    1        0           2           submit\n    2        1           1           exit loop\n</code></pre>\n<p>So only half of your rules will be submitted. What you want instead is:</p>\n<pre><code>while(rule_queue.size() &gt; 0) {\n    executor.submit( () -&gt; processRule(rule_queue.poll()));           \n}\n</code></pre>\n<p>You would have immediately seen this if you had stepped through the code in your IDE debugger.</p>\n"}],"owner":{"account_id":3889645,"reputation":133,"user_id":3220197,"accept_rate":80,"display_name":"Peter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71961674,"answer_count":1,"score":0,"last_activity_date":1650581504,"creation_date":1650568034,"question_id":71959743,"body_markdown":"I have a very simple java code snippet:\r\n\r\n      ExecutorService executor = null;          \r\n          try {\r\n        \t  executor = Executors.newFixedThreadPool(4);        \t  \r\n        \t  for (int i = 0; i &lt; 10; i++) {       \t\t    \r\n        \t      executor.submit( () -&gt; processRule(rule_queue.poll()));       \t\r\n        \t\t}\r\n           }   \r\n\r\nAnd here is the thing: if I replace the 10 (which is in my case the count of objects in the rule_queue queue with rule_queue.size() then not all tasks will be executed.\r\n\r\nIt is a very strange behaviour, for 1-2 fixedThreadPool threads it will work, but for 3 and above fixed threads will usually be only 5-7 tasks executed.\r\n\r\nThe problem is the count of objects in the queue comes from the database so I can&#39;t hardcode it into the for loop.\r\n\r\nThe method processRule do some database inserts/selects so I also don&#39;t want to open too many threads/connections, 4-5 SQL Selects simultaneously would be sufficient.\r\n\r\nThanks in adavance for any help how to run all tasks and how to run 4 in parallel and put all the others (could be up to 300) to the executors queue.\r\n\r\nEdit: sorry forgot to write that after this code two additional lines are executor.shutdown() and waiting for finish.","title":"java Executor not executing all tasks if task count is not known in compile time","body":"<p>I have a very simple java code snippet:</p>\n<pre><code>  ExecutorService executor = null;          \n      try {\n          executor = Executors.newFixedThreadPool(4);             \n          for (int i = 0; i &lt; 10; i++) {                \n              executor.submit( () -&gt; processRule(rule_queue.poll()));           \n            }\n       }   \n</code></pre>\n<p>And here is the thing: if I replace the 10 (which is in my case the count of objects in the rule_queue queue with rule_queue.size() then not all tasks will be executed.</p>\n<p>It is a very strange behaviour, for 1-2 fixedThreadPool threads it will work, but for 3 and above fixed threads will usually be only 5-7 tasks executed.</p>\n<p>The problem is the count of objects in the queue comes from the database so I can't hardcode it into the for loop.</p>\n<p>The method processRule do some database inserts/selects so I also don't want to open too many threads/connections, 4-5 SQL Selects simultaneously would be sufficient.</p>\n<p>Thanks in adavance for any help how to run all tasks and how to run 4 in parallel and put all the others (could be up to 300) to the executors queue.</p>\n<p>Edit: sorry forgot to write that after this code two additional lines are executor.shutdown() and waiting for finish.</p>\n"},{"tags":["java","string","replace","char"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650580744,"creation_date":1650558922,"answer_id":71957933,"question_id":71957744,"body_markdown":"The compiler clearly tells you that the method signature of the `replace()` doesn&#39;t match because you are a trying to pass an index `i` as the first argument. Instead, you probably wanted to pass a `String` containing a character under the index `i`. \r\n\r\n**Note** that a version of the `replace(char, char)` method that expects two character values would not be useful for that task. Because it&#39;s meant to *replace* a character with another character, and you can&#39;t remove any characters from the string with it.\r\n\r\nBut that isn&#39;t the only issue with your code.\r\n\r\nCondition `ch != &#39;a&#39; || ch !=&#39;e&#39; || ch !=&#39;i&#39;... etc.` is not correct. You should use logical `&amp;&amp;` here instead of or `||`.\r\n\r\nVariable `sentence_edited` exists only in the scope of `if`-statement where it was defined. And doesn&#39;t make sense to apply `sentence.replace(String.valueOf(ch),&quot;&quot;)` in a loop because `sentence` remains unchanged (*reminder: strings are **immutable** in Java*). And even if you would reassign the variable `sentence`, then it&#39;ll mess the order of iteration, and you&#39;ll get an incorrect result.\r\n\r\nHere is a couple of better way to approach this problem.\r\n\r\n&lt;h3&gt;replaceAll()&lt;/h3&gt;\r\n\r\nYou can remove all characters except vowels in one line by making use of [`replaceAll()` ](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)) method:\r\n```\r\nString sentence = sentence.replaceAll(&quot;[^aeiou]&quot;, &quot;&quot;);\r\n```\r\n\r\nThis method expects a *regular expression* as the first argument ([*for more information on regular expressions, take a look at this tutorial*](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html))\r\n\r\n&lt;h3&gt;StringBuilder &amp; Set&lt;/h3&gt;\r\n\r\nIf for some reason you need to utilize a loop for that purpose, you can define a `Set` containing all vowels or a `String` as shown below if you&#39;re not comfortable with collections. And check every character in the user input against the set of vowels.\r\n\r\nAll characters that will pass the condition will get appended to the instance of `StringBuilder`, which represents a *mutable string* in Java. You can easily transform it into a `String` by invoking `toString()` on it.\r\n```\r\nString sentence = sc.nextLine();\r\nStringBuilder sentenceEdited = new StringBuilder();\r\n\r\nString vowels = &quot;aeiou&quot;; // or Set&lt;Character&gt; vowels = Set.of(&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;);\r\n        \r\nfor (int i= 0; i &lt; sentence.length(); i++) {\r\n    char ch = sentence.charAt(i);\r\n    if (vowels.contains(String.valueOf(ch))) {\r\n        sentenceEdited.append(ch);\r\n    }\r\n}\r\nSystem.out.println(sentenceEdited);\r\n```\r\n","title":"How to remove characters from the String","body":"<p>The compiler clearly tells you that the method signature of the <code>replace()</code> doesn't match because you are a trying to pass an index <code>i</code> as the first argument. Instead, you probably wanted to pass a <code>String</code> containing a character under the index <code>i</code>.</p>\n<p><strong>Note</strong> that a version of the <code>replace(char, char)</code> method that expects two character values would not be useful for that task. Because it's meant to <em>replace</em> a character with another character, and you can't remove any characters from the string with it.</p>\n<p>But that isn't the only issue with your code.</p>\n<p>Condition <code>ch != 'a' || ch !='e' || ch !='i'... etc.</code> is not correct. You should use logical <code>&amp;&amp;</code> here instead of or <code>||</code>.</p>\n<p>Variable <code>sentence_edited</code> exists only in the scope of <code>if</code>-statement where it was defined. And doesn't make sense to apply <code>sentence.replace(String.valueOf(ch),&quot;&quot;)</code> in a loop because <code>sentence</code> remains unchanged (<em>reminder: strings are <strong>immutable</strong> in Java</em>). And even if you would reassign the variable <code>sentence</code>, then it'll mess the order of iteration, and you'll get an incorrect result.</p>\n<p>Here is a couple of better way to approach this problem.</p>\n<h3>replaceAll()</h3>\n<p>You can remove all characters except vowels in one line by making use of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceAll()</code> </a> method:</p>\n<pre><code>String sentence = sentence.replaceAll(&quot;[^aeiou]&quot;, &quot;&quot;);\n</code></pre>\n<p>This method expects a <em>regular expression</em> as the first argument (<a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\"><em>for more information on regular expressions, take a look at this tutorial</em></a>)</p>\n<h3>StringBuilder & Set</h3>\n<p>If for some reason you need to utilize a loop for that purpose, you can define a <code>Set</code> containing all vowels or a <code>String</code> as shown below if you're not comfortable with collections. And check every character in the user input against the set of vowels.</p>\n<p>All characters that will pass the condition will get appended to the instance of <code>StringBuilder</code>, which represents a <em>mutable string</em> in Java. You can easily transform it into a <code>String</code> by invoking <code>toString()</code> on it.</p>\n<pre><code>String sentence = sc.nextLine();\nStringBuilder sentenceEdited = new StringBuilder();\n\nString vowels = &quot;aeiou&quot;; // or Set&lt;Character&gt; vowels = Set.of('a', 'e', 'i', 'o', 'u');\n        \nfor (int i= 0; i &lt; sentence.length(); i++) {\n    char ch = sentence.charAt(i);\n    if (vowels.contains(String.valueOf(ch))) {\n        sentenceEdited.append(ch);\n    }\n}\nSystem.out.println(sentenceEdited);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650559132,"creation_date":1650559132,"answer_id":71957975,"question_id":71957744,"body_markdown":"There are two variants of `String.replace`:\r\n1. `String String.replace(char, char)`\r\n2. `String String.replace(CharSequence, CharSequence)`\r\n\r\nYour code tries to call something like `String.replace(int, CharSequence)`, but such a method does not exist.\r\nString does not have a method to replace the `char` at position n. \r\n\r\nI suggest that you put your `String` into a `StringBuilder` first and then use `StringBuilder.deleteCharAt(int)`. Finally you get a `String` out of the cleaned `StringBuilder` with its `.toString()` method.\r\n","title":"How to remove characters from the String","body":"<p>There are two variants of <code>String.replace</code>:</p>\n<ol>\n<li><code>String String.replace(char, char)</code></li>\n<li><code>String String.replace(CharSequence, CharSequence)</code></li>\n</ol>\n<p>Your code tries to call something like <code>String.replace(int, CharSequence)</code>, but such a method does not exist.\nString does not have a method to replace the <code>char</code> at position n.</p>\n<p>I suggest that you put your <code>String</code> into a <code>StringBuilder</code> first and then use <code>StringBuilder.deleteCharAt(int)</code>. Finally you get a <code>String</code> out of the cleaned <code>StringBuilder</code> with its <code>.toString()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":15444398,"reputation":31,"user_id":11141875,"display_name":"Samir Maliqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650559297,"creation_date":1650559297,"answer_id":71958007,"question_id":71957744,"body_markdown":"Hmm... Here is your code with few fixes. You need to check if we are dealing with any of the vowels instead (== and not !=) and also no additional string is required.\r\n\r\n    int count = 0;\r\n        System.out.println(&quot;Enter a sentence :&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        String sentence = sc.nextLine();\r\n        \r\n        for (int i= 0; i &lt; sentence.length(); i ++)\r\n        {\r\n            char ch = sentence.charAt(i);\r\n            if (ch == &#39;a&#39; || ch == &#39;e&#39; || ch == &#39;i&#39; || ch == &#39;0&#39; || ch == &#39;u&#39; ) {\r\n                sentence = sentence.substring(0, i) + sentence.substring(i+1);\r\n            }\r\n        }\r\n        System.out.println(sentence);","title":"How to remove characters from the String","body":"<p>Hmm... Here is your code with few fixes. You need to check if we are dealing with any of the vowels instead (== and not !=) and also no additional string is required.</p>\n<pre><code>int count = 0;\n    System.out.println(&quot;Enter a sentence :&quot;);\n    Scanner sc = new Scanner(System.in);\n    String sentence = sc.nextLine();\n    \n    for (int i= 0; i &lt; sentence.length(); i ++)\n    {\n        char ch = sentence.charAt(i);\n        if (ch == 'a' || ch == 'e' || ch == 'i' || ch == '0' || ch == 'u' ) {\n            sentence = sentence.substring(0, i) + sentence.substring(i+1);\n        }\n    }\n    System.out.println(sentence);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650559380,"creation_date":1650559380,"answer_id":71958024,"question_id":71957744,"body_markdown":"A String is an immutable object. If you need to manipulate it, then you should use a `StringBuilder`. \r\n\r\nThe problem with your code is that you&#39;re attempting to pass the `int i` to the `replace` method which accepts two characters not an int and a character. The method replaces every occurrence of the first character passed with the second one, which is not what you want. What you&#39;re trying to do is to replace the character at position i with an empty String which is wrong again as an empty String is not a character. Besides, the condition to make sure that only vowels can stay should be made with &amp;&amp; not with ||. Finally, your &#39;o&#39; character is actually a &#39;0&#39;.\r\n\r\nThis is a fixed version of your code using a StringBuilder.\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        int count = 0;\r\n        System.out.println(&quot;Enter a sentence :&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        String sentence = sc.nextLine();\r\n\r\n        StringBuilder strBuilder = new StringBuilder(sentence);\r\n\r\n        for (int i = 0; i &lt; strBuilder.length(); i++) {\r\n            char ch = strBuilder.charAt(i);\r\n            if (ch != &#39;a&#39; &amp;&amp; ch != &#39;e&#39; &amp;&amp; ch != &#39;i&#39; &amp;&amp; ch != &#39;o&#39; &amp;&amp; ch != &#39;u&#39;) {\r\n                //Remove the current not-vowel\r\n                strBuilder.deleteCharAt(i);\r\n                \r\n                //decreasing the index i so that previous i+1 letter, which is now in position i, won&#39;t be skipped in the next iteration since i will be incremented at the end of this one\r\n                i--;\r\n            }\r\n        }\r\n        \r\n        String sentence_edited = strBuilder.toString();\r\n        System.out.println(sentence_edited);\r\n    }\r\n}\r\n```","title":"How to remove characters from the String","body":"<p>A String is an immutable object. If you need to manipulate it, then you should use a <code>StringBuilder</code>.</p>\n<p>The problem with your code is that you're attempting to pass the <code>int i</code> to the <code>replace</code> method which accepts two characters not an int and a character. The method replaces every occurrence of the first character passed with the second one, which is not what you want. What you're trying to do is to replace the character at position i with an empty String which is wrong again as an empty String is not a character. Besides, the condition to make sure that only vowels can stay should be made with &amp;&amp; not with ||. Finally, your 'o' character is actually a '0'.</p>\n<p>This is a fixed version of your code using a StringBuilder.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int count = 0;\n        System.out.println(&quot;Enter a sentence :&quot;);\n        Scanner sc = new Scanner(System.in);\n        String sentence = sc.nextLine();\n\n        StringBuilder strBuilder = new StringBuilder(sentence);\n\n        for (int i = 0; i &lt; strBuilder.length(); i++) {\n            char ch = strBuilder.charAt(i);\n            if (ch != 'a' &amp;&amp; ch != 'e' &amp;&amp; ch != 'i' &amp;&amp; ch != 'o' &amp;&amp; ch != 'u') {\n                //Remove the current not-vowel\n                strBuilder.deleteCharAt(i);\n                \n                //decreasing the index i so that previous i+1 letter, which is now in position i, won't be skipped in the next iteration since i will be incremented at the end of this one\n                i--;\n            }\n        }\n        \n        String sentence_edited = strBuilder.toString();\n        System.out.println(sentence_edited);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24942755,"reputation":47,"user_id":18808414,"display_name":"Ruslan Pylypyuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1650580744,"creation_date":1650558022,"question_id":71957744,"body_markdown":"I want to delete all letters except **vowels** from the string entered by user.\r\n\r\nI used this code:\r\n```\r\nSystem.out.println(&quot;Enter a sentence :&quot;);\r\nScanner sc = new Scanner(System.in);\r\nString sentence = sc.nextLine();\r\n    \t\t\r\nfor (int i= 0; i &lt; sentence.length(); i ++) {\r\n\tchar ch = sentence.charAt(i);\r\n\tif (ch != &#39;a&#39; || ch !=&#39;e&#39; || ch !=&#39;i&#39; || ch != &#39;0&#39; || ch != &#39;u&#39; ) {\r\n\t\tString sentence_edited = sentence.replace(i,&quot;&quot;);\r\n\t}\r\n}\r\nSystem.out.println(sentence_edited);\r\n```\r\nBut it gives a [compilation error][1].\r\n\r\n\r\nHow could I fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jEKTc.png","title":"How to remove characters from the String","body":"<p>I want to delete all letters except <strong>vowels</strong> from the string entered by user.</p>\n<p>I used this code:</p>\n<pre><code>System.out.println(&quot;Enter a sentence :&quot;);\nScanner sc = new Scanner(System.in);\nString sentence = sc.nextLine();\n            \nfor (int i= 0; i &lt; sentence.length(); i ++) {\n    char ch = sentence.charAt(i);\n    if (ch != 'a' || ch !='e' || ch !='i' || ch != '0' || ch != 'u' ) {\n        String sentence_edited = sentence.replace(i,&quot;&quot;);\n    }\n}\nSystem.out.println(sentence_edited);\n</code></pre>\n<p>But it gives a <a href=\"https://i.stack.imgur.com/jEKTc.png\" rel=\"nofollow noreferrer\">compilation error</a>.</p>\n<p>How could I fix it?</p>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1650576031,"post_id":71960881,"comment_id":127158005,"body_markdown":"&quot;Wire format negotiation timeout&quot; is not a message from Jetty or it&#39;s HttpClient.  Looks like an activemq specific message that occurs after the connection is established and request has been sent.","body":"&quot;Wire format negotiation timeout&quot; is not a message from Jetty or it&#39;s HttpClient.  Looks like an activemq specific message that occurs after the connection is established and request has been sent."},{"owner":{"account_id":14419178,"reputation":1,"user_id":10415751,"display_name":"Yuvi"},"score":0,"creation_date":1650577946,"post_id":71960881,"comment_id":127158445,"body_markdown":"But I am seeing the next message as Connection reset, attempting to automatically reconnect","body":"But I am seeing the next message as Connection reset, attempting to automatically reconnect"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1650585969,"post_id":71960881,"comment_id":127159744,"body_markdown":"How is Jetty involved here?","body":"How is Jetty involved here?"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1650628869,"post_id":71960881,"comment_id":127170032,"body_markdown":"&quot;attempting to automatically reconnect&quot; is also not a message from Jetty&#39;s HttpClient, nor is it a technique that Jetty&#39;s HttpClient implements (that&#39;s an application specific behavior)","body":"&quot;attempting to automatically reconnect&quot; is also not a message from Jetty&#39;s HttpClient, nor is it a technique that Jetty&#39;s HttpClient implements (that&#39;s an application specific behavior)"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650580741,"creation_date":1650580741,"answer_id":71961596,"question_id":71960881,"body_markdown":"The error message tells you exactly what the problem is:\r\n```\r\nExceeded the maximum number of allowed client connections. See the &#39;maximumConnections&#39; property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml)\r\n```\r\nIt even tells you what the connector&#39;s configuration is, i.e.:\r\n```\r\ntcp://0.0.0.0:61616?maximumConnections=1000&amp;wireformat.maxFrameSize=104857600\r\n```\r\nNotice that the it&#39;s using `maximumConnections=1000`. If you want to allow more connections than `1000` then you should change this configuration.","title":"Exceeded the maximum number of allowed client connections in ActiveMQ","body":"<p>The error message tells you exactly what the problem is:</p>\n<pre><code>Exceeded the maximum number of allowed client connections. See the 'maximumConnections' property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml)\n</code></pre>\n<p>It even tells you what the connector's configuration is, i.e.:</p>\n<pre><code>tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireformat.maxFrameSize=104857600\n</code></pre>\n<p>Notice that the it's using <code>maximumConnections=1000</code>. If you want to allow more connections than <code>1000</code> then you should change this configuration.</p>\n"}],"owner":{"account_id":14419178,"reputation":1,"user_id":10415751,"display_name":"Yuvi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650580741,"creation_date":1650575226,"question_id":71960881,"body_markdown":"I am facing this issue for ActiveMQ Master/Slave config where the client nodes are not able to make connection to Master ActiveMQ node.\r\n\r\nIn the master ActiveMQ node I am seeing the error as:\r\n```\r\nERROR | Could not accept connection : org.apache.activemq.transport.tcp.ExceededMaximumConnectionsException: Exceeded the maximum number of allowed client connections. See the &#39;maximumConnections&#39; property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml) | org.apache.activemq.broker.TransportConnector | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireformat.maxFrameSize=104857600&quot;\r\n```\r\nWhere as on the client node, the Jetty process is showing the below message in the logs:\r\n```\r\nTransport (tcp://xxx.xxxx.xxxx.xxxxxxxx:61616) failed, reason:  java.io.IOException: Wire format negotiation timeout: peer did not send his wire format., attempting to automatically reconnect\r\n```\r\n```\r\nTransport (tcp://xxx.xxx.xxx.xxxxxx:61616) failed, reason:  java.net.SocketException: Connection reset, attempting to automatically reconnect\r\n```","title":"Exceeded the maximum number of allowed client connections in ActiveMQ","body":"<p>I am facing this issue for ActiveMQ Master/Slave config where the client nodes are not able to make connection to Master ActiveMQ node.</p>\n<p>In the master ActiveMQ node I am seeing the error as:</p>\n<pre><code>ERROR | Could not accept connection : org.apache.activemq.transport.tcp.ExceededMaximumConnectionsException: Exceeded the maximum number of allowed client connections. See the 'maximumConnections' property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml) | org.apache.activemq.broker.TransportConnector | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireformat.maxFrameSize=104857600&quot;\n</code></pre>\n<p>Where as on the client node, the Jetty process is showing the below message in the logs:</p>\n<pre><code>Transport (tcp://xxx.xxxx.xxxx.xxxxxxxx:61616) failed, reason:  java.io.IOException: Wire format negotiation timeout: peer did not send his wire format., attempting to automatically reconnect\n</code></pre>\n<pre><code>Transport (tcp://xxx.xxx.xxx.xxxxxx:61616) failed, reason:  java.net.SocketException: Connection reset, attempting to automatically reconnect\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1616147992,"post_id":66702185,"comment_id":117917352,"body_markdown":"why would you call block in a `non-blocking framework`?","body":"why would you call block in a <code>non-blocking framework</code>?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1616190071,"post_id":66702185,"comment_id":117934860,"body_markdown":"Wtih `block` you are breaking the reactive pipeline/chain and the context can&#39;t be propagated that way. Context is propgated through subscription.","body":"Wtih <code>block</code> you are breaking the reactive pipeline/chain and the context can&#39;t be propagated that way. Context is propgated through subscription."},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1616197886,"post_id":66702185,"comment_id":117936583,"body_markdown":"Why is the `.block()` method available and when is it allowed then?","body":"Why is the <code>.block()</code> method available and when is it allowed then?"}],"answers":[{"tags":[],"owner":{"account_id":6922345,"reputation":1256,"user_id":5314546,"display_name":"Adam Bickford"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616537109,"creation_date":1616537109,"answer_id":66771978,"question_id":66702185,"body_markdown":"You&#39;re going to want Spring to handle this as &#39;realistically&#39; as possible. Create a test and use the `WebTestClient`. (Don&#39;t call `.block()` **ever** or you&#39;ll DoS your server w/a half dozen users. Don&#39;t inject/call your controller methods directly, you need all the proxies, filters, etc.)\r\n\r\nThis is kotlin but you should be able to figure it out:\r\n\r\n```\r\n@SpringBootApplication\r\nclass WebfluxScratchpadApplication {\r\n    @Bean\r\n    fun filter(): WebFilter = WebFilter { serverWebExchange, webFilterChain -&gt;\r\n        webFilterChain.filter(serverWebExchange)\r\n            .contextWrite {\r\n                it.put(&quot;myContextKey&quot;, &quot;!!&quot;)\r\n            }\r\n    }\r\n}\r\n\r\n@RestController\r\nclass MyController {\r\n    @GetMapping(&quot;/foo&quot;)\r\n    fun foo() = Mono.just(&quot;foo&quot;)\r\n        .flatMap { s -&gt;\r\n            Mono.deferContextual { ctx -&gt;\r\n                Mono.just(String.format(&quot;%s%s&quot;, s, ctx[&quot;myContextKey&quot;]))\r\n            }\r\n        }\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    runApplication&lt;WebfluxScratchpadApplication&gt;(*args)\r\n}\r\n\r\n@WebFluxTest\r\nclass WebfluxScratchpadApplicationTests {\r\n\r\n    @Autowired\r\n    lateinit var client: WebTestClient\r\n\r\n    @Test\r\n    fun stuff() {\r\n        Assertions.assertEquals(\r\n            &quot;foo!!&quot;,\r\n            client.get()\r\n                .uri(&quot;/foo&quot;)\r\n                .exchange()\r\n                .expectBody&lt;String&gt;()\r\n                .returnResult()\r\n                .responseBody!!\r\n        )\r\n    }\r\n}\r\n\r\n\r\n```","title":"Why is reactor context throwing &quot;Context does not contain key&quot; when .block() is called?","body":"<p>You're going to want Spring to handle this as 'realistically' as possible. Create a test and use the <code>WebTestClient</code>. (Don't call <code>.block()</code> <strong>ever</strong> or you'll DoS your server w/a half dozen users. Don't inject/call your controller methods directly, you need all the proxies, filters, etc.)</p>\n<p>This is kotlin but you should be able to figure it out:</p>\n<pre><code>@SpringBootApplication\nclass WebfluxScratchpadApplication {\n    @Bean\n    fun filter(): WebFilter = WebFilter { serverWebExchange, webFilterChain -&gt;\n        webFilterChain.filter(serverWebExchange)\n            .contextWrite {\n                it.put(&quot;myContextKey&quot;, &quot;!!&quot;)\n            }\n    }\n}\n\n@RestController\nclass MyController {\n    @GetMapping(&quot;/foo&quot;)\n    fun foo() = Mono.just(&quot;foo&quot;)\n        .flatMap { s -&gt;\n            Mono.deferContextual { ctx -&gt;\n                Mono.just(String.format(&quot;%s%s&quot;, s, ctx[&quot;myContextKey&quot;]))\n            }\n        }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;WebfluxScratchpadApplication&gt;(*args)\n}\n\n@WebFluxTest\nclass WebfluxScratchpadApplicationTests {\n\n    @Autowired\n    lateinit var client: WebTestClient\n\n    @Test\n    fun stuff() {\n        Assertions.assertEquals(\n            &quot;foo!!&quot;,\n            client.get()\n                .uri(&quot;/foo&quot;)\n                .exchange()\n                .expectBody&lt;String&gt;()\n                .returnResult()\n                .responseBody!!\n        )\n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139814,"reputation":16844,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650580611,"creation_date":1650580611,"answer_id":71961584,"question_id":66702185,"body_markdown":"When you call .block(), that line is subscribed to and evaluated immediately, without any connection to the context provided in the outer chain. When you return without .block, it becomes part of the larger chain which has the context, and isn&#39;t evaluated until something subscribes to the outer chain at which time the context is available.","title":"Why is reactor context throwing &quot;Context does not contain key&quot; when .block() is called?","body":"<p>When you call .block(), that line is subscribed to and evaluated immediately, without any connection to the context provided in the outer chain. When you return without .block, it becomes part of the larger chain which has the context, and isn't evaluated until something subscribes to the outer chain at which time the context is available.</p>\n"}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71961584,"answer_count":2,"score":1,"last_activity_date":1650580611,"creation_date":1616124888,"question_id":66702185,"body_markdown":"I have a `WebFilter` that injects a context\r\n\r\n    public class MyWebFilter implements WebFilter {\r\n      @Override\r\n      public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n        return chain.filter(exchange)\r\n          .contextWrite(ctx -&gt; ctx.put(&quot;context&quot;, &quot;some-context&quot;));\r\n      }\r\n    }\r\n\r\nIn my Controller, I can read it and return it successfully\r\n\r\n    @RestController\r\n    public class MyController {\r\n      @GetMapping(path = &quot;test&quot;)\r\n      public Mono&lt;String&gt; test() {\r\n        return Mono.deferContextual(ctx -&gt; Mono.just(ctx.get(&quot;context&quot;)));\r\n      }\r\n    }\r\n\r\nHowever, if I call `.block()` on it:\r\n\r\n    Mono.deferContextual(ctx -&gt; Mono.just(ctx.get(&quot;context&quot;))).block();\r\n\r\nit throws this exception\r\n\r\n&gt; java.util.NoSuchElementException: Context does not contain key: context\r\n\r\nI&#39;m having trouble wrapping my head around the order of execution in the reactive world.\r\n\r\n\r\n\r\n\r\n","title":"Why is reactor context throwing &quot;Context does not contain key&quot; when .block() is called?","body":"<p>I have a <code>WebFilter</code> that injects a context</p>\n<pre><code>public class MyWebFilter implements WebFilter {\n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return chain.filter(exchange)\n      .contextWrite(ctx -&gt; ctx.put(&quot;context&quot;, &quot;some-context&quot;));\n  }\n}\n</code></pre>\n<p>In my Controller, I can read it and return it successfully</p>\n<pre><code>@RestController\npublic class MyController {\n  @GetMapping(path = &quot;test&quot;)\n  public Mono&lt;String&gt; test() {\n    return Mono.deferContextual(ctx -&gt; Mono.just(ctx.get(&quot;context&quot;)));\n  }\n}\n</code></pre>\n<p>However, if I call <code>.block()</code> on it:</p>\n<pre><code>Mono.deferContextual(ctx -&gt; Mono.just(ctx.get(&quot;context&quot;))).block();\n</code></pre>\n<p>it throws this exception</p>\n<blockquote>\n<p>java.util.NoSuchElementException: Context does not contain key: context</p>\n</blockquote>\n<p>I'm having trouble wrapping my head around the order of execution in the reactive world.</p>\n"},{"tags":["java","docker","elasticsearch","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590780189,"creation_date":1590042985,"answer_id":61928670,"question_id":61913787,"body_markdown":"I&#39;m doing it wrong. `withExposedPorts` allows us to expose ports from the container’s perspective (which I don’t need to do in this case since ElasticContainer already exposes an http port (9200) and a tcp port (9300)).\r\n\r\nTo find out the random port on the host (on which the test runs) that these ports were mapped, call getMappedPort(9200) or in the case of ElasticContainer to get the host:port you call getHttpHostAddress().\r\n\r\nMore info here: https://www.testcontainers.org/features/networking/\r\n\r\nBottom line, change the init to:\r\n\r\n    static ElasticsearchContainer esContainer =\r\n    \tnew ElasticsearchContainer(&quot;docker.elastic.co/elasticsearch/elasticsearch:7.6.2&quot;)\r\n    \t\t\t.withEnv(&quot;discovery.type&quot;, &quot;single-node&quot;);\r\n\r\nGet the port by:\r\n\r\n    int containerPort = esContainer.getMappedPort(9200);\r\n\r\nP.S.\r\nAbout the schema - I still don&#39;t know but looks like testContainer runs on https..","title":"Run ES docker image with custom port using testcontainers","body":"<p>I'm doing it wrong. <code>withExposedPorts</code> allows us to expose ports from the container’s perspective (which I don’t need to do in this case since ElasticContainer already exposes an http port (9200) and a tcp port (9300)).</p>\n\n<p>To find out the random port on the host (on which the test runs) that these ports were mapped, call getMappedPort(9200) or in the case of ElasticContainer to get the host:port you call getHttpHostAddress().</p>\n\n<p>More info here: <a href=\"https://www.testcontainers.org/features/networking/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/features/networking/</a></p>\n\n<p>Bottom line, change the init to:</p>\n\n<pre><code>static ElasticsearchContainer esContainer =\n    new ElasticsearchContainer(\"docker.elastic.co/elasticsearch/elasticsearch:7.6.2\")\n            .withEnv(\"discovery.type\", \"single-node\");\n</code></pre>\n\n<p>Get the port by:</p>\n\n<pre><code>int containerPort = esContainer.getMappedPort(9200);\n</code></pre>\n\n<p>P.S.\nAbout the schema - I still don't know but looks like testContainer runs on https..</p>\n"},{"tags":[],"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1617275359,"creation_date":1617275359,"answer_id":66903429,"question_id":61913787,"body_markdown":"If you want to specify a port instead of using a random one, you can do it with this:\r\n\r\n    static final MySQLContainer&lt;?&gt; mysql =\r\n        new MySQLContainer&lt;&gt;(&quot;mysql:5.6&quot;)\r\n            .withExposedPorts(34343)\r\n            .withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\r\n                new HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(34343), new ExposedPort(3306)))\r\n            ));\r\n\r\n ","title":"Run ES docker image with custom port using testcontainers","body":"<p>If you want to specify a port instead of using a random one, you can do it with this:</p>\n<pre><code>static final MySQLContainer&lt;?&gt; mysql =\n    new MySQLContainer&lt;&gt;(&quot;mysql:5.6&quot;)\n        .withExposedPorts(34343)\n        .withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\n            new HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(34343), new ExposedPort(3306)))\n        ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1818501,"reputation":159,"user_id":1653102,"display_name":"wizardInCloud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626456776,"creation_date":1626456776,"answer_id":68413118,"question_id":61913787,"body_markdown":"You just need to bind a specific ports, this is since the generic container implementation binds a free random one by default\r\n\r\n\t\tList&lt;String&gt; portBindings = container.getPortBindings();\r\n\t\tportBindings.add(String.format(&quot;%d:%d/%s&quot;, ES_PORT_HOST, ES_PORT_CONTAINER, InternetProtocol.TCP));\r\n\t\tcontainer.setPortBindings(portBindings);\r\n\r\n         // or just in one line if no previous binding required\r\n         // container.setPortBindings(List.of(String.format(&quot;%d:%d/%s&quot;, ES_PORT_HOST, ES_PORT_CONTAINER, InternetProtocol.TCP)));","title":"Run ES docker image with custom port using testcontainers","body":"<p>You just need to bind a specific ports, this is since the generic container implementation binds a free random one by default</p>\n<pre><code>    List&lt;String&gt; portBindings = container.getPortBindings();\n    portBindings.add(String.format(&quot;%d:%d/%s&quot;, ES_PORT_HOST, ES_PORT_CONTAINER, InternetProtocol.TCP));\n    container.setPortBindings(portBindings);\n\n     // or just in one line if no previous binding required\n     // container.setPortBindings(List.of(String.format(&quot;%d:%d/%s&quot;, ES_PORT_HOST, ES_PORT_CONTAINER, InternetProtocol.TCP)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650579704,"creation_date":1650579704,"answer_id":71961493,"question_id":61913787,"body_markdown":"I was able to get it working as below. I have to set 9200 for withExposedPorts()\r\n\r\n    container = new ElasticsearchContainer(ELASTICSEARCH_IMAGE)\r\n\t\t\t\t.withEnv(&quot;discovery.type&quot;, &quot;single-node&quot;)\r\n\t\t\t\t.withExposedPorts(9200)     \r\n\t\t\t\t.withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\r\n\t\t\t\t\t\t\tnew HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(34343), new ExposedPort(9200)))));\r\n\r\n\r\nHere is the log:\r\n\r\n     org.elasticsearch.client.RestClient - request [GET http://localhost:34343/] returned 1 warnings\r\n\r\n","title":"Run ES docker image with custom port using testcontainers","body":"<p>I was able to get it working as below. I have to set 9200 for withExposedPorts()</p>\n<pre><code>container = new ElasticsearchContainer(ELASTICSEARCH_IMAGE)\n            .withEnv(&quot;discovery.type&quot;, &quot;single-node&quot;)\n            .withExposedPorts(9200)     \n            .withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\n                        new HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(34343), new ExposedPort(9200)))));\n</code></pre>\n<p>Here is the log:</p>\n<pre><code> org.elasticsearch.client.RestClient - request [GET http://localhost:34343/] returned 1 warnings\n</code></pre>\n"}],"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2620,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66903429,"answer_count":4,"score":4,"last_activity_date":1650579704,"creation_date":1589979661,"question_id":61913787,"body_markdown":"I want to run a container tests that running ES image via Docker.\r\nAfter some research I found https://www.testcontainers.org/ and they also have a built-it [ES module][1].\r\n\r\nBecause my development environment using ES in ports 9200 and 9300 I prefer to use another ports for my tests, let’s say 1200 and 1300.\r\nTherefore, to run the docker image from CLI I use this command:\r\n\r\n`docker run -p 1200:9200 -p 1300:9300 -e &quot;discovery.type=single-node&quot; docker.elastic.co/elasticsearch/elasticsearch:7.6.2`\r\n\r\nI tried to do it with testcontainers, for example:\r\n\r\n    static ElasticsearchContainer esContainer =\r\n    \t\tnew ElasticsearchContainer(&quot;docker.elastic.co/elasticsearch/elasticsearch:7.6.2&quot;)\r\n    \t\t\t\t.withExposedPorts(1200, 9200)\r\n    \t\t\t\t.withExposedPorts(1300, 9300)\r\n    \t\t\t\t.withEnv(&quot;discovery.type&quot;, &quot;single-node&quot;);\r\n    \t\t\t\t// .waitingFor(Wait.forHttp(&quot;/&quot;)); // Wait until elastic start – cause an error\r\n    \r\n    @BeforeClass\r\n    public static void initEsDockerImage() {\r\n    \tesContainer.start();\r\n    \tesContainer.isRunning();\r\n    }\r\n\r\nbreakpoint in esContainer.isRunning():\r\n\r\n**port is 32384**, run `esContainer.getHttpHostAddress()` return localhost/127.0.0.1:32847 and also from docker dashboard:\r\nAnyway, **failed to make ES connection with both** (1200 and 32384).\r\n\r\nrun the start() line with the `**waitingFor**` command throws **`Container startup failed` error**\r\n\r\nAnother question, **how can I know the schema** (http or https) in testcontainers?\r\n\r\n  [1]: https://www.testcontainers.org/modules/elasticsearch/","title":"Run ES docker image with custom port using testcontainers","body":"<p>I want to run a container tests that running ES image via Docker.\nAfter some research I found <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/</a> and they also have a built-it <a href=\"https://www.testcontainers.org/modules/elasticsearch/\" rel=\"nofollow noreferrer\">ES module</a>.</p>\n\n<p>Because my development environment using ES in ports 9200 and 9300 I prefer to use another ports for my tests, let’s say 1200 and 1300.\nTherefore, to run the docker image from CLI I use this command:</p>\n\n<p><code>docker run -p 1200:9200 -p 1300:9300 -e \"discovery.type=single-node\" docker.elastic.co/elasticsearch/elasticsearch:7.6.2</code></p>\n\n<p>I tried to do it with testcontainers, for example:</p>\n\n<pre><code>static ElasticsearchContainer esContainer =\n        new ElasticsearchContainer(\"docker.elastic.co/elasticsearch/elasticsearch:7.6.2\")\n                .withExposedPorts(1200, 9200)\n                .withExposedPorts(1300, 9300)\n                .withEnv(\"discovery.type\", \"single-node\");\n                // .waitingFor(Wait.forHttp(\"/\")); // Wait until elastic start – cause an error\n\n@BeforeClass\npublic static void initEsDockerImage() {\n    esContainer.start();\n    esContainer.isRunning();\n}\n</code></pre>\n\n<p>breakpoint in esContainer.isRunning():</p>\n\n<p><strong>port is 32384</strong>, run <code>esContainer.getHttpHostAddress()</code> return localhost/127.0.0.1:32847 and also from docker dashboard:\nAnyway, <strong>failed to make ES connection with both</strong> (1200 and 32384).</p>\n\n<p>run the start() line with the <code>**waitingFor**</code> command throws <strong><code>Container startup failed</code> error</strong></p>\n\n<p>Another question, <strong>how can I know the schema</strong> (http or https) in testcontainers?</p>\n"},{"tags":["java","windows","icons","file-icons"],"comments":[{"owner":{"account_id":11278174,"reputation":219,"user_id":8271644,"display_name":"user8271644"},"score":0,"creation_date":1500946948,"post_id":45292500,"comment_id":77547138,"body_markdown":"This question has been asked before ,here is the link https://stackoverflow.com/questions/2428958/custom-file-type-and-icon","body":"This question has been asked before ,here is the link <a href=\"https://stackoverflow.com/questions/2428958/custom-file-type-and-icon\" title=\"custom file type and icon\">stackoverflow.com/questions/2428958/custom-file-type-and-ico&zwnj;&#8203;n</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1500946971,"post_id":45292500,"comment_id":77547144,"body_markdown":"Definitely possibly by using **JNI** to access the **Windows-API**, done that before. However I think there are already APIs or stuff like that available... Done here in C++ using Windows API: [Setting program icon without resources using the WIN32 API](https://stackoverflow.com/questions/18314659/setting-program-icon-without-resources-using-the-win32-api)","body":"Definitely possibly by using <b>JNI</b> to access the <b>Windows-API</b>, done that before. However I think there are already APIs or stuff like that available... Done here in C++ using Windows API: <a href=\"https://stackoverflow.com/questions/18314659/setting-program-icon-without-resources-using-the-win32-api\">Setting program icon without resources using the WIN32 API</a>"},{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":1,"creation_date":1500947029,"post_id":45292500,"comment_id":77547156,"body_markdown":"Possible duplicate of [Custom file type and icon](https://stackoverflow.com/questions/2428958/custom-file-type-and-icon)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2428958/custom-file-type-and-icon\">Custom file type and icon</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1500947037,"post_id":45292500,"comment_id":77547161,"body_markdown":"@user8271644 No, it&#39;s not the same question.  That one is all about having an icon for a file type.  This one is about doing it on a file-by-file basis.","body":"@user8271644 No, it&#39;s not the same question.  That one is all about having an icon for a file type.  This one is about doing it on a file-by-file basis."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1500947194,"post_id":45292500,"comment_id":77547195,"body_markdown":"My understanding is that in Windows, you can set the icon for any shortcut, including a folder shortcut, and you can set it for EXE and DLL files, and you can set it per-type for any other file type; but you can&#39;t set it for individual non-shortcut files other than EXE and DLL.  It may be possible in other operating systems.  In any case, the answer to this question is sure to be operating system dependent.","body":"My understanding is that in Windows, you can set the icon for any shortcut, including a folder shortcut, and you can set it for EXE and DLL files, and you can set it per-type for any other file type; but you can&#39;t set it for individual non-shortcut files other than EXE and DLL.  It may be possible in other operating systems.  In any case, the answer to this question is sure to be operating system dependent."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1500947656,"post_id":45292500,"comment_id":77547318,"body_markdown":"@Zabuza How can you be sure that Gerry is asking about Windows?  I voted to reject your edit, because you _may_ be changing the intention of the question.","body":"@Zabuza How can you be sure that Gerry is asking about Windows?  I voted to reject your edit, because you <i>may</i> be changing the intention of the question."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1500948163,"post_id":45292500,"comment_id":77547452,"body_markdown":"I guessed from &quot;*Microsoft word documents*&quot; but you could be right. OP please clarify which system you are talking about.","body":"I guessed from &quot;<i>Microsoft word documents</i>&quot; but you could be right. OP please clarify which system you are talking about."}],"owner":{"account_id":9930102,"reputation":15,"user_id":7350391,"display_name":"Gerry Straatsma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650579683,"creation_date":1500946736,"question_id":45292500,"body_markdown":"I am making a program that stores information in a file with a custom extension. I was wondering If it is possible to assign it an icon within the program so that the icon will show the file with the icon anywhere on the computer? For example how all Microsoft word documents have the word icon.","title":"How to assign an icon to a file?","body":"<p>I am making a program that stores information in a file with a custom extension. I was wondering If it is possible to assign it an icon within the program so that the icon will show the file with the icon anywhere on the computer? For example how all Microsoft word documents have the word icon.</p>\n"},{"tags":["java","android-studio","admob"],"answers":[{"tags":[],"owner":{"account_id":22476912,"reputation":29,"user_id":16676504,"display_name":"Siddharth Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650529809,"creation_date":1650529809,"answer_id":71951233,"question_id":71947329,"body_markdown":"You can launch your another screen in onUserEarnedReward.\r\n\r\n     mRewardedAd.show(this, new OnUserEarnedRewardListener() {\r\n            @Override\r\n            public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\r\n               //After handling reward, Launch your new screen from here\r\n\r\n            }\r\n        });","title":"How to open another page after rewarded ad is watched in java?","body":"<p>You can launch your another screen in onUserEarnedReward.</p>\n<pre><code> mRewardedAd.show(this, new OnUserEarnedRewardListener() {\n        @Override\n        public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\n           //After handling reward, Launch your new screen from here\n\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":20191909,"reputation":1,"user_id":14809910,"display_name":"ahmed mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1650578337,"creation_date":1650498372,"question_id":71947329,"body_markdown":"     MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n    \r\n                    loadRewardAd();\r\n                }\r\n            });\r\n          }\r\n    \r\n    private void loadRewardAd() {\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n    \r\n            RewardedAd.load(this, &quot;ca-app-pub-7826872218727678/2709094630&quot;,\r\n                    adRequest, new RewardedAdLoadCallback() {\r\n                        @Override\r\n                        public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                            // Handle the error.\r\n                            Log.d(TAG, loadAdError.getMessage());\r\n                            mRewardedAd = null;\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onAdLoaded(@NonNull RewardedAd rewardedAd) {\r\n                            mRewardedAd = rewardedAd;\r\n                            Log.d(TAG, &quot;Ad was loaded.&quot;);\r\n    \r\n                            mRewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                                @Override\r\n                                public void onAdShowedFullScreenContent() {\r\n                                    // Called when ad is shown.\r\n                                    Log.d(TAG, &quot;Ad was shown.&quot;);\r\n                                    mRewardedAd = null;\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                    // Called when ad fails to show.\r\n                                    Log.d(TAG, &quot;Ad failed to show.&quot;);\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onAdDismissedFullScreenContent() {\r\n                                    // Called when ad is dismissed.\r\n                                    // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n                                    Log.d(TAG, &quot;Ad was dismissed.&quot;);\r\n                                    loadRewardAd();\r\n                                }\r\n                            });\r\n                        }\r\n    \r\n    \r\n                    });\r\n    \r\n    \r\n        }\r\n     private void showRewardad() {\r\n    \r\n            if (mRewardedAd != null) {\r\n                mRewardedAd.show(this, new OnUserEarnedRewardListener() {\r\n                    @Override\r\n                    public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\r\n                        // Handle the reward.\r\n                        Log.d(TAG, &quot;The user earned the reward.&quot;);\r\n                        int rewardAmount = rewardItem.getAmount();\r\n                        String rewardType = rewardItem.getType();\r\n                    }\r\n                });\r\n            } else {\r\n                Log.d(TAG, &quot;The rewarded ad wasn&#39;t ready yet.&quot;);\r\n            }\r\n        }\r\n\r\n","title":"How to open another page after rewarded ad is watched in java?","body":"<pre><code> MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n\n                loadRewardAd();\n            }\n        });\n      }\n\nprivate void loadRewardAd() {\n        AdRequest adRequest = new AdRequest.Builder().build();\n\n        RewardedAd.load(this, &quot;ca-app-pub-7826872218727678/2709094630&quot;,\n                adRequest, new RewardedAdLoadCallback() {\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error.\n                        Log.d(TAG, loadAdError.getMessage());\n                        mRewardedAd = null;\n                    }\n\n                    @Override\n                    public void onAdLoaded(@NonNull RewardedAd rewardedAd) {\n                        mRewardedAd = rewardedAd;\n                        Log.d(TAG, &quot;Ad was loaded.&quot;);\n\n                        mRewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                            @Override\n                            public void onAdShowedFullScreenContent() {\n                                // Called when ad is shown.\n                                Log.d(TAG, &quot;Ad was shown.&quot;);\n                                mRewardedAd = null;\n                            }\n\n                            @Override\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                // Called when ad fails to show.\n                                Log.d(TAG, &quot;Ad failed to show.&quot;);\n                            }\n\n                            @Override\n                            public void onAdDismissedFullScreenContent() {\n                                // Called when ad is dismissed.\n                                // Set the ad reference to null so you don't show the ad a second time.\n                                Log.d(TAG, &quot;Ad was dismissed.&quot;);\n                                loadRewardAd();\n                            }\n                        });\n                    }\n\n\n                });\n\n\n    }\n private void showRewardad() {\n\n        if (mRewardedAd != null) {\n            mRewardedAd.show(this, new OnUserEarnedRewardListener() {\n                @Override\n                public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\n                    // Handle the reward.\n                    Log.d(TAG, &quot;The user earned the reward.&quot;);\n                    int rewardAmount = rewardItem.getAmount();\n                    String rewardType = rewardItem.getType();\n                }\n            });\n        } else {\n            Log.d(TAG, &quot;The rewarded ad wasn't ready yet.&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","jdb"],"answers":[{"tags":[],"owner":{"account_id":14760520,"reputation":81,"user_id":10659995,"display_name":"robwill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650577909,"creation_date":1650577909,"answer_id":71961283,"question_id":71875341,"body_markdown":"As a follow up to this question. I discovered with my team that a firewall TCP rule seemed to be the culprit. Simply put, the TCP packets for java debugging were **too large** and were automatically getting intercepted by my company&#39;s firewall. Packets for pinging and connecting via NC unix command were small enough to connect with no issue. I eventually settled on an alternative means to debug my code.","title":"JDB -connect IO.Execption with no message","body":"<p>As a follow up to this question. I discovered with my team that a firewall TCP rule seemed to be the culprit. Simply put, the TCP packets for java debugging were <strong>too large</strong> and were automatically getting intercepted by my company's firewall. Packets for pinging and connecting via NC unix command were small enough to connect with no issue. I eventually settled on an alternative means to debug my code.</p>\n"}],"owner":{"account_id":14760520,"reputation":81,"user_id":10659995,"display_name":"robwill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71961283,"answer_count":1,"score":0,"last_activity_date":1650577909,"creation_date":1649956142,"question_id":71875341,"body_markdown":"I have a java app running on a server (linux) whose ip is 10.7.185.168:8123, using this command.\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:8123 OurApplication\r\n\r\nand I try to debug it from another machine (windows) with:\r\n\r\n    jdb -connect com.sun.jdi.SocketAttach:hostname=10.7.185.168,port=8123 -dbgtrace 0x00ffffff\r\n\r\nbut this results in the following stacktrace\r\n\r\n    java.io.IOException\r\n        at jdk.jdi/com.sun.tools.jdi.VirtualMachineManagerImpl.createVirtualMachine(VirtualMachineManagerImpl.java:238)\r\n        at jdk.jdi/com.sun.tools.jdi.VirtualMachineManagerImpl.createVirtualMachine(VirtualMachineManagerImpl.java:245)\r\n        at jdk.jdi/com.sun.tools.jdi.GenericAttachingConnector.attach(GenericAttachingConnector.java:120)\r\n        at jdk.jdi/com.sun.tools.jdi.SocketAttachingConnector.attach(SocketAttachingConnector.java:83)\r\n        at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.attachTarget(VMConnection.java:519)\r\n        at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.open(VMConnection.java:328)\r\n        at jdk.jdi/com.sun.tools.example.debug.tty.Env.init(Env.java:63)\r\n        at jdk.jdi/com.sun.tools.example.debug.tty.TTY.main(TTY.java:1087)\r\n\r\nI&#39;ve seen reference to IO exception in other threads talking about failed handshakes but that doesn&#39;t seem to be the case here.\r\n\r\n- I can ping the linux server and even connect to a &quot;nc -l&quot; request with Curl so I dont think its a firewall issue.\r\n- if I netstat -tulpna | grep 8123 on the server it says that a connection was ESTABLISHED, but obviously it didn&#39;t make it back to me.\r\n- Both my local machine and the server are running JDK 11.\r\n\r\nAny ideas?","title":"JDB -connect IO.Execption with no message","body":"<p>I have a java app running on a server (linux) whose ip is 10.7.185.168:8123, using this command.</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:8123 OurApplication\n</code></pre>\n<p>and I try to debug it from another machine (windows) with:</p>\n<pre><code>jdb -connect com.sun.jdi.SocketAttach:hostname=10.7.185.168,port=8123 -dbgtrace 0x00ffffff\n</code></pre>\n<p>but this results in the following stacktrace</p>\n<pre><code>java.io.IOException\n    at jdk.jdi/com.sun.tools.jdi.VirtualMachineManagerImpl.createVirtualMachine(VirtualMachineManagerImpl.java:238)\n    at jdk.jdi/com.sun.tools.jdi.VirtualMachineManagerImpl.createVirtualMachine(VirtualMachineManagerImpl.java:245)\n    at jdk.jdi/com.sun.tools.jdi.GenericAttachingConnector.attach(GenericAttachingConnector.java:120)\n    at jdk.jdi/com.sun.tools.jdi.SocketAttachingConnector.attach(SocketAttachingConnector.java:83)\n    at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.attachTarget(VMConnection.java:519)\n    at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.open(VMConnection.java:328)\n    at jdk.jdi/com.sun.tools.example.debug.tty.Env.init(Env.java:63)\n    at jdk.jdi/com.sun.tools.example.debug.tty.TTY.main(TTY.java:1087)\n</code></pre>\n<p>I've seen reference to IO exception in other threads talking about failed handshakes but that doesn't seem to be the case here.</p>\n<ul>\n<li>I can ping the linux server and even connect to a &quot;nc -l&quot; request with Curl so I dont think its a firewall issue.</li>\n<li>if I netstat -tulpna | grep 8123 on the server it says that a connection was ESTABLISHED, but obviously it didn't make it back to me.</li>\n<li>Both my local machine and the server are running JDK 11.</li>\n</ul>\n<p>Any ideas?</p>\n"},{"tags":["java","performance","java-stream"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1650240860,"post_id":71906418,"comment_id":127063789,"body_markdown":"Use `ThreadLocalRandom`","body":"Use <code>ThreadLocalRandom</code>"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1650241324,"post_id":71906418,"comment_id":127063842,"body_markdown":"That doesn&#39;t matter, does it?","body":"That doesn&#39;t matter, does it?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1650243074,"post_id":71906418,"comment_id":127064065,"body_markdown":"Both of these benchmarks have systemic problems that mean that the results are unreliable.  Please read [How do I write a **correct** micro-benchmark in Java?](https://stackoverflow.com/questions/504103)","body":"Both of these benchmarks have systemic problems that mean that the results are unreliable.  Please read <a href=\"https://stackoverflow.com/questions/504103\">How do I write a <b>correct</b> micro-benchmark in Java?</a>"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1650271146,"post_id":71906418,"comment_id":127068804,"body_markdown":"Closing the question prevents any kind of discussion. Maybe I shouldn&#39;t have started by described it as a benchmark. It is a peculiar behaviour of the JVM. My question was wether other people see the same thing and what in the JVM could explain this behaviour. It looks wrong that a fast method can suddenly become slow.  I&#39;d like to understand what makes it slow.","body":"Closing the question prevents any kind of discussion. Maybe I shouldn&#39;t have started by described it as a benchmark. It is a peculiar behaviour of the JVM. My question was wether other people see the same thing and what in the JVM could explain this behaviour. It looks wrong that a fast method can suddenly become slow.  I&#39;d like to understand what makes it slow."},{"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"score":0,"creation_date":1650328859,"post_id":71906418,"comment_id":127083937,"body_markdown":"Same effect is on my PC. Too bad it was closed as this is really interesting. It doesnt look like any testing bias effect. Maybe you can come back with this question and more canonical benchmarking?","body":"Same effect is on my PC. Too bad it was closed as this is really interesting. It doesnt look like any testing bias effect. Maybe you can come back with this question and more canonical benchmarking?"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":1,"creation_date":1650668754,"post_id":71906418,"comment_id":127182507,"body_markdown":"@mpdgr.  Thanks.  I edited the question.  See what happens.  Maybe I&#39;ll have to repost it as a fresh question.","body":"@mpdgr.  Thanks.  I edited the question.  See what happens.  Maybe I&#39;ll have to repost it as a fresh question."},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1651850020,"post_id":71906418,"comment_id":127469675,"body_markdown":"I filed a bug with Oracle.  https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8286275","body":"I filed a bug with Oracle.  <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8286275\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8286275</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1650241872,"creation_date":1650241872,"answer_id":71906503,"question_id":71906418,"body_markdown":"This isn&#39;t how to microbenchmark java code - The JVM runs code very slowly and does all sorts of bookkeeping to boot... until it realizes some method is being run a lot and will then recompile it to finely tuned machine code, using that bookkeeping. Also, your CPU is doing other stuff (such as switching that song you&#39;re playing or whatever) - that needs to be isolated. As a consequence, you need to do a lot of very tricky work to &#39;microbenchmark&#39; code.\r\n\r\nFortunately, it&#39;s been done for you. Use [Java Microbenchmark Harness](https://www.baeldung.com/java-microbenchmark-harness).","title":"The curious case of the Java Integer Array streaming performance","body":"<p>This isn't how to microbenchmark java code - The JVM runs code very slowly and does all sorts of bookkeeping to boot... until it realizes some method is being run a lot and will then recompile it to finely tuned machine code, using that bookkeeping. Also, your CPU is doing other stuff (such as switching that song you're playing or whatever) - that needs to be isolated. As a consequence, you need to do a lot of very tricky work to 'microbenchmark' code.</p>\n<p>Fortunately, it's been done for you. Use <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">Java Microbenchmark Harness</a>.</p>\n"}],"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1650243598,"answer_count":1,"score":1,"last_activity_date":1650577700,"creation_date":1650240708,"question_id":71906418,"body_markdown":"Here is a new attempt to present that curious difference in performance in the use of IntStream and reduce to do a computation on an integer array.\r\n\r\nMy question wasn&#39;t understood as legitimate.  I was asked to do proper benchmark using JMH.  So here it is.\r\n\r\nIn the following program, 2 methods do almost exactly the same processing.  In the first version It does 3 identical computations 2 times, in the second version It does 2 identical computation 3 times.  \r\nIn effect, both versions repeat the same computation 6 times.\r\n\r\n    package perf;\r\n    \r\n    import org.openjdk.jmh.annotations.*;\r\n    \r\n    import java.util.Random;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class IntStreamBenchmark {\r\n    \r\n        final static int ARRAY_LENGTH = 10_000_000;\r\n    \r\n        @State(Scope.Benchmark)\r\n        public static class TestBuddy {\r\n    \r\n            int[] as;\r\n            int xor;\r\n    \r\n            @Setup(Level.Trial)\r\n            public void init(){\r\n                as = new int[ARRAY_LENGTH];\r\n                xor = 0;\r\n                Random random = new Random(0);\r\n                for (int i = 0; i &lt; ARRAY_LENGTH; i++) {\r\n                    as[i] = random.nextInt(1_000_000);\r\n                    xor ^= as[i];\r\n                }\r\n            }\r\n    \r\n            public int[] getArray(){\r\n                return as;\r\n            }\r\n    \r\n            public boolean checkResult(int result) {\r\n                return result == xor;\r\n            }\r\n            \r\n        }\r\n    \r\n        /** Run 2 reduce expresssions 3 times each */\r\n        @Benchmark\r\n        @BenchmarkMode(Mode.Throughput)\r\n        @Fork(2)\r\n        public void benchmark_2_3(TestBuddy testBuddy) {\r\n    \r\n            // repeat 3 times\r\n            for (int k = 0; k &lt; 3; k++) {\r\n                int[] as = testBuddy.getArray();\r\n                int result;\r\n                // compute 2 stream reduce expressions\r\n                result = IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\r\n                result |= IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\r\n                if( !testBuddy.checkResult(result) ){\r\n                    throw new RuntimeException(&quot;Calculation error.&quot;);\r\n                }\r\n            }\r\n            \r\n        }\r\n        \r\n        /** Run 3 reduce expresssions 2 times each */\r\n        @Benchmark\r\n        @BenchmarkMode(Mode.Throughput)\r\n        @Fork(2)\r\n        public void benchmark_3_2(TestBuddy testBuddy) {\r\n    \r\n            // repeat 2 times\r\n            for (int k = 0; k &lt; 2; k++) {\r\n                int[] as = testBuddy.getArray();\r\n                int result;\r\n                // compute 3 stream reduce expressions\r\n                result = IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\r\n                result |= IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\r\n                result |= IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\r\n                if( !testBuddy.checkResult(result) ){\r\n                    throw new RuntimeException(&quot;Calculation error.&quot;);\r\n                }\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n\r\nAnd here is the verdict from JMH:\r\n\r\n\t# Run complete. Total time: 00:06:51\r\n\t\r\n\tREMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\r\n\twhy the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\r\n\texperiments, perform baseline and negative tests that provide experimental control, make sure\r\n\tthe benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\r\n\tDo not assume the numbers tell you what you want them to tell.\r\n\t\r\n\tBenchmark                          Mode  Cnt   Score   Error  Units\r\n\tIntStreamBenchmark.benchmark_2_3  thrpt   10  16.010 &#177; 0.196  ops/s\r\n\tIntStreamBenchmark.benchmark_3_2  thrpt   10   1.305 &#177; 0.279  ops/s\r\n\r\nYou immediately see that the throughput went from 16 to 1.3.\r\nThat is huge.\r\nI don&#39;t see an obvious reason for that.\r\n\r\nMy question is: what is the reason, in the working of hotspot or anywhere, that can create such a difference?\r\n\r\n\r\n**About the original program**\r\n\r\nBelow you can find  the program I posted initially.  I was told it is a microbenchmark and that it was doing it &quot;wrong&quot;.  I don&#39;t agree with that.\r\n\r\nThat program is the last in a series of tests I did to understand the problem and characterize the circunstances when the effect happens.\r\n\r\nInitilaly, I did fill the array with non-zero data, I did proper computations, I did check the result to make sure that it wasn&#39;t optimized out, I did run the code for a prolonged time to see if there is a warmup effect.  All these tests convinced me that there is something wrong in the way the JVM optimizes this code.\r\n\r\nThen, in an effort to identify the cause of the problem, I stripped the program down to its bare minimum.  I removed all code that I could remove and still observe the drop in performance I had identified.  I understand the resulting code is suspicious as a benchmark.  But it was not intended to prove the effect, it was there to show the circumstances when the problem occurs.\r\n\r\nI also wanted people to try the code on different machines, to see whether it is related to some peculiarity of my hardware, or whether it is more systematic.  So far I have seen it happen everywhere I tried, on 2 computers and 4 versions of the JVM, up to openjdk 18.\r\n\r\nLooking at he output of the original code, which is not visible in the benchmark above, you see more precisely what happens.  One statement first runs perfectly well, in ~150 ms, but later consistently needs over 1000 ms to execute.  I can imagine that hotspot identifies some repetition in the code and suddenly decides to optimize some code out.  But I cannot see any explanation why hotspot would decide to switch to a more laborious way to execute the code.  That would be a bug.\r\n\r\n**Original post**\r\n\r\nI was doing a benchmark on various methods to compute the max of an integer array.  Some methods involved streams.  But I couldn&#39;t get any meaningful result because the run times can change a lot for no logical reason.\r\n\r\nHere is a stripped down version of my program.\r\n\r\n    package perf;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    import java.util.function.Supplier;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class MaxOfInts3 {\r\n    \r\n        public static void measure(String name, Supplier&lt;Integer&gt; computation, int samples){\r\n            System.gc();\r\n            for( int i = 0 ; i &lt; samples ; i++ ){\r\n                long t0 = System.currentTimeMillis();\r\n                int result = computation.get();\r\n                long t1 = System.currentTimeMillis();\r\n                long time = t1 - t0;\r\n                System.out.format(&quot;%-20s %d: %d, %d ms\\n&quot;, name, i, result, time);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        public static void benchmark(int len){\r\n    \r\n            System.out.println(&quot;Create array of size &quot; + len + &quot;...&quot;);\r\n            final int[] as = new int[len];\r\n            Random rnd = new Random();\r\n            for( int i = 0 ; i &lt; len ; i++ ) {\r\n                as[i] = rnd.nextInt(1_000_000);\r\n            }\r\n    \r\n    //        final int[] bs = new int[len];\r\n    //        Supplier&lt;Integer&gt; comp0 = () -&gt; IntStream.of(bs).reduce((x,y) -&gt; 0).orElse(0);\r\n    //        Supplier&lt;Integer&gt; comp1 = () -&gt; Arrays.stream(bs).reduce((x,y) -&gt; 1).orElse(1);\r\n    //        comp0.get();\r\n    //        comp1.get();\r\n    \r\n            measure(&quot;Compute max&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &gt; y ? x : y).getAsInt(), 3);\r\n            measure(&quot;Compute min&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &lt; y ? x : y).getAsInt(), 3);\r\n            measure(&quot;Compute max again&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &gt; y ? x : y).getAsInt(), 3);\r\n            measure(&quot;Compute min again&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &lt; y ? x : y).getAsInt(), 3);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            benchmark(300_000_000);\r\n        }\r\n    }\r\n\r\nWhen I run the program as it is, I get the following output.\r\n\r\n    Create array of size 300000000...\r\n    Compute max          0: 999999, 173 ms\r\n    Compute max          1: 999999, 143 ms\r\n    Compute max          2: 999999, 124 ms\r\n    \r\n    Compute min          0: 0, 176 ms\r\n    Compute min          1: 0, 156 ms\r\n    Compute min          2: 0, 125 ms\r\n    \r\n    Compute max again    0: 999999, 1013 ms\r\n    Compute max again    1: 999999, 1232 ms\r\n    Compute max again    2: 999999, 1139 ms\r\n    \r\n    Compute min again    0: 0, 1283 ms\r\n    Compute min again    1: 0, 1165 ms\r\n    Compute min again    2: 0, 1066 ms\r\n    \r\nAs you can see, the same method called twice returns very different times between the first and the second call.\r\n\r\nFurther investigation shows that it doesn&#39;t matter which computations I run, the first 2 runs are fast, the subsequent runs are slow.  Interestingly, I can call my Supplier many times, it doesn&#39;t change the result.\r\n\r\nIt seems to depend on the number of times I stream an integer array inside of a Supplier.\r\nIf I define and use more than two Suppliers that work by streaming and reducing an integer array then everything becomes slow.  For instance, If I uncomment the commented lines, all 4 benchmarks are slow.\r\n\r\nFor reference, I tried it on a MacBook Pro with Java 13.0.3 and on Windows 10 with Java 11.0.2.  In both cases I see the same thing.\r\n\r\nDo you people also see this behaviour?  And is there a good explanation why this happens?\r\n\r\nPS: Here is a different version of the benchmark method that is maybe more to the point.\r\n\r\n    public static void benchmark(int len){\r\n\r\n        final int[] as = new int[len];\r\n\r\n        Supplier&lt;Integer&gt; comp0 = () -&gt; IntStream.of(as).reduce((x,y) -&gt; 0).orElse(0);\r\n        Supplier&lt;Integer&gt; comp1 = () -&gt; IntStream.of(as).reduce((x,y) -&gt; 1).orElse(1);\r\n        Supplier&lt;Integer&gt; comp2 = () -&gt; IntStream.of(as).reduce((x,y) -&gt; 2).orElse(2);\r\n\r\n        measure(&quot;comp0&quot;, comp0, 3);\r\n        measure(&quot;comp1&quot;, comp1, 3);\r\n        measure(&quot;comp0&quot;, comp0, 3);\r\n        measure(&quot;comp1&quot;, comp1, 3);\r\n        measure(&quot;comp2&quot;, comp2, 3);\r\n        measure(&quot;comp0&quot;, comp0, 3);\r\n        measure(&quot;comp1&quot;, comp1, 3);\r\n        measure(&quot;comp2&quot;, comp2, 3);\r\n    }\r\n","title":"The curious case of the Java Integer Array streaming performance","body":"<p>Here is a new attempt to present that curious difference in performance in the use of IntStream and reduce to do a computation on an integer array.</p>\n<p>My question wasn't understood as legitimate.  I was asked to do proper benchmark using JMH.  So here it is.</p>\n<p>In the following program, 2 methods do almost exactly the same processing.  In the first version It does 3 identical computations 2 times, in the second version It does 2 identical computation 3 times.<br />\nIn effect, both versions repeat the same computation 6 times.</p>\n<pre><code>package perf;\n\nimport org.openjdk.jmh.annotations.*;\n\nimport java.util.Random;\nimport java.util.stream.IntStream;\n\npublic class IntStreamBenchmark {\n\n    final static int ARRAY_LENGTH = 10_000_000;\n\n    @State(Scope.Benchmark)\n    public static class TestBuddy {\n\n        int[] as;\n        int xor;\n\n        @Setup(Level.Trial)\n        public void init(){\n            as = new int[ARRAY_LENGTH];\n            xor = 0;\n            Random random = new Random(0);\n            for (int i = 0; i &lt; ARRAY_LENGTH; i++) {\n                as[i] = random.nextInt(1_000_000);\n                xor ^= as[i];\n            }\n        }\n\n        public int[] getArray(){\n            return as;\n        }\n\n        public boolean checkResult(int result) {\n            return result == xor;\n        }\n        \n    }\n\n    /** Run 2 reduce expresssions 3 times each */\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @Fork(2)\n    public void benchmark_2_3(TestBuddy testBuddy) {\n\n        // repeat 3 times\n        for (int k = 0; k &lt; 3; k++) {\n            int[] as = testBuddy.getArray();\n            int result;\n            // compute 2 stream reduce expressions\n            result = IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\n            result |= IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\n            if( !testBuddy.checkResult(result) ){\n                throw new RuntimeException(&quot;Calculation error.&quot;);\n            }\n        }\n        \n    }\n    \n    /** Run 3 reduce expresssions 2 times each */\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @Fork(2)\n    public void benchmark_3_2(TestBuddy testBuddy) {\n\n        // repeat 2 times\n        for (int k = 0; k &lt; 2; k++) {\n            int[] as = testBuddy.getArray();\n            int result;\n            // compute 3 stream reduce expressions\n            result = IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\n            result |= IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\n            result |= IntStream.of(as).reduce(0, (x, y) -&gt; x^y);\n            if( !testBuddy.checkResult(result) ){\n                throw new RuntimeException(&quot;Calculation error.&quot;);\n            }\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>And here is the verdict from JMH:</p>\n<pre><code># Run complete. Total time: 00:06:51\n\nREMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\nwhy the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\nexperiments, perform baseline and negative tests that provide experimental control, make sure\nthe benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\nDo not assume the numbers tell you what you want them to tell.\n\nBenchmark                          Mode  Cnt   Score   Error  Units\nIntStreamBenchmark.benchmark_2_3  thrpt   10  16.010 ± 0.196  ops/s\nIntStreamBenchmark.benchmark_3_2  thrpt   10   1.305 ± 0.279  ops/s\n</code></pre>\n<p>You immediately see that the throughput went from 16 to 1.3.\nThat is huge.\nI don't see an obvious reason for that.</p>\n<p>My question is: what is the reason, in the working of hotspot or anywhere, that can create such a difference?</p>\n<p><strong>About the original program</strong></p>\n<p>Below you can find  the program I posted initially.  I was told it is a microbenchmark and that it was doing it &quot;wrong&quot;.  I don't agree with that.</p>\n<p>That program is the last in a series of tests I did to understand the problem and characterize the circunstances when the effect happens.</p>\n<p>Initilaly, I did fill the array with non-zero data, I did proper computations, I did check the result to make sure that it wasn't optimized out, I did run the code for a prolonged time to see if there is a warmup effect.  All these tests convinced me that there is something wrong in the way the JVM optimizes this code.</p>\n<p>Then, in an effort to identify the cause of the problem, I stripped the program down to its bare minimum.  I removed all code that I could remove and still observe the drop in performance I had identified.  I understand the resulting code is suspicious as a benchmark.  But it was not intended to prove the effect, it was there to show the circumstances when the problem occurs.</p>\n<p>I also wanted people to try the code on different machines, to see whether it is related to some peculiarity of my hardware, or whether it is more systematic.  So far I have seen it happen everywhere I tried, on 2 computers and 4 versions of the JVM, up to openjdk 18.</p>\n<p>Looking at he output of the original code, which is not visible in the benchmark above, you see more precisely what happens.  One statement first runs perfectly well, in ~150 ms, but later consistently needs over 1000 ms to execute.  I can imagine that hotspot identifies some repetition in the code and suddenly decides to optimize some code out.  But I cannot see any explanation why hotspot would decide to switch to a more laborious way to execute the code.  That would be a bug.</p>\n<p><strong>Original post</strong></p>\n<p>I was doing a benchmark on various methods to compute the max of an integer array.  Some methods involved streams.  But I couldn't get any meaningful result because the run times can change a lot for no logical reason.</p>\n<p>Here is a stripped down version of my program.</p>\n<pre><code>package perf;\n\nimport java.util.Arrays;\nimport java.util.Random;\nimport java.util.function.Supplier;\nimport java.util.stream.IntStream;\n\npublic class MaxOfInts3 {\n\n    public static void measure(String name, Supplier&lt;Integer&gt; computation, int samples){\n        System.gc();\n        for( int i = 0 ; i &lt; samples ; i++ ){\n            long t0 = System.currentTimeMillis();\n            int result = computation.get();\n            long t1 = System.currentTimeMillis();\n            long time = t1 - t0;\n            System.out.format(&quot;%-20s %d: %d, %d ms\\n&quot;, name, i, result, time);\n        }\n        System.out.println();\n    }\n\n    public static void benchmark(int len){\n\n        System.out.println(&quot;Create array of size &quot; + len + &quot;...&quot;);\n        final int[] as = new int[len];\n        Random rnd = new Random();\n        for( int i = 0 ; i &lt; len ; i++ ) {\n            as[i] = rnd.nextInt(1_000_000);\n        }\n\n//        final int[] bs = new int[len];\n//        Supplier&lt;Integer&gt; comp0 = () -&gt; IntStream.of(bs).reduce((x,y) -&gt; 0).orElse(0);\n//        Supplier&lt;Integer&gt; comp1 = () -&gt; Arrays.stream(bs).reduce((x,y) -&gt; 1).orElse(1);\n//        comp0.get();\n//        comp1.get();\n\n        measure(&quot;Compute max&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &gt; y ? x : y).getAsInt(), 3);\n        measure(&quot;Compute min&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &lt; y ? x : y).getAsInt(), 3);\n        measure(&quot;Compute max again&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &gt; y ? x : y).getAsInt(), 3);\n        measure(&quot;Compute min again&quot;, () -&gt; Arrays.stream(as).reduce((x,y) -&gt; x &lt; y ? x : y).getAsInt(), 3);\n\n    }\n\n    public static void main(String[] args) {\n        benchmark(300_000_000);\n    }\n}\n</code></pre>\n<p>When I run the program as it is, I get the following output.</p>\n<pre><code>Create array of size 300000000...\nCompute max          0: 999999, 173 ms\nCompute max          1: 999999, 143 ms\nCompute max          2: 999999, 124 ms\n\nCompute min          0: 0, 176 ms\nCompute min          1: 0, 156 ms\nCompute min          2: 0, 125 ms\n\nCompute max again    0: 999999, 1013 ms\nCompute max again    1: 999999, 1232 ms\nCompute max again    2: 999999, 1139 ms\n\nCompute min again    0: 0, 1283 ms\nCompute min again    1: 0, 1165 ms\nCompute min again    2: 0, 1066 ms\n</code></pre>\n<p>As you can see, the same method called twice returns very different times between the first and the second call.</p>\n<p>Further investigation shows that it doesn't matter which computations I run, the first 2 runs are fast, the subsequent runs are slow.  Interestingly, I can call my Supplier many times, it doesn't change the result.</p>\n<p>It seems to depend on the number of times I stream an integer array inside of a Supplier.\nIf I define and use more than two Suppliers that work by streaming and reducing an integer array then everything becomes slow.  For instance, If I uncomment the commented lines, all 4 benchmarks are slow.</p>\n<p>For reference, I tried it on a MacBook Pro with Java 13.0.3 and on Windows 10 with Java 11.0.2.  In both cases I see the same thing.</p>\n<p>Do you people also see this behaviour?  And is there a good explanation why this happens?</p>\n<p>PS: Here is a different version of the benchmark method that is maybe more to the point.</p>\n<pre><code>public static void benchmark(int len){\n\n    final int[] as = new int[len];\n\n    Supplier&lt;Integer&gt; comp0 = () -&gt; IntStream.of(as).reduce((x,y) -&gt; 0).orElse(0);\n    Supplier&lt;Integer&gt; comp1 = () -&gt; IntStream.of(as).reduce((x,y) -&gt; 1).orElse(1);\n    Supplier&lt;Integer&gt; comp2 = () -&gt; IntStream.of(as).reduce((x,y) -&gt; 2).orElse(2);\n\n    measure(&quot;comp0&quot;, comp0, 3);\n    measure(&quot;comp1&quot;, comp1, 3);\n    measure(&quot;comp0&quot;, comp0, 3);\n    measure(&quot;comp1&quot;, comp1, 3);\n    measure(&quot;comp2&quot;, comp2, 3);\n    measure(&quot;comp0&quot;, comp0, 3);\n    measure(&quot;comp1&quot;, comp1, 3);\n    measure(&quot;comp2&quot;, comp2, 3);\n}\n</code></pre>\n"},{"tags":["java","android","start-activity","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1650539265,"post_id":71953386,"comment_id":127144495,"body_markdown":"*Caused by: java.lang.ArrayIndexOutOfBoundsException: length=12; index=-1* makes me think your `private int position = -1` might be responsible for this `Exception`… Maybe you get the default value from the `Intent` at `position = getIntent().getIntExtra(&quot;position&quot;, -1);`.","body":"<i>Caused by: java.lang.ArrayIndexOutOfBoundsException: length=12; index=-1</i> makes me think your <code>private int position = -1</code> might be responsible for this <code>Exception</code>… Maybe you get the default value from the <code>Intent</code> at <code>position = getIntent().getIntExtra(&quot;position&quot;, -1);</code>."}],"answers":[{"tags":[],"owner":{"account_id":13781087,"reputation":116,"user_id":9946202,"display_name":"Freny Christian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650539424,"creation_date":1650539424,"answer_id":71953451,"question_id":71953386,"body_markdown":"it is because your position is -1, you must check \r\n\r\n    if(position != -1)\r\n        uri = Uri.parse(listSong.get(position).getPath());\r\n\r\nyou have not send position when starting activity\r\n\r\n    Intent intent = new Intent(MainActivity.this, PlayerActivity.class);\r\n    startActivity(intent);\r\n\r\n","title":"Unable to start activity: java.lang.ArrayIndexOutOfBoundsException","body":"<p>it is because your position is -1, you must check</p>\n<pre><code>if(position != -1)\n    uri = Uri.parse(listSong.get(position).getPath());\n</code></pre>\n<p>you have not send position when starting activity</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, PlayerActivity.class);\nstartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12468013,"reputation":14,"user_id":9077192,"display_name":"Ionut Adrian Ene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650577339,"creation_date":1650539494,"answer_id":71953468,"question_id":71953386,"body_markdown":"    private int position = -1;\r\n\r\nThis is causing your `ArrayIndexOutOfBound`","title":"Unable to start activity: java.lang.ArrayIndexOutOfBoundsException","body":"<pre><code>private int position = -1;\n</code></pre>\n<p>This is causing your <code>ArrayIndexOutOfBound</code></p>\n"}],"owner":{"account_id":23052176,"reputation":3,"user_id":17168823,"display_name":"MAGistr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71953451,"answer_count":2,"score":0,"last_activity_date":1650577339,"creation_date":1650539098,"question_id":71953386,"body_markdown":"Everyone, hi! \r\nFriends, when you click on the button, a new activity does not start. The following exception occurs: java.lang.ArrayIndexOutOfBoundsException.\r\nThe log of my error is presented below:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.projectMP3, PID: 3228\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.projectMP3/com.example.projectMP3.Activity.PlayerActivity}: java.lang.ArrayIndexOutOfBoundsException: length=12; index=-1\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2400)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2458)\r\n        at android.app.ActivityThread.access$900(ActivityThread.java:172)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1305)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:146)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5598)\r\n        at java.lang.reflect.Method.invokeNative(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:515)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)\r\n        at dalvik.system.NativeStart.main(Native Method)\r\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=12; index=-1\r\n        at java.util.ArrayList.get(ArrayList.java:310)\r\n        at com.example.projectMP3.Activity.PlayerActivity.getIntentMethod(PlayerActivity.java:167)\r\n        at com.example.projectMP3.Activity.PlayerActivity.onCreate(PlayerActivity.java:62)\r\n        at android.app.Activity.performCreate(Activity.java:5459)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1093)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2364)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2458)&#160;\r\n        at android.app.ActivityThread.access$900(ActivityThread.java:172)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1305)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:146)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5598)&#160;\r\n        at java.lang.reflect.Method.invokeNative(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:515)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)&#160;\r\n        at dalvik.system.NativeStart.main(Native Method)&#160;\r\n```\r\nProgram code for **MainActivity.java**\r\n```\r\npublic class MainActivity extends AppCompatActivity implements SearchView.OnQueryTextListener {\r\n //....\r\n private void int_viewPager() {\r\n\r\n        ViewPager viewPager;\r\n        TabLayout tabLayout;\r\n        FloatingActionButton openMusicPlayer;\r\n        //...\r\n        androidx.appcompat.widget.Toolbar toolbar;\r\n        viewPager = findViewById(R.id.view_Pager);\r\n        tabLayout = findViewById(R.id.tab_layout);\r\n        //...\r\n        viewPager.setAdapter(viewPagerAdapter);\r\n        tabLayout.setupWithViewPager(viewPager);\r\n\r\n        openMusicPlayer = findViewById(R.id.open_Music);\r\n        openMusicPlayer.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, PlayerActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\nProgram code for **PlayerActivity.java**:\r\n```\r\n//...\r\npublic class PlayerActivity extends AppCompatActivity implements MediaPlayer.OnCompletionListener {\r\n   \r\n    /** Логические переменные (случайное воспроизведение, повтор аудиозаписи) */\r\n    static boolean shuffleBoolean = false, repeatBoolean;\r\n    /** Список музыкальных композиций */\r\n    ArrayList&lt;MusicFile&gt; listSong = new ArrayList&lt;&gt;();\r\n    /** Специальный идентификатор */\r\n    Uri uri;\r\n    /** Обработчик потока - обновляет сведения о времени */\r\n    Handler handler = new Handler();\r\n    /** Потоки воспроизведения */\r\n    Thread playThread, prevThread, nextThread;\r\n\r\n    private int position = -1;\r\n    private FloatingActionButton playPause;\r\n    //...\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // Размещает пользовательский интерфейс на экране активности\r\n        setContentView(R.layout.activity_player);\r\n        // Инициализирует элементы управления\r\n        initView();\r\n        // Получает данные из Intent\r\n        getIntentMethod();\r\n\r\n        /* Добавляем listener, который получит\r\n        *  уведомление, когда проигрывание закончится. */\r\n        mediaPlayer.setOnCompletionListener(this);\r\n\r\n        //...\r\n\r\n        // Перемещение функциональности в фоновый режим\r\n        PlayerActivity.this.runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n               //...\r\n        });  \r\n    }\r\n\r\n  \r\n    /** Получает данные из намерения (Intent) */\r\n    private void getIntentMethod() {\r\n        /* Получаем данные, добавленные ранее\r\n        *  с помощью putExtra() */\r\n        position = getIntent().getIntExtra(&quot;position&quot;, -1);\r\n        String sender =  getIntent().getStringExtra(&quot;Sender&quot;);\r\n\r\n        if(sender!= null &amp;&amp; sender.equals(&quot;albumDetails&quot;)) {\r\n            listSong = album_Music;\r\n        } else {\r\n            listSong = musicFilesSongAdapter;\r\n        }\r\n\r\n        if (listSong != null) {\r\n            playPause.setImageResource(R.drawable.ic_pause);\r\n            uri = Uri.parse(listSong.get(position).getPath());\r\n        }\r\n\r\n        if (mediaPlayer != null) {\r\n            mediaPlayer.stop();\r\n            // Освобождаем приобретенные ресурсы (память, кодеки)\r\n            mediaPlayer.release();\r\n        }\r\n        mediaPlayer = MediaPlayer.create(getApplicationContext(), uri);\r\n        mediaPlayer.start();\r\n        songSeekBar.setMax(mediaPlayer.getDuration() / 1000);\r\n        metaData(uri);\r\n    }\r\n\r\n    // Получаем метаданные (альбом и др.)\r\n    private void metaData(Uri uri) {\r\n       //...\r\n    }\r\n \r\n    private void prevThreadBtn() {\r\n        prevThread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                super.run();\r\n                playPrev.setOnClickListener(v -&gt; prevBtnClicked());\r\n            }\r\n        };\r\n        prevThread.start();\r\n    }\r\n\r\n    /** Обрабатывает нажатие кнопки (Play previous)*/\r\n    private void prevBtnClicked() {\r\n        if (mediaPlayer.isPlaying()) {\r\n            /* Останавливаем воспроизведение,\r\n            * освобождаем ресурсы, связанные с этим объектом */\r\n            mediaPlayer.stop();\r\n            mediaPlayer.release();\r\n\r\n            /* Проверяем, включены ли режимы Shuffle, Repeat */\r\n            if (shuffleBoolean &amp;&amp; !repeatBoolean) {\r\n                position = getRandom(listSong.size() - 1);\r\n            } else if (!shuffleBoolean &amp;&amp; !repeatBoolean) {\r\n                position = ((position - 1) &lt; 0 ? (listSong.size() - 1) : (position - 1));\r\n            }\r\n\r\n            uri = Uri.parse(listSong.get(position).getPath());\r\n            // Создаем MediaPlayer для заданного URI\r\n            mediaPlayer = MediaPlayer.create(getApplicationContext(), uri);\r\n            // Устанавливаем метаданные\r\n            metaData(uri);\r\n            //...\r\n  }\r\n\r\n    /** Вызывается после возобновления активности\r\n     *  (after onResume() has been called) */\r\n    @Override\r\n    protected void onPostResume() {\r\n        playThreadBtn();\r\n        prevThreadBtn();\r\n        nextThreadBtn();\r\n        super.onPostResume();\r\n    }\r\n\r\n\r\n    /** Получает ссылки элементов управления */\r\n    private void initView() {\r\n        songName = findViewById(R.id.song_name);\r\n        durationPlayed = findViewById(R.id.duration_played);\r\n        totalDuration = findViewById(R.id.duration_total);\r\n        //...\r\n    }\r\n\r\n   \r\n    @Override\r\n    public void onCompletion(MediaPlayer mp) {\r\n       //...\r\n    }\r\n}\r\n```\r\n**If I understand correctly, then the error is in the following lines:**\r\n```\r\nif (listSong != null) {\r\n            playPause.setImageResource(R.drawable.ic_pause);\r\n            uri = Uri.parse(listSong.get(position).getPath());\r\n        }\r\n```\r\nBut... I do not know how to fix the error. Could you help?","title":"Unable to start activity: java.lang.ArrayIndexOutOfBoundsException","body":"<p>Everyone, hi!\nFriends, when you click on the button, a new activity does not start. The following exception occurs: java.lang.ArrayIndexOutOfBoundsException.\nThe log of my error is presented below:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.projectMP3, PID: 3228\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.projectMP3/com.example.projectMP3.Activity.PlayerActivity}: java.lang.ArrayIndexOutOfBoundsException: length=12; index=-1\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2400)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2458)\n        at android.app.ActivityThread.access$900(ActivityThread.java:172)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1305)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:146)\n        at android.app.ActivityThread.main(ActivityThread.java:5598)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)\n        at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=12; index=-1\n        at java.util.ArrayList.get(ArrayList.java:310)\n        at com.example.projectMP3.Activity.PlayerActivity.getIntentMethod(PlayerActivity.java:167)\n        at com.example.projectMP3.Activity.PlayerActivity.onCreate(PlayerActivity.java:62)\n        at android.app.Activity.performCreate(Activity.java:5459)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1093)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2364)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2458) \n        at android.app.ActivityThread.access$900(ActivityThread.java:172) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1305) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:146) \n        at android.app.ActivityThread.main(ActivityThread.java:5598) \n        at java.lang.reflect.Method.invokeNative(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:515) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099) \n        at dalvik.system.NativeStart.main(Native Method) \n</code></pre>\n<p>Program code for <strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity implements SearchView.OnQueryTextListener {\n //....\n private void int_viewPager() {\n\n        ViewPager viewPager;\n        TabLayout tabLayout;\n        FloatingActionButton openMusicPlayer;\n        //...\n        androidx.appcompat.widget.Toolbar toolbar;\n        viewPager = findViewById(R.id.view_Pager);\n        tabLayout = findViewById(R.id.tab_layout);\n        //...\n        viewPager.setAdapter(viewPagerAdapter);\n        tabLayout.setupWithViewPager(viewPager);\n\n        openMusicPlayer = findViewById(R.id.open_Music);\n        openMusicPlayer.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, PlayerActivity.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>Program code for <strong>PlayerActivity.java</strong>:</p>\n<pre><code>//...\npublic class PlayerActivity extends AppCompatActivity implements MediaPlayer.OnCompletionListener {\n   \n    /** Логические переменные (случайное воспроизведение, повтор аудиозаписи) */\n    static boolean shuffleBoolean = false, repeatBoolean;\n    /** Список музыкальных композиций */\n    ArrayList&lt;MusicFile&gt; listSong = new ArrayList&lt;&gt;();\n    /** Специальный идентификатор */\n    Uri uri;\n    /** Обработчик потока - обновляет сведения о времени */\n    Handler handler = new Handler();\n    /** Потоки воспроизведения */\n    Thread playThread, prevThread, nextThread;\n\n    private int position = -1;\n    private FloatingActionButton playPause;\n    //...\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // Размещает пользовательский интерфейс на экране активности\n        setContentView(R.layout.activity_player);\n        // Инициализирует элементы управления\n        initView();\n        // Получает данные из Intent\n        getIntentMethod();\n\n        /* Добавляем listener, который получит\n        *  уведомление, когда проигрывание закончится. */\n        mediaPlayer.setOnCompletionListener(this);\n\n        //...\n\n        // Перемещение функциональности в фоновый режим\n        PlayerActivity.this.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n               //...\n        });  \n    }\n\n  \n    /** Получает данные из намерения (Intent) */\n    private void getIntentMethod() {\n        /* Получаем данные, добавленные ранее\n        *  с помощью putExtra() */\n        position = getIntent().getIntExtra(&quot;position&quot;, -1);\n        String sender =  getIntent().getStringExtra(&quot;Sender&quot;);\n\n        if(sender!= null &amp;&amp; sender.equals(&quot;albumDetails&quot;)) {\n            listSong = album_Music;\n        } else {\n            listSong = musicFilesSongAdapter;\n        }\n\n        if (listSong != null) {\n            playPause.setImageResource(R.drawable.ic_pause);\n            uri = Uri.parse(listSong.get(position).getPath());\n        }\n\n        if (mediaPlayer != null) {\n            mediaPlayer.stop();\n            // Освобождаем приобретенные ресурсы (память, кодеки)\n            mediaPlayer.release();\n        }\n        mediaPlayer = MediaPlayer.create(getApplicationContext(), uri);\n        mediaPlayer.start();\n        songSeekBar.setMax(mediaPlayer.getDuration() / 1000);\n        metaData(uri);\n    }\n\n    // Получаем метаданные (альбом и др.)\n    private void metaData(Uri uri) {\n       //...\n    }\n \n    private void prevThreadBtn() {\n        prevThread = new Thread() {\n            @Override\n            public void run() {\n                super.run();\n                playPrev.setOnClickListener(v -&gt; prevBtnClicked());\n            }\n        };\n        prevThread.start();\n    }\n\n    /** Обрабатывает нажатие кнопки (Play previous)*/\n    private void prevBtnClicked() {\n        if (mediaPlayer.isPlaying()) {\n            /* Останавливаем воспроизведение,\n            * освобождаем ресурсы, связанные с этим объектом */\n            mediaPlayer.stop();\n            mediaPlayer.release();\n\n            /* Проверяем, включены ли режимы Shuffle, Repeat */\n            if (shuffleBoolean &amp;&amp; !repeatBoolean) {\n                position = getRandom(listSong.size() - 1);\n            } else if (!shuffleBoolean &amp;&amp; !repeatBoolean) {\n                position = ((position - 1) &lt; 0 ? (listSong.size() - 1) : (position - 1));\n            }\n\n            uri = Uri.parse(listSong.get(position).getPath());\n            // Создаем MediaPlayer для заданного URI\n            mediaPlayer = MediaPlayer.create(getApplicationContext(), uri);\n            // Устанавливаем метаданные\n            metaData(uri);\n            //...\n  }\n\n    /** Вызывается после возобновления активности\n     *  (after onResume() has been called) */\n    @Override\n    protected void onPostResume() {\n        playThreadBtn();\n        prevThreadBtn();\n        nextThreadBtn();\n        super.onPostResume();\n    }\n\n\n    /** Получает ссылки элементов управления */\n    private void initView() {\n        songName = findViewById(R.id.song_name);\n        durationPlayed = findViewById(R.id.duration_played);\n        totalDuration = findViewById(R.id.duration_total);\n        //...\n    }\n\n   \n    @Override\n    public void onCompletion(MediaPlayer mp) {\n       //...\n    }\n}\n</code></pre>\n<p><strong>If I understand correctly, then the error is in the following lines:</strong></p>\n<pre><code>if (listSong != null) {\n            playPause.setImageResource(R.drawable.ic_pause);\n            uri = Uri.parse(listSong.get(position).getPath());\n        }\n</code></pre>\n<p>But... I do not know how to fix the error. Could you help?</p>\n"},{"tags":["java","multithreading","synchronization","race-condition","atomicreference"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1522257025,"post_id":49540421,"comment_id":86088105,"body_markdown":"I&#39;d bet that to start with, instead of `newValue.count = ++prevValue.count;`, you want `newValue.count = prevValue.count + 1;`, which doesn&#39;t modify `prevValue`.","body":"I&#39;d bet that to start with, instead of <code>newValue.count = ++prevValue.count;</code>, you want <code>newValue.count = prevValue.count + 1;</code>, which doesn&#39;t modify <code>prevValue</code>."}],"answers":[{"tags":[],"owner":{"account_id":13221569,"reputation":185,"user_id":9548129,"display_name":"nayak0765"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522591496,"creation_date":1522591496,"answer_id":49598850,"question_id":49540421,"body_markdown":"I not got the answer for this.It is giving wrong value because of \r\n&quot;newValue.count = ++prevValue.count&quot;.\r\nHere the pre increment operator chances the value of &quot;prevValue&quot;.,\r\nInstead write this statement as\r\n&quot;newValue.count = prevValue.count+1&quot;.It works fine then.","title":"AtomicReference not working to avoid race condition in java multi threading","body":"<p>I not got the answer for this.It is giving wrong value because of \n\"newValue.count = ++prevValue.count\".\nHere the pre increment operator chances the value of \"prevValue\".,\nInstead write this statement as\n\"newValue.count = prevValue.count+1\".It works fine then.</p>\n"},{"tags":[],"owner":{"account_id":3387173,"reputation":419,"user_id":2842898,"accept_rate":67,"display_name":"Confucius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650576242,"creation_date":1650576242,"answer_id":71961030,"question_id":49540421,"body_markdown":"`++prevValue.count` changed the value\r\n\r\n- `prevValue.count`: 1\r\n- after `++prevValue.count`\r\n- `newValue.count`, `prevValue.count`: 2\r\n- `compareAndSet` failed, matched while loop condition\r\n- `prevValue.count`: 2\r\n- after `++prevValue.count`\r\n- `newValue.count`, `prevValue.count`: 3\r\n- `compareAndSet` success","title":"AtomicReference not working to avoid race condition in java multi threading","body":"<p><code>++prevValue.count</code> changed the value</p>\n<ul>\n<li><code>prevValue.count</code>: 1</li>\n<li>after <code>++prevValue.count</code></li>\n<li><code>newValue.count</code>, <code>prevValue.count</code>: 2</li>\n<li><code>compareAndSet</code> failed, matched while loop condition</li>\n<li><code>prevValue.count</code>: 2</li>\n<li>after <code>++prevValue.count</code></li>\n<li><code>newValue.count</code>, <code>prevValue.count</code>: 3</li>\n<li><code>compareAndSet</code> success</li>\n</ul>\n"}],"owner":{"account_id":13221569,"reputation":185,"user_id":9548129,"display_name":"nayak0765"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650576242,"creation_date":1522256921,"question_id":49540421,"body_markdown":"I have a &quot;User.java&quot; class that has Integer variable count initially set to 0.\r\nIn another class &quot;ThreadDemo.java&quot; I have set the User object in AtomicReference.\r\nThis &quot;userRef&quot; object is shared by &quot;1000&quot; threads and in each thread I am incrementing the &quot;count&quot; value by 1.\r\nBut here i am not getting expected answer 1000.Each time I execute &quot;count&quot; variable gives different value like 1000,1002 etc..\r\nBut if i try to use synchronization or AtomicInteger then it works.\r\nSo my question is ,am i using AtomicReference concept properly to resolve race condition in this case.If yes, then Why I it is failing in this case? .\r\nPlease find the piece of code below:\r\nUser.java:-\r\n\r\n    public class User {\r\n    \r\n    \t public Integer count=0; \r\n    \t \r\n    } \r\n\r\nThreadDemo.java:-\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.atomic.AtomicReference;\r\n    \r\n    public class ThreadDemo {\r\n    \r\n    \tstatic AtomicReference&lt;User&gt; userRef = new AtomicReference&lt;User&gt;(new User());\r\n    \r\n    \tpublic static void main(final String[] arguments) throws InterruptedException {\r\n    \r\n    \t\tSystem.out.println(&quot;main thread started&quot;);\r\n    \r\n    \t\tList&lt;Thread&gt; listThread = new ArrayList&lt;&gt;();\r\n    \r\n    \t\tfor (int i = 1; i &lt;= 1000; i++) {\r\n    \t\t\tlistThread.add(new Thread() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tboolean flag = false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\twhile (!flag) {\r\n    \t\t\t\t\t\tUser prevValue = userRef.get();\r\n    \t\t\t\t\t\tUser newValue = new User();\r\n    \t\t\t\t\t\tnewValue.count = ++prevValue.count;\r\n    \t\t\t\t\t\tflag = userRef.compareAndSet(prevValue, newValue);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\tfor (Thread t : listThread) {\r\n    \t\t\tt.start();\r\n    \t\t}\r\n    \r\n    \t\tfor (Thread t : listThread) { \r\n    \t\t\tt.join();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;user count:&quot; + userRef.get().count);\r\n    \t\tSystem.out.println(&quot;main thread finished&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"AtomicReference not working to avoid race condition in java multi threading","body":"<p>I have a \"User.java\" class that has Integer variable count initially set to 0.\nIn another class \"ThreadDemo.java\" I have set the User object in AtomicReference.\nThis \"userRef\" object is shared by \"1000\" threads and in each thread I am incrementing the \"count\" value by 1.\nBut here i am not getting expected answer 1000.Each time I execute \"count\" variable gives different value like 1000,1002 etc..\nBut if i try to use synchronization or AtomicInteger then it works.\nSo my question is ,am i using AtomicReference concept properly to resolve race condition in this case.If yes, then Why I it is failing in this case? .\nPlease find the piece of code below:\nUser.java:-</p>\n\n<pre><code>public class User {\n\n     public Integer count=0; \n\n} \n</code></pre>\n\n<p>ThreadDemo.java:-</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicReference;\n\npublic class ThreadDemo {\n\n    static AtomicReference&lt;User&gt; userRef = new AtomicReference&lt;User&gt;(new User());\n\n    public static void main(final String[] arguments) throws InterruptedException {\n\n        System.out.println(\"main thread started\");\n\n        List&lt;Thread&gt; listThread = new ArrayList&lt;&gt;();\n\n        for (int i = 1; i &lt;= 1000; i++) {\n            listThread.add(new Thread() {\n                @Override\n                public void run() {\n\n                    boolean flag = false;\n\n                    while (!flag) {\n                        User prevValue = userRef.get();\n                        User newValue = new User();\n                        newValue.count = ++prevValue.count;\n                        flag = userRef.compareAndSet(prevValue, newValue);\n                    }\n\n                }\n            });\n        }\n\n        for (Thread t : listThread) {\n            t.start();\n        }\n\n        for (Thread t : listThread) { \n            t.join();\n        }\n\n        System.out.println(\"user count:\" + userRef.get().count);\n        System.out.println(\"main thread finished\");\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1649780292,"post_id":71845821,"comment_id":126960646,"body_markdown":"Is it the same app version? Does it happen in a different thread (AsyncTask creates one)? - Exceptions in different threads are not caught. Can you reproduce it (not the result, but the exception) / is it a UserDoesNotExistException or something unexpected? Why do you have a Void[] as a method parameter?","body":"Is it the same app version? Does it happen in a different thread (AsyncTask creates one)? - Exceptions in different threads are not caught. Can you reproduce it (not the result, but the exception) / is it a UserDoesNotExistException or something unexpected? Why do you have a Void[] as a method parameter?"},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1649782026,"post_id":71845821,"comment_id":126961329,"body_markdown":"Can you post the full stack trace? Is the `RuntimeExceotion` the top exception or an inner cause (that &quot;caused by&quot; thing). Not every `Throwable` is `Exception`","body":"Can you post the full stack trace? Is the <code>RuntimeExceotion</code> the top exception or an inner cause (that &quot;caused by&quot; thing). Not every <code>Throwable</code> is <code>Exception</code>"},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":1,"creation_date":1649782323,"post_id":71845821,"comment_id":126961456,"body_markdown":"Also, I see that you save an exception in `this.exception`. maybe you&#39;re throwing `this.exception` somewhere else?","body":"Also, I see that you save an exception in <code>this.exception</code>. maybe you&#39;re throwing <code>this.exception</code> somewhere else?"},{"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"score":0,"creation_date":1649871219,"post_id":71845821,"comment_id":126987814,"body_markdown":"it is a subclass of RuntimeException, the this.exception is never thrown, occurs on multiple app versions, AsyncTask does run on another thread but try/catch in doInBackground traps the exception, testing throwing the same error, it is caught correctly","body":"it is a subclass of RuntimeException, the this.exception is never thrown, occurs on multiple app versions, AsyncTask does run on another thread but try/catch in doInBackground traps the exception, testing throwing the same error, it is caught correctly"},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1650031545,"post_id":71845821,"comment_id":127027306,"body_markdown":"If I don&#39;t miss anything, the `org.botlibre.sdk.SDKException` exception should be caught there. Like @Cactusroot mentioned maybe the exception is thrown in the older versions of the app, where there is no `try-catch` block. It would be great, If you could post the code according to the exception lines in the stack trace, e.g. `at ...HttpGoogleSignInAction.doInBackground (HttpGoogleSignInAction.java:13)` line 13 should correspond to the line of your code posted in the question.","body":"If I don&#39;t miss anything, the <code>org.botlibre.sdk.SDKException</code> exception should be caught there. Like @Cactusroot mentioned maybe the exception is thrown in the older versions of the app, where there is no <code>try-catch</code> block. It would be great, If you could post the code according to the exception lines in the stack trace, e.g. <code>at ...HttpGoogleSignInAction.doInBackground (HttpGoogleSignInAction.java:13)</code> line 13 should correspond to the line of your code posted in the question."},{"owner":{"account_id":8238102,"reputation":20380,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1650033737,"post_id":71845821,"comment_id":127028008,"body_markdown":"`doInBackground` appears twice, could you explain?","body":"<code>doInBackground</code> appears twice, could you explain?"},{"owner":{"account_id":3843773,"reputation":2526,"user_id":3186018,"display_name":"Fco P."},"score":0,"creation_date":1650089702,"post_id":71845821,"comment_id":127038505,"body_markdown":"Where did you got that SDK from? POST is not even on the same line in github&#39;s source: https://github.com/BotLibre/BotLibre/blob/master/sdk/android/BotLibre/app/src/main/java/org/botlibre/sdk/SDKConnection.java","body":"Where did you got that SDK from? POST is not even on the same line in github&#39;s source: <a href=\"https://github.com/BotLibre/BotLibre/blob/master/sdk/android/BotLibre/app/src/main/java/org/botlibre/sdk/SDKConnection.java\" rel=\"nofollow noreferrer\">github.com/BotLibre/BotLibre/blob/master/sdk/android/BotLibr&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"score":0,"creation_date":1650389930,"post_id":71845821,"comment_id":127102054,"body_markdown":"Using a newer version, I added the line numbers to the code above.","body":"Using a newer version, I added the line numbers to the code above."},{"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"score":0,"creation_date":1650389998,"post_id":71845821,"comment_id":127102079,"body_markdown":"Seems to be failing from some primitive network failure as from exception message the status code and result must have both been empty","body":"Seems to be failing from some primitive network failure as from exception message the status code and result must have both been empty"},{"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"score":0,"creation_date":1650479066,"post_id":71845821,"comment_id":127128941,"body_markdown":"hmmm, could be possible this.exception it getting used","body":"hmmm, could be possible this.exception it getting used"},{"owner":{"account_id":3403371,"reputation":4535,"user_id":2855059,"accept_rate":71,"display_name":"M D P"},"score":0,"creation_date":1650609774,"post_id":71845821,"comment_id":127163497,"body_markdown":"You are throwing a new `Exception` inside `catch` on the line 2213 which is not handled. See @Tenfour04 &#39;s answer","body":"You are throwing a new <code>Exception</code> inside <code>catch</code> on the line 2213 which is not handled. See @Tenfour04 &#39;s answer"}],"answers":[{"tags":[],"owner":{"account_id":4323963,"reputation":156,"user_id":3531274,"display_name":"inventionsbyhamid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650121631,"creation_date":1650121631,"answer_id":71895025,"question_id":71845821,"body_markdown":"Even though you have your code wrapped in try catch, there is a possibility of a crash if different threads are involved. try catch does not catch exceptions from child threads, so if any of your methods(like .fetch or .connect) used in doInBackground are internally using/creating different threads and an exception is thrown within that thread it might cause the app to crash. Looking at the logs, it is possible the .fetch method is asynchronous and performing operations in a different thread.\r\n\r\n\r\n\r\n","title":"Android crash report shows exception that is caught","body":"<p>Even though you have your code wrapped in try catch, there is a possibility of a crash if different threads are involved. try catch does not catch exceptions from child threads, so if any of your methods(like .fetch or .connect) used in doInBackground are internally using/creating different threads and an exception is thrown within that thread it might cause the app to crash. Looking at the logs, it is possible the .fetch method is asynchronous and performing operations in a different thread.</p>\n"},{"tags":[],"owner":{"account_id":2025182,"reputation":766,"user_id":1810398,"display_name":"Michael Powell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650575368,"creation_date":1650575368,"answer_id":71960906,"question_id":71845821,"body_markdown":"\r\n\r\n```\r\norg.botlibre.sdk.SDKException: \r\n  at org.botlibre.sdk.SDKConnection.POST (SDKConnection.java:2213)\r\n  at org.botlibre.sdk.SDKConnection.fetch (SDKConnection.java:259)\r\n```\r\n\r\nShows that you&#39;re throwing the exception captured here in `doInBackground()`:\r\n``` \r\ntry {\r\n                // User does not exist, try to create user\r\n                this.config = MainActivity.connection.create(this.config);\r\n            } catch (Exception exception) {\r\n                **this.exception = exception;**\r\n            }\r\n        }\r\n```\r\n\r\nEven though this execption is within a catch block, since it&#39;s persisted and then thrown later it is now outside of a try-catch block and can crash the app. That is\r\n\r\n```\r\ntry {\r\n...\r\n} catch (Exception exception) {\r\n        if (this.debug) {\r\n            exception.printStackTrace();\r\n        }\r\n        this.exception = new SDKException(exception);\r\n// This line will throw an execption that will have the message from the original exception. \r\n2213:       throw this.exception;\r\n    }\r\n```\r\nThe source for SDKException&#39;s single exception constructor shows it reuses the message from the exception parameter.","title":"Android crash report shows exception that is caught","body":"<pre><code>org.botlibre.sdk.SDKException: \n  at org.botlibre.sdk.SDKConnection.POST (SDKConnection.java:2213)\n  at org.botlibre.sdk.SDKConnection.fetch (SDKConnection.java:259)\n</code></pre>\n<p>Shows that you're throwing the exception captured here in <code>doInBackground()</code>:</p>\n<pre><code>try {\n                // User does not exist, try to create user\n                this.config = MainActivity.connection.create(this.config);\n            } catch (Exception exception) {\n                **this.exception = exception;**\n            }\n        }\n</code></pre>\n<p>Even though this execption is within a catch block, since it's persisted and then thrown later it is now outside of a try-catch block and can crash the app. That is</p>\n<pre><code>try {\n...\n} catch (Exception exception) {\n        if (this.debug) {\n            exception.printStackTrace();\n        }\n        this.exception = new SDKException(exception);\n// This line will throw an execption that will have the message from the original exception. \n2213:       throw this.exception;\n    }\n</code></pre>\n<p>The source for SDKException's single exception constructor shows it reuses the message from the exception parameter.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650576141,"creation_date":1650576141,"answer_id":71961019,"question_id":71845821,"body_markdown":"You are very clearly *re-throwing* the caught exception on line 2213. If you `throw` an exception from a `catch` block, it escapes the try/catch because you are throwing it from a scope of code that is not surrounded by `try { }`.\r\n\r\nAs for why `fetch()` might be throwing, we would have to see the code to be able to guess.","title":"Android crash report shows exception that is caught","body":"<p>You are very clearly <em>re-throwing</em> the caught exception on line 2213. If you <code>throw</code> an exception from a <code>catch</code> block, it escapes the try/catch because you are throwing it from a scope of code that is not surrounded by <code>try { }</code>.</p>\n<p>As for why <code>fetch()</code> might be throwing, we would have to see the code to be able to guess.</p>\n"}],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1650576141,"creation_date":1649779158,"question_id":71845821,"body_markdown":"I have an Android app written in Java, and recently noticed many crash reports occurring in an AsyncTask. The stack trace makes no sense, as it is inside a try/catch so there is no way for the exception to be thrown. How can a caught exception cause an app crash?\r\n\r\n    13: public class HttpGoogleSignInAction...\r\n    @Override\r\n    protected String doInBackground(Void... voids) {\r\n            try {\r\n                // Check if user exists\r\n                UserConfig user = null;\r\n    31:         user = MainActivity.connection.fetch(this.config);\r\n    \r\n                if (user == null) {\r\n    \r\n                } else {\r\n                    // User exists, try to sign in user\r\n                    this.config = MainActivity.connection.connect(this.config);\r\n                }\r\n            } catch (Exception userDoesNotExist) {\r\n                try {\r\n                    // User does not exist, try to create user\r\n                    this.config = MainActivity.connection.create(this.config);\r\n                } catch (Exception exception) {\r\n                    this.exception = exception;\r\n                }\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n\r\n\r\n    public String POST(String url, String xml) {\r\n\t\tif (this.debug) {\r\n\t\t\tSystem.out.println(&quot;POST: &quot; + url);\r\n\t\t\tSystem.out.println(&quot;XML: &quot; + xml);\r\n\t\t}\r\n\t\tString result = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tHttpClient httpClient = new DefaultHttpClient();\r\n\t\t\tHttpContext localContext = new BasicHttpContext();\r\n\t\t\tHttpPost httpPost = new HttpPost(url);\r\n\t\t\t\r\n\t\t\tStringEntity content = new StringEntity(xml, &quot;utf-8&quot;);\r\n\t\t\tcontent.setContentType(&quot;application/xml&quot;);\r\n\t\t\thttpPost.setEntity(content);\r\n\t\t\t\r\n\t\t\tHttpResponse response = httpClient.execute(httpPost, localContext);\r\n\t\t\t\r\n\t\t\tHttpEntity entity = response.getEntity();\r\n\t\t\tif (entity != null) {\r\n\t\t\t\tresult = EntityUtils.toString(entity, HTTP.UTF_8);\r\n\t\t\t}\r\n\r\n\t\t\tif ((response.getStatusLine().getStatusCode() != 200) &amp;&amp; (response.getStatusLine().getStatusCode() != 204)) {\r\n\t\t\t\tthis.exception = new SDKException(&quot;&quot;\r\n\t\t\t\t   + response.getStatusLine().getStatusCode()\r\n\t\t\t\t   + &quot; : &quot; + result);\r\n\t2205:\t\tthrow this.exception;\r\n\t\t\t}\r\n\t\t} catch (Exception exception) {\r\n\t\t\tif (this.debug) {\r\n\t\t\t\texception.printStackTrace();\r\n\t\t\t}\r\n\t\t\tthis.exception = new SDKException(exception);\r\n\t2213:\t\tthrow this.exception;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nThe stack trace shows the crash occurring in the line,\r\n\r\n    user = MainActivity.connection.fetch(this.config);\r\n\r\nIt is a normal RuntimeException subclass exception being thrown, which should be caught. If I try to force an exception to test it the try/catch works fine and no crash, but in 1% of users using the app I am seeing crashes, others it works fine.\r\nMakes no sense.\r\n\r\nThis is the stack trace from Google Play, SDKException is a subclass of RuntimeException, the line of code it occurs in is inside try/catch\r\n\r\n    org.botlibre.sdk.SDKException: \r\n      at org.botlibre.sdk.SDKConnection.POST (SDKConnection.java:2213)\r\n      at org.botlibre.sdk.SDKConnection.fetch (SDKConnection.java:259)\r\n      at ...HttpGoogleSignInAction.doInBackground (HttpGoogleSignInAction.java:31)\r\n      at ...HttpGoogleSignInAction.doInBackground (HttpGoogleSignInAction.java:13)\r\n      at android.os.AsyncTask$3.call (AsyncTask.java:394)\r\n      at java.util.concurrent.FutureTask.run (FutureTask.java:266)\r\n      at android.os.AsyncTask$SerialExecutor$1.run (AsyncTask.java:305)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:923)\r\n    Caused by: org.botlibre.sdk.SDKException: \r\n      at org.botlibre.sdk.SDKConnection.POST (SDKConnection.java:2205)","title":"Android crash report shows exception that is caught","body":"<p>I have an Android app written in Java, and recently noticed many crash reports occurring in an AsyncTask. The stack trace makes no sense, as it is inside a try/catch so there is no way for the exception to be thrown. How can a caught exception cause an app crash?</p>\n<pre><code>13: public class HttpGoogleSignInAction...\n@Override\nprotected String doInBackground(Void... voids) {\n        try {\n            // Check if user exists\n            UserConfig user = null;\n31:         user = MainActivity.connection.fetch(this.config);\n\n            if (user == null) {\n\n            } else {\n                // User exists, try to sign in user\n                this.config = MainActivity.connection.connect(this.config);\n            }\n        } catch (Exception userDoesNotExist) {\n            try {\n                // User does not exist, try to create user\n                this.config = MainActivity.connection.create(this.config);\n            } catch (Exception exception) {\n                this.exception = exception;\n            }\n        }\n        return &quot;&quot;;\n    }\n\n\npublic String POST(String url, String xml) {\n    if (this.debug) {\n        System.out.println(&quot;POST: &quot; + url);\n        System.out.println(&quot;XML: &quot; + xml);\n    }\n    String result = &quot;&quot;;\n    try {\n        HttpClient httpClient = new DefaultHttpClient();\n        HttpContext localContext = new BasicHttpContext();\n        HttpPost httpPost = new HttpPost(url);\n        \n        StringEntity content = new StringEntity(xml, &quot;utf-8&quot;);\n        content.setContentType(&quot;application/xml&quot;);\n        httpPost.setEntity(content);\n        \n        HttpResponse response = httpClient.execute(httpPost, localContext);\n        \n        HttpEntity entity = response.getEntity();\n        if (entity != null) {\n            result = EntityUtils.toString(entity, HTTP.UTF_8);\n        }\n\n        if ((response.getStatusLine().getStatusCode() != 200) &amp;&amp; (response.getStatusLine().getStatusCode() != 204)) {\n            this.exception = new SDKException(&quot;&quot;\n               + response.getStatusLine().getStatusCode()\n               + &quot; : &quot; + result);\n2205:       throw this.exception;\n        }\n    } catch (Exception exception) {\n        if (this.debug) {\n            exception.printStackTrace();\n        }\n        this.exception = new SDKException(exception);\n2213:       throw this.exception;\n    }\n    return result;\n}\n</code></pre>\n<p>The stack trace shows the crash occurring in the line,</p>\n<pre><code>user = MainActivity.connection.fetch(this.config);\n</code></pre>\n<p>It is a normal RuntimeException subclass exception being thrown, which should be caught. If I try to force an exception to test it the try/catch works fine and no crash, but in 1% of users using the app I am seeing crashes, others it works fine.\nMakes no sense.</p>\n<p>This is the stack trace from Google Play, SDKException is a subclass of RuntimeException, the line of code it occurs in is inside try/catch</p>\n<pre><code>org.botlibre.sdk.SDKException: \n  at org.botlibre.sdk.SDKConnection.POST (SDKConnection.java:2213)\n  at org.botlibre.sdk.SDKConnection.fetch (SDKConnection.java:259)\n  at ...HttpGoogleSignInAction.doInBackground (HttpGoogleSignInAction.java:31)\n  at ...HttpGoogleSignInAction.doInBackground (HttpGoogleSignInAction.java:13)\n  at android.os.AsyncTask$3.call (AsyncTask.java:394)\n  at java.util.concurrent.FutureTask.run (FutureTask.java:266)\n  at android.os.AsyncTask$SerialExecutor$1.run (AsyncTask.java:305)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:923)\nCaused by: org.botlibre.sdk.SDKException: \n  at org.botlibre.sdk.SDKConnection.POST (SDKConnection.java:2205)\n</code></pre>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":4487107,"reputation":672,"user_id":3649347,"display_name":"Tell Me How"},"score":0,"creation_date":1438171023,"post_id":423950,"comment_id":51338564,"body_markdown":"You can check the previously answer thread of similar question :\nhttp://stackoverflow.com/questions/5120116/how-to-create-rounded-jbutton-in-java/31699716#31699716","body":"You can check the previously answer thread of similar question : <a href=\"http://stackoverflow.com/questions/5120116/how-to-create-rounded-jbutton-in-java/31699716#31699716\" title=\"how to create rounded jbutton in java\">stackoverflow.com/questions/5120116/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18835,"reputation":82180,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231414164,"creation_date":1231414164,"answer_id":423960,"question_id":423950,"body_markdown":"Opacity should be set to false, so\r\n\r\n    button.setOpaque(false);\r\n\r\ncould already be what you want.","title":"Rounded Swing JButton using Java","body":"<p>Opacity should be set to false, so</p>\n\n<pre><code>button.setOpaque(false);\n</code></pre>\n\n<p>could already be what you want.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1440443133,"creation_date":1231417926,"answer_id":424081,"question_id":423950,"body_markdown":"Did you try the following?\r\n\r\n    button.setOpaque(false);\r\n    button.setFocusPainted(false);\r\n    button.setBorderPainted(false);\r\n    button.setContentAreaFilled(false);\r\n    setBorder(BorderFactory.createEmptyBorder(0,0,0,0)); // Especially important\r\n\r\n`setBorder(null)` might work, but there is [a bug described at Sun][1] explaining it is by design that the UI sets a border on a component unless the client sets a non-null border which does not implement the `UIResource` interface.\r\n\r\nRather than the JDK itself setting the border to an `EmptyBorder` when null is passed in, the clients should set an `EmptyBorder` themselves (a very easy workaround). That way there is no confusion about who&#39;s doing what in the code.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4192869\r\n","title":"Rounded Swing JButton using Java","body":"<p>Did you try the following?</p>\n<pre><code>button.setOpaque(false);\nbutton.setFocusPainted(false);\nbutton.setBorderPainted(false);\nbutton.setContentAreaFilled(false);\nsetBorder(BorderFactory.createEmptyBorder(0,0,0,0)); // Especially important\n</code></pre>\n<p><code>setBorder(null)</code> might work, but there is <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4192869\" rel=\"nofollow noreferrer\">a bug described at Sun</a> explaining it is by design that the UI sets a border on a component unless the client sets a non-null border which does not implement the <code>UIResource</code> interface.</p>\n<p>Rather than the JDK itself setting the border to an <code>EmptyBorder</code> when null is passed in, the clients should set an <code>EmptyBorder</code> themselves (a very easy workaround). That way there is no confusion about who's doing what in the code.</p>\n"},{"tags":[],"owner":{"account_id":1917,"reputation":17895,"user_id":2644,"accept_rate":82,"display_name":"pek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231441843,"creation_date":1231441843,"answer_id":425473,"question_id":423950,"body_markdown":"I would recommend overriding paint(Graphics g) method as so:\r\n\r\n    class JImageButton extends JComponent implements MouseListener {\r\n        private BufferedImage img = null;\r\n    \r\n        public JImageButton(BufferedImage img) {\r\n            this.img = img;\r\n            setMinimumSize(new Dimension(img.getWidth(), img.getHeight()));\r\n            setOpaque(false);\r\n            addMouseListener(this);\r\n        }\r\n    \r\n        public void paintComponent(Graphics g) {\r\n            g.drawImage(img, 0, 0, img.getWidth(), img.getHeight(), null);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n        }\r\n    }","title":"Rounded Swing JButton using Java","body":"<p>I would recommend overriding paint(Graphics g) method as so:</p>\n\n<pre><code>class JImageButton extends JComponent implements MouseListener {\n    private BufferedImage img = null;\n\n    public JImageButton(BufferedImage img) {\n        this.img = img;\n        setMinimumSize(new Dimension(img.getWidth(), img.getHeight()));\n        setOpaque(false);\n        addMouseListener(this);\n    }\n\n    public void paintComponent(Graphics g) {\n        g.drawImage(img, 0, 0, img.getWidth(), img.getHeight(), null);\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147386,"reputation":7667,"user_id":358471,"accept_rate":50,"display_name":"Lalchand"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1440443247,"creation_date":1283506033,"answer_id":3634480,"question_id":423950,"body_markdown":"Create a new Jbutton:\r\n\r\n        JButton addBtn = new JButton(&quot;+&quot;);\r\n        addBtn.setBounds(x_pos, y_pos, 30, 25);\r\n        addBtn.setBorder(new RoundedBorder(10)); //10 is the radius\r\n        addBtn.setForeground(Color.BLUE);\r\n\r\nwhile setting the border for a JButton, call the overridden `javax.swing.border.Border` class.\r\n\r\n    addBtn.setBorder(new RoundedBorder(10));\r\n\r\nHere is the class\r\n\r\n    private static class RoundedBorder implements Border {\r\n\r\n        private int radius;\r\n\r\n\r\n        RoundedBorder(int radius) {\r\n            this.radius = radius;\r\n        }\r\n\r\n\r\n        public Insets getBorderInsets(Component c) {\r\n            return new Insets(this.radius+1, this.radius+1, this.radius+2, this.radius);\r\n        }\r\n\r\n\r\n        public boolean isBorderOpaque() {\r\n            return true;\r\n        }\r\n\r\n\r\n        public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n            g.drawRoundRect(x, y, width-1, height-1, radius, radius);\r\n        }\r\n    }\r\n","title":"Rounded Swing JButton using Java","body":"<p>Create a new Jbutton:</p>\n\n<pre><code>    JButton addBtn = new JButton(\"+\");\n    addBtn.setBounds(x_pos, y_pos, 30, 25);\n    addBtn.setBorder(new RoundedBorder(10)); //10 is the radius\n    addBtn.setForeground(Color.BLUE);\n</code></pre>\n\n<p>while setting the border for a JButton, call the overridden <code>javax.swing.border.Border</code> class.</p>\n\n<pre><code>addBtn.setBorder(new RoundedBorder(10));\n</code></pre>\n\n<p>Here is the class</p>\n\n<pre><code>private static class RoundedBorder implements Border {\n\n    private int radius;\n\n\n    RoundedBorder(int radius) {\n        this.radius = radius;\n    }\n\n\n    public Insets getBorderInsets(Component c) {\n        return new Insets(this.radius+1, this.radius+1, this.radius+2, this.radius);\n    }\n\n\n    public boolean isBorderOpaque() {\n        return true;\n    }\n\n\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n        g.drawRoundRect(x, y, width-1, height-1, radius, radius);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1477929"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625084429,"creation_date":1365504235,"answer_id":15899815,"question_id":423950,"body_markdown":"1. Drag a normal button to your panel\r\n\r\n2. Right click your button and go to properties:\r\n\r\n```js\r\nborder              = no border\r\nborder painted      = false\r\ncontentAreaFilled   = false\r\nfocusPainted        = false\r\nopaque              = false\r\n```\r\n\r\n3. Set an (icon) and a (rolloverIcon) by importing to project.\r\n","title":"Rounded Swing JButton using Java","body":"<ol>\n<li><p>Drag a normal button to your panel</p>\n</li>\n<li><p>Right click your button and go to properties:</p>\n</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>border              = no border\nborder painted      = false\ncontentAreaFilled   = false\nfocusPainted        = false\nopaque              = false\n</code></pre>\n<ol start=\"3\">\n<li>Set an (icon) and a (rolloverIcon) by importing to project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3089304,"reputation":1317,"user_id":2615793,"accept_rate":79,"display_name":"Luffy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440443576,"creation_date":1430738192,"answer_id":30028771,"question_id":423950,"body_markdown":"You can try the following. It works fine for me, and I also faced the same issue with the button.\r\n\r\n    // Jbutton\r\n    JButton imageButton = new JButton();\r\n\r\n    // Buffered Icon\r\n    BufferedImage buttonIcon = null;\r\n\r\n    try {\r\n        // Get the image and set it to the imageicon\r\n        buttonIcon = ImageIO.read(getClass().getClassLoader().getResource(&quot;images/login.png&quot;));\r\n    }\r\n    catch(Exception ex) {\r\n\r\n    }\r\n\r\n    // Set the image icon here\r\n    imageButton = new JButton(new ImageIcon(buttonIcon));\r\n    imageButton.setBorderPainted(false);\r\n    imageButton.setContentAreaFilled(false);\r\n    imageButton.setFocusPainted(false);\r\n    imageButton.setOpaque(false);\r\n","title":"Rounded Swing JButton using Java","body":"<p>You can try the following. It works fine for me, and I also faced the same issue with the button.</p>\n\n<pre><code>// Jbutton\nJButton imageButton = new JButton();\n\n// Buffered Icon\nBufferedImage buttonIcon = null;\n\ntry {\n    // Get the image and set it to the imageicon\n    buttonIcon = ImageIO.read(getClass().getClassLoader().getResource(\"images/login.png\"));\n}\ncatch(Exception ex) {\n\n}\n\n// Set the image icon here\nimageButton = new JButton(new ImageIcon(buttonIcon));\nimageButton.setBorderPainted(false);\nimageButton.setContentAreaFilled(false);\nimageButton.setFocusPainted(false);\nimageButton.setOpaque(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8984518,"reputation":1,"user_id":6698497,"display_name":"Reeba Babu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1470804776,"creation_date":1470804164,"answer_id":38864412,"question_id":423950,"body_markdown":"You can create an empty border to the button like this:  \r\n\r\n    button.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));","title":"Rounded Swing JButton using Java","body":"<p>You can create an empty border to the button like this:  </p>\n\n<pre><code>button.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13239995,"reputation":446,"user_id":9560885,"display_name":"Luka Kralj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545668708,"creation_date":1545668708,"answer_id":53915715,"question_id":423950,"body_markdown":"I wrote an [OvalButton][1] class that can handle oval, circular and capsule-like shaped JButtons.\r\n\r\nIn your case, extend the [OvalButton][1] class and override `getBackgroundImage()` method to return the image you want to set as the background.\r\nThen add listeners and text as usually. Only a click on the oval/circular area triggers the action.\r\n\r\nExample of your button class:\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class ImageButton extends OvalButton {\r\n        \r\n        private BufferedImage image;\r\n        \r\n        public ImageButton() {\r\n            super(); // Default is oval/circle shape.\r\n            \r\n            setBorderThickness(0); // Oval buttons have some border by default.\r\n            \r\n            try {\r\n                image = ImageIO.read(new File(&quot;your_image.jpg&quot;)); // Replace with the path to your image.\r\n            } \r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n                image = null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected BufferedImage getBackgroundImage() {\r\n            return image;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/lukakralj/Useful_misc/blob/master/Java/ovalButton/OvalButton.java","title":"Rounded Swing JButton using Java","body":"<p>I wrote an <a href=\"https://github.com/lukakralj/Useful_misc/blob/master/Java/ovalButton/OvalButton.java\" rel=\"nofollow noreferrer\">OvalButton</a> class that can handle oval, circular and capsule-like shaped JButtons.</p>\n\n<p>In your case, extend the <a href=\"https://github.com/lukakralj/Useful_misc/blob/master/Java/ovalButton/OvalButton.java\" rel=\"nofollow noreferrer\">OvalButton</a> class and override <code>getBackgroundImage()</code> method to return the image you want to set as the background.\nThen add listeners and text as usually. Only a click on the oval/circular area triggers the action.</p>\n\n<p>Example of your button class:</p>\n\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\npublic class ImageButton extends OvalButton {\n\n    private BufferedImage image;\n\n    public ImageButton() {\n        super(); // Default is oval/circle shape.\n\n        setBorderThickness(0); // Oval buttons have some border by default.\n\n        try {\n            image = ImageIO.read(new File(\"your_image.jpg\")); // Replace with the path to your image.\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n            image = null;\n        }\n    }\n\n    @Override\n    protected BufferedImage getBackgroundImage() {\n        return image;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18596461,"reputation":18,"user_id":13552354,"display_name":"Capta1n_n9m0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650575234,"creation_date":1650575234,"answer_id":71960884,"question_id":423950,"body_markdown":"I just had the same problem and answer of @Lalchand inspired me. I created custom class for rounded borders, that is actually a modified version of `LineBorder` class. It draws two rectangles: `inner` and `outer`. For my case it is ok if border is colored like a background, but if you need something else, you should tinker with detentions of `inner` and `outer`. And as creative liberty I used subpixel rendering for smoother borders. \r\n\r\n    import javax.swing.border.LineBorder;\r\n    import java.awt.*;\r\n    import java.awt.geom.Path2D;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    \r\n    class RoundedBorder extends LineBorder {\r\n    \r\n        private int radius;\r\n        RoundedBorder(Color c, int thickness, int radius) {\r\n            super(c, thickness, true);\r\n            this.radius = radius;\r\n        }\r\n        public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n            // adapted code of LineBorder class\r\n            if ((this.thickness &gt; 0) &amp;&amp; (g instanceof Graphics2D)) {\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                Color oldColor = g2d.getColor();\r\n                g2d.setColor(this.lineColor);\r\n    \r\n                Shape outer;\r\n                Shape inner;\r\n    \r\n                int offs = this.thickness;\r\n                int size = offs + offs;\r\n                outer = new RoundRectangle2D.Float(x, y, width, height, 0, 0);\r\n                inner = new RoundRectangle2D.Float(x + offs, y + offs, width - size, height - size, radius, radius);\r\n                Path2D path = new Path2D.Float(Path2D.WIND_EVEN_ODD);\r\n                path.append(outer, false);\r\n                path.append(inner, false);\r\n                g2d.fill(path);\r\n                g2d.setColor(oldColor);\r\n            }\r\n        }\r\n    }","title":"Rounded Swing JButton using Java","body":"<p>I just had the same problem and answer of @Lalchand inspired me. I created custom class for rounded borders, that is actually a modified version of <code>LineBorder</code> class. It draws two rectangles: <code>inner</code> and <code>outer</code>. For my case it is ok if border is colored like a background, but if you need something else, you should tinker with detentions of <code>inner</code> and <code>outer</code>. And as creative liberty I used subpixel rendering for smoother borders.</p>\n<pre><code>import javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.awt.geom.Path2D;\nimport java.awt.geom.RoundRectangle2D;\n\nclass RoundedBorder extends LineBorder {\n\n    private int radius;\n    RoundedBorder(Color c, int thickness, int radius) {\n        super(c, thickness, true);\n        this.radius = radius;\n    }\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n        // adapted code of LineBorder class\n        if ((this.thickness &gt; 0) &amp;&amp; (g instanceof Graphics2D)) {\n            Graphics2D g2d = (Graphics2D) g;\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            Color oldColor = g2d.getColor();\n            g2d.setColor(this.lineColor);\n\n            Shape outer;\n            Shape inner;\n\n            int offs = this.thickness;\n            int size = offs + offs;\n            outer = new RoundRectangle2D.Float(x, y, width, height, 0, 0);\n            inner = new RoundRectangle2D.Float(x + offs, y + offs, width - size, height - size, radius, radius);\n            Path2D path = new Path2D.Float(Path2D.WIND_EVEN_ODD);\n            path.append(outer, false);\n            path.append(inner, false);\n            g2d.fill(path);\n            g2d.setColor(oldColor);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16866,"reputation":8029,"user_id":37190,"accept_rate":31,"display_name":"Jos&#233; Leal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130304,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":9,"score":25,"last_activity_date":1650575234,"creation_date":1231413930,"question_id":423950,"body_markdown":"Well, I have an image that I would like to put as a background to a button (or something clicable). The problem is that this image is round, so I need to show this image, without any borders, etc.\r\n\r\nThe JComponent that holds this button has a custom background, so the button really needs to only show the image.\r\n\r\nAfter searching Google, I couldn&#39;t manage to do so. I have tried all the following, but with no luck:\r\n\r\n    button.setBorderPainted(false);\r\n    button.setContentAreaFilled(false);\r\n    button.setOpaque(true);\r\n\r\nAnd after I paint the icon at the background, the button paints it, but holds an ugly gray background with borders, etc. I have also tried to use a JLabel and a JButton. And to paint an ImageIcon at it, but if the user resizes or minimizes the window, the icons disappear!\r\n\r\nHow can I fix this?\r\n\r\nI just need to paint and round an image to a JComponent and listen for clicks at it...\r\n","title":"Rounded Swing JButton using Java","body":"<p>Well, I have an image that I would like to put as a background to a button (or something clicable). The problem is that this image is round, so I need to show this image, without any borders, etc.</p>\n\n<p>The JComponent that holds this button has a custom background, so the button really needs to only show the image.</p>\n\n<p>After searching Google, I couldn't manage to do so. I have tried all the following, but with no luck:</p>\n\n<pre><code>button.setBorderPainted(false);\nbutton.setContentAreaFilled(false);\nbutton.setOpaque(true);\n</code></pre>\n\n<p>And after I paint the icon at the background, the button paints it, but holds an ugly gray background with borders, etc. I have also tried to use a JLabel and a JButton. And to paint an ImageIcon at it, but if the user resizes or minimizes the window, the icons disappear!</p>\n\n<p>How can I fix this?</p>\n\n<p>I just need to paint and round an image to a JComponent and listen for clicks at it...</p>\n"},{"tags":["java","maven","inheritance","pom.xml","maven-shade-plugin"],"owner":{"account_id":14722156,"reputation":33,"user_id":10632398,"display_name":"followerOfHistLight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1650574971,"creation_date":1650574971,"question_id":71960842,"body_markdown":"I have a multi-module project with a structure that goes as:\r\n\r\n    -ParentModule\r\n      -AggregateModule\r\n        -pom.xml\r\n        -ShadedModule\r\n          -src\r\n          -pom.xml\r\n      -pom.xml\r\nSo in essence, I&#39;m trying to create a shaded jar for *ShadedModule* which is a submodule/child of *AggregateModule*, which is a submodule/child of *ParentModule*.\r\n\r\nWhen I go to build *ShadedModule* it completes without error. The issue I&#39;m having however is when I look at the POM that is generated, none of the POM properties which *ShadedModule* relies on are resolved. The top of the aforementioned POM looks like\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aggregate-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${parent-module.version}&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n      &lt;artifactId&gt;shaded-module&lt;/artifactId&gt;\r\n      &lt;version&gt;${shaded-module.version}&lt;/version&gt;\r\n\r\n**But** if I build *ShadedModule* without the shaded plugin, the properties are resolved fine and the generated POM looks as it should. \r\n\r\nThe plan is to use *ShadedModule* as a dependency for yet another project. But when trying to build this other project it fails with error:\r\n\r\n    Could not find artifact com.foo.bar:aggregate-module:pom:${parent-module.version}\r\n\r\n\r\nAnyways I need to rely on *ParentModule* for dependency management and so on. Any insights on how to resolve this?\r\n\r\n\r\nSimplified versions of the POMs look like:\r\n\r\n**ShadedModule**\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aggregate-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${parent-module.version}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n    &lt;artifactId&gt;shaded-module&lt;/artifactId&gt;\r\n    &lt;version&gt;${shaded-module.version}&lt;/version&gt;\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                          ...relocate packages and exclude some deps\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n    .\r\n    .\r\n\r\n**AggregateModule**\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${parent-module.version}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;artifactId&gt;aggregate-module&lt;/artifactId&gt;\r\n    &lt;modules&gt;\r\n       &lt;shaded-module&gt;\r\n       .\r\n       .\r\n    &lt;/modules&gt;\r\n\r\n**ParentModule**\r\n\r\n    &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n    &lt;version&gt;${parent-module.version}&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n      &lt;parent-module.version&gt;2.0&lt;/parent-module.version&gt;\r\n      &lt;shaded-module.version&gt;2.2&lt;/shaded-module.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;modules&gt;\r\n      &lt;module&gt;aggregate-module&lt;/module&gt;\r\n      .\r\n    &lt;/modules&gt;\r\n    &lt;dependencyManagement&gt;\r\n      .\r\n      .\r\n\r\n\r\n\r\n\r\n","title":"Maven child module does not inherit parents&#39; POM properties when using Shade plugin","body":"<p>I have a multi-module project with a structure that goes as:</p>\n<pre><code>-ParentModule\n  -AggregateModule\n    -pom.xml\n    -ShadedModule\n      -src\n      -pom.xml\n  -pom.xml\n</code></pre>\n<p>So in essence, I'm trying to create a shaded jar for <em>ShadedModule</em> which is a submodule/child of <em>AggregateModule</em>, which is a submodule/child of <em>ParentModule</em>.</p>\n<p>When I go to build <em>ShadedModule</em> it completes without error. The issue I'm having however is when I look at the POM that is generated, none of the POM properties which <em>ShadedModule</em> relies on are resolved. The top of the aforementioned POM looks like</p>\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n    &lt;artifactId&gt;aggregate-module&lt;/artifactId&gt;\n    &lt;version&gt;${parent-module.version}&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n  &lt;artifactId&gt;shaded-module&lt;/artifactId&gt;\n  &lt;version&gt;${shaded-module.version}&lt;/version&gt;\n</code></pre>\n<p><strong>But</strong> if I build <em>ShadedModule</em> without the shaded plugin, the properties are resolved fine and the generated POM looks as it should.</p>\n<p>The plan is to use <em>ShadedModule</em> as a dependency for yet another project. But when trying to build this other project it fails with error:</p>\n<pre><code>Could not find artifact com.foo.bar:aggregate-module:pom:${parent-module.version}\n</code></pre>\n<p>Anyways I need to rely on <em>ParentModule</em> for dependency management and so on. Any insights on how to resolve this?</p>\n<p>Simplified versions of the POMs look like:</p>\n<p><strong>ShadedModule</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n    &lt;artifactId&gt;aggregate-module&lt;/artifactId&gt;\n    &lt;version&gt;${parent-module.version}&lt;/version&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n&lt;artifactId&gt;shaded-module&lt;/artifactId&gt;\n&lt;version&gt;${shaded-module.version}&lt;/version&gt;\n    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                      ...relocate packages and exclude some deps\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n.\n.\n</code></pre>\n<p><strong>AggregateModule</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n    &lt;version&gt;${parent-module.version}&lt;/version&gt;\n&lt;/parent&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;artifactId&gt;aggregate-module&lt;/artifactId&gt;\n&lt;modules&gt;\n   &lt;shaded-module&gt;\n   .\n   .\n&lt;/modules&gt;\n</code></pre>\n<p><strong>ParentModule</strong></p>\n<pre><code>&lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n&lt;version&gt;${parent-module.version}&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;properties&gt;\n  &lt;parent-module.version&gt;2.0&lt;/parent-module.version&gt;\n  &lt;shaded-module.version&gt;2.2&lt;/shaded-module.version&gt;\n&lt;/properties&gt;\n&lt;modules&gt;\n  &lt;module&gt;aggregate-module&lt;/module&gt;\n  .\n&lt;/modules&gt;\n&lt;dependencyManagement&gt;\n  .\n  .\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jakarta-ee","hibernate-validator"],"owner":{"account_id":4687856,"reputation":2198,"user_id":3794798,"accept_rate":90,"display_name":"kkochanski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650574776,"creation_date":1631085990,"question_id":69098682,"body_markdown":"**Controller**\r\n``` lang-java\r\npublic String dummyAction(@Valid @ModelAttribute DummyInputData inputData) {\r\n        return &quot;success&quot;;\r\n    }\r\n```\r\n**Entity**\r\n``` lang-java\r\npublic class DummyInputData {\r\n    private Integer more;\r\n\r\n    public Integer getMore() {\r\n        return more;\r\n    }\r\n    \r\n    public DummyInputData setMore(Integer more) {\r\n        this.more = more;\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nOnce I will send in POST a String in `more` field like `this is my test`, I will receive this error:\r\n``` lang-java\r\nFailed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39; for property &#39;more&#39;; nested exception is java.lang.NumberFormatException: For input string: \\&quot;this is my test\\&quot;\r\n```\r\n\r\nI would like to change that message to something custom.\r\n\r\nI followed other questions and tutorials. In the end, I tried this kind of overwriting in properties files, though it didn&#39;t work. File is properly loaded - I was able to overwrite other messages. \r\n\r\n**Used declarations in messages properties file**\r\n``` lang-java\r\ntypeMismatch.more=You provided invalid value\r\njavax.validation.constraints.typeMismatch.more=You provided invalid value\r\n\r\n\r\njavax.validation.constraints.typeMismatch.int={0} Value must be an integer\r\ntypeMismatch.int={0} Value must be an integer\r\njavax.validation.constraints.typeMismatch.java.lang.Integer={0} must be an integer\r\ntypeMismatch.java.lang.Integer={0} must be an integer\r\ntypeMismatch={0} is of invalid format\r\njavax.validation.constraints.typeMismatch={0} is of invalid format\r\n```\r\n\r\nI&#39;m aware that I&#39;m able to use Controller Advice and catch `TypeMismatchException`, though I would prefer to add a custom message to the validation response. What then would be the proper approach of overwriting that generic type mismatch message?","title":"Custom message for Type Mismatch validation error while using Spring Boot and Hibernate Validator","body":"<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public String dummyAction(@Valid @ModelAttribute DummyInputData inputData) {\n        return &quot;success&quot;;\n    }\n</code></pre>\n<p><strong>Entity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DummyInputData {\n    private Integer more;\n\n    public Integer getMore() {\n        return more;\n    }\n    \n    public DummyInputData setMore(Integer more) {\n        this.more = more;\n        return this;\n    }\n}\n</code></pre>\n<p>Once I will send in POST a String in <code>more</code> field like <code>this is my test</code>, I will receive this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Failed to convert property value of type 'java.lang.String' to required type 'java.lang.Integer' for property 'more'; nested exception is java.lang.NumberFormatException: For input string: \\&quot;this is my test\\&quot;\n</code></pre>\n<p>I would like to change that message to something custom.</p>\n<p>I followed other questions and tutorials. In the end, I tried this kind of overwriting in properties files, though it didn't work. File is properly loaded - I was able to overwrite other messages.</p>\n<p><strong>Used declarations in messages properties file</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>typeMismatch.more=You provided invalid value\njavax.validation.constraints.typeMismatch.more=You provided invalid value\n\n\njavax.validation.constraints.typeMismatch.int={0} Value must be an integer\ntypeMismatch.int={0} Value must be an integer\njavax.validation.constraints.typeMismatch.java.lang.Integer={0} must be an integer\ntypeMismatch.java.lang.Integer={0} must be an integer\ntypeMismatch={0} is of invalid format\njavax.validation.constraints.typeMismatch={0} is of invalid format\n</code></pre>\n<p>I'm aware that I'm able to use Controller Advice and catch <code>TypeMismatchException</code>, though I would prefer to add a custom message to the validation response. What then would be the proper approach of overwriting that generic type mismatch message?</p>\n"},{"tags":["java","timezone","iso8601","timezone-offset"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1486945153,"post_id":42194571,"comment_id":71551753,"body_markdown":"The second bullet point makes this question rather broad.","body":"The second bullet point makes this question rather broad."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1486946624,"post_id":42194571,"comment_id":71552130,"body_markdown":"The way I read [the W3C description](https://www.w3.org/TR/NOTE-datetime), you seem to be correct: ISO 8601 supports zone offsets, but not timezones with variable offsets (typically timezones with summer time, which goes for many of the IANA timezones).","body":"The way I read <a href=\"https://www.w3.org/TR/NOTE-datetime\" rel=\"nofollow noreferrer\">the W3C description</a>, you seem to be correct: ISO 8601 supports zone offsets, but not timezones with variable offsets (typically timezones with summer time, which goes for many of the IANA timezones)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1486965239,"post_id":42194571,"comment_id":71556820,"body_markdown":"@OleV.V. The W3C Note document you linked is but a brief synopsis of the actual ISO 8601 standard. I suggest reading the excellent [Wikipedia article on ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and on [week date](https://en.wikipedia.org/wiki/ISO_week_date), and perhaps a [draft of the standard](https://duckduckgo.com/?q=ISO+8601+draft&amp;t=osx&amp;ia=web) (official standard is behind a paywall).","body":"@OleV.V. The W3C Note document you linked is but a brief synopsis of the actual ISO 8601 standard. I suggest reading the excellent <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article on ISO 8601</a> and on <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">week date</a>, and perhaps a <a href=\"https://duckduckgo.com/?q=ISO+8601+draft&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">draft of the standard</a> (official standard is behind a paywall)."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1492608569,"post_id":42194571,"comment_id":74048541,"body_markdown":"I just want to note that I&#39;m amazed that, at the time the bounty is expiring, all these people and all these comments could come up with _only one other example of a library/platform_ (@MattJohnson mentioned Node Time) that includes the time zone in a string format!","body":"I just want to note that I&#39;m amazed that, at the time the bounty is expiring, all these people and all these comments could come up with <i>only one other example of a library/platform</i> (@MattJohnson mentioned Node Time) that includes the time zone in a string format!"}],"answers":[{"tags":[],"owner":{"account_id":317896,"reputation":233676,"user_id":634824,"accept_rate":87,"display_name":"Matt Johnson-Pint"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1650574723,"creation_date":1486958022,"answer_id":42196445,"question_id":42194571,"body_markdown":"## Update:\r\n\r\nThere&#39;s now a draft IETF proposal to extend RFC3339 with the time zone identifier in square brackets, among other things: https://datatracker.ietf.org/doc/draft-ietf-sedate-datetime-extended/\r\n\r\n## Original Answer:\r\n\r\n\r\n&gt; I understand these are not supported by ISO 8601, correct?\r\n\r\nCorrect.  ISO-8601 does not concern itself with time zone identifiers.  IANA/Olson TZ names are not a &quot;standard&quot;.  They are just the most reliable thing we have.  (Some may consider them the *de facto* standard.)\r\n\r\n&gt; What are platforms doing to support this?\r\n\r\nSupport what exactly?  This part of your question is unclear.  If you mean to support IANA time zones, well that&#39;s all over the place.  Some platforms have them built-in, and some rely on libraries.  If you mean to support a string representation of an ISO-8601 date-time-offset + time zone ID, some platforms have this and some do not.  You&#39;ll have to be more specific if you want to know more.\r\n\r\n&gt; I notice that the latest Java date/time library is using an extended ISO 8601 format for this, e.g. 2011-12-03T10:15:30+01:00[Europe/Paris]. (See DateTimeFormatter API.)\r\n\r\nI think you are talking about [`DateTimeFormatter.ISO_ZONED_DATE_TIME`][1].  The docs say specifically:\r\n\r\n&gt; The ISO-**like** date-time formatter...\r\n&gt;\r\n&gt; ...extends the ISO-8601 extended offset date-time format to add the time-zone. The section in square brackets **is not part of the ISO-8601 standard.**\r\n\r\nSo this is Java&#39;s specific format, not a standard.\r\n\r\n&gt; Is there some converging convention (e.g. with other languages and platforms) for extending ISO 8601 to support time zone designation?\r\n\r\nAs far as I know, there is currently no standard that covers the combining of an ISO8601 timestamp and an IANA time zone identifier into a single format.  One could represent it many different ways, including:\r\n\r\n- `2011-12-03T10:15:30+01:00[Europe/Paris]`  (this is the default in Java 8)\r\n- `2011-12-03T10:15:30+01:00(Europe/Paris)`\r\n- `2011-12-03T10:15:30+01:00 Europe/Paris`\r\n- `2011-12-03T10:15:30+01:00 - Europe/Paris`\r\n- `2011-12-03T10:15:30+01:00/Europe/Paris`\r\n- `2011-12-03T10:15:30+01:00|Europe/Paris`\r\n- `2011-12-03T10:15:30 Europe/Paris (+01)`    (this is the default in Noda Time)\r\n\r\nIf what you&#39;re looking for is a way to include a `ZonedDateTime` or similar data in an API in a standardized manner, my personal recommendation would be to pass the time zone name in a separate field.  That way, each portion of data is as good as it can be.  For example in JSON:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n      &quot;timestamp&quot;: &quot;2011-12-03T10:15:30+01:00&quot;,\r\n      &quot;timezone&quot;: &quot;Europe/Paris&quot;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME","title":"Identifying time zones in ISO 8601","body":"<h2>Update:</h2>\n<p>There's now a draft IETF proposal to extend RFC3339 with the time zone identifier in square brackets, among other things: <a href=\"https://datatracker.ietf.org/doc/draft-ietf-sedate-datetime-extended/\" rel=\"noreferrer\">https://datatracker.ietf.org/doc/draft-ietf-sedate-datetime-extended/</a></p>\n<h2>Original Answer:</h2>\n<blockquote>\n<p>I understand these are not supported by ISO 8601, correct?</p>\n</blockquote>\n<p>Correct.  ISO-8601 does not concern itself with time zone identifiers.  IANA/Olson TZ names are not a &quot;standard&quot;.  They are just the most reliable thing we have.  (Some may consider them the <em>de facto</em> standard.)</p>\n<blockquote>\n<p>What are platforms doing to support this?</p>\n</blockquote>\n<p>Support what exactly?  This part of your question is unclear.  If you mean to support IANA time zones, well that's all over the place.  Some platforms have them built-in, and some rely on libraries.  If you mean to support a string representation of an ISO-8601 date-time-offset + time zone ID, some platforms have this and some do not.  You'll have to be more specific if you want to know more.</p>\n<blockquote>\n<p>I notice that the latest Java date/time library is using an extended ISO 8601 format for this, e.g. 2011-12-03T10:15:30+01:00[Europe/Paris]. (See DateTimeFormatter API.)</p>\n</blockquote>\n<p>I think you are talking about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME\" rel=\"noreferrer\"><code>DateTimeFormatter.ISO_ZONED_DATE_TIME</code></a>.  The docs say specifically:</p>\n<blockquote>\n<p>The ISO-<strong>like</strong> date-time formatter...</p>\n<p>...extends the ISO-8601 extended offset date-time format to add the time-zone. The section in square brackets <strong>is not part of the ISO-8601 standard.</strong></p>\n</blockquote>\n<p>So this is Java's specific format, not a standard.</p>\n<blockquote>\n<p>Is there some converging convention (e.g. with other languages and platforms) for extending ISO 8601 to support time zone designation?</p>\n</blockquote>\n<p>As far as I know, there is currently no standard that covers the combining of an ISO8601 timestamp and an IANA time zone identifier into a single format.  One could represent it many different ways, including:</p>\n<ul>\n<li><code>2011-12-03T10:15:30+01:00[Europe/Paris]</code>  (this is the default in Java 8)</li>\n<li><code>2011-12-03T10:15:30+01:00(Europe/Paris)</code></li>\n<li><code>2011-12-03T10:15:30+01:00 Europe/Paris</code></li>\n<li><code>2011-12-03T10:15:30+01:00 - Europe/Paris</code></li>\n<li><code>2011-12-03T10:15:30+01:00/Europe/Paris</code></li>\n<li><code>2011-12-03T10:15:30+01:00|Europe/Paris</code></li>\n<li><code>2011-12-03T10:15:30 Europe/Paris (+01)</code>    (this is the default in Noda Time)</li>\n</ul>\n<p>If what you're looking for is a way to include a <code>ZonedDateTime</code> or similar data in an API in a standardized manner, my personal recommendation would be to pass the time zone name in a separate field.  That way, each portion of data is as good as it can be.  For example in JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;timestamp&quot;: &quot;2011-12-03T10:15:30+01:00&quot;,\n  &quot;timezone&quot;: &quot;Europe/Paris&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1627402067,"creation_date":1486967033,"answer_id":42197805,"question_id":42194571,"body_markdown":"The [Answer by Matt Johnson][1] is spot-on correct. I&#39;ll just add a few thoughts.\r\n\r\n# Time zone versus offset-from-UTC\r\n\r\nAn [offset-from-UTC](https://en.wikipedia.org/wiki/UTC_offset) is merely a number of hours, minutes, and seconds ahead/behind [UTC][2]. Alone, this does make a date-time into a specific moment on the timeline. But it is not nearly as informative as including the [official time zone name][3] as well.\r\n\r\nWhile there is no standard yet for including the time zone name, I do hope others follow the lead of the java.time classes in appending in square brackets the name of the time zone. This format seems sensible to me as it would be simple to truncate the square-bracket portion to be backward-compatible with non-savvy software.\r\n\r\nFor example:&lt;br /&gt;`2011-12-03T10:15:30+01:00[Europe/Paris]`. If the data were only `2011-12-03T10:15:30+01:00`, we would be able to identify the moment on the timeline, but would not be able to adjust other moments into the same frame of mind as we would not know what rules of adjustment to apply. Zones such as `Europe/Zagreb`, `Africa/Brazzaville`, `Arctic/Longyearbyen`, and `Europe/Isle_of_Man` all share the offset of `+01:00`, but they may well have other adjustments in force differing from those of `Europe/Paris`. So if you were to try to add three days to the value `2011-12-03T10:15:30+01:00`, you really cannot faithfully compute the result because you do not know what adjustments may need to apply such as DST cutovers that may be occurring during those three days.\r\n\r\nA time zone defines the set of rules for handling anomalies such as [Daylight Saving Time (DST)][4]. Politicians around the world enjoy making adjustments to their time zones, or even re-defining them. So these rules change frequently. Think of a time zone as a collection of offsets over time, many periods of time in history wherein each period had a particular offset in use in that particular region.\r\n\r\nYou can think of a time zone as a collection of offset-from-UTC values. In [`America/Los_Angeles`][5] part of this year is 8 hours behind UTC, and part of the year will be 7 hours behind UTC. That makes 2 points of data collected as part of that time zone. \r\n\r\nAnother example, in previous years, Turkey spent part of each year 2 hours ahead of UTC and part of each year 3 hours ahead. In 2016, that changed to indefinitely staying 3 hours ahead. So, multiple points of data in the time zone `Europe/Istanbul`. \r\n\r\n# Just use UTC\r\n\r\nPersonally I do not see much value in even using values such as `2011-12-03T10:15:30+01:00`. Without a time zone, you might just as well use UTC alone. In this case, `2011-12-03T09:15:30Z` (9 AM instead of 10 AM). \r\n\r\nGenerally the best practice is to use UTC when storing and exchanging date-time values. **Think of UTC as the One-True-Time**, with zoned or offset values being mere variations.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42196445/642706\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [4]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [5]: https://en.wikipedia.org/wiki/America/Los_Angeles","title":"Identifying time zones in ISO 8601","body":"<p>The <a href=\"https://stackoverflow.com/a/42196445/642706\">Answer by Matt Johnson</a> is spot-on correct. I'll just add a few thoughts.</p>\n<h1 id=\"time-zone-versus-offset-from-utc-umm2\">Time zone versus offset-from-UTC</h1>\n<p>An <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> is merely a number of hours, minutes, and seconds ahead/behind <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. Alone, this does make a date-time into a specific moment on the timeline. But it is not nearly as informative as including the <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">official time zone name</a> as well.</p>\n<p>While there is no standard yet for including the time zone name, I do hope others follow the lead of the java.time classes in appending in square brackets the name of the time zone. This format seems sensible to me as it would be simple to truncate the square-bracket portion to be backward-compatible with non-savvy software.</p>\n<p>For example:<br /><code>2011-12-03T10:15:30+01:00[Europe/Paris]</code>. If the data were only <code>2011-12-03T10:15:30+01:00</code>, we would be able to identify the moment on the timeline, but would not be able to adjust other moments into the same frame of mind as we would not know what rules of adjustment to apply. Zones such as <code>Europe/Zagreb</code>, <code>Africa/Brazzaville</code>, <code>Arctic/Longyearbyen</code>, and <code>Europe/Isle_of_Man</code> all share the offset of <code>+01:00</code>, but they may well have other adjustments in force differing from those of <code>Europe/Paris</code>. So if you were to try to add three days to the value <code>2011-12-03T10:15:30+01:00</code>, you really cannot faithfully compute the result because you do not know what adjustments may need to apply such as DST cutovers that may be occurring during those three days.</p>\n<p>A time zone defines the set of rules for handling anomalies such as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a>. Politicians around the world enjoy making adjustments to their time zones, or even re-defining them. So these rules change frequently. Think of a time zone as a collection of offsets over time, many periods of time in history wherein each period had a particular offset in use in that particular region.</p>\n<p>You can think of a time zone as a collection of offset-from-UTC values. In <a href=\"https://en.wikipedia.org/wiki/America/Los_Angeles\" rel=\"noreferrer\"><code>America/Los_Angeles</code></a> part of this year is 8 hours behind UTC, and part of the year will be 7 hours behind UTC. That makes 2 points of data collected as part of that time zone.</p>\n<p>Another example, in previous years, Turkey spent part of each year 2 hours ahead of UTC and part of each year 3 hours ahead. In 2016, that changed to indefinitely staying 3 hours ahead. So, multiple points of data in the time zone <code>Europe/Istanbul</code>.</p>\n<h1 id=\"just-use-utc-1ae5\">Just use UTC</h1>\n<p>Personally I do not see much value in even using values such as <code>2011-12-03T10:15:30+01:00</code>. Without a time zone, you might just as well use UTC alone. In this case, <code>2011-12-03T09:15:30Z</code> (9 AM instead of 10 AM).</p>\n<p>Generally the best practice is to use UTC when storing and exchanging date-time values. <strong>Think of UTC as the One-True-Time</strong>, with zoned or offset values being mere variations.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63052,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"answer_count":2,"score":47,"last_activity_date":1650574723,"creation_date":1486942638,"question_id":42194571,"body_markdown":"No, I&#39;m not talking about zone offsets --- those can vary during the year for a region based on e.g. DST. I&#39;m talking about the actual [time zones maintained by IANA][1]. I understand these are _not_ supported by ISO 8601, correct?\r\n\r\nWhat are platforms doing to support identifying time zones in ISO 8601-like string representations? I notice that the latest Java date/time library is using an extended ISO 8601 format for this, e.g. `2011-12-03T10:15:30+01:00[Europe/Paris]`. (See [DateTimeFormatter API][2].)\r\n\r\nIs there some converging convention (e.g. with other languages and platforms) for extending ISO 8601 to support time zone designation?\r\n\r\n  [1]: https://www.iana.org/time-zones\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Identifying time zones in ISO 8601","body":"<p>No, I'm not talking about zone offsets --- those can vary during the year for a region based on e.g. DST. I'm talking about the actual <a href=\"https://www.iana.org/time-zones\" rel=\"noreferrer\">time zones maintained by IANA</a>. I understand these are <em>not</em> supported by ISO 8601, correct?</p>\n\n<p>What are platforms doing to support identifying time zones in ISO 8601-like string representations? I notice that the latest Java date/time library is using an extended ISO 8601 format for this, e.g. <code>2011-12-03T10:15:30+01:00[Europe/Paris]</code>. (See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">DateTimeFormatter API</a>.)</p>\n\n<p>Is there some converging convention (e.g. with other languages and platforms) for extending ISO 8601 to support time zone designation?</p>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"score":0,"creation_date":1655472724,"post_id":71960803,"comment_id":128347089,"body_markdown":"The WebpushNotification class is specific to browsers, while the Notification class is specific to mobile devices.  Notification can take an android or ios config.  The problem that I had is that I wanted to send silent notifications through the Java Firebase Admin API, and Notification does not have a silent option (but WebpushNotification does!?!?).","body":"The WebpushNotification class is specific to browsers, while the Notification class is specific to mobile devices.  Notification can take an android or ios config.  The problem that I had is that I wanted to send silent notifications through the Java Firebase Admin API, and Notification does not have a silent option (but WebpushNotification does!?!?)."},{"owner":{"account_id":4433142,"reputation":149,"user_id":3609777,"display_name":"Yandiro"},"score":0,"creation_date":1655616476,"post_id":71960803,"comment_id":128371374,"body_markdown":"I think you can find your answer here: https://firebase.google.com/docs/reference/admin/java/reference/com/google/firebase/messaging/Message","body":"I think you can find your answer here: <a href=\"https://firebase.google.com/docs/reference/admin/java/reference/com/google/firebase/messaging/Message\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/admin/java/reference/com/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650574682,"creation_date":1650574682,"question_id":71960803,"body_markdown":"Does com.google.firebase.messaging.Notification conform to the same underlying messaging as com.google.firebase.messaging.WebpushNotification?  The [Google documentation][1] states that WebpushNotification conforms to the mozilla web notification specification, but doesn&#39;t say anything about the underlying message generated by the Notification class.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/admin/java/reference/com/google/firebase/messaging/WebpushNotification","title":"Firebase Notification vs WebpushNotification","body":"<p>Does com.google.firebase.messaging.Notification conform to the same underlying messaging as com.google.firebase.messaging.WebpushNotification?  The <a href=\"https://firebase.google.com/docs/reference/admin/java/reference/com/google/firebase/messaging/WebpushNotification\" rel=\"nofollow noreferrer\">Google documentation</a> states that WebpushNotification conforms to the mozilla web notification specification, but doesn't say anything about the underlying message generated by the Notification class.</p>\n"},{"tags":["java","arrays","char"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1650570858,"post_id":71960135,"comment_id":127156424,"body_markdown":"Where is the error? And what is `rotors`? And `rotations`?","body":"Where is the error? And what is <code>rotors</code>? And <code>rotations</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650572289,"post_id":71960135,"comment_id":127156887,"body_markdown":"It would probably help you to post all the code","body":"It would probably help you to post all the code"},{"owner":{"account_id":24644681,"reputation":197,"user_id":18542460,"display_name":"Chspsa"},"score":0,"creation_date":1650572498,"post_id":71960135,"comment_id":127156960,"body_markdown":"Does it say what line the error is","body":"Does it say what line the error is"}],"answers":[{"tags":[],"owner":{"account_id":5073291,"reputation":56,"user_id":4071466,"display_name":"abdurrhman el shimy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650574419,"creation_date":1650574419,"answer_id":71960757,"question_id":71960135,"body_markdown":"I think the problem is you are comparing a char array `n` to a char `normal[o]` in rot1 on line 94 `if (n == normal[o]) {`. You might want to compare `n[o]` to `normal[o]` instead.\r\n\r\nSimilarly, you can&#39;t assign `n = rotor1[o];`, you might want to assign `n[o]` instead. This is also the case with the functions rot2 to rot5.\r\n\r\nHope this was helpful.","title":"Converting a scanner.next() to a char[]","body":"<p>I think the problem is you are comparing a char array <code>n</code> to a char <code>normal[o]</code> in rot1 on line 94 <code>if (n == normal[o]) {</code>. You might want to compare <code>n[o]</code> to <code>normal[o]</code> instead.</p>\n<p>Similarly, you can't assign <code>n = rotor1[o];</code>, you might want to assign <code>n[o]</code> instead. This is also the case with the functions rot2 to rot5.</p>\n<p>Hope this was helpful.</p>\n"}],"owner":{"account_id":25041665,"reputation":15,"user_id":18898475,"display_name":"Liveside"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71960757,"answer_count":1,"score":0,"last_activity_date":1650574419,"creation_date":1650570396,"question_id":71960135,"body_markdown":"I want to give a function a char array from scanner.next(). I only get an error message if I try to convert it like I do it now:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Enigma {\r\n    private static boolean finish = false;\r\n    private static int temp = 0;\r\n    private static int[] rotors = { 1, 2, 3, 4, 5 };\r\n    private static int[] used = { 6, 6, 6 };\r\n    private static int[] rotations = { 0, 0, 0 };\r\n    private static char[] rotor1 = { &#39;C&#39;, &#39;N&#39;, &#39;D&#39;, &#39;L&#39;, &#39;H&#39;, &#39;Q&#39;, &#39;B&#39;, &#39;O&#39;, &#39;Y&#39;, &#39;G&#39;, &#39;R&#39;, &#39;T&#39;, &#39;U&#39;, &#39;E&#39;, &#39;M&#39;, &#39;V&#39;,\r\n            &#39;S&#39;, &#39;Z&#39;, &#39;P&#39;, &#39;W&#39;, &#39;F&#39;, &#39;I&#39;, &#39;A&#39;, &#39;X&#39;, &#39;K&#39;, &#39;J&#39; };\r\n    private static char[] rotor2 = { &#39;H&#39;, &#39;P&#39;, &#39;N&#39;, &#39;Y&#39;, &#39;X&#39;, &#39;B&#39;, &#39;U&#39;, &#39;E&#39;, &#39;R&#39;, &#39;Q&#39;, &#39;L&#39;, &#39;T&#39;, &#39;S&#39;, &#39;D&#39;, &#39;Z&#39;, &#39;W&#39;,\r\n            &#39;I&#39;, &#39;K&#39;, &#39;C&#39;, &#39;J&#39;, &#39;O&#39;, &#39;F&#39;, &#39;M&#39;, &#39;A&#39;, &#39;V&#39;, &#39;G&#39; };\r\n    private static char[] rotor3 = { &#39;J&#39;, &#39;I&#39;, &#39;H&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;P&#39;, &#39;E&#39;, &#39;U&#39;, &#39;S&#39;, &#39;L&#39;, &#39;G&#39;, &#39;V&#39;, &#39;K&#39;, &#39;D&#39;, &#39;A&#39;, &#39;B&#39;,\r\n            &#39;X&#39;, &#39;O&#39;, &#39;T&#39;, &#39;M&#39;, &#39;N&#39;, &#39;F&#39;, &#39;W&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;C&#39; };\r\n    private static char[] rotor4 = { &#39;M&#39;, &#39;K&#39;, &#39;U&#39;, &#39;Z&#39;, &#39;D&#39;, &#39;B&#39;, &#39;G&#39;, &#39;R&#39;, &#39;Y&#39;, &#39;F&#39;, &#39;X&#39;, &#39;Q&#39;, &#39;H&#39;, &#39;C&#39;, &#39;A&#39;, &#39;N&#39;,\r\n            &#39;E&#39;, &#39;L&#39;, &#39;T&#39;, &#39;J&#39;, &#39;I&#39;, &#39;P&#39;, &#39;S&#39;, &#39;V&#39;, &#39;O&#39;, &#39;W&#39; };\r\n    private static char[] rotor5 = { &#39;S&#39;, &#39;K&#39;, &#39;J&#39;, &#39;O&#39;, &#39;T&#39;, &#39;H&#39;, &#39;U&#39;, &#39;Y&#39;, &#39;G&#39;, &#39;Z&#39;, &#39;F&#39;, &#39;L&#39;, &#39;I&#39;, &#39;X&#39;, &#39;P&#39;, &#39;V&#39;,\r\n            &#39;R&#39;, &#39;Q&#39;, &#39;E&#39;, &#39;D&#39;, &#39;M&#39;, &#39;A&#39;, &#39;C&#39;, &#39;W&#39;, &#39;B&#39;, &#39;N&#39; };\r\n    private static char[] normal = { &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;,\r\n            &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39; };\r\n    private static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String args[]) {\r\n        System.out.println(&quot;Bitte geben sie den ersten Rotor an&quot;);\r\n        tr(Integer.parseInt(scanner.next()) - 1, 1);\r\n        System.out.println(&quot;Bitte geben sie den zweiten Rotor an&quot;);\r\n        tr(Integer.parseInt(scanner.next()) - 1, 2);\r\n        System.out.println(&quot;Bitte geben sie den dritten Rotor an&quot;);\r\n        tr(Integer.parseInt(scanner.next()) - 1, 3);\r\n        System.out.println(&quot;Bitte geben sie nun die Rotation f&#252;r den ersten Rotor an&quot;);\r\n        rerot(0, Integer.parseInt(scanner.next()));\r\n        System.out.println(&quot;Bitte geben sie nun die Rotation f&#252;r den zweiten Rotor an&quot;);\r\n        rerot(1, Integer.parseInt(scanner.next()));\r\n        System.out.println(&quot;Bitte geben sie nun die Rotation f&#252;r den dritten Rotor an&quot;);\r\n        rerot(2, Integer.parseInt(scanner.next()));\r\n        while (finish == false) {\r\n            System.out.println(\r\n                    &quot;Bitte geben sie den Buchstaben ein, den sie Transkripieren wollen. Oder geben sie &#39;stop&#39; ein um das Programm zu beenden&quot;);\r\n            System.out.println(rotor(scanner.next().toCharArray()));\r\n        }\r\n    }\r\n\r\n    private static void tr(int n, int m) {\r\n        n = check(n);\r\n        used[m - 1] = rotors[n];\r\n    }\r\n\r\n    private static int check(int n) {\r\n        for (int i = 0; i &lt; used.length; i++) {\r\n            if (rotors[n] == used[i] || n &lt; 0 || n &gt; 4) {\r\n                System.out.println(\r\n                        &quot;Dieser Rotor ist entweder nicht vorhanden oder wurde schon benutzt. Bitte geben sie einen g&#252;ltigen Rotor an&quot;);\r\n                n = check(Integer.parseInt(scanner.next()) - 1);\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\n    private static void rerot(int n, int m) {\r\n        while (m &gt; 25) {\r\n            m = m - 26;\r\n        }\r\n        rotations[n] = m;\r\n    }\r\n\r\n    private static char[] rotor(char[] n) {\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            temp = rotors[i];\r\n            switch (temp) {\r\n                case 1:\r\n                    n = rot1(n, rotations[i]);\r\n                    break;\r\n                case 2:\r\n                    n = rot2(n, rotations[i]);\r\n                    break;\r\n                case 3:\r\n                    n = rot3(n, rotations[i]);\r\n                    break;\r\n                case 4:\r\n                    n = rot4(n, rotations[i]);\r\n                    break;\r\n                case 5:\r\n                    n = rot5(n, rotations[i]);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\n    private static char[] rot1(char[] n, int m) {\r\n        for (int o = 0; o &lt; normal.length; o++) {\r\n            if (n == normal[o]) {\r\n                o = o + m;\r\n                if (o &gt; 25) {\r\n                    o = o - 26;\r\n                }\r\n                n = rotor1[o];\r\n                break;\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\n    private static char[] rot2(char[] n, int m) {\r\n        for (int o = 0; o &lt; normal.length; o++) {\r\n            if (n == normal[o]) {\r\n                o = o + m;\r\n                if (o &gt; 25) {\r\n                    o = o - 26;\r\n                }\r\n                n = rotor2[o];\r\n                break;\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\n    private static char[] rot3(char[] n, int m) {\r\n        for (int o = 0; o &lt; normal.length; o++) {\r\n            if (n == normal[o]) {\r\n                o = o + m;\r\n                if (o &gt; 25) {\r\n                    o = o - 26;\r\n                }\r\n                n = rotor3[o];\r\n                break;\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\n    private static char[] rot4(char[] n, int m) {\r\n        for (int o = 0; o &lt; normal.length; o++) {\r\n            if (n == normal[o]) {\r\n                o = o + m;\r\n                if (o &gt; 25) {\r\n                    o = o - 26;\r\n                }\r\n                n = rotor4[o];\r\n                break;\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\n    private static char[] rot5(char[] n, int m) {\r\n        for (int o = 0; o &lt; normal.length; o++) {\r\n            if (n == normal[o]) {\r\n                o = o + m;\r\n                if (o &gt; 25) {\r\n                    o = o - 26;\r\n                }\r\n                n = rotor5[o];\r\n                break;\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n}\r\n```\r\nThis is the errormessage I get:\r\n\r\n        Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\r\n        Incompatible operand types char[] and char\r\n\r\n        Type mismatch: cannot convert from char to char[]\r\n\r\n        at Enigma.rot1(Enigma.java:94)\r\n        at Enigma.rotor(Enigma.java:71)\r\n        at Enigma.main(Enigma.java:39)\r\nIt also shows this error on the other ones where I want to pass the char[] over.\r\n\r\nNeed to add more text cause they say it is too much code and too less text.","title":"Converting a scanner.next() to a char[]","body":"<p>I want to give a function a char array from scanner.next(). I only get an error message if I try to convert it like I do it now:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Enigma {\n    private static boolean finish = false;\n    private static int temp = 0;\n    private static int[] rotors = { 1, 2, 3, 4, 5 };\n    private static int[] used = { 6, 6, 6 };\n    private static int[] rotations = { 0, 0, 0 };\n    private static char[] rotor1 = { 'C', 'N', 'D', 'L', 'H', 'Q', 'B', 'O', 'Y', 'G', 'R', 'T', 'U', 'E', 'M', 'V',\n            'S', 'Z', 'P', 'W', 'F', 'I', 'A', 'X', 'K', 'J' };\n    private static char[] rotor2 = { 'H', 'P', 'N', 'Y', 'X', 'B', 'U', 'E', 'R', 'Q', 'L', 'T', 'S', 'D', 'Z', 'W',\n            'I', 'K', 'C', 'J', 'O', 'F', 'M', 'A', 'V', 'G' };\n    private static char[] rotor3 = { 'J', 'I', 'H', 'Y', 'Z', 'P', 'E', 'U', 'S', 'L', 'G', 'V', 'K', 'D', 'A', 'B',\n            'X', 'O', 'T', 'M', 'N', 'F', 'W', 'Q', 'R', 'C' };\n    private static char[] rotor4 = { 'M', 'K', 'U', 'Z', 'D', 'B', 'G', 'R', 'Y', 'F', 'X', 'Q', 'H', 'C', 'A', 'N',\n            'E', 'L', 'T', 'J', 'I', 'P', 'S', 'V', 'O', 'W' };\n    private static char[] rotor5 = { 'S', 'K', 'J', 'O', 'T', 'H', 'U', 'Y', 'G', 'Z', 'F', 'L', 'I', 'X', 'P', 'V',\n            'R', 'Q', 'E', 'D', 'M', 'A', 'C', 'W', 'B', 'N' };\n    private static char[] normal = { 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\n            'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z' };\n    private static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String args[]) {\n        System.out.println(&quot;Bitte geben sie den ersten Rotor an&quot;);\n        tr(Integer.parseInt(scanner.next()) - 1, 1);\n        System.out.println(&quot;Bitte geben sie den zweiten Rotor an&quot;);\n        tr(Integer.parseInt(scanner.next()) - 1, 2);\n        System.out.println(&quot;Bitte geben sie den dritten Rotor an&quot;);\n        tr(Integer.parseInt(scanner.next()) - 1, 3);\n        System.out.println(&quot;Bitte geben sie nun die Rotation für den ersten Rotor an&quot;);\n        rerot(0, Integer.parseInt(scanner.next()));\n        System.out.println(&quot;Bitte geben sie nun die Rotation für den zweiten Rotor an&quot;);\n        rerot(1, Integer.parseInt(scanner.next()));\n        System.out.println(&quot;Bitte geben sie nun die Rotation für den dritten Rotor an&quot;);\n        rerot(2, Integer.parseInt(scanner.next()));\n        while (finish == false) {\n            System.out.println(\n                    &quot;Bitte geben sie den Buchstaben ein, den sie Transkripieren wollen. Oder geben sie 'stop' ein um das Programm zu beenden&quot;);\n            System.out.println(rotor(scanner.next().toCharArray()));\n        }\n    }\n\n    private static void tr(int n, int m) {\n        n = check(n);\n        used[m - 1] = rotors[n];\n    }\n\n    private static int check(int n) {\n        for (int i = 0; i &lt; used.length; i++) {\n            if (rotors[n] == used[i] || n &lt; 0 || n &gt; 4) {\n                System.out.println(\n                        &quot;Dieser Rotor ist entweder nicht vorhanden oder wurde schon benutzt. Bitte geben sie einen gültigen Rotor an&quot;);\n                n = check(Integer.parseInt(scanner.next()) - 1);\n            }\n        }\n        return n;\n    }\n\n    private static void rerot(int n, int m) {\n        while (m &gt; 25) {\n            m = m - 26;\n        }\n        rotations[n] = m;\n    }\n\n    private static char[] rotor(char[] n) {\n        for (int i = 0; i &lt; 3; i++) {\n            temp = rotors[i];\n            switch (temp) {\n                case 1:\n                    n = rot1(n, rotations[i]);\n                    break;\n                case 2:\n                    n = rot2(n, rotations[i]);\n                    break;\n                case 3:\n                    n = rot3(n, rotations[i]);\n                    break;\n                case 4:\n                    n = rot4(n, rotations[i]);\n                    break;\n                case 5:\n                    n = rot5(n, rotations[i]);\n                    break;\n                default:\n                    break;\n            }\n        }\n        return n;\n    }\n\n    private static char[] rot1(char[] n, int m) {\n        for (int o = 0; o &lt; normal.length; o++) {\n            if (n == normal[o]) {\n                o = o + m;\n                if (o &gt; 25) {\n                    o = o - 26;\n                }\n                n = rotor1[o];\n                break;\n            }\n        }\n        return n;\n    }\n\n    private static char[] rot2(char[] n, int m) {\n        for (int o = 0; o &lt; normal.length; o++) {\n            if (n == normal[o]) {\n                o = o + m;\n                if (o &gt; 25) {\n                    o = o - 26;\n                }\n                n = rotor2[o];\n                break;\n            }\n        }\n        return n;\n    }\n\n    private static char[] rot3(char[] n, int m) {\n        for (int o = 0; o &lt; normal.length; o++) {\n            if (n == normal[o]) {\n                o = o + m;\n                if (o &gt; 25) {\n                    o = o - 26;\n                }\n                n = rotor3[o];\n                break;\n            }\n        }\n        return n;\n    }\n\n    private static char[] rot4(char[] n, int m) {\n        for (int o = 0; o &lt; normal.length; o++) {\n            if (n == normal[o]) {\n                o = o + m;\n                if (o &gt; 25) {\n                    o = o - 26;\n                }\n                n = rotor4[o];\n                break;\n            }\n        }\n        return n;\n    }\n\n    private static char[] rot5(char[] n, int m) {\n        for (int o = 0; o &lt; normal.length; o++) {\n            if (n == normal[o]) {\n                o = o + m;\n                if (o &gt; 25) {\n                    o = o - 26;\n                }\n                n = rotor5[o];\n                break;\n            }\n        }\n        return n;\n    }\n}\n</code></pre>\n<p>This is the errormessage I get:</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n\n    Incompatible operand types char[] and char\n\n    Type mismatch: cannot convert from char to char[]\n\n    at Enigma.rot1(Enigma.java:94)\n    at Enigma.rotor(Enigma.java:71)\n    at Enigma.main(Enigma.java:39)\n</code></pre>\n<p>It also shows this error on the other ones where I want to pass the char[] over.</p>\n<p>Need to add more text cause they say it is too much code and too less text.</p>\n"},{"tags":["java","enums","code-generation","extends","final"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1650467509,"creation_date":1650467509,"answer_id":71942107,"question_id":71941805,"body_markdown":"You did not add an explicit constructor here:\r\n\r\n```\r\nenum Color {\r\n  RED,\r\n\r\n  Color() {}\r\n}\r\n```\r\n\r\nInstead, you added another enum constant, called `Color`, *with an empty class body*. This is evident in the unexpected line in the `javap` output:\r\n\r\n    public static final Color Color;\r\n\r\nTherefore, an (empty) anonymous class has to be created, that inherits from the enum class, to serve as the class for the enum constant &quot;`Color`&quot;. Therefore, the enum `Color` cannot be final. You should see an extra `Color$1.class` in the javac output folder.\r\n\r\nWhether an enum should be final is stated in the [Java Language Specification][1] as follows:\r\n\r\n&gt; An enum class is either implicitly final or implicitly sealed, as follows:\r\n&gt;\r\n&gt; - An enum class is implicitly final if its declaration contains no enum constants that have a class body (&#167;8.9.1).\r\n&gt; - [...]\r\n\r\nThe enum `Color` has the enum constant `Color` that has a body, so it is not `final`.\r\n\r\nThe correct way to add a constructor to an enum is to separate it from the constants using a `;`. `,` is used to separate constants. Example:\r\n\r\n```\r\nenum Color {\r\n  RED, GREEN, BLUE;\r\n\r\n  Color() {}\r\n}\r\n```\r\n\r\nAnd as expected, this `Color` enum is `final`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9","title":"Enum generated classes are Final or Not?","body":"<p>You did not add an explicit constructor here:</p>\n<pre><code>enum Color {\n  RED,\n\n  Color() {}\n}\n</code></pre>\n<p>Instead, you added another enum constant, called <code>Color</code>, <em>with an empty class body</em>. This is evident in the unexpected line in the <code>javap</code> output:</p>\n<pre><code>public static final Color Color;\n</code></pre>\n<p>Therefore, an (empty) anonymous class has to be created, that inherits from the enum class, to serve as the class for the enum constant &quot;<code>Color</code>&quot;. Therefore, the enum <code>Color</code> cannot be final. You should see an extra <code>Color$1.class</code> in the javac output folder.</p>\n<p>Whether an enum should be final is stated in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9\" rel=\"noreferrer\">Java Language Specification</a> as follows:</p>\n<blockquote>\n<p>An enum class is either implicitly final or implicitly sealed, as follows:</p>\n<ul>\n<li>An enum class is implicitly final if its declaration contains no enum constants that have a class body (§8.9.1).</li>\n<li>[...]</li>\n</ul>\n</blockquote>\n<p>The enum <code>Color</code> has the enum constant <code>Color</code> that has a body, so it is not <code>final</code>.</p>\n<p>The correct way to add a constructor to an enum is to separate it from the constants using a <code>;</code>. <code>,</code> is used to separate constants. Example:</p>\n<pre><code>enum Color {\n  RED, GREEN, BLUE;\n\n  Color() {}\n}\n</code></pre>\n<p>And as expected, this <code>Color</code> enum is <code>final</code>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650573358,"creation_date":1650471287,"answer_id":71942993,"question_id":71941805,"body_markdown":"Explicit `final` modifier isn&#39;t allowed with *enum classes*, because in fact they are **not final**. \r\n\r\nThat allows to &quot;extend an *enum class* internally&quot; by creating subclasses representing its *enum constants* under the hood. And these sublasses in turn are `final`.\r\n\r\nAccording to the [Java language specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9.1):\r\n\r\n&gt; The optional class body of an **enum constant implicitly declares an anonymous class** (&#167;15.9.5) that (i) is a **direct subclass** of the immediately **enclosing enum class** (&#167;8.1.4), and (ii) is **final** (&#167;8.1.1.2). The class body is governed by the usual rules of anonymous classes;\r\n\r\nI.e. every *enum constant* can provide an optional *class-body* enclosed in curly braces `CONSTANT_NAME{ body }`. Which in fact is an implicit declaration of an *anonymous inner class* which extends the enclosing *enum class*. And as with a usual anonymous class, it&#39;s possible to override the behavior of the parent class.\r\n\r\nAlso note that because as a matter of fact every `enum` is extendible (*but not in the same way as a regular class can be extended*), it&#39;s possible to declare `abstract` methods within an `enum`. If there&#39;s at least one such a method, it needs to be overridden by the anonymous class of every *enum constant*, i.e. every *enum-member* has to declare an optional class body for that.\r\n\r\nLet&#39;s explore it with an example:\r\n```\r\nclass EnumTest {    \r\n    public enum StringProcessor {\r\n        UPPER {\r\n            @Override\r\n            public String process(String str) {\r\n                return str.toUpperCase();\r\n            }\r\n        },\r\n        LOWER {\r\n            @Override\r\n            public String process(String str) {\r\n                return str.toLowerCase();\r\n            }\r\n        },\r\n        REMOVE_DIGITS {\r\n            @Override\r\n            public String process(String str) {\r\n                return str.replaceAll(&quot;\\\\d+&quot;, &quot;&quot;);\r\n            }\r\n        };\r\n        \r\n        public abstract String process(String str);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(StringProcessor.REMOVE_DIGITS.process(&quot;27test_string&quot;));\r\n        \r\n        System.out.println(&quot;Enclosing enum :\\t&quot; + StringProcessor.class);\r\n        System.out.println(&quot;Enclosing UPPER :\\t&quot; + StringProcessor.UPPER.getClass());\r\n        System.out.println(&quot;Enclosing REMOVE_DIGITS :\\t&quot; + StringProcessor.REMOVE_DIGITS.getClass());\r\n        System.out.println(&quot;classes of enum members are the same : &quot; + (StringProcessor.UPPER.getClass() == StringProcessor.REMOVE_DIGITS.getClass()));\r\n    }\r\n}\r\n```\r\nWill give the output:\r\n```\r\ntest_string\r\nEnclosing enum :\tclass _classpath_.EnumTest$StringProcessor\r\nEnclosing UPPER :\tclass _QUESTIONS.ClassDisign.EnumTest$StringProcessor$1\r\nEnclosing REMOVE_DIGITS :\tclass _classpath_.EnumTest$StringProcessor$3\r\nclasses of enum members are the same : false\r\n```\r\nIf it was allowed to declare `enum` as final explicitly, the mechanism you see above will not work. \r\n\r\nAnd at the same time it is for forbidden to extend `enum` class, although it&#39;s technically not final because `enum` is meant to represent a set of well define elements and base enum has to be aware of all of them.","title":"Enum generated classes are Final or Not?","body":"<p>Explicit <code>final</code> modifier isn't allowed with <em>enum classes</em>, because in fact they are <strong>not final</strong>.</p>\n<p>That allows to &quot;extend an <em>enum class</em> internally&quot; by creating subclasses representing its <em>enum constants</em> under the hood. And these sublasses in turn are <code>final</code>.</p>\n<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9.1\" rel=\"nofollow noreferrer\">Java language specification</a>:</p>\n<blockquote>\n<p>The optional class body of an <strong>enum constant implicitly declares an anonymous class</strong> (§15.9.5) that (i) is a <strong>direct subclass</strong> of the immediately <strong>enclosing enum class</strong> (§8.1.4), and (ii) is <strong>final</strong> (§8.1.1.2). The class body is governed by the usual rules of anonymous classes;</p>\n</blockquote>\n<p>I.e. every <em>enum constant</em> can provide an optional <em>class-body</em> enclosed in curly braces <code>CONSTANT_NAME{ body }</code>. Which in fact is an implicit declaration of an <em>anonymous inner class</em> which extends the enclosing <em>enum class</em>. And as with a usual anonymous class, it's possible to override the behavior of the parent class.</p>\n<p>Also note that because as a matter of fact every <code>enum</code> is extendible (<em>but not in the same way as a regular class can be extended</em>), it's possible to declare <code>abstract</code> methods within an <code>enum</code>. If there's at least one such a method, it needs to be overridden by the anonymous class of every <em>enum constant</em>, i.e. every <em>enum-member</em> has to declare an optional class body for that.</p>\n<p>Let's explore it with an example:</p>\n<pre><code>class EnumTest {    \n    public enum StringProcessor {\n        UPPER {\n            @Override\n            public String process(String str) {\n                return str.toUpperCase();\n            }\n        },\n        LOWER {\n            @Override\n            public String process(String str) {\n                return str.toLowerCase();\n            }\n        },\n        REMOVE_DIGITS {\n            @Override\n            public String process(String str) {\n                return str.replaceAll(&quot;\\\\d+&quot;, &quot;&quot;);\n            }\n        };\n        \n        public abstract String process(String str);\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(StringProcessor.REMOVE_DIGITS.process(&quot;27test_string&quot;));\n        \n        System.out.println(&quot;Enclosing enum :\\t&quot; + StringProcessor.class);\n        System.out.println(&quot;Enclosing UPPER :\\t&quot; + StringProcessor.UPPER.getClass());\n        System.out.println(&quot;Enclosing REMOVE_DIGITS :\\t&quot; + StringProcessor.REMOVE_DIGITS.getClass());\n        System.out.println(&quot;classes of enum members are the same : &quot; + (StringProcessor.UPPER.getClass() == StringProcessor.REMOVE_DIGITS.getClass()));\n    }\n}\n</code></pre>\n<p>Will give the output:</p>\n<pre><code>test_string\nEnclosing enum :    class _classpath_.EnumTest$StringProcessor\nEnclosing UPPER :   class _QUESTIONS.ClassDisign.EnumTest$StringProcessor$1\nEnclosing REMOVE_DIGITS :   class _classpath_.EnumTest$StringProcessor$3\nclasses of enum members are the same : false\n</code></pre>\n<p>If it was allowed to declare <code>enum</code> as final explicitly, the mechanism you see above will not work.</p>\n<p>And at the same time it is for forbidden to extend <code>enum</code> class, although it's technically not final because <code>enum</code> is meant to represent a set of well define elements and base enum has to be aware of all of them.</p>\n"}],"owner":{"account_id":128253,"reputation":8594,"user_id":1051355,"accept_rate":75,"display_name":"math"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1650573358,"creation_date":1650466304,"question_id":71941805,"body_markdown":"When I specify an enum like this:\r\n\r\n```\r\nenum Color { RED }\r\n```\r\n\r\nThe generated code `javap -p Color` looks like this:\r\n\r\n```\r\nfinal class Color extends java.lang.Enum&lt;Color&gt; {\r\n  public static final Color RED;\r\n  private static final Color[] $VALUES;\r\n  public static Color[] values();\r\n  public static Color valueOf(java.lang.String);\r\n  private Color();\r\n  private static Color[] $values();\r\n  static {};\r\n}\r\n```\r\n\r\nHowever, when I add custom extensions like an explicit constructor, e.g.:\r\n\r\n```\r\nenum Color {\r\n  RED,\r\n\r\n  Color() {}\r\n}\r\n```\r\n\r\nI get this:\r\n\r\n```\r\nclass Color extends java.lang.Enum&lt;Color&gt; {\r\n  public static final Color RED;\r\n  public static final Color Color;\r\n  private static final Color[] $VALUES;\r\n  public static Color[] values();\r\n  public static Color valueOf(java.lang.String);\r\n  private Color();\r\n  private static Color[] $values();\r\n  static {};\r\n}\r\n```\r\n\r\nMissing the `final` modifier for generated class Color. However, I cannot extend `Color` (as usual):\r\n\r\n```\r\nfinal class B extends Color {}\r\n```\r\n\r\nThe compiler gives:\r\n\r\n```\r\nerror: enum types are not extensible\r\nfinal class B extends Color {}\r\n      ^\r\n1 error\r\n```\r\n\r\nSo why is the `final` modifier missing when adding custom code to the enum class? I suppose the prevention of subclassing Color anyway is performed by a sanity check from the compiler (aka: if super class typeof enum =&gt; deny), right?\r\n\r\nI am using `OpenJDK 17.0.2`","title":"Enum generated classes are Final or Not?","body":"<p>When I specify an enum like this:</p>\n<pre><code>enum Color { RED }\n</code></pre>\n<p>The generated code <code>javap -p Color</code> looks like this:</p>\n<pre><code>final class Color extends java.lang.Enum&lt;Color&gt; {\n  public static final Color RED;\n  private static final Color[] $VALUES;\n  public static Color[] values();\n  public static Color valueOf(java.lang.String);\n  private Color();\n  private static Color[] $values();\n  static {};\n}\n</code></pre>\n<p>However, when I add custom extensions like an explicit constructor, e.g.:</p>\n<pre><code>enum Color {\n  RED,\n\n  Color() {}\n}\n</code></pre>\n<p>I get this:</p>\n<pre><code>class Color extends java.lang.Enum&lt;Color&gt; {\n  public static final Color RED;\n  public static final Color Color;\n  private static final Color[] $VALUES;\n  public static Color[] values();\n  public static Color valueOf(java.lang.String);\n  private Color();\n  private static Color[] $values();\n  static {};\n}\n</code></pre>\n<p>Missing the <code>final</code> modifier for generated class Color. However, I cannot extend <code>Color</code> (as usual):</p>\n<pre><code>final class B extends Color {}\n</code></pre>\n<p>The compiler gives:</p>\n<pre><code>error: enum types are not extensible\nfinal class B extends Color {}\n      ^\n1 error\n</code></pre>\n<p>So why is the <code>final</code> modifier missing when adding custom code to the enum class? I suppose the prevention of subclassing Color anyway is performed by a sanity check from the compiler (aka: if super class typeof enum =&gt; deny), right?</p>\n<p>I am using <code>OpenJDK 17.0.2</code></p>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1650615198,"post_id":71960438,"comment_id":127165292,"body_markdown":"I don&#39;t know about something. Why don&#39;t you simply change your queries?","body":"I don&#39;t know about something. Why don&#39;t you simply change your queries?"},{"owner":{"account_id":6976003,"reputation":28,"user_id":5350759,"display_name":"Mike"},"score":0,"creation_date":1650632529,"post_id":71960438,"comment_id":127171401,"body_markdown":"First, there are lots of them. Secondly, potential merge conflicts. Query won&#39;t raise a compile time error, it&#39;ll just sit in the code and throw an exception in runtime. The problem getting even worse, since other teams use the jar with that model","body":"First, there are lots of them. Secondly, potential merge conflicts. Query won&#39;t raise a compile time error, it&#39;ll just sit in the code and throw an exception in runtime. The problem getting even worse, since other teams use the jar with that model"}],"owner":{"account_id":6976003,"reputation":28,"user_id":5350759,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650572288,"creation_date":1650572288,"question_id":71960438,"body_markdown":"In the existing project we have a many-to-many relationship, it turned out that now we need to keep the time when that connection happed. The following approach has been used \r\nhttps://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/\r\n\r\nNow we have these classes (the names are just taken from the link above):\r\n\r\n```\r\n@Embeddable\r\npublic class PostTagId\r\n    implements Serializable {\r\n \r\n    @Column(name = &quot;post_id&quot;)\r\n    private Long postId;\r\n \r\n    @Column(name = &quot;tag_id&quot;)\r\n    private Long tagId;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;post_tag&quot;)\r\npublic class PostTag {\r\n \r\n    @EmbeddedId\r\n    private PostTagId id;\r\n \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;postId&quot;)\r\n    private Post post;\r\n \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;tagId&quot;)\r\n    private Tag tag;\r\n \r\n    @Column(name = &quot;created_on&quot;)\r\n    private Date createdOn = new Date();\r\n}\r\n\r\n@Entity\r\npublic class Tag {\r\n \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n \r\n    private String name;\r\n}\r\n\r\n@Entity\r\npublic class Post {\r\n \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    @OneToMany(\r\n        mappedBy = &quot;post&quot;,\r\n        cascade = CascadeType.ALL,\r\n        orphanRemoval = true\r\n    )\r\n    private List&lt;PostTag&gt; tags = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nSince it is a big project and there are tons of places to change, the Post class still has methods like getTags, setTags, removeTags, etc. \r\n```\r\nList&lt;Tag&gt; getTags() {\r\n   return tags.stream().map(PostTag::getTag).collect(collectingAndThen(Collectors.toSet(), Collections::unmodifiableSet))\r\n}\r\n\r\nvoid addTag(Tag tag) {\r\n   tags.add(new PostTag(this, tag, new Date())\r\n}\r\n```\r\nIt allows to hide from the outer world that collection is changed from \\&lt;Tag\\&gt; to \\&lt;PostTag\\&gt;. The problem happens with buzillion HQL queries that we have at the moment, since smth like this won&#39;t work:\r\n```\r\n...\r\nJOIN post.tags t\r\nWHERE t.name = &lt;?&gt;\r\n```\r\nBecause &quot;t&quot; is now PostTag and not Tag, hence t.name is trying to access an unknown field\r\n\r\nAre there any ways to mitigate that problem? Add some annotations above PostTag, so that instead of accessing tag.name hibernate will do t.tag.name, use other ways of mapping, etc.","title":"Hibernate many to many with an additional column without changing HQL","body":"<p>In the existing project we have a many-to-many relationship, it turned out that now we need to keep the time when that connection happed. The following approach has been used\n<a href=\"https://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/</a></p>\n<p>Now we have these classes (the names are just taken from the link above):</p>\n<pre><code>@Embeddable\npublic class PostTagId\n    implements Serializable {\n \n    @Column(name = &quot;post_id&quot;)\n    private Long postId;\n \n    @Column(name = &quot;tag_id&quot;)\n    private Long tagId;\n}\n\n@Entity\n@Table(name = &quot;post_tag&quot;)\npublic class PostTag {\n \n    @EmbeddedId\n    private PostTagId id;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;postId&quot;)\n    private Post post;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;tagId&quot;)\n    private Tag tag;\n \n    @Column(name = &quot;created_on&quot;)\n    private Date createdOn = new Date();\n}\n\n@Entity\npublic class Tag {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String name;\n}\n\n@Entity\npublic class Post {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @OneToMany(\n        mappedBy = &quot;post&quot;,\n        cascade = CascadeType.ALL,\n        orphanRemoval = true\n    )\n    private List&lt;PostTag&gt; tags = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Since it is a big project and there are tons of places to change, the Post class still has methods like getTags, setTags, removeTags, etc.</p>\n<pre><code>List&lt;Tag&gt; getTags() {\n   return tags.stream().map(PostTag::getTag).collect(collectingAndThen(Collectors.toSet(), Collections::unmodifiableSet))\n}\n\nvoid addTag(Tag tag) {\n   tags.add(new PostTag(this, tag, new Date())\n}\n</code></pre>\n<p>It allows to hide from the outer world that collection is changed from &lt;Tag&gt; to &lt;PostTag&gt;. The problem happens with buzillion HQL queries that we have at the moment, since smth like this won't work:</p>\n<pre><code>...\nJOIN post.tags t\nWHERE t.name = &lt;?&gt;\n</code></pre>\n<p>Because &quot;t&quot; is now PostTag and not Tag, hence t.name is trying to access an unknown field</p>\n<p>Are there any ways to mitigate that problem? Add some annotations above PostTag, so that instead of accessing tag.name hibernate will do t.tag.name, use other ways of mapping, etc.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1650565198,"post_id":71958810,"comment_id":127154654,"body_markdown":"Can you describe your setup a bit more please? &quot;run a method&quot; - Java method? How do you start your java application, when you want to run a method before it starts? Does it need to be created every time, or just once, manually?","body":"Can you describe your setup a bit more please? &quot;run a method&quot; - Java method? How do you start your java application, when you want to run a method before it starts? Does it need to be created every time, or just once, manually?"},{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1650566905,"post_id":71958810,"comment_id":127155197,"body_markdown":"You probably want to use it for private key/ssl cerifcate storage? This is pre-execution  steps, ideally you should have separate script( shell script/command line) to create require file as part of deployment process.","body":"You probably want to use it for private key/ssl cerifcate storage? This is pre-execution  steps, ideally you should have separate script( shell script/command line) to create require file as part of deployment process."},{"owner":{"account_id":24378220,"reputation":41,"user_id":18310220,"display_name":"LuisEduardoLD"},"score":0,"creation_date":1650568994,"post_id":71958810,"comment_id":127155871,"body_markdown":"@cyberbrain \n\nabout my setup... my spring boot starts like this\n\npublic static void main(String[] args) {\n\t\tSpringApplication.run(Application.class);\n\t}\n\nand in my application properties I have a property where I use a keystore, like secure.something = jks/keystore.jks, and this is the file that I need to create with a java method (Idk if I have other option using spring)","body":"@cyberbrain   about my setup... my spring boot starts like this  public static void main(String[] args) { \t\tSpringApplication.run(Application.class); \t}  and in my application properties I have a property where I use a keystore, like secure.something = jks/keystore.jks, and this is the file that I need to create with a java method (Idk if I have other option using spring)"}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650566349,"creation_date":1650566349,"answer_id":71959404,"question_id":71958810,"body_markdown":"A usual Spring Boot App does this at start-up:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // do anything you want here\r\n        // ...\r\n        \r\n    \tSpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\nAs stated in the comment, you can do anything at this point before Spring.\r\n\r\n**But**, it won&#39;t run in the context of Spring: no injection, no properties loading, etc.\r\n","title":"How to create a jks file before Spring boot starts?","body":"<p>A usual Spring Boot App does this at start-up:</p>\n<pre><code>public static void main(String[] args) {\n\n    // do anything you want here\n    // ...\n    \n    SpringApplication.run(DemoApplication.class, args);\n}\n</code></pre>\n<p>As stated in the comment, you can do anything at this point before Spring.</p>\n<p><strong>But</strong>, it won't run in the context of Spring: no injection, no properties loading, etc.</p>\n"}],"owner":{"account_id":24378220,"reputation":41,"user_id":18310220,"display_name":"LuisEduardoLD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650571252,"creation_date":1650563330,"question_id":71958810,"body_markdown":"I need to run a method that builds a .keystore file, but this file must to be created before the application starts, how can I do that?\r\n\r\nStep by step of I want to do:\r\n\r\nstep 1: Run a method that read an environment variable, decodes this value and from this, creates a file that&#39;s called &quot;keystore.jks&quot;\r\n\r\nstep 2: Starts my spring boot application and it using the application.properties, use the path of the keystore.jks created previously ","title":"How to create a jks file before Spring boot starts?","body":"<p>I need to run a method that builds a .keystore file, but this file must to be created before the application starts, how can I do that?</p>\n<p>Step by step of I want to do:</p>\n<p>step 1: Run a method that read an environment variable, decodes this value and from this, creates a file that's called &quot;keystore.jks&quot;</p>\n<p>step 2: Starts my spring boot application and it using the application.properties, use the path of the keystore.jks created previously</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1637932107,"post_id":70123767,"comment_id":123961175,"body_markdown":"Tip: Code blocks one can make by indenting the block by 4 spaces.","body":"Tip: Code blocks one can make by indenting the block by 4 spaces."}],"answers":[{"tags":[],"owner":{"account_id":5032644,"reputation":1183,"user_id":4042384,"display_name":"gpuser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637931996,"creation_date":1637931589,"answer_id":70124828,"question_id":70123767,"body_markdown":"Please just try this way of filter with list files may help you\r\n\r\n    File f = new File(Environment.getExternalStorageDirectory() + &quot;/Download&quot;);\r\n    File[] textiles = f.listFiles(new FileFilter() {\r\n                @Override\r\n                public boolean accept(File file)\r\n                {\r\n                    return (file.getPath().endsWith(&quot;.txt&quot;));\r\n                }\r\n    });\r\n\r\n\r\n**Or** \r\n\r\n    List list;//list of file or path\r\n    \r\n    private void listAllTextfiles(File directory) {\r\n       \r\n        final File[] files = folder.listFiles();//can add above filter for .txt file only\r\n    \r\n        if ( files != null ) {\r\n            for ( File file : files ) {\r\n                if ( file != null ) {\r\n                    if ( file.isDirectory() ){ \r\n                        listAllTextfiles(file);\r\n                    }\r\n                    else {  \r\n                      list.add(file or path)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"File Selector (.txt)","body":"<p>Please just try this way of filter with list files may help you</p>\n<pre><code>File f = new File(Environment.getExternalStorageDirectory() + &quot;/Download&quot;);\nFile[] textiles = f.listFiles(new FileFilter() {\n            @Override\n            public boolean accept(File file)\n            {\n                return (file.getPath().endsWith(&quot;.txt&quot;));\n            }\n});\n</code></pre>\n<p><strong>Or</strong></p>\n<pre><code>List list;//list of file or path\n\nprivate void listAllTextfiles(File directory) {\n   \n    final File[] files = folder.listFiles();//can add above filter for .txt file only\n\n    if ( files != null ) {\n        for ( File file : files ) {\n            if ( file != null ) {\n                if ( file.isDirectory() ){ \n                    listAllTextfiles(file);\n                }\n                else {  \n                  list.add(file or path)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23460956,"reputation":11,"user_id":17515833,"display_name":"Juanan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650570976,"creation_date":1637926413,"question_id":70123767,"body_markdown":"I&#39;ve been trying to get a code to list all the .txt files which are stored in a directory of a mobile phone.\r\n\r\nIt&#39;s my first time with Android Studio, so it&#39;s hard for me to achieve that. To test, firstly I am trying to do it with the files that I have created in the Download folder of the emulator (in the SD), but no matter how hard I try, the application keeps closing every time I load the code.\r\n\r\nI&#39;ve tried different codes but I am not progressing, so all help is welcome.\r\n\r\nHere, I am going to put one of the codes I&#39;ve tried so far (almost everything is taken from the Internet, source http://www.aprendeandroid.com/l8/listar_archivos.htm):\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    private ActivityResultRegistry listaFiles;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Tomar_datos = (Button) findViewById(R.id.Tomar_datos);\r\n    }\r\n\r\n    Button Tomar_datos;\r\n\r\n    public void onClick(View view) {\r\n        Intent i = new Intent();\r\n        i.setClass(MainActivity.this, ListaFilesActivity.class);\r\n        startActivity(i);\r\n    }\r\n\r\n\r\n    class ListaFilesActivity extends Activity {\r\n\r\n        private List&lt;String&gt; item = null;\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE); // para quitar titulo\r\n            setContentView(R.layout.activity_main);\r\n\r\n            item = new ArrayList&lt;String&gt;();\r\n\r\n            File f = new File(Environment.getExternalStorageDirectory() + &quot;/Download&quot;);\r\n            File[] files = f.listFiles();\r\n\r\n            for (int i = 0; i &lt; files.length; i++) {\r\n                File file = files[i];\r\n\r\n                if (file.isDirectory())\r\n\r\n                    item.add(file.getName() + &quot;/&quot;);\r\n\r\n                else\r\n\r\n                    item.add(file.getName());\r\n            }\r\n\r\n\r\n            //Mostramos la ruta en el layout\r\n            TextView ruta = (TextView) findViewById(R.id.ruta);\r\n            ruta.setText(Environment.getExternalStorageDirectory() + &quot;/Download&quot;);\r\n\r\n            //Localizamos y llenamos la lista\r\n            ListView lstOpciones = (ListView) findViewById(R.id.listaFiles);\r\n            ArrayAdapter&lt;String&gt; fileList = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, item);\r\n            lstOpciones.setAdapter(fileList);\r\n\r\n            // Accion para realizar al pulsar sobre la lista\r\n            lstOpciones.setOnItemClickListener(new OnItemClickListener() {\r\n\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; a, View v, int position, long id) {\r\n\r\n                    // Devuelvo los datos a la activity principal\r\n                    Intent data = new Intent();\r\n                    data.putExtra(&quot;filename&quot;, item.get(position));\r\n                    setResult(RESULT_OK, data);\r\n                    finish();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```","title":"File Selector (.txt)","body":"<p>I've been trying to get a code to list all the .txt files which are stored in a directory of a mobile phone.</p>\n<p>It's my first time with Android Studio, so it's hard for me to achieve that. To test, firstly I am trying to do it with the files that I have created in the Download folder of the emulator (in the SD), but no matter how hard I try, the application keeps closing every time I load the code.</p>\n<p>I've tried different codes but I am not progressing, so all help is welcome.</p>\n<p>Here, I am going to put one of the codes I've tried so far (almost everything is taken from the Internet, source <a href=\"http://www.aprendeandroid.com/l8/listar_archivos.htm\" rel=\"nofollow noreferrer\">http://www.aprendeandroid.com/l8/listar_archivos.htm</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    private ActivityResultRegistry listaFiles;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Tomar_datos = (Button) findViewById(R.id.Tomar_datos);\n    }\n\n    Button Tomar_datos;\n\n    public void onClick(View view) {\n        Intent i = new Intent();\n        i.setClass(MainActivity.this, ListaFilesActivity.class);\n        startActivity(i);\n    }\n\n\n    class ListaFilesActivity extends Activity {\n\n        private List&lt;String&gt; item = null;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            requestWindowFeature(Window.FEATURE_NO_TITLE); // para quitar titulo\n            setContentView(R.layout.activity_main);\n\n            item = new ArrayList&lt;String&gt;();\n\n            File f = new File(Environment.getExternalStorageDirectory() + &quot;/Download&quot;);\n            File[] files = f.listFiles();\n\n            for (int i = 0; i &lt; files.length; i++) {\n                File file = files[i];\n\n                if (file.isDirectory())\n\n                    item.add(file.getName() + &quot;/&quot;);\n\n                else\n\n                    item.add(file.getName());\n            }\n\n\n            //Mostramos la ruta en el layout\n            TextView ruta = (TextView) findViewById(R.id.ruta);\n            ruta.setText(Environment.getExternalStorageDirectory() + &quot;/Download&quot;);\n\n            //Localizamos y llenamos la lista\n            ListView lstOpciones = (ListView) findViewById(R.id.listaFiles);\n            ArrayAdapter&lt;String&gt; fileList = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, item);\n            lstOpciones.setAdapter(fileList);\n\n            // Accion para realizar al pulsar sobre la lista\n            lstOpciones.setOnItemClickListener(new OnItemClickListener() {\n\n                @Override\n                public void onItemClick(AdapterView&lt;?&gt; a, View v, int position, long id) {\n\n                    // Devuelvo los datos a la activity principal\n                    Intent data = new Intent();\n                    data.putExtra(&quot;filename&quot;, item.get(position));\n                    setResult(RESULT_OK, data);\n                    finish();\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","autowired"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1570537622,"post_id":58285539,"comment_id":102937404,"body_markdown":"Your datasource is loaded by the `DispatcherServlet` due to being part of that configuration. The security configuration is loaded by the `ContextLoaderListener` which cannot access the config in from the `DispatcherServlet`. The other way around is possible. Move your `dataSource()` method to the `SecurityConfig` as well as the `@PropertySource` for loading the propreties.","body":"Your datasource is loaded by the <code>DispatcherServlet</code> due to being part of that configuration. The security configuration is loaded by the <code>ContextLoaderListener</code> which cannot access the config in from the <code>DispatcherServlet</code>. The other way around is possible. Move your <code>dataSource()</code> method to the <code>SecurityConfig</code> as well as the <code>@PropertySource</code> for loading the propreties."}],"answers":[{"tags":[],"owner":{"account_id":3364917,"reputation":3325,"user_id":2825798,"display_name":"PraveenKumar Lalasangi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570580295,"creation_date":1570537033,"answer_id":58286195,"question_id":58285539,"body_markdown":"Move your bean creation code to root configuration class (`SecurityConfiguration` in your case.) \r\n\r\n```java\r\n@Bean\r\npublic DataSource dataSource() {\r\n    BasicDataSource dataSource = new BasicDataSource();\r\n    dataSource.setDriverClassName(env.getProperty(&quot;mysql.driver&quot;));\r\n    dataSource.setUrl(env.getProperty(&quot;mysql.jdbcUrl&quot;));\r\n    dataSource.setUsername(env.getProperty(&quot;mysql.username&quot;));\r\n    dataSource.setPassword(env.getProperty(&quot;mysql.password&quot;));\r\n    return dataSource;\r\n}\r\n```\r\nMove above code to root configuration.&lt;br&gt; \r\nBecause beans defined in servlet context is not visible in root/application context as root context is initialized first and then servlet context. \r\n\r\nIf you define bean in root context you can use(autowire) it in servlet context. \r\n\r\n#### &lt;sub&gt;**What is mean by root-context and servlet-context**&lt;/sub&gt;\r\n**Root context** ------ *Context&#39;s Loaded by ContextLoaderListener*&lt;br&gt;\r\n**Servlet context** --- *Context&#39;s Loaded by DispatcherServlet*&lt;br&gt;\r\n\r\n\r\n&lt;sub&gt;If you want to know what is rootContext and what is servletContext and also to have clear idea about accessing beans between context\r\n[**Refer my answer from this link**](https://stackoverflow.com/a/57712093/2825798)&lt;/sub&gt; \r\n\r\n","title":"No qualifying bean of type &#39;javax.sql.DataSource&#39; available","body":"<p>Move your bean creation code to root configuration class (<code>SecurityConfiguration</code> in your case.) </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic DataSource dataSource() {\n    BasicDataSource dataSource = new BasicDataSource();\n    dataSource.setDriverClassName(env.getProperty(\"mysql.driver\"));\n    dataSource.setUrl(env.getProperty(\"mysql.jdbcUrl\"));\n    dataSource.setUsername(env.getProperty(\"mysql.username\"));\n    dataSource.setPassword(env.getProperty(\"mysql.password\"));\n    return dataSource;\n}\n</code></pre>\n\n<p>Move above code to root configuration.<br> \nBecause beans defined in servlet context is not visible in root/application context as root context is initialized first and then servlet context. </p>\n\n<p>If you define bean in root context you can use(autowire) it in servlet context. </p>\n\n<sub><strong>What is mean by root-context and servlet-context</strong></sub>\n\n<p><strong>Root context</strong> ------ <em>Context's Loaded by ContextLoaderListener</em><br>\n<strong>Servlet context</strong> --- <em>Context's Loaded by DispatcherServlet</em><br></p>\n\n<p><sub>If you want to know what is rootContext and what is servletContext and also to have clear idea about accessing beans between context\n<a href=\"https://stackoverflow.com/a/57712093/2825798\"><strong>Refer my answer from this link</strong></a></sub> </p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650570912,"creation_date":1650570912,"answer_id":71960230,"question_id":58285539,"body_markdown":"I solved by adding **JPA** dependency to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"No qualifying bean of type &#39;javax.sql.DataSource&#39; available","body":"<p>I solved by adding <strong>JPA</strong> dependency to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10815791,"reputation":347,"user_id":8375274,"accept_rate":50,"display_name":"m.y.m"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58286195,"answer_count":2,"score":2,"last_activity_date":1650570912,"creation_date":1570534389,"question_id":58285539,"body_markdown":"I am using spring mvc version 5. &lt;br&gt;&lt;br&gt;I am struggling in an autowire problem. I am following a spring security JDBC tutorial. Here is the `AppConfiguration.class`: \r\n```\r\n\r\npackage com.blog.configuration;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.apache.commons.dbcp2.BasicDataSource;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\nimport org.springframework.web.servlet.view.JstlView;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan({ &quot;com.blog&quot; })\r\n@PropertySource(&quot;classpath:db.properties&quot;)\r\npublic class AppConfiguration implements WebMvcConfigurer {\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\r\n\t@Bean\r\n\tpublic InternalResourceViewResolver viewResolver() {\r\n\t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n\t\tviewResolver.setViewClass(JstlView.class);\r\n\t\tviewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n\t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n\t\treturn viewResolver;\r\n\t}\r\n\r\n\t/**\r\n\t * Configure ResourceHandlers to serve static resources like CSS/ Javascript\r\n\t * etc...\r\n\t */\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * configure spring security custom login page\r\n\t */\r\n\t@Override\r\n\tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n\t\tregistry.addViewController(&quot;/login&quot;).setViewName(&quot;login-page&quot;);\r\n\t\tregistry.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DataSource dataSource() {\r\n\t\tBasicDataSource dataSource = new BasicDataSource();\r\n\t\tdataSource.setDriverClassName(env.getProperty(&quot;mysql.driver&quot;));\r\n\t\tdataSource.setUrl(env.getProperty(&quot;mysql.jdbcUrl&quot;));\r\n\t\tdataSource.setUsername(env.getProperty(&quot;mysql.username&quot;));\r\n\t\tdataSource.setPassword(env.getProperty(&quot;mysql.password&quot;));\r\n\t\treturn dataSource;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nand here is the `SecurityConfig.class`:\r\n```\r\npackage com.blog.configuration;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tprivate DataSource dataSource;\r\n\r\n\t@Autowired\r\n\tPasswordEncoder passwordEncoder;\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n\t\tauth.jdbcAuthentication().dataSource(dataSource)\r\n\t\t\t\t.usersByUsernameQuery(&quot;select username, password, enabled&quot; + &quot; from users where username=?&quot;)\r\n\t\t\t\t.authoritiesByUsernameQuery(&quot;select username, authority &quot; + &quot;from authorities where username=?&quot;)\r\n\t\t\t\t.passwordEncoder(new BCryptPasswordEncoder());\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/&quot;).permitAll().antMatchers(&quot;/resources/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;).and().formLogin().loginPage(&quot;/login&quot;).permitAll();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nand the `pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;blog&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;blog Maven Webapp&lt;/name&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Maven jetty plugin for testing war --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;9.4.8.v20171121&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThe dataSource autowiring is not working, I don&#39;t know why. It gives me error: No qualifying bean of type &#39;javax.sql.DataSource&#39; available. What is the problem?","title":"No qualifying bean of type &#39;javax.sql.DataSource&#39; available","body":"<p>I am using spring mvc version 5. <br><br>I am struggling in an autowire problem. I am following a spring security JDBC tutorial. Here is the <code>AppConfiguration.class</code>: </p>\n\n<pre><code>\npackage com.blog.configuration;\n\nimport javax.sql.DataSource;\n\nimport org.apache.commons.dbcp2.BasicDataSource;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.env.Environment;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan({ \"com.blog\" })\n@PropertySource(\"classpath:db.properties\")\npublic class AppConfiguration implements WebMvcConfigurer {\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public InternalResourceViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(\"/WEB-INF/views/\");\n        viewResolver.setSuffix(\".jsp\");\n        return viewResolver;\n    }\n\n    /**\n     * Configure ResourceHandlers to serve static resources like CSS/ Javascript\n     * etc...\n     */\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/resources/\");\n    }\n\n    /**\n     * configure spring security custom login page\n     */\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/login\").setViewName(\"login-page\");\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName(env.getProperty(\"mysql.driver\"));\n        dataSource.setUrl(env.getProperty(\"mysql.jdbcUrl\"));\n        dataSource.setUsername(env.getProperty(\"mysql.username\"));\n        dataSource.setPassword(env.getProperty(\"mysql.password\"));\n        return dataSource;\n    }\n\n}\n</code></pre>\n\n<p>and here is the <code>SecurityConfig.class</code>:</p>\n\n<pre><code>package com.blog.configuration;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth.jdbcAuthentication().dataSource(dataSource)\n                .usersByUsernameQuery(\"select username, password, enabled\" + \" from users where username=?\")\n                .authoritiesByUsernameQuery(\"select username, authority \" + \"from authorities where username=?\")\n                .passwordEncoder(new BCryptPasswordEncoder());\n\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(\"/\").permitAll().antMatchers(\"/resources/**\").permitAll()\n                .antMatchers(\"/admin/**\").hasRole(\"ADMIN\").and().formLogin().loginPage(\"/login\").permitAll();\n    }\n\n}\n</code></pre>\n\n<p>and the <code>pom.xml</code>:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;blog&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;blog Maven Webapp&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;6.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- Maven jetty plugin for testing war --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;9.4.8.v20171121&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>The dataSource autowiring is not working, I don't know why. It gives me error: No qualifying bean of type 'javax.sql.DataSource' available. What is the problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649879654,"post_id":71860345,"comment_id":126990488,"body_markdown":"Your question actually does not need your hello world example.","body":"Your question actually does not need your hello world example."}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649884061,"creation_date":1649866234,"answer_id":71860649,"question_id":71860345,"body_markdown":"## Disclaimer\r\n\r\nIn java the libraries are .jar files, **not packages**. A package is just a folder used to groups the class. I mean package is not a file.\r\n\r\nJavas code is compiled into .class files. One of that .class is Scanner.java. Usually the .class files are grouped in a jar file.\r\n\r\n## Core or default libraries\r\n\r\nAny internal or core library is inside of JDK or JRE which was configured on your eclipse:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDepending of your configuration, usually you cannot see the source code of **java.util.Scanner** because it is compiled as **.class** and is inside of a .**jar** file. Some jdk or jre distribution has the source code :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**On Linux**, I found that class in the rt.jar located in **../jre/lib** inside of the open jdk\r\n\r\n[![enter image description here][3]][3]\r\n\r\n## Public libraries\r\n\r\nThis is the case when you are working with some library created by the community like: apache, spring, jackson, etc\r\n\r\nIn this case, maven download the library in the .m2 folder inside of the user folder of your os. \r\n\r\n\r\n## Java is open source\r\n\r\nIf you want to take a look in the source code, you will find it on github or google searching: &quot;java.util.Scanner java&quot;\r\n\r\n- https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Scanner.java\r\n- https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java\r\n- https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java\r\n\r\n## References\r\n\r\n- https://stackoverflow.com/a/62157040/3957754\r\n- https://stackoverflow.com/questions/24496131/where-is-my-m2-folder-on-mac-os-x-mavericks\r\n- https://www.codejava.net/ides/eclipse/managing-jre-installations-in-eclipse\r\n- https://mvnrepository.com/\r\n- https://github.com/AdoptOpenJDK\r\n- https://maven.apache.org/what-is-maven.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xHSOX.png\r\n  [2]: https://i.stack.imgur.com/8ONWK.png\r\n  [3]: https://i.stack.imgur.com/WAAjx.png","title":"Java packages storage location","body":"<h2>Disclaimer</h2>\n<p>In java the libraries are .jar files, <strong>not packages</strong>. A package is just a folder used to groups the class. I mean package is not a file.</p>\n<p>Javas code is compiled into .class files. One of that .class is Scanner.java. Usually the .class files are grouped in a jar file.</p>\n<h2>Core or default libraries</h2>\n<p>Any internal or core library is inside of JDK or JRE which was configured on your eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/xHSOX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHSOX.png\" alt=\"enter image description here\" /></a></p>\n<p>Depending of your configuration, usually you cannot see the source code of <strong>java.util.Scanner</strong> because it is compiled as <strong>.class</strong> and is inside of a .<strong>jar</strong> file. Some jdk or jre distribution has the source code :</p>\n<p><a href=\"https://i.stack.imgur.com/8ONWK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ONWK.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>On Linux</strong>, I found that class in the rt.jar located in <strong>../jre/lib</strong> inside of the open jdk</p>\n<p><a href=\"https://i.stack.imgur.com/WAAjx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WAAjx.png\" alt=\"enter image description here\" /></a></p>\n<h2>Public libraries</h2>\n<p>This is the case when you are working with some library created by the community like: apache, spring, jackson, etc</p>\n<p>In this case, maven download the library in the .m2 folder inside of the user folder of your os.</p>\n<h2>Java is open source</h2>\n<p>If you want to take a look in the source code, you will find it on github or google searching: &quot;java.util.Scanner java&quot;</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Scanner.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Scanner.java</a></li>\n<li><a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java</a></li>\n<li><a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java</a></li>\n</ul>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/62157040/3957754\">https://stackoverflow.com/a/62157040/3957754</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24496131/where-is-my-m2-folder-on-mac-os-x-mavericks\">Where is my m2 folder on Mac OS X Mavericks</a></li>\n<li><a href=\"https://www.codejava.net/ides/eclipse/managing-jre-installations-in-eclipse\" rel=\"nofollow noreferrer\">https://www.codejava.net/ides/eclipse/managing-jre-installations-in-eclipse</a></li>\n<li><a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></li>\n<li><a href=\"https://github.com/AdoptOpenJDK\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK</a></li>\n<li><a href=\"https://maven.apache.org/what-is-maven.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/what-is-maven.html</a></li>\n</ul>\n"}],"owner":{"account_id":21820847,"reputation":103,"user_id":18795220,"display_name":"phili0881"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71860649,"answer_count":1,"score":0,"last_activity_date":1650570749,"creation_date":1649864910,"question_id":71860345,"body_markdown":"I am new to Java and just downloaded Eclipse and wrote my first Hello World program\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class HelloWorld {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner myObj = new Scanner(System.in);\r\n\r\n\t\tSystem.out.println(&quot;Whats your name?&quot;);\r\n\r\n\t\tString userName = myObj.nextLine();\r\n\t\tmyObj.close();\r\n\r\n\t\tSystem.out.println(&quot;Hello &quot; + userName);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI was wondering what the storage location  of the package java.util is? Where is this package stored on my computer? I use Mac.","title":"Java packages storage location","body":"<p>I am new to Java and just downloaded Eclipse and wrote my first Hello World program</p>\n<pre><code>import java.util.Scanner;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n\n        Scanner myObj = new Scanner(System.in);\n\n        System.out.println(&quot;Whats your name?&quot;);\n\n        String userName = myObj.nextLine();\n        myObj.close();\n\n        System.out.println(&quot;Hello &quot; + userName);\n    }\n\n}\n\n</code></pre>\n<p>I was wondering what the storage location  of the package java.util is? Where is this package stored on my computer? I use Mac.</p>\n"},{"tags":["java","directory"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650570647,"creation_date":1650570647,"answer_id":71960183,"question_id":71958488,"body_markdown":"The user has to input the given path via command line or gui as string x.\r\nAfter that, the program must check if this path exists.\r\nIf this is true, the directory name to create is: &quot;x&quot; + File.separator +&quot;newFolderName&quot;. ","title":"capture directory as string javaforms","body":"<p>The user has to input the given path via command line or gui as string x.\nAfter that, the program must check if this path exists.\nIf this is true, the directory name to create is: &quot;x&quot; + File.separator +&quot;newFolderName&quot;.</p>\n"}],"owner":{"account_id":21227861,"reputation":9,"user_id":15613177,"display_name":"Juan Fernando Vlez Saldarriaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650570647,"creation_date":1650561695,"question_id":71958488,"body_markdown":"I&#180;m working on a directory creator program in java, I can now create the new folder, but I can not give the user the capacity to select the directory where this folder will be created.\r\n\r\nI&#180;m currently working on netbeans with javaforms.\r\n\r\nThanks in forward. ","title":"capture directory as string javaforms","body":"<p>I´m working on a directory creator program in java, I can now create the new folder, but I can not give the user the capacity to select the directory where this folder will be created.</p>\n<p>I´m currently working on netbeans with javaforms.</p>\n<p>Thanks in forward.</p>\n"},{"tags":["java","comments","documentation","javadoc"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650570605,"creation_date":1650570171,"answer_id":71960092,"question_id":71959781,"body_markdown":"To create custom tags for Javadocs, simply [follow these instructions][1].\r\n\r\nYou can create other customizations for Javadoc. For example, in Eclipse, you can create &quot;templates&quot; so that when you create new classes or add new methods, the IDE automatically apply this template to add a (Javadoc) comment formatted in the prescribed style of the template you applied. You can save these templates in an XML file so that you could share it with other members of your team. I am sure that IntelliJ and other modern IDEs will have similar features. I am just more familiarized with Eclipse. Here is a video I created many years ago on [how to create a Code Formatter in Eclipse][2]. If you advance to the 1:48 mark, you will see &quot;Code Template&quot; right above the &quot;Code Formatter&quot; option I selected in the video. Creating a code template is much easier than a formatter.\r\n\r\nTo do this, simply click on *Windows* &gt; *Preferences* menu to get the Preferences popup. There, select *Java* &gt; *Code Style* &gt; *Code Templates*. in the right pane, expand *Comments* and select the component you wish to create a comment template for, for example *Methods*. Click Edit button and format the Javadoc comment to your liking. Obviously, you will have to do a bit of research to get really creative with your comments. For example, you might need to figure out how to use system variables or create your own. For example, in the image below, I made use the year variable to apply the current year whenever I create a new class.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nOnce you finish with all your template customizations, simply click the *Export* button and use the File Chooser dialog to save the file wherever you would like.\r\n\r\nOne last tip, if you need to embed code snippets in your Javadocs, you can follow the [recommendations in this article][4]. I do this very often. Sometimes I find it useful to embed a few lines of code to illustrate different use cases for the method. That way, other developers can see how to use the method in the correct context.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2677564/how-to-create-custom-javadoc-tags\r\n  [2]: https://www.youtube.com/watch?v=A9A1h6KXda0&amp;list=PLLcEatxeThuP4qGSsoVs8Q9_04dFjyfb7\r\n  [3]: https://i.stack.imgur.com/Q3gLq.png\r\n  [4]: https://reflectoring.io/howto-format-code-snippets-in-javadoc/","title":"How to document runtime of a function with Javadoc","body":"<p>To create custom tags for Javadocs, simply <a href=\"https://stackoverflow.com/questions/2677564/how-to-create-custom-javadoc-tags\">follow these instructions</a>.</p>\n<p>You can create other customizations for Javadoc. For example, in Eclipse, you can create &quot;templates&quot; so that when you create new classes or add new methods, the IDE automatically apply this template to add a (Javadoc) comment formatted in the prescribed style of the template you applied. You can save these templates in an XML file so that you could share it with other members of your team. I am sure that IntelliJ and other modern IDEs will have similar features. I am just more familiarized with Eclipse. Here is a video I created many years ago on <a href=\"https://www.youtube.com/watch?v=A9A1h6KXda0&amp;list=PLLcEatxeThuP4qGSsoVs8Q9_04dFjyfb7\" rel=\"nofollow noreferrer\">how to create a Code Formatter in Eclipse</a>. If you advance to the 1:48 mark, you will see &quot;Code Template&quot; right above the &quot;Code Formatter&quot; option I selected in the video. Creating a code template is much easier than a formatter.</p>\n<p>To do this, simply click on <em>Windows</em> &gt; <em>Preferences</em> menu to get the Preferences popup. There, select <em>Java</em> &gt; <em>Code Style</em> &gt; <em>Code Templates</em>. in the right pane, expand <em>Comments</em> and select the component you wish to create a comment template for, for example <em>Methods</em>. Click Edit button and format the Javadoc comment to your liking. Obviously, you will have to do a bit of research to get really creative with your comments. For example, you might need to figure out how to use system variables or create your own. For example, in the image below, I made use the year variable to apply the current year whenever I create a new class.</p>\n<p><a href=\"https://i.stack.imgur.com/Q3gLq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q3gLq.png\" alt=\"enter image description here\" /></a></p>\n<p>Once you finish with all your template customizations, simply click the <em>Export</em> button and use the File Chooser dialog to save the file wherever you would like.</p>\n<p>One last tip, if you need to embed code snippets in your Javadocs, you can follow the <a href=\"https://reflectoring.io/howto-format-code-snippets-in-javadoc/\" rel=\"nofollow noreferrer\">recommendations in this article</a>. I do this very often. Sometimes I find it useful to embed a few lines of code to illustrate different use cases for the method. That way, other developers can see how to use the method in the correct context.</p>\n"}],"owner":{"account_id":13482973,"reputation":1362,"user_id":9727674,"display_name":"Moritz Gro&#223;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650570605,"creation_date":1650568274,"question_id":71959781,"body_markdown":"I&#39;m want to document the asymptotic runtime of a function, as it will be used for algorithm-engineering for graph problems.\r\nWhat&#39;s the most idiomatic way to do this? Is there a way to create new tags in Javadoc like @return or @author?\r\n\r\nI provided an example below, which is the method to delete a vertex in the graph.\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Runtime: O( degreeOf(v) )    because every neighbour of [v] also needs to be updated.\r\n     */\r\n    fun deleteVertex(v: V): SimpleGraph&lt;V&gt; {\r\n        if (v in m.keys) {\r\n            for (nb in m[v]!!)\r\n                m[nb]!!.remove(v)\r\n            m.remove(v)\r\n        }\r\n\r\n        return this\r\n    }","title":"How to document runtime of a function with Javadoc","body":"<p>I'm want to document the asymptotic runtime of a function, as it will be used for algorithm-engineering for graph problems.\nWhat's the most idiomatic way to do this? Is there a way to create new tags in Javadoc like @return or @author?</p>\n<p>I provided an example below, which is the method to delete a vertex in the graph.</p>\n<pre><code>/**\n * Runtime: O( degreeOf(v) )    because every neighbour of [v] also needs to be updated.\n */\nfun deleteVertex(v: V): SimpleGraph&lt;V&gt; {\n    if (v in m.keys) {\n        for (nb in m[v]!!)\n            m[nb]!!.remove(v)\n        m.remove(v)\n    }\n\n    return this\n}\n</code></pre>\n"},{"tags":["java","maven","netbeans-8"],"answers":[{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461258155,"creation_date":1461258155,"answer_id":36776153,"question_id":36775918,"body_markdown":"Nature of a maven dependency is specified by a four-tuple (a collection of four things): `GroupID`, `ArtifactID`, `version`, and the often forgotten `scope`. The first three are collectively known as `GAV` of a dependency. The `scope` determines how the dependency is to be utilized at runtime.\r\n\r\nIn your case, what seems to be happening is that the following:\r\n\r\n1. Project A is compiled and installed in a local repo (e.g. using a `mvn install` command).\r\n2. In Project B&#39;s pom.xml, you specify project A&#39;s GAV as a proper `&lt;dependecy&gt;` declaration and _compilation and packaging_ seems to go through.\r\n3. But since the project B&#39;s final JAR does not have project A&#39;s classes, running project B fails because A&#39;s classes are _not found_.\r\n\r\nBasically, you need to tell Maven the scope of the dependency. In your case, since project A&#39;s classes are not available at a predefined runtime (e.g. Tomcat, or GlassFish web container) you need to be make sure that you bundle them with the JAR file of project B.\r\n\r\nThis is where you need a plugin attaching to a phase of build life cycle.\r\n\r\nSee maven-jar-plugin or maven-shade-plugin for details on how to make project A&#39;s classes a part of project B&#39;s final JAR file.\r\n\r\nThis assumes that you are running the classes in B as: `java -jar projectB-full.jar`.\r\n","title":"I added a maven project as dependency in another maven project","body":"<p>Nature of a maven dependency is specified by a four-tuple (a collection of four things): <code>GroupID</code>, <code>ArtifactID</code>, <code>version</code>, and the often forgotten <code>scope</code>. The first three are collectively known as <code>GAV</code> of a dependency. The <code>scope</code> determines how the dependency is to be utilized at runtime.</p>\n\n<p>In your case, what seems to be happening is that the following:</p>\n\n<ol>\n<li>Project A is compiled and installed in a local repo (e.g. using a <code>mvn install</code> command).</li>\n<li>In Project B's pom.xml, you specify project A's GAV as a proper <code>&lt;dependecy&gt;</code> declaration and <em>compilation and packaging</em> seems to go through.</li>\n<li>But since the project B's final JAR does not have project A's classes, running project B fails because A's classes are <em>not found</em>.</li>\n</ol>\n\n<p>Basically, you need to tell Maven the scope of the dependency. In your case, since project A's classes are not available at a predefined runtime (e.g. Tomcat, or GlassFish web container) you need to be make sure that you bundle them with the JAR file of project B.</p>\n\n<p>This is where you need a plugin attaching to a phase of build life cycle.</p>\n\n<p>See maven-jar-plugin or maven-shade-plugin for details on how to make project A's classes a part of project B's final JAR file.</p>\n\n<p>This assumes that you are running the classes in B as: <code>java -jar projectB-full.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650570583,"creation_date":1650570583,"answer_id":71960172,"question_id":36775918,"body_markdown":"Add `commons-logging` dependency to your project A (the one you are using as a dependency):\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNext, go to the &quot;maven&quot; tab, reimport dependencies, next build project A running `mvn clean install`. Then go to your project B, verify you have project A as a dependency (correct groupId, artifactId, and version) and reimport the dependencies. \r\nYour project B should now recognize your project A dependency.","title":"I added a maven project as dependency in another maven project","body":"<p>Add <code>commons-logging</code> dependency to your project A (the one you are using as a dependency):</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Next, go to the &quot;maven&quot; tab, reimport dependencies, next build project A running <code>mvn clean install</code>. Then go to your project B, verify you have project A as a dependency (correct groupId, artifactId, and version) and reimport the dependencies.\nYour project B should now recognize your project A dependency.</p>\n"}],"owner":{"account_id":7910031,"reputation":11,"user_id":5974346,"display_name":"Joseph Olaoye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":610,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1650570583,"creation_date":1461257352,"question_id":36775918,"body_markdown":"I added a maven project A as dependency in another maven project B and then access the jar created by B in another project through reflection, but its throwing a NoClassDefFound error for classes in maven project A\r\n\r\nMy question is, how do I make the classes in project A visible on project B&#39;s classpath? I tried adding a MANIFEST.MF but that seems to only work for jars and class files. All help appreciated.","title":"I added a maven project as dependency in another maven project","body":"<p>I added a maven project A as dependency in another maven project B and then access the jar created by B in another project through reflection, but its throwing a NoClassDefFound error for classes in maven project A</p>\n\n<p>My question is, how do I make the classes in project A visible on project B's classpath? I tried adding a MANIFEST.MF but that seems to only work for jars and class files. All help appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8581,"page":1411,"page_size":100}
