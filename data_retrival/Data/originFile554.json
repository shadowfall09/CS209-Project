{"items":[{"tags":["java","javafx"],"comments":[{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1562069631,"post_id":56851470,"comment_id":100254404,"body_markdown":"How did you create the jar? IDE tool, maven, gradel, ...?","body":"How did you create the jar? IDE tool, maven, gradel, ...?"},{"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"score":0,"creation_date":1562070101,"post_id":56851470,"comment_id":100254661,"body_markdown":"With the IDE tool","body":"With the IDE tool"},{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1562070757,"post_id":56851470,"comment_id":100255046,"body_markdown":"When using e.g. maven there could be the problem, that the fxml files are just not recognized as resources. It&#39;s a bit unlikely that the IDE tool has the same problems, but to be shure you could check the jar file if it even includes the fxml files (by opening it with 7zip or a similar program).","body":"When using e.g. maven there could be the problem, that the fxml files are just not recognized as resources. It&#39;s a bit unlikely that the IDE tool has the same problems, but to be shure you could check the jar file if it even includes the fxml files (by opening it with 7zip or a similar program)."},{"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"score":0,"creation_date":1562071456,"post_id":56851470,"comment_id":100255527,"body_markdown":"I already checked, it&#39;s one of the first things i did but they are include. And the main class see them, I can change the home page by any other page, the problem is just for the controllers.","body":"I already checked, it&#39;s one of the first things i did but they are include. And the main class see them, I can change the home page by any other page, the problem is just for the controllers."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562067609,"creation_date":1562067609,"answer_id":56851628,"question_id":56851470,"body_markdown":"I would have expected `&quot;/accueil.fxml&quot;` or `&quot;/resources/accueil.fxml&quot;`. Look in the jar with 7tzip or such what the real path is.\r\n\r\nThe resource path `&quot;resources/accueil.fxml&quot;` indicates that in the class path, under the subdirectory of `getClass()` (the class&#39; package directory) there should be a subdirectory `resources`.\r\n\r\nAn other error would be that the file names are only case-insensitive in Windows, when not starting a jar. A jar (zip) file, Linux and Mac all have case-sensitive file names. Check the case-sensitive spelling.\r\n","title":"Jar does not find path for .fxml files","body":"<p>I would have expected <code>\"/accueil.fxml\"</code> or <code>\"/resources/accueil.fxml\"</code>. Look in the jar with 7tzip or such what the real path is.</p>\n\n<p>The resource path <code>\"resources/accueil.fxml\"</code> indicates that in the class path, under the subdirectory of <code>getClass()</code> (the class' package directory) there should be a subdirectory <code>resources</code>.</p>\n\n<p>An other error would be that the file names are only case-insensitive in Windows, when not starting a jar. A jar (zip) file, Linux and Mac all have case-sensitive file names. Check the case-sensitive spelling.</p>\n"},{"tags":[],"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679545588,"creation_date":1679545588,"answer_id":75819247,"question_id":56851470,"body_markdown":"**SHORT answer:** its missign reource folder after compile the project, by default it put all your class and fxml in same folder which cause the issue, you need resource folder seprate same as src strcture.\r\n\r\n**LONG answer:** Manually add resources folder and add src/main/reource from the project as given below imgage, this will copy all resource to requires destination.\r\n\r\nat last use below code to fetch correct file to JAVAFX\r\n\r\n&gt; FXMLLoader.load(SplashController.class.getResource(&quot;DashFX.fxml&quot;))\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/icVaT.png","title":"Jar does not find path for .fxml files","body":"<p><strong>SHORT answer:</strong> its missign reource folder after compile the project, by default it put all your class and fxml in same folder which cause the issue, you need resource folder seprate same as src strcture.</p>\n<p><strong>LONG answer:</strong> Manually add resources folder and add src/main/reource from the project as given below imgage, this will copy all resource to requires destination.</p>\n<p>at last use below code to fetch correct file to JAVAFX</p>\n<blockquote>\n<p>FXMLLoader.load(SplashController.class.getResource(&quot;DashFX.fxml&quot;))</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/icVaT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/icVaT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679549372,"accepted_answer_id":56851628,"answer_count":2,"score":-1,"last_activity_date":1679545588,"creation_date":1562067000,"question_id":56851470,"body_markdown":"I&#39;m developping an desktop app in javafx, and unlike Intellij he jar file return null for `getClass().getResource(pagePath)`.\r\n\r\nWhen i build and run the app with Intellij all work fine and do the job, but after i created the artifact and run the .jar file with a command line i got an error : \r\n\r\n&gt; &#39;Exception in thread &quot;JavaFX Application Thread&quot;\r\n\r\njava.lang.NulPointerException: Location is required.&#39; After many researches and tests i found out that the call `getClass().getResource(pagepath)` return null in the .jar but not with Intellij. I&#39;ve tried to change the way to write the path, change the patterns and change the project&#39; structure.\r\n\r\nHere the incriminated method\r\n```javafx\r\nprotected void loadPage(ActionEvent event, String pagePath) throws IOException {\r\n        System.out.println(getClass().getResource(pagePath));\r\n        Parent pageParent = FXMLLoader.load(getClass().getResource(pagePath));\r\n        Scene newPage = new Scene(pageParent);\r\n        pageParent.getStylesheets().add(Views.CSS);\r\n        Stage window = (Stage) ((javafx.scene.Node)event.getSource()).getScene().getWindow();\r\n        window.setScene(newPage);\r\n        window.show();\r\n    }\r\n```\r\n\r\nThe initialisation of the programm work, the .jar file launch the first page correctly with this method, in the main class.\r\n```javafx\r\n@Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(Views.XML_ACCUEIL));\r\n        primaryStage.getIcons().add(new Image(Views.APP_ICON));\r\n        primaryStage.setTitle(Views.APP_NAME);\r\n        primaryStage.setScene(new Scene(root, Views.WIDTH, Views.HEIGHT));\r\n        primaryStage.show();\r\n    }\r\n```\r\n\r\nThe View class look like this:\r\n```java\r\npublic class Views {\r\n    public static final String home = System.getProperty(&quot;user.home&quot;);\r\n    public static final String REGISTER_FOLDER = home + File.separator + &quot;Desktop&quot; + File.separator;\r\n    public static final String XML_ACCUEIL = &quot;resources/accueil.fxml&quot;;\r\n    public static final String XML_VENTE_FORM = &quot;resources/vente_form.fxml&quot;;\r\n    public static final String XML_DEPOT_FORM = &quot;resources/depot_form.fxml&quot;;\r\n    public static final String XML_TECHNIQUE_FORM_1 = &quot;resources/technique_form_1.fxml&quot;;\r\n    public static final String XML_TECHNIQUE_FORM_2 = &quot;resources/technique_form_2.fxml&quot;;\r\n    public static final String XML_TECHNIQUE_FORM_3 = &quot;resources/technique_form_3.fxml&quot;;\r\n    //{some others var}\r\n    public static final String CSS = &quot;sample/resources/style.css&quot;;\r\n    public static final String APP_NAME = &quot;World Of Cars Desktop&quot;;\r\n    public static final String APP_ICON = &quot;sample/resources/logo_petit.png&quot;;\r\n    public static final int WIDTH = 1280;\r\n    public static final int HEIGHT = 720;\r\n}\r\n```\r\nHere&#39;s the structure:\r\n\r\n    -src\r\n        -sample\r\n            -controller\r\n                {all my controller class}\r\n            -resources\r\n                {all my fxml files}\r\n            -DocFiller\r\n            -Main\r\n            -Views\r\n\r\n\r\nWith Intellij all work perfectly like i said, but the .jar file just launch the home page and when i use a button, normally the loadPage method is called and the next page appear but instead of that, the error is throw when i try to lad any other page than the home page. All the pages, images and ressources are store and called with the same way.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dR5zb.png","title":"Jar does not find path for .fxml files","body":"<p>I'm developping an desktop app in javafx, and unlike Intellij he jar file return null for <code>getClass().getResource(pagePath)</code>.</p>\n\n<p>When i build and run the app with Intellij all work fine and do the job, but after i created the artifact and run the .jar file with a command line i got an error : </p>\n\n<blockquote>\n  <p>'Exception in thread \"JavaFX Application Thread\"</p>\n</blockquote>\n\n<p>java.lang.NulPointerException: Location is required.' After many researches and tests i found out that the call <code>getClass().getResource(pagepath)</code> return null in the .jar but not with Intellij. I've tried to change the way to write the path, change the patterns and change the project' structure.</p>\n\n<p>Here the incriminated method</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>protected void loadPage(ActionEvent event, String pagePath) throws IOException {\n        System.out.println(getClass().getResource(pagePath));\n        Parent pageParent = FXMLLoader.load(getClass().getResource(pagePath));\n        Scene newPage = new Scene(pageParent);\n        pageParent.getStylesheets().add(Views.CSS);\n        Stage window = (Stage) ((javafx.scene.Node)event.getSource()).getScene().getWindow();\n        window.setScene(newPage);\n        window.show();\n    }\n</code></pre>\n\n<p>The initialisation of the programm work, the .jar file launch the first page correctly with this method, in the main class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(Views.XML_ACCUEIL));\n        primaryStage.getIcons().add(new Image(Views.APP_ICON));\n        primaryStage.setTitle(Views.APP_NAME);\n        primaryStage.setScene(new Scene(root, Views.WIDTH, Views.HEIGHT));\n        primaryStage.show();\n    }\n</code></pre>\n\n<p>The View class look like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n    public static final String home = System.getProperty(\"user.home\");\n    public static final String REGISTER_FOLDER = home + File.separator + \"Desktop\" + File.separator;\n    public static final String XML_ACCUEIL = \"resources/accueil.fxml\";\n    public static final String XML_VENTE_FORM = \"resources/vente_form.fxml\";\n    public static final String XML_DEPOT_FORM = \"resources/depot_form.fxml\";\n    public static final String XML_TECHNIQUE_FORM_1 = \"resources/technique_form_1.fxml\";\n    public static final String XML_TECHNIQUE_FORM_2 = \"resources/technique_form_2.fxml\";\n    public static final String XML_TECHNIQUE_FORM_3 = \"resources/technique_form_3.fxml\";\n    //{some others var}\n    public static final String CSS = \"sample/resources/style.css\";\n    public static final String APP_NAME = \"World Of Cars Desktop\";\n    public static final String APP_ICON = \"sample/resources/logo_petit.png\";\n    public static final int WIDTH = 1280;\n    public static final int HEIGHT = 720;\n}\n</code></pre>\n\n<p>Here's the structure:</p>\n\n<pre><code>-src\n    -sample\n        -controller\n            {all my controller class}\n        -resources\n            {all my fxml files}\n        -DocFiller\n        -Main\n        -Views\n</code></pre>\n\n<p>With Intellij all work perfectly like i said, but the .jar file just launch the home page and when i use a button, normally the loadPage method is called and the next page appear but instead of that, the error is throw when i try to lad any other page than the home page. All the pages, images and ressources are store and called with the same way.</p>\n"},{"tags":["java","android","json","sqlite","android-asynctask"],"answers":[{"tags":[],"owner":{"account_id":15361500,"reputation":281,"user_id":11082213,"display_name":"Nrohpos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679545161,"creation_date":1679545161,"answer_id":75819215,"question_id":75221089,"body_markdown":"I assume you having everything in single class (activity) (That&#39;s already messy).\r\n\r\nThis case i believe you have this 2 out side of the function\r\n\r\n    List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n    boolean run = false;\r\n\r\nFor **parseApiData** you are doing duplicate things, That is what is should be look\r\n\r\n        public void parseApiData() {\r\n\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;url&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n\r\n                if (response != null) {\r\n\r\n                    if (!books.isEmpty()) {\r\n                        books.clear();\r\n                       dbHandler.removeAll();\r\n                    }\r\n\r\n                    for (int i = 0; i &lt; response.length(); i++) {\r\n\r\n                        try {\r\n\r\n                            JSONObject obj = response.getJSONObject(i);\r\n\r\n                            int bookId = obj.getInt(&quot;id&quot;);\r\n\r\n                            String bookName = obj.getString(&quot;title&quot;);\r\n\r\n                            String bookDescription = obj.getString(&quot;description&quot;);\r\n\r\n                            int bookPage = obj.getInt(&quot;pageCount&quot;);\r\n\r\n                            String bookExcerpt = obj.getString(&quot;excerpt&quot;);\r\n\r\n                            String bookPublishDate = obj.getString(&quot;publishDate&quot;);\r\n                            Book note = new Book( bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\r\n                            books.add(note);\r\n\r\n                            dbHandler.addNewCourse(note.getmBookId(), note.getmBookName(), note.getmBookDescription(), note.getmBookPage(), note.getmBookExcerpt(), note.getmBookPublishDate());\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                    }\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n        }, new com.android.volley.Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        Volley.newRequestQueue(this).add(jsonArrayRequest);\r\n    }\r\n\r\n\r\n**For AsyncTaskRunner**\r\n\r\n \r\n\r\n    private class AsyncTaskRunner extends AsyncTask&lt;Void, Void, Void&gt; {\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n                progressBar.setVisibility(View.VISIBLE);\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n    \r\n                if (!run) {\r\n                    parseApiData();\r\n                    run = true;\r\n    \r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void unused) {\r\n                super.onPostExecute(unused);\r\n    \r\n                progressBar.setVisibility(View.GONE);\r\n                onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\r\n                BookAdapter adapter = new BookAdapter(MainActivity.this, books);\r\n                recyclerView.setAdapter(adapter);\r\n    \r\n            }\r\n        }\r\n\r\n\r\n**Here the repeated :**\r\n\r\n&gt; dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage,\r\n&gt; bookExcerpt, bookPublishDate);\r\n\r\nWith this one:\r\n\r\n    new Thread(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                   for(int j=0;j&lt;books.size();j++)\r\n                                   {\r\n                                       Books note=books.get(j);\r\n                                       dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\r\n                                   }\r\n                                    }\r\n                                });\r\n I recommended by changing this too:\r\n\r\n\r\n    onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\r\n    BookAdapter adapter = new BookAdapter(MainActivity.this, books);\r\n    recyclerView.setAdapter(adapter);\r\n\r\n\r\nIf you request API 3 time it keeping that and rebuild as new again and again\r\n\r\nPlease consider by create function in your adapter, something like this:\r\n\r\n \r\n\r\n    void updateList(List&lt;Book&gt; books){\r\n            your_list_in_adapter = books;\r\n            notifyDataSetChanged();\r\n        }\r\n\r\nwhen **onPostExecute** you only call that :\r\n\r\n    youradapter.updateList(books);\r\n\r\nThis would be much better.\r\nNote: AsyncTask, It already deprecated. Please consider change it [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62438770/android-asynctask-deprecated-need-substitute-examples","title":"How I can parse JSON data only once when my application is running","body":"<p>I assume you having everything in single class (activity) (That's already messy).</p>\n<p>This case i believe you have this 2 out side of the function</p>\n<pre><code>List&lt;Book&gt; books = new ArrayList&lt;&gt;();\nboolean run = false;\n</code></pre>\n<p>For <strong>parseApiData</strong> you are doing duplicate things, That is what is should be look</p>\n<pre><code>    public void parseApiData() {\n\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;url&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\n        @Override\n        public void onResponse(JSONArray response) {\n\n            if (response != null) {\n\n                if (!books.isEmpty()) {\n                    books.clear();\n                   dbHandler.removeAll();\n                }\n\n                for (int i = 0; i &lt; response.length(); i++) {\n\n                    try {\n\n                        JSONObject obj = response.getJSONObject(i);\n\n                        int bookId = obj.getInt(&quot;id&quot;);\n\n                        String bookName = obj.getString(&quot;title&quot;);\n\n                        String bookDescription = obj.getString(&quot;description&quot;);\n\n                        int bookPage = obj.getInt(&quot;pageCount&quot;);\n\n                        String bookExcerpt = obj.getString(&quot;excerpt&quot;);\n\n                        String bookPublishDate = obj.getString(&quot;publishDate&quot;);\n                        Book note = new Book( bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\n                        books.add(note);\n\n                        dbHandler.addNewCourse(note.getmBookId(), note.getmBookName(), note.getmBookDescription(), note.getmBookPage(), note.getmBookExcerpt(), note.getmBookPublishDate());\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n            } else {\n                Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }, new com.android.volley.Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n    Volley.newRequestQueue(this).add(jsonArrayRequest);\n}\n</code></pre>\n<p><strong>For AsyncTaskRunner</strong></p>\n<pre><code>private class AsyncTaskRunner extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            progressBar.setVisibility(View.VISIBLE);\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            if (!run) {\n                parseApiData();\n                run = true;\n\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void unused) {\n            super.onPostExecute(unused);\n\n            progressBar.setVisibility(View.GONE);\n            onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\n            BookAdapter adapter = new BookAdapter(MainActivity.this, books);\n            recyclerView.setAdapter(adapter);\n\n        }\n    }\n</code></pre>\n<p><strong>Here the repeated :</strong></p>\n<blockquote>\n<p>dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage,\nbookExcerpt, bookPublishDate);</p>\n</blockquote>\n<p>With this one:</p>\n<pre><code>new Thread(new Runnable() {\n                                @Override\n                                public void run() {\n                               for(int j=0;j&lt;books.size();j++)\n                               {\n                                   Books note=books.get(j);\n                                   dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\n                               }\n                                }\n                            });\n</code></pre>\n<p>I recommended by changing this too:</p>\n<pre><code>onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\nBookAdapter adapter = new BookAdapter(MainActivity.this, books);\nrecyclerView.setAdapter(adapter);\n</code></pre>\n<p>If you request API 3 time it keeping that and rebuild as new again and again</p>\n<p>Please consider by create function in your adapter, something like this:</p>\n<pre><code>void updateList(List&lt;Book&gt; books){\n        your_list_in_adapter = books;\n        notifyDataSetChanged();\n    }\n</code></pre>\n<p>when <strong>onPostExecute</strong> you only call that :</p>\n<pre><code>youradapter.updateList(books);\n</code></pre>\n<p>This would be much better.\nNote: AsyncTask, It already deprecated. Please consider change it <a href=\"https://stackoverflow.com/questions/62438770/android-asynctask-deprecated-need-substitute-examples\">here</a>.</p>\n"}],"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75819215,"answer_count":1,"score":0,"last_activity_date":1679545161,"creation_date":1674561147,"question_id":75221089,"body_markdown":"I&#39;ve no idea on how to parse JSON data only once when my application is running. Currently JSON parsing is done on every user interaction like landscape/portrait orientations, page refreshing and page recreation (from child activity) .This makes my application so slow to actually display data every single time. Even app crashes when large number of user interactions like multiple orientation changes are given. **Can someone help me how to limit Json parsing not more than once?** \r\n\r\nJSON Parsing and Saving in Database and ArrayList \r\n\r\n```\r\n public void parseApiData () {\r\n\r\n            RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\r\n\r\n            JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\r\n                @Override\r\n                public void onResponse(JSONArray response) {\r\n\r\n                        if (response != null) {\r\n\r\n                            if(!books.isEmpty())\r\n                            {\r\n                                books.removeAll(books);\r\n                                dbHandler.removeAll();\r\n                            }\r\n\r\n                            for (int i = 0; i &lt; response.length(); i++) {\r\n\r\n                                try {\r\n\r\n                                    JSONObject obj = response.getJSONObject(i);\r\n\r\n                                    int bookId = obj.getInt(&quot;id&quot;);\r\n\r\n                                    String bookName = obj.getString(&quot;title&quot;);\r\n\r\n                                    String bookDescription = obj.getString(&quot;description&quot;);\r\n\r\n                                    int bookPage = obj.getInt(&quot;pageCount&quot;);\r\n\r\n                                    String bookExcerpt = obj.getString(&quot;excerpt&quot;);\r\n\r\n                                    String bookPublishDate = obj.getString(&quot;publishDate&quot;);\r\n\r\n                                    books.add(new Books(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate));\r\n\r\n                                    dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\r\n\r\n                                    // books ?\r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n\r\n\r\n                            }\r\n\r\n                            //Books[] b=books.toArray(new Books[books.size()]);\r\n                            //System.out.println(b[184].getmBookName());\r\n                            //System.out.println(books.get(198).getmBookPage());\r\n                            new Thread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                               for(int j=0;j&lt;books.size();j++)\r\n                               {\r\n                                   Books note=books.get(j);\r\n                                   dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\r\n                               }\r\n                                }\r\n                            });\r\n\r\n                            // books = dbHandler.readCourses();\r\n                            progressBar.setVisibility(View.GONE);\r\n                            onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\r\n                            BookAdapter adapter = new BookAdapter(MainActivity.this, books);\r\n                            recyclerView.setAdapter(adapter);\r\n\r\n                        } else {\r\n                            Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n\r\n            }, new com.android.volley.Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n            queue.add(jsonArrayRequest);\r\n\r\n\r\n        };\r\n```\r\n\r\nParsing in Background to reduce load in main thread\r\n\r\n```\r\n private class AsyncTaskRunner extends AsyncTask&lt;Void,Void,Void&gt;{\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n\r\n            try {\r\n\r\n                if(!run) {\r\n                    parseApiData();\r\n                    run=true;\r\n\r\n                }\r\n            }\r\n            catch (Exception e){\r\n\r\n                e.printStackTrace();\r\n\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How I can parse JSON data only once when my application is running","body":"<p>I've no idea on how to parse JSON data only once when my application is running. Currently JSON parsing is done on every user interaction like landscape/portrait orientations, page refreshing and page recreation (from child activity) .This makes my application so slow to actually display data every single time. Even app crashes when large number of user interactions like multiple orientation changes are given. <strong>Can someone help me how to limit Json parsing not more than once?</strong></p>\n<p>JSON Parsing and Saving in Database and ArrayList</p>\n<pre><code> public void parseApiData () {\n\n            RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\n\n            JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\n                @Override\n                public void onResponse(JSONArray response) {\n\n                        if (response != null) {\n\n                            if(!books.isEmpty())\n                            {\n                                books.removeAll(books);\n                                dbHandler.removeAll();\n                            }\n\n                            for (int i = 0; i &lt; response.length(); i++) {\n\n                                try {\n\n                                    JSONObject obj = response.getJSONObject(i);\n\n                                    int bookId = obj.getInt(&quot;id&quot;);\n\n                                    String bookName = obj.getString(&quot;title&quot;);\n\n                                    String bookDescription = obj.getString(&quot;description&quot;);\n\n                                    int bookPage = obj.getInt(&quot;pageCount&quot;);\n\n                                    String bookExcerpt = obj.getString(&quot;excerpt&quot;);\n\n                                    String bookPublishDate = obj.getString(&quot;publishDate&quot;);\n\n                                    books.add(new Books(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate));\n\n                                    dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\n\n                                    // books ?\n                                } catch (JSONException e) {\n                                    e.printStackTrace();\n                                }\n\n\n                            }\n\n                            //Books[] b=books.toArray(new Books[books.size()]);\n                            //System.out.println(b[184].getmBookName());\n                            //System.out.println(books.get(198).getmBookPage());\n                            new Thread(new Runnable() {\n                                @Override\n                                public void run() {\n                               for(int j=0;j&lt;books.size();j++)\n                               {\n                                   Books note=books.get(j);\n                                   dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\n                               }\n                                }\n                            });\n\n                            // books = dbHandler.readCourses();\n                            progressBar.setVisibility(View.GONE);\n                            onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\n                            BookAdapter adapter = new BookAdapter(MainActivity.this, books);\n                            recyclerView.setAdapter(adapter);\n\n                        } else {\n                            Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n            }, new com.android.volley.Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            queue.add(jsonArrayRequest);\n\n\n        };\n</code></pre>\n<p>Parsing in Background to reduce load in main thread</p>\n<pre><code> private class AsyncTaskRunner extends AsyncTask&lt;Void,Void,Void&gt;{\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            try {\n\n                if(!run) {\n                    parseApiData();\n                    run=true;\n\n                }\n            }\n            catch (Exception e){\n\n                e.printStackTrace();\n\n            }\n\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["javascript","java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1679544312,"post_id":75819141,"comment_id":133741911,"body_markdown":"[tag:java] != [tag:javascript]","body":"<a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> != <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679544088,"creation_date":1679544088,"answer_id":75819156,"question_id":75819141,"body_markdown":"Divide by `12` to get the number of full dozens you can get from the individual eggs. Take the remainder to get how many individual eggs are left, not forming a dozen.\r\n\r\n```java\r\nint dozenEggs = 1;\r\nint individualEggs = 15;\r\ndozenEggs += individualEggs / 12;\r\nindividualEggs %= 12;\r\n// then calculate price, e.g. dozenEggs + individualEggs * .1\r\n```","title":"How to switch variable into another variable once the condition is get in java if else if statement","body":"<p>Divide by <code>12</code> to get the number of full dozens you can get from the individual eggs. Take the remainder to get how many individual eggs are left, not forming a dozen.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int dozenEggs = 1;\nint individualEggs = 15;\ndozenEggs += individualEggs / 12;\nindividualEggs %= 12;\n// then calculate price, e.g. dozenEggs + individualEggs * .1\n</code></pre>\n"}],"owner":{"account_id":28091833,"reputation":1,"user_id":21461220,"display_name":"JANN RYL LUZURIAGA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679984058,"answer_count":1,"score":-2,"last_activity_date":1679544088,"creation_date":1679543903,"question_id":75819141,"body_markdown":"I just want to know how to switch the variable into another variable.. For example, I have a an individual eggs... its 12 will consider as dozen eggs, in program, if I type 12 in individual eggs, how to put a code to switch it in dozen egg..\r\n\r\nlike this:\r\n\r\nif (individualEggs==12)\r\n   convert it to dozenEggs: \r\n\r\n\r\n\r\nthe output in screen will be like this:\r\nprice of dozen egg = 1 usd\r\nprice of individual egg = .1 usd\r\n\r\n\r\ndozenEggs = 1\r\nindividualEggs = 12\r\n\r\nTHE ANSWER MUST BE 2 USD \r\nand not 2.2 usd... when it is computed.. please help me..\r\n","title":"How to switch variable into another variable once the condition is get in java if else if statement","body":"<p>I just want to know how to switch the variable into another variable.. For example, I have a an individual eggs... its 12 will consider as dozen eggs, in program, if I type 12 in individual eggs, how to put a code to switch it in dozen egg..</p>\n<p>like this:</p>\n<p>if (individualEggs==12)\nconvert it to dozenEggs:</p>\n<p>the output in screen will be like this:\nprice of dozen egg = 1 usd\nprice of individual egg = .1 usd</p>\n<p>dozenEggs = 1\nindividualEggs = 12</p>\n<p>THE ANSWER MUST BE 2 USD\nand not 2.2 usd... when it is computed.. please help me..</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","prefix","blobstore"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1679603119,"post_id":75819147,"comment_id":133755745,"body_markdown":"Firsly, your `listFiles = downfilesFromFolder(names);` should be out of the `for` scope, isn&#39;t it? In addition, did you try with a leading `/` in your &quot;directory&quot; variable?","body":"Firsly, your <code>listFiles = downfilesFromFolder(names);</code> should be out of the <code>for</code> scope, isn&#39;t it? In addition, did you try with a leading <code>&#47;</code> in your &quot;directory&quot; variable?"}],"owner":{"account_id":17304770,"reputation":1,"user_id":12533735,"display_name":"Gonzalo Iv&#225;n V&#225;zquez Jim&#233;nez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679544002,"creation_date":1679544002,"question_id":75819147,"body_markdown":"I am using Cloud Storage for save some files(Blobs) what I want to archive is access to those files in the following path: `***xml/032023/Files/Entreprise/deductions***` \r\n\r\nWhat I understood reading the documentation is that this has to be a prefix and for that I am using the following code\r\n\r\n\r\n        public static String directory= &quot;xml/032023/Files/Entreprise/deductions&quot;\r\n            \r\n    \r\n    public static List&lt;File&gt; getFilesxml() throws IOException{\r\n\r\n             List&lt;File&gt; listFiles = new ArrayList&lt;&gt;();\r\n             List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    \r\n         try{\r\n            LOGGER.info(&quot;Setting Storage Options &quot;);\r\n             Storage storage = StorageOptions.newBuilder().setProjectId(project_id).build().getService();\r\n             Page&lt;Blob&gt;  blobs = storage.list(bucketName, Storage.BlobListOption.prefix(directory),\r\n    Storage.BlobListOption.currentDirectory()));\r\n    \r\n    //Also I&#39;ve tried not using Storage.BlobListOption.currentDirectory()\r\n\r\n             \r\n            for(Blob blob: blobs.iterateAll()){\r\n                LOGGER.info(&quot;blobname: &quot;+blob.getName());\r\n    \r\n                LOGGER.info(&quot;name:&quot;+blob.getName());\r\n                names.add(blob.getName());\r\n    \r\n                listFiles = downfilesFromFolder(names);\r\n            }\r\n    \r\n         }catch (Exception e){\r\n    \r\n         }\r\n        return listFiles;\r\n        }\r\n\r\n\r\nthe download method is the next if you want to know get some files and after use them as you want \r\n\r\n    public static List&lt;File&gt; downfilesFromFolder(List&lt;String&gt; names) throws IOException {\r\n        File file = null;\r\n        List&lt;File&gt; files = new ArrayList&lt;&gt;();\r\n        try {\r\n            for(String name: names){\r\n\r\n                Storage storage = StorageOptions.getDefaultInstance().getService();\r\n\r\n                Blob blob = storage.get(BlobId.of(bucketName,  name));\r\n                String newName= name.replace(&quot;xml/&quot;,&quot;&quot;);\r\n               //This replace is beacause when I log the blobname  in the first path was xml/deduction_february.xml and after this the blobname is now deduction_february.xml\r\n                blob.downloadTo(Paths.get(&quot;/tmp/&quot; + newName));\r\n\r\n                ReadChannel readChannel = blob.reader();\r\n                file = new File(&quot;/tmp/&quot; + newName);\r\n\r\n                FileOutputStream fileOuputStream = new FileOutputStream(file);\r\n                fileOuputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\r\n                fileOuputStream.close();\r\n                files.add(file);\r\n            }\r\n\r\n        } catch (Exception e){\r\n            LOGGER.info(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n        return files;\r\n    }\r\n\r\n\r\nWhen I log the blobname doesn&#39;t show anything in cloud console and doesn&#39;t do the next steps, how do I access to those blobs in the new path(prefix)? This worked very well when  my Files where in the first path &#39;xml&#39; but now are in other path, me and other people would very appreciate the help whith this, thanks for your help.\r\n","title":"How do I access to sub folders with a prefix in Google Cloud Storage using JAVA?","body":"<p>I am using Cloud Storage for save some files(Blobs) what I want to archive is access to those files in the following path: <code>***xml/032023/Files/Entreprise/deductions***</code></p>\n<p>What I understood reading the documentation is that this has to be a prefix and for that I am using the following code</p>\n<pre><code>    public static String directory= &quot;xml/032023/Files/Entreprise/deductions&quot;\n        \n\npublic static List&lt;File&gt; getFilesxml() throws IOException{\n\n         List&lt;File&gt; listFiles = new ArrayList&lt;&gt;();\n         List&lt;String&gt; names = new ArrayList&lt;&gt;();\n\n     try{\n        LOGGER.info(&quot;Setting Storage Options &quot;);\n         Storage storage = StorageOptions.newBuilder().setProjectId(project_id).build().getService();\n         Page&lt;Blob&gt;  blobs = storage.list(bucketName, Storage.BlobListOption.prefix(directory),\nStorage.BlobListOption.currentDirectory()));\n\n//Also I've tried not using Storage.BlobListOption.currentDirectory()\n\n         \n        for(Blob blob: blobs.iterateAll()){\n            LOGGER.info(&quot;blobname: &quot;+blob.getName());\n\n            LOGGER.info(&quot;name:&quot;+blob.getName());\n            names.add(blob.getName());\n\n            listFiles = downfilesFromFolder(names);\n        }\n\n     }catch (Exception e){\n\n     }\n    return listFiles;\n    }\n</code></pre>\n<p>the download method is the next if you want to know get some files and after use them as you want</p>\n<pre><code>public static List&lt;File&gt; downfilesFromFolder(List&lt;String&gt; names) throws IOException {\n    File file = null;\n    List&lt;File&gt; files = new ArrayList&lt;&gt;();\n    try {\n        for(String name: names){\n\n            Storage storage = StorageOptions.getDefaultInstance().getService();\n\n            Blob blob = storage.get(BlobId.of(bucketName,  name));\n            String newName= name.replace(&quot;xml/&quot;,&quot;&quot;);\n           //This replace is beacause when I log the blobname  in the first path was xml/deduction_february.xml and after this the blobname is now deduction_february.xml\n            blob.downloadTo(Paths.get(&quot;/tmp/&quot; + newName));\n\n            ReadChannel readChannel = blob.reader();\n            file = new File(&quot;/tmp/&quot; + newName);\n\n            FileOutputStream fileOuputStream = new FileOutputStream(file);\n            fileOuputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\n            fileOuputStream.close();\n            files.add(file);\n        }\n\n    } catch (Exception e){\n        LOGGER.info(&quot;Error: &quot; + e.getMessage());\n    }\n    return files;\n}\n</code></pre>\n<p>When I log the blobname doesn't show anything in cloud console and doesn't do the next steps, how do I access to those blobs in the new path(prefix)? This worked very well when  my Files where in the first path 'xml' but now are in other path, me and other people would very appreciate the help whith this, thanks for your help.</p>\n"},{"tags":["java","linux","awt","x11","x11-forwarding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679562893,"post_id":75819121,"comment_id":133744884,"body_markdown":"Almost certainly not enough packages there for successful Java gui. You should install the minimum desktop environment for your distro first and test it by running say `xeyes` over SSH before attempting your Java","body":"Almost certainly not enough packages there for successful Java gui. You should install the minimum desktop environment for your distro first and test it by running say <code>xeyes</code> over SSH before attempting your Java"}],"owner":{"account_id":28029801,"reputation":1,"user_id":21409171,"display_name":"nimesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679543572,"creation_date":1679543572,"question_id":75819121,"body_markdown":"I take a screenshot using java.awt.robot class\r\n\r\nHere is my code :\r\n\r\n    import java.awt.Rectangle;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO; public class DesktopScreenshot {\r\n        public static void main(String[] args) throws Exception {\r\n            Robot robot = new Robot();\r\n            Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\r\n            BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\r\n            File screenshotFile = new File(&quot;screenshot.png&quot;);\r\n            ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\r\n        }\r\n    }\r\n\r\nIt is using graphics environment so i install X11 server and run on AWS linux server.\r\n\r\ninstall server &#160;: sudo apt-get install xorg-x11-server-Xorg&#160;\r\n\r\nstart X11 Server : sudo systemctl start xorg-x11-server.service or startx\r\n\r\nxhost + &#160;: access all clients.\r\n\r\nNeed a solution how client connect to X11 server.","title":"How to connect client to X11 window server run on AWS linux server","body":"<p>I take a screenshot using java.awt.robot class</p>\n<p>Here is my code :</p>\n<pre><code>import java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO; public class DesktopScreenshot {\n    public static void main(String[] args) throws Exception {\n        Robot robot = new Robot();\n        Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\n        BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\n        File screenshotFile = new File(&quot;screenshot.png&quot;);\n        ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\n    }\n}\n</code></pre>\n<p>It is using graphics environment so i install X11 server and run on AWS linux server.</p>\n<p>install server  : sudo apt-get install xorg-x11-server-Xorg </p>\n<p>start X11 Server : sudo systemctl start xorg-x11-server.service or startx</p>\n<p>xhost +  : access all clients.</p>\n<p>Need a solution how client connect to X11 server.</p>\n"},{"tags":["java","jframe","icons","jlabel","windowbuilder"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679538952,"post_id":75818806,"comment_id":133741356,"body_markdown":"Add an `EmptyBorder` to each.  Make use of a layout manager which can support padding between components (like `FlowLayout`, `GridLayout` and `GridBagLayout` as some examples)","body":"Add an <code>EmptyBorder</code> to each.  Make use of a layout manager which can support padding between components (like <code>FlowLayout</code>, <code>GridLayout</code> and <code>GridBagLayout</code> as some examples)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679539837,"creation_date":1679539837,"answer_id":75818884,"question_id":75818806,"body_markdown":"See: \r\n\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n* [How to Use Borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html)\r\n\r\nfor more details...\r\n\r\n# Use an `EmptyBorder`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                leftLabel.setBorder(new EmptyBorder(8, 8, 8, 4));\r\n                rightLabel.setBorder(new EmptyBorder(8, 4, 8, 8));\r\n\r\n                JPanel imagePane = new JPanel(new GridBagLayout());\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n                imagePane.add(leftLabel);\r\n                imagePane.add(rightLabel);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Use a `FlowLayout`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                JPanel imagePane = new JPanel(new FlowLayout(FlowLayout.CENTER, 8, 8));\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n                imagePane.add(leftLabel);\r\n                imagePane.add(rightLabel);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Use a `GridBagLayout`\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Image;\r\n    import java.awt.Insets;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                JPanel imagePane = new JPanel(new GridBagLayout());\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(8, 8, 8, 4);\r\n                imagePane.add(leftLabel, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(8, 4, 8, 8);\r\n                imagePane.add(rightLabel, gbc);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Use a `GridLayout` (and `EmptyBorder`)\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                JPanel imagePane = new JPanel(new GridLayout(1, 2, 8, 8));\r\n                imagePane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n\r\n                imagePane.add(leftLabel);\r\n                imagePane.add(rightLabel);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Or a combination of any...\r\n\r\nBased on your needs\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QZORw.png\r\n  [2]: https://i.stack.imgur.com/Qv8Ph.png\r\n  [3]: https://i.stack.imgur.com/Rey86.png\r\n  [4]: https://i.stack.imgur.com/JEH7o.png","title":"How do I create padding between icon images that are inside of JLabels","body":"<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to Use Borders</a></li>\n</ul>\n<p>for more details...</p>\n<h1>Use an <code>EmptyBorder</code></h1>\n<p><a href=\"https://i.stack.imgur.com/QZORw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZORw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            leftLabel.setBorder(new EmptyBorder(8, 8, 8, 4));\n            rightLabel.setBorder(new EmptyBorder(8, 4, 8, 8));\n\n            JPanel imagePane = new JPanel(new GridBagLayout());\n            imagePane.setBackground(Color.DARK_GRAY);\n            imagePane.add(leftLabel);\n            imagePane.add(rightLabel);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Use a <code>FlowLayout</code></h1>\n<p><a href=\"https://i.stack.imgur.com/Qv8Ph.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qv8Ph.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            JPanel imagePane = new JPanel(new FlowLayout(FlowLayout.CENTER, 8, 8));\n            imagePane.setBackground(Color.DARK_GRAY);\n            imagePane.add(leftLabel);\n            imagePane.add(rightLabel);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Use a <code>GridBagLayout</code></h1>\n<p><a href=\"https://i.stack.imgur.com/Rey86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rey86.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.Insets;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            JPanel imagePane = new JPanel(new GridBagLayout());\n            imagePane.setBackground(Color.DARK_GRAY);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(8, 8, 8, 4);\n            imagePane.add(leftLabel, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.insets = new Insets(8, 4, 8, 8);\n            imagePane.add(rightLabel, gbc);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Use a <code>GridLayout</code> (and <code>EmptyBorder</code>)</h1>\n<p><a href=\"https://i.stack.imgur.com/JEH7o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JEH7o.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            JPanel imagePane = new JPanel(new GridLayout(1, 2, 8, 8));\n            imagePane.setBorder(new EmptyBorder(8, 8, 8, 8));\n            imagePane.setBackground(Color.DARK_GRAY);\n\n            imagePane.add(leftLabel);\n            imagePane.add(rightLabel);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Or a combination of any...</h1>\n<p>Based on your needs</p>\n"}],"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679575833,"accepted_answer_id":75818884,"answer_count":1,"score":-1,"last_activity_date":1679539837,"creation_date":1679538728,"question_id":75818806,"body_markdown":"I am trying to create a JFrame that has a layout like this image [desired goal][1]\r\nand what I currently have is this [current progress][2]. How do I create padding between the two images as well as at the top and bottom? I have tried using the empty border property and setting the left and right at their respective values, but the gap of space in the middle, top, and bottom does not get created.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PbAGW.png\r\n  [2]: https://i.stack.imgur.com/E9o1S.png","title":"How do I create padding between icon images that are inside of JLabels","body":"<p>I am trying to create a JFrame that has a layout like this image <a href=\"https://i.stack.imgur.com/PbAGW.png\" rel=\"nofollow noreferrer\">desired goal</a>\nand what I currently have is this <a href=\"https://i.stack.imgur.com/E9o1S.png\" rel=\"nofollow noreferrer\">current progress</a>. How do I create padding between the two images as well as at the top and bottom? I have tried using the empty border property and setting the left and right at their respective values, but the gap of space in the middle, top, and bottom does not get created.</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679539280,"creation_date":1679539280,"answer_id":75818848,"question_id":75818695,"body_markdown":"You can use `th:text` to set the content of the `&lt;textarea&gt;`:\r\n\r\n```\r\n&lt;textarea id=&quot;description&quot; th:name=&quot;description&quot; th:text=&quot;${description}&quot; \r\n          placeholder=&quot;Enter content&quot;&gt;&lt;/textarea&gt;\r\n```","title":"Thymeleaf th:field in textarea not working","body":"<p>You can use <code>th:text</code> to set the content of the <code>&lt;textarea&gt;</code>:</p>\n<pre><code>&lt;textarea id=&quot;description&quot; th:name=&quot;description&quot; th:text=&quot;${description}&quot; \n          placeholder=&quot;Enter content&quot;&gt;&lt;/textarea&gt;\n</code></pre>\n"}],"owner":{"account_id":10485191,"reputation":3,"user_id":20104989,"display_name":"Mihal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75818848,"answer_count":1,"score":0,"last_activity_date":1679539416,"creation_date":1679536717,"question_id":75818695,"body_markdown":"I have a description in several languages, using thymeleaf I came across the fact that th:field in textarea not working!\r\n\r\nAt the same time th:text or th:value in input works and updates the data on POST request.\r\n\r\n**Please help me find the cause**\r\n\r\n[enter image description here][1]\r\n\r\n```\r\n&lt;label&gt;Description&lt;/label&gt;\r\n&lt;textarea id=&quot;description&quot; th:field=&quot;*{description}&quot; placeholder=&quot;Enter content&quot;&gt;\r\n&lt;/textarea&gt;\r\n\r\n//This works, but I need to use &quot;textarea&quot;\r\n&lt;input type=&quot;text&quot; th:value=&quot;${description}&quot; th:name=&quot;description&quot;/&gt;\r\n\r\n//Controller\r\n@GetMapping(&quot;/{language}/post/{id}/edit&quot;)\r\n    public String editPost(@PathVariable Language language,\r\n                                   @PathVariable Long id,\r\n                                   Model model) throws Exception {\r\n\r\n        model.addAttribute(&quot;post&quot;, postService.getPost(id));\r\n        model.addAttribute(&quot;language&quot;, language.getCode());\r\n\r\n        String description = postService.getDescription(id, language);\r\n        model.addAttribute(&quot;description&quot;, description);\r\n        return &quot;admin/post-edit&quot;;\r\n    }\r\n```\r\n\r\nTried different options - nothing helps (((\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CWrMO.png","title":"Thymeleaf th:field in textarea not working","body":"<p>I have a description in several languages, using thymeleaf I came across the fact that th:field in textarea not working!</p>\n<p>At the same time th:text or th:value in input works and updates the data on POST request.</p>\n<p><strong>Please help me find the cause</strong></p>\n<p><a href=\"https://i.stack.imgur.com/CWrMO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>&lt;label&gt;Description&lt;/label&gt;\n&lt;textarea id=&quot;description&quot; th:field=&quot;*{description}&quot; placeholder=&quot;Enter content&quot;&gt;\n&lt;/textarea&gt;\n\n//This works, but I need to use &quot;textarea&quot;\n&lt;input type=&quot;text&quot; th:value=&quot;${description}&quot; th:name=&quot;description&quot;/&gt;\n\n//Controller\n@GetMapping(&quot;/{language}/post/{id}/edit&quot;)\n    public String editPost(@PathVariable Language language,\n                                   @PathVariable Long id,\n                                   Model model) throws Exception {\n\n        model.addAttribute(&quot;post&quot;, postService.getPost(id));\n        model.addAttribute(&quot;language&quot;, language.getCode());\n\n        String description = postService.getDescription(id, language);\n        model.addAttribute(&quot;description&quot;, description);\n        return &quot;admin/post-edit&quot;;\n    }\n</code></pre>\n<p>Tried different options - nothing helps (((</p>\n"},{"tags":["java","spring","hibernate","jpa","criteria"],"owner":{"account_id":21106769,"reputation":27,"user_id":15515589,"display_name":"Hemant singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679539248,"creation_date":1679503673,"question_id":75815067,"body_markdown":"I have two classes User and UserAssociation \r\nUser has OnetoMany mapping of UserAssociation\r\nI&#39;m using Jpa Criteria To Fecth User but when i try to lazy fetch UserAssociation it skips the Filter\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@MappedSuperclass\r\n@AllArgsConstructor\r\n@SuppressWarnings(&quot;serial&quot;)\r\n@EqualsAndHashCode(of = { &quot;id&quot; })\r\n@NoArgsConstructor\r\n@SuperBuilder\r\npublic abstract class AbstractJpaEntity implements Serializable {\r\n\r\n\t@Id\r\n\tprotected Long id;\r\n\r\n\t@CreatedDate\r\n\t@Column(name = &quot;created_at&quot;)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Date createdAt;\r\n\r\n\t@LastModifiedDate\r\n\t@Column(name = &quot;updated_at&quot;)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Date updatedAt;\r\n\t\r\n\t@CreatedBy\r\n\t@Column(name = &quot;created_by&quot;, nullable = true)\r\n\t@IgnoreFromAuditLog\r\n\tprotected String createdBy;\r\n\r\n\t@LastModifiedBy\r\n\t@Column(name = &quot;updated_by&quot;, nullable = true)\r\n\t@IgnoreFromAuditLog\r\n\tprotected String updatedBy;\r\n\r\n\t@Column(name = &quot;published&quot;, columnDefinition = &quot;bit(1) default 1&quot;)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Boolean isPublished = true;\r\n\r\n\t@Column(name = &quot;deleted&quot;, columnDefinition = &quot;bit(1) default 0&quot;)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Boolean isDeleted = false;\r\n}\r\n\r\n\r\n@Getter\r\n@Setter\r\n@ToString(callSuper = true)\r\n@MappedSuperclass\r\n@SuppressWarnings(&quot;serial&quot;)\r\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\r\n@Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot;TENANT = :tenant&quot;)\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\npublic abstract class AbstractTenantJpaEntity extends AbstractJpaEntity {\r\n\t\r\n    @Column(name = &quot;TENANT&quot;)\r\n    protected Long tenant;\r\n\t\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\r\n@Table(name = &quot;user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = {  &quot;email&quot; })})\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@EqualsAndHashCode(callSuper = true,onlyExplicitlyIncluded = true)\r\npublic class User extends AbstractJpaEntity {\r\n\t@Getter\r\n\t@Column(name=&quot;email&quot;)\r\n\tprivate String email;\r\n\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;user_id&quot;)\r\n\t@Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot; tenant in (:tenant)&quot;)\r\n\tprivate List&lt;UserAssociation&gt; mappings;\r\n\r\n}\r\n\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;user_resource_mapping&quot;)\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@ToString(callSuper = true)\r\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\r\npublic class UserAssociation extends AbstractTenantJpaEntity  {\r\n\t@Column(name = &quot;ROLE&quot;)\r\n\tprivate String roleName;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;user_id&quot;)\r\n\tUser user;\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nafter getting User Entity When I do user.getUserAssociation\r\n\r\nit should give me only records those are part of a specific tenant\r\n\r\ntried adding filters as in the code but it doesnt work \r\n```\r\nSession session = (Session)entityManager.getDelegate();\r\nFilter filter = session.enableFilter(CommonConstants.TENANT_FILTER);\r\nfilter.setParameter(&quot;tenant&quot;,requestDto.getTenant());\r\n--fetch user then user.getUserAssociation--\r\nsession.disableFilter(CommonConstants.TENANT_FILTER);\r\n```\r\n\r\nsuppose User has 3 entries in UserResource:\r\n\r\nid=1, tenant=2, role=&quot;USER&quot;, user_id=1&lt;br/&gt;\r\nid=2, tenant=4, role=&quot;SALES&quot;, user_id=1&lt;br/&gt;\r\nid=3, tenant=3, role=&quot;ADMIN&quot;, user_id=1&lt;br/&gt;\r\n\r\nwhen i get user.getUserAssociation my expectation here is it should return me 3rd row as i am setting tenant param as 3 but it gives me all three ","title":"Get Filtered Nested Entity","body":"<p>I have two classes User and UserAssociation\nUser has OnetoMany mapping of UserAssociation\nI'm using Jpa Criteria To Fecth User but when i try to lazy fetch UserAssociation it skips the Filter</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@MappedSuperclass\n@AllArgsConstructor\n@SuppressWarnings(&quot;serial&quot;)\n@EqualsAndHashCode(of = { &quot;id&quot; })\n@NoArgsConstructor\n@SuperBuilder\npublic abstract class AbstractJpaEntity implements Serializable {\n\n    @Id\n    protected Long id;\n\n    @CreatedDate\n    @Column(name = &quot;created_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @IgnoreFromAuditLog\n    protected Date createdAt;\n\n    @LastModifiedDate\n    @Column(name = &quot;updated_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @IgnoreFromAuditLog\n    protected Date updatedAt;\n    \n    @CreatedBy\n    @Column(name = &quot;created_by&quot;, nullable = true)\n    @IgnoreFromAuditLog\n    protected String createdBy;\n\n    @LastModifiedBy\n    @Column(name = &quot;updated_by&quot;, nullable = true)\n    @IgnoreFromAuditLog\n    protected String updatedBy;\n\n    @Column(name = &quot;published&quot;, columnDefinition = &quot;bit(1) default 1&quot;)\n    @IgnoreFromAuditLog\n    protected Boolean isPublished = true;\n\n    @Column(name = &quot;deleted&quot;, columnDefinition = &quot;bit(1) default 0&quot;)\n    @IgnoreFromAuditLog\n    protected Boolean isDeleted = false;\n}\n\n\n@Getter\n@Setter\n@ToString(callSuper = true)\n@MappedSuperclass\n@SuppressWarnings(&quot;serial&quot;)\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\n@Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot;TENANT = :tenant&quot;)\n@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\npublic abstract class AbstractTenantJpaEntity extends AbstractJpaEntity {\n    \n    @Column(name = &quot;TENANT&quot;)\n    protected Long tenant;\n    \n}\n\n@Entity\n@Getter\n@Setter\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\n@Table(name = &quot;user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = {  &quot;email&quot; })})\n@NoArgsConstructor\n@SuperBuilder\n@EqualsAndHashCode(callSuper = true,onlyExplicitlyIncluded = true)\npublic class User extends AbstractJpaEntity {\n    @Getter\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;)\n    @Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot; tenant in (:tenant)&quot;)\n    private List&lt;UserAssociation&gt; mappings;\n\n}\n\n\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;user_resource_mapping&quot;)\n@NoArgsConstructor\n@SuperBuilder\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\npublic class UserAssociation extends AbstractTenantJpaEntity  {\n    @Column(name = &quot;ROLE&quot;)\n    private String roleName;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;)\n    User user;\n    \n}\n</code></pre>\n<p>after getting User Entity When I do user.getUserAssociation</p>\n<p>it should give me only records those are part of a specific tenant</p>\n<p>tried adding filters as in the code but it doesnt work</p>\n<pre><code>Session session = (Session)entityManager.getDelegate();\nFilter filter = session.enableFilter(CommonConstants.TENANT_FILTER);\nfilter.setParameter(&quot;tenant&quot;,requestDto.getTenant());\n--fetch user then user.getUserAssociation--\nsession.disableFilter(CommonConstants.TENANT_FILTER);\n</code></pre>\n<p>suppose User has 3 entries in UserResource:</p>\n<p>id=1, tenant=2, role=&quot;USER&quot;, user_id=1<br/>\nid=2, tenant=4, role=&quot;SALES&quot;, user_id=1<br/>\nid=3, tenant=3, role=&quot;ADMIN&quot;, user_id=1<br/></p>\n<p>when i get user.getUserAssociation my expectation here is it should return me 3rd row as i am setting tenant param as 3 but it gives me all three</p>\n"},{"tags":["java","spring-boot","selenium-webdriver","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1679432303,"post_id":75803592,"comment_id":133720886,"body_markdown":"You&#39;re using Spring, so your autowired `WebDriver` is a singleton shared between all scenarios. Have a look at https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps. You can change the `TestUserInformation` to hold a webdriver that you create before each test.","body":"You&#39;re using Spring, so your autowired <code>WebDriver</code> is a singleton shared between all scenarios. Have a look at <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>. You can change the <code>TestUserInformation</code> to hold a webdriver that you create before each test."},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679451084,"post_id":75803592,"comment_id":133723672,"body_markdown":"Can I add the user information for all scenarios (i mean for a signup, login ,and some other form) in one TestUserInformation file or do I need to create separate test user information.","body":"Can I add the user information for all scenarios (i mean for a signup, login ,and some other form) in one TestUserInformation file or do I need to create separate test user information."},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679452008,"post_id":75803592,"comment_id":133723790,"body_markdown":"It didn&#39;t work same error exists saying org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?","body":"It didn&#39;t work same error exists saying org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1679486899,"post_id":75803592,"comment_id":133729885,"body_markdown":"It&#39;s hard to say &quot;what didn&#39;t work&quot;. You&#39;ve not really explained how you created your webdriver or what you&#39;ve changed now. Perhaps you can start a new question. And it is also worth starting with a small toy project to help you debug things before you ask that question. See: https://stackoverflow.com/help/minimal-reproducible-example","body":"It&#39;s hard to say &quot;what didn&#39;t work&quot;. You&#39;ve not really explained how you created your webdriver or what you&#39;ve changed now. Perhaps you can start a new question. And it is also worth starting with a small toy project to help you debug things before you ask that question. See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679501472,"post_id":75803592,"comment_id":133734440,"body_markdown":"Sorry for that. Updated the question","body":"Sorry for that. Updated the question"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1679506836,"post_id":75803592,"comment_id":133735892,"body_markdown":"You&#39;re still creating the webdriver as a singleton `@Bean public WebDriver getChromeDriver()`.","body":"You&#39;re still creating the webdriver as a singleton <code>@Bean public WebDriver getChromeDriver()</code>."},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679524937,"post_id":75803592,"comment_id":133739801,"body_markdown":"We need to use the webdriver as a  singleton to access across the classes right?. what will be the solution.","body":"We need to use the webdriver as a  singleton to access across the classes right?. what will be the solution."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1679532778,"post_id":75803592,"comment_id":133740745,"body_markdown":"You can manually create and destroy the webdriver and put it into a scenario scoped holder class (like the `TestUserInformation` example) or use the scenario scope annotation on the bean declaration, though in that case you may have to check how to close the driver when the scenario scope ends.","body":"You can manually create and destroy the webdriver and put it into a scenario scoped holder class (like the <code>TestUserInformation</code> example) or use the scenario scope annotation on the bean declaration, though in that case you may have to check how to close the driver when the scenario scope ends."}],"answers":[{"tags":[],"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679538930,"creation_date":1679538930,"answer_id":75818818,"question_id":75803592,"body_markdown":"I Added pageScope file and changed the @component to @pageScope in the pages file(login page). It working fine and also I removed the webdriver.quit(). browser was closed by the selenium as soon as the test is done.\r\n\r\n```\r\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\r\nimport org.springframework.context.annotation.Scope;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Component\r\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n@Documented\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PageScope {\r\n}\r\n```","title":"Scenario steps are ignored","body":"<p>I Added pageScope file and changed the @component to @pageScope in the pages file(login page). It working fine and also I removed the webdriver.quit(). browser was closed by the selenium as soon as the test is done.</p>\n<pre><code>import org.springframework.beans.factory.config.ConfigurableBeanFactory;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.annotation.*;\n\n@Component\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n@Documented\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PageScope {\n}\n</code></pre>\n"}],"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75818818,"answer_count":1,"score":0,"last_activity_date":1679538930,"creation_date":1679414648,"question_id":75803592,"body_markdown":"I have created multiple login scenarios in one feature file. When I execute each scenario separately it&#39;s working fine without any errors. When I execute the login feature file only the first scenario is executed and other scenario steps are ignored.\r\n\r\nWebDriver Library:\r\n```\r\n@Configuration\r\n//@Profile(&quot;!remote&quot;)\r\npublic class WebDriverLibrary {\r\n    @Value(&quot;${remote.url}&quot;)\r\n    private URL remoteUrl;\r\n\r\n\r\n    @Value(&quot;${browser}&quot;)\r\n    private String browser;\r\n\r\n    @Bean\r\n    public WebDriver getChromeDriver(){\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        return new ChromeDriver(chromeOptions);\r\n    }\r\n```\r\n\r\nBasePage:\r\n```\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.support.PageFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\npublic abstract class basePage {\r\n\r\n    @Autowired\r\n    private WebDriver webDriver;\r\n\r\n    @PostConstruct\r\n    public void InitPage(){\r\n        PageFactory.initElements(webDriver, this);\r\n    }\r\n}\r\n```\r\nLogin Feature File:\r\n\r\n```\r\nFeature: Login Feature\r\n  This feature will deal with Login Functionality of the application\r\n\r\n  Scenario: Login with Valid Credential\r\n    Given User is on Landing Page\r\n    And Navigate to Login Page\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should be navigated to Questionnaire form\r\n\r\n  Scenario: Login with InValid Credential\r\n    Given User is on Landing Page\r\n    And Navigate to Login Page\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should get error message\r\n\r\n  Scenario: Navigating to Login Page through SignUp Page\r\n    Given User is on Landing Page\r\n    And Navigate to SignUp Page\r\n    And Click on Login link\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should get error message\r\n\r\n  Scenario: Navigating to Login Page through Login button from NavBar\r\n    Given User is on Landing Page\r\n    And Click on Login button in NavBar\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should get error message\r\n```\r\n\r\nI created a step definition file through &quot;create all step definition&quot; option. \r\n\r\nLogin Step Definition:\r\n\r\n```\r\npublic class LoginSteps {\r\n    @Autowired\r\n    private WebDriver webDriver;\r\n\r\n    @Autowired\r\n    private LandingPage landingPage;\r\n\r\n    @Autowired\r\n    private LoginPage loginPage;\r\n\r\n    @Autowired\r\n    private SignUpPage signUpPage;\r\n\r\n    @Autowired\r\n    private QuestionnairePage questionnairePage;\r\n\r\n    @Given(&quot;User is on Landing Page&quot;)\r\n    public void userIsOnLandingPage() {\r\n        Assert.assertTrue(landingPage.btnGetStarted.isDisplayed());\r\n    }\r\n\r\n    @And(&quot;Navigate to Login Page&quot;)\r\n    public void navigateToLoginPage() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\r\n//        landingPage.btnGetStarted.click();\r\n    }\r\n\r\n    @And(&quot;User enter email and Password&quot;)\r\n    public void userEnterEmailAndPassword() {\r\n        loginPage.LoginDetails();\r\n    }\r\n\r\n    @And(&quot;User click Login Button&quot;)\r\n    public void userClickLoginButton() {\r\n        loginPage.btnLogininLoginPage.click();\r\n    }\r\n\r\n    @Then(&quot;User should be navigated to Questionnaire form&quot;)\r\n    public void userShouldBeNavigatedToQuestionnaireForm() {\r\n        System.out.println(&quot;User Navigated to Questionnaire page&quot;);\r\n//        Assert.assertTrue(questionnairePage.qusTitle.getText().contentEquals(&quot;Questionnaire Form&quot;));\r\n    }\r\n\r\n    @Then(&quot;User should get error message&quot;)\r\n    public void userShouldGetErrorMessage() {\r\n        System.out.println(&quot;Error Message&quot;);\r\n    }\r\n\r\n    @And(&quot;Navigate to SignUp Page&quot;)\r\n    public void navigateToSignUpPage() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/Signup&quot;);\r\n//        landingPage.btnsignUpForFree.click();\r\n    }\r\n\r\n    @And(&quot;Click on Login link&quot;)\r\n    public void clickOnLoginLink() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\r\n//        signUpPage.lnkLogin.click();\r\n    }\r\n\r\n    @And(&quot;Click on Login button in NavBar&quot;)\r\n    public void clickOnLoginButtonInNavBar() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\r\n//        landingPage.btnNavBarLogin.click();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nCucumber Hook file:\r\n\r\n```\r\npublic class Hooks {\r\n    @Autowired\r\n    private WebDriver webDriver;\r\n\r\n    @Value(&quot;${app.url}&quot;)\r\n    private String appUrl;\r\n\r\n    @Before\r\n    public void InitializeTest(Scenario scenario){\r\n        webDriver.navigate().to(appUrl);\r\n        webDriver.manage().window().maximize();\r\n    }\r\n\r\n    @After\r\n    public void TearDownTest(Scenario scenario){\r\n        if(scenario.isFailed()){\r\n            System.out.println(scenario.getName());\r\n        }\r\n        webDriver.quit();\r\n    }\r\n}\r\n```\r\n\r\nTestRunner:\r\n```\r\n@CucumberOptions(\r\n        features = {&quot;src/test/java/com/ksupwlt/stepcounttracker/features&quot;},\r\n        glue = &quot;com.ksupwlt.stepcounttracker.steps&quot;\r\n)\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n```\r\n\r\nWithout using the webdriver.quit() the browser is closed. is it necessary to add the @After?\r\nTest Report:\r\n\r\nLogin with InValid Credential\r\n1.95 spassedBefore\r\n16 msfailedUser is on Landing Page\r\nStep failedorg.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\r\nBuild info: version: &#39;4.1.2&#39;, revision: &#39;9a5a329c5a&#39;\r\nSystem info: host: &#39;DESKTOP-55B4PJT&#39;, ip: &#39;192.168.1.66&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, findElement {using=xpath, value=//button[contains(text(),&#39;Get Started&#39;)]}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.65, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\santh\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:55962}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:55962/devtoo..., se:cdpVersion: 111.0.5563.65, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\r\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:382)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:374)\r\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\r\nat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\r\nat jdk.proxy2/jdk.proxy2.$Proxy118.isDisplayed(Unknown Source)\r\nat com.ksupwlt.stepcounttracker.steps.LoginSteps.userIsOnLandingPage(LoginSteps.java:35)\r\nat ?.User is on Landing Page(file:///C:/Sandy/Spring_2023/Capstone/KSU%20Patient%20Weight%20Loss%20Tracker/src/test/java/com/ksupwlt/stepcounttracker/features/Login.feature:12)\r\n0 msignoredNavigate to Login Page\r\n0 msignoredUser enter email and Password\r\n0 msignoredUser click Login Button\r\n0 msignoredUser should get error message\r\n238 mspassedAfter\r\n\r\n[![Screenshot of error message][1]][1]\r\n\r\n\r\n[![Screenshot for reference][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/10Au0.jpg\r\n  [2]: https://i.stack.imgur.com/tq0gN.png","title":"Scenario steps are ignored","body":"<p>I have created multiple login scenarios in one feature file. When I execute each scenario separately it's working fine without any errors. When I execute the login feature file only the first scenario is executed and other scenario steps are ignored.</p>\n<p>WebDriver Library:</p>\n<pre><code>@Configuration\n//@Profile(&quot;!remote&quot;)\npublic class WebDriverLibrary {\n    @Value(&quot;${remote.url}&quot;)\n    private URL remoteUrl;\n\n\n    @Value(&quot;${browser}&quot;)\n    private String browser;\n\n    @Bean\n    public WebDriver getChromeDriver(){\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n        return new ChromeDriver(chromeOptions);\n    }\n</code></pre>\n<p>BasePage:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.annotation.PostConstruct;\n\npublic abstract class basePage {\n\n    @Autowired\n    private WebDriver webDriver;\n\n    @PostConstruct\n    public void InitPage(){\n        PageFactory.initElements(webDriver, this);\n    }\n}\n</code></pre>\n<p>Login Feature File:</p>\n<pre><code>Feature: Login Feature\n  This feature will deal with Login Functionality of the application\n\n  Scenario: Login with Valid Credential\n    Given User is on Landing Page\n    And Navigate to Login Page\n    And User enter email and Password\n    And User click Login Button\n    Then User should be navigated to Questionnaire form\n\n  Scenario: Login with InValid Credential\n    Given User is on Landing Page\n    And Navigate to Login Page\n    And User enter email and Password\n    And User click Login Button\n    Then User should get error message\n\n  Scenario: Navigating to Login Page through SignUp Page\n    Given User is on Landing Page\n    And Navigate to SignUp Page\n    And Click on Login link\n    And User enter email and Password\n    And User click Login Button\n    Then User should get error message\n\n  Scenario: Navigating to Login Page through Login button from NavBar\n    Given User is on Landing Page\n    And Click on Login button in NavBar\n    And User enter email and Password\n    And User click Login Button\n    Then User should get error message\n</code></pre>\n<p>I created a step definition file through &quot;create all step definition&quot; option.</p>\n<p>Login Step Definition:</p>\n<pre><code>public class LoginSteps {\n    @Autowired\n    private WebDriver webDriver;\n\n    @Autowired\n    private LandingPage landingPage;\n\n    @Autowired\n    private LoginPage loginPage;\n\n    @Autowired\n    private SignUpPage signUpPage;\n\n    @Autowired\n    private QuestionnairePage questionnairePage;\n\n    @Given(&quot;User is on Landing Page&quot;)\n    public void userIsOnLandingPage() {\n        Assert.assertTrue(landingPage.btnGetStarted.isDisplayed());\n    }\n\n    @And(&quot;Navigate to Login Page&quot;)\n    public void navigateToLoginPage() {\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\n//        landingPage.btnGetStarted.click();\n    }\n\n    @And(&quot;User enter email and Password&quot;)\n    public void userEnterEmailAndPassword() {\n        loginPage.LoginDetails();\n    }\n\n    @And(&quot;User click Login Button&quot;)\n    public void userClickLoginButton() {\n        loginPage.btnLogininLoginPage.click();\n    }\n\n    @Then(&quot;User should be navigated to Questionnaire form&quot;)\n    public void userShouldBeNavigatedToQuestionnaireForm() {\n        System.out.println(&quot;User Navigated to Questionnaire page&quot;);\n//        Assert.assertTrue(questionnairePage.qusTitle.getText().contentEquals(&quot;Questionnaire Form&quot;));\n    }\n\n    @Then(&quot;User should get error message&quot;)\n    public void userShouldGetErrorMessage() {\n        System.out.println(&quot;Error Message&quot;);\n    }\n\n    @And(&quot;Navigate to SignUp Page&quot;)\n    public void navigateToSignUpPage() {\n        webDriver.navigate().to(&quot;http://localhost:4200/Signup&quot;);\n//        landingPage.btnsignUpForFree.click();\n    }\n\n    @And(&quot;Click on Login link&quot;)\n    public void clickOnLoginLink() {\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\n//        signUpPage.lnkLogin.click();\n    }\n\n    @And(&quot;Click on Login button in NavBar&quot;)\n    public void clickOnLoginButtonInNavBar() {\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\n//        landingPage.btnNavBarLogin.click();\n    }\n\n\n}\n\n</code></pre>\n<p>Cucumber Hook file:</p>\n<pre><code>public class Hooks {\n    @Autowired\n    private WebDriver webDriver;\n\n    @Value(&quot;${app.url}&quot;)\n    private String appUrl;\n\n    @Before\n    public void InitializeTest(Scenario scenario){\n        webDriver.navigate().to(appUrl);\n        webDriver.manage().window().maximize();\n    }\n\n    @After\n    public void TearDownTest(Scenario scenario){\n        if(scenario.isFailed()){\n            System.out.println(scenario.getName());\n        }\n        webDriver.quit();\n    }\n}\n</code></pre>\n<p>TestRunner:</p>\n<pre><code>@CucumberOptions(\n        features = {&quot;src/test/java/com/ksupwlt/stepcounttracker/features&quot;},\n        glue = &quot;com.ksupwlt.stepcounttracker.steps&quot;\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n</code></pre>\n<p>Without using the webdriver.quit() the browser is closed. is it necessary to add the @After?\nTest Report:</p>\n<p>Login with InValid Credential\n1.95 spassedBefore\n16 msfailedUser is on Landing Page\nStep failedorg.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\nBuild info: version: '4.1.2', revision: '9a5a329c5a'\nSystem info: host: 'DESKTOP-55B4PJT', ip: '192.168.1.66', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, findElement {using=xpath, value=//button[contains(text(),'Get Started')]}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.65, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\santh\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:55962}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:55962/devtoo..., se:cdpVersion: 111.0.5563.65, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:382)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:374)\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\nat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\nat jdk.proxy2/jdk.proxy2.$Proxy118.isDisplayed(Unknown Source)\nat com.ksupwlt.stepcounttracker.steps.LoginSteps.userIsOnLandingPage(LoginSteps.java:35)\nat ?.User is on Landing Page(file:///C:/Sandy/Spring_2023/Capstone/KSU%20Patient%20Weight%20Loss%20Tracker/src/test/java/com/ksupwlt/stepcounttracker/features/Login.feature:12)\n0 msignoredNavigate to Login Page\n0 msignoredUser enter email and Password\n0 msignoredUser click Login Button\n0 msignoredUser should get error message\n238 mspassedAfter</p>\n<p><a href=\"https://i.stack.imgur.com/10Au0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10Au0.jpg\" alt=\"Screenshot of error message\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tq0gN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tq0gN.png\" alt=\"Screenshot for reference\" /></a></p>\n"},{"tags":["java","jasper-reports","beanshell","sailpoint"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":1,"creation_date":1620663337,"post_id":67474007,"comment_id":119261096,"body_markdown":"Welcome to Stack Overflow! Visit the [help], take the [tour] to see what and [ask]. This question seems to belong on superuser more than Stackoverflow","body":"Welcome to Stack Overflow! Visit the <a href=\"https://stackoverflow.com/help\">help center</a>, take the <a href=\"https://stackoverflow.com/tour\">tour</a> to see what and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. This question seems to belong on superuser more than Stackoverflow"},{"owner":{"account_id":304392,"reputation":388,"user_id":613876,"accept_rate":75,"display_name":"Bob"},"score":0,"creation_date":1620668191,"post_id":67474007,"comment_id":119263140,"body_markdown":"It is likely that this will require programmatic intervention and will likely be in the form of a plugin if it can&#39;t be obtained with out-of-the-box functionality - with that extra information would you still direct it to the superuser forum?","body":"It is likely that this will require programmatic intervention and will likely be in the form of a plugin if it can&#39;t be obtained with out-of-the-box functionality - with that extra information would you still direct it to the superuser forum?"}],"answers":[{"tags":[],"owner":{"account_id":20454171,"reputation":485,"user_id":15008233,"display_name":"shikida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679538175,"creation_date":1626211729,"answer_id":68369510,"question_id":67474007,"body_markdown":"I think you don&#39;t have good options here.\r\n\r\nWhat comes to my mind is to create these reports programatically (writing some script to generate the XML artifact for the `TaskDefinition` and importing/exporting using IIQDA for example) and maintain them in the same way, so everytime you need to change each one of these hundreds of artifacts, you can just re-generate them via code.\r\n\r\nThe only thing I&#39;d do in a different way is to use 94 scopes for each 5-set report instead of using capabilities.","title":"SailPoint reporting limit user view","body":"<p>I think you don't have good options here.</p>\n<p>What comes to my mind is to create these reports programatically (writing some script to generate the XML artifact for the <code>TaskDefinition</code> and importing/exporting using IIQDA for example) and maintain them in the same way, so everytime you need to change each one of these hundreds of artifacts, you can just re-generate them via code.</p>\n<p>The only thing I'd do in a different way is to use 94 scopes for each 5-set report instead of using capabilities.</p>\n"}],"owner":{"account_id":304392,"reputation":388,"user_id":613876,"accept_rate":75,"display_name":"Bob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":68369510,"answer_count":1,"score":0,"last_activity_date":1679538175,"creation_date":1620663207,"question_id":67474007,"body_markdown":"We have 5 custom reports for our 94 districts. A capability grants access to these custom reports. \r\n\r\nThe issue is that each district should not see the report results from another district.\r\n\r\nCurrently, the only alternative is to create 5 * 94 = 470 custom reports, granting a set of 5 to each district. However, this is cumbersome when a report needs to be updated.\r\nTaskDefinitions (Reports) create TaskResult objects (the result of a report). In addition, to the TaskResult object, a JasperReport object is created. Neither the TaskResult/JasperResult object &quot;re-executes&quot;  BeanShell when you open the task result.\r\n\r\nIs there a way to only have 5 reports and scope the results so that only users in that district can see them?\r\n\r\nI have an example of how this might be achieved when based on this code below which will look at the scope(s) of the one who is running the report. It will only return identities that are in the same scope as the one that is running the report\r\n\r\n    // Retrieve Scope of Executor then filter all Identities on that Scope only\r\n    import org.apache.commons.logging.Log;\r\n    import sailpoint.object.Filter;\r\n    import sailpoint.object.Identity;\r\n    import sailpoint.object.Scope;\r\n                          \r\n    \r\n    Identity identity = context.getObjectByName(Identity.class, arguments.get(&quot;launcher&quot;));\r\n                          \r\n    if (identity != null) {\r\n      String scopeName = identity.getAssignedScope().getDisplayableName();\r\n      List roleFilters = new ArrayList();\r\n    \t\r\n      if (scopeName!= null) {                          \r\n        roleFilters.add(Filter.eq(&quot;identity.assignedScope.name&quot;, scopeName));\r\n      }\r\n                        \r\n      if (!roleFilters.isEmpty()) {\r\n        queryOptions.addFilter(Filter.or(roleFilters));\r\n      }\r\n    } else {\r\n      // When Saving with Preview or Execute the Launcher is empty so all results would be shown.\r\n      // This filter will prevent that (creates empty report, it works when executed from the My Reports \r\n      queryOptions.addFilter(Filter.eq(&quot;identity.name&quot;, &quot;xxx&quot;));\r\n    }\r\n    \r\n    return queryOptions;\r\n\r\nThe problem with the code sample above:\r\n\r\nThis will create the report intended for Group A, however Group B, and C will also be able to view it.\r\n\r\nSo the end goal is to have one report that anyone can run, however only the data that is associated with that scope is visible no matter what user group is involved (scope). So Group B would only be able to view Group B even if Group A ran it.","title":"SailPoint reporting limit user view","body":"<p>We have 5 custom reports for our 94 districts. A capability grants access to these custom reports.</p>\n<p>The issue is that each district should not see the report results from another district.</p>\n<p>Currently, the only alternative is to create 5 * 94 = 470 custom reports, granting a set of 5 to each district. However, this is cumbersome when a report needs to be updated.\nTaskDefinitions (Reports) create TaskResult objects (the result of a report). In addition, to the TaskResult object, a JasperReport object is created. Neither the TaskResult/JasperResult object &quot;re-executes&quot;  BeanShell when you open the task result.</p>\n<p>Is there a way to only have 5 reports and scope the results so that only users in that district can see them?</p>\n<p>I have an example of how this might be achieved when based on this code below which will look at the scope(s) of the one who is running the report. It will only return identities that are in the same scope as the one that is running the report</p>\n<pre><code>// Retrieve Scope of Executor then filter all Identities on that Scope only\nimport org.apache.commons.logging.Log;\nimport sailpoint.object.Filter;\nimport sailpoint.object.Identity;\nimport sailpoint.object.Scope;\n                      \n\nIdentity identity = context.getObjectByName(Identity.class, arguments.get(&quot;launcher&quot;));\n                      \nif (identity != null) {\n  String scopeName = identity.getAssignedScope().getDisplayableName();\n  List roleFilters = new ArrayList();\n    \n  if (scopeName!= null) {                          \n    roleFilters.add(Filter.eq(&quot;identity.assignedScope.name&quot;, scopeName));\n  }\n                    \n  if (!roleFilters.isEmpty()) {\n    queryOptions.addFilter(Filter.or(roleFilters));\n  }\n} else {\n  // When Saving with Preview or Execute the Launcher is empty so all results would be shown.\n  // This filter will prevent that (creates empty report, it works when executed from the My Reports \n  queryOptions.addFilter(Filter.eq(&quot;identity.name&quot;, &quot;xxx&quot;));\n}\n\nreturn queryOptions;\n</code></pre>\n<p>The problem with the code sample above:</p>\n<p>This will create the report intended for Group A, however Group B, and C will also be able to view it.</p>\n<p>So the end goal is to have one report that anyone can run, however only the data that is associated with that scope is visible no matter what user group is involved (scope). So Group B would only be able to view Group B even if Group A ran it.</p>\n"},{"tags":["java","android","sms","mms","rich-communications-services"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1679589510,"post_id":75815962,"comment_id":133752444,"body_markdown":"I haven&#39;t done any actual testing yet, but it&#39;s starting to look like that functionality is specific to Google Messages. That is, their app just happens to use the MMS Provider to store its RCS, but other apps won&#39;t necessarily do that.","body":"I haven&#39;t done any actual testing yet, but it&#39;s starting to look like that functionality is specific to Google Messages. That is, their app just happens to use the MMS Provider to store its RCS, but other apps won&#39;t necessarily do that."},{"owner":{"account_id":3066535,"reputation":1,"user_id":2598097,"display_name":"Sonny"},"score":0,"creation_date":1679679010,"post_id":75815962,"comment_id":133770241,"body_markdown":"I was pretty sure about that but I saw someone on here saying they tested it working on Samsung devices. I guess I&#39;d have to be using Google Messages and not Samsung messages. Actually, I may just test that and see. If Google Messages stores RCS in the MMS provider then maybe I&#39;ll just switch.","body":"I was pretty sure about that but I saw someone on here saying they tested it working on Samsung devices. I guess I&#39;d have to be using Google Messages and not Samsung messages. Actually, I may just test that and see. If Google Messages stores RCS in the MMS provider then maybe I&#39;ll just switch."},{"owner":{"account_id":3066535,"reputation":1,"user_id":2598097,"display_name":"Sonny"},"score":0,"creation_date":1679970129,"post_id":75815962,"comment_id":133812672,"body_markdown":"I switched to Google Messages and I am unsure why the heck I have been using Samsung Messages for so long. Not only can I grab the messages from Google Messages using the MMS fetcher, but the interface is also much better and less buggy. Glad I switched! :)","body":"I switched to Google Messages and I am unsure why the heck I have been using Samsung Messages for so long. Not only can I grab the messages from Google Messages using the MMS fetcher, but the interface is also much better and less buggy. Glad I switched! :)"}],"owner":{"account_id":3066535,"reputation":1,"user_id":2598097,"display_name":"Sonny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679536679,"creation_date":1679509236,"question_id":75815962,"body_markdown":"I am using this code below to grab MMS. I read in other places that RCS was held here on my samsung galaxy phone. However, My code is not grabbing the RCS messages. It only appears to be grabbing the MMS as far as I can tell. \r\n\r\n\r\n```\r\n        Uri uri = Telephony.Mms.CONTENT_URI;\r\n\r\n        String[] projection = new String[]{\r\n                Telephony.Mms.DATE,\r\n                Telephony.Mms._ID\r\n        };\r\n\r\n        String selection = Telephony.Mms.DATE + &quot; BETWEEN ? AND ?&quot;;\r\n        String[] selectionArgs = new String[]{\r\n                String.valueOf(startTime.getTime() / 1000),\r\n                String.valueOf(endTime.getTime() / 1000)\r\n        };\r\n        \r\n        String sortBy = Telephony.Mms.DATE + &quot; ASC&quot;;\r\n\r\n        Cursor cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs, sortBy);\r\n```\r\n\r\n\r\nI am unsure what else to try. I don&#39;t usually post in here, but it just doesn&#39;t seem to be retrieving them at all so I am at a loss. There doesn&#39;t seem to be an RCS content provider for my phone, and I see other people on stack overflow saying they are stored in the mms content provider.","title":"I need to retrieve RCS messages on samsung phone","body":"<p>I am using this code below to grab MMS. I read in other places that RCS was held here on my samsung galaxy phone. However, My code is not grabbing the RCS messages. It only appears to be grabbing the MMS as far as I can tell.</p>\n<pre><code>        Uri uri = Telephony.Mms.CONTENT_URI;\n\n        String[] projection = new String[]{\n                Telephony.Mms.DATE,\n                Telephony.Mms._ID\n        };\n\n        String selection = Telephony.Mms.DATE + &quot; BETWEEN ? AND ?&quot;;\n        String[] selectionArgs = new String[]{\n                String.valueOf(startTime.getTime() / 1000),\n                String.valueOf(endTime.getTime() / 1000)\n        };\n        \n        String sortBy = Telephony.Mms.DATE + &quot; ASC&quot;;\n\n        Cursor cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs, sortBy);\n</code></pre>\n<p>I am unsure what else to try. I don't usually post in here, but it just doesn't seem to be retrieving them at all so I am at a loss. There doesn't seem to be an RCS content provider for my phone, and I see other people on stack overflow saying they are stored in the mms content provider.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":7742705,"reputation":122,"user_id":5861788,"accept_rate":80,"display_name":"MrHutnik"},"score":0,"creation_date":1664542874,"post_id":73905682,"comment_id":130501932,"body_markdown":"I&#39;m not sure what your question is. Please clarify. From what I see here, you create a datasource but never pass it to the report. Best aproach here is to pass the data to the jasperPrint, and operate on this data in jasper. Please consider showing the jrxml you use to allow to test it.","body":"I&#39;m not sure what your question is. Please clarify. From what I see here, you create a datasource but never pass it to the report. Best aproach here is to pass the data to the jasperPrint, and operate on this data in jasper. Please consider showing the jrxml you use to allow to test it."},{"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"score":0,"creation_date":1664762970,"post_id":73905682,"comment_id":130538855,"body_markdown":"@MrHutnik And that&#39;s where I am confused with. In ```JasperSoft```, I&#39;ve already configured the datasource, which is why Im able to preview my reports with the relevant data. Is this datasource independent of the Jasper report, thus I need to pass in a datasource through my Spring project?","body":"@MrHutnik And that&#39;s where I am confused with. In <code>JasperSoft</code>, I&#39;ve already configured the datasource, which is why Im able to preview my reports with the relevant data. Is this datasource independent of the Jasper report, thus I need to pass in a datasource through my Spring project?"},{"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"score":0,"creation_date":1664763384,"post_id":73905682,"comment_id":130538898,"body_markdown":"My ```JRXML``` even comes with a(multiple) query strings.","body":"My <code>JRXML</code> even comes with a(multiple) query strings."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1665770598,"post_id":73905682,"comment_id":130783791,"body_markdown":"Tip: for `inline formatting`, use one backtick on each side, not three. It&#39;s easier to type, and easier to edit. You only need three when constructing a formatted block.","body":"Tip: for <code>inline formatting</code>, use one backtick on each side, not three. It&#39;s easier to type, and easier to edit. You only need three when constructing a formatted block."}],"answers":[{"tags":[],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665770461,"creation_date":1664782088,"answer_id":73932299,"question_id":73905682,"body_markdown":"I think I solved my issue/confusion.\r\n\r\nThe most important thing I needed was a connection to my DB. Most of the tutorials has their datasource connected from within the Spring project itself, make a repository call and send the data from the call to the report to be generated.\r\n\r\nIn my case, I&#39;m not calling the DB from the Spring side, but from the Jasper side.\r\n\r\nSo, alternatively, and the solution to my issue, is that I could just send the connection details using `DriverManager.getConnection()` and parsing this as the 3rd variable to `fillReport` as opposed to the datasource.\r\n\r\nBasically, what everyone else is doing\r\n```\r\nJRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(repositoryService.getData());\r\nJasperPrint report = JasperFillManager.fillReport(compiledReport, parameters, sampleDataSource);\r\n```\r\n\r\nBut what I want is this\r\n```\r\nConnection con = DriverManager.getConnection(&quot;jdbc:postgresql://url:port/dbName&quot;,&quot;dbUsername&quot;,&quot;dbPassword&quot;);\r\nJasperPrint jasperPrint = JasperFillManager.fillReport(compiledReport, parameters, con);\r\n```\r\n(but both methods are correct)\r\n\r\nOnce I did that 2nd method, my report data is successfully generated using all the pre-configured SQL queries within JasperSoft.\r\n\r\nI got the idea from [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25232035/jasper-error-loading-object-from-file","title":"Jasper Report and Spring","body":"<p>I think I solved my issue/confusion.</p>\n<p>The most important thing I needed was a connection to my DB. Most of the tutorials has their datasource connected from within the Spring project itself, make a repository call and send the data from the call to the report to be generated.</p>\n<p>In my case, I'm not calling the DB from the Spring side, but from the Jasper side.</p>\n<p>So, alternatively, and the solution to my issue, is that I could just send the connection details using <code>DriverManager.getConnection()</code> and parsing this as the 3rd variable to <code>fillReport</code> as opposed to the datasource.</p>\n<p>Basically, what everyone else is doing</p>\n<pre><code>JRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(repositoryService.getData());\nJasperPrint report = JasperFillManager.fillReport(compiledReport, parameters, sampleDataSource);\n</code></pre>\n<p>But what I want is this</p>\n<pre><code>Connection con = DriverManager.getConnection(&quot;jdbc:postgresql://url:port/dbName&quot;,&quot;dbUsername&quot;,&quot;dbPassword&quot;);\nJasperPrint jasperPrint = JasperFillManager.fillReport(compiledReport, parameters, con);\n</code></pre>\n<p>(but both methods are correct)</p>\n<p>Once I did that 2nd method, my report data is successfully generated using all the pre-configured SQL queries within JasperSoft.</p>\n<p>I got the idea from <a href=\"https://stackoverflow.com/questions/25232035/jasper-error-loading-object-from-file\">here</a></p>\n"}],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679536221,"creation_date":1664524863,"question_id":73905682,"body_markdown":"I have a Spring project. I am also using JasperReport to build report templates for my Spring project to call, use and generate.\r\n\r\nAfter looking through a couple of tutorials, I finally managed to get my Spring project to call and generate my report template.\r\n\r\nBut one thing I&#39;m not familiar with is that I&#39;ve configured my Jasper Reports with a dataset query which populates the template with data when I preview it within JasperSoft. But when I call this same `report.jasper` file through Spring, all I got was an empty report(albeit with some expected formatting)\r\n\r\nMost of the examples I&#39;ve come across has their JasperReport use an empty datasource while they passed in the required data from the db through Spring. But my report is making use of multiple dataset queries (and thus using multiple subtables), so I&#39;m not sure where do I go from here; whether I need to manually pass in the data through Spring like those examples or can I  depend on the JasperReport to do so. \r\n\r\nI&#39;m still relatively new to both Jasper and Spring.\r\n\r\nCreated based on [this link][1], this is a sample of my test function:\r\n\r\n```\r\n@GetMapping(path = &quot;/report&quot;)\r\n\tvoid testFunction2(HttpServletResponse response) throws IOException, JRException {\r\n\r\n\t\tString sourceFileName = new File(&quot;C:\\\\\\\\Users\\\\\\\\User\\\\\\\\JaspersoftWorkspace\\\\\\\\MyReports\\\\\\\\base3.jasper&quot;).getAbsolutePath();\r\n\r\n\t\tJRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(null);\r\n\r\n\t\tString testName = &quot;testName.xlsx&quot;;\r\n\t\tHashMap&lt;String, Object&gt; theHashMap = new HashMap&lt;&gt;();\r\n\t\tJasperPrint jasperPrint = JasperFillManager.fillReport(sourceFileName, theHashMap);\r\n\r\n\r\n\t\tJRXlsxExporter exporter = new JRXlsxExporter();\r\n        SimpleXlsxReportConfiguration reportConfigXLS = new SimpleXlsxReportConfiguration();\r\n        reportConfigXLS.setSheetNames(new String[] { &quot;sheet1&quot; });\r\n        exporter.setConfiguration(reportConfigXLS);\r\n        exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\r\n        exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(response.getOutputStream()));\r\n\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+testName);\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        exporter.exportReport();\r\n\r\n\t}\r\n\r\n```\r\n\r\n\r\n  [1]: https://javahowtos.com/guides/113-data-import-export/377-create-and-download-jasper-report-xlsx-via-rest-service-in-spring-boot.html","title":"Jasper Report and Spring","body":"<p>I have a Spring project. I am also using JasperReport to build report templates for my Spring project to call, use and generate.</p>\n<p>After looking through a couple of tutorials, I finally managed to get my Spring project to call and generate my report template.</p>\n<p>But one thing I'm not familiar with is that I've configured my Jasper Reports with a dataset query which populates the template with data when I preview it within JasperSoft. But when I call this same <code>report.jasper</code> file through Spring, all I got was an empty report(albeit with some expected formatting)</p>\n<p>Most of the examples I've come across has their JasperReport use an empty datasource while they passed in the required data from the db through Spring. But my report is making use of multiple dataset queries (and thus using multiple subtables), so I'm not sure where do I go from here; whether I need to manually pass in the data through Spring like those examples or can I  depend on the JasperReport to do so.</p>\n<p>I'm still relatively new to both Jasper and Spring.</p>\n<p>Created based on <a href=\"https://javahowtos.com/guides/113-data-import-export/377-create-and-download-jasper-report-xlsx-via-rest-service-in-spring-boot.html\" rel=\"nofollow noreferrer\">this link</a>, this is a sample of my test function:</p>\n<pre><code>@GetMapping(path = &quot;/report&quot;)\n    void testFunction2(HttpServletResponse response) throws IOException, JRException {\n\n        String sourceFileName = new File(&quot;C:\\\\\\\\Users\\\\\\\\User\\\\\\\\JaspersoftWorkspace\\\\\\\\MyReports\\\\\\\\base3.jasper&quot;).getAbsolutePath();\n\n        JRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(null);\n\n        String testName = &quot;testName.xlsx&quot;;\n        HashMap&lt;String, Object&gt; theHashMap = new HashMap&lt;&gt;();\n        JasperPrint jasperPrint = JasperFillManager.fillReport(sourceFileName, theHashMap);\n\n\n        JRXlsxExporter exporter = new JRXlsxExporter();\n        SimpleXlsxReportConfiguration reportConfigXLS = new SimpleXlsxReportConfiguration();\n        reportConfigXLS.setSheetNames(new String[] { &quot;sheet1&quot; });\n        exporter.setConfiguration(reportConfigXLS);\n        exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\n        exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(response.getOutputStream()));\n\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+testName);\n        response.setContentType(&quot;application/octet-stream&quot;);\n        exporter.exportReport();\n\n    }\n\n</code></pre>\n"},{"tags":["java","copy","method-parameters"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1535465000,"post_id":52059753,"comment_id":91069844,"body_markdown":"it&#39;s a bad practice only if your object method must be thread-safe","body":"it&#39;s a bad practice only if your object method must be thread-safe"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1535467526,"post_id":52059753,"comment_id":91071479,"body_markdown":"Ideally, you should not modify an object passed as an argument, unless you make it very clear that is what is expected e.g. `modifyList` would be expected to modify the list.","body":"Ideally, you should not modify an object passed as an argument, unless you make it very clear that is what is expected e.g. <code>modifyList</code> would be expected to modify the list."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1535468878,"post_id":52059753,"comment_id":91072371,"body_markdown":"The bad practice here is assuming you can call `add` on a `List`: it&#39;s an optional method, so there is no guarantee it will succeed without an exception (and there is no way of knowing this, either).","body":"The bad practice here is assuming you can call <code>add</code> on a <code>List</code>: it&#39;s an optional method, so there is no guarantee it will succeed without an exception (and there is no way of knowing this, either)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1535474764,"post_id":52059753,"comment_id":91075867,"body_markdown":"@AndyTurner `@throws UnsupportedOperationException - if list does not support the add operation` :-)","body":"@AndyTurner <code>@throws UnsupportedOperationException - if list does not support the add operation</code> :-)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1535474809,"post_id":52059753,"comment_id":91075882,"body_markdown":"@assylias and there is no way of knowing if it will throw that without trying it.","body":"@assylias and there is no way of knowing if it will throw that without trying it."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1535479579,"post_id":52059753,"comment_id":91078222,"body_markdown":"@AndyTurner The contract of Collection says that `add` must throw an UOE if it is not a supported operation.","body":"@AndyTurner The contract of Collection says that <code>add</code> must throw an UOE if it is not a supported operation."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1535482062,"post_id":52059753,"comment_id":91079373,"body_markdown":"@assylias but you have no means of knowing whether a given instance of `List` supports `add` without calling `add`. All you can do is catch the exception, and hope that you&#39;ve got failure atomicity.","body":"@assylias but you have no means of knowing whether a given instance of <code>List</code> supports <code>add</code> without calling <code>add</code>. All you can do is catch the exception, and hope that you&#39;ve got failure atomicity."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1535483697,"post_id":52059753,"comment_id":91080129,"body_markdown":"@AndyTurner Of course, I was only suggesting to add a javadoc entry to the `modifyList` method. It&#39;s then the caller&#39;s responsibility to deal with the problem.","body":"@AndyTurner Of course, I was only suggesting to add a javadoc entry to the <code>modifyList</code> method. It&#39;s then the caller&#39;s responsibility to deal with the problem."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1535465585,"creation_date":1535465585,"answer_id":52059997,"question_id":52059753,"body_markdown":"Both methods are fine and could be the correct choice depending on your use case. Just make sure that you name them in a way that makes the intent clear and write some javadoc.\r\n\r\nIt&#39;s then up to the developer to decide whether having the original list mutated is ok or not, and if not, pass a copy or use a different method.\r\n\r\nFor example, [this method](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#addAll-java.util.Collection-T...-) from the JDK mutates an existing list, but its intent and documentation are very clear.","title":"Is mutating object-parameters in a method(in Java) a bad practice?","body":"<p>Both methods are fine and could be the correct choice depending on your use case. Just make sure that you name them in a way that makes the intent clear and write some javadoc.</p>\n\n<p>It's then up to the developer to decide whether having the original list mutated is ok or not, and if not, pass a copy or use a different method.</p>\n\n<p>For example, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#addAll-java.util.Collection-T...-\" rel=\"noreferrer\">this method</a> from the JDK mutates an existing list, but its intent and documentation are very clear.</p>\n"},{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1535465798,"creation_date":1535465798,"answer_id":52060073,"question_id":52059753,"body_markdown":"It&#39;s up to your use-case, as you have already implied. Making your components immutable brings many advantages such as **better encapsulation**, **thread safety**, **avoiding having invalid state** etc.. Of course, in this way you implement a performance hit. But someone with great experience wrote a chapter about this, which I can only recommend:\r\n\r\n[Effective Java][1] - \r\n\r\n## Item 50: Make defensive copies when needed. ##\r\n\r\nThere he recommends: \r\n\r\n&gt; You must program defensively, with the assumption that clients of your class will do their best to destroy its invariants.\r\n\r\n\r\nand also:\r\n\r\n    \r\n\r\n&gt; In summary, if a class has mutable components that it gets from or returns to its clients, the class must defensively copy these components. If the cost of copy would be prohibitive and the class trusts its clients not to modify the components inappropriately, then the defensive copy may be replaced by documentation outlining the client&#39;s responsibility not to modify the affected components.\r\n\r\n\r\n  [1]: https://www.amazon.com/Effective-Java-3rd-Joshua-Bloch/dp/0134685997","title":"Is mutating object-parameters in a method(in Java) a bad practice?","body":"<p>It's up to your use-case, as you have already implied. Making your components immutable brings many advantages such as <strong>better encapsulation</strong>, <strong>thread safety</strong>, <strong>avoiding having invalid state</strong> etc.. Of course, in this way you implement a performance hit. But someone with great experience wrote a chapter about this, which I can only recommend:</p>\n\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0134685997\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a> - </p>\n\n<h2>Item 50: Make defensive copies when needed.</h2>\n\n<p>There he recommends: </p>\n\n<blockquote>\n  <p>You must program defensively, with the assumption that clients of your class will do their best to destroy its invariants.</p>\n</blockquote>\n\n<p>and also:</p>\n\n<blockquote>\n  <p>In summary, if a class has mutable components that it gets from or returns to its clients, the class must defensively copy these components. If the cost of copy would be prohibitive and the class trusts its clients not to modify the components inappropriately, then the defensive copy may be replaced by documentation outlining the client's responsibility not to modify the affected components.</p>\n</blockquote>\n"}],"owner":{"account_id":10162663,"reputation":469,"user_id":7505622,"display_name":"MaverinCode"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11396,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":52059997,"answer_count":2,"score":8,"last_activity_date":1679536081,"creation_date":1535464877,"question_id":52059753,"body_markdown":"I have a question about mutating method-paramaters(which are objects) in a method. \r\n\r\nI read and heard multiple times that it is a bad practice to mutate a object in a method which was passed in as a paramater. As example:\r\n\r\n\tpublic void modifyList(List&lt;Object&gt; list) {\r\n\t\tlist.add(new Object());\r\n\t}\r\n\r\nInstead, the passed in Object should be copied, the mutation should be performed on the copied object and the copied object should be returned. As example:\r\n\r\n\tpublic List&lt;Object&gt; getModifiedList(List&lt;Object&gt; list) {\r\n\t\tList copy = new List&lt;Object();\r\n\t\t//Make a deep copy if it would be necessary\r\n\t\tfor(Object o : list) {\r\n\t\t    copy.add(o.clone());\r\n\t\t}\r\n\t\t//Modify the copy\r\n\t\tcopy.add(new Object());\r\n\t\t//return the copy\r\n\t\treturn copy;\r\n\t}\r\n\r\nI understand that the second method has less potential for side effects because it doesn&#39;t mutate the input parameter.\r\n\r\nBut is this really the way to go? The performance would suffer because a lot of deep copys have to be created. Also it would cost a lot of time implement Copy-Constructors and implement clone-methods for all classes. Also it would increase the LOC immense.\r\n\r\nIn practice I don&#39;t see this pattern(copy the method-parameter) often.\r\n\r\nCould somebody with a lot of experience(working as a programmer/software developer for years) answer this?\r\n\r\nGreetings\r\nMaverin\r\n","title":"Is mutating object-parameters in a method(in Java) a bad practice?","body":"<p>I have a question about mutating method-paramaters(which are objects) in a method. </p>\n\n<p>I read and heard multiple times that it is a bad practice to mutate a object in a method which was passed in as a paramater. As example:</p>\n\n<pre><code>public void modifyList(List&lt;Object&gt; list) {\n    list.add(new Object());\n}\n</code></pre>\n\n<p>Instead, the passed in Object should be copied, the mutation should be performed on the copied object and the copied object should be returned. As example:</p>\n\n<pre><code>public List&lt;Object&gt; getModifiedList(List&lt;Object&gt; list) {\n    List copy = new List&lt;Object();\n    //Make a deep copy if it would be necessary\n    for(Object o : list) {\n        copy.add(o.clone());\n    }\n    //Modify the copy\n    copy.add(new Object());\n    //return the copy\n    return copy;\n}\n</code></pre>\n\n<p>I understand that the second method has less potential for side effects because it doesn't mutate the input parameter.</p>\n\n<p>But is this really the way to go? The performance would suffer because a lot of deep copys have to be created. Also it would cost a lot of time implement Copy-Constructors and implement clone-methods for all classes. Also it would increase the LOC immense.</p>\n\n<p>In practice I don't see this pattern(copy the method-parameter) often.</p>\n\n<p>Could somebody with a lot of experience(working as a programmer/software developer for years) answer this?</p>\n\n<p>Greetings\nMaverin</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-vertex-ai"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1679541460,"post_id":75818565,"comment_id":133741599,"body_markdown":"What kind of credentials is in the file? The client library is expecting Service Account JSON. The error message indicates that you have not correctly set up the environment variable `GOOGLE_APPLICATION_CREDENTIALS` or that the file&#39;s contents are incorrect.","body":"What kind of credentials is in the file? The client library is expecting Service Account JSON. The error message indicates that you have not correctly set up the environment variable <code>GOOGLE_APPLICATION_CREDENTIALS</code> or that the file&#39;s contents are incorrect."},{"owner":{"account_id":28091099,"reputation":1,"user_id":21460611,"display_name":"Benjamin Faershtein"},"score":0,"creation_date":1679543915,"post_id":75818565,"comment_id":133741871,"body_markdown":"@JohnHanley The JSON file is the file that I downloaded after I created a key under the service account for the project.","body":"@JohnHanley The JSON file is the file that I downloaded after I created a key under the service account for the project."},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1679544705,"post_id":75818565,"comment_id":133741947,"body_markdown":"Is it JSON with the following key: `&quot;type&quot;: &quot;service_account&quot;,`? If yes, then you have not set up the environment variable correctly. If you are very specific about what you did, we won&#39;t have to guess.","body":"Is it JSON with the following key: <code>&quot;type&quot;: &quot;service_account&quot;,</code>? If yes, then you have not set up the environment variable correctly. If you are very specific about what you did, we won&#39;t have to guess."},{"owner":{"account_id":28091099,"reputation":1,"user_id":21460611,"display_name":"Benjamin Faershtein"},"score":0,"creation_date":1679547067,"post_id":75818565,"comment_id":133742161,"body_markdown":"@JohnHanley The file is :\n{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;ftc-helper-bot&quot;,","body":"@JohnHanley The file is : {   &quot;type&quot;: &quot;service_account&quot;,   &quot;project_id&quot;: &quot;ftc-helper-bot&quot;,"},{"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"score":0,"creation_date":1679948337,"post_id":75818565,"comment_id":133809520,"body_markdown":"env | grep -i google.application   will verify that you have set the req&#39;d env var","body":"env | grep -i google.application   will verify that you have set the req&#39;d env var"}],"owner":{"account_id":28091099,"reputation":1,"user_id":21460611,"display_name":"Benjamin Faershtein"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679534999,"creation_date":1679534999,"question_id":75818565,"body_markdown":"I am having some issues using Vertex AI in java, I used one of the examples for java and set up all my dependencies. I also added the authentication file to the environmental variables.\r\n\r\n```\r\nexport GOOGLE_APPLICATION_CREDENTIALS=PATH_HERE\r\n```\r\n\r\n(PATH_HERE represents where I put path to the JSON file with the credentials)\r\n\r\nBut when I run the Java program I get this error :\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n    at com.testvert.PredictImageClassificationSample.main(PredictImageClassificationSample.java:27)\r\n.....\r\n```\r\n\r\nAny help would be appreciated\r\n\r\nInfo :\r\nMac OS\r\nJava\r\nInteliji\r\n\r\nI was using the Java Vertex AI [code sample](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/aiplatform/src/main/java/aiplatform/PredictImageClassificationSample.java)\r\n\r\nI tried doing the echo command for GOOGLE_APPLICATION_CREDENTIALS and it returned the correct path I entered","title":"Issue with Google Cloud Java authentication","body":"<p>I am having some issues using Vertex AI in java, I used one of the examples for java and set up all my dependencies. I also added the authentication file to the environmental variables.</p>\n<pre><code>export GOOGLE_APPLICATION_CREDENTIALS=PATH_HERE\n</code></pre>\n<p>(PATH_HERE represents where I put path to the JSON file with the credentials)</p>\n<p>But when I run the Java program I get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n    at com.testvert.PredictImageClassificationSample.main(PredictImageClassificationSample.java:27)\n.....\n</code></pre>\n<p>Any help would be appreciated</p>\n<p>Info :\nMac OS\nJava\nInteliji</p>\n<p>I was using the Java Vertex AI <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/aiplatform/src/main/java/aiplatform/PredictImageClassificationSample.java\" rel=\"nofollow noreferrer\">code sample</a></p>\n<p>I tried doing the echo command for GOOGLE_APPLICATION_CREDENTIALS and it returned the correct path I entered</p>\n"},{"tags":["java","maven","javafx","runtime-error","media-player"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1679513165,"post_id":75816047,"comment_id":133737389,"body_markdown":"You have `&lt;groupId&gt;org.jfxcore&lt;/groupId&gt;&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;` in your Maven dependencies, instead of `&lt;groupId&gt;org.openjfx&lt;/groupId&gt;&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;`. Not sure if that is the issue, but it certainly could be.","body":"You have <code>&lt;groupId&gt;org.jfxcore&lt;&#47;groupId&gt;&lt;artifactId&gt;javafx-media&lt;&#47;arti&zwnj;&#8203;factId&gt;</code> in your Maven dependencies, instead of <code>&lt;groupId&gt;org.openjfx&lt;&#47;groupId&gt;&lt;artifactId&gt;javafx-media&lt;&#47;arti&zwnj;&#8203;factId&gt;</code>. Not sure if that is the issue, but it certainly could be."},{"owner":{"account_id":3993139,"reputation":2383,"user_id":3291390,"display_name":"Stack Underflow"},"score":0,"creation_date":1679513691,"post_id":75816047,"comment_id":133737511,"body_markdown":"That seems to have resolved the runtime error. The vscode Maven plugin needs updated or has a bug or something b/c that&#39;s how it generated it. Post this as an answer and I will accept it. Unfortunately, the video still is not playing, even when I add `mediaPlayer.play()` after everything else - but that&#39;s a separate problem.","body":"That seems to have resolved the runtime error. The vscode Maven plugin needs updated or has a bug or something b/c that&#39;s how it generated it. Post this as an answer and I will accept it. Unfortunately, the video still is not playing, even when I add <code>mediaPlayer.play()</code> after everything else - but that&#39;s a separate problem."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1679522560,"post_id":75816047,"comment_id":133739370,"body_markdown":"You also need to ensure that all versions of JavaFX libraries you use are the same (the media library is at `18-ea+1` and other libraries are at `13`).  The different versions aren&#39;t necessarily compatible with each other.  And the `ea` versions are early access versions that haven&#39;t undergone the additional QA and stabilization that the non-ea versions have.  It is best to always use the latest stable version if you can (those will usually have the most bugs, security flaws, and features addressed in them).  For instance, JavaFX 13 won&#39;t work on modern M1 macs, but 19+ will.","body":"You also need to ensure that all versions of JavaFX libraries you use are the same (the media library is at <code>18-ea+1</code> and other libraries are at <code>13</code>).  The different versions aren&#39;t necessarily compatible with each other.  And the <code>ea</code> versions are early access versions that haven&#39;t undergone the additional QA and stabilization that the non-ea versions have.  It is best to always use the latest stable version if you can (those will usually have the most bugs, security flaws, and features addressed in them).  For instance, JavaFX 13 won&#39;t work on modern M1 macs, but 19+ will."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679534975,"creation_date":1679534975,"answer_id":75818563,"question_id":75816047,"body_markdown":"Your `pom.xml` has\r\n\r\n    &lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n\r\nfor the `javafx.media` dependency. The group id should be `org.openjfx`:\r\n\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n\r\n\r\nAlso make sure all JavaFX dependencies use the same version. \r\n","title":"java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager","body":"<p>Your <code>pom.xml</code> has</p>\n<pre><code>&lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n</code></pre>\n<p>for the <code>javafx.media</code> dependency. The group id should be <code>org.openjfx</code>:</p>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n</code></pre>\n<p>Also make sure all JavaFX dependencies use the same version.</p>\n"}],"owner":{"account_id":3993139,"reputation":2383,"user_id":3291390,"display_name":"Stack Underflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75818563,"answer_count":1,"score":0,"last_activity_date":1679534975,"creation_date":1679509899,"question_id":75816047,"body_markdown":"I am trying to play a video with Java. The code I&#39;m using is from [this example](https://www.javatpoint.com/javafx-playing-video).\r\n\r\nI am using VS Code on Windows 11.\r\n\r\nI created a new project from the command pallet using `Java: Create Java Project -&gt; JavaFX Provided by Maven for Java`. \r\n\r\nI used the Maven for Java extension to add the JavaFX Media dependency and then added `requires javafx.media;` in the module-info.java file.\r\n\r\n\r\nI was able to get `javafx.media` module and the associated imports to resolve but get the following error when I run it:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n        at java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media\r\n        at javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\r\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\r\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\r\n        at javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n        at javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\r\n        at javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\r\n        at com.example/com.example.App.start(App.java:20)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n        at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n        ... 1 more\r\nException running application com.example.App\r\n```\r\n\r\nmodule-info.java\r\n```\r\nmodule com.example {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.media;\r\n\r\n    opens com.example to javafx.fxml;\r\n    exports com.example;\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mediaplayer&lt;/artifactId&gt;\r\n    &lt;version&gt;1&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;18-ea+1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nApp.java\r\n```\r\npackage com.example;\r\n\r\nimport java.io.File;  \r\nimport javafx.application.Application;  \r\nimport javafx.scene.Group;  \r\nimport javafx.scene.Scene;  \r\nimport javafx.scene.media.Media;  \r\nimport javafx.scene.media.MediaPlayer;  \r\nimport javafx.scene.media.MediaView;  \r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n    @Override  \r\n    public void start(Stage primaryStage) throws Exception {\r\n        String path = &quot;C:/Users/Justin/Videos/file_example_MP4_1920_18MG.mp4&quot;;\r\n\r\n        Media media = new Media(new File(path).toURI().toString());  \r\n          \r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);  \r\n          \r\n        MediaView mediaView = new MediaView(mediaPlayer);\r\n          \r\n        //by setting this property to true, the Video will be played   \r\n        mediaPlayer.setAutoPlay(true);  \r\n          \r\n        //setting group and scene   \r\n        Group root = new Group();  \r\n        root.getChildren().add(mediaView);  \r\n        Scene scene = new Scene(root,500,400);  \r\n        primaryStage.setScene(scene);  \r\n        primaryStage.setTitle(&quot;Playing video&quot;);  \r\n        primaryStage.show();  \r\n    }  \r\n    public static void main(String[] args) {  \r\n        launch(args);  \r\n    }\r\n}\r\n```\r\n\r\nI saw [this answer](https://stackoverflow.com/a/53237667/3291390) from a related question but it wasn&#39;t helpful because I&#39;ve already done what is suggested except for adding the options when running it because I am using VS Code to run it rather than running it manually from the command line.\r\n\r\n\r\nIs there something obvious I&#39;m doing wrong here? What do I need to do to get the video to play?","title":"java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager","body":"<p>I am trying to play a video with Java. The code I'm using is from <a href=\"https://www.javatpoint.com/javafx-playing-video\" rel=\"nofollow noreferrer\">this example</a>.</p>\n<p>I am using VS Code on Windows 11.</p>\n<p>I created a new project from the command pallet using <code>Java: Create Java Project -&gt; JavaFX Provided by Maven for Java</code>.</p>\n<p>I used the Maven for Java extension to add the JavaFX Media dependency and then added <code>requires javafx.media;</code> in the module-info.java file.</p>\n<p>I was able to get <code>javafx.media</code> module and the associated imports to resolve but get the following error when I run it:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media\n        at javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\n        at javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n        at javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\n        at javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\n        at com.example/com.example.App.start(App.java:20)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n        at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n        ... 1 more\nException running application com.example.App\n</code></pre>\n<p>module-info.java</p>\n<pre><code>module com.example {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.media;\n\n    opens com.example to javafx.fxml;\n    exports com.example;\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mediaplayer&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;18-ea+1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>App.java</p>\n<pre><code>package com.example;\n\nimport java.io.File;  \nimport javafx.application.Application;  \nimport javafx.scene.Group;  \nimport javafx.scene.Scene;  \nimport javafx.scene.media.Media;  \nimport javafx.scene.media.MediaPlayer;  \nimport javafx.scene.media.MediaView;  \nimport javafx.stage.Stage;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n    @Override  \n    public void start(Stage primaryStage) throws Exception {\n        String path = &quot;C:/Users/Justin/Videos/file_example_MP4_1920_18MG.mp4&quot;;\n\n        Media media = new Media(new File(path).toURI().toString());  \n          \n        MediaPlayer mediaPlayer = new MediaPlayer(media);  \n          \n        MediaView mediaView = new MediaView(mediaPlayer);\n          \n        //by setting this property to true, the Video will be played   \n        mediaPlayer.setAutoPlay(true);  \n          \n        //setting group and scene   \n        Group root = new Group();  \n        root.getChildren().add(mediaView);  \n        Scene scene = new Scene(root,500,400);  \n        primaryStage.setScene(scene);  \n        primaryStage.setTitle(&quot;Playing video&quot;);  \n        primaryStage.show();  \n    }  \n    public static void main(String[] args) {  \n        launch(args);  \n    }\n}\n</code></pre>\n<p>I saw <a href=\"https://stackoverflow.com/a/53237667/3291390\">this answer</a> from a related question but it wasn't helpful because I've already done what is suggested except for adding the options when running it because I am using VS Code to run it rather than running it manually from the command line.</p>\n<p>Is there something obvious I'm doing wrong here? What do I need to do to get the video to play?</p>\n"},{"tags":["java","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1679779236,"post_id":75818553,"comment_id":133782857,"body_markdown":"What Camel version do you use? And can you try without the `eagerCheckCompletion` to see if all 10 files are archived. I suspect it may be due to that, and if so its a hint for us to track down the issue to correct in Camel itself.","body":"What Camel version do you use? And can you try without the <code>eagerCheckCompletion</code> to see if all 10 files are archived. I suspect it may be due to that, and if so its a hint for us to track down the issue to correct in Camel itself."}],"owner":{"account_id":5023461,"reputation":63,"user_id":4036247,"display_name":"Vikrant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679534876,"creation_date":1679534876,"question_id":75818553,"body_markdown":"I have a Camel route that is invoked every night to archive previous day files from the &quot;processed&quot; folder to the &quot;archived&quot; folder by zipping them up. Currently, it is moving all the files correctly to &quot;.camel&quot; based on #PreviousDayFileFilter, but when zip is created in &quot;archived&quot; folder it only contains one file rather than all the files. \r\n\r\nNote: These files in &quot;processed&quot; folder have timestamps in yyyy-MM-dd format as their filename when created.\r\n\r\nAs an example, when the job is invoked and say there are 10 files from the previous day in &quot;processed&quot; folder, then 9 files will be in the .camel folder and only the 10th file will be in the archived_*date*.zip. \r\n\r\nHere are the details on route and filter. Can someone please guide what am I missing here, why is it not zipping up all files?\r\n\r\n**Camel route** \r\n```\r\n                from(&quot;file:C:/logs/processed?filter=#PreviousDayFileFilter&quot; +\r\n                        &quot;&amp;scheduler=spring&amp;scheduler.cron=0+30+*+*+*+?&quot;)\r\n                        .log(LoggingLevel.INFO, &quot;Archival process for previous day files&quot;)\r\n                        .aggregate(constant(true), new ZipAggregationStrategy())\r\n                        .completionFromBatchConsumer().eagerCheckCompletion()\r\n                        .setHeader(Exchange.FILE_NAME,\r\n                                constant(simple(&quot;archived_${date:now-1d:yyyy-MM-dd}.zip&quot;)))\r\n                        .to(&quot;file:/C:/logs/archived/&quot;);\r\n```\r\n\r\n**PreviousDayFileFilter**\r\n```\r\n    public class PreviousDayFileFilter&lt;T&gt; implements GenericFileFilter&lt;T&gt; {\r\n        public boolean accept(GenericFile&lt;T&gt; file) {\r\n            if (file.isDirectory()) {\r\n                return true;\r\n            }\r\n            return file.getFileName().contains(yesterdayDate());\r\n        }\r\n    }\r\n\r\n    public String yesterdayDate(){\r\n        Instant yesterday = Instant.now().minus(1, ChronoUnit.DAYS);\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\r\n                .withZone(ZoneId.systemDefault());\r\n        return formatter.format(instant);\r\n    }\r\n```\r\n","title":"Apache camel file zip","body":"<p>I have a Camel route that is invoked every night to archive previous day files from the &quot;processed&quot; folder to the &quot;archived&quot; folder by zipping them up. Currently, it is moving all the files correctly to &quot;.camel&quot; based on #PreviousDayFileFilter, but when zip is created in &quot;archived&quot; folder it only contains one file rather than all the files.</p>\n<p>Note: These files in &quot;processed&quot; folder have timestamps in yyyy-MM-dd format as their filename when created.</p>\n<p>As an example, when the job is invoked and say there are 10 files from the previous day in &quot;processed&quot; folder, then 9 files will be in the .camel folder and only the 10th file will be in the archived_<em>date</em>.zip.</p>\n<p>Here are the details on route and filter. Can someone please guide what am I missing here, why is it not zipping up all files?</p>\n<p><strong>Camel route</strong></p>\n<pre><code>                from(&quot;file:C:/logs/processed?filter=#PreviousDayFileFilter&quot; +\n                        &quot;&amp;scheduler=spring&amp;scheduler.cron=0+30+*+*+*+?&quot;)\n                        .log(LoggingLevel.INFO, &quot;Archival process for previous day files&quot;)\n                        .aggregate(constant(true), new ZipAggregationStrategy())\n                        .completionFromBatchConsumer().eagerCheckCompletion()\n                        .setHeader(Exchange.FILE_NAME,\n                                constant(simple(&quot;archived_${date:now-1d:yyyy-MM-dd}.zip&quot;)))\n                        .to(&quot;file:/C:/logs/archived/&quot;);\n</code></pre>\n<p><strong>PreviousDayFileFilter</strong></p>\n<pre><code>    public class PreviousDayFileFilter&lt;T&gt; implements GenericFileFilter&lt;T&gt; {\n        public boolean accept(GenericFile&lt;T&gt; file) {\n            if (file.isDirectory()) {\n                return true;\n            }\n            return file.getFileName().contains(yesterdayDate());\n        }\n    }\n\n    public String yesterdayDate(){\n        Instant yesterday = Instant.now().minus(1, ChronoUnit.DAYS);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\n                .withZone(ZoneId.systemDefault());\n        return formatter.format(instant);\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679534755,"creation_date":1679534755,"answer_id":75818546,"question_id":75818514,"body_markdown":"I think it&#39;s because the compiler can&#39;t figure that `handleException()` always throws an exception.  If it ever returned normally then the code would just keep executing, and reach the end of the method with no return statement.\r\n\r\nIn these situations it&#39;s convention to just throw an `AssertionError` with an appropriate message.\r\n\r\n       public String doStuff() {\r\n          try {\r\n             int i = Integer.parseInt( null );\r\n             return &quot;Integer: &quot; + i;\r\n          } catch( NumberFormatException e ) {\r\n             handleException( e );\r\n             throw new AssertionError( &quot;Should never get here.&quot;);\r\n          }\r\n       }\r\n       ","title":"Why can&#39;t I put exception handling logic in separate method without a return?","body":"<p>I think it's because the compiler can't figure that <code>handleException()</code> always throws an exception.  If it ever returned normally then the code would just keep executing, and reach the end of the method with no return statement.</p>\n<p>In these situations it's convention to just throw an <code>AssertionError</code> with an appropriate message.</p>\n<pre><code>   public String doStuff() {\n      try {\n         int i = Integer.parseInt( null );\n         return &quot;Integer: &quot; + i;\n      } catch( NumberFormatException e ) {\n         handleException( e );\n         throw new AssertionError( &quot;Should never get here.&quot;);\n      }\n   }\n   \n</code></pre>\n"}],"owner":{"account_id":5235346,"reputation":996,"user_id":4184113,"accept_rate":25,"display_name":"user4184113"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679534767,"accepted_answer_id":75818546,"answer_count":1,"score":0,"last_activity_date":1679534755,"creation_date":1679534329,"question_id":75818514,"body_markdown":"I have the following code: \r\n\r\n    public class Scratch {\r\n\r\n      public Scratch() {\r\n        doStuff();\r\n      }\r\n\r\n      public String doStuff() {\r\n        try {\r\n            int i = Integer.parseInt(null);\r\n            return &quot;Integer: &quot; + i;\r\n\r\n          } catch (NumberFormatException e) {\r\n              if (e.getMessage().equals(&quot;some message&quot;)) {\r\n                throw new NumberFormatException(&quot;step 1&quot;);\r\n              } else {\r\n                throw new NumberFormatException(&quot;step 2&quot;);\r\n              }\r\n          }\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        new Scratch();\r\n      }\r\n    }\r\n\r\nand I want to put the exception handling logic in its own method like this:\r\n\r\n    public class Scratch {\r\n\r\n    public Scratch() {\r\n        doStuff();\r\n    }\r\n\r\n    public String doStuff() {\r\n        try {\r\n            int i = Integer.parseInt(null);\r\n            return &quot;Integer: &quot; + i;\r\n\r\n        } catch (NumberFormatException e) {\r\n            handleException(e);\r\n        }\r\n    }\r\n\r\n    private void handleException(NumberFormatException e) {\r\n        if (e.getMessage().equals(&quot;some message&quot;)) {\r\n            throw new NumberFormatException(&quot;step 1&quot;);\r\n        } else {\r\n            throw new NumberFormatException(&quot;step 2&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Scratch();\r\n    }\r\n    }\r\n\r\nBut I am getting a compiler error saying that the `doStuff` method is missing a return statement.\r\n\r\nI don&#39;t understand why these seemingly equivalent implementations differ.","title":"Why can&#39;t I put exception handling logic in separate method without a return?","body":"<p>I have the following code:</p>\n<pre><code>public class Scratch {\n\n  public Scratch() {\n    doStuff();\n  }\n\n  public String doStuff() {\n    try {\n        int i = Integer.parseInt(null);\n        return &quot;Integer: &quot; + i;\n\n      } catch (NumberFormatException e) {\n          if (e.getMessage().equals(&quot;some message&quot;)) {\n            throw new NumberFormatException(&quot;step 1&quot;);\n          } else {\n            throw new NumberFormatException(&quot;step 2&quot;);\n          }\n      }\n  }\n\n  public static void main(String[] args) {\n    new Scratch();\n  }\n}\n</code></pre>\n<p>and I want to put the exception handling logic in its own method like this:</p>\n<pre><code>public class Scratch {\n\npublic Scratch() {\n    doStuff();\n}\n\npublic String doStuff() {\n    try {\n        int i = Integer.parseInt(null);\n        return &quot;Integer: &quot; + i;\n\n    } catch (NumberFormatException e) {\n        handleException(e);\n    }\n}\n\nprivate void handleException(NumberFormatException e) {\n    if (e.getMessage().equals(&quot;some message&quot;)) {\n        throw new NumberFormatException(&quot;step 1&quot;);\n    } else {\n        throw new NumberFormatException(&quot;step 2&quot;);\n    }\n}\n\npublic static void main(String[] args) {\n    new Scratch();\n}\n}\n</code></pre>\n<p>But I am getting a compiler error saying that the <code>doStuff</code> method is missing a return statement.</p>\n<p>I don't understand why these seemingly equivalent implementations differ.</p>\n"},{"tags":["java","kotlin","google-cloud-firestore","weka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679519549,"post_id":75817235,"comment_id":133738770,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679556086,"post_id":75817235,"comment_id":133743406,"body_markdown":"Why do you say that the `dwell time` field is a number while in the database is an array of numbers? What exactly would you like to query? Please respond using @AlexMamo","body":"Why do you say that the <code>dwell time</code> field is a number while in the database is an array of numbers? What exactly would you like to query? Please respond using @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":14052833,"reputation":1260,"user_id":10151066,"display_name":"flutroid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679533720,"creation_date":1679533720,"answer_id":75818485,"question_id":75817235,"body_markdown":"&gt; I have verified that the &#39;dwell time&#39; field is indeed a number field\r\n&gt; in Firestore, so I am not sure why I am getting this error. What could\r\n&gt; be causing this error and how to fix it?\r\n\r\nBut the screenshot of your database shows &#39;dwell time&#39; field is an array not a number, Just check if you set the &#39;dwell time&#39; field right.","title":"Getting &quot;Field &#39;dwell time&#39; is not a java.lang.Number&quot; error when retrieving data from Firebase Firestore","body":"<blockquote>\n<p>I have verified that the 'dwell time' field is indeed a number field\nin Firestore, so I am not sure why I am getting this error. What could\nbe causing this error and how to fix it?</p>\n</blockquote>\n<p>But the screenshot of your database shows 'dwell time' field is an array not a number, Just check if you set the 'dwell time' field right.</p>\n"}],"owner":{"account_id":27335674,"reputation":1,"user_id":20847149,"display_name":"ilyes moawy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679533720,"creation_date":1679518798,"question_id":75817235,"body_markdown":"I&#39;m working on an Android project that uses Firebase Firestore to store data. I&#39;m trying to retrieve a document from the Firestore database and get the value of a field called &quot;dwell time&quot; which is a number, but I keep getting the following error:\r\n\r\n&gt; java.lang.RuntimeException: Field &#39;dwell time&#39; is not a java.lang.Number \r\n\r\nI&#39;m using the getLong() method to retrieve the value of the field, but it seems like the field is not being recognized as a number. Here&#39;s the code that I&#39;m using:\r\n\r\n```\r\npackage com.example.projetm.data;\r\n\r\nimport static java.sql.DriverManager.println;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport weka.core.Instances;\r\nimport weka.core.converters.ArffSaver;\r\nimport weka.core.converters.CSVSaver;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport weka.core.Attribute;\r\nimport weka.core.DenseInstance;\r\nimport weka.core.FastVector;\r\nimport weka.core.Instances;\r\n\r\npublic class Getdata  {\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private SharedPreferences preferences;\r\n    private String PREFS = &quot;KEYSTROCKES&quot;;\r\n    private int nombre_instance; // hada nombre de tests\r\n    private int nombre_attribute = 29; // hada nombre de collones\r\n    public ArrayList  dwell = new ArrayList();\r\n    public ArrayList flightm2 = new ArrayList();\r\n    public ArrayList flightm3 = new ArrayList();\r\n    ArrayList name = new ArrayList&lt;String&gt;();\r\n    int y=0;\r\n\r\n\r\n    public String Class(Context context) throws Exception {\r\n\r\n        //hna nkharej ga3 les utilisateurs\r\n        db.collection(&quot;users&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    int nbruser = task.getResult().size(); //hna nedi nombre des utilisateurs\r\n                    Log.d(&quot;nombre&quot;,String.valueOf(nbruser));\r\n                    for (QueryDocumentSnapshot doc : task.getResult()) { //apres nboucle les utilisateurs\r\n\r\n                        String id = doc.getId(); // nedi id ta3ah\r\n                        //apres nedi dynamique regle de chaque utilisateurs\r\n                        db.collection(&quot;users&quot;).document(id).collection(&quot;dynamic&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    y++; // w koul ma nedi test nzid f y\r\n                                    Log.d(&quot;getdata1&quot;, String.valueOf(nombre_instance));\r\n                                    nombre_instance+=task.getResult().size(); //w nmed l nombre instance le nombre de test\r\n\r\n\r\n                                    for (QueryDocumentSnapshot document : task.getResult()) { //apres nboucle les tests\r\n                                        Log.d(&quot;data type&quot;, document.get(&quot;dwell time&quot;).getClass().getSimpleName());\r\n                                        dwell.add(document.getLong(&quot;dwell time&quot;)); //nedi swalhah\r\n\r\n                                        flightm2.add(document.getLong(&quot;flight time 2&quot;));\r\n                                        flightm3.add(document.getLong(&quot;flight time 3&quot;));\r\n                                        name.add(document.getString(&quot;nom&quot;));\r\n                                        Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\r\n                                    }\r\n                                        if (y==nbruser){ //apres ki y yweli 9ad le nombre des utilisateurs sema da ga3  les tests ydir la suite\r\n                                            Log.d(&quot;getdata&quot;, &quot;wsel&quot;);\r\n                                            //hna apres ncreeo  data\r\n                                            preferences = context.getSharedPreferences(PREFS, Context.MODE_PRIVATE);\r\n                                            //nsamo les atributs\r\n\r\n\r\n                                            final Attribute Attribute1 = new Attribute(&quot;dwelltime1&quot;);\r\n                                            final Attribute Attribute2 = new Attribute(&quot;dwelltime2&quot;);\r\n                                            final Attribute Attribute3 = new Attribute(&quot;dwelltime3&quot;);\r\n                                            final Attribute Attribute4 = new Attribute(&quot;dwelltime4&quot;);\r\n                                            final Attribute Attribute5 = new Attribute(&quot;dwelltime5&quot;);\r\n                                            final Attribute Attribute6 = new Attribute(&quot;dwelltime6&quot;);\r\n                                            final Attribute Attribute7 = new Attribute(&quot;dwelltime7&quot;);\r\n                                            final Attribute Attribute8 = new Attribute(&quot;dwelltime8&quot;);\r\n                                            final Attribute Attribute9 = new Attribute(&quot;dwelltime9&quot;);\r\n                                            final Attribute Attribute10 = new Attribute(&quot;dwelltime10&quot;);\r\n                                            final Attribute Attribute11 = new Attribute(&quot;flighttime2_1&quot;);\r\n                                            final Attribute Attribute12 = new Attribute(&quot;flighttime2_2&quot;);\r\n                                            final Attribute Attribute13 = new Attribute(&quot;flighttime2_3&quot;);\r\n                                            final Attribute Attribute14 = new Attribute(&quot;flighttime2_4&quot;);\r\n                                            final Attribute Attribute15 = new Attribute(&quot;flighttime2_5&quot;);\r\n                                            final Attribute Attribute16 = new Attribute(&quot;flighttime2_6&quot;);\r\n                                            final Attribute Attribute17 = new Attribute(&quot;flighttime2_7&quot;);\r\n                                            final Attribute Attribute18 = new Attribute(&quot;flighttime2_8&quot;);\r\n                                            final Attribute Attribute19 = new Attribute(&quot;flighttime2_9&quot;);\r\n                                            final Attribute Attribute20 = new Attribute(&quot;flighttime3_1&quot;);\r\n                                            final Attribute Attribute21 = new Attribute(&quot;flighttime3_2&quot;);\r\n                                            final Attribute Attribute22 = new Attribute(&quot;flighttime3_3&quot;);\r\n                                            final Attribute Attribute23 = new Attribute(&quot;flighttime3_4&quot;);\r\n                                            final Attribute Attribute24 = new Attribute(&quot;flighttime3_5&quot;);\r\n                                            final Attribute Attribute25 = new Attribute(&quot;flighttime3_6&quot;);\r\n                                            final Attribute Attribute26 = new Attribute(&quot;flighttime3_7&quot;);\r\n                                            final Attribute Attribute27 = new Attribute(&quot;flighttime3_8&quot;);\r\n                                            final Attribute Attribute28 = new Attribute(&quot;flighttime3_9&quot;);\r\n                                            List&lt;String&gt; classes = new ArrayList&lt;String&gt;(){\r\n                                                {\r\n                                                    add(&quot;sahraoui&quot;);\r\n\r\n                                                }\r\n                                            };  //w ndir les classe\r\n\r\n                                            //apres n ajoutou les attributs f fastvecteur\r\n                                            Attribute AttributeClass = new Attribute(&quot;class&quot;,classes);\r\n                                            FastVector fastVector = new FastVector(nombre_attribute);\r\n                                            fastVector.addElement(Attribute1);\r\n                                            fastVector.addElement(Attribute2);\r\n                                            fastVector.addElement(Attribute3);\r\n                                            fastVector.addElement(Attribute4);\r\n                                            fastVector.addElement(Attribute5);\r\n                                            fastVector.addElement(Attribute6);\r\n                                            fastVector.addElement(Attribute7);\r\n                                            fastVector.addElement(Attribute8);\r\n                                            fastVector.addElement(Attribute9);\r\n                                            fastVector.addElement(Attribute10);\r\n                                            fastVector.addElement(Attribute11);\r\n                                            fastVector.addElement(Attribute12);\r\n                                            fastVector.addElement(Attribute13);\r\n                                            fastVector.addElement(Attribute14);\r\n                                            fastVector.addElement(Attribute15);\r\n                                            fastVector.addElement(Attribute16);\r\n                                            fastVector.addElement(Attribute17);\r\n                                            fastVector.addElement(Attribute18);\r\n                                            fastVector.addElement(Attribute19);\r\n                                            fastVector.addElement(Attribute20);\r\n                                            fastVector.addElement(Attribute21);\r\n                                            fastVector.addElement(Attribute22);\r\n                                            fastVector.addElement(Attribute23);\r\n                                            fastVector.addElement(Attribute24);\r\n                                            fastVector.addElement(Attribute25);\r\n                                            fastVector.addElement(Attribute26);\r\n                                            fastVector.addElement(Attribute27);\r\n                                            fastVector.addElement(Attribute28);\r\n                                            fastVector.addElement(AttributeClass);\r\n                                            //apres ncrreo instance avec nom dynamic w nmedo le nombre d&#39;instance\r\n                                            Instances instances = new Instances(&quot;dynamic&quot;,fastVector,nombre_instance);\r\n                                            instances.setClassIndex(instances.numAttributes()-1);\r\n\r\n                                            ArrayList finalDwell = dwell;\r\n                                            ArrayList finalFlightm2 = flightm2;\r\n                                            ArrayList finalFlightm3 = flightm3;\r\n\r\nLog.d(&quot;taille&quot;, String.valueOf(finalDwell.size()));\r\n                                            for (int i=0 ; i &lt;nombre_instance;i++) { //apres nboucle pour chaque instance (test)\r\n                                                int finalI = i; // i hiiya instance li rana fiha\r\n\r\n                                                DenseInstance denseInstance = new DenseInstance(instances.numAttributes()) {\r\n                                                    {\r\n\r\n                                                        setValue(Attribute1, preferences.getInt(&quot;dwelltime1&quot;,(Integer) finalDwell.get(0)));\r\n                                                        setValue(Attribute2, preferences.getLong(&quot;dwelltime2&quot;, (Long) finalDwell.get(1)));\r\n                                                        setValue(Attribute3, preferences.getLong(&quot;dwelltime3&quot;, (Long) finalDwell.get(2)));\r\n                                                        setValue(Attribute4, preferences.getLong(&quot;dwelltime4&quot;, (Long) finalDwell.get(3)));\r\n                                                        setValue(Attribute5, preferences.getLong(&quot;dwelltime5&quot;, (Long) finalDwell.get(4)));\r\n                                                        setValue(Attribute6, preferences.getLong(&quot;dwelltime6&quot;, (Long) finalDwell.get(5)));\r\n                                                        setValue(Attribute7, preferences.getLong(&quot;dwelltime7&quot;, (Long) finalDwell.get(6)));\r\n                                                        setValue(Attribute8, preferences.getLong(&quot;dwelltime8&quot;, (Long) finalDwell.get(7)));\r\n                                                        setValue(Attribute9, preferences.getLong(&quot;dwelltime9&quot;, (Long) finalDwell.get(8)));\r\n                                                        setValue(Attribute10, preferences.getLong(&quot;dwelltime10&quot;, (Long) finalDwell.get(9)));\r\n                                                        setValue(Attribute11, preferences.getLong(&quot;flighttime2_1&quot;, (Long) finalFlightm2.get(0)));\r\n                                                        setValue(Attribute12, preferences.getLong(&quot;flighttime2_2&quot;, (Long) finalFlightm2.get(1)));\r\n                                                        setValue(Attribute13, preferences.getLong(&quot;flighttime2_3&quot;, (Long) finalFlightm2.get(2)));\r\n                                                        setValue(Attribute14, preferences.getLong(&quot;flighttime2_4&quot;, (Long) finalFlightm2.get(3)));\r\n                                                        setValue(Attribute15, preferences.getLong(&quot;flighttime2_5&quot;, (Long) finalFlightm2.get(4)));\r\n                                                        setValue(Attribute16, preferences.getLong(&quot;flighttime2_6&quot;, (Long) finalFlightm2.get(5)));\r\n                                                        setValue(Attribute17, preferences.getLong(&quot;flighttime2_7&quot;, (Long) finalFlightm2.get(6)));\r\n                                                        setValue(Attribute18, preferences.getLong(&quot;flighttime2_8&quot;, (Long) finalFlightm2.get(7)));\r\n                                                        setValue(Attribute19, preferences.getLong(&quot;flighttime2_9&quot;, (Long) finalFlightm2.get(8)));\r\n                                                        setValue(Attribute20, preferences.getLong(&quot;flighttime3_1&quot;, (Long) finalFlightm3.get(0)));\r\n                                                        setValue(Attribute21, preferences.getLong(&quot;flighttime3_2&quot;, (Long) finalFlightm3.get(1)));\r\n                                                        setValue(Attribute22, preferences.getLong(&quot;flighttime3_3&quot;, (Long) finalFlightm3.get(2)));\r\n                                                        setValue(Attribute23, preferences.getLong(&quot;flighttime3_4&quot;, (Long) finalFlightm3.get(3)));\r\n                                                        setValue(Attribute24, preferences.getLong(&quot;flighttime3_5&quot;, (Long) finalFlightm3.get(4)));\r\n                                                        setValue(Attribute25, preferences.getLong(&quot;flighttime3_6&quot;, (Long) finalFlightm3.get(5)));\r\n                                                        setValue(Attribute26, preferences.getLong(&quot;flighttime3_7&quot;, (Long) finalFlightm3.get(6)));\r\n                                                        setValue(Attribute27, preferences.getLong(&quot;flighttime3_8&quot;, (Long) finalFlightm3.get(7)));\r\n                                                        setValue(Attribute28, preferences.getLong(&quot;flighttime3_9&quot;, (Long) finalFlightm3.get(8)));\r\n\r\n                                                    }\r\n                                                };\r\n\r\n\r\n                                                instances.add(denseInstance); //apres n ajouter les donnes f instance\r\n                                            }\r\n\r\n\r\n// Create a file to save the CSV data to\r\n\r\n\r\n                                            File file = new File(context.getExternalFilesDir(null), &quot;data.arff&quot;);\r\n                                            try (FileWriter writer = new FileWriter(file)) {\r\n                                                // Save the CSV data to the file\r\n\r\n                                                // create ArffSaver object\r\n                                                ArffSaver saver = new ArffSaver();\r\n                                                // set the instances object to be saved\r\n                                                saver.setInstances(instances);\r\n                                                // set the file to save the instances\r\n                                                saver.setFile(file);\r\n                                                // save the instances to the ARFF file\r\n                                                saver.writeBatch();\r\n                                                Log.d(&quot;APP_TAG&quot;, &quot;ARFF file saved at: &quot; + file.getAbsolutePath());\r\n                                            } catch (IOException e) {\r\n                                                throw new RuntimeException(e);\r\n                                            }\r\n\r\n                                            Log.d(&quot;getdata&quot;, instances.toString()); // w n affichi les donnees f log\r\n\r\n\r\n                                        }\r\n\r\n\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        return &quot;fdg&quot;;\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n[and this a screenshot of my Firestore database](https://i.stack.imgur.com/Jb88D.png)\r\n\r\nI have verified that the &#39;dwell time&#39; field is indeed a number field in Firestore, so I am not sure why I am getting this error. What could be causing this error and how to fix it? \r\n","title":"Getting &quot;Field &#39;dwell time&#39; is not a java.lang.Number&quot; error when retrieving data from Firebase Firestore","body":"<p>I'm working on an Android project that uses Firebase Firestore to store data. I'm trying to retrieve a document from the Firestore database and get the value of a field called &quot;dwell time&quot; which is a number, but I keep getting the following error:</p>\n<blockquote>\n<p>java.lang.RuntimeException: Field 'dwell time' is not a java.lang.Number</p>\n</blockquote>\n<p>I'm using the getLong() method to retrieve the value of the field, but it seems like the field is not being recognized as a number. Here's the code that I'm using:</p>\n<pre><code>package com.example.projetm.data;\n\nimport static java.sql.DriverManager.println;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.os.Environment;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.content.ContextCompat;\n\nimport weka.core.Instances;\nimport weka.core.converters.ArffSaver;\nimport weka.core.converters.CSVSaver;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport weka.core.Attribute;\nimport weka.core.DenseInstance;\nimport weka.core.FastVector;\nimport weka.core.Instances;\n\npublic class Getdata  {\n\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n    private SharedPreferences preferences;\n    private String PREFS = &quot;KEYSTROCKES&quot;;\n    private int nombre_instance; // hada nombre de tests\n    private int nombre_attribute = 29; // hada nombre de collones\n    public ArrayList  dwell = new ArrayList();\n    public ArrayList flightm2 = new ArrayList();\n    public ArrayList flightm3 = new ArrayList();\n    ArrayList name = new ArrayList&lt;String&gt;();\n    int y=0;\n\n\n    public String Class(Context context) throws Exception {\n\n        //hna nkharej ga3 les utilisateurs\n        db.collection(&quot;users&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    int nbruser = task.getResult().size(); //hna nedi nombre des utilisateurs\n                    Log.d(&quot;nombre&quot;,String.valueOf(nbruser));\n                    for (QueryDocumentSnapshot doc : task.getResult()) { //apres nboucle les utilisateurs\n\n                        String id = doc.getId(); // nedi id ta3ah\n                        //apres nedi dynamique regle de chaque utilisateurs\n                        db.collection(&quot;users&quot;).document(id).collection(&quot;dynamic&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                                if (task.isSuccessful()) {\n                                    y++; // w koul ma nedi test nzid f y\n                                    Log.d(&quot;getdata1&quot;, String.valueOf(nombre_instance));\n                                    nombre_instance+=task.getResult().size(); //w nmed l nombre instance le nombre de test\n\n\n                                    for (QueryDocumentSnapshot document : task.getResult()) { //apres nboucle les tests\n                                        Log.d(&quot;data type&quot;, document.get(&quot;dwell time&quot;).getClass().getSimpleName());\n                                        dwell.add(document.getLong(&quot;dwell time&quot;)); //nedi swalhah\n\n                                        flightm2.add(document.getLong(&quot;flight time 2&quot;));\n                                        flightm3.add(document.getLong(&quot;flight time 3&quot;));\n                                        name.add(document.getString(&quot;nom&quot;));\n                                        Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\n                                    }\n                                        if (y==nbruser){ //apres ki y yweli 9ad le nombre des utilisateurs sema da ga3  les tests ydir la suite\n                                            Log.d(&quot;getdata&quot;, &quot;wsel&quot;);\n                                            //hna apres ncreeo  data\n                                            preferences = context.getSharedPreferences(PREFS, Context.MODE_PRIVATE);\n                                            //nsamo les atributs\n\n\n                                            final Attribute Attribute1 = new Attribute(&quot;dwelltime1&quot;);\n                                            final Attribute Attribute2 = new Attribute(&quot;dwelltime2&quot;);\n                                            final Attribute Attribute3 = new Attribute(&quot;dwelltime3&quot;);\n                                            final Attribute Attribute4 = new Attribute(&quot;dwelltime4&quot;);\n                                            final Attribute Attribute5 = new Attribute(&quot;dwelltime5&quot;);\n                                            final Attribute Attribute6 = new Attribute(&quot;dwelltime6&quot;);\n                                            final Attribute Attribute7 = new Attribute(&quot;dwelltime7&quot;);\n                                            final Attribute Attribute8 = new Attribute(&quot;dwelltime8&quot;);\n                                            final Attribute Attribute9 = new Attribute(&quot;dwelltime9&quot;);\n                                            final Attribute Attribute10 = new Attribute(&quot;dwelltime10&quot;);\n                                            final Attribute Attribute11 = new Attribute(&quot;flighttime2_1&quot;);\n                                            final Attribute Attribute12 = new Attribute(&quot;flighttime2_2&quot;);\n                                            final Attribute Attribute13 = new Attribute(&quot;flighttime2_3&quot;);\n                                            final Attribute Attribute14 = new Attribute(&quot;flighttime2_4&quot;);\n                                            final Attribute Attribute15 = new Attribute(&quot;flighttime2_5&quot;);\n                                            final Attribute Attribute16 = new Attribute(&quot;flighttime2_6&quot;);\n                                            final Attribute Attribute17 = new Attribute(&quot;flighttime2_7&quot;);\n                                            final Attribute Attribute18 = new Attribute(&quot;flighttime2_8&quot;);\n                                            final Attribute Attribute19 = new Attribute(&quot;flighttime2_9&quot;);\n                                            final Attribute Attribute20 = new Attribute(&quot;flighttime3_1&quot;);\n                                            final Attribute Attribute21 = new Attribute(&quot;flighttime3_2&quot;);\n                                            final Attribute Attribute22 = new Attribute(&quot;flighttime3_3&quot;);\n                                            final Attribute Attribute23 = new Attribute(&quot;flighttime3_4&quot;);\n                                            final Attribute Attribute24 = new Attribute(&quot;flighttime3_5&quot;);\n                                            final Attribute Attribute25 = new Attribute(&quot;flighttime3_6&quot;);\n                                            final Attribute Attribute26 = new Attribute(&quot;flighttime3_7&quot;);\n                                            final Attribute Attribute27 = new Attribute(&quot;flighttime3_8&quot;);\n                                            final Attribute Attribute28 = new Attribute(&quot;flighttime3_9&quot;);\n                                            List&lt;String&gt; classes = new ArrayList&lt;String&gt;(){\n                                                {\n                                                    add(&quot;sahraoui&quot;);\n\n                                                }\n                                            };  //w ndir les classe\n\n                                            //apres n ajoutou les attributs f fastvecteur\n                                            Attribute AttributeClass = new Attribute(&quot;class&quot;,classes);\n                                            FastVector fastVector = new FastVector(nombre_attribute);\n                                            fastVector.addElement(Attribute1);\n                                            fastVector.addElement(Attribute2);\n                                            fastVector.addElement(Attribute3);\n                                            fastVector.addElement(Attribute4);\n                                            fastVector.addElement(Attribute5);\n                                            fastVector.addElement(Attribute6);\n                                            fastVector.addElement(Attribute7);\n                                            fastVector.addElement(Attribute8);\n                                            fastVector.addElement(Attribute9);\n                                            fastVector.addElement(Attribute10);\n                                            fastVector.addElement(Attribute11);\n                                            fastVector.addElement(Attribute12);\n                                            fastVector.addElement(Attribute13);\n                                            fastVector.addElement(Attribute14);\n                                            fastVector.addElement(Attribute15);\n                                            fastVector.addElement(Attribute16);\n                                            fastVector.addElement(Attribute17);\n                                            fastVector.addElement(Attribute18);\n                                            fastVector.addElement(Attribute19);\n                                            fastVector.addElement(Attribute20);\n                                            fastVector.addElement(Attribute21);\n                                            fastVector.addElement(Attribute22);\n                                            fastVector.addElement(Attribute23);\n                                            fastVector.addElement(Attribute24);\n                                            fastVector.addElement(Attribute25);\n                                            fastVector.addElement(Attribute26);\n                                            fastVector.addElement(Attribute27);\n                                            fastVector.addElement(Attribute28);\n                                            fastVector.addElement(AttributeClass);\n                                            //apres ncrreo instance avec nom dynamic w nmedo le nombre d'instance\n                                            Instances instances = new Instances(&quot;dynamic&quot;,fastVector,nombre_instance);\n                                            instances.setClassIndex(instances.numAttributes()-1);\n\n                                            ArrayList finalDwell = dwell;\n                                            ArrayList finalFlightm2 = flightm2;\n                                            ArrayList finalFlightm3 = flightm3;\n\nLog.d(&quot;taille&quot;, String.valueOf(finalDwell.size()));\n                                            for (int i=0 ; i &lt;nombre_instance;i++) { //apres nboucle pour chaque instance (test)\n                                                int finalI = i; // i hiiya instance li rana fiha\n\n                                                DenseInstance denseInstance = new DenseInstance(instances.numAttributes()) {\n                                                    {\n\n                                                        setValue(Attribute1, preferences.getInt(&quot;dwelltime1&quot;,(Integer) finalDwell.get(0)));\n                                                        setValue(Attribute2, preferences.getLong(&quot;dwelltime2&quot;, (Long) finalDwell.get(1)));\n                                                        setValue(Attribute3, preferences.getLong(&quot;dwelltime3&quot;, (Long) finalDwell.get(2)));\n                                                        setValue(Attribute4, preferences.getLong(&quot;dwelltime4&quot;, (Long) finalDwell.get(3)));\n                                                        setValue(Attribute5, preferences.getLong(&quot;dwelltime5&quot;, (Long) finalDwell.get(4)));\n                                                        setValue(Attribute6, preferences.getLong(&quot;dwelltime6&quot;, (Long) finalDwell.get(5)));\n                                                        setValue(Attribute7, preferences.getLong(&quot;dwelltime7&quot;, (Long) finalDwell.get(6)));\n                                                        setValue(Attribute8, preferences.getLong(&quot;dwelltime8&quot;, (Long) finalDwell.get(7)));\n                                                        setValue(Attribute9, preferences.getLong(&quot;dwelltime9&quot;, (Long) finalDwell.get(8)));\n                                                        setValue(Attribute10, preferences.getLong(&quot;dwelltime10&quot;, (Long) finalDwell.get(9)));\n                                                        setValue(Attribute11, preferences.getLong(&quot;flighttime2_1&quot;, (Long) finalFlightm2.get(0)));\n                                                        setValue(Attribute12, preferences.getLong(&quot;flighttime2_2&quot;, (Long) finalFlightm2.get(1)));\n                                                        setValue(Attribute13, preferences.getLong(&quot;flighttime2_3&quot;, (Long) finalFlightm2.get(2)));\n                                                        setValue(Attribute14, preferences.getLong(&quot;flighttime2_4&quot;, (Long) finalFlightm2.get(3)));\n                                                        setValue(Attribute15, preferences.getLong(&quot;flighttime2_5&quot;, (Long) finalFlightm2.get(4)));\n                                                        setValue(Attribute16, preferences.getLong(&quot;flighttime2_6&quot;, (Long) finalFlightm2.get(5)));\n                                                        setValue(Attribute17, preferences.getLong(&quot;flighttime2_7&quot;, (Long) finalFlightm2.get(6)));\n                                                        setValue(Attribute18, preferences.getLong(&quot;flighttime2_8&quot;, (Long) finalFlightm2.get(7)));\n                                                        setValue(Attribute19, preferences.getLong(&quot;flighttime2_9&quot;, (Long) finalFlightm2.get(8)));\n                                                        setValue(Attribute20, preferences.getLong(&quot;flighttime3_1&quot;, (Long) finalFlightm3.get(0)));\n                                                        setValue(Attribute21, preferences.getLong(&quot;flighttime3_2&quot;, (Long) finalFlightm3.get(1)));\n                                                        setValue(Attribute22, preferences.getLong(&quot;flighttime3_3&quot;, (Long) finalFlightm3.get(2)));\n                                                        setValue(Attribute23, preferences.getLong(&quot;flighttime3_4&quot;, (Long) finalFlightm3.get(3)));\n                                                        setValue(Attribute24, preferences.getLong(&quot;flighttime3_5&quot;, (Long) finalFlightm3.get(4)));\n                                                        setValue(Attribute25, preferences.getLong(&quot;flighttime3_6&quot;, (Long) finalFlightm3.get(5)));\n                                                        setValue(Attribute26, preferences.getLong(&quot;flighttime3_7&quot;, (Long) finalFlightm3.get(6)));\n                                                        setValue(Attribute27, preferences.getLong(&quot;flighttime3_8&quot;, (Long) finalFlightm3.get(7)));\n                                                        setValue(Attribute28, preferences.getLong(&quot;flighttime3_9&quot;, (Long) finalFlightm3.get(8)));\n\n                                                    }\n                                                };\n\n\n                                                instances.add(denseInstance); //apres n ajouter les donnes f instance\n                                            }\n\n\n// Create a file to save the CSV data to\n\n\n                                            File file = new File(context.getExternalFilesDir(null), &quot;data.arff&quot;);\n                                            try (FileWriter writer = new FileWriter(file)) {\n                                                // Save the CSV data to the file\n\n                                                // create ArffSaver object\n                                                ArffSaver saver = new ArffSaver();\n                                                // set the instances object to be saved\n                                                saver.setInstances(instances);\n                                                // set the file to save the instances\n                                                saver.setFile(file);\n                                                // save the instances to the ARFF file\n                                                saver.writeBatch();\n                                                Log.d(&quot;APP_TAG&quot;, &quot;ARFF file saved at: &quot; + file.getAbsolutePath());\n                                            } catch (IOException e) {\n                                                throw new RuntimeException(e);\n                                            }\n\n                                            Log.d(&quot;getdata&quot;, instances.toString()); // w n affichi les donnees f log\n\n\n                                        }\n\n\n                                }\n                            }\n                        });\n                    }\n                }\n            }\n        });\n\n        return &quot;fdg&quot;;\n\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Jb88D.png\" rel=\"nofollow noreferrer\">and this a screenshot of my Firestore database</a></p>\n<p>I have verified that the 'dwell time' field is indeed a number field in Firestore, so I am not sure why I am getting this error. What could be causing this error and how to fix it?</p>\n"},{"tags":["java","android","build","r.java-file"],"comments":[{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":1,"creation_date":1402373999,"post_id":24132783,"comment_id":37235821,"body_markdown":"check if you have `import android.R;` if so remove it. Check the resource file for errors. if so fix it and clean and build the project","body":"check if you have <code>import android.R;</code> if so remove it. Check the resource file for errors. if so fix it and clean and build the project"},{"owner":{"account_id":1504904,"reputation":115,"user_id":1408523,"accept_rate":44,"display_name":"ejaz dogar"},"score":0,"creation_date":1402374235,"post_id":24132783,"comment_id":37235903,"body_markdown":"@Raghunandan, I have already done that but it doesn&#39;t help.","body":"@Raghunandan, I have already done that but it doesn&#39;t help."},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":1,"creation_date":1402374285,"post_id":24132783,"comment_id":37235925,"body_markdown":"R.java will not be generated if you have errors in your resource file. Did you check that?. If that doesn&#39;t help. Good luck","body":"R.java will not be generated if you have errors in your resource file. Did you check that?. If that doesn&#39;t help. Good luck"}],"answers":[{"tags":[],"owner":{"account_id":4474921,"reputation":3263,"user_id":3640268,"accept_rate":40,"display_name":"Bharadwaja Bapatla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679532339,"creation_date":1402376441,"answer_id":24133173,"question_id":24132783,"body_markdown":"try out these things\r\n\r\nif you have this in your imports:\r\n\r\n    import android.R;\r\n\r\nremove it and then add\r\n\r\n    import your.application.packagename.R;\r\n\r\nand clean and build the project\r\n\r\n\r\ngo through the documentation for details\r\n\r\nAs described at [https://source.android.com/source/using-eclipse.html][1]:\r\n\r\n &gt;Note: Eclipse sometimes likes to add an &quot;import android.R&quot; statement at the top of your files that use resources, especially when you ask Eclipse to sort or otherwise manage imports. This will cause your make to break. Look out for these erroneous import statements and delete them.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140325152640/http://source.android.com/source/using-eclipse.html","title":"Issues with the R.java file","body":"<p>try out these things</p>\n<p>if you have this in your imports:</p>\n<pre><code>import android.R;\n</code></pre>\n<p>remove it and then add</p>\n<pre><code>import your.application.packagename.R;\n</code></pre>\n<p>and clean and build the project</p>\n<p>go through the documentation for details</p>\n<p>As described at <a href=\"https://web.archive.org/web/20140325152640/http://source.android.com/source/using-eclipse.html\" rel=\"nofollow noreferrer\">https://source.android.com/source/using-eclipse.html</a>:</p>\n<blockquote>\n<p>Note: Eclipse sometimes likes to add an &quot;import android.R&quot; statement at the top of your files that use resources, especially when you ask Eclipse to sort or otherwise manage imports. This will cause your make to break. Look out for these erroneous import statements and delete them.</p>\n</blockquote>\n"}],"owner":{"account_id":1504904,"reputation":115,"user_id":1408523,"accept_rate":44,"display_name":"ejaz dogar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679532339,"creation_date":1402373882,"question_id":24132783,"body_markdown":"When I made my android app and ran it for the first time then the R.java file wasn&#39;t automatically generated. Then, I first cleaned the project and later on autobuild it and the R.java file was regenerated. But now I am getting error on \r\n\r\n    setContentView(R.layout.main);//main can&#39;t be resolved or is not a field.\r\n\r\nSo, how to overcome this error else tell a better way to autogenerate the R.java file?","title":"Issues with the R.java file","body":"<p>When I made my android app and ran it for the first time then the R.java file wasn't automatically generated. Then, I first cleaned the project and later on autobuild it and the R.java file was regenerated. But now I am getting error on </p>\n\n<pre><code>setContentView(R.layout.main);//main can't be resolved or is not a field.\n</code></pre>\n\n<p>So, how to overcome this error else tell a better way to autogenerate the R.java file?</p>\n"},{"tags":["java","geolocation","processing","google-maps-markers","unfoldingmap"],"comments":[{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1679499113,"post_id":75809649,"comment_id":133733703,"body_markdown":"How (shelterPos.x, shelterPos.y) will be a screen position? Isn&#39;t it a geolocation?  Print it first.","body":"How (shelterPos.x, shelterPos.y) will be a screen position? Isn&#39;t it a geolocation?  Print it first."}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679531889,"creation_date":1679515989,"answer_id":75816889,"question_id":75809649,"body_markdown":"The following source code is a simplified version of your code since the .mbtiles for Toronto is unavailable to me.  You left out **P2D** from your size() parameters; should see a red circle overlying the Covenant House in Toronto.\r\n\r\n```\r\nimport de.fhpotsdam.unfolding.utils.*;\r\nimport de.fhpotsdam.unfolding.marker.*;\r\nimport de.fhpotsdam.unfolding.interactions.*;\r\nimport de.fhpotsdam.unfolding.ui.*;\r\nimport de.fhpotsdam.unfolding.*;\r\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\r\nimport de.fhpotsdam.unfolding.data.*;\r\nimport de.fhpotsdam.unfolding.geo.*;\r\nimport de.fhpotsdam.unfolding.texture.*;\r\nimport de.fhpotsdam.unfolding.events.*;\r\nimport de.fhpotsdam.utils.*;\r\n\r\nUnfoldingMap map; \r\nSimplePointMarker shelterMarker; \r\n\r\nvoid setup() {\r\n  size(800, 600, P2D);\r\n  map = new UnfoldingMap(this, 0, 0, width, height);\r\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353)); \r\n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\r\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \r\n  shelterMarker.setColor(color(255, 0, 0));\r\n  map.addMarker(shelterMarker);\r\n  \r\n}\r\nvoid draw() {\r\n  map.draw();\r\n}\r\n```","title":"Using Unfolding Maps library on Processing editor - Red Marker will not appear on the map","body":"<p>The following source code is a simplified version of your code since the .mbtiles for Toronto is unavailable to me.  You left out <strong>P2D</strong> from your size() parameters; should see a red circle overlying the Covenant House in Toronto.</p>\n<pre><code>import de.fhpotsdam.unfolding.utils.*;\nimport de.fhpotsdam.unfolding.marker.*;\nimport de.fhpotsdam.unfolding.interactions.*;\nimport de.fhpotsdam.unfolding.ui.*;\nimport de.fhpotsdam.unfolding.*;\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\nimport de.fhpotsdam.unfolding.data.*;\nimport de.fhpotsdam.unfolding.geo.*;\nimport de.fhpotsdam.unfolding.texture.*;\nimport de.fhpotsdam.unfolding.events.*;\nimport de.fhpotsdam.utils.*;\n\nUnfoldingMap map; \nSimplePointMarker shelterMarker; \n\nvoid setup() {\n  size(800, 600, P2D);\n  map = new UnfoldingMap(this, 0, 0, width, height);\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353)); \n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \n  shelterMarker.setColor(color(255, 0, 0));\n  map.addMarker(shelterMarker);\n  \n}\nvoid draw() {\n  map.draw();\n}\n</code></pre>\n"}],"owner":{"account_id":19574776,"reputation":1,"user_id":14325080,"display_name":"kidjoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679531889,"creation_date":1679471909,"question_id":75809649,"body_markdown":"How can I make a very basic red marker (i.e., Red Ellipse) appear on the map (which integrates unfolding library) at the provided location (coordinates) for the shelter in this case. \r\n\r\nHere&#39;s the code sketch: \r\n\r\n```\r\nimport de.fhpotsdam.unfolding.utils.*;\r\nimport de.fhpotsdam.unfolding.marker.*;\r\nimport de.fhpotsdam.unfolding.tiles.*;\r\nimport de.fhpotsdam.unfolding.interactions.*;\r\nimport de.fhpotsdam.unfolding.ui.*;\r\nimport de.fhpotsdam.unfolding.*;\r\nimport de.fhpotsdam.unfolding.core.*;\r\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\r\nimport de.fhpotsdam.unfolding.data.*;\r\nimport de.fhpotsdam.unfolding.geo.*;\r\nimport de.fhpotsdam.unfolding.texture.*;\r\nimport de.fhpotsdam.unfolding.events.*;\r\nimport de.fhpotsdam.utils.*;\r\n\r\nString shelterMainFile = &quot;toronto-daily-shelter-occupancy.csv&quot;; \r\n//String shelterData = shelterMainFile; \r\n\r\nUnfoldingMap map; \r\nSimplePointMarker shelterMarker; \r\n\r\nvoid setup() {\r\n  size(800, 600);\r\n  smooth();\r\n\r\n  //--MAP INITIATE \r\n  // Creating a map anchored around downtown core Toronto\r\n  String mbTilesString = sketchPath(&quot;data/black_yellow.mbtiles&quot;);  //in the data folder of the current sketch\r\n  map = new UnfoldingMap(this, new MBTilesMapProvider(mbTilesString));\r\n  // Grab your desired map\r\n  map = new UnfoldingMap(this, new Microsoft.RoadProvider()); // default cleaner\r\n  //SET ZOOM &amp; ANCHOR to specified location here\r\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353));\r\n  // LAUNCH\r\n  MapUtils.createDefaultEventDispatcher(this, map);\r\n  map.setTweening(true);\r\n  \r\n  //--LOCATION MARKER \r\n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\r\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \r\n  shelterMarker.setColor(color(255, 0, 0)); // set marker color to red\r\n  \r\n  //--MAP MARKERS \r\n  map.addMarker(shelterMarker);\r\n  \r\n  //--DATA\r\n  // coming soon... \r\n}\r\nvoid draw() {\r\n\r\n  // Draw Map \r\n  map.draw();\r\n\r\n  // Draw the marker hovering above Covenant House\r\n  ScreenPosition shelterPos = map.getScreenPosition(shelterMarker.getLocation());\r\n  strokeWeight(1);\r\n  stroke(255, 0, 0);\r\n  fill(255, 0, 0, 100);\r\n  ellipse(shelterPos.x, shelterPos.y, 36, 36); //--red marker supposed to show up at this x, y \r\n}\r\n```\r\n\r\nI have tried running the sketch without the map integrating. That seems to be the only way my ellipse will show (but no map, which is integral part of this sketch). \r\n\r\nNot sure why this isn&#39;t working considering it is very toned-down example. ","title":"Using Unfolding Maps library on Processing editor - Red Marker will not appear on the map","body":"<p>How can I make a very basic red marker (i.e., Red Ellipse) appear on the map (which integrates unfolding library) at the provided location (coordinates) for the shelter in this case.</p>\n<p>Here's the code sketch:</p>\n<pre><code>import de.fhpotsdam.unfolding.utils.*;\nimport de.fhpotsdam.unfolding.marker.*;\nimport de.fhpotsdam.unfolding.tiles.*;\nimport de.fhpotsdam.unfolding.interactions.*;\nimport de.fhpotsdam.unfolding.ui.*;\nimport de.fhpotsdam.unfolding.*;\nimport de.fhpotsdam.unfolding.core.*;\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\nimport de.fhpotsdam.unfolding.data.*;\nimport de.fhpotsdam.unfolding.geo.*;\nimport de.fhpotsdam.unfolding.texture.*;\nimport de.fhpotsdam.unfolding.events.*;\nimport de.fhpotsdam.utils.*;\n\nString shelterMainFile = &quot;toronto-daily-shelter-occupancy.csv&quot;; \n//String shelterData = shelterMainFile; \n\nUnfoldingMap map; \nSimplePointMarker shelterMarker; \n\nvoid setup() {\n  size(800, 600);\n  smooth();\n\n  //--MAP INITIATE \n  // Creating a map anchored around downtown core Toronto\n  String mbTilesString = sketchPath(&quot;data/black_yellow.mbtiles&quot;);  //in the data folder of the current sketch\n  map = new UnfoldingMap(this, new MBTilesMapProvider(mbTilesString));\n  // Grab your desired map\n  map = new UnfoldingMap(this, new Microsoft.RoadProvider()); // default cleaner\n  //SET ZOOM &amp; ANCHOR to specified location here\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353));\n  // LAUNCH\n  MapUtils.createDefaultEventDispatcher(this, map);\n  map.setTweening(true);\n  \n  //--LOCATION MARKER \n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \n  shelterMarker.setColor(color(255, 0, 0)); // set marker color to red\n  \n  //--MAP MARKERS \n  map.addMarker(shelterMarker);\n  \n  //--DATA\n  // coming soon... \n}\nvoid draw() {\n\n  // Draw Map \n  map.draw();\n\n  // Draw the marker hovering above Covenant House\n  ScreenPosition shelterPos = map.getScreenPosition(shelterMarker.getLocation());\n  strokeWeight(1);\n  stroke(255, 0, 0);\n  fill(255, 0, 0, 100);\n  ellipse(shelterPos.x, shelterPos.y, 36, 36); //--red marker supposed to show up at this x, y \n}\n</code></pre>\n<p>I have tried running the sketch without the map integrating. That seems to be the only way my ellipse will show (but no map, which is integral part of this sketch).</p>\n<p>Not sure why this isn't working considering it is very toned-down example.</p>\n"},{"tags":["java","maven","jenkins"],"owner":{"account_id":9527284,"reputation":11,"user_id":7519886,"display_name":"Kryniowesegryderiusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679531179,"creation_date":1679531179,"question_id":75818338,"body_markdown":"I need help as lately I&#39;ve started getting `You have to use a classifier to attach supplemental artifacts to the project instead of replacing them.` error while shading on [Jenkins](https://ci.codemc.io/job/Kryniowesegryderiusz/job/KGenerators/121/console) (nothing when building on localhost).\r\n \r\nError is about [this pom](https://github.com/Kryniowesegryderiusz/KGenerators/blob/main/dist/pom.xml).\r\nYou can see at git commit history that I&#39;ve tried a lot already, but nothing works and I cannot find any working solution on stack :/\r\n\r\n\r\nI tried settings classifier for jar stage, setting shadedClassifierName, skipping jar stage, changing versions. I&#39;ve literally run out of ideas and possible stack overflow tickets, which could help me :C","title":"Maven error on Jenkins server &quot;You have to use a classifier to attach supplemental artifacts to the project instead of replacing them&quot;","body":"<p>I need help as lately I've started getting <code>You have to use a classifier to attach supplemental artifacts to the project instead of replacing them.</code> error while shading on <a href=\"https://ci.codemc.io/job/Kryniowesegryderiusz/job/KGenerators/121/console\" rel=\"nofollow noreferrer\">Jenkins</a> (nothing when building on localhost).</p>\n<p>Error is about <a href=\"https://github.com/Kryniowesegryderiusz/KGenerators/blob/main/dist/pom.xml\" rel=\"nofollow noreferrer\">this pom</a>.\nYou can see at git commit history that I've tried a lot already, but nothing works and I cannot find any working solution on stack :/</p>\n<p>I tried settings classifier for jar stage, setting shadedClassifierName, skipping jar stage, changing versions. I've literally run out of ideas and possible stack overflow tickets, which could help me :C</p>\n"},{"tags":["java","linux","javafx","netbeans"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679566235,"post_id":75818208,"comment_id":133745816,"body_markdown":"Your &quot;generated jar&quot; is incorrect.  Probably it doesn&#39;t include native code required to use a JavaFX application.  You won&#39;t get much assistance without providing reproducible steps on how you generated the jar and how you executed it.  Probably a &quot;generated jar&#39; is an incorrect or suboptimal approach.  For packaging info see the [javafx tag](https://stackoverflow.com/questions/tagged/javafx).  Also, I don&#39;t suggest mixing Swing and JavaFX unless you really need to.","body":"Your &quot;generated jar&quot; is incorrect.  Probably it doesn&#39;t include native code required to use a JavaFX application.  You won&#39;t get much assistance without providing reproducible steps on how you generated the jar and how you executed it.  Probably a &quot;generated jar&#39; is an incorrect or suboptimal approach.  For packaging info see the <a href=\"https://stackoverflow.com/questions/tagged/javafx\">javafx tag</a>.  Also, I don&#39;t suggest mixing Swing and JavaFX unless you really need to."},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1679567127,"post_id":75818208,"comment_id":133746040,"body_markdown":"Yes it an old project hard to maintain using swing, i hope to move it to pure javafx gradually . _      Jar is generated by netbeans and included all javafx jar and works from netbeans but once this same project compiled with netbeans its different . this Prism error seems to be a repetitive error with javafx but consulting all forums about i arrived at maximum I can and none was this same context","body":"Yes it an old project hard to maintain using swing, i hope to move it to pure javafx gradually . _      Jar is generated by netbeans and included all javafx jar and works from netbeans but once this same project compiled with netbeans its different . this Prism error seems to be a repetitive error with javafx but consulting all forums about i arrived at maximum I can and none was this same context"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679590647,"post_id":75818208,"comment_id":133752754,"body_markdown":"*&quot;Jar is generated by netbeans and included all javafx jar&quot;* -&gt; though you may be able to get such a setup to work, as will be noted in articles linked from the referenced JavaFX tag wiki, such a setup is not supported.  Modern JavaFX versions assume JavaFX modules are on the module path, which is not possible if you include JavaFX libraries in a single jar file.","body":"<i>&quot;Jar is generated by netbeans and included all javafx jar&quot;</i> -&gt; though you may be able to get such a setup to work, as will be noted in articles linked from the referenced JavaFX tag wiki, such a setup is not supported.  Modern JavaFX versions assume JavaFX modules are on the module path, which is not possible if you include JavaFX libraries in a single jar file."}],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679530259,"creation_date":1679529361,"question_id":75818208,"body_markdown":"I &#39;m trying to compile a project using java11 and javafx 17 on rocky Linux\r\n\r\nI followed the javaFX (non modular) guide for Eclipse and it works fine.\r\n\r\nI did the same with netBeans (12.6) and its a semi success, project runs perfectly when launched directly from Netbeans. But after compiling the project without error it fails at execution displaying this : \r\n\r\n    mars 22, 2023 11:30:05 PM com.sun.javafx.application.PlatformImpl startup\r\n    AVERTISSEMENT: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @57116b8b&#39;\r\n    Prism pipeline init order: es2 sw \r\n    Using Double Precision Marlin Rasterizer\r\n    Using dirty region optimizations\r\n    Not using texture mask for primitives\r\n    Not forcing power of 2 sizes for textures\r\n    Using hardware CLAMP_TO_ZERO mode\r\n    Opting in for HiDPI pixel scaling\r\n    Prism pipeline name = com.sun.prism.es2.ES2Pipeline\r\n    Loading ES2 native library ... prism_es2\r\n    GraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline\r\n    java.lang.UnsatisfiedLinkError: no prism_es2 in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1870)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\r\n    \tat com.sun.prism.es2.ES2Pipeline.lambda$static$0(ES2Pipeline.java:63)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;(ES2Pipeline.java:52)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:315)\r\n    \tat com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    *** Fallback to Prism SW pipeline\r\n    Prism pipeline name = com.sun.prism.sw.SWPipeline\r\n    GraphicsPipeline.createPipeline failed for com.sun.prism.sw.SWPipeline\r\n    java.lang.UnsatisfiedLinkError: no prism_sw in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1870)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\r\n    \tat com.sun.prism.sw.SWPipeline.lambda$static$0(SWPipeline.java:43)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.prism.sw.SWPipeline.&lt;clinit&gt;(SWPipeline.java:42)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:315)\r\n    \tat com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Graphics Device initialization failed for :  es2, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\r\n    \tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:266)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n    \tat javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n    \t... 1 more\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: No toolkit found\r\n    \tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:278)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n    \tat javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nApparently first warning could be ignored, the thing i don&#39;t undertand is why application runs correctly under eclipse and netbeans and not after compilation , what is the difference  and what is missing ?\r\n\r\nreading next lines, seems that prism_es2 and prism_sw where missing at expected location\r\n\r\nactually I didn&#39;t find those files but i saw comparable files in the javafx directory\r\n\r\n    /home/userdev/javafx-sdk-17.0.6/lib/libprism_es2.so\r\n    /home/userdev/javafx-sdk-17.0.6/lib/libprism_sw.so\r\n\r\nwhy it&#39;s seems to use those files in eclipse and netbeans but not with generated jar ,\r\nhow can I solve this ?\r\n\r\nThanks for any help\r\n","title":"how to resolve GraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline error using javafx 17","body":"<p>I 'm trying to compile a project using java11 and javafx 17 on rocky Linux</p>\n<p>I followed the javaFX (non modular) guide for Eclipse and it works fine.</p>\n<p>I did the same with netBeans (12.6) and its a semi success, project runs perfectly when launched directly from Netbeans. But after compiling the project without error it fails at execution displaying this :</p>\n<pre><code>mars 22, 2023 11:30:05 PM com.sun.javafx.application.PlatformImpl startup\nAVERTISSEMENT: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @57116b8b'\nPrism pipeline init order: es2 sw \nUsing Double Precision Marlin Rasterizer\nUsing dirty region optimizations\nNot using texture mask for primitives\nNot forcing power of 2 sizes for textures\nUsing hardware CLAMP_TO_ZERO mode\nOpting in for HiDPI pixel scaling\nPrism pipeline name = com.sun.prism.es2.ES2Pipeline\nLoading ES2 native library ... prism_es2\nGraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline\njava.lang.UnsatisfiedLinkError: no prism_es2 in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\n    at java.base/java.lang.System.loadLibrary(System.java:1870)\n    at com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\n    at com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\n    at com.sun.prism.es2.ES2Pipeline.lambda$static$0(ES2Pipeline.java:63)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;(ES2Pipeline.java:52)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n*** Fallback to Prism SW pipeline\nPrism pipeline name = com.sun.prism.sw.SWPipeline\nGraphicsPipeline.createPipeline failed for com.sun.prism.sw.SWPipeline\njava.lang.UnsatisfiedLinkError: no prism_sw in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\n    at java.base/java.lang.System.loadLibrary(System.java:1870)\n    at com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\n    at com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\n    at com.sun.prism.sw.SWPipeline.lambda$static$0(SWPipeline.java:43)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.prism.sw.SWPipeline.&lt;clinit&gt;(SWPipeline.java:42)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nGraphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:266)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    ... 1 more\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: No toolkit found\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:278)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Apparently first warning could be ignored, the thing i don't undertand is why application runs correctly under eclipse and netbeans and not after compilation , what is the difference  and what is missing ?</p>\n<p>reading next lines, seems that prism_es2 and prism_sw where missing at expected location</p>\n<p>actually I didn't find those files but i saw comparable files in the javafx directory</p>\n<pre><code>/home/userdev/javafx-sdk-17.0.6/lib/libprism_es2.so\n/home/userdev/javafx-sdk-17.0.6/lib/libprism_sw.so\n</code></pre>\n<p>why it's seems to use those files in eclipse and netbeans but not with generated jar ,\nhow can I solve this ?</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","spring-boot","spring-security","junit"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679522438,"creation_date":1679522438,"answer_id":75817616,"question_id":75817309,"body_markdown":"Just mock Authentication auth, JwtUserDetails jwtUserDetails:\r\n\r\n    @Mock\r\n    private Authentication auth\r\n    \r\n    @Mock\r\n    private JwtUserDetails jwtUserDetails\r\n    \r\n    and in test do\r\n    \r\n    when(auth.getPrincipal()).thenReturn(jwtUserDetails)\r\n\r\nDon&#39;t forget to remove two lines of code in your test\r\n\r\n    Authentication auth = authenticationManager.authenticate(authToken);\r\n    JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n\r\n","title":"How to implement login service test based on Spring Security in Spring Boot?","body":"<p>Just mock Authentication auth, JwtUserDetails jwtUserDetails:</p>\n<pre><code>@Mock\nprivate Authentication auth\n\n@Mock\nprivate JwtUserDetails jwtUserDetails\n\nand in test do\n\nwhen(auth.getPrincipal()).thenReturn(jwtUserDetails)\n</code></pre>\n<p>Don't forget to remove two lines of code in your test</p>\n<pre><code>Authentication auth = authenticationManager.authenticate(authToken);\nJwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1679529964,"creation_date":1679529964,"answer_id":75818244,"question_id":75817309,"body_markdown":"Here is the answer shown below\r\n\r\n    @Test\r\n        void shouldLogin() {\r\n    \r\n            // Given\r\n            AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\r\n    \r\n    \r\n            User user = User.builder()\r\n                    .username(loginRequest.getUsername())\r\n                    .password(loginRequest.getPassword())\r\n                    .userRole(UserRole.ROLE_ADMIN)\r\n                    .build();\r\n    \r\n            user.setId(1L);\r\n    \r\n            UsernamePasswordAuthenticationToken authToken =\r\n                    new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n    \r\n    \r\n            JwtUserDetails jwtUserDetails = new JwtUserDetails(user);\r\n    \r\n            Authentication auth = new UsernamePasswordAuthenticationToken(jwtUserDetails, null);\r\n    \r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n    \r\n            JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n    \r\n    \r\n            AuthResponse authResponse = AuthResponse.builder()\r\n                    .expireDate(new Date().getTime() + 120000)\r\n                    .refreshToken(&quot;refreshToken&quot;)\r\n                    .message(&quot;success&quot;)\r\n                    .accessToken(&quot;access-token&quot;)\r\n                    .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .build();\r\n    \r\n            RefreshToken refreshToken = RefreshToken.builder()\r\n                    .token(authResponse.getRefreshToken())\r\n                    .build();\r\n    \r\n            // when\r\n            when(authenticationManager.authenticate(eq(authToken)))\r\n                    .thenReturn(auth);\r\n            when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\r\n            when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\r\n    \r\n            AuthResponse authResponseActual = authService.login(loginRequest);\r\n    \r\n            // then\r\n            assertThat(authResponse).isNotNull();\r\n            assertEquals(authResponseActual.getAccessToken().substring(7), authResponse.getAccessToken());\r\n            assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\r\n    \r\n        }","title":"How to implement login service test based on Spring Security in Spring Boot?","body":"<p>Here is the answer shown below</p>\n<pre><code>@Test\n    void shouldLogin() {\n\n        // Given\n        AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\n\n\n        User user = User.builder()\n                .username(loginRequest.getUsername())\n                .password(loginRequest.getPassword())\n                .userRole(UserRole.ROLE_ADMIN)\n                .build();\n\n        user.setId(1L);\n\n        UsernamePasswordAuthenticationToken authToken =\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n\n\n        JwtUserDetails jwtUserDetails = new JwtUserDetails(user);\n\n        Authentication auth = new UsernamePasswordAuthenticationToken(jwtUserDetails, null);\n\n        SecurityContextHolder.getContext().setAuthentication(auth);\n\n        JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n\n\n        AuthResponse authResponse = AuthResponse.builder()\n                .expireDate(new Date().getTime() + 120000)\n                .refreshToken(&quot;refreshToken&quot;)\n                .message(&quot;success&quot;)\n                .accessToken(&quot;access-token&quot;)\n                .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\n                .username(&quot;adminUsername&quot;)\n                .build();\n\n        RefreshToken refreshToken = RefreshToken.builder()\n                .token(authResponse.getRefreshToken())\n                .build();\n\n        // when\n        when(authenticationManager.authenticate(eq(authToken)))\n                .thenReturn(auth);\n        when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\n        when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\n\n        AuthResponse authResponseActual = authService.login(loginRequest);\n\n        // then\n        assertThat(authResponse).isNotNull();\n        assertEquals(authResponseActual.getAccessToken().substring(7), authResponse.getAccessToken());\n        assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75818244,"answer_count":2,"score":0,"last_activity_date":1679529964,"creation_date":1679519618,"question_id":75817309,"body_markdown":"I have a problem implementing login service test based on Spring Security in Spring Boot. I tried to implement login method in AuthService and then wrote its service method but I got the issue.\r\n\r\n\r\nHere is the issue shown below\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.core.Authentication.getPrincipal()&quot; because &quot;auth&quot; is null\r\n\r\nHow can I fix it?\r\n\r\nHere is JwtUserDetails class shown below\r\n\r\n    @RequiredArgsConstructor\r\n    public class JwtUserDetails implements UserDetails {\r\n    \r\n        private final User user;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            UserRole roles = user.getUserRole();\r\n    \r\n            List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\r\n            authories.add(new SimpleGrantedAuthority(roles.name()));\r\n    \r\n            return authories;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getUsername();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n    \r\n        public long getId(){\r\n            return user.getId();\r\n        }\r\n    \r\n        public String getEmail(){\r\n            return user.getEmail();\r\n        }\r\n    }\r\n\r\n\r\nHere is AuthService shown below\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AuthService{\r\n    \r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        private final JwtTokenProvider jwtTokenProvider;\r\n    \r\n        private final PasswordEncoder passwordEncoder;\r\n       \r\n        private final RefreshTokenService refreshTokenService;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public AuthResponse login(AdminLoginRequest loginRequest) {\r\n    \r\n            UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n            Authentication auth = authenticationManager.authenticate(authToken);\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n            JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n            String accessToken = jwtTokenProvider.generateJwtToken(auth);\r\n    \r\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream().map(item -&gt; item.getAuthority())\r\n                    .collect(Collectors.toList());\r\n    \r\n            RefreshToken refreshToken = refreshTokenService.createRefreshToken(userDetails.getId());\r\n    \r\n            Date expiryDate = new Date(new Date().getTime() + EXPIRES_IN);\r\n    \r\n            return AuthResponse.builder()\r\n                    .username(userDetails.getUsername())\r\n                    .accessToken(&quot;Bearer &quot; + accessToken)\r\n                    .roles(roles)\r\n                    .refreshToken(refreshToken.getToken())\r\n                    .message(&quot;success&quot;)\r\n                    .expireDate(expiryDate.getTime())\r\n                    .build();\r\n        }\r\n\r\n\r\nHere is the AuthServiceTest shown below\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class AuthServiceTest{\r\n    \r\n        @Mock\r\n        private UserRepository userRepository;\r\n    \r\n        @Mock\r\n        private OrganizationRepository organizationRepository;\r\n    \r\n        @InjectMocks\r\n        private AuthServiceImpl authService;\r\n    \r\n        @Mock\r\n        private PasswordEncoder passwordEncoder;\r\n    \r\n        @Mock\r\n        private UserMapper userMapper;\r\n    \r\n        @Mock\r\n        private RefreshTokenService refreshTokenService;\r\n    \r\n        @Mock\r\n        private JwtTokenProvider jwtTokenProvider;\r\n    \r\n        @Mock\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n    @Test\r\n        void shouldLogin() {\r\n    \r\n            // Given\r\n            AdminLoginRequest loginRequest = getLoginRequest();\r\n    \r\n            UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n            Authentication auth = authenticationManager.authenticate(authToken);\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n            JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n    \r\n            AuthResponse authResponse = AuthResponse.builder()\r\n                    .expireDate(new Date().getTime() + 120000)\r\n                    .refreshToken(&quot;refreshToken&quot;)\r\n                    .message(&quot;success&quot;)\r\n                    .accessToken(&quot;Bearer access-token&quot;)\r\n                    .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .build();\r\n    \r\n            RefreshToken refreshToken = RefreshToken.builder()\r\n                    .token(authResponse.getAccessToken())\r\n                    .build();\r\n    \r\n            // when\r\n            when(authenticationManager.authenticate(any())).thenReturn(authToken);\r\n            when(jwtTokenProvider.generateJwtToken(any())).thenReturn(authResponse.getAccessToken());\r\n            when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\r\n    \r\n            AuthResponse authResponseActual = authService.login(loginRequest);\r\n    \r\n            // then\r\n            assertThat(authResponse).isNotNull();\r\n            assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\r\n            assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\r\n    \r\n        }\r\n\r\n\r\nHere is the getLoginRequest shown below\r\n\r\n    public AdminLoginRequest getLoginRequest() {\r\n            return AdminLoginRequest.builder()\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .password(&quot;adminPassword&quot;)\r\n                    .build();\r\n        }\r\n\r\nRevised\r\n\r\nHere is the test method shown below\r\n\r\n    @Test\r\n        void shouldLogin() {\r\n    \r\n            // Given\r\n            AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\r\n    \r\n    \r\n            User user = User.builder()\r\n                    .username(loginRequest.getUsername())\r\n                    .password(loginRequest.getPassword())\r\n                    .userRole(UserRole.ROLE_ADMIN)\r\n                    .build();\r\n    \r\n            user.setId(1L);\r\n    \r\n            UsernamePasswordAuthenticationToken authToken =\r\n                    new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n    \r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n    \r\n            AuthResponse authResponse = AuthResponse.builder()\r\n                    .expireDate(new Date().getTime() + 120000)\r\n                    .refreshToken(&quot;refreshToken&quot;)\r\n                    .message(&quot;success&quot;)\r\n                    .accessToken(&quot;Bearer access-token&quot;)\r\n                    .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .build();\r\n    \r\n            RefreshToken refreshToken = RefreshToken.builder()\r\n                    .token(authResponse.getAccessToken())\r\n                    .build();\r\n    \r\n            // when\r\n            when(authenticationManager.authenticate(eq(authToken))).thenReturn(authToken);\r\n            when(auth.getPrincipal()).thenReturn(jwtUserDetails);\r\n            when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\r\n            when(refreshTokenService.createRefreshToken(eq(jwtUserDetails.getId()))).thenReturn(refreshToken);\r\n    \r\n            AuthResponse authResponseActual = authService.login(loginRequest);\r\n    \r\n            // then\r\n            assertThat(authResponse).isNotNull();\r\n            assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\r\n            assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\r\n    \r\n        }\r\n\r\nHere is the issue shown below\r\n\r\n    java.lang.ClassCastException: class java.lang.String cannot be cast to class com.ays.backend.user.security.JwtUserDetails (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; com.ays.backend.user.security.JwtUserDetails is in unnamed module of loader &#39;app&#39;)\r\n\r\n","title":"How to implement login service test based on Spring Security in Spring Boot?","body":"<p>I have a problem implementing login service test based on Spring Security in Spring Boot. I tried to implement login method in AuthService and then wrote its service method but I got the issue.</p>\n<p>Here is the issue shown below</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.core.Authentication.getPrincipal()&quot; because &quot;auth&quot; is null\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is JwtUserDetails class shown below</p>\n<pre><code>@RequiredArgsConstructor\npublic class JwtUserDetails implements UserDetails {\n\n    private final User user;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        UserRole roles = user.getUserRole();\n\n        List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\n        authories.add(new SimpleGrantedAuthority(roles.name()));\n\n        return authories;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    public long getId(){\n        return user.getId();\n    }\n\n    public String getEmail(){\n        return user.getEmail();\n    }\n}\n</code></pre>\n<p>Here is AuthService shown below</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class AuthService{\n\n    private final AuthenticationManager authenticationManager;\n\n    private final JwtTokenProvider jwtTokenProvider;\n\n    private final PasswordEncoder passwordEncoder;\n   \n    private final RefreshTokenService refreshTokenService;\n\n    @Override\n    @Transactional\n    public AuthResponse login(AdminLoginRequest loginRequest) {\n\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n        Authentication auth = authenticationManager.authenticate(authToken);\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n        String accessToken = jwtTokenProvider.generateJwtToken(auth);\n\n        List&lt;String&gt; roles = userDetails.getAuthorities().stream().map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        RefreshToken refreshToken = refreshTokenService.createRefreshToken(userDetails.getId());\n\n        Date expiryDate = new Date(new Date().getTime() + EXPIRES_IN);\n\n        return AuthResponse.builder()\n                .username(userDetails.getUsername())\n                .accessToken(&quot;Bearer &quot; + accessToken)\n                .roles(roles)\n                .refreshToken(refreshToken.getToken())\n                .message(&quot;success&quot;)\n                .expireDate(expiryDate.getTime())\n                .build();\n    }\n</code></pre>\n<p>Here is the AuthServiceTest shown below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AuthServiceTest{\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    private OrganizationRepository organizationRepository;\n\n    @InjectMocks\n    private AuthServiceImpl authService;\n\n    @Mock\n    private PasswordEncoder passwordEncoder;\n\n    @Mock\n    private UserMapper userMapper;\n\n    @Mock\n    private RefreshTokenService refreshTokenService;\n\n    @Mock\n    private JwtTokenProvider jwtTokenProvider;\n\n    @Mock\n    private AuthenticationManager authenticationManager;\n\n@Test\n    void shouldLogin() {\n\n        // Given\n        AdminLoginRequest loginRequest = getLoginRequest();\n\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n        Authentication auth = authenticationManager.authenticate(authToken);\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n\n        AuthResponse authResponse = AuthResponse.builder()\n                .expireDate(new Date().getTime() + 120000)\n                .refreshToken(&quot;refreshToken&quot;)\n                .message(&quot;success&quot;)\n                .accessToken(&quot;Bearer access-token&quot;)\n                .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\n                .username(&quot;adminUsername&quot;)\n                .build();\n\n        RefreshToken refreshToken = RefreshToken.builder()\n                .token(authResponse.getAccessToken())\n                .build();\n\n        // when\n        when(authenticationManager.authenticate(any())).thenReturn(authToken);\n        when(jwtTokenProvider.generateJwtToken(any())).thenReturn(authResponse.getAccessToken());\n        when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\n\n        AuthResponse authResponseActual = authService.login(loginRequest);\n\n        // then\n        assertThat(authResponse).isNotNull();\n        assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\n        assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\n\n    }\n</code></pre>\n<p>Here is the getLoginRequest shown below</p>\n<pre><code>public AdminLoginRequest getLoginRequest() {\n        return AdminLoginRequest.builder()\n                .username(&quot;adminUsername&quot;)\n                .password(&quot;adminPassword&quot;)\n                .build();\n    }\n</code></pre>\n<p>Revised</p>\n<p>Here is the test method shown below</p>\n<pre><code>@Test\n    void shouldLogin() {\n\n        // Given\n        AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\n\n\n        User user = User.builder()\n                .username(loginRequest.getUsername())\n                .password(loginRequest.getPassword())\n                .userRole(UserRole.ROLE_ADMIN)\n                .build();\n\n        user.setId(1L);\n\n        UsernamePasswordAuthenticationToken authToken =\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n\n        SecurityContextHolder.getContext().setAuthentication(auth);\n\n        AuthResponse authResponse = AuthResponse.builder()\n                .expireDate(new Date().getTime() + 120000)\n                .refreshToken(&quot;refreshToken&quot;)\n                .message(&quot;success&quot;)\n                .accessToken(&quot;Bearer access-token&quot;)\n                .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\n                .username(&quot;adminUsername&quot;)\n                .build();\n\n        RefreshToken refreshToken = RefreshToken.builder()\n                .token(authResponse.getAccessToken())\n                .build();\n\n        // when\n        when(authenticationManager.authenticate(eq(authToken))).thenReturn(authToken);\n        when(auth.getPrincipal()).thenReturn(jwtUserDetails);\n        when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\n        when(refreshTokenService.createRefreshToken(eq(jwtUserDetails.getId()))).thenReturn(refreshToken);\n\n        AuthResponse authResponseActual = authService.login(loginRequest);\n\n        // then\n        assertThat(authResponse).isNotNull();\n        assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\n        assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\n\n    }\n</code></pre>\n<p>Here is the issue shown below</p>\n<pre><code>java.lang.ClassCastException: class java.lang.String cannot be cast to class com.ays.backend.user.security.JwtUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.ays.backend.user.security.JwtUserDetails is in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["java","clover"],"owner":{"account_id":2861403,"reputation":515,"user_id":2456600,"accept_rate":14,"display_name":"user2456600"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679528169,"creation_date":1679528169,"question_id":75818121,"body_markdown":"In my pom .xml I am using the Maven Clover Plugin:\r\n\r\n    &lt;plugin&gt;                                                              \r\n        &lt;groupId&gt;org.openclover&lt;/groupId&gt;                                                                                                     \r\n        &lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;                                                                                          \r\n        &lt;version&gt;4.4.1&lt;/version&gt; \r\n    . \r\n    .\r\n\r\n\r\nI then run the python tool diff-cover to get the difference in coverage for my pull request against a base branch:\r\n\r\n    diff-cover --html-report artifacts/diff.html target/site/clover/clover.xml --compare-branch origin/develop\r\n\r\nthe diff-cover tool is documented here : https://pypi.org/project/diff-cover/\r\n\r\nSo this generates a diff.html file fine. The problem is it always claims any if statements in my code are not covered. The same tests against the same code run in IntelliJ says 100% of the lines are covered. \r\n\r\nE.g code:\r\n \r\n\r\n    35            if (!successfulInit) {\r\n    36                throw new RuntimeException(&quot;Failed to initialize &quot; +\r\n    37                        &quot;Dist Cache of DMP Segment rules&quot;);\r\n    38            }\r\n\r\nThe resulting diff.html states that line 35 is not covered. I have tests for both successfulInit being true and false. And clover never claims that the throw statement is not covered.\r\n\r\nAny help would be most appreciated.\r\n\r\n","title":"Maven Clover Plugin Always Claims If Statements In My Java Code Are Not Covered","body":"<p>In my pom .xml I am using the Maven Clover Plugin:</p>\n<pre><code>&lt;plugin&gt;                                                              \n    &lt;groupId&gt;org.openclover&lt;/groupId&gt;                                                                                                     \n    &lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;                                                                                          \n    &lt;version&gt;4.4.1&lt;/version&gt; \n. \n.\n</code></pre>\n<p>I then run the python tool diff-cover to get the difference in coverage for my pull request against a base branch:</p>\n<pre><code>diff-cover --html-report artifacts/diff.html target/site/clover/clover.xml --compare-branch origin/develop\n</code></pre>\n<p>the diff-cover tool is documented here : <a href=\"https://pypi.org/project/diff-cover/\" rel=\"nofollow noreferrer\">https://pypi.org/project/diff-cover/</a></p>\n<p>So this generates a diff.html file fine. The problem is it always claims any if statements in my code are not covered. The same tests against the same code run in IntelliJ says 100% of the lines are covered.</p>\n<p>E.g code:</p>\n<pre><code>35            if (!successfulInit) {\n36                throw new RuntimeException(&quot;Failed to initialize &quot; +\n37                        &quot;Dist Cache of DMP Segment rules&quot;);\n38            }\n</code></pre>\n<p>The resulting diff.html states that line 35 is not covered. I have tests for both successfulInit being true and false. And clover never claims that the throw statement is not covered.</p>\n<p>Any help would be most appreciated.</p>\n"},{"tags":["java","eclipse","algorithm"],"comments":[{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":2,"creation_date":1446938471,"post_id":33588939,"comment_id":54954016,"body_markdown":"I suspect the solution is that you need to add these JAR files to your Java CLASSPATH","body":"I suspect the solution is that you need to add these JAR files to your Java CLASSPATH"},{"owner":{"account_id":3613575,"reputation":3192,"user_id":3592827,"accept_rate":83,"display_name":"aless80"},"score":0,"creation_date":1446944538,"post_id":33588939,"comment_id":54955202,"body_markdown":"I tried with this\njavac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/Percolation.java\nbut it cannot find WeightedQuickUnionUF.\n\nActually I see that a similar command works for a few other classes downloaded from the link above, eg\njavac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/RandomizedQueue.java\nI have to remove all the import statements, right?","body":"I tried with this javac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/Percolation.java but it cannot find WeightedQuickUnionUF.  Actually I see that a similar command works for a few other classes downloaded from the link above, eg javac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/RandomizedQueue.java I have to remove all the import statements, right?"}],"answers":[{"tags":[],"owner":{"account_id":18321255,"reputation":1,"user_id":13341977,"display_name":"Sai Srinija Sakinala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593035719,"creation_date":1593035719,"answer_id":62564672,"question_id":33588939,"body_markdown":"Well, In my case the solution happened to be pretty simple. I had to rename the file with the right extension and then rebuild it. ","title":"Cannot run java classes of Coursera Algorithm Course","body":"<p>Well, In my case the solution happened to be pretty simple. I had to rename the file with the right extension and then rebuild it.</p>\n"},{"tags":[],"owner":{"account_id":14097931,"reputation":1,"user_id":21460210,"display_name":"carlos romero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679528162,"creation_date":1679528162,"answer_id":75818120,"question_id":33588939,"body_markdown":"Had similar issue in Coursera VsCode toolbox\r\n\r\nMy Solution:\r\n\r\n 1. Make class public.\r\n 2. Filename and Class name have to be the same, it is case-sensitive.\r\n 3. Run in terminal: javac &quot;Class name&quot;.java\r\n 4. Run in terminal: java &quot;Class name&quot;","title":"Cannot run java classes of Coursera Algorithm Course","body":"<p>Had similar issue in Coursera VsCode toolbox</p>\n<p>My Solution:</p>\n<ol>\n<li>Make class public.</li>\n<li>Filename and Class name have to be the same, it is case-sensitive.</li>\n<li>Run in terminal: javac &quot;Class name&quot;.java</li>\n<li>Run in terminal: java &quot;Class name&quot;</li>\n</ol>\n"}],"owner":{"account_id":3613575,"reputation":3192,"user_id":3592827,"accept_rate":83,"display_name":"aless80"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679528162,"creation_date":1446938153,"question_id":33588939,"body_markdown":"More than a year ago I attended the Algorithm I course on Coursera. Now I cannot run my classes anymore. I have seen several posts here but they do not help. I have tried from Eclipse as well as from Terminal but I get errors like:\r\n\r\n    ./src/Percolation.java:7: error: cannot find symbol\r\n    \tprivate WeightedQuickUnionUF qfObj = null;\r\n    \t        ^\r\n      symbol:   class WeightedQuickUnionUF\r\n      location: class Percolation\r\n\r\nor \r\n\r\n    ./Deque.java:45: error: cannot find symbol\r\n\t\t\tStdOut.print(i+&quot;:&quot;);\r\n\t\t\t^\r\n      symbol:   variable StdOut\r\n      location: class Deque&lt;Item&gt;\r\n      where Item is a type-variable:\r\n      Item extends Object declared in class Deque\r\n\r\nI used to have imports such as these in my classes:\r\n\r\n    import edu.princeton.cs.algs4.StdRandom;\r\n    import edu.princeton.cs.algs4.StdStats;\r\n    import edu.princeton.cs.algs4.WeightedQuickUnionUF;\r\n    import edu.princeton.cs.algs4.Stopwatch;\r\n\r\nbut they are flagged as errors in eclipse. I have algs4.jar and stdlib.jar in my libraries\r\n\r\nSimilar classes can be found here: \r\nhttps://github.com/zhichaoh/Coursera-Algorithms\r\nso maybe the question is: How to make them run? ","title":"Cannot run java classes of Coursera Algorithm Course","body":"<p>More than a year ago I attended the Algorithm I course on Coursera. Now I cannot run my classes anymore. I have seen several posts here but they do not help. I have tried from Eclipse as well as from Terminal but I get errors like:</p>\n\n<pre><code>./src/Percolation.java:7: error: cannot find symbol\n    private WeightedQuickUnionUF qfObj = null;\n            ^\n  symbol:   class WeightedQuickUnionUF\n  location: class Percolation\n</code></pre>\n\n<p>or </p>\n\n<pre><code>./Deque.java:45: error: cannot find symbol\n        StdOut.print(i+\":\");\n        ^\n  symbol:   variable StdOut\n  location: class Deque&lt;Item&gt;\n  where Item is a type-variable:\n  Item extends Object declared in class Deque\n</code></pre>\n\n<p>I used to have imports such as these in my classes:</p>\n\n<pre><code>import edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.StdStats;\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\nimport edu.princeton.cs.algs4.Stopwatch;\n</code></pre>\n\n<p>but they are flagged as errors in eclipse. I have algs4.jar and stdlib.jar in my libraries</p>\n\n<p>Similar classes can be found here: \n<a href=\"https://github.com/zhichaoh/Coursera-Algorithms\" rel=\"nofollow\">https://github.com/zhichaoh/Coursera-Algorithms</a>\nso maybe the question is: How to make them run? </p>\n"},{"tags":["java","string","integer"],"comments":[{"owner":{"account_id":25618515,"reputation":11,"user_id":19590809,"display_name":"Meruem"},"score":1,"creation_date":1679350391,"post_id":75795715,"comment_id":133703345,"body_markdown":"It sounds like there might be an issue with your Java installation or configuration. Integer.parseInt() is a standard Java method that is part of the java.lang.Integer class, so it should be available by default.\n\nOne thing you could try is explicitly importing the java.lang.Integer class at the top of your file, like this:\n\n    import java.lang.Integer;\n\nIf you still have this error, you may need to uninstall and reinstall Java, or try using a different IDE.","body":"It sounds like there might be an issue with your Java installation or configuration. Integer.parseInt() is a standard Java method that is part of the java.lang.Integer class, so it should be available by default.  One thing you could try is explicitly importing the java.lang.Integer class at the top of your file, like this:      import java.lang.Integer;  If you still have this error, you may need to uninstall and reinstall Java, or try using a different IDE."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1679390007,"post_id":75795715,"comment_id":133708690,"body_markdown":"Do you have your own class called `Integer` in the same pacakge?","body":"Do you have your own class called <code>Integer</code> in the same pacakge?"}],"owner":{"account_id":17382528,"reputation":9,"user_id":21442724,"display_name":"Niremen"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679352763,"answer_count":0,"score":0,"last_activity_date":1679525535,"creation_date":1679349703,"question_id":75795715,"body_markdown":"I need to transform a string to an int using Integer.parseInt() or Integer.valueOf() but Visual Studio Code shows this error *The method parseInt(String) is undefined for the type Integer*\r\n\r\nThis is my code so far\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.util.*;\r\npublic class entrada2 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String nombre_usuario = JOptionPane.showInputDialog(&quot;Introduce tu nombre de usuario, por favor&quot;);\r\n        String edad = JOptionPane.showInputDialog(&quot;Introduce tu edad, por favor&quot;);\r\n\r\n        int age = Integer.parseInt(edad);\r\n\r\n        System.out.println(&quot;Te llamas &quot; + nombre_usuario + &quot; y tienes &quot; + edad + &quot; a&#241;os.&quot;);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI don&#39;t know what&#39;s the problem. Google hasn&#39;t been helpful either\r\n\r\n\r\nApparently Integer.parseInt() is the only way to make an integer from a string in Java so I&#39;m stuck","title":"The method parseInt(String) is undefined for the type Integer","body":"<p>I need to transform a string to an int using Integer.parseInt() or Integer.valueOf() but Visual Studio Code shows this error <em>The method parseInt(String) is undefined for the type Integer</em></p>\n<p>This is my code so far</p>\n<pre><code>import javax.swing.*;\nimport java.util.*;\npublic class entrada2 {\n\n    public static void main(String[] args) {\n\n        String nombre_usuario = JOptionPane.showInputDialog(&quot;Introduce tu nombre de usuario, por favor&quot;);\n        String edad = JOptionPane.showInputDialog(&quot;Introduce tu edad, por favor&quot;);\n\n        int age = Integer.parseInt(edad);\n\n        System.out.println(&quot;Te llamas &quot; + nombre_usuario + &quot; y tienes &quot; + edad + &quot; años.&quot;);\n\n    }\n\n\n}\n</code></pre>\n<p>I don't know what's the problem. Google hasn't been helpful either</p>\n<p>Apparently Integer.parseInt() is the only way to make an integer from a string in Java so I'm stuck</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":7286,"reputation":3224,"user_id":12604,"display_name":"Ryan Ransford"},"score":0,"creation_date":1383860390,"post_id":19847094,"comment_id":29516241,"body_markdown":"I&#39;m curious as to why you&#39;re using Jackson-specific annotations and not JAXB annotations. Jackson is primarily a framework for producing JSON, not XML, and as such, misses some of the features of JAXB.","body":"I&#39;m curious as to why you&#39;re using Jackson-specific annotations and not JAXB annotations. Jackson is primarily a framework for producing JSON, not XML, and as such, misses some of the features of JAXB."}],"answers":[{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1383860286,"creation_date":1383860286,"answer_id":19847185,"question_id":19847094,"body_markdown":"You should use [JacksonXmlText][1] annotation for `value` field.  \r\n\r\n    public class Element2 \r\n    {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String ns = &quot;yyy&quot;;\r\n        @JacksonXmlText\r\n        private String value;\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }  \r\nthen XML will looks like  \r\n\r\n    &lt;Root&gt;\r\n        &lt;Element1 ns=&quot;xxx&quot;&gt;\r\n            &lt;Element2 ns=&quot;yyy&quot;&gt;A String&lt;/Element2&gt;\r\n        &lt;/Element1&gt;\r\n    &lt;/Root&gt;\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.1.1/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html","title":"Jackson XML Annotations: String element with attribute","body":"<p>You should use <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.1.1/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html\">JacksonXmlText</a> annotation for <code>value</code> field.  </p>\n\n<pre><code>public class Element2 \n{\n    @JacksonXmlProperty(isAttribute = true)\n    private String ns = \"yyy\";\n    @JacksonXmlText\n    private String value;\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}  \n</code></pre>\n\n<p>then XML will looks like  </p>\n\n<pre><code>&lt;Root&gt;\n    &lt;Element1 ns=\"xxx\"&gt;\n        &lt;Element2 ns=\"yyy\"&gt;A String&lt;/Element2&gt;\n    &lt;/Element1&gt;\n&lt;/Root&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3344833,"reputation":872,"user_id":2810180,"accept_rate":75,"display_name":"flyingAssistant"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1613472979,"creation_date":1613472979,"answer_id":66223059,"question_id":19847094,"body_markdown":"For Kotlin, you need to use `@field` [annotation][1] use-site targets:\r\n\r\n    data class Element2(\r\n            @field:JacksonXmlProperty(isAttribute = true)\r\n            val ns: String = &quot;yyy&quot;,\r\n            @field:JacksonXmlText\r\n            val value: String? = null\r\n    )\r\n\r\nIf you don&#39;t like defining initial values for `ns` and `value` properties by yourself then use [Kotlin no-args plugin][2], which generates a default constructor instead.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\r\n  [2]: https://kotlinlang.org/docs/no-arg-plugin.html","title":"Jackson XML Annotations: String element with attribute","body":"<p>For Kotlin, you need to use <code>@field</code> <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">annotation</a> use-site targets:</p>\n<pre><code>data class Element2(\n        @field:JacksonXmlProperty(isAttribute = true)\n        val ns: String = &quot;yyy&quot;,\n        @field:JacksonXmlText\n        val value: String? = null\n)\n</code></pre>\n<p>If you don't like defining initial values for <code>ns</code> and <code>value</code> properties by yourself then use <a href=\"https://kotlinlang.org/docs/no-arg-plugin.html\" rel=\"nofollow noreferrer\">Kotlin no-args plugin</a>, which generates a default constructor instead.</p>\n"},{"tags":[],"owner":{"account_id":3873762,"reputation":135,"user_id":3208393,"accept_rate":20,"display_name":"JC Castano"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1679525358,"creation_date":1622841667,"answer_id":67844108,"question_id":19847094,"body_markdown":"To complement [flyingAssistant&#39;s answer](https://stackoverflow.com/a/66223059/3208393), you can&#39;t add @JacksonXmlText to a constructor property. This feature may be added in build 2.13 based off of this [issue](https://github.com/FasterXML/jackson-dataformat-xml/issues/423#issue-694858880) reported in the GitHub repository.\r\nSo for now you&#39;ll have to do this\r\n\r\n    data class Element2(@field:JacksonXmlProperty(isAttribute = true) val ns: String = &quot;yyy&quot;) {\r\n        @field:JacksonXmlText\r\n        val value: String? = null\r\n    }\r\n\r\n","title":"Jackson XML Annotations: String element with attribute","body":"<p>To complement <a href=\"https://stackoverflow.com/a/66223059/3208393\">flyingAssistant's answer</a>, you can't add @JacksonXmlText to a constructor property. This feature may be added in build 2.13 based off of this <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/423#issue-694858880\" rel=\"nofollow noreferrer\">issue</a> reported in the GitHub repository.\nSo for now you'll have to do this</p>\n<pre><code>data class Element2(@field:JacksonXmlProperty(isAttribute = true) val ns: String = &quot;yyy&quot;) {\n    @field:JacksonXmlText\n    val value: String? = null\n}\n</code></pre>\n"}],"owner":{"account_id":1025102,"reputation":1075,"user_id":1034586,"accept_rate":93,"display_name":"jtyler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63384,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":19847185,"answer_count":3,"score":43,"last_activity_date":1679525358,"creation_date":1383859889,"question_id":19847094,"body_markdown":"I can&#39;t seem to find a way to make a Pojo Using the jackson-xml annotations that would generate xml like the following:\r\n\r\n    &lt;Root&gt;\r\n        &lt;Element1 ns=&quot;xxx&quot;&gt;\r\n            &lt;Element2 ns=&quot;yyy&quot;&gt;A String&lt;/Element2&gt;\r\n        &lt;/Element1&gt;\r\n    &lt;/Root&gt;\r\n\r\n\r\nThe closest I can seem to come is the following:\r\n\r\n**Root POJO**:\r\n    \r\n    public class Root {\r\n        @JacksonXmlProperty(localName = &quot;Element1&quot;)\r\n        private Element1 element1;\r\n\r\n        public String getElement1() {\r\n            return element1;\r\n        }\r\n        \r\n        public void setElement1(String element1) {\r\n            this.element1 = element1;\r\n        }\r\n    }\r\n\r\n**Element1 POJO**:\r\n    \r\n    public class Element1 {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String ns = &quot;xxx&quot;;\r\n        @JacksonXmlProperty(localName = &quot;Element2&quot;)\r\n        private Element2 element2;\r\n\r\n        public String getElement2() {\r\n            return element2;\r\n        }\r\n       \r\n        public void setElement2(String element2) {\r\n            this.element2 = element2;\r\n        }\r\n    }\r\n\r\n**Element2 POJO**:\r\n    \r\n    public class Element2 {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String ns = &quot;yyy&quot;;\r\n        private String value;\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n        \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\nBut this returns back the following:\r\n\r\n    &lt;Root&gt;\r\n        &lt;Element1 ns=&quot;xxx&quot;&gt;\r\n            &lt;Element2 ns=&quot;yyy&quot;&gt;&lt;value&gt;A String&lt;/value&gt;&lt;/Element2&gt;\r\n        &lt;/Element1&gt;\r\n    &lt;/Root&gt;\r\n\r\nThe element tags around &quot;A String&quot; I do not want to display.","title":"Jackson XML Annotations: String element with attribute","body":"<p>I can't seem to find a way to make a Pojo Using the jackson-xml annotations that would generate xml like the following:</p>\n\n<pre><code>&lt;Root&gt;\n    &lt;Element1 ns=\"xxx\"&gt;\n        &lt;Element2 ns=\"yyy\"&gt;A String&lt;/Element2&gt;\n    &lt;/Element1&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>The closest I can seem to come is the following:</p>\n\n<p><strong>Root POJO</strong>:</p>\n\n<pre><code>public class Root {\n    @JacksonXmlProperty(localName = \"Element1\")\n    private Element1 element1;\n\n    public String getElement1() {\n        return element1;\n    }\n\n    public void setElement1(String element1) {\n        this.element1 = element1;\n    }\n}\n</code></pre>\n\n<p><strong>Element1 POJO</strong>:</p>\n\n<pre><code>public class Element1 {\n    @JacksonXmlProperty(isAttribute = true)\n    private String ns = \"xxx\";\n    @JacksonXmlProperty(localName = \"Element2\")\n    private Element2 element2;\n\n    public String getElement2() {\n        return element2;\n    }\n\n    public void setElement2(String element2) {\n        this.element2 = element2;\n    }\n}\n</code></pre>\n\n<p><strong>Element2 POJO</strong>:</p>\n\n<pre><code>public class Element2 {\n    @JacksonXmlProperty(isAttribute = true)\n    private String ns = \"yyy\";\n    private String value;\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n\n<p>But this returns back the following:</p>\n\n<pre><code>&lt;Root&gt;\n    &lt;Element1 ns=\"xxx\"&gt;\n        &lt;Element2 ns=\"yyy\"&gt;&lt;value&gt;A String&lt;/value&gt;&lt;/Element2&gt;\n    &lt;/Element1&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>The element tags around \"A String\" I do not want to display.</p>\n"},{"tags":["java","plugins","minecraft"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679525136,"creation_date":1679469574,"answer_id":75809364,"question_id":75807219,"body_markdown":"To change the direction of a sign, you should use the [`Rotatable`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/Rotatable.html) state as you are using `Sign` :\r\n\r\n```java\r\nif(b.getState().getBlockData() instanceof Rotatable) {\r\n\tBlockData bd = b.getState().getBlockData();\r\n\t((Rotatable) bd).setRotation(BlockFace.EAST);\r\n\tb.setBlockData(bd);\r\n\tb.getState().update();\r\n}\r\n// now it&#39;s direction east\r\n```\r\n[BlockFace enum](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/BlockFace.html)\r\n\r\nAlso, if you have a [`WallSign`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/type/WallSign.html), you will have access to this, so be sure it&#39;s a Sign and not a WallSign.","title":"How can I rotate a sign in spigot 1.19.3?","body":"<p>To change the direction of a sign, you should use the <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/Rotatable.html\" rel=\"nofollow noreferrer\"><code>Rotatable</code></a> state as you are using <code>Sign</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(b.getState().getBlockData() instanceof Rotatable) {\n    BlockData bd = b.getState().getBlockData();\n    ((Rotatable) bd).setRotation(BlockFace.EAST);\n    b.setBlockData(bd);\n    b.getState().update();\n}\n// now it's direction east\n</code></pre>\n<p><a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/BlockFace.html\" rel=\"nofollow noreferrer\">BlockFace enum</a></p>\n<p>Also, if you have a <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/type/WallSign.html\" rel=\"nofollow noreferrer\"><code>WallSign</code></a>, you will have access to this, so be sure it's a Sign and not a WallSign.</p>\n"}],"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75809364,"answer_count":1,"score":1,"last_activity_date":1679525136,"creation_date":1679441293,"question_id":75807219,"body_markdown":"I have a probleam about the signs in minecraft.\r\n\r\nI don&#39;t know how to rotate (north, south, east, west, using the view of player) them in JAVA using the spigot library. I try to do that with blockData and Facing, but don&#39;t work so well, then how can I do it?\r\n\r\n``` \r\nblock.setType(Material.OAK_SIGN); // Check if it gives problems to the code!\r\nif (block.getState() instanceof Sign) {\r\n   Sign new_sign = (Sign) block.getState();\r\n   new_sign.setLine(1, &quot;My line&quot;);\r\n   new_sign.update();\r\n}\r\n``` \r\nVersion of MC: 1.19.3","title":"How can I rotate a sign in spigot 1.19.3?","body":"<p>I have a probleam about the signs in minecraft.</p>\n<p>I don't know how to rotate (north, south, east, west, using the view of player) them in JAVA using the spigot library. I try to do that with blockData and Facing, but don't work so well, then how can I do it?</p>\n<pre><code>block.setType(Material.OAK_SIGN); // Check if it gives problems to the code!\nif (block.getState() instanceof Sign) {\n   Sign new_sign = (Sign) block.getState();\n   new_sign.setLine(1, &quot;My line&quot;);\n   new_sign.update();\n}\n</code></pre>\n<p>Version of MC: 1.19.3</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679525095,"creation_date":1679525095,"answer_id":75817878,"question_id":75816996,"body_markdown":"Reason why it happens is because h2 in-memory is considered embedded and will use default ddl=create-drop while h2 with file storage will use default ddl=none\r\n(see org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider -&gt; getDefaultDdlAuto())\r\n\r\n    class HibernateDefaultDdlAutoProvider implements SchemaManagementProvider {\r\n\r\n\tprivate final Iterable&lt;SchemaManagementProvider&gt; providers;\r\n\r\n\tHibernateDefaultDdlAutoProvider(Iterable&lt;SchemaManagementProvider&gt; providers) {\r\n\t\tthis.providers = providers;\r\n\t}\r\n\r\n\tString getDefaultDdlAuto(DataSource dataSource) {\r\n\t\tif (!EmbeddedDatabaseConnection.isEmbedded(dataSource)) {\r\n\t\t\treturn &quot;none&quot;;\r\n\t\t}\r\n\t\tSchemaManagement schemaManagement = getSchemaManagement(dataSource);\r\n\t\tif (SchemaManagement.MANAGED.equals(schemaManagement)) {\r\n\t\t\treturn &quot;none&quot;;\r\n\t\t}\r\n\t\treturn &quot;create-drop&quot;;\r\n\t}\r\n    \r\nThe reason why the in-memory is considered embeded you can see in the following predicate: `(url) -&gt; url.contains(&quot;:h2:mem&quot;)`\r\n\r\n    public enum EmbeddedDatabaseConnection {\r\n\r\n\t/**\r\n\t * No Connection.\r\n\t */\r\n\tNONE(null, null, null, (url) -&gt; false),\r\n\r\n\t/**\r\n\t * H2 Database Connection.\r\n\t */\r\n\tH2(EmbeddedDatabaseType.H2, DatabaseDriver.H2.getDriverClassName(),\r\n\t\t\t&quot;jdbc:h2:mem:%s;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;, (url) -&gt; url.contains(&quot;:h2:mem&quot;)),","title":"Table not getting created when persisting values in file system when using H2 database","body":"<p>Reason why it happens is because h2 in-memory is considered embedded and will use default ddl=create-drop while h2 with file storage will use default ddl=none\n(see org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider -&gt; getDefaultDdlAuto())</p>\n<pre><code>class HibernateDefaultDdlAutoProvider implements SchemaManagementProvider {\n\nprivate final Iterable&lt;SchemaManagementProvider&gt; providers;\n\nHibernateDefaultDdlAutoProvider(Iterable&lt;SchemaManagementProvider&gt; providers) {\n    this.providers = providers;\n}\n\nString getDefaultDdlAuto(DataSource dataSource) {\n    if (!EmbeddedDatabaseConnection.isEmbedded(dataSource)) {\n        return &quot;none&quot;;\n    }\n    SchemaManagement schemaManagement = getSchemaManagement(dataSource);\n    if (SchemaManagement.MANAGED.equals(schemaManagement)) {\n        return &quot;none&quot;;\n    }\n    return &quot;create-drop&quot;;\n}\n</code></pre>\n<p>The reason why the in-memory is considered embeded you can see in the following predicate: <code>(url) -&gt; url.contains(&quot;:h2:mem&quot;)</code></p>\n<pre><code>public enum EmbeddedDatabaseConnection {\n\n/**\n * No Connection.\n */\nNONE(null, null, null, (url) -&gt; false),\n\n/**\n * H2 Database Connection.\n */\nH2(EmbeddedDatabaseType.H2, DatabaseDriver.H2.getDriverClassName(),\n        &quot;jdbc:h2:mem:%s;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;, (url) -&gt; url.contains(&quot;:h2:mem&quot;)),\n</code></pre>\n"}],"owner":{"account_id":2237768,"reputation":75,"user_id":1973619,"accept_rate":56,"display_name":"Trooper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75817878,"answer_count":1,"score":0,"last_activity_date":1679525095,"creation_date":1679516969,"question_id":75816996,"body_markdown":"Am setting up a basic CRUD app in Spring and facing issue in automatic creation of table post app start **when persisting values in file system** instead of in-memory.\r\n\r\nBelow is my Entity class:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class PropertyEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String title;\r\n        private String description;\r\n        private String ownerName;\r\n        private String price;\r\n        private String address;\r\n        private String ownerEmail;\r\n    \r\n    }\r\n\r\nBelow is the H2 config in app.properties file:\r\n\r\n    spring.datasource.url=jdbc:h2:file:D:/coderunner/pmsdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.show-sql=true\r\n\r\nAfter the Spring application is started and I check the H2 console, I could see the table Property_Entity isn&#39;t present and when triggering saving of entity,  it throws below error:\r\n\r\n    org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\n    call next value for hibernate_sequence [90036-214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n\r\nHowever after adding below property, the table creation happens automatically on application start.\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nMy concern is when I use H2&#39;s in-memory storage for persisting values, I do not need to add the above ddl property and the table creation happens automatically.","title":"Table not getting created when persisting values in file system when using H2 database","body":"<p>Am setting up a basic CRUD app in Spring and facing issue in automatic creation of table post app start <strong>when persisting values in file system</strong> instead of in-memory.</p>\n<p>Below is my Entity class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class PropertyEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String title;\n    private String description;\n    private String ownerName;\n    private String price;\n    private String address;\n    private String ownerEmail;\n\n}\n</code></pre>\n<p>Below is the H2 config in app.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:D:/coderunner/pmsdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.show-sql=true\n</code></pre>\n<p>After the Spring application is started and I check the H2 console, I could see the table Property_Entity isn't present and when triggering saving of entity,  it throws below error:</p>\n<pre><code>org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\ncall next value for hibernate_sequence [90036-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n</code></pre>\n<p>However after adding below property, the table creation happens automatically on application start.</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>My concern is when I use H2's in-memory storage for persisting values, I do not need to add the above ddl property and the table creation happens automatically.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":42224,"reputation":3494,"user_id":122963,"accept_rate":67,"display_name":"Sunscreen"},"score":0,"creation_date":1321976613,"post_id":8229473,"comment_id":10120655,"body_markdown":"I can get the first value for a key by using the member function of HashMap::get though the third one? I cannot find any code unfortunately.","body":"I can get the first value for a key by using the member function of HashMap::get though the third one? I cannot find any code unfortunately."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":2,"creation_date":1321976729,"post_id":8229473,"comment_id":10120705,"body_markdown":"You cannot find your own code? That&#39;s what he is talking about.","body":"You cannot find your own code? That&#39;s what he is talking about."},{"owner":{"account_id":74366,"reputation":4315,"user_id":213727,"accept_rate":80,"display_name":"vaughandroid"},"score":1,"creation_date":1321976752,"post_id":8229473,"comment_id":10120713,"body_markdown":"Sounds like you might be a little confused about the difference between keys and hashed keys. Hopefully this will set you straight: http://en.wikipedia.org/wiki/Hashmap","body":"Sounds like you might be a little confused about the difference between keys and hashed keys. Hopefully this will set you straight: <a href=\"http://en.wikipedia.org/wiki/Hashmap\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hashmap</a>"},{"owner":{"account_id":478938,"reputation":1902,"user_id":891318,"accept_rate":93,"display_name":"Nathan Q"},"score":4,"creation_date":1321976762,"post_id":8229473,"comment_id":10120718,"body_markdown":"A Map can&#39;t have multiple values for one key, but you can have a Collection as value instead","body":"A Map can&#39;t have multiple values for one key, but you can have a Collection as value instead"}],"answers":[{"tags":[],"owner":{"account_id":1033541,"reputation":4351,"user_id":1041364,"accept_rate":18,"display_name":"Andrew Stubbs"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1321976568,"creation_date":1321976568,"answer_id":8229494,"question_id":8229473,"body_markdown":"A standard Java HashMap cannot store multiple values per key, any new entry you add will overwrite the previous one.","title":"HashMap: One Key, multiple Values","body":"<p>A standard Java HashMap cannot store multiple values per key, any new entry you add will overwrite the previous one.</p>\n"},{"tags":[],"owner":{"account_id":128692,"reputation":8440,"user_id":760641,"display_name":"solendil"},"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1528750149,"creation_date":1321976641,"answer_id":8229518,"question_id":8229473,"body_markdown":"Libraries exist to do this, but the simplest plain Java way is to create a `Map` of `List` like this:\r\n\r\n    Map&lt;Object,ArrayList&lt;Object&gt;&gt; multiMap = new HashMap&lt;&gt;();\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Libraries exist to do this, but the simplest plain Java way is to create a <code>Map</code> of <code>List</code> like this:</p>\n\n<pre><code>Map&lt;Object,ArrayList&lt;Object&gt;&gt; multiMap = new HashMap&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278826,"reputation":111,"user_id":573620,"display_name":"zhuwenger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1321976666,"creation_date":1321976666,"answer_id":8229528,"question_id":8229473,"body_markdown":"Try using collections to store the values of a key:\r\n\r\n    Map&lt;Key, Collection&lt;Value&gt;&gt;\r\n\r\nyou have to maintain the value list yourself","title":"HashMap: One Key, multiple Values","body":"<p>Try using collections to store the values of a key:</p>\n\n<pre><code>Map&lt;Key, Collection&lt;Value&gt;&gt;\n</code></pre>\n\n<p>you have to maintain the value list yourself</p>\n"},{"tags":[],"owner":{"account_id":167669,"reputation":11167,"user_id":392632,"accept_rate":100,"display_name":"oopbase"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1321976684,"creation_date":1321976684,"answer_id":8229533,"question_id":8229473,"body_markdown":"Have you got something like this?\r\n\r\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt;\r\n\r\nIf so, you can iterate through your ArrayList and get the item you like with arrayList.get(i).","title":"HashMap: One Key, multiple Values","body":"<p>Have you got something like this?</p>\n\n<pre><code>HashMap&lt;String, ArrayList&lt;String&gt;&gt;\n</code></pre>\n\n<p>If so, you can iterate through your ArrayList and get the item you like with arrayList.get(i).</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1599769078,"creation_date":1321976691,"answer_id":8229534,"question_id":8229473,"body_markdown":"It sounds like you&#39;re looking for a [*multimap*][1]. [Guava][2] has various [`Multimap`][3] implementations, usually created via the [`Multimaps`][4] class.\r\n\r\nI would suggest that using that implementation is likely to be simpler than rolling your own, working out what the API should look like, carefully checking for an existing list when adding a value etc. If your situation has a particular aversion to third party libraries it may be worth doing that, but otherwise Guava is a fabulous library which will probably help you with other code too :)\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Multimap\r\n  [2]: http://code.google.com/p/guava-libraries/\r\n  [3]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimap.java\r\n  [4]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimaps.java","title":"HashMap: One Key, multiple Values","body":"<p>It sounds like you're looking for a <a href=\"http://en.wikipedia.org/wiki/Multimap\" rel=\"noreferrer\"><em>multimap</em></a>. <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> has various <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimap.java\" rel=\"noreferrer\"><code>Multimap</code></a> implementations, usually created via the <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimaps.java\" rel=\"noreferrer\"><code>Multimaps</code></a> class.</p>\n<p>I would suggest that using that implementation is likely to be simpler than rolling your own, working out what the API should look like, carefully checking for an existing list when adding a value etc. If your situation has a particular aversion to third party libraries it may be worth doing that, but otherwise Guava is a fabulous library which will probably help you with other code too :)</p>\n"},{"tags":[],"owner":{"account_id":133167,"reputation":760,"user_id":334323,"accept_rate":80,"display_name":"jfabrizio"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1321977670,"creation_date":1321977670,"answer_id":8229791,"question_id":8229473,"body_markdown":"For example:\r\n\r\n    Map&lt;Object,Pair&lt;Integer,String&gt;&gt; multiMap = new HashMap&lt;Object,Pair&lt;Integer,String&gt;&gt;();\r\n\r\nwhere the `Pair` is a parametric class\r\n\r\n\t\r\n    public class Pair&lt;A, B&gt; {\r\n        A first = null;\r\n    \tB second = null;\r\n    \r\n    \tPair(A first, B second) {\r\n    \t\tthis.first = first;\r\n    \t\tthis.second = second;\r\n    \t}\r\n    \r\n    \tpublic A getFirst() {\r\n    \t\treturn first;\r\n    \t}\r\n    \r\n    \tpublic void setFirst(A first) {\r\n    \t\tthis.first = first;\r\n    \t}\r\n    \r\n    \tpublic B getSecond() {\r\n    \t\treturn second;\r\n    \t}\r\n    \r\n    \tpublic void setSecond(B second) {\r\n    \t\tthis.second = second;\r\n    \t}\r\n    \r\n    }","title":"HashMap: One Key, multiple Values","body":"<p>For example:</p>\n\n<pre><code>Map&lt;Object,Pair&lt;Integer,String&gt;&gt; multiMap = new HashMap&lt;Object,Pair&lt;Integer,String&gt;&gt;();\n</code></pre>\n\n<p>where the <code>Pair</code> is a parametric class</p>\n\n<pre><code>public class Pair&lt;A, B&gt; {\n    A first = null;\n    B second = null;\n\n    Pair(A first, B second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public A getFirst() {\n        return first;\n    }\n\n    public void setFirst(A first) {\n        this.first = first;\n    }\n\n    public B getSecond() {\n        return second;\n    }\n\n    public void setSecond(B second) {\n        this.second = second;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803740,"reputation":2123,"user_id":3156682,"accept_rate":75,"display_name":"J.R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390476314,"creation_date":1390476314,"answer_id":21306768,"question_id":8229473,"body_markdown":"Thinking about a Map with 2 keys immediately compelled me to use a user-defined key, and that would probably be a Class. Following is the key Class:\r\n\r\n\r\n    public class MapKey {\r\n    \tprivate Object key1;\r\n    \tprivate Object key2;\r\n    \r\n    \tpublic Object getKey1() {\r\n    \t\treturn key1;\r\n    \t}\r\n    \r\n    \tpublic void setKey1(Object key1) {\r\n    \t\tthis.key1 = key1;\r\n    \t}\r\n    \r\n    \tpublic Object getKey2() {\r\n    \t\treturn key2;\r\n    \t}\r\n    \r\n    \tpublic void setKey2(Object key2) {\r\n    \t\tthis.key2 = key2;\r\n    \t}\r\n    }\r\n\r\n\r\n    // Create first map entry with key &lt;A,B&gt;.\r\n    \t\tMapKey mapKey1 = new MapKey();\r\n    \t\tmapKey1.setKey1(&quot;A&quot;);\r\n    \t\tmapKey1.setKey2(&quot;B&quot;);\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Thinking about a Map with 2 keys immediately compelled me to use a user-defined key, and that would probably be a Class. Following is the key Class:</p>\n\n<pre><code>public class MapKey {\n    private Object key1;\n    private Object key2;\n\n    public Object getKey1() {\n        return key1;\n    }\n\n    public void setKey1(Object key1) {\n        this.key1 = key1;\n    }\n\n    public Object getKey2() {\n        return key2;\n    }\n\n    public void setKey2(Object key2) {\n        this.key2 = key2;\n    }\n}\n\n\n// Create first map entry with key &lt;A,B&gt;.\n        MapKey mapKey1 = new MapKey();\n        mapKey1.setKey1(\"A\");\n        mapKey1.setKey2(\"B\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887338,"reputation":89,"user_id":1706299,"display_name":"ozan.yarci"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1392906110,"creation_date":1392906110,"answer_id":21910569,"question_id":8229473,"body_markdown":"I found the blog on random search, i think this will help for doing this: http://tomjefferys.blogspot.com.tr/2011/09/multimaps-google-guava.html    \r\n\r\n    public class MutliMapTest {\r\n    public static void main(String... args) {\r\n       Multimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\r\n   \r\n       // Adding some key/value\r\n       myMultimap.put(&quot;Fruits&quot;, &quot;Bannana&quot;);\r\n       myMultimap.put(&quot;Fruits&quot;, &quot;Apple&quot;);\r\n       myMultimap.put(&quot;Fruits&quot;, &quot;Pear&quot;);\r\n       myMultimap.put(&quot;Vegetables&quot;, &quot;Carrot&quot;);\r\n   \r\n       // Getting the size\r\n       int size = myMultimap.size();\r\n       System.out.println(size);  // 4\r\n   \r\n       // Getting values\r\n       Collection&lt;String&gt; fruits = myMultimap.get(&quot;Fruits&quot;);\r\n       System.out.println(fruits); // [Bannana, Apple, Pear]\r\n   \r\n       Collection&lt;string&gt; vegetables = myMultimap.get(&quot;Vegetables&quot;);\r\n       System.out.println(vegetables); // [Carrot]\r\n   \r\n       // Iterating over entire Mutlimap\r\n       for(String value : myMultimap.values()) {\r\n          System.out.println(value);\r\n       }\r\n   \r\n       // Removing a single value\r\n       myMultimap.remove(&quot;Fruits&quot;,&quot;Pear&quot;);\r\n       System.out.println(myMultimap.get(&quot;Fruits&quot;)); // [Bannana, Pear]\r\n   \r\n       // Remove all values for a key\r\n       myMultimap.removeAll(&quot;Fruits&quot;);\r\n       System.out.println(myMultimap.get(&quot;Fruits&quot;)); // [] (Empty Collection!)\r\n    }\r\n    }","title":"HashMap: One Key, multiple Values","body":"<p>I found the blog on random search, i think this will help for doing this: <a href=\"http://tomjefferys.blogspot.com.tr/2011/09/multimaps-google-guava.html\" rel=\"noreferrer\">http://tomjefferys.blogspot.com.tr/2011/09/multimaps-google-guava.html</a>    </p>\n\n<pre><code>public class MutliMapTest {\npublic static void main(String... args) {\n   Multimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\n\n   // Adding some key/value\n   myMultimap.put(\"Fruits\", \"Bannana\");\n   myMultimap.put(\"Fruits\", \"Apple\");\n   myMultimap.put(\"Fruits\", \"Pear\");\n   myMultimap.put(\"Vegetables\", \"Carrot\");\n\n   // Getting the size\n   int size = myMultimap.size();\n   System.out.println(size);  // 4\n\n   // Getting values\n   Collection&lt;String&gt; fruits = myMultimap.get(\"Fruits\");\n   System.out.println(fruits); // [Bannana, Apple, Pear]\n\n   Collection&lt;string&gt; vegetables = myMultimap.get(\"Vegetables\");\n   System.out.println(vegetables); // [Carrot]\n\n   // Iterating over entire Mutlimap\n   for(String value : myMultimap.values()) {\n      System.out.println(value);\n   }\n\n   // Removing a single value\n   myMultimap.remove(\"Fruits\",\"Pear\");\n   System.out.println(myMultimap.get(\"Fruits\")); // [Bannana, Pear]\n\n   // Remove all values for a key\n   myMultimap.removeAll(\"Fruits\");\n   System.out.println(myMultimap.get(\"Fruits\")); // [] (Empty Collection!)\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1205166,"reputation":1369,"user_id":1174987,"accept_rate":75,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1679524876,"creation_date":1407785137,"answer_id":25250847,"question_id":8229473,"body_markdown":"This is what i found in a similar question&#39;s [answer][1]\r\n\r\n\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; hm = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    List&lt;String&gt; values = new ArrayList&lt;String&gt;();\r\n    values.add(&quot;Value 1&quot;);\r\n    values.add(&quot;Value 2&quot;);\r\n    hm.put(&quot;Key1&quot;, values);\r\n\r\n    // to get the arraylist\r\n    System.out.println(hm.get(&quot;Key1&quot;));\r\n\r\nRESULT: [Value 1, Value 2]\r\n    \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12536803/1174987","title":"HashMap: One Key, multiple Values","body":"<p>This is what i found in a similar question's <a href=\"https://stackoverflow.com/a/12536803/1174987\">answer</a></p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; hm = new HashMap&lt;String, List&lt;String&gt;&gt;();\nList&lt;String&gt; values = new ArrayList&lt;String&gt;();\nvalues.add(&quot;Value 1&quot;);\nvalues.add(&quot;Value 2&quot;);\nhm.put(&quot;Key1&quot;, values);\n\n// to get the arraylist\nSystem.out.println(hm.get(&quot;Key1&quot;));\n</code></pre>\n<p>RESULT: [Value 1, Value 2]</p>\n"},{"tags":[],"owner":{"account_id":11337551,"reputation":808,"user_id":8312884,"display_name":"Alwayss Bijoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512414190,"creation_date":1512414190,"answer_id":47640216,"question_id":8229473,"body_markdown":"HashMap – Single Key and Multiple Values Using List\r\n\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n            \r\n      // create list one and store values\r\n\r\n        List&lt;String&gt; One = new ArrayList&lt;String&gt;();\r\n        One.add(&quot;Apple&quot;);\r\n        One.add(&quot;Aeroplane&quot;);\r\n\r\n        // create list two and store values\r\n        List&lt;String&gt; Two = new ArrayList&lt;String&gt;();\r\n        Two.add(&quot;Bat&quot;);\r\n        Two.add(&quot;Banana&quot;);\r\n\r\n        // put values into map\r\n        map.put(&quot;A&quot;, One);\r\n        map.put(&quot;B&quot;, Two);\r\n        map.put(&quot;C&quot;, Three);","title":"HashMap: One Key, multiple Values","body":"<p>HashMap – Single Key and Multiple Values Using List</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n  // create list one and store values\n\n    List&lt;String&gt; One = new ArrayList&lt;String&gt;();\n    One.add(\"Apple\");\n    One.add(\"Aeroplane\");\n\n    // create list two and store values\n    List&lt;String&gt; Two = new ArrayList&lt;String&gt;();\n    Two.add(\"Bat\");\n    Two.add(\"Banana\");\n\n    // put values into map\n    map.put(\"A\", One);\n    map.put(\"B\", Two);\n    map.put(\"C\", Three);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3438884,"reputation":35,"user_id":5174376,"display_name":"thedeadalive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524048456,"creation_date":1519280768,"answer_id":48920938,"question_id":8229473,"body_markdown":"You can do something like this (add access modifiers as required):\r\n\r\n    Map&lt;String,Map&lt;String,String&gt;&gt; complexMap=new HashMap&lt;String,Map&lt;String,String&gt;&gt;();\r\n\r\nYou can insert data like this: \r\n\r\n        Map&lt;String,String&gt; componentMap = new HashMap&lt;String,String&gt;();\r\n        componentMap.put(&quot;foo&quot;,&quot;bar&quot;);\r\n        componentMap.put(&quot;secondFoo&quot;,&quot;secondBar&quot;);\r\n        complexMap.put(&quot;superFoo&quot;,componentMap);\r\n\r\nThe Generated Data Structure would be:\r\n\r\n    {superFoo={secondFoo=secondBar, foo=bar}}\r\n\r\n**This way each value for the key should have a unique identifier**. Also gives O(1) for fetches,if keys are known.","title":"HashMap: One Key, multiple Values","body":"<p>You can do something like this (add access modifiers as required):</p>\n\n<pre><code>Map&lt;String,Map&lt;String,String&gt;&gt; complexMap=new HashMap&lt;String,Map&lt;String,String&gt;&gt;();\n</code></pre>\n\n<p>You can insert data like this: </p>\n\n<pre><code>    Map&lt;String,String&gt; componentMap = new HashMap&lt;String,String&gt;();\n    componentMap.put(\"foo\",\"bar\");\n    componentMap.put(\"secondFoo\",\"secondBar\");\n    complexMap.put(\"superFoo\",componentMap);\n</code></pre>\n\n<p>The Generated Data Structure would be:</p>\n\n<pre><code>{superFoo={secondFoo=secondBar, foo=bar}}\n</code></pre>\n\n<p><strong>This way each value for the key should have a unique identifier</strong>. Also gives O(1) for fetches,if keys are known.</p>\n"},{"tags":[],"owner":{"account_id":6422573,"reputation":262,"user_id":4978849,"display_name":"George Arokiam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528749403,"creation_date":1528749403,"answer_id":50805643,"question_id":8229473,"body_markdown":"Write a new class that holds all the values that you need and use the new class&#39;s object as the value in your HashMap\r\n\r\n    HashMap&lt;String, MyObject&gt;\r\n    \r\n    class MyObject {\r\n    public String value1;\r\n    public int value2;\r\n    public List&lt;String&gt; value3;\r\n    }\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Write a new class that holds all the values that you need and use the new class's object as the value in your HashMap</p>\n\n<pre><code>HashMap&lt;String, MyObject&gt;\n\nclass MyObject {\npublic String value1;\npublic int value2;\npublic List&lt;String&gt; value3;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10006906,"reputation":2333,"user_id":7401054,"display_name":"Snowbases"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610701634,"creation_date":1541595040,"answer_id":53189800,"question_id":8229473,"body_markdown":"Here is the code how to get extract the hashmap into arrays, hashmap that contains arraylist\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; country_hashmap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \r\n    //Creating two lists and inserting some data in it\r\n    List&lt;String&gt; list_1 = new ArrayList&lt;String&gt;();\r\n    list_1.add(&quot;16873538.webp&quot;);\r\n    list_1.add(&quot;16873539.webp&quot;);\r\n    \r\n    List&lt;String&gt; list_2 = new ArrayList&lt;String&gt;();\r\n    list_2.add(&quot;16873540.webp&quot;);\r\n    list_2.add(&quot;16873541.webp&quot;);\r\n    \r\n    //Inserting both the lists and key to the Map \r\n    country_hashmap.put(&quot;Malaysia&quot;, list_1);\r\n    country_hashmap.put(&quot;Japanese&quot;, list_2);\r\n    \r\n    for(Map.Entry&lt;String, List&lt;String&gt;&gt; hashmap_data : country_hashmap.entrySet()){\r\n    \t  String key = hashmap_data.getKey(); // contains the keys\r\n    \t  List&lt;String&gt; val = hashmap_data.getValue(); // contains arraylists\r\n    \t  // print all the key and values in the hashmap\r\n    \t  System.out.println(key + &quot;: &quot; +val);\r\n    \t  \r\n    \t  // using interator to get the specific values arraylists\r\n    \t  Iterator&lt;String&gt; itr = val.iterator();\r\n    \t  int i = 0;\r\n    \t  String[] data = new String[val.size()];\r\n    \t\twhile (itr.hasNext()){\r\n    \t\t\tString array = itr.next();\r\n    \t\t\tdata[i] = array;\r\n    \t\t\tSystem.out.println(data[i]); // GET THE VALUE\r\n    \t\t\ti++;\r\n    \t\t}\r\n      }\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Here is the code how to get extract the hashmap into arrays, hashmap that contains arraylist</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; country_hashmap = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n//Creating two lists and inserting some data in it\nList&lt;String&gt; list_1 = new ArrayList&lt;String&gt;();\nlist_1.add(&quot;16873538.webp&quot;);\nlist_1.add(&quot;16873539.webp&quot;);\n\nList&lt;String&gt; list_2 = new ArrayList&lt;String&gt;();\nlist_2.add(&quot;16873540.webp&quot;);\nlist_2.add(&quot;16873541.webp&quot;);\n\n//Inserting both the lists and key to the Map \ncountry_hashmap.put(&quot;Malaysia&quot;, list_1);\ncountry_hashmap.put(&quot;Japanese&quot;, list_2);\n\nfor(Map.Entry&lt;String, List&lt;String&gt;&gt; hashmap_data : country_hashmap.entrySet()){\n      String key = hashmap_data.getKey(); // contains the keys\n      List&lt;String&gt; val = hashmap_data.getValue(); // contains arraylists\n      // print all the key and values in the hashmap\n      System.out.println(key + &quot;: &quot; +val);\n      \n      // using interator to get the specific values arraylists\n      Iterator&lt;String&gt; itr = val.iterator();\n      int i = 0;\n      String[] data = new String[val.size()];\n        while (itr.hasNext()){\n            String array = itr.next();\n            data[i] = array;\n            System.out.println(data[i]); // GET THE VALUE\n            i++;\n        }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596206977,"creation_date":1596201937,"answer_id":63192755,"question_id":8229473,"body_markdown":"Apache Commons collection classes is the solution.\r\n\r\n        MultiMap multiMapDemo = new MultiValueMap();\r\n\r\n        multiMapDemo .put(&quot;fruit&quot;, &quot;Mango&quot;);\r\n        multiMapDemo .put(&quot;fruit&quot;, &quot;Orange&quot;);\r\n        multiMapDemo.put(&quot;fruit&quot;, &quot;Blueberry&quot;);\r\n\r\n        System.out.println(multiMap.get(&quot;fruit&quot;));\r\n       // Mango Orange Blueberry\r\n\r\n\r\nMaven Dependency\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 -- \r\n         &gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n             &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n             &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Apache Commons collection classes is the solution.</p>\n<pre><code>    MultiMap multiMapDemo = new MultiValueMap();\n\n    multiMapDemo .put(&quot;fruit&quot;, &quot;Mango&quot;);\n    multiMapDemo .put(&quot;fruit&quot;, &quot;Orange&quot;);\n    multiMapDemo.put(&quot;fruit&quot;, &quot;Blueberry&quot;);\n\n    System.out.println(multiMap.get(&quot;fruit&quot;));\n   // Mango Orange Blueberry\n</code></pre>\n<p>Maven Dependency</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 -- \n     &gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n         &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n         &lt;version&gt;4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18027017,"reputation":47,"user_id":13102687,"display_name":"JKC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616403852,"creation_date":1616403852,"answer_id":66743027,"question_id":8229473,"body_markdown":"Apart from all the answers here, I have a solution that I used and found it most useful if you **know the length of multiple values to be added to your key.** \r\n\r\nIn my case, it was 2, so I opted for this over a `List&lt;string&gt;.`\r\n\r\n \r\n\r\n    HashMap&lt;String, String[]&gt; multimap= new HashMap&lt;&gt;();\r\n    multimap.put(&quot;my_key&quot;, new String[]{&quot;my_value1&quot;, &quot;my_value2&quot;});\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Apart from all the answers here, I have a solution that I used and found it most useful if you <strong>know the length of multiple values to be added to your key.</strong></p>\n<p>In my case, it was 2, so I opted for this over a <code>List&lt;string&gt;.</code></p>\n<pre><code>HashMap&lt;String, String[]&gt; multimap= new HashMap&lt;&gt;();\nmultimap.put(&quot;my_key&quot;, new String[]{&quot;my_value1&quot;, &quot;my_value2&quot;});\n</code></pre>\n"}],"owner":{"account_id":42224,"reputation":3494,"user_id":122963,"accept_rate":67,"display_name":"Sunscreen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313897,"favorite_count":0,"down_vote_count":3,"up_vote_count":85,"accepted_answer_id":8229518,"answer_count":15,"score":82,"last_activity_date":1679524876,"creation_date":1321976477,"question_id":8229473,"body_markdown":"How I can get the third value for the first key in this map? Is this possible?","title":"HashMap: One Key, multiple Values","body":"<p>How I can get the third value for the first key in this map? Is this possible?</p>\n"},{"tags":["java","android","android-studio","android-fragments","drag-and-drop"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1679532476,"post_id":75817850,"comment_id":133740719,"body_markdown":"You&#39;re creating a brand new `HomeFragment` in your `onNavigationItemSelected`. How is that ever going to have anything to do with the state of the previous fragment instance that you completely replaced and threw away? Are you looking for help with how your MainActivity swaps fragments or how your individual fragment should be [saving its state](https://developer.android.com/guide/fragments/saving-state) across configuration changes and process death and recreation? Because those are two completely separate problems.","body":"You&#39;re creating a brand new <code>HomeFragment</code> in your <code>onNavigationItemSelected</code>. How is that ever going to have anything to do with the state of the previous fragment instance that you completely replaced and threw away? Are you looking for help with how your MainActivity swaps fragments or how your individual fragment should be <a href=\"https://developer.android.com/guide/fragments/saving-state\" rel=\"nofollow noreferrer\">saving its state</a> across configuration changes and process death and recreation? Because those are two completely separate problems."},{"owner":{"account_id":20023537,"reputation":13,"user_id":14677916,"display_name":"johndo19"},"score":0,"creation_date":1679534247,"post_id":75817850,"comment_id":133740896,"body_markdown":"@ianhanniballake, the second part of your statement. I was going to change the replace in the onNavigationItemSelected for the home fragment to be like the widgetFragment one.","body":"@ianhanniballake, the second part of your statement. I was going to change the replace in the onNavigationItemSelected for the home fragment to be like the widgetFragment one."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1679536520,"post_id":75817850,"comment_id":133741128,"body_markdown":"Oh, because that `widgetFragment` approach won&#39;t work either (when you `replace()`, you&#39;re still throwing away all of the state the FragmentManager is saving for you). It looks like you&#39;ve already tried using `savedInstanceState`, which would be enough to handle things like rotating your device while on that fragment. What actually happened (since I assume that code wasn&#39;t enough if you&#39;re asking this question about saving state across config changes)?","body":"Oh, because that <code>widgetFragment</code> approach won&#39;t work either (when you <code>replace()</code>, you&#39;re still throwing away all of the state the FragmentManager is saving for you). It looks like you&#39;ve already tried using <code>savedInstanceState</code>, which would be enough to handle things like rotating your device while on that fragment. What actually happened (since I assume that code wasn&#39;t enough if you&#39;re asking this question about saving state across config changes)?"},{"owner":{"account_id":20023537,"reputation":13,"user_id":14677916,"display_name":"johndo19"},"score":0,"creation_date":1679544966,"post_id":75817850,"comment_id":133741976,"body_markdown":"@ianhanniballake So the widgetFragment just has a checkbox and I was able to get that fragment to save its state so it remembers if you checked the checkbox or not when switching the fragments. I was trying to do the same idea but for the homeFragment but that has elements that you drag and drop around and Im not sure how save the state of where all the elements are positioned and such. As you can tell, the commented out lines of code is me trying to do that and trying to incorporate it in MainActivity which definitely isnt working","body":"@ianhanniballake So the widgetFragment just has a checkbox and I was able to get that fragment to save its state so it remembers if you checked the checkbox or not when switching the fragments. I was trying to do the same idea but for the homeFragment but that has elements that you drag and drop around and Im not sure how save the state of where all the elements are positioned and such. As you can tell, the commented out lines of code is me trying to do that and trying to incorporate it in MainActivity which definitely isnt working"}],"owner":{"account_id":20023537,"reputation":13,"user_id":14677916,"display_name":"johndo19"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679524757,"creation_date":1679524757,"question_id":75817850,"body_markdown":"I have a HomeFragment that allows the user to drag and drop certain elements around, and I want to be able to that when you switch back to this fragment that the elements are still in their new positions after they have been dragged and dropped, and that their positions aren&#39;t resetted when you switch back to the HomeFragment. I&#39;m not sure if getSharedPreferences would be used here since the user could be frequently moving the elements around.\r\n\r\nHere is the HomeFragment.java and then the MainActivity.java\r\n\r\n```\r\npackage loon.si.weather_app;\r\n\r\nimport android.content.ClipData;\r\nimport android.content.ClipDescription;\r\nimport android.graphics.Color;\r\nimport android.graphics.PorterDuff;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.util.Log;\r\nimport android.view.DragEvent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\npublic class HomeFragment extends Fragment implements View.OnDragListener, View.OnLongClickListener {\r\n\r\n//    private static final String DRAGGED_STATE = &quot;string&quot;;\r\n    TextView txtVw;\r\n    ImageView imgVw;\r\n    Button btn;\r\n\r\n//    float x_pos;\r\n//    float y_pos;\r\n\r\n    @Override\r\n    public boolean onLongClick(View v) {\r\n        // Create a new ClipData.Item from the ImageView object&#39;s tag\r\n        ClipData.Item item = new ClipData.Item((CharSequence) v.getTag());\r\n        // Create a new ClipData using the tag as a label, the plain text MIME type, and\r\n        // the already-created item. This will create a new ClipDescription object within the\r\n        // ClipData, and set its MIME type entry to &quot;text/plain&quot;\r\n        String[] mimeTypes = {ClipDescription.MIMETYPE_TEXT_PLAIN};\r\n        ClipData data = new ClipData(v.getTag().toString(), mimeTypes, item);\r\n        // Instantiates the drag shadow builder.\r\n        View.DragShadowBuilder dragshadow = new View.DragShadowBuilder(v);\r\n        // Starts the drag\r\n        v.startDragAndDrop(data        // data to be dragged\r\n                , dragshadow   // drag shadow builder\r\n                , v           // local data about the drag and drop operation\r\n                , 0          // flags (not currently used, set to 0)\r\n        );\r\n        return true;\r\n    }\r\n\r\n    // This is the method that the system calls when it dispatches a drag event to the listener.\r\n    @Override\r\n    public boolean onDrag(View v, DragEvent event) {\r\n        // Defines a variable to store the action type for the incoming event\r\n        int action = event.getAction();\r\n        // Handles each of the expected events\r\n        switch (action) {\r\n\r\n            case DragEvent.ACTION_DRAG_STARTED:\r\n                // Determines if this View can accept the dragged data\r\n                if (event.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\r\n                    // if you want to apply color when drag started to your view you can uncomment below lines\r\n                    // to give any color tint to the View to indicate that it can accept data.\r\n                    // v.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\r\n                    // Invalidate the view to force a redraw in the new tint\r\n                    //  v.invalidate();\r\n                    // returns true to indicate that the View can accept the dragged data.\r\n                    return true;\r\n                }\r\n                // Returns false. During the current drag and drop operation, this View will\r\n                // not receive events again until ACTION_DRAG_ENDED is sent.\r\n                return false;\r\n\r\n            case DragEvent.ACTION_DRAG_ENTERED:\r\n                // Applies a GRAY or any color tint to the View. Return true; the return value is ignored.\r\n                v.getBackground().setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_IN);\r\n                // Invalidate the view to force a redraw in the new tint\r\n                v.invalidate();\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_LOCATION:\r\n                // Ignore the event\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_EXITED:\r\n                // Re-sets the color tint to blue. Returns true; the return value is ignored.\r\n                // view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\r\n                //It will clear a color filter .\r\n                v.getBackground().clearColorFilter();\r\n                // Invalidate the view to force a redraw in the new tint\r\n                v.invalidate();\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DROP:\r\n                // Gets the item containing the dragged data\r\n                ClipData.Item item = event.getClipData().getItemAt(0);\r\n                // Gets the text data from the item.\r\n                String dragData = item.getText().toString();\r\n                // Displays a message containing the dragged data.\r\n                Toast.makeText(getActivity(), &quot;Dragged data is &quot; + dragData, Toast.LENGTH_SHORT).show();\r\n                // Turns off any color tints\r\n                v.getBackground().clearColorFilter();\r\n                // Invalidates the view to force a redraw\r\n                v.invalidate();\r\n\r\n                View vw = (View) event.getLocalState();\r\n                ViewGroup owner = (ViewGroup) vw.getParent();\r\n                owner.removeView(vw); //remove the dragged view\r\n                //caste the view into LinearLayout as our drag acceptable layout is LinearLayout\r\n                LinearLayout container = (LinearLayout) v;\r\n                container.addView(vw);//Add the dragged view\r\n                vw.setVisibility(View.VISIBLE);//finally set Visibility to VISIBLE\r\n                // Returns true. DragEvent.getResult() will return true.\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_ENDED:\r\n                // Turns off any color tinting\r\n                v.getBackground().clearColorFilter();\r\n                // Invalidates the view to force a redraw\r\n                v.invalidate();\r\n                // Does a getResult(), and displays what happened.\r\n                if (event.getResult())\r\n                    Toast.makeText(getActivity(), &quot;The drop was handled.&quot;, Toast.LENGTH_SHORT).show();\r\n                else\r\n                    Toast.makeText(getActivity(), &quot;The drop didn&#39;t work.&quot;, Toast.LENGTH_SHORT).show();\r\n//                x_pos = event.getX();\r\n//                y_pos = event.getY();\r\n                // returns true; the value is ignored.\r\n                return true;\r\n            // An unknown action type was received.\r\n            default:\r\n                Log.e(&quot;DragDrop Example&quot;, &quot;Unknown action type received by OnDragListener.&quot;);\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View viewFragment = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        txtVw = viewFragment.findViewById(R.id.lbl);\r\n        txtVw.setTag(&quot;DRAGGABLE TEXTVIEW&quot;);\r\n        txtVw.setOnLongClickListener(this);\r\n\r\n        imgVw = viewFragment.findViewById(R.id.ingvw);\r\n        imgVw.setTag(&quot;ANDROID ICON&quot;);\r\n        imgVw.setOnLongClickListener(this);\r\n\r\n        btn = viewFragment.findViewById(R.id.btnDrag);\r\n        btn.setTag(&quot;DRAGGABLE BUTTON&quot;);\r\n        btn.setOnLongClickListener(this);\r\n\r\n        //Set Drag Event Listeners for defined layouts\r\n        viewFragment.findViewById(R.id.layout1).setOnDragListener(this);\r\n        viewFragment.findViewById(R.id.layout2).setOnDragListener(this);\r\n        viewFragment.findViewById(R.id.layout3).setOnDragListener(this);\r\n\r\n//        if (savedInstanceState != null) {\r\n//            // Restore last state for checked position.\r\n//            boolean clickable = savedInstanceState.getBoolean(DRAGGED_STATE, false);\r\n//            btn.setX(x_pos);\r\n//            btn.setY(y_pos);\r\n//        }\r\n\r\n        return viewFragment;\r\n    }\r\n\r\n//    @Override\r\n//    public void onSaveInstanceState(@NonNull Bundle savedInstanceState) {\r\n//        super.onSaveInstanceState(savedInstanceState);\r\n//        savedInstanceState.putBoolean(DRAGGED_STATE, btn.isClickable() );\r\n//    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage loon.si.weather_app;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport java.util.Objects;\r\n\r\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n    private WidgetFragment widgetFragment;\r\n//    private HomeFragment homeFragment;\r\n    private final String WIDGET_FRAGMENT_TAG = &quot;widgetfragmenttag&quot;;\r\n//    private final String HOME_FRAGMENT_TAG = &quot;homefragmenttag&quot;;\r\n    private DrawerLayout drawerLayout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        \r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open_nav, R.string.close_nav);\r\n\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n//        if (savedInstanceState == null) {\r\n//            getSupportFragmentManager().beginTransaction()\r\n//                    .replace(R.id.fragment_container, new HomeFragment()).commit();\r\n//            navigationView.setCheckedItem(R.id.nav_home);\r\n//        }\r\n\r\n        if (savedInstanceState != null) { // saved instance state, fragment may exist\r\n            // look up the instance that already exists by tag\r\n            widgetFragment = (WidgetFragment)\r\n                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\r\n        } else if (widgetFragment == null) {\r\n            // only create fragment if they haven&#39;t been instantiated already\r\n            widgetFragment = new WidgetFragment();\r\n        }\r\n\r\n//        if (savedInstanceState != null) { // saved instance state, fragment may exist\r\n//            // look up the instance that already exists by tag\r\n//            homeFragment = (HomeFragment)\r\n//                    getSupportFragmentManager().findFragmentByTag(HOME_FRAGMENT_TAG);\r\n//            widgetFragment = (WidgetFragment)\r\n//                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\r\n//        } else if (homeFragment == null) {\r\n//            // only create fragment if they haven&#39;t been instantiated already\r\n//            homeFragment = new HomeFragment();\r\n//        } else if (widgetFragment == null) {\r\n//            // only create fragment if they haven&#39;t been instantiated already\r\n//            widgetFragment = new WidgetFragment();\r\n//        }\r\n    }\r\n\r\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.nav_home:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new HomeFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_settings:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new SettingsFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_widget:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                widgetFragment, WIDGET_FRAGMENT_TAG).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_location:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new LocationFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.fragment_temp_api_demo:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new TempApiDemoFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_education:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new EducationFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_shopping:\r\n            getSupportFragmentManager().\r\n                    beginTransaction().\r\n                    replace(R.id.fragment_container,\r\n                            new ShoppingFragment()).\r\n                    commit();\r\n            break;\r\n\r\n            case R.id.nav_logout:\r\n                Toast.makeText(this, &quot;Logout Button Pressed&quot;,\r\n                        Toast.LENGTH_SHORT).\r\n                        show();\r\n                break;\r\n        }\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```","title":"How to save and restore fragment state that involves dragging and dropping elements? (Android Studio - Java)","body":"<p>I have a HomeFragment that allows the user to drag and drop certain elements around, and I want to be able to that when you switch back to this fragment that the elements are still in their new positions after they have been dragged and dropped, and that their positions aren't resetted when you switch back to the HomeFragment. I'm not sure if getSharedPreferences would be used here since the user could be frequently moving the elements around.</p>\n<p>Here is the HomeFragment.java and then the MainActivity.java</p>\n<pre><code>package loon.si.weather_app;\n\nimport android.content.ClipData;\nimport android.content.ClipDescription;\nimport android.graphics.Color;\nimport android.graphics.PorterDuff;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport android.util.Log;\nimport android.view.DragEvent;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\n\npublic class HomeFragment extends Fragment implements View.OnDragListener, View.OnLongClickListener {\n\n//    private static final String DRAGGED_STATE = &quot;string&quot;;\n    TextView txtVw;\n    ImageView imgVw;\n    Button btn;\n\n//    float x_pos;\n//    float y_pos;\n\n    @Override\n    public boolean onLongClick(View v) {\n        // Create a new ClipData.Item from the ImageView object's tag\n        ClipData.Item item = new ClipData.Item((CharSequence) v.getTag());\n        // Create a new ClipData using the tag as a label, the plain text MIME type, and\n        // the already-created item. This will create a new ClipDescription object within the\n        // ClipData, and set its MIME type entry to &quot;text/plain&quot;\n        String[] mimeTypes = {ClipDescription.MIMETYPE_TEXT_PLAIN};\n        ClipData data = new ClipData(v.getTag().toString(), mimeTypes, item);\n        // Instantiates the drag shadow builder.\n        View.DragShadowBuilder dragshadow = new View.DragShadowBuilder(v);\n        // Starts the drag\n        v.startDragAndDrop(data        // data to be dragged\n                , dragshadow   // drag shadow builder\n                , v           // local data about the drag and drop operation\n                , 0          // flags (not currently used, set to 0)\n        );\n        return true;\n    }\n\n    // This is the method that the system calls when it dispatches a drag event to the listener.\n    @Override\n    public boolean onDrag(View v, DragEvent event) {\n        // Defines a variable to store the action type for the incoming event\n        int action = event.getAction();\n        // Handles each of the expected events\n        switch (action) {\n\n            case DragEvent.ACTION_DRAG_STARTED:\n                // Determines if this View can accept the dragged data\n                if (event.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\n                    // if you want to apply color when drag started to your view you can uncomment below lines\n                    // to give any color tint to the View to indicate that it can accept data.\n                    // v.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\n                    // Invalidate the view to force a redraw in the new tint\n                    //  v.invalidate();\n                    // returns true to indicate that the View can accept the dragged data.\n                    return true;\n                }\n                // Returns false. During the current drag and drop operation, this View will\n                // not receive events again until ACTION_DRAG_ENDED is sent.\n                return false;\n\n            case DragEvent.ACTION_DRAG_ENTERED:\n                // Applies a GRAY or any color tint to the View. Return true; the return value is ignored.\n                v.getBackground().setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_IN);\n                // Invalidate the view to force a redraw in the new tint\n                v.invalidate();\n                return true;\n\n            case DragEvent.ACTION_DRAG_LOCATION:\n                // Ignore the event\n                return true;\n\n            case DragEvent.ACTION_DRAG_EXITED:\n                // Re-sets the color tint to blue. Returns true; the return value is ignored.\n                // view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\n                //It will clear a color filter .\n                v.getBackground().clearColorFilter();\n                // Invalidate the view to force a redraw in the new tint\n                v.invalidate();\n                return true;\n\n            case DragEvent.ACTION_DROP:\n                // Gets the item containing the dragged data\n                ClipData.Item item = event.getClipData().getItemAt(0);\n                // Gets the text data from the item.\n                String dragData = item.getText().toString();\n                // Displays a message containing the dragged data.\n                Toast.makeText(getActivity(), &quot;Dragged data is &quot; + dragData, Toast.LENGTH_SHORT).show();\n                // Turns off any color tints\n                v.getBackground().clearColorFilter();\n                // Invalidates the view to force a redraw\n                v.invalidate();\n\n                View vw = (View) event.getLocalState();\n                ViewGroup owner = (ViewGroup) vw.getParent();\n                owner.removeView(vw); //remove the dragged view\n                //caste the view into LinearLayout as our drag acceptable layout is LinearLayout\n                LinearLayout container = (LinearLayout) v;\n                container.addView(vw);//Add the dragged view\n                vw.setVisibility(View.VISIBLE);//finally set Visibility to VISIBLE\n                // Returns true. DragEvent.getResult() will return true.\n                return true;\n\n            case DragEvent.ACTION_DRAG_ENDED:\n                // Turns off any color tinting\n                v.getBackground().clearColorFilter();\n                // Invalidates the view to force a redraw\n                v.invalidate();\n                // Does a getResult(), and displays what happened.\n                if (event.getResult())\n                    Toast.makeText(getActivity(), &quot;The drop was handled.&quot;, Toast.LENGTH_SHORT).show();\n                else\n                    Toast.makeText(getActivity(), &quot;The drop didn't work.&quot;, Toast.LENGTH_SHORT).show();\n//                x_pos = event.getX();\n//                y_pos = event.getY();\n                // returns true; the value is ignored.\n                return true;\n            // An unknown action type was received.\n            default:\n                Log.e(&quot;DragDrop Example&quot;, &quot;Unknown action type received by OnDragListener.&quot;);\n                break;\n        }\n        return false;\n    }\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View viewFragment = inflater.inflate(R.layout.fragment_home, container, false);\n\n        txtVw = viewFragment.findViewById(R.id.lbl);\n        txtVw.setTag(&quot;DRAGGABLE TEXTVIEW&quot;);\n        txtVw.setOnLongClickListener(this);\n\n        imgVw = viewFragment.findViewById(R.id.ingvw);\n        imgVw.setTag(&quot;ANDROID ICON&quot;);\n        imgVw.setOnLongClickListener(this);\n\n        btn = viewFragment.findViewById(R.id.btnDrag);\n        btn.setTag(&quot;DRAGGABLE BUTTON&quot;);\n        btn.setOnLongClickListener(this);\n\n        //Set Drag Event Listeners for defined layouts\n        viewFragment.findViewById(R.id.layout1).setOnDragListener(this);\n        viewFragment.findViewById(R.id.layout2).setOnDragListener(this);\n        viewFragment.findViewById(R.id.layout3).setOnDragListener(this);\n\n//        if (savedInstanceState != null) {\n//            // Restore last state for checked position.\n//            boolean clickable = savedInstanceState.getBoolean(DRAGGED_STATE, false);\n//            btn.setX(x_pos);\n//            btn.setY(y_pos);\n//        }\n\n        return viewFragment;\n    }\n\n//    @Override\n//    public void onSaveInstanceState(@NonNull Bundle savedInstanceState) {\n//        super.onSaveInstanceState(savedInstanceState);\n//        savedInstanceState.putBoolean(DRAGGED_STATE, btn.isClickable() );\n//    }\n\n}\n\n</code></pre>\n<pre><code>package loon.si.weather_app;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.FragmentManager;\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\nimport java.util.Objects;\n\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    private WidgetFragment widgetFragment;\n//    private HomeFragment homeFragment;\n    private final String WIDGET_FRAGMENT_TAG = &quot;widgetfragmenttag&quot;;\n//    private final String HOME_FRAGMENT_TAG = &quot;homefragmenttag&quot;;\n    private DrawerLayout drawerLayout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        \n        drawerLayout = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open_nav, R.string.close_nav);\n\n        drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n\n//        if (savedInstanceState == null) {\n//            getSupportFragmentManager().beginTransaction()\n//                    .replace(R.id.fragment_container, new HomeFragment()).commit();\n//            navigationView.setCheckedItem(R.id.nav_home);\n//        }\n\n        if (savedInstanceState != null) { // saved instance state, fragment may exist\n            // look up the instance that already exists by tag\n            widgetFragment = (WidgetFragment)\n                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\n        } else if (widgetFragment == null) {\n            // only create fragment if they haven't been instantiated already\n            widgetFragment = new WidgetFragment();\n        }\n\n//        if (savedInstanceState != null) { // saved instance state, fragment may exist\n//            // look up the instance that already exists by tag\n//            homeFragment = (HomeFragment)\n//                    getSupportFragmentManager().findFragmentByTag(HOME_FRAGMENT_TAG);\n//            widgetFragment = (WidgetFragment)\n//                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\n//        } else if (homeFragment == null) {\n//            // only create fragment if they haven't been instantiated already\n//            homeFragment = new HomeFragment();\n//        } else if (widgetFragment == null) {\n//            // only create fragment if they haven't been instantiated already\n//            widgetFragment = new WidgetFragment();\n//        }\n    }\n\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()){\n            case R.id.nav_home:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new HomeFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_settings:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new SettingsFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_widget:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                widgetFragment, WIDGET_FRAGMENT_TAG).\n                        commit();\n                break;\n\n            case R.id.nav_location:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new LocationFragment()).\n                        commit();\n                break;\n\n            case R.id.fragment_temp_api_demo:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new TempApiDemoFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_education:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new EducationFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_shopping:\n            getSupportFragmentManager().\n                    beginTransaction().\n                    replace(R.id.fragment_container,\n                            new ShoppingFragment()).\n                    commit();\n            break;\n\n            case R.id.nav_logout:\n                Toast.makeText(this, &quot;Logout Button Pressed&quot;,\n                        Toast.LENGTH_SHORT).\n                        show();\n                break;\n        }\n        drawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","accessibility"],"comments":[{"owner":{"account_id":28647,"reputation":16449,"user_id":76714,"accept_rate":0,"display_name":"slugolicious"},"score":0,"creation_date":1679506949,"post_id":75813991,"comment_id":133735921,"body_markdown":"Isn&#39;t that a **user** option?  So you want to force a setting on the user?","body":"Isn&#39;t that a <b>user</b> option?  So you want to force a setting on the user?"},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1679508384,"post_id":75813991,"comment_id":133736308,"body_markdown":"Yes. I want to open the link in reader mode in chrome.","body":"Yes. I want to open the link in reader mode in chrome."}],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679523984,"creation_date":1679497514,"question_id":75813991,"body_markdown":"I need to enable &quot;Simplified View for Web Pages&quot; setting in Accessibility settings. Is there any way I can do this?\r\n\r\n[![Simplified View for Web Pages][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zV4wJ.png","title":"How to enable &quot;Simplified View for Web Pages&quot; setting programmatically","body":"<p>I need to enable &quot;Simplified View for Web Pages&quot; setting in Accessibility settings. Is there any way I can do this?</p>\n<p><a href=\"https://i.stack.imgur.com/zV4wJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zV4wJ.png\" alt=\"Simplified View for Web Pages\" /></a></p>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":4246842,"reputation":1327,"user_id":3475249,"display_name":"drkunibar"},"score":1,"creation_date":1412337152,"post_id":26177946,"comment_id":41044531,"body_markdown":"Remove the `@Lob` annotation. The `String` type an the length of 16777215 should make the mapping","body":"Remove the <code>@Lob</code> annotation. The <code>String</code> type an the length of 16777215 should make the mapping"},{"owner":{"account_id":8869,"reputation":5508,"user_id":16152,"accept_rate":81,"display_name":"homaxto"},"score":0,"creation_date":1412339625,"post_id":26177946,"comment_id":41045578,"body_markdown":"Thanks, drkunibar, but that does not help.","body":"Thanks, drkunibar, but that does not help."},{"owner":{"account_id":8869,"reputation":5508,"user_id":16152,"accept_rate":81,"display_name":"homaxto"},"score":0,"creation_date":1412583962,"post_id":26177946,"comment_id":41107201,"body_markdown":"@drkunibar, I found out that your suggestion actually worked. Together with an implementation of the MySQLDialect this solved my problem. At first I only tried the two things independently.","body":"@drkunibar, I found out that your suggestion actually worked. Together with an implementation of the MySQLDialect this solved my problem. At first I only tried the two things independently."}],"answers":[{"tags":[],"owner":{"account_id":20645,"reputation":5548,"user_id":49548,"accept_rate":94,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499679665,"creation_date":1499679665,"answer_id":45008664,"question_id":26177946,"body_markdown":"You can give Hibernate a hint about the data type:\r\n\r\n    @Column(name = &quot;data&quot;, length = 16777215, columnDefinition = &quot;mediumtext&quot;)","title":"Mapping of data types in hibernate","body":"<p>You can give Hibernate a hint about the data type:</p>\n\n<pre><code>@Column(name = \"data\", length = 16777215, columnDefinition = \"mediumtext\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679523906,"creation_date":1679523906,"answer_id":75817778,"question_id":26177946,"body_markdown":"Another way of handling this is to utilize liquibase to manage the schema creation.  This will ensure precise schemas to be created specific to the database vendor if needed.\r\n\r\nYou can utilize \r\n\r\n```\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=create\r\n```\r\n\r\nTo show the SQLs used to create on a local test database then pass the SQLs to ChatGPT in the following form\r\n\r\n&gt; convert\r\n&gt; ```\r\n&gt; create table assessment_record (id char(36) not null, created_on datetime(6) not null, data tinytext not null, recaptcha_score float(53) not null, primary key (id)) \r\n&gt; ``` \r\n&gt; to a liquibase YAML","title":"Mapping of data types in hibernate","body":"<p>Another way of handling this is to utilize liquibase to manage the schema creation.  This will ensure precise schemas to be created specific to the database vendor if needed.</p>\n<p>You can utilize</p>\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>To show the SQLs used to create on a local test database then pass the SQLs to ChatGPT in the following form</p>\n<blockquote>\n<p>convert</p>\n<pre><code>create table assessment_record (id char(36) not null, created_on datetime(6) not null, data tinytext not null, recaptcha_score float(53) not null, primary key (id)) \n</code></pre>\n<p>to a liquibase YAML</p>\n</blockquote>\n"}],"owner":{"account_id":8869,"reputation":5508,"user_id":16152,"accept_rate":81,"display_name":"homaxto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679523906,"creation_date":1412334745,"question_id":26177946,"body_markdown":"I have a scenario where a database column is of the data type `mediumtext`. My entity has the following interface:\r\n\r\n\t@Lob\r\n\t@Column(name = &quot;data&quot;, length = 16777215)\r\n\tpublic String getData() {\r\n\t\treturn this.data;\r\n\t}\r\n\r\nStill when I deploy to my server I get this error:\r\n\r\n    HibernateException: Wrong column type in dme42_apns.appboxdatastore for column data.\r\n    Found: mediumtext, expected: longtext\r\n\r\nI have tried making my own MySQLDialect with the following code which does not help:\r\n\r\n    @Override\r\n    protected void registerVarcharTypes() {\r\n        super.registerVarcharTypes();\r\n        registerColumnType(Types.VARCHAR, 16777215, &quot;mediumtext&quot;);\r\n        registerColumnType(Types.VARCHAR, 65535, &quot;text&quot;);\r\n    }\r\n\r\nDoes anyone have an idea, of why hibernate maps like this?","title":"Mapping of data types in hibernate","body":"<p>I have a scenario where a database column is of the data type <code>mediumtext</code>. My entity has the following interface:</p>\n\n<pre><code>@Lob\n@Column(name = \"data\", length = 16777215)\npublic String getData() {\n    return this.data;\n}\n</code></pre>\n\n<p>Still when I deploy to my server I get this error:</p>\n\n<pre><code>HibernateException: Wrong column type in dme42_apns.appboxdatastore for column data.\nFound: mediumtext, expected: longtext\n</code></pre>\n\n<p>I have tried making my own MySQLDialect with the following code which does not help:</p>\n\n<pre><code>@Override\nprotected void registerVarcharTypes() {\n    super.registerVarcharTypes();\n    registerColumnType(Types.VARCHAR, 16777215, \"mediumtext\");\n    registerColumnType(Types.VARCHAR, 65535, \"text\");\n}\n</code></pre>\n\n<p>Does anyone have an idea, of why hibernate maps like this?</p>\n"},{"tags":["java","spring-boot","security"],"owner":{"account_id":16115477,"reputation":523,"user_id":11632725,"display_name":"Alexander  Tukanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679523424,"creation_date":1679523424,"question_id":75817741,"body_markdown":"I have the following Spring security config\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http\r\n                    .csrf().disable()\r\n                    .cors().disable()\r\n                    .sessionManagement()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n    \r\n        }\r\n    }\r\n\r\nAnd I have endpoint `POST /users/id/send`\r\n\r\nThe problem is that regexMatchers checks only exact match. Sometime brower send to the server request with question mark (?) at the end.\r\nThe example: `/users/id/send?`\r\nSuch endpoint doesn&#39;t pass regexMatchers filter.\r\n\r\nI have solution: `.regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)`.\r\nBut I think it&#39;s not the best one. Is there a way to make it better?\r\n","title":"How to check the question mark at the end of regex security filter in spring boot","body":"<p>I have the following Spring security config</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .csrf().disable()\n                .cors().disable()\n                .sessionManagement()\n                .and()\n                .authorizeRequests()\n                .regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n\n    }\n}\n</code></pre>\n<p>And I have endpoint <code>POST /users/id/send</code></p>\n<p>The problem is that regexMatchers checks only exact match. Sometime brower send to the server request with question mark (?) at the end.\nThe example: <code>/users/id/send?</code>\nSuch endpoint doesn't pass regexMatchers filter.</p>\n<p>I have solution: <code>.regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)</code>.\nBut I think it's not the best one. Is there a way to make it better?</p>\n"},{"tags":["java","javafx"],"owner":{"account_id":8370514,"reputation":27,"user_id":6285781,"display_name":"Tretonis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679522147,"answer_count":0,"score":0,"last_activity_date":1679521443,"creation_date":1679521443,"question_id":75817508,"body_markdown":"How to get the dimensions of a Label before it is painted in the scene?.\r\nJavaFX 19\r\nIn some previous version this same code worked correctly.\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n        public class LabelBoundsExample extends Application {\r\n        \r\n            @Override\r\n            public void start(Stage primaryStage) throws Exception {\r\n                Label label = new Label(&quot;Hello World!&quot;);\r\n                StackPane root = new StackPane(label);\r\n                Scene scene = new Scene(root, 400, 400);\r\n         \r\n                Bounds labelBounds = label.getBoundsInLocal();\r\n                  \r\n                System.out.println(&quot;Label width: &quot; + labelBounds.getWidth());\r\n                System.out.println(&quot;Label height: &quot; + labelBounds.getHeight());\r\n        \r\n                primaryStage.setScene(scene);\r\n                primaryStage.show();\r\n            }\r\n        \r\n            public static void main(String[] args) {\r\n                launch(args);\r\n            }\r\n        }\r\n\r\n","title":"How to get the dimensions of a Label before it is painted in the scene","body":"<p>How to get the dimensions of a Label before it is painted in the scene?.\nJavaFX 19\nIn some previous version this same code worked correctly.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n    public class LabelBoundsExample extends Application {\n    \n        @Override\n        public void start(Stage primaryStage) throws Exception {\n            Label label = new Label(&quot;Hello World!&quot;);\n            StackPane root = new StackPane(label);\n            Scene scene = new Scene(root, 400, 400);\n     \n            Bounds labelBounds = label.getBoundsInLocal();\n              \n            System.out.println(&quot;Label width: &quot; + labelBounds.getWidth());\n            System.out.println(&quot;Label height: &quot; + labelBounds.getHeight());\n    \n            primaryStage.setScene(scene);\n            primaryStage.show();\n        }\n    \n        public static void main(String[] args) {\n            launch(args);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1679521963,"post_id":75817498,"comment_id":133739238,"body_markdown":"As instructed in [ask], can you please write a descriptive, non-ambiguous title? For more guidance, see [How do I write a good title?](//meta.stackexchange.com/q/10647/997587)","body":"As instructed in <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, can you please write a descriptive, non-ambiguous title? For more guidance, see <a href=\"//meta.stackexchange.com/q/10647/997587\">How do I write a good title?</a>"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679521918,"answer_count":0,"score":0,"last_activity_date":1679521368,"creation_date":1679521368,"question_id":75817498,"body_markdown":"Below is my code snippet.\r\n \r\n\r\n    public static void main(String[] args) {\r\n            ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n            arr.add(0);\r\n            arr.add(1);\r\n            arr.add(2);\r\n            arr.add(3);\r\n            \r\n            Iterator&lt;Integer&gt; iterator = arr.iterator();\r\n            while(iterator.hasNext()){\r\n                Integer val = iterator.next();//I was expecting ConCurrentModificationException\r\n                System.out.println(val);\r\n                if(val.equals(2)){\r\n                    \r\n                    arr.remove(0);\r\n                }\r\n                \r\n            }\r\n        }\r\n   However, it did not throw any exceptions. However, if I do something like below\r\n\r\n    if(val.equals(1)){\r\n                        \r\n                        arr.remove(0);\r\n                    }\r\n it would undoubtedly throw a `ConcurrentModificationException`. so in a nutshell, whenever I check 2nd last element it doesn&#39;t throw an exception, barring it every time it throws. what I understand is like this below:\r\n\r\n\r\n*The reason I&#39;m not getting a `ConcurrentModificationException` is that the Iterator is not aware of the modification made to the ArrayList through the `remove()` method. This is because the Iterator implementation in Java does not always throw a `ConcurrentModificationException` when the `ArrayList` is modified directly. Instead, the Iterator implementation relies on a flag called `modCount` that is incremented every time a modification is made to the `ArrayList`. If the `modCount` does not match the expected value, the ConcurrentModificationException is thrown. However, in my case, the `modCount` value is not being updated correctly.*\r\n\r\n\r\nbut I see this as constant behavior I am seeing. can anyone please explain how this is happening?\r\n\r\n\r\n\r\n","title":"Java Iterator implementation","body":"<p>Below is my code snippet.</p>\n<pre><code>public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n        arr.add(0);\n        arr.add(1);\n        arr.add(2);\n        arr.add(3);\n        \n        Iterator&lt;Integer&gt; iterator = arr.iterator();\n        while(iterator.hasNext()){\n            Integer val = iterator.next();//I was expecting ConCurrentModificationException\n            System.out.println(val);\n            if(val.equals(2)){\n                \n                arr.remove(0);\n            }\n            \n        }\n    }\n</code></pre>\n<p>However, it did not throw any exceptions. However, if I do something like below</p>\n<pre><code>if(val.equals(1)){\n                    \n                    arr.remove(0);\n                }\n</code></pre>\n<p>it would undoubtedly throw a <code>ConcurrentModificationException</code>. so in a nutshell, whenever I check 2nd last element it doesn't throw an exception, barring it every time it throws. what I understand is like this below:</p>\n<p><em>The reason I'm not getting a <code>ConcurrentModificationException</code> is that the Iterator is not aware of the modification made to the ArrayList through the <code>remove()</code> method. This is because the Iterator implementation in Java does not always throw a <code>ConcurrentModificationException</code> when the <code>ArrayList</code> is modified directly. Instead, the Iterator implementation relies on a flag called <code>modCount</code> that is incremented every time a modification is made to the <code>ArrayList</code>. If the <code>modCount</code> does not match the expected value, the ConcurrentModificationException is thrown. However, in my case, the <code>modCount</code> value is not being updated correctly.</em></p>\n<p>but I see this as constant behavior I am seeing. can anyone please explain how this is happening?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1679501126,"post_id":75814597,"comment_id":133734337,"body_markdown":"Oracle no longer ships/releases a standalone JRE [since Java 11](https://www.oracle.com/java/technologies/javase/11-relnote-issues.html). The only official package by Oracle (and most other vendors that provide OpenJDK based Java) is the JDK. With `jlink` developers can *build* a &quot;lightweight JDK&quot; with only the parts they want, which is *similar* to a JRE, but more customized. The JDK **includes** the JVM (just like the JRE did).","body":"Oracle no longer ships/releases a standalone JRE <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">since Java 11</a>. The only official package by Oracle (and most other vendors that provide OpenJDK based Java) is the JDK. With <code>jlink</code> developers can <i>build</i> a &quot;lightweight JDK&quot; with only the parts they want, which is <i>similar</i> to a JRE, but more customized. The JDK <b>includes</b> the JVM (just like the JRE did)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679521220,"creation_date":1679503776,"answer_id":75815097,"question_id":75814597,"body_markdown":"# tl;dr\r\n\r\nA [Java Virtual Machine (JVM)][1] is included in every JDK.\r\n\r\nSeveral vendors provide JDK products. \r\n\r\nThe JDK can be installed anywhere on your Mac. Commonly placed in `/Library/Java/JavaVirtualMachines/`, but not exclusively. \r\n\r\nA JRE is a JDK without some development tools.  Little need for JRE nowadays, though some vendors offer JREs.\r\n\r\nWhen in doubt, head to [Adoptium.net][2].\r\n\r\n# Details\r\n\r\nYou have a choice of several [Java Development Kit (JDK)][3] vendors. They include, in no particular order: *Adoptium, Azul Systems, BellSoft, Amazon, Red Hat, IBM, Oracle, SAP, Microsoft,* and others. \r\n\r\nMost of the JDK products shipped by these vendors are based largely, if not entirely, on the codebase of the [OpenJDK][4] project.\r\n\r\nSome JDK products are free-of-cost, some are commercial  products requiring a fee. Be sure to study the terms.\r\n\r\nSome of those vendors offer a [Java Runtime Environment (JRE)][5] edition of their JDK product. This simply means omitting some of the tools used by software developers. A JRE is meant for end-user machines.\r\n\r\nThe need for a JRE has nearly gone now that:\r\n\r\n - [*Java Applet*][6] technology is no longer supported by any browser maker, nor by Oracle. \r\n - [*Java Web Start*][7] is being phased out by Oracle, though an open-source implementation lives on at the [*OpenWebStart*][8] project.\r\n\r\nFor details, see the 2020-05 white paper by Oracle, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf)\r\n\r\nSo nowadays end-users are no longer expected to have a JDK/JRE already installed on their computer. Instead, you are expected to **have a Java runtime bundled within your app**. See the [*jlink*][9] and [*jpackage*][10] tools. And understand the [Java Platform Module System (JPMS)][11] in Java 9+.\r\n\r\nYou asked:\r\n\r\n&gt;I want to know where is the JVM located on my Mac?\r\n\r\nAnywhere. \r\n\r\nApple suggests putting any separate Java installation in `/Library/Java/JavaVirtualMachines/`. This location is usually the default for any JDK installer you obtain from a JDK vendor. \r\n\r\n[*IntelliJ*][12] IDE can [download and install a JDK][13] in its own location. I don’t recall where. \r\n\r\nThe [*SDKMAN!*][14] utility can download and install a a JDK in its own location. I don’t recall where.\r\n\r\nDitto for [*Homebrew*,][15] I believe,  though I’ve never used it. \r\n\r\n\r\n----------\r\n\r\nIf you feel overwhelmed by all the info and choices, I suggest heading to [Adoptium][2] (a group effort by various vendors &amp; the [Eclipse Foundation][16]) to download an installer for your Mac. Be sure to choose the edition for your Mac’s chip architecture:  Intel ([x86-64][17]) or Apple Silicon [M series][18] (ARM, Aarch64).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [2]: https://adoptium.net/\r\n  [3]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [4]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [5]: https://en.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\r\n  [6]: https://en.wikipedia.org/wiki/Java_applet\r\n  [7]: https://en.wikipedia.org/wiki/Java_Web_Start\r\n  [8]: https://openwebstart.com/\r\n  [9]: https://openjdk.org/jeps/282\r\n  [10]: https://openjdk.org/jeps/392\r\n  [11]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [12]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [13]: https://www.jetbrains.com/idea/guide/tips/download-jdk/\r\n  [14]: https://sdkman.io/\r\n  [15]: https://en.wikipedia.org/wiki/Homebrew_(package_manager)\r\n  [16]: https://en.wikipedia.org/wiki/Eclipse_Foundation\r\n  [17]: https://en.wikipedia.org/wiki/X86-64\r\n  [18]: https://en.wikipedia.org/wiki/Apple_silicon#M_series","title":"Where is the JVM program located on MacOS?","body":"<h1>tl;dr</h1>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">Java Virtual Machine (JVM)</a> is included in every JDK.</p>\n<p>Several vendors provide JDK products.</p>\n<p>The JDK can be installed anywhere on your Mac. Commonly placed in <code>/Library/Java/JavaVirtualMachines/</code>, but not exclusively.</p>\n<p>A JRE is a JDK without some development tools.  Little need for JRE nowadays, though some vendors offer JREs.</p>\n<p>When in doubt, head to <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium.net</a>.</p>\n<h1>Details</h1>\n<p>You have a choice of several <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">Java Development Kit (JDK)</a> vendors. They include, in no particular order: <em>Adoptium, Azul Systems, BellSoft, Amazon, Red Hat, IBM, Oracle, SAP, Microsoft,</em> and others.</p>\n<p>Most of the JDK products shipped by these vendors are based largely, if not entirely, on the codebase of the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project.</p>\n<p>Some JDK products are free-of-cost, some are commercial  products requiring a fee. Be sure to study the terms.</p>\n<p>Some of those vendors offer a <a href=\"https://en.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\" rel=\"nofollow noreferrer\">Java Runtime Environment (JRE)</a> edition of their JDK product. This simply means omitting some of the tools used by software developers. A JRE is meant for end-user machines.</p>\n<p>The need for a JRE has nearly gone now that:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_applet\" rel=\"nofollow noreferrer\"><em>Java Applet</em></a> technology is no longer supported by any browser maker, nor by Oracle.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_Web_Start\" rel=\"nofollow noreferrer\"><em>Java Web Start</em></a> is being phased out by Oracle, though an open-source implementation lives on at the <a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a> project.</li>\n</ul>\n<p>For details, see the 2020-05 white paper by Oracle, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a></p>\n<p>So nowadays end-users are no longer expected to have a JDK/JRE already installed on their computer. Instead, you are expected to <strong>have a Java runtime bundled within your app</strong>. See the <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><em>jlink</em></a> and <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><em>jpackage</em></a> tools. And understand the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System (JPMS)</a> in Java 9+.</p>\n<p>You asked:</p>\n<blockquote>\n<p>I want to know where is the JVM located on my Mac?</p>\n</blockquote>\n<p>Anywhere.</p>\n<p>Apple suggests putting any separate Java installation in <code>/Library/Java/JavaVirtualMachines/</code>. This location is usually the default for any JDK installer you obtain from a JDK vendor.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> IDE can <a href=\"https://www.jetbrains.com/idea/guide/tips/download-jdk/\" rel=\"nofollow noreferrer\">download and install a JDK</a> in its own location. I don’t recall where.</p>\n<p>The <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\"><em>SDKMAN!</em></a> utility can download and install a a JDK in its own location. I don’t recall where.</p>\n<p>Ditto for <a href=\"https://en.wikipedia.org/wiki/Homebrew_(package_manager)\" rel=\"nofollow noreferrer\"><em>Homebrew</em>,</a> I believe,  though I’ve never used it.</p>\n<hr />\n<p>If you feel overwhelmed by all the info and choices, I suggest heading to <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a> (a group effort by various vendors &amp; the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>) to download an installer for your Mac. Be sure to choose the edition for your Mac’s chip architecture:  Intel (<a href=\"https://en.wikipedia.org/wiki/X86-64\" rel=\"nofollow noreferrer\">x86-64</a>) or Apple Silicon <a href=\"https://en.wikipedia.org/wiki/Apple_silicon#M_series\" rel=\"nofollow noreferrer\">M series</a> (ARM, Aarch64).</p>\n"}],"owner":{"account_id":22051693,"reputation":61,"user_id":16317008,"display_name":"Shaowen Zhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679521220,"creation_date":1679500708,"question_id":75814597,"body_markdown":"I saw many websites say JRE is included in the JDK, when I download JDK `macOS Arm 64 Compressed Archive`(not the `dmg` file), and unpacked this file, but I didn&#39;t find the JRE folder. \r\n\r\n\r\nAnd then I found [the oracle seems say](https://docs.oracle.com/javase/10/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350) the JRE is separated from JDK, so that some people who only want the java run time environment can get what exactly they want. And the JVM is in the `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/`, but there is empty under my `/Library/Internet Plug-Ins/` folder, I know probably because I didn&#39;t install the `dmg` file for installing JDK. \r\n\r\n---\r\n\r\nBut there must be somewhere that has JVM file, otherwise I won&#39;t be able to run my java code, is this correct? I want to know where is the JVM located on my Mac? \r\n\r\nThe information on my Mac:\r\n```bash\r\nls /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/\r\nLICENSE bin     include legal   man README  conf    jmods   lib     release\r\n\r\nls ~/Downloads/Programs/jdk-17-0-3-1/Home/\r\nLICENSE README  bin     conf    include jmods   legal   lib \r\n\r\njava -version \r\njava version &quot;19.0.1&quot; 2022-10-18\r\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing) \r\n```","title":"Where is the JVM program located on MacOS?","body":"<p>I saw many websites say JRE is included in the JDK, when I download JDK <code>macOS Arm 64 Compressed Archive</code>(not the <code>dmg</code> file), and unpacked this file, but I didn't find the JRE folder.</p>\n<p>And then I found <a href=\"https://docs.oracle.com/javase/10/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350\" rel=\"nofollow noreferrer\">the oracle seems say</a> the JRE is separated from JDK, so that some people who only want the java run time environment can get what exactly they want. And the JVM is in the <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/</code>, but there is empty under my <code>/Library/Internet Plug-Ins/</code> folder, I know probably because I didn't install the <code>dmg</code> file for installing JDK.</p>\n<hr />\n<p>But there must be somewhere that has JVM file, otherwise I won't be able to run my java code, is this correct? I want to know where is the JVM located on my Mac?</p>\n<p>The information on my Mac:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ls /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/\nLICENSE bin     include legal   man README  conf    jmods   lib     release\n\nls ~/Downloads/Programs/jdk-17-0-3-1/Home/\nLICENSE README  bin     conf    include jmods   legal   lib \n\njava -version \njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing) \n</code></pre>\n"},{"tags":["java","jpa","orm","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679504401,"post_id":75810072,"comment_id":133735268,"body_markdown":"Are you sure your orm.xml file is being picked up? Seems similar but very opposite to the problem in https://bugs.eclipse.org/bugs/show_bug.cgi?id=445466 where the schema was used twice, and there should be a unit test in the code to verify this works. Is this problem only with DDL generation of the table? (ie if you manually create the mySchema.SEQUENCE table and first entry, does the code run?)","body":"Are you sure your orm.xml file is being picked up? Seems similar but very opposite to the problem in <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=445466\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=445466</a> where the schema was used twice, and there should be a unit test in the code to verify this works. Is this problem only with DDL generation of the table? (ie if you manually create the mySchema.SEQUENCE table and first entry, does the code run?)"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1679505318,"post_id":75810072,"comment_id":133735500,"body_markdown":"Why would the ddl contain _mySchema_.tableA etc. if it did not pick up on the orm-file? And yes, I do get a warning at startup that the SEQUENCE table is missing. As a workaround, I have a piece of code that explicitly creates the sequence table via EntityManager#createNativeQuery (if missing). After doing that, I can work with entities as expected.","body":"Why would the ddl contain <i>mySchema</i>.tableA etc. if it did not pick up on the orm-file? And yes, I do get a warning at startup that the SEQUENCE table is missing. As a workaround, I have a piece of code that explicitly creates the sequence table via EntityManager#createNativeQuery (if missing). After doing that, I can work with entities as expected."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1679510571,"post_id":75810072,"comment_id":133736802,"body_markdown":"I&#39;m not clear on your workaround or your answer- are you saying that the issue IS only with DDL? Are you creating the &#39;mySchema.SEQUENCE&#39; table and the app is working after?","body":"I&#39;m not clear on your workaround or your answer- are you saying that the issue IS only with DDL? Are you creating the &#39;mySchema.SEQUENCE&#39; table and the app is working after?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679511403,"post_id":75810072,"comment_id":133736971,"body_markdown":"As for why it would pick up &#39;mySchema&#39; on your tables - there are many ways to set the schema in EclipseLink outside of the orm.xml. For all I know, you could have customizer set that runs across all descriptors (entities) and sets the schema to &#39;mySchema&#39;, and just have missed the sequence table (which doesn&#39;t have a descriptor). Or a separate ORM file somewhere that IS picked up that defines each entity and sets their schema. File a bug if you can reproduce this simply and go through paid support if you want instead (Oracle and IBM both support this I believe)","body":"As for why it would pick up &#39;mySchema&#39; on your tables - there are many ways to set the schema in EclipseLink outside of the orm.xml. For all I know, you could have customizer set that runs across all descriptors (entities) and sets the schema to &#39;mySchema&#39;, and just have missed the sequence table (which doesn&#39;t have a descriptor). Or a separate ORM file somewhere that IS picked up that defines each entity and sets their schema. File a bug if you can reproduce this simply and go through paid support if you want instead (Oracle and IBM both support this I believe)"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1679521435,"post_id":75810072,"comment_id":133739147,"body_markdown":"Thanks for your comments! I&#39;ve edited the current workaround into the question; hopefully this clears things up. As the orm-file and my PersistenceTool class are the only two places (as per IntelliJs full text search) containing &quot;mySchema&quot;, I don&#39;t think eclipselink could have picked that up from anywhere else. Maybe I&#39;ll try to reproduce in an even smaller project to investigate a bit further and/or file a bug-report. But as I&#39;m just playing around in a small spare-time application, its not a super pressing issue.","body":"Thanks for your comments! I&#39;ve edited the current workaround into the question; hopefully this clears things up. As the orm-file and my PersistenceTool class are the only two places (as per IntelliJs full text search) containing &quot;mySchema&quot;, I don&#39;t think eclipselink could have picked that up from anywhere else. Maybe I&#39;ll try to reproduce in an even smaller project to investigate a bit further and/or file a bug-report. But as I&#39;m just playing around in a small spare-time application, its not a super pressing issue."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1679525631,"post_id":75810072,"comment_id":133739901,"body_markdown":"So it is just a DDL issue. You can create the DDL scripts and manually edit them as required, or a more production level security conscious approach might be to create the scripts without the schema and then run them separately as a particular user with table creation privileges with the default schema set to &#39;mySchema&#39;. Running DDL statements as the same runtime user running your application is usually viewed as a security hole, so I usually create a separate persistence unit just to create/run scripts with a different admin level datasource in development environments.","body":"So it is just a DDL issue. You can create the DDL scripts and manually edit them as required, or a more production level security conscious approach might be to create the scripts without the schema and then run them separately as a particular user with table creation privileges with the default schema set to &#39;mySchema&#39;. Running DDL statements as the same runtime user running your application is usually viewed as a security hole, so I usually create a separate persistence unit just to create/run scripts with a different admin level datasource in development environments."},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1679526721,"post_id":75810072,"comment_id":133740063,"body_markdown":"Thanks for bringing up these concerns! They sounds very reasonable and I&#39;ll certainly consider them, should that program ever leave the state where the database structure changes (relatively) often and it&#39;s just me using it.","body":"Thanks for bringing up these concerns! They sounds very reasonable and I&#39;ll certainly consider them, should that program ever leave the state where the database structure changes (relatively) often and it&#39;s just me using it."}],"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679520995,"creation_date":1679475028,"question_id":75810072,"body_markdown":"I&#39;m playing around with JPA, specifically eclipselink 4.0.1, and want to use a specific schema in a postgres database. To do so, I&#39;ve added an orm.xml file with\r\n```\r\n   &lt;persistence-unit-metadata&gt;\r\n        &lt;persistence-unit-defaults&gt;\r\n            &lt;schema&gt;mySchema&lt;/schema&gt;\r\n        &lt;/persistence-unit-defaults&gt;\r\n    &lt;/persistence-unit-metadata&gt;\r\n```\r\nwhich does seem to work for all &quot;normal&quot; tables, but not for the SEQUENCE. When I use ``eclipselink.ddl-generation.output-mode`` to look at the generated ddl file, it comes out as something like this:\r\n```\r\n  CREATE TABLE mySchema.tableA...\r\n  CREATE TABLE mySchema.tableB...\r\n  ALTER TABLE mySchema.tableA...\r\n  ALTER TABLE mySchema.tableB...\r\n  ...\r\n  CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))\r\n  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values (&#39;SEQ_GEN&#39;, 0)\r\n```\r\nThe SEQUENCE table does not have the mySchema specification for some reason. Am I missing a small piece of configuration somewhere? Any place else I could look or additional information I should provide?\r\n\r\n**Workaround**\r\n\r\nEverything works if I create the SEQUENCE table &quot;manually&quot;. To do so, I&#39;ve added the createSequenceTableIfNotExists-method below as a workaround for now:\r\n```\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\n\r\npublic enum PersistenceTool {\r\n    DEFAULT;\r\n    private final EntityManagerFactory entityManagerFactory;\r\n\r\n    PersistenceTool() {\r\n        entityManagerFactory = Persistence.createEntityManagerFactory(name().toLowerCase());\r\n        createSequenceTableIfNotExists(&quot;mySchema&quot;);\r\n        Runtime.getRuntime().addShutdownHook(new Thread(entityManagerFactory::close));\r\n    }\r\n\r\n//  ...\r\n\r\n    EntityManager getNewEntityManager() {\r\n        return entityManagerFactory.createEntityManager();\r\n    }\r\n\r\n    private void createSequenceTableIfNotExists(String schema) {\r\n        final var entityManager = getNewEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        entityManager.createNativeQuery(\r\n                &quot;CREATE TABLE IF NOT EXISTS &quot; + schema + &quot;.SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME));&quot; +\r\n                 &quot;INSERT INTO &quot; + schema + &quot;.SEQUENCE(SEQ_NAME, SEQ_COUNT) values (&#39;SEQ_GEN&#39;, 0) ON CONFLICT DO NOTHING;&quot;)\r\n            .executeUpdate();\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n    }\r\n}\r\n\r\n```\r\nNote that creating the EntityManagerFactory does produce a warning that no SEQUENCE table exists yet, but that does not cause any lasting problems.","title":"eclipselink does not apply persistence-unit-defaults to sequence","body":"<p>I'm playing around with JPA, specifically eclipselink 4.0.1, and want to use a specific schema in a postgres database. To do so, I've added an orm.xml file with</p>\n<pre><code>   &lt;persistence-unit-metadata&gt;\n        &lt;persistence-unit-defaults&gt;\n            &lt;schema&gt;mySchema&lt;/schema&gt;\n        &lt;/persistence-unit-defaults&gt;\n    &lt;/persistence-unit-metadata&gt;\n</code></pre>\n<p>which does seem to work for all &quot;normal&quot; tables, but not for the SEQUENCE. When I use <code>eclipselink.ddl-generation.output-mode</code> to look at the generated ddl file, it comes out as something like this:</p>\n<pre><code>  CREATE TABLE mySchema.tableA...\n  CREATE TABLE mySchema.tableB...\n  ALTER TABLE mySchema.tableA...\n  ALTER TABLE mySchema.tableB...\n  ...\n  CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))\n  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)\n</code></pre>\n<p>The SEQUENCE table does not have the mySchema specification for some reason. Am I missing a small piece of configuration somewhere? Any place else I could look or additional information I should provide?</p>\n<p><strong>Workaround</strong></p>\n<p>Everything works if I create the SEQUENCE table &quot;manually&quot;. To do so, I've added the createSequenceTableIfNotExists-method below as a workaround for now:</p>\n<pre><code>import jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\n\npublic enum PersistenceTool {\n    DEFAULT;\n    private final EntityManagerFactory entityManagerFactory;\n\n    PersistenceTool() {\n        entityManagerFactory = Persistence.createEntityManagerFactory(name().toLowerCase());\n        createSequenceTableIfNotExists(&quot;mySchema&quot;);\n        Runtime.getRuntime().addShutdownHook(new Thread(entityManagerFactory::close));\n    }\n\n//  ...\n\n    EntityManager getNewEntityManager() {\n        return entityManagerFactory.createEntityManager();\n    }\n\n    private void createSequenceTableIfNotExists(String schema) {\n        final var entityManager = getNewEntityManager();\n        entityManager.getTransaction().begin();\n        entityManager.createNativeQuery(\n                &quot;CREATE TABLE IF NOT EXISTS &quot; + schema + &quot;.SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME));&quot; +\n                 &quot;INSERT INTO &quot; + schema + &quot;.SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0) ON CONFLICT DO NOTHING;&quot;)\n            .executeUpdate();\n        entityManager.getTransaction().commit();\n        entityManager.close();\n    }\n}\n\n</code></pre>\n<p>Note that creating the EntityManagerFactory does produce a warning that no SEQUENCE table exists yet, but that does not cause any lasting problems.</p>\n"},{"tags":["java","spring","jdbc","h2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678274701,"post_id":75672375,"comment_id":133499862,"body_markdown":"You&#39;re using `PreparedStatement` with parameters I hope? Since you&#39;ve posted no code, we can only guess, which wastes time","body":"You&#39;re using <code>PreparedStatement</code> with parameters I hope? Since you&#39;ve posted no code, we can only guess, which wastes time"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1678275290,"post_id":75672375,"comment_id":133500013,"body_markdown":"Something is wrong in the question - all the strings you gave have the backslash at the *beginning*, not the *end* of the string. Is that on purpose? Also, how do you know the string is put there literally? Did you check the length? Sometimes text is printed escaped. Also, please show code.","body":"Something is wrong in the question - all the strings you gave have the backslash at the <i>beginning</i>, not the <i>end</i> of the string. Is that on purpose? Also, how do you know the string is put there literally? Did you check the length? Sometimes text is printed escaped. Also, please show code."},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678275487,"post_id":75672375,"comment_id":133500066,"body_markdown":"What&#39;s the point of code? It&#39;s just a bunch of inserts in the data.sql file, as stated. Think `INSERT INTO TABLE(column) VALUES (&#39;\\1\\&#39;)`? *All the strings I gave have the backslash at the beginning* is incorrect.","body":"What&#39;s the point of code? It&#39;s just a bunch of inserts in the data.sql file, as stated. Think <code>INSERT INTO TABLE(column) VALUES (&#39;\\1\\&#39;)</code>? <i>All the strings I gave have the backslash at the beginning</i> is incorrect."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1678276510,"post_id":75672375,"comment_id":133500323,"body_markdown":"I don&#39;t think your understanding is correct. H2 doesn&#39;t support escaping with backslashes, at least not out of the box. How can this be reproduced? Your query executes just fine for me on H2 2.1.214","body":"I don&#39;t think your understanding is correct. H2 doesn&#39;t support escaping with backslashes, at least not out of the box. How can this be reproduced? Your query executes just fine for me on H2 2.1.214"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678277163,"post_id":75672375,"comment_id":133500477,"body_markdown":"*What&#39;s the point of code?* Well, by posting just that, you&#39;ve already answered the question I asked about whether you&#39;re properly using `PreparedStatement` parameters. And the answer is: no","body":"<i>What&#39;s the point of code?</i> Well, by posting just that, you&#39;ve already answered the question I asked about whether you&#39;re properly using <code>PreparedStatement</code> parameters. And the answer is: no"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678283947,"post_id":75672375,"comment_id":133502484,"body_markdown":"@LukasEder thanks, that helped. I made a minimal example after some debugging, the cause of this issue was harder to find in my case because my init script is large. Since it has confidential info, I couldn&#39;t just go an share it in its entirety.","body":"@LukasEder thanks, that helped. I made a minimal example after some debugging, the cause of this issue was harder to find in my case because my init script is large. Since it has confidential info, I couldn&#39;t just go an share it in its entirety."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678284134,"post_id":75672375,"comment_id":133502551,"body_markdown":"`ps.setString(1, &quot;test;test&quot;);ps.executeUpdate();`","body":"<code>ps.setString(1, &quot;test;test&quot;);ps.executeUpdate();</code>"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678284316,"post_id":75672375,"comment_id":133502613,"body_markdown":"@g00se ok but like I said, I use Spring and just specify the `data.sql`, it&#39;s not me preparing the statements since it&#39;s done by Spring behind the scenes. Would be nice to know the cause...","body":"@g00se ok but like I said, I use Spring and just specify the <code>data.sql</code>, it&#39;s not me preparing the statements since it&#39;s done by Spring behind the scenes. Would be nice to know the cause..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678285039,"post_id":75672375,"comment_id":133502876,"body_markdown":"Ah right. Driver bug?","body":"Ah right. Driver bug?"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678285166,"post_id":75672375,"comment_id":133502919,"body_markdown":"@g00se guess so, I tested on the most recent version as well, same thing at my end.","body":"@g00se guess so, I tested on the most recent version as well, same thing at my end."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678285483,"post_id":75672375,"comment_id":133503021,"body_markdown":"backslash is the escape character. if you want a literal backslash in your database, you have to escape the backslash itself, e.g. `&#39; ...something \\\\&#39;`. If not escaped, it will escape the apostrophe and the string never ends (it ends eventually, the next time it encounters an apostrophe, i.e. the next opening apostrophe)","body":"backslash is the escape character. if you want a literal backslash in your database, you have to escape the backslash itself, e.g. <code>&#39; ...something \\\\&#39;</code>. If not escaped, it will escape the apostrophe and the string never ends (it ends eventually, the next time it encounters an apostrophe, i.e. the next opening apostrophe)"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678285852,"post_id":75672375,"comment_id":133503143,"body_markdown":"@knittl it&#39;s not an escape character in H2 strings apparently (as Lukas said). It escapes nowhere, but it interacts with that single quote in a weird way (check my minimal example). Using a double backslash just adds a double backslash to my database, I double-checked this whilst debugging.","body":"@knittl it&#39;s not an escape character in H2 strings apparently (as Lukas said). It escapes nowhere, but it interacts with that single quote in a weird way (check my minimal example). Using a double backslash just adds a double backslash to my database, I double-checked this whilst debugging."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678285864,"post_id":75672375,"comment_id":133503150,"body_markdown":"I was wondering about that escape character myself but wasn&#39;t certain","body":"I was wondering about that escape character myself but wasn&#39;t certain"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678286077,"post_id":75672375,"comment_id":133503223,"body_markdown":"@Bruno so doubling the backslash works, but inserts two backslashes into the database? Are you sure those are 2 _literal_ backslashes? It could be your IDE rendering two backslashes (an escape character + the backslash), so that you can copy the string. If you do `System.out.println(theStringFromTheDb)`, does it print two backslashes?","body":"@Bruno so doubling the backslash works, but inserts two backslashes into the database? Are you sure those are 2 <i>literal</i> backslashes? It could be your IDE rendering two backslashes (an escape character + the backslash), so that you can copy the string. If you do <code>System.out.println(theStringFromTheDb)</code>, does it print two backslashes?"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678286406,"post_id":75672375,"comment_id":133503330,"body_markdown":"@knittl Yes I&#39;m absolutely sure because I added &#39;\\1\\3\\\\&#39; and it printed out exactly this, and now that I fixed it by reordering my inserts (not my favourite kind of fix) it prints &#39;\\1\\3\\&#39; so it prints every backslash. If you look at the minimal example, just reordering the inserts fixes it but it makes no sense. It&#39;s as if that backslash before the quote suddenly makes the parser think it needs to treat semicolons inside strings as delimiters.","body":"@knittl Yes I&#39;m absolutely sure because I added &#39;\\1\\3\\\\&#39; and it printed out exactly this, and now that I fixed it by reordering my inserts (not my favourite kind of fix) it prints &#39;\\1\\3\\&#39; so it prints every backslash. If you look at the minimal example, just reordering the inserts fixes it but it makes no sense. It&#39;s as if that backslash before the quote suddenly makes the parser think it needs to treat semicolons inside strings as delimiters."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678286734,"post_id":75672375,"comment_id":133503436,"body_markdown":"@Bruno I still think that the backslash doesn&#39;t make the &quot;semicolon inside the other string a terminator&quot;; it simply escapes the single quote (perhaps not an H2 thing, but parsing the sql file?). This means that the &quot;semicolon inside the string&quot; is actually a &quot;semicolon _outside_ of a string&quot;. `test` is a reserved word that could have special meaning – confusing the parser – have you tried with other words inside the second string, e.g. `foobar`? Also, since you linked the h2 docs, why not use unicode escapes to fix your immediate problem? `U&amp;&#39;\\005C1\\005C3\\005C&#39;` – would that work?","body":"@Bruno I still think that the backslash doesn&#39;t make the &quot;semicolon inside the other string a terminator&quot;; it simply escapes the single quote (perhaps not an H2 thing, but parsing the sql file?). This means that the &quot;semicolon inside the string&quot; is actually a &quot;semicolon <i>outside</i> of a string&quot;. <code>test</code> is a reserved word that could have special meaning – confusing the parser – have you tried with other words inside the second string, e.g. <code>foobar</code>? Also, since you linked the h2 docs, why not use unicode escapes to fix your immediate problem? <code>U&amp;&#39;\\005C1\\005C3\\005C&#39;</code> – would that work?"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1678287117,"post_id":75672375,"comment_id":133503551,"body_markdown":"Unicode character string literals are only supported since H2 2.0.202, entirely outdated H2 1.4.200 doesn&#39;t have them. Anyway, `\\\\` is not an escape character in regular character string literals in H2 itself.","body":"Unicode character string literals are only supported since H2 2.0.202, entirely outdated H2 1.4.200 doesn&#39;t have them. Anyway, `\\` is not an escape character in regular character string literals in H2 itself."},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678290188,"post_id":75672375,"comment_id":133504609,"body_markdown":"@knittl based on your *&#39;perhaps not an H2 thing ...&#39;*, I found it&#39;s caused by Spring&#39;s `ScriptUtils` class in its [`splitSQLScript`](https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650) method. Not sure I get why they use a backslash as escape character there yet still add it as-is to the string builder. Anyways, unicode would be one fix.","body":"@knittl based on your <i>&#39;perhaps not an H2 thing ...&#39;</i>, I found it&#39;s caused by Spring&#39;s <code>ScriptUtils</code> class in its <a href=\"https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650\" rel=\"nofollow noreferrer\"><code>splitSQLScript</code></a> method. Not sure I get why they use a backslash as escape character there yet still add it as-is to the string builder. Anyways, unicode would be one fix."}],"answers":[{"tags":[],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679520845,"creation_date":1678344963,"answer_id":75681328,"question_id":75672375,"body_markdown":"The issue was caused by Spring&#39;s ScriptUtils class in its [splitSQLScript][1] method. It&#39;s a method that splits the `data.sql` script into queries with the semicolon as the default delimiter. Whilst scanning the script, it keeps track of whether or not it&#39;s within a statement surrounded by single or double quotes. When it encounters a backslash, it enters a sort of escape modus. The character after this backslash as well as the backslash itself are left as-is, but if the character after the backslash is a single or double quote it&#39;s effectively treated as if that quote were to be escaped.\r\n\r\nOne way to circumvent this is to use unicode : \r\n\r\n    U&amp;&#39;\\1|005c&#39; UESCAPE &#39;|&#39;\r\n   \r\nI wasn&#39;t able to make this work with just `U&amp;&#39;\\1\\005c&#39;`.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650\r\n\r\nThe related Spring issue report can be found at &lt;https://github.com/spring-projects/spring-framework/issues/30098&gt;.","title":"Spring Boot data.sql initialization of H2 database has issue with backslash followed by single quote","body":"<p>The issue was caused by Spring's ScriptUtils class in its <a href=\"https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650\" rel=\"nofollow noreferrer\">splitSQLScript</a> method. It's a method that splits the <code>data.sql</code> script into queries with the semicolon as the default delimiter. Whilst scanning the script, it keeps track of whether or not it's within a statement surrounded by single or double quotes. When it encounters a backslash, it enters a sort of escape modus. The character after this backslash as well as the backslash itself are left as-is, but if the character after the backslash is a single or double quote it's effectively treated as if that quote were to be escaped.</p>\n<p>One way to circumvent this is to use unicode :</p>\n<pre><code>U&amp;'\\1|005c' UESCAPE '|'\n</code></pre>\n<p>I wasn't able to make this work with just <code>U&amp;'\\1\\005c'</code>.</p>\n<p>The related Spring issue report can be found at <a href=\"https://github.com/spring-projects/spring-framework/issues/30098\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30098</a>.</p>\n"}],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75681328,"answer_count":1,"score":-1,"last_activity_date":1679520845,"creation_date":1678274562,"question_id":75672375,"body_markdown":"In some Spring Boot app I initialize my in-memory H2 DB with some inserts (in the `data.sql` file). One of the tables in the DB is filled with rows where each row has a string column, and every string in this column ends with a backslash e.g. `&#39;\\1\\&#39;`. \r\n\r\nThe backslashes are not treated as an escape character hence inserting `&#39;\\1&#39;` inserts this string literally (no need for double backslashes). However, the backslash before the single quote seems to escape that single quote, as inserting `&#39;\\1\\&#39;` causes a syntax-related exception. If I insert `&#39;\\1\\\\&#39;` then that string is put in the DB literally (with the two backslashes at the end).\r\n\r\n[In the H2 docs relating to the string data type][1] I can&#39;t find any information on this. I tried prefixing my strings with `U&amp;` to use unicode chars but this throws an error as well. The only fix I found so far is to add a space after the last backslash and do an update after insertion (using the `TRIM` function) to remove said spaces.\r\n\r\nIs this behaviour explained anywhere, or is there a better way to circumvent the issue?\r\n\r\n----------\r\n\r\n**Minimal example :** \r\n\r\nSetup : Spring Boot test suite with `schema.sql` and `data.sql` given below : \r\n\r\n`schema.sql`\r\n\r\n    CREATE SCHEMA IF NOT EXISTS TEST;\r\n    \r\n    CREATE TABLE TEST.ONE (\r\n        IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\r\n        NAME VARCHAR(500)\r\n    );\r\n    \r\n    CREATE TABLE TEST.TWO (\r\n        IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\r\n        NAME VARCHAR(500)\r\n    );\r\n\r\n\r\n`data.sql`\r\n\r\n    INSERT INTO TEST.ONE(IDENTIFIER,NAME) VALUES\r\n        (1,&#39;\\1\\3\\&#39;);\r\n    \r\n    INSERT INTO TEST.TWO(IDENTIFIER,NAME) VALUES\r\n        (1,&#39;test;test&#39;);\r\n\r\nI have the following in my `application.properties` :\r\n\r\n    server.port=8083\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:testdb;INIT=CREATE SCHEMA IF NOT EXISTS TEST\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.datasource.data=classpath:data-test.sql\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.properties.javax.persistence.schema-generation.drop-source=script\r\n    spring.jpa.properties.javax.persistence.schema-generation.drop-script-source=drop-tables.sql\r\n    spring.jpa.properties.hibernate.default_schema=TEST\r\n    spring.cache.jcache.config=classpath:ehcache.xml\r\n    spring.h2.console.enabled=true\r\n    spring.application.admin.jmx-name=org.springframework.boot:type=Admin,name=SpringApplication${random.int(1000000)}\r\n\r\n - Expected behaviour : script runs fine \r\n - Actual behaviour : script fails\r\n   to run, because the semicolon in the second inserted tuple is\r\n   interpreted as the end of the insert statement. If you add a space\r\n   after the backslash in the first inserted tuple, the script does run.\r\n   If you reverse the order of the inserts, it also runs.\r\n\r\nH2 driver version 1.4.200\r\n\r\n  [1]: https://www.h2database.com/html/grammar.html?highlight=escape&amp;search=escape#string","title":"Spring Boot data.sql initialization of H2 database has issue with backslash followed by single quote","body":"<p>In some Spring Boot app I initialize my in-memory H2 DB with some inserts (in the <code>data.sql</code> file). One of the tables in the DB is filled with rows where each row has a string column, and every string in this column ends with a backslash e.g. <code>'\\1\\'</code>.</p>\n<p>The backslashes are not treated as an escape character hence inserting <code>'\\1'</code> inserts this string literally (no need for double backslashes). However, the backslash before the single quote seems to escape that single quote, as inserting <code>'\\1\\'</code> causes a syntax-related exception. If I insert <code>'\\1\\\\'</code> then that string is put in the DB literally (with the two backslashes at the end).</p>\n<p><a href=\"https://www.h2database.com/html/grammar.html?highlight=escape&amp;search=escape#string\" rel=\"nofollow noreferrer\">In the H2 docs relating to the string data type</a> I can't find any information on this. I tried prefixing my strings with <code>U&amp;</code> to use unicode chars but this throws an error as well. The only fix I found so far is to add a space after the last backslash and do an update after insertion (using the <code>TRIM</code> function) to remove said spaces.</p>\n<p>Is this behaviour explained anywhere, or is there a better way to circumvent the issue?</p>\n<hr />\n<p><strong>Minimal example :</strong></p>\n<p>Setup : Spring Boot test suite with <code>schema.sql</code> and <code>data.sql</code> given below :</p>\n<p><code>schema.sql</code></p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS TEST;\n\nCREATE TABLE TEST.ONE (\n    IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\n    NAME VARCHAR(500)\n);\n\nCREATE TABLE TEST.TWO (\n    IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\n    NAME VARCHAR(500)\n);\n</code></pre>\n<p><code>data.sql</code></p>\n<pre><code>INSERT INTO TEST.ONE(IDENTIFIER,NAME) VALUES\n    (1,'\\1\\3\\');\n\nINSERT INTO TEST.TWO(IDENTIFIER,NAME) VALUES\n    (1,'test;test');\n</code></pre>\n<p>I have the following in my <code>application.properties</code> :</p>\n<pre><code>server.port=8083\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb;INIT=CREATE SCHEMA IF NOT EXISTS TEST\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.data=classpath:data-test.sql\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.properties.javax.persistence.schema-generation.drop-source=script\nspring.jpa.properties.javax.persistence.schema-generation.drop-script-source=drop-tables.sql\nspring.jpa.properties.hibernate.default_schema=TEST\nspring.cache.jcache.config=classpath:ehcache.xml\nspring.h2.console.enabled=true\nspring.application.admin.jmx-name=org.springframework.boot:type=Admin,name=SpringApplication${random.int(1000000)}\n</code></pre>\n<ul>\n<li>Expected behaviour : script runs fine</li>\n<li>Actual behaviour : script fails\nto run, because the semicolon in the second inserted tuple is\ninterpreted as the end of the insert statement. If you add a space\nafter the backslash in the first inserted tuple, the script does run.\nIf you reverse the order of the inserts, it also runs.</li>\n</ul>\n<p>H2 driver version 1.4.200</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1679509581,"post_id":75815970,"comment_id":133736600,"body_markdown":"JAVA_OPTS must be passed to your ENTRY_POINT or CMD as part of the java command in order to work properly, but it causes other sort of issues. see https://stackoverflow.com/questions/53785577/passing-java-opts-to-spring-boot-application-through-docker-compose for more details.","body":"JAVA_OPTS must be passed to your ENTRY_POINT or CMD as part of the java command in order to work properly, but it causes other sort of issues. see <a href=\"https://stackoverflow.com/questions/53785577/passing-java-opts-to-spring-boot-application-through-docker-compose\" title=\"passing java opts to spring boot application through docker compose\">stackoverflow.com/questions/53785577/&hellip;</a> for more details."}],"answers":[{"tags":[],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679520736,"creation_date":1679520243,"answer_id":75817362,"question_id":75815970,"body_markdown":"Ok. Finally, here is our real hero &#39;JDK_JAVA_OPTIONS&#39;.\r\n\r\n\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n      - &quot;JDK_JAVA_OPTIONS=--add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n\r\n\r\nMy docker-compose is happy :) \r\n\r\n\r\n&gt;  | NOTE: Picked up JDK_JAVA_OPTIONS: --add-opens\r\n&gt; java.base/java.lang=ALL-UNNAMED\r\n&gt; \r\n\r\n&gt; JDK_JAVA_OPTIONS is only picked up by the java launcher, so use it for\r\n&gt; options that you only want to apply (or only make sense for) the java\r\n&gt; startup command. This variable is also new on JDK 9+, and will be\r\n&gt; ignored by earlier JDK versions. Hence, it&#39;s useful when migrating\r\n&gt; from older versions to 9+.\r\n&gt; \r\n&gt; JAVA_TOOL_OPTIONS is picked up also by other java tools like jar and\r\n&gt; javac so it should be used for flags that you want to apply (and are\r\n&gt; valid) to all those java tools.\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/52986487/what-is-the-difference-between-jdk-java-options-and-java-tool-options-when-using\r\n\r\n\r\nJAVA_OPTS is **NOT AT ALL** an option.\r\nref: https://stackoverflow.com/questions/2011311/running-java-with-java-opts-env-variable-has-no-effect ","title":"Setting Java env variables in docker-compose","body":"<p>Ok. Finally, here is our real hero 'JDK_JAVA_OPTIONS'.</p>\n<pre><code>environment:\n  - SPRING_PROFILES_ACTIVE=local\n  - &quot;JDK_JAVA_OPTIONS=--add-opens java.base/java.lang=ALL-UNNAMED&quot;\n</code></pre>\n<p>My docker-compose is happy :)</p>\n<blockquote>\n<p>| NOTE: Picked up JDK_JAVA_OPTIONS: --add-opens\njava.base/java.lang=ALL-UNNAMED</p>\n</blockquote>\n<blockquote>\n<p>JDK_JAVA_OPTIONS is only picked up by the java launcher, so use it for\noptions that you only want to apply (or only make sense for) the java\nstartup command. This variable is also new on JDK 9+, and will be\nignored by earlier JDK versions. Hence, it's useful when migrating\nfrom older versions to 9+.</p>\n<p>JAVA_TOOL_OPTIONS is picked up also by other java tools like jar and\njavac so it should be used for flags that you want to apply (and are\nvalid) to all those java tools.</p>\n<p><a href=\"https://stackoverflow.com/questions/52986487/what-is-the-difference-between-jdk-java-options-and-java-tool-options-when-using\">What is the difference between JDK_JAVA_OPTIONS and JAVA_TOOL_OPTIONS when using Java 11?</a></p>\n</blockquote>\n<p>JAVA_OPTS is <strong>NOT AT ALL</strong> an option.\nref: <a href=\"https://stackoverflow.com/questions/2011311/running-java-with-java-opts-env-variable-has-no-effect\">Running java with JAVA_OPTS env variable has no effect</a></p>\n"}],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75817362,"answer_count":1,"score":1,"last_activity_date":1679520736,"creation_date":1679509275,"question_id":75815970,"body_markdown":"I want to pass couple of variables to my springboot application as environment variables.\r\n\r\n```\r\n-Dspring.profiles.active=dev         --&gt; spring profile\r\n--add-opens java.base/java.lang=ALL-UNNAMED      --&gt; needed for java 17\r\n```\r\n\r\nI managed to supply the first one using \r\n\r\n```\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n```\r\n\r\nBut tried different options for second. none worked.\r\n\r\n```\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n      - --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n      - &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n\r\n    environment: JAVA_OPTS &gt;\r\n      SPRING_PROFILES_ACTIVE=local\r\n      --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n    environment: JAVA_OPTS=-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n    environment: JAVA_OPTS=&quot;-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n\r\n```\r\n\r\nAny help is highly appreciated","title":"Setting Java env variables in docker-compose","body":"<p>I want to pass couple of variables to my springboot application as environment variables.</p>\n<pre><code>-Dspring.profiles.active=dev         --&gt; spring profile\n--add-opens java.base/java.lang=ALL-UNNAMED      --&gt; needed for java 17\n</code></pre>\n<p>I managed to supply the first one using</p>\n<pre><code>    environment:\n      - SPRING_PROFILES_ACTIVE=local\n</code></pre>\n<p>But tried different options for second. none worked.</p>\n<pre><code>    environment:\n      - SPRING_PROFILES_ACTIVE=local\n      - --add-opens java.base/java.lang=ALL-UNNAMED\n\n    environment:\n      - SPRING_PROFILES_ACTIVE=local\n      - &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\n\n    environment: JAVA_OPTS &gt;\n      SPRING_PROFILES_ACTIVE=local\n      --add-opens java.base/java.lang=ALL-UNNAMED\n\n    environment: JAVA_OPTS=-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED\n\n    environment: JAVA_OPTS=&quot;-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED&quot;\n\n</code></pre>\n<p>Any help is highly appreciated</p>\n"},{"tags":["java","sql","hibernate","hql","helidon"],"comments":[{"owner":{"account_id":5612716,"reputation":14778,"user_id":4444980,"display_name":"Ponder Stibbons"},"score":0,"creation_date":1679522203,"post_id":75817408,"comment_id":133739288,"body_markdown":"ORA-00933 suggest that`LIMIT 1` [is suspicious](https://dbfiddle.uk/FNt8WF4J).","body":"ORA-00933 suggest that<code>LIMIT 1</code> <a href=\"https://dbfiddle.uk/FNt8WF4J\" rel=\"nofollow noreferrer\">is suspicious</a>."},{"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"score":0,"creation_date":1679524245,"post_id":75817408,"comment_id":133739688,"body_markdown":"Is the issue with my query string in line 24 or some other sql-dialect configuration? Also where is the &#39;limit&#39; clause coming from?","body":"Is the issue with my query string in line 24 or some other sql-dialect configuration? Also where is the &#39;limit&#39; clause coming from?"},{"owner":{"account_id":5612716,"reputation":14778,"user_id":4444980,"display_name":"Ponder Stibbons"},"score":0,"creation_date":1679524998,"post_id":75817408,"comment_id":133739814,"body_markdown":"Error log shows query: `SELECT e FROM EMPLOYEE e limit :1`. This query won&#39;t work in Oracle, because it has not `LIMIT` clause, as you can see in my fiddle. I don&#39;t know Hibernate, so I have not idea where it comes from.","body":"Error log shows query: <code>SELECT e FROM EMPLOYEE e limit :1</code>. This query won&#39;t work in Oracle, because it has not <code>LIMIT</code> clause, as you can see in my fiddle. I don&#39;t know Hibernate, so I have not idea where it comes from."},{"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"score":2,"creation_date":1679525294,"post_id":75817408,"comment_id":133739849,"body_markdown":"Issue resolved, I changed my hibernate language dialect to org.hibernate.dialect.Oracle10gDialect","body":"Issue resolved, I changed my hibernate language dialect to org.hibernate.dialect.Oracle10gDialect"}],"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679520670,"creation_date":1679520670,"question_id":75817408,"body_markdown":"I am trying to connect to Oracle database in Helidon MP 2.5 and execute a basic findAll() query for finding all entities. I am using Hibernate as the JPA provider. I have a generic abstract CRUD repository that contains the findAll() method:\r\n\r\n```\r\n1. public abstract class CrudRepository&lt;T, ID&gt; implements CrudInterface&lt;T, ID&gt; {\r\n2. \r\n3.     protected final Class&lt;T&gt; persistentClass;\r\n4.     private final SessionFactory sessionFactory;\r\n5.     private static final Logger log = Logger.getLogger(CrudRepository.class.getName());\r\n6. \r\n7.     protected CrudRepository(Class&lt;T&gt; persistenceClass, HelidonPersistenceUnitInfo hpuInfo) {\r\n8.         this.persistentClass = persistenceClass;\r\n9.         this.sessionFactory = new org.hibernate.cfg.Configuration()\r\n10.                 .addProperties(hpuInfo.getProperties())\r\n11.                 .addAnnotatedClass(persistenceClass)\r\n12.                 .buildSessionFactory();\r\n13.     }\r\n14. \r\n15.     public Page&lt;T&gt; findAll(Pageable pageableObj) {\r\n16.         List&lt;T&gt; list;\r\n17.         int page = pageableObj.getPageNum();\r\n18.         int size = pageableObj.getMaxRows();\r\n19. \r\n20.         if(page &lt; 0 || size &lt; 0) {\r\n21.             throw new IllegalArgumentException(&quot;Invalid values for page and size&quot;);\r\n22.         }\r\n23. \r\n24.         StringBuilder queryStr = new StringBuilder(&quot;SELECT e FROM &quot; + persistentClass.getSimpleName() + &quot; e&quot;);\r\n25. \r\n26.         log.info(&quot;SQL QUERY IS: &quot; + queryStr.toString());\r\n27. \r\n28.         try (Session session = sessionFactory.openSession()) {\r\n29.             Query&lt;T&gt; query = session.createQuery(queryStr.toString(), persistentClass);\r\n30.             query.setFirstResult(page * size);\r\n31.             query.setMaxResults(size);\r\n32.             list = query.getResultList();\r\n33.             return new Page&lt;T&gt;(list, pageableObj);\r\n34.         } catch (Exception e) {\r\n35.             throw new RuntimeException(&quot;Failed to find entities&quot;, e);\r\n36.         }\r\n37. \r\n38.     }\r\n39.   \r\n40.   }\r\n\r\n```\r\n\r\nI have a class EmployeeRepository which extends the above CRUD repository. When I execute a test on the findAll() method:\r\n```\r\n1.     @Test\r\n2.     void getEmployees() throws Exception {\r\n3.         EmployeeRepository empRepo = new EmployeeRepository();\r\n4.         Page&lt;Employee&gt; p = empRepo.findAll(new Pageable(0, 20));\r\n5.         assertEquals(p.getEntities().size(), 20);\r\n6.     }\r\n\r\n```\r\n\r\nI get the error:\r\n\r\n```\r\njava.lang.RuntimeException: Failed to find entities\r\n\r\n\tat oal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:122)\r\n\tat oal.oracle.apps.ic.helidonmstemplate.application.Employee.EmployeeControllerTest.getEmployees(EmployeeControllerTest.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\noal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:119)\r\n\t... 79 more\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2170)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1190)\r\n\tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\t... 81 more\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:553)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:269)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:270)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:91)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807)\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:983)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1168)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3666)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1426)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3713)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1167)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\t... 95 more\r\nCaused by: Error : 933, Position : 22, Sql = SELECT e FROM EMPLOYEE e limit :1 , OriginalSql = SELECT e FROM EMPLOYEE e limit ?, Error Msg = ORA-00933: SQL command not properly ended\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:513)\r\n\t... 110 more\r\n```\r\n\r\nThe SQL statement I created in line 24 CrudRepository appears to be correct. I tried to diagnose the issue by adding a semicolon after the statement to end it, but that did not fix the issue. I tried using query.createSQLQuery() instead of createQuery() as well. Any idea what might be causing the issue?\r\n","title":"Helidon MP 2.5, Hibernate Session createQuery() error: SQL command not properly ended","body":"<p>I am trying to connect to Oracle database in Helidon MP 2.5 and execute a basic findAll() query for finding all entities. I am using Hibernate as the JPA provider. I have a generic abstract CRUD repository that contains the findAll() method:</p>\n<pre><code>1. public abstract class CrudRepository&lt;T, ID&gt; implements CrudInterface&lt;T, ID&gt; {\n2. \n3.     protected final Class&lt;T&gt; persistentClass;\n4.     private final SessionFactory sessionFactory;\n5.     private static final Logger log = Logger.getLogger(CrudRepository.class.getName());\n6. \n7.     protected CrudRepository(Class&lt;T&gt; persistenceClass, HelidonPersistenceUnitInfo hpuInfo) {\n8.         this.persistentClass = persistenceClass;\n9.         this.sessionFactory = new org.hibernate.cfg.Configuration()\n10.                 .addProperties(hpuInfo.getProperties())\n11.                 .addAnnotatedClass(persistenceClass)\n12.                 .buildSessionFactory();\n13.     }\n14. \n15.     public Page&lt;T&gt; findAll(Pageable pageableObj) {\n16.         List&lt;T&gt; list;\n17.         int page = pageableObj.getPageNum();\n18.         int size = pageableObj.getMaxRows();\n19. \n20.         if(page &lt; 0 || size &lt; 0) {\n21.             throw new IllegalArgumentException(&quot;Invalid values for page and size&quot;);\n22.         }\n23. \n24.         StringBuilder queryStr = new StringBuilder(&quot;SELECT e FROM &quot; + persistentClass.getSimpleName() + &quot; e&quot;);\n25. \n26.         log.info(&quot;SQL QUERY IS: &quot; + queryStr.toString());\n27. \n28.         try (Session session = sessionFactory.openSession()) {\n29.             Query&lt;T&gt; query = session.createQuery(queryStr.toString(), persistentClass);\n30.             query.setFirstResult(page * size);\n31.             query.setMaxResults(size);\n32.             list = query.getResultList();\n33.             return new Page&lt;T&gt;(list, pageableObj);\n34.         } catch (Exception e) {\n35.             throw new RuntimeException(&quot;Failed to find entities&quot;, e);\n36.         }\n37. \n38.     }\n39.   \n40.   }\n\n</code></pre>\n<p>I have a class EmployeeRepository which extends the above CRUD repository. When I execute a test on the findAll() method:</p>\n<pre><code>1.     @Test\n2.     void getEmployees() throws Exception {\n3.         EmployeeRepository empRepo = new EmployeeRepository();\n4.         Page&lt;Employee&gt; p = empRepo.findAll(new Pageable(0, 20));\n5.         assertEquals(p.getEntities().size(), 20);\n6.     }\n\n</code></pre>\n<p>I get the error:</p>\n<pre><code>java.lang.RuntimeException: Failed to find entities\n\n    at oal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:122)\n    at oal.oracle.apps.ic.helidonmstemplate.application.Employee.EmployeeControllerTest.getEmployees(EmployeeControllerTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\noal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:119)\n    ... 79 more\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\n    at org.hibernate.loader.Loader.list(Loader.java:2677)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2170)\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1190)\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\n    ... 81 more\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:553)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:269)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:270)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:91)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:983)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1168)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3666)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1426)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3713)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1167)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    ... 95 more\nCaused by: Error : 933, Position : 22, Sql = SELECT e FROM EMPLOYEE e limit :1 , OriginalSql = SELECT e FROM EMPLOYEE e limit ?, Error Msg = ORA-00933: SQL command not properly ended\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:513)\n    ... 110 more\n</code></pre>\n<p>The SQL statement I created in line 24 CrudRepository appears to be correct. I tried to diagnose the issue by adding a semicolon after the statement to end it, but that did not fix the issue. I tried using query.createSQLQuery() instead of createQuery() as well. Any idea what might be causing the issue?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1508696481,"post_id":46877581,"comment_id":80702202,"body_markdown":"You can make your librar a simple regular JAR as well. I would not try to fit the spring boot mechanics in a library module.","body":"You can make your librar a simple regular JAR as well. I would not try to fit the spring boot mechanics in a library module."},{"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"score":0,"creation_date":1508696619,"post_id":46877581,"comment_id":80702255,"body_markdown":"probably related https://stackoverflow.com/a/32711287/1032167","body":"probably related <a href=\"https://stackoverflow.com/a/32711287/1032167\">stackoverflow.com/a/32711287/1032167</a>"},{"owner":{"account_id":7395855,"reputation":86,"user_id":5627829,"display_name":"Aidan Moriarty"},"score":1,"creation_date":1508697326,"post_id":46877581,"comment_id":80702536,"body_markdown":"Spring boot is all about runnable applications, so even without knowing much more about what your library is meant to do, it does seem that you don&#39;t want spring boot dependencies. It would help to figure out what you library is meant to offer, then figure out what spring (non boot) dependencies you really need.","body":"Spring boot is all about runnable applications, so even without knowing much more about what your library is meant to do, it does seem that you don&#39;t want spring boot dependencies. It would help to figure out what you library is meant to offer, then figure out what spring (non boot) dependencies you really need."},{"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"score":0,"creation_date":1508699996,"post_id":46877581,"comment_id":80703424,"body_markdown":"read spring for library and main module https://spring.io/guides/gs/multi-module/","body":"read spring for library and main module <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/multi-module</a>"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1540291608,"post_id":46877581,"comment_id":92802309,"body_markdown":"@AidanMoriarty thats not complete truth. Spring-boot is also about ways of sharin g code and making plug&amp;play libraries as the starters.","body":"@AidanMoriarty thats not complete truth. Spring-boot is also about ways of sharin g code and making plug&amp;play libraries as the starters."}],"answers":[{"tags":[],"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1566480972,"creation_date":1508705561,"answer_id":46879061,"question_id":46877581,"body_markdown":"I am sure you are using spring-boot-maven-plugin in your pom.xml (as given below), which allows you to package executable jar or war archives and run an application. \r\n\r\nWith this plugin, spring searches for a main application.You don&#39;t need this plugin for a spring library project. Delete this plugin  and clean install .\r\n\r\n```\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\n I assume you are creating some spring configuration files or components in this library project. You may not need big fat spring-boot-starter. But its fine if you need multiple spring modules and you want one place for all dependency.\r\n","title":"spring boot with no main class","body":"<p>I am sure you are using spring-boot-maven-plugin in your pom.xml (as given below), which allows you to package executable jar or war archives and run an application. </p>\n\n<p>With this plugin, spring searches for a main application.You don't need this plugin for a spring library project. Delete this plugin  and clean install .</p>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>I assume you are creating some spring configuration files or components in this library project. You may not need big fat spring-boot-starter. But its fine if you need multiple spring modules and you want one place for all dependency.</p>\n"},{"tags":[],"owner":{"account_id":15733889,"reputation":11,"user_id":11353490,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664973613,"creation_date":1664973613,"answer_id":73960503,"question_id":46877581,"body_markdown":"The [accepted answer posted by Surya][1] is correct for Maven.\r\nHowever, if someone is using Gradle here&#39;s what should be done in the library&#39;s *build.gradle* file:\r\n\r\n\r\n    plugins {\r\n      id &#39;org.springframework.boot&#39; version &#39;2.7.3&#39; apply false\r\n      id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n      // ... other plugins\r\n    }\r\n    \r\n    dependencyManagement {\r\n      imports {\r\n        mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\r\n      }\r\n    }\r\n**The lines above should resolve the problem.** Essentially, the Spring Boot plugin which produces an executable jar with a main class is no longer applied, but Spring&#39;s dependency management is still usuable.\r\n\r\nIf you are still having issues using the library jar in your main application, make sure that you have added this line to your dependencies in your main application&#39;s *build.gradle* file:\r\n\r\n    implementation project(&#39;:library&#39;)\r\nAlso these lines should be present in your root project&#39;s *settings.gradle* file:\r\n\r\n    include &#39;library&#39;\r\n    include &#39;application&#39;\r\n\r\nI recommend going through this [Spring guide][2] since it explains your exact scenario. It covers both Maven and Gradle. Disabling the Spring Boot&#39;s Gradle plugin while keeping the Spring Boot&#39;s dependency management is also described here in the [documentation][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46879061/11353490\r\n  [2]: https://spring.io/guides/gs/multi-module/\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#managing-dependencies.dependency-management-plugin.using-in-isolation","title":"spring boot with no main class","body":"<p>The <a href=\"https://stackoverflow.com/a/46879061/11353490\">accepted answer posted by Surya</a> is correct for Maven.\nHowever, if someone is using Gradle here's what should be done in the library's <em>build.gradle</em> file:</p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '2.7.3' apply false\n  id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n  // ... other plugins\n}\n\ndependencyManagement {\n  imports {\n    mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\n  }\n}\n</code></pre>\n<p><strong>The lines above should resolve the problem.</strong> Essentially, the Spring Boot plugin which produces an executable jar with a main class is no longer applied, but Spring's dependency management is still usuable.</p>\n<p>If you are still having issues using the library jar in your main application, make sure that you have added this line to your dependencies in your main application's <em>build.gradle</em> file:</p>\n<pre><code>implementation project(':library')\n</code></pre>\n<p>Also these lines should be present in your root project's <em>settings.gradle</em> file:</p>\n<pre><code>include 'library'\ninclude 'application'\n</code></pre>\n<p>I recommend going through this <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">Spring guide</a> since it explains your exact scenario. It covers both Maven and Gradle. Disabling the Spring Boot's Gradle plugin while keeping the Spring Boot's dependency management is also described here in the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#managing-dependencies.dependency-management-plugin.using-in-isolation\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679520310,"creation_date":1679493205,"answer_id":75813160,"question_id":46877581,"body_markdown":"It&#39;s maybe a bit late but in our case the spring-boot-maven-plugin (1.5.22.RELEASE) use the configuration: \r\n`&lt;layout&gt;MODULE&lt;/layout&gt;`. Notice we need to exclude unwanted libraries.\r\n\r\nWith this we can create a FAT JAR with multiple applications. At deployment time we specify which main class to use for each running instance.\r\n\r\n      Bundle dependencies (excluding those with provided scope) and project resources.\r\nDocumented here: [Available layouts][1]\r\n\r\nFor the plugin 2.7.9, I&#39;m still looking for a similar solution. I will probably have to try the FactoryLayout...\r\nI finally used the maven-assembly-plugin as described here: [boot-inf directory causing aws lambda to fail][2] \r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts\r\n  [2]: https://stackoverflow.com/a/58299439/1065953","title":"spring boot with no main class","body":"<p>It's maybe a bit late but in our case the spring-boot-maven-plugin (1.5.22.RELEASE) use the configuration:\n<code>&lt;layout&gt;MODULE&lt;/layout&gt;</code>. Notice we need to exclude unwanted libraries.</p>\n<p>With this we can create a FAT JAR with multiple applications. At deployment time we specify which main class to use for each running instance.</p>\n<pre><code>  Bundle dependencies (excluding those with provided scope) and project resources.\n</code></pre>\n<p>Documented here: <a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts\" rel=\"nofollow noreferrer\">Available layouts</a></p>\n<p>For the plugin 2.7.9, I'm still looking for a similar solution. I will probably have to try the FactoryLayout...\nI finally used the maven-assembly-plugin as described here: <a href=\"https://stackoverflow.com/a/58299439/1065953\">boot-inf directory causing aws lambda to fail</a></p>\n"}],"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28671,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":46879061,"answer_count":3,"score":24,"last_activity_date":1679520310,"creation_date":1508696130,"question_id":46877581,"body_markdown":"I am trying use Spring Boot, and create a jar,  and install it into my maven repo. \r\n\r\nThis is a library jar file that will be used as a dependency in my main application,  which is also a Spring-Boot  application.  Right now, I am just working on a hello world example.  here is my one class in this project:\r\n\r\n    public class MyLibrary {\r\n\r\n      public String getMessage() {\r\n    \treturn &quot;Hello World!&quot;;\r\n      }\r\n    }\r\n\r\nand my POM basically looks like this:\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;groupId&gt;com.me.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myLibrary&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   \t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt; \r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nBut when I try to build,  I get &#39;Unable to find main class&quot; error.  Which makes perfect sense to me,  but how do I get spring to make a library jar.  I know I could add an Application.java  with a main method,  but that&#39;s not what I want,  I want a simple jar file,  but with all the Spring-Boot annotations, injections, etc...  \r\n\r\nHow would I go about doing this?  Is spring boot not what I want here?","title":"spring boot with no main class","body":"<p>I am trying use Spring Boot, and create a jar,  and install it into my maven repo. </p>\n\n<p>This is a library jar file that will be used as a dependency in my main application,  which is also a Spring-Boot  application.  Right now, I am just working on a hello world example.  here is my one class in this project:</p>\n\n<pre><code>public class MyLibrary {\n\n  public String getMessage() {\n    return \"Hello World!\";\n  }\n}\n</code></pre>\n\n<p>and my POM basically looks like this:</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;groupId&gt;com.me.plugin&lt;/groupId&gt;\n&lt;artifactId&gt;myLibrary&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt; \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>But when I try to build,  I get 'Unable to find main class\" error.  Which makes perfect sense to me,  but how do I get spring to make a library jar.  I know I could add an Application.java  with a main method,  but that's not what I want,  I want a simple jar file,  but with all the Spring-Boot annotations, injections, etc...  </p>\n\n<p>How would I go about doing this?  Is spring boot not what I want here?</p>\n"},{"tags":["java","spring","tomcat","concurrency","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679519602,"creation_date":1679519602,"answer_id":75817307,"question_id":75817095,"body_markdown":"What you describing fully fits into a Scatter-Gather pattern: https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html\r\n\r\nSee its implementation in Spring Integration: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather\r\n\r\nWhat you need is a `PublishSubcribeChannel` with an injected `ThreadPoolTaskExecutor` to be sure in a sufficient number of concurrent executions. \r\n\r\nThe Tomcat by itself is also a Java process and takes resources from the environment. Therefore no matter how it is configured you really may end-up with some peak where number of thread is not enough to serve your users. From here you would go into a cluster and have a load balancer upfront. But that&#39;s fully different story. The answer to your question is a Scatter-Gather with an async `PublishSubcribeChannel` for an Auction scenario.","title":"Move logic from client to server with preserving concurrency (Java)","body":"<p>What you describing fully fits into a Scatter-Gather pattern: <a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html\" rel=\"nofollow noreferrer\">https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html</a></p>\n<p>See its implementation in Spring Integration: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather</a></p>\n<p>What you need is a <code>PublishSubcribeChannel</code> with an injected <code>ThreadPoolTaskExecutor</code> to be sure in a sufficient number of concurrent executions.</p>\n<p>The Tomcat by itself is also a Java process and takes resources from the environment. Therefore no matter how it is configured you really may end-up with some peak where number of thread is not enough to serve your users. From here you would go into a cluster and have a load balancer upfront. But that's fully different story. The answer to your question is a Scatter-Gather with an async <code>PublishSubcribeChannel</code> for an Auction scenario.</p>\n"}],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679526054,"accepted_answer_id":75817307,"answer_count":1,"score":0,"last_activity_date":1679519602,"creation_date":1679517759,"question_id":75817095,"body_markdown":"**What I have:**\r\n 1. There are 10 requests that are sent from the client app to the server to get information about delivery. \r\n 2. After responses for all 10 requests are received logic is executed on the client to calculate the best delivery.\r\n 3. Best delivery has shown to the user.\r\n\r\n**What I want:**\r\n 1. One request is sent from the client to the server.\r\n 2. Server splits it into several tasks and processes in parallel (because tasks may require computation and call of other integrations via HTTP).\r\n 3. Server computes all results and calculates the best delivery.\r\n 4. Response returned with the best delivery to the Client.\r\n\r\n**Idea** - moving logic from the client to the server because API may be used by different systems (web, mobile, etc.)\r\n\r\n\r\n**Problem** - if I will use a thread pool, I&#39;m afraid that there may be thread starvation. Currently, concurrency is managed by the server itself (Tomcat, I believe also uses a thread pool but it&#39;s configured and optimized as far as I understand), and there are no issues. But when I move it to java code I&#39;m afraid there will be problems.\r\n\r\n**Tools** - Java 8, Spring 4(no spring-boot), Spring integration.\r\n\r\nMy idea is to use `Executors.newCachedThreadPool();` but I&#39;m not entirely sure about this solution, because it may grow out of control.\r\nCould you provide options for this change?","title":"Move logic from client to server with preserving concurrency (Java)","body":"<p><strong>What I have:</strong></p>\n<ol>\n<li>There are 10 requests that are sent from the client app to the server to get information about delivery.</li>\n<li>After responses for all 10 requests are received logic is executed on the client to calculate the best delivery.</li>\n<li>Best delivery has shown to the user.</li>\n</ol>\n<p><strong>What I want:</strong></p>\n<ol>\n<li>One request is sent from the client to the server.</li>\n<li>Server splits it into several tasks and processes in parallel (because tasks may require computation and call of other integrations via HTTP).</li>\n<li>Server computes all results and calculates the best delivery.</li>\n<li>Response returned with the best delivery to the Client.</li>\n</ol>\n<p><strong>Idea</strong> - moving logic from the client to the server because API may be used by different systems (web, mobile, etc.)</p>\n<p><strong>Problem</strong> - if I will use a thread pool, I'm afraid that there may be thread starvation. Currently, concurrency is managed by the server itself (Tomcat, I believe also uses a thread pool but it's configured and optimized as far as I understand), and there are no issues. But when I move it to java code I'm afraid there will be problems.</p>\n<p><strong>Tools</strong> - Java 8, Spring 4(no spring-boot), Spring integration.</p>\n<p>My idea is to use <code>Executors.newCachedThreadPool();</code> but I'm not entirely sure about this solution, because it may grow out of control.\nCould you provide options for this change?</p>\n"},{"tags":["java","eclipse","tomcat","logging","classnotfoundexception"],"comments":[{"owner":{"account_id":201905,"reputation":2040,"user_id":448641,"accept_rate":75,"display_name":"vinnyjames"},"score":0,"creation_date":1391538146,"post_id":12728147,"comment_id":32562795,"body_markdown":"On windows with tomcat installed as a service and using the tomcat7w.exe to modify the settings on the Java tab &gt; Java Options section; a single space after `-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager` before the new line gave me the same issue.","body":"On windows with tomcat installed as a service and using the tomcat7w.exe to modify the settings on the Java tab &gt; Java Options section; a single space after <code>-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogMa&zwnj;&#8203;nager</code> before the new line gave me the same issue."}],"answers":[{"tags":[],"owner":{"account_id":1685359,"reputation":3562,"user_id":1548788,"accept_rate":77,"display_name":"Robin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679519139,"creation_date":1349358432,"answer_id":12728707,"question_id":12728147,"body_markdown":"You can check the FAQ for a question about logging not working:\r\nhttps://cwiki.apache.org/confluence/display/TOMCAT/Logging\r\n\r\nOr you can use another `logging.properties`, for example this one:\r\n```properties\r\nlog4j.rootLogger=DEBUG, A1\r\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\r\n\r\n# Print the date in ISO 8601 format\r\nlog4j.appender.A1.layout.ConversionPattern=%d [%t] %-5p %c - %m%n\r\n    \r\n# Print only messages of level WARN or above in the package com.foo.\r\nlog4j.logger.com.foo=WARN\r\n```","title":"Error in Eclipse-Tomcat Setup - ClassNotFoundException &quot;1catalina.org.apache.juli.FileHandler&quot;","body":"<p>You can check the FAQ for a question about logging not working:\n<a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/Logging\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/TOMCAT/Logging</a></p>\n<p>Or you can use another <code>logging.properties</code>, for example this one:</p>\n<pre><code>log4j.rootLogger=DEBUG, A1\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\n\n# Print the date in ISO 8601 format\nlog4j.appender.A1.layout.ConversionPattern=%d [%t] %-5p %c - %m%n\n    \n# Print only messages of level WARN or above in the package com.foo.\nlog4j.logger.com.foo=WARN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103560,"reputation":5792,"user_id":277307,"accept_rate":100,"display_name":"John McCarthy"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1357166689,"creation_date":1357166689,"answer_id":14130453,"question_id":12728147,"body_markdown":"Ensure the following system property is set,\r\n\r\n    -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n\r\nAs seen [here][1] on the tomcat users mailing list.\r\n\r\nI had the same problem launching tomcat with [YAJSW](http://yajsw.sourceforge.net/) instead of using the tomcat startup scripts.\r\n\r\n\r\n  [1]: http://tomcat.10.n6.nabble.com/logging-failure-with-tomcat-6-0-29-jvm-1-6-0-30-b12-ubuntu-10-04-3-LTS-td4531175.html#a4531359","title":"Error in Eclipse-Tomcat Setup - ClassNotFoundException &quot;1catalina.org.apache.juli.FileHandler&quot;","body":"<p>Ensure the following system property is set,</p>\n\n<pre><code>-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n</code></pre>\n\n<p>As seen <a href=\"http://tomcat.10.n6.nabble.com/logging-failure-with-tomcat-6-0-29-jvm-1-6-0-30-b12-ubuntu-10-04-3-LTS-td4531175.html#a4531359\">here</a> on the tomcat users mailing list.</p>\n\n<p>I had the same problem launching tomcat with <a href=\"http://yajsw.sourceforge.net/\">YAJSW</a> instead of using the tomcat startup scripts.</p>\n"}],"owner":{"account_id":1904948,"reputation":171,"user_id":1720006,"display_name":"vjkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26232,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1679519139,"creation_date":1349356598,"question_id":12728147,"body_markdown":"**Setup:** Eclipse Juno R, Tomcat 7.0.8, tomcat run through eclipse plug in.\r\nTomcat launch configuration from eclipse has VM argument \r\n-Djava.util.logging.config.file=&quot;C:\\WS\\Serverlogs\\tomcat7\\conf\\logging.properties&quot;\r\n (Ref: &lt;https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse&gt;)\r\nGetting following error.\r\n\r\n    Can&#39;t load log handler &quot;1catalina.org.apache.juli.FileHandler&quot;\r\n    java.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\r\n    java.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat java.util.logging.LogManager$3.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.util.logging.LogManager.loadLoggerHandlers(Unknown Source)\r\n    \tat java.util.logging.LogManager.addLogger(Unknown Source)\r\n    \tat java.util.logging.LogManager$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.util.logging.LogManager.&lt;clinit&gt;(Unknown Source)\r\n    \tat java.util.logging.Logger.getLogger(Unknown Source)\r\n    \tat org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:71)\r\n    \tat org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:196)\r\n    \tat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\r\n    \tat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:242)\r\n    \tat org.apache.juli.logging.LogFactory.getLog(LogFactory.java:293)\r\n    \tat org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:57)\r\n    Can&#39;t load log handler &quot;1catalina.org.apache.juli.FileHandler&quot;\r\n\r\nThere are similar errors for &quot;1catalina.org.apache.juli.FileHandler&quot;,&quot;2localhost.org.apache.juli.FileHandler&quot; and others.\r\nI understand that these classes come from tomcat-juli.jar at &lt;CATALINA_BASE&gt;/bin.\r\nI added this jar into server classpath (Eclipse -&gt; Servers -&gt; Open -&gt; Open Lauch configuration -&gt; Classpath -&gt; User Entries), but got the same error.\r\nContents of logging.properties are:\r\n\r\n    handlers = 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache.juli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\r\n    \r\n    .handlers = 1catalina.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\r\n    \r\n    1catalina.org.apache.juli.FileHandler.level = FINE\r\n    1catalina.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    1catalina.org.apache.juli.FileHandler.prefix = catalina.\r\n    \r\n    2localhost.org.apache.juli.FileHandler.level = FINE\r\n    2localhost.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    2localhost.org.apache.juli.FileHandler.prefix = localhost.\r\n    \r\n    3manager.org.apache.juli.FileHandler.level = FINE\r\n    3manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    3manager.org.apache.juli.FileHandler.prefix = manager.\r\n    \r\n    4host-manager.org.apache.juli.FileHandler.level = FINE\r\n    4host-manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    4host-manager.org.apache.juli.FileHandler.prefix = host-manager.\r\n    \r\n    java.util.logging.ConsoleHandler.level = FINE\r\n    java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\r\n    \r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = INFO\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = 2localhost.org.apache.juli.FileHandler\r\n    \r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level = INFO\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].handlers = 3manager.org.apache.juli.FileHandler\r\n    \r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].level = INFO\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].handlers = 4host-manager.org.apache.juli.FileHandler\r\n\r\n\r\nAny input / guidance is most appreciated.\r\nFound these \r\n&lt;https://stackoverflow.com/questions/136300/how-to-configure-tomcat-juli-logging-to-roll-log-files&gt;\r\n&lt;https://stackoverflow.com/questions/2166414/local-tomcat-environment-not-starting&gt;\r\n, but my issue seems to be different.\r\n\r\n**Edit1**\r\nAdding &quot;-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager&quot; to server&#39;s VM Argument and changing &quot;\\&quot; to &quot;/&quot; in the logging.properties did the trick.\r\nThanks to Robin for the pointer to Tomcat Logging FAQ\r\n\r\nThank you,\r\nVJ","title":"Error in Eclipse-Tomcat Setup - ClassNotFoundException &quot;1catalina.org.apache.juli.FileHandler&quot;","body":"<p><strong>Setup:</strong> Eclipse Juno R, Tomcat 7.0.8, tomcat run through eclipse plug in.\nTomcat launch configuration from eclipse has VM argument \n-Djava.util.logging.config.file=\"C:\\WS\\Serverlogs\\tomcat7\\conf\\logging.properties\"\n (Ref: <a href=\"https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse\">Where can I view Tomcat log files in Eclipse?</a>)\nGetting following error.</p>\n\n<pre><code>Can't load log handler \"1catalina.org.apache.juli.FileHandler\"\njava.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\njava.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.util.logging.LogManager$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.util.logging.LogManager.loadLoggerHandlers(Unknown Source)\n    at java.util.logging.LogManager.addLogger(Unknown Source)\n    at java.util.logging.LogManager$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.util.logging.LogManager.&lt;clinit&gt;(Unknown Source)\n    at java.util.logging.Logger.getLogger(Unknown Source)\n    at org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:71)\n    at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:196)\n    at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\n    at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:242)\n    at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:293)\n    at org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:57)\nCan't load log handler \"1catalina.org.apache.juli.FileHandler\"\n</code></pre>\n\n<p>There are similar errors for \"1catalina.org.apache.juli.FileHandler\",\"2localhost.org.apache.juli.FileHandler\" and others.\nI understand that these classes come from tomcat-juli.jar at /bin.\nI added this jar into server classpath (Eclipse -> Servers -> Open -> Open Lauch configuration -> Classpath -> User Entries), but got the same error.\nContents of logging.properties are:</p>\n\n<pre><code>handlers = 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache.juli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\n\n.handlers = 1catalina.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\n\n1catalina.org.apache.juli.FileHandler.level = FINE\n1catalina.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n1catalina.org.apache.juli.FileHandler.prefix = catalina.\n\n2localhost.org.apache.juli.FileHandler.level = FINE\n2localhost.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n2localhost.org.apache.juli.FileHandler.prefix = localhost.\n\n3manager.org.apache.juli.FileHandler.level = FINE\n3manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n3manager.org.apache.juli.FileHandler.prefix = manager.\n\n4host-manager.org.apache.juli.FileHandler.level = FINE\n4host-manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n4host-manager.org.apache.juli.FileHandler.prefix = host-manager.\n\njava.util.logging.ConsoleHandler.level = FINE\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = 2localhost.org.apache.juli.FileHandler\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].handlers = 3manager.org.apache.juli.FileHandler\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].handlers = 4host-manager.org.apache.juli.FileHandler\n</code></pre>\n\n<p>Any input / guidance is most appreciated.\nFound these \n<a href=\"https://stackoverflow.com/questions/136300/how-to-configure-tomcat-juli-logging-to-roll-log-files\">How to configure Tomcat JULI logging to roll log files?</a>\n<a href=\"https://stackoverflow.com/questions/2166414/local-tomcat-environment-not-starting\">Local Tomcat Environment Not Starting</a>\n, but my issue seems to be different.</p>\n\n<p><strong>Edit1</strong>\nAdding \"-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\" to server's VM Argument and changing \"\\\" to \"/\" in the logging.properties did the trick.\nThanks to Robin for the pointer to Tomcat Logging FAQ</p>\n\n<p>Thank you,\nVJ</p>\n"},{"tags":["java","annotations","lombok","builder","intellij-lombok-plugin"],"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679518438,"creation_date":1679518438,"question_id":75817188,"body_markdown":"I have included @SuperBuilder for super class and all subclasses:\r\n\r\n````\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@SuperBuilder\r\n\r\npublic abstract class Aggregator {\r\n    private MyEnum myEnum;\r\n    private MyPackage pck;\r\n    private String device;\r\n}\r\n````\r\n\r\n````\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\r\n\r\npublic class KNAggregator extends Aggregator {\r\n    @EqualsAndHashCode.Include\r\n    private String os;\r\n    @EqualsAndHashCode.Include\r\n    private long vulnId;\r\n    private Severity severity;\r\n}\r\n````\r\n\r\nThis code throws error:\r\n\r\n&gt; error: cannot find symbol\r\n&gt; @SuperBuilder\r\n&gt; symbol:   class AggregatorBuilder\r\n&gt; location: class Aggregator\r\n\r\nWhat went wrong here?\r\n","title":"Lombok @SuperBuilder: Cannot find symbol","body":"<p>I have included @SuperBuilder for super class and all subclasses:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@SuperBuilder\n\npublic abstract class Aggregator {\n    private MyEnum myEnum;\n    private MyPackage pck;\n    private String device;\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\n\npublic class KNAggregator extends Aggregator {\n    @EqualsAndHashCode.Include\n    private String os;\n    @EqualsAndHashCode.Include\n    private long vulnId;\n    private Severity severity;\n}\n</code></pre>\n<p>This code throws error:</p>\n<blockquote>\n<p>error: cannot find symbol\n@SuperBuilder\nsymbol:   class AggregatorBuilder\nlocation: class Aggregator</p>\n</blockquote>\n<p>What went wrong here?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":17965259,"reputation":123,"user_id":13055269,"display_name":"caged_raven_wings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679518288,"creation_date":1679518288,"question_id":75817176,"body_markdown":"I used spring initializer to create a project with jdk 1.8, when I wanted to use **Spring Authorization Server** package, the minimum requirements was Jdk 17. When I switched to 17 and tried running the project again I am getting this error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authorizationServerSecurityFilterChain&#39; defined in class path resource [hashdynamics/io/sheer/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;authorizationServerSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat hashdynamics.io.sheer.SheerApplication.main(SheerApplication.java:18) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;authorizationServerSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n\tat org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.getEndpointsMatcher(OAuth2AuthorizationServerConfigurer.java:235) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\r\n\tat org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(OAuth2AuthorizationServerConfiguration.java:63) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig.authorizationServerSecurityFilterChain(SecurityConfig.java:45) ~[classes/:na]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.CGLIB$authorizationServerSecurityFilterChain$4(&lt;generated&gt;) ~[classes/:na]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10$$FastClassBySpringCGLIB$$1652a0f5.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.authorizationServerSecurityFilterChain(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletRequest\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 33 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nHere is my pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sheer&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;sheer&lt;/name&gt;\r\n\t&lt;description&gt;sheer &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sheer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI am completely new to java, I have searched online but can not find any reasonable solution to my issue. ","title":"Error creating bean with name &#39;authorizationServerSecurityFilterChain&#39;","body":"<p>I used spring initializer to create a project with jdk 1.8, when I wanted to use <strong>Spring Authorization Server</strong> package, the minimum requirements was Jdk 17. When I switched to 17 and tried running the project again I am getting this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [hashdynamics/io/sheer/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at hashdynamics.io.sheer.SheerApplication.main(SheerApplication.java:18) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 19 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n    at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.getEndpointsMatcher(OAuth2AuthorizationServerConfigurer.java:235) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\n    at org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(OAuth2AuthorizationServerConfiguration.java:63) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\n    at hashdynamics.io.sheer.config.SecurityConfig.authorizationServerSecurityFilterChain(SecurityConfig.java:45) ~[classes/:na]\n    at hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.CGLIB$authorizationServerSecurityFilterChain$4(&lt;generated&gt;) ~[classes/:na]\n    at hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10$$FastClassBySpringCGLIB$$1652a0f5.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\n    at hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.authorizationServerSecurityFilterChain(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 20 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletRequest\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 33 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\n    &lt;artifactId&gt;sheer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sheer&lt;/name&gt;\n    &lt;description&gt;sheer &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\n            &lt;artifactId&gt;sheer&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I am completely new to java, I have searched online but can not find any reasonable solution to my issue.</p>\n"},{"tags":["java","spring","maven","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1524012392,"post_id":49888724,"comment_id":86794975,"body_markdown":"Launching in debug mode will be your best bet in eclipse/intellij. Note that if you change any frontend assets the developer will need to force a reload of the page. It&#39;s also not feasible to change allot of things at run-time and will require a restart.","body":"Launching in debug mode will be your best bet in eclipse/intellij. Note that if you change any frontend assets the developer will need to force a reload of the page. It&#39;s also not feasible to change allot of things at run-time and will require a restart."},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1524027034,"post_id":49888724,"comment_id":86798356,"body_markdown":"@Oskar how are you serving your static frontend content?","body":"@Oskar how are you serving your static frontend content?"},{"owner":{"account_id":47282,"reputation":2151,"user_id":139984,"display_name":"Mateusz Mrozewski"},"score":0,"creation_date":1524028728,"post_id":49888724,"comment_id":86798923,"body_markdown":"There are probably several solutions. What I do is I have a spring boot backend with dev-tools so I can reload it easily from Intellij. For the Angular frontend I just use angular cli with development server and proxy configured to redirect my requests to the port that the backend is running on. This was I use what is given out of the box for both frontend and backend without any additional hacks. I am not sure if such a solution will be feasible for you.","body":"There are probably several solutions. What I do is I have a spring boot backend with dev-tools so I can reload it easily from Intellij. For the Angular frontend I just use angular cli with development server and proxy configured to redirect my requests to the port that the backend is running on. This was I use what is given out of the box for both frontend and backend without any additional hacks. I am not sure if such a solution will be feasible for you."}],"answers":[{"tags":[],"owner":{"account_id":7778494,"reputation":563,"user_id":5885758,"display_name":"murphy1312"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1524809490,"creation_date":1524809490,"answer_id":50056294,"question_id":49888724,"body_markdown":"I know of 2 different ways that work to do that.\r\n\r\n1) Using Intellij File Watcher Plugin\r\n\r\n2) Running webpack dev server as a reverse proxy for your spring-boot app\r\n\r\n---\r\n\r\n1) \r\n\r\n - Install Plugin &quot;File Watchers&quot; from Repositories\r\n - Go to Settings - Tools - File Watchers\r\n - Define a Webpack Task\r\n  - File Types: Any\r\n  - Define a new Scope to watch only your javascript files\r\n  - Program: Either run webpack from /node_modules/webpack/bin/webpack.js\r\n    or create some other executable file (like $ProjectFileDir$/webpack.sh)\r\n  - If you choose to run webpack from node_modules (which btw didnt work for me because of relative path issues) insert Arguments (like --config)\r\n  - Set output path to refresh: $ProjectFileDir$/src/main/static/js/bundled\r\n  - Set working directory to: $ProjectFileDir$\r\n\r\nNow if you save a file in your defined scope the webpack task will run. After that you have to refresh the page in your browser. Got the idea from [https://intellij-support.jetbrains.com][1]\r\n\r\n---\r\n\r\n2) \r\nThis way is more advanced, but harder to configure correctly. You will have auto-reload (the page refreshes) and full hot reloading (the react state persists)\r\n\r\nThe basic idea is to run a webpack-dev-server and use that server as a reverse proxy for your spring-boot backend. The dev-server will handle requests to hot-reloaded content himself and pass everything else to your backend. Got the idea from [https://www.codingbismuth.com/][2] .\r\n\r\nAs a example configuration \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;&quot;,\r\n      &quot;version&quot;: &quot;0.0.1&quot;,\r\n      &quot;description&quot;: &quot;&quot;,\r\n      &quot;repository&quot;: {\r\n        &quot;type&quot;: &quot;git&quot;,\r\n        &quot;url&quot;: &quot;&quot;\r\n      },\r\n      &quot;keywords&quot;: [\r\n        &quot;xy&quot;\r\n      ],\r\n      &quot;author&quot;: &quot;murphy&quot;,\r\n      &quot;license&quot;: &quot;&quot;,\r\n      &quot;bugs&quot;: {\r\n        &quot;url&quot;: &quot;&quot;\r\n      },\r\n      &quot;scripts&quot;: {\r\n        &quot;start:dev&quot;: &quot;webpack-dev-server --config webpack.dev_server.js&quot;\r\n      },\r\n      &quot;homepage&quot;: &quot;&quot;,\r\n      &quot;dependencies&quot;: {\r\n        &quot;file-saver&quot;: &quot;^1.3.3&quot;,\r\n        &quot;prop-types&quot;: &quot;^15.5.10&quot;,\r\n        &quot;react&quot;: &quot;^16.2.0&quot;,\r\n        &quot;react-bootstrap-typeahead&quot;: &quot;^2.3.0&quot;,\r\n        &quot;react-dom&quot;: &quot;^16.2.0&quot;,\r\n        &quot;react-modal&quot;: &quot;^3.1.8&quot;,\r\n        &quot;react-router&quot;: &quot;^4.2.0&quot;,\r\n        &quot;react-router-dom&quot;: &quot;^4.2.2&quot;,\r\n        &quot;react-datetime&quot;: &quot;^2.11.1&quot;,\r\n        &quot;rest&quot;: &quot;^1.3.1&quot;,\r\n        &quot;moment&quot;: &quot;^2.20.1&quot;,\r\n        &quot;webpack&quot;: &quot;^3.10.0&quot;,\r\n        &quot;swagger-ui&quot;: &quot;^3.13.4&quot;,\r\n        &quot;webpack-dev-server&quot;: &quot;^2.11.2&quot;\r\n      },\r\n      &quot;devDependencies&quot;: {\r\n        &quot;webpack-cli&quot;: &quot;^2.0.15&quot;,\r\n        &quot;react-hot-loader&quot;: &quot;^4.1.2&quot;,\r\n        &quot;babel-core&quot;: &quot;^6.18.2&quot;,\r\n        &quot;babel-eslint&quot;: &quot;^8.0.3&quot;,\r\n        &quot;babel-loader&quot;: &quot;^7.1.2&quot;,\r\n        &quot;babel-polyfill&quot;: &quot;^6.26.0&quot;,\r\n        &quot;babel-preset-es2015&quot;: &quot;^6.18.0&quot;,\r\n        &quot;babel-preset-react&quot;: &quot;^6.16.0&quot;,\r\n        &quot;eslint&quot;: &quot;^4.13.1&quot;,\r\n        &quot;eslint-plugin-react&quot;: &quot;^7.5.1&quot;,\r\n        &quot;eslint-loader&quot;: &quot;^1.9.0&quot;,\r\n        &quot;eslint-watch&quot;: &quot;^3.1.3&quot;,\r\n        &quot;eslint-config-airbnb&quot;: &quot;^16.1.0&quot;,\r\n        &quot;eslint-plugin-jsx-a11y&quot;: &quot;^6.0.2&quot;,\r\n        &quot;eslint-plugin-import&quot;: &quot;^2.8.0&quot;,\r\n        &quot;eslint-plugin-flowtype&quot;: &quot;^2.40.1&quot;,\r\n        &quot;uglifyjs-webpack-plugin2&quot;: &quot;^1.0.3&quot;\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    const { resolve } = require(&#39;path&#39;);\r\n    const path = require(&#39;path&#39;);\r\n    const webpack = require(&#39;webpack&#39;);\r\n\r\n    module.exports = {\r\n        context: resolve(__dirname, &#39;.&#39;),\r\n\r\n        entry: [\r\n            &#39;react-hot-loader/patch&#39;,\r\n            // activate HMR for React\r\n\r\n            &#39;webpack-dev-server/client?http://localhost:8888&#39;,\r\n            // bundle the client for webpack-dev-server\r\n            // and connect to the provided endpoint\r\n\r\n            &#39;webpack/hot/only-dev-server&#39;,\r\n            // bundle the client for hot reloading\r\n            // only- means to only hot reload for successful updates\r\n\r\n            // the entry point of our app\r\n            &#39;./src/main/js/router/mainrouter.jsx&#39;,\r\n        ],\r\n        output: {\r\n            filename: &#39;./mainbundle.js&#39;,\r\n            // the output bundle\r\n\r\n            path: resolve(__dirname, &#39;/src/main/resources/static/js/bundled&#39;),\r\n\r\n            publicPath: &#39;/js/bundled/&#39;,\r\n            // necessary for HMR to know where to load the hot update chunks\r\n        },\r\n\r\n        devtool: &#39;sourcemaps&#39;,\r\n        devServer: {\r\n            hot: true,\r\n            contentBase: [resolve(__dirname, &quot;.&quot;), resolve(__dirname, &quot;./src/main/resources/static/js/bundled&quot;)],\r\n            proxy: {\r\n                &quot;/&quot;: {\r\n                    target: {\r\n                        host: &quot;localhost&quot;,\r\n                        protocol: &#39;http:&#39;,\r\n                        port: 8087,\r\n                    },\r\n                },\r\n                ignorePath: true,\r\n                changeOrigin: true,\r\n                secure: false,\r\n            },\r\n            publicPath: &#39;/js/bundled/&#39;,\r\n            port: 8888,\r\n            host: &quot;localhost&quot;,\r\n        },\r\n        module: {\r\n            rules: [\r\n                {\r\n                    enforce: &quot;pre&quot;,\r\n                    test: /\\.jsx$/,\r\n                    exclude: /node_modules/,\r\n                    loader: &quot;eslint-loader&quot;,\r\n                    options: {\r\n                        // fix: true, // autofix\r\n                        cache: true,\r\n                        failOnError: false,\r\n                        emitWarning: true,\r\n                        quiet: true,\r\n                    },\r\n                },\r\n                {\r\n                    test: path.join(__dirname, &#39;.&#39;),\r\n                    exclude: /node_modules/,\r\n                    loader: &quot;babel-loader&quot;,\r\n                    query: {\r\n                        // cacheDirectory: true,\r\n                        presets: [&#39;es2015&#39;, &#39;react&#39;],\r\n                    },\r\n                },\r\n                {\r\n                    test: /\\.css$/,\r\n                    use: [&#39;style-loader&#39;, &#39;css-loader?modules&#39;],\r\n                },\r\n            ],\r\n        },\r\n\r\n        plugins: [\r\n            new webpack.HotModuleReplacementPlugin(),\r\n            // enable HMR globally\r\n\r\n            new webpack.NamedModulesPlugin(),\r\n            // prints more readable module names in the browser console on HMR updates\r\n        ],\r\n    };\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe spring boot app is running on :8087 and the webpack dev server on :8888. Now in your index.html you include the mainbundle.js.\r\nRun your spring-boot app and in a second terminal run:\r\n\r\n    npm run start:dev\r\n\r\nAccess the webpage on :8888 to have hot reloading on file changes.\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000378264-Make-IntelliJ-automatically-detect-changes-produced-by-webpack\r\n  [2]: https://www.codingbismuth.com/spring-react-and-webpack-using-the-webpack-dev-server/","title":"Hot reload for spring boot backend + frontend","body":"<p>I know of 2 different ways that work to do that.</p>\n\n<p>1) Using Intellij File Watcher Plugin</p>\n\n<p>2) Running webpack dev server as a reverse proxy for your spring-boot app</p>\n\n<hr>\n\n<p>1) </p>\n\n<ul>\n<li>Install Plugin \"File Watchers\" from Repositories</li>\n<li>Go to Settings - Tools - File Watchers</li>\n<li>Define a Webpack Task\n\n<ul>\n<li>File Types: Any</li>\n<li>Define a new Scope to watch only your javascript files</li>\n<li>Program: Either run webpack from /node_modules/webpack/bin/webpack.js\nor create some other executable file (like $ProjectFileDir$/webpack.sh)</li>\n<li>If you choose to run webpack from node_modules (which btw didnt work for me because of relative path issues) insert Arguments (like --config)</li>\n<li>Set output path to refresh: $ProjectFileDir$/src/main/static/js/bundled</li>\n<li>Set working directory to: $ProjectFileDir$</li>\n</ul></li>\n</ul>\n\n<p>Now if you save a file in your defined scope the webpack task will run. After that you have to refresh the page in your browser. Got the idea from <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000378264-Make-IntelliJ-automatically-detect-changes-produced-by-webpack\" rel=\"noreferrer\">https://intellij-support.jetbrains.com</a></p>\n\n<hr>\n\n<p>2) \nThis way is more advanced, but harder to configure correctly. You will have auto-reload (the page refreshes) and full hot reloading (the react state persists)</p>\n\n<p>The basic idea is to run a webpack-dev-server and use that server as a reverse proxy for your spring-boot backend. The dev-server will handle requests to hot-reloaded content himself and pass everything else to your backend. Got the idea from <a href=\"https://www.codingbismuth.com/spring-react-and-webpack-using-the-webpack-dev-server/\" rel=\"noreferrer\">https://www.codingbismuth.com/</a> .</p>\n\n<p>As a example configuration </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\r\n  \"name\": \"\",\r\n  \"version\": \"0.0.1\",\r\n  \"description\": \"\",\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"\"\r\n  },\r\n  \"keywords\": [\r\n    \"xy\"\r\n  ],\r\n  \"author\": \"murphy\",\r\n  \"license\": \"\",\r\n  \"bugs\": {\r\n    \"url\": \"\"\r\n  },\r\n  \"scripts\": {\r\n    \"start:dev\": \"webpack-dev-server --config webpack.dev_server.js\"\r\n  },\r\n  \"homepage\": \"\",\r\n  \"dependencies\": {\r\n    \"file-saver\": \"^1.3.3\",\r\n    \"prop-types\": \"^15.5.10\",\r\n    \"react\": \"^16.2.0\",\r\n    \"react-bootstrap-typeahead\": \"^2.3.0\",\r\n    \"react-dom\": \"^16.2.0\",\r\n    \"react-modal\": \"^3.1.8\",\r\n    \"react-router\": \"^4.2.0\",\r\n    \"react-router-dom\": \"^4.2.2\",\r\n    \"react-datetime\": \"^2.11.1\",\r\n    \"rest\": \"^1.3.1\",\r\n    \"moment\": \"^2.20.1\",\r\n    \"webpack\": \"^3.10.0\",\r\n    \"swagger-ui\": \"^3.13.4\",\r\n    \"webpack-dev-server\": \"^2.11.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"webpack-cli\": \"^2.0.15\",\r\n    \"react-hot-loader\": \"^4.1.2\",\r\n    \"babel-core\": \"^6.18.2\",\r\n    \"babel-eslint\": \"^8.0.3\",\r\n    \"babel-loader\": \"^7.1.2\",\r\n    \"babel-polyfill\": \"^6.26.0\",\r\n    \"babel-preset-es2015\": \"^6.18.0\",\r\n    \"babel-preset-react\": \"^6.16.0\",\r\n    \"eslint\": \"^4.13.1\",\r\n    \"eslint-plugin-react\": \"^7.5.1\",\r\n    \"eslint-loader\": \"^1.9.0\",\r\n    \"eslint-watch\": \"^3.1.3\",\r\n    \"eslint-config-airbnb\": \"^16.1.0\",\r\n    \"eslint-plugin-jsx-a11y\": \"^6.0.2\",\r\n    \"eslint-plugin-import\": \"^2.8.0\",\r\n    \"eslint-plugin-flowtype\": \"^2.40.1\",\r\n    \"uglifyjs-webpack-plugin2\": \"^1.0.3\"\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const { resolve } = require('path');\r\nconst path = require('path');\r\nconst webpack = require('webpack');\r\n\r\nmodule.exports = {\r\n    context: resolve(__dirname, '.'),\r\n\r\n    entry: [\r\n        'react-hot-loader/patch',\r\n        // activate HMR for React\r\n\r\n        'webpack-dev-server/client?http://localhost:8888',\r\n        // bundle the client for webpack-dev-server\r\n        // and connect to the provided endpoint\r\n\r\n        'webpack/hot/only-dev-server',\r\n        // bundle the client for hot reloading\r\n        // only- means to only hot reload for successful updates\r\n\r\n        // the entry point of our app\r\n        './src/main/js/router/mainrouter.jsx',\r\n    ],\r\n    output: {\r\n        filename: './mainbundle.js',\r\n        // the output bundle\r\n\r\n        path: resolve(__dirname, '/src/main/resources/static/js/bundled'),\r\n\r\n        publicPath: '/js/bundled/',\r\n        // necessary for HMR to know where to load the hot update chunks\r\n    },\r\n\r\n    devtool: 'sourcemaps',\r\n    devServer: {\r\n        hot: true,\r\n        contentBase: [resolve(__dirname, \".\"), resolve(__dirname, \"./src/main/resources/static/js/bundled\")],\r\n        proxy: {\r\n            \"/\": {\r\n                target: {\r\n                    host: \"localhost\",\r\n                    protocol: 'http:',\r\n                    port: 8087,\r\n                },\r\n            },\r\n            ignorePath: true,\r\n            changeOrigin: true,\r\n            secure: false,\r\n        },\r\n        publicPath: '/js/bundled/',\r\n        port: 8888,\r\n        host: \"localhost\",\r\n    },\r\n    module: {\r\n        rules: [\r\n            {\r\n                enforce: \"pre\",\r\n                test: /\\.jsx$/,\r\n                exclude: /node_modules/,\r\n                loader: \"eslint-loader\",\r\n                options: {\r\n                    // fix: true, // autofix\r\n                    cache: true,\r\n                    failOnError: false,\r\n                    emitWarning: true,\r\n                    quiet: true,\r\n                },\r\n            },\r\n            {\r\n                test: path.join(__dirname, '.'),\r\n                exclude: /node_modules/,\r\n                loader: \"babel-loader\",\r\n                query: {\r\n                    // cacheDirectory: true,\r\n                    presets: ['es2015', 'react'],\r\n                },\r\n            },\r\n            {\r\n                test: /\\.css$/,\r\n                use: ['style-loader', 'css-loader?modules'],\r\n            },\r\n        ],\r\n    },\r\n\r\n    plugins: [\r\n        new webpack.HotModuleReplacementPlugin(),\r\n        // enable HMR globally\r\n\r\n        new webpack.NamedModulesPlugin(),\r\n        // prints more readable module names in the browser console on HMR updates\r\n    ],\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The spring boot app is running on :8087 and the webpack dev server on :8888. Now in your index.html you include the mainbundle.js.\nRun your spring-boot app and in a second terminal run:</p>\n\n<pre><code>npm run start:dev\n</code></pre>\n\n<p>Access the webpage on :8888 to have hot reloading on file changes.</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679517842,"creation_date":1679517842,"answer_id":75817107,"question_id":49888724,"body_markdown":"For React you can install [Babel CLI][1] with the [React Preset][2], and run Babel in `--watch` mode. It will continuously transpile your JSX to JavaScript, and if you have Spring DevTools installed you&#39;ll see the new information immediately after reloading your web page when running in your IDE.\r\n\r\nI&#39;ve written up a full tutorial at [No-Fuss React and JSX with Spring Boot][3], but here&#39;s the gist of it:\r\n\r\n```bash\r\nnpm install --save-dev @babel/core @babel/cli @babel/preset-react\r\nnpx babel src/main/resources/static --out-dir target/classes/static --presets=@babel/preset-react --only=&quot;**/*.jsx&quot; --watch\r\n```\r\n\r\nMy article goes into depth about how to integrate this transparently into the Maven build, and how to structure your HTML so that you won&#39;t need Webpack or any larger front-end build system other than Maven.\r\n\r\n\r\n  [1]: https://babeljs.io/docs/babel-cli\r\n  [2]: https://babeljs.io/docs/babel-preset-react\r\n  [3]: https://www.garretwilson.com/blog/2023/03/21/no-fuss-react-jsx-with-spring-boot","title":"Hot reload for spring boot backend + frontend","body":"<p>For React you can install <a href=\"https://babeljs.io/docs/babel-cli\" rel=\"nofollow noreferrer\">Babel CLI</a> with the <a href=\"https://babeljs.io/docs/babel-preset-react\" rel=\"nofollow noreferrer\">React Preset</a>, and run Babel in <code>--watch</code> mode. It will continuously transpile your JSX to JavaScript, and if you have Spring DevTools installed you'll see the new information immediately after reloading your web page when running in your IDE.</p>\n<p>I've written up a full tutorial at <a href=\"https://www.garretwilson.com/blog/2023/03/21/no-fuss-react-jsx-with-spring-boot\" rel=\"nofollow noreferrer\">No-Fuss React and JSX with Spring Boot</a>, but here's the gist of it:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>npm install --save-dev @babel/core @babel/cli @babel/preset-react\nnpx babel src/main/resources/static --out-dir target/classes/static --presets=@babel/preset-react --only=&quot;**/*.jsx&quot; --watch\n</code></pre>\n<p>My article goes into depth about how to integrate this transparently into the Maven build, and how to structure your HTML so that you won't need Webpack or any larger front-end build system other than Maven.</p>\n"}],"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10919,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679517842,"creation_date":1524006118,"question_id":49888724,"body_markdown":"I rode those docs about spring dev tools and hot reload\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude\r\n\r\nAnd according to that is see there is such posibility to hot reload java and backed React/Typescript/webpack app\r\n\r\nThis is our architecture (in shortcut)\r\n\r\n    mainmodule\r\n        backendModules &lt;- those modules are just maven project have theirs poms and etc\r\n              backendModule1\r\n              backendModule2\r\n    fontendModule\r\n           content &lt;- React/Typescript/Webpack/Less etc\r\n\r\nbackendModule2 - We are using to start backend\r\nbackendModule1 - is just some additional services\r\nfontendModule/content - is our whole react app\r\n\r\n\r\nAm I right if I say to have reload for our frontend files I have to:\r\n\r\n1. Configure Intellij as I&#39;m doing it normally for backend &lt;- this is easy\r\n\r\n    1a. Change registry\r\n\r\n    1b. select build project automatically\r\n\r\nMy question is what I have to do to force reloading of frontend files - So developer just need to run 1 app and then backend + frontend will be reloaded automaticlly\r\n\r\n2. Add frontend extensions to resource patterns(Intellij: Build, execution -&gt; compiler)? jsx, json, js, less and etc?\r\n\r\n3. According to doc add &quot;spring.devtools.restart.additional-paths&quot;\r\n\r\nDid anyone was able to do that? We are not getting any errors and etc...\r\n\r\nLet me know if something seems to be unclear so we can clarify that\r\n\r\n\r\n","title":"Hot reload for spring boot backend + frontend","body":"<p>I rode those docs about spring dev tools and hot reload</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html</a>\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude</a></p>\n\n<p>And according to that is see there is such posibility to hot reload java and backed React/Typescript/webpack app</p>\n\n<p>This is our architecture (in shortcut)</p>\n\n<pre><code>mainmodule\n    backendModules &lt;- those modules are just maven project have theirs poms and etc\n          backendModule1\n          backendModule2\nfontendModule\n       content &lt;- React/Typescript/Webpack/Less etc\n</code></pre>\n\n<p>backendModule2 - We are using to start backend\nbackendModule1 - is just some additional services\nfontendModule/content - is our whole react app</p>\n\n<p>Am I right if I say to have reload for our frontend files I have to:</p>\n\n<ol>\n<li><p>Configure Intellij as I'm doing it normally for backend &lt;- this is easy</p>\n\n<p>1a. Change registry</p>\n\n<p>1b. select build project automatically</p></li>\n</ol>\n\n<p>My question is what I have to do to force reloading of frontend files - So developer just need to run 1 app and then backend + frontend will be reloaded automaticlly</p>\n\n<ol start=\"2\">\n<li><p>Add frontend extensions to resource patterns(Intellij: Build, execution -> compiler)? jsx, json, js, less and etc?</p></li>\n<li><p>According to doc add \"spring.devtools.restart.additional-paths\"</p></li>\n</ol>\n\n<p>Did anyone was able to do that? We are not getting any errors and etc...</p>\n\n<p>Let me know if something seems to be unclear so we can clarify that</p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679515016,"creation_date":1679515016,"answer_id":75816757,"question_id":75816713,"body_markdown":"The SO question https://stackoverflow.com/questions/56286934/which-cipher-suites-algorithm-are-supported-in-jdk11-and-which-one-is-best-to-us has the answer buried in details of answering a related question.\r\n\r\nThe link is:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names\r\n\r\nThe table is very large so it is not reproduced below.","title":"How can I get a list of cipher suites available in java 11?","body":"<p>The SO question <a href=\"https://stackoverflow.com/questions/56286934/which-cipher-suites-algorithm-are-supported-in-jdk11-and-which-one-is-best-to-us\">Which Cipher Suites Algorithm Are Supported in Jdk11 and Which One is Best to Use with TLSv1.2</a> has the answer buried in details of answering a related question.</p>\n<p>The link is:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names</a></p>\n<p>The table is very large so it is not reproduced below.</p>\n"},{"tags":[],"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679517556,"creation_date":1679516256,"answer_id":75816913,"question_id":75816713,"body_markdown":"\r\n\r\n    SSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n    SSLSocket secureSocket = (SSLSocket) f.createSocket();\r\n    stream(secureSocket.getSupportedCipherSuites()).forEach(System.out::println);\r\n\r\np.s. \r\nAlso there is this cool link from mozilla that recommend based on the webserver: https://ssl-config.mozilla.org/#server=tomcat&amp;version=9.0.30&amp;config=intermediate&amp;guideline=5.6","title":"How can I get a list of cipher suites available in java 11?","body":"<pre><code>SSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\nSSLSocket secureSocket = (SSLSocket) f.createSocket();\nstream(secureSocket.getSupportedCipherSuites()).forEach(System.out::println);\n</code></pre>\n<p>p.s.\nAlso there is this cool link from mozilla that recommend based on the webserver: <a href=\"https://ssl-config.mozilla.org/#server=tomcat&amp;version=9.0.30&amp;config=intermediate&amp;guideline=5.6\" rel=\"nofollow noreferrer\">https://ssl-config.mozilla.org/#server=tomcat&amp;version=9.0.30&amp;config=intermediate&amp;guideline=5.6</a></p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1679517556,"creation_date":1679514730,"question_id":75816713,"body_markdown":"I&#39;m debugging an SSL problem and trying find how Java knows what cipher suites are supported.\r\n\r\n**How can I get a list of the cipher suites that are supported by TLSv1.2 in Java 11?**\r\n\r\n**Is there Java code I could write to list the cipher suites available?**\r\n\r\n## Searching for answers:\r\n\r\nI found that `openssl` can list several.\r\n```\r\nopenssl ciphers -V | head\r\n          0xC0,0x30 - ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n          0xC0,0x2C - ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\r\n          0xC0,0x28 - ECDHE-RSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA384\r\n          0xC0,0x24 - ECDHE-ECDSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA384\r\n          0xC0,0x14 - ECDHE-RSA-AES256-SHA    SSLv3 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA1\r\n          0xC0,0x0A - ECDHE-ECDSA-AES256-SHA  SSLv3 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA1\r\n          0x00,0xA5 - DH-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH/DSS   Au=DH   Enc=AESGCM(256) Mac=AEAD\r\n          0x00,0xA3 - DHE-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=DSS  Enc=AESGCM(256) Mac=AEAD\r\n          0x00,0xA1 - DH-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH/RSA   Au=DH   Enc=AESGCM(256) Mac=AEAD\r\n          0x00,0x9F - DHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n```\r\n","title":"How can I get a list of cipher suites available in java 11?","body":"<p>I'm debugging an SSL problem and trying find how Java knows what cipher suites are supported.</p>\n<p><strong>How can I get a list of the cipher suites that are supported by TLSv1.2 in Java 11?</strong></p>\n<p><strong>Is there Java code I could write to list the cipher suites available?</strong></p>\n<h2>Searching for answers:</h2>\n<p>I found that <code>openssl</code> can list several.</p>\n<pre><code>openssl ciphers -V | head\n          0xC0,0x30 - ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\n          0xC0,0x2C - ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\n          0xC0,0x28 - ECDHE-RSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA384\n          0xC0,0x24 - ECDHE-ECDSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA384\n          0xC0,0x14 - ECDHE-RSA-AES256-SHA    SSLv3 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA1\n          0xC0,0x0A - ECDHE-ECDSA-AES256-SHA  SSLv3 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA1\n          0x00,0xA5 - DH-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH/DSS   Au=DH   Enc=AESGCM(256) Mac=AEAD\n          0x00,0xA3 - DHE-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=DSS  Enc=AESGCM(256) Mac=AEAD\n          0x00,0xA1 - DH-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH/RSA   Au=DH   Enc=AESGCM(256) Mac=AEAD\n          0x00,0x9F - DHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(256) Mac=AEAD\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","security","fortify"],"comments":[{"owner":{"account_id":18032226,"reputation":2541,"user_id":13106495,"display_name":"Ismail Durmaz"},"score":0,"creation_date":1608285620,"post_id":65354660,"comment_id":115542157,"body_markdown":"Could you share the `request` variable details?","body":"Could you share the <code>request</code> variable details?"}],"answers":[{"tags":[],"owner":{"account_id":18032226,"reputation":2541,"user_id":13106495,"display_name":"Ismail Durmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608286911,"creation_date":1608286911,"answer_id":65355276,"question_id":65354660,"body_markdown":"You can use `accept` and `reject` methods to safer deserialization operation.\r\n\r\nExample:\r\n```java\r\nimport com.sun.xml.internal.ws.util.ByteArrayBuffer;\r\nimport org.apache.commons.io.serialization.ValidatingObjectInputStream;\r\n\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        Bar bar = new Bar(&quot;bar-test&quot;);\r\n        Foo foo = new Foo(&quot;test-foo&quot;, bar);\r\n\r\n        // write into an array buffer\r\n        ByteArrayBuffer buffer = new ByteArrayBuffer();\r\n        try (ObjectOutputStream serializeStream = new ObjectOutputStream(buffer)) {\r\n            serializeStream.writeObject(foo);\r\n        }\r\n\r\n        try (ValidatingObjectInputStream stream = new ValidatingObjectInputStream(buffer.newInputStream())) {\r\n            // add validated classes\r\n            stream.accept(Foo.class);\r\n            stream.accept(Bar.class);\r\n\r\n\r\n            Foo foo2 = (Foo) stream.readObject();\r\n            System.out.println(foo2);\r\n        }\r\n    }\r\n\r\n    public static class Foo implements Serializable {\r\n        private String name;\r\n        private Bar bar;\r\n\r\n        public Foo(String name, Bar bar) {\r\n            this.name = name;\r\n            this.bar = bar;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Foo{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, bar=&quot; + bar +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    public static class Bar implements Serializable {\r\n        private String name;\r\n\r\n        public Bar(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Bar{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```","title":"Dynamic Code Evaluation: Unsafe Deserialization on SerializationUtils.clone()","body":"<p>You can use <code>accept</code> and <code>reject</code> methods to safer deserialization operation.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.xml.internal.ws.util.ByteArrayBuffer;\nimport org.apache.commons.io.serialization.ValidatingObjectInputStream;\n\nimport java.io.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        Bar bar = new Bar(&quot;bar-test&quot;);\n        Foo foo = new Foo(&quot;test-foo&quot;, bar);\n\n        // write into an array buffer\n        ByteArrayBuffer buffer = new ByteArrayBuffer();\n        try (ObjectOutputStream serializeStream = new ObjectOutputStream(buffer)) {\n            serializeStream.writeObject(foo);\n        }\n\n        try (ValidatingObjectInputStream stream = new ValidatingObjectInputStream(buffer.newInputStream())) {\n            // add validated classes\n            stream.accept(Foo.class);\n            stream.accept(Bar.class);\n\n\n            Foo foo2 = (Foo) stream.readObject();\n            System.out.println(foo2);\n        }\n    }\n\n    public static class Foo implements Serializable {\n        private String name;\n        private Bar bar;\n\n        public Foo(String name, Bar bar) {\n            this.name = name;\n            this.bar = bar;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Foo{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    &quot;, bar=&quot; + bar +\n                    '}';\n        }\n    }\n\n    public static class Bar implements Serializable {\n        private String name;\n\n        public Bar(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Bar{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    '}';\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8974840,"reputation":359,"user_id":6692088,"display_name":"Kevin Valdez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517516,"creation_date":1679517516,"answer_id":75817061,"question_id":65354660,"body_markdown":"The fortify issue makes sense since `SerializationUtils.clone` first deserialize and then serialize the content into a new object.\r\n\r\nA work around I found for this specific scenario with cloning is to use other deep clone library. here is an example.\r\n\r\n    public void deepClone() {\r\n        User pm = new User(&quot;Kevin&quot;, &quot;13&quot;, &quot;test@test.com&quot;);\r\n        Gson gson = new Gson();\r\n        //Deep clone object\r\n        User deepCopy = gson.fromJson(gson.toJson(pm), User.class);\r\n    }\r\n\r\nWith this method the class you want to clone eg. User.Class doesn&#39;t need to implement `Serializable`","title":"Dynamic Code Evaluation: Unsafe Deserialization on SerializationUtils.clone()","body":"<p>The fortify issue makes sense since <code>SerializationUtils.clone</code> first deserialize and then serialize the content into a new object.</p>\n<p>A work around I found for this specific scenario with cloning is to use other deep clone library. here is an example.</p>\n<pre><code>public void deepClone() {\n    User pm = new User(&quot;Kevin&quot;, &quot;13&quot;, &quot;test@test.com&quot;);\n    Gson gson = new Gson();\n    //Deep clone object\n    User deepCopy = gson.fromJson(gson.toJson(pm), User.class);\n}\n</code></pre>\n<p>With this method the class you want to clone eg. User.Class doesn't need to implement <code>Serializable</code></p>\n"}],"owner":{"account_id":9827701,"reputation":13,"user_id":7280406,"display_name":"nooruto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65355276,"answer_count":2,"score":0,"last_activity_date":1679517516,"creation_date":1608284264,"question_id":65354660,"body_markdown":"I am getting Fortify issue **Dynamic Code Evaluation: Unsafe Deserialization** on the lines below:\r\n\r\n```\r\n@RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\r\n\tpublic JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request)\r\n\r\n```\r\n\r\n```\r\nJsonDocVerifyRequestV3 temp = (JsonDocVerifyRequestV3)SerializationUtils.clone(request);\r\n\r\n```\r\n\r\nThe solution for unsafe deserialization is this https://www.ibm.com/developerworks/library/se-lookahead/ \r\nBut as you can see in my codes I am not using ByteArrayOutputStream to deserialize the object.\r\n\r\nIs this a false positive by Fortify? If not, how can I use \r\n\r\n```\r\norg.apache.commons.io.serialization.ValidatingObjectInputStream\r\n```\r\nto validate the class? Any code sample will be of great help!\r\n\r\nThese are the snippets:\r\n\r\n```java\r\n\t@RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\r\n\tpublic JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request) {\r\n\r\n\t\tdebugJsonRequest(request, DOC_TYPE.khIdBack);\r\n\r\n\t\tJsonDocVerifyResponse response = new JsonDocVerifyResponse();\r\n\r\n\t\treturn response;\r\n\t}\r\n   public void debugJsonRequest(JsonDocVerifyRequestV3 request, DOC_TYPE docType) {\r\n\r\n        try {\r\n\r\n          JsonDocVerifyRequestV3 temp(JsonDocVerifyRequestV3) SerializationUtils.clone(request);\r\n\r\n          LOGGER.debug(&quot;{}|{}&quot;, docType, CommonUtil.debugJsonObject(temp));\r\n\r\n        } catch(Exception e) {\r\n         LOGGER.error(&quot;Error in debug json object&quot;, e);\r\n        }\r\n\r\n }\r\n```","title":"Dynamic Code Evaluation: Unsafe Deserialization on SerializationUtils.clone()","body":"<p>I am getting Fortify issue <strong>Dynamic Code Evaluation: Unsafe Deserialization</strong> on the lines below:</p>\n<pre><code>@RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\n    public JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request)\n\n</code></pre>\n<pre><code>JsonDocVerifyRequestV3 temp = (JsonDocVerifyRequestV3)SerializationUtils.clone(request);\n\n</code></pre>\n<p>The solution for unsafe deserialization is this <a href=\"https://www.ibm.com/developerworks/library/se-lookahead/\" rel=\"nofollow noreferrer\">https://www.ibm.com/developerworks/library/se-lookahead/</a>\nBut as you can see in my codes I am not using ByteArrayOutputStream to deserialize the object.</p>\n<p>Is this a false positive by Fortify? If not, how can I use</p>\n<pre><code>org.apache.commons.io.serialization.ValidatingObjectInputStream\n</code></pre>\n<p>to validate the class? Any code sample will be of great help!</p>\n<p>These are the snippets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\n    public JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request) {\n\n        debugJsonRequest(request, DOC_TYPE.khIdBack);\n\n        JsonDocVerifyResponse response = new JsonDocVerifyResponse();\n\n        return response;\n    }\n   public void debugJsonRequest(JsonDocVerifyRequestV3 request, DOC_TYPE docType) {\n\n        try {\n\n          JsonDocVerifyRequestV3 temp(JsonDocVerifyRequestV3) SerializationUtils.clone(request);\n\n          LOGGER.debug(&quot;{}|{}&quot;, docType, CommonUtil.debugJsonObject(temp));\n\n        } catch(Exception e) {\n         LOGGER.error(&quot;Error in debug json object&quot;, e);\n        }\n\n }\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1678958904,"post_id":75752718,"comment_id":133634806,"body_markdown":"which version of Spring Data Elasticsearch do you use? The `RestHighLevel` client is deprectaed anyway.","body":"which version of Spring Data Elasticsearch do you use? The <code>RestHighLevel</code> client is deprectaed anyway."},{"owner":{"account_id":18699346,"reputation":21,"user_id":13631881,"display_name":"spaceMan"},"score":0,"creation_date":1678974609,"post_id":75752718,"comment_id":133639644,"body_markdown":"I am using Spring Data Elasticsearch with 4.0.8 version","body":"I am using Spring Data Elasticsearch with 4.0.8 version"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1678976414,"post_id":75752718,"comment_id":133640237,"body_markdown":"well that&#39;s pretty outdated; 4.0.8 was release on March 17, 2021, the 4.0 branch had EOL in February 2022.","body":"well that&#39;s pretty outdated; 4.0.8 was release on March 17, 2021, the 4.0 branch had EOL in February 2022."}],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":1996,"user_id":10685211,"display_name":"Musab Dogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678949398,"creation_date":1678949398,"answer_id":75752905,"question_id":75752718,"body_markdown":"You can&#39;t change a field type, and you can&#39;t remove any existing fields but you can add additional fields to your existing mapping.\r\nHere is the official documentation about it. [ESv6][1] and [ESv8][2]\r\n\r\nHere is an example:\r\n\r\nCreate the index\r\n\r\n    PUT my_index \r\n    {\r\n      &quot;mappings&quot;: {\r\n        &quot;_doc&quot;: {\r\n          &quot;properties&quot;: {\r\n            &quot;name&quot;: {\r\n              &quot;properties&quot;: {\r\n                &quot;first&quot;: {\r\n                  &quot;type&quot;: &quot;text&quot;\r\n                }\r\n              }\r\n            },\r\n            &quot;user_id&quot;: {\r\n              &quot;type&quot;: &quot;keyword&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\nUpdate the mapping\r\n\r\n    PUT my_index/_mapping/_doc\r\n    {\r\n      &quot;properties&quot;: {\r\n        &quot;name&quot;: {\r\n          &quot;properties&quot;: {\r\n            &quot;last&quot;: { \r\n              &quot;type&quot;: &quot;text&quot;\r\n            }\r\n          }\r\n        },\r\n        &quot;user_id&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;,\r\n          &quot;ignore_above&quot;: 100 \r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/6.6/indices-put-mapping.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>You can't change a field type, and you can't remove any existing fields but you can add additional fields to your existing mapping.\nHere is the official documentation about it. <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/6.6/indices-put-mapping.html\" rel=\"nofollow noreferrer\">ESv6</a> and <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html\" rel=\"nofollow noreferrer\">ESv8</a></p>\n<p>Here is an example:</p>\n<p>Create the index</p>\n<pre><code>PUT my_index \n{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {\n      &quot;properties&quot;: {\n        &quot;name&quot;: {\n          &quot;properties&quot;: {\n            &quot;first&quot;: {\n              &quot;type&quot;: &quot;text&quot;\n            }\n          }\n        },\n        &quot;user_id&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Update the mapping</p>\n<pre><code>PUT my_index/_mapping/_doc\n{\n  &quot;properties&quot;: {\n    &quot;name&quot;: {\n      &quot;properties&quot;: {\n        &quot;last&quot;: { \n          &quot;type&quot;: &quot;text&quot;\n        }\n      }\n    },\n    &quot;user_id&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;,\n      &quot;ignore_above&quot;: 100 \n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28029785,"reputation":1,"user_id":21409157,"display_name":"Jeroki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517420,"creation_date":1678951091,"answer_id":75753116,"question_id":75752718,"body_markdown":"To update your existing index mapping without losing data, you can use one of these methods:\r\n\r\n1. Use the reindex API to create a new index with the new mapping and copy the data from the old index to the new index. Then change the alias to point to the new index. This method preserves your data and allows you to change any mapping parameter, but it requires extra disk space and time for reindexing.\r\n\r\n2. Use the update mapping API to add new fields or change some supported mapping parameters of existing fields in your old index. This method does not require reindexing or extra disk space, but it has some limitations on what you can change. For example, you cannot change the field type or analyzer of an existing field.\r\n\r\n3. Use spring-data-elasticsearch repository to perform either of the above methods using Java code. You can use @Mapping annotation on your entity class to specify the mapping for your new index, and use ElasticsearchOperations.reindex() method to reindex your data from old index to new index. You can also use ElasticsearchOperations.putMapping() method to update your existing index mapping with some supported changes.","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>To update your existing index mapping without losing data, you can use one of these methods:</p>\n<ol>\n<li><p>Use the reindex API to create a new index with the new mapping and copy the data from the old index to the new index. Then change the alias to point to the new index. This method preserves your data and allows you to change any mapping parameter, but it requires extra disk space and time for reindexing.</p>\n</li>\n<li><p>Use the update mapping API to add new fields or change some supported mapping parameters of existing fields in your old index. This method does not require reindexing or extra disk space, but it has some limitations on what you can change. For example, you cannot change the field type or analyzer of an existing field.</p>\n</li>\n<li><p>Use spring-data-elasticsearch repository to perform either of the above methods using Java code. You can use @Mapping annotation on your entity class to specify the mapping for your new index, and use ElasticsearchOperations.reindex() method to reindex your data from old index to new index. You can also use ElasticsearchOperations.putMapping() method to update your existing index mapping with some supported changes.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21667917,"reputation":31,"user_id":15985987,"display_name":"Furkan &#214;zmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954407,"creation_date":1678954407,"answer_id":75753531,"question_id":75752718,"body_markdown":"can&#39;t change a field type, and you can&#39;t remove any existing fields","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>can't change a field type, and you can't remove any existing fields</p>\n"}],"owner":{"account_id":18699346,"reputation":21,"user_id":13631881,"display_name":"spaceMan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1679517420,"creation_date":1678947677,"question_id":75752718,"body_markdown":"I have an existing index &quot;my-index&quot; in Elastic. I&#39;m trying to update this existing index with new fields without losing data.\r\n\r\nI also tried to update the existing index with .putMapping function of RestHighLevelClient but I still got an error like this\r\n&gt; Elasticsearch exception [type=mapper_parsing_exception, reason=Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:...\r\n\r\nHere are the mappings of my existing index\r\n```\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;_doc&quot;: {\r\n      &quot;properties&quot;: {\r\n        &quot;_class&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;,\r\n          &quot;fields&quot;: {\r\n            &quot;keyword&quot;: {\r\n              &quot;type&quot;: &quot;keyword&quot;,\r\n              &quot;ignore_above&quot;: 420\r\n            }\r\n          }\r\n        },\r\n        &quot;taskType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;updateTime&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n        },\r\n        &quot;workType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd my expected index is\r\n```\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;_doc&quot;: {  \r\n    &quot;mappings&quot;: {\r\n    &quot;dynamic_templates&quot;: [\r\n      {\r\n        &quot;strings&quot;: {\r\n          &quot;match_mapping_type&quot;: &quot;string&quot;,\r\n          &quot;mapping&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        &quot;dates&quot;: {\r\n          &quot;match_mapping_type&quot;: &quot;date&quot;,\r\n          &quot;mapping&quot;: {\r\n            &quot;type&quot;: &quot;date&quot;,\r\n            &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n          }\r\n        }\r\n      }\r\n    ],\r\n      &quot;properties&quot;: {\r\n        &quot;_class&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;,\r\n          &quot;fields&quot;: {\r\n            &quot;keyword&quot;: {\r\n              &quot;type&quot;: &quot;keyword&quot;,\r\n              &quot;ignore_above&quot;: 420\r\n            }\r\n          }\r\n        },\r\n        &quot;date&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;\r\n        },\r\n        &quot;favorite_color&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;\r\n        },\r\n        &quot;is_active&quot;: {\r\n          &quot;type&quot;: &quot;boolean&quot;\r\n        },\r\n        &quot;number_float&quot;: {\r\n          &quot;type&quot;: &quot;float&quot;\r\n        },\r\n        &quot;number_long&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;\r\n        },\r\n        &quot;taskType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;updateTime&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n        },\r\n        &quot;updatedDate&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n        },\r\n        &quot;workType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nCan I update the existing index without losing any data using spring-data-elasticsearch repository??? Thanks for helping.","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>I have an existing index &quot;my-index&quot; in Elastic. I'm trying to update this existing index with new fields without losing data.</p>\n<p>I also tried to update the existing index with .putMapping function of RestHighLevelClient but I still got an error like this</p>\n<blockquote>\n<p>Elasticsearch exception [type=mapper_parsing_exception, reason=Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:...</p>\n</blockquote>\n<p>Here are the mappings of my existing index</p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {\n      &quot;properties&quot;: {\n        &quot;_class&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;type&quot;: &quot;keyword&quot;,\n              &quot;ignore_above&quot;: 420\n            }\n          }\n        },\n        &quot;taskType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        },\n        &quot;updateTime&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n        },\n        &quot;workType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        }\n      }\n    }\n  }\n}\n\n</code></pre>\n<p>And my expected index is</p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {  \n    &quot;mappings&quot;: {\n    &quot;dynamic_templates&quot;: [\n      {\n        &quot;strings&quot;: {\n          &quot;match_mapping_type&quot;: &quot;string&quot;,\n          &quot;mapping&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;\n          }\n        }\n      },\n      {\n        &quot;dates&quot;: {\n          &quot;match_mapping_type&quot;: &quot;date&quot;,\n          &quot;mapping&quot;: {\n            &quot;type&quot;: &quot;date&quot;,\n            &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n          }\n        }\n      }\n    ],\n      &quot;properties&quot;: {\n        &quot;_class&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;type&quot;: &quot;keyword&quot;,\n              &quot;ignore_above&quot;: 420\n            }\n          }\n        },\n        &quot;date&quot;: {\n          &quot;type&quot;: &quot;long&quot;\n        },\n        &quot;favorite_color&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;\n        },\n        &quot;is_active&quot;: {\n          &quot;type&quot;: &quot;boolean&quot;\n        },\n        &quot;number_float&quot;: {\n          &quot;type&quot;: &quot;float&quot;\n        },\n        &quot;number_long&quot;: {\n          &quot;type&quot;: &quot;long&quot;\n        },\n        &quot;taskType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        },\n        &quot;updateTime&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n        },\n        &quot;updatedDate&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n        },\n        &quot;workType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Can I update the existing index without losing any data using spring-data-elasticsearch repository??? Thanks for helping.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3538238,"reputation":2841,"user_id":2955996,"accept_rate":100,"display_name":"ashokramcse"},"score":0,"creation_date":1417412234,"post_id":27222249,"comment_id":42923188,"body_markdown":"Have you set your Environment variables?","body":"Have you set your Environment variables?"},{"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"score":1,"creation_date":1417412861,"post_id":27222249,"comment_id":42923353,"body_markdown":"yes, below are the environment variables: Classpath: E:\\Tomcat\\Tomcat 5.5\\bin\\bootstrap.jar;E:\\oracle\\product\\11.2.0\\client_1\\jdbc\\lib\\ojdbc6.jar;E:\\oracle\\product\\11.2.0\\client_1\\jlib\\orai18n.jar                                          JVM:E:\\Java\\jre\\bin\\server\\jvm.dll                             Options: -Xmx1536m\n-Xms1536m\n-XX:MaxPermSize=120m\n-XX:SurvivorRatio=4\n-Ddatasource=oracle\n-Dcatalina.base=E:\\SmartOffice\\Instances\\TMGNEW\n-Dcatalina.home=E:\\Tomcat\\Tomcat 5.5\n-Djava.endorsed.dirs=E:\\Tomcat\\Tomcat 5.5\\common\\endorsed\n-Djava.io.tmpdir=E:\\SmartOffice\\Instances\\TMGNEW\\temp","body":"yes, below are the environment variables: Classpath: E:\\Tomcat\\Tomcat 5.5\\bin\\bootstrap.jar;E:\\oracle\\product\\11.2.0\\client_1\\jdbc&zwnj;&#8203;\\lib\\ojdbc6.jar;E:\\o&zwnj;&#8203;racle\\product\\11.2.0&zwnj;&#8203;\\client_1\\jlib\\orai1&zwnj;&#8203;8n.jar                                          JVM:E:\\Java\\jre\\bin\\server\\jvm.dll                             Options: -Xmx1536m -Xms1536m -XX:MaxPermSize=120m -XX:SurvivorRatio=4 -Ddatasource=oracle -Dcatalina.base=E:\\SmartOffice\\Instances\\TMGNEW -Dcatalina.home=E:\\Tomcat\\Tomcat 5.5 -Djava.endorsed.dirs=E:\\Tomcat\\Tomcat 5.5\\common\\endorsed -Djava.io.tmpdir=E:\\SmartOffice\\Instances\\TMGNEW\\temp"},{"owner":{"account_id":150942,"reputation":2423,"user_id":364474,"accept_rate":31,"display_name":"bprasanna"},"score":1,"creation_date":1417414096,"post_id":27222249,"comment_id":42923733,"body_markdown":"Add environment variable CATALINA_HOME with path to the location of Apache installation (or extracted folder location). For example: C:\\Program Files\\apache-tomcat-7.0.56","body":"Add environment variable CATALINA_HOME with path to the location of Apache installation (or extracted folder location). For example: C:\\Program Files\\apache-tomcat-7.0.56"},{"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"score":0,"creation_date":1417414621,"post_id":27222249,"comment_id":42923949,"body_markdown":"Thanks, learningloop.","body":"Thanks, learningloop."},{"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"score":1,"creation_date":1417414669,"post_id":27222249,"comment_id":42923962,"body_markdown":"Now I am getting the another ejb exceptions; ava.lang.NoClassDefFoundError:                               javax/ejb/EJBException\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)","body":"Now I am getting the another ejb exceptions; ava.lang.NoClassDefFoundError:                               javax/ejb/EJBException \tat java.lang.ClassLoader.defineClass1(Native Method) \tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)"}],"answers":[{"tags":[],"owner":{"account_id":228030,"reputation":1787,"user_id":1350792,"accept_rate":65,"display_name":"Aryan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506502967,"creation_date":1506502249,"answer_id":46443435,"question_id":27222249,"body_markdown":"I was facing the same issue. Then I noticed that I have accidentally deleted lib folder from tomcat directory. The issue got resolved as lib folder back in place. ","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>I was facing the same issue. Then I noticed that I have accidentally deleted lib folder from tomcat directory. The issue got resolved as lib folder back in place. </p>\n"},{"tags":[],"owner":{"account_id":5048092,"reputation":1045,"user_id":5449497,"display_name":"Douy789"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517921390,"creation_date":1517921390,"answer_id":48643470,"question_id":27222249,"body_markdown":"I faced the same issue and stacktrace using 8.5.11 tomcat. updating to tomcat 8.5.24 solved the issue.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>I faced the same issue and stacktrace using 8.5.11 tomcat. updating to tomcat 8.5.24 solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":8218074,"reputation":784,"user_id":6183652,"display_name":"noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532502117,"creation_date":1532499533,"answer_id":51512048,"question_id":27222249,"body_markdown":"From my experience, I have observed that `tomcat` sometimes throws this when there are project dependent jars (could be transitively dependent as well) missing, or not being pointed to properly, or corrupted. So, please check the health of the jars deployed in the server and their dependencies. For example, if you are using `maven` to build your project jars, you could once clear the `.m2/repository` and rebuild the project and deploy again.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>From my experience, I have observed that <code>tomcat</code> sometimes throws this when there are project dependent jars (could be transitively dependent as well) missing, or not being pointed to properly, or corrupted. So, please check the health of the jars deployed in the server and their dependencies. For example, if you are using <code>maven</code> to build your project jars, you could once clear the <code>.m2/repository</code> and rebuild the project and deploy again.</p>\n"},{"tags":[],"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532519855,"creation_date":1532519855,"answer_id":51518298,"question_id":27222249,"body_markdown":"The problem was resolved by adding ejb.jar file into Tomcat/lib folder which is the dependency package to startup.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>The problem was resolved by adding ejb.jar file into Tomcat/lib folder which is the dependency package to startup.</p>\n"},{"tags":[],"owner":{"account_id":14019159,"reputation":1,"user_id":10125797,"display_name":"Prabakaran "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534221315,"creation_date":1534221315,"answer_id":51833772,"question_id":27222249,"body_markdown":"Sometimes, even though all the necessary things are perfect, this error would be reported if there is user VM arguments enclosed with the double quotes, I spent a day to get rid of this. check in run --&gt; run configuration, in arguments tab, VM Arguments, check for the user entries is enclosed with quotes/spaces, if so remove it and &#39;Run&#39;","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>Sometimes, even though all the necessary things are perfect, this error would be reported if there is user VM arguments enclosed with the double quotes, I spent a day to get rid of this. check in run --> run configuration, in arguments tab, VM Arguments, check for the user entries is enclosed with quotes/spaces, if so remove it and 'Run'</p>\n"},{"tags":[],"owner":{"account_id":6356752,"reputation":1187,"user_id":4933747,"accept_rate":70,"display_name":"Ritesh Jung Thapa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546680815,"creation_date":1546680815,"answer_id":54050721,"question_id":27222249,"body_markdown":"In my case I changed catatina.properties file found in tomcat_directory/conf from \r\n\r\n    common.loader=&#39;${catalina.base}/lib&#39;,&#39;${catalina.base}/lib/*.jar&#39;,&#39;${catalina.home}/lib&#39;,&#39;${catalina.home}/lib/*.jar&#39;\r\nTo \r\n\r\n    common.loader=${catalina.base}/lib,${catalina.base}/lib/*.jar,${catalina.home}/lib,${catalina.home}/lib/*.jar\r\nHowever the file always used to get overwritten. I was using eclipse. So, I did the same change in the Servers Project in eclipse. In my case it was Servers/Tomact v9.0 Server/catalina.properties. \r\nI did the same change stated above in this file too. It worked for me. \r\n\r\n","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>In my case I changed catatina.properties file found in tomcat_directory/conf from </p>\n\n<pre><code>common.loader='${catalina.base}/lib','${catalina.base}/lib/*.jar','${catalina.home}/lib','${catalina.home}/lib/*.jar'\n</code></pre>\n\n<p>To </p>\n\n<pre><code>common.loader=${catalina.base}/lib,${catalina.base}/lib/*.jar,${catalina.home}/lib,${catalina.home}/lib/*.jar\n</code></pre>\n\n<p>However the file always used to get overwritten. I was using eclipse. So, I did the same change in the Servers Project in eclipse. In my case it was Servers/Tomact v9.0 Server/catalina.properties. \nI did the same change stated above in this file too. It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":4956891,"reputation":73,"user_id":3989216,"display_name":"MhnSkta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629197446,"creation_date":1629197446,"answer_id":68816002,"question_id":27222249,"body_markdown":"From my experience, I have observed that tomcat sometimes throws this when we keep on running server multiple times, this led server unable to pickup the jars\r\nmy suggestion is to **restart** the eclipse, this resolved my issue","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>From my experience, I have observed that tomcat sometimes throws this when we keep on running server multiple times, this led server unable to pickup the jars\nmy suggestion is to <strong>restart</strong> the eclipse, this resolved my issue</p>\n"},{"tags":[],"owner":{"account_id":9546039,"reputation":120,"user_id":7092095,"display_name":"lahiruhashan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654166985,"creation_date":1654166985,"answer_id":72474991,"question_id":27222249,"body_markdown":"Tomcat by default needs a set of libraries inside the lib folder to bootstrap the starting process inside the tomcat. Make sure you have these libs inside the lib folder. This is for tomcat8.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ulzXR.png","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>Tomcat by default needs a set of libraries inside the lib folder to bootstrap the starting process inside the tomcat. Make sure you have these libs inside the lib folder. This is for tomcat8.</p>\n<p><a href=\"https://i.stack.imgur.com/ulzXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulzXR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28031651,"reputation":1,"user_id":21410736,"display_name":"anilburak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517371,"creation_date":1678962703,"answer_id":75754956,"question_id":27222249,"body_markdown":"Before I started the Tomcat Service, I updated a jar file in `tomcat/lib` path. With this probably I corrupted the file. Because when I move back original jar file in `tomcat/lib` I solved the problem. You also have to check `lib/*jar` files.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>Before I started the Tomcat Service, I updated a jar file in <code>tomcat/lib</code> path. With this probably I corrupted the file. Because when I move back original jar file in <code>tomcat/lib</code> I solved the problem. You also have to check <code>lib/*jar</code> files.</p>\n"}],"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67932,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":9,"score":12,"last_activity_date":1679517371,"creation_date":1417411973,"question_id":27222249,"body_markdown":"I am unable to start the tomcat 5.5 server due to following error message in the stderr.log.\r\nCan someone please help me, it is kind of emergency. Thanks in advance.\r\n\r\n\r\n    java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina   \r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:200)   \r\n\tat java.security.AccessController.doPrivileged(Native Method)   \r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)   \r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)   \r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)    \r\n\tat org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:222)   \r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:410)    \r\n","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>I am unable to start the tomcat 5.5 server due to following error message in the stderr.log.\nCan someone please help me, it is kind of emergency. Thanks in advance.</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina   \nat java.net.URLClassLoader$1.run(URLClassLoader.java:200)   \nat java.security.AccessController.doPrivileged(Native Method)   \nat java.net.URLClassLoader.findClass(URLClassLoader.java:188)   \nat java.lang.ClassLoader.loadClass(ClassLoader.java:306)   \nat java.lang.ClassLoader.loadClass(ClassLoader.java:251)    \nat org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:222)   \nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:410)    \n</code></pre>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679502996,"post_id":75814844,"comment_id":133734870,"body_markdown":"Give `Hilo1` a constructor, in that constructor pass a reference to a [*callback*](https://stackoverflow.com/a/19405498/2970947). That answer is a little outdated, because Java does have functors now.","body":"Give <code>Hilo1</code> a constructor, in that constructor pass a reference to a <a href=\"https://stackoverflow.com/a/19405498/2970947\"><i>callback</i></a>. That answer is a little outdated, because Java does have functors now."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1679511388,"post_id":75814844,"comment_id":133736965,"body_markdown":"You want to do two things. You want to make sure that thing B doesn&#39;t start until thing A is finished. In other words, you want to do the two things _sequentially._ So, why not do both of those things in the same thread? [Note: Elliott Frisch&#39;s suggestion to use a callback (see above) is just that. It&#39;s a way of doing both things in the same thread.]","body":"You want to do two things. You want to make sure that thing B doesn&#39;t start until thing A is finished. In other words, you want to do the two things <i>sequentially.</i> So, why not do both of those things in the same thread? [Note: Elliott Frisch&#39;s suggestion to use a callback (see above) is just that. It&#39;s a way of doing both things in the same thread.]"}],"answers":[{"tags":[],"owner":{"account_id":10227377,"reputation":638,"user_id":7549431,"display_name":"Timur Panzhiev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679517329,"creation_date":1679517329,"answer_id":75817036,"question_id":75814844,"body_markdown":"Provide a `callback` when creating your thread to determine when thread is finished. \r\n\r\n```java\r\npublic class Hilo1 extends Thread {\r\n\r\n    private final Callback callback;\r\n\r\n    private int contador = 0;\r\n\r\n    public Hilo1(Callback callback) {\r\n        this.callback = callback;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (contador &lt; 6) {\r\n            try {\r\n                Thread.sleep(10000);\r\n                contador++;\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        callback.call();\r\n    }\r\n}\r\n\r\ninterface Callback {\r\n    void call();\r\n}\r\n```","title":"How to detect when a thread has finished so I can do another thing?","body":"<p>Provide a <code>callback</code> when creating your thread to determine when thread is finished.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Hilo1 extends Thread {\n\n    private final Callback callback;\n\n    private int contador = 0;\n\n    public Hilo1(Callback callback) {\n        this.callback = callback;\n    }\n\n    @Override\n    public void run() {\n        while (contador &lt; 6) {\n            try {\n                Thread.sleep(10000);\n                contador++;\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        callback.call();\n    }\n}\n\ninterface Callback {\n    void call();\n}\n</code></pre>\n"}],"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679517329,"creation_date":1679502331,"question_id":75814844,"body_markdown":"I have this thread.\r\n\r\n    class Hilo1 extends Thread {\r\n                @Override\r\n                public void run() {\r\n                    while (contador&lt;6) {\r\n                        try {\r\n                            Thread.sleep(10000);\r\n                            runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n    contador++;\r\n    }\r\n\r\n    \r\n                                \r\n                            });\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nThis thread finishes after a minute, because it runs every 10 seconds and it does that 6 times.\r\nWhen it&#180;s done, I&#180;d like to do some tasks, but I don&#180;t know how to detect when it finishes. I have read about isAlive() method but my project doesn&#180;t let me use it. I&#180;d like to detect when it finishes so I can do the next tasks that have to be done once Hilo1 has finished.\r\nThank you.","title":"How to detect when a thread has finished so I can do another thing?","body":"<p>I have this thread.</p>\n<pre><code>class Hilo1 extends Thread {\n            @Override\n            public void run() {\n                while (contador&lt;6) {\n                    try {\n                        Thread.sleep(10000);\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\ncontador++;\n}\n\n\n                            \n                        });\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>This thread finishes after a minute, because it runs every 10 seconds and it does that 6 times.\nWhen it´s done, I´d like to do some tasks, but I don´t know how to detect when it finishes. I have read about isAlive() method but my project doesn´t let me use it. I´d like to detect when it finishes so I can do the next tasks that have to be done once Hilo1 has finished.\nThank you.</p>\n"},{"tags":["java","xml","spring","spring-boot","jaxb"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679339895,"post_id":75793473,"comment_id":133701115,"body_markdown":"What is your question? What specific problem are you facing?","body":"What is your question? What specific problem are you facing?"},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1679394068,"post_id":75793473,"comment_id":133709898,"body_markdown":"@andrewJames edited now. Please have a look","body":"@andrewJames edited now. Please have a look"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1679557925,"post_id":75793473,"comment_id":133743786,"body_markdown":"Kindly see if this helps you https://stackoverflow.com/questions/22776126/how-to-remove-namespace-from-generated-jaxb","body":"Kindly see if this helps you <a href=\"https://stackoverflow.com/questions/22776126/how-to-remove-namespace-from-generated-jaxb\" title=\"how to remove namespace from generated jaxb\">stackoverflow.com/questions/22776126/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517281,"creation_date":1679517281,"answer_id":75817031,"question_id":75793473,"body_markdown":"### Solutions\r\n\r\n+ Schema First Design\r\n+ Java First Design\r\n\r\n#### Schema First Design\r\n\r\nLet&#39;s begin with the XML example for `BCResponse` and create XML Schema(s) for the given elements. Then JAXB can generate the Java classes using its XJC compiler.\r\n\r\n[Here][1] is a Maven project named **Publisher** using the standard file layout. This project includes:\r\n\r\n+ An XML Schema file [Publisher-BCResponse.xsd][4] for the `BCResponse` model\r\n+ An XML Schema file [Publisher-Request.xsd][5] for the `Request` model\r\n+ A JAXB *binding* file [Publisher.xjb][6] for package configuration\r\n+ A JUnit test class [PublisherTest.java][7] to verify (un)marshalling\r\n+ Sample XML [files][8] with `Publisher` data.\r\n+ The Maven POM file with `hisrc-higherjaxb-maven-plugin`\r\n\r\n~~~\r\nPublisher\r\n    src\r\n        main\r\n            java\r\n            resources\r\n                Publisher-BCResponse.xsd\r\n                Publisher-Request.xsd\r\n                Publisher.xjb\r\n        test\r\n            java\r\n                com/models/PublisherTest.java\r\n            resources\r\n                simplelogger.properties\r\n            samples\r\n                BCResponse01.xml\r\n                BCResponse02.xml\r\n                Request01.xml\r\n    pom.xml\r\n~~~\r\n\r\nThe [download][1] contains a stand-alone Maven project that can be executed using:\r\n\r\n~~~\r\nmvn clean test\r\n~~~\r\n\r\nThe JAXB classes are generated by this plugin using this project&#39;s [pom.xml][3]\r\n\r\n~~~\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n~~~\r\n\r\nand are generated to:\r\n\r\n~~~\r\ntarget/generated-sources/xjc/\r\n\r\ncom\r\n└── models\r\n    ├── request\r\n    │&#160;&#160; ├── LegalEntity.java\r\n    │&#160;&#160; ├── ObjectFactory.java\r\n    │&#160;&#160; ├── package-info.java\r\n    │&#160;&#160; ├── PartyId.java\r\n    │&#160;&#160; └── Request.java\r\n    └── response\r\n        ├── BCResponse.java\r\n        ├── Content.java\r\n        ├── ObjectFactory.java\r\n        ├── Response.java\r\n        └── ResponseStatus.java\r\n~~~\r\n\r\n##### Approach\r\n\r\nThe [Publisher-BCResponse.xsd][4] schema does not declare a namespace and is configured to *import* the [Publisher-Request.xsd][5] schema using the prefix `&quot;ns2&quot;`.\r\n\r\n~~~\r\nxmlns:ns2=&quot;http://uri.abc.com/ML&quot;\r\n&lt;xs:import namespace=&quot;http://uri.abc.com/ML&quot; schemaLocation=&quot;Publisher-Request.xsd&quot;/&gt;\r\n~~~\r\n\r\n&gt; Note: The prefix is arbitrary and could have been `&quot;abc&quot;`\r\n\r\nThe [Publisher-Request.xsd][5] schema declares its namespace, as follows:\r\n\r\n~~~\r\nxmlns:tns=&quot;http://uri.abc.com/ML&quot;\r\ntargetNamespace=&quot;http://uri.abc.com/ML&quot;\r\n~~~\r\n\r\nThe [Publisher.xjb][6] binding file configures JAXB to generate the classes, as follows:\r\n\r\n~~~\r\n&lt;jaxb:package name=&quot;com.models.request&quot;/&gt;\r\n&lt;jaxb:package name=&quot;com.models.response&quot;/&gt;\r\n~~~\r\n\r\n##### Testing\r\n\r\nThe JUnit test class, [PublisherTest.java][7], scans for the sample files and invokes the method `checkSample(File sample)` to provide each file to the tester. For this project, a `JAXBContext` is created and each file in the [samples][8] path is *unmarshaled* to a `BCResponse` object or a `Request` object. When successful, each object is *marshaled* for logging and your [review][2].\r\n\r\n#### Java First Design\r\n\r\nIn this approach the JAXB classes are created by you. Here&#39;s how they should look:\r\n\r\n**package-info.java**\r\n~~~\r\n@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://uri.abc.com/ML&quot;)\r\npackage com.models.request;\r\n~~~\r\n\r\n**Request.java**\r\n~~~\r\npackage com.models.request;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;legalEntity&quot; })\r\n@XmlRootElement(name = &quot;Request&quot;)\r\npublic class Request implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected LegalEntity legalEntity;\r\n    public LegalEntity getLegalEntity() { return legalEntity; }\r\n    public void setLegalEntity(LegalEntity value) { this.legalEntity = value; }\r\n}\r\n~~~\r\n\r\n**LegalEntity.java**\r\n~~~\r\npackage com.models.request;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;partyId&quot; })\r\npublic class LegalEntity implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected PartyId partyId;\r\n    public PartyId getPartyId() { return partyId; }\r\n    public void setPartyId(PartyId value) { this.partyId = value; }\r\n}\r\n~~~\r\n\r\n**PartyId.java**\r\n~~~\r\npackage com.models.request;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;id&quot; })\r\npublic class PartyId implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected String id;\r\n    public String getId() { return id; }\r\n    public void setId(String value) { this.id = value; }\r\n}\r\n~~~\r\n\r\n**BCResponse.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;publisher&quot;, &quot;content&quot; })\r\n@XmlRootElement(name = &quot;BCResponse&quot;)\r\npublic class BCResponse implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected String publisher;\r\n    public String getPublisher() { return publisher; }\r\n    public void setPublisher(String value) { this.publisher = value; }\r\n\r\n    @XmlElement(required = true)\r\n    protected Content content;\r\n    public Content getContent() { return content; }\r\n    public void setContent(Content value) { this.content = value; }\r\n}\r\n\r\n~~~\r\n\r\n**Content.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport com.models.request.Request;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;request&quot;, &quot;response&quot; })\r\npublic class Content implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(name = &quot;Request&quot;, namespace = &quot;http://uri.abc.com/ML&quot;, required = true)\r\n    protected Request request;\r\n    public Request getRequest() { return request; }\r\n    public void setRequest(Request value) { this.request = value; }\r\n\r\n    @XmlElement(name = &quot;Response&quot;, required = true)\r\n    protected Response response;\r\n    public Response getResponse() { return response; }\r\n    public void setResponse(Response value) { this.response = value; }\r\n}\r\n~~~\r\n\r\n**Response.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;responseStatus&quot; })\r\npublic class Response implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(name = &quot;ResponseStatus&quot;, required = true)\r\n    protected ResponseStatus responseStatus;\r\n    public ResponseStatus getResponseStatus() { return responseStatus; }\r\n    public void setResponseStatus(ResponseStatus value) { this.responseStatus = value; }\r\n}\r\n~~~\r\n\r\n**ResponseStatus.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;statusType&quot; })\r\npublic class ResponseStatus implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected String statusType;\r\n    public String getStatusType() { return statusType; }\r\n    public void setStatusType(String value) { this.statusType = value; }\r\n}\r\n~~~\r\n\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-publisher-2.1.0-mvn-src.zip\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/OUTPUT.txt\r\n[3]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/project-pom.xml\r\n[4]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-BCResponse.xsd\r\n[5]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\r\n[6]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher.xjb\r\n[7]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/test/java/com/models/PublisherTest.java\r\n[8]: https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/publisher/src/test/samples\r\n","title":"NS2 prefix with JaXb","body":"<h3>Solutions</h3>\n<ul>\n<li>Schema First Design</li>\n<li>Java First Design</li>\n</ul>\n<h4>Schema First Design</h4>\n<p>Let's begin with the XML example for <code>BCResponse</code> and create XML Schema(s) for the given elements. Then JAXB can generate the Java classes using its XJC compiler.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-publisher-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">Here</a> is a Maven project named <strong>Publisher</strong> using the standard file layout. This project includes:</p>\n<ul>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-BCResponse.xsd\" rel=\"nofollow noreferrer\">Publisher-BCResponse.xsd</a> for the <code>BCResponse</code> model</li>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\" rel=\"nofollow noreferrer\">Publisher-Request.xsd</a> for the <code>Request</code> model</li>\n<li>A JAXB <em>binding</em> file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher.xjb\" rel=\"nofollow noreferrer\">Publisher.xjb</a> for package configuration</li>\n<li>A JUnit test class <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/test/java/com/models/PublisherTest.java\" rel=\"nofollow noreferrer\">PublisherTest.java</a> to verify (un)marshalling</li>\n<li>Sample XML <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/publisher/src/test/samples\" rel=\"nofollow noreferrer\">files</a> with <code>Publisher</code> data.</li>\n<li>The Maven POM file with <code>hisrc-higherjaxb-maven-plugin</code></li>\n</ul>\n<pre><code>Publisher\n    src\n        main\n            java\n            resources\n                Publisher-BCResponse.xsd\n                Publisher-Request.xsd\n                Publisher.xjb\n        test\n            java\n                com/models/PublisherTest.java\n            resources\n                simplelogger.properties\n            samples\n                BCResponse01.xml\n                BCResponse02.xml\n                Request01.xml\n    pom.xml\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-publisher-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">download</a> contains a stand-alone Maven project that can be executed using:</p>\n<pre><code>mvn clean test\n</code></pre>\n<p>The JAXB classes are generated by this plugin using this project's <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and are generated to:</p>\n<pre><code>target/generated-sources/xjc/\n\ncom\n└── models\n    ├── request\n    │   ├── LegalEntity.java\n    │   ├── ObjectFactory.java\n    │   ├── package-info.java\n    │   ├── PartyId.java\n    │   └── Request.java\n    └── response\n        ├── BCResponse.java\n        ├── Content.java\n        ├── ObjectFactory.java\n        ├── Response.java\n        └── ResponseStatus.java\n</code></pre>\n<h5>Approach</h5>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-BCResponse.xsd\" rel=\"nofollow noreferrer\">Publisher-BCResponse.xsd</a> schema does not declare a namespace and is configured to <em>import</em> the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\" rel=\"nofollow noreferrer\">Publisher-Request.xsd</a> schema using the prefix <code>&quot;ns2&quot;</code>.</p>\n<pre><code>xmlns:ns2=&quot;http://uri.abc.com/ML&quot;\n&lt;xs:import namespace=&quot;http://uri.abc.com/ML&quot; schemaLocation=&quot;Publisher-Request.xsd&quot;/&gt;\n</code></pre>\n<blockquote>\n<p>Note: The prefix is arbitrary and could have been <code>&quot;abc&quot;</code></p>\n</blockquote>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\" rel=\"nofollow noreferrer\">Publisher-Request.xsd</a> schema declares its namespace, as follows:</p>\n<pre><code>xmlns:tns=&quot;http://uri.abc.com/ML&quot;\ntargetNamespace=&quot;http://uri.abc.com/ML&quot;\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher.xjb\" rel=\"nofollow noreferrer\">Publisher.xjb</a> binding file configures JAXB to generate the classes, as follows:</p>\n<pre><code>&lt;jaxb:package name=&quot;com.models.request&quot;/&gt;\n&lt;jaxb:package name=&quot;com.models.response&quot;/&gt;\n</code></pre>\n<h5>Testing</h5>\n<p>The JUnit test class, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/test/java/com/models/PublisherTest.java\" rel=\"nofollow noreferrer\">PublisherTest.java</a>, scans for the sample files and invokes the method <code>checkSample(File sample)</code> to provide each file to the tester. For this project, a <code>JAXBContext</code> is created and each file in the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/publisher/src/test/samples\" rel=\"nofollow noreferrer\">samples</a> path is <em>unmarshaled</em> to a <code>BCResponse</code> object or a <code>Request</code> object. When successful, each object is <em>marshaled</em> for logging and your <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/OUTPUT.txt\" rel=\"nofollow noreferrer\">review</a>.</p>\n<h4>Java First Design</h4>\n<p>In this approach the JAXB classes are created by you. Here's how they should look:</p>\n<p><strong>package-info.java</strong></p>\n<pre><code>@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://uri.abc.com/ML&quot;)\npackage com.models.request;\n</code></pre>\n<p><strong>Request.java</strong></p>\n<pre><code>package com.models.request;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;legalEntity&quot; })\n@XmlRootElement(name = &quot;Request&quot;)\npublic class Request implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected LegalEntity legalEntity;\n    public LegalEntity getLegalEntity() { return legalEntity; }\n    public void setLegalEntity(LegalEntity value) { this.legalEntity = value; }\n}\n</code></pre>\n<p><strong>LegalEntity.java</strong></p>\n<pre><code>package com.models.request;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;partyId&quot; })\npublic class LegalEntity implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected PartyId partyId;\n    public PartyId getPartyId() { return partyId; }\n    public void setPartyId(PartyId value) { this.partyId = value; }\n}\n</code></pre>\n<p><strong>PartyId.java</strong></p>\n<pre><code>package com.models.request;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;id&quot; })\npublic class PartyId implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected String id;\n    public String getId() { return id; }\n    public void setId(String value) { this.id = value; }\n}\n</code></pre>\n<p><strong>BCResponse.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;publisher&quot;, &quot;content&quot; })\n@XmlRootElement(name = &quot;BCResponse&quot;)\npublic class BCResponse implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected String publisher;\n    public String getPublisher() { return publisher; }\n    public void setPublisher(String value) { this.publisher = value; }\n\n    @XmlElement(required = true)\n    protected Content content;\n    public Content getContent() { return content; }\n    public void setContent(Content value) { this.content = value; }\n}\n\n</code></pre>\n<p><strong>Content.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport com.models.request.Request;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;request&quot;, &quot;response&quot; })\npublic class Content implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(name = &quot;Request&quot;, namespace = &quot;http://uri.abc.com/ML&quot;, required = true)\n    protected Request request;\n    public Request getRequest() { return request; }\n    public void setRequest(Request value) { this.request = value; }\n\n    @XmlElement(name = &quot;Response&quot;, required = true)\n    protected Response response;\n    public Response getResponse() { return response; }\n    public void setResponse(Response value) { this.response = value; }\n}\n</code></pre>\n<p><strong>Response.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;responseStatus&quot; })\npublic class Response implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(name = &quot;ResponseStatus&quot;, required = true)\n    protected ResponseStatus responseStatus;\n    public ResponseStatus getResponseStatus() { return responseStatus; }\n    public void setResponseStatus(ResponseStatus value) { this.responseStatus = value; }\n}\n</code></pre>\n<p><strong>ResponseStatus.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;statusType&quot; })\npublic class ResponseStatus implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected String statusType;\n    public String getStatusType() { return statusType; }\n    public void setStatusType(String value) { this.statusType = value; }\n}\n</code></pre>\n\n"}],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679517281,"creation_date":1679333296,"question_id":75793473,"body_markdown":"I tried all the solution present on the internet but none of them are working for me. ns2 (&lt;ns2:Request&gt;) is getting appended with the class in different java package. I have addded the package.info but it is not helping.\r\n\r\n**POJO:**\r\n\r\n        package com.models.response;\r\n        @XmlRootElement(name = &quot;Response&quot;)\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @Data\r\n        public class ResponseModel extends CommonModel {\r\n        \r\n          private static final long serialVersionUID = -865642381181292886L;\r\n        \r\n          @XmlElement(required = true)\r\n          private ContentModelResponse content;\r\n        }\r\n\r\n    package com.models.response;\r\n    @Data\r\n    @ToString(callSuper = true)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class ContentModelResponse extends ContentModelRequest {\r\n    \r\n      @XmlElement(name = &quot;Response&quot;, required = true)\r\n      private ResponseModel response;\r\n    }\r\n\r\n**Class in different package:**\r\n\r\n    package com.models.request;\r\n    @Data\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class ContentModelRequest {\r\n    \r\n        @XmlElement(name = &quot;Request&quot;, required = true)\r\n        protected RequestModel request;\r\n    \r\n    }\r\n\r\n**package.info**\r\n\r\n    @javax.xml.bind.annotation.XmlSchema(\r\n        namespace = &quot;http://uri.abc.com/ML&quot;,\r\n        elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\r\n        xmlns = {\r\n          @javax.xml.bind.annotation.XmlNs(\r\n              namespaceURI = &quot;http://uri.abc.com/ML&quot;,\r\n              prefix = &quot;&quot;)\r\n        })\r\n    package com.models.request;\r\n    \r\nResponse XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;BCResponse\r\n      xmlns:ns2=&quot;http://uri.abc.com/ML&quot;&gt;\r\n      &lt;publisher&gt;\r\n      &lt;/publisher&gt;\r\n      &lt;content&gt;\r\n        &lt;ns2:Request&gt;\r\n          &lt;ns2:legalEntity&gt;\r\n            &lt;ns2:partyId&gt;\r\n              &lt;ns2:id&gt;&lt;/ns2:id&gt;\r\n            &lt;/ns2:partyId&gt;\r\n        &lt;/ns2:Request&gt;\r\n        &lt;Response&gt;\r\n          &lt;ResponseStatus&gt;\r\n            &lt;statusType&gt;ERROR&lt;/statusType&gt;\r\n          &lt;/ResponseStatus&gt;\r\n        &lt;/Response&gt;\r\n      &lt;/content&gt;\r\n    &lt;/BCResponse&gt;","title":"NS2 prefix with JaXb","body":"<p>I tried all the solution present on the internet but none of them are working for me. ns2 (ns2:Request) is getting appended with the class in different java package. I have addded the package.info but it is not helping.</p>\n<p><strong>POJO:</strong></p>\n<pre><code>    package com.models.response;\n    @XmlRootElement(name = &quot;Response&quot;)\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @Data\n    public class ResponseModel extends CommonModel {\n    \n      private static final long serialVersionUID = -865642381181292886L;\n    \n      @XmlElement(required = true)\n      private ContentModelResponse content;\n    }\n\npackage com.models.response;\n@Data\n@ToString(callSuper = true)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ContentModelResponse extends ContentModelRequest {\n\n  @XmlElement(name = &quot;Response&quot;, required = true)\n  private ResponseModel response;\n}\n</code></pre>\n<p><strong>Class in different package:</strong></p>\n<pre><code>package com.models.request;\n@Data\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ContentModelRequest {\n\n    @XmlElement(name = &quot;Request&quot;, required = true)\n    protected RequestModel request;\n\n}\n</code></pre>\n<p><strong>package.info</strong></p>\n<pre><code>@javax.xml.bind.annotation.XmlSchema(\n    namespace = &quot;http://uri.abc.com/ML&quot;,\n    elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\n    xmlns = {\n      @javax.xml.bind.annotation.XmlNs(\n          namespaceURI = &quot;http://uri.abc.com/ML&quot;,\n          prefix = &quot;&quot;)\n    })\npackage com.models.request;\n</code></pre>\n<p>Response XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;BCResponse\n  xmlns:ns2=&quot;http://uri.abc.com/ML&quot;&gt;\n  &lt;publisher&gt;\n  &lt;/publisher&gt;\n  &lt;content&gt;\n    &lt;ns2:Request&gt;\n      &lt;ns2:legalEntity&gt;\n        &lt;ns2:partyId&gt;\n          &lt;ns2:id&gt;&lt;/ns2:id&gt;\n        &lt;/ns2:partyId&gt;\n    &lt;/ns2:Request&gt;\n    &lt;Response&gt;\n      &lt;ResponseStatus&gt;\n        &lt;statusType&gt;ERROR&lt;/statusType&gt;\n      &lt;/ResponseStatus&gt;\n    &lt;/Response&gt;\n  &lt;/content&gt;\n&lt;/BCResponse&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","gettext"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1679492529,"post_id":75812985,"comment_id":133731510,"body_markdown":"If it is about comparing `String`s, use `inputText.equals(&quot;First Name&quot;)` instead of comparing (more than just the value) by `==`.","body":"If it is about comparing <code>String</code>s, use <code>inputText.equals(&quot;First Name&quot;)</code> instead of comparing (more than just the value) by <code>==</code>."}],"answers":[{"tags":[],"owner":{"account_id":28086384,"reputation":1,"user_id":21456690,"display_name":"Eli Sabayev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679492531,"creation_date":1679492531,"answer_id":75813017,"question_id":75812985,"body_markdown":"Never mind, I just realized I should&#39;ve used .equals(). :)\r\n","title":"Selenium getText() will return the string, but won&#39;t pass the condition","body":"<p>Never mind, I just realized I should've used .equals(). :)</p>\n"}],"owner":{"account_id":28086384,"reputation":1,"user_id":21456690,"display_name":"Eli Sabayev"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679510833,"answer_count":1,"score":-1,"last_activity_date":1679517274,"creation_date":1679492334,"question_id":75812985,"body_markdown":"I&#39;m trying to test form fields on a dynamic page. The fields might occasionally be in a different location, and the id will always be `&quot;input_&quot; + some number`.\r\nFor example - `input_0 = firstname, input_1 = lastname,` etc.\r\n\r\nBecause of that, I created a loop that goes over all the inputs and checks the values, for example, if the text for this input_i is &quot;First Name&quot;, then I will execute the firstname test on this iteration.\r\n\r\nNow, I&#39;m printing the text on each loop, and I can see the correct text by this function:\r\n\r\n`String inputText = inputTextElement.getText(); returns &quot;First Name&quot;`.\r\n`System.out.println(inputText); is printing &quot;First Name&quot;`.\r\nSo far so good.\r\n\r\nBut when I&#39;m moving forward to the condition - if (`inputText == &quot;First Name&quot;`), the condition returns false.\r\n\r\nI&#39;m out of ideas for the cause here. Any suggestions?\r\n\r\nI tried inputText.toString() as well, just in case.\r\nNo luck here, either. ","title":"Selenium getText() will return the string, but won&#39;t pass the condition","body":"<p>I'm trying to test form fields on a dynamic page. The fields might occasionally be in a different location, and the id will always be <code>&quot;input_&quot; + some number</code>.\nFor example - <code>input_0 = firstname, input_1 = lastname,</code> etc.</p>\n<p>Because of that, I created a loop that goes over all the inputs and checks the values, for example, if the text for this input_i is &quot;First Name&quot;, then I will execute the firstname test on this iteration.</p>\n<p>Now, I'm printing the text on each loop, and I can see the correct text by this function:</p>\n<p><code>String inputText = inputTextElement.getText(); returns &quot;First Name&quot;</code>.\n<code>System.out.println(inputText); is printing &quot;First Name&quot;</code>.\nSo far so good.</p>\n<p>But when I'm moving forward to the condition - if (<code>inputText == &quot;First Name&quot;</code>), the condition returns false.</p>\n<p>I'm out of ideas for the cause here. Any suggestions?</p>\n<p>I tried inputText.toString() as well, just in case.\nNo luck here, either.</p>\n"},{"tags":["java","rx-java","reactive-programming","publish-subscribe","reactive-streams"],"comments":[{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1679517244,"post_id":75816891,"comment_id":133738308,"body_markdown":"It could still be used as a mechanism to limit the number of subscriber requests that are processed per batch, for instance if you have a large amount of data you&#39;re processing to display.  Instead of having it all just &quot;pop&quot; in, you could display partial results in batches.  I think the paradigm still generally makes more sense in an asynchronous context, though.","body":"It could still be used as a mechanism to limit the number of subscriber requests that are processed per batch, for instance if you have a large amount of data you&#39;re processing to display.  Instead of having it all just &quot;pop&quot; in, you could display partial results in batches.  I think the paradigm still generally makes more sense in an asynchronous context, though."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1679567812,"post_id":75816891,"comment_id":133746215,"body_markdown":"But there is no chance of overload. Since there is just 1 thread.","body":"But there is no chance of overload. Since there is just 1 thread."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1679568956,"post_id":75816891,"comment_id":133746466,"body_markdown":"If there the producer is on the same thread than the consumer, then backpressure has no practical effect. The moment though the flow wanders between multiple threads, backpressure is essential to limit the internal buffer sizes.\nSee also https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#which-type-to-use","body":"If there the producer is on the same thread than the consumer, then backpressure has no practical effect. The moment though the flow wanders between multiple threads, backpressure is essential to limit the internal buffer sizes. See also <a href=\"https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#which-type-to-use\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava/wiki/&hellip;</a>"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679517203,"creation_date":1679516012,"question_id":75816891,"body_markdown":"Take the following `RxJava` code:\r\n\r\n    public class IntervalObserverTest {\r\n    \r\n        @Test\r\n        public void test() throws InterruptedException {\r\n            CountDownLatch latch = new CountDownLatch(10);\r\n            IntervalPublisher o = new IntervalPublisher();\r\n    \r\n            o.getPublisher().subscribe(new Subscriber&lt;String&gt;() {\r\n    \r\n                volatile Subscription s;\r\n                @Override\r\n                public void onSubscribe(Subscription s) {\r\n                    this.s = s;\r\n                    s.request(10);\r\n                }\r\n    \r\n                @Override\r\n                public void onNext(String s) {\r\n                    System.out.println(Thread.currentThread().getName());\r\n                    latch.countDown();\r\n                }\r\n    \r\n                @Override\r\n                public void onError(Throwable t) {\r\n                    s.cancel();\r\n                }\r\n    \r\n                @Override\r\n                public void onComplete() {\r\n                }\r\n            });\r\n    \r\n            if(!latch.await(5, TimeUnit.SECONDS)) {\r\n                throw new RuntimeException();\r\n            }\r\n        }\r\n    }\r\n    \r\n    class IntervalPublisher {\r\n    \r\n        public Publisher&lt;String&gt; getPublisher() {\r\n            return Flowable.range(1, 100)\r\n                    .map(String::valueOf)\r\n                    .delay(50, TimeUnit.MILLISECONDS)\r\n                    .delaySubscription(100, TimeUnit.MILLISECONDS);\r\n        }\r\n    }\r\n\r\nIt simply prints the thread name on the `onNext()` call.\r\n\r\nHere `onNext()` is actually called by the same thread which runs the Publisher(Flowable):\r\n\r\n    RxComputationThreadPool-2\r\n\r\nThis means that the same thread which runs the `Publisher` is the same thread on the `Subscriber` side. As is expected.\r\n\r\nMy question is then of **what use is the backpressure setting ?**\r\n\r\n**There is no way the Subscriber can be overloaded since their is just ONE thread doing the whole thing.** Correct me if I am wrong.\r\n\r\n**In general, what use is the backpressure setting ?**\r\n\r\nThe only use I can think of is when the `Publisher` and `Subscriber` is on different threads and the `Subscriber` maybe sees that it has a lot of backed up requests in its buffer and decides to tell the `Publisher` to stop producing.\r\n\r\nThis the **classic Producer Consumer problem with a bounded queue**. But this has no meaning when the Publisher and the Subscriber is on the same Thread.\r\n\r\nAm I correct ?","title":"Why is backpressure important with RxJava when the Publisher and Subscriber are on the same Thread?","body":"<p>Take the following <code>RxJava</code> code:</p>\n<pre><code>public class IntervalObserverTest {\n\n    @Test\n    public void test() throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(10);\n        IntervalPublisher o = new IntervalPublisher();\n\n        o.getPublisher().subscribe(new Subscriber&lt;String&gt;() {\n\n            volatile Subscription s;\n            @Override\n            public void onSubscribe(Subscription s) {\n                this.s = s;\n                s.request(10);\n            }\n\n            @Override\n            public void onNext(String s) {\n                System.out.println(Thread.currentThread().getName());\n                latch.countDown();\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                s.cancel();\n            }\n\n            @Override\n            public void onComplete() {\n            }\n        });\n\n        if(!latch.await(5, TimeUnit.SECONDS)) {\n            throw new RuntimeException();\n        }\n    }\n}\n\nclass IntervalPublisher {\n\n    public Publisher&lt;String&gt; getPublisher() {\n        return Flowable.range(1, 100)\n                .map(String::valueOf)\n                .delay(50, TimeUnit.MILLISECONDS)\n                .delaySubscription(100, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>It simply prints the thread name on the <code>onNext()</code> call.</p>\n<p>Here <code>onNext()</code> is actually called by the same thread which runs the Publisher(Flowable):</p>\n<pre><code>RxComputationThreadPool-2\n</code></pre>\n<p>This means that the same thread which runs the <code>Publisher</code> is the same thread on the <code>Subscriber</code> side. As is expected.</p>\n<p>My question is then of <strong>what use is the backpressure setting ?</strong></p>\n<p><strong>There is no way the Subscriber can be overloaded since their is just ONE thread doing the whole thing.</strong> Correct me if I am wrong.</p>\n<p><strong>In general, what use is the backpressure setting ?</strong></p>\n<p>The only use I can think of is when the <code>Publisher</code> and <code>Subscriber</code> is on different threads and the <code>Subscriber</code> maybe sees that it has a lot of backed up requests in its buffer and decides to tell the <code>Publisher</code> to stop producing.</p>\n<p>This the <strong>classic Producer Consumer problem with a bounded queue</strong>. But this has no meaning when the Publisher and the Subscriber is on the same Thread.</p>\n<p>Am I correct ?</p>\n"},{"tags":["java","spring","spring-mvc","file-upload","cloudinary"],"comments":[{"owner":{"account_id":2468942,"reputation":1563,"user_id":2151331,"display_name":"fajarkoe"},"score":6,"creation_date":1403341580,"post_id":24339990,"comment_id":37628230,"body_markdown":"Is there something that prevents you from using the method `MultipartFile.transferTo()`?","body":"Is there something that prevents you from using the method <code>MultipartFile.transferTo()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1674523,"reputation":2738,"user_id":1540341,"accept_rate":92,"display_name":"Petros Tsialiamanis"},"down_vote_count":2,"up_vote_count":208,"is_accepted":true,"score":206,"last_activity_date":1583965755,"creation_date":1403341406,"answer_id":24340058,"question_id":24339990,"body_markdown":"You can get the content of a `MultipartFile` by using the `getBytes` method and you can write to the file using `Files.newOutputStream()`:\r\n\r\n    public void write(MultipartFile file, Path dir) {\r\n        Path filepath = Paths.get(dir.toString(), file.getOriginalFilename());\r\n        \r\n        try (OutputStream os = Files.newOutputStream(filepath)) {\r\n            os.write(file.getBytes());\r\n        }\r\n    }\r\n\r\nYou can also use the [transferTo method][1]:\r\n\r\n\tpublic void multipartFileToFile(\r\n\t\tMultipartFile multipart, \r\n\t    Path dir\r\n    ) throws IOException {\r\n        Path filepath = Paths.get(dir.toString(), multipart.getOriginalFilename());\r\n\t    multipart.transferTo(filepath);\r\n\t}\r\n\r\n  [1]: http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo%28java.io.File%29","title":"How to convert a multipart file to File?","body":"<p>You can get the content of a <code>MultipartFile</code> by using the <code>getBytes</code> method and you can write to the file using <code>Files.newOutputStream()</code>:</p>\n\n<pre><code>public void write(MultipartFile file, Path dir) {\n    Path filepath = Paths.get(dir.toString(), file.getOriginalFilename());\n\n    try (OutputStream os = Files.newOutputStream(filepath)) {\n        os.write(file.getBytes());\n    }\n}\n</code></pre>\n\n<p>You can also use the <a href=\"http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo%28java.io.File%29\" rel=\"noreferrer\">transferTo method</a>:</p>\n\n<pre><code>public void multipartFileToFile(\n    MultipartFile multipart, \n    Path dir\n) throws IOException {\n    Path filepath = Paths.get(dir.toString(), multipart.getOriginalFilename());\n    multipart.transferTo(filepath);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1473676385,"creation_date":1463417317,"answer_id":37259094,"question_id":24339990,"body_markdown":"You can also use the [Apache Commons IO](https://commons.apache.org/proper/commons-io/) library and the [FileUtils class](https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html). In case you are using maven you can load it using the above dependency.\r\n  \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \r\nThe source for the MultipartFile save to disk.\r\n  \r\n    File file = new File(directory, filename);\r\n\r\n    // Create the file using the touch method of the FileUtils class.\r\n    // FileUtils.touch(file);\r\n\r\n    // Write bytes from the multipart file to disk.\r\n    FileUtils.writeByteArrayToFile(file, multipartFile.getBytes());","title":"How to convert a multipart file to File?","body":"<p>You can also use the <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Apache Commons IO</a> library and the <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">FileUtils class</a>. In case you are using maven you can load it using the above dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The source for the MultipartFile save to disk.</p>\n\n<pre><code>File file = new File(directory, filename);\n\n// Create the file using the touch method of the FileUtils class.\n// FileUtils.touch(file);\n\n// Write bytes from the multipart file to disk.\nFileUtils.writeByteArrayToFile(file, multipartFile.getBytes());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1492038369,"creation_date":1468062879,"answer_id":38281222,"question_id":24339990,"body_markdown":"You can access tempfile in Spring by casting if the class of interface `MultipartFile` is `CommonsMultipartFile`.\r\n\r\n    public File getTempFile(MultipartFile multipartFile)\r\n    {\r\n        CommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\r\n        FileItem fileItem = commonsMultipartFile.getFileItem();\r\n        DiskFileItem diskFileItem = (DiskFileItem) fileItem;\r\n        String absPath = diskFileItem.getStoreLocation().getAbsolutePath();\r\n        File file = new File(absPath);\r\n\r\n        //trick to implicitly save on disk small files (&lt;10240 bytes by default)\r\n        if (!file.exists()) {\r\n            file.createNewFile();\r\n            multipartFile.transferTo(file);\r\n        }\r\n\r\n        return file;\r\n    }\r\n\r\nTo get rid of the trick with files less than 10240 bytes `maxInMemorySize` property can be set to 0 in `@Configuration` `@EnableWebMvc` class. After that, all uploaded files will be stored on disk.\r\n\r\n    @Bean(name = &quot;multipartResolver&quot;)\r\n        public CommonsMultipartResolver createMultipartResolver() {\r\n            CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n            resolver.setDefaultEncoding(&quot;utf-8&quot;);\r\n            resolver.setMaxInMemorySize(0);\r\n            return resolver;\r\n        }","title":"How to convert a multipart file to File?","body":"<p>You can access tempfile in Spring by casting if the class of interface <code>MultipartFile</code> is <code>CommonsMultipartFile</code>.</p>\n\n<pre><code>public File getTempFile(MultipartFile multipartFile)\n{\n    CommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\n    FileItem fileItem = commonsMultipartFile.getFileItem();\n    DiskFileItem diskFileItem = (DiskFileItem) fileItem;\n    String absPath = diskFileItem.getStoreLocation().getAbsolutePath();\n    File file = new File(absPath);\n\n    //trick to implicitly save on disk small files (&lt;10240 bytes by default)\n    if (!file.exists()) {\n        file.createNewFile();\n        multipartFile.transferTo(file);\n    }\n\n    return file;\n}\n</code></pre>\n\n<p>To get rid of the trick with files less than 10240 bytes <code>maxInMemorySize</code> property can be set to 0 in <code>@Configuration</code> <code>@EnableWebMvc</code> class. After that, all uploaded files will be stored on disk.</p>\n\n<pre><code>@Bean(name = \"multipartResolver\")\n    public CommonsMultipartResolver createMultipartResolver() {\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n        resolver.setDefaultEncoding(\"utf-8\");\n        resolver.setMaxInMemorySize(0);\n        return resolver;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1474285140,"creation_date":1474285140,"answer_id":39572293,"question_id":24339990,"body_markdown":"Although the accepted answer is correct but if you are just trying to upload your image to cloudinary, there&#39;s a better way:\r\n\r\n    \t\r\n\t\t\r\n\t\t\r\n    Map upload = cloudinary.uploader().upload(multipartFile.getBytes(), ObjectUtils.emptyMap());\r\n\r\nWhere multipartFile is your **org.springframework.web.multipart.MultipartFile**.\r\n\t\t\t","title":"How to convert a multipart file to File?","body":"<p>Although the accepted answer is correct but if you are just trying to upload your image to cloudinary, there's a better way:</p>\n\n<pre><code>Map upload = cloudinary.uploader().upload(multipartFile.getBytes(), ObjectUtils.emptyMap());\n</code></pre>\n\n<p>Where multipartFile is your <strong>org.springframework.web.multipart.MultipartFile</strong>.</p>\n"},{"tags":[],"owner":{"account_id":3622741,"reputation":672,"user_id":3021083,"accept_rate":62,"display_name":"Anand Tagore"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483082831,"creation_date":1482988148,"answer_id":41373452,"question_id":24339990,"body_markdown":"The answer by Alex78191 has worked for me.\r\n\r\n    public File getTempFile(MultipartFile multipartFile)\r\n    {\r\n\r\n    CommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\r\n    FileItem fileItem = commonsMultipartFile.getFileItem();\r\n    DiskFileItem diskFileItem = (DiskFileItem) fileItem;\r\n    String absPath = diskFileItem.getStoreLocation().getAbsolutePath();\r\n    File file = new File(absPath);\r\n    \r\n    //trick to implicitly save on disk small files (&lt;10240 bytes by default)\r\n\r\n    if (!file.exists()) {\r\n        file.createNewFile();\r\n        multipartFile.transferTo(file);\r\n    }\r\n\r\n    return file;\r\n    }\r\n\r\n For uploading files having size greater than 10240 bytes please change the maxInMemorySize in multipartResolver to 1MB.\r\n\r\n    &lt;bean id=&quot;multipartResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n\t&lt;!-- setting maximum upload size t 20MB --&gt;\r\n\t&lt;property name=&quot;maxUploadSize&quot; value=&quot;20971520&quot; /&gt;\r\n\t&lt;!-- max size of file in memory (in bytes) --&gt;\r\n\t&lt;property name=&quot;maxInMemorySize&quot; value=&quot;1048576&quot; /&gt;\r\n\t&lt;!-- 1MB --&gt; &lt;/bean&gt;","title":"How to convert a multipart file to File?","body":"<p>The answer by Alex78191 has worked for me.</p>\n\n<pre><code>public File getTempFile(MultipartFile multipartFile)\n{\n\nCommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\nFileItem fileItem = commonsMultipartFile.getFileItem();\nDiskFileItem diskFileItem = (DiskFileItem) fileItem;\nString absPath = diskFileItem.getStoreLocation().getAbsolutePath();\nFile file = new File(absPath);\n\n//trick to implicitly save on disk small files (&lt;10240 bytes by default)\n\nif (!file.exists()) {\n    file.createNewFile();\n    multipartFile.transferTo(file);\n}\n\nreturn file;\n}\n</code></pre>\n\n<p>For uploading files having size greater than 10240 bytes please change the maxInMemorySize in multipartResolver to 1MB.</p>\n\n<pre><code>&lt;bean id=\"multipartResolver\"\n    class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n&lt;!-- setting maximum upload size t 20MB --&gt;\n&lt;property name=\"maxUploadSize\" value=\"20971520\" /&gt;\n&lt;!-- max size of file in memory (in bytes) --&gt;\n&lt;property name=\"maxInMemorySize\" value=\"1048576\" /&gt;\n&lt;!-- 1MB --&gt; &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7874694,"reputation":1606,"user_id":5950846,"accept_rate":50,"display_name":"Swadeshi"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1502955208,"creation_date":1502955208,"answer_id":45729116,"question_id":24339990,"body_markdown":"small correction on @PetrosTsialiamanis post ,\r\n**`new File( multipart.getOriginalFilename())`** this will create file in server location where sometime you will face write permission issues for the user, its not always possible to give write permission to every user who perform action.\r\n**`System.getProperty(&quot;java.io.tmpdir&quot;)`** will create temp directory where your file will be created properly.\r\nThis way you are creating temp folder, where file gets created , later on you can delete file or temp folder.\r\n\r\n    public  static File multipartToFile(MultipartFile multipart, String fileName) throws IllegalStateException, IOException {\r\n    \tFile convFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;)+&quot;/&quot;+fileName);\r\n    \tmultipart.transferTo(convFile);\r\n    \treturn convFile;\r\n    }\r\n\r\nput this method in ur common utility and use it like for eg. `Utility.multipartToFile(...)`\r\n","title":"How to convert a multipart file to File?","body":"<p>small correction on @PetrosTsialiamanis post ,\n<strong><code>new File( multipart.getOriginalFilename())</code></strong> this will create file in server location where sometime you will face write permission issues for the user, its not always possible to give write permission to every user who perform action.\n<strong><code>System.getProperty(\"java.io.tmpdir\")</code></strong> will create temp directory where your file will be created properly.\nThis way you are creating temp folder, where file gets created , later on you can delete file or temp folder.</p>\n\n<pre><code>public  static File multipartToFile(MultipartFile multipart, String fileName) throws IllegalStateException, IOException {\n    File convFile = new File(System.getProperty(\"java.io.tmpdir\")+\"/\"+fileName);\n    multipart.transferTo(convFile);\n    return convFile;\n}\n</code></pre>\n\n<p>put this method in ur common utility and use it like for eg. <code>Utility.multipartToFile(...)</code></p>\n"},{"tags":[],"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1650815919,"creation_date":1542021851,"answer_id":53261156,"question_id":24339990,"body_markdown":"    private File convertMultiPartToFile(MultipartFile file ) throws IOException {\r\n        File convFile = new File( file.getOriginalFilename() );\r\n        FileOutputStream fos = new FileOutputStream( convFile );\r\n        fos.write( file.getBytes() );\r\n        fos.close();\r\n        return convFile;\r\n    }","title":"How to convert a multipart file to File?","body":"<pre><code>private File convertMultiPartToFile(MultipartFile file ) throws IOException {\n    File convFile = new File( file.getOriginalFilename() );\n    FileOutputStream fos = new FileOutputStream( convFile );\n    fos.write( file.getBytes() );\n    fos.close();\n    return convFile;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1567501096,"creation_date":1550568038,"answer_id":54762645,"question_id":24339990,"body_markdown":"MultipartFile.transferTo(File) is nice, but don&#39;t forget to clean the temp file after all.\r\n\r\n    // ask JVM to ask operating system to create temp file\r\n    File tempFile = File.createTempFile(TEMP_FILE_PREFIX, TEMP_FILE_POSTFIX);\r\n\r\n    // ask JVM to delete it upon JVM exit if you forgot / can&#39;t delete due exception\r\n    tempFile.deleteOnExit();\r\n\r\n    // transfer MultipartFile to File\r\n    multipartFile.transferTo(tempFile);\r\n\r\n    // do business logic here\r\n    result = businessLogic(tempFile);\r\n\r\n    // tidy up\r\n    tempFile.delete();\r\n\r\nCheck out Razzlero&#39;s comment about File.deleteOnExit() executed upon JVM exit (which may be extremely rare) details below.","title":"How to convert a multipart file to File?","body":"<p>MultipartFile.transferTo(File) is nice, but don't forget to clean the temp file after all.</p>\n\n<pre><code>// ask JVM to ask operating system to create temp file\nFile tempFile = File.createTempFile(TEMP_FILE_PREFIX, TEMP_FILE_POSTFIX);\n\n// ask JVM to delete it upon JVM exit if you forgot / can't delete due exception\ntempFile.deleteOnExit();\n\n// transfer MultipartFile to File\nmultipartFile.transferTo(tempFile);\n\n// do business logic here\nresult = businessLogic(tempFile);\n\n// tidy up\ntempFile.delete();\n</code></pre>\n\n<p>Check out Razzlero's comment about File.deleteOnExit() executed upon JVM exit (which may be extremely rare) details below.</p>\n"},{"tags":[],"owner":{"account_id":14460644,"reputation":2287,"user_id":10445540,"display_name":"Artem Botnev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551176112,"creation_date":1551176112,"answer_id":54883124,"question_id":24339990,"body_markdown":"if you don&#39;t want to use MultipartFile.transferTo(). You can write file like this\r\n\r\n        val dir = File(filePackagePath)\r\n        if (!dir.exists()) dir.mkdirs()\r\n\r\n        val file = File(&quot;$filePackagePath${multipartFile.originalFilename}&quot;).apply {\r\n            createNewFile()\r\n        }\r\n\r\n        FileOutputStream(file).use {\r\n            it.write(multipartFile.bytes)\r\n        }","title":"How to convert a multipart file to File?","body":"<p>if you don't want to use MultipartFile.transferTo(). You can write file like this</p>\n\n<pre><code>    val dir = File(filePackagePath)\n    if (!dir.exists()) dir.mkdirs()\n\n    val file = File(\"$filePackagePath${multipartFile.originalFilename}\").apply {\n        createNewFile()\n    }\n\n    FileOutputStream(file).use {\n        it.write(multipartFile.bytes)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615547575,"creation_date":1615547575,"answer_id":66598842,"question_id":24339990,"body_markdown":"Single line answer using Apache Commons.\r\n\r\n`FileUtils.copyInputStreamToFile(multipartFile.getInputStream(), file);`\r\n\r\n","title":"How to convert a multipart file to File?","body":"<p>Single line answer using Apache Commons.</p>\n<p><code>FileUtils.copyInputStreamToFile(multipartFile.getInputStream(), file);</code></p>\n"},{"tags":[],"owner":{"account_id":10203549,"reputation":1434,"user_id":7532946,"accept_rate":0,"display_name":"anson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635138381,"creation_date":1635138381,"answer_id":69703083,"question_id":24339990,"body_markdown":"MultipartFile can get InputStream.\r\n\r\nmultipartFile.getInputStream()","title":"How to convert a multipart file to File?","body":"<p>MultipartFile can get InputStream.</p>\n<p>multipartFile.getInputStream()</p>\n"}],"owner":{"account_id":2557746,"reputation":4176,"user_id":2219371,"accept_rate":83,"display_name":"Amila Iddamalgoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311579,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":24340058,"answer_count":11,"score":113,"last_activity_date":1679517045,"creation_date":1403340935,"question_id":24339990,"body_markdown":"Can any one tell me what is a the best way to convert a multipart file  (org.springframework.web.multipart.MultipartFile) to File (java.io.File) ?\r\n\r\nIn my spring mvc web project i&#39;m getting uploaded file as Multipart file.I have to convert it to a File(io) ,there fore I can call this image storing service(**Cloudinary**).They only take type (File).\r\n\r\nI have done so many searches but failed.If anybody knows a good standard way please let me know?\r\nThnx","title":"How to convert a multipart file to File?","body":"<p>Can any one tell me what is a the best way to convert a multipart file  (org.springframework.web.multipart.MultipartFile) to File (java.io.File) ?</p>\n\n<p>In my spring mvc web project i'm getting uploaded file as Multipart file.I have to convert it to a File(io) ,there fore I can call this image storing service(<strong>Cloudinary</strong>).They only take type (File).</p>\n\n<p>I have done so many searches but failed.If anybody knows a good standard way please let me know?\nThnx</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678922369,"creation_date":1678918461,"answer_id":75750551,"question_id":75750508,"body_markdown":"In Java, this example is probably not generic.  Instead, use inheritance.  Define an interface with a method `getCalcuatedWeight()` and implement this in all required classes.\r\n\r\n    public interface Weighted {\r\n       float getCalcuatedWeight();\r\n    }\r\n    \r\n    public class Car implements Weighted {\r\n       public float getCalcuatedWeight() {\r\n         return 42f;\r\n       }\r\n    }\r\n    \r\n    public class Train implements Weighted {\r\n       public float getCalcuatedWeight() {\r\n          return 4200f;\r\n       }\r\n    }\r\n\r\n","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>In Java, this example is probably not generic.  Instead, use inheritance.  Define an interface with a method <code>getCalcuatedWeight()</code> and implement this in all required classes.</p>\n<pre><code>public interface Weighted {\n   float getCalcuatedWeight();\n}\n\npublic class Car implements Weighted {\n   public float getCalcuatedWeight() {\n     return 42f;\n   }\n}\n\npublic class Train implements Weighted {\n   public float getCalcuatedWeight() {\n      return 4200f;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678931633,"creation_date":1678931633,"answer_id":75751535,"question_id":75750508,"body_markdown":"What you&#39;re doing here doesn&#39;t require generics at all. The object you pass in must implement `getCalcuatedWeight()`, so the way to do that in Java is to define an interface, e.g:\r\n```\r\ninterface WeightCalculator {\r\n    double getCalculatedWeight(INPUTS);\r\n}\r\n```\r\nYour method declaration then looks like this:\r\n```\r\npublic static Double getNewWeight(WeightCalculator genericInput) {\r\n    ...\r\n}\r\n```\r\nThe class of any object you pass to your method must declare that it `implements WeightCalculator`. The compiler will ensure that you have the method defined in your class, and will ensure only a class that implements that interface can be passed to the method.\r\n\r\nYou could also declare an abstract WeightCalculator class, and have your objects inherit from that, but I think that misrepresents the relationship they have (no hierarchy), and doesn&#39;t have any advantage (e.g shared code).","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>What you're doing here doesn't require generics at all. The object you pass in must implement <code>getCalcuatedWeight()</code>, so the way to do that in Java is to define an interface, e.g:</p>\n<pre><code>interface WeightCalculator {\n    double getCalculatedWeight(INPUTS);\n}\n</code></pre>\n<p>Your method declaration then looks like this:</p>\n<pre><code>public static Double getNewWeight(WeightCalculator genericInput) {\n    ...\n}\n</code></pre>\n<p>The class of any object you pass to your method must declare that it <code>implements WeightCalculator</code>. The compiler will ensure that you have the method defined in your class, and will ensure only a class that implements that interface can be passed to the method.</p>\n<p>You could also declare an abstract WeightCalculator class, and have your objects inherit from that, but I think that misrepresents the relationship they have (no hierarchy), and doesn't have any advantage (e.g shared code).</p>\n"},{"tags":[],"owner":{"account_id":7536364,"reputation":3543,"user_id":5722505,"display_name":"Egan Wolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678951753,"creation_date":1678951753,"answer_id":75753206,"question_id":75750508,"body_markdown":"If there is no dependency between classes then your only options are either reflections as mentioned by @markspace in a comment or using Object as the parameter and casting to a real class like this:\r\n\r\n    public static Double getNewWeight(Object genericInput) {\r\n        double weight = 0.0;\r\n        //logic\r\n        if (genericInput instanceof Car)\r\n            weight = ((Car)genericInput).getCalcuatedWeight(INPUTS);\r\n        else if (genericInput instanceof Train)\r\n            weight = ((Train)genericInput).getCalcuatedWeight(INPUTS);\r\n        //logic\r\n        return weight;\r\n    }","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>If there is no dependency between classes then your only options are either reflections as mentioned by @markspace in a comment or using Object as the parameter and casting to a real class like this:</p>\n<pre><code>public static Double getNewWeight(Object genericInput) {\n    double weight = 0.0;\n    //logic\n    if (genericInput instanceof Car)\n        weight = ((Car)genericInput).getCalcuatedWeight(INPUTS);\n    else if (genericInput instanceof Train)\n        weight = ((Train)genericInput).getCalcuatedWeight(INPUTS);\n    //logic\n    return weight;\n}\n</code></pre>\n"}],"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75753206,"answer_count":3,"score":0,"last_activity_date":1679516264,"creation_date":1678918112,"question_id":75750508,"body_markdown":"I am quite new to Java and read about the generic inputs and classes. I was wondering if we can have a function for example named as `getNewWeights(genericInput)` where the `genericInput` can be different class types but they have similar functions, as follows:\r\n\r\n```java\r\npublic static Double getNewWeight(Class&lt;T&gt; genericInput) {\r\n    double weight = 0.0;\r\n    //logic\r\n    weight = genericInput.getCalcuatedWeight(INPUTS); \r\n    //logic\r\n    return weight\r\n}\r\n```\r\n\r\nwhile genericInputs of any type has same `getCalcuatedWeight` function.\r\n\r\nfor example:\r\n     if `genericInput` class type is Car or Train both of these classes have a public function as `getCalcuatedWeight` that returns a double value.\r\n\r\n","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>I am quite new to Java and read about the generic inputs and classes. I was wondering if we can have a function for example named as <code>getNewWeights(genericInput)</code> where the <code>genericInput</code> can be different class types but they have similar functions, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Double getNewWeight(Class&lt;T&gt; genericInput) {\n    double weight = 0.0;\n    //logic\n    weight = genericInput.getCalcuatedWeight(INPUTS); \n    //logic\n    return weight\n}\n</code></pre>\n<p>while genericInputs of any type has same <code>getCalcuatedWeight</code> function.</p>\n<p>for example:\nif <code>genericInput</code> class type is Car or Train both of these classes have a public function as <code>getCalcuatedWeight</code> that returns a double value.</p>\n"},{"tags":["java","api","rest"],"comments":[{"owner":{"account_id":7238815,"reputation":1206,"user_id":5523033,"accept_rate":75,"display_name":"Andrei"},"score":0,"creation_date":1679427841,"post_id":75805590,"comment_id":133719917,"body_markdown":"is `()` valid in the url?","body":"is <code>()</code> valid in the url?"},{"owner":{"account_id":21060814,"reputation":1,"user_id":15479240,"display_name":"neshko"},"score":0,"creation_date":1679515967,"post_id":75805590,"comment_id":133738009,"body_markdown":"Yes, it is set by PTC.","body":"Yes, it is set by PTC."}],"answers":[{"tags":[],"owner":{"account_id":21060814,"reputation":1,"user_id":15479240,"display_name":"neshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679515996,"creation_date":1679515882,"answer_id":75816878,"question_id":75805590,"body_markdown":"It turns out that I was missing the following statement:\r\n\r\n    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\nAfter that everything works fine.\r\n\r\nBest regards!","title":"Problem getting CSRF_NONCE value (HTTP 400)","body":"<p>It turns out that I was missing the following statement:</p>\n<pre><code>conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>After that everything works fine.</p>\n<p>Best regards!</p>\n"}],"owner":{"account_id":21060814,"reputation":1,"user_id":15479240,"display_name":"neshko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679515996,"creation_date":1679426678,"question_id":75805590,"body_markdown":"I am trying to get CSRF_NONCE value, using java api, from my Windchill 12.1 server. But what ever I do I get HTTP code 400.\r\n\r\nTried queries were:\r\nhttps://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart\r\nhttps://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()\r\n\r\nBoth queries works fine through Firefox browser. But, not using java code.\r\n\r\nDoes anybody have idea why one query works and the other not.\r\n\r\nThanks\r\n\r\nI tried the following code:\r\n\r\n```\r\nURL url = new URL (&quot;https://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) obj.openConnection();\r\nconn.setRequestMethod(&quot;GET&quot;);\r\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\nconn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authString); //authstring is Base64 encoded\r\nconn.connect();\r\nBufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\nString inputLine;\r\nStringBuffer response = new StringBuffer();\r\nwhile ((inputLine = in.readLine()) != null) {\r\n\tresponse.append(inputLine);\r\n}\r\nin.close();\r\nconn.disconnect();\r\n//---------------\r\n```\r\n\r\nI also tried different url for example:\r\n&quot;https://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart&quot;\r\nand i get right data using the same code as above.\r\n","title":"Problem getting CSRF_NONCE value (HTTP 400)","body":"<p>I am trying to get CSRF_NONCE value, using java api, from my Windchill 12.1 server. But what ever I do I get HTTP code 400.</p>\n<p>Tried queries were:\nhttps://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart\nhttps://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()</p>\n<p>Both queries works fine through Firefox browser. But, not using java code.</p>\n<p>Does anybody have idea why one query works and the other not.</p>\n<p>Thanks</p>\n<p>I tried the following code:</p>\n<pre><code>URL url = new URL (&quot;https://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()&quot;);\nHttpURLConnection conn = (HttpURLConnection) obj.openConnection();\nconn.setRequestMethod(&quot;GET&quot;);\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\nconn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authString); //authstring is Base64 encoded\nconn.connect();\nBufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString inputLine;\nStringBuffer response = new StringBuffer();\nwhile ((inputLine = in.readLine()) != null) {\n    response.append(inputLine);\n}\nin.close();\nconn.disconnect();\n//---------------\n</code></pre>\n<p>I also tried different url for example:\n&quot;https://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart&quot;\nand i get right data using the same code as above.</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"score":0,"creation_date":1679507403,"post_id":73431799,"comment_id":133736060,"body_markdown":"Hi, did you find a way to make it work?","body":"Hi, did you find a way to make it work?"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1679515031,"post_id":73431799,"comment_id":133737808,"body_markdown":"no I put my workaround in the OP","body":"no I put my workaround in the OP"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679515314,"creation_date":1661058654,"question_id":73431799,"body_markdown":"Spring Cloud Gateway has a [ForwardRoutingFilter](https://cloud.spring.io/spring-cloud-gateway/reference/html/#forward-routing-filter)\r\n\r\n&gt; The ForwardRoutingFilter looks for a URI in the exchange attribute ServerWebExchangeUtils.GATEWAY_REQUEST_URL_ATTR. If the URL has a forward scheme (such as forward:///localendpoint), it uses the Spring DispatcherHandler to handle the request.\r\n\r\nI tried the following\r\n```java\r\nexchange.getAttributes().put(GATEWAY_REQUEST_URL_ATTR, URI.create(&quot;forward:///debug&quot;));\r\nreturn chain.filter(exchange);\r\n```\r\n\r\nBut it seems to still be routing to the original service rather than my endpoint\r\n\r\nThe routes are defined by discovery as follows\r\n\r\n```java\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          predicates:\r\n            - name: Path\r\n              args:\r\n                patterns: &quot;metadata[&#39;path&#39;]&quot;\r\n          filters:\r\n            - RemoveRequestHeader=&#39;Cookie&#39;\r\n            # Prevent propagation of traces\r\n            - RemoveRequestHeader=&#39;X-B3-TraceId&#39;\r\n            - RemoveRequestHeader=&#39;X-Trace-ID&#39;\r\n            - name: Retry\r\n              args:\r\n                retries: 3\r\n              methods:\r\n                - GET\r\n            - name: RewritePath\r\n              args:\r\n                regexp: &quot;metadata[&#39;path.regexp&#39;]&quot;\r\n                replacement: &quot;metadata[&#39;path.replacement&#39;]&quot;\r\n            - name: CircuitBreaker\r\n              args:\r\n                name: &quot;&#39;resilience&#39;&quot;\r\n                fallbackUri: &quot;&#39;forward:/unavailable&#39;&quot;\r\n            # The Grpc is the one that contains the filter\r\n            - name: Grpc \r\n              args:\r\n                serviceId: serviceId\r\n                host: host\r\n                useGrpc: &quot;metadata[&#39;protocol&#39;] == &#39;grpc&#39;&quot;\r\n                port: port\r\n```\r\n\r\nUPDATE: my workaround for now.\r\n\r\n```\r\nexchange.getAttributes().put(GATEWAY_SCHEME_PREFIX_ATTR, &quot;grpc&quot;);\r\n```\r\n\r\nThen I check whether I would process in a GlobalFilter\r\n```\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\r\n    if (!isAccepted(exchange)) {\r\n      return chain.filter(exchange);\r\n    }\r\n...\r\n  private boolean isAccepted(ServerWebExchange exchange) {\r\n    return (&quot;grpc&quot;.equals(exchange.getAttribute(GATEWAY_SCHEME_PREFIX_ATTR)))\r\n```\r\n\r\nRelated code: \r\n* [GrpcGatewayFilterFactory](https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/GrpcGatewayFilterFactory.java#L51)\r\n* [ServerStreamingGrpcGlobalFilter](https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/ServerStreamingGrpcGlobalFilter.java#L236)","title":"How do I route from Spring Cloud Gateway to a webflux endpoint in a FilterFactory?","body":"<p>Spring Cloud Gateway has a <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#forward-routing-filter\" rel=\"nofollow noreferrer\">ForwardRoutingFilter</a></p>\n<blockquote>\n<p>The ForwardRoutingFilter looks for a URI in the exchange attribute ServerWebExchangeUtils.GATEWAY_REQUEST_URL_ATTR. If the URL has a forward scheme (such as forward:///localendpoint), it uses the Spring DispatcherHandler to handle the request.</p>\n</blockquote>\n<p>I tried the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>exchange.getAttributes().put(GATEWAY_REQUEST_URL_ATTR, URI.create(&quot;forward:///debug&quot;));\nreturn chain.filter(exchange);\n</code></pre>\n<p>But it seems to still be routing to the original service rather than my endpoint</p>\n<p>The routes are defined by discovery as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          predicates:\n            - name: Path\n              args:\n                patterns: &quot;metadata['path']&quot;\n          filters:\n            - RemoveRequestHeader='Cookie'\n            # Prevent propagation of traces\n            - RemoveRequestHeader='X-B3-TraceId'\n            - RemoveRequestHeader='X-Trace-ID'\n            - name: Retry\n              args:\n                retries: 3\n              methods:\n                - GET\n            - name: RewritePath\n              args:\n                regexp: &quot;metadata['path.regexp']&quot;\n                replacement: &quot;metadata['path.replacement']&quot;\n            - name: CircuitBreaker\n              args:\n                name: &quot;'resilience'&quot;\n                fallbackUri: &quot;'forward:/unavailable'&quot;\n            # The Grpc is the one that contains the filter\n            - name: Grpc \n              args:\n                serviceId: serviceId\n                host: host\n                useGrpc: &quot;metadata['protocol'] == 'grpc'&quot;\n                port: port\n</code></pre>\n<p>UPDATE: my workaround for now.</p>\n<pre><code>exchange.getAttributes().put(GATEWAY_SCHEME_PREFIX_ATTR, &quot;grpc&quot;);\n</code></pre>\n<p>Then I check whether I would process in a GlobalFilter</p>\n<pre><code>  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n\n    if (!isAccepted(exchange)) {\n      return chain.filter(exchange);\n    }\n...\n  private boolean isAccepted(ServerWebExchange exchange) {\n    return (&quot;grpc&quot;.equals(exchange.getAttribute(GATEWAY_SCHEME_PREFIX_ATTR)))\n</code></pre>\n<p>Related code:</p>\n<ul>\n<li><a href=\"https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/GrpcGatewayFilterFactory.java#L51\" rel=\"nofollow noreferrer\">GrpcGatewayFilterFactory</a></li>\n<li><a href=\"https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/ServerStreamingGrpcGlobalFilter.java#L236\" rel=\"nofollow noreferrer\">ServerStreamingGrpcGlobalFilter</a></li>\n</ul>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":10227377,"reputation":638,"user_id":7549431,"display_name":"Timur Panzhiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679515306,"creation_date":1679515306,"answer_id":75816795,"question_id":75815710,"body_markdown":"`tools:context` attribute is just a hint to which class this view belongs. It does nothing.\r\n\r\nYou should create your own `BottomSheetDialog` and set this layout in `onCreateView` method. There are quite a lot of articles about bottom sheets, check [this one][1] out for instance.\r\n\r\n\r\n  [1]: https://www.section.io/engineering-education/bottom-sheet-dialogs-using-android-studio/","title":"Bottom slide up layout doesn`t run JAVA class context contents","body":"<p><code>tools:context</code> attribute is just a hint to which class this view belongs. It does nothing.</p>\n<p>You should create your own <code>BottomSheetDialog</code> and set this layout in <code>onCreateView</code> method. There are quite a lot of articles about bottom sheets, check <a href=\"https://www.section.io/engineering-education/bottom-sheet-dialogs-using-android-studio/\" rel=\"nofollow noreferrer\">this one</a> out for instance.</p>\n"}],"owner":{"account_id":3768167,"reputation":21,"user_id":3131065,"display_name":"RJDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679515306,"creation_date":1679507642,"question_id":75815710,"body_markdown":"I have problem with bottom slide up layout in Android Studio (Java). I will try to describe my problem as good as I can.\r\nAlright. I have built Bottom slide up layout with it`s related Java class. In google map activity I have marker onclicklistener function. When I click on marker the bottom slide up layout showup, But the problem is. It just show the front-end of layout (the content I already have in .xml file) but it does Not load or execute&#39;s the Java class related to that .xml slide up layout.\r\n\r\nThat&#39;s the only problem. The slide up layout shows up when clicked on google map marker. Main and general Problem is. It does Not execute slide up layout related java class(tools:context=&quot;.java_class&quot;) functions(context content). I don`t know where is the problem.\r\n\r\nBelow is the code from my bottom sheet layout which is slides up layout design content.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/bottomSheetContainer&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    app:behavior_peekHeight=&quot;80dp&quot;\r\n    tools:context=&quot;.Bottom_sheet_layout&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/userTopInfo&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:paddingBottom=&quot;100dp&quot;&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:layout_marginTop=&quot;-100dp&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:padding=&quot;3dp&quot;\r\n            tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/TopInfo&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/bottom_sheet_background&quot;\r\n        android:layout_marginTop=&quot;-10dp&quot;\r\n        android:paddingBottom=&quot;10dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@id/linearLayoutID&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/dbText1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;sans-serif-light&quot;\r\n                android:padding=&quot;5dp&quot;\r\n                android:text=&quot;Brand&quot;\r\n                android:textColor=&quot;#000000&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/dbText2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;sans-serif-light&quot;\r\n                android:padding=&quot;5dp&quot;\r\n                android:text=&quot;text from Database&quot;\r\n                android:textColor=&quot;#000000&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nAnd below is a map activity where google map is with marker onClickListener function.\r\n```\r\ngoogleMap.setOnMarkerClickListener(marker1 -&gt; {\r\n//marker1.hideInfoWindow();\r\n\r\nGeocoder geocoder = new Geocoder(MapsActivity.this,Locale.getDefault());\r\ntry {\r\n     addresses = geocoder.getFromLocation(marker1.getPosition().latitude,marker1.getPosition().longitude, 1);\r\n} catch (IOException e) {\r\n     e.printStackTrace();\r\n}\r\nString address = addresses.get(0).getAddressLine(0);\r\n//String city = addresses.get(0).getLocality();\r\n\r\nToast.makeText(MapsActivity.this, &quot;Marker onclicked. Slideup shows.&quot;, Toast.LENGTH_SHORT).show();\r\n// Down below is the code which takes care of bottom layout slide up functionality. Of course this \r\n// code works it does show slide up layout mentioned, but that layout does NOT do any related java\r\n// context functions. \r\nBottomSheetDialog bottomSheetDialog = new BottomSheetDialog(MapsActivity.this, R.style.BottomSheetDialogTheme);\r\nView bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.layout_bottom_sheet, findViewById(R.id.bottomSheetContainer));\r\nbottomSheetDialog.setContentView(bottomSheetView);\r\nbottomSheetDialog.show();\r\nreturn true;\r\n});\r\n```\r\n\r\nThis is it. This is the code which should work but Not. I meant slideup it self.. Yes it slide&#39;s up the layout. But not executed any java class functions even onCreate() wasn&#39;t executed after layout slide up. I have tested added some simple Toast() message to onCreate() to make sure it was or wasn&#39;t loaded. Nop! Toast didn&#39;t appeared that means onCreate() and any other public void function() didn&#39;t executed.\r\nPS - I do use &quot;binding&quot; for this slide up layout class. If that matters and few of google firebase functions for data setting and getting.\r\n\r\nAny help appreciated.\r\nThank you!","title":"Bottom slide up layout doesn`t run JAVA class context contents","body":"<p>I have problem with bottom slide up layout in Android Studio (Java). I will try to describe my problem as good as I can.\nAlright. I have built Bottom slide up layout with it`s related Java class. In google map activity I have marker onclicklistener function. When I click on marker the bottom slide up layout showup, But the problem is. It just show the front-end of layout (the content I already have in .xml file) but it does Not load or execute's the Java class related to that .xml slide up layout.</p>\n<p>That's the only problem. The slide up layout shows up when clicked on google map marker. Main and general Problem is. It does Not execute slide up layout related java class(tools:context=&quot;.java_class&quot;) functions(context content). I don`t know where is the problem.</p>\n<p>Below is the code from my bottom sheet layout which is slides up layout design content.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/bottomSheetContainer&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    app:behavior_peekHeight=&quot;80dp&quot;\n    tools:context=&quot;.Bottom_sheet_layout&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/userTopInfo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:paddingBottom=&quot;100dp&quot;&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:layout_marginTop=&quot;-100dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/image&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;150dp&quot;\n            android:padding=&quot;3dp&quot;\n            tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/TopInfo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/bottom_sheet_background&quot;\n        android:layout_marginTop=&quot;-10dp&quot;\n        android:paddingBottom=&quot;10dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@id/linearLayoutID&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/dbText1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;sans-serif-light&quot;\n                android:padding=&quot;5dp&quot;\n                android:text=&quot;Brand&quot;\n                android:textColor=&quot;#000000&quot;\n                android:textSize=&quot;24sp&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/dbText2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;sans-serif-light&quot;\n                android:padding=&quot;5dp&quot;\n                android:text=&quot;text from Database&quot;\n                android:textColor=&quot;#000000&quot;\n                android:textSize=&quot;24sp&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And below is a map activity where google map is with marker onClickListener function.</p>\n<pre><code>googleMap.setOnMarkerClickListener(marker1 -&gt; {\n//marker1.hideInfoWindow();\n\nGeocoder geocoder = new Geocoder(MapsActivity.this,Locale.getDefault());\ntry {\n     addresses = geocoder.getFromLocation(marker1.getPosition().latitude,marker1.getPosition().longitude, 1);\n} catch (IOException e) {\n     e.printStackTrace();\n}\nString address = addresses.get(0).getAddressLine(0);\n//String city = addresses.get(0).getLocality();\n\nToast.makeText(MapsActivity.this, &quot;Marker onclicked. Slideup shows.&quot;, Toast.LENGTH_SHORT).show();\n// Down below is the code which takes care of bottom layout slide up functionality. Of course this \n// code works it does show slide up layout mentioned, but that layout does NOT do any related java\n// context functions. \nBottomSheetDialog bottomSheetDialog = new BottomSheetDialog(MapsActivity.this, R.style.BottomSheetDialogTheme);\nView bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.layout_bottom_sheet, findViewById(R.id.bottomSheetContainer));\nbottomSheetDialog.setContentView(bottomSheetView);\nbottomSheetDialog.show();\nreturn true;\n});\n</code></pre>\n<p>This is it. This is the code which should work but Not. I meant slideup it self.. Yes it slide's up the layout. But not executed any java class functions even onCreate() wasn't executed after layout slide up. I have tested added some simple Toast() message to onCreate() to make sure it was or wasn't loaded. Nop! Toast didn't appeared that means onCreate() and any other public void function() didn't executed.\nPS - I do use &quot;binding&quot; for this slide up layout class. If that matters and few of google firebase functions for data setting and getting.</p>\n<p>Any help appreciated.\nThank you!</p>\n"},{"tags":["java","spring","spring-security","configuration"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1679515015,"post_id":75811882,"comment_id":133737804,"body_markdown":"Your second configuration missed `@Bean` annotation and `formLogin()` for username and password authentication. Also change `mvcMatcher` with `securityMatcher`.","body":"Your second configuration missed <code>@Bean</code> annotation and <code>formLogin()</code> for username and password authentication. Also change <code>mvcMatcher</code> with <code>securityMatcher</code>."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679487981,"creation_date":1679487533,"answer_id":75812176,"question_id":75811882,"body_markdown":"Use `http.securityMatcher(...)` in the first `SecurityFilterChain` in `@Order` for it to apply just to a few routes and have the second in order act as default (I would set an explicit order to the two and a security matcher only to the first).\r\n\r\nP.S.\r\nIf you setup this username / password for a programmatic client, have you considered using client-credentials flow to get an access token and have your API secured with just the resource server filter chain?","title":"Secure a specific path with just username password and others with jwt token in Spring Security","body":"<p>Use <code>http.securityMatcher(...)</code> in the first <code>SecurityFilterChain</code> in <code>@Order</code> for it to apply just to a few routes and have the second in order act as default (I would set an explicit order to the two and a security matcher only to the first).</p>\n<p>P.S.\nIf you setup this username / password for a programmatic client, have you considered using client-credentials flow to get an access token and have your API secured with just the resource server filter chain?</p>\n"}],"owner":{"account_id":16276818,"reputation":16,"user_id":11753798,"display_name":"Shahzaib Ibrahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679516361,"answer_count":1,"score":0,"last_activity_date":1679514795,"creation_date":1679485770,"question_id":75811882,"body_markdown":"I have configured Swagger in my Spring Boot application, all the controllers are secured with OAuth2 protocol but I want my `/swagger-ui/**` path to be secured by simple username password which can be hardcoded here. I can&#39;t find a way to implement two different authentication for different endpoints.  \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\tLOGGER.debug(&quot;in configure HttpSecurity&quot;);\r\n\t\thttp\r\n\t\t\t.mvcMatcher(&quot;/v1/**&quot;)\r\n            .authorizeRequests()\r\n\t\t\t    .mvcMatchers(&quot;/webhook/stripe/**&quot;).anonymous()\r\n    \t\t\t.mvcMatchers(&quot;/forgotPassword/**&quot;).anonymous()\r\n\t    \t\t.mvcMatchers(&quot;/public/**&quot;).anonymous()\r\n\t\t\t\t// Any request simply requires authentication, regardless of permissions.\r\n\t\t    \t.anyRequest().authenticated()\r\n\t\t\t    .and()\r\n\t\t    .oauth2ResourceServer(oauth2 -&gt; oauth2\r\n\t            .jwt(jwt -&gt; jwt\r\n\t                .decoder(jwtDecoder())\r\n\t                    .jwtAuthenticationConverter(jwtAuthenticationConverter())\r\n\t            )\r\n\t        );\r\n\r\n        http\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\r\nI tried creating another filter chain with `Order(1)`- \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Order(1)\r\n\tpublic SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception {\r\n\t\tUserDetails admin = User.withUsername(&quot;admin&quot;)\r\n\t\t\t\t.password(&quot;12345&quot;)\r\n\t\t\t\t.build();\r\n\t\thttp\r\n\t\t\t.mvcMatcher(&quot;/swagger-ui/**&quot;)\r\n            .authorizeRequests()\r\n                .and()\r\n            .userDetailsService(new InMemoryUserDetailsManager(admin));\r\n\t\treturn http.build();\r\n\t}\r\n\r\nI expected it to work like a filter chain and try to authenticate it first, but it didn&#39;t work that way. ","title":"Secure a specific path with just username password and others with jwt token in Spring Security","body":"<p>I have configured Swagger in my Spring Boot application, all the controllers are secured with OAuth2 protocol but I want my <code>/swagger-ui/**</code> path to be secured by simple username password which can be hardcoded here. I can't find a way to implement two different authentication for different endpoints.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    LOGGER.debug(&quot;in configure HttpSecurity&quot;);\n    http\n        .mvcMatcher(&quot;/v1/**&quot;)\n        .authorizeRequests()\n            .mvcMatchers(&quot;/webhook/stripe/**&quot;).anonymous()\n            .mvcMatchers(&quot;/forgotPassword/**&quot;).anonymous()\n            .mvcMatchers(&quot;/public/**&quot;).anonymous()\n            // Any request simply requires authentication, regardless of permissions.\n            .anyRequest().authenticated()\n            .and()\n        .oauth2ResourceServer(oauth2 -&gt; oauth2\n            .jwt(jwt -&gt; jwt\n                .decoder(jwtDecoder())\n                    .jwtAuthenticationConverter(jwtAuthenticationConverter())\n            )\n        );\n\n    http\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    return http.build();\n}\n</code></pre>\n<p>I tried creating another filter chain with <code>Order(1)</code>-</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(1)\npublic SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception {\n    UserDetails admin = User.withUsername(&quot;admin&quot;)\n            .password(&quot;12345&quot;)\n            .build();\n    http\n        .mvcMatcher(&quot;/swagger-ui/**&quot;)\n        .authorizeRequests()\n            .and()\n        .userDetailsService(new InMemoryUserDetailsManager(admin));\n    return http.build();\n}\n</code></pre>\n<p>I expected it to work like a filter chain and try to authenticate it first, but it didn't work that way.</p>\n"},{"tags":["java","javafx","jpackage"],"comments":[{"owner":{"account_id":354531,"reputation":181,"user_id":692935,"accept_rate":62,"display_name":"Aris"},"score":0,"creation_date":1679509493,"post_id":75815466,"comment_id":133736587,"body_markdown":"Could you not wrap the application execution inside a script that checks for available memory first?","body":"Could you not wrap the application execution inside a script that checks for available memory first?"},{"owner":{"account_id":1626378,"reputation":685,"user_id":1501858,"accept_rate":67,"display_name":"Mike Cantrell"},"score":0,"creation_date":1679513740,"post_id":75815466,"comment_id":133737520,"body_markdown":"I can definitely check on startup and give them a warning from code within the JVM. It&#39;s not sufficient to catch cases where the memory isn&#39;t available later on when the heap size tries to expand though.","body":"I can definitely check on startup and give them a warning from code within the JVM. It&#39;s not sufficient to catch cases where the memory isn&#39;t available later on when the heap size tries to expand though."}],"owner":{"account_id":1626378,"reputation":685,"user_id":1501858,"accept_rate":67,"display_name":"Mike Cantrell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679513962,"creation_date":1679506040,"question_id":75815466,"body_markdown":"I&#39;m working on a windows desktop application in Java with jpackage. If the operating system does not have enough available free memory to allocate (set by -Xmx param), the JVM crashes without any indication to the user (no console window). I&#39;d like to display a helpful message to the user to create a better experience.\r\n\r\nThe temp file dump is created with the error (partial dump below). I&#39;ve tried setting the -XX:OnOutOfMemoryError option to message the user but it does not appear to fire off:\r\n\r\n```\r\njava-options=-XX:OnOutOfMemoryError=msg %username% OOM\r\n```\r\n\r\nI&#39;ve tried it with a hard coded username as well as the variable without luck. I suspect this isn&#39;t the intended use case (more for application heap requests). Is there a way to modify this behavior? Maybe I&#39;m looking at this wrong?\r\n\r\n\r\n```\r\n#\r\n# There is insufficient memory for the Java Runtime Environment to continue.\r\n# Native memory allocation (mmap) failed to map xxx bytes for G1 virtual space\r\n# Possible reasons:\r\n#   The system is out of physical RAM or swap space\r\n#   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\r\n# Possible solutions:\r\n#   Reduce memory load on the system\r\n#   Increase physical memory or swap space\r\n#   Check if swap backing store is full\r\n#   Decrease Java heap size (-Xmx/-Xms)\r\n#   Decrease number of Java threads\r\n#   Decrease Java thread stack sizes (-Xss)\r\n#   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\r\n#     placed in the first 32GB address space. The Java Heap base address is the\r\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\r\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\r\n# This output file may be truncated or incomplete.\r\n#\r\n#  Out of Memory Error (os_windows.cpp:3469), pid=5220, tid=2156\r\n#\r\n# JRE version:  (17.0.1+12) (build )\r\n# Java VM: OpenJDK 64-Bit Server VM (17.0.1+12, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# No core dump will be written. Failed to create minidump file (0x5).\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Djpackage.app-version=0.7.2S -Dfile.encoding=UTF-8 -Xmx8g -Xms1g -XX:OnOutOfMemoryError=msg %username% OOM -Djpackage.app-path=C:\\Program Files\\xxx\\xxx.exe org.springframework.boot.loader.JarLauncher\r\n\r\nHost: Intel(R) Xeon(R) CPU @ 2.20GHz, 4 cores, 15G,  Windows Server 2019 , 64 bit Build 17763 (10.0.17763.3887)\r\nTime: Wed Mar 22 12:14:51 2023 Central Daylight Time elapsed time: 0.030567 seconds (0d 0h 0m 0s)\r\n```\r\n","title":"Display message when the JVM is unable to allocate memory from the Operating System","body":"<p>I'm working on a windows desktop application in Java with jpackage. If the operating system does not have enough available free memory to allocate (set by -Xmx param), the JVM crashes without any indication to the user (no console window). I'd like to display a helpful message to the user to create a better experience.</p>\n<p>The temp file dump is created with the error (partial dump below). I've tried setting the -XX:OnOutOfMemoryError option to message the user but it does not appear to fire off:</p>\n<pre><code>java-options=-XX:OnOutOfMemoryError=msg %username% OOM\n</code></pre>\n<p>I've tried it with a hard coded username as well as the variable without luck. I suspect this isn't the intended use case (more for application heap requests). Is there a way to modify this behavior? Maybe I'm looking at this wrong?</p>\n<pre><code>#\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (mmap) failed to map xxx bytes for G1 virtual space\n# Possible reasons:\n#   The system is out of physical RAM or swap space\n#   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\n# Possible solutions:\n#   Reduce memory load on the system\n#   Increase physical memory or swap space\n#   Check if swap backing store is full\n#   Decrease Java heap size (-Xmx/-Xms)\n#   Decrease number of Java threads\n#   Decrease Java thread stack sizes (-Xss)\n#   Set larger code cache with -XX:ReservedCodeCacheSize=\n#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\n#     placed in the first 32GB address space. The Java Heap base address is the\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\n# This output file may be truncated or incomplete.\n#\n#  Out of Memory Error (os_windows.cpp:3469), pid=5220, tid=2156\n#\n# JRE version:  (17.0.1+12) (build )\n# Java VM: OpenJDK 64-Bit Server VM (17.0.1+12, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# No core dump will be written. Failed to create minidump file (0x5).\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Djpackage.app-version=0.7.2S -Dfile.encoding=UTF-8 -Xmx8g -Xms1g -XX:OnOutOfMemoryError=msg %username% OOM -Djpackage.app-path=C:\\Program Files\\xxx\\xxx.exe org.springframework.boot.loader.JarLauncher\n\nHost: Intel(R) Xeon(R) CPU @ 2.20GHz, 4 cores, 15G,  Windows Server 2019 , 64 bit Build 17763 (10.0.17763.3887)\nTime: Wed Mar 22 12:14:51 2023 Central Daylight Time elapsed time: 0.030567 seconds (0d 0h 0m 0s)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1617284183,"post_id":66905403,"comment_id":118265922,"body_markdown":"So do you mean to say that flow is not reaching `handleRequestRejectedException` method?","body":"So do you mean to say that flow is not reaching <code>handleRequestRejectedException</code> method?"},{"owner":{"account_id":16598500,"reputation":117,"user_id":11994829,"display_name":"scoll"},"score":0,"creation_date":1617284730,"post_id":66905403,"comment_id":118266194,"body_markdown":"@Jignesh M. Khatri, the flow is reaching the ExceptionHandler, as viewing it in debug mode shows that the flow builds the SpringErrorSwaggerDefinition object, *but* there is no body in the response when I call it in Postman. In other words, all I get is the 403 response code and generic headers.","body":"@Jignesh M. Khatri, the flow is reaching the ExceptionHandler, as viewing it in debug mode shows that the flow builds the SpringErrorSwaggerDefinition object, <i>but</i> there is no body in the response when I call it in Postman. In other words, all I get is the 403 response code and generic headers."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1617288527,"post_id":66905403,"comment_id":118267967,"body_markdown":"Ofcourse it will. You are directly calling a component which is part of the error handling of Spring MVC. However you are only calling the component without that component being called in the scope of Spring MVC (it is called in the scope of a filter way before Spring MVC had a chance to do anything). So the resolver you are calling doesn&#39;t do much. The returned `ModelAndView` (normally used to render the response by Spring MVC) is totally ignored.","body":"Ofcourse it will. You are directly calling a component which is part of the error handling of Spring MVC. However you are only calling the component without that component being called in the scope of Spring MVC (it is called in the scope of a filter way before Spring MVC had a chance to do anything). So the resolver you are calling doesn&#39;t do much. The returned <code>ModelAndView</code> (normally used to render the response by Spring MVC) is totally ignored."},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1617292708,"post_id":66905403,"comment_id":118269901,"body_markdown":"@scoll Instead of calling `resolver.resolveException` try throwing the exception directly.","body":"@scoll Instead of calling <code>resolver.resolveException</code> try throwing the exception directly."}],"answers":[{"tags":[],"owner":{"account_id":5656941,"reputation":39,"user_id":4475805,"display_name":"wedsa5"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679513822,"creation_date":1679513822,"answer_id":75816593,"question_id":66905403,"body_markdown":"I have a working solution that correctly writes the output of the error to the response body. The difference here is that mine uses caching versions of the request and response which may be related to your issue. The request and response need to be cached for my use-case because the bodies can only be read once.\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        var cachedRequest = new CachedBodyHttpServletRequest(request);\r\n        var wrappedResponse = new ContentCachingResponseWrapper(response);\r\n\r\n        putHeadersInMDC(cachedRequest);\r\n\r\n        logRequest(cachedRequest);\r\n\r\n        if (!authenticationTokenValid(cachedRequest)) {\r\n            resolver.resolveException(cachedRequest, wrappedResponse, null, new ServiceException(UNAUTHORIZED, UNAUTHORIZED.value(), &quot;Unauthorized. \\&quot;Authorization\\&quot; header must not be blank, must begin with \\&quot;Bearer \\&quot;, must not be expired, and must be valid.&quot;));\r\n        } else {\r\n            filterChain.doFilter(cachedRequest, wrappedResponse);\r\n        }\r\n\r\n        addResponseHeaders(wrappedResponse);\r\n\r\n        logResponse(cachedRequest, wrappedResponse);\r\n\r\n        wrappedResponse.copyBodyToResponse();  // IMPORTANT: copy content of response back into original response\r\n    }\r\n\r\nThe exception handler is set up like this:\r\n\r\n    @ControllerAdvice\r\n    @Slf4j\r\n    public class ControllerExceptionAdvice {\r\n\r\n    @ExceptionHandler(value = {ServiceException.class})\r\n    public ResponseEntity&lt;ResponseWrapper&lt;Object&gt;&gt; handleServiceException(ServiceException e) {\r\n        log.error(&quot;Got ServiceException {}&quot;, e.toString());\r\n        var response = ResponseWrapper.builder()\r\n                                      .code(e.getCode())\r\n                                      .message(e.getMessage())\r\n                                      .build();\r\n        var responseEntity = new ResponseEntity&lt;&gt;(response, e.getHttpStatus());\r\n        log.error(&quot;Returning error response {}&quot;, toJson(responseEntity));\r\n        return responseEntity;\r\n    }\r\n    ...","title":"Return body in OncePerRequestFilter","body":"<p>I have a working solution that correctly writes the output of the error to the response body. The difference here is that mine uses caching versions of the request and response which may be related to your issue. The request and response need to be cached for my use-case because the bodies can only be read once.</p>\n<pre><code>@Override\nprotected void doFilterInternal(HttpServletRequest request,\n                                HttpServletResponse response,\n                                FilterChain filterChain) throws ServletException, IOException {\n\n    var cachedRequest = new CachedBodyHttpServletRequest(request);\n    var wrappedResponse = new ContentCachingResponseWrapper(response);\n\n    putHeadersInMDC(cachedRequest);\n\n    logRequest(cachedRequest);\n\n    if (!authenticationTokenValid(cachedRequest)) {\n        resolver.resolveException(cachedRequest, wrappedResponse, null, new ServiceException(UNAUTHORIZED, UNAUTHORIZED.value(), &quot;Unauthorized. \\&quot;Authorization\\&quot; header must not be blank, must begin with \\&quot;Bearer \\&quot;, must not be expired, and must be valid.&quot;));\n    } else {\n        filterChain.doFilter(cachedRequest, wrappedResponse);\n    }\n\n    addResponseHeaders(wrappedResponse);\n\n    logResponse(cachedRequest, wrappedResponse);\n\n    wrappedResponse.copyBodyToResponse();  // IMPORTANT: copy content of response back into original response\n}\n</code></pre>\n<p>The exception handler is set up like this:</p>\n<pre><code>@ControllerAdvice\n@Slf4j\npublic class ControllerExceptionAdvice {\n\n@ExceptionHandler(value = {ServiceException.class})\npublic ResponseEntity&lt;ResponseWrapper&lt;Object&gt;&gt; handleServiceException(ServiceException e) {\n    log.error(&quot;Got ServiceException {}&quot;, e.toString());\n    var response = ResponseWrapper.builder()\n                                  .code(e.getCode())\n                                  .message(e.getMessage())\n                                  .build();\n    var responseEntity = new ResponseEntity&lt;&gt;(response, e.getHttpStatus());\n    log.error(&quot;Returning error response {}&quot;, toJson(responseEntity));\n    return responseEntity;\n}\n...\n</code></pre>\n"}],"owner":{"account_id":16598500,"reputation":117,"user_id":11994829,"display_name":"scoll"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679513822,"creation_date":1617283615,"question_id":66905403,"body_markdown":"Update:\r\nAfter looking this over with a colleague, this is probably due to the fact that Spring apps run on Tomcat server, which is following standard protocols (https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html), and will not return a body for HEAD requests.\r\n\r\n=====================\r\n\r\nI have OncePerRequestFilter designed to reject any HEAD requests, as you can see here:\r\n\r\n```\r\n@Component\r\npublic class RestrictedResponseFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n    private HandlerExceptionResolver resolver;\r\n\r\n    @Override\r\n    public void doFilterInternal(HttpServletRequest httpRequest, HttpServletResponse httpServletResponse, FilterChain chain) throws IOException, ServletException {\r\n        if(httpRequest.getMethod().equals(HttpMethod.HEAD.name())){\r\n            resolver.resolveException(httpRequest,httpServletResponse,null,new RequestRejectedException(&quot;Http Method HEAD rejected&quot;));\r\n        } else {\r\n            chain.doFilter(httpRequest,httpServletResponse);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nresolver.resolveException sends the request through my ResponseEntityExceptionHandler class:\r\n```\r\n\r\n@CrossOrigin(&quot;*&quot;)\r\n@Slf4j\r\n@RestControllerAdvice\r\npublic class MyExceptionHandler extends ResponseEntityExceptionHandler {\r\n    private static final Logger logger = LoggerFactory.getLogger(MyExceptionHandler.class);\r\n\r\n...\r\n\r\n    @ExceptionHandler(RequestRejectedException.class)\r\n    public ResponseEntity handleRequestRejectedException(final RequestRejectedException e, final WebRequest request){\r\n        logger.error(e.getMessage(), e);\r\n        return handleExceptionInternal(e,null,null,HttpStatus.FORBIDDEN,request);\r\n    }\r\n\r\n    private SpringErrorSwaggerDefinition buildResponse(final Exception e, final WebRequest request, final HttpStatus status){\r\n        final SpringErrorSwaggerDefinition cvdosResponse = SpringErrorSwaggerDefinition.builder()\r\n                .message(e.getMessage())\r\n                .timestamp(System.currentTimeMillis())\r\n                .error(status.getReasonPhrase())\r\n                .exception(e.getClass().getName())\r\n                .path(request.getContextPath())\r\n                .status(status.value())\r\n                .build();\r\n        return cvdosResponse;\r\n    }\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleExceptionInternal(\r\n            Exception ex, @Nullable Object body, @Nullable HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        final SpringErrorSwaggerDefinition response = buildResponse(ex,request,status);\r\n        return new ResponseEntity&lt;&gt;(response, status);\r\n    }\r\n\r\n}\r\n```\r\n\r\nOther Exceptions that are handled in this class return the SpringErrorSwaggerDefinition response body. However, that does not happen when passing through the filter. How can I resolve this?","title":"Return body in OncePerRequestFilter","body":"<p>Update:\nAfter looking this over with a colleague, this is probably due to the fact that Spring apps run on Tomcat server, which is following standard protocols (<a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html\" rel=\"nofollow noreferrer\">https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html</a>), and will not return a body for HEAD requests.</p>\n<p>=====================</p>\n<p>I have OncePerRequestFilter designed to reject any HEAD requests, as you can see here:</p>\n<pre><code>@Component\npublic class RestrictedResponseFilter extends OncePerRequestFilter {\n\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private HandlerExceptionResolver resolver;\n\n    @Override\n    public void doFilterInternal(HttpServletRequest httpRequest, HttpServletResponse httpServletResponse, FilterChain chain) throws IOException, ServletException {\n        if(httpRequest.getMethod().equals(HttpMethod.HEAD.name())){\n            resolver.resolveException(httpRequest,httpServletResponse,null,new RequestRejectedException(&quot;Http Method HEAD rejected&quot;));\n        } else {\n            chain.doFilter(httpRequest,httpServletResponse);\n        }\n    }\n}\n</code></pre>\n<p>resolver.resolveException sends the request through my ResponseEntityExceptionHandler class:</p>\n<pre><code>\n@CrossOrigin(&quot;*&quot;)\n@Slf4j\n@RestControllerAdvice\npublic class MyExceptionHandler extends ResponseEntityExceptionHandler {\n    private static final Logger logger = LoggerFactory.getLogger(MyExceptionHandler.class);\n\n...\n\n    @ExceptionHandler(RequestRejectedException.class)\n    public ResponseEntity handleRequestRejectedException(final RequestRejectedException e, final WebRequest request){\n        logger.error(e.getMessage(), e);\n        return handleExceptionInternal(e,null,null,HttpStatus.FORBIDDEN,request);\n    }\n\n    private SpringErrorSwaggerDefinition buildResponse(final Exception e, final WebRequest request, final HttpStatus status){\n        final SpringErrorSwaggerDefinition cvdosResponse = SpringErrorSwaggerDefinition.builder()\n                .message(e.getMessage())\n                .timestamp(System.currentTimeMillis())\n                .error(status.getReasonPhrase())\n                .exception(e.getClass().getName())\n                .path(request.getContextPath())\n                .status(status.value())\n                .build();\n        return cvdosResponse;\n    }\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleExceptionInternal(\n            Exception ex, @Nullable Object body, @Nullable HttpHeaders headers, HttpStatus status, WebRequest request) {\n        final SpringErrorSwaggerDefinition response = buildResponse(ex,request,status);\n        return new ResponseEntity&lt;&gt;(response, status);\n    }\n\n}\n</code></pre>\n<p>Other Exceptions that are handled in this class return the SpringErrorSwaggerDefinition response body. However, that does not happen when passing through the filter. How can I resolve this?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-boot-actuator"],"comments":[{"owner":{"account_id":6864163,"reputation":3001,"user_id":5277225,"accept_rate":64,"display_name":"Yogen Rai"},"score":1,"creation_date":1531263370,"post_id":51274088,"comment_id":89528071,"body_markdown":"Did you try with \n@Order(ManagementServerProperties.ACCESS_OVERRIDE_ORDER)?","body":"Did you try with  @Order(ManagementServerProperties.ACCESS_OVERRIDE_ORDER)?"},{"owner":{"account_id":211013,"reputation":840,"user_id":6258497,"display_name":"Eric Swanson"},"score":0,"creation_date":1531319026,"post_id":51274088,"comment_id":89553582,"body_markdown":"I did, but it wasn&#39;t necessary in the end","body":"I did, but it wasn&#39;t necessary in the end"},{"owner":{"account_id":211013,"reputation":840,"user_id":6258497,"display_name":"Eric Swanson"},"score":0,"creation_date":1531319148,"post_id":51274088,"comment_id":89553658,"body_markdown":"@YogenRai, that field has been removed in Spring Boot 2. The 1.x version had it: https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/api/org/springframework/boot/actuate/autoconfigure/ManagementServerProperties.html, but the 2.x version does not: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/autoconfigure/web/server/ManagementServerProperties.html","body":"@YogenRai, that field has been removed in Spring Boot 2. The 1.x version had it: <a href=\"https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/api/org/springframework/boot/actuate/autoconfigure/ManagementServerProperties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.10.RELEASE/api/org/&hellip;</a>, but the 2.x version does not: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/autoconfigure/web/server/ManagementServerProperties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":211013,"reputation":840,"user_id":6258497,"display_name":"Eric Swanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1531318933,"creation_date":1531318933,"answer_id":51287964,"question_id":51274088,"body_markdown":"The issue ended up being a bug in Spring Tool Suite. Using `Boot Dashboard` with a Gradle project wasn&#39;t always picking up build output. It seems to be using a different directory and I cannot figure it out.\r\n\r\nThe HttpSecurity configuration that ended up working for me was:\r\n\r\n    @Override\r\n\tprotected void configure(final HttpSecurity http) throws Exception {\r\n    \t// @formatter:off\r\n    \thttp.\r\n\t\t\tauthorizeRequests().\r\n\t\t\t\tantMatchers(&quot;/ping&quot;, &quot;/actuator/health&quot;, &quot;/actuator/info&quot;, &quot;/login&quot;).permitAll().\r\n\t\t\t\tanyRequest().authenticated().and().\r\n\t\t\thttpBasic().and().\r\n\t\t\t// CSRF tokens for API access\r\n\t\t\tcsrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\r\n    \t// @formatter:on\r\n    }","title":"Spring Boot HttpSecurity fluent api order?","body":"<p>The issue ended up being a bug in Spring Tool Suite. Using <code>Boot Dashboard</code> with a Gradle project wasn't always picking up build output. It seems to be using a different directory and I cannot figure it out.</p>\n\n<p>The HttpSecurity configuration that ended up working for me was:</p>\n\n<pre><code>@Override\nprotected void configure(final HttpSecurity http) throws Exception {\n    // @formatter:off\n    http.\n        authorizeRequests().\n            antMatchers(\"/ping\", \"/actuator/health\", \"/actuator/info\", \"/login\").permitAll().\n            anyRequest().authenticated().and().\n        httpBasic().and().\n        // CSRF tokens for API access\n        csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\n    // @formatter:on\n}\n</code></pre>\n"}],"owner":{"account_id":211013,"reputation":840,"user_id":6258497,"display_name":"Eric Swanson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51287964,"answer_count":1,"score":0,"last_activity_date":1679513809,"creation_date":1531257828,"question_id":51274088,"body_markdown":"*Spring 2.0.3.RELEASE*\r\n\r\nGoal: Implement Spring Boot Security (basic auth for starters) on all endpoints except `/actuator/health`, `/actuator/info` and `/ping` (a custom controller that just returns `ResponseEntity.status(HttpStatus.NO_CONTENT).build()`).\r\n\r\nThe below gives me a `401`. Any combination seems to either give me complete anonymous access to all endpoints or `401` to all.\r\n\r\nI&#39;ve set the `spring.security.user.name` and `...password` in `application.yml` and it is working correctly.\r\n\r\nI&#39;ve implemented...\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n    \tprotected void configure(final HttpSecurity http) throws Exception {\r\n    \r\n        \tsuper.configure(http);\r\n    \r\n            // just trying to get health working for starters\r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/actuator/health&quot;).permitAll()\r\n    \t\t    .anyRequest().authenticated()\r\n    \t\t    .and().formLogin().permitAll();\r\n        }\r\n    }\r\n\r\nThe below seemed like it was restricted to Actuator&#39;s `/health` and `/info` endpoints, but instead is also opening up my custom `/ping` endpoint as well (it&#39;s not in this list).\r\n\r\n    http.requestMatcher(EndpointRequest.to(&quot;health&quot;, &quot;info&quot;))\r\n        .authorizeRequests().anyRequest().permitAll();\r\n\r\n","title":"Spring Boot HttpSecurity fluent api order?","body":"<p><em>Spring 2.0.3.RELEASE</em></p>\n\n<p>Goal: Implement Spring Boot Security (basic auth for starters) on all endpoints except <code>/actuator/health</code>, <code>/actuator/info</code> and <code>/ping</code> (a custom controller that just returns <code>ResponseEntity.status(HttpStatus.NO_CONTENT).build()</code>).</p>\n\n<p>The below gives me a <code>401</code>. Any combination seems to either give me complete anonymous access to all endpoints or <code>401</code> to all.</p>\n\n<p>I've set the <code>spring.security.user.name</code> and <code>...password</code> in <code>application.yml</code> and it is working correctly.</p>\n\n<p>I've implemented...</p>\n\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n\n        super.configure(http);\n\n        // just trying to get health working for starters\n        http.authorizeRequests().antMatchers(\"/actuator/health\").permitAll()\n            .anyRequest().authenticated()\n            .and().formLogin().permitAll();\n    }\n}\n</code></pre>\n\n<p>The below seemed like it was restricted to Actuator's <code>/health</code> and <code>/info</code> endpoints, but instead is also opening up my custom <code>/ping</code> endpoint as well (it's not in this list).</p>\n\n<pre><code>http.requestMatcher(EndpointRequest.to(\"health\", \"info\"))\n    .authorizeRequests().anyRequest().permitAll();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":3,"creation_date":1332806775,"post_id":9881616,"comment_id":12603156,"body_markdown":"java.io.File: http://docs.oracle.com/javase/7/docs/api/java/io/File.html","body":"java.io.File: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/File.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1679513107,"creation_date":1332806977,"answer_id":9881650,"question_id":9881616,"body_markdown":"Using the file&#39;s string location and name, get a file handle for it:\r\n\r\n    File doomedFile = new File (location, name);\r\n    doomedFile.delete();\r\n\r\nNote that you should encapsulate this with appropriate code to catch potential problem cases, such as if Java does not have the permission to delete that file on your current system. Or, if the file isn&#39;t found or another, similar, edge case.\r\n\r\nThe API you want to look at in this case is [`java.io.File`](https://docs.oracle.com/javase/7/docs/api/java/io/File.html). Note that while this function returns a `bool` indicating whether the action succeeded, it might also throw a `SecurityException` if the user does not have permission to take the action.","title":"Delete file at location using Java","body":"<p>Using the file's string location and name, get a file handle for it:</p>\n<pre><code>File doomedFile = new File (location, name);\ndoomedFile.delete();\n</code></pre>\n<p>Note that you should encapsulate this with appropriate code to catch potential problem cases, such as if Java does not have the permission to delete that file on your current system. Or, if the file isn't found or another, similar, edge case.</p>\n<p>The API you want to look at in this case is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\"><code>java.io.File</code></a>. Note that while this function returns a <code>bool</code> indicating whether the action succeeded, it might also throw a <code>SecurityException</code> if the user does not have permission to take the action.</p>\n"},{"tags":[],"owner":{"account_id":5295682,"reputation":379,"user_id":4226914,"display_name":"KIBOU Hassan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593108349,"creation_date":1493315212,"answer_id":43664666,"question_id":9881616,"body_markdown":"You can use this code:\r\n\r\n    File fileToDelete= new File(yourPath, fileName);\r\n    if(fileToDelete.delete()){\r\n      System.out.println(&quot;File deleted&quot;);\r\n    } else {\r\n      System.out.println(&quot;Operation failed&quot;);\r\n    }","title":"Delete file at location using Java","body":"<p>You can use this code:</p>\n<pre><code>File fileToDelete= new File(yourPath, fileName);\nif(fileToDelete.delete()){\n  System.out.println(&quot;File deleted&quot;);\n} else {\n  System.out.println(&quot;Operation failed&quot;);\n}\n</code></pre>\n"}],"owner":{"display_name":"user1022241"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4477,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9881650,"answer_count":2,"score":4,"last_activity_date":1679513107,"creation_date":1332806701,"question_id":9881616,"body_markdown":"Given a string location and string file name, is it possible to execute a java command to delete said file? If so, what package or class should I look at using for this?","title":"Delete file at location using Java","body":"<p>Given a string location and string file name, is it possible to execute a java command to delete said file? If so, what package or class should I look at using for this?</p>\n"},{"tags":["java","ethereum","smartcontracts","web3-java"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1533822787,"post_id":51768722,"comment_id":90496389,"body_markdown":"You may find more help there: https://ethereum.stackexchange.com/","body":"You may find more help there: <a href=\"https://ethereum.stackexchange.com/\">ethereum.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":7895108,"reputation":493,"user_id":5964038,"display_name":"Alex Bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533824046,"creation_date":1533824046,"answer_id":51769320,"question_id":51768722,"body_markdown":"Try these command to build the wrapper:\r\n\r\n    solc YourSmartContract.sol --bin --abi --optimize -o ./\r\n    \r\n    web3j solidity generate YourSmartContract.bin YourSmartContract.abi -o /path/to/yourSrc/main/java -p your.application.id\r\n\r\n\r\nThen it will generate a Java file, and you can call the methods from it to interact with your smart contract.","title":"How to call Ethereum smart contract methods through transactions?","body":"<p>Try these command to build the wrapper:</p>\n\n<pre><code>solc YourSmartContract.sol --bin --abi --optimize -o ./\n\nweb3j solidity generate YourSmartContract.bin YourSmartContract.abi -o /path/to/yourSrc/main/java -p your.application.id\n</code></pre>\n\n<p>Then it will generate a Java file, and you can call the methods from it to interact with your smart contract.</p>\n"}],"owner":{"account_id":7699950,"reputation":308,"user_id":5832929,"accept_rate":75,"display_name":"killezio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679513067,"creation_date":1533822292,"question_id":51768722,"body_markdown":"I&#39;m able to make transactions in Ethereum using Java and Web3j.\r\n\r\nNow I would like to be able to interact with a smart contract. But since I&#39;m having problems building the wrapper, I would like to know if I can do it by sending data in the transaction. And if so, how is it done?","title":"How to call Ethereum smart contract methods through transactions?","body":"<p>I'm able to make transactions in Ethereum using Java and Web3j.</p>\n<p>Now I would like to be able to interact with a smart contract. But since I'm having problems building the wrapper, I would like to know if I can do it by sending data in the transaction. And if so, how is it done?</p>\n"},{"tags":["java","websocket","webclient"],"answers":[{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679512535,"creation_date":1679512535,"answer_id":75816431,"question_id":75816303,"body_markdown":"A websocket client is not expecting a 200 response code. Instead it will expect a 101 response code which indicates that the server wants the client to switch protocols. I strongly suggest that if you are going to implement websockets that you use a library on the server side to handle the websocket handshake rather than trying to implement the protocol yourself. If you post which language your server is in, we can direct you to an appropriate library. ","title":"Why even after getting response status as 200 , I am not able to get connect to websocket in PostMan?","body":"<p>A websocket client is not expecting a 200 response code. Instead it will expect a 101 response code which indicates that the server wants the client to switch protocols. I strongly suggest that if you are going to implement websockets that you use a library on the server side to handle the websocket handshake rather than trying to implement the protocol yourself. If you post which language your server is in, we can direct you to an appropriate library.</p>\n"}],"owner":{"account_id":28089166,"reputation":1,"user_id":21459048,"display_name":"Ashraf "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679512535,"creation_date":1679511661,"question_id":75816303,"body_markdown":"    Could not connect to ws://localhost:8081/message\r\n    00:22:19\r\n    Error: Unexpected server response: 200\r\n    Handshake Details\r\n    Request URL: http://localhost:8081/message\r\n    Request Method: GET\r\n    Status Code: 200 \r\n    Request Headers\r\n    Sec-WebSocket-Version: 13\r\n    Sec-WebSocket-Key: RRr0MEMeU8Shs/3Z+j9w/g==\r\n    Connection: upgrade\r\n    Upgrade: $http_upgrade\r\n    Host: localhost:8081\r\n    Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\r\n    Response Headers\r\n    Set-Cookie: JSESSIONID=533006AA29B1FA7D3C103AC027D327A5; Path=/; HttpOnly\r\n    X-Content-Type-Options: nosniff\r\n    X-XSS-Protection: 1; mode=block\r\n    Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    Pragma: no-cache\r\n    Expires: 0\r\n    X-Frame-Options: DENY\r\n    Content-Type: text/html;charset=UTF-8\r\n    Content-Length: 1406\r\n    Date: Wed, 22 Mar 2023 18:52:19 GMT\r\n\r\n\r\nI am trying to listen to message from one particular destination , As I am not having FE . I am using postman to check it.","title":"Why even after getting response status as 200 , I am not able to get connect to websocket in PostMan?","body":"<pre><code>Could not connect to ws://localhost:8081/message\n00:22:19\nError: Unexpected server response: 200\nHandshake Details\nRequest URL: http://localhost:8081/message\nRequest Method: GET\nStatus Code: 200 \nRequest Headers\nSec-WebSocket-Version: 13\nSec-WebSocket-Key: RRr0MEMeU8Shs/3Z+j9w/g==\nConnection: upgrade\nUpgrade: $http_upgrade\nHost: localhost:8081\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\nResponse Headers\nSet-Cookie: JSESSIONID=533006AA29B1FA7D3C103AC027D327A5; Path=/; HttpOnly\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Type: text/html;charset=UTF-8\nContent-Length: 1406\nDate: Wed, 22 Mar 2023 18:52:19 GMT\n</code></pre>\n<p>I am trying to listen to message from one particular destination , As I am not having FE . I am using postman to check it.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679513333,"post_id":75812470,"comment_id":133737432,"body_markdown":"Hi &amp; Welcome! sorry to correct, @&quot;Leonard , but: spring-boot:3 works with java &gt;= 8 ([proof](https://start.spring.io/)). Please show, @ddon, your (not-synced! ..so machine specific!)`settings.json`&gt;`&quot;java.configuration.runtimes&quot;` ..also important: `&quot;java.import.gradle.java.home&quot;` [see also (not vs-code but  gradle) related)](https://stackoverflow.com/q/68321708/592355),  [see also most relevant doc](https://code.visualstudio.com/docs/java/java-build#_gradle) (you can [edit] your post;)","body":"Hi &amp; Welcome! sorry to correct, @&quot;Leonard , but: spring-boot:3 works with java &gt;= 8 (<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">proof</a>). Please show, @ddon, your (not-synced! ..so machine specific!)<code>settings.json</code>&gt;<code>&quot;java.configuration.runtimes&quot;</code> ..also important: <code>&quot;java.import.gradle.java.home&quot;</code> <a href=\"https://stackoverflow.com/q/68321708/592355\">see also (not vs-code but  gradle) related)</a>,  <a href=\"https://code.visualstudio.com/docs/java/java-build#_gradle\" rel=\"nofollow noreferrer\">see also most relevant doc</a> (you can <a href=\"https://stackoverflow.com/posts/75812470/edit\">edit</a> your post;)"},{"owner":{"account_id":28085985,"reputation":11,"user_id":21456358,"display_name":"ddon"},"score":1,"creation_date":1679724575,"post_id":75812470,"comment_id":133775790,"body_markdown":"Sorry for the late reply. Reinstalling &#39;sdkman&#39; solved the problem. thank you for the reply!","body":"Sorry for the late reply. Reinstalling &#39;sdkman&#39; solved the problem. thank you for the reply!"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679512481,"creation_date":1679512481,"answer_id":75816419,"question_id":75812470,"body_markdown":"The line\r\n\r\n&gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.4 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6.1&#39; but:\r\n\r\nstates that your project wants the library with Java 8 compatibility.\r\nHowever,\r\n\r\n&gt;   - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n      - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\r\n\r\nsays that all it could find, was a library that needs Java 17, which is correct as Spring Boot 3 requires Java 17.\r\n\r\nSo, your local build somehow runs on Java 8 or is configured with Java 8 as target. You should check that your shell runs with Java 17 or higher by running `java -version`. \r\nThe same applies to your IDE configuration.","title":"vscode Cannot find a class with the main method(About gradle / springboot)","body":"<p>The line</p>\n<blockquote>\n<p>No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.4 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6.1' but:</p>\n</blockquote>\n<p>states that your project wants the library with Java 8 compatibility.\nHowever,</p>\n<blockquote>\n<ul>\n<li>Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8</li>\n</ul>\n</blockquote>\n<p>says that all it could find, was a library that needs Java 17, which is correct as Spring Boot 3 requires Java 17.</p>\n<p>So, your local build somehow runs on Java 8 or is configured with Java 8 as target. You should check that your shell runs with Java 17 or higher by running <code>java -version</code>.\nThe same applies to your IDE configuration.</p>\n"}],"owner":{"account_id":28085985,"reputation":11,"user_id":21456358,"display_name":"ddon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679512481,"creation_date":1679489334,"question_id":75812470,"body_markdown":"I&#39;m collaborating with a friend on vscode, but my friend&#39;s spring works well, but mine doesn&#39;t work. There are two errors in total. \r\n\r\nI tried various measures such as gradle plugin and java version, but it didn&#39;t work. For reference, the java version is 17.0.5 for both mac and vscode.\r\nThank you for watching.\r\n~~~\r\nCould not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.6.1-bin.zip&#39;.\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;rezume_project&#39;.\r\nA problem occurred configuring root project &#39;rezume_project&#39;.\r\nCould not resolve all files for configuration &#39;:classpath&#39;.\r\nCould not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.4.\r\nRequired by:\r\n    project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.4\r\nNo matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.4 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6.1&#39; but:\r\n  - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a library, packaged as a jar, and its dependencies declared externally:\r\n      - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\r\n      - Other compatible attribute:\r\n          - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n  - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a component, and its dependencies declared externally:\r\n      - Incompatible because this component declares documentation and the consumer needed a library\r\n      - Other compatible attributes:\r\n          - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n          - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n          - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n  - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.4 declares a library, packaged as a jar, and its dependencies declared externally:\r\n      - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\r\n      - Other compatible attribute:\r\n          - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n  - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.4 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n      - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\r\n      - Other compatible attribute:\r\n          - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n  - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n      - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\r\n      - Other compatible attribute:\r\n          - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n  - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a component, and its dependencies declared externally:\r\n      - Incompatible because this component declares documentation and the consumer needed a library\r\n      - Other compatible attributes:\r\n          - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n          - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n          - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n~~~\r\n\r\n\r\n","title":"vscode Cannot find a class with the main method(About gradle / springboot)","body":"<p>I'm collaborating with a friend on vscode, but my friend's spring works well, but mine doesn't work. There are two errors in total.</p>\n<p>I tried various measures such as gradle plugin and java version, but it didn't work. For reference, the java version is 17.0.5 for both mac and vscode.\nThank you for watching.</p>\n<pre><code>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.6.1-bin.zip'.\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'rezume_project'.\nA problem occurred configuring root project 'rezume_project'.\nCould not resolve all files for configuration ':classpath'.\nCould not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.4.\nRequired by:\n    project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.4\nNo matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.4 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6.1' but:\n  - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a library, packaged as a jar, and its dependencies declared externally:\n      - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\n      - Other compatible attribute:\n          - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n  - Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a component, and its dependencies declared externally:\n      - Incompatible because this component declares documentation and the consumer needed a library\n      - Other compatible attributes:\n          - Doesn't say anything about its target Java version (required compatibility with Java 8)\n          - Doesn't say anything about its elements (required them packaged as a jar)\n          - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n  - Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.4 declares a library, packaged as a jar, and its dependencies declared externally:\n      - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\n      - Other compatible attribute:\n          - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n  - Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.4 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n      - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\n      - Other compatible attribute:\n          - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n  - Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n      - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\n      - Other compatible attribute:\n          - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n  - Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.4 declares a runtime of a component, and its dependencies declared externally:\n      - Incompatible because this component declares documentation and the consumer needed a library\n      - Other compatible attributes:\n          - Doesn't say anything about its target Java version (required compatibility with Java 8)\n          - Doesn't say anything about its elements (required them packaged as a jar)\n          - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n</code></pre>\n"},{"tags":["java","multithreading","spring-boot","completable-future","timertask"],"answers":[{"tags":[],"owner":{"account_id":28075247,"reputation":21,"user_id":21447217,"display_name":"merdon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679445013,"creation_date":1679445013,"answer_id":75807499,"question_id":75807247,"body_markdown":"    future.get(long timeout, TimeUnit unit);","title":"Thread interruption doesn&#39;t stop executing infinite task","body":"<pre><code>future.get(long timeout, TimeUnit unit);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679512453,"creation_date":1679447929,"answer_id":75807697,"question_id":75807247,"body_markdown":"[`executorThread.interrupt()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()) will _not_ stop the thread. All it does is set the thread&#39;s [`isInterrupted()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupted()) flag.\r\n\r\nIf you interrupt a thread that happens to be waiting in any one of several different standard library methods (e.g., `Thread.sleep()`, `thread.join()`, `object.wait()`) then the library method will throw an `InterruptedException`. If you interrupt a thread that happens to be waiting for input, then certain other things happen (see the Javadoc for `interrupt()`.)\r\n\r\nBut in your program, the `executorThread` is doing none of those things. It&#39;s just doing trivial computations, so no exception will be thrown. If you want the interrupt to be recognized, then you&#39;ll have to write code that explicitly checks the flag.\r\n\r\n``` lang-java\r\n        ...\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            i--;\r\n            if (executorThread.isInterrupted()) {\r\n                break;\r\n            }\r\n        }\r\n        future.complete(secondObject));\r\n        ...\r\n```\r\n\r\n------------\r\n\r\nIMO, Correctly using interrupts can be tricky in some situations. Have a look at the tutorial if you want to learn more: https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html","title":"Thread interruption doesn&#39;t stop executing infinite task","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()\" rel=\"nofollow noreferrer\"><code>executorThread.interrupt()</code></a> will <em>not</em> stop the thread. All it does is set the thread's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupted()\" rel=\"nofollow noreferrer\"><code>isInterrupted()</code></a> flag.</p>\n<p>If you interrupt a thread that happens to be waiting in any one of several different standard library methods (e.g., <code>Thread.sleep()</code>, <code>thread.join()</code>, <code>object.wait()</code>) then the library method will throw an <code>InterruptedException</code>. If you interrupt a thread that happens to be waiting for input, then certain other things happen (see the Javadoc for <code>interrupt()</code>.)</p>\n<p>But in your program, the <code>executorThread</code> is doing none of those things. It's just doing trivial computations, so no exception will be thrown. If you want the interrupt to be recognized, then you'll have to write code that explicitly checks the flag.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ...\n        for (int i = 0; i &lt; 5; i++) {\n            i--;\n            if (executorThread.isInterrupted()) {\n                break;\n            }\n        }\n        future.complete(secondObject));\n        ...\n</code></pre>\n<hr />\n<p>IMO, Correctly using interrupts can be tricky in some situations. Have a look at the tutorial if you want to learn more: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html</a></p>\n"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679512453,"creation_date":1679441767,"question_id":75807247,"body_markdown":"I have following snippet of code:\r\n```\r\n@Async(&quot;executor&quot;)\r\n\tpublic CompletableFuture&lt;List&lt;SecondObject&gt;&gt; getSecondObject(List&lt;FirstObject&gt; firstObject) {\r\n\r\n\t\tCompletableFuture&lt;List&lt;SecondObject&gt;&gt; future = new CompletableFuture&lt;&gt;();\r\n\t\tfinal int timeout = 5000;\r\n\t\tTimer timer = new Timer();\r\n\r\n\t\t//Thread created by configuration\r\n\t\tfinal Thread executorThread = Thread.currentThread();\r\n\r\n\t\t//Method responsible for thread interruption\r\n\t\tfinal TimerTask interruptTask = new TimerTask() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\tThread timerTaskThread = Thread.currentThread();\r\n\t\t\t\tSystem.out.println(&quot;Exception for thread &quot;+executorThread.getName()+&quot; is thrown&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Timer task thread &quot;+timerTaskThread.getName()+&quot; is issued&quot;);\r\n\t\t\t\texecutorThread.interrupt();\r\n\t\t\t\tfuture.completeExceptionally(new InterruptedException());\r\n\t\t\t}\r\n\t\t};\r\n\t\t//Schedule set for thread interruption\r\n\t\ttimer.schedule(interruptTask, timeout);\r\n\t\tSystem.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; is created.&quot;);\r\n\t\tSystem.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; is executing a task.&quot;);\r\n\t\tList&lt;SecondObject&gt; secondObject = Collections.emptyList();\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            i--;\r\n        }\r\n\t\tfuture.complete(secondObject));\r\n\t\ttimer.cancel();\r\n\t\tSystem.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; has been terminated.&quot;);\r\n\r\n\t\treturn future;\r\n\t}\r\n}\r\n```\r\n\r\nand the code that tries to access ```CompletableFuture```.\r\n```\r\nList&lt;FirstObject&gt; firstObject = Collections.emptyList();\r\nList&lt;SecondObject&gt; testedList = null;\r\nCompletableFuture&lt;List&lt;SecondObject&gt;&gt; future = sectionsService.getSecondObject(firstObject);\r\n            try {\r\n                testedList = future.get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n\r\n            }\r\n```\r\n\r\nThe problem I have encountered is that when I call ```get()``` method then despite having each ```TimerTask``` tracking the timeout for each new thread created with ```@Async```, infinite task (here it is infinite ```for loop```) blocks main thread completely. Interrupt flag for ```@Async``` thread is thrown but thread itself isn&#39;t stopped - program executes infinite ```for loop``` despite thread being interrupted. Program waits until ```get()``` returns something. I need ```TimerTask``` to actually stop thread when timeout is exceeded.","title":"Thread interruption doesn&#39;t stop executing infinite task","body":"<p>I have following snippet of code:</p>\n<pre><code>@Async(&quot;executor&quot;)\n    public CompletableFuture&lt;List&lt;SecondObject&gt;&gt; getSecondObject(List&lt;FirstObject&gt; firstObject) {\n\n        CompletableFuture&lt;List&lt;SecondObject&gt;&gt; future = new CompletableFuture&lt;&gt;();\n        final int timeout = 5000;\n        Timer timer = new Timer();\n\n        //Thread created by configuration\n        final Thread executorThread = Thread.currentThread();\n\n        //Method responsible for thread interruption\n        final TimerTask interruptTask = new TimerTask() {\n            @Override\n            public void run() {\n\n                Thread timerTaskThread = Thread.currentThread();\n                System.out.println(&quot;Exception for thread &quot;+executorThread.getName()+&quot; is thrown&quot;);\n                System.out.println(&quot;Timer task thread &quot;+timerTaskThread.getName()+&quot; is issued&quot;);\n                executorThread.interrupt();\n                future.completeExceptionally(new InterruptedException());\n            }\n        };\n        //Schedule set for thread interruption\n        timer.schedule(interruptTask, timeout);\n        System.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; is created.&quot;);\n        System.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; is executing a task.&quot;);\n        List&lt;SecondObject&gt; secondObject = Collections.emptyList();\n        for (int i = 0; i &lt; 5; i++) {\n            i--;\n        }\n        future.complete(secondObject));\n        timer.cancel();\n        System.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; has been terminated.&quot;);\n\n        return future;\n    }\n}\n</code></pre>\n<p>and the code that tries to access <code>CompletableFuture</code>.</p>\n<pre><code>List&lt;FirstObject&gt; firstObject = Collections.emptyList();\nList&lt;SecondObject&gt; testedList = null;\nCompletableFuture&lt;List&lt;SecondObject&gt;&gt; future = sectionsService.getSecondObject(firstObject);\n            try {\n                testedList = future.get();\n            } catch (InterruptedException | ExecutionException e) {\n\n            }\n</code></pre>\n<p>The problem I have encountered is that when I call <code>get()</code> method then despite having each <code>TimerTask</code> tracking the timeout for each new thread created with <code>@Async</code>, infinite task (here it is infinite <code>for loop</code>) blocks main thread completely. Interrupt flag for <code>@Async</code> thread is thrown but thread itself isn't stopped - program executes infinite <code>for loop</code> despite thread being interrupted. Program waits until <code>get()</code> returns something. I need <code>TimerTask</code> to actually stop thread when timeout is exceeded.</p>\n"},{"tags":["java","swing","math","graph"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1679452231,"post_id":75807888,"comment_id":133723817,"body_markdown":"I think the co-ordinate mapping between X,y results is just too coarse! e.g. you have only a set of maybe around total 10 or so X,y points on actual between drawn line joints , whereas to make it curved would need to have a progression distance between each X,y point for the drawn line of only a few pixels, requiring something like100s of X,y points produced to map into the graph.","body":"I think the co-ordinate mapping between X,y results is just too coarse! e.g. you have only a set of maybe around total 10 or so X,y points on actual between drawn line joints , whereas to make it curved would need to have a progression distance between each X,y point for the drawn line of only a few pixels, requiring something like100s of X,y points produced to map into the graph."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679452376,"post_id":75807888,"comment_id":133723829,"body_markdown":"1. Don&#39;t override `paint`, prefer `paintComponent`; 2. Call the `super.paintXxx` method - painting is complex and you&#39;re breaking the contractual requirements","body":"1. Don&#39;t override <code>paint</code>, prefer <code>paintComponent</code>; 2. Call the <code>super.paintXxx</code> method - painting is complex and you&#39;re breaking the contractual requirements"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679452769,"post_id":75807888,"comment_id":133723869,"body_markdown":"I took a closer look, to get a curve you need to add a second coefficient to progress the progression. E.g. moved/byA/partially movedbytheresultofmovedDIVbyA.  ...   Something like that","body":"I took a closer look, to get a curve you need to add a second coefficient to progress the progression. E.g. moved/byA/partially movedbytheresultofmovedDIVbyA.  ...   Something like that"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679453273,"post_id":75807888,"comment_id":133723921,"body_markdown":"You should always add a main to any graphics programs -- if people can run your code easily they are much more likely to help.","body":"You should always add a main to any graphics programs -- if people can run your code easily they are much more likely to help."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679453342,"post_id":75807888,"comment_id":133723932,"body_markdown":"Try changing your loop to `for (double x = -w; x &lt;= w; x += 0.1)` -- you&#39;ll need to change `scale` to double, and coerce some results to int (always coerce the whole expression, don&#39;t make part of it int prematurely)\n`","body":"Try changing your loop to <code>for (double x = -w; x &lt;= w; x += 0.1)</code> -- you&#39;ll need to change <code>scale</code> to double, and coerce some results to int (always coerce the whole expression, don&#39;t make part of it int prematurely) `"},{"owner":{"account_id":28001840,"reputation":1,"user_id":21385939,"display_name":"berrygobbler78"},"score":0,"creation_date":1679453810,"post_id":75807888,"comment_id":133723986,"body_markdown":"@tgdavies Thank you, I do have a main, but I have a bunch of prompts that are printed to the terminal, and I would have had to copy a bunch of stuff. Next time I will just put an example one together.","body":"@tgdavies Thank you, I do have a main, but I have a bunch of prompts that are printed to the terminal, and I would have had to copy a bunch of stuff. Next time I will just put an example one together."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679470248,"post_id":75807888,"comment_id":133725835,"body_markdown":"debugging questions (&quot;xx not working&quot;) _require_ a [mcve]","body":"debugging questions (&quot;xx not working&quot;) <i>require</i> a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":28001840,"reputation":1,"user_id":21385939,"display_name":"berrygobbler78"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1679454218,"creation_date":1679454218,"answer_id":75808120,"question_id":75807888,"body_markdown":"Thank you tgdavies for your help.\r\n\r\nBy changing the for loop to a double, you can get more precision with each point added. Also changing where the rounding into integer part happens to envelop the whole equation. \r\n\r\nThis:\r\n\r\n    for (double x = -w; x &lt;= w; x += 0.1) {\r\n                p1.addPoint((int) Math.round(originX + x*scale), (int)Math.round(originY - scale * (a*(x*x)+b*x+c)));\r\n            }\r\n\r\nInstead of : \r\n\r\n    for (int x = -w; x &lt;= w; ++x) {\r\n                p1.addPoint(originX + x*scale, originY - scale * ((int) Math.round(a*(x*x)+b*x+c)));\r\n                System.out.println(originY - scale * ((int) Math.round(a*(x*x)+b*x+c)));\r\n              }\r\n\r\nIT WORKS!\r\n[Working parabola][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iLqUn.png","title":"Issue with graphing a quadratic function using Swing graphics","body":"<p>Thank you tgdavies for your help.</p>\n<p>By changing the for loop to a double, you can get more precision with each point added. Also changing where the rounding into integer part happens to envelop the whole equation.</p>\n<p>This:</p>\n<pre><code>for (double x = -w; x &lt;= w; x += 0.1) {\n            p1.addPoint((int) Math.round(originX + x*scale), (int)Math.round(originY - scale * (a*(x*x)+b*x+c)));\n        }\n</code></pre>\n<p>Instead of :</p>\n<pre><code>for (int x = -w; x &lt;= w; ++x) {\n            p1.addPoint(originX + x*scale, originY - scale * ((int) Math.round(a*(x*x)+b*x+c)));\n            System.out.println(originY - scale * ((int) Math.round(a*(x*x)+b*x+c)));\n          }\n</code></pre>\n<p>IT WORKS!\n<a href=\"https://i.stack.imgur.com/iLqUn.png\" rel=\"nofollow noreferrer\">Working parabola</a></p>\n"}],"owner":{"account_id":28001840,"reputation":1,"user_id":21385939,"display_name":"berrygobbler78"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75808120,"answer_count":1,"score":-1,"last_activity_date":1679512211,"creation_date":1679450799,"question_id":75807888,"body_markdown":"I&#39;m trying to create a simple function grapher using the swing gui stuff, but for some reason, the graphed function consistently draws a weird line as it reaches the vertex.\r\n\r\n```\r\n\r\npublic class main {\r\n    public static void main(String[] args) {\r\n        new graphFrame();\r\n    }\r\n}\r\n\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.*;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class graphPanel extends JPanel {\r\n    int h = 500;\r\n    int w = 500;\r\n\r\n    int originX = w/2;\r\n    int originY = h/2;\r\n\r\n    graphPanel() {\r\n        this.setPreferredSize(new Dimension(h, w));\r\n    }\r\n\r\n    public void paintComponent(Graphics g) {\r\n        double scale = 10;\r\n\r\n        // Creates the x and y axis\r\n        Graphics2D g1 = (Graphics2D) g;\r\n\r\n        g1.drawLine(0, h/2, w, h/2);\r\n        g1.drawLine(w/2, 0, w/2, h);\r\n\r\n        double a = 5;\r\n        double b = -7;\r\n        double c = 2;\r\n\r\n        // Draws function\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setStroke(new BasicStroke(2));\r\n        g2.setColor(Color.red);\r\n\r\n        Polygon p1 = new Polygon();\r\n        for (int x = -w; x &lt;= w; ++x) {\r\n            p1.addPoint(originX + x*scale, originY - scale * ((int) Math.round(a*(x*x)+b*x+c)));\r\n          }\r\n          \r\n        g2.drawPolyline(p1.xpoints, p1.ypoints, p1.npoints);\r\n    }\r\n}\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class graphFrame extends JFrame {\r\n    graphPanel panel;\r\n\r\n    graphFrame() {\r\n        panel = new graphPanel();\r\n\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.add(panel);\r\n        this.pack();\r\n        this.setLocationRelativeTo(null);\r\n        this.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is just being added to a JFrame, but I didn&#39;t think that the JFrame code would be relevant.\r\n\r\nFor example:\r\n\r\n[Actual](https://i.stack.imgur.com/iIx9W.png)\r\n[Expected (Desmos for reference)](https://i.stack.imgur.com/UHC3W.png)\r\n\r\nI thought that might had to do with the scaling of the equation, because it rounds the integer, but even if you multiply the y and x by 10 with the scale int, it still has that weird line thing towards the vertex. I moved the scale multiplication part that gets rounded but that didn&#39;t help either. I&#39;m stuck.\r\n\r\nThank you in advance for any suggestions!","title":"Issue with graphing a quadratic function using Swing graphics","body":"<p>I'm trying to create a simple function grapher using the swing gui stuff, but for some reason, the graphed function consistently draws a weird line as it reaches the vertex.</p>\n<pre><code>\npublic class main {\n    public static void main(String[] args) {\n        new graphFrame();\n    }\n}\n\n\nimport java.awt.Dimension;\nimport java.awt.*;\n\nimport javax.swing.JPanel;\n\npublic class graphPanel extends JPanel {\n    int h = 500;\n    int w = 500;\n\n    int originX = w/2;\n    int originY = h/2;\n\n    graphPanel() {\n        this.setPreferredSize(new Dimension(h, w));\n    }\n\n    public void paintComponent(Graphics g) {\n        double scale = 10;\n\n        // Creates the x and y axis\n        Graphics2D g1 = (Graphics2D) g;\n\n        g1.drawLine(0, h/2, w, h/2);\n        g1.drawLine(w/2, 0, w/2, h);\n\n        double a = 5;\n        double b = -7;\n        double c = 2;\n\n        // Draws function\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setStroke(new BasicStroke(2));\n        g2.setColor(Color.red);\n\n        Polygon p1 = new Polygon();\n        for (int x = -w; x &lt;= w; ++x) {\n            p1.addPoint(originX + x*scale, originY - scale * ((int) Math.round(a*(x*x)+b*x+c)));\n          }\n          \n        g2.drawPolyline(p1.xpoints, p1.ypoints, p1.npoints);\n    }\n}\n\nimport javax.swing.JFrame;\n\npublic class graphFrame extends JFrame {\n    graphPanel panel;\n\n    graphFrame() {\n        panel = new graphPanel();\n\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.add(panel);\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>This is just being added to a JFrame, but I didn't think that the JFrame code would be relevant.</p>\n<p>For example:</p>\n<p><a href=\"https://i.stack.imgur.com/iIx9W.png\" rel=\"nofollow noreferrer\">Actual</a>\n<a href=\"https://i.stack.imgur.com/UHC3W.png\" rel=\"nofollow noreferrer\">Expected (Desmos for reference)</a></p>\n<p>I thought that might had to do with the scaling of the equation, because it rounds the integer, but even if you multiply the y and x by 10 with the scale int, it still has that weird line thing towards the vertex. I moved the scale multiplication part that gets rounded but that didn't help either. I'm stuck.</p>\n<p>Thank you in advance for any suggestions!</p>\n"},{"tags":["java","mysql","database-schema"],"comments":[{"owner":{"account_id":1302409,"reputation":5542,"user_id":1252056,"accept_rate":91,"display_name":"streetturtle"},"score":0,"creation_date":1475779342,"post_id":39903413,"comment_id":67092263,"body_markdown":"If I understood you correctly, the problem is in SQL. You select only `column_name`, use `select * ...` instead.","body":"If I understood you correctly, the problem is in SQL. You select only <code>column_name</code>, use <code>select * ...</code> instead."},{"owner":{"account_id":4475407,"reputation":251,"user_id":3640655,"display_name":"staszek"},"score":0,"creation_date":1475779345,"post_id":39903413,"comment_id":67092265,"body_markdown":"duplicated http://stackoverflow.com/questions/19094999/java-how-to-get-column-name-on-result-set","body":"duplicated <a href=\"http://stackoverflow.com/questions/19094999/java-how-to-get-column-name-on-result-set\" title=\"java how to get column name on result set\">stackoverflow.com/questions/19094999/&hellip;</a>"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1475779390,"post_id":39903413,"comment_id":67092291,"body_markdown":"definitely not a clear question","body":"definitely not a clear question"}],"answers":[{"tags":[],"owner":{"account_id":37665,"reputation":107191,"user_id":107744,"accept_rate":100,"display_name":"spencer7593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475783479,"creation_date":1475783159,"answer_id":39904456,"question_id":39903413,"body_markdown":"Each of the values of `column_name` is going to be on a separate *row*. The expected return from your query will be a resultset like\r\n\r\n    column_name\r\n    -----------\r\n    id\r\n    name\r\n    weight\r\n    charge\r\n    flavor\r\n    spin\r\n\r\nTo get the actual values returned by the query, you will need to spin through the rows of the resultset, just like you would fetch rows from any other resultset you returned.\r\n\r\nThe code you are showing is only looking at the metadata of the resultsest...  names assigned to the column(s) in the `resultset`. In this case, the resultset contains a single column, with the name `column_name`. That&#39;s why you are observing the behavior you report.\r\n\r\nIf your query was written \r\n\r\n     SELECT column_name AS foo\r\n       FROM information_schema.columns\r\n      WHERE table_name=&#39;particles&#39;\r\n\r\nYou&#39;d be seeing `foo` as the column name, rather than `column_name`.\r\n\r\nIt doesn&#39;t matter one whit to SQL that the *values* in the *rows* of the resultset happen to be column names... as far as SQL is concerned, the query is returning a set of *rows*, a single column of *values*. Yes, it happens to be metadata about the columns in a table (because you are running a query against a special view named `information_schema.columns`) but the return from that query is really no different than if you ran any other query that return a VARCHAR column from any other table. For example:\r\n\r\n    SELECT mystringcol FROM mytable\r\n\r\nIf you used that query in your code, the metadata for the resultset would be a single column, with a name `mystringcol`. And your code wouldn&#39;t be doing anything with the *rows* returned in the resultset, the actual values of mystringcol.","title":"I&#39;m trying to retrieve all of the column names from a database table but only &quot;[COLUMN_NAME]&quot; is returned?","body":"<p>Each of the values of <code>column_name</code> is going to be on a separate <em>row</em>. The expected return from your query will be a resultset like</p>\n\n<pre><code>column_name\n-----------\nid\nname\nweight\ncharge\nflavor\nspin\n</code></pre>\n\n<p>To get the actual values returned by the query, you will need to spin through the rows of the resultset, just like you would fetch rows from any other resultset you returned.</p>\n\n<p>The code you are showing is only looking at the metadata of the resultsest...  names assigned to the column(s) in the <code>resultset</code>. In this case, the resultset contains a single column, with the name <code>column_name</code>. That's why you are observing the behavior you report.</p>\n\n<p>If your query was written </p>\n\n<pre><code> SELECT column_name AS foo\n   FROM information_schema.columns\n  WHERE table_name='particles'\n</code></pre>\n\n<p>You'd be seeing <code>foo</code> as the column name, rather than <code>column_name</code>.</p>\n\n<p>It doesn't matter one whit to SQL that the <em>values</em> in the <em>rows</em> of the resultset happen to be column names... as far as SQL is concerned, the query is returning a set of <em>rows</em>, a single column of <em>values</em>. Yes, it happens to be metadata about the columns in a table (because you are running a query against a special view named <code>information_schema.columns</code>) but the return from that query is really no different than if you ran any other query that return a VARCHAR column from any other table. For example:</p>\n\n<pre><code>SELECT mystringcol FROM mytable\n</code></pre>\n\n<p>If you used that query in your code, the metadata for the resultset would be a single column, with a name <code>mystringcol</code>. And your code wouldn't be doing anything with the <em>rows</em> returned in the resultset, the actual values of mystringcol.</p>\n"}],"owner":{"account_id":9192591,"reputation":43,"user_id":6832539,"accept_rate":25,"display_name":"Tayyab Hussain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":39904456,"answer_count":1,"score":-1,"last_activity_date":1679511942,"creation_date":1475779146,"question_id":39903413,"body_markdown":"For some reason only `[COLUMN_NAME]` is returned? It is connecting to a MySQL database running on a local host. \r\n\r\nHere is my code:\r\n\r\n    public static String[] getCol() throws Exception {\r\n   \t\ttry\t{\r\n   \t\t\tConnection con = dbc.getConnection();\r\n   \t\t\tPreparedStatement statement = con.prepareStatement(&quot;select column_name from information_schema.columns where table_name=&#39;particles&#39;&quot;);\r\n   \t\t\tResultSet result = statement.executeQuery();\r\n   \t\t\tResultSetMetaData rs =  result.getMetaData();\r\n   \t\t\tint count = rs.getColumnCount();\r\n   \t\t\tString[] ColName = new String[count];\r\n   \t\t\tString[] COLS;\r\n   \t\t\tfor (int i=1 ; i &lt;= count; i++) {\r\n   \t\t\t\tColName[i-1] = rs.getColumnName(i);\r\n   \t\t\t}\r\n   \t\t\tSystem.out.println(Arrays.toString(ColName));\r\n   \t\t\treturn ColName;\r\n   \t\t} catch(Exception e) {\r\n            System.out.println(e);\r\n        }\r\n  \t\treturn null;\r\n    }","title":"I&#39;m trying to retrieve all of the column names from a database table but only &quot;[COLUMN_NAME]&quot; is returned?","body":"<p>For some reason only <code>[COLUMN_NAME]</code> is returned? It is connecting to a MySQL database running on a local host. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static String[] getCol() throws Exception {\n    try {\n        Connection con = dbc.getConnection();\n        PreparedStatement statement = con.prepareStatement(\"select column_name from information_schema.columns where table_name='particles'\");\n        ResultSet result = statement.executeQuery();\n        ResultSetMetaData rs =  result.getMetaData();\n        int count = rs.getColumnCount();\n        String[] ColName = new String[count];\n        String[] COLS;\n        for (int i=1 ; i &lt;= count; i++) {\n            ColName[i-1] = rs.getColumnName(i);\n        }\n        System.out.println(Arrays.toString(ColName));\n        return ColName;\n    } catch(Exception e) {\n        System.out.println(e);\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1381357459,"post_id":19283606,"comment_id":28554245,"body_markdown":"Can you provide a class that would use that `TypeReference`? A small SSCCE?","body":"Can you provide a class that would use that <code>TypeReference</code>? A small SSCCE?"},{"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"score":0,"creation_date":1381358168,"post_id":19283606,"comment_id":28554538,"body_markdown":"It&#39;s 1:35 AM, I have to go to sleep Sotirios... I&#39;ll take a look at it tomorrow morning again.","body":"It&#39;s 1:35 AM, I have to go to sleep Sotirios... I&#39;ll take a look at it tomorrow morning again."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1381358206,"post_id":19283606,"comment_id":28554558,"body_markdown":"NP, I&#39;ll try it when I go home too.","body":"NP, I&#39;ll try it when I go home too."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1651046844,"post_id":19283606,"comment_id":127266303,"body_markdown":"See also this: https://stackoverflow.com/q/51767347/5515060","body":"See also this: <a href=\"https://stackoverflow.com/q/51767347/5515060\">stackoverflow.com/q/51767347/5515060</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1495980643,"creation_date":1381374057,"answer_id":19286331,"question_id":19283606,"body_markdown":"You need to understand how a `TypeReference` works. For that we go into the source code\r\n\r\n    protected TypeReference()\r\n    {\r\n        Type superClass = getClass().getGenericSuperclass();\r\n        if (superClass instanceof Class&lt;?&gt;) { // sanity check, should never happen\r\n            throw new IllegalArgumentException(&quot;Internal error: TypeReference constructed without actual type information&quot;);\r\n        }\r\n        ...\r\n        _type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\r\n    }\r\n\r\nThe `Class#getGenericSuperclass()` javadoc states\r\n\r\n&gt; Returns the Type representing the direct superclass of the entity\r\n&gt; (class, interface, primitive type or void) represented by this Class. \r\n&gt; \r\n&gt; If the superclass is a parameterized type, the Type object returned\r\n&gt; must accurately reflect the actual type parameters used in the source\r\n&gt; code.\r\n\r\nIn other words, if we could do `new TypeReference()` (we can&#39;t, it&#39;s abstract), it would return the `Class` instance for the class `Object`. However, with anonymous classes (which extend from the type)\r\n\r\n    new TypeReference&lt;String&gt;(){}\r\n\r\nthe direct superclass of the instance created is the parameterized type `TypeReference` and according to the javadoc we should get a `Type` instance that _accurately reflect the actual type parameters used in the source code_:\r\n\r\n    TypeReference&lt;String&gt;\r\n\r\nfrom which you can then get the parameterized type with `getActualTypeArguments()[0])`, returning `String`.\r\n\r\nLet&#39;s take an example to visualize using anonymous class and using a sub-class\r\n\r\n\tpublic class Subclass&lt;T&gt; extends TypeReference&lt;AgentResponse&lt;T&gt;&gt;{\r\n\t\tpublic Subclass() {\r\n\t\t\tSystem.out.println(getClass().getGenericSuperclass());\r\n\t\t\tSystem.out.println(((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\r\n\t\t}\r\n\t}\r\n\r\nRunning\r\n\t\t\r\n    new Subclass&lt;String&gt;();\r\n\r\nprints\r\n\r\n    com.fasterxml.jackson.core.type.TypeReference&lt;Test.AgentResponse&lt;T&gt;&gt;\r\n    Test.AgentResponse&lt;T&gt;\r\n\r\nwhich fits the javadoc rules. `Test.AgentResponse&lt;T&gt;` is the actual parameterized type in the source code. Now, if instead, we had\r\n\r\n    new Subclass&lt;String&gt;(){}; // anonymous inner class\r\n\r\nwe get the result\r\n\r\n    Test.Subclass&lt;java.lang.String&gt;\r\n    class java.lang.String\r\n\r\nwhich also fits the bill. The inner class now extends directly from `Subclass` which is parameterized with the argument `String` in the source code.\r\n\r\nYou will notice that, with the `Subclass` anonymous inner class, we&#39;ve lost information about the `AgentResponse` generic type. This is unavoidable.\r\n\r\n\r\n----------\r\n\r\nNote that \r\n\r\n\treader = new StringReader(&quot;{\\&quot;element\\&quot;:{\\&quot;map-element\\&quot;:[{\\&quot;name\\&quot;:\\&quot;soto\\&quot;, \\&quot;value\\&quot;: 123}]}}&quot;);\r\n\tobj = mapper.readValue(reader, new AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;());\r\n\r\nwill compile and run, but the type `AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;` will have been lost. Jackson will use default type to serializes the JSON. The `element` will be deserialized as an `AgentResponse`, while `map-element` will be deserialized as a `Map` and the JSON array as an `ArrayList`.","title":"Does Jackson TypeReference work when extended?","body":"<p>You need to understand how a <code>TypeReference</code> works. For that we go into the source code</p>\n\n<pre><code>protected TypeReference()\n{\n    Type superClass = getClass().getGenericSuperclass();\n    if (superClass instanceof Class&lt;?&gt;) { // sanity check, should never happen\n        throw new IllegalArgumentException(\"Internal error: TypeReference constructed without actual type information\");\n    }\n    ...\n    _type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\n}\n</code></pre>\n\n<p>The <code>Class#getGenericSuperclass()</code> javadoc states</p>\n\n<blockquote>\n  <p>Returns the Type representing the direct superclass of the entity\n  (class, interface, primitive type or void) represented by this Class. </p>\n  \n  <p>If the superclass is a parameterized type, the Type object returned\n  must accurately reflect the actual type parameters used in the source\n  code.</p>\n</blockquote>\n\n<p>In other words, if we could do <code>new TypeReference()</code> (we can't, it's abstract), it would return the <code>Class</code> instance for the class <code>Object</code>. However, with anonymous classes (which extend from the type)</p>\n\n<pre><code>new TypeReference&lt;String&gt;(){}\n</code></pre>\n\n<p>the direct superclass of the instance created is the parameterized type <code>TypeReference</code> and according to the javadoc we should get a <code>Type</code> instance that <em>accurately reflect the actual type parameters used in the source code</em>:</p>\n\n<pre><code>TypeReference&lt;String&gt;\n</code></pre>\n\n<p>from which you can then get the parameterized type with <code>getActualTypeArguments()[0])</code>, returning <code>String</code>.</p>\n\n<p>Let's take an example to visualize using anonymous class and using a sub-class</p>\n\n<pre><code>public class Subclass&lt;T&gt; extends TypeReference&lt;AgentResponse&lt;T&gt;&gt;{\n    public Subclass() {\n        System.out.println(getClass().getGenericSuperclass());\n        System.out.println(((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\n    }\n}\n</code></pre>\n\n<p>Running</p>\n\n<pre><code>new Subclass&lt;String&gt;();\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>com.fasterxml.jackson.core.type.TypeReference&lt;Test.AgentResponse&lt;T&gt;&gt;\nTest.AgentResponse&lt;T&gt;\n</code></pre>\n\n<p>which fits the javadoc rules. <code>Test.AgentResponse&lt;T&gt;</code> is the actual parameterized type in the source code. Now, if instead, we had</p>\n\n<pre><code>new Subclass&lt;String&gt;(){}; // anonymous inner class\n</code></pre>\n\n<p>we get the result</p>\n\n<pre><code>Test.Subclass&lt;java.lang.String&gt;\nclass java.lang.String\n</code></pre>\n\n<p>which also fits the bill. The inner class now extends directly from <code>Subclass</code> which is parameterized with the argument <code>String</code> in the source code.</p>\n\n<p>You will notice that, with the <code>Subclass</code> anonymous inner class, we've lost information about the <code>AgentResponse</code> generic type. This is unavoidable.</p>\n\n<hr>\n\n<p>Note that </p>\n\n<pre><code>reader = new StringReader(\"{\\\"element\\\":{\\\"map-element\\\":[{\\\"name\\\":\\\"soto\\\", \\\"value\\\": 123}]}}\");\nobj = mapper.readValue(reader, new AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;());\n</code></pre>\n\n<p>will compile and run, but the type <code>AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;</code> will have been lost. Jackson will use default type to serializes the JSON. The <code>element</code> will be deserialized as an <code>AgentResponse</code>, while <code>map-element</code> will be deserialized as a <code>Map</code> and the JSON array as an <code>ArrayList</code>.</p>\n"}],"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19286331,"answer_count":1,"score":2,"last_activity_date":1679511803,"creation_date":1381356090,"question_id":19283606,"body_markdown":"In the following snippet, you can see that the type information is not erased, but the mapper doesn&#39;t get the type information. My guess is that Jackson doesn&#39;t allow this, right? If I pass a `TypeReference` directly, it is deserialized properly. \r\n\r\n    public class AgentReq&lt;T&gt; extends TypeReference&lt;AgentResponse&lt;T&gt;&gt; {...}\r\n    \r\n    mapper.readValue(reader, new AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;());\r\n\r\nIt also doesn&#39;t work if I do this:\r\n\r\n    public class AgentReq&lt;T&gt; {\r\n    \r\n        public TypeReference&lt;AgentResponse&lt;T&gt;&gt; getTypeRef() {\r\n            return new TypeReference&lt;AgentResponse&lt;T&gt;&gt;() {};\r\n        }\r\n    }\r\n    \r\n    mapper.readValue(reader, new AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;()).getTypeRef();\r\n\r\nI&#39;m using version 2.1.5.\r\n\r\nEDIT: For future reference, do not underestimate the `TypeReference` constructor when resolving problems. There you can see directly whether it was able to retrieve type information. By the way, the answer is: NO, you can&#39;t extend `TypeReference` and expect it to work. You can&#39;t even override its `getType()` method and supply it with type information resolved from your class, because all you can get is `getClass().getGenericSuperClass()`. You can&#39;t do `getClass().getGenericClass()`.","title":"Does Jackson TypeReference work when extended?","body":"<p>In the following snippet, you can see that the type information is not erased, but the mapper doesn't get the type information. My guess is that Jackson doesn't allow this, right? If I pass a <code>TypeReference</code> directly, it is deserialized properly.</p>\n<pre><code>public class AgentReq&lt;T&gt; extends TypeReference&lt;AgentResponse&lt;T&gt;&gt; {...}\n\nmapper.readValue(reader, new AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;());\n</code></pre>\n<p>It also doesn't work if I do this:</p>\n<pre><code>public class AgentReq&lt;T&gt; {\n\n    public TypeReference&lt;AgentResponse&lt;T&gt;&gt; getTypeRef() {\n        return new TypeReference&lt;AgentResponse&lt;T&gt;&gt;() {};\n    }\n}\n\nmapper.readValue(reader, new AgentReq&lt;Map&lt;String, Set&lt;Whatever&gt;&gt;&gt;()).getTypeRef();\n</code></pre>\n<p>I'm using version 2.1.5.</p>\n<p>EDIT: For future reference, do not underestimate the <code>TypeReference</code> constructor when resolving problems. There you can see directly whether it was able to retrieve type information. By the way, the answer is: NO, you can't extend <code>TypeReference</code> and expect it to work. You can't even override its <code>getType()</code> method and supply it with type information resolved from your class, because all you can get is <code>getClass().getGenericSuperClass()</code>. You can't do <code>getClass().getGenericClass()</code>.</p>\n"},{"tags":["java","spring-boot","caching"],"owner":{"account_id":3243454,"reputation":1405,"user_id":2735802,"accept_rate":71,"display_name":"Geyser14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679511638,"creation_date":1679511638,"question_id":75816296,"body_markdown":"I have enabled a simple cache in Spring Boot to store objects with\r\n\r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    public class Application {\r\n        ...\r\n    }\r\n\r\nand the component/method\r\n\r\n    @Component\r\n    public class MyObjectCache {\r\n        @Cacheable(cacheNames = &quot;myObjectCache&quot;, key = &quot;#key&quot;, sync = true)\r\n        public MyObject findObject(String key) {\r\n            // logic\r\n            return myObject;\r\n        }\r\n    }\r\n\r\n`@Cacheable` wants to store the object if it doesn&#39;t exist and requires me to create a new object in the `// logic` section, but I need a way to just check if the object is there since I create it in a set of outer use cases via another `@CachePut` method, which I call when I actually need to store an object.\r\n\r\n    @CachePut(cacheNames = &quot;myObjectCache&quot;, key = &quot;#myObject.id&quot;)\r\n    public MyObject update(MyObject obj) {\r\n        // do stuff\r\n        return obj;\r\n    }\r\n\r\nHow do I just check for the key/object&#39;s existence in the cache without trying to store a new one? This strikes me as a common use case to be supported (in a straightforward way, at least).","title":"Spring Boot @Cacheable - how to check if object exists in cache without storing it","body":"<p>I have enabled a simple cache in Spring Boot to store objects with</p>\n<pre><code>@SpringBootApplication\n@EnableCaching\npublic class Application {\n    ...\n}\n</code></pre>\n<p>and the component/method</p>\n<pre><code>@Component\npublic class MyObjectCache {\n    @Cacheable(cacheNames = &quot;myObjectCache&quot;, key = &quot;#key&quot;, sync = true)\n    public MyObject findObject(String key) {\n        // logic\n        return myObject;\n    }\n}\n</code></pre>\n<p><code>@Cacheable</code> wants to store the object if it doesn't exist and requires me to create a new object in the <code>// logic</code> section, but I need a way to just check if the object is there since I create it in a set of outer use cases via another <code>@CachePut</code> method, which I call when I actually need to store an object.</p>\n<pre><code>@CachePut(cacheNames = &quot;myObjectCache&quot;, key = &quot;#myObject.id&quot;)\npublic MyObject update(MyObject obj) {\n    // do stuff\n    return obj;\n}\n</code></pre>\n<p>How do I just check for the key/object's existence in the cache without trying to store a new one? This strikes me as a common use case to be supported (in a straightforward way, at least).</p>\n"},{"tags":["java","authentication","openapi","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679545293,"post_id":75816265,"comment_id":133742000,"body_markdown":"In my case I needed to add a HTTP header. It seems that your header name is `&quot;X-API-Key&quot;` and the value should be your token.","body":"In my case I needed to add a HTTP header. It seems that your header name is <code>&quot;X-API-Key&quot;</code> and the value should be your token."}],"owner":{"account_id":4813656,"reputation":595,"user_id":3886357,"accept_rate":0,"display_name":"Mabel Oza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679511393,"creation_date":1679511393,"question_id":75816265,"body_markdown":"When using an OpenAPI spec to generate a Java SDK how do I authenticate to test out the SDK? \r\n\r\nIf I want to use these APIs in postman or in simple code I have to pass in an API token and PEM formatted secret.key. When I generate my SDK using the OpenAPI spec I get a class called ApiClient (see below). How do I pass in my PEM file using this class?\r\n\r\n```\r\n    protected void init() {\r\n        // Use RFC3339 format for date and datetime.\r\n        // See http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14\r\n        this.dateFormat = new RFC3339DateFormat();\r\n\r\n        // Use UTC as the default time zone.\r\n        this.dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n        // Set default User-Agent.\r\n        setUserAgent(&quot;Java-SDK&quot;);\r\n\r\n        // Setup authentications (key: authentication name, value: authentication).\r\n        authentications = new HashMap&lt;String, Authentication&gt;();\r\n        authentications.put(&quot;ApiKeyAuth&quot;, new ApiKeyAuth(&quot;header&quot;, &quot;X-API-Key&quot;));\r\n        authentications.put(&quot;bearerTokenAuth&quot;, new HttpBearerAuth(&quot;bearer&quot;));\r\n        // Prevent the authentications from being modified.\r\n        authentications = Collections.unmodifiableMap(authentications);\r\n    }\r\n```\r\n\r\nI would imagine this generated code is reflected on the swagger ui page. In the swagger ui if I hit authorize I am presented with two fields &#39;bearerAuthToken&#39; and apiKey. \r\n[![Swagger UI Page][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sAeVL.png","title":"Using OpenAPI Generate to Create SDK and Authorize","body":"<p>When using an OpenAPI spec to generate a Java SDK how do I authenticate to test out the SDK?</p>\n<p>If I want to use these APIs in postman or in simple code I have to pass in an API token and PEM formatted secret.key. When I generate my SDK using the OpenAPI spec I get a class called ApiClient (see below). How do I pass in my PEM file using this class?</p>\n<pre><code>    protected void init() {\n        // Use RFC3339 format for date and datetime.\n        // See http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14\n        this.dateFormat = new RFC3339DateFormat();\n\n        // Use UTC as the default time zone.\n        this.dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n\n        // Set default User-Agent.\n        setUserAgent(&quot;Java-SDK&quot;);\n\n        // Setup authentications (key: authentication name, value: authentication).\n        authentications = new HashMap&lt;String, Authentication&gt;();\n        authentications.put(&quot;ApiKeyAuth&quot;, new ApiKeyAuth(&quot;header&quot;, &quot;X-API-Key&quot;));\n        authentications.put(&quot;bearerTokenAuth&quot;, new HttpBearerAuth(&quot;bearer&quot;));\n        // Prevent the authentications from being modified.\n        authentications = Collections.unmodifiableMap(authentications);\n    }\n</code></pre>\n<p>I would imagine this generated code is reflected on the swagger ui page. In the swagger ui if I hit authorize I am presented with two fields 'bearerAuthToken' and apiKey.\n<a href=\"https://i.stack.imgur.com/sAeVL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sAeVL.png\" alt=\"Swagger UI Page\" /></a></p>\n"},{"tags":["java","android","android-studio","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679509806,"creation_date":1679509806,"answer_id":75816031,"question_id":75815417,"body_markdown":"save the text in a string which is null by default.  check if the string is not null.  If is isn&#39;t null, then set the text to the view in the fragment&#39;s onCreateView() method.  This will ensure the data is kept between fragment transactions. Ex:\r\n\r\n    private String text = null;\r\n    \r\n    @Override\r\n    public void onViewCreated(View view, Bundle sIS) {\r\n        super.onViewCreated(view, sIS);\r\n        team1_1.setText(text);\r\n        /*Other Frag Logic*/\r\n    }\r\n    \r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        //binding = null; Only use if you are using viewbinding\r\n        text = team1_1.getText().toString();\r\n    }\r\n\r\nHope this helps!","title":"My .settext in one fragment dont save after changing the fragment an then go back","body":"<p>save the text in a string which is null by default.  check if the string is not null.  If is isn't null, then set the text to the view in the fragment's onCreateView() method.  This will ensure the data is kept between fragment transactions. Ex:</p>\n<pre><code>private String text = null;\n\n@Override\npublic void onViewCreated(View view, Bundle sIS) {\n    super.onViewCreated(view, sIS);\n    team1_1.setText(text);\n    /*Other Frag Logic*/\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n    //binding = null; Only use if you are using viewbinding\n    text = team1_1.getText().toString();\n}\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":28088426,"reputation":11,"user_id":21458419,"display_name":"lajuca333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75816031,"answer_count":1,"score":0,"last_activity_date":1679509806,"creation_date":1679505731,"question_id":75815417,"body_markdown":"Im am working with two fragment an replacing them by pressing a button. In one of them i having a edittext which on i change with .settext and make it not editable with . setEnabled(false). Now i the Problem wenn i go the other fragment an then back it dont save.\r\n\r\n&gt; team1_1 = view.findViewById(R.id.team1_1);\r\n&gt; comit1 = view.findViewById(R.id.comit1);  \r\n\r\n&gt; setonclick...\r\n&gt; team1_1.setText(team1_1.getText().toString()); team1_1.setEnabled(false);\r\n\r\nPlease help me as soon as possible","title":"My .settext in one fragment dont save after changing the fragment an then go back","body":"<p>Im am working with two fragment an replacing them by pressing a button. In one of them i having a edittext which on i change with .settext and make it not editable with . setEnabled(false). Now i the Problem wenn i go the other fragment an then back it dont save.</p>\n<blockquote>\n<p>team1_1 = view.findViewById(R.id.team1_1);\ncomit1 = view.findViewById(R.id.comit1);</p>\n</blockquote>\n<blockquote>\n<p>setonclick...\nteam1_1.setText(team1_1.getText().toString()); team1_1.setEnabled(false);</p>\n</blockquote>\n<p>Please help me as soon as possible</p>\n"},{"tags":["java","spring-boot","jpa","jwt","many-to-many"],"owner":{"account_id":27178762,"reputation":11,"user_id":20714359,"display_name":"paulo cesar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679509533,"creation_date":1679509533,"question_id":75816003,"body_markdown":"I followed this example to the letter :[link](https://roytuts.com/angular-spring-boot-security-jwt-authentication-and-authorization/) but I&#39;m getting this pile of errors .I already tried to change the name of the mapping many to many changing the name of the table but without success \r\nUser signup at endpoint /signup with username, password and role(s).\r\nThe user information is stored into database.\r\nUser receives JWT (JSON Web Token) on successful signin using the same username/password at step 1.\r\nUser continues to access the endpoints for which user has role(s) as long as the token is valid. User must send JWT in HTTP header with key/value as Authorization/Bearer &lt;generated JWT on signin&gt;.\r\n\r\n    \r\n```\r\n 2023-03-22 14:16:00.722  INFO 12260 --- [main] SQL dialect                                      HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2023-03-22 14:16:02.129 ERROR 12260 --- [           main]          j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: mappedBy  reference an unknown target entity property: com.xxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\n    2023-03-22 14:16:02.142 ERROR 12260 --- [           main]  o.s.b.web.embedded.tomcat.TomcatStarter        Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;apiSecurityConfig&#39;: Unsatisfied dependency expressed through method &#39;setContentNegotationStrategy&#39; parameter 0; nested exception is  org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setConfigurers&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;openEntityManagerInViewInterceptorConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method &#39;openEntityManagerInViewInterceptorConfigurer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openEntityManagerInViewInterceptor&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;integracaoEntityManager&#39; defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\n    2023-03-22 14:16:03.639  INFO 12260 --- [           main] o.apache.catalina.core.StandardService     : Stopping service [Tomcat]\r\n    2023-03-22 14:16:03.732  WARN 12260 --- [           main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but  has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n    java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)\r\n    java.base@17.0.5/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n     java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(Ab stractQueuedSynchronizer.java:1672)\r\n    java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThr  eadPoolExecutor.java:1182)\r\n  java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThr eadPoolExecutor.java:899)\r\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\r\n      2023-03-22 14:16:03.734  WARN 12260 --- [           main] o.a.c.loader.WebappClassLoaderBase               The web application [ROOT] appears to have started a thread named [HikariPool-1 connection      adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of     thread:\r\n java.base@17.0.5/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n java.base@17.0.5/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:46)\r\n java.base@17.0.5/sun.nio.ch.NioSocketImpl.tryRead(NioSocketImpl.java:261)\r\n java.base@17.0.5/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:312)\r\n java.base@17.0.5/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n java.base@17.0.5/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n java.base@17.0.5/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n        app//org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\r\n    app//org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\r\n app//org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\r\n app//org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\r\n app//org.postgresql.core.PGStream.receiveChar(PGStream.java:453)\r\n app//org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)\r\n app//org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)\r\n   app//org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\r\n app//org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n app//org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n app//org.postgresql.Driver.makeConnection(Driver.java:402)\r\n app//org.postgresql.Driver.connect(Driver.java:261)\r\n app//com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n app//com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n app//com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n app//com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n app//com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)\r\n app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)\r\n app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\r\n java.base@17.0.5/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\r\n2023-03-22 14:16:03.786  WARN 12260 --- [                      : Application run failed\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested   exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;integracaoEntityManager&#39; defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\norg.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.14.jar:2.6.14]\r\n\t... 13 common frames omitted\r\n     Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating  bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setConfigurers&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;openEntityManagerInViewInterceptorConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method &#39;openEntityManagerInViewInterceptorConfigurer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openEntityManagerInViewInterceptor&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;integracaoEntityManager&#39; defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\n\tat  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat  org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 63 common frames omitted\r\n      Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating    bean with name &#39;openEntityManagerInViewInterceptorConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method &#39;openEntityManagerInViewInterceptorConfigurer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openEntityManagerInViewInterceptor&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;integracaoEntityManager&#39; defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\n\tat  \r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 86 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with  name &#39;openEntityManagerInViewInterceptor&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;integracaoEntityManager&#39; defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\n\t  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 102 common frames omitted\r\n       Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with  name &#39;integracaoEntityManager&#39; defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1284) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1268) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:121) ~[spring-orm-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.orm.jpa.EntityManagerFactoryAccessor.setBeanFactory(EntityManagerFactoryAccessor.java:155) ~[spring-orm-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 112 common frames omitted\r\n      Caused by: org.hibernate.AnnotationException: mappedBy reference an unknown target entity  property: com.xxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\r\n\t    at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:818) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\r\n\t    at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:769) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\r\n\r\n \t at     org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\r\n\tat   org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1701) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:294) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1345) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1416) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.24.jar:5.3.24]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.24.jar:5.3.24]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.24.jar:5.3.24]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.24.jar:5.3.24]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.24.jar:5.3.24]\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 128 common frames omitted\r\n\r\n```\r\n\r\n  \r\n\r\n   ","title":"mappedBy reference an unknown target entity property java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)","body":"<p>I followed this example to the letter :<a href=\"https://roytuts.com/angular-spring-boot-security-jwt-authentication-and-authorization/\" rel=\"nofollow noreferrer\">link</a> but I'm getting this pile of errors .I already tried to change the name of the mapping many to many changing the name of the table but without success\nUser signup at endpoint /signup with username, password and role(s).\nThe user information is stored into database.\nUser receives JWT (JSON Web Token) on successful signin using the same username/password at step 1.\nUser continues to access the endpoints for which user has role(s) as long as the token is valid. User must send JWT in HTTP header with key/value as Authorization/Bearer .</p>\n<pre><code> 2023-03-22 14:16:00.722  INFO 12260 --- [main] SQL dialect                                      HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n    2023-03-22 14:16:02.129 ERROR 12260 --- [           main]          j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: mappedBy  reference an unknown target entity property: com.xxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\n    2023-03-22 14:16:02.142 ERROR 12260 --- [           main]  o.s.b.web.embedded.tomcat.TomcatStarter        Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'apiSecurityConfig': Unsatisfied dependency expressed through method 'setContentNegotationStrategy' parameter 0; nested exception is  org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'integracaoEntityManager' defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\n    2023-03-22 14:16:03.639  INFO 12260 --- [           main] o.apache.catalina.core.StandardService     : Stopping service [Tomcat]\n    2023-03-22 14:16:03.732  WARN 12260 --- [           main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but  has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n    java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)\n    java.base@17.0.5/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n     java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(Ab stractQueuedSynchronizer.java:1672)\n    java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThr  eadPoolExecutor.java:1182)\n  java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThr eadPoolExecutor.java:899)\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\n      2023-03-22 14:16:03.734  WARN 12260 --- [           main] o.a.c.loader.WebappClassLoaderBase               The web application [ROOT] appears to have started a thread named [HikariPool-1 connection      adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of     thread:\n java.base@17.0.5/sun.nio.ch.SocketDispatcher.read0(Native Method)\n java.base@17.0.5/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:46)\n java.base@17.0.5/sun.nio.ch.NioSocketImpl.tryRead(NioSocketImpl.java:261)\n java.base@17.0.5/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:312)\n java.base@17.0.5/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n java.base@17.0.5/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n java.base@17.0.5/java.net.Socket$SocketInputStream.read(Socket.java:966)\n        app//org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\n    app//org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\n app//org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\n app//org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\n app//org.postgresql.core.PGStream.receiveChar(PGStream.java:453)\n app//org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)\n app//org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)\n   app//org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\n app//org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n app//org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n app//org.postgresql.Driver.makeConnection(Driver.java:402)\n app//org.postgresql.Driver.connect(Driver.java:261)\n app//com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n app//com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n app//com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n app//com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n app//com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)\n app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)\n app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\n java.base@17.0.5/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\n2023-03-22 14:16:03.786  WARN 12260 --- [                      : Application run failed\n\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested   exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'integracaoEntityManager' defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\norg.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.14.jar:2.6.14]\n    ... 13 common frames omitted\n     Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating  bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'integracaoEntityManager' defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\n    at  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-5.3.24.jar:5.3.24]\n    at  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720) ~[spring-beans-5.3.24.jar:5.3.24]\n    at  org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 63 common frames omitted\n      Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating    bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'integracaoEntityManager' defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\n    at  \n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 86 common frames omitted\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with  name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'integracaoEntityManager' defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\n      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 102 common frames omitted\n       Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with  name 'integracaoEntityManager' defined in class path resource [com/AhrBrasil/DashBoardBackend/config/integracao/IntegracaoDbConfig.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1284) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1268) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:121) ~[spring-orm-5.3.24.jar:5.3.24]\n      at org.springframework.orm.jpa.EntityManagerFactoryAccessor.setBeanFactory(EntityManagerFactoryAccessor.java:155) ~[spring-orm-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-5.3.24.jar:5.3.24]\n      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791) ~[spring-beans-5.3.24.jar:5.3.24]\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 112 common frames omitted\n      Caused by: org.hibernate.AnnotationException: mappedBy reference an unknown target entity  property: com.xxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.UsersRole.users in com.xxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.integracao.Users.usersRoles\n        at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:818) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\n        at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:769) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\n\n     at     org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\n    at   org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1701) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:294) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1345) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1416) ~[hibernate-core-6.0.0.Alpha9.jar:6.0.0.Alpha9]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.24.jar:5.3.24]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.24.jar:5.3.24]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.24.jar:5.3.24]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.24.jar:5.3.24]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.24.jar:5.3.24]\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]\n     org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 128 common frames omitted\n\n</code></pre>\n"},{"tags":["java","encryption","javax.crypto"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1679468659,"post_id":75809131,"comment_id":133725543,"body_markdown":"There are many things wrong here. First, the output of the cipher (i.e. after *encryption*) should be a multiple of the block size, so the input is incorrect. I don&#39;t know how PHP manages to decrypt that. OpenSSL uses PKCS#7 padding by default (incorrectly called `&quot;PKCS5Padding&quot;` by Java). I don&#39;t see any of the hash calculations over the IV. I don&#39;t know why you are base 64 encoding the result either.","body":"There are many things wrong here. First, the output of the cipher (i.e. after <i>encryption</i>) should be a multiple of the block size, so the input is incorrect. I don&#39;t know how PHP manages to decrypt that. OpenSSL uses PKCS#7 padding by default (incorrectly called <code>&quot;PKCS5Padding&quot;</code> by Java). I don&#39;t see any of the hash calculations over the IV. I don&#39;t know why you are base 64 encoding the result either."},{"owner":{"account_id":22107235,"reputation":5,"user_id":16362635,"display_name":"Mohamed E."},"score":0,"creation_date":1679469324,"post_id":75809131,"comment_id":133725660,"body_markdown":"The PHP code is not code I wrote. It was an example given to me so that I can implement decryption is Java.\n\nJust to clarify, you are saying that the input (i.e. &#39;bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09&#39;) is incorrect? That input is 32 characters long so it should be fine. The output is what is confusing me, 12 characters does not seem like correct length there, unless it was truncated somewhere.\n\nAlso, I think no padding is used in the PHP example. The 0 passed in the fourth parameter of the openssl_decrypt function signifies no padding if I am not mistaken.","body":"The PHP code is not code I wrote. It was an example given to me so that I can implement decryption is Java.  Just to clarify, you are saying that the input (i.e. &#39;bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09&#39;) is incorrect? That input is 32 characters long so it should be fine. The output is what is confusing me, 12 characters does not seem like correct length there, unless it was truncated somewhere.  Also, I think no padding is used in the PHP example. The 0 passed in the fourth parameter of the openssl_decrypt function signifies no padding if I am not mistaken."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1679469489,"post_id":75809131,"comment_id":133725688,"body_markdown":"The PHP code Base64 decodes twice (implicit by default and explicit): bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09 -&gt; nv4PG64W2Hx0E224U55NiQ== which corresponds to a 16 bytes ciphertext (the double Base64 encoding is unnecessary and inefficient).","body":"The PHP code Base64 decodes twice (implicit by default and explicit): bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09 -&gt; nv4PG64W2Hx0E224U55NiQ== which corresponds to a 16 bytes ciphertext (the double Base64 encoding is unnecessary and inefficient)."},{"owner":{"account_id":22107235,"reputation":5,"user_id":16362635,"display_name":"Mohamed E."},"score":0,"creation_date":1679469892,"post_id":75809131,"comment_id":133725773,"body_markdown":"Not sure about the double encoding. First time it is encoded implicitly then it is decoded not encoded again. I would like to retract my statement in the last comment. After the original cipher (bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09) is base64 decoded it gives an incorrect length of 24 bytes - which is exactly my problem. That won&#39;t work with no padding.","body":"Not sure about the double encoding. First time it is encoded implicitly then it is decoded not encoded again. I would like to retract my statement in the last comment. After the original cipher (bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09) is base64 decoded it gives an incorrect length of 24 bytes - which is exactly my problem. That won&#39;t work with no padding."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1679470170,"post_id":75809131,"comment_id":133725823,"body_markdown":"*...it gives an incorrect length of 24 bytes - which is exactly my problem...*: The Base64 decoding gives nv4PG64W2Hx0E224U55NiQ==, repeated Base64 decoding results in a 16 bytes value, hex encoded: 9efe0f1bae16d87c74136db8539e4d89. This is the ciphertext to decrypt.","body":"<i>...it gives an incorrect length of 24 bytes - which is exactly my problem...</i>: The Base64 decoding gives nv4PG64W2Hx0E224U55NiQ==, repeated Base64 decoding results in a 16 bytes value, hex encoded: 9efe0f1bae16d87c74136db8539e4d89. This is the ciphertext to decrypt."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1679470350,"post_id":75809131,"comment_id":133725858,"body_markdown":"Further differences to the Java code: Besides the IV, the PHP code also derives the key via SHA256. Furthermore, the hex encoded values are used as key and IV.","body":"Further differences to the Java code: Besides the IV, the PHP code also derives the key via SHA256. Furthermore, the hex encoded values are used as key and IV."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679472088,"post_id":75809131,"comment_id":133726218,"body_markdown":"Also, don&#39;t do `keyString.substring(0,32).getBytes();`, you should always explicitly specify the character set you want to use to encode the string to bytes.","body":"Also, don&#39;t do <code>keyString.substring(0,32).getBytes();</code>, you should always explicitly specify the character set you want to use to encode the string to bytes."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1679473360,"post_id":75809131,"comment_id":133726480,"body_markdown":"If the problem persists: Post test data: `$secret_key`, `$secret_iv`, `$encrypted_txt` plus expected plaintext. Also post the `generateSHA256()` implementation.","body":"If the problem persists: Post test data: <code>$secret_key</code>, <code>$secret_iv</code>, <code>$encrypted_txt</code> plus expected plaintext. Also post the <code>generateSHA256()</code> implementation."},{"owner":{"account_id":22107235,"reputation":5,"user_id":16362635,"display_name":"Mohamed E."},"score":0,"creation_date":1679473924,"post_id":75809131,"comment_id":133726618,"body_markdown":"Working on it now, if it persists I&#39;ll post test data. I got the hex encoded value you mentioned above to use as ciphertext (9efe0f1bae16d87c74136db8539e4d89). But struggling to understand what you meant by hex encoding the key and IV? Technically since they are generated using SHA-256, they are already hex encoded I believe. I just convert them to bytes (using StandardCharsets.US_ASCII) and use them that way. Note that the key MUST be 32 bytes in length for me to use AES-256 bit decryption here.\n\nAlso, what about the output? Should that be a base64 encoded string?","body":"Working on it now, if it persists I&#39;ll post test data. I got the hex encoded value you mentioned above to use as ciphertext (9efe0f1bae16d87c74136db8539e4d89). But struggling to understand what you meant by hex encoding the key and IV? Technically since they are generated using SHA-256, they are already hex encoded I believe. I just convert them to bytes (using StandardCharsets.US_ASCII) and use them that way. Note that the key MUST be 32 bytes in length for me to use AES-256 bit decryption here.  Also, what about the output? Should that be a base64 encoded string?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1679474641,"post_id":75809131,"comment_id":133726806,"body_markdown":"Not understanding the difference between binary (bits / bytes) and hexadecimals seem to be an issue here. Hexadecimals are the &quot;human readable&quot; / &quot;textual&quot; representation of the bytes. If you have them in a string in your application you should **hex** decode before using them as bytes instead of using character decoding with UTF-8 or whatever.","body":"Not understanding the difference between binary (bits / bytes) and hexadecimals seem to be an issue here. Hexadecimals are the &quot;human readable&quot; / &quot;textual&quot; representation of the bytes. If you have them in a string in your application you should <b>hex</b> decode before using them as bytes instead of using character decoding with UTF-8 or whatever."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1679475177,"post_id":75809131,"comment_id":133726956,"body_markdown":"From the notes under the underspecified `openssl_decrypt` function: &quot;$data can be as the description says raw or base64. If no $option is set (this is, if value of 0 is passed in this parameter), data will be assumed to be base64 encoded. If parameter OPENSSL_RAW_DATA is set, it will be understood as row data.&quot; So undoubtedly the same base64 default is used instead of raw in the encrypt function as well. Yes, PHP OpenSSL library doesn&#39;t adhere to the principle of least surprise. But so does the entire PHP runtime, all the more reason to switch to e.g. Java.","body":"From the notes under the underspecified <code>openssl_decrypt</code> function: &quot;$data can be as the description says raw or base64. If no $option is set (this is, if value of 0 is passed in this parameter), data will be assumed to be base64 encoded. If parameter OPENSSL_RAW_DATA is set, it will be understood as row data.&quot; So undoubtedly the same base64 default is used instead of raw in the encrypt function as well. Yes, PHP OpenSSL library doesn&#39;t adhere to the principle of least surprise. But so does the entire PHP runtime, all the more reason to switch to e.g. Java."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679509327,"creation_date":1679478503,"answer_id":75810645,"question_id":75809131,"body_markdown":"In the PHP code, key and IV are derived using SHA256, hex encoded, and these values are applied UTF-8 encoded as key and IV. The key is *implicitly* truncated to 32 bytes (by `openssl_decrypt()`) and the IV *explicitly* to 16 bytes. In Java, both truncations must be performed *explicitly*, e.g.:\r\n\r\n```java\r\nprivate static String generateSHA256(String passphrase, int size) throws Exception {\r\n\tbyte[] digest = MessageDigest.getInstance(&quot;SHA256&quot;).digest(passphrase.getBytes(StandardCharsets.UTF_8));\r\n\treturn HexFormat.of().formatHex(digest).substring(0,size); // see regarding the hex encoding for older Java versions e.g. here: https://stackoverflow.com/a/9855338/9014097. Note that for compatibility with the PHP code, the implementation must be changed to apply lowercase hex digits.\r\n}\r\n```\r\n\r\nRemark: The PHP code and the `generateSHA256()` implementation above apply lowercase hex digits. For older Java versions that did not support `HexFormat`, care must be taken that the hex encoding also applies lowercase hex digits (this is in particular true for the hex encoding variants from [here][1]).\r\n\r\n------\r\n\r\nFurthermore, in the PHP code the ciphertext is Base64 decoded twice: implicit by default and explicit. As padding PKCS#7 is applied by default. For a detailed description of the default values related to Base64 and padding, see the [*options*][2] parameter and [*constants*][3].  \r\n\r\nA possible Java implementation is as follows:\r\n\r\n```java\r\npublic static String decryptAES256CBC(String cipherText, String keyString, String ivString) throws Exception {\r\n        \r\n    byte [] keyBytes = keyString.getBytes(StandardCharsets.UTF_8);\r\n    byte [] ivBytes = ivString.getBytes(StandardCharsets.UTF_8);\r\n\r\n    SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    IvParameterSpec iv = new IvParameterSpec(ivBytes);\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;); // PKCS#7 padding is called PKCS5 padding in the Java world\r\n    cipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n\r\n    byte [] decodedCipher = java.util.Base64.getDecoder().decode(cipherText);\r\n    byte [] decodedCipher2nd = java.util.Base64.getDecoder().decode(decodedCipher); // 2nd Base64 decoding\r\n    byte[] plainText = cipher.doFinal(decodedCipher2nd);\r\n\r\n    return new String(plainText, StandardCharsets.UTF_8);\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```java\r\nString key = generateSHA256(&quot;secretkey&quot;, 32).substring(0,32);\r\nString iv = generateSHA256(&quot;secretiv&quot;, 16).substring(0,16);\r\nSystem.out.println(decryptAES256CBC(&quot;UTY5b1pGUHYvTW5tL0pJcTVVZktuUT09&quot;, key, iv)); // MXeaSFSUj4az\r\n```\r\n\t\r\nIn accordance with the result of the PHP code.\r\n\r\n-------\r\n\r\nThe PHP code has some vulnerabilities and inefficiencies (even if you can&#39;t change this, it should be noted for future readers):\r\n- For deriving the key, not a fast digest but a key derivation function like Argon2 or at least PBKDF2 should be used.\r\n- The IV should be randomly generated during encryption and passed to the decrypting side (usually concatenated).\r\n- Using the hex encoded value as key reduces security because each byte of 256 possible values are reduced to only 16 values.  \r\nAlso, cross-platform compatibility issues can occur (case sensitivity of the hex digits). \r\n- The double Base64 encoding of the ciphertext is unnecessary and inefficient.\r\n- It looks like the plaintext is Base64 encoded as well. This is not necessary because the algorithms operate on bytes. A base64 encoding only increases the amount of data.\r\n\r\n[1]: https://stackoverflow.com/a/9855338/9014097\r\n[2]: https://www.php.net/manual/en/function.openssl-decrypt.php\r\n[3]: https://www.php.net/manual/en/openssl.constants.other.php","title":"javax.crypto.IllegalBlockSizeException: Input length not multiple of 16 bytes - AES_256/CBC/NoPadding","body":"<p>In the PHP code, key and IV are derived using SHA256, hex encoded, and these values are applied UTF-8 encoded as key and IV. The key is <em>implicitly</em> truncated to 32 bytes (by <code>openssl_decrypt()</code>) and the IV <em>explicitly</em> to 16 bytes. In Java, both truncations must be performed <em>explicitly</em>, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String generateSHA256(String passphrase, int size) throws Exception {\n    byte[] digest = MessageDigest.getInstance(&quot;SHA256&quot;).digest(passphrase.getBytes(StandardCharsets.UTF_8));\n    return HexFormat.of().formatHex(digest).substring(0,size); // see regarding the hex encoding for older Java versions e.g. here: https://stackoverflow.com/a/9855338/9014097. Note that for compatibility with the PHP code, the implementation must be changed to apply lowercase hex digits.\n}\n</code></pre>\n<p>Remark: The PHP code and the <code>generateSHA256()</code> implementation above apply lowercase hex digits. For older Java versions that did not support <code>HexFormat</code>, care must be taken that the hex encoding also applies lowercase hex digits (this is in particular true for the hex encoding variants from <a href=\"https://stackoverflow.com/a/9855338/9014097\">here</a>).</p>\n<hr />\n<p>Furthermore, in the PHP code the ciphertext is Base64 decoded twice: implicit by default and explicit. As padding PKCS#7 is applied by default. For a detailed description of the default values related to Base64 and padding, see the <a href=\"https://www.php.net/manual/en/function.openssl-decrypt.php\" rel=\"nofollow noreferrer\"><em>options</em></a> parameter and <a href=\"https://www.php.net/manual/en/openssl.constants.other.php\" rel=\"nofollow noreferrer\"><em>constants</em></a>.</p>\n<p>A possible Java implementation is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String decryptAES256CBC(String cipherText, String keyString, String ivString) throws Exception {\n        \n    byte [] keyBytes = keyString.getBytes(StandardCharsets.UTF_8);\n    byte [] ivBytes = ivString.getBytes(StandardCharsets.UTF_8);\n\n    SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n    IvParameterSpec iv = new IvParameterSpec(ivBytes);\n\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;); // PKCS#7 padding is called PKCS5 padding in the Java world\n    cipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n    byte [] decodedCipher = java.util.Base64.getDecoder().decode(cipherText);\n    byte [] decodedCipher2nd = java.util.Base64.getDecoder().decode(decodedCipher); // 2nd Base64 decoding\n    byte[] plainText = cipher.doFinal(decodedCipher2nd);\n\n    return new String(plainText, StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String key = generateSHA256(&quot;secretkey&quot;, 32).substring(0,32);\nString iv = generateSHA256(&quot;secretiv&quot;, 16).substring(0,16);\nSystem.out.println(decryptAES256CBC(&quot;UTY5b1pGUHYvTW5tL0pJcTVVZktuUT09&quot;, key, iv)); // MXeaSFSUj4az\n</code></pre>\n<p>In accordance with the result of the PHP code.</p>\n<hr />\n<p>The PHP code has some vulnerabilities and inefficiencies (even if you can't change this, it should be noted for future readers):</p>\n<ul>\n<li>For deriving the key, not a fast digest but a key derivation function like Argon2 or at least PBKDF2 should be used.</li>\n<li>The IV should be randomly generated during encryption and passed to the decrypting side (usually concatenated).</li>\n<li>Using the hex encoded value as key reduces security because each byte of 256 possible values are reduced to only 16 values.<br />\nAlso, cross-platform compatibility issues can occur (case sensitivity of the hex digits).</li>\n<li>The double Base64 encoding of the ciphertext is unnecessary and inefficient.</li>\n<li>It looks like the plaintext is Base64 encoded as well. This is not necessary because the algorithms operate on bytes. A base64 encoding only increases the amount of data.</li>\n</ul>\n"}],"owner":{"account_id":22107235,"reputation":5,"user_id":16362635,"display_name":"Mohamed E."},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75810645,"answer_count":1,"score":0,"last_activity_date":1679509327,"creation_date":1679467768,"question_id":75809131,"body_markdown":"I am trying to decrypt an AES cipher in Java. The cipher was encrypted/decrypted in PHP using the openssl_encrypt/openssl_decrypt function. \r\n\r\nAn example of decryption in PHP looks like this:\r\n\r\n```php\r\nfunction decryptSerial($encrypted_txt){\r\n  $encrypt_method = &#39;AES-256-CBC&#39;;                \r\n  $key = hash(&#39;sha256&#39;, $secret_key);        \r\n\r\n  //iv - encrypt method AES-256-CBC expects 16 bytes - else you will get a warning          \r\n  $iv = substr(hash(&#39;sha256&#39;, $secret_iv), 0, 16);        \r\n\r\n  return openssl_decrypt(base64_decode($encrypted_txt), $encrypt_method, $key, 0, $iv);        \r\n}\r\n\r\necho decryptSerial(&#39;bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09&#39;);  //output is MXeaSFSUj4az\r\n```\r\n\r\nThe PHP code uses AES-256-CBC with no padding to decrypt so I do the same in Java:\r\n\r\n```java\r\npublic static String decryptAES256CBC(String cipherText, String keyString, String ivString){\r\n\ttry {\r\n\t\t// Truncate the key at the first 32 bytes\r\n\t\tbyte [] keyBytes = keyString.substring(0,32).getBytes();\r\n\t\tbyte [] ivBytes = ivString.getBytes();\r\n\r\n\t\tSecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n\t\tIvParameterSpec iv = new IvParameterSpec(ivBytes);\r\n\r\n\t\tCipher cipher = Cipher.getInstance(&quot;AES_256/CBC/NoPadding&quot;);\r\n\t\tcipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n\r\n\t\tbyte [] decodedCipher = java.util.Base64.getDecoder().decode(cipherText);\r\n\t\tbyte[] plainText = cipher.doFinal(decodedCipher);\r\n\r\n\t\treturn java.util.Base64.getEncoder().encodeToString(plainText);\r\n\r\n\t} catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidAlgorithmParameterException |\r\n\t\t\t InvalidKeyException | BadPaddingException | IllegalBlockSizeException e) {\r\n\t\tthrow new RuntimeException(e);\r\n\t}\r\n}\r\n\r\npublic static void main(String [] args){\r\n    String key = generateSHA256(&quot;*****&quot;);\r\n    String iv = generateSHA256(&quot;******&quot;).substring(0,16);\r\n\r\n    System.out.println(decryptAES256CBC(&quot;bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09&quot;, key, iv));\r\n}\r\n```\r\n\r\n\r\n\r\nThis however does not work. When I run it with the example input, I get the error mentioned in the title. It seems like by input cipher is not of the correct length - which is true, when I base64 decode the cipher I get a byte array of length 24 a.k.a not a multiple of 16. This would require padding to get things to work I believe. But then how does the PHP code do it without padding?\r\n\r\nI tried recreating the PHP code in Kava. I researched the openssl_decrypt function and ported its functionality. However, when I ran it in Java, it seems like I need padding. The PHP code used no padding if I am not mistaken.","title":"javax.crypto.IllegalBlockSizeException: Input length not multiple of 16 bytes - AES_256/CBC/NoPadding","body":"<p>I am trying to decrypt an AES cipher in Java. The cipher was encrypted/decrypted in PHP using the openssl_encrypt/openssl_decrypt function.</p>\n<p>An example of decryption in PHP looks like this:</p>\n<pre class=\"lang-php prettyprint-override\"><code>function decryptSerial($encrypted_txt){\n  $encrypt_method = 'AES-256-CBC';                \n  $key = hash('sha256', $secret_key);        \n\n  //iv - encrypt method AES-256-CBC expects 16 bytes - else you will get a warning          \n  $iv = substr(hash('sha256', $secret_iv), 0, 16);        \n\n  return openssl_decrypt(base64_decode($encrypted_txt), $encrypt_method, $key, 0, $iv);        \n}\n\necho decryptSerial('bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09');  //output is MXeaSFSUj4az\n</code></pre>\n<p>The PHP code uses AES-256-CBC with no padding to decrypt so I do the same in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String decryptAES256CBC(String cipherText, String keyString, String ivString){\n    try {\n        // Truncate the key at the first 32 bytes\n        byte [] keyBytes = keyString.substring(0,32).getBytes();\n        byte [] ivBytes = ivString.getBytes();\n\n        SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(ivBytes);\n\n        Cipher cipher = Cipher.getInstance(&quot;AES_256/CBC/NoPadding&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n        byte [] decodedCipher = java.util.Base64.getDecoder().decode(cipherText);\n        byte[] plainText = cipher.doFinal(decodedCipher);\n\n        return java.util.Base64.getEncoder().encodeToString(plainText);\n\n    } catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidAlgorithmParameterException |\n             InvalidKeyException | BadPaddingException | IllegalBlockSizeException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static void main(String [] args){\n    String key = generateSHA256(&quot;*****&quot;);\n    String iv = generateSHA256(&quot;******&quot;).substring(0,16);\n\n    System.out.println(decryptAES256CBC(&quot;bnY0UEc2NFcySHgwRTIyNFU1NU5pUT09&quot;, key, iv));\n}\n</code></pre>\n<p>This however does not work. When I run it with the example input, I get the error mentioned in the title. It seems like by input cipher is not of the correct length - which is true, when I base64 decode the cipher I get a byte array of length 24 a.k.a not a multiple of 16. This would require padding to get things to work I believe. But then how does the PHP code do it without padding?</p>\n<p>I tried recreating the PHP code in Kava. I researched the openssl_decrypt function and ported its functionality. However, when I ran it in Java, it seems like I need padding. The PHP code used no padding if I am not mistaken.</p>\n"},{"tags":["java","redis","metamodel","redisearch"],"answers":[{"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679508950,"creation_date":1679508950,"answer_id":75815925,"question_id":75795755,"body_markdown":"For Gradle, you can add the OM dependency as an annotation processor using the `annotationProcessor` call in the dependencies block like:\r\n\r\n```\r\next {\r\n  redisOmVersion = &#39;0.8.0&#39;\r\n}\r\n\r\ndependencies {\r\n  implementation: &quot;com.redis.om:redis-om-spring:$redisOmVersion&quot;\r\n  annotationProcessor &quot;com.redis.om:redis-om-spring:$redisOmVersion&quot;\r\n}\r\n```\r\n\r\nFor Maven, things normally just work, when you run `./mvnw spring-boot:run`. Some users have experienced this not being the case, in which I recommend to explicitly declaring the `maven-compiler-plugin` in the case below it&#39;s pair with an app create with start.spring.io v3.0.4 (all other versions can be inherited from the parent poms):\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;annotationProcessorPaths&gt;\r\n      &lt;path&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n      &lt;/path&gt;\r\n      &lt;path&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n      &lt;/path&gt;\r\n      &lt;path&gt;\r\n        &lt;groupId&gt;com.redis.om&lt;/groupId&gt;\r\n        &lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.0&lt;/version&gt;\r\n      &lt;/path&gt;\r\n    &lt;/annotationProcessorPaths&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAlso, in case you are using IntelliJ Idea, see\r\nhttps://www.jetbrains.com/help/idea/annotation-processors-support.html#annotation_processing","title":"How to generate MetaModel for Redis Document entity to use in Redis OM EntityStream queries","body":"<p>For Gradle, you can add the OM dependency as an annotation processor using the <code>annotationProcessor</code> call in the dependencies block like:</p>\n<pre><code>ext {\n  redisOmVersion = '0.8.0'\n}\n\ndependencies {\n  implementation: &quot;com.redis.om:redis-om-spring:$redisOmVersion&quot;\n  annotationProcessor &quot;com.redis.om:redis-om-spring:$redisOmVersion&quot;\n}\n</code></pre>\n<p>For Maven, things normally just work, when you run <code>./mvnw spring-boot:run</code>. Some users have experienced this not being the case, in which I recommend to explicitly declaring the <code>maven-compiler-plugin</code> in the case below it's pair with an app create with start.spring.io v3.0.4 (all other versions can be inherited from the parent poms):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n      &lt;/path&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n      &lt;/path&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;com.redis.om&lt;/groupId&gt;\n        &lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\n        &lt;version&gt;0.8.0&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Also, in case you are using IntelliJ Idea, see\n<a href=\"https://www.jetbrains.com/help/idea/annotation-processors-support.html#annotation_processing\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/annotation-processors-support.html#annotation_processing</a></p>\n"}],"owner":{"account_id":9776194,"reputation":41,"user_id":7246131,"display_name":"efk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679508950,"creation_date":1679350027,"question_id":75795755,"body_markdown":"I use Redis OM Spring Entity Streams, which provides a Java 8 Streams interface to Query Redis JSON documents using RediSearch. \r\n\r\nI want to generate a metamodel like Person$ to run the code below. But I couldn&#39;t figure out how to generate the metamodel for the Person document entity. Can you please help me to find out a way to generate the metamodel? Thanks in advance.\r\n\r\n    &gt; // Find people by age range   public Iterable&lt;Person&gt;\r\n    &gt; findByAgeBetween(int minAge, int maxAge) {\r\n    &gt;     return entityStream //\r\n    &gt;         .of(Person.class) //\r\n    &gt;         .filter(Person$.AGE.between(minAge, maxAge)) //\r\n    &gt;         .sorted(Person$.AGE, SortOrder.ASC) //\r\n    &gt;         .collect(Collectors.toList());   }\r\n\r\n","title":"How to generate MetaModel for Redis Document entity to use in Redis OM EntityStream queries","body":"<p>I use Redis OM Spring Entity Streams, which provides a Java 8 Streams interface to Query Redis JSON documents using RediSearch.</p>\n<p>I want to generate a metamodel like Person$ to run the code below. But I couldn't figure out how to generate the metamodel for the Person document entity. Can you please help me to find out a way to generate the metamodel? Thanks in advance.</p>\n<pre><code>&gt; // Find people by age range   public Iterable&lt;Person&gt;\n&gt; findByAgeBetween(int minAge, int maxAge) {\n&gt;     return entityStream //\n&gt;         .of(Person.class) //\n&gt;         .filter(Person$.AGE.between(minAge, maxAge)) //\n&gt;         .sorted(Person$.AGE, SortOrder.ASC) //\n&gt;         .collect(Collectors.toList());   }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26750470,"reputation":51,"user_id":20349918,"display_name":"JJ Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679508913,"creation_date":1679508913,"answer_id":75815917,"question_id":75815114,"body_markdown":"In brief, you should be able to extend your `EventRepository` like so:\r\n```lang-java\r\npublic interface EventRepository extends CrudRepository&lt;Event, Long&gt; {\r\n  public Iterable&lt;Event&gt; findByUser(User user);\r\n}\r\n```\r\n\r\nYou&#39;ll then be able to call the `findByUser` method from your service by passing the user you want to query for.\r\n\r\nI&#39;d recommend taking a look at [Spring JPA](1) and its `JpaRepository`. It extends the functionality of `CrudRepository` with more options such as paging. It also returns `List&lt;&gt;` instead of `Iterable&lt;&gt;`, which if often useful. You can find [further comparisons elsewhere on this site][1] too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring","title":"Spring Boot: How to add a condition to findAll repository method","body":"<p>In brief, you should be able to extend your <code>EventRepository</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EventRepository extends CrudRepository&lt;Event, Long&gt; {\n  public Iterable&lt;Event&gt; findByUser(User user);\n}\n</code></pre>\n<p>You'll then be able to call the <code>findByUser</code> method from your service by passing the user you want to query for.</p>\n<p>I'd recommend taking a look at Spring JPA and its <code>JpaRepository</code>. It extends the functionality of <code>CrudRepository</code> with more options such as paging. It also returns <code>List&lt;&gt;</code> instead of <code>Iterable&lt;&gt;</code>, which if often useful. You can find <a href=\"https://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring\">further comparisons elsewhere on this site</a> too.</p>\n"}],"owner":{"account_id":28075993,"reputation":3,"user_id":21447847,"display_name":"Nicola Giovanni Caddeo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75815917,"answer_count":1,"score":0,"last_activity_date":1679508913,"creation_date":1679503876,"question_id":75815114,"body_markdown":"Probably the question is not correct so I will try to explain the problem well. I&#39;m developing a mini project with spring boot for the creation of a calendar in which any registered user can add events to his calendar.So at the moment I have a page in which I can see the list of all the inserted events, So at the moment I have a page in which I view the list of all the inserted events, but the events are retrieved via the `findAll()` method so each user sees all the events registered in the database. Obviously my goal is to recover from the db only the events of the specific logged in user.When I create an event the foreign key is the user&#39;s id so I just need to figure out how to build the query in spring.\r\n\r\nThis is my User.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private Set&lt;Event&gt; events = new HashSet&lt;Event&gt;();\r\n\r\n}\r\n```\r\nThis is my Event.java\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;events&quot;)\r\npublic class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;event_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;event_title&quot;, nullable = false)\r\n    @NotBlank(message = &quot;Titolo evento obbligatorio&quot;)\r\n    private String eventTitle;\r\n\r\n    @Column(name = &quot;event_description&quot;, nullable = false)\r\n    private String eventDescription;\r\n\r\n    @Column(name = &quot;event_date&quot;, nullable = false)\r\n    @NotBlank(message = &quot;Data evento obbligatoria&quot;)\r\n    private String eventDate;\r\n\r\n    @Column(name = &quot;start_time&quot;, nullable = false)\r\n    @NotNull\r\n    private int startTime;\r\n\r\n    @Column(name = &quot;end_time&quot;, nullable = false)\r\n    @NotNull\r\n    private int endTime;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n}\r\n```\r\nEventRepository:\r\n```\r\npublic interface EventRepository extends CrudRepository&lt;Event, Long&gt; {\r\n\r\n}\r\n```\r\nMethod in the controller to display the event list:\r\n```\r\n @GetMapping(&quot;/day&quot;)\r\n    public String calendar(@AuthenticationPrincipal UserDetails userDetails, Model model) {\r\n        String email = userDetails.getUsername();\r\n        User user = userService.findUserByEmail(email);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        model.addAttribute(&quot;events&quot;, eventRepository.findAll());\r\n        return &quot;day&quot;;\r\n    }\r\n```\r\n\r\nI&#39;m quite newbie with spring so I couldn&#39;t even find anything on the internet, thanks in advance for your help.","title":"Spring Boot: How to add a condition to findAll repository method","body":"<p>Probably the question is not correct so I will try to explain the problem well. I'm developing a mini project with spring boot for the creation of a calendar in which any registered user can add events to his calendar.So at the moment I have a page in which I can see the list of all the inserted events, So at the moment I have a page in which I view the list of all the inserted events, but the events are retrieved via the <code>findAll()</code> method so each user sees all the events registered in the database. Obviously my goal is to recover from the db only the events of the specific logged in user.When I create an event the foreign key is the user's id so I just need to figure out how to build the query in spring.</p>\n<p>This is my User.java</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @Column(nullable = false)\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private Set&lt;Event&gt; events = new HashSet&lt;Event&gt;();\n\n}\n</code></pre>\n<p>This is my Event.java</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;events&quot;)\npublic class Event {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;event_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;event_title&quot;, nullable = false)\n    @NotBlank(message = &quot;Titolo evento obbligatorio&quot;)\n    private String eventTitle;\n\n    @Column(name = &quot;event_description&quot;, nullable = false)\n    private String eventDescription;\n\n    @Column(name = &quot;event_date&quot;, nullable = false)\n    @NotBlank(message = &quot;Data evento obbligatoria&quot;)\n    private String eventDate;\n\n    @Column(name = &quot;start_time&quot;, nullable = false)\n    @NotNull\n    private int startTime;\n\n    @Column(name = &quot;end_time&quot;, nullable = false)\n    @NotNull\n    private int endTime;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user;\n}\n</code></pre>\n<p>EventRepository:</p>\n<pre><code>public interface EventRepository extends CrudRepository&lt;Event, Long&gt; {\n\n}\n</code></pre>\n<p>Method in the controller to display the event list:</p>\n<pre><code> @GetMapping(&quot;/day&quot;)\n    public String calendar(@AuthenticationPrincipal UserDetails userDetails, Model model) {\n        String email = userDetails.getUsername();\n        User user = userService.findUserByEmail(email);\n        model.addAttribute(&quot;user&quot;, user);\n        model.addAttribute(&quot;events&quot;, eventRepository.findAll());\n        return &quot;day&quot;;\n    }\n</code></pre>\n<p>I'm quite newbie with spring so I couldn't even find anything on the internet, thanks in advance for your help.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1679043047,"post_id":75765441,"comment_id":133653486,"body_markdown":"Parse the string to enum or get the `name()` of the enums","body":"Parse the string to enum or get the <code>name()</code> of the enums"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679044449,"creation_date":1679044449,"answer_id":75765702,"question_id":75765441,"body_markdown":"You can use [Stream.map()][1] to turn the string stream into stream of enums in your case:\r\n\r\n&gt; Returns a stream consisting of the results of applying the given function to the elements of this stream.\r\n\r\nI would add a more liberal parsing method to `States`, which returns `null`, if string can&#39;t be parsed, instead of throwing exception to keep the stream pipeline clean. One possible implementation:\r\n```\r\npublic enum States {\r\n  stateA,\r\n  stateB,\r\n  stateC;\r\n\r\n  public static States liberalParse(String string) {\r\n    try {\r\n      return States.valueOf(string);\r\n    } catch (Exception exc) {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n```\r\nThe stream:\r\n```\r\nboolean isStateValid = Arrays.stream(potentialStates)\r\n            .map(States::liberalParse)\r\n            .filter(Objects::nonNull)\r\n            .anyMatch(statesSet::contains);\r\n```\r\nNot related to the actual question, but according to java conventions, enum names should be like this - `STATE_A`, `STATE_B`, etc.\r\n\r\nAlso the enum should be named `State` (singular), since one instance of it (`STATE_A`) represents one state.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-","title":"Java compare string array with enumset","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">Stream.map()</a> to turn the string stream into stream of enums in your case:</p>\n<blockquote>\n<p>Returns a stream consisting of the results of applying the given function to the elements of this stream.</p>\n</blockquote>\n<p>I would add a more liberal parsing method to <code>States</code>, which returns <code>null</code>, if string can't be parsed, instead of throwing exception to keep the stream pipeline clean. One possible implementation:</p>\n<pre><code>public enum States {\n  stateA,\n  stateB,\n  stateC;\n\n  public static States liberalParse(String string) {\n    try {\n      return States.valueOf(string);\n    } catch (Exception exc) {\n      return null;\n    }\n  }\n}\n</code></pre>\n<p>The stream:</p>\n<pre><code>boolean isStateValid = Arrays.stream(potentialStates)\n            .map(States::liberalParse)\n            .filter(Objects::nonNull)\n            .anyMatch(statesSet::contains);\n</code></pre>\n<p>Not related to the actual question, but according to java conventions, enum names should be like this - <code>STATE_A</code>, <code>STATE_B</code>, etc.</p>\n<p>Also the enum should be named <code>State</code> (singular), since one instance of it (<code>STATE_A</code>) represents one state.</p>\n"},{"tags":[],"owner":{"account_id":9121546,"reputation":41,"user_id":6786808,"display_name":"tuine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679045346,"creation_date":1679045346,"answer_id":75765840,"question_id":75765441,"body_markdown":"You can directly convert the strings to `ConvTypeEnum` enum values and use them in conjunction with a `try-catch` block.\r\n\r\n    boolean isStateValid = Arrays.stream(potentialStates)\r\n        .anyMatch(state -&gt; {\r\n            try {\r\n                return statesSet.contains(States.valueOf(state));\r\n            } catch (IllegalArgumentException e) {\r\n                return false;\r\n            }\r\n        });","title":"Java compare string array with enumset","body":"<p>You can directly convert the strings to <code>ConvTypeEnum</code> enum values and use them in conjunction with a <code>try-catch</code> block.</p>\n<pre><code>boolean isStateValid = Arrays.stream(potentialStates)\n    .anyMatch(state -&gt; {\n        try {\n            return statesSet.contains(States.valueOf(state));\n        } catch (IllegalArgumentException e) {\n            return false;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25865099,"reputation":29,"user_id":19596924,"display_name":"VataL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679508294,"creation_date":1679042855,"question_id":75765441,"body_markdown":"I got a set of enums eg.\r\n```lang-java\r\n    EnumSet&lt;States&gt; statesSet = EnumSet.allOf(States.class); \r\n```\r\nwith\r\n```lang-java\r\n    Public enum States{\r\n         stateA,\r\n         stateB,\r\n         stateC\r\n    }\r\n```\r\nand I have a String Array that may contain one of the enum values eg.\r\n```lang-java\r\n    String[] potentialStates = new String[] {xyz, stateA, abc};\r\n```\r\nNow I need to compare if any of the strings inside the array matches a enum value\r\n\r\nIn order to do that I created a stream\r\n```lang-java\r\n    boolean isStateValid = Arrays.stream(potentialStates).anyMatch(statesSet::contains);\r\n```\r\nSince I&#39;m comparing Strings to Enums there is no match I know.\r\nBut I&#39;m having a hard time converting the String array to an enum set\r\nIs there an easy way to do so ?","title":"Java compare string array with enumset","body":"<p>I got a set of enums eg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    EnumSet&lt;States&gt; statesSet = EnumSet.allOf(States.class); \n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Public enum States{\n         stateA,\n         stateB,\n         stateC\n    }\n</code></pre>\n<p>and I have a String Array that may contain one of the enum values eg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String[] potentialStates = new String[] {xyz, stateA, abc};\n</code></pre>\n<p>Now I need to compare if any of the strings inside the array matches a enum value</p>\n<p>In order to do that I created a stream</p>\n<pre class=\"lang-java prettyprint-override\"><code>    boolean isStateValid = Arrays.stream(potentialStates).anyMatch(statesSet::contains);\n</code></pre>\n<p>Since I'm comparing Strings to Enums there is no match I know.\nBut I'm having a hard time converting the String array to an enum set\nIs there an easy way to do so ?</p>\n"},{"tags":["java","graph","jung"],"comments":[{"owner":{"account_id":336919,"reputation":2704,"user_id":664856,"display_name":"Joshua O&#39;Madadhain"},"score":0,"creation_date":1679344125,"post_id":75783941,"comment_id":133702145,"body_markdown":"What clusters are you referring to?  Please provide more context.","body":"What clusters are you referring to?  Please provide more context."},{"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"score":0,"creation_date":1679507289,"post_id":75783941,"comment_id":133736029,"body_markdown":"Hi @JoshuaO&#39;Madadhain, i found an approach for my problem. But at the moment i got the exception. Because i don&#39;t know max count of the vertexes or edges.","body":"Hi @JoshuaO&#39;Madadhain, i found an approach for my problem. But at the moment i got the exception. Because i don&#39;t know max count of the vertexes or edges."},{"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"score":0,"creation_date":1679507359,"post_id":75783941,"comment_id":133736045,"body_markdown":"After every restart of my example. The Cluster or the max count of vertexes and edges can be different. In my case i need a found like graph.size or graph.length","body":"After every restart of my example. The Cluster or the max count of vertexes and edges can be different. In my case i need a found like graph.size or graph.length"},{"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"score":0,"creation_date":1679507944,"post_id":75783941,"comment_id":133736207,"body_markdown":"Hi @JoshuaO&#39;Madadhain, i found in the last 5min a solution max count edges. graph.edgeSet().size()   I will check my approach and come back.","body":"Hi @JoshuaO&#39;Madadhain, i found in the last 5min a solution max count edges. graph.edgeSet().size()   I will check my approach and come back."},{"owner":{"account_id":336919,"reputation":2704,"user_id":664856,"display_name":"Joshua O&#39;Madadhain"},"score":0,"creation_date":1679622452,"post_id":75783941,"comment_id":133758695,"body_markdown":"You need to phrase your questions in a way that helps people understand the problem that you&#39;re trying to solve.  Providing a code example can help, but only if the code is actually connected to what you&#39;re doing.  In this case:\n(a) you don&#39;t explain what you mean by a cluster\n(b) you don&#39;t explain why you need the cluster size\n(c) you don&#39;t describe the exception you&#39;re getting, or what appears to be triggering it\nAs it is, you&#39;re not really getting help because your problem is unclear.\nI recommend checking out https://stackoverflow.com/help/how-to-ask before asking further questions.","body":"You need to phrase your questions in a way that helps people understand the problem that you&#39;re trying to solve.  Providing a code example can help, but only if the code is actually connected to what you&#39;re doing.  In this case: (a) you don&#39;t explain what you mean by a cluster (b) you don&#39;t explain why you need the cluster size (c) you don&#39;t describe the exception you&#39;re getting, or what appears to be triggering it As it is, you&#39;re not really getting help because your problem is unclear. I recommend checking out <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> before asking further questions."}],"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679507167,"creation_date":1679248657,"question_id":75783941,"body_markdown":"at the moment, I&#39;m searching for a possibility to get all targets Vertex labels of one cluster. I&#39;m using the radial layout and i know the  function&#39;s getEdgeTargets and getEdgeSource. But How can i find all targets Vertex labels in multiple clusters. \r\n\r\n    for(int i = 0; i &lt; 100; i++)\r\n\t\t{ // check the last added cluster the edge count. Because edge count = Nodes Count\r\n\t\t\tif(cluster.graph.containsEdge(cluster.graph.getEdge(nodesList.get(nodesList.size()-1).getNodename() ,cluster.graph.getEdgeTarget(i)))&amp;&amp;\r\n\t\t\t\tNodecnt &lt;\tcluster.graph.getEdge(nodesList.get(nodesList.size()-1).getNodename() ,cluster.graph.getEdgeTarget(i)))\r\n\t\t\t{\r\n\t\t\t\tNodecnt = cluster.graph.getEdge(nodesList.get(nodesList.size()-1).getNodename() ,cluster.graph.getEdgeTarget(i));\r\n\r\n\t\t\t}\r\n\t\t}","title":"JUNG get all target vertex labels from the Cluster","body":"<p>at the moment, I'm searching for a possibility to get all targets Vertex labels of one cluster. I'm using the radial layout and i know the  function's getEdgeTargets and getEdgeSource. But How can i find all targets Vertex labels in multiple clusters.</p>\n<pre><code>for(int i = 0; i &lt; 100; i++)\n    { // check the last added cluster the edge count. Because edge count = Nodes Count\n        if(cluster.graph.containsEdge(cluster.graph.getEdge(nodesList.get(nodesList.size()-1).getNodename() ,cluster.graph.getEdgeTarget(i)))&amp;&amp;\n            Nodecnt &lt;   cluster.graph.getEdge(nodesList.get(nodesList.size()-1).getNodename() ,cluster.graph.getEdgeTarget(i)))\n        {\n            Nodecnt = cluster.graph.getEdge(nodesList.get(nodesList.size()-1).getNodename() ,cluster.graph.getEdgeTarget(i));\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","registry","openmq"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679538776,"post_id":75815616,"comment_id":133741334,"body_markdown":"Eclipse Adoptium OpenJDK for Windows(https://mobac.sourceforge.io/OpenJDK/), please enable the two options: (1) Set JAVA_HOME variable (2) JavaSoft (Oracle) registry keys. (image https://mobac.sourceforge.io/OpenJDK/OpenJDK.png )","body":"Eclipse Adoptium OpenJDK for Windows(<a href=\"https://mobac.sourceforge.io/OpenJDK/\" rel=\"nofollow noreferrer\">mobac.sourceforge.io/OpenJDK</a>), please enable the two options: (1) Set JAVA_HOME variable (2) JavaSoft (Oracle) registry keys. (image <a href=\"https://mobac.sourceforge.io/OpenJDK/OpenJDK.png\" rel=\"nofollow noreferrer\">mobac.sourceforge.io/OpenJDK/OpenJDK.png</a> )"}],"owner":{"account_id":25811989,"reputation":1,"user_id":19552582,"display_name":"Eiron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679506967,"creation_date":1679506967,"question_id":75815616,"body_markdown":"I&#39;m trying to install openmq 4.5 on win11 but I&#39;m getting the error: \r\n\r\n**invalid root in registry key &quot;HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\CurrentVersion&quot;**\r\n\r\nI went to HKEY_LOCAL_MACHINE/SOFTWARE/JavaSoft in my registry and realized that there&#39;s no &#39;Java Runtime Environment&#39; folder, is this normal? is it related to my problem? if so, how do I fix it?  \r\n\r\nThe only folder in my JavaSoft registry is named JDK and contains another one named 17.0.6.\r\n\r\nI have JDK 17, 1.7 and 7 installed, when I run &quot;java -version&quot; I get: \r\n\r\n`java version &quot;17.0.6&quot; 2023-01-17 LTS Java(TM) SE Runtime Environment (build 17.0.6+9-LTS-190) Java HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)`\r\n\r\nI dont know if this is related but I also tried to run openmq 5.1 on the same PC (win11) with the command &quot;**imqbrokerd -vmargs  &quot;-d64 -Xms256M -Xmx1024M&quot;**&quot; and nothing happens, in the task manager I can see the processes imqbrokerd and imqbrokersvc starting but being killed in like 2 seconds without any warnings or errors or any type of logs. I&#39;ve been searching a solution all day and found nothing, please help :(","title":"error: invalid root in registry key &quot;HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\CurrentVersion&quot;","body":"<p>I'm trying to install openmq 4.5 on win11 but I'm getting the error:</p>\n<p><strong>invalid root in registry key &quot;HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\CurrentVersion&quot;</strong></p>\n<p>I went to HKEY_LOCAL_MACHINE/SOFTWARE/JavaSoft in my registry and realized that there's no 'Java Runtime Environment' folder, is this normal? is it related to my problem? if so, how do I fix it?</p>\n<p>The only folder in my JavaSoft registry is named JDK and contains another one named 17.0.6.</p>\n<p>I have JDK 17, 1.7 and 7 installed, when I run &quot;java -version&quot; I get:</p>\n<p><code>java version &quot;17.0.6&quot; 2023-01-17 LTS Java(TM) SE Runtime Environment (build 17.0.6+9-LTS-190) Java HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)</code></p>\n<p>I dont know if this is related but I also tried to run openmq 5.1 on the same PC (win11) with the command &quot;<strong>imqbrokerd -vmargs  &quot;-d64 -Xms256M -Xmx1024M&quot;</strong>&quot; and nothing happens, in the task manager I can see the processes imqbrokerd and imqbrokersvc starting but being killed in like 2 seconds without any warnings or errors or any type of logs. I've been searching a solution all day and found nothing, please help :(</p>\n"},{"tags":["java","android","back-button"],"comments":[{"owner":{"account_id":1694376,"reputation":1455,"user_id":1556088,"accept_rate":86,"display_name":"resource8218"},"score":0,"creation_date":1378458726,"post_id":8430805,"comment_id":27468267,"body_markdown":"[Android - Confirm app exit with toast]\n\n\n  [1]: http://stackoverflow.com/questions/14006461/android-confirm-app-exit-with-toast/18654014#18654014","body":"[Android - Confirm app exit with toast]     [1]: <a href=\"http://stackoverflow.com/questions/14006461/android-confirm-app-exit-with-toast/18654014#18654014\" title=\"android confirm app exit with toast\">stackoverflow.com/questions/14006461/&hellip;</a>"},{"owner":{"account_id":1428472,"reputation":657,"user_id":1351433,"accept_rate":80,"display_name":"Sohayb Hassoun"},"score":1,"creation_date":1378910641,"post_id":8430805,"comment_id":34013841,"body_markdown":"I had the same problem when using the HoloEverywhere Library, too simply you can add android:launchMode=&quot;singleTask&quot; to you activity definition in the manifest file.","body":"I had the same problem when using the HoloEverywhere Library, too simply you can add android:launchMode=&quot;singleTask&quot; to you activity definition in the manifest file."},{"owner":{"account_id":4232985,"reputation":2632,"user_id":3464919,"display_name":"Codelaby"},"score":0,"creation_date":1455722397,"post_id":8430805,"comment_id":58617483,"body_markdown":"Other solution http://stackoverflow.com/questions/8430805/android-clicking-twice-the-back-button-to-exit-activity","body":"Other solution <a href=\"http://stackoverflow.com/questions/8430805/android-clicking-twice-the-back-button-to-exit-activity\" title=\"android clicking twice the back button to exit activity\">stackoverflow.com/questions/8430805/&hellip;</a>"},{"owner":{"account_id":14351409,"reputation":1024,"user_id":10366757,"display_name":"Prabh deep"},"score":1,"creation_date":1559538229,"post_id":8430805,"comment_id":99437767,"body_markdown":"Possible duplicate of [clicking on the android back button twice to exit the app](https://stackoverflow.com/questions/26581427/clicking-on-the-android-back-button-twice-to-exit-the-app)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26581427/clicking-on-the-android-back-button-twice-to-exit-the-app\">clicking on the android back button twice to exit the app</a>"}],"answers":[{"tags":[],"owner":{"account_id":201896,"reputation":57765,"user_id":448625,"accept_rate":96,"display_name":"Caner"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1323346291,"creation_date":1323346291,"answer_id":8430830,"question_id":8430805,"body_markdown":"It&#39;s not a built in functionality. I think it is not even the recommended behavior. Android apps are not meant to exit:\r\n\r\nhttps://stackoverflow.com/questions/2439978/why-dont-android-applications-provide-an-exit-option","title":"Clicking the back button twice to exit an activity","body":"<p>It's not a built in functionality. I think it is not even the recommended behavior. Android apps are not meant to exit:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2439978/why-dont-android-applications-provide-an-exit-option\">Why dont Android applications provide an &quot;Exit&quot; option?</a></p>\n"},{"tags":[],"owner":{"account_id":940484,"reputation":22724,"user_id":968632,"accept_rate":100,"display_name":"Guillaume"},"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1323386349,"creation_date":1323386349,"answer_id":8439119,"question_id":8430805,"body_markdown":"Just thought I would share how I did it in the end, I just added in my activity:\r\n\r\n    private boolean doubleBackToExitPressedOnce = false;\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        // .... other stuff in my onResume ....\r\n        this.doubleBackToExitPressedOnce = false;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (doubleBackToExitPressedOnce) {\r\n            super.onBackPressed();\r\n            return;\r\n        }\r\n        this.doubleBackToExitPressedOnce = true;\r\n        Toast.makeText(this, R.string.exit_press_back_twice_message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\nAnd it just works exactly as I want. Including the reset of the state whenever the activity is resumed.","title":"Clicking the back button twice to exit an activity","body":"<p>Just thought I would share how I did it in the end, I just added in my activity:</p>\n\n<pre><code>private boolean doubleBackToExitPressedOnce = false;\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    // .... other stuff in my onResume ....\n    this.doubleBackToExitPressedOnce = false;\n}\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, R.string.exit_press_back_twice_message, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>And it just works exactly as I want. Including the reset of the state whenever the activity is resumed.</p>\n"},{"tags":[],"owner":{"account_id":284533,"reputation":11043,"user_id":582699,"display_name":"Sudheesh B Nair"},"down_vote_count":7,"up_vote_count":1071,"is_accepted":true,"score":1064,"last_activity_date":1625202210,"creation_date":1353997978,"answer_id":13578600,"question_id":8430805,"body_markdown":"&gt; In Java Activity:\r\n\r\n    boolean doubleBackToExitPressedOnce = false;\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (doubleBackToExitPressedOnce) {\r\n            super.onBackPressed();\r\n            return;\r\n        }\r\n            \r\n        this.doubleBackToExitPressedOnce = true;\r\n        Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n            \r\n        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n            \r\n            @Override\r\n            public void run() {\r\n                doubleBackToExitPressedOnce=false;                       \r\n            }\r\n        }, 2000);\r\n    } \r\n\r\n&gt; In Kotlin Activity:\r\n\r\n    private var doubleBackToExitPressedOnce = false\r\n    override fun onBackPressed() {\r\n            if (doubleBackToExitPressedOnce) {\r\n                super.onBackPressed()\r\n                return\r\n            }\r\n    \r\n            this.doubleBackToExitPressedOnce = true\r\n            Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show()\r\n    \r\n            Handler(Looper.getMainLooper()).postDelayed(Runnable { doubleBackToExitPressedOnce = false }, 2000)\r\n        }\r\n\r\nI Think this handler helps to reset the variable after 2 second.\r\n","title":"Clicking the back button twice to exit an activity","body":"<blockquote>\n<p>In Java Activity:</p>\n</blockquote>\n<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n        \n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\n        \n    new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n        \n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;                       \n        }\n    }, 2000);\n} \n</code></pre>\n<blockquote>\n<p>In Kotlin Activity:</p>\n</blockquote>\n<pre><code>private var doubleBackToExitPressedOnce = false\noverride fun onBackPressed() {\n        if (doubleBackToExitPressedOnce) {\n            super.onBackPressed()\n            return\n        }\n\n        this.doubleBackToExitPressedOnce = true\n        Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show()\n\n        Handler(Looper.getMainLooper()).postDelayed(Runnable { doubleBackToExitPressedOnce = false }, 2000)\n    }\n</code></pre>\n<p>I Think this handler helps to reset the variable after 2 second.</p>\n"},{"tags":[],"owner":{"account_id":1443911,"reputation":741,"user_id":1363132,"display_name":"vHow"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1356766302,"creation_date":1356766302,"answer_id":14079705,"question_id":8430805,"body_markdown":"**Process Flow Diagram:**\r\n![Press again to exit.][1]\r\n\r\n  [1]: http://i.stack.imgur.com/N1Ztl.png\r\n\r\n**Java Code:**\r\n\r\n\tprivate long lastPressedTime;\r\n\tprivate static final int PERIOD = 2000;\r\n\t\r\n\t@Override\r\n\tpublic boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\t\tif (event.getKeyCode() == KeyEvent.KEYCODE_BACK) {\r\n\t\t\tswitch (event.getAction()) {\r\n\t\t\tcase KeyEvent.ACTION_DOWN:\r\n\t\t\t\tif (event.getDownTime() - lastPressedTime &lt; PERIOD) {\r\n\t\t\t\t\tfinish();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tToast.makeText(getApplicationContext(), &quot;Press again to exit.&quot;,\r\n\t\t\t\t\t\t\tToast.LENGTH_SHORT).show();\r\n\t\t\t\t\tlastPressedTime = event.getEventTime();\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"Clicking the back button twice to exit an activity","body":"<p><strong>Process Flow Diagram:</strong>\n<img src=\"https://i.stack.imgur.com/N1Ztl.png\" alt=\"Press again to exit.\"></p>\n\n<p><strong>Java Code:</strong></p>\n\n<pre><code>private long lastPressedTime;\nprivate static final int PERIOD = 2000;\n\n@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n    if (event.getKeyCode() == KeyEvent.KEYCODE_BACK) {\n        switch (event.getAction()) {\n        case KeyEvent.ACTION_DOWN:\n            if (event.getDownTime() - lastPressedTime &lt; PERIOD) {\n                finish();\n            } else {\n                Toast.makeText(getApplicationContext(), \"Press again to exit.\",\n                        Toast.LENGTH_SHORT).show();\n                lastPressedTime = event.getEventTime();\n            }\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1922426,"reputation":913,"user_id":1733576,"accept_rate":50,"display_name":"Chris Rohit Brendan"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1524268774,"creation_date":1366352238,"answer_id":16098431,"question_id":8430805,"body_markdown":"I know this is a very old question, but this is the easiest way to do what you want.\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n       ++k; //initialise k when you first start your activity.\r\n       if(k==1){\r\n          //do whatever you want to do on first click for example:\r\n          Toast.makeText(this, &quot;Press back one more time to exit&quot;, Toast.LENGTH_LONG).show();\r\n       }else{\r\n          //do whatever you want to do on the click after the first for example:\r\n          finish(); \r\n       }\r\n    }\r\n\r\nI know this isn&#39;t the best method, but it works fine!","title":"Clicking the back button twice to exit an activity","body":"<p>I know this is a very old question, but this is the easiest way to do what you want.</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n   ++k; //initialise k when you first start your activity.\n   if(k==1){\n      //do whatever you want to do on first click for example:\n      Toast.makeText(this, \"Press back one more time to exit\", Toast.LENGTH_LONG).show();\n   }else{\n      //do whatever you want to do on the click after the first for example:\n      finish(); \n   }\n}\n</code></pre>\n\n<p>I know this isn't the best method, but it works fine!</p>\n"},{"tags":[],"owner":{"account_id":1348445,"reputation":15358,"user_id":1288725,"accept_rate":60,"display_name":"Mehul Joisar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1391413418,"creation_date":1391413418,"answer_id":21522048,"question_id":8430805,"body_markdown":"Based upon the correct answer and suggestions in comments, I have created a demo which works absolutely fine and removes the handler callbacks after being used.\r\n\r\n**MainActivity.java**\r\n\r\n\r\n    package com.mehuljoisar.d_pressbacktwicetoexit;\r\n    \r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.app.Activity;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \t\r\n    \tprivate static final long delay = 2000L;\r\n    \tprivate boolean mRecentlyBackPressed = false;\r\n    \tprivate Handler mExitHandler = new Handler();\r\n    \tprivate Runnable mExitRunnable = new Runnable() {\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tmRecentlyBackPressed=false;   \r\n    \t\t}\r\n    \t};\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void onBackPressed() {\r\n    \t\t\r\n    \t\t//You may also add condition if (doubleBackToExitPressedOnce || fragmentManager.getBackStackEntryCount() != 0) // in case of Fragment-based add\r\n    \t\tif (mRecentlyBackPressed) {\r\n    \t\t\tmExitHandler.removeCallbacks(mExitRunnable);\r\n    \t\t\tmExitHandler = null;\r\n                super.onBackPressed();\r\n            }\r\n    \t\telse\r\n    \t\t{\r\n    \t        mRecentlyBackPressed = true;\r\n    \t        Toast.makeText(this, &quot;press again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n    \t        mExitHandler.postDelayed(mExitRunnable, delay);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nI hope it will be helpful !!","title":"Clicking the back button twice to exit an activity","body":"<p>Based upon the correct answer and suggestions in comments, I have created a demo which works absolutely fine and removes the handler callbacks after being used.</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>package com.mehuljoisar.d_pressbacktwicetoexit;\n\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.app.Activity;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity {\n\n    private static final long delay = 2000L;\n    private boolean mRecentlyBackPressed = false;\n    private Handler mExitHandler = new Handler();\n    private Runnable mExitRunnable = new Runnable() {\n\n        @Override\n        public void run() {\n            mRecentlyBackPressed=false;   \n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        //You may also add condition if (doubleBackToExitPressedOnce || fragmentManager.getBackStackEntryCount() != 0) // in case of Fragment-based add\n        if (mRecentlyBackPressed) {\n            mExitHandler.removeCallbacks(mExitRunnable);\n            mExitHandler = null;\n            super.onBackPressed();\n        }\n        else\n        {\n            mRecentlyBackPressed = true;\n            Toast.makeText(this, \"press again to exit\", Toast.LENGTH_SHORT).show();\n            mExitHandler.postDelayed(mExitRunnable, delay);\n        }\n    }\n\n}\n</code></pre>\n\n<p>I hope it will be helpful !!</p>\n"},{"tags":[],"owner":{"account_id":1767541,"reputation":5220,"user_id":1628280,"accept_rate":90,"display_name":"Saro Taşciyan"},"down_vote_count":0,"up_vote_count":255,"is_accepted":false,"score":255,"last_activity_date":1430939463,"creation_date":1394559291,"answer_id":22332291,"question_id":8430805,"body_markdown":"[Sudheesh B Nair][1]&#39;s has a nice (and accepted) answer on the question, which i think should have a better alternative such as;\r\n\r\nWhat&#39;s wrong with measuring time passed and checking if `TIME_INTERVAL` miliseconds (say 2000) passed since the last back press. The following sample code uses `System.currentTimeMillis();` to store the time `onBackPressed()` is called;\r\n\r\n    private static final int TIME_INTERVAL = 2000; // # milliseconds, desired time passed between two back presses.\r\n    private long mBackPressed;\r\n    \r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        if (mBackPressed + TIME_INTERVAL &gt; System.currentTimeMillis()) \r\n        { \r\n            super.onBackPressed(); \r\n            return;\r\n        }\r\n        else { Toast.makeText(getBaseContext(), &quot;Tap back button in order to exit&quot;, Toast.LENGTH_SHORT).show(); }\r\n\r\n        mBackPressed = System.currentTimeMillis();\r\n    }\r\n\r\n---\r\n\r\nBack on accepted answer *critique*; Using a **`flag`** to indicate if it was pressed in last `TIME_INTERVAL` (say 2000) milliseconds and *set - reset* is via `Handler`&#39;s `postDelayed()` method was the first thing to come in my mind. But the `postDelayed()` action should be cancelled when activity is closing, removing the `Runnable`.\r\n\r\nIn order to remove the `Runnable`, it must not be declared *anonymous*, and be declared as member along with the `Handler` aswell. Then `removeCallbacks()` method of `Handler` can be called appropriately.\r\n\r\nThe following sample is the demonstration;\r\n\r\n    private boolean doubleBackToExitPressedOnce;\r\n    private Handler mHandler = new Handler();\r\n\r\n    private final Runnable mRunnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            doubleBackToExitPressedOnce = false;                       \r\n        }\r\n    };\r\n\r\n    @Override \r\n    protected void onDestroy() \r\n    { \r\n\t    super.onDestroy();\r\n\r\n        if (mHandler != null) { mHandler.removeCallbacks(mRunnable); }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (doubleBackToExitPressedOnce) {\r\n            super.onBackPressed();\r\n            return;\r\n        }\r\n     \r\n        this.doubleBackToExitPressedOnce = true;\r\n        Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n \r\n        mHandler.postDelayed(mRunnable, 2000);\r\n    }\r\n\r\n---\r\n\r\nThanks to @NSouth for contributing; In order to prevent _toast message_ appearing even after the application is closed, `Toast` can be declared as a member - say `mExitToast` - and can be cancelled via `mExitToast.cancel();` just before `super.onBackPressed();` call.\r\n\r\n  [1]: https://stackoverflow.com/questions/8430805/android-clicking-twice-the-back-button-to-exit-activity/13578600#13578600","title":"Clicking the back button twice to exit an activity","body":"<p><a href=\"https://stackoverflow.com/questions/8430805/android-clicking-twice-the-back-button-to-exit-activity/13578600#13578600\">Sudheesh B Nair</a>'s has a nice (and accepted) answer on the question, which i think should have a better alternative such as;</p>\n\n<p>What's wrong with measuring time passed and checking if <code>TIME_INTERVAL</code> miliseconds (say 2000) passed since the last back press. The following sample code uses <code>System.currentTimeMillis();</code> to store the time <code>onBackPressed()</code> is called;</p>\n\n<pre><code>private static final int TIME_INTERVAL = 2000; // # milliseconds, desired time passed between two back presses.\nprivate long mBackPressed;\n\n@Override\npublic void onBackPressed()\n{\n    if (mBackPressed + TIME_INTERVAL &gt; System.currentTimeMillis()) \n    { \n        super.onBackPressed(); \n        return;\n    }\n    else { Toast.makeText(getBaseContext(), \"Tap back button in order to exit\", Toast.LENGTH_SHORT).show(); }\n\n    mBackPressed = System.currentTimeMillis();\n}\n</code></pre>\n\n<hr>\n\n<p>Back on accepted answer <em>critique</em>; Using a <strong><code>flag</code></strong> to indicate if it was pressed in last <code>TIME_INTERVAL</code> (say 2000) milliseconds and <em>set - reset</em> is via <code>Handler</code>'s <code>postDelayed()</code> method was the first thing to come in my mind. But the <code>postDelayed()</code> action should be cancelled when activity is closing, removing the <code>Runnable</code>.</p>\n\n<p>In order to remove the <code>Runnable</code>, it must not be declared <em>anonymous</em>, and be declared as member along with the <code>Handler</code> aswell. Then <code>removeCallbacks()</code> method of <code>Handler</code> can be called appropriately.</p>\n\n<p>The following sample is the demonstration;</p>\n\n<pre><code>private boolean doubleBackToExitPressedOnce;\nprivate Handler mHandler = new Handler();\n\nprivate final Runnable mRunnable = new Runnable() {\n    @Override\n    public void run() {\n        doubleBackToExitPressedOnce = false;                       \n    }\n};\n\n@Override \nprotected void onDestroy() \n{ \n    super.onDestroy();\n\n    if (mHandler != null) { mHandler.removeCallbacks(mRunnable); }\n}\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    mHandler.postDelayed(mRunnable, 2000);\n}\n</code></pre>\n\n<hr>\n\n<p>Thanks to @NSouth for contributing; In order to prevent <em>toast message</em> appearing even after the application is closed, <code>Toast</code> can be declared as a member - say <code>mExitToast</code> - and can be cancelled via <code>mExitToast.cancel();</code> just before <code>super.onBackPressed();</code> call.</p>\n"},{"tags":[],"owner":{"account_id":2744869,"reputation":2363,"user_id":2365507,"display_name":"Sai Aditya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395728570,"creation_date":1395727377,"answer_id":22626586,"question_id":8430805,"body_markdown":"\r\n\r\n\r\n    @Override public void onBackPressed() {\r\n       Log.d(&quot;CDA&quot;, &quot;onBackPressed Called&quot;);\r\n       Intent intent = new Intent();\r\n       intent.setAction(Intent.ACTION_MAIN);\r\n       intent.addCategory(Intent.CATEGORY_HOME);\r\n\r\n       startActivity(intent);\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<pre><code>@Override public void onBackPressed() {\n   Log.d(\"CDA\", \"onBackPressed Called\");\n   Intent intent = new Intent();\n   intent.setAction(Intent.ACTION_MAIN);\n   intent.addCategory(Intent.CATEGORY_HOME);\n\n   startActivity(intent);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1397716757,"creation_date":1397716757,"answer_id":23126219,"question_id":8430805,"body_markdown":"[Zefnus][1]&#39;s answer using System.currentTimeMillis() is the best one (+1). The way I did it is **not** better than that, but still posting it to add to the above ideas.\r\n\r\nIf the toast is not visible when the back button is pressed, the toast is displayed, whereas, if it is visible (back has already been pressed once within the last `Toast.LENGTH_SHORT` time), then it exits.\r\n\r\n    exitToast = Toast.makeText(this, &quot;Press again to exit&quot;,\tToast.LENGTH_SHORT);\r\n    .\r\n    .\r\n    @Override\r\n    public void onBackPressed() {\r\n       if (exitToast.getView().getWindowToken() == null) //if toast is currently not visible\r\n          exitToast.show();  //then show toast saying &#39;press againt to exit&#39;\r\n       else {                                            //if toast is visible then\r\n          finish();                                      //or super.onBackPressed();\r\n          exitToast.cancel();\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22332291/1039555","title":"Clicking the back button twice to exit an activity","body":"<p><a href=\"https://stackoverflow.com/a/22332291/1039555\">Zefnus</a>'s answer using System.currentTimeMillis() is the best one (+1). The way I did it is <strong>not</strong> better than that, but still posting it to add to the above ideas.</p>\n\n<p>If the toast is not visible when the back button is pressed, the toast is displayed, whereas, if it is visible (back has already been pressed once within the last <code>Toast.LENGTH_SHORT</code> time), then it exits.</p>\n\n<pre><code>exitToast = Toast.makeText(this, \"Press again to exit\", Toast.LENGTH_SHORT);\n.\n.\n@Override\npublic void onBackPressed() {\n   if (exitToast.getView().getWindowToken() == null) //if toast is currently not visible\n      exitToast.show();  //then show toast saying 'press againt to exit'\n   else {                                            //if toast is visible then\n      finish();                                      //or super.onBackPressed();\n      exitToast.cancel();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2065950,"reputation":25914,"user_id":1841457,"accept_rate":65,"display_name":"Chintan Rathod"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1527830812,"creation_date":1400913566,"answer_id":23842058,"question_id":8430805,"body_markdown":"There is very simplest way among all these answers.\r\n\r\nSimply write following code inside `onBackPressed()` method.\r\n\r\n    long back_pressed;\r\n\r\n\t@Override\r\n\tpublic void onBackPressed() {\r\n\t\tif (back_pressed + 1000 &gt; System.currentTimeMillis()){\r\n\t\t\tsuper.onBackPressed();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tToast.makeText(getBaseContext(),\r\n\t\t\t\t\t&quot;Press once again to exit!&quot;, Toast.LENGTH_SHORT)\r\n\t\t\t\t\t.show();\r\n\t\t}\r\n\t\tback_pressed = System.currentTimeMillis();\r\n\t}\r\n\r\nYou need to define `back_pressed` object as `long` in activity.\r\n","title":"Clicking the back button twice to exit an activity","body":"<p>There is very simplest way among all these answers.</p>\n\n<p>Simply write following code inside <code>onBackPressed()</code> method.</p>\n\n<pre><code>long back_pressed;\n\n@Override\npublic void onBackPressed() {\n    if (back_pressed + 1000 &gt; System.currentTimeMillis()){\n        super.onBackPressed();\n    }\n    else{\n        Toast.makeText(getBaseContext(),\n                \"Press once again to exit!\", Toast.LENGTH_SHORT)\n                .show();\n    }\n    back_pressed = System.currentTimeMillis();\n}\n</code></pre>\n\n<p>You need to define <code>back_pressed</code> object as <code>long</code> in activity.</p>\n"},{"tags":[],"owner":{"account_id":3481402,"reputation":2581,"user_id":2913356,"display_name":"Tomasz Nguyen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1416309282,"creation_date":1416309282,"answer_id":26992953,"question_id":8430805,"body_markdown":"Recently, I needed to implement this back button feature in an app of mine. The answers on the original question were useful, but I had to take two more points into consideration:\r\n\r\n 1. At some points in time, the back button is disabled\r\n 2. The main activity is using fragments in combination with a back stack\r\n\r\nBased on the answers and comments, I created the following code:\r\n\r\n    private static final long BACK_PRESS_DELAY = 1000;\r\n\r\n    private boolean mBackPressCancelled = false;\r\n    private long mBackPressTimestamp;\r\n    private Toast mBackPressToast;\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        // Do nothing if the back button is disabled.\r\n        if (!mBackPressCancelled) {\r\n            // Pop fragment if the back stack is not empty.\r\n            if (getSupportFragmentManager().getBackStackEntryCount() &gt; 0) {\r\n                super.onBackPressed();\r\n            } else {\r\n                if (mBackPressToast != null) {\r\n                    mBackPressToast.cancel();\r\n                }\r\n\r\n                long currentTimestamp = System.currentTimeMillis();\r\n\r\n                if (currentTimestamp &lt; mBackPressTimestamp + BACK_PRESS_DELAY) {\r\n                    super.onBackPressed();\r\n                } else {\r\n                    mBackPressTimestamp = currentTimestamp;\r\n\r\n                    mBackPressToast = Toast.makeText(this, getString(R.string.warning_exit), Toast.LENGTH_SHORT);\r\n                    mBackPressToast.show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe code above assumes that the support library is used. If you use fragments but not the support library, you want to replace `getSupportFragmentManager()` by `getFragmentManager()`.\r\n\r\nRemove the first `if`, if the back button is never cancelled. Remove the second `if`, if you don`t use fragments or a fragment back stack\r\n\r\nAlso, it is important to be aware that the method `onBackPressed` is supported since Android 2.0. Check [this page][1] for an elaborate description. To make the back press feature work on older versions as well, add the following method to your activity:\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event)  {\r\n        if (android.os.Build.VERSION.SDK_INT &lt; android.os.Build.VERSION_CODES.ECLAIR\r\n                &amp;&amp; keyCode == KeyEvent.KEYCODE_BACK\r\n                &amp;&amp; event.getRepeatCount() == 0) {\r\n            // Take care of calling this method on earlier versions of\r\n            // the platform where it doesn&#39;t exist.\r\n            onBackPressed();\r\n        }\r\n    \r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n\r\n  [1]: http://android-developers.blogspot.co.uk/2009/12/back-and-other-hard-keys-three-stories.html","title":"Clicking the back button twice to exit an activity","body":"<p>Recently, I needed to implement this back button feature in an app of mine. The answers on the original question were useful, but I had to take two more points into consideration:</p>\n\n<ol>\n<li>At some points in time, the back button is disabled</li>\n<li>The main activity is using fragments in combination with a back stack</li>\n</ol>\n\n<p>Based on the answers and comments, I created the following code:</p>\n\n<pre><code>private static final long BACK_PRESS_DELAY = 1000;\n\nprivate boolean mBackPressCancelled = false;\nprivate long mBackPressTimestamp;\nprivate Toast mBackPressToast;\n\n@Override\npublic void onBackPressed() {\n    // Do nothing if the back button is disabled.\n    if (!mBackPressCancelled) {\n        // Pop fragment if the back stack is not empty.\n        if (getSupportFragmentManager().getBackStackEntryCount() &gt; 0) {\n            super.onBackPressed();\n        } else {\n            if (mBackPressToast != null) {\n                mBackPressToast.cancel();\n            }\n\n            long currentTimestamp = System.currentTimeMillis();\n\n            if (currentTimestamp &lt; mBackPressTimestamp + BACK_PRESS_DELAY) {\n                super.onBackPressed();\n            } else {\n                mBackPressTimestamp = currentTimestamp;\n\n                mBackPressToast = Toast.makeText(this, getString(R.string.warning_exit), Toast.LENGTH_SHORT);\n                mBackPressToast.show();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The code above assumes that the support library is used. If you use fragments but not the support library, you want to replace <code>getSupportFragmentManager()</code> by <code>getFragmentManager()</code>.</p>\n\n<p>Remove the first <code>if</code>, if the back button is never cancelled. Remove the second <code>if</code>, if you don`t use fragments or a fragment back stack</p>\n\n<p>Also, it is important to be aware that the method <code>onBackPressed</code> is supported since Android 2.0. Check <a href=\"http://android-developers.blogspot.co.uk/2009/12/back-and-other-hard-keys-three-stories.html\" rel=\"noreferrer\">this page</a> for an elaborate description. To make the back press feature work on older versions as well, add the following method to your activity:</p>\n\n<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event)  {\n    if (android.os.Build.VERSION.SDK_INT &lt; android.os.Build.VERSION_CODES.ECLAIR\n            &amp;&amp; keyCode == KeyEvent.KEYCODE_BACK\n            &amp;&amp; event.getRepeatCount() == 0) {\n        // Take care of calling this method on earlier versions of\n        // the platform where it doesn't exist.\n        onBackPressed();\n    }\n\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5621728,"reputation":189,"user_id":4451335,"display_name":"Max Lee"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1421872388,"creation_date":1421872388,"answer_id":28076289,"question_id":8430805,"body_markdown":"It is not a good idea to use a Runnable when exit the application, I recently figure out a much simpler way to record and compare the period between two BACK button clicks. Sample code as following:\r\n\r\n    private static long back_pressed_time;\r\n    private static long PERIOD = 2000;\r\n    \r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n            if (back_pressed_time + PERIOD &gt; System.currentTimeMillis()) super.onBackPressed();\r\n            else Toast.makeText(getBaseContext(), &quot;Press once again to exit!&quot;, Toast.LENGTH_SHORT).show();\r\n            back_pressed_time = System.currentTimeMillis();\r\n    }\r\n\r\nThis will do the trick  to exit the application  by a double BACK button clicks within a certain delay period which is 2000 millisecond in sample.","title":"Clicking the back button twice to exit an activity","body":"<p>It is not a good idea to use a Runnable when exit the application, I recently figure out a much simpler way to record and compare the period between two BACK button clicks. Sample code as following:</p>\n\n<pre><code>private static long back_pressed_time;\nprivate static long PERIOD = 2000;\n\n@Override\npublic void onBackPressed()\n{\n        if (back_pressed_time + PERIOD &gt; System.currentTimeMillis()) super.onBackPressed();\n        else Toast.makeText(getBaseContext(), \"Press once again to exit!\", Toast.LENGTH_SHORT).show();\n        back_pressed_time = System.currentTimeMillis();\n}\n</code></pre>\n\n<p>This will do the trick  to exit the application  by a double BACK button clicks within a certain delay period which is 2000 millisecond in sample.</p>\n"},{"tags":[],"owner":{"account_id":4819096,"reputation":387,"user_id":3890243,"display_name":"Rakshith"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1542383907,"creation_date":1431512284,"answer_id":30211914,"question_id":8430805,"body_markdown":"     public void onBackPressed() {\r\n        if (doubleBackToExitPressedOnce) {\r\n            super.onBackPressed();\r\n            return;\r\n        }\r\n\r\n        this.doubleBackToExitPressedOnce = true;\r\n        Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                doubleBackToExitPressedOnce=false;\r\n            }\r\n        }, 2000);\r\n\r\n**Declare Variable**` private boolean doubleBackToExitPressedOnce = false;`\r\n\r\n&gt; Paste this in your Main Activity and this will solve your issue\r\n","title":"Clicking the back button twice to exit an activity","body":"<pre><code> public void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    new Handler().postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;\n        }\n    }, 2000);\n</code></pre>\n\n<p><strong>Declare Variable</strong><code>private boolean doubleBackToExitPressedOnce = false;</code></p>\n\n<blockquote>\n  <p>Paste this in your Main Activity and this will solve your issue</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1450097562,"creation_date":1450097562,"answer_id":34267572,"question_id":8430805,"body_markdown":"The Accepted answer is Best one but if you are using **[`Android Design Support Library`][1]** then you can use `SnackBar` for Better Views. \r\n\r\n       boolean doubleBackToExitPressedOnce = false;\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (doubleBackToExitPressedOnce) {\r\n                super.onBackPressed();\r\n                return;\r\n            }\r\n    \r\n            this.doubleBackToExitPressedOnce = true;\r\n    \r\n            Snackbar.make(findViewById(R.id.photo_album_parent_view), &quot;Please click BACK again to exit&quot;, Snackbar.LENGTH_SHORT).show();\r\n    \r\n            new Handler().postDelayed(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    doubleBackToExitPressedOnce=false;\r\n                }\r\n            }, 2000);\r\n        }\r\n\r\n\r\n  [1]: http://android-developers.blogspot.in/2015/05/android-design-support-library.html","title":"Clicking the back button twice to exit an activity","body":"<p>The Accepted answer is Best one but if you are using <strong><a href=\"http://android-developers.blogspot.in/2015/05/android-design-support-library.html\" rel=\"noreferrer\"><code>Android Design Support Library</code></a></strong> then you can use <code>SnackBar</code> for Better Views. </p>\n\n<pre><code>   boolean doubleBackToExitPressedOnce = false;\n\n    @Override\n    public void onBackPressed() {\n        if (doubleBackToExitPressedOnce) {\n            super.onBackPressed();\n            return;\n        }\n\n        this.doubleBackToExitPressedOnce = true;\n\n        Snackbar.make(findViewById(R.id.photo_album_parent_view), \"Please click BACK again to exit\", Snackbar.LENGTH_SHORT).show();\n\n        new Handler().postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n                doubleBackToExitPressedOnce=false;\n            }\n        }, 2000);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5022597,"reputation":1035,"user_id":4035641,"display_name":"Ashik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460388855,"creation_date":1460385820,"answer_id":36551919,"question_id":8430805,"body_markdown":"1. Declare a global Toast variable for MainActivity Class. example: Toast exitToast;\r\n2. Initialize it in onCreate view method. example:\r\n     exitToast = Toast.makeText(getApplicationContext(), &quot;Press back again to  exit&quot;, Toast.LENGTH_SHORT);\r\n3. Finally create a onBackPressedMethod as Follows:\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n\r\n            if (exitToast.getView().isShown()) {\r\n                exitToast.cancel();\r\n                finish();\r\n            } else {\r\n                exitToast.show();\r\n            }\r\n        }\r\n\r\nThis works correctly, i have tested. and I think this is much simpler. ","title":"Clicking the back button twice to exit an activity","body":"<ol>\n<li>Declare a global Toast variable for MainActivity Class. example: Toast exitToast;</li>\n<li>Initialize it in onCreate view method. example:\n exitToast = Toast.makeText(getApplicationContext(), \"Press back again to  exit\", Toast.LENGTH_SHORT);</li>\n<li><p>Finally create a onBackPressedMethod as Follows:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n\n    if (exitToast.getView().isShown()) {\n        exitToast.cancel();\n        finish();\n    } else {\n        exitToast.show();\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>This works correctly, i have tested. and I think this is much simpler. </p>\n"},{"tags":[],"owner":{"account_id":8390875,"reputation":51,"user_id":6299656,"display_name":"maniix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462709078,"creation_date":1462707875,"answer_id":37099448,"question_id":8430805,"body_markdown":"    boolean doubleBackToExitPressedOnce = false;\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (doubleBackToExitPressedOnce) {\r\n            super.onBackPressed();\r\n            return;\r\n        }\r\n\r\n        this.doubleBackToExitPressedOnce = true;\r\n\r\n        Snackbar.make(findViewById(R.id.photo_album_parent_view), &quot;Please click BACK again to exit&quot;, Snackbar.LENGTH_SHORT).show();\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                doubleBackToExitPressedOnce=false;\r\n            }\r\n        }, 2000);\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n\n    Snackbar.make(findViewById(R.id.photo_album_parent_view), \"Please click BACK again to exit\", Snackbar.LENGTH_SHORT).show();\n\n    new Handler().postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;\n        }\n    }, 2000);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8523476,"reputation":31,"user_id":6389553,"display_name":"Bu Ti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464335558,"creation_date":1464332736,"answer_id":37476919,"question_id":8430805,"body_markdown":"For this purpose I have implemented the following function:\r\n\r\n    private long onRecentBackPressedTime;\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (System.currentTimeMillis() - onRecentBackPressedTime &gt; 2000) {\r\n           onRecentBackPressedTime = System.currentTimeMillis();\r\n           Toast.makeText(this, &quot;Please press BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n           return;\r\n         }\r\n       super.onBackPressed();\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>For this purpose I have implemented the following function:</p>\n\n<pre><code>private long onRecentBackPressedTime;\n@Override\npublic void onBackPressed() {\n    if (System.currentTimeMillis() - onRecentBackPressedTime &gt; 2000) {\n       onRecentBackPressedTime = System.currentTimeMillis();\n       Toast.makeText(this, \"Please press BACK again to exit\", Toast.LENGTH_SHORT).show();\n       return;\n     }\n   super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5811740,"reputation":1909,"user_id":4582558,"accept_rate":50,"display_name":"Divyang Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464416866,"creation_date":1464415898,"answer_id":37495838,"question_id":8430805,"body_markdown":"Some Improvements in Sudheesh B Nair&#39;s answer, i have noticed it will wait for handler even while pressing back twice immediately, so cancel handler as shown below. I have cancled toast also to prevent it to display after app exit.\r\n\r\n   \r\n\r\n     boolean doubleBackToExitPressedOnce = false;\r\n            Handler myHandler;\r\n            Runnable myRunnable;\r\n            Toast myToast;\r\n        \r\n        @Override\r\n            public void onBackPressed() {\r\n                if (doubleBackToExitPressedOnce) {\r\n                    myHandler.removeCallbacks(myRunnable);\r\n                    myToast.cancel();\r\n                    super.onBackPressed();\r\n                    return;\r\n                }\r\n        \r\n                this.doubleBackToExitPressedOnce = true;\r\n                myToast = Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT);\r\n                myToast.show();\r\n        \r\n                myHandler = new Handler();\r\n        \r\n                myRunnable = new Runnable() {\r\n        \r\n                    @Override\r\n                    public void run() {\r\n                        doubleBackToExitPressedOnce = false;\r\n                    }\r\n                };\r\n                myHandler.postDelayed(myRunnable, 2000);\r\n            }","title":"Clicking the back button twice to exit an activity","body":"<p>Some Improvements in Sudheesh B Nair's answer, i have noticed it will wait for handler even while pressing back twice immediately, so cancel handler as shown below. I have cancled toast also to prevent it to display after app exit.</p>\n\n<pre><code> boolean doubleBackToExitPressedOnce = false;\n        Handler myHandler;\n        Runnable myRunnable;\n        Toast myToast;\n\n    @Override\n        public void onBackPressed() {\n            if (doubleBackToExitPressedOnce) {\n                myHandler.removeCallbacks(myRunnable);\n                myToast.cancel();\n                super.onBackPressed();\n                return;\n            }\n\n            this.doubleBackToExitPressedOnce = true;\n            myToast = Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT);\n            myToast.show();\n\n            myHandler = new Handler();\n\n            myRunnable = new Runnable() {\n\n                @Override\n                public void run() {\n                    doubleBackToExitPressedOnce = false;\n                }\n            };\n            myHandler.postDelayed(myRunnable, 2000);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6577365,"reputation":424,"user_id":5082855,"display_name":"k8C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466750332,"creation_date":1466602302,"answer_id":37969638,"question_id":8430805,"body_markdown":"A slightly better method than [Zefnus][1] I think. Call System.currentTimeMillis() just one time and omit `return;` :\r\n\r\n    long previousTime;\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        if (2000 + previousTime &gt; (previousTime = System.currentTimeMillis())) \r\n        { \r\n            super.onBackPressed();\r\n        } else {\r\n            Toast.makeText(getBaseContext(), &quot;Tap back button in order to exit&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/22332291/5082855","title":"Clicking the back button twice to exit an activity","body":"<p>A slightly better method than <a href=\"https://stackoverflow.com/a/22332291/5082855\">Zefnus</a> I think. Call System.currentTimeMillis() just one time and omit <code>return;</code> :</p>\n\n<pre><code>long previousTime;\n\n@Override\npublic void onBackPressed()\n{\n    if (2000 + previousTime &gt; (previousTime = System.currentTimeMillis())) \n    { \n        super.onBackPressed();\n    } else {\n        Toast.makeText(getBaseContext(), \"Tap back button in order to exit\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527092417,"creation_date":1470917528,"answer_id":38896053,"question_id":8430805,"body_markdown":"This also helps when you have previous stack activity stored in stack. \r\n\r\nI have modified Sudheesh&#39;s answer \r\n\r\n\r\n    boolean doubleBackToExitPressedOnce = false;\r\n    \r\n    @Override\r\n    public void onBackPressed() {\r\n        if (doubleBackToExitPressedOnce) {\r\n            //super.onBackPressed();\r\n    \r\n      Intent intent = new Intent(Intent.ACTION_MAIN);\r\n                        intent.addCategory(Intent.CATEGORY_HOME);\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);//***Change Here***\r\n                        startActivity(intent);\r\n                        finish();\r\n                        System.exit(0);\r\n            return;\r\n        }\r\n    \r\n        this.doubleBackToExitPressedOnce = true;\r\n        Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n        new Handler().postDelayed(new Runnable() {\r\n    \r\n            @Override\r\n            public void run() {\r\n                doubleBackToExitPressedOnce=false;                       \r\n            }\r\n        }, 2000);\r\n    } ","title":"Clicking the back button twice to exit an activity","body":"<p>This also helps when you have previous stack activity stored in stack. </p>\n\n<p>I have modified Sudheesh's answer </p>\n\n<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        //super.onBackPressed();\n\n  Intent intent = new Intent(Intent.ACTION_MAIN);\n                    intent.addCategory(Intent.CATEGORY_HOME);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);//***Change Here***\n                    startActivity(intent);\n                    finish();\n                    System.exit(0);\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    new Handler().postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;                       \n        }\n    }, 2000);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8981475,"reputation":7969,"user_id":6696558,"accept_rate":75,"display_name":"Hugo Passos"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1605400565,"creation_date":1483798127,"answer_id":41522301,"question_id":8430805,"body_markdown":"You may use a snackbar instead of a toast, so you can rely on their visibility to decide whether to close the app or not. Take this example:\r\n\r\n\r\n```\r\nSnackbar mSnackbar;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    final LinearLayout layout = findViewById(R.id.layout_main);\r\n    mSnackbar = Snackbar.make(layout, R.string.press_back_again, Snackbar.LENGTH_SHORT);\r\n}\r\n\r\n@Override\r\npublic void onBackPressed() {\r\n    if (mSnackbar.isShown()) {\r\n        super.onBackPressed();\r\n    } else {\r\n        mSnackbar.show();\r\n    }\r\n}\r\n```","title":"Clicking the back button twice to exit an activity","body":"<p>You may use a snackbar instead of a toast, so you can rely on their visibility to decide whether to close the app or not. Take this example:</p>\n<pre><code>Snackbar mSnackbar;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    final LinearLayout layout = findViewById(R.id.layout_main);\n    mSnackbar = Snackbar.make(layout, R.string.press_back_again, Snackbar.LENGTH_SHORT);\n}\n\n@Override\npublic void onBackPressed() {\n    if (mSnackbar.isShown()) {\n        super.onBackPressed();\n    } else {\n        mSnackbar.show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8465187,"reputation":463,"user_id":6349540,"display_name":"Saket Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484816637,"creation_date":1484816637,"answer_id":41737679,"question_id":8430805,"body_markdown":"Here is the full working code. And also don&#39;t forget to remove the callbacks so that it don&#39;t cause a memory leak in the app. :) \r\n\r\n\r\n    private boolean backPressedOnce = false;\r\n    private Handler statusUpdateHandler;\r\n    private Runnable statusUpdateRunnable;\r\n\r\n    public void onBackPressed() {\r\n            if (backPressedOnce) {\r\n                finish();\r\n            }\r\n\r\n            backPressedOnce = true;\r\n            final Toast toast = Toast.makeText(this, &quot;Press again to exit&quot;, Toast.LENGTH_SHORT);\r\n            toast.show();\r\n            \r\n            statusUpdateRunnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    backPressedOnce = false;\r\n                    toast.cancel();  //Removes the toast after the exit.\r\n                }\r\n            };\r\n\r\n            statusUpdateHandler.postDelayed(statusUpdateRunnable, 2000);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (statusUpdateHandler != null) {\r\n            statusUpdateHandler.removeCallbacks(statusUpdateRunnable);\r\n        }\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>Here is the full working code. And also don't forget to remove the callbacks so that it don't cause a memory leak in the app. :) </p>\n\n<pre><code>private boolean backPressedOnce = false;\nprivate Handler statusUpdateHandler;\nprivate Runnable statusUpdateRunnable;\n\npublic void onBackPressed() {\n        if (backPressedOnce) {\n            finish();\n        }\n\n        backPressedOnce = true;\n        final Toast toast = Toast.makeText(this, \"Press again to exit\", Toast.LENGTH_SHORT);\n        toast.show();\n\n        statusUpdateRunnable = new Runnable() {\n            @Override\n            public void run() {\n                backPressedOnce = false;\n                toast.cancel();  //Removes the toast after the exit.\n            }\n        };\n\n        statusUpdateHandler.postDelayed(statusUpdateRunnable, 2000);\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    if (statusUpdateHandler != null) {\n        statusUpdateHandler.removeCallbacks(statusUpdateRunnable);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5083386,"reputation":13,"user_id":4078830,"display_name":"MobileOS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486045699,"creation_date":1486045699,"answer_id":42004798,"question_id":8430805,"body_markdown":"This is the same of the accepted and most voted response but this snipped used Snackbar instead of Toast.\r\n\r\n    boolean doubleBackToExitPressedOnce = false;\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (doubleBackToExitPressedOnce) {\r\n                super.onBackPressed();\r\n                return;\r\n            }\r\n    \r\n            this.doubleBackToExitPressedOnce = true;\r\n            Snackbar.make(content, &quot;Please click BACK again to exit&quot;, Snackbar.LENGTH_SHORT)\r\n                    .setAction(&quot;Action&quot;, null).show();\r\n    \r\n    \r\n            new Handler().postDelayed(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    doubleBackToExitPressedOnce=false;\r\n                }\r\n            }, 2000);\r\n        }","title":"Clicking the back button twice to exit an activity","body":"<p>This is the same of the accepted and most voted response but this snipped used Snackbar instead of Toast.</p>\n\n<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n    @Override\n    public void onBackPressed() {\n        if (doubleBackToExitPressedOnce) {\n            super.onBackPressed();\n            return;\n        }\n\n        this.doubleBackToExitPressedOnce = true;\n        Snackbar.make(content, \"Please click BACK again to exit\", Snackbar.LENGTH_SHORT)\n                .setAction(\"Action\", null).show();\n\n\n        new Handler().postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n                doubleBackToExitPressedOnce=false;\n            }\n        }, 2000);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487919124,"creation_date":1487919124,"answer_id":42432493,"question_id":8430805,"body_markdown":"In my case, I&#39;ve depend on `Snackbar#isShown()` for better `UX`.\r\n\r\n    private Snackbar exitSnackBar;\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (isNavDrawerOpen()) {\r\n            closeNavDrawer();\r\n        } else if (getSupportFragmentManager().getBackStackEntryCount() == 0) {\r\n            if (exitSnackBar != null &amp;&amp; exitSnackBar.isShown()) {\r\n                super.onBackPressed();\r\n            } else {\r\n                exitSnackBar = Snackbar.make(\r\n                        binding.getRoot(),\r\n                        R.string.navigation_exit,\r\n                        2000\r\n                );\r\n                exitSnackBar.show();\r\n            }\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>In my case, I've depend on <code>Snackbar#isShown()</code> for better <code>UX</code>.</p>\n\n<pre><code>private Snackbar exitSnackBar;\n\n@Override\npublic void onBackPressed() {\n    if (isNavDrawerOpen()) {\n        closeNavDrawer();\n    } else if (getSupportFragmentManager().getBackStackEntryCount() == 0) {\n        if (exitSnackBar != null &amp;&amp; exitSnackBar.isShown()) {\n            super.onBackPressed();\n        } else {\n            exitSnackBar = Snackbar.make(\n                    binding.getRoot(),\n                    R.string.navigation_exit,\n                    2000\n            );\n            exitSnackBar.show();\n        }\n    } else {\n        super.onBackPressed();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8725814,"reputation":687,"user_id":6527484,"accept_rate":83,"display_name":"Priya Rajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499888875,"creation_date":1499888875,"answer_id":45066350,"question_id":8430805,"body_markdown":"For the activity whose is having **Navigation Drawer**, Use the following code for OnBackPressed()\r\n\r\n    boolean doubleBackToExitPressedOnce = false;\r\n    \r\n    @Override\r\n        public void onBackPressed() {\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            } else {\r\n                if (doubleBackToExitPressedOnce) {\r\n                    if (getFragmentManager().getBackStackEntryCount() ==0) {\r\n                        finishAffinity();\r\n                        System.exit(0);\r\n                    } else {\r\n                        getFragmentManager().popBackStackImmediate();\r\n                    }\r\n                    return;\r\n                }\r\n    \r\n                if (getFragmentManager().getBackStackEntryCount() ==0) {\r\n                    this.doubleBackToExitPressedOnce = true;\r\n                    Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    new Handler().postDelayed(new Runnable() {\r\n    \r\n                        @Override\r\n                        public void run() {\r\n                            doubleBackToExitPressedOnce = false;\r\n                        }\r\n                    }, 2000);\r\n                } else {\r\n                    getFragmentManager().popBackStackImmediate();\r\n                }\r\n            }\r\n        }","title":"Clicking the back button twice to exit an activity","body":"<p>For the activity whose is having <strong>Navigation Drawer</strong>, Use the following code for OnBackPressed()</p>\n\n<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n@Override\n    public void onBackPressed() {\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            if (doubleBackToExitPressedOnce) {\n                if (getFragmentManager().getBackStackEntryCount() ==0) {\n                    finishAffinity();\n                    System.exit(0);\n                } else {\n                    getFragmentManager().popBackStackImmediate();\n                }\n                return;\n            }\n\n            if (getFragmentManager().getBackStackEntryCount() ==0) {\n                this.doubleBackToExitPressedOnce = true;\n                Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n                new Handler().postDelayed(new Runnable() {\n\n                    @Override\n                    public void run() {\n                        doubleBackToExitPressedOnce = false;\n                    }\n                }, 2000);\n            } else {\n                getFragmentManager().popBackStackImmediate();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1702904,"reputation":16002,"user_id":1562548,"accept_rate":58,"display_name":"Chintan Khetiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510815291,"creation_date":1510815291,"answer_id":47323406,"question_id":8430805,"body_markdown":"Here, I have generalized write the code for N tap counts. The code is similarly written for the Enable Developer option in android device phone. Even you can use this to enable features while developer testing the app.\r\n\r\n     private Handler tapHandler;\r\n     private Runnable tapRunnable;\r\n     private int mTapCount = 0;\r\n     private int milSecDealy = 2000;\r\n\r\n    onCreate(){\r\n     ...\r\n    tapHandler = new Handler(Looper.getMainLooper());\r\n    \r\n     }\r\n*Call **askToExit()** on backpress or logout option.*\r\n\r\n  \r\n\r\n    private void askToExit() {\r\n       if (mTapCount &gt;= 2) {\r\n        releaseTapValues();\r\n        /* ========= Exit = TRUE  =========  */\r\n       }\r\n    \r\n       mTapCount++;\r\n       validateTapCount();\r\n      }\r\n    \r\n    \r\n      /* Check with null to avoid create multiple instances of the runnable */\r\n      private void validateTapCount() {\r\n       if (tapRunnable == null) {\r\n        tapRunnable = new Runnable() {\r\n         @Override\r\n         public void run() {\r\n          releaseTapValues();\r\n          /* ========= Exit = FALSE  =========  */\r\n         }\r\n        };\r\n        tapHandler.postDelayed(tapRunnable, milSecDealy);\r\n       }\r\n      }\r\n    \r\n      private void releaseTapValues() {\r\n       /* Relase the value  */\r\n       if (tapHandler != null) {\r\n        tapHandler.removeCallbacks(tapRunnable);\r\n        tapRunnable = null; /* release the object */\r\n        mTapCount = 0; /* release the value */\r\n       }\r\n      }\r\n    \r\n    \r\n      @Override\r\n      protected void onDestroy() {\r\n       super.onDestroy();\r\n       releaseTapValues();\r\n      }\r\n\r\n","title":"Clicking the back button twice to exit an activity","body":"<p>Here, I have generalized write the code for N tap counts. The code is similarly written for the Enable Developer option in android device phone. Even you can use this to enable features while developer testing the app.</p>\n\n<pre><code> private Handler tapHandler;\n private Runnable tapRunnable;\n private int mTapCount = 0;\n private int milSecDealy = 2000;\n\nonCreate(){\n ...\ntapHandler = new Handler(Looper.getMainLooper());\n\n }\n</code></pre>\n\n<p><em>Call <strong>askToExit()</strong> on backpress or logout option.</em></p>\n\n<pre><code>private void askToExit() {\n   if (mTapCount &gt;= 2) {\n    releaseTapValues();\n    /* ========= Exit = TRUE  =========  */\n   }\n\n   mTapCount++;\n   validateTapCount();\n  }\n\n\n  /* Check with null to avoid create multiple instances of the runnable */\n  private void validateTapCount() {\n   if (tapRunnable == null) {\n    tapRunnable = new Runnable() {\n     @Override\n     public void run() {\n      releaseTapValues();\n      /* ========= Exit = FALSE  =========  */\n     }\n    };\n    tapHandler.postDelayed(tapRunnable, milSecDealy);\n   }\n  }\n\n  private void releaseTapValues() {\n   /* Relase the value  */\n   if (tapHandler != null) {\n    tapHandler.removeCallbacks(tapRunnable);\n    tapRunnable = null; /* release the object */\n    mTapCount = 0; /* release the value */\n   }\n  }\n\n\n  @Override\n  protected void onDestroy() {\n   super.onDestroy();\n   releaseTapValues();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4232985,"reputation":2632,"user_id":3464919,"display_name":"Codelaby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511808755,"creation_date":1511808755,"answer_id":47517883,"question_id":8430805,"body_markdown":"I use this\r\n\r\n    import android.app.Activity;\r\n    import android.support.annotation.StringRes;\r\n    import android.widget.Toast;\r\n    \r\n    public class ExitApp {\r\n    \r\n        private static long lastClickTime;\r\n    \r\n        public static void now(Activity ctx, @StringRes int message) {\r\n            now(ctx, ctx.getString(message), 2500);\r\n        }\r\n    \r\n        public static void now(Activity ctx, @StringRes int message, long time) {\r\n            now(ctx, ctx.getString(message), time);\r\n        }\r\n    \r\n        public static void now(Activity ctx, String message, long time) {\r\n            if (ctx != null &amp;&amp; !message.isEmpty() &amp;&amp; time != 0) {\r\n                if (lastClickTime + time &gt; System.currentTimeMillis()) {\r\n                    ctx.finish();\r\n                } else {\r\n                    Toast.makeText(ctx, message, Toast.LENGTH_SHORT).show();\r\n                    lastClickTime = System.currentTimeMillis();\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n*use to* in event `onBackPressed`\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n       ExitApp.now(this,&quot;Press again for close&quot;);\r\n    }\r\n\r\nor `ExitApp.now(this,R.string.double_back_pressed)`\r\n\r\nfor change seconds need for close, specified miliseconds\r\n\r\n`ExitApp.now(this,R.string.double_back_pressed,5000)`","title":"Clicking the back button twice to exit an activity","body":"<p>I use this</p>\n\n<pre><code>import android.app.Activity;\nimport android.support.annotation.StringRes;\nimport android.widget.Toast;\n\npublic class ExitApp {\n\n    private static long lastClickTime;\n\n    public static void now(Activity ctx, @StringRes int message) {\n        now(ctx, ctx.getString(message), 2500);\n    }\n\n    public static void now(Activity ctx, @StringRes int message, long time) {\n        now(ctx, ctx.getString(message), time);\n    }\n\n    public static void now(Activity ctx, String message, long time) {\n        if (ctx != null &amp;&amp; !message.isEmpty() &amp;&amp; time != 0) {\n            if (lastClickTime + time &gt; System.currentTimeMillis()) {\n                ctx.finish();\n            } else {\n                Toast.makeText(ctx, message, Toast.LENGTH_SHORT).show();\n                lastClickTime = System.currentTimeMillis();\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p><em>use to</em> in event <code>onBackPressed</code></p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n   ExitApp.now(this,\"Press again for close\");\n}\n</code></pre>\n\n<p>or <code>ExitApp.now(this,R.string.double_back_pressed)</code></p>\n\n<p>for change seconds need for close, specified miliseconds</p>\n\n<p><code>ExitApp.now(this,R.string.double_back_pressed,5000)</code></p>\n"},{"tags":[],"owner":{"account_id":10597010,"reputation":105,"user_id":7805320,"accept_rate":0,"display_name":"Abhishek S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511938221,"creation_date":1511938221,"answer_id":47546686,"question_id":8430805,"body_markdown":"When HomeActivity contain navigation drawer and double backPressed() funtion to exit app.\r\n(Don&#39;t forget to initilize global variable     boolean doubleBackToExitPressedOnce = false;)\r\nnew handler after 2 sec set doubleBackPressedOnce variable to false \r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\r\n        if (drawer.isDrawerOpen(GravityCompat.END)) {\r\n            drawer.closeDrawer(GravityCompat.END);\r\n        } else {\r\n            if (doubleBackToExitPressedOnce) {\r\n                super.onBackPressed();\r\n                moveTaskToBack(true);\r\n                return;\r\n            } else {\r\n                this.doubleBackToExitPressedOnce = true;\r\n                Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n                new Handler().postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        doubleBackToExitPressedOnce = false;\r\n                    }\r\n                }, 2000);\r\n            }\r\n        }\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>When HomeActivity contain navigation drawer and double backPressed() funtion to exit app.\n(Don't forget to initilize global variable     boolean doubleBackToExitPressedOnce = false;)\nnew handler after 2 sec set doubleBackPressedOnce variable to false </p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    DrawerLayout drawer = findViewById(R.id.drawer_layout);\n    if (drawer.isDrawerOpen(GravityCompat.END)) {\n        drawer.closeDrawer(GravityCompat.END);\n    } else {\n        if (doubleBackToExitPressedOnce) {\n            super.onBackPressed();\n            moveTaskToBack(true);\n            return;\n        } else {\n            this.doubleBackToExitPressedOnce = true;\n            Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n            new Handler().postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    doubleBackToExitPressedOnce = false;\n                }\n            }, 2000);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12444128,"reputation":946,"user_id":9060917,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1559537903,"creation_date":1512645093,"answer_id":47693754,"question_id":8430805,"body_markdown":"   **In  java**\r\n\r\n    private Boolean exit = false; \r\n \r\n    if (exit) {\r\n    onBackPressed(); \r\n    }\r\n    \r\n\r\n\r\n----------\r\n\r\n\r\n     @Override\r\n    public void onBackPressed() {\r\n        if (exit) {\r\n            finish(); // finish activity\r\n        } else {\r\n            Toast.makeText(this, &quot;Press Back again to Exit.&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n            exit = true;\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    exit = false;\r\n                }\r\n            }, 3 * 1000);\r\n\r\n        }\r\n    }\r\n        \r\n  \r\n----------\r\n**In kotlin**\r\n\r\n     private var exit = false\r\n\r\n     if (exit) {\r\n            onBackPressed()\r\n             }\r\n \r\n\r\n\r\n----------\r\n        \r\n     override fun onBackPressed(){\r\n               if (exit){\r\n                   finish() // finish activity\r\n               }else{\r\n                Toast.makeText(this, &quot;Press Back again to Exit.&quot;,\r\n                        Toast.LENGTH_SHORT).show()\r\n                exit = true\r\n                Handler().postDelayed({ exit = false }, 3 * 1000)\r\n\r\n            }\r\n        }","title":"Clicking the back button twice to exit an activity","body":"<p><strong>In  java</strong></p>\n\n<pre><code>private Boolean exit = false; \n\nif (exit) {\nonBackPressed(); \n}\n</code></pre>\n\n<hr>\n\n<pre><code> @Override\npublic void onBackPressed() {\n    if (exit) {\n        finish(); // finish activity\n    } else {\n        Toast.makeText(this, \"Press Back again to Exit.\",\n                Toast.LENGTH_SHORT).show();\n        exit = true;\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                exit = false;\n            }\n        }, 3 * 1000);\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>In kotlin</strong></p>\n\n<pre><code> private var exit = false\n\n if (exit) {\n        onBackPressed()\n         }\n</code></pre>\n\n<hr>\n\n<pre><code> override fun onBackPressed(){\n           if (exit){\n               finish() // finish activity\n           }else{\n            Toast.makeText(this, \"Press Back again to Exit.\",\n                    Toast.LENGTH_SHORT).show()\n            exit = true\n            Handler().postDelayed({ exit = false }, 3 * 1000)\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10116978,"reputation":91,"user_id":8172833,"display_name":"Mitkumar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526804703,"creation_date":1516898053,"answer_id":48447786,"question_id":8430805,"body_markdown":"In this situation, Snackbar is the better option then Toast to display the quit action. Here is the method with snackbar that works.\r\n\r\n    @Override\r\n            public void onBackPressed() {\r\n                if (doubleBackToExitPressedOnce) {\r\n                    super.onBackPressed();\r\n                    return;\r\n                }\r\n                this.doubleBackToExitPressedOnce = true;\r\n                Snackbar.make(this.getWindow().getDecorView().findViewById(android.R.id.content), &quot;Please click BACK again to exit&quot;, Snackbar.LENGTH_SHORT).show();\r\n    \r\n                new Handler().postDelayed(new Runnable() {\r\n    \r\n                    @Override\r\n                    public void run() {\r\n                        doubleBackToExitPressedOnce=false;\r\n                    }\r\n                }, 2000);\r\n            }","title":"Clicking the back button twice to exit an activity","body":"<p>In this situation, Snackbar is the better option then Toast to display the quit action. Here is the method with snackbar that works.</p>\n\n<pre><code>@Override\n        public void onBackPressed() {\n            if (doubleBackToExitPressedOnce) {\n                super.onBackPressed();\n                return;\n            }\n            this.doubleBackToExitPressedOnce = true;\n            Snackbar.make(this.getWindow().getDecorView().findViewById(android.R.id.content), \"Please click BACK again to exit\", Snackbar.LENGTH_SHORT).show();\n\n            new Handler().postDelayed(new Runnable() {\n\n                @Override\n                public void run() {\n                    doubleBackToExitPressedOnce=false;\n                }\n            }, 2000);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9879623,"reputation":173,"user_id":7316149,"display_name":"Anuj Sain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518285577,"creation_date":1518285577,"answer_id":48723884,"question_id":8430805,"body_markdown":"Here is another way... using the *CountDownTimer* method\r\n\r\n    private boolean exit = false;\r\n    @Override\r\n    public void onBackPressed() {\r\n            if (exit) {\r\n                finish();\r\n            } else {\r\n                Toast.makeText(this, &quot;Press back again to exit&quot;,\r\n                        Toast.LENGTH_SHORT).show();\r\n                exit = true;\r\n                new CountDownTimer(3000,1000) {\r\n    \r\n                    @Override\r\n                    public void onTick(long l) {\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFinish() {\r\n                        exit = false;\r\n                    }\r\n                }.start();\r\n            }\r\n    \r\n        }","title":"Clicking the back button twice to exit an activity","body":"<p>Here is another way... using the <em>CountDownTimer</em> method</p>\n\n<pre><code>private boolean exit = false;\n@Override\npublic void onBackPressed() {\n        if (exit) {\n            finish();\n        } else {\n            Toast.makeText(this, \"Press back again to exit\",\n                    Toast.LENGTH_SHORT).show();\n            exit = true;\n            new CountDownTimer(3000,1000) {\n\n                @Override\n                public void onTick(long l) {\n\n                }\n\n                @Override\n                public void onFinish() {\n                    exit = false;\n                }\n            }.start();\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10228976,"reputation":6763,"user_id":7550472,"accept_rate":70,"display_name":"Kaushik NP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520945556,"creation_date":1520708244,"answer_id":49212863,"question_id":8430805,"body_markdown":"After having had to implement the same things many times, decided its about time someone built a simple to use library. And that is [`DoubleBackPress Android library`][1]. The `README` explains all the APIs provided along with Examples (like [ToastDisplay + Exit Activity][2]), but a short rundown of the steps here.\r\n\r\n\r\n----------\r\n\r\n\r\nTo get going, start by adding the `dependency` to your application :\r\n\r\n    dependencies {\r\n        implementation &#39;com.github.kaushikthedeveloper:double-back-press:0.0.1&#39;\r\n    } \r\n\r\n\r\n----------\r\n\r\n\r\nNext, create a `DoubleBackPress` object in your `Activity` which provides the required behaviour.\r\n\r\n    DoubleBackPress doubleBackPress = new DoubleBackPress();\r\n    doubleBackPress.setDoublePressDuration(3000);           // msec\r\n\r\nThen create a `Toast` that needs to be shown upon the *First Back Press*. Here, you can create your own `Toast`, or go with `Standard Toast` provided in the `library`. Doing so here by the later option.\r\n\r\n    FirstBackPressAction firstBackPressAction = new ToastDisplay().standard(this);\r\n    doubleBackPress.setFirstBackPressAction(firstBackPressAction);   // set the action\r\n\r\nNow, define what should happen when your Second Back Press happens. Here, we are closing the Activity.\r\n\r\n    DoubleBackPressAction doubleBackPressAction = new DoubleBackPressAction() {\r\n        @Override\r\n        public void actionCall() {\r\n            finish();\r\n            System.exit(0);\r\n        }\r\n    };\r\n\r\n\r\nFinally, override your back press behaviour with the `DoubleBackPress` behaviour.\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        doubleBackPress.onBackPressed();\r\n    }\r\n\r\n[Example GIF of similar behavioural requirements][3]\r\n\r\n\r\n  [1]: https://github.com/kaushikthedeveloper/DoubleBackPress\r\n  [2]: https://github.com/kaushikthedeveloper/DoubleBackPress/blob/master/example/src/main/java/com/kaushikthedeveloper/doublebackpress/example/ToastDisplayActivity.java\r\n  [3]: https://github.com/kaushikthedeveloper/DoubleBackPress#ToastDisplayExample","title":"Clicking the back button twice to exit an activity","body":"<p>After having had to implement the same things many times, decided its about time someone built a simple to use library. And that is <a href=\"https://github.com/kaushikthedeveloper/DoubleBackPress\" rel=\"nofollow noreferrer\"><code>DoubleBackPress Android library</code></a>. The <code>README</code> explains all the APIs provided along with Examples (like <a href=\"https://github.com/kaushikthedeveloper/DoubleBackPress/blob/master/example/src/main/java/com/kaushikthedeveloper/doublebackpress/example/ToastDisplayActivity.java\" rel=\"nofollow noreferrer\">ToastDisplay + Exit Activity</a>), but a short rundown of the steps here.</p>\n\n<hr>\n\n<p>To get going, start by adding the <code>dependency</code> to your application :</p>\n\n<pre><code>dependencies {\n    implementation 'com.github.kaushikthedeveloper:double-back-press:0.0.1'\n} \n</code></pre>\n\n<hr>\n\n<p>Next, create a <code>DoubleBackPress</code> object in your <code>Activity</code> which provides the required behaviour.</p>\n\n<pre><code>DoubleBackPress doubleBackPress = new DoubleBackPress();\ndoubleBackPress.setDoublePressDuration(3000);           // msec\n</code></pre>\n\n<p>Then create a <code>Toast</code> that needs to be shown upon the <em>First Back Press</em>. Here, you can create your own <code>Toast</code>, or go with <code>Standard Toast</code> provided in the <code>library</code>. Doing so here by the later option.</p>\n\n<pre><code>FirstBackPressAction firstBackPressAction = new ToastDisplay().standard(this);\ndoubleBackPress.setFirstBackPressAction(firstBackPressAction);   // set the action\n</code></pre>\n\n<p>Now, define what should happen when your Second Back Press happens. Here, we are closing the Activity.</p>\n\n<pre><code>DoubleBackPressAction doubleBackPressAction = new DoubleBackPressAction() {\n    @Override\n    public void actionCall() {\n        finish();\n        System.exit(0);\n    }\n};\n</code></pre>\n\n<p>Finally, override your back press behaviour with the <code>DoubleBackPress</code> behaviour.</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    doubleBackPress.onBackPressed();\n}\n</code></pre>\n\n<p><a href=\"https://github.com/kaushikthedeveloper/DoubleBackPress#ToastDisplayExample\" rel=\"nofollow noreferrer\">Example GIF of similar behavioural requirements</a></p>\n"},{"tags":[],"owner":{"account_id":12231021,"reputation":361,"user_id":8927014,"accept_rate":20,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521093569,"creation_date":1521093569,"answer_id":49292478,"question_id":8430805,"body_markdown":"     private static final int TIME_DELAY = 2000;\r\n        private static long back_pressed;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (back_pressed + TIME_DELAY &gt; System.currentTimeMillis()) {\r\n                super.onBackPressed();\r\n            } else {\r\n                Toast.makeText(getBaseContext(), &quot;Press once again to exit!&quot;,\r\n                        Toast.LENGTH_SHORT).show();\r\n            }\r\n            back_pressed = System.currentTimeMillis();\r\n        }","title":"Clicking the back button twice to exit an activity","body":"<pre><code> private static final int TIME_DELAY = 2000;\n    private static long back_pressed;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n    @Override\n    public void onBackPressed() {\n        if (back_pressed + TIME_DELAY &gt; System.currentTimeMillis()) {\n            super.onBackPressed();\n        } else {\n            Toast.makeText(getBaseContext(), \"Press once again to exit!\",\n                    Toast.LENGTH_SHORT).show();\n        }\n        back_pressed = System.currentTimeMillis();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9578753"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524229080,"creation_date":1524229080,"answer_id":49942217,"question_id":8430805,"body_markdown":"you can even make it more simple, and without using a hander, only do this =) \r\n\r\n    Long firstClick = 1L;\r\n    Long secondClick = 0L;\r\n    \r\n    @Override\r\n    public void onBackPressed() {\r\n    secondClick = System.currentTimeMillis();\r\n        if ((secondClick - firstClick) / 1000 &lt; 2) {\r\n              super.onBackPressed();\r\n        } else {\r\n              firstClick = System.currentTimeMillis();\r\n              Toast.makeText(MainActivity.this, &quot;click BACK again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n     }","title":"Clicking the back button twice to exit an activity","body":"<p>you can even make it more simple, and without using a hander, only do this =) </p>\n\n<pre><code>Long firstClick = 1L;\nLong secondClick = 0L;\n\n@Override\npublic void onBackPressed() {\nsecondClick = System.currentTimeMillis();\n    if ((secondClick - firstClick) / 1000 &lt; 2) {\n          super.onBackPressed();\n    } else {\n          firstClick = System.currentTimeMillis();\n          Toast.makeText(MainActivity.this, \"click BACK again to exit\", Toast.LENGTH_SHORT).show();\n        }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":461965,"reputation":1066,"user_id":864015,"display_name":"Hudson Pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525464807,"creation_date":1525464807,"answer_id":50182456,"question_id":8430805,"body_markdown":"You can also use the visibility of a Toast, so you don&#39;t need that Handler/postDelayed ultra solution.\r\n\r\n    Toast doubleBackButtonToast;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        doubleBackButtonToast = Toast.makeText(this, &quot;Double tap back to exit.&quot;, Toast.LENGTH_SHORT);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (doubleBackButtonToast.getView().isShown()) {\r\n            super.onBackPressed();\r\n        }\r\n\r\n        doubleBackButtonToast.show();\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>You can also use the visibility of a Toast, so you don't need that Handler/postDelayed ultra solution.</p>\n\n<pre><code>Toast doubleBackButtonToast;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    doubleBackButtonToast = Toast.makeText(this, \"Double tap back to exit.\", Toast.LENGTH_SHORT);\n}\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackButtonToast.getView().isShown()) {\n        super.onBackPressed();\n    }\n\n    doubleBackButtonToast.show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13968501,"reputation":322,"user_id":10087711,"display_name":"Umesh Maharjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531980209,"creation_date":1531980209,"answer_id":51415396,"question_id":8430805,"body_markdown":"    private static final int TIME_INTERVAL = 2000;\r\n    private long mBackPressed;\r\n        @Override\r\n        \tpublic void onBackPressed() {\r\n        \r\n        \t\tif (mBackPressed + TIME_INTERVAL &gt; System.currentTimeMillis()) {\r\n        \t\t\tsuper.onBackPressed();\r\n        \t\t\tIntent intent = new Intent(FirstpageActivity.this,\r\n        \t\t\t\t\tHomepageActivity.class);\r\n        \t\t\tstartActivity(intent);\r\n        \t\t\tfinish();\r\n        \r\n        \t\t\treturn;\r\n        \t\t} else {\r\n        \t\t\r\n        \t\t\tToast.makeText(getBaseContext(),\r\n        \t\t\t\t\t&quot;Tap back button twice  to go Home.&quot;, Toast.LENGTH_SHORT)\r\n        \t\t\t\t\t.show();\r\n        \r\n        \t\t\tmBackPressed = System.currentTimeMillis();\r\n        \r\n        \t\t}\r\n        \r\n        \t}\r\n\r\n","title":"Clicking the back button twice to exit an activity","body":"<pre><code>private static final int TIME_INTERVAL = 2000;\nprivate long mBackPressed;\n    @Override\n        public void onBackPressed() {\n\n            if (mBackPressed + TIME_INTERVAL &gt; System.currentTimeMillis()) {\n                super.onBackPressed();\n                Intent intent = new Intent(FirstpageActivity.this,\n                        HomepageActivity.class);\n                startActivity(intent);\n                finish();\n\n                return;\n            } else {\n\n                Toast.makeText(getBaseContext(),\n                        \"Tap back button twice  to go Home.\", Toast.LENGTH_SHORT)\n                        .show();\n\n                mBackPressed = System.currentTimeMillis();\n\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537096487,"creation_date":1537096487,"answer_id":52353541,"question_id":8430805,"body_markdown":"In Kotlin on the back press to exit app you can use:\r\n\r\nDefine a global variable:\r\n\r\n    private var doubleBackToExitPressedOnce = false\r\n\r\nOverride onBackPressed:\r\n\r\n    override fun onBackPressed() {\r\n            if (doubleBackToExitPressedOnce) {\r\n                super.onBackPressed()\r\n                return\r\n            }\r\n    \r\n            doubleBackToExitPressedOnce = true\r\n            Toast.makeText(this, &quot;Please click BACK again to exit&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n            Handler().postDelayed({\r\n                doubleBackToExitPressedOnce = false;\r\n            }, 2000)\r\n        }","title":"Clicking the back button twice to exit an activity","body":"<p>In Kotlin on the back press to exit app you can use:</p>\n\n<p>Define a global variable:</p>\n\n<pre><code>private var doubleBackToExitPressedOnce = false\n</code></pre>\n\n<p>Override onBackPressed:</p>\n\n<pre><code>override fun onBackPressed() {\n        if (doubleBackToExitPressedOnce) {\n            super.onBackPressed()\n            return\n        }\n\n        doubleBackToExitPressedOnce = true\n        Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_LONG).show()\n\n        Handler().postDelayed({\n            doubleBackToExitPressedOnce = false;\n        }, 2000)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8751044,"reputation":101,"user_id":9532939,"display_name":"DannyRitiu"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1549792871,"creation_date":1537349717,"answer_id":52402705,"question_id":8430805,"body_markdown":"I would normally add a comment, but my reputation doesn&#39;t allow this.\r\nSo here&#39;s my two cents:\r\n\r\nIn Kotlin you can use coroutines to delay the setting to false:\r\n\r\n    private var doubleBackPressed = false\r\n    private var toast : Toast ?= null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        toast = Toast.maketext(this, &quot;Press back again to exit&quot;, Toast.LENGTH_SHORT)\r\n    }\r\n\r\n    override fun onBackPressed() {\r\n        if (doubleBackPressed) {\r\n            toast?.cancel()\r\n            super.onBackPressed()\r\n            return\r\n        }\r\n        this.doubleBackPressed = true\r\n        toast?.show()\r\n        GlobalScope.launch {\r\n            delay(2000)\r\n            doubleBackPressed = false\r\n        }\r\n    }\r\n\r\nYou will have to import:\r\n\r\n    import kotlinx.coroutines.launch\r\n    import kotlinx.coroutines.delay\r\n    import kotlinx.coroutines.GlobalScope","title":"Clicking the back button twice to exit an activity","body":"<p>I would normally add a comment, but my reputation doesn't allow this.\nSo here's my two cents:</p>\n\n<p>In Kotlin you can use coroutines to delay the setting to false:</p>\n\n<pre><code>private var doubleBackPressed = false\nprivate var toast : Toast ?= null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    toast = Toast.maketext(this, \"Press back again to exit\", Toast.LENGTH_SHORT)\n}\n\noverride fun onBackPressed() {\n    if (doubleBackPressed) {\n        toast?.cancel()\n        super.onBackPressed()\n        return\n    }\n    this.doubleBackPressed = true\n    toast?.show()\n    GlobalScope.launch {\n        delay(2000)\n        doubleBackPressed = false\n    }\n}\n</code></pre>\n\n<p>You will have to import:</p>\n\n<pre><code>import kotlinx.coroutines.launch\nimport kotlinx.coroutines.delay\nimport kotlinx.coroutines.GlobalScope\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4997062,"reputation":1,"user_id":5399854,"display_name":"R41N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545796454,"creation_date":1545774067,"answer_id":53925800,"question_id":8430805,"body_markdown":"Here&#39;s my take on this :\r\n\r\n     int oddeven = 0;\r\n     long backBtnPressed1;\r\n     long backBtnPressed2;\r\n     @Override\r\n     public void onBackPressed() {\r\n         oddeven++;\r\n         if(oddeven%2==0){\r\n             backBtnPressed2 = System.currentTimeMillis();\r\n             if(backBtnPressed2-backBtnPressed1&lt;2000) {\r\n                super.onBackPressed();\r\n                return;\r\n             }\r\n         }\r\n         else if(oddeven%2==1) { \r\n             backBtnPressed1 = System.currentTimeMillis();    \r\n            //  Insert toast back button here\r\n         }\r\n     }\r\n","title":"Clicking the back button twice to exit an activity","body":"<p>Here's my take on this :</p>\n\n<pre><code> int oddeven = 0;\n long backBtnPressed1;\n long backBtnPressed2;\n @Override\n public void onBackPressed() {\n     oddeven++;\n     if(oddeven%2==0){\n         backBtnPressed2 = System.currentTimeMillis();\n         if(backBtnPressed2-backBtnPressed1&lt;2000) {\n            super.onBackPressed();\n            return;\n         }\n     }\n     else if(oddeven%2==1) { \n         backBtnPressed1 = System.currentTimeMillis();    \n        //  Insert toast back button here\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5515265,"reputation":3852,"user_id":4380236,"display_name":"urgentx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547651355,"creation_date":1547651355,"answer_id":54219996,"question_id":8430805,"body_markdown":"Here is a way to do it using RxJava:\r\n\r\n    override fun onCreate(...) {\r\n        backPresses.timeInterval(TimeUnit.MILLISECONDS, Schedulers.io())\r\n                .skip(1) //Skip initial event; delay will be 0.\r\n                .onMain()\r\n                .subscribe {\r\n                    if (it.time() &lt; 7000) super.onBackPressed() //7000 is the duration of a Toast with length LENGTH_LONG.\r\n                }.addTo(compositeDisposable)\r\n    \r\n        backPresses.throttleFirst(7000, TimeUnit.MILLISECONDS, Schedulers.io())\r\n                .subscribe { Toast.makeText(this, &quot;Press back again to exit.&quot;, LENGTH_LONG).show() }\r\n                .addTo(compositeDisposable)\r\n    }\r\n    \r\n    override fun onBackPressed() = backPresses.onNext(Unit)","title":"Clicking the back button twice to exit an activity","body":"<p>Here is a way to do it using RxJava:</p>\n\n<pre><code>override fun onCreate(...) {\n    backPresses.timeInterval(TimeUnit.MILLISECONDS, Schedulers.io())\n            .skip(1) //Skip initial event; delay will be 0.\n            .onMain()\n            .subscribe {\n                if (it.time() &lt; 7000) super.onBackPressed() //7000 is the duration of a Toast with length LENGTH_LONG.\n            }.addTo(compositeDisposable)\n\n    backPresses.throttleFirst(7000, TimeUnit.MILLISECONDS, Schedulers.io())\n            .subscribe { Toast.makeText(this, \"Press back again to exit.\", LENGTH_LONG).show() }\n            .addTo(compositeDisposable)\n}\n\noverride fun onBackPressed() = backPresses.onNext(Unit)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179159,"reputation":584,"user_id":10243412,"display_name":"Ankush Shrivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548916310,"creation_date":1548916310,"answer_id":54454624,"question_id":8430805,"body_markdown":"Back when Button pressed 2 times     \r\n     \r\n    public void click(View view){\r\n        if (isBackActivated) {\r\n            this.finish();\r\n        }\r\n        if (!isBackActivated) {\r\n            isBackActivated = true;\r\n            Toast.makeText(getApplicationContext(), &quot;Again&quot;, Toast.LENGTH_SHORT).show();\r\n            Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    isBackActivated = false;  // setting isBackActivated after 2 second\r\n                }\r\n            }, 2000);\r\n        }\r\n\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>Back when Button pressed 2 times     </p>\n\n<pre><code>public void click(View view){\n    if (isBackActivated) {\n        this.finish();\n    }\n    if (!isBackActivated) {\n        isBackActivated = true;\n        Toast.makeText(getApplicationContext(), \"Again\", Toast.LENGTH_SHORT).show();\n        Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                isBackActivated = false;  // setting isBackActivated after 2 second\n            }\n        }, 2000);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4779799,"reputation":2144,"user_id":3861913,"display_name":"Karthik Kompelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555396419,"creation_date":1555395260,"answer_id":55701651,"question_id":8430805,"body_markdown":"Best Solution with Toast\r\n\r\n&gt; In Java\r\n\r\n    private Toast exitToast;\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (exitToast == null || exitToast.getView() == null || exitToast.getView().getWindowToken() == null) {\r\n            exitToast = Toast.makeText(this, &quot;Press again to exit&quot;, Toast.LENGTH_LONG);\r\n            exitToast.show();\r\n        } else {\r\n            exitToast.cancel();\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n&gt; In Kotlin\r\n\r\n    private var exitToast: Toast? = null\r\n\r\n    override fun onBackPressed() {\r\n        if (exitToast == null || exitToast!!.view == null || exitToast!!.view.windowToken == null) {\r\n            exitToast = Toast.makeText(this, &quot;Press again to exit&quot;, Toast.LENGTH_LONG)\r\n            exitToast!!.show()\r\n        } else {\r\n            exitToast!!.cancel()\r\n            super.onBackPressed()\r\n        }\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>Best Solution with Toast</p>\n\n<blockquote>\n  <p>In Java</p>\n</blockquote>\n\n<pre><code>private Toast exitToast;\n\n@Override\npublic void onBackPressed() {\n    if (exitToast == null || exitToast.getView() == null || exitToast.getView().getWindowToken() == null) {\n        exitToast = Toast.makeText(this, \"Press again to exit\", Toast.LENGTH_LONG);\n        exitToast.show();\n    } else {\n        exitToast.cancel();\n        super.onBackPressed();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>In Kotlin</p>\n</blockquote>\n\n<pre><code>private var exitToast: Toast? = null\n\noverride fun onBackPressed() {\n    if (exitToast == null || exitToast!!.view == null || exitToast!!.view.windowToken == null) {\n        exitToast = Toast.makeText(this, \"Press again to exit\", Toast.LENGTH_LONG)\n        exitToast!!.show()\n    } else {\n        exitToast!!.cancel()\n        super.onBackPressed()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7459166,"reputation":8015,"user_id":7682257,"display_name":"Suraj Vaishnav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642852746,"creation_date":1559544808,"answer_id":56422372,"question_id":8430805,"body_markdown":"I think this is what you need, I mean when we want to show this toast, **when there is only one activity in the stack and user pressing back** from this last activity of the stack.\r\n\r\n    var exitOpened=false // Declare it globaly\r\n\r\nand in `onBackPressed` method change it like:\r\n\r\n    override fun onBackPressed() {\r\n            if (isTaskRoot &amp;&amp; !exitOpened)\r\n            {\r\n                exitOpened=true\r\n                toast(&quot;Please press back again to exit&quot;)\r\n                return\r\n            }\r\n            super.onBackPressed()\r\n        }\r\n\r\nHere, `isTaskRoot` will return true if the current activity is the **root activity(first activity)** of the stack and false if it is not.\r\n\r\nYou can check the official documentation [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity.html#isTaskRoot%28%29","title":"Clicking the back button twice to exit an activity","body":"<p>I think this is what you need, I mean when we want to show this toast, <strong>when there is only one activity in the stack and user pressing back</strong> from this last activity of the stack.</p>\n<pre><code>var exitOpened=false // Declare it globaly\n</code></pre>\n<p>and in <code>onBackPressed</code> method change it like:</p>\n<pre><code>override fun onBackPressed() {\n        if (isTaskRoot &amp;&amp; !exitOpened)\n        {\n            exitOpened=true\n            toast(&quot;Please press back again to exit&quot;)\n            return\n        }\n        super.onBackPressed()\n    }\n</code></pre>\n<p>Here, <code>isTaskRoot</code> will return true if the current activity is the <strong>root activity(first activity)</strong> of the stack and false if it is not.</p>\n<p>You can check the official documentation <a href=\"https://developer.android.com/reference/android/app/Activity.html#isTaskRoot%28%29\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577640181,"creation_date":1577640181,"answer_id":59521649,"question_id":8430805,"body_markdown":"I&#39;ve tried to create a utils class for this, so any activity or fragment can implement this to be simpler. \r\n\r\nThe code was written with Kotlin &amp; has Java-interop as well.\r\n\r\nI&#39;m using coroutine to delay and reset the flag variable. But you can modify it to your needs.\r\n\r\n**Additional files**: `SafeToast.kt`\r\n\r\n```\r\nlateinit var toast: Toast\r\n\r\nfun Context.safeToast(msg: String, length: Int = Toast.LENGTH_LONG, action: (Context) -&gt; Toast = default) {\r\n    toast = SafeToast.makeText(this@safeToast, msg, length).apply {\r\n        // do anything new here\r\n        action(this@safeToast)\r\n        show()\r\n    }\r\n}\r\n\r\nfun Context.toastSpammable(msg: String) {\r\n    cancel()\r\n    safeToast(msg, Toast.LENGTH_SHORT)\r\n}\r\n\r\nfun Fragment.toastSpammable(msg: String) {\r\n    cancel()\r\n    requireContext().safeToast(msg, Toast.LENGTH_SHORT)\r\n}\r\n\r\nprivate val default: (Context) -&gt; Toast = { it -&gt; SafeToast.makeText(it, &quot;&quot;, Toast.LENGTH_LONG) }\r\n\r\nprivate fun cancel() {\r\n    if (::toast.isInitialized) toast.cancel()\r\n}\r\n```\r\n\r\n**ActivityUtils.kt**\r\n```\r\n@file:JvmMultifileClass\r\n@file:JvmName(&quot;ActivityUtils&quot;)\r\npackage your.company.com\r\n\r\nimport android.app.Activity\r\nimport your.company.com.R\r\nimport kotlinx.coroutines.GlobalScope\r\nimport kotlinx.coroutines.delay\r\nimport kotlinx.coroutines.launch\r\n\r\n\r\nprivate var backButtonPressedTwice = false\r\n\r\nfun Activity.onBackPressedTwiceFinish() {\r\n    onBackPressedTwiceFinish(getString(R.string.msg_back_pressed_to_exit), 2000)\r\n}\r\n\r\nfun Activity.onBackPressedTwiceFinish(@StringRes message: Int, time: Long) {\r\n    onBackPressedTwiceFinish(getString(message), time)\r\n}\r\n\r\nfun Activity.onBackPressedTwiceFinish(message: String, time: Long) {\r\n    if (backButtonPressedTwice) {\r\n        onBackPressed()\r\n    } else {\r\n        backButtonPressedTwice = true\r\n        toastSpammable(message)\r\n        GlobalScope.launch {\r\n            delay(time)\r\n            backButtonPressedTwice = false\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Usage in Kotlin**\r\n```\r\n// ActivityA.kt\r\noverride fun onBackPressed() {\r\n    onBackPressedTwiceFinish()\r\n}\r\n```\r\n\r\n**Usage in Java**\r\n```\r\n@Override \r\npublic void onBackPressed() {\r\n    ActivityUtils.onBackPressedTwiceFinish()\r\n}\r\n```\r\n\r\nThis code was inspired by @webserveis [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47517883/3763032","title":"Clicking the back button twice to exit an activity","body":"<p>I've tried to create a utils class for this, so any activity or fragment can implement this to be simpler. </p>\n\n<p>The code was written with Kotlin &amp; has Java-interop as well.</p>\n\n<p>I'm using coroutine to delay and reset the flag variable. But you can modify it to your needs.</p>\n\n<p><strong>Additional files</strong>: <code>SafeToast.kt</code></p>\n\n<pre><code>lateinit var toast: Toast\n\nfun Context.safeToast(msg: String, length: Int = Toast.LENGTH_LONG, action: (Context) -&gt; Toast = default) {\n    toast = SafeToast.makeText(this@safeToast, msg, length).apply {\n        // do anything new here\n        action(this@safeToast)\n        show()\n    }\n}\n\nfun Context.toastSpammable(msg: String) {\n    cancel()\n    safeToast(msg, Toast.LENGTH_SHORT)\n}\n\nfun Fragment.toastSpammable(msg: String) {\n    cancel()\n    requireContext().safeToast(msg, Toast.LENGTH_SHORT)\n}\n\nprivate val default: (Context) -&gt; Toast = { it -&gt; SafeToast.makeText(it, \"\", Toast.LENGTH_LONG) }\n\nprivate fun cancel() {\n    if (::toast.isInitialized) toast.cancel()\n}\n</code></pre>\n\n<p><strong>ActivityUtils.kt</strong></p>\n\n<pre><code>@file:JvmMultifileClass\n@file:JvmName(\"ActivityUtils\")\npackage your.company.com\n\nimport android.app.Activity\nimport your.company.com.R\nimport kotlinx.coroutines.GlobalScope\nimport kotlinx.coroutines.delay\nimport kotlinx.coroutines.launch\n\n\nprivate var backButtonPressedTwice = false\n\nfun Activity.onBackPressedTwiceFinish() {\n    onBackPressedTwiceFinish(getString(R.string.msg_back_pressed_to_exit), 2000)\n}\n\nfun Activity.onBackPressedTwiceFinish(@StringRes message: Int, time: Long) {\n    onBackPressedTwiceFinish(getString(message), time)\n}\n\nfun Activity.onBackPressedTwiceFinish(message: String, time: Long) {\n    if (backButtonPressedTwice) {\n        onBackPressed()\n    } else {\n        backButtonPressedTwice = true\n        toastSpammable(message)\n        GlobalScope.launch {\n            delay(time)\n            backButtonPressedTwice = false\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Usage in Kotlin</strong></p>\n\n<pre><code>// ActivityA.kt\noverride fun onBackPressed() {\n    onBackPressedTwiceFinish()\n}\n</code></pre>\n\n<p><strong>Usage in Java</strong></p>\n\n<pre><code>@Override \npublic void onBackPressed() {\n    ActivityUtils.onBackPressedTwiceFinish()\n}\n</code></pre>\n\n<p>This code was inspired by @webserveis <a href=\"https://stackoverflow.com/a/47517883/3763032\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2645875,"reputation":2220,"user_id":2288580,"display_name":"user2288580"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588476982,"creation_date":1588460983,"answer_id":61567522,"question_id":8430805,"body_markdown":"The unique thing about this solution is the behaviour; in that a non double tap will show the toast and a successful double tap will show no toast while closing the app.\r\nThe only disadvantage being the the showing of the toast will have a 650 millisecond delay. I believe this is the best solution with the best behaviour as logic dictates that it would be impossible to have this behaviour without such a delay\r\n\r\n    //App Closing Vars\r\n    private var doubleBackPressedInterval: Long = 650\r\n    private var doubleTap = false\r\n    private var pressCount = 0\r\n    private var timeLimit: Long = 0\r\n    \r\n    override fun onBackPressed() {\r\n        pressCount++\r\n        if(pressCount == 1) {\r\n            timeLimit = System.currentTimeMillis() + doubleBackPressedInterval\r\n            if(!doubleTap) {\r\n                showExitInstructions()\r\n            }\r\n        }\r\n        if(pressCount == 2) {\r\n            if(timeLimit &gt; System.currentTimeMillis()) {\r\n                doubleTap = true\r\n                super.onBackPressed()\r\n            }\r\n            else {\r\n                showExitInstructions()\r\n            }\r\n            pressCount = 1\r\n            timeLimit = System.currentTimeMillis() + doubleBackPressedInterval\r\n        }\r\n    }\r\n    \r\n    private fun showExitInstructions() {\r\n        Handler().postDelayed({\r\n            if(!doubleTap) {\r\n                Toast.makeText(this, &quot;Try Agian&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }, doubleBackPressedInterval)\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>The unique thing about this solution is the behaviour; in that a non double tap will show the toast and a successful double tap will show no toast while closing the app.\nThe only disadvantage being the the showing of the toast will have a 650 millisecond delay. I believe this is the best solution with the best behaviour as logic dictates that it would be impossible to have this behaviour without such a delay</p>\n\n<pre><code>//App Closing Vars\nprivate var doubleBackPressedInterval: Long = 650\nprivate var doubleTap = false\nprivate var pressCount = 0\nprivate var timeLimit: Long = 0\n\noverride fun onBackPressed() {\n    pressCount++\n    if(pressCount == 1) {\n        timeLimit = System.currentTimeMillis() + doubleBackPressedInterval\n        if(!doubleTap) {\n            showExitInstructions()\n        }\n    }\n    if(pressCount == 2) {\n        if(timeLimit &gt; System.currentTimeMillis()) {\n            doubleTap = true\n            super.onBackPressed()\n        }\n        else {\n            showExitInstructions()\n        }\n        pressCount = 1\n        timeLimit = System.currentTimeMillis() + doubleBackPressedInterval\n    }\n}\n\nprivate fun showExitInstructions() {\n    Handler().postDelayed({\n        if(!doubleTap) {\n            Toast.makeText(this, \"Try Agian\", Toast.LENGTH_SHORT).show()\n        }\n    }, doubleBackPressedInterval)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16044068,"reputation":1129,"user_id":11579741,"display_name":"Ganesh MB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629201210,"creation_date":1629201210,"answer_id":68816906,"question_id":8430805,"body_markdown":"[This][1] answer is easy to use but we need to double-tap to exit. I just modify the answer ,\r\n\r\n        @Override\r\n    public void onBackPressed() {\r\n        ++k;\r\n        if(k==1){\r\n            Toast.makeText(this, &quot;Press back one more time to exit&quot;, Toast.LENGTH_SHORT).show();\r\n            new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    --k;\r\n                }\r\n            },1000);\r\n        }else{\r\n            //do whatever you want to do on the click after the first for example:\r\n            finishAffinity();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16098431/11579741","title":"Clicking the back button twice to exit an activity","body":"<p><a href=\"https://stackoverflow.com/a/16098431/11579741\">This</a> answer is easy to use but we need to double-tap to exit. I just modify the answer ,</p>\n<pre><code>    @Override\npublic void onBackPressed() {\n    ++k;\n    if(k==1){\n        Toast.makeText(this, &quot;Press back one more time to exit&quot;, Toast.LENGTH_SHORT).show();\n        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                --k;\n            }\n        },1000);\n    }else{\n        //do whatever you want to do on the click after the first for example:\n        finishAffinity();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16465254,"reputation":83,"user_id":11895480,"display_name":"Onuoha Chukwuemeka Charles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662715534,"creation_date":1662715534,"answer_id":73660015,"question_id":8430805,"body_markdown":"Most modern applications use just one activity and multiple fragments. So if you&#39;re using Navigation Components and needs to call implement that from the home fragment, here is the solution.\r\n\r\n    override fun onAttach(context: Context) {\r\n        super.onAttach(context)\r\n        val callback: OnBackPressedCallback = object :\r\n        OnBackPressedCallback(true) {\r\n            override fun handleOnBackPressed() {\r\n                if (doubleBackPressed) {\r\n                    activity.finishAffinity()\r\n                }\r\n                doubleBackPressed = true\r\n                Toast.makeText(requireActivity(), &quot;Press BACK again to exit&quot;, Toast.LENGTH_LONG).show()\r\n                Handler(Looper.myLooper()!!).postDelayed(Runnable {doubleBackPressed = false},\r\n                    2000)\r\n                }\r\n            }\r\n        requireActivity().onBackPressedDispatcher.addCallback(this, callback)\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p>Most modern applications use just one activity and multiple fragments. So if you're using Navigation Components and needs to call implement that from the home fragment, here is the solution.</p>\n<pre><code>override fun onAttach(context: Context) {\n    super.onAttach(context)\n    val callback: OnBackPressedCallback = object :\n    OnBackPressedCallback(true) {\n        override fun handleOnBackPressed() {\n            if (doubleBackPressed) {\n                activity.finishAffinity()\n            }\n            doubleBackPressed = true\n            Toast.makeText(requireActivity(), &quot;Press BACK again to exit&quot;, Toast.LENGTH_LONG).show()\n            Handler(Looper.myLooper()!!).postDelayed(Runnable {doubleBackPressed = false},\n                2000)\n            }\n        }\n    requireActivity().onBackPressedDispatcher.addCallback(this, callback)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26777808,"reputation":21,"user_id":20373158,"display_name":"Sheikh Nahid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675766839,"creation_date":1675100501,"answer_id":75288169,"question_id":8430805,"body_markdown":"  **I think this is the easiest method** \r\n\r\n    private static long exit;\r\n    @override\r\n    public void onBackPressed() {\r\n        if (exit + 2000 &gt; System.currentTimeMillis()) super.onBackPressed();\r\n        else\r\n            Toast.makeText(getBaseContext(), &quot;Press once again to exit!&quot;, Toast.LENGTH_SHORT).show();\r\n        exit = System.currentTimeMillis();\r\n    }","title":"Clicking the back button twice to exit an activity","body":"<p><strong>I think this is the easiest method</strong></p>\n<pre><code>private static long exit;\n@override\npublic void onBackPressed() {\n    if (exit + 2000 &gt; System.currentTimeMillis()) super.onBackPressed();\n    else\n        Toast.makeText(getBaseContext(), &quot;Press once again to exit!&quot;, Toast.LENGTH_SHORT).show();\n    exit = System.currentTimeMillis();\n}\n</code></pre>\n"}],"owner":{"account_id":940484,"reputation":22724,"user_id":968632,"accept_rate":100,"display_name":"Guillaume"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303138,"favorite_count":0,"down_vote_count":0,"up_vote_count":389,"accepted_answer_id":13578600,"answer_count":48,"score":389,"last_activity_date":1679506681,"creation_date":1323346129,"question_id":8430805,"body_markdown":"I&#39;ve noticed this pattern in a lot of Android apps and games recently: when clicking the back button to &quot;exit&quot; the application, a &lt;code&gt;Toast&lt;/code&gt; comes up with a message similar to &quot;Please click BACK again to exit&quot;.\r\n\r\nI was wondering, as I&#39;m seeing it more and more often, is that a built-in feature that you can somehow access in an activity? I&#39;ve looked at the source code of many classes but I can&#39;t seem to find anything about that.\r\n\r\nOf course, I can think about a few ways to achieve the same functionality quite easily (the easiest is probably to keep a boolean in the activity that indicates whether the user already clicked once...) but I was wondering if there&#39;s something already here.\r\n\r\n**EDIT**: As @LAS_VEGAS mentioned, I didn&#39;t really mean &quot;exit&quot; in the traditional meaning. (i.e. terminated) I meant &quot;going back to whatever was open before the application start activity was launched&quot;, if that makes sense :)","title":"Clicking the back button twice to exit an activity","body":"<p>I've noticed this pattern in a lot of Android apps and games recently: when clicking the back button to \"exit\" the application, a <code>Toast</code> comes up with a message similar to \"Please click BACK again to exit\".</p>\n\n<p>I was wondering, as I'm seeing it more and more often, is that a built-in feature that you can somehow access in an activity? I've looked at the source code of many classes but I can't seem to find anything about that.</p>\n\n<p>Of course, I can think about a few ways to achieve the same functionality quite easily (the easiest is probably to keep a boolean in the activity that indicates whether the user already clicked once...) but I was wondering if there's something already here.</p>\n\n<p><strong>EDIT</strong>: As @LAS_VEGAS mentioned, I didn't really mean \"exit\" in the traditional meaning. (i.e. terminated) I meant \"going back to whatever was open before the application start activity was launched\", if that makes sense :)</p>\n"},{"tags":["java","maven","dependencies","refactoring","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679566150,"post_id":75815563,"comment_id":133745796,"body_markdown":"Just try `mvn dependency:tree` on command line? That will give you the tree for each module...","body":"Just try <code>mvn dependency:tree</code> on command line? That will give you the tree for each module..."}],"owner":{"account_id":20518780,"reputation":9,"user_id":15058854,"display_name":"K3YUR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679506664,"creation_date":1679506664,"question_id":75815563,"body_markdown":"I have big Maven project with its 3-4 submodules. \r\n\r\neach module has its packages and dependencies, some of them uses the same dependencies, I am using Eclipse IDE so, is there any way or plugin using which I could easily analyze the dependency tree to reduce it?   \r\n\r\nI am trying to do it manually like looking into each pom.xmls to see which one is using which but its more time consuming since its big. There is a way using Dependency Hierarchy but it only shows for one module only. so I was looking for a way to see entire tree of something like that so that I could see and analyze it easily.  ","title":"Dependency management in eclipse for Maven project","body":"<p>I have big Maven project with its 3-4 submodules.</p>\n<p>each module has its packages and dependencies, some of them uses the same dependencies, I am using Eclipse IDE so, is there any way or plugin using which I could easily analyze the dependency tree to reduce it?</p>\n<p>I am trying to do it manually like looking into each pom.xmls to see which one is using which but its more time consuming since its big. There is a way using Dependency Hierarchy but it only shows for one module only. so I was looking for a way to see entire tree of something like that so that I could see and analyze it easily.</p>\n"},{"tags":["java","javafx","hevc","gopro"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517273811,"creation_date":1517271574,"answer_id":48512087,"question_id":48511626,"body_markdown":"*Native JavaFX Solution*\r\n\r\nPerhaps this is a duplicate or at least related to:\r\n\r\n  * [Adding other video codecs / DVD support to JavaFX 2.2][1].\r\n\r\nSee my answer to that question for links to related feature requests in the JavaFX bug tracker system.\r\n\r\n*Solutions using non-JavaFX tech from JavaFX*\r\n\r\nThere are other solutions than those discussed in answers to that question which may work for you.  Especially if your primary concern is just getting some kind of playback, even if it doesn&#39;t have deep integration with the JavaFX media system.\r\n\r\nFor instance, other approaches than native JavaFX playback could be:\r\n\r\n  1. Using [VLCJ][2] with some kind of Swing integration (such as a SwingNode, though that may or may not work).\r\n  2. Rendering the VLCJ video into a JavaFX ImageView or Canvas. \r\n    * See related: https://stackoverflow.com/questions/32476109/playing-video-in-java-fx-using-vlcj-api.\r\n    * Which links to the following project: https://github.com/caprica/vlcj-javafx.\r\n  3. Launch a native video player if you don&#39;t need the video embedded.\r\n    * Perhaps [Desktop.open()][3] or the [Process API][4] could do this.\r\n  4. [Call ffmpeg][5] to convert h265 to h264. \r\n     * I don&#39;t know much about this, but a quick google of the topic shows up references to the xuggle project.\r\n     * Current [status of the xuggler project][6] is:\r\n&gt; Xuggler is on hiatus as no one is actively developing it anymore. Sorry. That said, you can always find the source code and start hacking yourself. Good luck!\r\n     * So I wish you good luck with that ;-)\r\n  5. Launching the native browser through a [HostServices.showDocument()][7] call to display the video.\r\n  6. Use a third party browsing component that can be integrated into JavaFX and includes support for the media type you want to play back, for example JxBrowser:\r\n    * https://stackoverflow.com/questions/44548089/h-265-support-in-jxbrowser\r\n\r\nOf the options outlined above, personally, I would recommend using HostServices to play the video in the native browser if that kind of solution will possibly work for you.\r\n\r\nGoing into detail on various options is probably out of scope for StackOverflow (even the above list starts looking like a sometimes frowned upon library recommendation).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8153227/adding-other-video-codecs-dvd-support-to-javafx-2-2/48512027#48512027\r\n  [2]: https://github.com/caprica/vlcj\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/awt/Desktop.html#open-java.io.File-\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/lang/Process.html#toHandle--\r\n  [5]: https://stackoverflow.com/questions/1281353/use-java-ffmpeg-wrapper-or-simply-use-java-runtime-to-execute-ffmpeg\r\n  [6]: http://www.xuggle.com/xuggler/status\r\n  [7]: https://docs.oracle.com/javase/9/docs/api/javafx/application/HostServices.html#showDocument-java.lang.String-","title":"Playing h265 HEVC in a JavaFX client","body":"<p><em>Native JavaFX Solution</em></p>\n\n<p>Perhaps this is a duplicate or at least related to:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8153227/adding-other-video-codecs-dvd-support-to-javafx-2-2/48512027#48512027\">Adding other video codecs / DVD support to JavaFX 2.2</a>.</li>\n</ul>\n\n<p>See my answer to that question for links to related feature requests in the JavaFX bug tracker system.</p>\n\n<p><em>Solutions using non-JavaFX tech from JavaFX</em></p>\n\n<p>There are other solutions than those discussed in answers to that question which may work for you.  Especially if your primary concern is just getting some kind of playback, even if it doesn't have deep integration with the JavaFX media system.</p>\n\n<p>For instance, other approaches than native JavaFX playback could be:</p>\n\n<ol>\n<li>Using <a href=\"https://github.com/caprica/vlcj\" rel=\"nofollow noreferrer\">VLCJ</a> with some kind of Swing integration (such as a SwingNode, though that may or may not work).</li>\n<li>Rendering the VLCJ video into a JavaFX ImageView or Canvas. \n\n<ul>\n<li>See related: <a href=\"https://stackoverflow.com/questions/32476109/playing-video-in-java-fx-using-vlcj-api\">Playing Video in Java FX using vlcj api</a>.</li>\n<li>Which links to the following project: <a href=\"https://github.com/caprica/vlcj-javafx\" rel=\"nofollow noreferrer\">https://github.com/caprica/vlcj-javafx</a>.</li>\n</ul></li>\n<li>Launch a native video player if you don't need the video embedded.\n\n<ul>\n<li>Perhaps <a href=\"https://docs.oracle.com/javase/9/docs/api/java/awt/Desktop.html#open-java.io.File-\" rel=\"nofollow noreferrer\">Desktop.open()</a> or the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Process.html#toHandle--\" rel=\"nofollow noreferrer\">Process API</a> could do this.</li>\n</ul></li>\n<li><a href=\"https://stackoverflow.com/questions/1281353/use-java-ffmpeg-wrapper-or-simply-use-java-runtime-to-execute-ffmpeg\">Call ffmpeg</a> to convert h265 to h264. \n\n<ul>\n<li>I don't know much about this, but a quick google of the topic shows up references to the xuggle project.</li>\n<li>Current <a href=\"http://www.xuggle.com/xuggler/status\" rel=\"nofollow noreferrer\">status of the xuggler project</a> is:\n\n<blockquote>\n  <p>Xuggler is on hiatus as no one is actively developing it anymore. Sorry. That said, you can always find the source code and start hacking yourself. Good luck!</p>\n</blockquote></li>\n<li>So I wish you good luck with that ;-)</li>\n</ul></li>\n<li>Launching the native browser through a <a href=\"https://docs.oracle.com/javase/9/docs/api/javafx/application/HostServices.html#showDocument-java.lang.String-\" rel=\"nofollow noreferrer\">HostServices.showDocument()</a> call to display the video.</li>\n<li>Use a third party browsing component that can be integrated into JavaFX and includes support for the media type you want to play back, for example JxBrowser:\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44548089/h-265-support-in-jxbrowser\">H.265 support in jxbrowser</a></li>\n</ul></li>\n</ol>\n\n<p>Of the options outlined above, personally, I would recommend using HostServices to play the video in the native browser if that kind of solution will possibly work for you.</p>\n\n<p>Going into detail on various options is probably out of scope for StackOverflow (even the above list starts looking like a sometimes frowned upon library recommendation).</p>\n"}],"owner":{"account_id":199092,"reputation":482,"user_id":444165,"accept_rate":75,"display_name":"Arthur S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679505922,"creation_date":1517268213,"question_id":48511626,"body_markdown":"I had a small JavaFX application to play some GoPro videos on a Windows / Linux client. In the past I had using a GoPro 4. I&#39;ve downloaded the video to the client and play it from the local storage. Like this:\r\n\r\n        File file = new File(&quot;AnyVideo.MP4&quot;);\r\n        Media m = new Media(file.toURI().toString());\r\n        MediaPlayer mp = new MediaPlayer(m);\r\n        mp.setAutoPlay(true);\r\n        mediaView.setMediaPlayer(mp);\r\n\r\nI&#39;ll try to switch to the new GoPro 6 now. But it doesn&#39;t worked as expected.\r\n\r\nThe problem is probably that the JavaFX MediaPlayer did not support the codec from the new GoPro 6. \r\n\r\n - GoPro 4: h264 AVC video codec\r\n - GoPro 6: h265 HEVC video codec\r\n\r\nThe JavaFX MediaPlayer [supports only the h264 codec][1].\r\n\r\nDid anyone know a way how I can play a h265 HEVC video with my JavaFX application. In the best case a solution which can play the video immediately from the camera without download the video first to the client. The GoPro has a small Media Server to get the video over HTTP. as example:\r\nhttp://10.5.5.9:8080/videos/DCIM/100/GPR10973.MP4\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/api/javafx/scene/media/package-summary.html","title":"Playing h265 HEVC in a JavaFX client","body":"<p>I had a small JavaFX application to play some GoPro videos on a Windows / Linux client. In the past I had using a GoPro 4. I've downloaded the video to the client and play it from the local storage. Like this:</p>\n<pre><code>    File file = new File(&quot;AnyVideo.MP4&quot;);\n    Media m = new Media(file.toURI().toString());\n    MediaPlayer mp = new MediaPlayer(m);\n    mp.setAutoPlay(true);\n    mediaView.setMediaPlayer(mp);\n</code></pre>\n<p>I'll try to switch to the new GoPro 6 now. But it doesn't worked as expected.</p>\n<p>The problem is probably that the JavaFX MediaPlayer did not support the codec from the new GoPro 6.</p>\n<ul>\n<li>GoPro 4: h264 AVC video codec</li>\n<li>GoPro 6: h265 HEVC video codec</li>\n</ul>\n<p>The JavaFX MediaPlayer <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/media/package-summary.html\" rel=\"nofollow noreferrer\">supports only the h264 codec</a>.</p>\n<p>Did anyone know a way how I can play a h265 HEVC video with my JavaFX application. In the best case a solution which can play the video immediately from the camera without download the video first to the client. The GoPro has a small Media Server to get the video over HTTP. as example:\n<a href=\"http://10.5.5.9:8080/videos/DCIM/100/GPR10973.MP4\" rel=\"nofollow noreferrer\">http://10.5.5.9:8080/videos/DCIM/100/GPR10973.MP4</a></p>\n"},{"tags":["java","spring-boot","http-status-code-404","war","heroku-postgres"],"owner":{"account_id":28088408,"reputation":1,"user_id":21458404,"display_name":"AxelSNZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679505905,"creation_date":1679505905,"question_id":75815454,"body_markdown":"I try to deploy my spring web startup application with heroku git and the plugin &quot;heroku-maven-plugin&quot; but I have a 404 error when I try to access the application, locally the application works very well.\r\n\r\nIf you could help me, that would be great, thank you.\r\n\r\n[Console logs : ](https://i.stack.imgur.com/dcMVR.png)\r\n[App web : ](https://i.stack.imgur.com/hc53j.png)\r\n\r\n**POM.XML:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;org.application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PropertyManag&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;ProprtyManag&lt;/name&gt;\r\n    &lt;description&gt;PropertyManag&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.release&gt;19&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.4&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;24.0.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;name&gt;Local repository&lt;/name&gt;\r\n            &lt;url&gt;file://${user.home}/.m2/repository&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**LOGS:**\r\n```\r\n2023-03-22T16:58:48.671276+00:00 app[web.1]: WARNING: Unknown version string [6.0]. Default version will be used.\r\n2023-03-22T16:58:48.680505+00:00 app[web.1]: Mar 22, 2023 4:58:48 PM org.apache.tomcat.util.descriptor.web.WebXml setVersion\r\n2023-03-22T16:58:48.680506+00:00 app[web.1]: WARNING: Unknown version string [6.0]. Default version will be used.\r\n2023-03-22T16:58:48.686599+00:00 app[web.1]: Mar 22, 2023 4:58:48 PM org.apache.tomcat.util.descriptor.web.WebXml setVersion\r\n2023-03-22T16:58:48.686600+00:00 app[web.1]: WARNING: Unknown version string [5.0]. Default version will be used.\r\n2023-03-22T16:58:53.221667+00:00 app[web.1]: Mar 22, 2023 4:58:53 PM org.apache.jasper.servlet.TldScanner scanJars\r\n2023-03-22T16:58:53.221680+00:00 app[web.1]: INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n2023-03-22T16:58:53.267991+00:00 app[web.1]: Mar 22, 2023 4:58:53 PM org.apache.coyote.AbstractProtocol start\r\n2023-03-22T16:58:53.267998+00:00 app[web.1]: INFO: Starting ProtocolHandler [&quot;http-nio-32755&quot;]\r\n2023-03-22T17:01:01.560586+00:00 heroku[router]: at=info method=GET path=&quot;/&quot; host=property-manage.herokuapp.com request_id=631faa7b-57d5-433b-b1e7-987830bdc86c fwd=&quot;88.123.95.253&quot; dyno=web.1 connect=0ms service=30ms status=404 bytes=864 protocol=https\r\n```\r\n\r\n\r\nI tried to deploy my web application with docker heroku but I got a R14 error, I tried to deploy with git heroku (without plugin) but I got this error: \r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile...\r\n```\r\n","title":"How to Deploy WAR File to Heroku with plugin?","body":"<p>I try to deploy my spring web startup application with heroku git and the plugin &quot;heroku-maven-plugin&quot; but I have a 404 error when I try to access the application, locally the application works very well.</p>\n<p>If you could help me, that would be great, thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/dcMVR.png\" rel=\"nofollow noreferrer\">Console logs : </a>\n<a href=\"https://i.stack.imgur.com/hc53j.png\" rel=\"nofollow noreferrer\">App web : </a></p>\n<p><strong>POM.XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.application&lt;/groupId&gt;\n    &lt;artifactId&gt;PropertyManag&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;ProprtyManag&lt;/name&gt;\n    &lt;description&gt;PropertyManag&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.release&gt;19&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.4&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;24.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;name&gt;Local repository&lt;/name&gt;\n            &lt;url&gt;file://${user.home}/.m2/repository&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.7&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>LOGS:</strong></p>\n<pre><code>2023-03-22T16:58:48.671276+00:00 app[web.1]: WARNING: Unknown version string [6.0]. Default version will be used.\n2023-03-22T16:58:48.680505+00:00 app[web.1]: Mar 22, 2023 4:58:48 PM org.apache.tomcat.util.descriptor.web.WebXml setVersion\n2023-03-22T16:58:48.680506+00:00 app[web.1]: WARNING: Unknown version string [6.0]. Default version will be used.\n2023-03-22T16:58:48.686599+00:00 app[web.1]: Mar 22, 2023 4:58:48 PM org.apache.tomcat.util.descriptor.web.WebXml setVersion\n2023-03-22T16:58:48.686600+00:00 app[web.1]: WARNING: Unknown version string [5.0]. Default version will be used.\n2023-03-22T16:58:53.221667+00:00 app[web.1]: Mar 22, 2023 4:58:53 PM org.apache.jasper.servlet.TldScanner scanJars\n2023-03-22T16:58:53.221680+00:00 app[web.1]: INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n2023-03-22T16:58:53.267991+00:00 app[web.1]: Mar 22, 2023 4:58:53 PM org.apache.coyote.AbstractProtocol start\n2023-03-22T16:58:53.267998+00:00 app[web.1]: INFO: Starting ProtocolHandler [&quot;http-nio-32755&quot;]\n2023-03-22T17:01:01.560586+00:00 heroku[router]: at=info method=GET path=&quot;/&quot; host=property-manage.herokuapp.com request_id=631faa7b-57d5-433b-b1e7-987830bdc86c fwd=&quot;88.123.95.253&quot; dyno=web.1 connect=0ms service=30ms status=404 bytes=864 protocol=https\n</code></pre>\n<p>I tried to deploy my web application with docker heroku but I got a R14 error, I tried to deploy with git heroku (without plugin) but I got this error:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile...\n</code></pre>\n"},{"tags":["java","file","exception","try-catch"],"comments":[{"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"score":3,"creation_date":1246558875,"post_id":1075895,"comment_id":888767,"body_markdown":"and I will catch all those specific Exceptions with catch(Exception e){}??","body":"and I will catch all those specific Exceptions with catch(Exception e){}??"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":1,"creation_date":1246558991,"post_id":1075895,"comment_id":888779,"body_markdown":"yeah.  Since Exception is the base class of all exceptions, it will catch any exception.","body":"yeah.  Since Exception is the base class of all exceptions, it will catch any exception."}],"answers":[{"tags":[],"owner":{"account_id":41034,"reputation":2889,"user_id":119179,"accept_rate":73,"display_name":"Allan"},"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1246558683,"creation_date":1246558683,"answer_id":1075906,"question_id":1075895,"body_markdown":"Catch the base exception &#39;Exception&#39;\r\n\r\n \r\n\r\n       try { \r\n             //some code\r\n       } catch (Exception e) {\r\n            //catches exception and all subclasses \r\n       }","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>Catch the base exception 'Exception'</p>\n\n<pre><code>   try { \n         //some code\n   } catch (Exception e) {\n        //catches exception and all subclasses \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29756,"reputation":12756,"user_id":80633,"accept_rate":75,"display_name":"JoshJordan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518448401,"creation_date":1246558690,"answer_id":1075907,"question_id":1075895,"body_markdown":"Do you mean catch an `Exception` of any *type* that is thrown, as opposed to just specific Exceptions?\r\n\r\nIf so:\r\n\r\n    try {\r\n       //...file IO...\r\n    } catch(Exception e) {\r\n       //...do stuff with e, such as check its type or log it...\r\n    }","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>Do you mean catch an <code>Exception</code> of any <em>type</em> that is thrown, as opposed to just specific Exceptions?</p>\n\n<p>If so:</p>\n\n<pre><code>try {\n   //...file IO...\n} catch(Exception e) {\n   //...do stuff with e, such as check its type or log it...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44851,"reputation":14892,"user_id":131871,"accept_rate":55,"display_name":"CodeFusionMobile"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1246558793,"creation_date":1246558793,"answer_id":1075917,"question_id":1075895,"body_markdown":"Yes there is.\r\n\r\n\r\n    try\r\n    {\r\n        //Read/write file\r\n    }catch(Exception ex)\r\n    {\r\n        //catches all exceptions extended from Exception (which is everything)\r\n    }","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>Yes there is.</p>\n\n<pre><code>try\n{\n    //Read/write file\n}catch(Exception ex)\n{\n    //catches all exceptions extended from Exception (which is everything)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":131,"is_accepted":true,"score":131,"last_activity_date":1246559737,"creation_date":1246558859,"answer_id":1075919,"question_id":1075895,"body_markdown":"If you want, you can add throws clauses to your methods.  Then you don&#39;t have to catch checked methods right away.  That way, you can catch the `exceptions` later (perhaps at the same time as other `exceptions`).\r\n\r\nThe code looks like:\r\n\r\n    public void someMethode() throws SomeCheckedException {\r\n    \r\n        //  code\r\n    \r\n    }\r\n\r\nThen later you can deal with the `exceptions` if you don&#39;t wanna deal with them in that method.\r\n\r\nTo catch all exceptions some block of code may throw you can do: (This will also catch `Exceptions` you wrote yourself)\r\n\r\n    try {\r\n    \r\n        // exceptional block of code ...\r\n    \r\n        // ...\r\n\r\n    } catch (Exception e){\r\n    \r\n        // Deal with e as you please.\r\n        //e may be any type of exception at all.\r\n    \r\n    }\r\n\r\nThe reason that works is because `Exception` is the base class for all exceptions.  Thus any exception that may get thrown is an `Exception` (Uppercase &#39;E&#39;). \r\n\r\nIf you want to handle your own exceptions first simply add a `catch` block before the generic Exception one.\r\n\r\n    try{    \r\n    }catch(MyOwnException me){\r\n    }catch(Exception e){\r\n    }","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>If you want, you can add throws clauses to your methods.  Then you don't have to catch checked methods right away.  That way, you can catch the <code>exceptions</code> later (perhaps at the same time as other <code>exceptions</code>).</p>\n\n<p>The code looks like:</p>\n\n<pre><code>public void someMethode() throws SomeCheckedException {\n\n    //  code\n\n}\n</code></pre>\n\n<p>Then later you can deal with the <code>exceptions</code> if you don't wanna deal with them in that method.</p>\n\n<p>To catch all exceptions some block of code may throw you can do: (This will also catch <code>Exceptions</code> you wrote yourself)</p>\n\n<pre><code>try {\n\n    // exceptional block of code ...\n\n    // ...\n\n} catch (Exception e){\n\n    // Deal with e as you please.\n    //e may be any type of exception at all.\n\n}\n</code></pre>\n\n<p>The reason that works is because <code>Exception</code> is the base class for all exceptions.  Thus any exception that may get thrown is an <code>Exception</code> (Uppercase 'E'). </p>\n\n<p>If you want to handle your own exceptions first simply add a <code>catch</code> block before the generic Exception one.</p>\n\n<pre><code>try{    \n}catch(MyOwnException me){\n}catch(Exception e){\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33313,"reputation":5443,"user_id":93200,"accept_rate":76,"display_name":"Alex Feinman"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1246559789,"creation_date":1246559789,"answer_id":1075991,"question_id":1075895,"body_markdown":"It is bad practice to catch **Exception** -- it&#39;s just too broad, and you may miss something like a **NullPointerException** in your own code.\r\n\r\nFor most file operations, **IOException** is the root exception. Better to catch that, instead.\r\n\r\n\r\n","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>It is bad practice to catch <strong>Exception</strong> -- it's just too broad, and you may miss something like a <strong>NullPointerException</strong> in your own code.</p>\n\n<p>For most file operations, <strong>IOException</strong> is the root exception. Better to catch that, instead.</p>\n"},{"tags":[],"owner":{"account_id":44451,"reputation":3976,"user_id":130516,"display_name":"codethulhu"},"down_vote_count":2,"up_vote_count":108,"is_accepted":false,"score":106,"last_activity_date":1246561451,"creation_date":1246561451,"answer_id":1076126,"question_id":1075895,"body_markdown":"\r\nWhile I agree it&#39;s not good style to catch a raw Exception, there are ways of handling exceptions which provide for superior logging, and the ability to handle the unexpected. Since you are in an exceptional state, you are probably more interested in getting good information than in response time, so instanceof performance shouldn&#39;t be a big hit.\r\n\r\n\r\n    try{\r\n        // IO code\r\n    } catch (Exception e){\r\n        if(e instanceof IOException){\r\n            // handle this exception type\r\n        } else if (e instanceof AnotherExceptionType){\r\n            //handle this one\r\n        } else {\r\n            // We didn&#39;t expect this one. What could it be? Let&#39;s log it, and let it bubble up the hierarchy.\r\n            throw e;\r\n        }\r\n    }\r\n\r\nHowever, this doesn&#39;t take into consideration the fact that IO can also throw Errors. Errors are not Exceptions. Errors are a under a different inheritance hierarchy than Exceptions, though both share the base class Throwable. Since IO can throw Errors, you may want to go so far as to catch Throwable\r\n\r\n    try{\r\n        // IO code\r\n    } catch (Throwable t){\r\n        if(t instanceof Exception){\r\n            if(t instanceof IOException){\r\n                // handle this exception type\r\n            } else if (t instanceof AnotherExceptionType){\r\n                //handle this one\r\n            } else {\r\n                // We didn&#39;t expect this Exception. What could it be? Let&#39;s log it, and let it bubble up the hierarchy.\r\n            }\r\n        } else if (t instanceof Error){\r\n            if(t instanceof IOError){\r\n                // handle this Error\r\n            } else if (t instanceof AnotherError){\r\n                //handle different Error\r\n            } else {\r\n                // We didn&#39;t expect this Error. What could it be? Let&#39;s log it, and let it bubble up the hierarchy.\r\n            }\r\n        } else {\r\n            // This should never be reached, unless you have subclassed Throwable for your own purposes.\r\n            throw t;\r\n        }\r\n    }\r\n","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>While I agree it's not good style to catch a raw Exception, there are ways of handling exceptions which provide for superior logging, and the ability to handle the unexpected. Since you are in an exceptional state, you are probably more interested in getting good information than in response time, so instanceof performance shouldn't be a big hit.</p>\n\n<pre><code>try{\n    // IO code\n} catch (Exception e){\n    if(e instanceof IOException){\n        // handle this exception type\n    } else if (e instanceof AnotherExceptionType){\n        //handle this one\n    } else {\n        // We didn't expect this one. What could it be? Let's log it, and let it bubble up the hierarchy.\n        throw e;\n    }\n}\n</code></pre>\n\n<p>However, this doesn't take into consideration the fact that IO can also throw Errors. Errors are not Exceptions. Errors are a under a different inheritance hierarchy than Exceptions, though both share the base class Throwable. Since IO can throw Errors, you may want to go so far as to catch Throwable</p>\n\n<pre><code>try{\n    // IO code\n} catch (Throwable t){\n    if(t instanceof Exception){\n        if(t instanceof IOException){\n            // handle this exception type\n        } else if (t instanceof AnotherExceptionType){\n            //handle this one\n        } else {\n            // We didn't expect this Exception. What could it be? Let's log it, and let it bubble up the hierarchy.\n        }\n    } else if (t instanceof Error){\n        if(t instanceof IOError){\n            // handle this Error\n        } else if (t instanceof AnotherError){\n            //handle different Error\n        } else {\n            // We didn't expect this Error. What could it be? Let's log it, and let it bubble up the hierarchy.\n        }\n    } else {\n        // This should never be reached, unless you have subclassed Throwable for your own purposes.\n        throw t;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10630608,"reputation":111,"user_id":7828891,"display_name":"Rathishkumar Nair"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1531404778,"creation_date":1531404778,"answer_id":51307887,"question_id":1075895,"body_markdown":"You may catch multiple exceptions in single catch block.\r\n\r\n    try{\r\n      // somecode throwing multiple exceptions;\r\n    } catch (Exception1 | Exception2 | Exception3 exception){\r\n      // handle exception.\r\n    } \r\n ","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>You may catch multiple exceptions in single catch block.</p>\n\n<pre><code>try{\n  // somecode throwing multiple exceptions;\n} catch (Exception1 | Exception2 | Exception3 exception){\n  // handle exception.\n} \n</code></pre>\n"}],"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284861,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":1075919,"answer_count":7,"score":138,"last_activity_date":1679505279,"creation_date":1246558561,"question_id":1075895,"body_markdown":"In Java, is there any way to get (catch) all `exceptions` instead of catching the exceptions individually?","title":"How can I catch all exceptions thrown through reading / writing a file?","body":"<p>In Java, is there any way to get (catch) all <code>exceptions</code> instead of catching the exceptions individually?</p>\n"},{"tags":["java","selenium-webdriver","timeoutexception"],"owner":{"account_id":28088308,"reputation":11,"user_id":21458316,"display_name":"saab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679505260,"creation_date":1679505137,"question_id":75815314,"body_markdown":" I am running tests using selenium webdriver. But with 111 chrome update, had to add &quot;--remote-allow-origins=*&quot; argument to make webdriver work. Then started getting following exception at random elements(findElement)/commands(sendKeys, switchTo)\r\n\r\n```\r\n`org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException\r\nBuild info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;15.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [93f8e26807f72a1db301042970c404c3, clickElement {id=99af3643-8e51-46fd-849a-a6968fb6916a}]\r\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 111.0.5563.65, chrome: {chromedriverVersion: 111.0.5563.64 (c710e93d5b63..., userDataDir: C:\\Users\\kalkidna\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:49445}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:49445/devtoo..., se:cdpVersion: 111.0.5563.65, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nElement: [[ChromeDriver: chrome on WINDOWS (93f8e26807f72a1db301042970c404c3)] -&gt; id: submitbutton]\r\nSession ID: 93f8e26807f72a1db301042970c404c3\r\n\tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:65)\r\n\tat org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\r\n\tat org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:56)\r\n\tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:49)\r\n\tat org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\r\n\tat org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:56)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:99)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:181)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:541)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\r\n\tat com.classes.SCLFiles.SCLFileLoading.sclFileLoad(SCLFileLoading.java:722)\r\n\tat com.classes.SCLFiles.SCLFileLoading.uploadFileWithGooseAndSampledValues(SCLFileLoading.java:1160)\r\n\tat com.testcases.SCLFiles.SCLFileLoadingTest.fileUploadWithGooseAndSVMessagesTest(SCLFileLoadingTest.java:369)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\nCaused by: java.util.concurrent.TimeoutException\r\n\tat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1950)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2085)\r\n\tat org.asynchttpclient.netty.NettyResponseFuture.get(NettyResponseFuture.java:206)\r\n\tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:59)\r\n\t... 43 more`\r\n```\r\n\r\n\r\nI am using the following dependencies\r\n\r\n```\r\n`&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.3.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.mail/javax.mail-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.jcraft/jsch --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.55&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;`\r\n```\r\n\r\nalso added &quot;no-sandbox&quot; argument to chromeoptions as well.","title":"org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException by netty HTTP handler","body":"<p>I am running tests using selenium webdriver. But with 111 chrome update, had to add &quot;--remote-allow-origins=*&quot; argument to make webdriver work. Then started getting following exception at random elements(findElement)/commands(sendKeys, switchTo)</p>\n<pre><code>`org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException\nBuild info: version: '4.6.0', revision: '79f1c02ae20'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '15.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [93f8e26807f72a1db301042970c404c3, clickElement {id=99af3643-8e51-46fd-849a-a6968fb6916a}]\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 111.0.5563.65, chrome: {chromedriverVersion: 111.0.5563.64 (c710e93d5b63..., userDataDir: C:\\Users\\kalkidna\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:49445}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:49445/devtoo..., se:cdpVersion: 111.0.5563.65, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nElement: [[ChromeDriver: chrome on WINDOWS (93f8e26807f72a1db301042970c404c3)] -&gt; id: submitbutton]\nSession ID: 93f8e26807f72a1db301042970c404c3\n    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:65)\n    at org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\n    at org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:56)\n    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:49)\n    at org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\n    at org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:56)\n    at org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:99)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:181)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:541)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\n    at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\n    at com.classes.SCLFiles.SCLFileLoading.sclFileLoad(SCLFileLoading.java:722)\n    at com.classes.SCLFiles.SCLFileLoading.uploadFileWithGooseAndSampledValues(SCLFileLoading.java:1160)\n    at com.testcases.SCLFiles.SCLFileLoadingTest.fileUploadWithGooseAndSVMessagesTest(SCLFileLoadingTest.java:369)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nCaused by: java.util.concurrent.TimeoutException\n    at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1950)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2085)\n    at org.asynchttpclient.netty.NettyResponseFuture.get(NettyResponseFuture.java:206)\n    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:59)\n    ... 43 more`\n</code></pre>\n<p>I am using the following dependencies</p>\n<pre><code>`&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n            &lt;version&gt;4.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.3.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n            &lt;version&gt;1.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.0.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.mail/javax.mail-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.jcraft/jsch --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n            &lt;version&gt;0.1.55&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;`\n</code></pre>\n<p>also added &quot;no-sandbox&quot; argument to chromeoptions as well.</p>\n"},{"tags":["java","android","opengl-es","colormatrix"],"comments":[{"owner":{"account_id":1218577,"reputation":1123,"user_id":1185688,"accept_rate":88,"display_name":"Tempestas Ludi"},"score":1,"creation_date":1538042523,"post_id":33358030,"comment_id":92007893,"body_markdown":"Are you talking about a &quot;ColorMatrix&quot;, like https://developer.android.com/reference/android/graphics/ColorMatrix ?","body":"Are you talking about a &quot;ColorMatrix&quot;, like <a href=\"https://developer.android.com/reference/android/graphics/ColorMatrix\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/graphics/ColorMatrix</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":7209542,"reputation":383,"user_id":5504110,"display_name":"Eugen Hotaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447951459,"creation_date":1447951459,"answer_id":33809654,"question_id":33358030,"body_markdown":"I&#39;m not an expert in computer graphics but I&#39;m assuming you want to iterate through every pixel of the image you want to blend, center your `colorMatrix` on each pixel, calculate the average using the surrounding pixels your matrix comes into contact with, then apply this average to your pixel. Obviously you will somehow need to handle the edge pixels.\r\n\r\nExample: Suppose you have a 5x4 image with pixel values likes so\r\n     \r\n        1     2    3    4    5\r\n     1 1000 1000 1000 1000 1000\r\n     2 1000 1000 1000 1000 1000\r\n     3 1000 1000 1000 1000 1000\r\n     4 1000 1000 1000 1000 1000\r\n\r\n(1) Taking the pixel at position `(3,3)` and applying your transformation matrix - i.e multiplying image pixel `(i,j)` with matrix position `(i,j)` - we get\r\n\r\n         1     2    3    4    5\r\n     1  393  769  189    0    0\r\n     2  349  686  168    0    0\r\n     3  272  534  131    0    0\r\n     4    0    0    0 1000    0\r\n\r\n(2) Now taking the average of this transformation - i.e add all the numbers and divide by 20 - we get 224.5 or approximately 225. So our newly transformed image will look like \r\n\r\n        1     2    3    4    5\r\n     1 1000 1000 1000 1000 1000\r\n     2 1000 1000 1000 1000 1000\r\n     3 1000 1000  225 1000 1000\r\n     4 1000 1000 1000 1000 1000\r\n\r\nTo get the full subtract blend, do this for every pixel. \r\n\r\nEDIT: actually I think the above might be a Gaussian blur.","title":"Subtract Blend Mode using ColorMatrixFilter in Android?","body":"<p>I'm not an expert in computer graphics but I'm assuming you want to iterate through every pixel of the image you want to blend, center your <code>colorMatrix</code> on each pixel, calculate the average using the surrounding pixels your matrix comes into contact with, then apply this average to your pixel. Obviously you will somehow need to handle the edge pixels.</p>\n\n<p>Example: Suppose you have a 5x4 image with pixel values likes so</p>\n\n<pre><code>    1     2    3    4    5\n 1 1000 1000 1000 1000 1000\n 2 1000 1000 1000 1000 1000\n 3 1000 1000 1000 1000 1000\n 4 1000 1000 1000 1000 1000\n</code></pre>\n\n<p>(1) Taking the pixel at position <code>(3,3)</code> and applying your transformation matrix - i.e multiplying image pixel <code>(i,j)</code> with matrix position <code>(i,j)</code> - we get</p>\n\n<pre><code>     1     2    3    4    5\n 1  393  769  189    0    0\n 2  349  686  168    0    0\n 3  272  534  131    0    0\n 4    0    0    0 1000    0\n</code></pre>\n\n<p>(2) Now taking the average of this transformation - i.e add all the numbers and divide by 20 - we get 224.5 or approximately 225. So our newly transformed image will look like </p>\n\n<pre><code>    1     2    3    4    5\n 1 1000 1000 1000 1000 1000\n 2 1000 1000 1000 1000 1000\n 3 1000 1000  225 1000 1000\n 4 1000 1000 1000 1000 1000\n</code></pre>\n\n<p>To get the full subtract blend, do this for every pixel. </p>\n\n<p>EDIT: actually I think the above might be a Gaussian blur.</p>\n"},{"tags":[],"owner":{"account_id":7487496,"reputation":8511,"user_id":5690248,"accept_rate":100,"display_name":"The Dreams Wind"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1679505074,"creation_date":1544560898,"answer_id":53732051,"question_id":33358030,"body_markdown":"# Long story short\r\n\r\nThere is no subtract color blending out of the box in the Android SDK, however you still can make it work with use of OpenGL rendering API. [Here][1] you can find the implementation of such a solution, incapsulated in the `BlendingFilterUtil` class, which can be used like this:\r\n```lang-java\r\nBlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\r\n    0.393f, 0.7689999f, 0.18899999f, 0, 0,\r\n    0.349f, 0.6859999f, 0.16799999f, 0, 0,\r\n    0.272f, 0.5339999f, 0.13099999f, 0, 0,\r\n    0,      0,          0,           1, 0\r\n}, activity, callback);\r\n```\r\n---\r\n# Theory\r\nFirst of all &quot;using a color filter for Subtract-Blend mode&quot; is a very vague requirement. In order to understand the problem better, let&#39;s define two distinct set of features: **color blending** and **color filtering** in Android.\r\n\r\n## Color blending\r\nColor blending is quite a known thing among designers and people working with computer graphics. It commonly means blending two colors using their channel values (known as Red, Green, Blue and Alpha) and a blending function. The blending functions are referred to as Blend Modes and one of this modes is called **Subtract**. The Subtract Blend mode uses the following formula to get its final color:\r\n\r\n[![Subtract blend mode][2]][2]\r\n\r\nWhere *Cout* is the resulting color, *Cdst* is the &quot;current&quot; color and *Csrc* is a color value used to change original color. If for any channel the difference is negative, 0 value is used instead. Roughly speaking, with this mode you can make the destination color darker than the original color, since the channels get closer to zero as a result of the function. [Here][3] you can find a very illustrative example of this mode in action:\r\n\r\n**Destination**\r\n\r\n[![Destination][4]][4]\r\n\r\n**Source**\r\n\r\n[![Source][5]][5]\r\n\r\n**Color Blending Output**\r\n\r\n[![Output][6]][6]\r\n\r\n## Color filtering\r\nIn context of the Android SDK, color filtering is a super-set of operations, which has color blending functions included. [The reference of `ColorFilter` subclasses][7] gives comprehensive information on available color filtering options in the SDK: \r\n\r\n - [`PorterDuffColorFilter`][8] is essentially the Blend Modes discussed above;\r\n - [`LightingColorFilter`][9] takes two arguments, one of which is used as a factor and another as an addition for Red, Green and Blue channels. Alpha channel remains untouched. So you can make some image look brighter (or darker, if factor is between 0 and 1, or addition is negative).\r\n - [`ColorMatrixColorFilter`][10] takes an instance of [`ColorMatrix`][11] and use it to calculate the final color as follows:\r\n&gt; 4x5 matrix for transforming the color and alpha components of a\r\n&gt; Bitmap. The matrix can be passed as single array, and is treated as\r\n&gt; follows:\r\n&gt; &lt;pre&gt;&lt;code&gt;[ a, b, c, d, e,\r\n&gt;   f, g, h, i, j,\r\n&gt;   k, l, m, n, o,\r\n&gt;   p, q, r, s, t ]&lt;/code&gt;&lt;/pre&gt;\r\n&gt; \r\n&gt; When applied to a color [R, G, B, A], the resulting color is computed as:\r\n&gt; \r\n&gt; &lt;pre&gt;&lt;code&gt;R’ = a*R + b*G + c*B + d*A + e;\r\n&gt; G’ = f*R + g*G + h*B + i*A + j; \r\n&gt; B’ = k*R + l*G + m*B + n*A + o;\r\n&gt; A’ = p*R + q*G + r*B + s*A + t;&lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\n\r\n## Defining the problem\r\nNow we know that the only filtering operation in Android SDK that takes a `ColorMatrix` is `ColorMatrixColorFilter`. However it has nothing to do with color blending as color blending is a result of mixing two colors, while `ColorMatrixColorFilter` just modifies the input color. Here is how one of the sample images filtered with use of matrix from the question looks like:\r\n[![Filtered Image][12]][12]\r\n\r\nThe only way of mixing these two concepts I can think of is by using the result of `ColorMatrixColorFilter` as an argument to the subtract blending function (*Csrc*), so we end up with the following formula to implement:\r\n\r\n[![Subtract filter formula][13]][13]\r\n\r\n## Implementation approach\r\nThe task is not supposed to be something fancy: we could use a `ColorMatrixColorFilter` and then use subsequent `PorterDuffColorFilter` with subtract mode, using filtered result as the source color. However, If you take a closer look at [`PorterDuff.Mode`][14] reference, you will notice that **Android does not have the Subtract Blend Mode** in its facilities, (Android OS uses [Google&#39;s Skia][15] library underneath for canvas drawing and for some reason it really [lacks Subtract mode][16]) so we will have to do our subtraction another way.\r\nSuch a thing is *comparatively* simple in Open GL rendering API, but it will requires us to deal with challenges of setting up the Open GL context so it allows us to draw what we need the way we need it.\r\n\r\n---\r\n# Solution\r\nAndroid already has [`GLSurfaceView`][17], that sets up Open GL context under the hood, but it has to be in the view hierarchy in order to actually perform any rendering operation. My plan is to instantiate a `GLSurfaceView`, attach it the application window, give it an image that we want to apply our effects to and perform all the fancy stuff behind the scenes. After that we can take the resulting image and the view can be silently removed.\r\n\r\n## Adding `GLSurfaceView`\r\nFirst, instantiate a `GLSurfaceView`, set OpenGL API version and context configuration:\r\n```lang-java\r\nGLSurfaceView hostView = new GLSurfaceView(activityContext);\r\nhostView.setEGLContextClientVersion(2);\r\nhostView.setEGLConfigChooser(8, 8, 8, 8, 0, 0);\r\n```\r\n\r\nNow the view has to be added into the view hierarchy:\r\n```lang-java\r\n// View should be of bitmap size\r\nfinal WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams(width, height, TYPE_APPLICATION, 0, PixelFormat.OPAQUE);\r\nview.setLayoutParams(layoutParams);\r\nfinal WindowManager windowManager = (WindowManager) view.getContext().getSystemService(Context.WINDOW_SERVICE);\r\nObjects.requireNonNull(windowManager).addView(view, layoutParams);\r\n```\r\nI just put it into the root window in order to make it available from any activity in the appllication. The `width` and `height` params of the layout should match `width` and `height` of the `Bitmap`, so the resulting image doesn&#39;t end up with a different size.\r\n\r\n## Adding Renderer\r\n`GLSurfaceView` draws nothing itself. This work is to be done by a [`Renderer`][18]. Here how the initial implementation of the interface for the given problem looks like:\r\n```lang-java\r\nclass BlendingFilterRenderer implements GLSurfaceView.Renderer {\r\n    private final Bitmap mBitmap;\r\n    private final WeakReference&lt;GLSurfaceView&gt; mHostViewReference;\r\n    private final float[] mColorFilter;\r\n    private final BlendingFilterUtil.Callback mCallback;\r\n    private boolean mFinished = false;\r\n\r\n    BlendingFilterRenderer(@NonNull GLSurfaceView hostView, @NonNull Bitmap bitmap,\r\n                            @NonNull float[] colorFilter,\r\n                            @NonNull BlendingFilterUtil.Callback callback) throws IllegalArgumentException {\r\n        if (colorFilter.length != 4 * 5) {\r\n            throw new IllegalArgumentException(&quot;Color filter should be a 4 x 5 matrix&quot;);\r\n        }\r\n        mBitmap = bitmap;\r\n        mHostViewReference = new WeakReference&lt;&gt;(hostView);\r\n        mColorFilter = colorFilter;\r\n        mCallback = callback;\r\n    }\r\n\r\n    // ========================================== //\r\n    // GLSurfaceView.Renderer\r\n    // ========================================== //\r\n\r\n    @Override\r\n    public void onSurfaceCreated(GL10 gl, EGLConfig config) {}\r\n\r\n    @Override\r\n    public void onSurfaceChanged(GL10 gl, int width, int height) {}\r\n\r\n    @Override\r\n    public void onDrawFrame(GL10 gl) {}\r\n}\r\n```\r\n- `mBitmap` - since rendering operations happen in a separate thred, the renderer has retain the [`Bitmap`][19] argument until the OpenGL context is ready.\r\n- `mHostViewReference` - a weak reference to the view object will be needed in order to remove it from the window when the work is done.\r\n- `mColorFilter` - `ColorMatrix` object is not really required in this implementation, thus I use plain `float[]` java array to represent the color matrix.\r\n- `mCallback` - The result will be delivered via a callback, which a defined as follows:\r\n```lang-java\r\ninterface Callback {\r\n    void onSuccess(@NonNull Bitmap blendedImage);\r\n    void onFailure(@Nullable Exception error);\r\n}\r\n```\r\n- `mFinished` - I&#39;m not sure why exactly, but while playing with the `Renderer` object, I found that it performs redundant cycles of the rendering. This prevents the program from doing anything when it&#39;s no longer needed. I also recommend set rendering mode of the `GLSurfaceView` object to [`RENDERMODE_WHEN_DIRTY`][20] to prevent a 60-times-per-second drawing:\r\n```lang-java\r\nhostView.setRenderer(new BlendingFilterRenderer(hostView, image, filterValues, callback));\r\nhostView.setRenderMode(GLSurfaceView.RENDERMODE_WHEN_DIRTY);\r\n```\r\n\r\n## Drawing meshes\r\nIn order to draw a texel OpenGL first needs some surface to work on. For both drawing the image and building the canvas (the surface to drawn on), we have to introduce a couple of shader programs (Vertex and Fragment shaders in terms of OpenGL). The shaders are compiled and loaded via calls to OpenGL API, and first we need to define a method that takes the shader source code, compiles it and checks that it was done without errors (inside of the `BlendingFilterRenderer` class):\r\n```lang-java\r\nprivate int loadShader(int type, String shaderCode) throws GLException {\r\n    int reference = GLES20.glCreateShader(type);\r\n    GLES20.glShaderSource(reference, shaderCode);\r\n    GLES20.glCompileShader(reference);\r\n    int[] compileStatus = new int[1];\r\n    GLES20.glGetShaderiv(reference, GLES20.GL_COMPILE_STATUS, compileStatus, 0);\r\n    if (compileStatus[0] != GLES20.GL_TRUE) {\r\n        GLES20.glDeleteShader(reference);\r\n        final String message = GLES20.glGetShaderInfoLog(reference);\r\n        throw new GLException(compileStatus[0], message);\r\n    }\r\n\r\n    return reference;\r\n}\r\n```\r\n\r\nThe first parameter of the method defines the shader type (Vertex or Fragment), the second one contains the actual shader code as a `String`. Let&#39;s start with very minimalistic Vertex shader which just takes a vertex coordinates (given as a normalized 2-dimensional vector) and inject them into the `gl_Position` variable (essentially the resulting value of the shader):\r\n```lang-c\r\nattribute vec2 aPosition;\r\nvoid main() {\r\n    gl_Position = vec4(aPosition.x, aPosition.y, 0.0, 1.0);\r\n}\r\n```\r\n\r\nThe Fragment shader implementation just outputs a white color without any changes for now:\r\n```lang-c\r\nprecision mediump float;\r\nvoid main() {\r\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\r\n}\r\n```\r\nOpenGL ES 2 requires us to specify float precision explicitly, otherwise this program wont compile. This shader also writes to global variable `gl_FragColor`, that defines the output color.\r\n\r\nWith help of previously defined `loadShader` method and the shaders source code, we can now define another method in the `BlendingFilterRenderer` class, which compiles and link both shaders into a program:\r\n```lang-java\r\nprivate int loadProgram() {\r\n    int fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, &quot;precision mediump float;&quot; +\r\n            &quot;void main() {&quot; +\r\n            &quot;  gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);&quot; +\r\n            &quot;}&quot;);\r\n    int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, &quot;attribute vec2 aPosition;&quot; +\r\n            &quot;void main() {&quot; +\r\n            &quot;  gl_Position = vec4(aPosition.x, aPosition.y, 0.0, 1.0);&quot; +\r\n            &quot;}&quot;);\r\n    int programReference = GLES20.glCreateProgram();\r\n    GLES20.glAttachShader(programReference, vertexShader);\r\n    GLES20.glAttachShader(programReference, fragmentShader);\r\n    GLES20.glLinkProgram(programReference);\r\n    return programReference;\r\n}\r\n```\r\nNow, when the program is ready, we can pass it some arguments. First, define a method in the `BlendingFilterRenderer` class that enables the attributes in the shaders:\r\n```lang-java\r\nprivate void enableVertexAttribute(int program, String attributeName, int size, int stride, int offset) {\r\n    final int attributeLocation = GLES20.glGetAttribLocation(program, attributeName);\r\n    GLES20.glVertexAttribPointer(attributeLocation, size, GLES20.GL_FLOAT, false, stride, offset);\r\n    GLES20.glEnableVertexAttribArray(attributeLocation);\r\n}\r\n```\r\nIn order to built a canvas the whole view port needs to be filled. It can be done with merely 4 vertices in the normalized device coordinate system (NDCS):\r\n```lang-java\r\nnew float[] {\r\n    -1, 1,\r\n    -1, -1,\r\n    1,  1,\r\n    1,  -1,\r\n}\r\n```\r\n\r\nThis array has to be loaded into a OpenGL&#39;s array buffer in order to become accessible to the shaders:\r\n```lang-java\r\nprivate FloatBuffer convertToBuffer(float[] array) {\r\n    final ByteBuffer buffer = ByteBuffer.allocateDirect(array.length * PrimitiveSizes.FLOAT);\r\n    FloatBuffer output = buffer.order(ByteOrder.nativeOrder()).asFloatBuffer();\r\n    output.put(array);\r\n    output.position(0);\r\n    return output;\r\n}\r\n\r\nprivate void initVertices(int programReference) {\r\n    final float[] verticesData = new float[] {\r\n            -1, 1,\r\n            -1, -1,\r\n            1,  1,\r\n            1,  -1,\r\n    }\r\n    int buffers[] = new int[1];\r\n    GLES20.glGenBuffers(1, buffers, 0);\r\n    GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, buffers[0]);\r\n    GLES20.glBufferData(GLES20.GL_ARRAY_BUFFER, verticesData.length * 4, convertToBuffer(verticesData), GLES20.GL_STREAM_DRAW);\r\n    enableVertexAttribute(programReference, &quot;aPosition&quot;, 2, 0, 0);\r\n}\r\n```\r\n\r\nThe only thing left is to put everything together in the `Renderer` interface functions (which will be automatically called by the owning `GLSurfaceView` object):\r\n```lang-java\r\n@Override\r\npublic void onSurfaceCreated(GL10 gl, EGLConfig config) {}\r\n\r\n@Override\r\npublic void onSurfaceChanged(GL10 gl, int width, int height) {\r\n    GLES20.glViewport(0, 0, width, height);\r\n    final int program = loadProgram();\r\n    GLES20.glUseProgram(program);\r\n    initVertices(program);\r\n}\r\n\r\n@Override\r\npublic void onDrawFrame(GL10 gl) {\r\n    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);\r\n    GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4);\r\n}\r\n```\r\nAt this point this class should compile and be able to draw a white rectangle inside of the given view. \r\n\r\n## Draw the bitmap\r\nThe next step is to draw an actual image on the surface we prepared. In order to do that the vertex shader should take texture coordinates in addition to vertex coordinates:\r\n\r\n&lt;pre&gt;&lt;code&gt;attribute vec2 aPosition;\r\n&lt;b&gt;attribute vec2 aTextureCoord;\r\nvarying vec2 vTextureCoord;&lt;/b&gt;\r\nvoid main() {\r\n  gl_Position = vec4(aPosition.x, aPosition.y, 0.0, 1.0);\r\n  &lt;b&gt;vTextureCoord = aTextureCoord;&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIn turn, the fragment shader now takes the interpolated texture color and apply it to the output value.\r\n\r\n&lt;pre&gt;&lt;code&gt;precision mediump float;\r\n&lt;b&gt;uniform sampler2D uSampler;\r\nvarying vec2 vTextureCoord;&lt;/b&gt;\r\nvoid main() {\r\n  &lt;b&gt;gl_FragColor = texture2D(uSampler, vTextureCoord);&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\nTexture coordinates vary from 0.0 to 1.0 for x and y, with the beginning (0.0, 0.0) at the bottom left corner. Change you `initVertices` to look as follow:\r\n\r\n&lt;pre&gt;&lt;code&gt;private void initVertices(int programReference) {\r\n    final float[] verticesData = new float[] {\r\n           &lt;b&gt;//NDCS coords   //Texture coords\r\n            -1, 1,          0, 1,\r\n            -1, -1,         0, 0,\r\n            1,  1,          1, 1,\r\n            1,  -1,         1, 0&lt;/b&gt;\r\n    }\r\n    int buffers[] = new int[1];\r\n    GLES20.glGenBuffers(1, buffers, 0);\r\n    GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, buffers[0]);\r\n    GLES20.glBufferData(GLES20.GL_ARRAY_BUFFER, verticesData.length * 4, convertToBuffer(verticesData), GLES20.GL_STREAM_DRAW);\r\n    &lt;b&gt;final int stride = 4 * 4;\r\n    enableVertexAttribute(programReference, &quot;aPosition&quot;, 2, stride, 0);\r\n    enableVertexAttribute(programReference, &quot;aTextureCoord&quot;, 2, stride, 2 * 4);&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThe next method below `attachTexture` passes the source image to the texture sampler of the fragment shader `uSampler`:\r\n```lang-java\r\nprivate void attachTexture(int programReference) {\r\n    final int[] textures = new int[1];\r\n    GLES20.glGenTextures(1, textures, 0);\r\n    final int textureId = textures[0];\r\n    GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureId);\r\n    GLES20.glPixelStorei(GLES20.GL_UNPACK_ALIGNMENT, 1);\r\n    GLES20.glTexParameterf(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST);\r\n    GLES20.glTexParameterf(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST);\r\n    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_S, GLES20.GL_REPEAT);\r\n    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_T, GLES20.GL_REPEAT);\r\n    GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, mBitmap, 0);\r\n    GLES20.glActiveTexture(GLES20.GL_TEXTURE0);\r\n    GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureId);\r\n    final int samplerLocation = GLES20.glGetUniformLocation(programReference, &quot;uSampler&quot;);\r\n    GLES20.glUniform1i(samplerLocation, 0);\r\n}\r\n```\r\n\r\nThe method has to be called from `onSurfaceChanged` method:\r\n&lt;pre&gt;&lt;code&gt;@Override\r\npublic void onSurfaceChanged(GL10 gl, int width, int height) {\r\n    GLES20.glViewport(0, 0, width, height);\r\n    final int program = loadProgram();\r\n    GLES20.glUseProgram(program);\r\n    initVertices(program);\r\n    &lt;b&gt;attachTexture(program);&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n## Apply color filter\r\nNow we are all set to apply the color filter. The color filter is a 4x5 matrix, however OpenGL ES 2 has only matrices up to 4x4 dimension, thus we have to define a new structure, that can fit our color filter in form of a 4x4 matrix and a vector of 4 elements:\r\n&lt;pre&gt;&lt;code&gt;precision mediump float;\r\n&lt;b&gt;struct ColorFilter {\r\n  mat4 factor;\r\n  vec4 shift;\r\n};&lt;/b&gt;\r\nuniform sampler2D uSampler;\r\n&lt;b&gt;uniform ColorFilter uColorFilter;&lt;/b&gt;\r\nvarying vec2 vTextureCoord;\r\nvoid main() {\r\n  &lt;b&gt;vec4 originalColor = texture2D(uSampler, vTextureCoord);\r\n  vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\r\n  gl_FragColor = originalColor - filteredColor;&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n`attachColorFilter` method will help us to pass the filter matrix to the shader:\r\n```lang-java\r\nprivate void attachColorFilter(int program) {\r\n    final float[] colorFilterFactor = new float[4 * 4];\r\n    final float[] colorFilterShift = new float[4];\r\n    for (int i = 0; i &lt; mColorFilter.length; i++) {\r\n        final float value = mColorFilter[i];\r\n        final int calculateIndex = i + 1;\r\n        if (calculateIndex % 5 == 0) {\r\n            colorFilterShift[calculateIndex / 5 - 1] = value / 255;\r\n        } else {\r\n            colorFilterFactor[i - calculateIndex / 5] = value;\r\n        }\r\n    }\r\n    final int colorFactorLocation = GLES20.glGetUniformLocation(program, &quot;uColorFilter.factor&quot;);\r\n    GLES20.glUniformMatrix4fv(colorFactorLocation, 1, false, colorFilterFactor, 0);\r\n    final int colorShiftLocation = GLES20.glGetUniformLocation(program, &quot;uColorFilter.shift&quot;);\r\n    GLES20.glUniform4fv(colorShiftLocation, 1, colorFilterShift, 0);\r\n}\r\n```\r\nYou also need to call this method in `onSurfaceChanged` method:\r\n&lt;pre&gt;&lt;code&gt;@Override\r\npublic void onSurfaceChanged(GL10 gl, int width, int height) {\r\n    GLES20.glViewport(0, 0, width, height);\r\n    final int program = loadProgram();\r\n    GLES20.glUseProgram(program);\r\n    initVertices(program);\r\n    attachTexture(program);\r\n    &lt;b&gt;attachColorFilter(program);&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n## Alpha channel blending\r\nOur OpenGL context has alpha channel buffer enabled (it was configured via `hostView.setEGLConfigChooser(8, 8, 8, 8, 0, 0);`) otherwise we would always get some background for the output image (that is not correct, taking into account that png images tend to have different alpha channels for some pixels). This however breaks blending of alpha channels of background surface and the texture. That is not a big deal to implement it ourselves, however:\r\n\r\n&lt;pre&gt;&lt;code&gt;precision mediump float;\r\nstruct ColorFilter {\r\n  mat4 factor;\r\n  vec4 shift;\r\n};\r\nuniform sampler2D uSampler;\r\nuniform ColorFilter uColorFilter;\r\nvarying vec2 vTextureCoord;\r\nvoid main() {\r\n  vec4 originalColor = texture2D(uSampler, vTextureCoord);\r\n  &lt;b&gt;originalColor.rgb *= originalColor.a;&lt;/b&gt;\r\n  vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\r\n  &lt;b&gt;filteredColor.rgb *= filteredColor.a;\r\n  gl_FragColor = vec4(originalColor.rgb - filteredColor.rgb, originalColor.a);&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\nI also recommend to set the blend function to the following, so our output is not any affected by whatever is currently in the color buffer and behavior is closer to the Android&#39;s [`ImageView`][21]. However we didn&#39;t set color for clear color and it doesn&#39;t seem to change anything:\r\n```lang-java\r\n@Override\r\npublic void onSurfaceCreated(GL10 gl, EGLConfig config) {\r\n    GLES20.glEnable(GLES20.GL_BLEND);\r\n    GLES20.glBlendFunc(GLES20.GL_ONE, GLES20.GL_ZERO);\r\n}\r\n```\r\n\r\n## Post the result\r\nThe work is pretty much done at this point, the implementation only needs to return the result to the callback. First let&#39;s get bitmap from the `GLSurfaceView`, there is one brilliant solution that I borrowed from [another stackoverflow answer][22]:\r\n```lang-java\r\nprivate Bitmap retrieveBitmapFromGl(int width, int height) {\r\n    final ByteBuffer pixelBuffer = ByteBuffer.allocateDirect(width * height * PrimitiveSizes.FLOAT);\r\n    pixelBuffer.order(ByteOrder.LITTLE_ENDIAN);\r\n    GLES20.glReadPixels(0,0, width, height, GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, pixelBuffer);\r\n    final Bitmap image = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n    image.copyPixelsFromBuffer(pixelBuffer);\r\n    return image;\r\n}\r\n```\r\nNow just take the bitmap, check for errors and return the result:\r\n```lang-java\r\nprivate GLException getGlError() {\r\n    int errorValue = GLES20.glGetError();\r\n    switch (errorValue) {\r\n        case GLES20.GL_NO_ERROR:\r\n            return null;\r\n        default:\r\n            return new GLException(errorValue);\r\n    }\r\n}\r\n\r\nprivate void postResult() {\r\n    if (mFinished) {\r\n        return;\r\n    }\r\n    final GLSurfaceView hostView = mHostViewReference.get();\r\n    if (hostView == null) {\r\n        return;\r\n    }\r\n    GLException glError = getGlError();\r\n    if (glError != null) {\r\n        hostView.post(() -&gt; {\r\n            mCallback.onFailure(glError);\r\n            removeHostView(hostView);\r\n        });\r\n    } else {\r\n        final Bitmap result = retrieveBitmapFromGl(mBitmap.getWidth(), mBitmap.getHeight());\r\n        hostView.post(() -&gt; {\r\n            mCallback.onSuccess(result);\r\n            removeHostView(hostView);\r\n        });\r\n    }\r\n    mFinished = true;\r\n}\r\n\r\nprivate void removeHostView(@NonNull GLSurfaceView hostView) {\r\n    if (hostView.getParent() == null) {\r\n        return;\r\n    }\r\n    final WindowManager windowManager = (WindowManager) hostView.getContext().getSystemService(Context.WINDOW_SERVICE);\r\n    Objects.requireNonNull(windowManager).removeView(hostView);\r\n}\r\n```\r\nThe method needs to be called from `onDrawFrame` method:\r\n&lt;pre&gt;&lt;code&gt;@Override\r\npublic void onDrawFrame(GL10 gl) {\r\n    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);\r\n    GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4);\r\n    &lt;b&gt;postResult();&lt;/b&gt;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n---\r\n# Result\r\nLet&#39;s play around with the utility we just made. The all-zero filter should not affect the original image at all:\r\n\r\n### Code\r\n```lang-java\r\nBlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\r\n    0,      0,      0,      0,      0,\r\n    0,      0,      0,      0,      0,\r\n    0,      0,      0,      0,      0,\r\n    0,      0,      0,      0,      0\r\n}, activity, callback);\r\n```\r\n### Output\r\n[![Original image][23]][23]\r\n\r\nThe original image is on the left and the blended image is on the right. They are the same, as expected. You can also remove specific channels completely with this approach. E.g. here how red and green channels could be removed:\r\n\r\n### Code\r\n```lang-java\r\nBlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\r\n    1,      0,      0,      0,      0,\r\n    0,      1,      0,      0,      0,\r\n    0,      0,      0,      0,      0,\r\n    0,      0,      0,      1,      0\r\n}, activity, callback);\r\n```\r\n\r\n### Output\r\n[![Blue image][24]][24]\r\n\r\nFinally, here is the result for the filter given in the question:\r\n### Code\r\n```lang-java\r\nBlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\r\n    0.393f, 0.7689999f, 0.18899999f, 0, 0,\r\n    0.349f, 0.6859999f, 0.16799999f, 0, 0,\r\n    0.272f, 0.5339999f, 0.13099999f, 0, 0,\r\n    0,      0,          0,           1, 0\r\n}, activity, callback);\r\n```\r\n### Output\r\n[![Subtracted fiter image][25]][25]\r\n\r\n## Source code\r\n\r\nIf you struggle at any step, don&#39;t hesitate to refer to [the gist][1] with the complete code of the utility.\r\n\r\n\r\n  [1]: https://gist.github.com/TheDreamsWind/5049f1db908580b594f642f3f73836b5\r\n  [2]: https://i.stack.imgur.com/2HRte.png\r\n  [3]: https://www.rippletraining.com/articles/free-final-cut-pro-video-tutorials/2017/06/20/understanding-blend-modes-final-cut-pro/\r\n  [4]: https://i.stack.imgur.com/k6zYI.png\r\n  [5]: https://i.stack.imgur.com/yeWqf.png\r\n  [6]: https://i.stack.imgur.com/rNBrR.png\r\n  [7]: https://developer.android.com/reference/android/graphics/ColorFilter\r\n  [8]: https://developer.android.com/reference/android/graphics/PorterDuffColorFilter\r\n  [9]: https://developer.android.com/reference/android/graphics/LightingColorFilter\r\n  [10]: https://developer.android.com/reference/android/graphics/ColorMatrixColorFilter\r\n  [11]: https://developer.android.com/reference/android/graphics/ColorMatrix\r\n  [12]: https://i.stack.imgur.com/YEz91.png\r\n  [13]: https://i.stack.imgur.com/2uslw.png\r\n  [14]: https://developer.android.com/reference/android/graphics/PorterDuff.Mode\r\n  [15]: https://skia.org/\r\n  [16]: http://androidxref.com/5.0.0_r2/xref/external/skia/src/core/SkXfermode.cpp\r\n  [17]: https://developer.android.com/reference/android/opengl/GLSurfaceView\r\n  [18]: https://developer.android.com/reference/android/opengl/GLSurfaceView.Renderer\r\n  [19]: https://developer.android.com/reference/android/graphics/Bitmap\r\n  [20]: https://developer.android.com/reference/android/opengl/GLSurfaceView.html#RENDERMODE_WHEN_DIRTY\r\n  [21]: https://developer.android.com/reference/android/widget/ImageView\r\n  [22]: https://stackoverflow.com/a/21739723/5690248\r\n  [23]: https://i.stack.imgur.com/PnBQc.png\r\n  [24]: https://i.stack.imgur.com/NIQPc.png\r\n  [25]: https://i.stack.imgur.com/nNVAA.png","title":"Subtract Blend Mode using ColorMatrixFilter in Android?","body":"<h1>Long story short</h1>\n<p>There is no subtract color blending out of the box in the Android SDK, however you still can make it work with use of OpenGL rendering API. <a href=\"https://gist.github.com/TheDreamsWind/5049f1db908580b594f642f3f73836b5\" rel=\"nofollow noreferrer\">Here</a> you can find the implementation of such a solution, incapsulated in the <code>BlendingFilterUtil</code> class, which can be used like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\n    0.393f, 0.7689999f, 0.18899999f, 0, 0,\n    0.349f, 0.6859999f, 0.16799999f, 0, 0,\n    0.272f, 0.5339999f, 0.13099999f, 0, 0,\n    0,      0,          0,           1, 0\n}, activity, callback);\n</code></pre>\n<hr />\n<h1>Theory</h1>\n<p>First of all &quot;using a color filter for Subtract-Blend mode&quot; is a very vague requirement. In order to understand the problem better, let's define two distinct set of features: <strong>color blending</strong> and <strong>color filtering</strong> in Android.</p>\n<h2>Color blending</h2>\n<p>Color blending is quite a known thing among designers and people working with computer graphics. It commonly means blending two colors using their channel values (known as Red, Green, Blue and Alpha) and a blending function. The blending functions are referred to as Blend Modes and one of this modes is called <strong>Subtract</strong>. The Subtract Blend mode uses the following formula to get its final color:</p>\n<p><a href=\"https://i.stack.imgur.com/2HRte.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2HRte.png\" alt=\"Subtract blend mode\" /></a></p>\n<p>Where <em>Cout</em> is the resulting color, <em>Cdst</em> is the &quot;current&quot; color and <em>Csrc</em> is a color value used to change original color. If for any channel the difference is negative, 0 value is used instead. Roughly speaking, with this mode you can make the destination color darker than the original color, since the channels get closer to zero as a result of the function. <a href=\"https://www.rippletraining.com/articles/free-final-cut-pro-video-tutorials/2017/06/20/understanding-blend-modes-final-cut-pro/\" rel=\"nofollow noreferrer\">Here</a> you can find a very illustrative example of this mode in action:</p>\n<p><strong>Destination</strong></p>\n<p><a href=\"https://i.stack.imgur.com/k6zYI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6zYI.png\" alt=\"Destination\" /></a></p>\n<p><strong>Source</strong></p>\n<p><a href=\"https://i.stack.imgur.com/yeWqf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yeWqf.png\" alt=\"Source\" /></a></p>\n<p><strong>Color Blending Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/rNBrR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNBrR.png\" alt=\"Output\" /></a></p>\n<h2>Color filtering</h2>\n<p>In context of the Android SDK, color filtering is a super-set of operations, which has color blending functions included. <a href=\"https://developer.android.com/reference/android/graphics/ColorFilter\" rel=\"nofollow noreferrer\">The reference of <code>ColorFilter</code> subclasses</a> gives comprehensive information on available color filtering options in the SDK:</p>\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/graphics/PorterDuffColorFilter\" rel=\"nofollow noreferrer\"><code>PorterDuffColorFilter</code></a> is essentially the Blend Modes discussed above;</li>\n<li><a href=\"https://developer.android.com/reference/android/graphics/LightingColorFilter\" rel=\"nofollow noreferrer\"><code>LightingColorFilter</code></a> takes two arguments, one of which is used as a factor and another as an addition for Red, Green and Blue channels. Alpha channel remains untouched. So you can make some image look brighter (or darker, if factor is between 0 and 1, or addition is negative).</li>\n<li><a href=\"https://developer.android.com/reference/android/graphics/ColorMatrixColorFilter\" rel=\"nofollow noreferrer\"><code>ColorMatrixColorFilter</code></a> takes an instance of <a href=\"https://developer.android.com/reference/android/graphics/ColorMatrix\" rel=\"nofollow noreferrer\"><code>ColorMatrix</code></a> and use it to calculate the final color as follows:</li>\n</ul>\n<blockquote>\n<p>4x5 matrix for transforming the color and alpha components of a\nBitmap. The matrix can be passed as single array, and is treated as\nfollows:</p>\n<pre><code>[ a, b, c, d, e,\n  f, g, h, i, j,\n  k, l, m, n, o,\n  p, q, r, s, t ]</code></pre>\n<p>When applied to a color [R, G, B, A], the resulting color is computed as:</p>\n<pre><code>R’ = a*R + b*G + c*B + d*A + e;\nG’ = f*R + g*G + h*B + i*A + j; \nB’ = k*R + l*G + m*B + n*A + o;\nA’ = p*R + q*G + r*B + s*A + t;</code></pre>\n</blockquote>\n<h2>Defining the problem</h2>\n<p>Now we know that the only filtering operation in Android SDK that takes a <code>ColorMatrix</code> is <code>ColorMatrixColorFilter</code>. However it has nothing to do with color blending as color blending is a result of mixing two colors, while <code>ColorMatrixColorFilter</code> just modifies the input color. Here is how one of the sample images filtered with use of matrix from the question looks like:\n<a href=\"https://i.stack.imgur.com/YEz91.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YEz91.png\" alt=\"Filtered Image\" /></a></p>\n<p>The only way of mixing these two concepts I can think of is by using the result of <code>ColorMatrixColorFilter</code> as an argument to the subtract blending function (<em>Csrc</em>), so we end up with the following formula to implement:</p>\n<p><a href=\"https://i.stack.imgur.com/2uslw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uslw.png\" alt=\"Subtract filter formula\" /></a></p>\n<h2>Implementation approach</h2>\n<p>The task is not supposed to be something fancy: we could use a <code>ColorMatrixColorFilter</code> and then use subsequent <code>PorterDuffColorFilter</code> with subtract mode, using filtered result as the source color. However, If you take a closer look at <a href=\"https://developer.android.com/reference/android/graphics/PorterDuff.Mode\" rel=\"nofollow noreferrer\"><code>PorterDuff.Mode</code></a> reference, you will notice that <strong>Android does not have the Subtract Blend Mode</strong> in its facilities, (Android OS uses <a href=\"https://skia.org/\" rel=\"nofollow noreferrer\">Google's Skia</a> library underneath for canvas drawing and for some reason it really <a href=\"http://androidxref.com/5.0.0_r2/xref/external/skia/src/core/SkXfermode.cpp\" rel=\"nofollow noreferrer\">lacks Subtract mode</a>) so we will have to do our subtraction another way.\nSuch a thing is <em>comparatively</em> simple in Open GL rendering API, but it will requires us to deal with challenges of setting up the Open GL context so it allows us to draw what we need the way we need it.</p>\n<hr />\n<h1>Solution</h1>\n<p>Android already has <a href=\"https://developer.android.com/reference/android/opengl/GLSurfaceView\" rel=\"nofollow noreferrer\"><code>GLSurfaceView</code></a>, that sets up Open GL context under the hood, but it has to be in the view hierarchy in order to actually perform any rendering operation. My plan is to instantiate a <code>GLSurfaceView</code>, attach it the application window, give it an image that we want to apply our effects to and perform all the fancy stuff behind the scenes. After that we can take the resulting image and the view can be silently removed.</p>\n<h2>Adding <code>GLSurfaceView</code></h2>\n<p>First, instantiate a <code>GLSurfaceView</code>, set OpenGL API version and context configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GLSurfaceView hostView = new GLSurfaceView(activityContext);\nhostView.setEGLContextClientVersion(2);\nhostView.setEGLConfigChooser(8, 8, 8, 8, 0, 0);\n</code></pre>\n<p>Now the view has to be added into the view hierarchy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// View should be of bitmap size\nfinal WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams(width, height, TYPE_APPLICATION, 0, PixelFormat.OPAQUE);\nview.setLayoutParams(layoutParams);\nfinal WindowManager windowManager = (WindowManager) view.getContext().getSystemService(Context.WINDOW_SERVICE);\nObjects.requireNonNull(windowManager).addView(view, layoutParams);\n</code></pre>\n<p>I just put it into the root window in order to make it available from any activity in the appllication. The <code>width</code> and <code>height</code> params of the layout should match <code>width</code> and <code>height</code> of the <code>Bitmap</code>, so the resulting image doesn't end up with a different size.</p>\n<h2>Adding Renderer</h2>\n<p><code>GLSurfaceView</code> draws nothing itself. This work is to be done by a <a href=\"https://developer.android.com/reference/android/opengl/GLSurfaceView.Renderer\" rel=\"nofollow noreferrer\"><code>Renderer</code></a>. Here how the initial implementation of the interface for the given problem looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BlendingFilterRenderer implements GLSurfaceView.Renderer {\n    private final Bitmap mBitmap;\n    private final WeakReference&lt;GLSurfaceView&gt; mHostViewReference;\n    private final float[] mColorFilter;\n    private final BlendingFilterUtil.Callback mCallback;\n    private boolean mFinished = false;\n\n    BlendingFilterRenderer(@NonNull GLSurfaceView hostView, @NonNull Bitmap bitmap,\n                            @NonNull float[] colorFilter,\n                            @NonNull BlendingFilterUtil.Callback callback) throws IllegalArgumentException {\n        if (colorFilter.length != 4 * 5) {\n            throw new IllegalArgumentException(&quot;Color filter should be a 4 x 5 matrix&quot;);\n        }\n        mBitmap = bitmap;\n        mHostViewReference = new WeakReference&lt;&gt;(hostView);\n        mColorFilter = colorFilter;\n        mCallback = callback;\n    }\n\n    // ========================================== //\n    // GLSurfaceView.Renderer\n    // ========================================== //\n\n    @Override\n    public void onSurfaceCreated(GL10 gl, EGLConfig config) {}\n\n    @Override\n    public void onSurfaceChanged(GL10 gl, int width, int height) {}\n\n    @Override\n    public void onDrawFrame(GL10 gl) {}\n}\n</code></pre>\n<ul>\n<li><code>mBitmap</code> - since rendering operations happen in a separate thred, the renderer has retain the <a href=\"https://developer.android.com/reference/android/graphics/Bitmap\" rel=\"nofollow noreferrer\"><code>Bitmap</code></a> argument until the OpenGL context is ready.</li>\n<li><code>mHostViewReference</code> - a weak reference to the view object will be needed in order to remove it from the window when the work is done.</li>\n<li><code>mColorFilter</code> - <code>ColorMatrix</code> object is not really required in this implementation, thus I use plain <code>float[]</code> java array to represent the color matrix.</li>\n<li><code>mCallback</code> - The result will be delivered via a callback, which a defined as follows:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>interface Callback {\n    void onSuccess(@NonNull Bitmap blendedImage);\n    void onFailure(@Nullable Exception error);\n}\n</code></pre>\n<ul>\n<li><code>mFinished</code> - I'm not sure why exactly, but while playing with the <code>Renderer</code> object, I found that it performs redundant cycles of the rendering. This prevents the program from doing anything when it's no longer needed. I also recommend set rendering mode of the <code>GLSurfaceView</code> object to <a href=\"https://developer.android.com/reference/android/opengl/GLSurfaceView.html#RENDERMODE_WHEN_DIRTY\" rel=\"nofollow noreferrer\"><code>RENDERMODE_WHEN_DIRTY</code></a> to prevent a 60-times-per-second drawing:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>hostView.setRenderer(new BlendingFilterRenderer(hostView, image, filterValues, callback));\nhostView.setRenderMode(GLSurfaceView.RENDERMODE_WHEN_DIRTY);\n</code></pre>\n<h2>Drawing meshes</h2>\n<p>In order to draw a texel OpenGL first needs some surface to work on. For both drawing the image and building the canvas (the surface to drawn on), we have to introduce a couple of shader programs (Vertex and Fragment shaders in terms of OpenGL). The shaders are compiled and loaded via calls to OpenGL API, and first we need to define a method that takes the shader source code, compiles it and checks that it was done without errors (inside of the <code>BlendingFilterRenderer</code> class):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int loadShader(int type, String shaderCode) throws GLException {\n    int reference = GLES20.glCreateShader(type);\n    GLES20.glShaderSource(reference, shaderCode);\n    GLES20.glCompileShader(reference);\n    int[] compileStatus = new int[1];\n    GLES20.glGetShaderiv(reference, GLES20.GL_COMPILE_STATUS, compileStatus, 0);\n    if (compileStatus[0] != GLES20.GL_TRUE) {\n        GLES20.glDeleteShader(reference);\n        final String message = GLES20.glGetShaderInfoLog(reference);\n        throw new GLException(compileStatus[0], message);\n    }\n\n    return reference;\n}\n</code></pre>\n<p>The first parameter of the method defines the shader type (Vertex or Fragment), the second one contains the actual shader code as a <code>String</code>. Let's start with very minimalistic Vertex shader which just takes a vertex coordinates (given as a normalized 2-dimensional vector) and inject them into the <code>gl_Position</code> variable (essentially the resulting value of the shader):</p>\n<pre class=\"lang-c prettyprint-override\"><code>attribute vec2 aPosition;\nvoid main() {\n    gl_Position = vec4(aPosition.x, aPosition.y, 0.0, 1.0);\n}\n</code></pre>\n<p>The Fragment shader implementation just outputs a white color without any changes for now:</p>\n<pre class=\"lang-c prettyprint-override\"><code>precision mediump float;\nvoid main() {\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n}\n</code></pre>\n<p>OpenGL ES 2 requires us to specify float precision explicitly, otherwise this program wont compile. This shader also writes to global variable <code>gl_FragColor</code>, that defines the output color.</p>\n<p>With help of previously defined <code>loadShader</code> method and the shaders source code, we can now define another method in the <code>BlendingFilterRenderer</code> class, which compiles and link both shaders into a program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int loadProgram() {\n    int fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, &quot;precision mediump float;&quot; +\n            &quot;void main() {&quot; +\n            &quot;  gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);&quot; +\n            &quot;}&quot;);\n    int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, &quot;attribute vec2 aPosition;&quot; +\n            &quot;void main() {&quot; +\n            &quot;  gl_Position = vec4(aPosition.x, aPosition.y, 0.0, 1.0);&quot; +\n            &quot;}&quot;);\n    int programReference = GLES20.glCreateProgram();\n    GLES20.glAttachShader(programReference, vertexShader);\n    GLES20.glAttachShader(programReference, fragmentShader);\n    GLES20.glLinkProgram(programReference);\n    return programReference;\n}\n</code></pre>\n<p>Now, when the program is ready, we can pass it some arguments. First, define a method in the <code>BlendingFilterRenderer</code> class that enables the attributes in the shaders:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void enableVertexAttribute(int program, String attributeName, int size, int stride, int offset) {\n    final int attributeLocation = GLES20.glGetAttribLocation(program, attributeName);\n    GLES20.glVertexAttribPointer(attributeLocation, size, GLES20.GL_FLOAT, false, stride, offset);\n    GLES20.glEnableVertexAttribArray(attributeLocation);\n}\n</code></pre>\n<p>In order to built a canvas the whole view port needs to be filled. It can be done with merely 4 vertices in the normalized device coordinate system (NDCS):</p>\n<pre class=\"lang-java prettyprint-override\"><code>new float[] {\n    -1, 1,\n    -1, -1,\n    1,  1,\n    1,  -1,\n}\n</code></pre>\n<p>This array has to be loaded into a OpenGL's array buffer in order to become accessible to the shaders:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private FloatBuffer convertToBuffer(float[] array) {\n    final ByteBuffer buffer = ByteBuffer.allocateDirect(array.length * PrimitiveSizes.FLOAT);\n    FloatBuffer output = buffer.order(ByteOrder.nativeOrder()).asFloatBuffer();\n    output.put(array);\n    output.position(0);\n    return output;\n}\n\nprivate void initVertices(int programReference) {\n    final float[] verticesData = new float[] {\n            -1, 1,\n            -1, -1,\n            1,  1,\n            1,  -1,\n    }\n    int buffers[] = new int[1];\n    GLES20.glGenBuffers(1, buffers, 0);\n    GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, buffers[0]);\n    GLES20.glBufferData(GLES20.GL_ARRAY_BUFFER, verticesData.length * 4, convertToBuffer(verticesData), GLES20.GL_STREAM_DRAW);\n    enableVertexAttribute(programReference, &quot;aPosition&quot;, 2, 0, 0);\n}\n</code></pre>\n<p>The only thing left is to put everything together in the <code>Renderer</code> interface functions (which will be automatically called by the owning <code>GLSurfaceView</code> object):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onSurfaceCreated(GL10 gl, EGLConfig config) {}\n\n@Override\npublic void onSurfaceChanged(GL10 gl, int width, int height) {\n    GLES20.glViewport(0, 0, width, height);\n    final int program = loadProgram();\n    GLES20.glUseProgram(program);\n    initVertices(program);\n}\n\n@Override\npublic void onDrawFrame(GL10 gl) {\n    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);\n    GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4);\n}\n</code></pre>\n<p>At this point this class should compile and be able to draw a white rectangle inside of the given view.</p>\n<h2>Draw the bitmap</h2>\n<p>The next step is to draw an actual image on the surface we prepared. In order to do that the vertex shader should take texture coordinates in addition to vertex coordinates:</p>\n<pre><code>attribute vec2 aPosition;\n<b>attribute vec2 aTextureCoord;\nvarying vec2 vTextureCoord;</b>\nvoid main() {\n  gl_Position = vec4(aPosition.x, aPosition.y, 0.0, 1.0);\n  <b>vTextureCoord = aTextureCoord;</b>\n}</code></pre>\n<p>In turn, the fragment shader now takes the interpolated texture color and apply it to the output value.</p>\n<pre><code>precision mediump float;\n<b>uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;</b>\nvoid main() {\n  <b>gl_FragColor = texture2D(uSampler, vTextureCoord);</b>\n}</code></pre>\n<p>Texture coordinates vary from 0.0 to 1.0 for x and y, with the beginning (0.0, 0.0) at the bottom left corner. Change you <code>initVertices</code> to look as follow:</p>\n<pre><code>private void initVertices(int programReference) {\n    final float[] verticesData = new float[] {\n           <b>//NDCS coords   //Texture coords\n            -1, 1,          0, 1,\n            -1, -1,         0, 0,\n            1,  1,          1, 1,\n            1,  -1,         1, 0</b>\n    }\n    int buffers[] = new int[1];\n    GLES20.glGenBuffers(1, buffers, 0);\n    GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, buffers[0]);\n    GLES20.glBufferData(GLES20.GL_ARRAY_BUFFER, verticesData.length * 4, convertToBuffer(verticesData), GLES20.GL_STREAM_DRAW);\n    <b>final int stride = 4 * 4;\n    enableVertexAttribute(programReference, \"aPosition\", 2, stride, 0);\n    enableVertexAttribute(programReference, \"aTextureCoord\", 2, stride, 2 * 4);</b>\n}</code></pre>\n<p>The next method below <code>attachTexture</code> passes the source image to the texture sampler of the fragment shader <code>uSampler</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void attachTexture(int programReference) {\n    final int[] textures = new int[1];\n    GLES20.glGenTextures(1, textures, 0);\n    final int textureId = textures[0];\n    GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureId);\n    GLES20.glPixelStorei(GLES20.GL_UNPACK_ALIGNMENT, 1);\n    GLES20.glTexParameterf(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST);\n    GLES20.glTexParameterf(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST);\n    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_S, GLES20.GL_REPEAT);\n    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_T, GLES20.GL_REPEAT);\n    GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, mBitmap, 0);\n    GLES20.glActiveTexture(GLES20.GL_TEXTURE0);\n    GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureId);\n    final int samplerLocation = GLES20.glGetUniformLocation(programReference, &quot;uSampler&quot;);\n    GLES20.glUniform1i(samplerLocation, 0);\n}\n</code></pre>\n<p>The method has to be called from <code>onSurfaceChanged</code> method:</p>\n<pre><code>@Override\npublic void onSurfaceChanged(GL10 gl, int width, int height) {\n    GLES20.glViewport(0, 0, width, height);\n    final int program = loadProgram();\n    GLES20.glUseProgram(program);\n    initVertices(program);\n    <b>attachTexture(program);</b>\n}</code></pre>\n<h2>Apply color filter</h2>\n<p>Now we are all set to apply the color filter. The color filter is a 4x5 matrix, however OpenGL ES 2 has only matrices up to 4x4 dimension, thus we have to define a new structure, that can fit our color filter in form of a 4x4 matrix and a vector of 4 elements:</p>\n<pre><code>precision mediump float;\n<b>struct ColorFilter {\n  mat4 factor;\n  vec4 shift;\n};</b>\nuniform sampler2D uSampler;\n<b>uniform ColorFilter uColorFilter;</b>\nvarying vec2 vTextureCoord;\nvoid main() {\n  <b>vec4 originalColor = texture2D(uSampler, vTextureCoord);\n  vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\n  gl_FragColor = originalColor - filteredColor;</b>\n}</code></pre>\n<p><code>attachColorFilter</code> method will help us to pass the filter matrix to the shader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void attachColorFilter(int program) {\n    final float[] colorFilterFactor = new float[4 * 4];\n    final float[] colorFilterShift = new float[4];\n    for (int i = 0; i &lt; mColorFilter.length; i++) {\n        final float value = mColorFilter[i];\n        final int calculateIndex = i + 1;\n        if (calculateIndex % 5 == 0) {\n            colorFilterShift[calculateIndex / 5 - 1] = value / 255;\n        } else {\n            colorFilterFactor[i - calculateIndex / 5] = value;\n        }\n    }\n    final int colorFactorLocation = GLES20.glGetUniformLocation(program, &quot;uColorFilter.factor&quot;);\n    GLES20.glUniformMatrix4fv(colorFactorLocation, 1, false, colorFilterFactor, 0);\n    final int colorShiftLocation = GLES20.glGetUniformLocation(program, &quot;uColorFilter.shift&quot;);\n    GLES20.glUniform4fv(colorShiftLocation, 1, colorFilterShift, 0);\n}\n</code></pre>\n<p>You also need to call this method in <code>onSurfaceChanged</code> method:</p>\n<pre><code>@Override\npublic void onSurfaceChanged(GL10 gl, int width, int height) {\n    GLES20.glViewport(0, 0, width, height);\n    final int program = loadProgram();\n    GLES20.glUseProgram(program);\n    initVertices(program);\n    attachTexture(program);\n    <b>attachColorFilter(program);</b>\n}</code></pre>\n<h2>Alpha channel blending</h2>\n<p>Our OpenGL context has alpha channel buffer enabled (it was configured via <code>hostView.setEGLConfigChooser(8, 8, 8, 8, 0, 0);</code>) otherwise we would always get some background for the output image (that is not correct, taking into account that png images tend to have different alpha channels for some pixels). This however breaks blending of alpha channels of background surface and the texture. That is not a big deal to implement it ourselves, however:</p>\n<pre><code>precision mediump float;\nstruct ColorFilter {\n  mat4 factor;\n  vec4 shift;\n};\nuniform sampler2D uSampler;\nuniform ColorFilter uColorFilter;\nvarying vec2 vTextureCoord;\nvoid main() {\n  vec4 originalColor = texture2D(uSampler, vTextureCoord);\n  <b>originalColor.rgb *= originalColor.a;</b>\n  vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\n  <b>filteredColor.rgb *= filteredColor.a;\n  gl_FragColor = vec4(originalColor.rgb - filteredColor.rgb, originalColor.a);</b>\n}</code></pre>\n<p>I also recommend to set the blend function to the following, so our output is not any affected by whatever is currently in the color buffer and behavior is closer to the Android's <a href=\"https://developer.android.com/reference/android/widget/ImageView\" rel=\"nofollow noreferrer\"><code>ImageView</code></a>. However we didn't set color for clear color and it doesn't seem to change anything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onSurfaceCreated(GL10 gl, EGLConfig config) {\n    GLES20.glEnable(GLES20.GL_BLEND);\n    GLES20.glBlendFunc(GLES20.GL_ONE, GLES20.GL_ZERO);\n}\n</code></pre>\n<h2>Post the result</h2>\n<p>The work is pretty much done at this point, the implementation only needs to return the result to the callback. First let's get bitmap from the <code>GLSurfaceView</code>, there is one brilliant solution that I borrowed from <a href=\"https://stackoverflow.com/a/21739723/5690248\">another stackoverflow answer</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Bitmap retrieveBitmapFromGl(int width, int height) {\n    final ByteBuffer pixelBuffer = ByteBuffer.allocateDirect(width * height * PrimitiveSizes.FLOAT);\n    pixelBuffer.order(ByteOrder.LITTLE_ENDIAN);\n    GLES20.glReadPixels(0,0, width, height, GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, pixelBuffer);\n    final Bitmap image = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n    image.copyPixelsFromBuffer(pixelBuffer);\n    return image;\n}\n</code></pre>\n<p>Now just take the bitmap, check for errors and return the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private GLException getGlError() {\n    int errorValue = GLES20.glGetError();\n    switch (errorValue) {\n        case GLES20.GL_NO_ERROR:\n            return null;\n        default:\n            return new GLException(errorValue);\n    }\n}\n\nprivate void postResult() {\n    if (mFinished) {\n        return;\n    }\n    final GLSurfaceView hostView = mHostViewReference.get();\n    if (hostView == null) {\n        return;\n    }\n    GLException glError = getGlError();\n    if (glError != null) {\n        hostView.post(() -&gt; {\n            mCallback.onFailure(glError);\n            removeHostView(hostView);\n        });\n    } else {\n        final Bitmap result = retrieveBitmapFromGl(mBitmap.getWidth(), mBitmap.getHeight());\n        hostView.post(() -&gt; {\n            mCallback.onSuccess(result);\n            removeHostView(hostView);\n        });\n    }\n    mFinished = true;\n}\n\nprivate void removeHostView(@NonNull GLSurfaceView hostView) {\n    if (hostView.getParent() == null) {\n        return;\n    }\n    final WindowManager windowManager = (WindowManager) hostView.getContext().getSystemService(Context.WINDOW_SERVICE);\n    Objects.requireNonNull(windowManager).removeView(hostView);\n}\n</code></pre>\n<p>The method needs to be called from <code>onDrawFrame</code> method:</p>\n<pre><code>@Override\npublic void onDrawFrame(GL10 gl) {\n    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);\n    GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4);\n    <b>postResult();</b>\n}</code></pre>\n<hr />\n<h1>Result</h1>\n<p>Let's play around with the utility we just made. The all-zero filter should not affect the original image at all:</p>\n<h3>Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>BlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\n    0,      0,      0,      0,      0,\n    0,      0,      0,      0,      0,\n    0,      0,      0,      0,      0,\n    0,      0,      0,      0,      0\n}, activity, callback);\n</code></pre>\n<h3>Output</h3>\n<p><a href=\"https://i.stack.imgur.com/PnBQc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PnBQc.png\" alt=\"Original image\" /></a></p>\n<p>The original image is on the left and the blended image is on the right. They are the same, as expected. You can also remove specific channels completely with this approach. E.g. here how red and green channels could be removed:</p>\n<h3>Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>BlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\n    1,      0,      0,      0,      0,\n    0,      1,      0,      0,      0,\n    0,      0,      0,      0,      0,\n    0,      0,      0,      1,      0\n}, activity, callback);\n</code></pre>\n<h3>Output</h3>\n<p><a href=\"https://i.stack.imgur.com/NIQPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NIQPc.png\" alt=\"Blue image\" /></a></p>\n<p>Finally, here is the result for the filter given in the question:</p>\n<h3>Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>BlendingFilterUtil.subtractMatrixColorFilter(bitmap, new float[]{\n    0.393f, 0.7689999f, 0.18899999f, 0, 0,\n    0.349f, 0.6859999f, 0.16799999f, 0, 0,\n    0.272f, 0.5339999f, 0.13099999f, 0, 0,\n    0,      0,          0,           1, 0\n}, activity, callback);\n</code></pre>\n<h3>Output</h3>\n<p><a href=\"https://i.stack.imgur.com/nNVAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNVAA.png\" alt=\"Subtracted fiter image\" /></a></p>\n<h2>Source code</h2>\n<p>If you struggle at any step, don't hesitate to refer to <a href=\"https://gist.github.com/TheDreamsWind/5049f1db908580b594f642f3f73836b5\" rel=\"nofollow noreferrer\">the gist</a> with the complete code of the utility.</p>\n"}],"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2657,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"answer_count":2,"score":56,"last_activity_date":1679505074,"creation_date":1445906127,"question_id":33358030,"body_markdown":"I have the following ColorMatrixFilter. But I want to use it as a mask for Subtract-Blend mode, instead of using it directly. How do I go about achieving this? \r\n\r\nColorMatrix: \r\n\r\n    colorMatrix[\r\n\t\t\t0.393, 0.7689999, 0.18899999, 0, 0,\r\n\t\t\t0.349, 0.6859999, 0.16799999, 0, 0,\r\n\t\t\t0.272, 0.5339999, 0.13099999, 0, 0,\r\n\t\t\t0,     0,         0,          1, 0\r\n\t\t];\r\n","title":"Subtract Blend Mode using ColorMatrixFilter in Android?","body":"<p>I have the following ColorMatrixFilter. But I want to use it as a mask for Subtract-Blend mode, instead of using it directly. How do I go about achieving this? </p>\n\n<p>ColorMatrix: </p>\n\n<pre><code>colorMatrix[\n        0.393, 0.7689999, 0.18899999, 0, 0,\n        0.349, 0.6859999, 0.16799999, 0, 0,\n        0.272, 0.5339999, 0.13099999, 0, 0,\n        0,     0,         0,          1, 0\n    ];\n</code></pre>\n"},{"tags":["java","spring","generics","dependency-injection"],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679504958,"creation_date":1679504958,"question_id":75815285,"body_markdown":"I have a generic class with the type `&lt;T&gt;` and a constructor like `Target(Class&lt;T&gt; type, String foo)`.\r\n\r\nIs it possible to configure a dependency injection for that, so when I want a \r\n`Target&lt;SomeType&gt; someTypeTarget` to be injected directly by Spring? \r\n\r\n`SomeType` is an interface where I don&#39;t have any implementations in code for, those should be generated at runtime by a library.\r\n\r\nI use Spring 5.3.x so it has the capability of working with generics for dependency injections.\r\n\r\nI only use annotation based configuration for the dependency injection in this project.\r\n\r\nSo far I worked around by injecting a `TargetFactory` that has a method `Target&lt;S&gt; provideTarget(Class&lt;S&gt; type, String foo)` that just calls the constructor, but it needs that extra bit of work to define the factory as interface and provide an implementation (I need different implementations of `Target` for runtime and tests).\r\n\r\n``` lang-java\r\ninterface Target&lt;S&gt; {\r\n    S getRealTarget();\r\n}\r\n```\r\n``` lang-java\r\ninterface TargetFactory {\r\n\t&lt;S&gt; Target&lt;S&gt; provideTarget(Class&lt;S&gt; type, String foo);\r\n}\r\n```\r\n``` lang-java\r\n@Component\r\npublic class MyTargetFactory implements TargetFactory {\r\n\t@Override\r\n\tpublic &lt;U&gt; Target&lt;U&gt; provideTarget(Class&lt;U&gt; type, String foo) {\r\n\t\treturn new LibTarget&lt;&gt;(type, foo);\r\n\t}\r\n}\r\n```\r\nIt&#39;s used like this:\r\n``` lang-java\r\n@Bean\r\npublic SomeType provideRemoteMessagesRest(@Qualifier(&quot;specialFoo&quot;) String foo,\r\n                                          TargetFactory targetFactory                                                    \r\n) {\r\n\treturn targetFactory.provideTarget(SomeType.class, foo).getRealTarget();\r\n}\r\n```\r\nAnd then `SomeType` is injected into another constructor...\r\n\r\n`Target` and `LibTarget` are implementations provided by the used lib.\r\n\r\nI know that you cannot just get the `Class` of a generic parameter, but as Spring is capable of using the type parameter as qualifier, I&#39;m wondering if it has some more &quot;magic&quot; available here.\r\n\r\nAnd if this helps somehow: the used lib is [Feign](https://github.com/OpenFeign/feign) but I don&#39;t think this is really relevant.","title":"Spring dependency injection: inject Class of generic type","body":"<p>I have a generic class with the type <code>&lt;T&gt;</code> and a constructor like <code>Target(Class&lt;T&gt; type, String foo)</code>.</p>\n<p>Is it possible to configure a dependency injection for that, so when I want a\n<code>Target&lt;SomeType&gt; someTypeTarget</code> to be injected directly by Spring?</p>\n<p><code>SomeType</code> is an interface where I don't have any implementations in code for, those should be generated at runtime by a library.</p>\n<p>I use Spring 5.3.x so it has the capability of working with generics for dependency injections.</p>\n<p>I only use annotation based configuration for the dependency injection in this project.</p>\n<p>So far I worked around by injecting a <code>TargetFactory</code> that has a method <code>Target&lt;S&gt; provideTarget(Class&lt;S&gt; type, String foo)</code> that just calls the constructor, but it needs that extra bit of work to define the factory as interface and provide an implementation (I need different implementations of <code>Target</code> for runtime and tests).</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Target&lt;S&gt; {\n    S getRealTarget();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>interface TargetFactory {\n    &lt;S&gt; Target&lt;S&gt; provideTarget(Class&lt;S&gt; type, String foo);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyTargetFactory implements TargetFactory {\n    @Override\n    public &lt;U&gt; Target&lt;U&gt; provideTarget(Class&lt;U&gt; type, String foo) {\n        return new LibTarget&lt;&gt;(type, foo);\n    }\n}\n</code></pre>\n<p>It's used like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SomeType provideRemoteMessagesRest(@Qualifier(&quot;specialFoo&quot;) String foo,\n                                          TargetFactory targetFactory                                                    \n) {\n    return targetFactory.provideTarget(SomeType.class, foo).getRealTarget();\n}\n</code></pre>\n<p>And then <code>SomeType</code> is injected into another constructor...</p>\n<p><code>Target</code> and <code>LibTarget</code> are implementations provided by the used lib.</p>\n<p>I know that you cannot just get the <code>Class</code> of a generic parameter, but as Spring is capable of using the type parameter as qualifier, I'm wondering if it has some more &quot;magic&quot; available here.</p>\n<p>And if this helps somehow: the used lib is <a href=\"https://github.com/OpenFeign/feign\" rel=\"nofollow noreferrer\">Feign</a> but I don't think this is really relevant.</p>\n"},{"tags":["java","bash","maven"],"comments":[{"owner":{"account_id":32384,"reputation":120260,"user_id":89817,"display_name":"Gordon Davisson"},"score":1,"creation_date":1679463325,"post_id":75808055,"comment_id":133724884,"body_markdown":"By default, shell scripts don&#39;t exit on errors. You can make them do that with `set -e`, but its idea of what&#39;s an exit-worthy error often doesn&#39;t match up with a reasonable person&#39;s (see [BashFAQ #105: &quot;Why doesn&#39;t `set -e` (or `set -o errexit`, or `trap ERR`) do what I expected?&quot;), so it&#39;s not very reliable. Personally, I just add error checking to important steps in the script, which can be as simple as `importantCommand || exit`.","body":"By default, shell scripts don&#39;t exit on errors. You can make them do that with <code>set -e</code>, but its idea of what&#39;s an exit-worthy error often doesn&#39;t match up with a reasonable person&#39;s (see [BashFAQ #105: &quot;Why doesn&#39;t <code>set -e</code> (or <code>set -o errexit</code>, or <code>trap ERR</code>) do what I expected?&quot;), so it&#39;s not very reliable. Personally, I just add error checking to important steps in the script, which can be as simple as <code>importantCommand || exit</code>."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1679468484,"post_id":75808055,"comment_id":133725525,"body_markdown":"@otter : In the posted script, the only command in question is `$RUN_CMD[@]`. Are you refering to **this** command to fail?","body":"@otter : In the posted script, the only command in question is <code>$RUN_CMD[@]</code>. Are you refering to <b>this</b> command to fail?"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1679473818,"post_id":75808055,"comment_id":133726590,"body_markdown":"When you execute a script, its the script itself that is responsible for proper error handling and process cleanup. Once you write a fully self contained script, you wont have any more problems with build","body":"When you execute a script, its the script itself that is responsible for proper error handling and process cleanup. Once you write a fully self contained script, you wont have any more problems with build"},{"owner":{"account_id":27995348,"reputation":21,"user_id":21380727,"display_name":"otter"},"score":0,"creation_date":1679490560,"post_id":75808055,"comment_id":133730938,"body_markdown":"@user1934428 I am expecting if any of the components&#39; build processes fail, it will not execute $RUN_CMD[@]","body":"@user1934428 I am expecting if any of the components&#39; build processes fail, it will not execute $RUN_CMD[@]"},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1679492411,"post_id":75808055,"comment_id":133731466,"body_markdown":"My impression is that you&#39;re asking us to debug a third party&#39;s build/install script. But that is not the spirit of StackOverflow. Please read about [mcve] and look at their code. Can you boil the problem down to something readers can test without having goto an external site and run that build process? For debugging help, maybe read https://stackoverflow.com/tags/bash/info , skipping the version information at the top, and searching for &quot;Before asking about problematic code&quot; and &quot;How to turn bad code into a good question&quot;. (Or file a bug report with the project?) Good Luck","body":"My impression is that you&#39;re asking us to debug a third party&#39;s build/install script. But that is not the spirit of StackOverflow. Please read about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and look at their code. Can you boil the problem down to something readers can test without having goto an external site and run that build process? For debugging help, maybe read <a href=\"https://stackoverflow.com/tags/bash/info\">stackoverflow.com/tags/bash/info</a> , skipping the version information at the top, and searching for &quot;Before asking about problematic code&quot; and &quot;How to turn bad code into a good question&quot;. (Or file a bug report with the project?) Good Luck"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1679493450,"post_id":75808055,"comment_id":133731845,"body_markdown":"You don&#39;t show in your script, how you build your comments, so I can&#39;t say how you can determine their failure.","body":"You don&#39;t show in your script, how you build your comments, so I can&#39;t say how you can determine their failure."},{"owner":{"account_id":27995348,"reputation":21,"user_id":21380727,"display_name":"otter"},"score":0,"creation_date":1679494813,"post_id":75808055,"comment_id":133732311,"body_markdown":"@shellter  Thanks for your reply and guidance, I am new here and will read through the information you provided.","body":"@shellter  Thanks for your reply and guidance, I am new here and will read through the information you provided."},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1679497099,"post_id":75808055,"comment_id":133733095,"body_markdown":"AND you are relying on OpenRefine AFTER you are attempting to build some other X project. (as user193... has pointed out). Please edit your question to put a name to &quot;project X&quot; and include a github URL for it. (Not how we like to do things, but I have a little time today, maybe I can look at this). Good luck.","body":"AND you are relying on OpenRefine AFTER you are attempting to build some other X project. (as user193... has pointed out). Please edit your question to put a name to &quot;project X&quot; and include a github URL for it. (Not how we like to do things, but I have a little time today, maybe I can look at this). Good luck."},{"owner":{"account_id":55879,"reputation":10520,"user_id":167425,"accept_rate":50,"display_name":"Tom Morris"},"score":0,"creation_date":1679503658,"post_id":75808055,"comment_id":133735083,"body_markdown":"StackOverflow isn&#39;t intended as a place to get a bash tutorial. The two things needed are to 1) figure out how to get the Java compilation error to propagate to the Maven exit (if it isn&#39;t already) and 2) how to check the Maven exit code and modify the execution flow. As an intern applying to the OpenRefine project, you shouldn&#39;t be relying on StackOverflow to do this for you.","body":"StackOverflow isn&#39;t intended as a place to get a bash tutorial. The two things needed are to 1) figure out how to get the Java compilation error to propagate to the Maven exit (if it isn&#39;t already) and 2) how to check the Maven exit code and modify the execution flow. As an intern applying to the OpenRefine project, you shouldn&#39;t be relying on StackOverflow to do this for you."},{"owner":{"account_id":27995348,"reputation":21,"user_id":21380727,"display_name":"otter"},"score":0,"creation_date":1679503897,"post_id":75808055,"comment_id":133735148,"body_markdown":"@GordonDavisson I solved this problem by using importantCommand || exit. The only thing I found out is to know when and where the compile fail and add on &quot;|| exit&quot;. Thanks so much for saving my day!","body":"@GordonDavisson I solved this problem by using importantCommand || exit. The only thing I found out is to know when and where the compile fail and add on &quot;|| exit&quot;. Thanks so much for saving my day!"},{"owner":{"account_id":27995348,"reputation":21,"user_id":21380727,"display_name":"otter"},"score":0,"creation_date":1679503949,"post_id":75808055,"comment_id":133735165,"body_markdown":"@shellter Thanks for your kindness. I appreciate your words and your trying to help.","body":"@shellter Thanks for your kindness. I appreciate your words and your trying to help."},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":1,"creation_date":1679506165,"post_id":75808055,"comment_id":133735724,"body_markdown":"@otter : Glad you found a solution to your problem. `|| exit` is certainly effective. Dig into why `ImportantCommand` is failing and you&#39;ll be on your way. I was thinking of a comment about how much you can learn from just a simple example like `set -vx ; true ; false ; true &amp;&amp; true ; false &amp;&amp; true ; false || true ; true || true ; true || false ; set +vx`. Best to take each section between `;` chars and copy/paste to a command line and inspect what is happening for each segment. You could append `; echo $?` to each segment .  ...","body":"@otter : Glad you found a solution to your problem. <code>|| exit</code> is certainly effective. Dig into why <code>ImportantCommand</code> is failing and you&#39;ll be on your way. I was thinking of a comment about how much you can learn from just a simple example like <code>set -vx ; true ; false ; true &amp;&amp; true ; false &amp;&amp; true ; false || true ; true || true ; true || false ; set +vx</code>. Best to take each section between <code>;</code> chars and copy/paste to a command line and inspect what is happening for each segment. You could append <code>; echo $?</code> to each segment .  ..."},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1679506173,"post_id":75808055,"comment_id":133735727,"body_markdown":"(Commands return 0 for true/success and non-zero numbers when there are prroblems. ). Good luck!","body":"(Commands return 0 for true/success and non-zero numbers when there are prroblems. ). Good luck!"},{"owner":{"account_id":27995348,"reputation":21,"user_id":21380727,"display_name":"otter"},"score":0,"creation_date":1679509422,"post_id":75808055,"comment_id":133736577,"body_markdown":"@shellter Thank you! I saved your suggestion and will definitely try these out. All the best :).","body":"@shellter Thank you! I saved your suggestion and will definitely try these out. All the best :)."}],"owner":{"account_id":27995348,"reputation":21,"user_id":21380727,"display_name":"otter"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679504410,"creation_date":1679453176,"question_id":75808055,"body_markdown":"The refine script on Linux does not do a good job at stopping if it needs to compile OpenRefine and compilation errors occur.\r\n\r\nTo Reproduce\r\n\r\nSteps to reproduce the behavior (from a git clone of the repository):\r\n\r\nFirst, clean with ./refine clean\r\nThen, introduce some compilation error somewhere, such as by doing rm ./extensions/wikibase/src/org/openrefine/wikibase/qa/QAWarning.java\r\nFinally, run ./refine\r\nCurrent Results\r\n\r\nThe compilation fails in the Wikibase extension but the refine script still attempts to start OpenRefine:\r\n\r\n```\r\n...\r\n[ERROR] extensions/wikibase/src/org/openrefine/wikibase/qa/scrutinizers/NewEntityScrutinizer.java:[104,17] cannot find symbol\r\n[ERROR]   symbol:   class QAWarning\r\n[ERROR]   location: class org.openrefine.wikibase.qa.scrutinizers.NewEntityScrutinizer\r\n[ERROR] extensions/wikibase/src/org/openrefine/wikibase/qa/scrutinizers/NewEntityScrutinizer.java:[104,39] cannot find symbol\r\n[ERROR]   symbol:   class QAWarning\r\n[ERROR]   location: class org.openrefine.wikibase.qa.scrutinizers.NewEntityScrutinizer\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :wikibase\r\n\r\n\r\n15:54:05.840 [            refine_server] Starting Server bound to &#39;127.0.0.1:3333&#39; (0ms)\r\n15:54:05.975 [            refine_server] refine.memory size: 1400M JVM Max heap: 1468006400 bytes (135ms)\r\n15:54:06.359 [            refine_server] Initializing context: &#39;/&#39; from &#39;/home/user/OpenRefine/main/webapp&#39; (384ms)\r\n15:54:06.948 [            refine_server] Starting autoreloading scanner...  (589ms)\r\n15:54:13.478 [                   refine] Starting OpenRefine 3.8-SNAPSHOT [acca2dd]... (6530ms)\r\n15:54:13.495 [                   refine] initializing FileProjectManager with dir (17ms)\r\n...\r\n````\r\nExpected Behavior\r\n\r\nThe refine script should stop at the end of the failing Maven build.\r\n\r\n\r\nhttps://github.com/OpenRefine/OpenRefine/issues/5698\r\n\r\nI found out the control of running server is these lines:\r\n\r\n```\r\n RUN_CMD=(&quot;$JAVA&quot; -cp &quot;$CLASSPATH&quot; &quot;${OPTS[@]}&quot; &quot;com.google.refine.Refine&quot;)\r\n\r\n    echo &quot;&quot;\r\n    \r\n    \r\n\r\n    if [ -z &quot;$FORK&quot; ] ; then\r\n        exec &quot;${RUN_CMD[@]}&quot;\r\n    else\r\n        &quot;${RUN_CMD[@]}&quot; &amp;\r\n        REFINE_PID=&quot;$!&quot;\r\n    fi\r\n```\r\n\r\nBut I don&#39;t how to catch the wikibase error and then stop this run_cmd.\r\n","title":"Bash script didn&#39;t stop running even a compile error happens","body":"<p>The refine script on Linux does not do a good job at stopping if it needs to compile OpenRefine and compilation errors occur.</p>\n<p>To Reproduce</p>\n<p>Steps to reproduce the behavior (from a git clone of the repository):</p>\n<p>First, clean with ./refine clean\nThen, introduce some compilation error somewhere, such as by doing rm ./extensions/wikibase/src/org/openrefine/wikibase/qa/QAWarning.java\nFinally, run ./refine\nCurrent Results</p>\n<p>The compilation fails in the Wikibase extension but the refine script still attempts to start OpenRefine:</p>\n<pre><code>...\n[ERROR] extensions/wikibase/src/org/openrefine/wikibase/qa/scrutinizers/NewEntityScrutinizer.java:[104,17] cannot find symbol\n[ERROR]   symbol:   class QAWarning\n[ERROR]   location: class org.openrefine.wikibase.qa.scrutinizers.NewEntityScrutinizer\n[ERROR] extensions/wikibase/src/org/openrefine/wikibase/qa/scrutinizers/NewEntityScrutinizer.java:[104,39] cannot find symbol\n[ERROR]   symbol:   class QAWarning\n[ERROR]   location: class org.openrefine.wikibase.qa.scrutinizers.NewEntityScrutinizer\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :wikibase\n\n\n15:54:05.840 [            refine_server] Starting Server bound to '127.0.0.1:3333' (0ms)\n15:54:05.975 [            refine_server] refine.memory size: 1400M JVM Max heap: 1468006400 bytes (135ms)\n15:54:06.359 [            refine_server] Initializing context: '/' from '/home/user/OpenRefine/main/webapp' (384ms)\n15:54:06.948 [            refine_server] Starting autoreloading scanner...  (589ms)\n15:54:13.478 [                   refine] Starting OpenRefine 3.8-SNAPSHOT [acca2dd]... (6530ms)\n15:54:13.495 [                   refine] initializing FileProjectManager with dir (17ms)\n...\n</code></pre>\n<p>Expected Behavior</p>\n<p>The refine script should stop at the end of the failing Maven build.</p>\n<p><a href=\"https://github.com/OpenRefine/OpenRefine/issues/5698\" rel=\"nofollow noreferrer\">https://github.com/OpenRefine/OpenRefine/issues/5698</a></p>\n<p>I found out the control of running server is these lines:</p>\n<pre><code> RUN_CMD=(&quot;$JAVA&quot; -cp &quot;$CLASSPATH&quot; &quot;${OPTS[@]}&quot; &quot;com.google.refine.Refine&quot;)\n\n    echo &quot;&quot;\n    \n    \n\n    if [ -z &quot;$FORK&quot; ] ; then\n        exec &quot;${RUN_CMD[@]}&quot;\n    else\n        &quot;${RUN_CMD[@]}&quot; &amp;\n        REFINE_PID=&quot;$!&quot;\n    fi\n</code></pre>\n<p>But I don't how to catch the wikibase error and then stop this run_cmd.</p>\n"},{"tags":["java","rest","jersey-1.0"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1537499433,"post_id":30783976,"comment_id":91815321,"body_markdown":"did you find a solution to this?","body":"did you find a solution to this?"},{"owner":{"account_id":2634000,"reputation":2938,"user_id":2279200,"accept_rate":73,"display_name":"Athafoud"},"score":0,"creation_date":1537723354,"post_id":30783976,"comment_id":91878880,"body_markdown":"@tryingToLearn No, I did not find what I was looking for. As I say above, I have a function that has all my logic inside and I call / reuse this every time. The only &#39;automation&#39; I managed to do, was to create something lake a template class that has all the common logic there. So any new class is based on this one, however refactoring can be messy.","body":"@tryingToLearn No, I did not find what I was looking for. As I say above, I have a function that has all my logic inside and I call / reuse this every time. The only &#39;automation&#39; I managed to do, was to create something lake a template class that has all the common logic there. So any new class is based on this one, however refactoring can be messy."},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1537750239,"post_id":30783976,"comment_id":91884934,"body_markdown":"@Athafoud filters also didn&#39;t work with jersey 1.18?","body":"@Athafoud filters also didn&#39;t work with jersey 1.18?"},{"owner":{"account_id":2634000,"reputation":2938,"user_id":2279200,"accept_rate":73,"display_name":"Athafoud"},"score":0,"creation_date":1537857003,"post_id":30783976,"comment_id":91924314,"body_markdown":"@tryingToLearn I did not use filters, but I can not remember why. So I am not sure if Filters work or not.","body":"@tryingToLearn I did not use filters, but I can not remember why. So I am not sure if Filters work or not."},{"owner":{"account_id":310643,"reputation":619,"user_id":623738,"display_name":"RJStanford"},"score":0,"creation_date":1557503621,"post_id":30783976,"comment_id":99492154,"body_markdown":"It&#39;s worth mentioning that you don&#39;t actually need to inject anything when you use the `@Context` annotation; simply tagging your &quot;@Before&quot; method with `@Context` does the trick, so long as you&#39;re working in a class that Jersey is managing.","body":"It&#39;s worth mentioning that you don&#39;t actually need to inject anything when you use the <code>@Context</code> annotation; simply tagging your &quot;@Before&quot; method with <code>@Context</code> does the trick, so long as you&#39;re working in a class that Jersey is managing."}],"answers":[{"tags":[],"owner":{"account_id":3859435,"reputation":676,"user_id":3197529,"display_name":"gsl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1434102804,"creation_date":1434102804,"answer_id":30800205,"question_id":30783976,"body_markdown":"I use this:\r\n\r\n    \r\n    /**\r\n     * This method is called by JAX-RS for each request before the identified resource method is\r\n     * invoked, since it is annotated with the Context annotation.\r\n     */\r\n    @Context\r\n    public void setServletContext( ServletContext servletContext ) {\r\n\r\n    }\r\n\r\nI put this in the Resource classes.","title":"Jersey - execute &#39;common&#39; code before running a selected set of subresources","body":"<p>I use this:</p>\n\n<pre><code>/**\n * This method is called by JAX-RS for each request before the identified resource method is\n * invoked, since it is annotated with the Context annotation.\n */\n@Context\npublic void setServletContext( ServletContext servletContext ) {\n\n}\n</code></pre>\n\n<p>I put this in the Resource classes.</p>\n"},{"tags":[],"owner":{"account_id":248504,"reputation":3311,"user_id":523898,"accept_rate":86,"display_name":"jakubiszon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544553799,"creation_date":1540769888,"answer_id":53037028,"question_id":30783976,"body_markdown":"In addition to the previous answer, to get the request, response and the session:\r\n\r\n    @Context\r\n    public void setServletContext(\r\n                    ServletContext servletContext,\r\n                    @Context final HttpServletRequest request,\r\n                    @Context final HttpServletResponse response\r\n    ) {\r\n        // you can also get to the session\r\n        // it is recommended to uncomment the &quot;false&quot; argument below\r\n        // to avoid creating sessions if they don&#39;t already exist\r\n        HttpSession session = request.getSession(/*false*/);\r\n    }\r\n\r\nYou can also put this in a class which your resources extend to get it executed for every request in all resources.","title":"Jersey - execute &#39;common&#39; code before running a selected set of subresources","body":"<p>In addition to the previous answer, to get the request, response and the session:</p>\n\n<pre><code>@Context\npublic void setServletContext(\n                ServletContext servletContext,\n                @Context final HttpServletRequest request,\n                @Context final HttpServletResponse response\n) {\n    // you can also get to the session\n    // it is recommended to uncomment the \"false\" argument below\n    // to avoid creating sessions if they don't already exist\n    HttpSession session = request.getSession(/*false*/);\n}\n</code></pre>\n\n<p>You can also put this in a class which your resources extend to get it executed for every request in all resources.</p>\n"}],"owner":{"account_id":2634000,"reputation":2938,"user_id":2279200,"accept_rate":73,"display_name":"Athafoud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2235,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1679503910,"creation_date":1434033639,"question_id":30783976,"body_markdown":"I have a Java Web application which uses Jersey to expose a REST API. \r\n  \r\n    @Path(&quot;/myRootResource&quot;)\r\n    public class resource\r\n    {\r\n\t\t@GET\r\n\t\t@Path(&quot;subResource_1&quot;)\r\n\t\tpublic Response subResource_1() {return null;}\r\n\t\r\n\t\t@GET\r\n\t\t@Path(&quot;subResource_2&quot;)\r\n\t\tpublic Response subResource_2() {return null;}\r\n\t}\r\n\r\nI want to run some code for every subresource under a specific resource. This code handles authentication tasks, performance metrics (e.g start time to calculate the request&#39;s time) initialization and debugging variables.\r\n\r\nUntil now I have all my code in a function (e.g. `preTasks()`), which I run in the beginning of each sub-resource method. I need to some how automate this and make that code-block to run for every sub resource of `myRootResource`, without having to copy-paste the aforementioned function to every sub-resource method.\r\n\r\nIs this something that can be done with Jersey&#39;s Filters or Interceptors?\r\n\r\n\r\nWhile I am not really familiar with Spring, I think that what I am trying to achieve is somehow similar to this: https://stackoverflow.com/questions/2418832/spring-web-application-executing-common-code-before-entering-requestmapping-in\r\n\r\n**Update 12/06/2015**  \r\nAs pointed in the comments, &#39;Interceptors&#39; is a good way to go. But &#39;Interceptors&#39; are supported only from Jersey 2.X and above. In my code I am using Jersey 1.18. Upgrading to Jersey 2.X breaks some part of my code, so I am trying to avoid this at the moment. \r\n\r\nIs there any equivalent to &#39;Interceptors&#39; in Jersey 1.18, or my only option is the upgrade. I think &#39;Dispatchers&#39; may to the job, is this correct?","title":"Jersey - execute &#39;common&#39; code before running a selected set of subresources","body":"<p>I have a Java Web application which uses Jersey to expose a REST API. </p>\n\n<pre><code>@Path(\"/myRootResource\")\npublic class resource\n{\n    @GET\n    @Path(\"subResource_1\")\n    public Response subResource_1() {return null;}\n\n    @GET\n    @Path(\"subResource_2\")\n    public Response subResource_2() {return null;}\n}\n</code></pre>\n\n<p>I want to run some code for every subresource under a specific resource. This code handles authentication tasks, performance metrics (e.g start time to calculate the request's time) initialization and debugging variables.</p>\n\n<p>Until now I have all my code in a function (e.g. <code>preTasks()</code>), which I run in the beginning of each sub-resource method. I need to some how automate this and make that code-block to run for every sub resource of <code>myRootResource</code>, without having to copy-paste the aforementioned function to every sub-resource method.</p>\n\n<p>Is this something that can be done with Jersey's Filters or Interceptors?</p>\n\n<p>While I am not really familiar with Spring, I think that what I am trying to achieve is somehow similar to this: <a href=\"https://stackoverflow.com/questions/2418832/spring-web-application-executing-common-code-before-entering-requestmapping-in\">Spring web application: executing common code before entering RequestMapping in controller</a></p>\n\n<p><strong>Update 12/06/2015</strong><br>\nAs pointed in the comments, 'Interceptors' is a good way to go. But 'Interceptors' are supported only from Jersey 2.X and above. In my code I am using Jersey 1.18. Upgrading to Jersey 2.X breaks some part of my code, so I am trying to avoid this at the moment. </p>\n\n<p>Is there any equivalent to 'Interceptors' in Jersey 1.18, or my only option is the upgrade. I think 'Dispatchers' may to the job, is this correct?</p>\n"},{"tags":["java","hibernate","caching","memory-leaks"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1565003050,"post_id":57356989,"comment_id":101201400,"body_markdown":"What do you refer to when you say `memory leak` - an `OutOfMemory error`? Is it enough for you to print the content of said cache or are you looking for something else?","body":"What do you refer to when you say <code>memory leak</code> - an <code>OutOfMemory error</code>? Is it enough for you to print the content of said cache or are you looking for something else?"},{"owner":{"account_id":4134073,"reputation":31,"user_id":3391093,"display_name":"Anton K."},"score":0,"creation_date":1565013818,"post_id":57356989,"comment_id":101207368,"body_markdown":"Yes, it&#39;s OutOfMemory. I get heap dump and see in MAT a big count of queryPlaneCache rows. Yes, i want print this cache for see which queries a get a lot of space there. For example, may be i skip one query with big volatile IN() and it&#39;s born this error.","body":"Yes, it&#39;s OutOfMemory. I get heap dump and see in MAT a big count of queryPlaneCache rows. Yes, i want print this cache for see which queries a get a lot of space there. For example, may be i skip one query with big volatile IN() and it&#39;s born this error."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1565020241,"post_id":57356989,"comment_id":101210721,"body_markdown":"You are using `ehcache` as a provider? I know you can configure the cache to be written to the harddisk (but I don&#39;t remember whether it was a readable format) and (at least in older hibernate versions) it was possible to get access to the cache programmaticly and print out its content from there.","body":"You are using <code>ehcache</code> as a provider? I know you can configure the cache to be written to the harddisk (but I don&#39;t remember whether it was a readable format) and (at least in older hibernate versions) it was possible to get access to the cache programmaticly and print out its content from there."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1565020682,"post_id":57356989,"comment_id":101210901,"body_markdown":"If you do please also mention the version you are using and whether you have a configuration file for it or not. If not name what provider and what version you are using.","body":"If you do please also mention the version you are using and whether you have a configuration file for it or not. If not name what provider and what version you are using."}],"answers":[{"tags":[],"owner":{"account_id":2471552,"reputation":2062,"user_id":2153273,"accept_rate":67,"display_name":"lbenedetto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679503701,"creation_date":1679503701,"answer_id":75815079,"question_id":57356989,"body_markdown":"Sure you can, if you&#39;re ok with a little reflection to access private fields. This is how I did it. getQueryPlanCacheDump() returns a list of strings representing the cached queries, the other information stored in the cache is discarded (its likely not necessary for diagnosing your issue)\r\n\r\nWhen I did it, I found that my cache was filling up due to the `IN` clause caching a new query plan each time they query was used with a different number of parameters.\r\n\r\n```java\r\n  private final EntityManagerFactory entityManagerFactory;\r\n\r\n  public List&lt;String&gt; getQueryPlanCacheDump() {\r\n    try (var session = entityManagerFactory.createEntityManager().unwrap(Session.class)) {\r\n      var sessionFactory = (SessionFactoryImpl) session.getSessionFactory();\r\n      return getQueryList(sessionFactory);\r\n    }\r\n  }\r\n\r\n  private List&lt;String&gt; getQueryList(SessionFactoryImpl sessionFactory) {\r\n    BoundedConcurrentHashMap&lt;?, ?&gt; queryPlanCache = getQueryPlanCache(sessionFactory);\r\n    var queries = new ArrayList&lt;String&gt;();\r\n    try {\r\n      var hqlQueryPlanKeyClazz = Class.forName(&quot;org.hibernate.engine.query.spi.QueryPlanCache$HQLQueryPlanKey&quot;);\r\n      var filterQueryPlanKeyClazz = Class.forName(&quot;org.hibernate.engine.query.spi.QueryPlanCache$FilterQueryPlanKey&quot;);\r\n      queryPlanCache.forEach((key, value) -&gt; {\r\n        // The cache contains 3 different types of keys\r\n        if (key instanceof NativeSQLQuerySpecification nativeSql) {\r\n          queries.add(nativeSql.getQueryString());\r\n        } else if (hqlQueryPlanKeyClazz.isInstance(key)) {\r\n          queries.add(getQuery(hqlQueryPlanKeyClazz, key));\r\n        } else if (filterQueryPlanKeyClazz.isInstance(key)) {\r\n          queries.add(getQuery(filterQueryPlanKeyClazz, key));\r\n        }\r\n      });\r\n    } catch (Exception e) {\r\n      // If Hibernate adds more key types in the future, return all the key types instead so you can investigate adding support for them\r\n      var keyClasses = new HashSet&lt;String&gt;();\r\n      queryPlanCache.forEach((key, value) -&gt; keyClasses.add(key.getClass().toString()));\r\n      return keyClasses.stream().toList();\r\n    }\r\n    return queries;\r\n  }\r\n\r\n  private String getQuery(Class&lt;?&gt; clazz, Object key) {\r\n    try {\r\n      var queryField = clazz.getDeclaredField(&quot;query&quot;);\r\n      queryField.setAccessible(true);\r\n      return (String) queryField.get(key);\r\n    } catch (IllegalAccessException | NoSuchFieldException e) {\r\n      throw new IllegalStateException(e);\r\n    }\r\n  }\r\n\r\n  private BoundedConcurrentHashMap&lt;?, ?&gt; getQueryPlanCache(SessionFactoryImpl sessionFactory) {\r\n    try {\r\n      var queryPlanCacheField = QueryPlanCache.class.getDeclaredField(&quot;queryPlanCache&quot;);\r\n      queryPlanCacheField.setAccessible(true);\r\n      return (BoundedConcurrentHashMap&lt;?, ?&gt;) queryPlanCacheField.get(sessionFactory.getQueryPlanCache());\r\n    } catch (IllegalAccessException | NoSuchFieldException e) {\r\n      throw new IllegalStateException(e);\r\n    }\r\n  }\r\n```","title":"Is it possible, to see hibernate`s queryPlanCache contents?","body":"<p>Sure you can, if you're ok with a little reflection to access private fields. This is how I did it. getQueryPlanCacheDump() returns a list of strings representing the cached queries, the other information stored in the cache is discarded (its likely not necessary for diagnosing your issue)</p>\n<p>When I did it, I found that my cache was filling up due to the <code>IN</code> clause caching a new query plan each time they query was used with a different number of parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private final EntityManagerFactory entityManagerFactory;\n\n  public List&lt;String&gt; getQueryPlanCacheDump() {\n    try (var session = entityManagerFactory.createEntityManager().unwrap(Session.class)) {\n      var sessionFactory = (SessionFactoryImpl) session.getSessionFactory();\n      return getQueryList(sessionFactory);\n    }\n  }\n\n  private List&lt;String&gt; getQueryList(SessionFactoryImpl sessionFactory) {\n    BoundedConcurrentHashMap&lt;?, ?&gt; queryPlanCache = getQueryPlanCache(sessionFactory);\n    var queries = new ArrayList&lt;String&gt;();\n    try {\n      var hqlQueryPlanKeyClazz = Class.forName(&quot;org.hibernate.engine.query.spi.QueryPlanCache$HQLQueryPlanKey&quot;);\n      var filterQueryPlanKeyClazz = Class.forName(&quot;org.hibernate.engine.query.spi.QueryPlanCache$FilterQueryPlanKey&quot;);\n      queryPlanCache.forEach((key, value) -&gt; {\n        // The cache contains 3 different types of keys\n        if (key instanceof NativeSQLQuerySpecification nativeSql) {\n          queries.add(nativeSql.getQueryString());\n        } else if (hqlQueryPlanKeyClazz.isInstance(key)) {\n          queries.add(getQuery(hqlQueryPlanKeyClazz, key));\n        } else if (filterQueryPlanKeyClazz.isInstance(key)) {\n          queries.add(getQuery(filterQueryPlanKeyClazz, key));\n        }\n      });\n    } catch (Exception e) {\n      // If Hibernate adds more key types in the future, return all the key types instead so you can investigate adding support for them\n      var keyClasses = new HashSet&lt;String&gt;();\n      queryPlanCache.forEach((key, value) -&gt; keyClasses.add(key.getClass().toString()));\n      return keyClasses.stream().toList();\n    }\n    return queries;\n  }\n\n  private String getQuery(Class&lt;?&gt; clazz, Object key) {\n    try {\n      var queryField = clazz.getDeclaredField(&quot;query&quot;);\n      queryField.setAccessible(true);\n      return (String) queryField.get(key);\n    } catch (IllegalAccessException | NoSuchFieldException e) {\n      throw new IllegalStateException(e);\n    }\n  }\n\n  private BoundedConcurrentHashMap&lt;?, ?&gt; getQueryPlanCache(SessionFactoryImpl sessionFactory) {\n    try {\n      var queryPlanCacheField = QueryPlanCache.class.getDeclaredField(&quot;queryPlanCache&quot;);\n      queryPlanCacheField.setAccessible(true);\n      return (BoundedConcurrentHashMap&lt;?, ?&gt;) queryPlanCacheField.get(sessionFactory.getQueryPlanCache());\n    } catch (IllegalAccessException | NoSuchFieldException e) {\n      throw new IllegalStateException(e);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":4134073,"reputation":31,"user_id":3391093,"display_name":"Anton K."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679503701,"creation_date":1565001896,"question_id":57356989,"body_markdown":"I got memory leak problem with queryPlaneCache in Hibernate 5.2.10.Final. I found information about leak troubles with IN() queries and marked them with setCacheable(false). Leak decreased, but not dissapeared. \r\n\r\nI tried decrase **hibernate.query.plan_cache_max_size** and turn off caching (**hibernate.cache.use_query_cache**). It helps, but i think this is no right solution. I want mark some problem queries as setCacheable(false) and save cache mechanism in good work, but don`t have some things about trouble queries. \r\n\r\nBy this reason i want dump a queryPlaneCache content for see concrete SQL queries and found source of problem. Is it possible?","title":"Is it possible, to see hibernate`s queryPlanCache contents?","body":"<p>I got memory leak problem with queryPlaneCache in Hibernate 5.2.10.Final. I found information about leak troubles with IN() queries and marked them with setCacheable(false). Leak decreased, but not dissapeared. </p>\n\n<p>I tried decrase <strong>hibernate.query.plan_cache_max_size</strong> and turn off caching (<strong>hibernate.cache.use_query_cache</strong>). It helps, but i think this is no right solution. I want mark some problem queries as setCacheable(false) and save cache mechanism in good work, but don`t have some things about trouble queries. </p>\n\n<p>By this reason i want dump a queryPlaneCache content for see concrete SQL queries and found source of problem. Is it possible?</p>\n"},{"tags":["java","intellij-14"],"owner":{"account_id":5217289,"reputation":13,"user_id":4171819,"display_name":"akhila np"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679503679,"creation_date":1679503679,"question_id":75815071,"body_markdown":"   I am getting build error. I tried installing a newer version on intellij, but still getting the same error. Not understanding what is happening.I am ruuning intellij 2022.3.1. and this is a maven project.\r\nthe line  &quot;at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext&quot; \r\nhas been repeated 500 times.\r\n\r\n\r\n     Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n        \tat java.lang.ThreadLocal.get(ThreadLocal.java:161)\r\n        \tat org.fusesource.jansi.Ansi.isEnabled(Ansi.java:172)\r\n        \tat org.fusesource.jansi.Ansi.ansi(Ansi.java:192)\r\n        \tat org.apache.maven.shared.utils.logging.AnsiMessageBuilder.&lt;init&gt;`(AnsiMessageBuilder.java:45)\r\n        \tat org.apache.maven.shared.utils.logging.MessageUtils.level(MessageUtils.java:163)\r\n        \tat org.slf4j.impl.MavenSimpleLogger.renderLevel(MavenSimpleLogger.java:50)\r\n        \tat org.slf4j.impl.SimpleLogger.log(SimpleLogger.java:277)\r\n        \tat org.slf4j.impl.SimpleLogger.info(SimpleLogger.java:480)\r\n        \tat org.apache.maven.cli.logging.Slf4jLogger.info(Slf4jLogger.java:59)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:464)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n        \tat org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\r\n\r\n","title":"Error in maven clean install in intellij. I tried everything possible, but I am not understanding why this error comes on jenkins build","body":"<p>I am getting build error. I tried installing a newer version on intellij, but still getting the same error. Not understanding what is happening.I am ruuning intellij 2022.3.1. and this is a maven project.\nthe line  &quot;at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext&quot;\nhas been repeated 500 times.</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.StackOverflowError\n        at java.lang.ThreadLocal.get(ThreadLocal.java:161)\n        at org.fusesource.jansi.Ansi.isEnabled(Ansi.java:172)\n        at org.fusesource.jansi.Ansi.ansi(Ansi.java:192)\n        at org.apache.maven.shared.utils.logging.AnsiMessageBuilder.&lt;init&gt;`(AnsiMessageBuilder.java:45)\n        at org.apache.maven.shared.utils.logging.MessageUtils.level(MessageUtils.java:163)\n        at org.slf4j.impl.MavenSimpleLogger.renderLevel(MavenSimpleLogger.java:50)\n        at org.slf4j.impl.SimpleLogger.log(SimpleLogger.java:277)\n        at org.slf4j.impl.SimpleLogger.info(SimpleLogger.java:480)\n        at org.apache.maven.cli.logging.Slf4jLogger.info(Slf4jLogger.java:59)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:464)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n        at org.codehaus.plexus.archiver.AbstractArchiver$1.hasNext(AbstractArchiver.java:467)\n</code></pre>\n"},{"tags":["java","spring","lombok"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679500311,"post_id":75814478,"comment_id":133734067,"body_markdown":"Reflection and proxies come to mind","body":"Reflection and proxies come to mind"},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1679503516,"post_id":75814478,"comment_id":133735038,"body_markdown":"i&#39;m thinking there is no library that can do this unless maybe Lombok, maven plugin etc because it is a compile time ask","body":"i&#39;m thinking there is no library that can do this unless maybe Lombok, maven plugin etc because it is a compile time ask"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679511017,"post_id":75814478,"comment_id":133736893,"body_markdown":"Proxies can be generated at runtime. Using a `@Configuration` with `@Bean` annotated methods can then return the correct proxy.","body":"Proxies can be generated at runtime. Using a <code>@Configuration</code> with <code>@Bean</code> annotated methods can then return the correct proxy."},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1679512866,"post_id":75814478,"comment_id":133737309,"body_markdown":"runtime proxy does not solve this issue, unless i&#39;m missing something","body":"runtime proxy does not solve this issue, unless i&#39;m missing something"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679513511,"post_id":75814478,"comment_id":133737468,"body_markdown":"Why not? With reflection, you get references to all methods in your util class(es) and store them in a collection/map. Then you generate the proxy and have it delegate the calls to the methods of the util class. Nevermind, I just realized that a dynamic proxy requires an interface to implement. Forget what I said. Sorry for wasting your time","body":"Why not? With reflection, you get references to all methods in your util class(es) and store them in a collection/map. Then you generate the proxy and have it delegate the calls to the methods of the util class. Nevermind, I just realized that a dynamic proxy requires an interface to implement. Forget what I said. Sorry for wasting your time"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679503632,"creation_date":1679500058,"question_id":75814478,"body_markdown":"I have a legacy static class that has a bunch of static methods:\r\n\r\n```\r\npublic class Util {\r\n   public static void op1(String param_string) {\r\n      System.out.println(&quot;op1 &quot; + param_string);\r\n   }\r\n\r\n   public static void op2(int param_int) {\r\n      System.out.println(&quot;op2 &quot; + param_int);\r\n   }\r\n}\r\n```\r\n\r\nOur unit tests are much better when we don&#39;t deal with statics! \r\n\r\nSo we would like to create a spring bean that basically just acts as a proxy to this so we can `@Autowire` it and not deal with static methods:\r\n\r\n\r\n```\r\n@Component\r\npublic class UtilBean {\r\n   public void op1(String param_string) {\r\n     Util.op1(param_string);\r\n   }\r\n\r\n   public void op2(int param_int) {\r\n     Util.op2(param_int);\r\n   }\r\n}\r\n```\r\n\r\nIn my case, there are like 40 classes and I&#39;m looking for a way to make this easier.\r\n\r\nIs there some way to do this without having to type out each one? \r\n\r\nTo rephrase the question: Is there some way to automatically generate a spring bean from a static Java utility class? \r\n\r\nIs there some way to use Lombok to do this? ","title":"Is there a way to automatically generate a Spring Bean from a static Java utility class?","body":"<p>I have a legacy static class that has a bunch of static methods:</p>\n<pre><code>public class Util {\n   public static void op1(String param_string) {\n      System.out.println(&quot;op1 &quot; + param_string);\n   }\n\n   public static void op2(int param_int) {\n      System.out.println(&quot;op2 &quot; + param_int);\n   }\n}\n</code></pre>\n<p>Our unit tests are much better when we don't deal with statics!</p>\n<p>So we would like to create a spring bean that basically just acts as a proxy to this so we can <code>@Autowire</code> it and not deal with static methods:</p>\n<pre><code>@Component\npublic class UtilBean {\n   public void op1(String param_string) {\n     Util.op1(param_string);\n   }\n\n   public void op2(int param_int) {\n     Util.op2(param_int);\n   }\n}\n</code></pre>\n<p>In my case, there are like 40 classes and I'm looking for a way to make this easier.</p>\n<p>Is there some way to do this without having to type out each one?</p>\n<p>To rephrase the question: Is there some way to automatically generate a spring bean from a static Java utility class?</p>\n<p>Is there some way to use Lombok to do this?</p>\n"},{"tags":["java","android","progress-bar"],"answers":[{"tags":[],"owner":{"account_id":6160961,"reputation":1184,"user_id":4802589,"display_name":"Karan Dhillon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1587477666,"creation_date":1587477666,"answer_id":61345415,"question_id":61345052,"body_markdown":"You should not set the progressBar visibility after you start a new activity. The simplest thing you can do is use a flag variable to hold the state of your progress bar. \r\n    \r\n    startActivity(intent);\r\n    progressBar.setVisibility(View.GONE); // should be avoided\r\n\r\nSOLUTION:\r\n\r\n    private ProgressBar progressBar;\r\n    String progressBarState = &quot;empty&quot;\r\n    String PROGRESS_BAR_LOADING = &quot;LOADING&quot;\r\n    String PROGRESS_BAR_LOADED = &quot;LOADED&quot;\r\n    \r\n    mhelp = (LinearLayout) root.findViewById(R.id.lythelp);\r\n     \r\n    mhelp.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n    if(PROGRESS_BAR_LOADING == &quot;LOADING&quot;)\r\n      progressBar.setVisibility(View.VISIBLE);\r\n      \r\n      Intent intent = new Intent(getActivity(), Help.class);\r\n      startActivity(intent);\r\n    }\r\n\r\nInside HelpActivity (or whatever activity you want to start):\r\n    \r\n    override onCreate(): void {\r\n      /*\r\n      * You will need a progress bar on this activity&#39;s view \r\n      * as well if you are transitioning between activities and\r\n      * want to maintain the progress.\r\n      */\r\n\r\n      progressBar.setVisibility(View.GONE);\r\n\r\n      /*\r\n      * You can pass the progress between the activities by\r\n      * passing the completion rate through the bundle that is\r\n      * sent through the activities.\r\n      * You can also add a  key value pair for the progress bar&#39;s\r\n      * current state in that bundle and check for that state in the\r\n      * onCreate.\r\n      */\r\n    }\r\n","title":"progressBar.setVisibility(View.GONE); Is there anybody please tell where i can use Progressbar gone after stop loading","body":"<p>You should not set the progressBar visibility after you start a new activity. The simplest thing you can do is use a flag variable to hold the state of your progress bar. </p>\n\n<pre><code>startActivity(intent);\nprogressBar.setVisibility(View.GONE); // should be avoided\n</code></pre>\n\n<p>SOLUTION:</p>\n\n<pre><code>private ProgressBar progressBar;\nString progressBarState = \"empty\"\nString PROGRESS_BAR_LOADING = \"LOADING\"\nString PROGRESS_BAR_LOADED = \"LOADED\"\n\nmhelp = (LinearLayout) root.findViewById(R.id.lythelp);\n\nmhelp.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View v) {\nif(PROGRESS_BAR_LOADING == \"LOADING\")\n  progressBar.setVisibility(View.VISIBLE);\n\n  Intent intent = new Intent(getActivity(), Help.class);\n  startActivity(intent);\n}\n</code></pre>\n\n<p>Inside HelpActivity (or whatever activity you want to start):</p>\n\n<pre><code>override onCreate(): void {\n  /*\n  * You will need a progress bar on this activity's view \n  * as well if you are transitioning between activities and\n  * want to maintain the progress.\n  */\n\n  progressBar.setVisibility(View.GONE);\n\n  /*\n  * You can pass the progress between the activities by\n  * passing the completion rate through the bundle that is\n  * sent through the activities.\n  * You can also add a  key value pair for the progress bar's\n  * current state in that bundle and check for that state in the\n  * onCreate.\n  */\n}\n</code></pre>\n"}],"owner":{"account_id":16738743,"reputation":13,"user_id":12099066,"display_name":"Gaurishankar Poonia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61345415,"answer_count":1,"score":1,"last_activity_date":1679503594,"creation_date":1587476622,"question_id":61345052,"body_markdown":"I&#39;m new in Java Android Development &amp; I was trying to develop something but I have to use the progress bar in WebView but I don&#39;t know How I have to use code stop progress bar after completed loading. \r\n\r\n        private ProgressBar progressBar;\r\n    \r\n       mhelp = (LinearLayout) root.findViewById(R.id.lythelp);\r\n                    mhelp.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            progressBar.setVisibility(View.VISIBLE);\r\n                            Intent intent = new Intent(getActivity(), Help.class);\r\n                            startActivity(intent);\r\n    progressBar.setVisibility(View.GONE);\r\n    \r\n    \r\n                        }\r\n                    });","title":"progressBar.setVisibility(View.GONE); Is there anybody please tell where i can use Progressbar gone after stop loading","body":"<p>I'm new in Java Android Development &amp; I was trying to develop something but I have to use the progress bar in WebView but I don't know How I have to use code stop progress bar after completed loading. </p>\n\n<pre><code>    private ProgressBar progressBar;\n\n   mhelp = (LinearLayout) root.findViewById(R.id.lythelp);\n                mhelp.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        progressBar.setVisibility(View.VISIBLE);\n                        Intent intent = new Intent(getActivity(), Help.class);\n                        startActivity(intent);\nprogressBar.setVisibility(View.GONE);\n\n\n                    }\n                });\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1679505966,"post_id":75815042,"comment_id":133735673,"body_markdown":"Try looking at [NotificationListener](https://developer.android.com/reference/android/service/notification/NotificationListenerService.html).","body":"Try looking at <a href=\"https://developer.android.com/reference/android/service/notification/NotificationListenerService.html\" rel=\"nofollow noreferrer\">NotificationListener</a>."}],"owner":{"account_id":28082484,"reputation":1,"user_id":21453337,"display_name":"ThehighWizard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679503487,"creation_date":1679503487,"question_id":75815042,"body_markdown":"Heres what i got so far\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private List&lt;AppList&gt; installedApps;\r\n    private AppAdapter installedAppAdapter;\r\n    ListView userInstalledApps;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        userInstalledApps = (ListView) findViewById(R.id.installed_app_list);\r\n\r\n        installedApps = getInstalledApps();\r\n        installedAppAdapter = new AppAdapter(MainActivity.this, installedApps);\r\n        userInstalledApps.setAdapter(installedAppAdapter);\r\n        userInstalledApps.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int i, long l) {\r\n\r\n                String[] colors = {&quot; Open App&quot;, &quot; App Info&quot;, &quot; enable notification listening&quot;};\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n                builder.setTitle(&quot;Choose Action&quot;)\r\n                        .setItems(colors, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                // The &#39;which&#39; argument contains the index position of the selected item\r\n                                if (which==0){\r\n                                    Intent intent = getPackageManager().getLaunchIntentForPackage(installedApps.get(i).packages);\r\n                                    if(intent != null){\r\n                                        startActivity(intent);\r\n                                    }\r\n                                    else {\r\n                                        Toast.makeText(MainActivity.this, installedApps.get(i).packages + &quot; Error, Please Try Again...&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                                if (which==1){\r\n                                    Intent intent = new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                                    intent.setData(Uri.parse(&quot;package:&quot; + installedApps.get(i).packages));\r\n                                    Toast.makeText(MainActivity.this, installedApps.get(i).packages, Toast.LENGTH_SHORT).show();\r\n                                    startActivity(intent);\r\n                                }\r\n\r\n                                //heres the button for any given app\r\n\r\n**i need something that will allow me click here to select given app for notification listening and export the app name to a broadcast reciever where the reciever waits for an notification for given app then does a function** left it blank lots of errors so im stuck.\r\n\r\n                                if (which==2){\r\n\r\n                                }\r\n                            }\r\n                        });\r\n                builder.show();\r\n\r\n            }\r\n        });\r\n\r\n        //Total Number of Installed-Apps(i.e. List Size)\r\n        String  abc = userInstalledApps.getCount()+&quot;&quot;;\r\n        TextView countApps = (TextView)findViewById(R.id.countApps);\r\n        countApps.setText(&quot;Total Installed Apps: &quot;+abc);\r\n        Toast.makeText(this, abc+&quot; Apps&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n\r\n    private List&lt;AppList&gt; getInstalledApps() {\r\n        PackageManager pm = getPackageManager();\r\n        List&lt;AppList&gt; apps = new ArrayList&lt;AppList&gt;();\r\n        List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(0);\r\n        //List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(PackageManager.GET_PERMISSIONS);\r\n        for (int i = 0; i &lt; packs.size(); i++) {\r\n            PackageInfo p = packs.get(i);\r\n            if ((!isSystemPackage(p))) {\r\n                String appName = p.applicationInfo.loadLabel(getPackageManager()).toString();\r\n                Drawable icon = p.applicationInfo.loadIcon(getPackageManager());\r\n                String packages = p.applicationInfo.packageName;\r\n                apps.add(new AppList(appName, icon, packages));\r\n            }\r\n        }\r\n        return apps;\r\n    }\r\n\r\n    private boolean isSystemPackage(PackageInfo pkgInfo) {\r\n        return (pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0;\r\n    }\r\n\r\n    public class AppAdapter extends BaseAdapter {\r\n\r\n        public LayoutInflater layoutInflater;\r\n        public List&lt;AppList&gt; listStorage;\r\n\r\n        public AppAdapter(Context context, List&lt;AppList&gt; customizedListView) {\r\n            layoutInflater =(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            listStorage = customizedListView;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return listStorage.size();\r\n        }\r\n\r\n        @Override\r\n        public Object getItem(int position) {\r\n            return position;\r\n        }\r\n\r\n        @Override\r\n        public long getItemId(int position) {\r\n            return position;\r\n        }\r\n\r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n            ViewHolder listViewHolder;\r\n            if(convertView == null){\r\n                listViewHolder = new ViewHolder();\r\n                convertView = layoutInflater.inflate(R.layout.installed_app_list, parent, false);\r\n\r\n                listViewHolder.textInListView = (TextView)convertView.findViewById(R.id.list_app_name);\r\n                listViewHolder.imageInListView = (ImageView)convertView.findViewById(R.id.app_icon);\r\n                listViewHolder.packageInListView=(TextView)convertView.findViewById(R.id.app_package);\r\n                convertView.setTag(listViewHolder);\r\n            }else{\r\n                listViewHolder = (ViewHolder)convertView.getTag();\r\n            }\r\n            listViewHolder.textInListView.setText(listStorage.get(position).getName());\r\n            listViewHolder.imageInListView.setImageDrawable(listStorage.get(position).getIcon());\r\n            listViewHolder.packageInListView.setText(listStorage.get(position).getPackages());\r\n\r\n            return convertView;\r\n        }\r\n\r\n        class ViewHolder{\r\n            TextView textInListView;\r\n            ImageView imageInListView;\r\n            TextView packageInListView;\r\n        }\r\n    }\r\n\r\n    public class AppList {\r\n        private String name;\r\n        Drawable icon;\r\n        private String packages;\r\n        public AppList(String name, Drawable icon, String packages) {\r\n            this.name = name;\r\n            this.icon = icon;\r\n            this.packages = packages;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public Drawable getIcon() {\r\n            return icon;\r\n        }\r\n        public String getPackages() {\r\n            return packages;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nas stated in the code i need help with having my selected app for notification listening of said app.\r\nany help would be much appreciated. ","title":"how to select an app to listen for a notification and give it a function i&#39;m lost","body":"<p>Heres what i got so far</p>\n<p>public class MainActivity extends AppCompatActivity {</p>\n<pre><code>private List&lt;AppList&gt; installedApps;\nprivate AppAdapter installedAppAdapter;\nListView userInstalledApps;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    userInstalledApps = (ListView) findViewById(R.id.installed_app_list);\n\n    installedApps = getInstalledApps();\n    installedAppAdapter = new AppAdapter(MainActivity.this, installedApps);\n    userInstalledApps.setAdapter(installedAppAdapter);\n    userInstalledApps.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int i, long l) {\n\n            String[] colors = {&quot; Open App&quot;, &quot; App Info&quot;, &quot; enable notification listening&quot;};\n            AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n            builder.setTitle(&quot;Choose Action&quot;)\n                    .setItems(colors, new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            // The 'which' argument contains the index position of the selected item\n                            if (which==0){\n                                Intent intent = getPackageManager().getLaunchIntentForPackage(installedApps.get(i).packages);\n                                if(intent != null){\n                                    startActivity(intent);\n                                }\n                                else {\n                                    Toast.makeText(MainActivity.this, installedApps.get(i).packages + &quot; Error, Please Try Again...&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                            if (which==1){\n                                Intent intent = new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                                intent.setData(Uri.parse(&quot;package:&quot; + installedApps.get(i).packages));\n                                Toast.makeText(MainActivity.this, installedApps.get(i).packages, Toast.LENGTH_SHORT).show();\n                                startActivity(intent);\n                            }\n\n                            //heres the button for any given app\n</code></pre>\n<p><strong>i need something that will allow me click here to select given app for notification listening and export the app name to a broadcast reciever where the reciever waits for an notification for given app then does a function</strong> left it blank lots of errors so im stuck.</p>\n<pre><code>                            if (which==2){\n\n                            }\n                        }\n                    });\n            builder.show();\n\n        }\n    });\n\n    //Total Number of Installed-Apps(i.e. List Size)\n    String  abc = userInstalledApps.getCount()+&quot;&quot;;\n    TextView countApps = (TextView)findViewById(R.id.countApps);\n    countApps.setText(&quot;Total Installed Apps: &quot;+abc);\n    Toast.makeText(this, abc+&quot; Apps&quot;, Toast.LENGTH_SHORT).show();\n\n}\n\nprivate List&lt;AppList&gt; getInstalledApps() {\n    PackageManager pm = getPackageManager();\n    List&lt;AppList&gt; apps = new ArrayList&lt;AppList&gt;();\n    List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(0);\n    //List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(PackageManager.GET_PERMISSIONS);\n    for (int i = 0; i &lt; packs.size(); i++) {\n        PackageInfo p = packs.get(i);\n        if ((!isSystemPackage(p))) {\n            String appName = p.applicationInfo.loadLabel(getPackageManager()).toString();\n            Drawable icon = p.applicationInfo.loadIcon(getPackageManager());\n            String packages = p.applicationInfo.packageName;\n            apps.add(new AppList(appName, icon, packages));\n        }\n    }\n    return apps;\n}\n\nprivate boolean isSystemPackage(PackageInfo pkgInfo) {\n    return (pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0;\n}\n\npublic class AppAdapter extends BaseAdapter {\n\n    public LayoutInflater layoutInflater;\n    public List&lt;AppList&gt; listStorage;\n\n    public AppAdapter(Context context, List&lt;AppList&gt; customizedListView) {\n        layoutInflater =(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        listStorage = customizedListView;\n    }\n\n    @Override\n    public int getCount() {\n        return listStorage.size();\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return position;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        ViewHolder listViewHolder;\n        if(convertView == null){\n            listViewHolder = new ViewHolder();\n            convertView = layoutInflater.inflate(R.layout.installed_app_list, parent, false);\n\n            listViewHolder.textInListView = (TextView)convertView.findViewById(R.id.list_app_name);\n            listViewHolder.imageInListView = (ImageView)convertView.findViewById(R.id.app_icon);\n            listViewHolder.packageInListView=(TextView)convertView.findViewById(R.id.app_package);\n            convertView.setTag(listViewHolder);\n        }else{\n            listViewHolder = (ViewHolder)convertView.getTag();\n        }\n        listViewHolder.textInListView.setText(listStorage.get(position).getName());\n        listViewHolder.imageInListView.setImageDrawable(listStorage.get(position).getIcon());\n        listViewHolder.packageInListView.setText(listStorage.get(position).getPackages());\n\n        return convertView;\n    }\n\n    class ViewHolder{\n        TextView textInListView;\n        ImageView imageInListView;\n        TextView packageInListView;\n    }\n}\n\npublic class AppList {\n    private String name;\n    Drawable icon;\n    private String packages;\n    public AppList(String name, Drawable icon, String packages) {\n        this.name = name;\n        this.icon = icon;\n        this.packages = packages;\n    }\n    public String getName() {\n        return name;\n    }\n    public Drawable getIcon() {\n        return icon;\n    }\n    public String getPackages() {\n        return packages;\n    }\n\n}\n</code></pre>\n<p>as stated in the code i need help with having my selected app for notification listening of said app.\nany help would be much appreciated.</p>\n"},{"tags":["java","multithreading","concurrency","locking","synchronized"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1396254923,"post_id":22756940,"comment_id":34690092,"body_markdown":"Indeed they don&#39;t, and that applies to intrinsic locks and `Lock` objects alike.","body":"Indeed they don&#39;t, and that applies to intrinsic locks and <code>Lock</code> objects alike."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1396255026,"post_id":22756940,"comment_id":34690145,"body_markdown":"Since &quot;sequential&quot; is the opposite of &quot;concurrent&quot;, clearly multithreading is not there to do sequential work. Need sequential? Use one thread.","body":"Since &quot;sequential&quot; is the opposite of &quot;concurrent&quot;, clearly multithreading is not there to do sequential work. Need sequential? Use one thread."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1396255118,"post_id":22756940,"comment_id":34690209,"body_markdown":"Is it possible to show it an simple example?","body":"Is it possible to show it an simple example?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1396255235,"post_id":22756940,"comment_id":34690284,"body_markdown":"Nondeterministic behavior is notoriously difficult to reliably demonstrate.","body":"Nondeterministic behavior is notoriously difficult to reliably demonstrate."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1396255317,"post_id":22756940,"comment_id":34690318,"body_markdown":"@Marko Topolnik I think although Thread.sleep makes not guarantees but usually it can help in simple example.","body":"@Marko Topolnik I think although Thread.sleep makes not guarantees but usually it can help in simple example."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1396255467,"post_id":22756940,"comment_id":34690408,"body_markdown":"Perhaps you already have an idea how to demonstrate it? You have written such code already? That would be a good starting point for your question.","body":"Perhaps you already have an idea how to demonstrate it? You have written such code already? That would be a good starting point for your question."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1396256625,"post_id":22756940,"comment_id":34691131,"body_markdown":"@Marko Topolnik I have problems","body":"@Marko Topolnik I have problems"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1396257044,"post_id":22756940,"comment_id":34691392,"body_markdown":"@Marko Topolnik Is my test valid for synchronized?","body":"@Marko Topolnik Is my test valid for synchronized?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1396257911,"post_id":22756940,"comment_id":34691866,"body_markdown":"Looks OK as far as I saw. Just note that the order is not *random*, it&#39;s just not specified. Random order would actually be a stronger guarantee.","body":"Looks OK as far as I saw. Just note that the order is not <i>random</i>, it&#39;s just not specified. Random order would actually be a stronger guarantee."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1396258640,"post_id":22756940,"comment_id":34692246,"body_markdown":"You can try with `new ReentrantLock(true)`. Even though *fairness* is overall no strong guarantee, it will probably make your toy example show ordered lock acquisition.","body":"You can try with <code>new ReentrantLock(true)</code>. Even though <i>fairness</i> is overall no strong guarantee, it will probably make your toy example show ordered lock acquisition."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1396261637,"post_id":22756940,"comment_id":34694008,"body_markdown":"@Marko Topolnik it is not help me","body":"@Marko Topolnik it is not help me"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1396261811,"post_id":22756940,"comment_id":34694108,"body_markdown":"@Marko Topolnik I have updated code and result","body":"@Marko Topolnik I have updated code and result"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1396263145,"post_id":22756940,"comment_id":34694996,"body_markdown":"What do you mean it didn&#39;t help you? Did you actually *expect* ordered lock acquisition, and plan to rely on it? That&#39;s against the core idea of locks. If you want some tasks executed sequentially, then start rethinking your solution.","body":"What do you mean it didn&#39;t help you? Did you actually <i>expect</i> ordered lock acquisition, and plan to rely on it? That&#39;s against the core idea of locks. If you want some tasks executed sequentially, then start rethinking your solution."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1396268619,"post_id":22756940,"comment_id":34698187,"body_markdown":"@ Marko Topolnik I just forgot remove **synchronized** from method test(","body":"@ Marko Topolnik I just forgot remove <b>synchronized</b> from method test("},{"owner":{"account_id":2098299,"reputation":4834,"user_id":1866587,"accept_rate":40,"display_name":"selig"},"score":0,"creation_date":1396363034,"post_id":22756940,"comment_id":34747553,"body_markdown":"If you look inside the HotSpot code the monitor set of waiting threads is implemented as a queue, so there&#39;s ordering there. But it is not guaranteed anywhere.","body":"If you look inside the HotSpot code the monitor set of waiting threads is implemented as a queue, so there&#39;s ordering there. But it is not guaranteed anywhere."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1396312294,"creation_date":1396255723,"answer_id":22757245,"question_id":22756940,"body_markdown":"&gt; Locks makes guarantees about the sequence in which threads waiting to entering it are granted a access?\r\n\r\nFrom the [documentation](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html):\r\n\r\n&lt;blockquote&gt;A Lock class can also provide behavior and semantics that is quite different from that of the implicit monitor lock, such as guaranteed ordering, non-reentrant usage, or deadlock detection. If an implementation provides such specialized semantics then the implementation must document those semantics. &lt;/blockquote&gt;\r\n\r\nThere is no such documentation in any of the three `Lock` implementation classes in the JDK. There is nothing stronger than &#39;fair ordering&#39;, as an option.\r\n\r\n&gt; What I do wrong?\r\n\r\nYou didn&#39;t do anything wrong. You posted some output that showed no particular order. What&#39;s wrong with that?","title":"Does Locks make guarantees about the sequence in which threads waiting to entering it are granted access? example","body":"<blockquote>\n  <p>Locks makes guarantees about the sequence in which threads waiting to entering it are granted a access?</p>\n</blockquote>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>A Lock class can also provide behavior and semantics that is quite different from that of the implicit monitor lock, such as guaranteed ordering, non-reentrant usage, or deadlock detection. If an implementation provides such specialized semantics then the implementation must document those semantics. </blockquote>\n\n<p>There is no such documentation in any of the three <code>Lock</code> implementation classes in the JDK. There is nothing stronger than 'fair ordering', as an option.</p>\n\n<blockquote>\n  <p>What I do wrong?</p>\n</blockquote>\n\n<p>You didn't do anything wrong. You posted some output that showed no particular order. What's wrong with that?</p>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396268831,"creation_date":1396268831,"answer_id":22761529,"question_id":22756940,"body_markdown":"test output not specified values because of test method marked as synchronized\r\n\r\nRight variant\r\n-\r\n\r\n    public class LockVsSync {\r\n        public static int THREAD_NUMBER = 10;\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\r\n            for (int i = 0; i &lt; THREAD_NUMBER; i++) {\r\n                threads.add(new MyThread());\r\n            }\r\n            for (Thread thread : threads) {\r\n                thread.start();\r\n                Thread.sleep(50);\r\n            }\r\n        }   \r\n    \r\n        public static  void test(Lock lock) throws InterruptedException {\r\n            lock.lock();\r\n            try {\r\n                System.out.println(Thread.currentThread().getId()+ &quot; int test method begin&quot;);\r\n                Thread.sleep(200);\r\n                System.out.println(Thread.currentThread().getId()+ &quot; int test method end&quot;);\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n        static class MyThread extends Thread {\r\n            static Lock lock = new ReentrantLock(true);\r\n    \r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;Thread with id=&quot; + Thread.currentThread().getId()+ &quot; executes before test!&quot;);\r\n                try {\r\n                    test(lock);\r\n                } catch (InterruptedException e) {  }\r\n                System.out.println(&quot;Thread with id=&quot;+ Thread.currentThread().getId() + &quot; executes after test!&quot;);\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nexamlpe of output:\r\n-\r\n\r\n    Thread with id=9 executes before test!\r\n    9 int test method begin\r\n    Thread with id=10 executes before test!\r\n    Thread with id=11 executes before test!\r\n    Thread with id=12 executes before test!\r\n    Thread with id=13 executes before test!\r\n    9 int test method end\r\n    Thread with id=9 executes after test!\r\n    10 int test method begin\r\n    Thread with id=14 executes before test!\r\n    Thread with id=15 executes before test!\r\n    Thread with id=16 executes before test!\r\n    Thread with id=17 executes before test!\r\n    10 int test method end\r\n    11 int test method begin\r\n    Thread with id=10 executes after test!\r\n    Thread with id=18 executes before test!\r\n    11 int test method end\r\n    Thread with id=11 executes after test!\r\n    12 int test method begin\r\n    12 int test method end\r\n    Thread with id=12 executes after test!\r\n    13 int test method begin\r\n    13 int test method end\r\n    Thread with id=13 executes after test!\r\n    14 int test method begin\r\n    14 int test method end\r\n    Thread with id=14 executes after test!\r\n    15 int test method begin\r\n    15 int test method end\r\n    Thread with id=15 executes after test!\r\n    16 int test method begin\r\n    16 int test method end\r\n    Thread with id=16 executes after test!\r\n    17 int test method begin\r\n    17 int test method end\r\n    Thread with id=17 executes after test!\r\n    18 int test method begin\r\n    18 int test method end\r\n    Thread with id=18 executes after test!\r\n\r\n\r\n\r\n\r\nThus `Locks makes guarantees about the sequence in which threads waiting to entering it are granted a access` is truth. ","title":"Does Locks make guarantees about the sequence in which threads waiting to entering it are granted access? example","body":"<p>test output not specified values because of test method marked as synchronized</p>\n\n<h2>Right variant</h2>\n\n<pre><code>public class LockVsSync {\n    public static int THREAD_NUMBER = 10;\n\n    public static void main(String[] args) throws InterruptedException {\n        List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\n        for (int i = 0; i &lt; THREAD_NUMBER; i++) {\n            threads.add(new MyThread());\n        }\n        for (Thread thread : threads) {\n            thread.start();\n            Thread.sleep(50);\n        }\n    }   \n\n    public static  void test(Lock lock) throws InterruptedException {\n        lock.lock();\n        try {\n            System.out.println(Thread.currentThread().getId()+ \" int test method begin\");\n            Thread.sleep(200);\n            System.out.println(Thread.currentThread().getId()+ \" int test method end\");\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    static class MyThread extends Thread {\n        static Lock lock = new ReentrantLock(true);\n\n        @Override\n        public void run() {\n            System.out.println(\"Thread with id=\" + Thread.currentThread().getId()+ \" executes before test!\");\n            try {\n                test(lock);\n            } catch (InterruptedException e) {  }\n            System.out.println(\"Thread with id=\"+ Thread.currentThread().getId() + \" executes after test!\");\n\n        }\n    }\n\n}\n</code></pre>\n\n<h2>examlpe of output:</h2>\n\n<pre><code>Thread with id=9 executes before test!\n9 int test method begin\nThread with id=10 executes before test!\nThread with id=11 executes before test!\nThread with id=12 executes before test!\nThread with id=13 executes before test!\n9 int test method end\nThread with id=9 executes after test!\n10 int test method begin\nThread with id=14 executes before test!\nThread with id=15 executes before test!\nThread with id=16 executes before test!\nThread with id=17 executes before test!\n10 int test method end\n11 int test method begin\nThread with id=10 executes after test!\nThread with id=18 executes before test!\n11 int test method end\nThread with id=11 executes after test!\n12 int test method begin\n12 int test method end\nThread with id=12 executes after test!\n13 int test method begin\n13 int test method end\nThread with id=13 executes after test!\n14 int test method begin\n14 int test method end\nThread with id=14 executes after test!\n15 int test method begin\n15 int test method end\nThread with id=15 executes after test!\n16 int test method begin\n16 int test method end\nThread with id=16 executes after test!\n17 int test method begin\n17 int test method end\nThread with id=17 executes after test!\n18 int test method begin\n18 int test method end\nThread with id=18 executes after test!\n</code></pre>\n\n<p>Thus <code>Locks makes guarantees about the sequence in which threads waiting to entering it are granted a access</code> is truth. </p>\n"},{"tags":[],"owner":{"account_id":2909708,"reputation":197,"user_id":2494254,"accept_rate":0,"display_name":"Gaurav Seth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430036753,"creation_date":1430036753,"answer_id":29875372,"question_id":22756940,"body_markdown":"        \r\n    \r\n        package lock;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import java.util.concurrent.locks.Lock;\r\n        import java.util.concurrent.locks.ReentrantLock;\r\n        \r\n        /**\r\n         * This example shows that Lock maintains ordering\r\n         * in which threads entering the critical section are entered.\r\n         * as opposed to synchronized block\r\n         * \r\n         * @author Gaurav.Seth\r\n         *\r\n         */\r\n        public class ReentrantLockExample {\r\n        \t\r\n        \tstatic Lock lock = new ReentrantLock();\r\n        \tstatic List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n        \t\r\n        \t// Test using Lock\r\n        \tpublic static void testLock(String threadName){\r\n        \t\tlock.lock();\r\n        \t\tSystem.out.println(&quot;Starting:&quot; + threadName);\r\n        \t\tl.add(&quot;a:&quot; + threadName);\r\n        \t\tl.add(&quot;b: &quot; + threadName);\r\n        \t\tSystem.out.println(l);\r\n        \t\tSystem.out.println(&quot;Ending:&quot; + threadName);\r\n        \t\tlock.unlock();\r\n        \t}\r\n        \t\r\n        \t// Test using synchronized block\r\n        \tpublic static void testSynchronized(String threadName){\r\n        \t\tsynchronized(l){\r\n        \t\t\tSystem.out.println(&quot;Starting:&quot; + threadName);\r\n        \t\t\tl.add(&quot;a:&quot; + threadName);\r\n        \t\t\tl.add(&quot;b: &quot; + threadName);\r\n        \t\t\tSystem.out.println(l);\r\n        \t\t\tSystem.out.println(&quot;Ending:&quot; + threadName);\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \tpublic static void main(String args[]){\r\n        \t\tfor(int i=0;i&lt;10;i++){\r\n        \t\t\tThread t = new Thread(new MyThread());\r\n        \t\t\tt.start();\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \tstatic class MyThread implements Runnable{\r\n        \r\n        \t\t@Override\r\n        \t\tpublic void run() {\r\n        \t\t\t//testLock(Thread.currentThread().getName());\r\n        \t\t\ttestSynchronized(Thread.currentThread().getName());\r\n        \t\t}\r\n        \t\t\r\n        \t}\r\n        }","title":"Does Locks make guarantees about the sequence in which threads waiting to entering it are granted access? example","body":"<pre><code>    package lock;\n\n    import java.util.ArrayList;\n    import java.util.List;\n    import java.util.concurrent.locks.Lock;\n    import java.util.concurrent.locks.ReentrantLock;\n\n    /**\n     * This example shows that Lock maintains ordering\n     * in which threads entering the critical section are entered.\n     * as opposed to synchronized block\n     * \n     * @author Gaurav.Seth\n     *\n     */\n    public class ReentrantLockExample {\n\n        static Lock lock = new ReentrantLock();\n        static List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n\n        // Test using Lock\n        public static void testLock(String threadName){\n            lock.lock();\n            System.out.println(\"Starting:\" + threadName);\n            l.add(\"a:\" + threadName);\n            l.add(\"b: \" + threadName);\n            System.out.println(l);\n            System.out.println(\"Ending:\" + threadName);\n            lock.unlock();\n        }\n\n        // Test using synchronized block\n        public static void testSynchronized(String threadName){\n            synchronized(l){\n                System.out.println(\"Starting:\" + threadName);\n                l.add(\"a:\" + threadName);\n                l.add(\"b: \" + threadName);\n                System.out.println(l);\n                System.out.println(\"Ending:\" + threadName);\n            }\n        }\n\n        public static void main(String args[]){\n            for(int i=0;i&lt;10;i++){\n                Thread t = new Thread(new MyThread());\n                t.start();\n            }\n        }\n\n        static class MyThread implements Runnable{\n\n            @Override\n            public void run() {\n                //testLock(Thread.currentThread().getName());\n                testSynchronized(Thread.currentThread().getName());\n            }\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8550747,"reputation":19,"user_id":6462683,"display_name":"Ishara Fernando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679503146,"creation_date":1679503146,"answer_id":75814979,"question_id":22756940,"body_markdown":"Java Lock (java.util.concurrent.locks.Lock) does guarantee the lock gaining order.\r\nI see two issues with the code in the question. That is why it is not demonstrating the expected results.\r\n\r\n 1. The &quot;same&quot; lock object should be used to lock the threads. In the code, it creates new Lock object for each Thread, use that object to take the lock.\r\n 2. The threads will not invoke the &quot;lock.lock()&quot; line in the same order they invoke the &quot;System.out.println(....&quot; executes before test!&quot;)&quot; line. Thread-1 may execute the &quot;println&quot; line and wait a while, And Thread-2 may execute both &quot;println&quot; line and the &quot;lock.lock()&quot; line. So even though you see, &quot;Thread-1...&quot;, &quot;Thread-2....&quot; in the console, The actual order those threads try to acquire the lock is, &quot;Thread-2&quot;, &quot;Thread-1&quot;.\r\n\r\nBelow is a code to demonstrate the Thread lock behavior\r\n\r\n    public class App {\r\n\r\n\tpublic static final int THREAD_COUNT = 20;\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tLock lock = new ReentrantLock();\r\n\r\n\t\tfor(int i=1; i&lt;=THREAD_COUNT; i++) {\r\n\t\t\tThread t = new MyThread(lock);\r\n\t\t\tt.setName(&quot;Thread-&quot; + i);\r\n\t\t\tt.start();\r\n\r\n\t\t\t/*\r\n\t\t\t * give some time to thread &quot;t&quot; to go and lock itself before sending the next thread.\r\n\t\t\t * So that threads will be lock in the order of - Thread-1, Thread-2, ...... Thread-19, Thread-20\r\n\t\t\t */\r\n\t\t\tThread.currentThread().sleep(100);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class MyThread extends Thread {\r\n\r\n\t\tprivate final Lock lock;\r\n\r\n\t\tpublic MyThread(Lock lock) {\r\n\t\t\tthis.lock = lock;\r\n\t\t}\r\n\r\n        @Override\r\n        public void run() {\r\n        \ttry {\r\n\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; try to pick the lock&quot;);\r\n\t\t\t\tlock.lock();\r\n\t\t\t\t/* *********************************************************************\r\n\t\t\t\t * Locked threads will be released based on the order they got locked\r\n\t\t\t\t ********************************************************************** */\r\n\t\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t&quot; + Thread.currentThread().getName() + &quot; got the lock&quot;);\r\n\r\n\t\t\t\t/* **************************************************************************\r\n\t\t\t\t * sleep/wait this thread enough time,\r\n\t\t\t\t * so that other threads can come and lock themselves at &quot;lock.lock()&quot; line\r\n\t\t\t\t ************************************************************************** */\r\n\t\t\t\tThread.sleep(2000);\r\n\r\n\t\t\t} catch(InterruptedException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t} finally {\r\n\t\t\t\tSystem.out.println(&quot;\\t\\t\\t\\t\\t\\t\\t&quot; + Thread.currentThread().getName() + &quot; released the lock&quot;);\r\n\t\t\t\tlock.unlock();\r\n\t\t\t}\r\n        }\r\n    }\r\n}\r\n\r\n - The *Thread.currentThread().sleep(100)* in the *main* method is used to give  the thread &quot;t&quot; enough time to execute both &quot;*println*&quot; line and the &quot;*lock.lock()*&quot; line. So that we see the correct thread locked order in the console\r\n- The *Thread.sleep(2000)* in *MyThread: run* method is used to give enough time for all other threads to come and lock themselves at the &quot;*lock.lock()*&quot; line. (*Even though this delay applies to all the threads, this is necessary for only the first thread*)\r\n\r\nBelow is the console output of this code (I ran the code and checked the output several times. The results are similar)\r\n\r\n    Thread-1 try to pick the lock\r\n    \t\t\t\tThread-1 got the lock\r\n    Thread-2 try to pick the lock\r\n    Thread-3 try to pick the lock\r\n    Thread-4 try to pick the lock\r\n    Thread-5 try to pick the lock\r\n    Thread-6 try to pick the lock\r\n    Thread-7 try to pick the lock\r\n    Thread-8 try to pick the lock\r\n    Thread-9 try to pick the lock\r\n    Thread-10 try to pick the lock\r\n    Thread-11 try to pick the lock\r\n    Thread-12 try to pick the lock\r\n    Thread-13 try to pick the lock\r\n    Thread-14 try to pick the lock\r\n    Thread-15 try to pick the lock\r\n    Thread-16 try to pick the lock\r\n    Thread-17 try to pick the lock\r\n    Thread-18 try to pick the lock\r\n    Thread-19 try to pick the lock\r\n    \t\t\t\t\t\t\tThread-1 released the lock\r\n    \t\t\t\tThread-2 got the lock\r\n    Thread-20 try to pick the lock\r\n    \t\t\t\t\t\t\tThread-2 released the lock\r\n    \t\t\t\tThread-3 got the lock\r\n    \t\t\t\t\t\t\tThread-3 released the lock\r\n    \t\t\t\tThread-4 got the lock\r\n    \t\t\t\t\t\t\tThread-4 released the lock\r\n    \t\t\t\tThread-5 got the lock\r\n    \t\t\t\t\t\t\tThread-5 released the lock\r\n    \t\t\t\tThread-6 got the lock\r\n    \t\t\t\t\t\t\tThread-6 released the lock\r\n    \t\t\t\tThread-7 got the lock\r\n    \t\t\t\t\t\t\tThread-7 released the lock\r\n    \t\t\t\tThread-8 got the lock\r\n    \t\t\t\t\t\t\tThread-8 released the lock\r\n    \t\t\t\tThread-9 got the lock\r\n    \t\t\t\t\t\t\tThread-9 released the lock\r\n    \t\t\t\tThread-10 got the lock\r\n    \t\t\t\t\t\t\tThread-10 released the lock\r\n    \t\t\t\tThread-11 got the lock\r\n    \t\t\t\t\t\t\tThread-11 released the lock\r\n    \t\t\t\tThread-12 got the lock\r\n    \t\t\t\t\t\t\tThread-12 released the lock\r\n    \t\t\t\tThread-13 got the lock\r\n    \t\t\t\t\t\t\tThread-13 released the lock\r\n    \t\t\t\tThread-14 got the lock\r\n    \t\t\t\t\t\t\tThread-14 released the lock\r\n    \t\t\t\tThread-15 got the lock\r\n    \t\t\t\t\t\t\tThread-15 released the lock\r\n    \t\t\t\tThread-16 got the lock\r\n    \t\t\t\t\t\t\tThread-16 released the lock\r\n    \t\t\t\tThread-17 got the lock\r\n    \t\t\t\t\t\t\tThread-17 released the lock\r\n    \t\t\t\tThread-18 got the lock\r\n    \t\t\t\t\t\t\tThread-18 released the lock\r\n    \t\t\t\tThread-19 got the lock\r\n    \t\t\t\t\t\t\tThread-19 released the lock\r\n    \t\t\t\tThread-20 got the lock\r\n    \t\t\t\t\t\t\tThread-20 released the lock\r\n\r\n\r\nNote: I found this question while looking for some thread related details. Even though this is an old question, Thought to leave this answer for future developers.\r\n","title":"Does Locks make guarantees about the sequence in which threads waiting to entering it are granted access? example","body":"<p>Java Lock (java.util.concurrent.locks.Lock) does guarantee the lock gaining order.\nI see two issues with the code in the question. That is why it is not demonstrating the expected results.</p>\n<ol>\n<li>The &quot;same&quot; lock object should be used to lock the threads. In the code, it creates new Lock object for each Thread, use that object to take the lock.</li>\n<li>The threads will not invoke the &quot;lock.lock()&quot; line in the same order they invoke the &quot;System.out.println(....&quot; executes before test!&quot;)&quot; line. Thread-1 may execute the &quot;println&quot; line and wait a while, And Thread-2 may execute both &quot;println&quot; line and the &quot;lock.lock()&quot; line. So even though you see, &quot;Thread-1...&quot;, &quot;Thread-2....&quot; in the console, The actual order those threads try to acquire the lock is, &quot;Thread-2&quot;, &quot;Thread-1&quot;.</li>\n</ol>\n<p>Below is a code to demonstrate the Thread lock behavior</p>\n<pre><code>public class App {\n\npublic static final int THREAD_COUNT = 20;\n\npublic static void main(String[] args) throws InterruptedException {\n\n    Lock lock = new ReentrantLock();\n\n    for(int i=1; i&lt;=THREAD_COUNT; i++) {\n        Thread t = new MyThread(lock);\n        t.setName(&quot;Thread-&quot; + i);\n        t.start();\n\n        /*\n         * give some time to thread &quot;t&quot; to go and lock itself before sending the next thread.\n         * So that threads will be lock in the order of - Thread-1, Thread-2, ...... Thread-19, Thread-20\n         */\n        Thread.currentThread().sleep(100);\n    }\n}\n\nstatic class MyThread extends Thread {\n\n    private final Lock lock;\n\n    public MyThread(Lock lock) {\n        this.lock = lock;\n    }\n\n    @Override\n    public void run() {\n        try {\n            System.out.println(Thread.currentThread().getName() + &quot; try to pick the lock&quot;);\n            lock.lock();\n            /* *********************************************************************\n             * Locked threads will be released based on the order they got locked\n             ********************************************************************** */\n            System.out.println(&quot;\\t\\t\\t\\t&quot; + Thread.currentThread().getName() + &quot; got the lock&quot;);\n\n            /* **************************************************************************\n             * sleep/wait this thread enough time,\n             * so that other threads can come and lock themselves at &quot;lock.lock()&quot; line\n             ************************************************************************** */\n            Thread.sleep(2000);\n\n        } catch(InterruptedException ex) {\n            ex.printStackTrace();\n            Thread.currentThread().interrupt();\n        } finally {\n            System.out.println(&quot;\\t\\t\\t\\t\\t\\t\\t&quot; + Thread.currentThread().getName() + &quot; released the lock&quot;);\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<ul>\n<li>The <em>Thread.currentThread().sleep(100)</em> in the <em>main</em> method is used to give  the thread &quot;t&quot; enough time to execute both &quot;<em>println</em>&quot; line and the &quot;<em>lock.lock()</em>&quot; line. So that we see the correct thread locked order in the console</li>\n<li>The <em>Thread.sleep(2000)</em> in <em>MyThread: run</em> method is used to give enough time for all other threads to come and lock themselves at the &quot;<em>lock.lock()</em>&quot; line. (<em>Even though this delay applies to all the threads, this is necessary for only the first thread</em>)</li>\n</ul>\n<p>Below is the console output of this code (I ran the code and checked the output several times. The results are similar)</p>\n<pre><code>Thread-1 try to pick the lock\n                Thread-1 got the lock\nThread-2 try to pick the lock\nThread-3 try to pick the lock\nThread-4 try to pick the lock\nThread-5 try to pick the lock\nThread-6 try to pick the lock\nThread-7 try to pick the lock\nThread-8 try to pick the lock\nThread-9 try to pick the lock\nThread-10 try to pick the lock\nThread-11 try to pick the lock\nThread-12 try to pick the lock\nThread-13 try to pick the lock\nThread-14 try to pick the lock\nThread-15 try to pick the lock\nThread-16 try to pick the lock\nThread-17 try to pick the lock\nThread-18 try to pick the lock\nThread-19 try to pick the lock\n                            Thread-1 released the lock\n                Thread-2 got the lock\nThread-20 try to pick the lock\n                            Thread-2 released the lock\n                Thread-3 got the lock\n                            Thread-3 released the lock\n                Thread-4 got the lock\n                            Thread-4 released the lock\n                Thread-5 got the lock\n                            Thread-5 released the lock\n                Thread-6 got the lock\n                            Thread-6 released the lock\n                Thread-7 got the lock\n                            Thread-7 released the lock\n                Thread-8 got the lock\n                            Thread-8 released the lock\n                Thread-9 got the lock\n                            Thread-9 released the lock\n                Thread-10 got the lock\n                            Thread-10 released the lock\n                Thread-11 got the lock\n                            Thread-11 released the lock\n                Thread-12 got the lock\n                            Thread-12 released the lock\n                Thread-13 got the lock\n                            Thread-13 released the lock\n                Thread-14 got the lock\n                            Thread-14 released the lock\n                Thread-15 got the lock\n                            Thread-15 released the lock\n                Thread-16 got the lock\n                            Thread-16 released the lock\n                Thread-17 got the lock\n                            Thread-17 released the lock\n                Thread-18 got the lock\n                            Thread-18 released the lock\n                Thread-19 got the lock\n                            Thread-19 released the lock\n                Thread-20 got the lock\n                            Thread-20 released the lock\n</code></pre>\n<p>Note: I found this question while looking for some thread related details. Even though this is an old question, Thought to leave this answer for future developers.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1679503146,"creation_date":1396254778,"question_id":22756940,"body_markdown":"I learn java Lock. \r\n\r\nI have read differences between Lock and Synchronized. And I have misunderstandings with one point of this list.\r\n\r\n&gt; A synchronized block makes no guarantees about the sequence in which threads waiting to entering it are granted access.\r\n\r\nCan you show example exposed this quote?  \r\n\r\nLocks  makes guarantees about the sequence in which threads waiting to entering it are granted access?\r\n\r\n\r\nTest for synchronized:\r\n-\r\n\r\n    package concurrency;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class LockVsSync {\r\n    \tpublic static int THREAD_NUMBER = 10;\r\n    \tpublic static void main(String [] args) throws InterruptedException{\r\n    \t\tList&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\r\n    \t\tfor(int i=0;i&lt;THREAD_NUMBER;i++){\r\n    \t\t\tthreads.add(new MyThread());\r\n    \t\t}\r\n    \t\tfor(Thread thread:threads){\r\n    \t\t\tthread.start();\r\n    \t\t\tThread.sleep(50);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static synchronized void test() throws InterruptedException {\r\n    \t\tSystem.out.println(Thread.currentThread().getId()+&quot; int test method begin&quot;);\r\n    \t\tThread.sleep(200);\r\n    \t\tSystem.out.println(Thread.currentThread().getId()+&quot; int test method end&quot;);\r\n    \t}\r\n    \t\r\n    \tstatic class MyThread extends Thread{\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;Thread with id=&quot;+Thread.currentThread().getId()+&quot; executes before test!&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\ttest();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Thread with id=&quot;+Thread.currentThread().getId()+&quot; executes after test!&quot;);\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\noutput:\r\n\r\n\r\n    Thread with id=9 executes before test!\r\n    9 int test method begin\r\n    Thread with id=10 executes before test!\r\n    Thread with id=11 executes before test!\r\n    Thread with id=12 executes before test!\r\n    Thread with id=13 executes before test!\r\n    9 int test method end\r\n    Thread with id=9 executes after test!\r\n    13 int test method begin\r\n    Thread with id=14 executes before test!\r\n    Thread with id=15 executes before test!\r\n    Thread with id=16 executes before test!\r\n    Thread with id=17 executes before test!\r\n    13 int test method end\r\n    Thread with id=13 executes after test!\r\n    12 int test method begin\r\n    Thread with id=18 executes before test!\r\n    12 int test method end\r\n    Thread with id=12 executes after test!\r\n    11 int test method begin\r\n    11 int test method end\r\n    Thread with id=11 executes after test!\r\n    10 int test method begin\r\n    10 int test method end\r\n    Thread with id=10 executes after test!\r\n    18 int test method begin\r\n    18 int test method end\r\n    Thread with id=18 executes after test!\r\n    17 int test method begin\r\n    17 int test method end\r\n    Thread with id=17 executes after test!\r\n    16 int test method begin\r\n    16 int test method end\r\n    Thread with id=16 executes after test!\r\n    15 int test method begin\r\n    15 int test method end\r\n    Thread with id=15 executes after test!\r\n    14 int test method begin\r\n    14 int test method end\r\n    Thread with id=14 executes after test!\r\n\r\n\r\n\r\nThus\r\n\r\n\r\n\r\n    9 int test method begin\r\n    13 int test method begin\r\n    12 int test method begin\r\n    11 int test method begin\r\n    10 int test method begin\r\n    18 int test method begin\r\n    17 int test method begin\r\n    16 int test method begin\r\n    15 int test method begin\r\n    14 int test method begin\r\n\r\n\r\nthe order is not specified.\r\n\r\n    \r\nTest for Lock\r\n-\r\n\r\n\r\n    public class LockVsSync {\r\n    \tpublic static int THREAD_NUMBER = 10;\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tList&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\r\n    \t\tfor (int i = 0; i &lt; THREAD_NUMBER; i++) {\r\n    \t\t\tthreads.add(new MyThread());\r\n    \t\t}\r\n    \t\tfor (Thread thread : threads) {\r\n    \t\t\tthread.start();\r\n    \t\t\tThread.sleep(50);\r\n    \t\t}\r\n    \t}\t\r\n    \r\n    \tpublic static synchronized void test(Lock lock) throws InterruptedException {\r\n    \t\tlock.lock();\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(Thread.currentThread().getId()+ &quot; int test method begin&quot;);\r\n    \t\t\tThread.sleep(200);\r\n    \t\t\tSystem.out.println(Thread.currentThread().getId()+ &quot; int test method end&quot;);\r\n    \t\t} finally {\r\n    \t\t\tlock.unlock();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class MyThread extends Thread {\r\n    \t\tstatic Lock lock = new ReentrantLock(true);\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;Thread with id=&quot; + Thread.currentThread().getId()+ &quot; executes before test!&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\ttest(lock);\r\n    \t\t\t} catch (InterruptedException e) {\t}\r\n    \t\t\tSystem.out.println(&quot;Thread with id=&quot;+ Thread.currentThread().getId() + &quot; executes after test!&quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\noutput:\r\n\r\n     Thread with id=9 executes before test!\r\n    9 int test method begin\r\n    Thread with id=10 executes before test!\r\n    Thread with id=11 executes before test!\r\n    Thread with id=12 executes before test!\r\n    Thread with id=13 executes before test!\r\n    9 int test method end\r\n    13 int test method begin\r\n    Thread with id=9 executes after test!\r\n    Thread with id=14 executes before test!\r\n    Thread with id=15 executes before test!\r\n    Thread with id=16 executes before test!\r\n    Thread with id=17 executes before test!\r\n    13 int test method end\r\n    Thread with id=13 executes after test!\r\n    12 int test method begin\r\n    Thread with id=18 executes before test!\r\n    12 int test method end\r\n    Thread with id=12 executes after test!\r\n    11 int test method begin\r\n    11 int test method end\r\n    Thread with id=11 executes after test!\r\n    10 int test method begin\r\n    10 int test method end\r\n    Thread with id=10 executes after test!\r\n    18 int test method begin\r\n    18 int test method end\r\n    Thread with id=18 executes after test!\r\n    17 int test method begin\r\n    17 int test method end\r\n    Thread with id=17 executes after test!\r\n    16 int test method begin\r\n    16 int test method end\r\n    Thread with id=16 executes after test!\r\n    15 int test method begin\r\n    15 int test method end\r\n    Thread with id=15 executes after test!\r\n    14 int test method begin\r\n    14 int test method end\r\n    Thread with id=14 executes after test!\r\n\r\n\r\nthus:\r\n\r\n\r\n    \r\n    9 int test method begin\r\n    13 int test method begin\r\n    12 int test method begin\r\n    10 int test method begin\r\n    18 int test method begin\r\n    17 int test method begin\r\n    16 int test method begin\r\n    15 int test method begin\r\n    14 int test method begin\r\n\r\n\r\n\r\n\r\nnot specified order too.\r\n\r\n\r\nWhat do I wrong? \r\n\r\n\r\n\r\n","title":"Does Locks make guarantees about the sequence in which threads waiting to entering it are granted access? example","body":"<p>I learn java Lock. </p>\n\n<p>I have read differences between Lock and Synchronized. And I have misunderstandings with one point of this list.</p>\n\n<blockquote>\n  <p>A synchronized block makes no guarantees about the sequence in which threads waiting to entering it are granted access.</p>\n</blockquote>\n\n<p>Can you show example exposed this quote?  </p>\n\n<p>Locks  makes guarantees about the sequence in which threads waiting to entering it are granted access?</p>\n\n<h2>Test for synchronized:</h2>\n\n<pre><code>package concurrency;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class LockVsSync {\n    public static int THREAD_NUMBER = 10;\n    public static void main(String [] args) throws InterruptedException{\n        List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\n        for(int i=0;i&lt;THREAD_NUMBER;i++){\n            threads.add(new MyThread());\n        }\n        for(Thread thread:threads){\n            thread.start();\n            Thread.sleep(50);\n        }\n    }\n    public static synchronized void test() throws InterruptedException {\n        System.out.println(Thread.currentThread().getId()+\" int test method begin\");\n        Thread.sleep(200);\n        System.out.println(Thread.currentThread().getId()+\" int test method end\");\n    }\n\n    static class MyThread extends Thread{\n        @Override\n        public void run() {\n            System.out.println(\"Thread with id=\"+Thread.currentThread().getId()+\" executes before test!\");\n            try {\n                test();\n            } catch (InterruptedException e) {\n\n            }\n            System.out.println(\"Thread with id=\"+Thread.currentThread().getId()+\" executes after test!\");\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Thread with id=9 executes before test!\n9 int test method begin\nThread with id=10 executes before test!\nThread with id=11 executes before test!\nThread with id=12 executes before test!\nThread with id=13 executes before test!\n9 int test method end\nThread with id=9 executes after test!\n13 int test method begin\nThread with id=14 executes before test!\nThread with id=15 executes before test!\nThread with id=16 executes before test!\nThread with id=17 executes before test!\n13 int test method end\nThread with id=13 executes after test!\n12 int test method begin\nThread with id=18 executes before test!\n12 int test method end\nThread with id=12 executes after test!\n11 int test method begin\n11 int test method end\nThread with id=11 executes after test!\n10 int test method begin\n10 int test method end\nThread with id=10 executes after test!\n18 int test method begin\n18 int test method end\nThread with id=18 executes after test!\n17 int test method begin\n17 int test method end\nThread with id=17 executes after test!\n16 int test method begin\n16 int test method end\nThread with id=16 executes after test!\n15 int test method begin\n15 int test method end\nThread with id=15 executes after test!\n14 int test method begin\n14 int test method end\nThread with id=14 executes after test!\n</code></pre>\n\n<p>Thus</p>\n\n<pre><code>9 int test method begin\n13 int test method begin\n12 int test method begin\n11 int test method begin\n10 int test method begin\n18 int test method begin\n17 int test method begin\n16 int test method begin\n15 int test method begin\n14 int test method begin\n</code></pre>\n\n<p>the order is not specified.</p>\n\n<h2>Test for Lock</h2>\n\n<pre><code>public class LockVsSync {\n    public static int THREAD_NUMBER = 10;\n\n    public static void main(String[] args) throws InterruptedException {\n        List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\n        for (int i = 0; i &lt; THREAD_NUMBER; i++) {\n            threads.add(new MyThread());\n        }\n        for (Thread thread : threads) {\n            thread.start();\n            Thread.sleep(50);\n        }\n    }   \n\n    public static synchronized void test(Lock lock) throws InterruptedException {\n        lock.lock();\n        try {\n            System.out.println(Thread.currentThread().getId()+ \" int test method begin\");\n            Thread.sleep(200);\n            System.out.println(Thread.currentThread().getId()+ \" int test method end\");\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    static class MyThread extends Thread {\n        static Lock lock = new ReentrantLock(true);\n\n        @Override\n        public void run() {\n            System.out.println(\"Thread with id=\" + Thread.currentThread().getId()+ \" executes before test!\");\n            try {\n                test(lock);\n            } catch (InterruptedException e) {  }\n            System.out.println(\"Thread with id=\"+ Thread.currentThread().getId() + \" executes after test!\");\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code> Thread with id=9 executes before test!\n9 int test method begin\nThread with id=10 executes before test!\nThread with id=11 executes before test!\nThread with id=12 executes before test!\nThread with id=13 executes before test!\n9 int test method end\n13 int test method begin\nThread with id=9 executes after test!\nThread with id=14 executes before test!\nThread with id=15 executes before test!\nThread with id=16 executes before test!\nThread with id=17 executes before test!\n13 int test method end\nThread with id=13 executes after test!\n12 int test method begin\nThread with id=18 executes before test!\n12 int test method end\nThread with id=12 executes after test!\n11 int test method begin\n11 int test method end\nThread with id=11 executes after test!\n10 int test method begin\n10 int test method end\nThread with id=10 executes after test!\n18 int test method begin\n18 int test method end\nThread with id=18 executes after test!\n17 int test method begin\n17 int test method end\nThread with id=17 executes after test!\n16 int test method begin\n16 int test method end\nThread with id=16 executes after test!\n15 int test method begin\n15 int test method end\nThread with id=15 executes after test!\n14 int test method begin\n14 int test method end\nThread with id=14 executes after test!\n</code></pre>\n\n<p>thus:</p>\n\n<pre><code>9 int test method begin\n13 int test method begin\n12 int test method begin\n10 int test method begin\n18 int test method begin\n17 int test method begin\n16 int test method begin\n15 int test method begin\n14 int test method begin\n</code></pre>\n\n<p>not specified order too.</p>\n\n<p>What do I wrong? </p>\n"},{"tags":["java","kotlin","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1580017214,"creation_date":1580017214,"answer_id":59915865,"question_id":59915794,"body_markdown":"You can add the query parameters using lambda expression in [uri][1], for more information see [WebClient.UriSpec][2]\r\n\r\n\r\n     return WebClient.create(this.dataServiceUrl)\r\n                    .method(request.method ?: HttpMethod.GET)\r\n                    .uri(builder -&gt; builder.path(requestedPath).queryParam(&quot;q&quot;, &quot;12&quot;).build())\r\n                    .header(&quot;Accept&quot;, &quot;application/json, text/plain, */*&quot;)\r\n                    .body(BodyInserters.fromValue(request.body))\r\n                    .retrieve()\r\n                    .awaitBody()\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/5.0.0.M4_to_5.0.0.M5/Spring%20Framework%205.0.0.M5/org/springframework/web/reactive/function/client/WebClient.html#create-java.lang.String-\r\n  [2]: https://docs.spring.io/spring/docs/5.0.0.M4_to_5.0.0.M5/Spring%20Framework%205.0.0.M5/org/springframework/web/reactive/function/client/WebClient.UriSpec.html","title":"Add query parameter in WebClient request","body":"<p>You can add the query parameters using lambda expression in <a href=\"https://docs.spring.io/spring/docs/5.0.0.M4_to_5.0.0.M5/Spring%20Framework%205.0.0.M5/org/springframework/web/reactive/function/client/WebClient.html#create-java.lang.String-\" rel=\"noreferrer\">uri</a>, for more information see <a href=\"https://docs.spring.io/spring/docs/5.0.0.M4_to_5.0.0.M5/Spring%20Framework%205.0.0.M5/org/springframework/web/reactive/function/client/WebClient.UriSpec.html\" rel=\"noreferrer\">WebClient.UriSpec</a></p>\n\n<pre><code> return WebClient.create(this.dataServiceUrl)\n                .method(request.method ?: HttpMethod.GET)\n                .uri(builder -&gt; builder.path(requestedPath).queryParam(\"q\", \"12\").build())\n                .header(\"Accept\", \"application/json, text/plain, */*\")\n                .body(BodyInserters.fromValue(request.body))\n                .retrieve()\n                .awaitBody()\n</code></pre>\n"}],"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37036,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":59915865,"answer_count":1,"score":14,"last_activity_date":1679502354,"creation_date":1580016122,"question_id":59915794,"body_markdown":"I am using Spring WebFlux where I am taking request and using same request to call another service. But I am not sure how to add query parameters. This is my code\r\n```\r\n@RequestMapping(value= [&quot;/ptta-service/**&quot;])\r\nsuspend fun executeService(request: ServerHttpRequest): ServerHttpResponse {\r\n\r\n    val requestedPath = if (request.path.toString().length &gt; 13) &quot;&quot; else request.path.toString().substring(13)\r\n\r\n    return WebClient.create(this.dataServiceUrl)\r\n                    .method(request.method ?: HttpMethod.GET)\r\n                    .uri(requestedPath)\r\n                    .header(&quot;Accept&quot;, &quot;application/json, text/plain, */*&quot;)\r\n                    .body(BodyInserters.fromValue(request.body))\r\n                    .retrieve()\r\n                    .awaitBody()\r\n                    // But how about query parameters??? How to add those\r\n}\r\n```\r\nThough code is in Kotlin, Java will help as well.","title":"Add query parameter in WebClient request","body":"<p>I am using Spring WebFlux where I am taking request and using same request to call another service. But I am not sure how to add query parameters. This is my code</p>\n\n<pre><code>@RequestMapping(value= [\"/ptta-service/**\"])\nsuspend fun executeService(request: ServerHttpRequest): ServerHttpResponse {\n\n    val requestedPath = if (request.path.toString().length &gt; 13) \"\" else request.path.toString().substring(13)\n\n    return WebClient.create(this.dataServiceUrl)\n                    .method(request.method ?: HttpMethod.GET)\n                    .uri(requestedPath)\n                    .header(\"Accept\", \"application/json, text/plain, */*\")\n                    .body(BodyInserters.fromValue(request.body))\n                    .retrieve()\n                    .awaitBody()\n                    // But how about query parameters??? How to add those\n}\n</code></pre>\n\n<p>Though code is in Kotlin, Java will help as well.</p>\n"},{"tags":["java","xml","android-studio"],"comments":[{"owner":{"account_id":18364441,"reputation":275,"user_id":13375840,"display_name":"zyngot"},"score":1,"creation_date":1679347070,"post_id":75794265,"comment_id":133702736,"body_markdown":"can you please show your `styles.xml` or `themes.xml`","body":"can you please show your <code>styles.xml</code> or <code>themes.xml</code>"},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1679366891,"post_id":75794265,"comment_id":133705356,"body_markdown":"Thanks for your feedback @zyngot - just added in `themes.xml`","body":"Thanks for your feedback @zyngot - just added in <code>themes.xml</code>"}],"answers":[{"tags":[],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679502265,"creation_date":1679502265,"answer_id":75814837,"question_id":75794265,"body_markdown":"There are two problems - first is that the button width is too wide for the phone, if you turn the phone to landscape the buttons will appear.  Second issue is that newer versions of Android Studio do not allow you to change button background colors as the button bg color defaults to `&lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;` (from `themes.xml` page)\r\n\r\n**Fixes:**\r\n\r\n 1. Button Width: simply change the `android:layout_width=&quot;wrap_content&quot;` for each button - to something like this `android:layout_width=&quot;50dp&quot;` and now all buttons are displayed on the phone screen\r\n 2. Button bg color: the problem is the `themes.xml` page, specifically the `parent` attribute from the `&lt;stlye...&gt;` tag - changed this:\r\n```\r\n&lt;style name=&quot;Theme.CalculatorEx&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n```\r\nto this:\r\n```\r\n&lt;style name=&quot;Theme.CalculatorEx&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n```\r\nafter those changes, changing bg colors within the xml code (e.g. - `activity_main.xml`) works perfectly!","title":"Android Studio GridLayout is hidden","body":"<p>There are two problems - first is that the button width is too wide for the phone, if you turn the phone to landscape the buttons will appear.  Second issue is that newer versions of Android Studio do not allow you to change button background colors as the button bg color defaults to <code>&lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;</code> (from <code>themes.xml</code> page)</p>\n<p><strong>Fixes:</strong></p>\n<ol>\n<li>Button Width: simply change the <code>android:layout_width=&quot;wrap_content&quot;</code> for each button - to something like this <code>android:layout_width=&quot;50dp&quot;</code> and now all buttons are displayed on the phone screen</li>\n<li>Button bg color: the problem is the <code>themes.xml</code> page, specifically the <code>parent</code> attribute from the <code>&lt;stlye...&gt;</code> tag - changed this:</li>\n</ol>\n<pre><code>&lt;style name=&quot;Theme.CalculatorEx&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n</code></pre>\n<p>to this:</p>\n<pre><code>&lt;style name=&quot;Theme.CalculatorEx&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n</code></pre>\n<p>after those changes, changing bg colors within the xml code (e.g. - <code>activity_main.xml</code>) works perfectly!</p>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75814837,"answer_count":1,"score":0,"last_activity_date":1679502265,"creation_date":1679338721,"question_id":75794265,"body_markdown":"I have only completed the xml portion of this project, so there is no added code to the .java page.  I am using a LinearLayout as base and then adding a GridLayout with buttons.  I can see the buttons contained in the GridLayout in Design view however the background color is not displaying `android:background=&quot;@color/white&quot;` - so each numerical number button is:\r\n```\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;7&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n```\r\nin colors.xml defined:\r\n```\r\n    &lt;color name=&quot;black&quot;&gt;#2E2C2C&lt;/color&gt;\r\n    &lt;color name=&quot;white&quot;&gt;#FFFFFF&lt;/color&gt;\r\n```\r\nthe textColor is displaying in Design view but not the background:\r\n\r\n[![Here is the image in Design view (Android Studio)][1]][1]\r\n\r\n\r\nFrom the Design view the background color is not displaying - when opening up in my phone nothing displays, buttons are hidden:\r\n\r\n[![View from Samsung phone as run from app][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iYiVX.png\r\n  [2]: https://i.stack.imgur.com/JXaCy.png\r\n\r\nbelow is the xml code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewHistory&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;90dp&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:gravity=&quot;center|end&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewResult&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;110dp&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:gravity=&quot;center|end&quot;\r\n            android:text=&quot;0&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;60sp&quot;\r\n            tools:ignore=&quot;TextSizeCheck&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;GridLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:columnCount=&quot;4&quot;\r\n        android:rowCount=&quot;5&quot; &gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnAC&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;0&quot;\r\n            android:layout_column=&quot;0&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;AC&quot;\r\n            android:textColor=&quot;@color/orange&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnDel&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;0&quot;\r\n            android:layout_column=&quot;1&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;DEL&quot;\r\n            android:textColor=&quot;@color/orange&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnDivide&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;0&quot;\r\n            android:layout_column=&quot;2&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;/&quot;\r\n            android:textColor=&quot;@color/orange&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnMulti&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;0&quot;\r\n            android:layout_column=&quot;3&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;*&quot;\r\n            android:textColor=&quot;@color/orange&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn7&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;1&quot;\r\n            android:layout_column=&quot;0&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;7&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn8&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;1&quot;\r\n            android:layout_column=&quot;1&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;8&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn9&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;1&quot;\r\n            android:layout_column=&quot;2&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;9&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnMinus&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;1&quot;\r\n            android:layout_column=&quot;3&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;-&quot;\r\n            android:textColor=&quot;@color/orange&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;2&quot;\r\n            android:layout_column=&quot;0&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;4&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;2&quot;\r\n            android:layout_column=&quot;1&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;5&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn6&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;2&quot;\r\n            android:layout_column=&quot;2&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;6&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnPlus&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;2&quot;\r\n            android:layout_column=&quot;3&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;+&quot;\r\n            android:textColor=&quot;@color/orange&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;3&quot;\r\n            android:layout_column=&quot;0&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;1&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;3&quot;\r\n            android:layout_column=&quot;1&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;2&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;3&quot;\r\n            android:layout_column=&quot;2&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;3&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnEquals&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;3&quot;\r\n            android:layout_rowSpan=&quot;2&quot;\r\n            android:layout_rowWeight=&quot;1&quot;\r\n            android:layout_column=&quot;3&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/orange&quot;\r\n            android:backgroundTint=&quot;@color/orange&quot;\r\n            android:text=&quot;=&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnDot&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;4&quot;\r\n            android:layout_column=&quot;0&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;.&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn0&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_row=&quot;4&quot;\r\n            android:layout_column=&quot;1&quot;\r\n            android:layout_columnSpan=&quot;2&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:text=&quot;0&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n    &lt;/GridLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\nHere is `themes.xml`:\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.CalculatorEx&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\nI don&#39;t think I need to add the .java code as I&#39;ve not touched it - only starting with the xml and then will build the .java - I just want to start from a solid base before proceeding.\r\n\r\nthanks in advance!","title":"Android Studio GridLayout is hidden","body":"<p>I have only completed the xml portion of this project, so there is no added code to the .java page.  I am using a LinearLayout as base and then adding a GridLayout with buttons.  I can see the buttons contained in the GridLayout in Design view however the background color is not displaying <code>android:background=&quot;@color/white&quot;</code> - so each numerical number button is:</p>\n<pre><code>            android:background=&quot;@color/white&quot;\n            android:text=&quot;7&quot;\n            android:textColor=&quot;@color/black&quot;\n</code></pre>\n<p>in colors.xml defined:</p>\n<pre><code>    &lt;color name=&quot;black&quot;&gt;#2E2C2C&lt;/color&gt;\n    &lt;color name=&quot;white&quot;&gt;#FFFFFF&lt;/color&gt;\n</code></pre>\n<p>the textColor is displaying in Design view but not the background:</p>\n<p><a href=\"https://i.stack.imgur.com/iYiVX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iYiVX.png\" alt=\"Here is the image in Design view (Android Studio)\" /></a></p>\n<p>From the Design view the background color is not displaying - when opening up in my phone nothing displays, buttons are hidden:</p>\n<p><a href=\"https://i.stack.imgur.com/JXaCy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXaCy.png\" alt=\"View from Samsung phone as run from app\" /></a></p>\n<p>below is the xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textViewHistory&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;90dp&quot;\n            android:background=&quot;@color/white&quot;\n            android:gravity=&quot;center|end&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textViewResult&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;110dp&quot;\n            android:background=&quot;@color/white&quot;\n            android:gravity=&quot;center|end&quot;\n            android:text=&quot;0&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;60sp&quot;\n            tools:ignore=&quot;TextSizeCheck&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;GridLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:columnCount=&quot;4&quot;\n        android:rowCount=&quot;5&quot; &gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnAC&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;0&quot;\n            android:layout_column=&quot;0&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;AC&quot;\n            android:textColor=&quot;@color/orange&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnDel&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;0&quot;\n            android:layout_column=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;DEL&quot;\n            android:textColor=&quot;@color/orange&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnDivide&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;0&quot;\n            android:layout_column=&quot;2&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;/&quot;\n            android:textColor=&quot;@color/orange&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnMulti&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;0&quot;\n            android:layout_column=&quot;3&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;*&quot;\n            android:textColor=&quot;@color/orange&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn7&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;1&quot;\n            android:layout_column=&quot;0&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;7&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn8&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;1&quot;\n            android:layout_column=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;8&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn9&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;1&quot;\n            android:layout_column=&quot;2&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;9&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnMinus&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;1&quot;\n            android:layout_column=&quot;3&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;-&quot;\n            android:textColor=&quot;@color/orange&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;2&quot;\n            android:layout_column=&quot;0&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;4&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;2&quot;\n            android:layout_column=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;5&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn6&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;2&quot;\n            android:layout_column=&quot;2&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;6&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnPlus&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;2&quot;\n            android:layout_column=&quot;3&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;+&quot;\n            android:textColor=&quot;@color/orange&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;3&quot;\n            android:layout_column=&quot;0&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;1&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;3&quot;\n            android:layout_column=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;2&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;3&quot;\n            android:layout_column=&quot;2&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;3&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnEquals&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;3&quot;\n            android:layout_rowSpan=&quot;2&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_column=&quot;3&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/orange&quot;\n            android:backgroundTint=&quot;@color/orange&quot;\n            android:text=&quot;=&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnDot&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;4&quot;\n            android:layout_column=&quot;0&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;.&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn0&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_row=&quot;4&quot;\n            android:layout_column=&quot;1&quot;\n            android:layout_columnSpan=&quot;2&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:background=&quot;@color/white&quot;\n            android:text=&quot;0&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n    &lt;/GridLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Here is <code>themes.xml</code>:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.CalculatorEx&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>I don't think I need to add the .java code as I've not touched it - only starting with the xml and then will build the .java - I just want to start from a solid base before proceeding.</p>\n<p>thanks in advance!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9438,"page":554,"page_size":100}
